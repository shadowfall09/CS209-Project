{"items":[{"tags":["java","java-http-client"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654166075,"post_id":72474651,"comment_id":128028660,"body_markdown":"What happens if you remove `builder.setHeader(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;);`? Because that sounds like an option that should be decided by the http client itself, not by you. Same goes probably for `builder.setHeader(&quot;Accept-Encoding&quot;,   &quot;gzip,deflate&quot;);`.","body":"What happens if you remove <code>builder.setHeader(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;);</code>? Because that sounds like an option that should be decided by the http client itself, not by you. Same goes probably for <code>builder.setHeader(&quot;Accept-Encoding&quot;,   &quot;gzip,deflate&quot;);</code>."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1654166993,"post_id":72474651,"comment_id":128028940,"body_markdown":"Thanks for the suggestion.  Unfortunately it made no difference.","body":"Thanks for the suggestion.  Unfortunately it made no difference."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1654175412,"post_id":72474651,"comment_id":128032089,"body_markdown":"**Your server is not an HTTP server.** It tries to `readAllBytes` on the socket, which reads until the peer (client) disconnects, but nonancient HTTP (1.0&#39; up) doesn&#39;t disconnect and doesn&#39;t delimit requests or responses using disconnection. See RFC7230 et seq, or 2616, or wikipedia. Either use something that actually is an HTTP server like com.sun.net.httpserver, Glassfish, Tomcat, Jetty, Netty; or _correctly_ implement HTTP, which is a good deal of work, which is exactly why products like the above exist.","body":"<b>Your server is not an HTTP server.</b> It tries to <code>readAllBytes</code> on the socket, which reads until the peer (client) disconnects, but nonancient HTTP (1.0&#39; up) doesn&#39;t disconnect and doesn&#39;t delimit requests or responses using disconnection. See RFC7230 et seq, or 2616, or wikipedia. Either use something that actually is an HTTP server like com.sun.net.httpserver, Glassfish, Tomcat, Jetty, Netty; or <i>correctly</i> implement HTTP, which is a good deal of work, which is exactly why products like the above exist."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1654185168,"post_id":72474651,"comment_id":128036050,"body_markdown":"@dave_thompson_085\nThanks.\nreadAllBytes was the vital clue!\nI&#39;ve changed it to just do reads &amp; the data are getting through.\nI&#39;m writing a minimalistic CUPS Client to replace CUPS4J &amp; the Server was just to see whats going over the line.\nI can now see my Client is sending the right content, albeit split over 2 packets\n&amp; with a Content-Length header, which the apache Client in CUPS4J did not have.\nIt&#39;s still not working, but I think you&#39;ve helped me get a lot closer.\nI&#39;m now getting an rc=200, so I think I just have to get it to send it all as 1 packet or omit Content-Length or both.","body":"@dave_thompson_085 Thanks. readAllBytes was the vital clue! I&#39;ve changed it to just do reads &amp; the data are getting through. I&#39;m writing a minimalistic CUPS Client to replace CUPS4J &amp; the Server was just to see whats going over the line. I can now see my Client is sending the right content, albeit split over 2 packets &amp; with a Content-Length header, which the apache Client in CUPS4J did not have. It&#39;s still not working, but I think you&#39;ve helped me get a lot closer. I&#39;m now getting an rc=200, so I think I just have to get it to send it all as 1 packet or omit Content-Length or both."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1654232484,"post_id":72474651,"comment_id":128046464,"body_markdown":"...Further to that previous comment: having fixed the readAllBytes issue, I was able to get my content correct &amp; send it to the real CUPS Server, which yielded rc=200 (&quot;ok&quot;) but no data in the Log in the Eclipse Console. But actually 88,000 bytes were being returned!! It turned out, the logging of the 88,000 bytes returned was just not being displayed in the Console for some reason (an issue with Eclipse, or maybe SLF4J?). Anyway, having split the output into bite-sized chunks of 4096, the logging displayed the contents just fine.","body":"...Further to that previous comment: having fixed the readAllBytes issue, I was able to get my content correct &amp; send it to the real CUPS Server, which yielded rc=200 (&quot;ok&quot;) but no data in the Log in the Eclipse Console. But actually 88,000 bytes were being returned!! It turned out, the logging of the 88,000 bytes returned was just not being displayed in the Console for some reason (an issue with Eclipse, or maybe SLF4J?). Anyway, having split the output into bite-sized chunks of 4096, the logging displayed the contents just fine."}],"answers":[{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654240664,"creation_date":1654240664,"answer_id":72486003,"question_id":72474651,"body_markdown":"Once again, many thanks to @dave_thompson_085 for the comments regarding readAllBytes.\r\n\r\nThat was a great help.\r\n\r\nIt was not the intention to write an HTTP-Server, just find exactly what CUPS4J was sending over the line &amp; write a Client based on the new (JDK 11) HttpClient to replace it.\r\n\r\nHere are my modified sources &amp; some logging output...\r\n\r\nClient Source:\r\n\r\n    package de.ipp.client.server;\r\n    \r\n    import java.net.URI;\r\n    import java.net.http.*;\r\n    import java.net.http.HttpRequest.*;\r\n    import java.net.http.HttpResponse.BodyHandlers;\r\n    import java.time.Duration;\r\n    \r\n    public class IppClient {\r\n    \r\n    \tpublic static final byte[] PAYLOAD = &quot;SomeBytes&quot;.getBytes();\r\n    \r\n    \tpublic static void main(final String[] args) throws Exception {\r\n    \t\tThread.currentThread().setName(&quot;myClient&quot;);\r\n    \r\n    \t\tfinal URI         uri     = new URI(&quot;http://localhost:&quot; + IppServer.PORT + &quot;/printers&quot;);\r\n    \r\n    \t\tfinal Builder     builder = HttpRequest.newBuilder();\r\n    \t\t;                 builder.uri      (uri);\r\n    \t\t;                 builder.setHeader(&quot;Content-Type&quot;, &quot;application/ipp&quot;);\r\n    \t\t;                 builder.POST     (HttpRequest.BodyPublishers.ofByteArray(PAYLOAD));\r\n    \r\n    \t\tSystem.out.println(IppServer.logPrefix() + &quot;IppClient Posting.: &quot; + uri);\r\n    \r\n    \t\tHttpClient.newBuilder().build().sendAsync(builder.build(), BodyHandlers.ofByteArray());\r\n    \r\n    \t\tThread.sleep(Duration.ofSeconds(3).toMillis()); // (give Server time to serve!!)\r\n    \r\n    \t\tSystem.out.println(IppServer.logPrefix() + &quot;IppClient Posted... (async)&quot;);\r\n    \t}\r\n    }\r\n\r\nServer Source:\r\n\r\n    package de.ipp.client.server;\r\n    \r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Arrays;\r\n    \r\n    public class IppServer {\r\n    \r\n    \tprivate static final DateTimeFormatter HH_MM_SS_NANOS = DateTimeFormatter.ofPattern(&quot;HH.mm.ss.SSSSSSSSS&#39; &#39;&quot;);\r\n    \r\n    \tpublic  static final int PORT = 31613;\r\n    \r\n    \tpublic  static void main(final String[] args) throws IOException {\r\n    \t\tThread.currentThread().setName(&quot;LISTENER&quot;);\r\n    \r\n    \t\tSystem        .out.println(logPrefix() + &quot;IppServer Start....&quot;);\r\n    \r\n    \t\ttry(final ServerSocket serverSocket = new ServerSocket(PORT))\r\n    \t\t{\r\n    \t\t\tSystem    .out.println(logPrefix() + &quot;IppServer Running.: &quot; + serverSocket);\r\n    \r\n    \t\t\twhile (true) {\r\n    \t\t\t\tfinal Socket socket = serverSocket.accept();\r\n    \r\n    \t\t\t\tSystem.out.println(logPrefix() + &quot;IppServer Socket..: incoming -&gt; &quot; + socket);\r\n    \r\n    \t\t\t\tfinal Thread thread = new Thread(getSocketRunnable(socket));\r\n    \t\t\t\t;            thread.setDaemon(true);\r\n    \t\t\t\t;            thread.start();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static Runnable getSocketRunnable(final Socket socket) {\r\n    \t\treturn () -&gt; {\r\n    \t\t\ttry(final InputStream ist   = socket.getInputStream())\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(logPrefix() + &quot;IppServer Reading..&quot;);\r\n    \r\n    \t\t\t\tfinal byte[]      buf   = new byte[4096];\r\n    \t\t\t\t;     int         count;\r\n    \r\n    \t\t\t\twhile ((count = ist.read(buf)) != -1) {\r\n    \t\t\t\t\tlogBytes(buf, count);\r\n    \r\n    \t\t\t\t\tif (0 == Arrays.compare(buf, 0, count, IppClient.PAYLOAD, 0, IppClient.PAYLOAD.length)) {\r\n    \t\t\t\t\t\t/*\r\n    \t\t\t\t\t\t * For our purposes, it is sufficient that the payload was received OK.\r\n    \t\t\t\t\t\t * We do not need to complete the HTTP Handshake, so just break off the dialogue...\r\n    \t\t\t\t\t\t */\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch (final IOException e) {\r\n    \t\t\t\tSystem.out.println(logPrefix() + &quot;IppServer Error!!.: &quot; + e.getMessage());\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \tprivate static void logBytes(final byte[] bytes, final int count) {\r\n    \r\n    \t\tfinal StringBuilder sbd = new StringBuilder(count * 2);\r\n    \t\t;     byte          b;\r\n    \r\n    \t\tfor (int i=0; i &lt; count; i++) {\r\n    \t\t\tb = bytes[i];\r\n    \r\n    \t\t\tif (b &gt; 32   ) {sbd.append( (char) b);  continue;}\r\n    \r\n    \t\t\tif (b == &#39;\\r&#39;) {sbd.append(&quot;[\\\\r]&quot;);    continue;}\r\n    \t\t\tif (b == &#39;\\n&#39;) {sbd.append(&quot;[\\\\n]&quot;);    continue;}\r\n    \r\n    \t\t\tsbd.append(&quot;[0x&quot;).append(Integer.toHexString(b)).append(&#39;]&#39;);\r\n    \t\t}\r\n    \t\tSystem.out.println(logPrefix() + &quot;IppServer Bytes...: L=&quot; + count + &#39;\\t&#39; + sbd.toString());\r\n    \t}\r\n    \r\n    \tpublic static String logPrefix() {\r\n    \t\treturn &#39;[&#39; + Thread.currentThread().getName() + &quot;] &quot; + HH_MM_SS_NANOS.format(LocalDateTime.now());\r\n    \t}\r\n    }\r\n\r\nLogs:\r\n\r\n    [LISTENER] 08.49.25.232446900 IppServer Start....\r\n    [LISTENER] 08.49.25.261367100 IppServer Running.: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=31613]\r\n    [LISTENER] 08.49.38.749640100 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65073,localport=31613]\r\n    [Thread-0] 08.49.38.753629400 IppServer Reading..\r\n    [Thread-0] 08.49.38.776568000 IppServer Bytes...: L=246\tPOST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\r\n    [Thread-0] 08.49.38.780556300 IppServer Bytes...: L=9\tSomeBytes\r\n    [LISTENER] 08.50.22.853368800 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65091,localport=31613]\r\n    [Thread-1] 08.50.22.854365100 IppServer Reading..\r\n    [Thread-1] 08.50.22.880294200 IppServer Bytes...: L=246\tPOST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\r\n    [Thread-1] 08.50.22.885280900 IppServer Bytes...: L=9\tSomeBytes\r\n    [LISTENER] 09.01.07.880173600 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65397,localport=31613]\r\n    [Thread-2] 09.01.07.881169400 IppServer Reading..\r\n    [Thread-2] 09.01.07.908097800 IppServer Bytes...: L=246\tPOST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\r\n    [Thread-2] 09.01.07.914083500 IppServer Bytes...: L=9\tSomeBytes\r\n    \r\n    [myClient] 09.01.06.956313800 IppClient Posting.: http://localhost:31613/printers\r\n    [myClient] 09.01.10.783634700 IppClient Posted... (async)\r\n\r\n\r\n\r\n","title":"java.net.http.HttpClient not POST&#39;ing data to Server?","body":"<p>Once again, many thanks to @dave_thompson_085 for the comments regarding readAllBytes.</p>\n<p>That was a great help.</p>\n<p>It was not the intention to write an HTTP-Server, just find exactly what CUPS4J was sending over the line &amp; write a Client based on the new (JDK 11) HttpClient to replace it.</p>\n<p>Here are my modified sources &amp; some logging output...</p>\n<p>Client Source:</p>\n<pre><code>package de.ipp.client.server;\n\nimport java.net.URI;\nimport java.net.http.*;\nimport java.net.http.HttpRequest.*;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.time.Duration;\n\npublic class IppClient {\n\n    public static final byte[] PAYLOAD = &quot;SomeBytes&quot;.getBytes();\n\n    public static void main(final String[] args) throws Exception {\n        Thread.currentThread().setName(&quot;myClient&quot;);\n\n        final URI         uri     = new URI(&quot;http://localhost:&quot; + IppServer.PORT + &quot;/printers&quot;);\n\n        final Builder     builder = HttpRequest.newBuilder();\n        ;                 builder.uri      (uri);\n        ;                 builder.setHeader(&quot;Content-Type&quot;, &quot;application/ipp&quot;);\n        ;                 builder.POST     (HttpRequest.BodyPublishers.ofByteArray(PAYLOAD));\n\n        System.out.println(IppServer.logPrefix() + &quot;IppClient Posting.: &quot; + uri);\n\n        HttpClient.newBuilder().build().sendAsync(builder.build(), BodyHandlers.ofByteArray());\n\n        Thread.sleep(Duration.ofSeconds(3).toMillis()); // (give Server time to serve!!)\n\n        System.out.println(IppServer.logPrefix() + &quot;IppClient Posted... (async)&quot;);\n    }\n}\n</code></pre>\n<p>Server Source:</p>\n<pre><code>package de.ipp.client.server;\n\nimport java.io.*;\nimport java.net.*;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Arrays;\n\npublic class IppServer {\n\n    private static final DateTimeFormatter HH_MM_SS_NANOS = DateTimeFormatter.ofPattern(&quot;HH.mm.ss.SSSSSSSSS' '&quot;);\n\n    public  static final int PORT = 31613;\n\n    public  static void main(final String[] args) throws IOException {\n        Thread.currentThread().setName(&quot;LISTENER&quot;);\n\n        System        .out.println(logPrefix() + &quot;IppServer Start....&quot;);\n\n        try(final ServerSocket serverSocket = new ServerSocket(PORT))\n        {\n            System    .out.println(logPrefix() + &quot;IppServer Running.: &quot; + serverSocket);\n\n            while (true) {\n                final Socket socket = serverSocket.accept();\n\n                System.out.println(logPrefix() + &quot;IppServer Socket..: incoming -&gt; &quot; + socket);\n\n                final Thread thread = new Thread(getSocketRunnable(socket));\n                ;            thread.setDaemon(true);\n                ;            thread.start();\n            }\n        }\n    }\n\n    private static Runnable getSocketRunnable(final Socket socket) {\n        return () -&gt; {\n            try(final InputStream ist   = socket.getInputStream())\n            {\n                System.out.println(logPrefix() + &quot;IppServer Reading..&quot;);\n\n                final byte[]      buf   = new byte[4096];\n                ;     int         count;\n\n                while ((count = ist.read(buf)) != -1) {\n                    logBytes(buf, count);\n\n                    if (0 == Arrays.compare(buf, 0, count, IppClient.PAYLOAD, 0, IppClient.PAYLOAD.length)) {\n                        /*\n                         * For our purposes, it is sufficient that the payload was received OK.\n                         * We do not need to complete the HTTP Handshake, so just break off the dialogue...\n                         */\n                        break;\n                    }\n                }\n            }\n            catch (final IOException e) {\n                System.out.println(logPrefix() + &quot;IppServer Error!!.: &quot; + e.getMessage());\n            }\n        };\n    }\n\n    private static void logBytes(final byte[] bytes, final int count) {\n\n        final StringBuilder sbd = new StringBuilder(count * 2);\n        ;     byte          b;\n\n        for (int i=0; i &lt; count; i++) {\n            b = bytes[i];\n\n            if (b &gt; 32   ) {sbd.append( (char) b);  continue;}\n\n            if (b == '\\r') {sbd.append(&quot;[\\\\r]&quot;);    continue;}\n            if (b == '\\n') {sbd.append(&quot;[\\\\n]&quot;);    continue;}\n\n            sbd.append(&quot;[0x&quot;).append(Integer.toHexString(b)).append(']');\n        }\n        System.out.println(logPrefix() + &quot;IppServer Bytes...: L=&quot; + count + '\\t' + sbd.toString());\n    }\n\n    public static String logPrefix() {\n        return '[' + Thread.currentThread().getName() + &quot;] &quot; + HH_MM_SS_NANOS.format(LocalDateTime.now());\n    }\n}\n</code></pre>\n<p>Logs:</p>\n<pre><code>[LISTENER] 08.49.25.232446900 IppServer Start....\n[LISTENER] 08.49.25.261367100 IppServer Running.: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=31613]\n[LISTENER] 08.49.38.749640100 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65073,localport=31613]\n[Thread-0] 08.49.38.753629400 IppServer Reading..\n[Thread-0] 08.49.38.776568000 IppServer Bytes...: L=246 POST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\n[Thread-0] 08.49.38.780556300 IppServer Bytes...: L=9   SomeBytes\n[LISTENER] 08.50.22.853368800 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65091,localport=31613]\n[Thread-1] 08.50.22.854365100 IppServer Reading..\n[Thread-1] 08.50.22.880294200 IppServer Bytes...: L=246 POST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\n[Thread-1] 08.50.22.885280900 IppServer Bytes...: L=9   SomeBytes\n[LISTENER] 09.01.07.880173600 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65397,localport=31613]\n[Thread-2] 09.01.07.881169400 IppServer Reading..\n[Thread-2] 09.01.07.908097800 IppServer Bytes...: L=246 POST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\n[Thread-2] 09.01.07.914083500 IppServer Bytes...: L=9   SomeBytes\n\n[myClient] 09.01.06.956313800 IppClient Posting.: http://localhost:31613/printers\n[myClient] 09.01.10.783634700 IppClient Posted... (async)\n</code></pre>\n"}],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72486003,"answer_count":1,"score":0,"last_activity_date":1654240664,"creation_date":1654165506,"question_id":72474651,"body_markdown":"I&#39;m trying to write a simple HTTP Client &amp; Server using the new (JDK 11) HttpClient.\r\n\r\nJDK.: OpenJDK 17.0.0\r\n\r\nThe Client is connecting to the Server but doesn&#39;t seem to be POST&#39;ing any data.\r\n\r\nAfter the Server receives the incoming Connection, it tries to read the data.&lt;br&gt;\r\nThe read never ends.&lt;br&gt;\r\nDoes anyone know what I&#39;m doing wrong?\r\n\r\nServer Source:\r\n\r\n    package de.ipp.client.server;\r\n    \r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class IppServer {\r\n    \r\n    \tpublic static final int PORT = 31613;\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tSystem    .out.println(ZonedDateTime.now() + &quot; IppServer Start.....&quot;);\r\n    \r\n    \t\ttry(final ServerSocket serverSocket = new ServerSocket(PORT))\r\n    \t\t{\r\n    \t\t\tSystem.out.println(ZonedDateTime.now() + &quot; IppServer Running..: &quot; + serverSocket);\r\n    \r\n    \t\t\twhile (true) {\r\n    \t\t\t\tfinal Thread thread = new Thread(getSocketRunnable(serverSocket.accept()));\r\n    \t\t\t\t;            thread.setDaemon(true);\r\n    \t\t\t\t;            thread.start();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static Runnable getSocketRunnable(final Socket socket) {\r\n    \t\treturn () -&gt; {\r\n    \t\t\tSystem    .out.println(ZonedDateTime.now() + &quot; IppServer Socket...: incoming -&gt; &quot; + socket);\r\n    \r\n    \t\t\ttry(final InputStream ist   = socket.getInputStream())\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(ZonedDateTime.now() + &quot; IppServer Reading...&quot;);\r\n    \r\n    \t\t\t\tfinal byte[]      bytes = ist.readAllBytes();\r\n    \r\n    \t\t\t\tSystem.out.println(ZonedDateTime.now() + &quot; IppServer L&#39;Bytes..: &quot; + bytes.length);\r\n    \t\t\t}\r\n    \t\t\tcatch (final IOException e) {\r\n    \t\t\t\tSystem.out.println(ZonedDateTime.now() + &quot; IppServer Error!!..: &quot; + e.getMessage());\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nClient Source:\r\n\r\n    package de.ipp.client.server;\r\n    \r\n    import java.net.URI;\r\n    import java.net.http.*;\r\n    import java.net.http.HttpClient.Version;\r\n    import java.net.http.HttpRequest.*;\r\n    import java.net.http.HttpResponse.BodyHandlers;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class IppClient {\r\n    \r\n    \tpublic static void main(final String[] args) throws Exception {\r\n    \r\n    \t\tfinal URI                  uri       = new URI(&quot;http://localhost:&quot; + IppServer.PORT + &quot;/printers&quot;);\r\n    \t\tfinal BodyPublisher        publisher = HttpRequest.BodyPublishers.ofByteArray(&quot;SomeBytes&quot;.getBytes());\r\n    \r\n    \t\tfinal Builder              builder   = HttpRequest.newBuilder();\r\n    \t\t;                          builder.uri      (uri);\r\n    \t\t;                          builder.version  (Version.HTTP_1_1);\r\n    \t\t;                          builder.setHeader(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;);\r\n    \t\t;                          builder.setHeader(&quot;Content-Type&quot;,      &quot;application/ipp&quot;);\r\n    \t\t;                          builder.setHeader(&quot;Accept-Encoding&quot;,   &quot;gzip,deflate&quot;);\r\n    \t\t;                          builder.POST(publisher);\r\n    \r\n    \t\tfinal HttpRequest          request   = builder.build();\r\n    \r\n    \t\tSystem.out.println(ZonedDateTime.now() + &quot; IppClient Posting..: &quot; + uri);\r\n    \r\n    \t\tfinal HttpResponse&lt;byte[]&gt; response  = HttpClient.newHttpClient().send(request, BodyHandlers.ofByteArray());\r\n    \r\n    \t\tSystem.out.println(ZonedDateTime.now() + &quot; IppClient Response.: &quot; + response.statusCode());\r\n    \t}\r\n    }\r\n\r\nLogs:\r\n\r\n    2022-06-02T11:52:23.378674200+02:00[Europe/Berlin] IppServer Start.....\r\n    2022-06-02T11:52:23.411587200+02:00[Europe/Berlin] IppServer Running..: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=31613]\r\n    2022-06-02T11:53:31.229082300+02:00[Europe/Berlin] IppServer Socket...: incoming -&gt; Socket[addr=/127.0.0.1,port=55978,localport=31613]\r\n    2022-06-02T11:53:31.232074700+02:00[Europe/Berlin] IppServer Reading...\r\n    \r\n    2022-06-02T11:53:30.474583800+02:00[Europe/Berlin] IppClient Posting..: http://localhost:31613/printers\r\n\r\n\r\n","title":"java.net.http.HttpClient not POST&#39;ing data to Server?","body":"<p>I'm trying to write a simple HTTP Client &amp; Server using the new (JDK 11) HttpClient.</p>\n<p>JDK.: OpenJDK 17.0.0</p>\n<p>The Client is connecting to the Server but doesn't seem to be POST'ing any data.</p>\n<p>After the Server receives the incoming Connection, it tries to read the data.<br>\nThe read never ends.<br>\nDoes anyone know what I'm doing wrong?</p>\n<p>Server Source:</p>\n<pre><code>package de.ipp.client.server;\n\nimport java.io.*;\nimport java.net.*;\nimport java.time.ZonedDateTime;\n\npublic class IppServer {\n\n    public static final int PORT = 31613;\n\n    public static void main(String[] args) throws IOException {\n\n        System    .out.println(ZonedDateTime.now() + &quot; IppServer Start.....&quot;);\n\n        try(final ServerSocket serverSocket = new ServerSocket(PORT))\n        {\n            System.out.println(ZonedDateTime.now() + &quot; IppServer Running..: &quot; + serverSocket);\n\n            while (true) {\n                final Thread thread = new Thread(getSocketRunnable(serverSocket.accept()));\n                ;            thread.setDaemon(true);\n                ;            thread.start();\n            }\n        }\n    }\n\n    private static Runnable getSocketRunnable(final Socket socket) {\n        return () -&gt; {\n            System    .out.println(ZonedDateTime.now() + &quot; IppServer Socket...: incoming -&gt; &quot; + socket);\n\n            try(final InputStream ist   = socket.getInputStream())\n            {\n                System.out.println(ZonedDateTime.now() + &quot; IppServer Reading...&quot;);\n\n                final byte[]      bytes = ist.readAllBytes();\n\n                System.out.println(ZonedDateTime.now() + &quot; IppServer L'Bytes..: &quot; + bytes.length);\n            }\n            catch (final IOException e) {\n                System.out.println(ZonedDateTime.now() + &quot; IppServer Error!!..: &quot; + e.getMessage());\n            }\n        };\n    }\n}\n</code></pre>\n<p>Client Source:</p>\n<pre><code>package de.ipp.client.server;\n\nimport java.net.URI;\nimport java.net.http.*;\nimport java.net.http.HttpClient.Version;\nimport java.net.http.HttpRequest.*;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.time.ZonedDateTime;\n\npublic class IppClient {\n\n    public static void main(final String[] args) throws Exception {\n\n        final URI                  uri       = new URI(&quot;http://localhost:&quot; + IppServer.PORT + &quot;/printers&quot;);\n        final BodyPublisher        publisher = HttpRequest.BodyPublishers.ofByteArray(&quot;SomeBytes&quot;.getBytes());\n\n        final Builder              builder   = HttpRequest.newBuilder();\n        ;                          builder.uri      (uri);\n        ;                          builder.version  (Version.HTTP_1_1);\n        ;                          builder.setHeader(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;);\n        ;                          builder.setHeader(&quot;Content-Type&quot;,      &quot;application/ipp&quot;);\n        ;                          builder.setHeader(&quot;Accept-Encoding&quot;,   &quot;gzip,deflate&quot;);\n        ;                          builder.POST(publisher);\n\n        final HttpRequest          request   = builder.build();\n\n        System.out.println(ZonedDateTime.now() + &quot; IppClient Posting..: &quot; + uri);\n\n        final HttpResponse&lt;byte[]&gt; response  = HttpClient.newHttpClient().send(request, BodyHandlers.ofByteArray());\n\n        System.out.println(ZonedDateTime.now() + &quot; IppClient Response.: &quot; + response.statusCode());\n    }\n}\n</code></pre>\n<p>Logs:</p>\n<pre><code>2022-06-02T11:52:23.378674200+02:00[Europe/Berlin] IppServer Start.....\n2022-06-02T11:52:23.411587200+02:00[Europe/Berlin] IppServer Running..: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=31613]\n2022-06-02T11:53:31.229082300+02:00[Europe/Berlin] IppServer Socket...: incoming -&gt; Socket[addr=/127.0.0.1,port=55978,localport=31613]\n2022-06-02T11:53:31.232074700+02:00[Europe/Berlin] IppServer Reading...\n\n2022-06-02T11:53:30.474583800+02:00[Europe/Berlin] IppClient Posting..: http://localhost:31613/printers\n</code></pre>\n"},{"tags":["java","spring","spring-boot","java-stream","comparator"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1654202413,"post_id":72481968,"comment_id":128041683,"body_markdown":"`Arrays.stream(resources).sorted()` requires some logic on which criteria to sort. You can either pass a `Comparator` to `sorted` or the stream you want to sort has to contain elements that implement `Comparable`. The latter is not the case here, hence the Exception.","body":"<code>Arrays.stream(resources).sorted()</code> requires some logic on which criteria to sort. You can either pass a <code>Comparator</code> to <code>sorted</code> or the stream you want to sort has to contain elements that implement <code>Comparable</code>. The latter is not the case here, hence the Exception."},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1654202422,"post_id":72481968,"comment_id":128041687,"body_markdown":"Sure you&#39;re not getting that from the `sorted()`?","body":"Sure you&#39;re not getting that from the <code>sorted()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654203875,"creation_date":1654203875,"answer_id":72482339,"question_id":72481968,"body_markdown":"`org.springframework.core.io.FileSystemResource` obviously does not implement the `Comparable&lt;T&gt;` interface, so your call to `sorted` throws an Exception.\r\n\r\nYou could either pass a `Comparator` to `sorted`, but it would be easier to simply move the call to `sorted` *after* the `map` operation, since `java.io.File` does implement `Comparable`.","title":"Convert Resource array to File ArrayList","body":"<p><code>org.springframework.core.io.FileSystemResource</code> obviously does not implement the <code>Comparable&lt;T&gt;</code> interface, so your call to <code>sorted</code> throws an Exception.</p>\n<p>You could either pass a <code>Comparator</code> to <code>sorted</code>, but it would be easier to simply move the call to <code>sorted</code> <em>after</em> the <code>map</code> operation, since <code>java.io.File</code> does implement <code>Comparable</code>.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654240439,"creation_date":1654240439,"answer_id":72485959,"question_id":72481968,"body_markdown":"As @f1sh has already said the class `FileSystemResource` is not a subtype of `Comparable`.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/FileSystemResource.html\r\n\r\nTo sort your files, you need to provide a `Comparator` instance to the `sorted()` operation. Besides, since `sorted()` is a **stateful** intermediate operation, it would be better to place it after `filter()` in order to reduce the elements to sort. In fact, a stateful operation like `sorted()` needs all the elements of the previous operation to produce a result. Its drawback is quite visible under parallel computation as pipelines containing stateful intermediate operations may require multiple passes on the data or may need to buffer significant data.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n\r\nHere is the updated version of your code:\r\n\r\n```\r\nprivate File[] sortResources(Resource[] resources) {\r\n    assert resources != null;\r\n    File[] vetRes = new File[0];\r\n    return Arrays.stream(resources)\r\n            .filter(r -&gt; r.exists() &amp;&amp; r.isFile())\r\n            .map(r -&gt; {\r\n                try {\r\n                    return r.getFile();\r\n                } catch (IOException e) {\r\n                    throw new UncheckedIOException(e);\r\n                }\r\n            })\r\n            .sorted(Comparator.comparing(File::getAbsolutePath))\r\n            .collect(Collectors.toList()).toArray(vetRes);\r\n}\r\n```","title":"Convert Resource array to File ArrayList","body":"<p>As @f1sh has already said the class <code>FileSystemResource</code> is not a subtype of <code>Comparable</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/FileSystemResource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/FileSystemResource.html</a></p>\n<p>To sort your files, you need to provide a <code>Comparator</code> instance to the <code>sorted()</code> operation. Besides, since <code>sorted()</code> is a <strong>stateful</strong> intermediate operation, it would be better to place it after <code>filter()</code> in order to reduce the elements to sort. In fact, a stateful operation like <code>sorted()</code> needs all the elements of the previous operation to produce a result. Its drawback is quite visible under parallel computation as pipelines containing stateful intermediate operations may require multiple passes on the data or may need to buffer significant data.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html</a></p>\n<p>Here is the updated version of your code:</p>\n<pre><code>private File[] sortResources(Resource[] resources) {\n    assert resources != null;\n    File[] vetRes = new File[0];\n    return Arrays.stream(resources)\n            .filter(r -&gt; r.exists() &amp;&amp; r.isFile())\n            .map(r -&gt; {\n                try {\n                    return r.getFile();\n                } catch (IOException e) {\n                    throw new UncheckedIOException(e);\n                }\n            })\n            .sorted(Comparator.comparing(File::getAbsolutePath))\n            .collect(Collectors.toList()).toArray(vetRes);\n}\n</code></pre>\n"}],"owner":{"account_id":984057,"reputation":1750,"user_id":1003020,"accept_rate":79,"display_name":"Vinicius Garcia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72482339,"answer_count":2,"score":1,"last_activity_date":1654240539,"creation_date":1654201489,"question_id":72481968,"body_markdown":"I am trying to read files from resource directory on a spring application.\r\n\r\n    private File[] sortResources(Resource[] resources) {\r\n        assert resources != null;\r\n\r\n        File[] files = Arrays.stream(resources).sorted()\r\n                .filter(Resource::exists).filter(Resource::isFile).map(res -&gt; {\r\n                    try {\r\n                        return res.getFile();\r\n                    } catch (IOException e) {\r\n                        throw new UncheckedIOException(e);\r\n                    }\r\n                }\r\n        ).toArray(File[]::new);\r\n\r\n        for (File f : files) {\r\n            System.out.println( f.getAbsolutePath() );\r\n        }\r\n        return files;\r\n    }\r\n\r\nUsing as follows:\r\n\r\n    // Read all directories inside dbdata/mongo/ directory.\r\n    Resource[] resources = resourcePatternResolver.getResources(&quot;classpath:dbdata/mongo/*&quot;);\r\n    List&lt;File&gt; files = sortResources(Resource[] resources);\r\n\r\nThe problem is on `sortResources` function. I want to sort and convert the Resources objects to Files objects.\r\n\r\nI can&#39;t get `.toArray()` to work, since I get the following error:\r\n\r\n    Method threw &#39;java.lang.ClassCastException&#39; exception.\r\n\r\n    class org.springframework.core.io.FileSystemResource cannot be cast to class java.lang.Comparable (org.springframework.core.io.FileSystemResource is in unnamed module of loader &#39;app&#39;; java.lang.Comparable is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nI also tried `.collect(Collectors.toList())` but I get the same error.\r\n\r\nCan someone help me on that?","title":"Convert Resource array to File ArrayList","body":"<p>I am trying to read files from resource directory on a spring application.</p>\n<pre><code>private File[] sortResources(Resource[] resources) {\n    assert resources != null;\n\n    File[] files = Arrays.stream(resources).sorted()\n            .filter(Resource::exists).filter(Resource::isFile).map(res -&gt; {\n                try {\n                    return res.getFile();\n                } catch (IOException e) {\n                    throw new UncheckedIOException(e);\n                }\n            }\n    ).toArray(File[]::new);\n\n    for (File f : files) {\n        System.out.println( f.getAbsolutePath() );\n    }\n    return files;\n}\n</code></pre>\n<p>Using as follows:</p>\n<pre><code>// Read all directories inside dbdata/mongo/ directory.\nResource[] resources = resourcePatternResolver.getResources(&quot;classpath:dbdata/mongo/*&quot;);\nList&lt;File&gt; files = sortResources(Resource[] resources);\n</code></pre>\n<p>The problem is on <code>sortResources</code> function. I want to sort and convert the Resources objects to Files objects.</p>\n<p>I can't get <code>.toArray()</code> to work, since I get the following error:</p>\n<pre><code>Method threw 'java.lang.ClassCastException' exception.\n\nclass org.springframework.core.io.FileSystemResource cannot be cast to class java.lang.Comparable (org.springframework.core.io.FileSystemResource is in unnamed module of loader 'app'; java.lang.Comparable is in module java.base of loader 'bootstrap')\n</code></pre>\n<p>I also tried <code>.collect(Collectors.toList())</code> but I get the same error.</p>\n<p>Can someone help me on that?</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654238913,"post_id":72485580,"comment_id":128047946,"body_markdown":"Have a List&lt;String&gt; outside the scope; add it to the list and access it after for block","body":"Have a List&lt;String&gt; outside the scope; add it to the list and access it after for block"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1654239461,"post_id":72485580,"comment_id":128048077,"body_markdown":"Create a global or a local scoped (outside the listener) `String` variable, break the loop once you have the relevant value inside the loop.","body":"Create a global or a local scoped (outside the listener) <code>String</code> variable, break the loop once you have the relevant value inside the loop."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654327020,"post_id":72485580,"comment_id":128068827,"body_markdown":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654240413,"creation_date":1654240413,"answer_id":72485954,"question_id":72485580,"body_markdown":"You cannot retrieve that variable. It exists inside the loop only - that is the concept of variable scopes.\r\n\r\nYou need to define the variable in the scope where you want to use it. The loop has access to it&#39;s own scope but also the scope outside.\r\n\r\nIt would look like this then:\r\n\r\n    String rt = null;\r\n    \r\n    final DatabaseReference reference=FirebaseDatabase.getInstance().getReference(&quot;Client&quot;);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot snapshot1:snapshot.child(&quot;c_orders&quot;).getChildren()){\r\n                    rt=snapshot1.getKey().toString();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n\r\n        FirebaseRecyclerOptions&lt;client_model_btncheckorders&gt; options2 =\r\n            new FirebaseRecyclerOptions.Builder&lt;client_model_btncheckorders&gt;()\r\n                .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Client&quot;).child(&quot;c_orders&quot;).child(rt).child(&quot;check_orders&quot;), client_model_btncheckorders.class)\r\n                .build();\r\n        adapter2=new adapter_clientside_checkbtn(options2);\r\n        recyclerView2.setAdapter(adapter2);\r\n\r\n        return view;\r\n    }\r\n\r\nBut watch out about runtime: You set the string in an event handler. It would mean you&#39;d have to run the query after the event handler has run. Would that not justify to run it from the event handler? Or you use a separate thread? I am not sure where you actually want to use the value.","title":"How can I retrieve string variable outside a loop that is stored inside a for loop in android studio?","body":"<p>You cannot retrieve that variable. It exists inside the loop only - that is the concept of variable scopes.</p>\n<p>You need to define the variable in the scope where you want to use it. The loop has access to it's own scope but also the scope outside.</p>\n<p>It would look like this then:</p>\n<pre><code>String rt = null;\n\nfinal DatabaseReference reference=FirebaseDatabase.getInstance().getReference(&quot;Client&quot;);\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot snapshot1:snapshot.child(&quot;c_orders&quot;).getChildren()){\n                rt=snapshot1.getKey().toString();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n        }\n    });\n\n    FirebaseRecyclerOptions&lt;client_model_btncheckorders&gt; options2 =\n        new FirebaseRecyclerOptions.Builder&lt;client_model_btncheckorders&gt;()\n            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Client&quot;).child(&quot;c_orders&quot;).child(rt).child(&quot;check_orders&quot;), client_model_btncheckorders.class)\n            .build();\n    adapter2=new adapter_clientside_checkbtn(options2);\n    recyclerView2.setAdapter(adapter2);\n\n    return view;\n}\n</code></pre>\n<p>But watch out about runtime: You set the string in an event handler. It would mean you'd have to run the query after the event handler has run. Would that not justify to run it from the event handler? Or you use a separate thread? I am not sure where you actually want to use the value.</p>\n"}],"owner":{"account_id":25462318,"reputation":11,"user_id":19261871,"display_name":"Akash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654327003,"answer_count":1,"score":0,"last_activity_date":1654240413,"creation_date":1654238128,"question_id":72485580,"body_markdown":"    final DatabaseReference reference=FirebaseDatabase.getInstance().getReference(&quot;Client&quot;);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot snapshot1:snapshot.child(&quot;c_orders&quot;).getChildren()){\r\n                    final String rt=snapshot1.getKey().toString();\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n            }\r\n        });\r\n    \r\n        FirebaseRecyclerOptions&lt;client_model_btncheckorders&gt; options2 =\r\n                new FirebaseRecyclerOptions.Builder&lt;client_model_btncheckorders&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Client&quot;).child(&quot;c_orders&quot;).child(rt).child(&quot;check_orders&quot;), client_model_btncheckorders.class)\r\n                        .build();\r\n        adapter2=new adapter_clientside_checkbtn(options2);\r\n        recyclerView2.setAdapter(adapter2);\r\n    \r\n    \r\n        return view;\r\n    }\r\n\r\nHere I have to retrieve the value of &quot;rt&quot; which is in for loop and that is to be then passed to a Firebase database query to retrieve the child element&#39;s value. But the problem is, &quot;rt&quot; may contain many usernames of the firebase real-time database. I have to split them and refer a each username to the query. It is not possible to write Firebase reference inside for loop because the adapter of the recycler view(where data needs to be displayed) cannot be accessed. The recycler view where I was trying to display data from firebase database displays by pressing a button of another recycler view. Is there any solution for this?\r\n","title":"How can I retrieve string variable outside a loop that is stored inside a for loop in android studio?","body":"<pre><code>final DatabaseReference reference=FirebaseDatabase.getInstance().getReference(&quot;Client&quot;);\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot snapshot1:snapshot.child(&quot;c_orders&quot;).getChildren()){\n                final String rt=snapshot1.getKey().toString();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n    FirebaseRecyclerOptions&lt;client_model_btncheckorders&gt; options2 =\n            new FirebaseRecyclerOptions.Builder&lt;client_model_btncheckorders&gt;()\n                    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Client&quot;).child(&quot;c_orders&quot;).child(rt).child(&quot;check_orders&quot;), client_model_btncheckorders.class)\n                    .build();\n    adapter2=new adapter_clientside_checkbtn(options2);\n    recyclerView2.setAdapter(adapter2);\n\n\n    return view;\n}\n</code></pre>\n<p>Here I have to retrieve the value of &quot;rt&quot; which is in for loop and that is to be then passed to a Firebase database query to retrieve the child element's value. But the problem is, &quot;rt&quot; may contain many usernames of the firebase real-time database. I have to split them and refer a each username to the query. It is not possible to write Firebase reference inside for loop because the adapter of the recycler view(where data needs to be displayed) cannot be accessed. The recycler view where I was trying to display data from firebase database displays by pressing a button of another recycler view. Is there any solution for this?</p>\n"},{"tags":["java","amazon-web-services","redirect","aws-lambda","reroute"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1654235845,"post_id":72485209,"comment_id":128047149,"body_markdown":"That depends entirely on how your application is written, lambda itself has very little / nothing to do with that.","body":"That depends entirely on how your application is written, lambda itself has very little / nothing to do with that."},{"owner":{"account_id":5814984,"reputation":544,"user_id":4584928,"display_name":"TDao"},"score":0,"creation_date":1654236886,"post_id":72485209,"comment_id":128047393,"body_markdown":"@luk2302 well, let&#39;s say if I have a gateway to route requests to my lambda, how would I re-route the invalid requests then?","body":"@luk2302 well, let&#39;s say if I have a gateway to route requests to my lambda, how would I re-route the invalid requests then?"},{"owner":{"account_id":5814984,"reputation":544,"user_id":4584928,"display_name":"TDao"},"score":0,"creation_date":1654237527,"post_id":72485209,"comment_id":128047557,"body_markdown":"just want to clarify, I&#39;d like to do it generically, instead of having to individually define API gateway proxy event for every invalid v1 requests to route to v2. Also, not all v1 requests are invalid, so I wouldn&#39;t be able to use wildcard.","body":"just want to clarify, I&#39;d like to do it generically, instead of having to individually define API gateway proxy event for every invalid v1 requests to route to v2. Also, not all v1 requests are invalid, so I wouldn&#39;t be able to use wildcard."}],"owner":{"account_id":5814984,"reputation":544,"user_id":4584928,"display_name":"TDao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654239598,"creation_date":1654235320,"question_id":72485209,"body_markdown":"How or where can I define re-route rules for invalid requests to my lambda without sending the 30x status code to the client? \r\n\r\nFor example, if there is a request to `api/v1/hello`, which is invalid, I want it to be re-routed to the handler/controller of `api/v2/hello`, which is valid.\r\n\r\nIn ASP.Net, I can write custom routing logic in my service startup code but I haven&#39;t been able to find a way to do so with AWS lambda (I&#39;m writing my lambda in Java). ","title":"how to re-route (not redirect) invalid API request with AWS lambda?","body":"<p>How or where can I define re-route rules for invalid requests to my lambda without sending the 30x status code to the client?</p>\n<p>For example, if there is a request to <code>api/v1/hello</code>, which is invalid, I want it to be re-routed to the handler/controller of <code>api/v2/hello</code>, which is valid.</p>\n<p>In ASP.Net, I can write custom routing logic in my service startup code but I haven't been able to find a way to do so with AWS lambda (I'm writing my lambda in Java).</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":0,"creation_date":1654204623,"post_id":72482376,"comment_id":128042327,"body_markdown":"The [Spring docs](https://docs.spring.io/spring-boot/docs/2.7.x/reference/htmlsingle/#using.running-your-application.with-the-maven-plugin) suggest to set those via [`MAVEN_OPTS`](https://maven.apache.org/configure.html#maven_opts-environment-variable), e.g. `export MAVEN_OPTS=-Xmx6g` - does that help?","body":"The <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/reference/htmlsingle/#using.running-your-application.with-the-maven-plugin\" rel=\"nofollow noreferrer\">Spring docs</a> suggest to set those via <a href=\"https://maven.apache.org/configure.html#maven_opts-environment-variable\" rel=\"nofollow noreferrer\"><code>MAVEN_OPTS</code></a>, e.g. <code>export MAVEN_OPTS=-Xmx6g</code> - does that help?"},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":0,"creation_date":1654205061,"post_id":72482376,"comment_id":128042426,"body_markdown":"Alternatively [`jvmArguments`](https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/maven-plugin/run-mojo.html#jvmArguments) ([current docs](https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/#run)) as per https://stackoverflow.com/a/68069089/2018047","body":"Alternatively <a href=\"https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/maven-plugin/run-mojo.html#jvmArguments\" rel=\"nofollow noreferrer\"><code>jvmArguments</code></a> (<a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/#run\" rel=\"nofollow noreferrer\">current docs</a>) as per <a href=\"https://stackoverflow.com/a/68069089/2018047\">stackoverflow.com/a/68069089/2018047</a>"},{"owner":{"account_id":24721501,"reputation":56,"user_id":18610510,"display_name":"MrUwugu"},"score":1,"creation_date":1654209001,"post_id":72482376,"comment_id":128043226,"body_markdown":"@Christian: in the documentation you&#39;ve provided, I&#39;m confused as to why an example cannot be provided. Firstly, I imagine such a command might look like\n\nmvn spring-boot:run jvmArguments=&quot;-Xmx6g&quot;\n\nbut, this isn&#39;t explicitly stated anywhere.\n\nWhat&#39;s worse is that the documentation also says &quot;NOTE: [something important about needing a forked process&quot;, and I have a feeling that I would also need an example of how to specify that I would like to launch with a forked process.\n\nThis is a bit tedious compared to how this works in the java command line, so I think asking for an example is ok.","body":"@Christian: in the documentation you&#39;ve provided, I&#39;m confused as to why an example cannot be provided. Firstly, I imagine such a command might look like  mvn spring-boot:run jvmArguments=&quot;-Xmx6g&quot;  but, this isn&#39;t explicitly stated anywhere.  What&#39;s worse is that the documentation also says &quot;NOTE: [something important about needing a forked process&quot;, and I have a feeling that I would also need an example of how to specify that I would like to launch with a forked process.  This is a bit tedious compared to how this works in the java command line, so I think asking for an example is ok."},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":0,"creation_date":1654429226,"post_id":72482376,"comment_id":128084219,"body_markdown":"The reason I haven&#39;t given you an example is that I never used that option myself, so I&#39;m just not sure. I imagine people who configure a JVM on servers understand the docs without needing additional examples (and it would be a long list if they provided an example for every possible argument). The way I read the docs, it forks automatically (unless you explicitly specify `fork` as `false`, which is deprecated). To try it locally, I&#39;d use `$ mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xmx6G&quot;`. Also consider [`-XX:+PrintFlagsFinal`](https://stackoverflow.com/a/22108304/2018047) 2 check","body":"The reason I haven&#39;t given you an example is that I never used that option myself, so I&#39;m just not sure. I imagine people who configure a JVM on servers understand the docs without needing additional examples (and it would be a long list if they provided an example for every possible argument). The way I read the docs, it forks automatically (unless you explicitly specify <code>fork</code> as <code>false</code>, which is deprecated). To try it locally, I&#39;d use <code>$ mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xmx6G&quot;</code>. Also consider <a href=\"https://stackoverflow.com/a/22108304/2018047\"><code>-XX:+PrintFlagsFinal</code></a> 2 check"},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":0,"creation_date":1654429696,"post_id":72482376,"comment_id":128084308,"body_markdown":"An [example for how to use the jvmArguments](https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/#run.examples.debug) is actually provided, albeit under the &quot;debug&quot; heading. Also, if it works in IntelliJ: you can usually expand the command that IntelliJ used to launch an app in the console tab IntelliJ opens. Surefire is a plugin to run tests, so if you want to increase memory while testing, you&#39;d likely have to use a different argument. [`argLine`](https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine) might work.","body":"An <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/#run.examples.debug\" rel=\"nofollow noreferrer\">example for how to use the jvmArguments</a> is actually provided, albeit under the &quot;debug&quot; heading. Also, if it works in IntelliJ: you can usually expand the command that IntelliJ used to launch an app in the console tab IntelliJ opens. Surefire is a plugin to run tests, so if you want to increase memory while testing, you&#39;d likely have to use a different argument. <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine\" rel=\"nofollow noreferrer\"><code>argLine</code></a> might work."},{"owner":{"account_id":24721501,"reputation":56,"user_id":18610510,"display_name":"MrUwugu"},"score":0,"creation_date":1654534218,"post_id":72482376,"comment_id":128108167,"body_markdown":"@Christian appreciated, I will try this and will return back if it works :)","body":"@Christian appreciated, I will try this and will return back if it works :)"}],"owner":{"account_id":24721501,"reputation":56,"user_id":18610510,"display_name":"MrUwugu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654239434,"creation_date":1654204166,"question_id":72482376,"body_markdown":"I&#39;d like to add -Xmx6g as a command line argument to a spring boot application that is launched with maven via  `mvn spring-boot:run`. I do this easily enough with Intellij, but I would like to launch the application manually from my terminal so that I have some extra ram.\r\n\r\nI&#39;ve tried to configure &lt;argLine&gt; in the Maven Surefire Plugin, but this hasn&#39;t worked. Could anyone share a working snippit?\r\n","title":"Add jvm options to a Spring Boot application started via mvn spring-boot:run","body":"<p>I'd like to add -Xmx6g as a command line argument to a spring boot application that is launched with maven via  <code>mvn spring-boot:run</code>. I do this easily enough with Intellij, but I would like to launch the application manually from my terminal so that I have some extra ram.</p>\n<p>I've tried to configure  in the Maven Surefire Plugin, but this hasn't worked. Could anyone share a working snippit?</p>\n"},{"tags":["java","maven","packaging"],"comments":[{"owner":{"account_id":9093104,"reputation":1493,"user_id":6768037,"display_name":"Jon Sampson"},"score":0,"creation_date":1654226510,"post_id":72484153,"comment_id":128045635,"body_markdown":"Someone may expand, but the next thing to look at would be jar file manifests wherein you can specify the class to be run during packaging. It shortens the run command and allows someone to run your jar without knowledge of the contents.","body":"Someone may expand, but the next thing to look at would be jar file manifests wherein you can specify the class to be run during packaging. It shortens the run command and allows someone to run your jar without knowledge of the contents."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654228499,"post_id":72484153,"comment_id":128045869,"body_markdown":"First, you can&#39;t execute a source file directly (unless it&#39;s a _single_ source file, and then only if you&#39;re using a more recent version of Java). You first _compile_ the source files into class files, which contain the JVM byte-code which the JVM can then execute (this is what gives you the cross-platform functionality of Java). But now you have a bunch of class files, and that&#39;s not conducive to distribution. A JAR file is a (ZIP) file that packages all the class files and other resources into a single file, which is much easier to distribute.","body":"First, you can&#39;t execute a source file directly (unless it&#39;s a <i>single</i> source file, and then only if you&#39;re using a more recent version of Java). You first <i>compile</i> the source files into class files, which contain the JVM byte-code which the JVM can then execute (this is what gives you the cross-platform functionality of Java). But now you have a bunch of class files, and that&#39;s not conducive to distribution. A JAR file is a (ZIP) file that packages all the class files and other resources into a single file, which is much easier to distribute."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654228724,"post_id":72484153,"comment_id":128045904,"body_markdown":"Though typically, if you can _execute_ the program contained within a JAR file, then you&#39;d create an _executable JAR file_. That&#39;s simply a JAR file with a `Main-Class` entry in the `MANIFEST.MF` file (look up how to set the main class via Maven). Then you can run the application using `java -jar &lt;jar-file&gt;`. Also, keep in mind that Maven is only a build tool (one of a few popular ones in the Java ecosystem). It is not _required_ to compile/package/build an application, but it does make things much easier and more repeatable.","body":"Though typically, if you can <i>execute</i> the program contained within a JAR file, then you&#39;d create an <i>executable JAR file</i>. That&#39;s simply a JAR file with a <code>Main-Class</code> entry in the <code>MANIFEST.MF</code> file (look up how to set the main class via Maven). Then you can run the application using <code>java -jar &lt;jar-file&gt;</code>. Also, keep in mind that Maven is only a build tool (one of a few popular ones in the Java ecosystem). It is not <i>required</i> to compile/package/build an application, but it does make things much easier and more repeatable."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654233594,"post_id":72484153,"comment_id":128046705,"body_markdown":"The ability to invoke java directly on a single source file is very new and Maven is very, very old.","body":"The ability to invoke java directly on a single source file is very new and Maven is very, very old."},{"owner":{"account_id":20929974,"reputation":13,"user_id":16086128,"display_name":"ItDepends"},"score":0,"creation_date":1654364418,"post_id":72484153,"comment_id":128075467,"body_markdown":"Wow all of these are very great comments. I understand the importance of creating a jar file and maven as a build tool a lot more now. Thank you!","body":"Wow all of these are very great comments. I understand the importance of creating a jar file and maven as a build tool a lot more now. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654227372,"creation_date":1654227372,"answer_id":72484446,"question_id":72484153,"body_markdown":"    mvn package\r\n\r\nMaven is one of the package management tools for java.. the flag package, packages the app. It&#39;s used to declare deps for a project, package a project, build a project, and install binaries to a place(~/.m2/xx/..) where they can be read by java processes.\r\n\r\n\r\n    java -cp target/my-app-1.0-SNAPSHOT.jar \r\n\r\nRuns the app, invoke main class of the app, -cp stands for classPath\r\n\r\n\r\n\r\n","title":"Why should I run a java class after generating jar file with maven package?","body":"<pre><code>mvn package\n</code></pre>\n<p>Maven is one of the package management tools for java.. the flag package, packages the app. It's used to declare deps for a project, package a project, build a project, and install binaries to a place(~/.m2/xx/..) where they can be read by java processes.</p>\n<pre><code>java -cp target/my-app-1.0-SNAPSHOT.jar \n</code></pre>\n<p>Runs the app, invoke main class of the app, -cp stands for classPath</p>\n"},{"tags":[],"owner":{"account_id":25452201,"reputation":208,"user_id":19253406,"display_name":"Chicky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654228857,"creation_date":1654228857,"answer_id":72484560,"question_id":72484153,"body_markdown":"Maven not just a packaging tool but also managing dependencies.\r\n\r\nIf your project is simple with no dependency/no import other package, you can &quot;just going to src/main/java/com/mycompany/app and running `java App.java`&quot;. If it is not the case, you can&#39;t do it (try it)\r\n\r\n`maven package` will export/copy dependencies to `target` folder so that JDK can find required classes and you can use it easily","title":"Why should I run a java class after generating jar file with maven package?","body":"<p>Maven not just a packaging tool but also managing dependencies.</p>\n<p>If your project is simple with no dependency/no import other package, you can &quot;just going to src/main/java/com/mycompany/app and running <code>java App.java</code>&quot;. If it is not the case, you can't do it (try it)</p>\n<p><code>maven package</code> will export/copy dependencies to <code>target</code> folder so that JDK can find required classes and you can use it easily</p>\n"},{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654239397,"creation_date":1654238125,"answer_id":72485579,"question_id":72484153,"body_markdown":"To know the answer of Why, you need to understand following things first:\r\n 1. How to compile a Java program and how to run the compiled java program (especially program declared inside a package)&lt;br&gt;\r\nIf you have java class ```Test``` inside package ```hello```, you can compile it using ```javac hello\\Test.java``` and run it using ```java hello.Test``` (i.e. we use fully qualified name to run a program and can not run it like ```java Test```, it will give you error &quot;could not find or load main class Test&quot;)\r\n&lt;br&gt;\r\nSo, just going to src/main/java/com/mycompany/app and running ```java App.java``` won&#39;t work but from src/main/java folder you can run it like ```com.mycompany.app.App```\r\n 2. What is jar packaging.&lt;br&gt; \r\n```jar``` i.e. Java archive is nothing but a zip file aggregating all the java classes so that it can be distributed as a single unit. &lt;br&gt;\r\n\r\n 3. Classpath&lt;br&gt;\r\nClasspath is the place where java will look for the compiled classes\r\n\r\n 4. How to run a program which depends on Java classes in other jar files&lt;br&gt;\r\n    Suppose if my Test class depends on class XYZ which is inside the\r\n    abc.jar file, then we need to tell java that search this abc.jar for\r\n    dependencies (include this jar in classpath). This can be done using command ```java -cp abc.jar hello.Test``` here ```-cp``` option is nothing but a classpath and is used to tell java about directories or archives in which classes could be found. This command can be used when Test class is inside jar file like in your case\r\n 5. Maven&lt;br&gt;\r\n   If you have understood the above things then you would know that Maven has nothing to do with running your program. It is just a build tool which helps build the jar file from you code and helps in executing/organizing different tasks apart from build like clean, running tests, etc.\r\n\r\n","title":"Why should I run a java class after generating jar file with maven package?","body":"<p>To know the answer of Why, you need to understand following things first:</p>\n<ol>\n<li><p>How to compile a Java program and how to run the compiled java program (especially program declared inside a package)<br>\nIf you have java class <code>Test</code> inside package <code>hello</code>, you can compile it using <code>javac hello\\Test.java</code> and run it using <code>java hello.Test</code> (i.e. we use fully qualified name to run a program and can not run it like <code>java Test</code>, it will give you error &quot;could not find or load main class Test&quot;)\n<br>\nSo, just going to src/main/java/com/mycompany/app and running <code>java App.java</code> won't work but from src/main/java folder you can run it like <code>com.mycompany.app.App</code></p>\n</li>\n<li><p>What is jar packaging.<br>\n<code>jar</code> i.e. Java archive is nothing but a zip file aggregating all the java classes so that it can be distributed as a single unit. <br></p>\n</li>\n<li><p>Classpath<br>\nClasspath is the place where java will look for the compiled classes</p>\n</li>\n<li><p>How to run a program which depends on Java classes in other jar files<br>\nSuppose if my Test class depends on class XYZ which is inside the\nabc.jar file, then we need to tell java that search this abc.jar for\ndependencies (include this jar in classpath). This can be done using command <code>java -cp abc.jar hello.Test</code> here <code>-cp</code> option is nothing but a classpath and is used to tell java about directories or archives in which classes could be found. This command can be used when Test class is inside jar file like in your case</p>\n</li>\n<li><p>Maven<br>\nIf you have understood the above things then you would know that Maven has nothing to do with running your program. It is just a build tool which helps build the jar file from you code and helps in executing/organizing different tasks apart from build like clean, running tests, etc.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":20929974,"reputation":13,"user_id":16086128,"display_name":"ItDepends"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72485579,"answer_count":3,"score":1,"last_activity_date":1654239397,"creation_date":1654223542,"question_id":72484153,"body_markdown":"I&#39;m new to jar files and maven and trying to understand the use of Maven.\r\nIn this [Maven in 5 minutes][1] article, we create the my-app project using maven and the directory structure looks like this: \r\n``` \r\nmy-app\r\n|-- pom.xml\r\n -- src\r\n    |-- main\r\n    |   -- java\r\n    |       -- com\r\n    |           -- mycompany\r\n    |               -- app\r\n    |                   -- App.java\r\n     -- test\r\n         -- java\r\n             -- com\r\n                 -- mycompany\r\n                     -- app\r\n                         -- AppTest.java\r\n```\r\nThen we use 1. `mvn package` followed by 2. `java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App` which runs our App.java class.\r\n\r\nMy understanding is that 1. creates a new &#39;target&#39; directory and inside it the jar file. And we use 2. to run the App class using the jar file. My question is, why did we run the App class in this way? Why is it better than just going to src/main/java/com/mycompany/app and running `java App.java` ? Maybe I don&#39;t understand benefit of packaging. Thanks for any help.\r\n\r\n  [1]: https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html","title":"Why should I run a java class after generating jar file with maven package?","body":"<p>I'm new to jar files and maven and trying to understand the use of Maven.\nIn this <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">Maven in 5 minutes</a> article, we create the my-app project using maven and the directory structure looks like this:</p>\n<pre><code>my-app\n|-- pom.xml\n -- src\n    |-- main\n    |   -- java\n    |       -- com\n    |           -- mycompany\n    |               -- app\n    |                   -- App.java\n     -- test\n         -- java\n             -- com\n                 -- mycompany\n                     -- app\n                         -- AppTest.java\n</code></pre>\n<p>Then we use 1. <code>mvn package</code> followed by 2. <code>java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App</code> which runs our App.java class.</p>\n<p>My understanding is that 1. creates a new 'target' directory and inside it the jar file. And we use 2. to run the App class using the jar file. My question is, why did we run the App class in this way? Why is it better than just going to src/main/java/com/mycompany/app and running <code>java App.java</code> ? Maybe I don't understand benefit of packaging. Thanks for any help.</p>\n"},{"tags":["java","swt","tableviewer"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654237695,"creation_date":1654188043,"answer_id":72479557,"question_id":72478065,"body_markdown":"You need to remember the selection listener somewhere, probably a field in the class managing the table.\r\n\r\n```java\r\nprivate SelectionListener listener;\r\n\r\n...\r\n\r\nlistener = new SelectionListener() ....\r\n\r\n\r\n...\r\n\r\ntable.addSelectionListener(listener);\r\n\r\n...\r\n\r\ntable.removeSelectionListener(listener);\r\n```\r\nBe sure to only create the listener once (possibly in the class constructor).\r\n\r\nAn alternative is to just add the listener (once) and then test a flag in the listener to decide if you setForeground.","title":"Remove a selection listener on a table item","body":"<p>You need to remember the selection listener somewhere, probably a field in the class managing the table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private SelectionListener listener;\n\n...\n\nlistener = new SelectionListener() ....\n\n\n...\n\ntable.addSelectionListener(listener);\n\n...\n\ntable.removeSelectionListener(listener);\n</code></pre>\n<p>Be sure to only create the listener once (possibly in the class constructor).</p>\n<p>An alternative is to just add the listener (once) and then test a flag in the listener to decide if you setForeground.</p>\n"}],"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72479557,"answer_count":1,"score":0,"last_activity_date":1654239318,"creation_date":1654180853,"question_id":72478065,"body_markdown":"I have a table where multiple table items are available.\r\nOut of them, for some table items background and foreground color is set.\r\n\r\nOn selection of a colored item,since the text color was white, the text is difficult to read\r\nSo, I need to change the forground color to default ie. black.\r\nI had done it using the selection listener\r\n\r\n    private SelectionListener selectionListener;\r\n\r\n        private void mouseTrackListener() {\r\n            selectionListener = new SelectionListener() {\r\n    \r\n                @Override\r\n                public void widgetSelected(SelectionEvent e) {\r\n                            ((TableItem) e.item).setForeground(null);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void widgetDefaultSelected(SelectionEvent e) {\r\n    \r\n                }\r\n            };\r\n    \r\n            this.table.addSelectionListener(selectionListener);\r\n    \r\n            this.table.removeSelectionListener(selectionListener);\r\n        }\r\n\r\n\r\nAnd the color got changed successfully.\r\n\r\nBut now I am selecting any other item which is not colored, so I want to remove the above selection listener and set the text color to colored ie. white.\r\nI am not getting how to use  `this.table.removeSelectionListener`.\r\n\r\nCan some one please help.","title":"Remove a selection listener on a table item","body":"<p>I have a table where multiple table items are available.\nOut of them, for some table items background and foreground color is set.</p>\n<p>On selection of a colored item,since the text color was white, the text is difficult to read\nSo, I need to change the forground color to default ie. black.\nI had done it using the selection listener</p>\n<pre><code>private SelectionListener selectionListener;\n\n    private void mouseTrackListener() {\n        selectionListener = new SelectionListener() {\n\n            @Override\n            public void widgetSelected(SelectionEvent e) {\n                        ((TableItem) e.item).setForeground(null);\n                    }\n                }\n            }\n\n            @Override\n            public void widgetDefaultSelected(SelectionEvent e) {\n\n            }\n        };\n\n        this.table.addSelectionListener(selectionListener);\n\n        this.table.removeSelectionListener(selectionListener);\n    }\n</code></pre>\n<p>And the color got changed successfully.</p>\n<p>But now I am selecting any other item which is not colored, so I want to remove the above selection listener and set the text color to colored ie. white.\nI am not getting how to use  <code>this.table.removeSelectionListener</code>.</p>\n<p>Can some one please help.</p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":1453291,"reputation":761,"user_id":1369579,"accept_rate":80,"display_name":"Dorian"},"score":1,"creation_date":1654238491,"post_id":72485576,"comment_id":128047821,"body_markdown":"See this post, it should help you : https://stackoverflow.com/q/40480/1369579","body":"See this post, it should help you : <a href=\"https://stackoverflow.com/q/40480/1369579\">stackoverflow.com/q/40480/1369579</a>"}],"answers":[{"tags":[],"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654239098,"creation_date":1654238652,"answer_id":72485658,"question_id":72485576,"body_markdown":"The two examples aren&#39;t the same. In the first, you&#39;re setting a copy of the reference to `null` (see, e.g. [this](https://www.infoworld.com/article/3512039/does-java-pass-by-reference-or-pass-by-value.html)). If you were to call the method on `c` inside `setInputToNull`, you&#39;d get the NPE there.","title":"Why can I set the class to null and still call methods from it afterwards?","body":"<p>The two examples aren't the same. In the first, you're setting a copy of the reference to <code>null</code> (see, e.g. <a href=\"https://www.infoworld.com/article/3512039/does-java-pass-by-reference-or-pass-by-value.html\" rel=\"nofollow noreferrer\">this</a>). If you were to call the method on <code>c</code> inside <code>setInputToNull</code>, you'd get the NPE there.</p>\n"}],"owner":{"account_id":22490259,"reputation":23,"user_id":16688094,"display_name":"NicoHahn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654239030,"accepted_answer_id":72485658,"answer_count":1,"score":0,"last_activity_date":1654239098,"creation_date":1654238113,"question_id":72485576,"body_markdown":"I have created the following example code in Java:\r\n```java\r\npublic class SetClassNullExperiment {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSetMeNull c1 = new SetMeNull();\r\n\t\tc1.setInputToNull(c1);\r\n\t\tSystem.out.println(&quot;Is c1 equal to null? &quot; + Boolean.toString(c1 == null)); // false\r\n\t\tc1.printHelloWorld();\r\n\r\n\t\tSetMeNull c2 = new SetMeNull();\r\n\t\tc2 = null;\r\n\t\tSystem.out.println(&quot;Is c2 equal to null? &quot; + Boolean.toString(c2 == null)); // true\r\n\t\tc2.printHelloWorld(); // Throws a NullPointerException (For obvious reasons...)\r\n\t}\r\n\r\n}\r\n\r\nclass SetMeNull {\r\n\r\n\t/**\r\n\t * Set the input class equal to &lt;code&gt;null&lt;/code&gt;.\r\n\t */\r\n\tpublic void setInputToNull(SetMeNull c) {\r\n\t\tc = null;\r\n\t}\r\n\r\n\tpublic void printHelloWorld() {\r\n\t\tSystem.out.println(&quot;Hello World!&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhy is it possible to call `c1.printHelloWorld()` after `c1.setInputToNull(c1)` has been called? I would expect a `NullPointerException` when calling `c1.printHelloWorld()`. Why is this not the case? In my opinion, the first four lines (`c1`) are equal to the last four lines (`c2`), but only in the last four lines a `NullPointerException` is thrown.","title":"Why can I set the class to null and still call methods from it afterwards?","body":"<p>I have created the following example code in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SetClassNullExperiment {\n\n    public static void main(String[] args) {\n        SetMeNull c1 = new SetMeNull();\n        c1.setInputToNull(c1);\n        System.out.println(&quot;Is c1 equal to null? &quot; + Boolean.toString(c1 == null)); // false\n        c1.printHelloWorld();\n\n        SetMeNull c2 = new SetMeNull();\n        c2 = null;\n        System.out.println(&quot;Is c2 equal to null? &quot; + Boolean.toString(c2 == null)); // true\n        c2.printHelloWorld(); // Throws a NullPointerException (For obvious reasons...)\n    }\n\n}\n\nclass SetMeNull {\n\n    /**\n     * Set the input class equal to &lt;code&gt;null&lt;/code&gt;.\n     */\n    public void setInputToNull(SetMeNull c) {\n        c = null;\n    }\n\n    public void printHelloWorld() {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n\n}\n</code></pre>\n<p>Why is it possible to call <code>c1.printHelloWorld()</code> after <code>c1.setInputToNull(c1)</code> has been called? I would expect a <code>NullPointerException</code> when calling <code>c1.printHelloWorld()</code>. Why is this not the case? In my opinion, the first four lines (<code>c1</code>) are equal to the last four lines (<code>c2</code>), but only in the last four lines a <code>NullPointerException</code> is thrown.</p>\n"},{"tags":["java","xml","self"],"comments":[{"owner":{"account_id":3034988,"reputation":1866,"user_id":2573309,"display_name":"LhasaDad"},"score":0,"creation_date":1416254135,"post_id":26980516,"comment_id":42495760,"body_markdown":"Do you really need that?  the two forms are equivalent","body":"Do you really need that?  the two forms are equivalent"},{"owner":{"account_id":5347459,"reputation":159,"user_id":4262603,"accept_rate":60,"display_name":"DreamTool"},"score":0,"creation_date":1416254751,"post_id":26980516,"comment_id":42496045,"body_markdown":"Our teacher has given us some XML files with the self closing elements, but I don&#39;t know if it will make a real difference if I write mine with the closing tags.","body":"Our teacher has given us some XML files with the self closing elements, but I don&#39;t know if it will make a real difference if I write mine with the closing tags."}],"answers":[{"tags":[],"owner":{"account_id":5347632,"reputation":86,"user_id":4262717,"display_name":"otp"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1416254147,"creation_date":1416254147,"answer_id":26980835,"question_id":26980516,"body_markdown":"Use `writeEmptyElement()`.\r\n\r\nBut you should be aware that both forms are [semantically equivalent](http://www.xml.com/axml/notes/EMPTY3.html), so any requirement that differentiates them should be viewed with suspicion.","title":"How to write self-closing element tags using XMLStreamWriter","body":"<p>Use <code>writeEmptyElement()</code>.</p>\n\n<p>But you should be aware that both forms are <a href=\"http://www.xml.com/axml/notes/EMPTY3.html\" rel=\"noreferrer\">semantically equivalent</a>, so any requirement that differentiates them should be viewed with suspicion.</p>\n"},{"tags":[],"owner":{"account_id":17704606,"reputation":1,"user_id":12853535,"display_name":"Med Akrem Lakhdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654238945,"creation_date":1654102164,"answer_id":72465472,"question_id":26980516,"body_markdown":"BY writing `writeEndElement();` you are asking the library to close `case` for you, \r\ninstead you should not invoke it and invoke `writeEndDocument()` instead.","title":"How to write self-closing element tags using XMLStreamWriter","body":"<p>BY writing <code>writeEndElement();</code> you are asking the library to close <code>case</code> for you,\ninstead you should not invoke it and invoke <code>writeEndDocument()</code> instead.</p>\n"}],"owner":{"account_id":5347459,"reputation":159,"user_id":4262603,"accept_rate":60,"display_name":"DreamTool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2936,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26980835,"answer_count":2,"score":4,"last_activity_date":1654238945,"creation_date":1416252911,"question_id":26980516,"body_markdown":"I am trying to write a XML element tag that has to look like this :\r\n\r\n`&lt;case type=&quot;&quot; player=&quot;&quot;/&gt;`\r\n\r\nMy code is :\r\n\r\n`doc.writeStartElement(&quot;case&quot;);`  \r\n`doc.writeAttribute(&quot;type&quot;, type);`  \r\n`doc.writeAttribute(&quot;player&quot;, &quot;&quot;);`  \r\n`doc.writeEndElement();`\r\n\r\nBut, as I expected, a closing tag is added at the end, so it looks like this :\r\n\r\n`&lt;case type=&quot;&quot; player=&quot;&quot;&gt;&lt;/case&gt;`\r\n\r\nI am trying to write a self closing element tag, but cannot find how.\r\nDoes anyone know how to do that ?\r\n","title":"How to write self-closing element tags using XMLStreamWriter","body":"<p>I am trying to write a XML element tag that has to look like this :</p>\n\n<p><code>&lt;case type=\"\" player=\"\"/&gt;</code></p>\n\n<p>My code is :</p>\n\n<p><code>doc.writeStartElement(\"case\");</code><br>\n<code>doc.writeAttribute(\"type\", type);</code><br>\n<code>doc.writeAttribute(\"player\", \"\");</code><br>\n<code>doc.writeEndElement();</code></p>\n\n<p>But, as I expected, a closing tag is added at the end, so it looks like this :</p>\n\n<p><code>&lt;case type=\"\" player=\"\"&gt;&lt;/case&gt;</code></p>\n\n<p>I am trying to write a self closing element tag, but cannot find how.\nDoes anyone know how to do that ?</p>\n"},{"tags":["java","unit-testing","mockito","httpentity"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1654252304,"post_id":72485534,"comment_id":128052051,"body_markdown":"To my eyes, you are not calling getConfirm in your test - you are calling some other method instead.","body":"To my eyes, you are not calling getConfirm in your test - you are calling some other method instead."}],"answers":[{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654238943,"creation_date":1654238943,"answer_id":72485699,"question_id":72485534,"body_markdown":"You can do two things in Mock when you write return behavior of a mock object.\r\n\r\n&gt; Return a mock object who&#39;s reference we have:\r\n   \r\n\r\n    when(httpResponse.getStatusLine()).thenReturn(statusLine);\r\n\r\nIf you see here, we returning an mock object of statusLine (who&#39;s reference we have), if we do this way we get benefit to choose behavior of statusLine like below:\r\n\r\n      when(statusLine.getStatusCode()).thenReturn(200);\r\n\r\n&gt; Another way is below, when we do not care to hold reference of mock object we want to return:\r\n\r\n    when(httpResponse.getStatusLine()).thenReturn(StatusLine.class);\r\n\r\nIf you see here, we are returning an mock object of statusLine who&#39;s reference we do not hold, so we can not write mock behavior for it which were able to do in first example.\r\n\r\n","title":"Test fails as entity is always null","body":"<p>You can do two things in Mock when you write return behavior of a mock object.</p>\n<blockquote>\n<p>Return a mock object who's reference we have:</p>\n</blockquote>\n<pre><code>when(httpResponse.getStatusLine()).thenReturn(statusLine);\n</code></pre>\n<p>If you see here, we returning an mock object of statusLine (who's reference we have), if we do this way we get benefit to choose behavior of statusLine like below:</p>\n<pre><code>  when(statusLine.getStatusCode()).thenReturn(200);\n</code></pre>\n<blockquote>\n<p>Another way is below, when we do not care to hold reference of mock object we want to return:</p>\n</blockquote>\n<pre><code>when(httpResponse.getStatusLine()).thenReturn(StatusLine.class);\n</code></pre>\n<p>If you see here, we are returning an mock object of statusLine who's reference we do not hold, so we can not write mock behavior for it which were able to do in first example.</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654238943,"creation_date":1654237838,"question_id":72485534,"body_markdown":"I have this method in my Java application:\r\n\r\n```Java\r\npublic HttpEntity getConfirm(String confirmUrl, String cookie) throws IOException {\r\n\r\n        LOG.debug(&quot;getConfirm triggered&quot;);\r\n        HttpGet req = null;\r\n\r\n        try {\r\n\r\n            HttpClient client = HttpClientBuilder.create().build();\r\n            req = new HttpGet(confirmUrl);\r\n\r\n            req.addHeader(&quot;User-Agent&quot;, &quot;Apache HTTPClient&quot;);\r\n            req.addHeader(&quot;Cookie&quot;, cookie);\r\n            HttpResponse res = client.execute(req);\r\n\r\n            HttpEntity entity = res.getEntity();\r\n            int statusLine = res.getStatusLine().getStatusCode();\r\n            HttpEntity entity = res.getEntity();\r\n            int statusLine = res.getStatusLine().getStatusCode();\r\n\r\n            String content = EntityUtils.toString(entity);\r\n            LOG.info(content + &quot;&quot; + statusLine);\r\n            return entity;\r\n\r\n        } catch (ClientProtocolException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n\r\n            if (req != null) {\r\n\r\n                req.releaseConnection();\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nThis unit test was created to test it:\r\n\r\n```Java\r\n@Test\r\npublic void getConfirmSuccess() throws IOException {\r\n\r\n    HttpResponse httpResponse = mock(HttpResponse.class);\r\n    StatusLine statusLine = mock(StatusLine.class);\r\n    when(statusLine.getStatusCode()).thenReturn(200);\r\n    when(httpResponse.getStatusLine()).thenReturn(statusLine);\r\n    HttpEntity entity = mock(HttpEntity.class);\r\n    InputStream stream = new ByteArrayInputStream(&quot;{\\n\\&quot;state\\&quot;: \\&quot;success\\&quot;,\\n\\&quot;message\\&quot;: \\&quot;My message.\\&quot;\\n}&quot;.getBytes(&quot;UTF-8&quot;));\r\n    when(entity.getContent()).thenReturn(stream);\r\n    when(httpResponse.getEntity()).thenReturn(mock(HttpEntity.class));\r\n\r\n    ReissueCertService reissueCertService = new ReissueCertServiceReal();\r\n\r\n    assertEquals(reissueCertService.reissueCert(&quot;http://testurl&quot;, &quot;foo&quot;), httpResponse);\r\n}\r\n```\r\n\r\nThe test fails as the `entity = response.getEntity();` is null so entity never gets assigned a value. I think I need to do a `when(entity).thenReturn(...)` but I&#39;m not sure what exactly it is I should be returning. Is this correct and if so what should I return here?","title":"Test fails as entity is always null","body":"<p>I have this method in my Java application:</p>\n<pre><code>public HttpEntity getConfirm(String confirmUrl, String cookie) throws IOException {\n\n        LOG.debug(&quot;getConfirm triggered&quot;);\n        HttpGet req = null;\n\n        try {\n\n            HttpClient client = HttpClientBuilder.create().build();\n            req = new HttpGet(confirmUrl);\n\n            req.addHeader(&quot;User-Agent&quot;, &quot;Apache HTTPClient&quot;);\n            req.addHeader(&quot;Cookie&quot;, cookie);\n            HttpResponse res = client.execute(req);\n\n            HttpEntity entity = res.getEntity();\n            int statusLine = res.getStatusLine().getStatusCode();\n            HttpEntity entity = res.getEntity();\n            int statusLine = res.getStatusLine().getStatusCode();\n\n            String content = EntityUtils.toString(entity);\n            LOG.info(content + &quot;&quot; + statusLine);\n            return entity;\n\n        } catch (ClientProtocolException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n\n            if (req != null) {\n\n                req.releaseConnection();\n            }\n\n            return null;\n        }\n    }\n</code></pre>\n<p>This unit test was created to test it:</p>\n<pre><code>@Test\npublic void getConfirmSuccess() throws IOException {\n\n    HttpResponse httpResponse = mock(HttpResponse.class);\n    StatusLine statusLine = mock(StatusLine.class);\n    when(statusLine.getStatusCode()).thenReturn(200);\n    when(httpResponse.getStatusLine()).thenReturn(statusLine);\n    HttpEntity entity = mock(HttpEntity.class);\n    InputStream stream = new ByteArrayInputStream(&quot;{\\n\\&quot;state\\&quot;: \\&quot;success\\&quot;,\\n\\&quot;message\\&quot;: \\&quot;My message.\\&quot;\\n}&quot;.getBytes(&quot;UTF-8&quot;));\n    when(entity.getContent()).thenReturn(stream);\n    when(httpResponse.getEntity()).thenReturn(mock(HttpEntity.class));\n\n    ReissueCertService reissueCertService = new ReissueCertServiceReal();\n\n    assertEquals(reissueCertService.reissueCert(&quot;http://testurl&quot;, &quot;foo&quot;), httpResponse);\n}\n</code></pre>\n<p>The test fails as the <code>entity = response.getEntity();</code> is null so entity never gets assigned a value. I think I need to do a <code>when(entity).thenReturn(...)</code> but I'm not sure what exactly it is I should be returning. Is this correct and if so what should I return here?</p>\n"},{"tags":["java","spring","spring-boot","aspectj","auth0"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1619601861,"post_id":67175332,"comment_id":118952172,"body_markdown":"Your code block is unreadable please format the code with a lot less white space so that it is readable.","body":"Your code block is unreadable please format the code with a lot less white space so that it is readable."}],"owner":{"account_id":20441473,"reputation":61,"user_id":14998228,"display_name":"Amine Aamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654238456,"creation_date":1618907754,"question_id":67175332,"body_markdown":"```java\r\npackage com.example.Aop;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\n\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.context.request.RequestContextHolder;\r\nimport org.springframework.web.context.request.ServletRequestAttributes;\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.JWTVerifier;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport com.auth0.jwt.exceptions.JWTVerificationException;\r\nimport com.auth0.jwt.interfaces.Claim;\r\nimport com.auth0.jwt.interfaces.DecodedJWT;\r\n\r\n@Aspect\r\n@Component\r\npublic class AspectjClass\r\n{\r\n\tpublic void verification()\r\n\t{\r\n\t\tHttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\r\n\r\n\t\tString token = request.getHeader(&quot;Authorization&quot;);\r\n\t\tAlgorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;);\r\n\t\tJWTVerifier verifier = JWT.require(algorithm).build(); //Reusable verifier instance\r\n\t\tDecodedJWT jwt = verifier.verify(token);\r\n\t\tClaim claim = jwt.getClaim(&quot;Authorities&quot;); // diese Authorities ist commt aus generateToken\r\n\t\tList&lt;String&gt; asList = Arrays.asList(claim.asString().split(&quot;,&quot;));\r\n\t\tif (request.getMethod().equals(&quot;GET&quot;) &amp;&amp; !asList.contains(&quot;READ&quot;))\r\n\t\t{\r\n\t\t\tnew Exception(&quot;you don&#39;t have read permission &quot;);\r\n\t\t}\r\n\t\tif (request.getMethod().equals(&quot;POST&quot;) &amp;&amp; !asList.contains(&quot;WRITE&quot;))\r\n\t\t{\r\n\t\t\tnew Exception(&quot;you don&#39;t have WRITE permission &quot;);\r\n\t\t}\r\n\r\n\t\tif (request.getMethod().equals(&quot;DELETE&quot;) &amp;&amp; !asList.contains(&quot;DELETE&quot;))\r\n\t\t{\r\n\t\t\tnew Exception(&quot;you don&#39;t have DELETE permission &quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Before(&quot;execution(* com.example.DB..*.*(..))&quot;)\r\n\tpublic void beforRepository()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tverification();\r\n\t\t}\r\n\t\tcatch (JWTVerificationException exception)\r\n\t\t{\r\n\t\t\t//Invalid signature/claims\r\n\t\t}\r\n\t}\r\n\r\n\t@Before(&quot;execution(* com.example.Autorization..*.*(..))&quot;)\r\n\tpublic void beforeCotroller()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\t//verification();\r\n\t\t}\r\n\t\tcatch (JWTVerificationException exception)\r\n\t\t{\r\n\t\t\t//Invalid signature/claims\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**please help Me to lose this issue :** No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\r\n","title":"java.lang.IllegalStateException : Are you referring to request attributes outside of an actual web request","body":"<pre class=\"lang-java prettyprint-override\"><code>package com.example.Aop;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.context.request.RequestContextHolder;\nimport org.springframework.web.context.request.ServletRequestAttributes;\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.JWTVerifier;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.auth0.jwt.exceptions.JWTVerificationException;\nimport com.auth0.jwt.interfaces.Claim;\nimport com.auth0.jwt.interfaces.DecodedJWT;\n\n@Aspect\n@Component\npublic class AspectjClass\n{\n    public void verification()\n    {\n        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\n\n        String token = request.getHeader(&quot;Authorization&quot;);\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;);\n        JWTVerifier verifier = JWT.require(algorithm).build(); //Reusable verifier instance\n        DecodedJWT jwt = verifier.verify(token);\n        Claim claim = jwt.getClaim(&quot;Authorities&quot;); // diese Authorities ist commt aus generateToken\n        List&lt;String&gt; asList = Arrays.asList(claim.asString().split(&quot;,&quot;));\n        if (request.getMethod().equals(&quot;GET&quot;) &amp;&amp; !asList.contains(&quot;READ&quot;))\n        {\n            new Exception(&quot;you don't have read permission &quot;);\n        }\n        if (request.getMethod().equals(&quot;POST&quot;) &amp;&amp; !asList.contains(&quot;WRITE&quot;))\n        {\n            new Exception(&quot;you don't have WRITE permission &quot;);\n        }\n\n        if (request.getMethod().equals(&quot;DELETE&quot;) &amp;&amp; !asList.contains(&quot;DELETE&quot;))\n        {\n            new Exception(&quot;you don't have DELETE permission &quot;);\n        }\n    }\n\n    @Before(&quot;execution(* com.example.DB..*.*(..))&quot;)\n    public void beforRepository()\n    {\n        try\n        {\n            verification();\n        }\n        catch (JWTVerificationException exception)\n        {\n            //Invalid signature/claims\n        }\n    }\n\n    @Before(&quot;execution(* com.example.Autorization..*.*(..))&quot;)\n    public void beforeCotroller()\n    {\n        try\n        {\n            //verification();\n        }\n        catch (JWTVerificationException exception)\n        {\n            //Invalid signature/claims\n        }\n    }\n}\n</code></pre>\n<p><strong>please help Me to lose this issue :</strong> No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654238257,"creation_date":1654238257,"answer_id":72485602,"question_id":72483456,"body_markdown":"The [toEntity][1] methods return `Mono&lt;ResponseEntity&lt;T&gt;&gt;`, so you should return `Mono&lt;ResponseEntity&lt;String&gt;&gt;`\r\n\r\n    when(responseMock.toEntity(String.class)).thenReturn(Mono.just(responseEntity));\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.ResponseSpec.html#toEntity-java.lang.Class-","title":"Unable to return ResponseEntity on WebClient.ResponseSpec.toEntity mock","body":"<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.ResponseSpec.html#toEntity-java.lang.Class-\" rel=\"nofollow noreferrer\">toEntity</a> methods return <code>Mono&lt;ResponseEntity&lt;T&gt;&gt;</code>, so you should return <code>Mono&lt;ResponseEntity&lt;String&gt;&gt;</code></p>\n<pre><code>when(responseMock.toEntity(String.class)).thenReturn(Mono.just(responseEntity));\n</code></pre>\n"}],"owner":{"account_id":12420606,"reputation":89,"user_id":9047785,"display_name":"Bravo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654238279,"creation_date":1654214575,"question_id":72483456,"body_markdown":"\r\n\r\nTest Class\r\n\r\n    @SpringBootTest\r\n    class TestClass {\r\n    \r\n    @Mock\r\n    private WebClient.ResponseSpec responseMock;\r\n    \r\n    \r\n    @Test\r\n    public void testSampleMethod() {\r\n    \r\n    //responseStr is valid json string\r\n    ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;String&gt;(responseStr, HttpStatus.OK))\r\n    \r\n    when(responseMock.toEntity(String.class)).thenReturn(responseEntity);\r\n    \r\n    }\r\n\r\n\r\n\r\n**thenReturn()** gives a compliation error - &quot;Cannot resolve method &#39;thenReturn(org.springframework.http.ResponseEntity&lt;java.lang.String&gt;)&#39;&quot;\r\n\r\nIs mocking ResponseEntity not allowed in Mockito? I can see an [example of same here][1] but it doesn&#39;t seem be to be accepted in my case. Is there any alternative way of mocking ResponseEntity&lt;String&gt;.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mock-rest-template","title":"Unable to return ResponseEntity on WebClient.ResponseSpec.toEntity mock","body":"<p>Test Class</p>\n<pre><code>@SpringBootTest\nclass TestClass {\n\n@Mock\nprivate WebClient.ResponseSpec responseMock;\n\n\n@Test\npublic void testSampleMethod() {\n\n//responseStr is valid json string\nResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;String&gt;(responseStr, HttpStatus.OK))\n\nwhen(responseMock.toEntity(String.class)).thenReturn(responseEntity);\n\n}\n</code></pre>\n<p><strong>thenReturn()</strong> gives a compliation error - &quot;Cannot resolve method 'thenReturn(org.springframework.http.ResponseEntity&lt;java.lang.String&gt;)'&quot;</p>\n<p>Is mocking ResponseEntity not allowed in Mockito? I can see an <a href=\"https://www.baeldung.com/spring-mock-rest-template\" rel=\"nofollow noreferrer\">example of same here</a> but it doesn't seem be to be accepted in my case. Is there any alternative way of mocking ResponseEntity.</p>\n"},{"tags":["java","database","oracle","hibernate"],"comments":[{"owner":{"account_id":241879,"reputation":10776,"user_id":512993,"accept_rate":90,"display_name":"Ho&#224;ng Long"},"score":1,"creation_date":1593070507,"post_id":9023819,"comment_id":110651696,"body_markdown":"one possible reason is that the &quot;lob objects&quot; isn&#39;t there. I have an experience with a similar problem but with PSQL, when the migration team didn&#39;t copy over the &quot;blob objects&quot; when we move to a new DB. Not sure if it applies for Oracle though","body":"one possible reason is that the &quot;lob objects&quot; isn&#39;t there. I have an experience with a similar problem but with PSQL, when the migration team didn&#39;t copy over the &quot;blob objects&quot; when we move to a new DB. Not sure if it applies for Oracle though"}],"answers":[{"tags":[],"owner":{"account_id":244340,"reputation":8860,"user_id":517073,"accept_rate":87,"display_name":"Stepan Yakovenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355441072,"creation_date":1355441072,"answer_id":13870331,"question_id":9023819,"body_markdown":"My pure guess is that you have some field that is very large, so it is mapped to sql lob. Mapping itself is incorrect, I suspect. But it only happens when you try to save entity with nonnull value. Try to save all your entities with nonnull fields in app one by one. This will isolate the problem.","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>My pure guess is that you have some field that is very large, so it is mapped to sql lob. Mapping itself is incorrect, I suspect. But it only happens when you try to save entity with nonnull value. Try to save all your entities with nonnull fields in app one by one. This will isolate the problem.</p>\n"},{"tags":[],"owner":{"account_id":39341,"reputation":8526,"user_id":113418,"accept_rate":86,"display_name":"Viral Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355597848,"creation_date":1355597848,"answer_id":13895174,"question_id":9023819,"body_markdown":"This might has to do something with JDBC drivers as discussed in this [thread][1]. Can you post the Oracle version and ojdbc jar version you using in project.\r\n\r\n\r\n  [1]: https://dba.stackexchange.com/questions/28220/java-application-unable-to-access-blob-stream-in-oracle-after-upgrade-to-11g","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>This might has to do something with JDBC drivers as discussed in this <a href=\"https://dba.stackexchange.com/questions/28220/java-application-unable-to-access-blob-stream-in-oracle-after-upgrade-to-11g\">thread</a>. Can you post the Oracle version and ojdbc jar version you using in project.</p>\n"},{"tags":[],"owner":{"account_id":253442,"reputation":197,"user_id":532146,"accept_rate":60,"display_name":"Vladimir Lugovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355919866,"creation_date":1355919866,"answer_id":13952430,"question_id":9023819,"body_markdown":"As you use multithreading, my guess is that you could have some problem with transactions. It could be because of some transactions is somehow commited before you had done necessary changes to the object. Or you are trying to access object being saved from the different thread, that means the object is not in the scope of transaction.","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>As you use multithreading, my guess is that you could have some problem with transactions. It could be because of some transactions is somehow commited before you had done necessary changes to the object. Or you are trying to access object being saved from the different thread, that means the object is not in the scope of transaction.</p>\n"},{"tags":[],"owner":{"account_id":2164072,"reputation":119,"user_id":1917545,"display_name":"OSB Stats"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1355974499,"creation_date":1355974499,"answer_id":13964896,"question_id":9023819,"body_markdown":"I believe I had this one before. \r\n\r\nWhen a large object (CLOB, BLOB) is loaded from Oracle, it is returned as a reference to a stream. If the record is mapped to hibernate and the session is closed after the object is loaded (so the object becomes detached) the java field blob is mapped to is not containing the data yet; so when you&#39;re trying to save it back it cannot work with it because the clob/blob stream is gone.\r\n\r\nFor a start, try to keep loading and saving within the same session. \r\n\r\nIf I remember right, another workaround would be to &quot;touch&quot; the clob/bloc java field while the loading session is still open. Then the data will be read from the DB. But it is painfully inefficient (it is LOB for a reason, i.e. it is _big_).\r\n\r\nYet another option is to split the small data and lobs into two different tables, and load lobs only when needed.\r\n\r\nHope that helps you with the direction. ","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>I believe I had this one before. </p>\n\n<p>When a large object (CLOB, BLOB) is loaded from Oracle, it is returned as a reference to a stream. If the record is mapped to hibernate and the session is closed after the object is loaded (so the object becomes detached) the java field blob is mapped to is not containing the data yet; so when you're trying to save it back it cannot work with it because the clob/blob stream is gone.</p>\n\n<p>For a start, try to keep loading and saving within the same session. </p>\n\n<p>If I remember right, another workaround would be to \"touch\" the clob/bloc java field while the loading session is still open. Then the data will be read from the DB. But it is painfully inefficient (it is LOB for a reason, i.e. it is <em>big</em>).</p>\n\n<p>Yet another option is to split the small data and lobs into two different tables, and load lobs only when needed.</p>\n\n<p>Hope that helps you with the direction. </p>\n"},{"tags":[],"owner":{"account_id":882029,"reputation":6941,"user_id":272451,"accept_rate":100,"display_name":"Thihara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355978778,"creation_date":1355978778,"answer_id":13965479,"question_id":9023819,"body_markdown":"In all probability I believe that this is due to `Session`\r\n mismanagement. But without reviewing a lot of code I cannot tell you what the exact problem of your current implementation is.\r\n\r\nI believe `threadSession` is a ThreadLocal. Instead of doing this manually please use\r\n\r\n`sessionFactory.getCurrentSession();`\r\n\r\nand set &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt; in the hibernate config file.\r\n\r\nAnd make your HibernateUtil is simple without all those checks. Personally I feel that those checks will cover up Session mismanagement and other errors... But well that may be just me...","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>In all probability I believe that this is due to <code>Session</code>\n mismanagement. But without reviewing a lot of code I cannot tell you what the exact problem of your current implementation is.</p>\n\n<p>I believe <code>threadSession</code> is a ThreadLocal. Instead of doing this manually please use</p>\n\n<p><code>sessionFactory.getCurrentSession();</code></p>\n\n<p>and set thread in the hibernate config file.</p>\n\n<p>And make your HibernateUtil is simple without all those checks. Personally I feel that those checks will cover up Session mismanagement and other errors... But well that may be just me...</p>\n"},{"tags":[],"owner":{"account_id":9883762,"reputation":488,"user_id":7318948,"display_name":"RahuL Sharma"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1529659221,"creation_date":1529642328,"answer_id":50980763,"question_id":9023819,"body_markdown":"Try adding **@Transactional** over the service method where you are trying to access lob field object. \r\nIt worked for me.","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>Try adding <strong>@Transactional</strong> over the service method where you are trying to access lob field object. \nIt worked for me.</p>\n"},{"tags":[],"owner":{"account_id":432473,"reputation":5158,"user_id":817265,"accept_rate":57,"display_name":"Neo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586583427,"creation_date":1574761661,"answer_id":59048026,"question_id":9023819,"body_markdown":"If using spring, adding the following application properties make it work for us:\r\n\r\n```\r\nspring.datasource.hikari.auto-commit\r\n```","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>If using spring, adding the following application properties make it work for us:</p>\n\n<pre><code>spring.datasource.hikari.auto-commit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13059208,"reputation":387,"user_id":9436994,"display_name":"azhe403"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653032998,"creation_date":1653032998,"answer_id":72315341,"question_id":9023819,"body_markdown":"Try remove `@Lob` in your property, if you are don&#39;t trying to access lob field object\r\n\r\nBefore:\r\n\r\n```\r\n@Lob\r\n@Column(name = &quot;first_name&quot;)\r\nprivate String firstName;\r\n```\r\n\r\nAfter:\r\n\r\n```\r\n@Column(name = &quot;first_name&quot;)\r\nprivate String firstName;\r\n```","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>Try remove <code>@Lob</code> in your property, if you are don't trying to access lob field object</p>\n<p>Before:</p>\n<pre><code>@Lob\n@Column(name = &quot;first_name&quot;)\nprivate String firstName;\n</code></pre>\n<p>After:</p>\n<pre><code>@Column(name = &quot;first_name&quot;)\nprivate String firstName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11792323,"reputation":1,"user_id":9417380,"display_name":"ChrisThanh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654238215,"creation_date":1654048035,"answer_id":72455661,"question_id":9023819,"body_markdown":"Add annotation to your lob field: `@Type(type = &quot;org.hibernate.type.TextType&quot;)`.\r\nIt works to me.","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>Add annotation to your lob field: <code>@Type(type = &quot;org.hibernate.type.TextType&quot;)</code>.\nIt works to me.</p>\n"}],"owner":{"account_id":1016954,"reputation":2531,"user_id":1028315,"accept_rate":56,"display_name":"lucky_start_izumi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42098,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"answer_count":9,"score":38,"last_activity_date":1654238215,"creation_date":1327605047,"question_id":9023819,"body_markdown":"I am using hibernate 3.6.7 to do mapping from my classes to oracle tables.\r\nI don&#39;t usually get this exception:\r\n    \r\n    \r\n    \r\n    org.hibernate.HibernateException: Unable to access lob stream\r\n        at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)\r\n        at java.util.concurrent.FutureTask.get(FutureTask.java:83)\r\n        at com.mycompany.TransferFiles.TransferFilesToHadoop(TransferFiles.java:85)\r\n        at com.mycompany.TransferJob.execute(TransferJob.java:25)\r\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:525)\r\n     Caused by: org.hibernate.HibernateException: Unable to access lob stream\r\n           at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:117)\r\n        at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:46)\r\n        at org.hibernate.type.descriptor.sql.ClobTypeDescriptor$3$1.doBind(ClobTypeDescriptor.java:83)\r\n        at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:91)\r\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:283)\r\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:278)\r\n        at org.hibernate.type.AbstractSingleColumnStandardBasicType.nullSafeSet(AbstractSingleColumnStandardBasicType.java:89)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2558)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2494)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2821)\r\n        at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)\r\n        at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\r\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\r\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)\r\n        at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\r\n        at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\r\n        at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\r\n        at com.mycompany.HibernateUtil.getSession(HibernateUtil.java:36)\r\n        at com.mycompany.BasicDaoImpl.saveOrUpdate(BasicDaoImpl.java:34)\r\n        at com.mycompany.FileCopyRoutine.call(TransferFiles.java:297)\r\n        at com.mycompany..FileCopyRoutine.call(TransferFiles.java:225)\r\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:662)\r\n     Caused by: java.sql.SQLException: Closed Connection\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\r\n        at oracle.sql.CLOB.getDBAccess(CLOB.java:1196)\r\n        at oracle.sql.CLOB.getCharacterStream(CLOB.java:278)\r\n        at sun.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at org.hibernate.engine.jdbc.SerializableClobProxy.invoke(SerializableClobProxy.java:74)\r\n        at $Proxy2.getCharacterStream(Unknown Source)\r\n        at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:114)\r\n\r\n\r\nWhen I call saveOrUpdate method.\r\n\r\nCould anyone please give me some suggestion?\r\n\r\n    public static synchronized Session getSession() throws DBConnectionException{\r\n\t\t\r\n\t\tSession session = threadSession.get();\r\n\t\t\r\n\t\tif(session==null||!session.isOpen()||!session.isConnected()){\r\n\t\t\tif(sessionFactory==null||sessionFactory.isClosed())initHibernate();\r\n\t\t\ttry{\r\n\t\t\t\tsession = sessionFactory.openSession();\r\n\t\t\t}catch(Exception e){\r\n\t\t\t\tthrow new DBConnectionException(&quot;Exception caught when trying to generate Hibernate session.&quot;);\r\n\t\t\t}\r\n\t\t\tthreadSession.set(session);\r\n\t\t}\r\n\t\tif(session.isDirty()){\r\n\t\t\tsession.flush();(36 line of HibernateUtil)\r\n\t\t}\r\n\t\tsession.clear();\r\n\t\treturn session;\r\n\t}\r\n\r\nI use it all for a long time.\r\n\r\n now I am transferring file parallelly and then update database use saveOrUpdate method.Althrough there are many threads, I snychronized this part in my code.\r\nI think we have connection to the database all the time, but it gives excpetion of closed connection.\r\nCould anyone please give me some suggestion about this exception.What the problem should be? \r\n\r\nI thought it could because of using saveOrUpdate, so I changed to merge, but it sames to have the same problem.\r\n\r\n    \r\n    \r\n    \r\n    Caused by: org.hibernate.HibernateException: Unable to access lob stream\r\n        at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:117)\r\n        at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:46)\r\n        at org.hibernate.type.descriptor.sql.ClobTypeDescriptor$3$1.doBind(ClobTypeDescriptor.java:83)\r\n        at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:91)\r\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:283)\r\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:278)\r\n        at org.hibernate.type.AbstractSingleColumnStandardBasicType.nullSafeSet(AbstractSingleColumnStandardBasicType.java:89)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2558)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2494)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2821)\r\n        at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)\r\n        at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\r\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\r\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)\r\n        at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\r\n        at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\r\n        at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\r\n        at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:383)\r\n        at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:133)\r\n        at mycompany.jobsrc.BasicDaoImpl.merge(BasicDaoImpl.java:52)\r\n        at mycompany.FileCopyRoutine.call(TransferFiles.java:301)\r\n        at mycompany.FileCopyRoutine.call(TransferFiles.java:226)\r\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:662)\r\n       Caused by: java.sql.SQLException: Closed Connection\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\r\n        at oracle.sql.CLOB.getDBAccess(CLOB.java:1196)\r\n        at oracle.sql.CLOB.getCharacterStream(CLOB.java:278)\r\n        at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at org.hibernate.engine.jdbc.SerializableClobProxy.invoke(SerializableClobProxy.java:74)\r\n        at $Proxy2.getCharacterStream(Unknown Source)\r\n        at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:114)\r\n        ... 27 more\r\n\r\n\r\nmy merge code:\r\n    \r\n    \r\n    \r\n    public void merge(T t) throws DBConnectionException{\r\n\t\tSession session = HibernateUtil.getSession();\r\n\t\tTransaction transaction = session.beginTransaction();\r\n\t\tsession.merge(t);\r\n\t\ttransaction.commit();\r\n\t}","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>I am using hibernate 3.6.7 to do mapping from my classes to oracle tables.\nI don't usually get this exception:</p>\n\n<pre><code>org.hibernate.HibernateException: Unable to access lob stream\n    at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:83)\n    at com.mycompany.TransferFiles.TransferFilesToHadoop(TransferFiles.java:85)\n    at com.mycompany.TransferJob.execute(TransferJob.java:25)\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:525)\n Caused by: org.hibernate.HibernateException: Unable to access lob stream\n       at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:117)\n    at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:46)\n    at org.hibernate.type.descriptor.sql.ClobTypeDescriptor$3$1.doBind(ClobTypeDescriptor.java:83)\n    at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:91)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:283)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:278)\n    at org.hibernate.type.AbstractSingleColumnStandardBasicType.nullSafeSet(AbstractSingleColumnStandardBasicType.java:89)\n    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2558)\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2494)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2821)\n    at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)\n    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)\n    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\n    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\n    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\n    at com.mycompany.HibernateUtil.getSession(HibernateUtil.java:36)\n    at com.mycompany.BasicDaoImpl.saveOrUpdate(BasicDaoImpl.java:34)\n    at com.mycompany.FileCopyRoutine.call(TransferFiles.java:297)\n    at com.mycompany..FileCopyRoutine.call(TransferFiles.java:225)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n Caused by: java.sql.SQLException: Closed Connection\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\n    at oracle.sql.CLOB.getDBAccess(CLOB.java:1196)\n    at oracle.sql.CLOB.getCharacterStream(CLOB.java:278)\n    at sun.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.hibernate.engine.jdbc.SerializableClobProxy.invoke(SerializableClobProxy.java:74)\n    at $Proxy2.getCharacterStream(Unknown Source)\n    at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:114)\n</code></pre>\n\n<p>When I call saveOrUpdate method.</p>\n\n<p>Could anyone please give me some suggestion?</p>\n\n<pre><code>public static synchronized Session getSession() throws DBConnectionException{\n\n    Session session = threadSession.get();\n\n    if(session==null||!session.isOpen()||!session.isConnected()){\n        if(sessionFactory==null||sessionFactory.isClosed())initHibernate();\n        try{\n            session = sessionFactory.openSession();\n        }catch(Exception e){\n            throw new DBConnectionException(\"Exception caught when trying to generate Hibernate session.\");\n        }\n        threadSession.set(session);\n    }\n    if(session.isDirty()){\n        session.flush();(36 line of HibernateUtil)\n    }\n    session.clear();\n    return session;\n}\n</code></pre>\n\n<p>I use it all for a long time.</p>\n\n<p>now I am transferring file parallelly and then update database use saveOrUpdate method.Althrough there are many threads, I snychronized this part in my code.\nI think we have connection to the database all the time, but it gives excpetion of closed connection.\nCould anyone please give me some suggestion about this exception.What the problem should be? </p>\n\n<p>I thought it could because of using saveOrUpdate, so I changed to merge, but it sames to have the same problem.</p>\n\n<pre><code>Caused by: org.hibernate.HibernateException: Unable to access lob stream\n    at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:117)\n    at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:46)\n    at org.hibernate.type.descriptor.sql.ClobTypeDescriptor$3$1.doBind(ClobTypeDescriptor.java:83)\n    at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:91)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:283)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:278)\n    at org.hibernate.type.AbstractSingleColumnStandardBasicType.nullSafeSet(AbstractSingleColumnStandardBasicType.java:89)\n    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2558)\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2494)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2821)\n    at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)\n    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)\n    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\n    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\n    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\n    at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:383)\n    at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:133)\n    at mycompany.jobsrc.BasicDaoImpl.merge(BasicDaoImpl.java:52)\n    at mycompany.FileCopyRoutine.call(TransferFiles.java:301)\n    at mycompany.FileCopyRoutine.call(TransferFiles.java:226)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n   Caused by: java.sql.SQLException: Closed Connection\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\n    at oracle.sql.CLOB.getDBAccess(CLOB.java:1196)\n    at oracle.sql.CLOB.getCharacterStream(CLOB.java:278)\n    at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.hibernate.engine.jdbc.SerializableClobProxy.invoke(SerializableClobProxy.java:74)\n    at $Proxy2.getCharacterStream(Unknown Source)\n    at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:114)\n    ... 27 more\n</code></pre>\n\n<p>my merge code:</p>\n\n<pre><code>public void merge(T t) throws DBConnectionException{\n    Session session = HibernateUtil.getSession();\n    Transaction transaction = session.beginTransaction();\n    session.merge(t);\n    transaction.commit();\n}\n</code></pre>\n"},{"tags":["java","android","android-canvas"],"answers":[{"tags":[],"owner":{"account_id":2989836,"reputation":345,"user_id":2537623,"display_name":"Wayne McGee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1378214630,"creation_date":1378211061,"answer_id":18592276,"question_id":18592169,"body_markdown":"When ACTION_DOWN is the triggered event, you are resetting wallpath with the wallpath = new Path() statement, abandoning the previous value.  This new path is the only thing that is being drawn in your onDraw method, which is called every time the canvas needs to be redrawn.\r\n\r\nConsider building a List of paths, adding a new path to the list when ACTION_DOWN is the triggered event, and in your onDraw method, draw every path in the list.\r\n\r\nDetails:\r\n\r\nElsewhere in the code, add:\r\n\r\n    pathList = new ArrayList&lt;Path&gt;;\r\n\r\nIn ACTION_DOWN case, add a line:\r\n\r\n    wallpath = new Path();\r\n    pathList.add(wallpath); // &lt;-- Add this line.\r\n\r\nIn the ACTION_MOVE case:\r\n\r\n    endPoint.x = event.getX();\r\n    endPoint.y = event.getY();\r\n    wallpath.lineTo(endPoint.x, endPoint.y); // &lt;-- Add this line.\r\n\r\n\r\nFinally, replace the code in your onDraw method with the following:\r\n\r\n    for (Path path : pathList) {\r\n        canvas.drawPath(path, paint);\r\n    }\r\n\r\nRemove the conditional, it is unnecessary.\r\n","title":"Drawing multiple paths in android","body":"<p>When ACTION_DOWN is the triggered event, you are resetting wallpath with the wallpath = new Path() statement, abandoning the previous value.  This new path is the only thing that is being drawn in your onDraw method, which is called every time the canvas needs to be redrawn.</p>\n\n<p>Consider building a List of paths, adding a new path to the list when ACTION_DOWN is the triggered event, and in your onDraw method, draw every path in the list.</p>\n\n<p>Details:</p>\n\n<p>Elsewhere in the code, add:</p>\n\n<pre><code>pathList = new ArrayList&lt;Path&gt;;\n</code></pre>\n\n<p>In ACTION_DOWN case, add a line:</p>\n\n<pre><code>wallpath = new Path();\npathList.add(wallpath); // &lt;-- Add this line.\n</code></pre>\n\n<p>In the ACTION_MOVE case:</p>\n\n<pre><code>endPoint.x = event.getX();\nendPoint.y = event.getY();\nwallpath.lineTo(endPoint.x, endPoint.y); // &lt;-- Add this line.\n</code></pre>\n\n<p>Finally, replace the code in your onDraw method with the following:</p>\n\n<pre><code>for (Path path : pathList) {\n    canvas.drawPath(path, paint);\n}\n</code></pre>\n\n<p>Remove the conditional, it is unnecessary.</p>\n"},{"tags":[],"owner":{"account_id":16089171,"reputation":91,"user_id":11613036,"display_name":"Orwa Ogwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654238146,"creation_date":1654034498,"answer_id":72454523,"question_id":18592169,"body_markdown":"I&#39;ve tried Wayne&#39;s solution. Works when drawing. I was wondering, what if I retrieve an arraylist of previously stored paths and try to draw them all using a for loop. Didn&#39;t work. The canvas always starts from as a blank, despite trying to draw all the retrieved lines.\r\n\r\n    for (Path path : pathList) {\r\n        canvas.drawPath(path, paint);\r\n    }","title":"Drawing multiple paths in android","body":"<p>I've tried Wayne's solution. Works when drawing. I was wondering, what if I retrieve an arraylist of previously stored paths and try to draw them all using a for loop. Didn't work. The canvas always starts from as a blank, despite trying to draw all the retrieved lines.</p>\n<pre><code>for (Path path : pathList) {\n    canvas.drawPath(path, paint);\n}\n</code></pre>\n"}],"owner":{"account_id":310434,"reputation":10029,"user_id":623401,"accept_rate":62,"display_name":"Zach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18592276,"answer_count":2,"score":1,"last_activity_date":1654238146,"creation_date":1378210748,"question_id":18592169,"body_markdown":"I am drawing closed paths in android canvas using finger movement. Here is my code for that\r\n\r\n    switch (event.getAction())\r\n                {\r\n                    case MotionEvent.ACTION_DOWN:\r\n                    \tstartPoint = new PointF(event.getX(), event.getY());\r\n                        endPoint = new PointF();\r\n                        hotSpot = new HotSpots();\r\n                        endPoint.x = event.getX();\r\n                        endPoint.y = event.getY();\r\n                        wallpath = new Path();\r\n                        wallpath.moveTo(endPoint.x,endPoint.y);\r\n                        break;\r\n                    case MotionEvent.ACTION_MOVE:\r\n                    \tPointF point = new PointF(event.getX(),event.getY());\r\n                        endPoint.x = event.getX();\r\n                        endPoint.y = event.getY();\r\n    \t\t\t\tinvalidate();\r\n                    \tbreak;\r\n                    case MotionEvent.ACTION_UP:\r\n                    \t\r\n                    \tendPoint.x = startPoint.x;//event.getX();\r\n                         isFinished = true;                    \r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n    \r\n     \t@Override\r\n        protected void onDraw(Canvas canvas)\r\n        {\r\n    \t\twallpath.lineTo(endPoint.x, endPoint.y);\r\n            \tcanvas.drawPath(wallpath, paint);\r\n    \r\n    \t   if(isFinished)\r\n            {\r\n            \twallpath.lineTo(endPoint.x, endPoint.y);\r\n            \tcanvas.drawPath(wallpath, paint);\r\n            }\r\n    \t}\r\n\r\nOn every new touch I am creating a new path. But when a new path is drawn the old path gets erased. How can I draw multiple paths on canvas with different fill colors to each path.","title":"Drawing multiple paths in android","body":"<p>I am drawing closed paths in android canvas using finger movement. Here is my code for that</p>\n\n<pre><code>switch (event.getAction())\n            {\n                case MotionEvent.ACTION_DOWN:\n                    startPoint = new PointF(event.getX(), event.getY());\n                    endPoint = new PointF();\n                    hotSpot = new HotSpots();\n                    endPoint.x = event.getX();\n                    endPoint.y = event.getY();\n                    wallpath = new Path();\n                    wallpath.moveTo(endPoint.x,endPoint.y);\n                    break;\n                case MotionEvent.ACTION_MOVE:\n                    PointF point = new PointF(event.getX(),event.getY());\n                    endPoint.x = event.getX();\n                    endPoint.y = event.getY();\n                invalidate();\n                    break;\n                case MotionEvent.ACTION_UP:\n\n                    endPoint.x = startPoint.x;//event.getX();\n                     isFinished = true;                    \n                    break;\n                default:\n                    break;\n            }\n\n    @Override\n    protected void onDraw(Canvas canvas)\n    {\n        wallpath.lineTo(endPoint.x, endPoint.y);\n            canvas.drawPath(wallpath, paint);\n\n       if(isFinished)\n        {\n            wallpath.lineTo(endPoint.x, endPoint.y);\n            canvas.drawPath(wallpath, paint);\n        }\n    }\n</code></pre>\n\n<p>On every new touch I am creating a new path. But when a new path is drawn the old path gets erased. How can I draw multiple paths on canvas with different fill colors to each path.</p>\n"},{"tags":["java","maven","maven-bom"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1654238337,"post_id":72485575,"comment_id":128047784,"body_markdown":"The BOM only defines what version the dependencies should have if you bring them in; it does not actually pull in dependencies. It should be safe to add it.","body":"The BOM only defines what version the dependencies should have if you bring them in; it does not actually pull in dependencies. It should be safe to add it."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654243026,"post_id":72485575,"comment_id":128049102,"body_markdown":"If you like to use them you have to add them. If adding of a BOM results in issue there is something else wrong...","body":"If you like to use them you have to add them. If adding of a BOM results in issue there is something else wrong..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654244743,"post_id":72485575,"comment_id":128049587,"body_markdown":"What I don&#39;t understand is: ` I would like to avoid addition of bom dependencies in my pom files.`? Why? As I wrote if adding will cause issues there are other problems..","body":"What I don&#39;t understand is: ` I would like to avoid addition of bom dependencies in my pom files.`? Why? As I wrote if adding will cause issues there are other problems.."},{"owner":{"account_id":22838100,"reputation":11,"user_id":16985582,"display_name":"Mounika"},"score":0,"creation_date":1654247399,"post_id":72485575,"comment_id":128050437,"body_markdown":"I need to add many bom files for my application to work....So just looking for a way to not add them explicitly in pom file or rather have them downloaded as a transitive dependency.","body":"I need to add many bom files for my application to work....So just looking for a way to not add them explicitly in pom file or rather have them downloaded as a transitive dependency."}],"owner":{"account_id":22838100,"reputation":11,"user_id":16985582,"display_name":"Mounika"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654238109,"creation_date":1654238109,"question_id":72485575,"body_markdown":"Is there any way to download a BOM file without explicitly adding the BOM file dependency in pom file? I would like to avoid addition of bom dependencies in my pom files. But the latest versions of TPP jars like Spring, CXF seem to have a dependency on BOM files and compilation fails without them. \r\n\r\nThanks in advance!","title":"Download BOM without explicitly adding in pom file","body":"<p>Is there any way to download a BOM file without explicitly adding the BOM file dependency in pom file? I would like to avoid addition of bom dependencies in my pom files. But the latest versions of TPP jars like Spring, CXF seem to have a dependency on BOM files and compilation fails without them.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642073224,"post_id":70695396,"comment_id":124977450,"body_markdown":"Is any of Toast messages displayed?","body":"Is any of Toast messages displayed?"},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642076151,"post_id":70695396,"comment_id":124978483,"body_markdown":"No there is no toast message displayed. But if i register the same email it displayed &quot;Failed to register the user&quot;.","body":"No there is no toast message displayed. But if i register the same email it displayed &quot;Failed to register the user&quot;."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642076245,"post_id":70695396,"comment_id":124978517,"body_markdown":"Is  your onComplete even triggered?","body":"Is  your onComplete even triggered?"},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642076544,"post_id":70695396,"comment_id":124978614,"body_markdown":"Im really sorry ...But what do you mean by triggered? (new OnCompleteListener&lt;AuthResult&gt;()) this is still anonymous  ...is that because of that","body":"Im really sorry ...But what do you mean by triggered? (new OnCompleteListener&lt;AuthResult&gt;()) this is still anonymous  ...is that because of that"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642076821,"post_id":70695396,"comment_id":124978723,"body_markdown":"Is your onComplete even called?","body":"Is your onComplete even called?"},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642076933,"post_id":70695396,"comment_id":124978763,"body_markdown":"Yes. its called","body":"Yes. its called"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642077142,"post_id":70695396,"comment_id":124978823,"body_markdown":"How do you know that?","body":"How do you know that?"},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642077686,"post_id":70695396,"comment_id":124979007,"body_markdown":"I already import this import com.google.android.gms.tasks.OnCompleteListener; in my project. And if the onComplete is not be called how can it store the email in database? Im sorry I&#39;m a beginner.","body":"I already import this import com.google.android.gms.tasks.OnCompleteListener; in my project. And if the onComplete is not be called how can it store the email in database? Im sorry I&#39;m a beginner."},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642079393,"post_id":70695396,"comment_id":124979765,"body_markdown":"Is there anything i can do ???","body":"Is there anything i can do ???"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642081131,"post_id":70695396,"comment_id":124980498,"body_markdown":"Make sure it&#39;s called, otherwise the code inside will node be triggered.","body":"Make sure it&#39;s called, otherwise the code inside will node be triggered."},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642081610,"post_id":70695396,"comment_id":124980708,"body_markdown":"How to know that its called or not ? Please provide a code","body":"How to know that its called or not ? Please provide a code"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1642086731,"post_id":70695396,"comment_id":124983079,"body_markdown":"I recommend performing some debugging yourself, and telling us the results. For example, if you put a breakpoint on the call to `setValue` and another one on `if(task.isSuccessful())` and run. the app in the debugger, does it reach either/both of those breakpoints? And if so, do the values of all variables on that line look correct to you?","body":"I recommend performing some debugging yourself, and telling us the results. For example, if you put a breakpoint on the call to <code>setValue</code> and another one on <code>if(task.isSuccessful())</code> and run. the app in the debugger, does it reach either/both of those breakpoints? And if so, do the values of all variables on that line look correct to you?"},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642093180,"post_id":70695396,"comment_id":124985821,"body_markdown":"Hello Frank..i have set the breakpoint and perform debugging ....but it doesn&#39;t display any thing in the frame. But from the second **public void onComplete(@NonNull Task&lt;Void&gt; task)** till the } has no 1 tick....is that the problem ?","body":"Hello Frank..i have set the breakpoint and perform debugging ....but it doesn&#39;t display any thing in the frame. But from the second <b>public void onComplete(@NonNull Task&lt;Void&gt; task)</b> till the } has no 1 tick....is that the problem ?"}],"answers":[{"tags":[],"owner":{"account_id":25439862,"reputation":1,"user_id":19242989,"display_name":"terry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654238082,"creation_date":1654024576,"answer_id":72453086,"question_id":70695396,"body_markdown":"You can specify the full database URL in the call to `getInstance()` like this: \r\n\r\n`FirebaseDatabase.getInstance(&quot;your database URL&quot;).getReference()`","title":"Why my Realtime Database Data is not showing anything in Firebase?","body":"<p>You can specify the full database URL in the call to <code>getInstance()</code> like this:</p>\n<p><code>FirebaseDatabase.getInstance(&quot;your database URL&quot;).getReference()</code></p>\n"}],"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654238082,"creation_date":1642071388,"question_id":70695396,"body_markdown":"I am doing a Android Studio Project with Firebase but I can&#39;t view the data in the Realtime Database. It seems successfully connected because I can see my data in the Authentication (User) but not displaying in Realtime database. Please help me. I have also turn the rules into true. But still my Firebase data showing **south-masalaa-default-rtbd:null**\r\n\r\n\r\n    mAuth.createUserWithEmailAndPassword(CustEmail, CustPass)\r\n        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n                if(task.isSuccessful())\r\n                {\r\n                    User user = new User(CustName, CustEmail, CustPhoneNumber, CustPass );\r\n                    FirebaseDatabase.getInstance().getReference(&quot;User&quot;)\r\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                            if(task.isSuccessful())\r\n                            {\r\n                                Toast.makeText(SignUp.this, &quot;Successful Registered&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                            else\r\n                            {\r\n                                Toast.makeText(SignUp.this, &quot;Not successful&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        }\r\n                    });\r\n                } else\r\n                {\r\n                    Toast.makeText(SignUp.this, &quot;Failed to register the user&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why my Realtime Database Data is not showing anything in Firebase?","body":"<p>I am doing a Android Studio Project with Firebase but I can't view the data in the Realtime Database. It seems successfully connected because I can see my data in the Authentication (User) but not displaying in Realtime database. Please help me. I have also turn the rules into true. But still my Firebase data showing <strong>south-masalaa-default-rtbd:null</strong></p>\n<pre><code>mAuth.createUserWithEmailAndPassword(CustEmail, CustPass)\n    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n            if(task.isSuccessful())\n            {\n                User user = new User(CustName, CustEmail, CustPhoneNumber, CustPass );\n                FirebaseDatabase.getInstance().getReference(&quot;User&quot;)\n                        .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n                        .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if(task.isSuccessful())\n                        {\n                            Toast.makeText(SignUp.this, &quot;Successful Registered&quot;, Toast.LENGTH_LONG).show();\n                        }\n                        else\n                        {\n                            Toast.makeText(SignUp.this, &quot;Not successful&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    }\n                });\n            } else\n            {\n                Toast.makeText(SignUp.this, &quot;Failed to register the user&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["java","spring","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1654237906,"post_id":72484491,"comment_id":128047673,"body_markdown":"seems `method group(String)` is not available in that version. Should probably be `setGroup(&quot;Fortune&quot;)`","body":"seems <code>method group(String)</code> is not available in that version. Should probably be <code>setGroup(&quot;Fortune&quot;)</code>"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654237239,"creation_date":1654228027,"question_id":72484491,"body_markdown":"I am using open api to generate the swagger docs, I follow the official documents to config like this:\r\n\r\n\r\n\r\n    package misc.config.openapi;\r\n    \r\n    import org.springdoc.core.GroupedOpenApi;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    /**\r\n     * https://springdoc.org/\r\n     * https://github.com/springdoc/springdoc-openapi\r\n     */\r\n    @Configuration\r\n    public class OpenApiConfig {\r\n    \r\n        @Bean\r\n        public GroupedOpenApi fortuneApi() {\r\n            return GroupedOpenApi.builder().group(&quot;Fortune&quot;).pathsToMatch(&quot;/fortune/**&quot;).build();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nthis is the [docs][1] page. when I compile the project, shows error like this:\r\n\r\n\r\n\r\n\r\n    &gt; Configure project :dolphin-acientbay\r\n    /Users/xiaoqiangjiang/source/reddwarf/backend/retire\r\n    &gt; Configure project :dolphin-post\r\n    /Users/xiaoqiangjiang/source/reddwarf/backend/retire\r\n    &gt; Configure project :dolphin-template\r\n    /Users/xiaoqiangjiang/source/reddwarf/backend/retire\r\n    &gt; Task :dolphin-common:compileJava FAILED\r\n    /Users/xiaoqiangjiang/source/reddwarf/backend/retire/dolphin-common/src/main/java/misc/config/openapi/OpenApiConfig.java:16: error: cannot find symbol\r\n            return GroupedOpenApi.builder().group(&quot;Fortune&quot;).pathsToMatch(&quot;/fortune/**&quot;).build();\r\n                                           ^\r\n      symbol:   method group(String)\r\n      location: class Builder\r\n    Note: Some input files use or override a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    Note: Some input files use unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    1 error\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:dolphin-common:compileJava&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n    \r\n    You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n    \r\n    See https://docs.gradle.org/7.4/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 2s\r\n    9 actionable tasks: 6 executed, 3 up-to-date\r\n\r\n\r\n\r\nthe Intellij IDE did not give any error tips, why could not compile the project? what should I do to fixed this problem? Am I missing something? this is the dependencies I am using:\r\n\r\n\r\n\r\n\r\n\r\n    api &quot;org.springdoc:springdoc-openapi-ui:1.6.9&quot;\r\n    api &quot;org.springdoc:springdoc-openapi-webmvc-core:1.2.32&quot;\r\n\r\n\r\n  [1]: https://springdoc.org/#migrating-from-springfox\r\n\r\n","title":"why the openapi official config could not find symbol when compile","body":"<p>I am using open api to generate the swagger docs, I follow the official documents to config like this:</p>\n<pre><code>package misc.config.openapi;\n\nimport org.springdoc.core.GroupedOpenApi;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n/**\n * https://springdoc.org/\n * https://github.com/springdoc/springdoc-openapi\n */\n@Configuration\npublic class OpenApiConfig {\n\n    @Bean\n    public GroupedOpenApi fortuneApi() {\n        return GroupedOpenApi.builder().group(&quot;Fortune&quot;).pathsToMatch(&quot;/fortune/**&quot;).build();\n    }\n\n}\n</code></pre>\n<p>this is the <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"nofollow noreferrer\">docs</a> page. when I compile the project, shows error like this:</p>\n<pre><code>&gt; Configure project :dolphin-acientbay\n/Users/xiaoqiangjiang/source/reddwarf/backend/retire\n&gt; Configure project :dolphin-post\n/Users/xiaoqiangjiang/source/reddwarf/backend/retire\n&gt; Configure project :dolphin-template\n/Users/xiaoqiangjiang/source/reddwarf/backend/retire\n&gt; Task :dolphin-common:compileJava FAILED\n/Users/xiaoqiangjiang/source/reddwarf/backend/retire/dolphin-common/src/main/java/misc/config/openapi/OpenApiConfig.java:16: error: cannot find symbol\n        return GroupedOpenApi.builder().group(&quot;Fortune&quot;).pathsToMatch(&quot;/fortune/**&quot;).build();\n                                       ^\n  symbol:   method group(String)\n  location: class Builder\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n1 error\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':dolphin-common:compileJava'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.4/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 2s\n9 actionable tasks: 6 executed, 3 up-to-date\n</code></pre>\n<p>the Intellij IDE did not give any error tips, why could not compile the project? what should I do to fixed this problem? Am I missing something? this is the dependencies I am using:</p>\n<pre><code>api &quot;org.springdoc:springdoc-openapi-ui:1.6.9&quot;\napi &quot;org.springdoc:springdoc-openapi-webmvc-core:1.2.32&quot;\n</code></pre>\n"},{"tags":["java","spring","design-patterns"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1653567638,"post_id":72354540,"comment_id":127885909,"body_markdown":"If you only append and do not modify the existing message or the appended text is dependent on the existing message, there is no reason to pass it around. Simply let those methods return strings and append those to the message in `doWork()`. Why would you need AOP for that?","body":"If you only append and do not modify the existing message or the appended text is dependent on the existing message, there is no reason to pass it around. Simply let those methods return strings and append those to the message in <code>doWork()</code>. Why would you need AOP for that?"},{"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"score":0,"creation_date":1653580082,"post_id":72354540,"comment_id":127890754,"body_markdown":"@kriegaex - Yes. I will only append to the existing message. In the above code, I could replace returning void with String as you suggested. In the more general case though, the method may already be returning another object or primitive. I suppose I could wrap that object in another one that included the String message property.  Thanks for thoughts.","body":"@kriegaex - Yes. I will only append to the existing message. In the above code, I could replace returning void with String as you suggested. In the more general case though, the method may already be returning another object or primitive. I suppose I could wrap that object in another one that included the String message property.  Thanks for thoughts."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1654153660,"post_id":72354540,"comment_id":128024688,"body_markdown":"*&quot;Would it be bad practice to use a singleton to hold state&quot;* In a multi-threaded application: yes. If 2 threads want to build an email at the same time, you&#39;re in trouble.","body":"<i>&quot;Would it be bad practice to use a singleton to hold state&quot;</i> In a multi-threaded application: yes. If 2 threads want to build an email at the same time, you&#39;re in trouble."},{"owner":{"account_id":7283504,"reputation":313,"user_id":5552396,"accept_rate":67,"display_name":"gunescelil"},"score":0,"creation_date":1654201270,"post_id":72354540,"comment_id":128041284,"body_markdown":"I would recommend you to declare a separate class for example name it EmailText and only make &#39;constructor with fields&#39; accessible. You can also add Assert.notNull checks in the constructor. This way you will make sure every field is initialized. Finally after this you can add another method in that class where it can order the text and return you what you want","body":"I would recommend you to declare a separate class for example name it EmailText and only make &#39;constructor with fields&#39; accessible. You can also add Assert.notNull checks in the constructor. This way you will make sure every field is initialized. Finally after this you can add another method in that class where it can order the text and return you what you want"}],"answers":[{"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653724350,"creation_date":1653724350,"answer_id":72413886,"question_id":72354540,"body_markdown":"It really depends on your goal.\r\n\r\nThe code you wrote appears to work, so your question is really about trying to achieve design-perfection.  There are certainly other patterns you could apply - e.g. some sort of dispatch, or notifier - but why?  If it works, and it&#39;s fast-enough, then move on to some other problem.  It it&#39;s slow, or doesn&#39;t scale to your needs, that&#39;s another story.  But in that case, you should gather performance metrics and attack it methodically.\r\n\r\nI&#39;m not sure about your singlton idea.  Essentially, emailMessage represents your &#39;model&#39; in a classic model-view-controller paradigm.  Sure, you could make a singleton out of it, but all that really does is move the model class from being passed-on-the-stack to residing (once) permanently in memory.  If your memory is thrashing with constant new/deletes from creating a billion emails, that might make sense, but I doubt you have that problem.  Singleton likely would not hurt, but what help is it providing?\r\n\r\nDon&#39;t let Perfect be the enemy of the Good","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>It really depends on your goal.</p>\n<p>The code you wrote appears to work, so your question is really about trying to achieve design-perfection.  There are certainly other patterns you could apply - e.g. some sort of dispatch, or notifier - but why?  If it works, and it's fast-enough, then move on to some other problem.  It it's slow, or doesn't scale to your needs, that's another story.  But in that case, you should gather performance metrics and attack it methodically.</p>\n<p>I'm not sure about your singlton idea.  Essentially, emailMessage represents your 'model' in a classic model-view-controller paradigm.  Sure, you could make a singleton out of it, but all that really does is move the model class from being passed-on-the-stack to residing (once) permanently in memory.  If your memory is thrashing with constant new/deletes from creating a billion emails, that might make sense, but I doubt you have that problem.  Singleton likely would not hurt, but what help is it providing?</p>\n<p>Don't let Perfect be the enemy of the Good</p>\n"},{"tags":[],"owner":{"account_id":4585640,"reputation":414,"user_id":3720409,"accept_rate":43,"display_name":"filip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653762268,"creation_date":1653762268,"answer_id":72418273,"question_id":72354540,"body_markdown":"Create a MailBuilder class as your domain model and pass it around. Depending which service does what you can have a method for each specific service call. For example MailBuilder.appendForServiceA(args), MailBuilder.appendForServiceB(args). This way you can actually test the builder on its own.","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>Create a MailBuilder class as your domain model and pass it around. Depending which service does what you can have a method for each specific service call. For example MailBuilder.appendForServiceA(args), MailBuilder.appendForServiceB(args). This way you can actually test the builder on its own.</p>\n"},{"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653919657,"creation_date":1653919657,"answer_id":72435676,"question_id":72354540,"body_markdown":"You are thinking in the right direction, if you see similar interactions from different services with a certain object, you can extract the whole process in the form of Beans.\r\n\r\nFor example, we can describe the process as follows:\r\n- An EmailBuilder object as input (as the others already mentioned)\r\n- And a series of transformations on that object\r\n- The EmailBuilder now can build an Email Object that holds all necessary transformations\r\n\r\nHere is how I would implement this with Spring Beans, the `@Order` annotation here is fundamental to the setup.\r\n\r\n```java\r\n    @lombok.Data\r\n    @lombok.Builder\r\n    static class Email {\r\n        private String to;\r\n        private String from;\r\n        @Singular\r\n        private List&lt;String&gt; sections;\r\n    }\r\n\r\n    @Bean\r\n    @Order(1)\r\n    Consumer&lt;Email.EmailBuilder&gt; addFromFieldToEmail() {\r\n        return emailBuilder -&gt; emailBuilder.from(&quot;abcd@efghijk.xyz&quot;);\r\n    }\r\n\r\n    @Bean\r\n    @Order(2)\r\n    Consumer&lt;Email.EmailBuilder&gt; addToFieldToEmail() {\r\n        return emailBuilder -&gt; {\r\n            // Get user email from context for example\r\n            // SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n            emailBuilder.to(&quot;user@domain.com&quot;);\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    @Order(3) // the bean order is taken in consideration when we autowire\r\n              // a list of similar beans. This ensures the processing order\r\n    Consumer&lt;Email.EmailBuilder&gt; addGreetingSectionToEmailBody() {\r\n        return emailBuilder -&gt; emailBuilder.section(\r\n                String.format(&quot;Dear %s,&quot;, emailBuilder.to)\r\n                + &quot;\\nwelcome to our website!&quot;\r\n                + &quot;\\n&quot;\r\n        );\r\n    }\r\n\r\n    @Bean\r\n    @Order(4)\r\n    Consumer&lt;Email.EmailBuilder&gt; addMarketingSectionToEmailBody() {\r\n        return emailBuilder -&gt; emailBuilder.section(\r\n                &quot;Do you know that if you invite your friends you get 200 Schmeckles in credit?&quot;\r\n                + &quot;[Invitation Link](https://efghijk.xyz/invite?user=123&amp;token=abcdef123)&quot;\r\n        );\r\n    }\r\n\r\n    @Bean // creating a Callable bean, and not an EmailBuilder ensures\r\n          // the creation of a new builder each time.\r\n          // An alternative would be to create an EmailBuilder bean of scope prototype\r\n          // see https://www.baeldung.com/spring-bean-scopes#prototype\r\n    Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider(final List&lt;Consumer&lt;Email.EmailBuilder&gt;&gt; customizers) {\r\n        return () -&gt; {\r\n            final Email.EmailBuilder builder = Email.builder();\r\n            customizers.forEach(customizer -&gt; customizer.accept(builder));\r\n            return builder;\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    MailService mailService(final Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider) {\r\n        return new MailService(emailBuilderProvider);\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    class MailService {\r\n\r\n        private final Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider;\r\n\r\n        void sendMail() throws Exception {\r\n            Email email = emailBuilderProvider.call().build();\r\n//            mail.sendEmailToAdmins(&quot;Batch process completed&quot;, email.toString());\r\n        }\r\n    }\r\n\r\n``` ","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>You are thinking in the right direction, if you see similar interactions from different services with a certain object, you can extract the whole process in the form of Beans.</p>\n<p>For example, we can describe the process as follows:</p>\n<ul>\n<li>An EmailBuilder object as input (as the others already mentioned)</li>\n<li>And a series of transformations on that object</li>\n<li>The EmailBuilder now can build an Email Object that holds all necessary transformations</li>\n</ul>\n<p>Here is how I would implement this with Spring Beans, the <code>@Order</code> annotation here is fundamental to the setup.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @lombok.Data\n    @lombok.Builder\n    static class Email {\n        private String to;\n        private String from;\n        @Singular\n        private List&lt;String&gt; sections;\n    }\n\n    @Bean\n    @Order(1)\n    Consumer&lt;Email.EmailBuilder&gt; addFromFieldToEmail() {\n        return emailBuilder -&gt; emailBuilder.from(&quot;abcd@efghijk.xyz&quot;);\n    }\n\n    @Bean\n    @Order(2)\n    Consumer&lt;Email.EmailBuilder&gt; addToFieldToEmail() {\n        return emailBuilder -&gt; {\n            // Get user email from context for example\n            // SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n            emailBuilder.to(&quot;user@domain.com&quot;);\n        };\n    }\n\n    @Bean\n    @Order(3) // the bean order is taken in consideration when we autowire\n              // a list of similar beans. This ensures the processing order\n    Consumer&lt;Email.EmailBuilder&gt; addGreetingSectionToEmailBody() {\n        return emailBuilder -&gt; emailBuilder.section(\n                String.format(&quot;Dear %s,&quot;, emailBuilder.to)\n                + &quot;\\nwelcome to our website!&quot;\n                + &quot;\\n&quot;\n        );\n    }\n\n    @Bean\n    @Order(4)\n    Consumer&lt;Email.EmailBuilder&gt; addMarketingSectionToEmailBody() {\n        return emailBuilder -&gt; emailBuilder.section(\n                &quot;Do you know that if you invite your friends you get 200 Schmeckles in credit?&quot;\n                + &quot;[Invitation Link](https://efghijk.xyz/invite?user=123&amp;token=abcdef123)&quot;\n        );\n    }\n\n    @Bean // creating a Callable bean, and not an EmailBuilder ensures\n          // the creation of a new builder each time.\n          // An alternative would be to create an EmailBuilder bean of scope prototype\n          // see https://www.baeldung.com/spring-bean-scopes#prototype\n    Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider(final List&lt;Consumer&lt;Email.EmailBuilder&gt;&gt; customizers) {\n        return () -&gt; {\n            final Email.EmailBuilder builder = Email.builder();\n            customizers.forEach(customizer -&gt; customizer.accept(builder));\n            return builder;\n        };\n    }\n\n    @Bean\n    MailService mailService(final Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider) {\n        return new MailService(emailBuilderProvider);\n    }\n\n    @RequiredArgsConstructor\n    class MailService {\n\n        private final Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider;\n\n        void sendMail() throws Exception {\n            Email email = emailBuilderProvider.call().build();\n//            mail.sendEmailToAdmins(&quot;Batch process completed&quot;, email.toString());\n        }\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12571294,"reputation":1,"user_id":9145315,"display_name":"Federico Boarelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654091131,"creation_date":1654002160,"answer_id":72448296,"question_id":72354540,"body_markdown":"Sticking to your business logic and considering what you&#39;ve shared I think that using multiple side-effects call on same object, considering that [StringBuilder is not thread-safe][1], is probably not the best approach.\r\n\r\nI would rather return a message from each call from which you want to track the outcome and store them in a data structure, like a stack just to make an example, and building the mail messages considering the data collected. \r\n\r\nThis approach could be easily tweaked to get a thread safe implementation if needed.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/StringBuilder.html","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>Sticking to your business logic and considering what you've shared I think that using multiple side-effects call on same object, considering that <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder is not thread-safe</a>, is probably not the best approach.</p>\n<p>I would rather return a message from each call from which you want to track the outcome and store them in a data structure, like a stack just to make an example, and building the mail messages considering the data collected.</p>\n<p>This approach could be easily tweaked to get a thread safe implementation if needed.</p>\n"},{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654236657,"creation_date":1654185784,"answer_id":72479124,"question_id":72354540,"body_markdown":"Yes you can use Bean for sending emails:\r\n\r\n    @Bean\r\n    public JavaMailSender getJavaMailSender() {\r\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n        mailSender.setHost(&quot;host&quot;);\r\n        mailSender.setPort(&lt;port number&gt;);\r\n    \r\n        mailSender.setUsername(&quot;user_name&quot;);\r\n        mailSender.setPassword(&quot;password&quot;);\r\n\r\n        ///////////////////////////////\r\n        //Set subject, to\r\n        ///////////////////////////////\r\n\r\n        Properties props = mailSender.getJavaMailProperties();\r\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    \r\n        return mailSender;\r\n    }\r\n\r\nAnd autowire it to your service class as following:\r\n\r\n    @Autowired\r\n    public JavaMailSender emailSender;\r\n    \r\n    public void sendSimpleMessage(\r\n      String to, String subject, String text) {\r\n        ...\r\n        SimpleMailMessage message = new SimpleMailMessage();\r\n        message.setTo(to);\r\n        message.setSubject(subject);\r\n        message.setText(text);\r\n        emailSender.send(message);\r\n        ...\r\n    }\r\n\r\nIn your case, because your email to and subject are constant, you can set these parameters at `JavaMailSender` Bean and call `emailSender.send()` wit only one argument that is email body and you don&#39;t need instantiate send `SimpleMailMessage` class for calling `emailSender.send()` method. In another language, you message&#39;s constant part in your bean and send varying part to send method as arguments.\r\n\r\n[Guide to Send Emails in Java][1]\r\n\r\n\r\n  [1]: https://mailtrap.io/blog/sending-email-using-java/\r\n","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>Yes you can use Bean for sending emails:</p>\n<pre><code>@Bean\npublic JavaMailSender getJavaMailSender() {\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n    mailSender.setHost(&quot;host&quot;);\n    mailSender.setPort(&lt;port number&gt;);\n\n    mailSender.setUsername(&quot;user_name&quot;);\n    mailSender.setPassword(&quot;password&quot;);\n\n    ///////////////////////////////\n    //Set subject, to\n    ///////////////////////////////\n\n    Properties props = mailSender.getJavaMailProperties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n    return mailSender;\n}\n</code></pre>\n<p>And autowire it to your service class as following:</p>\n<pre><code>@Autowired\npublic JavaMailSender emailSender;\n\npublic void sendSimpleMessage(\n  String to, String subject, String text) {\n    ...\n    SimpleMailMessage message = new SimpleMailMessage();\n    message.setTo(to);\n    message.setSubject(subject);\n    message.setText(text);\n    emailSender.send(message);\n    ...\n}\n</code></pre>\n<p>In your case, because your email to and subject are constant, you can set these parameters at <code>JavaMailSender</code> Bean and call <code>emailSender.send()</code> wit only one argument that is email body and you don't need instantiate send <code>SimpleMailMessage</code> class for calling <code>emailSender.send()</code> method. In another language, you message's constant part in your bean and send varying part to send method as arguments.</p>\n<p><a href=\"https://mailtrap.io/blog/sending-email-using-java/\" rel=\"nofollow noreferrer\">Guide to Send Emails in Java</a></p>\n"},{"tags":[],"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654196389,"creation_date":1654196389,"answer_id":72481117,"question_id":72354540,"body_markdown":"I feel a better way would be to return a wrapper class from your child services. The wrapper class can have two attributes, a generic type `payload` to contain any data that&#39;s actually retuned by the service, and another field `summary` of type `String` containing the message that you can use in your email content. \r\n\r\n```java\r\n// our wrapper class\r\nclass ServiceReply&lt;T&gt; {\r\n  private String summary;\r\n  private T payload;\r\n\r\n  // constructors/getters/setters... prefer a builder though\r\n}\r\n```\r\n\r\nThe your service looks somethings like below\r\n```java\r\n@Service\r\npublic class Service1 {\r\n    public ServiceReply&lt;List&lt;Item&gt;&gt; method1() {\r\n         //some work to remove items\r\n        String message = String.format(&quot;Following items were removed&quot;, items);\r\n        log.info(message);\r\n        return new ServiceReply&lt;&gt;(message, items);\r\n    }\r\n}\r\n```\r\n\r\nand your `doWork` method in `MainService.java` reduces to something as below \r\n```java\r\npublic void doWork() {\r\n\r\n  StringBuilder emailMessage = new StringBuilder();\r\n\r\n  final ServiceReply&lt;List&lt;Item&gt;&gt; replyService1Method1 = service1.method1();\r\n  emailMessage.append(replyService1Method1.getSummary());\r\n  List&lt;Item&gt; items = replyService1Method1.getPayload();\r\n\r\n  // other method calls omitted for brevity \r\n\r\n  //send one email to the admins \r\n  mail.sendEmailToAdmins(&quot;Batch process completed&quot;, emailMessage.toString());\r\n}\r\n```\r\n\r\nThis way, though you end up writing a little more code (1 extra line per method call in the above sample), you don&#39;t have to bother about passing the message object across methods. ","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>I feel a better way would be to return a wrapper class from your child services. The wrapper class can have two attributes, a generic type <code>payload</code> to contain any data that's actually retuned by the service, and another field <code>summary</code> of type <code>String</code> containing the message that you can use in your email content.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// our wrapper class\nclass ServiceReply&lt;T&gt; {\n  private String summary;\n  private T payload;\n\n  // constructors/getters/setters... prefer a builder though\n}\n</code></pre>\n<p>The your service looks somethings like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class Service1 {\n    public ServiceReply&lt;List&lt;Item&gt;&gt; method1() {\n         //some work to remove items\n        String message = String.format(&quot;Following items were removed&quot;, items);\n        log.info(message);\n        return new ServiceReply&lt;&gt;(message, items);\n    }\n}\n</code></pre>\n<p>and your <code>doWork</code> method in <code>MainService.java</code> reduces to something as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doWork() {\n\n  StringBuilder emailMessage = new StringBuilder();\n\n  final ServiceReply&lt;List&lt;Item&gt;&gt; replyService1Method1 = service1.method1();\n  emailMessage.append(replyService1Method1.getSummary());\n  List&lt;Item&gt; items = replyService1Method1.getPayload();\n\n  // other method calls omitted for brevity \n\n  //send one email to the admins \n  mail.sendEmailToAdmins(&quot;Batch process completed&quot;, emailMessage.toString());\n}\n</code></pre>\n<p>This way, though you end up writing a little more code (1 extra line per method call in the above sample), you don't have to bother about passing the message object across methods.</p>\n"}],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72413886,"answer_count":6,"score":1,"last_activity_date":1654236657,"creation_date":1653338056,"question_id":72354540,"body_markdown":"From a `@Service` class, I&#39;m calling several methods on other `@Service` classes. The service methods do some work and add some text to an email message. That email message is sent to admins to let them know of the work that was done. \r\n\r\nHere&#39;s a simple example but in general the email message may be appended within any service method including ones that are not directly called by the `MainService`. Similar to logging, The message is always appended to an existing message. It is not modified in any other way.\r\n\r\n\r\n    @Service\r\n    public class MainService {    \r\n    \r\n       private final Service1 service1;\r\n       private final Service2 service2;\r\n       private final Mail mail;\r\n    \r\n       public void doWork() {\r\n    \r\n    \t   StringBuilder emailMessage = new StringBuilder();\r\n    \r\n           List&lt;Item&gt; items = service1.method1(emailMessage);\r\n           Employee employee = service1.method2(emailMessage);\r\n           service1.method3(emailMessage);\r\n    \r\n           service2.method1(emailMessage);\r\n           service2.method2(emailMessage);\r\n    \r\n           //send one email to the admins \r\n           mail.sendEmailToAdmins(&quot;Batch process completed&quot;, emailMessage.toString());\r\n        }\r\n    }\r\n\r\n    @Service\r\n    public class Service1 {\r\n\r\n        public List&lt;Item&gt; method1(StringBuilder emailMessage) {\r\n\r\n             //some work to remove items\r\n            \r\n            String message = String.format(&quot;Following items were removed&quot;, items);\r\n            log.info(message);\r\n            emailMessage.append(message);\r\n            return items;\r\n        }\r\n    }\r\n\r\nIs there a way to avoid passing around `emailMessage`? Would it be bad practice to use a singleton to hold state (i.e., email message text) and inject that into each service class? \r\n\r\nA few notes are: \r\n\r\n - This is not a web application. It&#39;s an application that runs on a cron job daily.\r\n - Order of the text appended in the message is not important\r\n\r\n","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>From a <code>@Service</code> class, I'm calling several methods on other <code>@Service</code> classes. The service methods do some work and add some text to an email message. That email message is sent to admins to let them know of the work that was done.</p>\n<p>Here's a simple example but in general the email message may be appended within any service method including ones that are not directly called by the <code>MainService</code>. Similar to logging, The message is always appended to an existing message. It is not modified in any other way.</p>\n<pre><code>@Service\npublic class MainService {    \n\n   private final Service1 service1;\n   private final Service2 service2;\n   private final Mail mail;\n\n   public void doWork() {\n\n       StringBuilder emailMessage = new StringBuilder();\n\n       List&lt;Item&gt; items = service1.method1(emailMessage);\n       Employee employee = service1.method2(emailMessage);\n       service1.method3(emailMessage);\n\n       service2.method1(emailMessage);\n       service2.method2(emailMessage);\n\n       //send one email to the admins \n       mail.sendEmailToAdmins(&quot;Batch process completed&quot;, emailMessage.toString());\n    }\n}\n\n@Service\npublic class Service1 {\n\n    public List&lt;Item&gt; method1(StringBuilder emailMessage) {\n\n         //some work to remove items\n        \n        String message = String.format(&quot;Following items were removed&quot;, items);\n        log.info(message);\n        emailMessage.append(message);\n        return items;\n    }\n}\n</code></pre>\n<p>Is there a way to avoid passing around <code>emailMessage</code>? Would it be bad practice to use a singleton to hold state (i.e., email message text) and inject that into each service class?</p>\n<p>A few notes are:</p>\n<ul>\n<li>This is not a web application. It's an application that runs on a cron job daily.</li>\n<li>Order of the text appended in the message is not important</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1653877475,"post_id":72428578,"comment_id":127950722,"body_markdown":"Use the `drawImage(...)` method of the Graphics object. It allows you to specify the location and even scale the image if required. Also for custom painting you should override the `paintComponent()` method of your JPanel or JComponent.","body":"Use the <code>drawImage(...)</code> method of the Graphics object. It allows you to specify the location and even scale the image if required. Also for custom painting you should override the <code>paintComponent()</code> method of your JPanel or JComponent."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653877988,"post_id":72428578,"comment_id":127950798,"body_markdown":"[2D Graphics Trail](https://docs.oracle.com/javase/tutorial/2d/index.html#:~:text=This%20trail%20introduces%20you%20to,for%20beginners%20in%20computer%20graphics.); [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html); [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/2d/index.html#:~:text=This%20trail%20introduces%20you%20to,for%20beginners%20in%20computer%20graphics.\" rel=\"nofollow noreferrer\">2D Graphics Trail</a>; <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a>; <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a>"}],"answers":[{"tags":[],"owner":{"account_id":21027267,"reputation":24,"user_id":15452367,"display_name":"Sakthimahendran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1654236347,"creation_date":1653883567,"answer_id":72429046,"question_id":72428578,"body_markdown":"Try using `g.drawImage()` method.\r\n\r\nExample\r\n\r\n    public void paintComponent(Graphics g) {\r\n       g.drawImage(...);\r\n    }\r\n\r\nYou can adjust the arguments in the `g.drawImage()` to adjust the image drawn.\r\n\r\n    ","title":"How do I insert an image instead of fillOval?","body":"<p>Try using <code>g.drawImage()</code> method.</p>\n<p>Example</p>\n<pre><code>public void paintComponent(Graphics g) {\n   g.drawImage(...);\n}\n</code></pre>\n<p>You can adjust the arguments in the <code>g.drawImage()</code> to adjust the image drawn.</p>\n"}],"owner":{"account_id":24004664,"reputation":41,"user_id":17989014,"display_name":"Don Diablo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654236347,"creation_date":1653877407,"question_id":72428578,"body_markdown":"\r\n```lang-java\r\npublic void paint(Graphics g) {\r\n    g.setColor(Color.green);\r\n    g.fillOval(ballPosX, ballPosY, 20, 20);\r\n}\r\n```\r\n\r\nI want to insert an image here, i.e. &quot;ball.png&quot; image inside a &quot;res&quot; folder in Java project.\r\n\r\nHow can I do this keeping all of the ball functions, like ball position and size. Just need to paste an image instead of automatically drawn circle","title":"How do I insert an image instead of fillOval?","body":"<pre class=\"lang-java prettyprint-override\"><code>public void paint(Graphics g) {\n    g.setColor(Color.green);\n    g.fillOval(ballPosX, ballPosY, 20, 20);\n}\n</code></pre>\n<p>I want to insert an image here, i.e. &quot;ball.png&quot; image inside a &quot;res&quot; folder in Java project.</p>\n<p>How can I do this keeping all of the ball functions, like ball position and size. Just need to paste an image instead of automatically drawn circle</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654236278,"creation_date":1654236278,"answer_id":72485316,"question_id":72484314,"body_markdown":"Sugesstion\r\n===========\r\nI don&#39;t know which SQL you are using but will suggest you to make your desired result set using a single query itself. It will be much easier to handle the data . \r\n\r\n`Connection` to a DB is always costly , try to minimize the no of connections .It is for good practise.\r\n\r\nAlternative\r\n---------\r\nIn java your approach is correct , however as per my understanding from the post `contains` may not work as 2 result sets may have different values.\r\nIf that is not the case you can use `contains`. \r\n\r\nBelow is an example without using `contains`.Here I have assumed 2nd result set may have multiple values as per each `LOGIN_ID`.\r\n\r\n```\r\n List&lt;StudentVO&gt; listFromDb1 = new ArrayList&lt;StudentVO&gt;;\r\n List&lt;StudentVO&gt; listFromDb2 = new ArrayList&lt;StudentVO&gt;;\r\n    \r\nif(rs2 != null){\r\n    while(rsv.next())\r\n    {\r\n        // listFromDb1\r\n        //add result set from db1\r\n    }\r\n}\r\n\r\nif(rs!=null){\r\n    while(rsv.next())\r\n    {\r\n        // listFromDb2\r\n        //add result set from db2\r\n    }\r\n}\r\n\r\nList&lt;StudentVO&gt; finalList = new ArrayList&lt;StudentVO&gt;();\r\n\r\n// considering listFromDb1 is your main dataset\r\nfor(StudentVO student : listFromDb1){\r\n     //boolean true =listFromDb2.stream().filter(s-&gt; s.equals(student.getSTUD_LOG_IN_ID())).findAny().isPresent();\r\n     for(StudentVO student2  : listFromDb2){\r\n         if(student.getSTUD_LOG_IN_ID().equals(student2.getSTUD_LOG_IN_ID())){\r\n             \r\n            //set the student values in new object and then add it to final list\r\n             StudentVO tempStu= new StudentVO(student,student2.getSTUD_LOG_IN_ID()); //it is just an example.\r\n             \r\n             finalList.add(tempStu); \r\n            \r\n             //use break here if 2nd resultset doesnot hold multiple log in id for same student;\r\n         }\r\n     }\r\n}\r\n\r\nStudentStore.setAllStudents(finalList);\r\n```\r\n","title":"How would I join and insert data to the VO from 2 different database","body":"<h1>Sugesstion</h1>\n<p>I don't know which SQL you are using but will suggest you to make your desired result set using a single query itself. It will be much easier to handle the data .</p>\n<p><code>Connection</code> to a DB is always costly , try to minimize the no of connections .It is for good practise.</p>\n<h2>Alternative</h2>\n<p>In java your approach is correct , however as per my understanding from the post <code>contains</code> may not work as 2 result sets may have different values.\nIf that is not the case you can use <code>contains</code>.</p>\n<p>Below is an example without using <code>contains</code>.Here I have assumed 2nd result set may have multiple values as per each <code>LOGIN_ID</code>.</p>\n<pre><code> List&lt;StudentVO&gt; listFromDb1 = new ArrayList&lt;StudentVO&gt;;\n List&lt;StudentVO&gt; listFromDb2 = new ArrayList&lt;StudentVO&gt;;\n    \nif(rs2 != null){\n    while(rsv.next())\n    {\n        // listFromDb1\n        //add result set from db1\n    }\n}\n\nif(rs!=null){\n    while(rsv.next())\n    {\n        // listFromDb2\n        //add result set from db2\n    }\n}\n\nList&lt;StudentVO&gt; finalList = new ArrayList&lt;StudentVO&gt;();\n\n// considering listFromDb1 is your main dataset\nfor(StudentVO student : listFromDb1){\n     //boolean true =listFromDb2.stream().filter(s-&gt; s.equals(student.getSTUD_LOG_IN_ID())).findAny().isPresent();\n     for(StudentVO student2  : listFromDb2){\n         if(student.getSTUD_LOG_IN_ID().equals(student2.getSTUD_LOG_IN_ID())){\n             \n            //set the student values in new object and then add it to final list\n             StudentVO tempStu= new StudentVO(student,student2.getSTUD_LOG_IN_ID()); //it is just an example.\n             \n             finalList.add(tempStu); \n            \n             //use break here if 2nd resultset doesnot hold multiple log in id for same student;\n         }\n     }\n}\n\nStudentStore.setAllStudents(finalList);\n</code></pre>\n"}],"owner":{"account_id":25460916,"reputation":3,"user_id":19260695,"display_name":"roger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72485316,"answer_count":1,"score":0,"last_activity_date":1654236278,"creation_date":1654225716,"question_id":72484314,"body_markdown":"Before I only have 1 SQL query where all of the column fields located in only 1 database. But now I need to move the StudentAccess to a different database. I need to join both of the database record and insert it to my VO object.\r\n\r\nDatabase 1:\r\nSelect STUD_ID_NR, STUD_NM, STUD_LOG_ID\r\nfrom Student\r\n\r\nDatabase 2:\r\nSELECT STUD_LOG_ID, STUD_LOG_ID from StudentAccess\r\nWHERE logFlag= true\r\n\r\nThe STUD_LOG_ID will be the identifier for both of the table to join them.\r\n\r\nThis is my current code before that store data from only 1 Database\r\n\r\nClass 1:\r\n\r\n\r\n    try\r\n    {\r\n        conn = getDataSource().getConnection();\r\n        stmt = conn.createStatement()\r\n        rs = stmt.executeQuery(StudentQuery);\r\n        \r\n    \r\n        List&lt;StudentVO&gt; listOfStudents = new ArrayList&lt;StudentVO&gt;;\r\n        \r\n        if(null != rs)\r\n         {\r\n          while(rsv.next())\r\n           {\r\n             StudentVO validStudent = StudentsMapper.mapToVo(rs.getString(STUD_ID_NR), \r\n             rs.getString(STUD_NM), rs.getString(STUD_LOG_ID));\r\n\r\n             if(validStudents != null)\r\n              {\r\n                listOfStudents.add(validstudent);\r\n              }\r\n          \r\n        StudentStore.setAllStudents(listOfStudents);\r\n    }\r\n\r\nIf the data&#39;s are coming from two database. how would I Still insert the STUD_LOG_IN_ID of the student to the VO if their STUD_LOG_ID had a match?\r\n\r\nLet&#39;s assume that we can call both of the database in this class.\r\n\r\n    try\r\n    {\r\n        conn = getDataSource().getConnection();\r\n        stmt = conn.createStatement()\r\n        rs = stmt.executeQuery(StudentQuery);\r\n        rs2 = stmt.executeQuery(StudentAccessQuery);\r\n    \r\n        List&lt;StudentVO&gt; listOfStudents = new ArrayList&lt;StudentVO&gt;;\r\n        \r\n                if(null != rs2)\r\n                 {\r\n                  while(rsv.next())\r\n                   {\r\n                   }\r\n                 }\r\n        \r\n                if(null != rs)\r\n                 {\r\n                  while(rsv.next())\r\n                   {\r\n                   }\r\n            \r\n                StudentStore.setAllStudents(listOfStudents);\r\n        }\r\n\r\nI&#39;m quite confused on how will I do it. should I add both record in an arraylist first then use the contain?\r\n\r\nMy VO contains the STUD_ID_NR,STUD_NM,STUD_LOG_IN_ID","title":"How would I join and insert data to the VO from 2 different database","body":"<p>Before I only have 1 SQL query where all of the column fields located in only 1 database. But now I need to move the StudentAccess to a different database. I need to join both of the database record and insert it to my VO object.</p>\n<p>Database 1:\nSelect STUD_ID_NR, STUD_NM, STUD_LOG_ID\nfrom Student</p>\n<p>Database 2:\nSELECT STUD_LOG_ID, STUD_LOG_ID from StudentAccess\nWHERE logFlag= true</p>\n<p>The STUD_LOG_ID will be the identifier for both of the table to join them.</p>\n<p>This is my current code before that store data from only 1 Database</p>\n<p>Class 1:</p>\n<pre><code>try\n{\n    conn = getDataSource().getConnection();\n    stmt = conn.createStatement()\n    rs = stmt.executeQuery(StudentQuery);\n    \n\n    List&lt;StudentVO&gt; listOfStudents = new ArrayList&lt;StudentVO&gt;;\n    \n    if(null != rs)\n     {\n      while(rsv.next())\n       {\n         StudentVO validStudent = StudentsMapper.mapToVo(rs.getString(STUD_ID_NR), \n         rs.getString(STUD_NM), rs.getString(STUD_LOG_ID));\n\n         if(validStudents != null)\n          {\n            listOfStudents.add(validstudent);\n          }\n      \n    StudentStore.setAllStudents(listOfStudents);\n}\n</code></pre>\n<p>If the data's are coming from two database. how would I Still insert the STUD_LOG_IN_ID of the student to the VO if their STUD_LOG_ID had a match?</p>\n<p>Let's assume that we can call both of the database in this class.</p>\n<pre><code>try\n{\n    conn = getDataSource().getConnection();\n    stmt = conn.createStatement()\n    rs = stmt.executeQuery(StudentQuery);\n    rs2 = stmt.executeQuery(StudentAccessQuery);\n\n    List&lt;StudentVO&gt; listOfStudents = new ArrayList&lt;StudentVO&gt;;\n    \n            if(null != rs2)\n             {\n              while(rsv.next())\n               {\n               }\n             }\n    \n            if(null != rs)\n             {\n              while(rsv.next())\n               {\n               }\n        \n            StudentStore.setAllStudents(listOfStudents);\n    }\n</code></pre>\n<p>I'm quite confused on how will I do it. should I add both record in an arraylist first then use the contain?</p>\n<p>My VO contains the STUD_ID_NR,STUD_NM,STUD_LOG_IN_ID</p>\n"},{"tags":["java","json","jsonpath","json-path-expression"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654235990,"creation_date":1654235990,"answer_id":72485286,"question_id":72485063,"body_markdown":"I think that your method of parsing just ignores the options. Try it like this:\r\n\r\n```\r\nString author = JsonPath.using(conf).parse(objectInArray.toString()).read(&quot;$.store.book[0].author&quot;);\r\n```\r\n\r\nI found this method on the original documentation:\r\nhttps://github.com/json-path/JsonPath#tweaking-configuration","title":"How to use a path with nonNull check in an array using JSONPath","body":"<p>I think that your method of parsing just ignores the options. Try it like this:</p>\n<pre><code>String author = JsonPath.using(conf).parse(objectInArray.toString()).read(&quot;$.store.book[0].author&quot;);\n</code></pre>\n<p>I found this method on the original documentation:\n<a href=\"https://github.com/json-path/JsonPath#tweaking-configuration\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath#tweaking-configuration</a></p>\n"}],"owner":{"account_id":388093,"reputation":1419,"user_id":746823,"accept_rate":69,"display_name":"Metalhead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72485286,"answer_count":1,"score":1,"last_activity_date":1654235990,"creation_date":1654233912,"question_id":72485063,"body_markdown":"I have a simple json like\r\n```\r\n{\r\n    &quot;store&quot;: {\r\n        &quot;book&quot;: [\r\n            {\r\n                &quot;category&quot;: &quot;reference&quot;,\r\n                &quot;author&quot;: &quot;Nigel Rees&quot;,\r\n                &quot;title&quot;: &quot;Sayings of the Century&quot;,\r\n                &quot;price&quot;: 8.95\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;Evelyn Waugh&quot;,\r\n                &quot;title&quot;: &quot;Sword of Honour&quot;,\r\n                &quot;price&quot;: 12.99\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;Herman Melville&quot;,\r\n                &quot;title&quot;: &quot;Moby Dick&quot;,\r\n                &quot;isbn&quot;: &quot;0-553-21311-3&quot;,\r\n                &quot;price&quot;: 8.99\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;J. R. R. Tolkien&quot;,\r\n                &quot;title&quot;: &quot;The Lord of the Rings&quot;,\r\n                &quot;isbn&quot;: &quot;0-395-19395-8&quot;,\r\n                &quot;price&quot;: 22.99\r\n            }\r\n        ],\r\n        &quot;bicycle&quot;: {\r\n            &quot;color&quot;: &quot;red&quot;,\r\n            &quot;price&quot;: 19.95\r\n        }\r\n    },\r\n    &quot;expensive&quot;: 10\r\n}\r\n```\r\nIn some cases, this books array may be empty like this\r\n\r\n```\r\n{\r\n    &quot;store&quot;: {\r\n        &quot;book&quot;: [ ],\r\n        &quot;bicycle&quot;: {\r\n            &quot;color&quot;: &quot;red&quot;,\r\n            &quot;price&quot;: 19.95\r\n        }\r\n    },\r\n    &quot;expensive&quot;: 10\r\n}\r\n```\r\n\r\nMy code to parse this is like below\r\n\r\n```\r\nConfiguration conf = Configuration.builder().jsonProvider(new JsonSmartJsonProvider())\r\n\t\t\t\t\t.options(Option.SUPPRESS_EXCEPTIONS).build();\r\nObject document = conf.jsonProvider().parse(objectInArray.toString());\r\n\r\nString author = JsonPath.read(document, &quot;$.store.book[0].author&quot;);\r\n\r\n```\r\n\r\nWhile running this code I get an error saying \r\n```\r\ncom.jayway.jsonpath.PathNotFoundException: Expected to find an object with property [&#39;name&#39;] in path $[&#39;store&#39;][&#39;book&#39;] but found &#39;null&#39;. This is not a json object according to the JsonProvider: &#39;com.jayway.jsonpath.spi.json.JsonSmartJsonProvider&#39;.\r\n\r\n\r\n```\r\n\r\nHow do I solve this issue? I am already using suppress exceptions options. It sounds pretty simple but not able to find a clear solution over web. Examples side a filter criteria for getting specific element from array but not for handling empty array.","title":"How to use a path with nonNull check in an array using JSONPath","body":"<p>I have a simple json like</p>\n<pre><code>{\n    &quot;store&quot;: {\n        &quot;book&quot;: [\n            {\n                &quot;category&quot;: &quot;reference&quot;,\n                &quot;author&quot;: &quot;Nigel Rees&quot;,\n                &quot;title&quot;: &quot;Sayings of the Century&quot;,\n                &quot;price&quot;: 8.95\n            },\n            {\n                &quot;category&quot;: &quot;fiction&quot;,\n                &quot;author&quot;: &quot;Evelyn Waugh&quot;,\n                &quot;title&quot;: &quot;Sword of Honour&quot;,\n                &quot;price&quot;: 12.99\n            },\n            {\n                &quot;category&quot;: &quot;fiction&quot;,\n                &quot;author&quot;: &quot;Herman Melville&quot;,\n                &quot;title&quot;: &quot;Moby Dick&quot;,\n                &quot;isbn&quot;: &quot;0-553-21311-3&quot;,\n                &quot;price&quot;: 8.99\n            },\n            {\n                &quot;category&quot;: &quot;fiction&quot;,\n                &quot;author&quot;: &quot;J. R. R. Tolkien&quot;,\n                &quot;title&quot;: &quot;The Lord of the Rings&quot;,\n                &quot;isbn&quot;: &quot;0-395-19395-8&quot;,\n                &quot;price&quot;: 22.99\n            }\n        ],\n        &quot;bicycle&quot;: {\n            &quot;color&quot;: &quot;red&quot;,\n            &quot;price&quot;: 19.95\n        }\n    },\n    &quot;expensive&quot;: 10\n}\n</code></pre>\n<p>In some cases, this books array may be empty like this</p>\n<pre><code>{\n    &quot;store&quot;: {\n        &quot;book&quot;: [ ],\n        &quot;bicycle&quot;: {\n            &quot;color&quot;: &quot;red&quot;,\n            &quot;price&quot;: 19.95\n        }\n    },\n    &quot;expensive&quot;: 10\n}\n</code></pre>\n<p>My code to parse this is like below</p>\n<pre><code>Configuration conf = Configuration.builder().jsonProvider(new JsonSmartJsonProvider())\n                    .options(Option.SUPPRESS_EXCEPTIONS).build();\nObject document = conf.jsonProvider().parse(objectInArray.toString());\n\nString author = JsonPath.read(document, &quot;$.store.book[0].author&quot;);\n\n</code></pre>\n<p>While running this code I get an error saying</p>\n<pre><code>com.jayway.jsonpath.PathNotFoundException: Expected to find an object with property ['name'] in path $['store']['book'] but found 'null'. This is not a json object according to the JsonProvider: 'com.jayway.jsonpath.spi.json.JsonSmartJsonProvider'.\n\n\n</code></pre>\n<p>How do I solve this issue? I am already using suppress exceptions options. It sounds pretty simple but not able to find a clear solution over web. Examples side a filter criteria for getting specific element from array but not for handling empty array.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2297829,"reputation":31,"user_id":2018849,"display_name":"Chris_LE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529351730,"creation_date":1529351730,"answer_id":50916608,"question_id":50916404,"body_markdown":"Please have a look at: https://stackoverflow.com/questions/29517508/how-to-persist-jsr-310-types-with-spring-data-jpa\r\n\r\nDepending on the framework versions you use, you have to add additional configuration to your project to use JSR-310 types like LocalDate in your entities.","title":"Spring Data JPA - Conversion failed when converting date and/or time from character string","body":"<p>Please have a look at: <a href=\"https://stackoverflow.com/questions/29517508/how-to-persist-jsr-310-types-with-spring-data-jpa\">How to persist JSR-310 types with Spring Data JPA?</a></p>\n\n<p>Depending on the framework versions you use, you have to add additional configuration to your project to use JSR-310 types like LocalDate in your entities.</p>\n"},{"tags":[],"owner":{"account_id":6878179,"reputation":4548,"user_id":5285908,"display_name":"Amith Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529354373,"creation_date":1529351809,"answer_id":50916623,"question_id":50916404,"body_markdown":"If you are using JPA version lower than 2.2, it doesn&#39;t directly support Java8 LocalDate &amp; LocalTime conversion from SqlDate, as it was released before Java8. You will have to write your custom date converter by implementing JPA `AttributeConverter` interface. Then either you can `autoApply` it for all entity classes or you can selectively annotate it to LocalDate entity field.\r\n\r\n    import java.sql.Date;\r\n    import java.time.LocalDate;\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    \r\n    @Converter(autoApply = true)\r\n    public class LocalDateConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\r\n    \r\n        @Override\r\n        public Date convertToDatabaseColumn(LocalDate date) {        \r\n            return Date.valueOf(date);\r\n        }\r\n    \r\n        @Override\r\n        public LocalDate convertToEntityAttribute(Date value) {\r\n            return value.toLocalDate();\r\n        }\r\n    }\r\n\r\nWith `autoApply = true` JPA will automatically associate this converter whereaever Entity fields are LocalDate. \r\n\r\nOr if you choose `autoApply = false`, you will have to associate converter class via annotation with the field.\r\n\r\n\r\n    @Column(name = &quot;CommentDate&quot;)\r\n    @Convert(converter = LocalDateConverter.class)\r\n    private LocalDate commentDate;\r\n\r\nRefer [JPA 2.2 release spec](https://github.com/javaee/jpa-spec/issues/63)","title":"Spring Data JPA - Conversion failed when converting date and/or time from character string","body":"<p>If you are using JPA version lower than 2.2, it doesn't directly support Java8 LocalDate &amp; LocalTime conversion from SqlDate, as it was released before Java8. You will have to write your custom date converter by implementing JPA <code>AttributeConverter</code> interface. Then either you can <code>autoApply</code> it for all entity classes or you can selectively annotate it to LocalDate entity field.</p>\n\n<pre><code>import java.sql.Date;\nimport java.time.LocalDate;\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter(autoApply = true)\npublic class LocalDateConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\n\n    @Override\n    public Date convertToDatabaseColumn(LocalDate date) {        \n        return Date.valueOf(date);\n    }\n\n    @Override\n    public LocalDate convertToEntityAttribute(Date value) {\n        return value.toLocalDate();\n    }\n}\n</code></pre>\n\n<p>With <code>autoApply = true</code> JPA will automatically associate this converter whereaever Entity fields are LocalDate. </p>\n\n<p>Or if you choose <code>autoApply = false</code>, you will have to associate converter class via annotation with the field.</p>\n\n<pre><code>@Column(name = \"CommentDate\")\n@Convert(converter = LocalDateConverter.class)\nprivate LocalDate commentDate;\n</code></pre>\n\n<p>Refer <a href=\"https://github.com/javaee/jpa-spec/issues/63\" rel=\"nofollow noreferrer\">JPA 2.2 release spec</a></p>\n"},{"tags":[],"owner":{"account_id":19503564,"reputation":311,"user_id":14269062,"display_name":"Ritunjay kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654235929,"creation_date":1654235929,"answer_id":72485277,"question_id":50916404,"body_markdown":"Either use converter or column definition \r\n\r\nfor example \r\n\r\n    @Column(name = &quot;local_time&quot;, columnDefinition = &quot;TIME&quot;)\r\n    private LocalTime localTime;\r\n    \r\n    @Column(name = &quot;local_date&quot;, columnDefinition = &quot;DATE&quot;)\r\n    private LocalDate localDate;\r\n    \r\n    @Column(name = &quot;local_date_time&quot;, columnDefinition = &quot;TIMESTAMP&quot;)\r\n    private LocalDateTime localDateTime;\r\n\r\n\r\nusing converter\r\n\r\n    @Convert(converter = LocalDateConverter.class)\r\n    @Column(name = &quot;createdDate&quot;)\r\n    private LocalDate createdDate;","title":"Spring Data JPA - Conversion failed when converting date and/or time from character string","body":"<p>Either use converter or column definition</p>\n<p>for example</p>\n<pre><code>@Column(name = &quot;local_time&quot;, columnDefinition = &quot;TIME&quot;)\nprivate LocalTime localTime;\n\n@Column(name = &quot;local_date&quot;, columnDefinition = &quot;DATE&quot;)\nprivate LocalDate localDate;\n\n@Column(name = &quot;local_date_time&quot;, columnDefinition = &quot;TIMESTAMP&quot;)\nprivate LocalDateTime localDateTime;\n</code></pre>\n<p>using converter</p>\n<pre><code>@Convert(converter = LocalDateConverter.class)\n@Column(name = &quot;createdDate&quot;)\nprivate LocalDate createdDate;\n</code></pre>\n"}],"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1654235929,"creation_date":1529350673,"question_id":50916404,"body_markdown":"I am using Spring Boot and Spring JPA. I have a repository class with custom `@Query` methods.\r\n\r\n    public interface MarketForceRepository extends CrudRepository&lt;MarketForceComment, Integer&gt; {\r\n    \r\n    \t@Query(&quot;SELECT c FROM MarketForceComment c WHERE c.property.id = ?1 and c.commentDate &gt;= &#39;?1&#39; AND  c.commentDate &lt;= &#39;?2&#39;&quot;)\r\n    \tList&lt;MarketForceComment&gt; getByPropAndDate(Integer propID, LocalDate start, LocalDate end);\r\n    \r\n    \t@Query(&quot;SELECT c FROM MarketForceComment c WHERE c.property.id IN ?1 and c.commentDate &gt;= &#39;?2&#39; AND c.commentDate &lt;= &#39;?3&#39;&quot;)\r\n    \tList&lt;MarketForceComment&gt; getByPropsAndDates(List&lt;Integer&gt; propIDs, LocalDate start, LocalDate end);\r\n    }\r\n\r\nThe `MarketForceComment` class follows (in part):\r\n\r\n    @Table(name = &quot;MarketForceComment&quot;, schema = &quot;dmb&quot;)\r\n    @Entity\r\n    public class MarketForceComment {\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;PropertyID&quot;)\r\n    \tprivate Property property;\r\n    \r\n    \t@Column(name = &quot;CommentDate&quot;)\r\n    \tprivate LocalDate commentDate;\r\n    \r\n    \t@Column(name = &quot;Level&quot;)\r\n    \tprivate int level;\r\n    \r\n    \t@Column(name = &quot;Subject&quot;)\r\n    \tprivate String subject;\r\n    \r\n    \t@Column(name = &quot;Details&quot;, columnDefinition = &quot;text&quot;)\r\n    \tprivate String details;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \tprivate Integer id;  \r\n    \r\n        .... \r\n    }\r\n\r\nWhenever I attempt to run my query method: \r\n\r\n    @Override\r\n    public List&lt;CommentDTO&gt; getCommentsByStore(int storeID, LocalDate date) {\r\n    \tList&lt;CommentDTO&gt; dtoList = new ArrayList&lt;&gt;();\r\n    \tmarketRepo.getByPropAndDate(storeID, date.plusMonths(1), date)\r\n    \t\t\t.forEach(c -&gt; dtoList.add(mapper.map(c, CommentDTO.class)));\r\n    \tguestRepo.getByPropAndDate(storeID, date.plusMonths(1).atStartOfDay(), date.atStartOfDay())\r\n    \t\t\t.forEach(c -&gt; dtoList.add(mapper.map(c, CommentDTO.class)));\r\n    \treturn dtoList;\r\n    }\r\n\r\nI receive the following error: \r\n`\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Conversion failed when converting date and/or time from character string.`\r\n\r\nI am a bit perplexed. It appears to be a format issue (the DBMS wants a &#39;yyyy-MM-dd&#39; or similar format), yet I thought Java&#39;s LocalDate would be expressed/converted into a format that could be parsed by database system. \r\n\r\nAny advice would be appreciated.\r\nThanks.\r\n\r\nEDIT:\r\n\r\nFor reference, the underlying fault was the order of the parameters (?1, ?2, ?3):\r\n\r\n    public interface MarketForceRepository extends CrudRepository&lt;MarketForceComment, Integer&gt; {\r\n    \r\n    \t@Query(&quot;SELECT c FROM MarketForceComment c WHERE c.property.id = ?1 and c.commentDate &gt;= ?2 AND  c.commentDate &lt;= ?3&quot;)\r\n    \tList&lt;MarketForceComment&gt; getByPropAndDate(Integer propID, LocalDate start, LocalDate end);\r\n    \r\n    \t@Query(&quot;SELECT c FROM MarketForceComment c WHERE c.property.id IN ?1 and c.commentDate &gt;= ?2 AND c.commentDate &lt;= ?3&quot;)\r\n    \tList&lt;MarketForceComment&gt; getByPropsAndDates(List&lt;Integer&gt; propIDs, LocalDate start, LocalDate end);\r\n    }\r\n\r\n\r\n","title":"Spring Data JPA - Conversion failed when converting date and/or time from character string","body":"<p>I am using Spring Boot and Spring JPA. I have a repository class with custom <code>@Query</code> methods.</p>\n\n<pre><code>public interface MarketForceRepository extends CrudRepository&lt;MarketForceComment, Integer&gt; {\n\n    @Query(\"SELECT c FROM MarketForceComment c WHERE c.property.id = ?1 and c.commentDate &gt;= '?1' AND  c.commentDate &lt;= '?2'\")\n    List&lt;MarketForceComment&gt; getByPropAndDate(Integer propID, LocalDate start, LocalDate end);\n\n    @Query(\"SELECT c FROM MarketForceComment c WHERE c.property.id IN ?1 and c.commentDate &gt;= '?2' AND c.commentDate &lt;= '?3'\")\n    List&lt;MarketForceComment&gt; getByPropsAndDates(List&lt;Integer&gt; propIDs, LocalDate start, LocalDate end);\n}\n</code></pre>\n\n<p>The <code>MarketForceComment</code> class follows (in part):</p>\n\n<pre><code>@Table(name = \"MarketForceComment\", schema = \"dmb\")\n@Entity\npublic class MarketForceComment {\n    @ManyToOne\n    @JoinColumn(name = \"PropertyID\")\n    private Property property;\n\n    @Column(name = \"CommentDate\")\n    private LocalDate commentDate;\n\n    @Column(name = \"Level\")\n    private int level;\n\n    @Column(name = \"Subject\")\n    private String subject;\n\n    @Column(name = \"Details\", columnDefinition = \"text\")\n    private String details;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"ID\")\n    private Integer id;  \n\n    .... \n}\n</code></pre>\n\n<p>Whenever I attempt to run my query method: </p>\n\n<pre><code>@Override\npublic List&lt;CommentDTO&gt; getCommentsByStore(int storeID, LocalDate date) {\n    List&lt;CommentDTO&gt; dtoList = new ArrayList&lt;&gt;();\n    marketRepo.getByPropAndDate(storeID, date.plusMonths(1), date)\n            .forEach(c -&gt; dtoList.add(mapper.map(c, CommentDTO.class)));\n    guestRepo.getByPropAndDate(storeID, date.plusMonths(1).atStartOfDay(), date.atStartOfDay())\n            .forEach(c -&gt; dtoList.add(mapper.map(c, CommentDTO.class)));\n    return dtoList;\n}\n</code></pre>\n\n<p>I receive the following error: \n<code>\ncom.microsoft.sqlserver.jdbc.SQLServerException: Conversion failed when converting date and/or time from character string.</code></p>\n\n<p>I am a bit perplexed. It appears to be a format issue (the DBMS wants a 'yyyy-MM-dd' or similar format), yet I thought Java's LocalDate would be expressed/converted into a format that could be parsed by database system. </p>\n\n<p>Any advice would be appreciated.\nThanks.</p>\n\n<p>EDIT:</p>\n\n<p>For reference, the underlying fault was the order of the parameters (?1, ?2, ?3):</p>\n\n<pre><code>public interface MarketForceRepository extends CrudRepository&lt;MarketForceComment, Integer&gt; {\n\n    @Query(\"SELECT c FROM MarketForceComment c WHERE c.property.id = ?1 and c.commentDate &gt;= ?2 AND  c.commentDate &lt;= ?3\")\n    List&lt;MarketForceComment&gt; getByPropAndDate(Integer propID, LocalDate start, LocalDate end);\n\n    @Query(\"SELECT c FROM MarketForceComment c WHERE c.property.id IN ?1 and c.commentDate &gt;= ?2 AND c.commentDate &lt;= ?3\")\n    List&lt;MarketForceComment&gt; getByPropsAndDates(List&lt;Integer&gt; propIDs, LocalDate start, LocalDate end);\n}\n</code></pre>\n"},{"tags":["javascript","java","spring-boot","maven"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1654246804,"post_id":72484835,"comment_id":128050235,"body_markdown":"1) is this `js` file part of spring boot application? 2) If yes how is it served to the client? 3) How is `$resources` defined? Please update your question as it misses necessary information.","body":"1) is this <code>js</code> file part of spring boot application? 2) If yes how is it served to the client? 3) How is <code>$resources</code> defined? Please update your question as it misses necessary information."}],"answers":[{"tags":[],"owner":{"account_id":3000406,"reputation":9,"user_id":2546009,"display_name":"Kapil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654235807,"creation_date":1654235807,"answer_id":72485262,"question_id":72484835,"body_markdown":"i will suggest you to use java code instead of java script or call code from java script to read file \r\nBut in your case,\r\nits all because of jar file doesn&#39;t contain file structure in same manner as you see in your IDE verify your file path in built folder which have final structure which server will run.  ","title":"How to read files from resource folder of spring boot application using javascipt","body":"<p>i will suggest you to use java code instead of java script or call code from java script to read file\nBut in your case,\nits all because of jar file doesn't contain file structure in same manner as you see in your IDE verify your file path in built folder which have final structure which server will run.</p>\n"}],"owner":{"account_id":4154128,"reputation":723,"user_id":3405805,"accept_rate":0,"display_name":"RAJESHPODDER007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654235807,"creation_date":1654231717,"question_id":72484835,"body_markdown":"I have some files under resources/test/feature/a.feature , b.feature like that , i want read those files using javascript , and the jacascript file location is resources/test/js/read.js. I am using below code to read\r\n\r\n    function processFeatures() {\r\n\t    var features = [];\r\n\t    var featuresResources = $resources(&quot;feature/.*?\\\\.feature&quot;);\r\n\t    for(var i in featureResources) {\r\n            var feature = JSON.parse($eval(featureResources[i].content))\r\n\t\t    features.push(feature);\r\n\t    }\r\n\t    return features;\r\n    }\r\n\r\nThis code works when i run the application from intellij, but when i build a jar file and then run the jar file separately that time it fails to read. I printed the featuresResources , that time it giving empty response.\r\n\r\nWhat needs to do in that case. ","title":"How to read files from resource folder of spring boot application using javascipt","body":"<p>I have some files under resources/test/feature/a.feature , b.feature like that , i want read those files using javascript , and the jacascript file location is resources/test/js/read.js. I am using below code to read</p>\n<pre><code>function processFeatures() {\n    var features = [];\n    var featuresResources = $resources(&quot;feature/.*?\\\\.feature&quot;);\n    for(var i in featureResources) {\n        var feature = JSON.parse($eval(featureResources[i].content))\n        features.push(feature);\n    }\n    return features;\n}\n</code></pre>\n<p>This code works when i run the application from intellij, but when i build a jar file and then run the jar file separately that time it fails to read. I printed the featuresResources , that time it giving empty response.</p>\n<p>What needs to do in that case.</p>\n"},{"tags":["java","c#","ssh","putty","plink"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654235733,"creation_date":1644605847,"answer_id":71085261,"question_id":71084301,"body_markdown":"Since 0.77, PuTTY can read the password from a file using [`-pwfile` switch](https://the.earth.li/~sgtatham/putty/latest/htmldoc/Chapter3.html#using-cmdline-pw).","title":"Securely pass password to PuTTY process on start","body":"<p>Since 0.77, PuTTY can read the password from a file using <a href=\"https://the.earth.li/%7Esgtatham/putty/latest/htmldoc/Chapter3.html#using-cmdline-pw\" rel=\"nofollow noreferrer\"><code>-pwfile</code> switch</a>.</p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645427458,"creation_date":1645427458,"answer_id":71202415,"question_id":71084301,"body_markdown":"Following the suggestion of Martin Prikryl I was able to create a minimal example, which creates a NamedPipe in C# and passes it as a `pwfile` argument to PuTTY:\r\n\r\n```\r\npublic void CreatePipe()\r\n{\r\n    var server = new NamedPipeServerStream(&quot;SecretPipe&quot;);\r\n    server.WaitForConnection();\r\n    StreamWriter writer = new StreamWriter(server);\r\n    writer.Write(&quot;top!!secret&quot;);\r\n    writer.Flush();\r\n    server.Dispose();\r\n}\r\n```\r\n\r\nThen PuTTY can be started as follows with the pipe as `pwfile` argument:\r\n\r\n``` none\r\nputty.exe -l testuser -pwfile &quot;\\\\.\\PIPE\\SecretPipe&quot; hostname\r\n```","title":"Securely pass password to PuTTY process on start","body":"<p>Following the suggestion of Martin Prikryl I was able to create a minimal example, which creates a NamedPipe in C# and passes it as a <code>pwfile</code> argument to PuTTY:</p>\n<pre><code>public void CreatePipe()\n{\n    var server = new NamedPipeServerStream(&quot;SecretPipe&quot;);\n    server.WaitForConnection();\n    StreamWriter writer = new StreamWriter(server);\n    writer.Write(&quot;top!!secret&quot;);\n    writer.Flush();\n    server.Dispose();\n}\n</code></pre>\n<p>Then PuTTY can be started as follows with the pipe as <code>pwfile</code> argument:</p>\n<pre class=\"lang-none prettyprint-override\"><code>putty.exe -l testuser -pwfile &quot;\\\\.\\PIPE\\SecretPipe&quot; hostname\n</code></pre>\n"}],"owner":{"account_id":24224699,"reputation":1,"user_id":18179392,"display_name":"developerwithoutacause"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71202415,"answer_count":2,"score":0,"last_activity_date":1654235733,"creation_date":1644601040,"question_id":71084301,"body_markdown":"I am maintaining an application in our company (written in C#), which runs on a jumphost and provides the functionality to search across different servers and initiate a PuTTY connection to that server. For this the application currently starts the PuTTY process and passes arguments, like the hostname, username and password. The password for each server is retrieved from a password manager service. The arguments are passed to PuTTY through the command line interface. So the purpose of the application is to automate password retrieval and login to different servers.\r\n\r\nThe problem with the current approach is, that in the Windows Task Manager its possible for an administrator to see all started PuTTY instances and the corresponding credentials as command line arguments.\r\n\r\nSo far I haven&#39;t found any practical solution to circumvent this. These are the things I researched so far:\r\n\r\n - Instead of passing password argument, using `SendKeys` to type password into the promt: Unreliable, as there is no way to read the PuTTY output and know when the application is ready for the input to be typed in.\r\n - Using Plink instead of PuTTY and passing arguments through stdin: Plink supports stdin / stdout communication, however the terminal functionality is very limited and not usable in practice after the login was successful.\r\n- Modifying PuTTY to mask password: I have seen some suggestions, to modify the PuTTY source code, to overwrite the password in the main args, once the application started. However, this solution seems to only work on Linux, not Windows.\r\n- Using SSH.NET library to provide my own SSH terminal implementation: The SSH.NET library seems to be similarly to Plink more suitable for issuing commands programmatically, but not for opening a terminal for the user. I guess it would require a lot of work to implement a full terminal.\r\n\r\nSome ideas, that might work:\r\n- Modify the PuTTY code, so that arguments can be passed through stdin: Could work, but I don&#39;t know how easy that would be, as I don&#39;t have very good C knowledge.\r\n- Use an alternate client, that supports stdin output. The Java library JSch looks quite powerful and seems to already include a terminal. Would it be possible to create a standalone application, that can a receive stdin and use that to open a terminal and auto login?\r\n\r\nAny further suggestions would be greatly appreciated. Are you aware of any other Windows alternative to PuTTY, which supports passing credentials in a more secure way?\r\n","title":"Securely pass password to PuTTY process on start","body":"<p>I am maintaining an application in our company (written in C#), which runs on a jumphost and provides the functionality to search across different servers and initiate a PuTTY connection to that server. For this the application currently starts the PuTTY process and passes arguments, like the hostname, username and password. The password for each server is retrieved from a password manager service. The arguments are passed to PuTTY through the command line interface. So the purpose of the application is to automate password retrieval and login to different servers.</p>\n<p>The problem with the current approach is, that in the Windows Task Manager its possible for an administrator to see all started PuTTY instances and the corresponding credentials as command line arguments.</p>\n<p>So far I haven't found any practical solution to circumvent this. These are the things I researched so far:</p>\n<ul>\n<li>Instead of passing password argument, using <code>SendKeys</code> to type password into the promt: Unreliable, as there is no way to read the PuTTY output and know when the application is ready for the input to be typed in.</li>\n<li>Using Plink instead of PuTTY and passing arguments through stdin: Plink supports stdin / stdout communication, however the terminal functionality is very limited and not usable in practice after the login was successful.</li>\n<li>Modifying PuTTY to mask password: I have seen some suggestions, to modify the PuTTY source code, to overwrite the password in the main args, once the application started. However, this solution seems to only work on Linux, not Windows.</li>\n<li>Using SSH.NET library to provide my own SSH terminal implementation: The SSH.NET library seems to be similarly to Plink more suitable for issuing commands programmatically, but not for opening a terminal for the user. I guess it would require a lot of work to implement a full terminal.</li>\n</ul>\n<p>Some ideas, that might work:</p>\n<ul>\n<li>Modify the PuTTY code, so that arguments can be passed through stdin: Could work, but I don't know how easy that would be, as I don't have very good C knowledge.</li>\n<li>Use an alternate client, that supports stdin output. The Java library JSch looks quite powerful and seems to already include a terminal. Would it be possible to create a standalone application, that can a receive stdin and use that to open a terminal and auto login?</li>\n</ul>\n<p>Any further suggestions would be greatly appreciated. Are you aware of any other Windows alternative to PuTTY, which supports passing credentials in a more secure way?</p>\n"},{"tags":["java","selenium","sendkeys"],"comments":[{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":0,"creation_date":1654222835,"post_id":72484062,"comment_id":128045194,"body_markdown":"Why is element inside the send keys?","body":"Why is element inside the send keys?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654269944,"post_id":72484062,"comment_id":128058330,"body_markdown":"Please don&#39;t post images of code or errors; see [ask].","body":"Please don&#39;t post images of code or errors; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":25460977,"reputation":1,"user_id":19260744,"display_name":"revathi Subramanian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654233514,"creation_date":1654222501,"question_id":72484062,"body_markdown":"[enter image description here][1]Hi,Iam new to selenium and java testing. Iam trying to right click on google.com about link and open the link in new window.  Up to right click my code works fine. When I send down-arrow nothing happens in the browser. Can anyone tell what&#39;s wrong with the code. I have tried it in all different browsers.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rE03j.png","title":"Actions class sendkeys down-arrow does not work in any browser","body":"<p><a href=\"https://i.stack.imgur.com/rE03j.png\" rel=\"nofollow noreferrer\">enter image description here</a>Hi,Iam new to selenium and java testing. Iam trying to right click on google.com about link and open the link in new window.  Up to right click my code works fine. When I send down-arrow nothing happens in the browser. Can anyone tell what's wrong with the code. I have tried it in all different browsers.</p>\n"},{"tags":["java","datetime","formatting","timezone","timestamp"],"comments":[{"owner":{"account_id":216810,"reputation":16569,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"score":0,"creation_date":1317877144,"post_id":7670355,"comment_id":9322236,"body_markdown":"Too many questions in one post...","body":"Too many questions in one post..."},{"owner":{"account_id":180511,"reputation":8300,"user_id":413872,"accept_rate":95,"display_name":"travega"},"score":0,"creation_date":1317899413,"post_id":7670355,"comment_id":9326056,"body_markdown":"Same 2 questions asked just the 2nd one is asked a second time with a scenario algorithm for clarity. Thanks for input tho :?","body":"Same 2 questions asked just the 2nd one is asked a second time with a scenario algorithm for clarity. Thanks for input tho :?"},{"owner":{"account_id":3011136,"reputation":12331,"user_id":2572431,"accept_rate":71,"display_name":"augurar"},"score":0,"creation_date":1460799436,"post_id":7670355,"comment_id":60917254,"body_markdown":"Seems like the only problem is that `1317816735000L` is the wrong timestamp for `2011-10-06 03:35:05 GMT`.  Otherwise your approach is correct.","body":"Seems like the only problem is that <code>1317816735000L</code> is the wrong timestamp for <code>2011-10-06 03:35:05 GMT</code>.  Otherwise your approach is correct."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1530301414,"post_id":7670355,"comment_id":89203939,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user545680"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1317877436,"creation_date":1317877436,"answer_id":7670458,"question_id":7670355,"body_markdown":"As always, I recommend reading [this article][1] about date and time in Java so that you understand it.\r\n\r\nThe basic idea is that &#39;under the hood&#39; everything is done in UTC milliseconds since the epoch. This means it is easiest if you operate without using time zones at all, with the exception of String formatting for the user.\r\n\r\nTherefore I would skip most of the steps you have suggested.\r\n\r\n1. Set the time on an object (Date, Calendar etc).\r\n2. Set the time zone on a formatter object.\r\n3. Return a String from the formatter.\r\n\r\nAlternatively, you can use [Joda time][2]. I have heard it is a much more intuitive datetime API.\r\n\r\n\r\n  [1]: http://www.odi.ch/prog/design/datetime.php\r\n  [2]: http://joda-time.sourceforge.net/","title":"Convert Date/Time for given Timezone - java","body":"<p>As always, I recommend reading <a href=\"http://www.odi.ch/prog/design/datetime.php\">this article</a> about date and time in Java so that you understand it.</p>\n\n<p>The basic idea is that 'under the hood' everything is done in UTC milliseconds since the epoch. This means it is easiest if you operate without using time zones at all, with the exception of String formatting for the user.</p>\n\n<p>Therefore I would skip most of the steps you have suggested.</p>\n\n<ol>\n<li>Set the time on an object (Date, Calendar etc).</li>\n<li>Set the time zone on a formatter object.</li>\n<li>Return a String from the formatter.</li>\n</ol>\n\n<p>Alternatively, you can use <a href=\"http://joda-time.sourceforge.net/\">Joda time</a>. I have heard it is a much more intuitive datetime API.</p>\n"},{"tags":[],"owner":{"account_id":396748,"reputation":30697,"user_id":760489,"accept_rate":72,"display_name":"Pratik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317878020,"creation_date":1317878020,"answer_id":7670511,"question_id":7670355,"body_markdown":"I have try this code \r\n\r\n    try{\r\n    \t\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss Z&quot;);\r\n    \t\t\tDate datetime = new Date();\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;date &quot;+sdf.format(datetime));\r\n    \t\t\t\r\n    \t\t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;GMT &quot;+ sdf.format(datetime));\r\n    \t\t\t\r\n    \t\t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;GMT+13 &quot;+ sdf.format(datetime));\r\n    \t\t\t\r\n    \t\t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;utc &quot;+sdf.format(datetime));\r\n    \t\t\t\r\n    \t\t\tCalendar calendar = new GregorianCalendar(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \r\n    \t\t\tDateFormat formatter = new SimpleDateFormat(&quot;dd MMM yyyy HH:mm:ss z&quot;);    \r\n    \t\t\tformatter.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));  \r\n    \r\n    \t\t\tString newZealandTime = formatter.format(calendar.getTime());\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;using calendar &quot;+newZealandTime);\r\n    \r\n    \t\t}catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n\r\nand getting this result\r\n\r\n    date 06-10-2011 10:40:05 +0530\r\n    GMT 06-10-2011 05:10:05 +0000 // here getting 5:10:05\r\n    GMT+13 06-10-2011 06:10:05 +1300 // here getting 6:10:05\r\n    utc 06-10-2011 05:10:05 +0000\r\n    using calendar 06 Oct 2011 18:10:05 GMT+13:00","title":"Convert Date/Time for given Timezone - java","body":"<p>I have try this code </p>\n\n<pre><code>try{\n            SimpleDateFormat sdf = new SimpleDateFormat(\"dd-MM-yyyy hh:mm:ss Z\");\n            Date datetime = new Date();\n\n            System.out.println(\"date \"+sdf.format(datetime));\n\n            sdf.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n\n            System.out.println(\"GMT \"+ sdf.format(datetime));\n\n            sdf.setTimeZone(TimeZone.getTimeZone(\"GMT+13\"));\n\n            System.out.println(\"GMT+13 \"+ sdf.format(datetime));\n\n            sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n\n            System.out.println(\"utc \"+sdf.format(datetime));\n\n            Calendar calendar = new GregorianCalendar(TimeZone.getTimeZone(\"GMT\"));\n\n            DateFormat formatter = new SimpleDateFormat(\"dd MMM yyyy HH:mm:ss z\");    \n            formatter.setTimeZone(TimeZone.getTimeZone(\"GMT+13\"));  \n\n            String newZealandTime = formatter.format(calendar.getTime());\n\n            System.out.println(\"using calendar \"+newZealandTime);\n\n        }catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>and getting this result</p>\n\n<pre><code>date 06-10-2011 10:40:05 +0530\nGMT 06-10-2011 05:10:05 +0000 // here getting 5:10:05\nGMT+13 06-10-2011 06:10:05 +1300 // here getting 6:10:05\nutc 06-10-2011 05:10:05 +0000\nusing calendar 06 Oct 2011 18:10:05 GMT+13:00\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user918076"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1317896084,"creation_date":1317890197,"answer_id":7671943,"question_id":7670355,"body_markdown":"Had a look about and I don&#39;t think theres a timezone in Java that is GMT + 13. So I think you have to use: \r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    //OR Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \r\n    calendar.set(Calendar.HOUR_OF_DAY, calendar.get(Calendar.HOUR_OF_DAY)+13);\r\n    \t\t\r\n    Date d = calendar.getTime();\r\n(If there is then change &quot;GMT&quot; to that Timezone and remove the 2nd line of code)\r\n\r\nOR\r\n\r\n    SimpleDateFormat df = new SimpleDateFormat();\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));\r\n    System.out.println(df.format(c.getTime()));\r\n\r\nIf you want to set a specific time/date you can also use:\r\n\r\n    \tcalendar.set(Calendar.DATE, 15);\r\n\tcalendar.set(Calendar.MONTH, 3);\r\n\tcalendar.set(Calendar.YEAR, 2011);\r\n\tcalendar.set(Calendar.HOUR_OF_DAY, 13); \r\n\tcalendar.set(Calendar.MINUTE, 45);\r\n\tcalendar.set(Calendar.SECOND, 00);","title":"Convert Date/Time for given Timezone - java","body":"<p>Had a look about and I don't think theres a timezone in Java that is GMT + 13. So I think you have to use: </p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\n//OR Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n\ncalendar.set(Calendar.HOUR_OF_DAY, calendar.get(Calendar.HOUR_OF_DAY)+13);\n\nDate d = calendar.getTime();\n</code></pre>\n\n<p>(If there is then change \"GMT\" to that Timezone and remove the 2nd line of code)</p>\n\n<p>OR</p>\n\n<pre><code>SimpleDateFormat df = new SimpleDateFormat();\ndf.setTimeZone(TimeZone.getTimeZone(\"GMT+13\"));\nSystem.out.println(df.format(c.getTime()));\n</code></pre>\n\n<p>If you want to set a specific time/date you can also use:</p>\n\n<pre><code>    calendar.set(Calendar.DATE, 15);\ncalendar.set(Calendar.MONTH, 3);\ncalendar.set(Calendar.YEAR, 2011);\ncalendar.set(Calendar.HOUR_OF_DAY, 13); \ncalendar.set(Calendar.MINUTE, 45);\ncalendar.set(Calendar.SECOND, 00);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user726478"},"down_vote_count":4,"up_vote_count":35,"is_accepted":false,"score":31,"last_activity_date":1411660396,"creation_date":1318193100,"answer_id":7706446,"question_id":7670355,"body_markdown":"Understanding how computer time works is very important. With that said I agree that if an API is created to help you process computer time like real time then it should work in such a way that allows you to treat it like real time. For the most part this is the case but there are some major oversights which do need attention.\r\n\r\nAnyway I digress!! If you have your UTC offset (better to work in UTC than GMT offsets) you can calculate the time in milliseconds and add that to your timestamp. Note that an SQL Timestamp may vary from a Java timestamp as the way the elapse from the epoch is calculated is not always the same - dependant on database technologies and also operating systems.\r\n\r\nI would advise you to use System.currentTimeMillis() as your time stamps as these can be processed more consistently in java without worrying about converting SQL Timestamps to java Date objects etc.\r\n\r\nTo calculate your offset you can try something like this:\r\n\r\n    Long gmtTime =1317951113613L; // 2.32pm NZDT\r\n    Long timezoneAlteredTime = 0L;\r\n\r\n    if (offset != 0L) {\r\n        int multiplier = (offset*60)*(60*1000);\r\n        timezoneAlteredTime = gmtTime + multiplier;\r\n    } else {\r\n      \ttimezoneAlteredTime = gmtTime;\r\n    }\r\n\r\n    Calendar calendar = new GregorianCalendar();\r\n    calendar.setTimeInMillis(timezoneAlteredTime);\r\n            \r\n    DateFormat formatter = new SimpleDateFormat(&quot;dd MMM yyyy HH:mm:ss z&quot;);\r\n            \r\n    formatter.setCalendar(calendar);\r\n    formatter.setTimeZone(TimeZone.getTimeZone(timeZone));\r\n\r\n    String newZealandTime = formatter.format(calendar.getTime());\r\n\r\nI hope this is helpful!","title":"Convert Date/Time for given Timezone - java","body":"<p>Understanding how computer time works is very important. With that said I agree that if an API is created to help you process computer time like real time then it should work in such a way that allows you to treat it like real time. For the most part this is the case but there are some major oversights which do need attention.</p>\n\n<p>Anyway I digress!! If you have your UTC offset (better to work in UTC than GMT offsets) you can calculate the time in milliseconds and add that to your timestamp. Note that an SQL Timestamp may vary from a Java timestamp as the way the elapse from the epoch is calculated is not always the same - dependant on database technologies and also operating systems.</p>\n\n<p>I would advise you to use System.currentTimeMillis() as your time stamps as these can be processed more consistently in java without worrying about converting SQL Timestamps to java Date objects etc.</p>\n\n<p>To calculate your offset you can try something like this:</p>\n\n<pre><code>Long gmtTime =1317951113613L; // 2.32pm NZDT\nLong timezoneAlteredTime = 0L;\n\nif (offset != 0L) {\n    int multiplier = (offset*60)*(60*1000);\n    timezoneAlteredTime = gmtTime + multiplier;\n} else {\n    timezoneAlteredTime = gmtTime;\n}\n\nCalendar calendar = new GregorianCalendar();\ncalendar.setTimeInMillis(timezoneAlteredTime);\n\nDateFormat formatter = new SimpleDateFormat(\"dd MMM yyyy HH:mm:ss z\");\n\nformatter.setCalendar(calendar);\nformatter.setTimeZone(TimeZone.getTimeZone(timeZone));\n\nString newZealandTime = formatter.format(calendar.getTime());\n</code></pre>\n\n<p>I hope this is helpful!</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1472849189,"creation_date":1386799758,"answer_id":20530964,"question_id":7670355,"body_markdown":"# Joda-Time\r\n\r\nThe java.util.Date/Calendar classes are a mess and should be avoided.\r\n\r\nUpdate: The Joda-Time project is in maintenance mode. The team advises migration to the java.time classes.\r\n\r\nHere&#39;s your answer using the Joda-Time 2.3 library. Very easy.\r\n\r\nAs noted in the example code, I suggest you use named time zones wherever possible so that your programming can handle [Daylight Saving Time][1] (DST) and other anomalies.\r\n\r\nIf you had placed a `T` in the middle of your string instead of a space, you could skip the first two lines of code, dealing with a formatter to parse the string. The [DateTime][2] constructor can take a string in [ISO 8601][3] format.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // &#169; 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\r\n    // import org.joda.time.*;\r\n    // import org.joda.time.format.*;\r\n\r\n    // Parse string as a date-time in UTC (no time zone offset).\r\n    DateTimeFormatter formatter = org.joda.time.format.DateTimeFormat.forPattern( &quot;yyyy-MM-dd&#39; &#39;HH:mm:ss&quot; );\r\n    DateTime dateTimeInUTC = formatter.withZoneUTC().parseDateTime( &quot;2011-10-06 03:35:05&quot; );\r\n\r\n    // Adjust for 13 hour offset from UTC/GMT.\r\n    DateTimeZone offsetThirteen = DateTimeZone.forOffsetHours( 13 );\r\n    DateTime thirteenDateTime = dateTimeInUTC.toDateTime( offsetThirteen );\r\n\r\n    // Hard-coded offsets should be avoided. Better to use a desired time zone for handling Daylight Saving Time (DST) and other anomalies.\r\n    // Time Zone list… http://joda-time.sourceforge.net/timezones.html\r\n    DateTimeZone timeZoneTongatapu = DateTimeZone.forID( &quot;Pacific/Tongatapu&quot; );\r\n    DateTime tongatapuDateTime = dateTimeInUTC.toDateTime( timeZoneTongatapu );\r\n\r\n\r\nDump those values…\r\n\r\n&lt;!-- language: java --&gt; \r\n\r\n    System.out.println( &quot;dateTimeInUTC: &quot; + dateTimeInUTC );\r\n    System.out.println( &quot;thirteenDateTime: &quot; + thirteenDateTime );\r\n    System.out.println( &quot;tongatapuDateTime: &quot; + tongatapuDateTime );\r\n\r\n\r\nWhen run…\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    dateTimeInUTC: 2011-10-06T03:35:05.000Z\r\n    thirteenDateTime: 2011-10-06T16:35:05.000+13:00\r\n    tongatapuDateTime: 2011-10-06T16:35:05.000+13:00\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601","title":"Convert Date/Time for given Timezone - java","body":"<h1>Joda-Time</h1>\n\n<p>The java.util.Date/Calendar classes are a mess and should be avoided.</p>\n\n<p>Update: The Joda-Time project is in maintenance mode. The team advises migration to the java.time classes.</p>\n\n<p>Here's your answer using the Joda-Time 2.3 library. Very easy.</p>\n\n<p>As noted in the example code, I suggest you use named time zones wherever possible so that your programming can handle <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow\">Daylight Saving Time</a> (DST) and other anomalies.</p>\n\n<p>If you had placed a <code>T</code> in the middle of your string instead of a space, you could skip the first two lines of code, dealing with a formatter to parse the string. The <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"nofollow\">DateTime</a> constructor can take a string in <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow\">ISO 8601</a> format.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// © 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\n// import org.joda.time.*;\n// import org.joda.time.format.*;\n\n// Parse string as a date-time in UTC (no time zone offset).\nDateTimeFormatter formatter = org.joda.time.format.DateTimeFormat.forPattern( \"yyyy-MM-dd' 'HH:mm:ss\" );\nDateTime dateTimeInUTC = formatter.withZoneUTC().parseDateTime( \"2011-10-06 03:35:05\" );\n\n// Adjust for 13 hour offset from UTC/GMT.\nDateTimeZone offsetThirteen = DateTimeZone.forOffsetHours( 13 );\nDateTime thirteenDateTime = dateTimeInUTC.toDateTime( offsetThirteen );\n\n// Hard-coded offsets should be avoided. Better to use a desired time zone for handling Daylight Saving Time (DST) and other anomalies.\n// Time Zone list… http://joda-time.sourceforge.net/timezones.html\nDateTimeZone timeZoneTongatapu = DateTimeZone.forID( \"Pacific/Tongatapu\" );\nDateTime tongatapuDateTime = dateTimeInUTC.toDateTime( timeZoneTongatapu );\n</code></pre>\n\n<p>Dump those values…</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( \"dateTimeInUTC: \" + dateTimeInUTC );\nSystem.out.println( \"thirteenDateTime: \" + thirteenDateTime );\nSystem.out.println( \"tongatapuDateTime: \" + tongatapuDateTime );\n</code></pre>\n\n<p>When run…</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dateTimeInUTC: 2011-10-06T03:35:05.000Z\nthirteenDateTime: 2011-10-06T16:35:05.000+13:00\ntongatapuDateTime: 2011-10-06T16:35:05.000+13:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3038056,"reputation":329,"user_id":2575676,"display_name":"DeepaGanesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387353496,"creation_date":1387353496,"answer_id":20652564,"question_id":7670355,"body_markdown":"We can handle this by using offset value\r\n\r\n     public static long convertDateTimeZone(long lngDate, String fromTimeZone,\r\n\t\t\tString toTimeZone){\r\n\t\tTimeZone toTZ = TimeZone.getTimeZone(toTimeZone);\r\n\t\tCalendar toCal = Calendar.getInstance(toTZ);\t\t\r\n\t\t\r\n\t\tTimeZone fromTZ = TimeZone.getTimeZone(fromTimeZone);\r\n\t\tCalendar fromCal = Calendar.getInstance(fromTZ);\r\n\t\tfromCal.setTimeInMillis(lngDate);\r\n\t\ttoCal.setTimeInMillis(fromCal.getTimeInMillis()\r\n\t\t\t\t+ toTZ.getOffset(fromCal.getTimeInMillis())\r\n\t\t\t\t- TimeZone.getDefault().getOffset(fromCal.getTimeInMillis()));\t\t\r\n\t\treturn toCal.getTimeInMillis();\r\n\t}\r\nTest Code snippet:\r\n\r\n     System.out.println(new Date().getTime())\r\n     System.out.println(convertDateTimeZone(new Date().getTime(), TimeZone\r\n\t\t\t\t\t.getDefault().getID(), &quot;EST&quot;));\r\n\r\nOutput:\r\n    1387353270742\r\n    1387335270742\r\n\r\n   ","title":"Convert Date/Time for given Timezone - java","body":"<p>We can handle this by using offset value</p>\n\n<pre><code> public static long convertDateTimeZone(long lngDate, String fromTimeZone,\n        String toTimeZone){\n    TimeZone toTZ = TimeZone.getTimeZone(toTimeZone);\n    Calendar toCal = Calendar.getInstance(toTZ);        \n\n    TimeZone fromTZ = TimeZone.getTimeZone(fromTimeZone);\n    Calendar fromCal = Calendar.getInstance(fromTZ);\n    fromCal.setTimeInMillis(lngDate);\n    toCal.setTimeInMillis(fromCal.getTimeInMillis()\n            + toTZ.getOffset(fromCal.getTimeInMillis())\n            - TimeZone.getDefault().getOffset(fromCal.getTimeInMillis()));      \n    return toCal.getTimeInMillis();\n}\n</code></pre>\n\n<p>Test Code snippet:</p>\n\n<pre><code> System.out.println(new Date().getTime())\n System.out.println(convertDateTimeZone(new Date().getTime(), TimeZone\n                .getDefault().getID(), \"EST\"));\n</code></pre>\n\n<p>Output:\n    1387353270742\n    1387335270742</p>\n"},{"tags":[],"owner":{"account_id":3524550,"reputation":1539,"user_id":2946032,"display_name":"Charleston"},"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1653634351,"creation_date":1394660614,"answer_id":22364501,"question_id":7670355,"body_markdown":"**For me, the simplest way to do that is:&lt;br&gt;**\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.TimeZone;\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(new Date());\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\r\n    \r\n    //Here you say to java the initial timezone. This is the secret\r\n\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    //Will print in UTC\r\n    System.out.println(sdf.format(calendar.getTime()));    \r\n\r\n    //Here you set to your timezone\r\n\tsdf.setTimeZone(TimeZone.getDefault());\r\n    //Will print on your default Timezone\r\n\tSystem.out.println(sdf.format(calendar.getTime()));\r\n\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p><strong>For me, the simplest way to do that is:<br></strong></p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.TimeZone;\n\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(new Date());\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\n\n//Here you say to java the initial timezone. This is the secret\nsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n//Will print in UTC\nSystem.out.println(sdf.format(calendar.getTime()));    \n\n//Here you set to your timezone\nsdf.setTimeZone(TimeZone.getDefault());\n//Will print on your default Timezone\nSystem.out.println(sdf.format(calendar.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5909730,"reputation":141,"user_id":4650370,"display_name":"J S Raggio"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1425917398,"creation_date":1425914649,"answer_id":28945684,"question_id":7670355,"body_markdown":"The solution is actually quite simple (pure, simple Java):\r\n\r\n    System.out.println(&quot; NZ Local Time: 2011-10-06 03:35:05&quot;);\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    LocalDateTime localNZ = LocalDateTime.parse(&quot;2011-10-06 03:35:05&quot;,formatter);\r\n    ZonedDateTime zonedNZ = ZonedDateTime.of(localNZ,ZoneId.of(&quot;+13:00&quot;));\r\n    LocalDateTime localUTC = zonedNZ.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;)).toLocalDateTime();\r\n    System.out.println(&quot;UTC Local Time: &quot;+localUTC.format(formatter));\r\n\r\nOUTPUT IS:\r\n\r\n     NZ Local Time: 2011-10-06 03:35:05\r\n    UTC Local Time: 2011-10-05 14:35:05\r\n\r\n\r\n\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p>The solution is actually quite simple (pure, simple Java):</p>\n\n<pre><code>System.out.println(\" NZ Local Time: 2011-10-06 03:35:05\");\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nLocalDateTime localNZ = LocalDateTime.parse(\"2011-10-06 03:35:05\",formatter);\nZonedDateTime zonedNZ = ZonedDateTime.of(localNZ,ZoneId.of(\"+13:00\"));\nLocalDateTime localUTC = zonedNZ.withZoneSameInstant(ZoneId.of(\"UTC\")).toLocalDateTime();\nSystem.out.println(\"UTC Local Time: \"+localUTC.format(formatter));\n</code></pre>\n\n<p>OUTPUT IS:</p>\n\n<pre><code> NZ Local Time: 2011-10-06 03:35:05\nUTC Local Time: 2011-10-05 14:35:05\n</code></pre>\n"},{"tags":[],"owner":{"account_id":410021,"reputation":11,"user_id":5075753,"display_name":"Ev."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435877537,"creation_date":1435877537,"answer_id":31195897,"question_id":7670355,"body_markdown":"**A quick way is :**\r\n\r\n    String dateText =&quot;Thu, 02 Jul 2015 21:51:46&quot;;\r\n    long hours = -5; // time difference between places\r\n            \r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(E, dd MMM yyyy HH:mm:ss, Locale.ENGLISH);     \r\n    LocalDateTime date = LocalDateTime.parse(dateText, formatter);        \r\n    date = date.with(date.plusHours(hours));\r\n    \r\n    System.out.println(&quot;NEW DATE: &quot;+date);\r\n\r\nOutput\r\n\r\n**NEW DATE: 2015-07-02T16:51:46**\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p><strong>A quick way is :</strong></p>\n\n<pre><code>String dateText =\"Thu, 02 Jul 2015 21:51:46\";\nlong hours = -5; // time difference between places\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(E, dd MMM yyyy HH:mm:ss, Locale.ENGLISH);     \nLocalDateTime date = LocalDateTime.parse(dateText, formatter);        \ndate = date.with(date.plusHours(hours));\n\nSystem.out.println(\"NEW DATE: \"+date);\n</code></pre>\n\n<p>Output</p>\n\n<p><strong>NEW DATE: 2015-07-02T16:51:46</strong></p>\n"},{"tags":[],"owner":{"account_id":3011136,"reputation":12331,"user_id":2572431,"accept_rate":71,"display_name":"augurar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1460799337,"creation_date":1460799337,"answer_id":36662496,"question_id":7670355,"body_markdown":"Your approach works without any modification.\r\n\r\n    Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    // Timestamp for 2011-10-06 03:35:05 GMT\r\n    calendar.setTime(new Date(1317872105000L));\r\n\r\n    DateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;); \r\n    formatter.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));\r\n\r\n    // Prints 2011-10-06 16:35:05 GMT+13:00\r\n    System.out.println(formatter.format(calendar.getTime()));","title":"Convert Date/Time for given Timezone - java","body":"<p>Your approach works without any modification.</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n// Timestamp for 2011-10-06 03:35:05 GMT\ncalendar.setTime(new Date(1317872105000L));\n\nDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss z\"); \nformatter.setTimeZone(TimeZone.getTimeZone(\"GMT+13\"));\n\n// Prints 2011-10-06 16:35:05 GMT+13:00\nSystem.out.println(formatter.format(calendar.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1550593517,"creation_date":1472849083,"answer_id":39300461,"question_id":7670355,"body_markdown":"# tl;dr\r\n\r\n    Instant.ofEpochMilli( 1_317_816_735_000L )\n        .atZone( ZoneId.of( &quot;Pacific/Auckland&quot; ) )\n        .format( DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( new Locale( &quot;en&quot; , &quot;NZ&quot; ) ) )\r\n\r\n…also…\r\n\r\n    LocalDateTime.parse( &quot;2011-10-06 03:35:05&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\n        .atZone( ZoneId.of( &quot;Pacific/Auckland&quot; ) )\r\n\r\n# java.time\r\n\r\nThe Question and most Answers use outdated legacy date-time classes from the earliest versions of Java. These old classes have proven to be troublesome and confusing. Avoid them. Instead use the java.time classes.\r\n\r\n# ISO 8601\r\n\r\nYour input string is nearly in standard ISO 8601 format. Just replace the SPACE in the middle with a `T`. \r\n\r\n    String input = &quot;2011-10-06 03:35:05&quot;.replace( &quot; &quot; , &quot;T&quot; );\r\n\r\n# `LocalDateTime`\r\n\r\nNow parse as a [`LocalDateTime`][1] because the input lacks any information about offset-from-UTC or time zone. A `LocalDateTime` has no concept of offset nor time zone, so it does *not* represent an actual moment on the timeline.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( input );\r\n\r\n# `ZoneOffset`\r\n\r\nYou seem to be saying that from the business context you know the intention of this string is to represent a moment that is 13 hours ahead of UTC. So we instantiate a [`ZoneOffset`][2].\r\n\r\n    ZoneOffset offset = ZoneOffset.ofHours( 13 ); // 13 hours ahead of UTC, in the far east of the globe.\r\n\r\n# `OffsetDateTime`\r\n\r\nApply it to get an [`OffsetDateTime`][3] object. This becomes an actual moment on the timeline.\r\n\r\n    OffsetDateTime odt = ldt.atOffset( offset);\r\n\r\n# `ZoneId`\r\n \r\nBut then you mention New Zealand. So you had a specific time zone in mind. A time zone is an offset-from-UTC *plus* a set of rules for handling anomalies such as Daylight Saving Time (DST). So we can specify a `ZoneId` to a `ZonedDateTime` rather than a mere offset. \r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name). Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are not true time zones, not standardized, and not even unique(!). For example, `Pacific/Auckland`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; );\r\n\r\n# `ZonedDateTime`\r\n\r\nApply the `ZoneId`.\r\n\r\n    ZonedDateTime zdt = ldt.atZone( z );\r\n\r\nYou can easily adjust into another zone for the very same moment on the timeline.\r\n\r\n    ZoneId zParis = ZoneId.of( &quot;Europe/Paris&quot; );\r\n    ZonedDateTime zdtParis = zdt.withZoneSameInstant( zParis );  // Same moment in time, but seen through lens of Paris wall-clock time.\n\n\r\n\r\n# Count from epoch\r\n\r\nI strongly recommend against handling date-time values as a count from epoch, such as milliseconds from the start of 1970 UTC. But if you must, create a `Instant` from such a number.\r\n\r\n    Instant instant = Instant.ofEpochMilli( 1_317_816_735_000L );\r\n    \r\nThen assign a time zone as seen above, if desired, to move away from UTC.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; );\r\n    ZonedDateTime zdt = instant.atZone( z );\r\n\r\nYour value of `1_317_816_735_000L` is:\r\n\r\n - `2011-10-05T12:12:15Z` (Wed, 05 Oct 2011 12:12:15 GMT)\r\n - `2011-10-06T01:12:15+13:00[Pacific/Auckland]` (Thursday October 06, 2011 01:12:15 in Auckland New Zealand).\r\n\r\n# Generate strings\r\n\r\nTo generate a string in standard [ISO 8601][4] format, simply call `toString`. Note that `ZonedDateTime` wisely extends the standard format by appending the name of the time zone in square brackets.\r\n\r\n    String output = zdt.toString();\r\n\r\nFor other formats, search Stack Overflow for [`DateTimeFormatter`][5] class. Already covered many times. \r\n\r\nSpecify a [`FormatStyle`][6] and a [`Locale`][7].\r\n\r\n    Locale l = new Locale( &quot;en&quot; , &quot;NZ&quot; );\r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( l );\r\n    String output = zdt.format( f );\n\nNote that time zone has *nothing* to do with locale. You can have a `Europe/Paris` date-time displayed in Japanese language &amp; cultural norms, or a `Asia/Kolkata` date-time displayed in Portuguese language and Brazil cultural norms.\n\r\n\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old date-time classes such as `java.util.Date`, `.Calendar`, &amp; `java.text.SimpleDateFormat`. \r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations.\r\n\r\nMuch of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to [Android](https://en.wikipedia.org/wiki/Android_(operating_system)) in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (see [*How to use…*](https://stackoverflow.com/q/38922754/642706)).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as `Interval`, `YearWeek`, `YearQuarter`, and more.\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/format/FormatStyle.html\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html","title":"Convert Date/Time for given Timezone - java","body":"<h1>tl;dr</h1>\n\n<pre><code>Instant.ofEpochMilli( 1_317_816_735_000L )\n    .atZone( ZoneId.of( \"Pacific/Auckland\" ) )\n    .format( DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( new Locale( \"en\" , \"NZ\" ) ) )\n</code></pre>\n\n<p>…also…</p>\n\n<pre><code>LocalDateTime.parse( \"2011-10-06 03:35:05\".replace( \" \" , \"T\" ) )\n    .atZone( ZoneId.of( \"Pacific/Auckland\" ) )\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>The Question and most Answers use outdated legacy date-time classes from the earliest versions of Java. These old classes have proven to be troublesome and confusing. Avoid them. Instead use the java.time classes.</p>\n\n<h1>ISO 8601</h1>\n\n<p>Your input string is nearly in standard ISO 8601 format. Just replace the SPACE in the middle with a <code>T</code>. </p>\n\n<pre><code>String input = \"2011-10-06 03:35:05\".replace( \" \" , \"T\" );\n</code></pre>\n\n<h1><code>LocalDateTime</code></h1>\n\n<p>Now parse as a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> because the input lacks any information about offset-from-UTC or time zone. A <code>LocalDateTime</code> has no concept of offset nor time zone, so it does <em>not</em> represent an actual moment on the timeline.</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( input );\n</code></pre>\n\n<h1><code>ZoneOffset</code></h1>\n\n<p>You seem to be saying that from the business context you know the intention of this string is to represent a moment that is 13 hours ahead of UTC. So we instantiate a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a>.</p>\n\n<pre><code>ZoneOffset offset = ZoneOffset.ofHours( 13 ); // 13 hours ahead of UTC, in the far east of the globe.\n</code></pre>\n\n<h1><code>OffsetDateTime</code></h1>\n\n<p>Apply it to get an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a> object. This becomes an actual moment on the timeline.</p>\n\n<pre><code>OffsetDateTime odt = ldt.atOffset( offset);\n</code></pre>\n\n<h1><code>ZoneId</code></h1>\n\n<p>But then you mention New Zealand. So you had a specific time zone in mind. A time zone is an offset-from-UTC <em>plus</em> a set of rules for handling anomalies such as Daylight Saving Time (DST). So we can specify a <code>ZoneId</code> to a <code>ZonedDateTime</code> rather than a mere offset. </p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"noreferrer\">proper time zone name</a>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are not true time zones, not standardized, and not even unique(!). For example, <code>Pacific/Auckland</code>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Pacific/Auckland\" );\n</code></pre>\n\n<h1><code>ZonedDateTime</code></h1>\n\n<p>Apply the <code>ZoneId</code>.</p>\n\n<pre><code>ZonedDateTime zdt = ldt.atZone( z );\n</code></pre>\n\n<p>You can easily adjust into another zone for the very same moment on the timeline.</p>\n\n<pre><code>ZoneId zParis = ZoneId.of( \"Europe/Paris\" );\nZonedDateTime zdtParis = zdt.withZoneSameInstant( zParis );  // Same moment in time, but seen through lens of Paris wall-clock time.\n</code></pre>\n\n<h1>Count from epoch</h1>\n\n<p>I strongly recommend against handling date-time values as a count from epoch, such as milliseconds from the start of 1970 UTC. But if you must, create a <code>Instant</code> from such a number.</p>\n\n<pre><code>Instant instant = Instant.ofEpochMilli( 1_317_816_735_000L );\n</code></pre>\n\n<p>Then assign a time zone as seen above, if desired, to move away from UTC.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Pacific/Auckland\" );\nZonedDateTime zdt = instant.atZone( z );\n</code></pre>\n\n<p>Your value of <code>1_317_816_735_000L</code> is:</p>\n\n<ul>\n<li><code>2011-10-05T12:12:15Z</code> (Wed, 05 Oct 2011 12:12:15 GMT)</li>\n<li><code>2011-10-06T01:12:15+13:00[Pacific/Auckland]</code> (Thursday October 06, 2011 01:12:15 in Auckland New Zealand).</li>\n</ul>\n\n<h1>Generate strings</h1>\n\n<p>To generate a string in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format, simply call <code>toString</code>. Note that <code>ZonedDateTime</code> wisely extends the standard format by appending the name of the time zone in square brackets.</p>\n\n<pre><code>String output = zdt.toString();\n</code></pre>\n\n<p>For other formats, search Stack Overflow for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> class. Already covered many times. </p>\n\n<p>Specify a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/FormatStyle.html\" rel=\"noreferrer\"><code>FormatStyle</code></a> and a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"noreferrer\"><code>Locale</code></a>.</p>\n\n<pre><code>Locale l = new Locale( \"en\" , \"NZ\" );\nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( l );\nString output = zdt.format( f );\n</code></pre>\n\n<p>Note that time zone has <em>nothing</em> to do with locale. You can have a <code>Europe/Paris</code> date-time displayed in Japanese language &amp; cultural norms, or a <code>Asia/Kolkata</code> date-time displayed in Portuguese language and Brazil cultural norms.</p>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old date-time classes such as <code>java.util.Date</code>, <code>.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code>. </p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations.</p>\n\n<p>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a> (see <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use…</em></a>).</p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <code>Interval</code>, <code>YearWeek</code>, <code>YearQuarter</code>, and more.</p>\n"},{"tags":[],"owner":{"account_id":11030312,"reputation":11,"user_id":8101846,"display_name":"Sourav Barman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496388473,"creation_date":1496388473,"answer_id":44323179,"question_id":7670355,"body_markdown":"\tpublic Timestamp convertLocalTimeToServerDatetime(String dt,String timezone){\r\n\t\t\r\n\t\tString clientDnT = dt ;// &quot;2017-06-01 07:20:00&quot;;\r\n\t\ttry{\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\tDate date = sdf.parse(clientDnT);\r\n\t    TimeZone tz = TimeZone.getTimeZone(timezone.trim()); // get time zone of user\r\n\t    sdf.setTimeZone(tz);\r\n\t      \r\n\t    // Convert to servertime zone \r\n\t\tSimpleDateFormat sdf1 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\tTimeZone tzInAmerica = TimeZone.getDefault();\r\n\t\tsdf1.setTimeZone(tzInAmerica);\r\n\t\t\r\n\t\t// assign date to date\r\n\t\tString serverDate = sdf1.format(date);\r\n\t\t\r\n\t\t// Convert to servertime zone to Timestamp\r\n\t\tDate date2 =  sdf.parse(serverDate);\r\n\t    Timestamp tsm = new Timestamp(date2.getTime());\r\n\t    return  tsm;\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\tSystem.err.println(e);\r\n\t\t}\r\n\t\t \r\n\t\treturn null;\r\n\t}","title":"Convert Date/Time for given Timezone - java","body":"<pre><code>public Timestamp convertLocalTimeToServerDatetime(String dt,String timezone){\n\n    String clientDnT = dt ;// \"2017-06-01 07:20:00\";\n    try{\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    Date date = sdf.parse(clientDnT);\n    TimeZone tz = TimeZone.getTimeZone(timezone.trim()); // get time zone of user\n    sdf.setTimeZone(tz);\n\n    // Convert to servertime zone \n    SimpleDateFormat sdf1 = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    TimeZone tzInAmerica = TimeZone.getDefault();\n    sdf1.setTimeZone(tzInAmerica);\n\n    // assign date to date\n    String serverDate = sdf1.format(date);\n\n    // Convert to servertime zone to Timestamp\n    Date date2 =  sdf.parse(serverDate);\n    Timestamp tsm = new Timestamp(date2.getTime());\n    return  tsm;\n    }\n    catch(Exception e){\n        System.err.println(e);\n    }\n\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1358034,"reputation":79,"user_id":1296022,"display_name":"Abhishek Singha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561112535,"creation_date":1561109407,"answer_id":56700625,"question_id":7670355,"body_markdown":"To find duration or time interval with two different time zone \r\n    \r\n    import org.joda.time.{DateTime, Period, PeriodType}\r\n            \r\n    val s1 = &quot;2019-06-13T05:50:00-07:00&quot;\r\n    val s2 = &quot;2019-10-09T11:30:00+09:00&quot;    \r\n            \r\n    val period = new Period(DateTime.parse(s1), DateTime.parse(s2), PeriodType dayTime())\r\n            \r\n    period.getDays\r\n    period.getMinutes\r\n    period.getHours\r\n\r\noutput\r\n    period = P117DT13H40M\r\n    \r\n    days = 117\r\n    minutes = 40\r\n    hours = 13\r\n\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p>To find duration or time interval with two different time zone </p>\n\n<pre><code>import org.joda.time.{DateTime, Period, PeriodType}\n\nval s1 = \"2019-06-13T05:50:00-07:00\"\nval s2 = \"2019-10-09T11:30:00+09:00\"    \n\nval period = new Period(DateTime.parse(s1), DateTime.parse(s2), PeriodType dayTime())\n\nperiod.getDays\nperiod.getMinutes\nperiod.getHours\n</code></pre>\n\n<p>output\n    period = P117DT13H40M</p>\n\n<pre><code>days = 117\nminutes = 40\nhours = 13\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563180217,"creation_date":1563180217,"answer_id":57036150,"question_id":7670355,"body_markdown":"I should like to provide the modern answer.\r\n\r\nYou shouldn’t really want to convert a date and time from a string at one GMT offset to a string at a different GMT offset and with in a different format. Rather in your program keep an instant (a point in time) as a proper date-time object. Only when you need to give string output, format your object into the desired string.\r\n\r\n## java.time\r\n\r\n**Parsing input**\r\n\r\n\t\tDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n\t\t\t\t.append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n\t\t\t\t.appendLiteral(&#39; &#39;)\r\n\t\t\t\t.append(DateTimeFormatter.ISO_LOCAL_TIME)\r\n\t\t\t\t.toFormatter();\r\n\t\t\r\n\t\tString dateTimeString = &quot;2011-10-06 03:35:05&quot;;\r\n\t\tInstant instant = LocalDateTime.parse(dateTimeString, formatter)\r\n\t\t\t\t.atOffset(ZoneOffset.UTC)\r\n\t\t\t\t.toInstant();\r\n\r\nFor most purposes `Instant` is a good choice for storing a point in time. If you needed to make it explicit that the date and time came from GMT, use an `OffsetDateTime` instead.\r\n\r\n**Converting, formatting and printing output**\r\n\r\n\t\tZoneId desiredZone = ZoneId.of(&quot;Pacific/Auckland&quot;);\r\n\t\tLocale desiredeLocale = Locale.forLanguageTag(&quot;en-NZ&quot;);\r\n\t\tDateTimeFormatter desiredFormatter = DateTimeFormatter.ofPattern(\r\n\t\t\t\t&quot;dd MMM uuuu HH:mm:ss OOOO&quot;, desiredeLocale);\r\n\t\t\r\n\t\tZonedDateTime desiredDateTime = instant.atZone(desiredZone);\r\n\t\tString result = desiredDateTime.format(desiredFormatter);\r\n\t\tSystem.out.println(result);\r\n\r\nThis printed:\r\n\r\n&gt; 06 Oct 2011 16:35:05 GMT+13:00\r\n\r\nI specified time zone Pacific/Auckland rather than the offset you mentioned, +13:00. I understood that you wanted New Zealand time, and Pacific/Auckland better tells the reader this. The time zone also takes summer time (DST) into account so you don’t need to take this into account in your own code (for most purposes).\r\n\r\nSince `Oct` is in English, it’s a good idea to give the formatter an explicit locale. `GMT` might be localized too, but I think that it just prints `GMT` in all locales.\r\n\r\n`OOOO` in the format patterns string is one way of printing the offset, which may be a better idea than printing the time zone abbreviation you would get from `z` since time zone abbreviations are often ambiguous. If you want `NZDT` (for New Zealand Daylight Time), just put `z` there instead.\r\n\r\n**Your questions**\r\n\r\nI will answer your numbered questions in relation to the modern classes in java.time.\r\n\r\n&gt; Is possible to:\r\n&gt; \r\n&gt;  1. Set the time on an object\r\n\r\nNo, the modern classes are immutable. You need to create an object that has the desired date and time from the outset (this has a number of advantages including thread safety).\r\n\r\n&gt;  2. (Possibly) Set the TimeZone of the initial time stamp\r\n\r\nThe `atZone` method that I use in the code returns a `ZonedDateTime` with the specified time zone. Other date-time classes have a similar method, sometimes called `atZoneSameInstant` or other names.\r\n\r\n&gt;  3. Format the time stamp with a new TimeZone\r\n\r\nWith java.time converting to a new time zone and formatting are two distinct steps as shown.\r\n\r\n&gt;  4. Return a string with new time zone time.\r\n\r\nYes, convert to the desired time zone as shown and format as shown.\r\n\r\n&gt; I found that anytime I try to set the time like this:\r\n&gt; \r\n&gt;     calendar.setTime(new Date(1317816735000L));\r\n&gt; \r\n&gt; the local machine&#39;s TimeZone is used. Why is that?\r\n\r\nIt’s not the way you think, which goes nicely to show just a couple of the (many) design problems with the old classes.\r\n\r\n - A `Date` hasn’t got a time zone. Only when you print it, its `toString` method grabs your local time zone and uses it for rendering the string. This is true for `new Date()` too. This behaviour has confused many, many programmers over the last 25 years.\r\n - A `Calender` *has* got a time zone. It doesn’t change when you do `calendar.setTime(new Date(1317816735000L));`.\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.","title":"Convert Date/Time for given Timezone - java","body":"<p>I should like to provide the modern answer.</p>\n\n<p>You shouldn’t really want to convert a date and time from a string at one GMT offset to a string at a different GMT offset and with in a different format. Rather in your program keep an instant (a point in time) as a proper date-time object. Only when you need to give string output, format your object into the desired string.</p>\n\n<h2>java.time</h2>\n\n<p><strong>Parsing input</strong></p>\n\n<pre><code>    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n            .append(DateTimeFormatter.ISO_LOCAL_DATE)\n            .appendLiteral(' ')\n            .append(DateTimeFormatter.ISO_LOCAL_TIME)\n            .toFormatter();\n\n    String dateTimeString = \"2011-10-06 03:35:05\";\n    Instant instant = LocalDateTime.parse(dateTimeString, formatter)\n            .atOffset(ZoneOffset.UTC)\n            .toInstant();\n</code></pre>\n\n<p>For most purposes <code>Instant</code> is a good choice for storing a point in time. If you needed to make it explicit that the date and time came from GMT, use an <code>OffsetDateTime</code> instead.</p>\n\n<p><strong>Converting, formatting and printing output</strong></p>\n\n<pre><code>    ZoneId desiredZone = ZoneId.of(\"Pacific/Auckland\");\n    Locale desiredeLocale = Locale.forLanguageTag(\"en-NZ\");\n    DateTimeFormatter desiredFormatter = DateTimeFormatter.ofPattern(\n            \"dd MMM uuuu HH:mm:ss OOOO\", desiredeLocale);\n\n    ZonedDateTime desiredDateTime = instant.atZone(desiredZone);\n    String result = desiredDateTime.format(desiredFormatter);\n    System.out.println(result);\n</code></pre>\n\n<p>This printed:</p>\n\n<blockquote>\n  <p>06 Oct 2011 16:35:05 GMT+13:00</p>\n</blockquote>\n\n<p>I specified time zone Pacific/Auckland rather than the offset you mentioned, +13:00. I understood that you wanted New Zealand time, and Pacific/Auckland better tells the reader this. The time zone also takes summer time (DST) into account so you don’t need to take this into account in your own code (for most purposes).</p>\n\n<p>Since <code>Oct</code> is in English, it’s a good idea to give the formatter an explicit locale. <code>GMT</code> might be localized too, but I think that it just prints <code>GMT</code> in all locales.</p>\n\n<p><code>OOOO</code> in the format patterns string is one way of printing the offset, which may be a better idea than printing the time zone abbreviation you would get from <code>z</code> since time zone abbreviations are often ambiguous. If you want <code>NZDT</code> (for New Zealand Daylight Time), just put <code>z</code> there instead.</p>\n\n<p><strong>Your questions</strong></p>\n\n<p>I will answer your numbered questions in relation to the modern classes in java.time.</p>\n\n<blockquote>\n  <p>Is possible to:</p>\n  \n  <ol>\n  <li>Set the time on an object</li>\n  </ol>\n</blockquote>\n\n<p>No, the modern classes are immutable. You need to create an object that has the desired date and time from the outset (this has a number of advantages including thread safety).</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>(Possibly) Set the TimeZone of the initial time stamp</li>\n  </ol>\n</blockquote>\n\n<p>The <code>atZone</code> method that I use in the code returns a <code>ZonedDateTime</code> with the specified time zone. Other date-time classes have a similar method, sometimes called <code>atZoneSameInstant</code> or other names.</p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>Format the time stamp with a new TimeZone</li>\n  </ol>\n</blockquote>\n\n<p>With java.time converting to a new time zone and formatting are two distinct steps as shown.</p>\n\n<blockquote>\n  <ol start=\"4\">\n  <li>Return a string with new time zone time.</li>\n  </ol>\n</blockquote>\n\n<p>Yes, convert to the desired time zone as shown and format as shown.</p>\n\n<blockquote>\n  <p>I found that anytime I try to set the time like this:</p>\n\n<pre><code>calendar.setTime(new Date(1317816735000L));\n</code></pre>\n  \n  <p>the local machine's TimeZone is used. Why is that?</p>\n</blockquote>\n\n<p>It’s not the way you think, which goes nicely to show just a couple of the (many) design problems with the old classes.</p>\n\n<ul>\n<li>A <code>Date</code> hasn’t got a time zone. Only when you print it, its <code>toString</code> method grabs your local time zone and uses it for rendering the string. This is true for <code>new Date()</code> too. This behaviour has confused many, many programmers over the last 25 years.</li>\n<li>A <code>Calender</code> <em>has</em> got a time zone. It doesn’t change when you do <code>calendar.setTime(new Date(1317816735000L));</code>.</li>\n</ul>\n\n<h2>Link</h2>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"},{"tags":[],"owner":{"account_id":5765282,"reputation":581,"user_id":4550431,"display_name":"Krzysztof Dziuba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564481489,"creation_date":1564480507,"answer_id":57268959,"question_id":7670355,"body_markdown":"display date and time for all timezones\r\n\r\n\r\n    import java.util.Calendar;\r\n    import java.util.TimeZone;\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n\r\n\r\n\r\n    static final String ISO8601 = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;;\r\n    DateFormat dateFormat = new SimpleDateFormat(ISO8601);\r\n    Calendar c = Calendar.getInstance();\r\n    String formattedTime;\r\n    for (String availableID : TimeZone.getAvailableIDs()) {\r\n        dateFormat.setTimeZone(TimeZone.getTimeZone(availableID));\r\n        formattedTime = dateFormat.format(c.getTime());\r\n        System.out.println(formattedTime + &quot; &quot; + availableID);\r\n    }\r\n\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p>display date and time for all timezones</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.TimeZone;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\n\n\n\nstatic final String ISO8601 = \"yyyy-MM-dd'T'HH:mm:ssZ\";\nDateFormat dateFormat = new SimpleDateFormat(ISO8601);\nCalendar c = Calendar.getInstance();\nString formattedTime;\nfor (String availableID : TimeZone.getAvailableIDs()) {\n    dateFormat.setTimeZone(TimeZone.getTimeZone(availableID));\n    formattedTime = dateFormat.format(c.getTime());\n    System.out.println(formattedTime + \" \" + availableID);\n}\n</code></pre>\n"}],"owner":{"account_id":180511,"reputation":8300,"user_id":413872,"accept_rate":95,"display_name":"travega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446833,"favorite_count":0,"down_vote_count":1,"up_vote_count":95,"accepted_answer_id":22364501,"answer_count":15,"score":94,"last_activity_date":1654233402,"creation_date":1317875934,"question_id":7670355,"body_markdown":"I want to convert this GMT time stamp to GMT+13:\r\n\r\n    2011-10-06 03:35:05\r\n\r\nI have tried about 100 different combinations of DateFormat, TimeZone, Date, GregorianCalendar etc. to try to do this VERY basic task.\r\n\r\nThis code does what I want for the CURRENT TIME:\r\n\r\n    Calendar calendar = new GregorianCalendar(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n  \r\n    DateFormat formatter = new SimpleDateFormat(&quot;dd MMM yyyy HH:mm:ss z&quot;);    \r\n    formatter.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));  \r\n\r\n    String newZealandTime = formatter.format(calendar.getTime());\r\n\r\nBut what I want is to set the time rather than using the current time. \r\n\r\nI found that anytime I try to set the time like this:\r\n\r\n    calendar.setTime(new Date(1317816735000L));\r\n\r\nthe local machine&#39;s TimeZone is used. Why is that? I know that when &quot;new Date()&quot; returns UTC+0 time so why when you set the Time in milliseconds does it no longer assume the time is in UTC?\r\n\r\nIs it possible to:\r\n\r\n 1. Set the time on an object (Calendar/Date/TimeStamp)\r\n 2. (Possibly) Set the TimeZone of the initial time stamp (calendar.setTimeZone(...))\r\n 3. Format the time stamp with a new TimeZone (formatter.setTimeZone(...)))\r\n 4. Return a string with new time zone time. (formatter.format(calendar.getTime()))\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p>I want to convert this GMT time stamp to GMT+13:</p>\n<pre><code>2011-10-06 03:35:05\n</code></pre>\n<p>I have tried about 100 different combinations of DateFormat, TimeZone, Date, GregorianCalendar etc. to try to do this VERY basic task.</p>\n<p>This code does what I want for the CURRENT TIME:</p>\n<pre><code>Calendar calendar = new GregorianCalendar(TimeZone.getTimeZone(&quot;GMT&quot;));\n\nDateFormat formatter = new SimpleDateFormat(&quot;dd MMM yyyy HH:mm:ss z&quot;);    \nformatter.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));  \n\nString newZealandTime = formatter.format(calendar.getTime());\n</code></pre>\n<p>But what I want is to set the time rather than using the current time.</p>\n<p>I found that anytime I try to set the time like this:</p>\n<pre><code>calendar.setTime(new Date(1317816735000L));\n</code></pre>\n<p>the local machine's TimeZone is used. Why is that? I know that when &quot;new Date()&quot; returns UTC+0 time so why when you set the Time in milliseconds does it no longer assume the time is in UTC?</p>\n<p>Is it possible to:</p>\n<ol>\n<li>Set the time on an object (Calendar/Date/TimeStamp)</li>\n<li>(Possibly) Set the TimeZone of the initial time stamp (calendar.setTimeZone(...))</li>\n<li>Format the time stamp with a new TimeZone (formatter.setTimeZone(...)))</li>\n<li>Return a string with new time zone time. (formatter.format(calendar.getTime()))</li>\n</ol>\n"},{"tags":["java","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":6919148,"reputation":769,"user_id":5312373,"accept_rate":39,"display_name":"Prasanta Biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1626348672,"creation_date":1626348672,"answer_id":68393008,"question_id":68305135,"body_markdown":"Figured out the reason. Appium by defaults adds `-W` to the adb command when startActivity is called which waits till the activity is launched. In my case it is a transparent activity and does not launch. So eventually the appium command times out and fails.","title":"Not able to start activity using appium","body":"<p>Figured out the reason. Appium by defaults adds <code>-W</code> to the adb command when startActivity is called which waits till the activity is launched. In my case it is a transparent activity and does not launch. So eventually the appium command times out and fails.</p>\n"},{"tags":[],"owner":{"account_id":9090019,"reputation":99,"user_id":6766297,"display_name":"nby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654233378,"creation_date":1654233378,"answer_id":72485004,"question_id":68305135,"body_markdown":"You need to set &quot;appWaitForLaunch to false&quot;. \r\n\r\nLook [here][1] - From Appium Docs:\r\n&gt; There might be also situations where an activity does not return the\r\n&gt; control to the calling process at all, so am start call blocks forever\r\n&gt; independently of the value of appWaitDuration, thus causing the\r\n&gt; timeout. In such case setting appWaitForLaunch to false might help to\r\n&gt; resolve the issue. Although, by choosing this option, the driver\r\n&gt; cannot make sure the activity has fully started, so then it is up to\r\n&gt; the client code to verify the initial UI state is the one that is\r\n&gt; expected.\r\n\r\n\r\n\r\n\r\n  [1]: http://appium.io/docs/en/writing-running-appium/android/activity-startup/#command-timed-out-after-x-ms","title":"Not able to start activity using appium","body":"<p>You need to set &quot;appWaitForLaunch to false&quot;.</p>\n<p>Look <a href=\"http://appium.io/docs/en/writing-running-appium/android/activity-startup/#command-timed-out-after-x-ms\" rel=\"nofollow noreferrer\">here</a> - From Appium Docs:</p>\n<blockquote>\n<p>There might be also situations where an activity does not return the\ncontrol to the calling process at all, so am start call blocks forever\nindependently of the value of appWaitDuration, thus causing the\ntimeout. In such case setting appWaitForLaunch to false might help to\nresolve the issue. Although, by choosing this option, the driver\ncannot make sure the activity has fully started, so then it is up to\nthe client code to verify the initial UI state is the one that is\nexpected.</p>\n</blockquote>\n"}],"owner":{"account_id":6919148,"reputation":769,"user_id":5312373,"accept_rate":39,"display_name":"Prasanta Biswas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1015,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68393008,"answer_count":2,"score":0,"last_activity_date":1654233378,"creation_date":1625760441,"question_id":68305135,"body_markdown":"I am trying to launch a transparent activity using appium android driver and also passing some optional intent arguments. It is always failing with 500 status and the command times out no matter how much I set abdExecTimeout capability value.\r\n\r\nSample code:\r\n\r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    capabilities.setCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\r\n    capabilities.setCapability(&quot;app&quot;, &quot;/path/to/app.apk&quot;);\r\n    capabilities.setCapability(&quot;appActivity&quot;, &quot;com.myapp.home.splash.SplashActivity&quot;);\r\n    capabilities.setCapability(&quot;appPackage&quot;, &quot;com.myapp.app&quot;);\r\n    capabilities.setCapability(&quot;udid&quot;,&quot;e76dcaaqs&quot;);\r\n    capabilities.setCapability(&quot;avdLaunchTimeout&quot;, 300000);\r\n    capabilities.setCapability(&quot;useKeystore&quot;, false);\r\n    capabilities.setCapability(&quot;autoGrantPermissions&quot;,true);\r\n    capabilities.setCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\r\n    capabilities.setCapability(&quot;skipUnlock&quot;, true);\r\n    capabilities.setCapability(&quot;androidInstallTimeout&quot;, 180000);\r\n    capabilities.setCapability(&quot;adbExecTimeout&quot;, 60000);\r\n    capabilities.setCapability(&quot;ignoreHiddenApiPolicyError&quot;, true);\r\n    capabilities.setCapability(&quot;deviceName&quot;, &quot;Oppo Reno&quot;);\r\n    capabilities.setCapability(&quot;appWaitForLaunch&quot;, false);\r\n    AndroidDriver&lt;MobileElement&gt; driver = new AndroidDriver&lt;&gt;(new URL(&quot;http://localhost:4723/wd/hub&quot;), capabilities);\r\n    Activity activity = new Activity(&quot;com.myapp.app&quot;, &quot;com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity&quot;);\r\n    String intentParam = &quot;--es \\&quot;overrideData\\&quot; &#39;[{\\&quot;pref_name\\&quot;: \\&quot;MyPref\\&quot;,\\&quot;overrides\\&quot;: &quot; +\r\n            &quot;[{\\&quot;key\\&quot;: \\&quot;mykey\\&quot;,\\&quot;value\\&quot;: \\&quot;&quot; + obj.getValue() + &quot;\\&quot;,\\&quot;type\\&quot;: \\&quot;string\\&quot;}],\\&quot;clear\\&quot;: false}]&#39;&quot;;\r\n    activity.setOptionalIntentArguments(intentParam);\r\n    //            activity.setStopApp(true);\r\n    try {\r\n        Thread.sleep(5000);\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n    driver.startActivity(activity);\r\n    driver.launchApp();\r\n    \r\n    } catch (OperationFailedException | MalformedURLException e) {\r\n    e.printStackTrace();\r\n    }\r\n\r\nOutput log\r\n\r\n&gt; [W3C (146a80b7)] Calling AppiumDriver.startActivity() with args:\r\n&gt; [&quot;com.myapp.app&quot;,&quot;com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity&quot;,&quot;com.myapp.app&quot;,&quot;com.myapp.home.splash.SplashActivity&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;--es\r\n&gt; \\&quot;overrideData\\&quot; &#39;[{\\&quot;pref_name\\&quot;: \\&quot;MyPreferences\\&quot;,\\&quot;overrides\\&quot;:\r\n&gt; [{\\&quot;key\\&quot;: \\&quot;myKey\\&quot;,\\&quot;value\\&quot;: \\&quot;myValue&quot;\\&quot;,\\&quot;type\\&quot;:\r\n&gt; \\&quot;string\\&quot;}],\\&quot;clear\\&quot;: false}]&#39; [AndroidDriver] Starting package\r\n&gt; &#39;com.myapp.app&#39; and activity\r\n&gt; &#39;com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity&#39;\r\n&gt; [ADB] Running &#39;/Users/user1/Library/Android/sdk/platform-tools/adb -P\r\n&gt; 5037 -s e15adapa shell am start -W -n\r\n&gt; com.myapp.app/com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity\r\n&gt; -S --es &#39;&quot;overrideData&quot;&#39; &quot;&#39;[{\\&quot;pref_name\\&quot;: \\&quot;MyPreferences\\&quot;,\\&quot;overrides\\&quot;: [{\\&quot;key\\&quot;: \\&quot;myKey\\&quot;,\\&quot;value\\&quot;:\r\n&gt; \\&quot;myValue\\&quot;,\\&quot;type\\&quot;: \\&quot;string\\&quot;}],\\&quot;clear\\&quot;: false}]&#39;&quot;&#39;\r\n&gt; [Instrumentation] INSTRUMENTATION_RESULT: shortMsg=Process crashed.\r\n&gt; [Instrumentation] INSTRUMENTATION_CODE: 0 [Instrumentation] The\r\n&gt; process has exited with code 0\r\n\r\n\r\nThe strange thing is the preference data is updated even if the process crashes.","title":"Not able to start activity using appium","body":"<p>I am trying to launch a transparent activity using appium android driver and also passing some optional intent arguments. It is always failing with 500 status and the command times out no matter how much I set abdExecTimeout capability value.</p>\n<p>Sample code:</p>\n<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.setCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\ncapabilities.setCapability(&quot;app&quot;, &quot;/path/to/app.apk&quot;);\ncapabilities.setCapability(&quot;appActivity&quot;, &quot;com.myapp.home.splash.SplashActivity&quot;);\ncapabilities.setCapability(&quot;appPackage&quot;, &quot;com.myapp.app&quot;);\ncapabilities.setCapability(&quot;udid&quot;,&quot;e76dcaaqs&quot;);\ncapabilities.setCapability(&quot;avdLaunchTimeout&quot;, 300000);\ncapabilities.setCapability(&quot;useKeystore&quot;, false);\ncapabilities.setCapability(&quot;autoGrantPermissions&quot;,true);\ncapabilities.setCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\ncapabilities.setCapability(&quot;skipUnlock&quot;, true);\ncapabilities.setCapability(&quot;androidInstallTimeout&quot;, 180000);\ncapabilities.setCapability(&quot;adbExecTimeout&quot;, 60000);\ncapabilities.setCapability(&quot;ignoreHiddenApiPolicyError&quot;, true);\ncapabilities.setCapability(&quot;deviceName&quot;, &quot;Oppo Reno&quot;);\ncapabilities.setCapability(&quot;appWaitForLaunch&quot;, false);\nAndroidDriver&lt;MobileElement&gt; driver = new AndroidDriver&lt;&gt;(new URL(&quot;http://localhost:4723/wd/hub&quot;), capabilities);\nActivity activity = new Activity(&quot;com.myapp.app&quot;, &quot;com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity&quot;);\nString intentParam = &quot;--es \\&quot;overrideData\\&quot; '[{\\&quot;pref_name\\&quot;: \\&quot;MyPref\\&quot;,\\&quot;overrides\\&quot;: &quot; +\n        &quot;[{\\&quot;key\\&quot;: \\&quot;mykey\\&quot;,\\&quot;value\\&quot;: \\&quot;&quot; + obj.getValue() + &quot;\\&quot;,\\&quot;type\\&quot;: \\&quot;string\\&quot;}],\\&quot;clear\\&quot;: false}]'&quot;;\nactivity.setOptionalIntentArguments(intentParam);\n//            activity.setStopApp(true);\ntry {\n    Thread.sleep(5000);\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\ndriver.startActivity(activity);\ndriver.launchApp();\n\n} catch (OperationFailedException | MalformedURLException e) {\ne.printStackTrace();\n}\n</code></pre>\n<p>Output log</p>\n<blockquote>\n<p>[W3C (146a80b7)] Calling AppiumDriver.startActivity() with args:\n[&quot;com.myapp.app&quot;,&quot;com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity&quot;,&quot;com.myapp.app&quot;,&quot;com.myapp.home.splash.SplashActivity&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;--es\n&quot;overrideData&quot; '[{&quot;pref_name&quot;: &quot;MyPreferences&quot;,&quot;overrides&quot;:\n[{&quot;key&quot;: &quot;myKey&quot;,&quot;value&quot;: &quot;myValue&quot;&quot;,&quot;type&quot;:\n&quot;string&quot;}],&quot;clear&quot;: false}]' [AndroidDriver] Starting package\n'com.myapp.app' and activity\n'com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity'\n[ADB] Running '/Users/user1/Library/Android/sdk/platform-tools/adb -P\n5037 -s e15adapa shell am start -W -n\ncom.myapp.app/com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity\n-S --es '&quot;overrideData&quot;' &quot;'[{&quot;pref_name&quot;: &quot;MyPreferences&quot;,&quot;overrides&quot;: [{&quot;key&quot;: &quot;myKey&quot;,&quot;value&quot;:\n&quot;myValue&quot;,&quot;type&quot;: &quot;string&quot;}],&quot;clear&quot;: false}]'&quot;'\n[Instrumentation] INSTRUMENTATION_RESULT: shortMsg=Process crashed.\n[Instrumentation] INSTRUMENTATION_CODE: 0 [Instrumentation] The\nprocess has exited with code 0</p>\n</blockquote>\n<p>The strange thing is the preference data is updated even if the process crashes.</p>\n"},{"tags":["java","android","kotlin","gradle"],"owner":{"account_id":12256183,"reputation":187,"user_id":8945157,"display_name":"PhantomThief"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654232707,"creation_date":1654232707,"question_id":72484939,"body_markdown":"I am getting a compilation error after updating the Gradle plugin to 7.2.1 in Android Studiio\r\n\r\nThe Error\r\n```\r\nAAPT: error: failed to deserialize resource table: configuration has invalid locale &#39;be-&#39;.\r\n```\r\n\r\nBefore (worked fine)\r\n```\r\nclasspath &#39;com.android.tools.build:gradle:4.0.1&#39;\r\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.10&quot;\r\n```\r\n\r\nNow (compilation error)\r\n```\r\nclasspath &#39;com.android.tools.build:gradle:7.2.1&#39;\r\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&quot;\r\n```","title":"AAPT: error: failed to deserialize resource table: configuration has invalid locale &#39;be-&#39; after updating AGP","body":"<p>I am getting a compilation error after updating the Gradle plugin to 7.2.1 in Android Studiio</p>\n<p>The Error</p>\n<pre><code>AAPT: error: failed to deserialize resource table: configuration has invalid locale 'be-'.\n</code></pre>\n<p>Before (worked fine)</p>\n<pre><code>classpath 'com.android.tools.build:gradle:4.0.1'\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.10&quot;\n</code></pre>\n<p>Now (compilation error)</p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.2.1'\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&quot;\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654167139,"post_id":72474410,"comment_id":128028976,"body_markdown":"So you want to get the first and the last element, in a single call? Or in separate calls?","body":"So you want to get the first and the last element, in a single call? Or in separate calls?"},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1654167750,"post_id":72474410,"comment_id":128029188,"body_markdown":"seprate calls when the respected onClick","body":"seprate calls when the respected onClick"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654168187,"post_id":72474410,"comment_id":128029347,"body_markdown":"Is your `Quotes` a direct child of your root?","body":"Is your <code>Quotes</code> a direct child of your root?"},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1654168287,"post_id":72474410,"comment_id":128029380,"body_markdown":"yes Quotes is the direct child of root","body":"yes Quotes is the direct child of root"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654168620,"post_id":72474410,"comment_id":128029502,"body_markdown":"Ok, I&#39;&#39; write you an answer right away.","body":"Ok, I&#39;&#39; write you an answer right away."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654232432,"creation_date":1654169064,"answer_id":72475470,"question_id":72474410,"body_markdown":"According to your last comment, since you need to have separate calls, for example, to get the **first** question, please use the following lines of code:\r\n\r\n    private void firstQuote() {\r\n        DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference quotesRef = db.child(&quot;Quotes&quot;);\r\n        Query queryForFirstElement = quotesRef.orderByKey().limitToFirst(1); //&#128072;\r\n        queryForFirstElement.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    for (DataSnapshot qs : task.getResult().getChildren()) {\r\n                        String title = qs.child(&quot;title&quot;).getValue(String.class);\r\n                        Log.d(&quot;TAG&quot;, title);\r\n                        quotes_list.add(title);\r\n                        position = randomQ.nextInt(quotes_list.size());\r\n                    }\r\n                    quotesTxt.setText(quotes_list.get(position));\r\n                    countTxt.setText(position + &quot;/&quot; + quotes_list.size());\r\n                } else {\r\n                    Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nThe result in the logcat will be:\r\n\r\n    The unexamined life is not worth living.\r\n\r\nTo get the **last** element, then simply use the exact code as above, but instead of using `.limitToFirst(1)`, you have to use `.limitToLast(1)`:\r\n\r\n    private void latestQuote() {\r\n        DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference quotesRef = db.child(&quot;Quotes&quot;);\r\n        Query queryForFirstElement = quotesRef.orderByKey().limitToLast(1); //&#128072;\r\n        queryForFirstElement.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    for (DataSnapshot qs : task.getResult().getChildren()) {\r\n                        String title = qs.child(&quot;title&quot;).getValue(String.class);\r\n                        Log.d(&quot;TAG&quot;, title);\r\n                        quotes_list.add(title);\r\n                        position = randomQ.nextInt(quotes_list.size());\r\n                    }\r\n                    quotesTxt.setText(quotes_list.get(position));\r\n                    countTxt.setText(position + &quot;/&quot; + quotes_list.size());\r\n                } else {\r\n                    Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n                }\r\n            }\r\n        });\r\n    }","title":"How to get the first and the last data from firebase on button click","body":"<p>According to your last comment, since you need to have separate calls, for example, to get the <strong>first</strong> question, please use the following lines of code:</p>\n<pre><code>private void firstQuote() {\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\n    DatabaseReference quotesRef = db.child(&quot;Quotes&quot;);\n    Query queryForFirstElement = quotesRef.orderByKey().limitToFirst(1); //👈\n    queryForFirstElement.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                for (DataSnapshot qs : task.getResult().getChildren()) {\n                    String title = qs.child(&quot;title&quot;).getValue(String.class);\n                    Log.d(&quot;TAG&quot;, title);\n                    quotes_list.add(title);\n                    position = randomQ.nextInt(quotes_list.size());\n                }\n                quotesTxt.setText(quotes_list.get(position));\n                countTxt.setText(position + &quot;/&quot; + quotes_list.size());\n            } else {\n                Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n            }\n        }\n    });\n}\n</code></pre>\n<p>The result in the logcat will be:</p>\n<pre><code>The unexamined life is not worth living.\n</code></pre>\n<p>To get the <strong>last</strong> element, then simply use the exact code as above, but instead of using <code>.limitToFirst(1)</code>, you have to use <code>.limitToLast(1)</code>:</p>\n<pre><code>private void latestQuote() {\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\n    DatabaseReference quotesRef = db.child(&quot;Quotes&quot;);\n    Query queryForFirstElement = quotesRef.orderByKey().limitToLast(1); //👈\n    queryForFirstElement.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                for (DataSnapshot qs : task.getResult().getChildren()) {\n                    String title = qs.child(&quot;title&quot;).getValue(String.class);\n                    Log.d(&quot;TAG&quot;, title);\n                    quotes_list.add(title);\n                    position = randomQ.nextInt(quotes_list.size());\n                }\n                quotesTxt.setText(quotes_list.get(position));\n                countTxt.setText(position + &quot;/&quot; + quotes_list.size());\n            } else {\n                Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n            }\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"display_name":"user18105926"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72475470,"answer_count":1,"score":0,"last_activity_date":1654232432,"creation_date":1654164356,"question_id":72474410,"body_markdown":"I have two menu option &#39;latest &amp; first&#39; as the name suggest when I click the latest I want to get the latest data from firebase and if I click first I want to get the first data \r\n\r\nhere is a screenshot of how the database looks \r\n[![enter image description here][1]][1]\r\n\r\nso when I say first I want to get the first data in the list (q1) \r\n\r\nhere is the method by which I want to implement this \r\n\r\n     @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.menue, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            // Handle item selection\r\n            switch (item.getItemId()) {\r\n                case R.id.latestQuote:\r\n                    latestQuote();\r\n                    return true;\r\n                case R.id.firstQuote:\r\n                    firstQuote();\r\n                    return true;\r\n                default:\r\n                    return super.onOptionsItemSelected(item);\r\n            }\r\n        }\r\n    \r\n        private void latestQuote() {\r\n        }\r\n    \r\n        private void firstQuote() {\r\n            \r\n        }\r\n\r\nhere is the database refrence \r\n\r\n    databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Quotes&quot;);\r\n            model = new Model();\r\n            quotes_list = new ArrayList&lt;&gt;();\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @SuppressLint(&quot;SetTextI18n&quot;)\r\n                @Override\r\n                public void onDataChange(@NonNull @org.jetbrains.annotations.NotNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\r\n                        model = dataSnapshot1.getValue(Model.class);\r\n                        if (model != null) {\r\n                            quotes_list.add(model.getTitle());\r\n                            position = randomQ.nextInt(quotes_list.size());\r\n    \r\n                        }\r\n                    }\r\n                    quotesTxt.setText(quotes_list.get(position));\r\n                    countTxt.setText(position + &quot;/&quot; + quotes_list.size());\r\n    \r\n                }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vs7s4.png","title":"How to get the first and the last data from firebase on button click","body":"<p>I have two menu option 'latest &amp; first' as the name suggest when I click the latest I want to get the latest data from firebase and if I click first I want to get the first data</p>\n<p>here is a screenshot of how the database looks\n<a href=\"https://i.stack.imgur.com/Vs7s4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vs7s4.png\" alt=\"enter image description here\" /></a></p>\n<p>so when I say first I want to get the first data in the list (q1)</p>\n<p>here is the method by which I want to implement this</p>\n<pre><code> @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menue, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle item selection\n        switch (item.getItemId()) {\n            case R.id.latestQuote:\n                latestQuote();\n                return true;\n            case R.id.firstQuote:\n                firstQuote();\n                return true;\n            default:\n                return super.onOptionsItemSelected(item);\n        }\n    }\n\n    private void latestQuote() {\n    }\n\n    private void firstQuote() {\n        \n    }\n</code></pre>\n<p>here is the database refrence</p>\n<pre><code>databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Quotes&quot;);\n        model = new Model();\n        quotes_list = new ArrayList&lt;&gt;();\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onDataChange(@NonNull @org.jetbrains.annotations.NotNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\n                    model = dataSnapshot1.getValue(Model.class);\n                    if (model != null) {\n                        quotes_list.add(model.getTitle());\n                        position = randomQ.nextInt(quotes_list.size());\n\n                    }\n                }\n                quotesTxt.setText(quotes_list.get(position));\n                countTxt.setText(position + &quot;/&quot; + quotes_list.size());\n\n            }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1654204670,"post_id":72481816,"comment_id":128042338,"body_markdown":"Could you add Tweet entity &amp; Tweet DTO? Also snapshots from the database highlighting the data in question.","body":"Could you add Tweet entity &amp; Tweet DTO? Also snapshots from the database highlighting the data in question."},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1654206090,"post_id":72481816,"comment_id":128042630,"body_markdown":"Can you add code which you use to save user object to database? Can you verify that email and date are actually saved to database?","body":"Can you add code which you use to save user object to database? Can you verify that email and date are actually saved to database?"}],"answers":[{"tags":[],"owner":{"account_id":25457325,"reputation":1,"user_id":19257751,"display_name":"Mihir Sawant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654230705,"creation_date":1654230705,"answer_id":72484748,"question_id":72481816,"body_markdown":"I think that may be for **creationDate()** field you can try to use Java&#39;s **Date** data-type.\r\nAnd also instead of *@Getter* and *@Setter* try **@Data** Annotation of Lombok,\r\nFor email field may be try only to put the *@Email* Annotation.\r\nAnd check your Table names with the Entity.","title":"Spring not fetching certain fields from mysql database","body":"<p>I think that may be for <strong>creationDate()</strong> field you can try to use Java's <strong>Date</strong> data-type.\nAnd also instead of <em>@Getter</em> and <em>@Setter</em> try <strong>@Data</strong> Annotation of Lombok,\nFor email field may be try only to put the <em>@Email</em> Annotation.\nAnd check your Table names with the Entity.</p>\n"},{"tags":[],"owner":{"account_id":25461767,"reputation":1,"user_id":19261411,"display_name":"arpit jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654232309,"creation_date":1654232192,"answer_id":72484887,"question_id":72481816,"body_markdown":"Use `java.util.date` for `creationDate` instead of `Instant`.\r\nFor email please verify column name.\r\nAlso add `@Table` annotation at class level with Db table name.\r\nEx:\r\n```\r\n@Table(&quot;name of table in database&quot;)\r\n```\r\nThis is required only if you have different table name in database and tables names are case sensitive too.\r\n","title":"Spring not fetching certain fields from mysql database","body":"<p>Use <code>java.util.date</code> for <code>creationDate</code> instead of <code>Instant</code>.\nFor email please verify column name.\nAlso add <code>@Table</code> annotation at class level with Db table name.\nEx:</p>\n<pre><code>@Table(&quot;name of table in database&quot;)\n</code></pre>\n<p>This is required only if you have different table name in database and tables names are case sensitive too.</p>\n"}],"owner":{"account_id":23604382,"reputation":225,"user_id":17640327,"display_name":"sullyh7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654232309,"creation_date":1654200567,"question_id":72481816,"body_markdown":"I am using Spring data JPA to fetch Users from my database, then I map them to a DTO before returning to my controller.\r\nHowever, the JPA repository is not fetching the date field and the email field.\r\n\r\nI know my Mapper is not responsible for this as I logged the creation date of the original fetched entity, and it comes as null.\r\n\r\nmy getUser method:\r\n\r\n    @Transactional(readOnly = true)\r\n    public UserDto getUser(Long id) {\r\n        User user = userRepository.findById(id).orElseThrow(\r\n                () -&gt; new TweeterException(&quot;No user with id &quot; + id)\r\n        );\r\n        // For debugging purposes\r\n        log.info(&quot;User creation date: &quot; + user.getCreationDate());\r\n\r\n        UserDto userDto = UserMapper.mapToDto(user);\r\n        // For debugging purposes\r\n        log.info(&quot;User dto creation date &quot; + userDto.getCreationDate());\r\n        return userDto;\r\n    }\r\n\r\nMy User entity:\r\n\r\n    @Entity\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(unique = true, name = &quot;username&quot;)\r\n        @NotBlank\r\n        private String username;\r\n    \r\n        @Column(name= &quot;password&quot;)\r\n        @NotBlank\r\n        private String password;\r\n    \r\n        @Column(name=&quot;email&quot;)\r\n        @Email\r\n        private String email;\r\n    \r\n        @Column(name=&quot;profile_image_url&quot;)\r\n        @NotBlank\r\n        private String profileImageUrl;\r\n    \r\n        @Lob\r\n        @Column(name=&quot;biography&quot;)\r\n        @NotBlank\r\n        private String biography;\r\n    \r\n        @Column(name=&quot;creation_date&quot;)\r\n        private Instant creationDate;\r\n    \r\n        @Column(name = &quot;enabled&quot;)\r\n        private boolean enabled;\r\n    \r\n        @ElementCollection\r\n        @Column(name=&quot;following&quot;)\r\n        private Set&lt;Integer&gt; following = new HashSet&lt;&gt;();\r\n    \r\n        @ElementCollection\r\n        @Column(name=&quot;followers&quot;)\r\n        private Set&lt;Integer&gt; followers = new HashSet&lt;&gt;();\r\n    \r\n    \r\n        public void addFollower(Integer follower) {\r\n            this.followers.add(follower);\r\n        }\r\n    \r\n        public void removeFollower(Integer follower) {\r\n            this.followers.remove(follower);\r\n        }\r\n    \r\n        public void addFollowing(Integer following) {\r\n            this.following.add(following);\r\n        }\r\n    \r\n        public void removeFollowing(Integer following) {\r\n            this.following.remove(following);\r\n        }\r\n\r\nMy UserDto:\r\n\r\n    @Data\r\n    @Builder\r\n    public class UserDto {\r\n        private Long id;\r\n        private String username;\r\n        private String email;\r\n        private String biography;\r\n        private String profileImageUrl;\r\n        private Instant creationDate;\r\n        private Long followerCount;\r\n    }\r\n\r\nI also have a Tweet entity and TweetDto, which works perfectly fine with the dates, so I&#39;m not quite sure what is going on","title":"Spring not fetching certain fields from mysql database","body":"<p>I am using Spring data JPA to fetch Users from my database, then I map them to a DTO before returning to my controller.\nHowever, the JPA repository is not fetching the date field and the email field.</p>\n<p>I know my Mapper is not responsible for this as I logged the creation date of the original fetched entity, and it comes as null.</p>\n<p>my getUser method:</p>\n<pre><code>@Transactional(readOnly = true)\npublic UserDto getUser(Long id) {\n    User user = userRepository.findById(id).orElseThrow(\n            () -&gt; new TweeterException(&quot;No user with id &quot; + id)\n    );\n    // For debugging purposes\n    log.info(&quot;User creation date: &quot; + user.getCreationDate());\n\n    UserDto userDto = UserMapper.mapToDto(user);\n    // For debugging purposes\n    log.info(&quot;User dto creation date &quot; + userDto.getCreationDate());\n    return userDto;\n}\n</code></pre>\n<p>My User entity:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(unique = true, name = &quot;username&quot;)\n    @NotBlank\n    private String username;\n\n    @Column(name= &quot;password&quot;)\n    @NotBlank\n    private String password;\n\n    @Column(name=&quot;email&quot;)\n    @Email\n    private String email;\n\n    @Column(name=&quot;profile_image_url&quot;)\n    @NotBlank\n    private String profileImageUrl;\n\n    @Lob\n    @Column(name=&quot;biography&quot;)\n    @NotBlank\n    private String biography;\n\n    @Column(name=&quot;creation_date&quot;)\n    private Instant creationDate;\n\n    @Column(name = &quot;enabled&quot;)\n    private boolean enabled;\n\n    @ElementCollection\n    @Column(name=&quot;following&quot;)\n    private Set&lt;Integer&gt; following = new HashSet&lt;&gt;();\n\n    @ElementCollection\n    @Column(name=&quot;followers&quot;)\n    private Set&lt;Integer&gt; followers = new HashSet&lt;&gt;();\n\n\n    public void addFollower(Integer follower) {\n        this.followers.add(follower);\n    }\n\n    public void removeFollower(Integer follower) {\n        this.followers.remove(follower);\n    }\n\n    public void addFollowing(Integer following) {\n        this.following.add(following);\n    }\n\n    public void removeFollowing(Integer following) {\n        this.following.remove(following);\n    }\n</code></pre>\n<p>My UserDto:</p>\n<pre><code>@Data\n@Builder\npublic class UserDto {\n    private Long id;\n    private String username;\n    private String email;\n    private String biography;\n    private String profileImageUrl;\n    private Instant creationDate;\n    private Long followerCount;\n}\n</code></pre>\n<p>I also have a Tweet entity and TweetDto, which works perfectly fine with the dates, so I'm not quite sure what is going on</p>\n"},{"tags":["java","jdbc","resultset"],"comments":[{"owner":{"account_id":30288,"reputation":1122,"user_id":82517,"accept_rate":100,"display_name":"Moyshe"},"score":0,"creation_date":1319530840,"post_id":7886462,"comment_id":9624983,"body_markdown":"Can&#39;t you change sql statement to `SELECT COUNT(*) ...`?","body":"Can&#39;t you change sql statement to <code>SELECT COUNT(*) ...</code>?"},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":2,"creation_date":1319530850,"post_id":7886462,"comment_id":9624988,"body_markdown":"Why you just don&#39;t perform a &quot;select count(*)&quot; before invoking the query filling the resultset ? However ForwardOnly RS depends on how you open connection (there&#39;s some params to pass). Look at your jdbc driver documentation for details.","body":"Why you just don&#39;t perform a &quot;select count(*)&quot; before invoking the query filling the resultset ? However ForwardOnly RS depends on how you open connection (there&#39;s some params to pass). Look at your jdbc driver documentation for details."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1319530982,"post_id":7886462,"comment_id":9625026,"body_markdown":"(OT; you might want to consider using an actual logging library that will take care of things like outputting the method name etc.)","body":"(OT; you might want to consider using an actual logging library that will take care of things like outputting the method name etc.)"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1538814339,"creation_date":1319530838,"answer_id":7886509,"question_id":7886462,"body_markdown":"If you have access to the prepared statement that results in this resultset, you can use\r\n\r\n    connection.prepareStatement(sql, \r\n      ResultSet.TYPE_SCROLL_INSENSITIVE, \r\n      ResultSet.CONCUR_READ_ONLY);\r\n\r\nThis prepares your statement in a way that you can rewind the cursor. This is also documented in the [ResultSet Javadoc](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html)\r\n\r\nIn general, however, forwarding and rewinding cursors may be quite inefficient for large result sets. Another option in SQL Server would be to calculate the total number of rows directly in your SQL statement:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    SELECT my_table.*, count(*) over () total_rows\r\n    FROM my_table\r\n    WHERE ...","title":"How to get row count using ResultSet in Java?","body":"<p>If you have access to the prepared statement that results in this resultset, you can use</p>\n\n<pre><code>connection.prepareStatement(sql, \n  ResultSet.TYPE_SCROLL_INSENSITIVE, \n  ResultSet.CONCUR_READ_ONLY);\n</code></pre>\n\n<p>This prepares your statement in a way that you can rewind the cursor. This is also documented in the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html\" rel=\"noreferrer\">ResultSet Javadoc</a></p>\n\n<p>In general, however, forwarding and rewinding cursors may be quite inefficient for large result sets. Another option in SQL Server would be to calculate the total number of rows directly in your SQL statement:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT my_table.*, count(*) over () total_rows\nFROM my_table\nWHERE ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247036,"reputation":10201,"user_id":521505,"display_name":"socha23"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319530847,"creation_date":1319530847,"answer_id":7886511,"question_id":7886462,"body_markdown":"Your function will return the size of a ResultSet, but its cursor will be set after last record, so without rewinding it by calling beforeFirst(), first() or previous() you won&#39;t be able to read its rows, and rewinding methods won&#39;t work with forward only ResultSet (you&#39;ll get the same exception you&#39;re getting in your second code fragment).","title":"How to get row count using ResultSet in Java?","body":"<p>Your function will return the size of a ResultSet, but its cursor will be set after last record, so without rewinding it by calling beforeFirst(), first() or previous() you won't be able to read its rows, and rewinding methods won't work with forward only ResultSet (you'll get the same exception you're getting in your second code fragment).</p>\n"},{"tags":[],"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1319530952,"creation_date":1319530952,"answer_id":7886528,"question_id":7886462,"body_markdown":"Most drivers support forward only resultset - so method like last, beforeFirst etc are not supported.\r\n\r\nThe first approach is suitable if you are also getting the data in the same loop - otherwise the resultSet has already been iterated and can not be used again.\r\n\r\nIn most cases the requirement is to get the number of rows a query would return without fetching the rows. Iterating through the result set to find the row count is almost same as processing the data.  It is better to do another count(*) query instead.  ","title":"How to get row count using ResultSet in Java?","body":"<p>Most drivers support forward only resultset - so method like last, beforeFirst etc are not supported.</p>\n\n<p>The first approach is suitable if you are also getting the data in the same loop - otherwise the resultSet has already been iterated and can not be used again.</p>\n\n<p>In most cases the requirement is to get the number of rows a query would return without fetching the rows. Iterating through the result set to find the row count is almost same as processing the data.  It is better to do another count(*) query instead.  </p>\n"},{"tags":[],"owner":{"account_id":1212588,"reputation":33,"user_id":1180862,"display_name":"igor"},"down_vote_count":11,"up_vote_count":5,"is_accepted":false,"score":-6,"last_activity_date":1328029142,"creation_date":1328029142,"answer_id":9083625,"question_id":7886462,"body_markdown":"From http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/ResultSetMetaData.html\r\n\r\n     ResultSet rs = stmt.executeQuery(&quot;SELECT a, b, c FROM TABLE2&quot;);\r\n     ResultSetMetaData rsmd = rs.getMetaData();\r\n     int numberOfColumns = rsmd.getColumnCount();\r\n\r\nA ResultSet contains metadata which gives the number of rows.","title":"How to get row count using ResultSet in Java?","body":"<p>From <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/ResultSetMetaData.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/ResultSetMetaData.html</a></p>\n\n<pre><code> ResultSet rs = stmt.executeQuery(\"SELECT a, b, c FROM TABLE2\");\n ResultSetMetaData rsmd = rs.getMetaData();\n int numberOfColumns = rsmd.getColumnCount();\n</code></pre>\n\n<p>A ResultSet contains metadata which gives the number of rows.</p>\n"},{"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1654232236,"creation_date":1340688862,"answer_id":11201274,"question_id":7886462,"body_markdown":"your sql Statement creating code may be like \r\n\r\n    statement = connection.createStatement();\r\n\r\nTo solve `&quot;com.microsoft.sqlserver.jdbc.SQLServerException: The requested operation is not supported on forward only result sets&quot;` exception, change above code with \r\n\r\n    statement = connection.createStatement(\r\n        ResultSet.TYPE_SCROLL_INSENSITIVE, \r\n        ResultSet.CONCUR_READ_ONLY);\r\n\r\n\r\nAfter above change you can use\r\n\r\n    int size = 0;\r\n    try {\r\n        resultSet.last();\r\n        size = resultSet.getRow();\r\n        resultSet.beforeFirst();\r\n    }\r\n    catch(Exception ex) {\r\n        return 0;\r\n    }\r\n    return size;\r\n\r\nto get row count\r\n","title":"How to get row count using ResultSet in Java?","body":"<p>your sql Statement creating code may be like</p>\n<pre><code>statement = connection.createStatement();\n</code></pre>\n<p>To solve <code>&quot;com.microsoft.sqlserver.jdbc.SQLServerException: The requested operation is not supported on forward only result sets&quot;</code> exception, change above code with</p>\n<pre><code>statement = connection.createStatement(\n    ResultSet.TYPE_SCROLL_INSENSITIVE, \n    ResultSet.CONCUR_READ_ONLY);\n</code></pre>\n<p>After above change you can use</p>\n<pre><code>int size = 0;\ntry {\n    resultSet.last();\n    size = resultSet.getRow();\n    resultSet.beforeFirst();\n}\ncatch(Exception ex) {\n    return 0;\n}\nreturn size;\n</code></pre>\n<p>to get row count</p>\n"},{"tags":[],"owner":{"account_id":1352610,"reputation":1933,"user_id":1291778,"accept_rate":50,"display_name":"aeskreis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362763657,"creation_date":1362763323,"answer_id":15299733,"question_id":7886462,"body_markdown":"Others have already answered how to solve your problem, so I won&#39;t repeat what has already been said, but I will says this: you should probably figure out a way to solve your problems without knowing the result set count prior to reading through the results. \r\n\r\nThere are very few circumstances where the row count is actually needed prior to reading the result set, especially in a language like Java.  The only case I think of where a row count would be necessary is when the row count is the only data you need(in which case a count query would be superior).  Otherwise, you are better off using a wrapper object to represent your table data, and storing these objects in a dynamic container such as an ArrayList.  Then, once the result set has been iterated over, you can get the array list count.  For every solution that requires knowing the row count before reading the result set, you can probably think of a solution that does so without knowing the row count before reading without much effort.  By thinking of solutions that bypass the need to know the row count before processing, you save the ResultSet the trouble of scrolling to the end of the result set, then back to the beginning (which can be a VERY expensive operation for large result sets).  \r\n\r\nNow of course I&#39;m not saying there are never situations where you may need the row count before reading a result set.  I&#39;m just saying that in most circumstances, when people think they need the result set count prior to reading it, they probably don&#39;t, and it&#39;s worth taking 5 minutes to think about whether there is another way.\r\n\r\nJust wanted to offer my 2 cents on the topic.","title":"How to get row count using ResultSet in Java?","body":"<p>Others have already answered how to solve your problem, so I won't repeat what has already been said, but I will says this: you should probably figure out a way to solve your problems without knowing the result set count prior to reading through the results. </p>\n\n<p>There are very few circumstances where the row count is actually needed prior to reading the result set, especially in a language like Java.  The only case I think of where a row count would be necessary is when the row count is the only data you need(in which case a count query would be superior).  Otherwise, you are better off using a wrapper object to represent your table data, and storing these objects in a dynamic container such as an ArrayList.  Then, once the result set has been iterated over, you can get the array list count.  For every solution that requires knowing the row count before reading the result set, you can probably think of a solution that does so without knowing the row count before reading without much effort.  By thinking of solutions that bypass the need to know the row count before processing, you save the ResultSet the trouble of scrolling to the end of the result set, then back to the beginning (which can be a VERY expensive operation for large result sets).  </p>\n\n<p>Now of course I'm not saying there are never situations where you may need the row count before reading a result set.  I'm just saying that in most circumstances, when people think they need the result set count prior to reading it, they probably don't, and it's worth taking 5 minutes to think about whether there is another way.</p>\n\n<p>Just wanted to offer my 2 cents on the topic.</p>\n"},{"tags":[],"owner":{"account_id":2809689,"reputation":81,"user_id":2416168,"display_name":"The01Guy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1369371280,"creation_date":1369371280,"answer_id":16727881,"question_id":7886462,"body_markdown":"I just made a getter method.\r\n\r\n    public int getNumberRows(){\r\n        try{\r\n           statement = connection.creatStatement();\r\n           resultset = statement.executeQuery(&quot;your query here&quot;);\r\n           if(resultset.last()){\r\n              return resultset.getRow();\r\n           } else {\r\n               return 0; //just cus I like to always do some kinda else statement.\r\n           }\r\n        } catch (Exception e){\r\n           System.out.println(&quot;Error getting row count&quot;);\r\n           e.printStackTrace();\r\n        }\r\n        return 0;\r\n    }","title":"How to get row count using ResultSet in Java?","body":"<p>I just made a getter method.</p>\n\n<pre><code>public int getNumberRows(){\n    try{\n       statement = connection.creatStatement();\n       resultset = statement.executeQuery(\"your query here\");\n       if(resultset.last()){\n          return resultset.getRow();\n       } else {\n           return 0; //just cus I like to always do some kinda else statement.\n       }\n    } catch (Exception e){\n       System.out.println(\"Error getting row count\");\n       e.printStackTrace();\n    }\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":533160,"reputation":2822,"user_id":903783,"display_name":"George Birbilis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374753582,"creation_date":1374662795,"answer_id":17831737,"question_id":7886462,"body_markdown":"Here&#39;s some code that avoids getting the count to instantiate an array, but uses an ArrayList instead and just before returning converts the ArrayList to the needed array type.\r\n\r\nNote that Supervisor class here implements ISupervisor interface, but in Java you can&#39;t cast from object[] (that ArrayList&#39;s plain toArray() method returns) to ISupervisor[] (as I think you are able to do in C#), so you have to iterate through all list items and populate the result array.\r\n\r\n    /**\r\n     * Get Supervisors for given program id\r\n     * @param connection\r\n     * @param programId\r\n     * @return ISupervisor[]\r\n     * @throws SQLException\r\n     */\r\n    public static ISupervisor[] getSupervisors(Connection connection, String programId)\r\n      throws SQLException\r\n    {\r\n      ArrayList supervisors = new ArrayList();\r\n    \r\n      PreparedStatement statement = connection.prepareStatement(SQL.GET_SUPERVISORS);\r\n      try {\r\n        statement.setString(SQL.GET_SUPERVISORS_PARAM_PROGRAMID, programId);\r\n        ResultSet resultSet = statement.executeQuery();  \r\n  \r\n        if (resultSet != null) {\r\n          while (resultSet.next()) {\r\n            Supervisor s = new Supervisor();\r\n            s.setId(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ID));\r\n            s.setFirstName(resultSet.getString(SQL.GET_SUPERVISORS_RESULT_FIRSTNAME));\r\n            s.setLastName(resultSet.getString(SQL.GET_SUPERVISORS_RESULT_LASTNAME));\r\n            s.setAssignmentCount(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ASSIGNMENT_COUNT));\r\n            s.setAssignment2Count(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ASSIGNMENT2_COUNT));\r\n            supervisors.add(s);\r\n          }\r\n          resultSet.close();\r\n        }\r\n      } finally {\r\n        statement.close();\r\n      }\r\n    \r\n      int count = supervisors.size();\r\n      ISupervisor[] result = new ISupervisor[count];\r\n      for (int i=0; i&lt;count; i++)\r\n        result[i] = (ISupervisor)supervisors.get(i);\r\n      return result;\r\n    }\r\n","title":"How to get row count using ResultSet in Java?","body":"<p>Here's some code that avoids getting the count to instantiate an array, but uses an ArrayList instead and just before returning converts the ArrayList to the needed array type.</p>\n\n<p>Note that Supervisor class here implements ISupervisor interface, but in Java you can't cast from object[] (that ArrayList's plain toArray() method returns) to ISupervisor[] (as I think you are able to do in C#), so you have to iterate through all list items and populate the result array.</p>\n\n<pre><code>/**\n * Get Supervisors for given program id\n * @param connection\n * @param programId\n * @return ISupervisor[]\n * @throws SQLException\n */\npublic static ISupervisor[] getSupervisors(Connection connection, String programId)\n  throws SQLException\n{\n  ArrayList supervisors = new ArrayList();\n\n  PreparedStatement statement = connection.prepareStatement(SQL.GET_SUPERVISORS);\n  try {\n    statement.setString(SQL.GET_SUPERVISORS_PARAM_PROGRAMID, programId);\n    ResultSet resultSet = statement.executeQuery();  \n\n    if (resultSet != null) {\n      while (resultSet.next()) {\n        Supervisor s = new Supervisor();\n        s.setId(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ID));\n        s.setFirstName(resultSet.getString(SQL.GET_SUPERVISORS_RESULT_FIRSTNAME));\n        s.setLastName(resultSet.getString(SQL.GET_SUPERVISORS_RESULT_LASTNAME));\n        s.setAssignmentCount(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ASSIGNMENT_COUNT));\n        s.setAssignment2Count(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ASSIGNMENT2_COUNT));\n        supervisors.add(s);\n      }\n      resultSet.close();\n    }\n  } finally {\n    statement.close();\n  }\n\n  int count = supervisors.size();\n  ISupervisor[] result = new ISupervisor[count];\n  for (int i=0; i&lt;count; i++)\n    result[i] = (ISupervisor)supervisors.get(i);\n  return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1120904,"reputation":392,"user_id":1109231,"accept_rate":40,"display_name":"anand"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654232285,"creation_date":1389516342,"answer_id":21072852,"question_id":7886462,"body_markdown":"If you have table and are storing the ID as primary and auto increment then this will work \r\n\r\n\r\nExample code to get the total row count &lt;http://www.java2s.com/Tutorial/Java/0340__Database/GettheNumberofRowsinaDatabaseTable.htm&gt;\r\n\r\nBelow is code\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.ResultSetMetaData;\r\n    import java.sql.Statement;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) throws Exception {\r\n        Connection conn = getConnection();\r\n        Statement st = conn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,\r\n            ResultSet.CONCUR_UPDATABLE);\r\n    \r\n        st.executeUpdate(&quot;create table survey (id int,name varchar(30));&quot;);\r\n        st.executeUpdate(&quot;insert into survey (id,name ) values (1,&#39;nameValue&#39;)&quot;);\r\n        st.executeUpdate(&quot;insert into survey (id,name ) values (2,null)&quot;);\r\n        st.executeUpdate(&quot;insert into survey (id,name ) values (3,&#39;Tom&#39;)&quot;);\r\n        st = conn.createStatement();\r\n        ResultSet rs = st.executeQuery(&quot;SELECT * FROM survey&quot;);\r\n    \r\n        rs = st.executeQuery(&quot;SELECT COUNT(*) FROM survey&quot;);\r\n        // get the number of rows from the result set\r\n        rs.next();\r\n        int rowCount = rs.getInt(1);\r\n        System.out.println(rowCount);\r\n    \r\n        rs.close();\r\n        st.close();\r\n        conn.close();\r\n    \r\n      }\r\n    \r\n      private static Connection getConnection() throws Exception {\r\n        Class.forName(&quot;org.hsqldb.jdbcDriver&quot;);\r\n        String url = &quot;jdbc:hsqldb:mem:data/tutorial&quot;;\r\n    \r\n        return DriverManager.getConnection(url, &quot;sa&quot;, &quot;&quot;);\r\n      }\r\n    }","title":"How to get row count using ResultSet in Java?","body":"<p>If you have table and are storing the ID as primary and auto increment then this will work</p>\n<p>Example code to get the total row count <a href=\"http://www.java2s.com/Tutorial/Java/0340__Database/GettheNumberofRowsinaDatabaseTable.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorial/Java/0340__Database/GettheNumberofRowsinaDatabaseTable.htm</a></p>\n<p>Below is code</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.Statement;\n\npublic class Main {\n  public static void main(String[] args) throws Exception {\n    Connection conn = getConnection();\n    Statement st = conn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,\n        ResultSet.CONCUR_UPDATABLE);\n\n    st.executeUpdate(&quot;create table survey (id int,name varchar(30));&quot;);\n    st.executeUpdate(&quot;insert into survey (id,name ) values (1,'nameValue')&quot;);\n    st.executeUpdate(&quot;insert into survey (id,name ) values (2,null)&quot;);\n    st.executeUpdate(&quot;insert into survey (id,name ) values (3,'Tom')&quot;);\n    st = conn.createStatement();\n    ResultSet rs = st.executeQuery(&quot;SELECT * FROM survey&quot;);\n\n    rs = st.executeQuery(&quot;SELECT COUNT(*) FROM survey&quot;);\n    // get the number of rows from the result set\n    rs.next();\n    int rowCount = rs.getInt(1);\n    System.out.println(rowCount);\n\n    rs.close();\n    st.close();\n    conn.close();\n\n  }\n\n  private static Connection getConnection() throws Exception {\n    Class.forName(&quot;org.hsqldb.jdbcDriver&quot;);\n    String url = &quot;jdbc:hsqldb:mem:data/tutorial&quot;;\n\n    return DriverManager.getConnection(url, &quot;sa&quot;, &quot;&quot;);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3226549,"reputation":1852,"user_id":2722799,"accept_rate":64,"display_name":"Java Man"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1646743003,"creation_date":1390972604,"answer_id":21422700,"question_id":7886462,"body_markdown":"    Statement s = cd.createStatement();\r\n    ResultSet r = s.executeQuery(&quot;SELECT COUNT(*) AS recordCount FROM FieldMaster&quot;);\r\n    r.next();\r\n    int count = r.getInt(&quot;recordCount&quot;);\r\n    r.close();\r\n    System.out.println(&quot;MyTable has &quot; + count + &quot; row(s).&quot;);\r\n\r\nSometimes JDBC does not support following method gives Error like `TYPE_FORWARD_ONLY&#39; use this solution\r\n\r\nSqlite does not support in JDBC.\r\n\r\n    resultSet.last();\r\n    size = resultSet.getRow();\r\n    resultSet.beforeFirst();\r\n\r\nSo at that time use this solution.\r\n\r\n\r\n","title":"How to get row count using ResultSet in Java?","body":"<pre><code>Statement s = cd.createStatement();\nResultSet r = s.executeQuery(&quot;SELECT COUNT(*) AS recordCount FROM FieldMaster&quot;);\nr.next();\nint count = r.getInt(&quot;recordCount&quot;);\nr.close();\nSystem.out.println(&quot;MyTable has &quot; + count + &quot; row(s).&quot;);\n</code></pre>\n<p>Sometimes JDBC does not support following method gives Error like `TYPE_FORWARD_ONLY' use this solution</p>\n<p>Sqlite does not support in JDBC.</p>\n<pre><code>resultSet.last();\nsize = resultSet.getRow();\nresultSet.beforeFirst();\n</code></pre>\n<p>So at that time use this solution.</p>\n"},{"tags":[],"owner":{"account_id":2985220,"reputation":5535,"user_id":2534236,"accept_rate":72,"display_name":"Suganthan Madhavan Pillai"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1390973852,"creation_date":1390973852,"answer_id":21422963,"question_id":7886462,"body_markdown":"Do a `SELECT COUNT(*) FROM ...` query instead.","title":"How to get row count using ResultSet in Java?","body":"<p>Do a <code>SELECT COUNT(*) FROM ...</code> query instead.</p>\n"},{"tags":[],"owner":{"account_id":5234739,"reputation":276,"user_id":4183699,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455016826,"creation_date":1455016826,"answer_id":35290713,"question_id":7886462,"body_markdown":"Following two options worked for me:\r\n\r\n1) A function that returns the number of rows in your ResultSet.\r\n\r\n\r\n    \r\n    private int resultSetCount(ResultSet resultSet) throws SQLException{\r\n        try{\r\n            int i = 0;\r\n            while (resultSet.next()) {\r\n                i++;\r\n            }\r\n            return i;\r\n        } catch (Exception e){\r\n           System.out.println(&quot;Error getting row count&quot;);\r\n           e.printStackTrace();\r\n        }\r\n        return 0;\r\n    }\r\n\r\n2) Create a second SQL statement with the COUNT option.","title":"How to get row count using ResultSet in Java?","body":"<p>Following two options worked for me:</p>\n\n<p>1) A function that returns the number of rows in your ResultSet.</p>\n\n<pre><code>private int resultSetCount(ResultSet resultSet) throws SQLException{\n    try{\n        int i = 0;\n        while (resultSet.next()) {\n            i++;\n        }\n        return i;\n    } catch (Exception e){\n       System.out.println(\"Error getting row count\");\n       e.printStackTrace();\n    }\n    return 0;\n}\n</code></pre>\n\n<p>2) Create a second SQL statement with the COUNT option.</p>\n"},{"tags":[],"owner":{"account_id":1550350,"reputation":1733,"user_id":1442898,"accept_rate":0,"display_name":"Yergalem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574893639,"creation_date":1490797044,"answer_id":43096163,"question_id":7886462,"body_markdown":"The `ResultSet` has it&#39;s methods that move the Cursor back and forth depending on the option provided. By default, it&#39;s forward moving(`TYPE_FORWARD_ONLY` `ResultSet` type). \r\nUnless CONSTANTS indicating Scrollability and Update of `ResultSet` properly, you might end up getting an error.\r\nE.g. `beforeLast()`\r\nThis method has no effect if the result set contains no rows.\r\nThrows Error if it&#39;s not `TYPE_FORWARD_ONLY`.\r\n\r\nThe best way to check if empty rows got fetched --- Just to insert new record after checking non-existence\r\n\r\n    if( rs.next() ) {\r\n       \r\n       Do nothing\r\n    } else {\r\n      No records fetched!\r\n    }\r\n\r\nSee [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html","title":"How to get row count using ResultSet in Java?","body":"<p>The <code>ResultSet</code> has it's methods that move the Cursor back and forth depending on the option provided. By default, it's forward moving(<code>TYPE_FORWARD_ONLY</code> <code>ResultSet</code> type). \nUnless CONSTANTS indicating Scrollability and Update of <code>ResultSet</code> properly, you might end up getting an error.\nE.g. <code>beforeLast()</code>\nThis method has no effect if the result set contains no rows.\nThrows Error if it's not <code>TYPE_FORWARD_ONLY</code>.</p>\n\n<p>The best way to check if empty rows got fetched --- Just to insert new record after checking non-existence</p>\n\n<pre><code>if( rs.next() ) {\n\n   Do nothing\n} else {\n  No records fetched!\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"display_name":"user818700"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477554,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":7886509,"answer_count":13,"score":92,"last_activity_date":1654232285,"creation_date":1319530570,"question_id":7886462,"body_markdown":"I&#39;m trying to create a simple method that receives a ResultSet as a parameter and returns an int that contains the row count of the ResultSet. Is this a valid way of doing this or not so much?\r\n\r\n    int size = 0;\r\n        try {\r\n            while(rs.next()){\r\n                size++;\r\n            }\r\n        }\r\n        catch(Exception ex) {\r\n            System.out.println(&quot;------------------Tablerize.getRowCount-----------------&quot;);\r\n            System.out.println(&quot;Cannot get resultSet row count: &quot; + ex);\r\n            System.out.println(&quot;--------------------------------------------------------&quot;);\r\n        }\r\n\r\nI tried this:\r\n\r\n    int size = 0;\r\n    try {\r\n        resultSet.last();\r\n        size = resultSet.getRow();\r\n        resultSet.beforeFirst();\r\n    }\r\n    catch(Exception ex) {\r\n        return 0;\r\n    }\r\n    return size;\r\n\r\nBut I got an error saying \r\n```none\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: \r\nThe requested operation is not supported on forward only result sets.\r\n```","title":"How to get row count using ResultSet in Java?","body":"<p>I'm trying to create a simple method that receives a ResultSet as a parameter and returns an int that contains the row count of the ResultSet. Is this a valid way of doing this or not so much?</p>\n<pre><code>int size = 0;\n    try {\n        while(rs.next()){\n            size++;\n        }\n    }\n    catch(Exception ex) {\n        System.out.println(&quot;------------------Tablerize.getRowCount-----------------&quot;);\n        System.out.println(&quot;Cannot get resultSet row count: &quot; + ex);\n        System.out.println(&quot;--------------------------------------------------------&quot;);\n    }\n</code></pre>\n<p>I tried this:</p>\n<pre><code>int size = 0;\ntry {\n    resultSet.last();\n    size = resultSet.getRow();\n    resultSet.beforeFirst();\n}\ncatch(Exception ex) {\n    return 0;\n}\nreturn size;\n</code></pre>\n<p>But I got an error saying</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.microsoft.sqlserver.jdbc.SQLServerException: \nThe requested operation is not supported on forward only result sets.\n</code></pre>\n"},{"tags":["java","android","push-notification","notifications","localnotification"],"owner":{"account_id":19148998,"reputation":11,"user_id":13987308,"display_name":"G gaming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654231757,"creation_date":1644808307,"question_id":71106777,"body_markdown":"Local notification is not shown again in REALME when I swipe up to clear notification, but swipe right and left notification show again and normal, any else with my code? I try to make id different but it&#39;s not working.\r\n\r\nHere is my code :\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n        protected void onOrderChanged(OrderDataModel dm) {\r\n    \r\n            String status = &quot;Status: &quot; + dm.getOrderStatus();\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                String name = getString(R.string.channel_name);\r\n                String description = getString(R.string.channel_description);\r\n                int importance = NotificationManager.IMPORTANCE_HIGH; //Important for heads-up notification\r\n                NotificationChannel channel = new NotificationChannel(&quot;1&quot;, name, importance);\r\n                channel.setDescription(description);\r\n                channel.setShowBadge(true);\r\n                channel.setLockscreenVisibility(Notification.VISIBILITY_PUBLIC);\r\n                NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n    \r\n            NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, &quot;1&quot;)\r\n                    .setSmallIcon(R.drawable.icon_launcher)\r\n                    .setContentTitle(&quot;OrderMessage&quot;)\r\n                    .setContentText(&quot;OrderId: &quot; + dm.getOrderId() + &quot;\\n&quot; + status + &quot;\\n&quot; + dm.getNote())\r\n                    .setDefaults(DEFAULT_SOUND | DEFAULT_VIBRATE) //Important for heads-up notification\r\n                    .setAutoCancel(true)\r\n                    .setPriority(Notification.PRIORITY_MAX); //Important for heads-up notification\r\n    \r\n            Notification buildNotification = mBuilder.build();\r\n            NotificationManager mNotifyMgr = (NotificationManager) this.getSystemService(NOTIFICATION_SERVICE);\r\n            mNotifyMgr.notify(001, buildNotification);\r\n    \r\n            if (dm.getOrderStatus().equals(&quot;P&quot;) || dm.getOrderStatus().equals(&quot;M&quot;))\r\n                dispatchClientStockRequest(this._user.getUserId());\r\n    \r\n        }\r\n\r\n","title":"Local notification in realme when swipe up local notification not show again, any else with my code?","body":"<p>Local notification is not shown again in REALME when I swipe up to clear notification, but swipe right and left notification show again and normal, any else with my code? I try to make id different but it's not working.</p>\n<p>Here is my code :</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\n    protected void onOrderChanged(OrderDataModel dm) {\n\n        String status = &quot;Status: &quot; + dm.getOrderStatus();\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            String name = getString(R.string.channel_name);\n            String description = getString(R.string.channel_description);\n            int importance = NotificationManager.IMPORTANCE_HIGH; //Important for heads-up notification\n            NotificationChannel channel = new NotificationChannel(&quot;1&quot;, name, importance);\n            channel.setDescription(description);\n            channel.setShowBadge(true);\n            channel.setLockscreenVisibility(Notification.VISIBILITY_PUBLIC);\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(channel);\n        }\n\n        NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, &quot;1&quot;)\n                .setSmallIcon(R.drawable.icon_launcher)\n                .setContentTitle(&quot;OrderMessage&quot;)\n                .setContentText(&quot;OrderId: &quot; + dm.getOrderId() + &quot;\\n&quot; + status + &quot;\\n&quot; + dm.getNote())\n                .setDefaults(DEFAULT_SOUND | DEFAULT_VIBRATE) //Important for heads-up notification\n                .setAutoCancel(true)\n                .setPriority(Notification.PRIORITY_MAX); //Important for heads-up notification\n\n        Notification buildNotification = mBuilder.build();\n        NotificationManager mNotifyMgr = (NotificationManager) this.getSystemService(NOTIFICATION_SERVICE);\n        mNotifyMgr.notify(001, buildNotification);\n\n        if (dm.getOrderStatus().equals(&quot;P&quot;) || dm.getOrderStatus().equals(&quot;M&quot;))\n            dispatchClientStockRequest(this._user.getUserId());\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1654235432,"post_id":72484776,"comment_id":128047043,"body_markdown":"A `PatternSelector` only switches between multiple patterns. Check [filters](https://logging.apache.org/log4j/2.x/manual/filters.html) instead.","body":"A <code>PatternSelector</code> only switches between multiple patterns. Check <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html\" rel=\"nofollow noreferrer\">filters</a> instead."},{"owner":{"account_id":4146531,"reputation":451,"user_id":3400076,"display_name":"xxestter"},"score":0,"creation_date":1654239523,"post_id":72484776,"comment_id":128048097,"body_markdown":"@PiotrP.Karwasz thank you for the advise. I managed to code it. thanks!","body":"@PiotrP.Karwasz thank you for the advise. I managed to code it. thanks!"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1654242446,"post_id":72484776,"comment_id":128048948,"body_markdown":"@xxtester: can you publish your modified configuration as an answer (and mark it as accepted)?","body":"@xxtester: can you publish your modified configuration as an answer (and mark it as accepted)?"}],"owner":{"account_id":4146531,"reputation":451,"user_id":3400076,"display_name":"xxestter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654231510,"creation_date":1654231079,"question_id":72484776,"body_markdown":"I am not sure if it is possible to only create the message in the log file when the message contains certain text? I am using log4j2.xml and below are all my code. \r\n\r\n**1) The UserService class**\r\n    package com.example.services;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class UserService {\r\n        Logger confirmLogger = LogManager.getLogger(&quot;confirmFile&quot;);\r\n    \r\n        public void log(){\r\n            confirmLogger.warn(&quot;printing confirm text with warn&quot;);//this should be in the log file\r\n            confirmLogger.info(&quot;printing confirm text with info&quot;);//this should be in the log file\r\n            confirmLogger.error(&quot;printing confirm text with error&quot;);//this should be in the log file\r\n    \r\n            confirmLogger.warn(&quot;printing normal text with error&quot;);//this should not be inside the log file\r\n        }\r\n    }\r\n\r\n**2) the log4j2.xml**\r\nI wanted the all.log to contains all the logs while confirm.log will only contains the message that has &quot;confirm&quot; word inside the sentence. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;allFile&quot;\r\n                     fileName=&quot;logs/all.log&quot;\r\n                     filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log&quot;\r\n                     immediateFlush=&quot;true&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\n        &lt;RollingFile name=&quot;confirmFile&quot;\r\n                     fileName=&quot;logs/confirm.log&quot;\r\n                     filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log&quot;\r\n                     immediateFlush=&quot;true&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;ScriptPatternSelector defaultPattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %l - %msg%n&quot;&gt;\r\n                    &lt;Script name=&quot;LevelSelector&quot; language=&quot;bsh&quot;&gt;&lt;![CDATA[\r\n                        if (logEvent.getMessage().contains(&quot;confirm&quot;) ) {\r\n                            return &quot;INFO&quot;;\r\n                        }\r\n                        return null;\r\n                        ]]&gt;\r\n                    &lt;/Script&gt;\r\n                    &lt;PatternMatch key=&quot;INFO&quot; pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} %msg%n&quot;/&gt;\r\n                &lt;/ScriptPatternSelector&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;all&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot; level=&quot;ERROR&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;confirmFile&quot; level=&quot;ALL&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;allFile&quot; level=&quot;ALL&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt; &lt;/Configuration&gt;","title":"Log2j.xml with specific words","body":"<p>I am not sure if it is possible to only create the message in the log file when the message contains certain text? I am using log4j2.xml and below are all my code.</p>\n<p><strong>1) The UserService class</strong>\npackage com.example.services;</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n    Logger confirmLogger = LogManager.getLogger(&quot;confirmFile&quot;);\n\n    public void log(){\n        confirmLogger.warn(&quot;printing confirm text with warn&quot;);//this should be in the log file\n        confirmLogger.info(&quot;printing confirm text with info&quot;);//this should be in the log file\n        confirmLogger.error(&quot;printing confirm text with error&quot;);//this should be in the log file\n\n        confirmLogger.warn(&quot;printing normal text with error&quot;);//this should not be inside the log file\n    }\n}\n</code></pre>\n<p><strong>2) the log4j2.xml</strong>\nI wanted the all.log to contains all the logs while confirm.log will only contains the message that has &quot;confirm&quot; word inside the sentence.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;Configuration status=&quot;WARN&quot;&gt;\n&lt;Appenders&gt;\n    &lt;RollingFile name=&quot;allFile&quot;\n                 fileName=&quot;logs/all.log&quot;\n                 filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log&quot;\n                 immediateFlush=&quot;true&quot;&gt;\n        &lt;PatternLayout&gt;\n            &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy /&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n\n    &lt;RollingFile name=&quot;confirmFile&quot;\n                 fileName=&quot;logs/confirm.log&quot;\n                 filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log&quot;\n                 immediateFlush=&quot;true&quot;&gt;\n        &lt;PatternLayout&gt;\n            &lt;ScriptPatternSelector defaultPattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %l - %msg%n&quot;&gt;\n                &lt;Script name=&quot;LevelSelector&quot; language=&quot;bsh&quot;&gt;&lt;![CDATA[\n                    if (logEvent.getMessage().contains(&quot;confirm&quot;) ) {\n                        return &quot;INFO&quot;;\n                    }\n                    return null;\n                    ]]&gt;\n                &lt;/Script&gt;\n                &lt;PatternMatch key=&quot;INFO&quot; pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} %msg%n&quot;/&gt;\n            &lt;/ScriptPatternSelector&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy /&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n\n    &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n    &lt;/Console&gt;\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n    &lt;Root level=&quot;all&quot;&gt;\n        &lt;AppenderRef ref=&quot;LogToConsole&quot; level=&quot;ERROR&quot;/&gt;\n        &lt;AppenderRef ref=&quot;confirmFile&quot; level=&quot;ALL&quot; /&gt;\n        &lt;AppenderRef ref=&quot;allFile&quot; level=&quot;ALL&quot; /&gt;\n    &lt;/Root&gt;\n&lt;/Loggers&gt; &lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","multithreading","executorservice","anonymous-class","scheduledexecutorservice"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1654198050,"post_id":72480550,"comment_id":128040300,"body_markdown":"updated answer with fixed code","body":"updated answer with fixed code"}],"answers":[{"tags":[],"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654196256,"creation_date":1654196256,"answer_id":72481102,"question_id":72480550,"body_markdown":"As the error message states, Java doesn&#39;t allow modifying variables  belonging to the outer scope from within a &quot;lambda&quot; scope (instances of anonymous classes also create such a scope).\r\n\r\nIn your case, in order to work-around this issue, you could make `peat` a class variable:\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n    import java.util.concurrent.*;\r\n    import static java.util.concurrent.TimeUnit.SECONDS;\r\n\r\n    public class MyProgram {\r\n\r\n        private static int peat = 0;\r\n\r\n        public static void main(String[] args) {\r\n            // Code of main()\r\n            // Remove local &quot;peat&quot; variable\r\n        }\r\n    }","title":"How do I restart the timer countdown","body":"<p>As the error message states, Java doesn't allow modifying variables  belonging to the outer scope from within a &quot;lambda&quot; scope (instances of anonymous classes also create such a scope).</p>\n<p>In your case, in order to work-around this issue, you could make <code>peat</code> a class variable:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Timer;\nimport java.util.TimerTask;\nimport java.util.concurrent.*;\nimport static java.util.concurrent.TimeUnit.SECONDS;\n\npublic class MyProgram {\n\n    private static int peat = 0;\n\n    public static void main(String[] args) {\n        // Code of main()\n        // Remove local &quot;peat&quot; variable\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654198213,"creation_date":1654196350,"answer_id":72481111,"question_id":72480550,"body_markdown":"This is because `peat` is not a final or effectively-final variable. As the documentation states:\r\n\r\n&gt; An anonymous class cannot access local variables in its enclosing scope that are not declared as final or effectively final.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html#accessing\r\n\r\nIn fact, when a local class (a class defined in a block) accesses a local variable or parameter of the enclosing block, it &lt;b&gt;captures&lt;/b&gt; that variable or parameter. This means that the value is literally copied within the local class. \r\n\r\nAlthough a local class is declared within a block, its context is completely dissociated from the one where it has been created. Any modification made from the local class must be prevented as there is no way to reflect those changes in the enclosing scope. Likewise, in the enclosing scope the variable must remain unmodified as well, as once its value has been captured for the local class, any changes from the enclosing scope cannot be reflected within the local class.\r\n\r\nIf you want to launch a timer with a `ScheduledThreadPoolExecutor`, then you cannot rely on a class defined on the go using the enclosing scope&#39;s variables, but you need to declare a class extending `Runnable`. This `Timer` class can be instantiated by passing the number of seconds (or any other sensibility the Timer is scheduled with), a reference to the scheduler and the array of messages.\r\n\r\n```\r\nclass Timer implements Runnable {\r\n    private ScheduledExecutorService scheduler;\r\n    private int numSecs;\r\n\r\n    private String[] vetMessages;\r\n\r\n    public Timer(ScheduledExecutorService scheduler, int numSecs, String[] vetMessages) {\r\n        this.scheduler = scheduler;\r\n        this.numSecs = numSecs;\r\n        this.vetMessages = vetMessages;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        numSecs--;\r\n        if (numSecs &lt; 4) {\r\n            System.out.println(vetMessages[numSecs]);\r\n            if (numSecs &lt;= 0) {\r\n                scheduler.shutdown();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass MyProgram {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input1 = new Scanner(System.in);\r\n        System.out.println(&quot;What is your name&quot;);\r\n        String personsName = input1.next();\r\n        System.out.println((personsName) + &quot; Are you ready to impove yourself&quot;);\r\n        String motiv = input1.next();\r\n\r\n        String[] myArray = new String[4];\r\n        myArray[0] = &quot;Keep going&quot;;\r\n        myArray[1] = &quot;1 more rep&quot;;\r\n        myArray[2] = &quot;you have come so far don&#39;t stop now&quot;;\r\n        myArray[3] = &quot;Think of the progress you have made&quot;;\r\n\r\n        if (motiv.equals(&quot;yes&quot;)) {\r\n            System.out.println(&quot;Today is the day hard work begins&quot;);\r\n        } else {\r\n            System.out.println(&quot;type yes when you&#39;re ready to work&quot;);\r\n        }\r\n\r\n        Scanner input2 = new Scanner(System.in);\r\n        System.out.println(&quot;You will recive quotes throughout your workout to remind you to keep working type ok if you accept&quot;);\r\n        String confirm = input2.next();\r\n\r\n        if (confirm.equals(&quot;ok&quot;)) {\r\n            final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n            Timer t = new Timer(scheduler, 10, myArray);\r\n\r\n            //Added an initial delay of 1 second to not start the Timer immediately and decrement the number of seconds right away\r\n            scheduler.scheduleAtFixedRate(t, 1, 1, TimeUnit.SECONDS);\r\n        }\r\n    }\r\n}\r\n```","title":"How do I restart the timer countdown","body":"<p>This is because <code>peat</code> is not a final or effectively-final variable. As the documentation states:</p>\n<blockquote>\n<p>An anonymous class cannot access local variables in its enclosing scope that are not declared as final or effectively final.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html#accessing\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html#accessing</a></p>\n<p>In fact, when a local class (a class defined in a block) accesses a local variable or parameter of the enclosing block, it <b>captures</b> that variable or parameter. This means that the value is literally copied within the local class.</p>\n<p>Although a local class is declared within a block, its context is completely dissociated from the one where it has been created. Any modification made from the local class must be prevented as there is no way to reflect those changes in the enclosing scope. Likewise, in the enclosing scope the variable must remain unmodified as well, as once its value has been captured for the local class, any changes from the enclosing scope cannot be reflected within the local class.</p>\n<p>If you want to launch a timer with a <code>ScheduledThreadPoolExecutor</code>, then you cannot rely on a class defined on the go using the enclosing scope's variables, but you need to declare a class extending <code>Runnable</code>. This <code>Timer</code> class can be instantiated by passing the number of seconds (or any other sensibility the Timer is scheduled with), a reference to the scheduler and the array of messages.</p>\n<pre><code>class Timer implements Runnable {\n    private ScheduledExecutorService scheduler;\n    private int numSecs;\n\n    private String[] vetMessages;\n\n    public Timer(ScheduledExecutorService scheduler, int numSecs, String[] vetMessages) {\n        this.scheduler = scheduler;\n        this.numSecs = numSecs;\n        this.vetMessages = vetMessages;\n    }\n\n    @Override\n    public void run() {\n        numSecs--;\n        if (numSecs &lt; 4) {\n            System.out.println(vetMessages[numSecs]);\n            if (numSecs &lt;= 0) {\n                scheduler.shutdown();\n            }\n        }\n    }\n}\n\nclass MyProgram {\n\n    public static void main(String[] args) {\n        Scanner input1 = new Scanner(System.in);\n        System.out.println(&quot;What is your name&quot;);\n        String personsName = input1.next();\n        System.out.println((personsName) + &quot; Are you ready to impove yourself&quot;);\n        String motiv = input1.next();\n\n        String[] myArray = new String[4];\n        myArray[0] = &quot;Keep going&quot;;\n        myArray[1] = &quot;1 more rep&quot;;\n        myArray[2] = &quot;you have come so far don't stop now&quot;;\n        myArray[3] = &quot;Think of the progress you have made&quot;;\n\n        if (motiv.equals(&quot;yes&quot;)) {\n            System.out.println(&quot;Today is the day hard work begins&quot;);\n        } else {\n            System.out.println(&quot;type yes when you're ready to work&quot;);\n        }\n\n        Scanner input2 = new Scanner(System.in);\n        System.out.println(&quot;You will recive quotes throughout your workout to remind you to keep working type ok if you accept&quot;);\n        String confirm = input2.next();\n\n        if (confirm.equals(&quot;ok&quot;)) {\n            final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n            Timer t = new Timer(scheduler, 10, myArray);\n\n            //Added an initial delay of 1 second to not start the Timer immediately and decrement the number of seconds right away\n            scheduler.scheduleAtFixedRate(t, 1, 1, TimeUnit.SECONDS);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25458443,"reputation":11,"user_id":19258689,"display_name":"Javier Salazar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654230937,"creation_date":1654193105,"question_id":72480550,"body_markdown":"I am trying to reset the timer so it can pull another value from my array.\r\nDoes anyone know the solution? My error is saying: \r\n\r\n```\r\npeat = peat= 1; \r\nlocal variables referenced from an inner class must be final or effectively final\r\n```\r\n\r\nI am stuck and I know I need to reset the timer but I don&#39;t know how.\r\n\r\n```\r\nclass MyProgram {\r\n\r\n    public static void main(String[] args) {\r\n        int peat = 0;\r\n        int cdown = 0;\r\n        Scanner input1 = new Scanner(System.in);\r\n        System.out.println(&quot;What is your name&quot;);\r\n        String personsName = input1.next();\r\n        System.out.println((personsName) + &quot; Are you ready to impove yourself&quot;);\r\n        String motiv = input1.next();\r\n\r\n        String[] myArray = new String[4];\r\n        myArray[0] = &quot;Keep going&quot;;\r\n        myArray[1] = &quot;1 more rep&quot;;\r\n        myArray[2] = &quot;you have come so far don&#39;t stop now&quot;;\r\n        myArray[3] = &quot;Think of the progress you have made&quot;;\r\n\r\n        if (motiv.equals(&quot;yes&quot;)) {\r\n            System.out.println(&quot;Today is the day hard work begins&quot;);\r\n        } else {\r\n            System.out.println(&quot;type yes when you&#39;re ready to work&quot;);\r\n        }\r\n\r\n        Scanner input2 = new Scanner(System.in);\r\n        System.out.println(&quot;You will recive quotes throughout your workout to remind you to keep working type ok if you accept&quot;);\r\n        String confirm = input2.next();\r\n\r\n        if (confirm.equals(&quot;ok&quot;)) {\r\n            final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n            final Runnable runnable = new Runnable() {\r\n                int countdown = 10;\r\n                public void run() {\r\n                    System.out.println(countdown);\r\n                    countdown--;\r\n                    if (countdown == 0 &amp;&amp; peat &lt; 4) {\r\n                        System.out.println(myArray[0]);\r\n                        //reset count down to 10\r\n                        peat = peat + 1;\r\n                    } else {\r\n                        scheduler.shutdown();\r\n                    }\r\n                }\r\n            };\r\n            scheduler.scheduleAtFixedRate(runnable, 0, 1, TimeUnit.SECONDS);\r\n        }\r\n        while (cdown &lt; 1) {\r\n            System.out.println(myArray[1]);\r\n            cdown = cdown + 1;\r\n        }\r\n    }\r\n}\r\n```","title":"How do I restart the timer countdown","body":"<p>I am trying to reset the timer so it can pull another value from my array.\nDoes anyone know the solution? My error is saying:</p>\n<pre><code>peat = peat= 1; \nlocal variables referenced from an inner class must be final or effectively final\n</code></pre>\n<p>I am stuck and I know I need to reset the timer but I don't know how.</p>\n<pre><code>class MyProgram {\n\n    public static void main(String[] args) {\n        int peat = 0;\n        int cdown = 0;\n        Scanner input1 = new Scanner(System.in);\n        System.out.println(&quot;What is your name&quot;);\n        String personsName = input1.next();\n        System.out.println((personsName) + &quot; Are you ready to impove yourself&quot;);\n        String motiv = input1.next();\n\n        String[] myArray = new String[4];\n        myArray[0] = &quot;Keep going&quot;;\n        myArray[1] = &quot;1 more rep&quot;;\n        myArray[2] = &quot;you have come so far don't stop now&quot;;\n        myArray[3] = &quot;Think of the progress you have made&quot;;\n\n        if (motiv.equals(&quot;yes&quot;)) {\n            System.out.println(&quot;Today is the day hard work begins&quot;);\n        } else {\n            System.out.println(&quot;type yes when you're ready to work&quot;);\n        }\n\n        Scanner input2 = new Scanner(System.in);\n        System.out.println(&quot;You will recive quotes throughout your workout to remind you to keep working type ok if you accept&quot;);\n        String confirm = input2.next();\n\n        if (confirm.equals(&quot;ok&quot;)) {\n            final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n            final Runnable runnable = new Runnable() {\n                int countdown = 10;\n                public void run() {\n                    System.out.println(countdown);\n                    countdown--;\n                    if (countdown == 0 &amp;&amp; peat &lt; 4) {\n                        System.out.println(myArray[0]);\n                        //reset count down to 10\n                        peat = peat + 1;\n                    } else {\n                        scheduler.shutdown();\n                    }\n                }\n            };\n            scheduler.scheduleAtFixedRate(runnable, 0, 1, TimeUnit.SECONDS);\n        }\n        while (cdown &lt; 1) {\n            System.out.println(myArray[1]);\n            cdown = cdown + 1;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","android-glide","firebaseui"],"comments":[{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1518510112,"post_id":48762263,"comment_id":84524872,"body_markdown":"can u share `build.gradle` with question","body":"can u share <code>build.gradle</code> with question"},{"owner":{"account_id":3168272,"reputation":1568,"user_id":2677801,"accept_rate":67,"display_name":"mehmet"},"score":0,"creation_date":1518510235,"post_id":48762263,"comment_id":84524928,"body_markdown":"I&#39;ve added dependencies is that enough","body":"I&#39;ve added dependencies is that enough"},{"owner":{"account_id":10981715,"reputation":1121,"user_id":8068595,"accept_rate":55,"display_name":"GGWP"},"score":0,"creation_date":1518510877,"post_id":48762263,"comment_id":84525264,"body_markdown":"You need to downgrade versions","body":"You need to downgrade versions"}],"answers":[{"tags":[],"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1520277152,"creation_date":1518510661,"answer_id":48762436,"question_id":48762263,"body_markdown":"Change this:\n\n     implementation &#39;com.firebaseui:firebase-ui-storage:2.0.1&#39;\n\nto this:\n\n      implementation &#39;com.firebaseui:firebase-ui-storage:3.2.1&#39;\n\n\n\nAccording to the Glide docs:\n\n`using()`\n\n&gt;The using() API was removed in Glide 4 to encourage users to register their components once with a AppGlideModule to avoid object re-use. Rather than creating a new ModelLoader each time you load an image, you register it once in an AppGlideModule and let Glide inspect your model (the object you pass to load()) to figure out when to use your registered ModelLoader.\n&gt;\n&gt;To make sure you only use your ModelLoader for certain models, implement handles() as shown above to inspect each model and return true only if your ModelLoader should be used.\n\n`using()` was removed from Glide 4.\n\n\nTo Solve this, you need to do this:\nTo load an image from a StorageReference, first register an AppGlideModule:\n  \n      @GlideModule\n    public class MyAppGlideModule extends AppGlideModule {\n\n    @Override\n    public void registerComponents(Context context, Glide glide, Registry registry) {\n        // Register FirebaseImageLoader to handle StorageReference\n        registry.append(StorageReference.class, InputStream.class,\n                new FirebaseImageLoader.Factory());\n      }\n    }\n\nOnce you have created an AppGlideModule class and done a clean build, you can use GlideApp to load a StorageReference into an ImageView:\n\n    // Reference to an image file in Cloud Storage\n    StorageReference storageReference = ...;\n\n    // ImageView in your Activity\n    ImageView imageView = ...;\n\n    // Download directly from StorageReference using Glide\n    // (See MyAppGlideModule for Loader registration)\n    GlideApp.with(this /* context */)\n            .load(storageReference)\n            .into(imageView);\n\nmore info here: https://github.com/firebase/FirebaseUI-Android/tree/master/storage","title":"Using Firebase Storage image with Glide","body":"<p>Change this:</p>\n<pre><code> implementation 'com.firebaseui:firebase-ui-storage:2.0.1'\n</code></pre>\n<p>to this:</p>\n<pre><code>  implementation 'com.firebaseui:firebase-ui-storage:3.2.1'\n</code></pre>\n<p>According to the Glide docs:</p>\n<p><code>using()</code></p>\n<blockquote>\n<p>The using() API was removed in Glide 4 to encourage users to register their components once with a AppGlideModule to avoid object re-use. Rather than creating a new ModelLoader each time you load an image, you register it once in an AppGlideModule and let Glide inspect your model (the object you pass to load()) to figure out when to use your registered ModelLoader.</p>\n<p>To make sure you only use your ModelLoader for certain models, implement handles() as shown above to inspect each model and return true only if your ModelLoader should be used.</p>\n</blockquote>\n<p><code>using()</code> was removed from Glide 4.</p>\n<p>To Solve this, you need to do this:\nTo load an image from a StorageReference, first register an AppGlideModule:</p>\n<pre><code>  @GlideModule\npublic class MyAppGlideModule extends AppGlideModule {\n\n@Override\npublic void registerComponents(Context context, Glide glide, Registry registry) {\n    // Register FirebaseImageLoader to handle StorageReference\n    registry.append(StorageReference.class, InputStream.class,\n            new FirebaseImageLoader.Factory());\n  }\n}\n</code></pre>\n<p>Once you have created an AppGlideModule class and done a clean build, you can use GlideApp to load a StorageReference into an ImageView:</p>\n<pre><code>// Reference to an image file in Cloud Storage\nStorageReference storageReference = ...;\n\n// ImageView in your Activity\nImageView imageView = ...;\n\n// Download directly from StorageReference using Glide\n// (See MyAppGlideModule for Loader registration)\nGlideApp.with(this /* context */)\n        .load(storageReference)\n        .into(imageView);\n</code></pre>\n<p>more info here: <a href=\"https://github.com/firebase/FirebaseUI-Android/tree/master/storage\" rel=\"noreferrer\">https://github.com/firebase/FirebaseUI-Android/tree/master/storage</a></p>\n"},{"tags":[],"owner":{"account_id":10981715,"reputation":1121,"user_id":8068595,"accept_rate":55,"display_name":"GGWP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518511168,"creation_date":1518511168,"answer_id":48762566,"question_id":48762263,"body_markdown":"As for **Glide 4.6.1** you can&#39;t use `.using(new FirebaseImageLoader())`\r\n\r\nI am force to downgrade to \r\n\r\n`implementation &#39;com.github.bumptech.glide:glide:3.8.0&#39;`\r\n\r\n\r\nand **Firebase UI** `implementation&#39;com.firebaseui:firebase-ui-storage:2.0.1&#39;`\r\n","title":"Using Firebase Storage image with Glide","body":"<p>As for <strong>Glide 4.6.1</strong> you can't use <code>.using(new FirebaseImageLoader())</code></p>\n\n<p>I am force to downgrade to </p>\n\n<p><code>implementation 'com.github.bumptech.glide:glide:3.8.0'</code></p>\n\n<p>and <strong>Firebase UI</strong> <code>implementation'com.firebaseui:firebase-ui-storage:2.0.1'</code></p>\n"},{"tags":[],"owner":{"account_id":1477876,"reputation":707,"user_id":1387849,"accept_rate":90,"display_name":"nburn42"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592579003,"creation_date":1524677242,"answer_id":50028123,"question_id":48762263,"body_markdown":"The answers above didn&#39;t help me.\r\n\r\nI was missing this in my gradle.  \r\n\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.x&#39; //For Kotlin advice use kapt instead of annotationProcessor\r\n\r\nThe best docs I have found are [here](https://github.com/firebase/FirebaseUI-Android/tree/master/storage)","title":"Using Firebase Storage image with Glide","body":"<p>The answers above didn't help me.</p>\n\n<p>I was missing this in my gradle.  </p>\n\n<pre><code>annotationProcessor 'com.github.bumptech.glide:compiler:4.x' //For Kotlin advice use kapt instead of annotationProcessor\n</code></pre>\n\n<p>The best docs I have found are <a href=\"https://github.com/firebase/FirebaseUI-Android/tree/master/storage\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1555073357,"creation_date":1555073357,"answer_id":55652001,"question_id":48762263,"body_markdown":"If you&#39;ve uploaded little images for icons on to your Firebase storage, get rid off glide and that &quot;model&quot;. It makes a lot of changes on its git. So your code  should look like:\r\n\r\n       StorageReference referenseLcl = FirebaseStorage.getInstance().getReference();\r\n                    StorageReference islandRefLcl = referenseLcl.child(userLcl.getImageIconPath());\r\n                    final long ONE_MEGABYTE = 1024 * 1024;\r\n                    islandRefLcl.getBytes(ONE_MEGABYTE).addOnSuccessListener(bytesPrm -&gt; {\r\n                        Bitmap bmp = BitmapFactory.decodeByteArray(bytesPrm, 0, bytesPrm.length);\r\n                        imageOfUser.setImageBitmap(bmp);\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception exception) {\r\n                            imageOfUser.setImageResource(R.mipmap.ic_launcher);\r\n                        }\r\n                    });\r\n\r\n\r\n ","title":"Using Firebase Storage image with Glide","body":"<p>If you've uploaded little images for icons on to your Firebase storage, get rid off glide and that \"model\". It makes a lot of changes on its git. So your code  should look like:</p>\n\n<pre><code>   StorageReference referenseLcl = FirebaseStorage.getInstance().getReference();\n                StorageReference islandRefLcl = referenseLcl.child(userLcl.getImageIconPath());\n                final long ONE_MEGABYTE = 1024 * 1024;\n                islandRefLcl.getBytes(ONE_MEGABYTE).addOnSuccessListener(bytesPrm -&gt; {\n                    Bitmap bmp = BitmapFactory.decodeByteArray(bytesPrm, 0, bytesPrm.length);\n                    imageOfUser.setImageBitmap(bmp);\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception exception) {\n                        imageOfUser.setImageResource(R.mipmap.ic_launcher);\n                    }\n                });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911774,"reputation":539,"user_id":7011829,"display_name":"Vikash Sharma"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1592578880,"creation_date":1569946911,"answer_id":58188871,"question_id":48762263,"body_markdown":"I Know im bit late but it might help some of you.\r\nUse both of these in `app build.gradle`.\r\n        \r\n    implementation &#39;com.github.bumptech.glide:glide:4.10.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.10.0&#39; //For Kotlin You should use kapt instead of annotationProcessor though.\r\n    \r\nThen add This Class:\r\n\r\n\r\n    @GlideModule\r\n    public class MyAppGlideModule extends AppGlideModule {\r\n    \r\n        @Override\r\n        public void registerComponents(Context context, Glide glide, Registry registry) {\r\n            // Register FirebaseImageLoader to handle StorageReference\r\n            registry.append(StorageReference.class, InputStream.class,\r\n                    new FirebaseImageLoader.Factory());\r\n        }\r\n    }\r\n    \r\n     GlideApp.with(getActivity()).load(storageReference).into(profileImg);\r\n\r\nAt last you need to go to File-&gt; Invalidate Cache and Restart\r\nDone:)","title":"Using Firebase Storage image with Glide","body":"<p>I Know im bit late but it might help some of you.\nUse both of these in <code>app build.gradle</code>.</p>\n\n<pre><code>implementation 'com.github.bumptech.glide:glide:4.10.0'\nannotationProcessor 'com.github.bumptech.glide:compiler:4.10.0' //For Kotlin You should use kapt instead of annotationProcessor though.\n</code></pre>\n\n<p>Then add This Class:</p>\n\n<pre><code>@GlideModule\npublic class MyAppGlideModule extends AppGlideModule {\n\n    @Override\n    public void registerComponents(Context context, Glide glide, Registry registry) {\n        // Register FirebaseImageLoader to handle StorageReference\n        registry.append(StorageReference.class, InputStream.class,\n                new FirebaseImageLoader.Factory());\n    }\n}\n\n GlideApp.with(getActivity()).load(storageReference).into(profileImg);\n</code></pre>\n\n<p>At last you need to go to File-> Invalidate Cache and Restart\nDone:)</p>\n"},{"tags":[],"owner":{"account_id":11404798,"reputation":12520,"user_id":8360561,"accept_rate":58,"display_name":"Agung Laksana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594631776,"creation_date":1594631776,"answer_id":62872781,"question_id":48762263,"body_markdown":"I am using kotlin.\r\n\r\nin my case, because I still use annotation processor like this\r\n\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n\r\n\r\nI should use: \r\n\r\n`kapt &#39;com.github.bumptech.glide:compiler:4.11.0&#39;`\r\n\r\n","title":"Using Firebase Storage image with Glide","body":"<p>I am using kotlin.</p>\n<p>in my case, because I still use annotation processor like this</p>\n<pre><code>annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n</code></pre>\n<p>I should use:</p>\n<p><code>kapt 'com.github.bumptech.glide:compiler:4.11.0'</code></p>\n"},{"tags":[],"owner":{"account_id":14489422,"reputation":162,"user_id":10466214,"display_name":"Julian Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654230218,"creation_date":1654230218,"answer_id":72484702,"question_id":48762263,"body_markdown":"Kotlin implementation of GlideModule :\r\n\r\n    @GlideModule\r\n    class GlideModule : AppGlideModule() {\r\n    \r\n        override fun registerComponents(context: Context, glide: Glide, registry: Registry) {\r\n            registry.append(StorageReference::class.java, InputStream::class.java, FirebaseImageLoader.Factory())\r\n        }\r\n    \r\n    }\r\n\r\nDon&#39;t forget to import the correct dependencies :\r\n\r\n\r\n    dependencies {\r\n        def glide_version = &quot;4.12.0&quot;\r\n        implementation &quot;com.github.bumptech.glide:glide:$glide_version&quot;\r\n        kapt &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\r\n    }","title":"Using Firebase Storage image with Glide","body":"<p>Kotlin implementation of GlideModule :</p>\n<pre><code>@GlideModule\nclass GlideModule : AppGlideModule() {\n\n    override fun registerComponents(context: Context, glide: Glide, registry: Registry) {\n        registry.append(StorageReference::class.java, InputStream::class.java, FirebaseImageLoader.Factory())\n    }\n\n}\n</code></pre>\n<p>Don't forget to import the correct dependencies :</p>\n<pre><code>dependencies {\n    def glide_version = &quot;4.12.0&quot;\n    implementation &quot;com.github.bumptech.glide:glide:$glide_version&quot;\n    kapt &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3168272,"reputation":1568,"user_id":2677801,"accept_rate":67,"display_name":"mehmet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21242,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":48762436,"answer_count":7,"score":12,"last_activity_date":1654230218,"creation_date":1518509943,"question_id":48762263,"body_markdown":"There are tons of duplicated answers I had tried almost all of them but I am still not able to use Firebase storage image with Glide. \r\n\r\nFirst of all I am using [docs][1]\r\n\r\n        FirebaseStorage storage  = FirebaseStorage.getInstance();\r\n        StorageReference storageRef = storage.getReference();\r\n        StorageReference pathReference = storageRef.child(&quot;sorular/1.jpg&quot;);\r\n    \r\n       // ImageView in your Activity\r\n       ImageView imageView = rootView.findViewById(R.id.imageView);\r\n    \r\n       // Load the image using Glide\r\n       Glide.with(this /* context */)\r\n            .using(new FirebaseImageLoader()) // Cannot resolve method &#39;using\r\n            .load(pathReference)\r\n            .into(imageView);\r\n\r\n\r\nif I clean the .using part of Glide, logcat it gives this error:\r\n\r\n&gt; E/GlideExecutor: Request threw uncaught throwable                                                                              com.bumptech.glide.Registry$NoModelLoaderAvailableException: Failed to\r\n&gt; find any ModelLoaders for model:\r\n&gt; gs://123...appspot.com/sorular/1.jpg                             \r\n&gt; at com.bumptech.glide.Registry.getModelLoaders(Registry.java:227)     \r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.DecodeHelper.getLoadData(DecodeHelper.java:179)\r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.DecodeHelper.getCacheKeys(DecodeHelper.java:197)\r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.ResourceCacheGenerator.startNext(ResourceCacheGenerator.java:41)\r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:282)\r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:249)\r\n&gt; at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:222)   \r\n&gt; at\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\r\n&gt; at\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\r\n&gt; at java.lang.Thread.run(Thread.java:761)                              \r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:347)\r\n\r\nSo how can use firebase storage images in my android app in a best way?\r\n\r\nalso this my build gradle dependencies:\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:27.0.2&#39;\r\n        implementation &#39;com.android.support:palette-v7:27.0.2&#39;\r\n        implementation &quot;com.android.support:cardview-v7:27.0.2&quot;\r\n        implementation &quot;com.android.support:recyclerview-v7:27.0.2&quot;\r\n        implementation &quot;com.android.support:support-v4:27.0.2&quot;\r\n        implementation &#39;com.android.support:design:27.0.2&#39;\r\n    \r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n        implementation &#39;com.github.florent37:materialviewpager:1.2.3&#39;\r\n    \r\n    \r\n        implementation &#39;com.google.firebase:firebase-database:11.8.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:11.8.0&#39;\r\n        implementation &#39;com.firebaseui:firebase-ui-storage:2.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:11.8.0&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.1&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.1&#39;\r\n    }\r\n\r\n  [1]: https://firebase.google.com/docs/storage/android/download-files","title":"Using Firebase Storage image with Glide","body":"<p>There are tons of duplicated answers I had tried almost all of them but I am still not able to use Firebase storage image with Glide. </p>\n\n<p>First of all I am using <a href=\"https://firebase.google.com/docs/storage/android/download-files\" rel=\"noreferrer\">docs</a></p>\n\n<pre><code>    FirebaseStorage storage  = FirebaseStorage.getInstance();\n    StorageReference storageRef = storage.getReference();\n    StorageReference pathReference = storageRef.child(\"sorular/1.jpg\");\n\n   // ImageView in your Activity\n   ImageView imageView = rootView.findViewById(R.id.imageView);\n\n   // Load the image using Glide\n   Glide.with(this /* context */)\n        .using(new FirebaseImageLoader()) // Cannot resolve method 'using\n        .load(pathReference)\n        .into(imageView);\n</code></pre>\n\n<p>if I clean the .using part of Glide, logcat it gives this error:</p>\n\n<blockquote>\n  <p>E/GlideExecutor: Request threw uncaught throwable                                                                              com.bumptech.glide.Registry$NoModelLoaderAvailableException: Failed to\n  find any ModelLoaders for model:\n  gs://123...appspot.com/sorular/1.jpg<br>\n  at com.bumptech.glide.Registry.getModelLoaders(Registry.java:227)<br>\n  at\n  com.bumptech.glide.load.engine.DecodeHelper.getLoadData(DecodeHelper.java:179)\n  at\n  com.bumptech.glide.load.engine.DecodeHelper.getCacheKeys(DecodeHelper.java:197)\n  at\n  com.bumptech.glide.load.engine.ResourceCacheGenerator.startNext(ResourceCacheGenerator.java:41)\n  at\n  com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:282)\n  at\n  com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:249)\n  at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:222)<br>\n  at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n  at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n  at java.lang.Thread.run(Thread.java:761)<br>\n  at\n  com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:347)</p>\n</blockquote>\n\n<p>So how can use firebase storage images in my android app in a best way?</p>\n\n<p>also this my build gradle dependencies:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:27.0.2'\n    implementation 'com.android.support:palette-v7:27.0.2'\n    implementation \"com.android.support:cardview-v7:27.0.2\"\n    implementation \"com.android.support:recyclerview-v7:27.0.2\"\n    implementation \"com.android.support:support-v4:27.0.2\"\n    implementation 'com.android.support:design:27.0.2'\n\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.github.florent37:materialviewpager:1.2.3'\n\n\n    implementation 'com.google.firebase:firebase-database:11.8.0'\n    implementation 'com.google.firebase:firebase-storage:11.8.0'\n    implementation 'com.firebaseui:firebase-ui-storage:2.0.1'\n    implementation 'com.google.firebase:firebase-auth:11.8.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","liquibase","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1647854504,"post_id":71553985,"comment_id":126466753,"body_markdown":"Is this really a different question from your previous one? https://stackoverflow.com/q/71552585/521799","body":"Is this really a different question from your previous one? <a href=\"https://stackoverflow.com/q/71552585/521799\">stackoverflow.com/q/71552585/521799</a>"}],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654229772,"creation_date":1654229772,"answer_id":72484658,"question_id":71553985,"body_markdown":"This seems like the same ask as your [earlier question][1]. \r\n\r\nIf it&#39;s not the same, then the first place to look is [Liquibase Documentation for Maven][2] and then the jOOQ manual for [Code generation from Liquibase XML, YAML, JSON files][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/71552585/521799\r\n  [2]: https://docs.liquibase.com/tools-integrations/maven/home.html\r\n  [3]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-liquibase/","title":"How would liquibase work for different deployments or prod environments on integration with maven plugin?","body":"<p>This seems like the same ask as your <a href=\"https://stackoverflow.com/q/71552585/521799\">earlier question</a>.</p>\n<p>If it's not the same, then the first place to look is <a href=\"https://docs.liquibase.com/tools-integrations/maven/home.html\" rel=\"nofollow noreferrer\">Liquibase Documentation for Maven</a> and then the jOOQ manual for <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-liquibase/\" rel=\"nofollow noreferrer\">Code generation from Liquibase XML, YAML, JSON files</a>.</p>\n"}],"owner":{"account_id":24617626,"reputation":63,"user_id":18518406,"display_name":"Divyanshi Mangal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654229772,"creation_date":1647846948,"question_id":71553985,"body_markdown":"I have integrated **liquibase with maven plugin** (in pom.xml) along with **jOOQ generator** that reads from db connection after liquibase migration.\r\nThe liquibase migration -&gt; jooq generator runs on running **mvn clean compile** (Compile and build step).\r\nI am wondering how will the liquibase change-management work for different deployments or **different prod environments**?\r\nWill it **create tables automatically** for all the prod environments? Please guide.\r\n","title":"How would liquibase work for different deployments or prod environments on integration with maven plugin?","body":"<p>I have integrated <strong>liquibase with maven plugin</strong> (in pom.xml) along with <strong>jOOQ generator</strong> that reads from db connection after liquibase migration.\nThe liquibase migration -&gt; jooq generator runs on running <strong>mvn clean compile</strong> (Compile and build step).\nI am wondering how will the liquibase change-management work for different deployments or <strong>different prod environments</strong>?\nWill it <strong>create tables automatically</strong> for all the prod environments? Please guide.</p>\n"},{"tags":["java","spring-boot","testing","integration-testing","liquibase"],"comments":[{"owner":{"account_id":14647585,"reputation":421,"user_id":10578466,"display_name":"Gleb Yan"},"score":0,"creation_date":1647951280,"post_id":71561292,"comment_id":126495353,"body_markdown":"It is not a bad idea, why not? But it could take a lot of time too, depends on the quantity of changesets. From my own experience, it took ~40 minutes for applying 8k changesets to oracle database on a bare metal server. So, it seems better to leave schema and cut out only the state. It should be much more faster, then full recreation of the database schema.","body":"It is not a bad idea, why not? But it could take a lot of time too, depends on the quantity of changesets. From my own experience, it took ~40 minutes for applying 8k changesets to oracle database on a bare metal server. So, it seems better to leave schema and cut out only the state. It should be much more faster, then full recreation of the database schema."},{"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"score":0,"creation_date":1647960371,"post_id":71561292,"comment_id":126499278,"body_markdown":"How should I drop the state without dropping the schema? Does it mean I have to write the queries for the job?","body":"How should I drop the state without dropping the schema? Does it mean I have to write the queries for the job?"},{"owner":{"account_id":14647585,"reputation":421,"user_id":10578466,"display_name":"Gleb Yan"},"score":0,"creation_date":1648449167,"post_id":71561292,"comment_id":126617218,"body_markdown":"For example, just call truncate table for all the tables in your database. If you don&#39;t want to manually update this script for new tables, just write procedure that select all table name from database into the cursor and then iterate over the cursor to call truncate on each table. This approach will not revert some particular objects, as sequences (in oracle), but it will not affect your test scenarios.","body":"For example, just call truncate table for all the tables in your database. If you don&#39;t want to manually update this script for new tables, just write procedure that select all table name from database into the cursor and then iterate over the cursor to call truncate on each table. This approach will not revert some particular objects, as sequences (in oracle), but it will not affect your test scenarios."}],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654229491,"creation_date":1654229491,"answer_id":72484627,"question_id":71561292,"body_markdown":"It&#39;s not a bad idea, keeping in mind that it could take time to run depending on the number of changesets. A better option is to leave the schema and only cut the state, which will be much faster. \r\n\r\nExample: \r\ncall truncate table for all the tables in your database. You can manually write a script for new tables, or write a procedure that selects all table names from the database into the cursor. Then iterate over the cursor to call truncate on each table. This will not affect your test scenarios, but it also will not revert some particular objects, such as sequences in Oracle. \r\n\r\nReference: \r\n- Comments from @Gleb Yan above\r\n- [Liquibase Documentation: Tools &amp; Integrations: Spring Boot][1]\r\n\r\n\r\n  [1]: https://docs.liquibase.com/tools-integrations/springboot/home.html?Highlight=spring%20boot","title":"Recreate database before each test class with Liquibase","body":"<p>It's not a bad idea, keeping in mind that it could take time to run depending on the number of changesets. A better option is to leave the schema and only cut the state, which will be much faster.</p>\n<p>Example:\ncall truncate table for all the tables in your database. You can manually write a script for new tables, or write a procedure that selects all table names from the database into the cursor. Then iterate over the cursor to call truncate on each table. This will not affect your test scenarios, but it also will not revert some particular objects, such as sequences in Oracle.</p>\n<p>Reference:</p>\n<ul>\n<li>Comments from @Gleb Yan above</li>\n<li><a href=\"https://docs.liquibase.com/tools-integrations/springboot/home.html?Highlight=spring%20boot\" rel=\"nofollow noreferrer\">Liquibase Documentation: Tools &amp; Integrations: Spring Boot</a></li>\n</ul>\n"}],"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654229491,"creation_date":1647881768,"question_id":71561292,"body_markdown":"I am using Spring Boot with JUnit5 with [Testcontainers][1] during my integration testing. I create my database with Liquibase during the startup. I am using a single instance of my database and I wouldn&#39;t like to restart the whole container. But I would like to drop all database objects and recreate the database by Liquibase changelog before every test class.\r\n\r\nI found a few possibilities but these are very painful to use.\r\n- I can write the scripts manually which I wouldn&#39;t like because I have to update them every time.\r\n- I know, I can restart the database container but it would make testing so long.\r\n- Also @DirtiesContext takes too much time.\r\n\r\nIs there a solution telling Liquibase to drop everything and then rerun the changelog? (Or there is no solution for this use case because it is a bad idea?)\r\n\r\n  [1]: https://www.testcontainers.org/","title":"Recreate database before each test class with Liquibase","body":"<p>I am using Spring Boot with JUnit5 with <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">Testcontainers</a> during my integration testing. I create my database with Liquibase during the startup. I am using a single instance of my database and I wouldn't like to restart the whole container. But I would like to drop all database objects and recreate the database by Liquibase changelog before every test class.</p>\n<p>I found a few possibilities but these are very painful to use.</p>\n<ul>\n<li>I can write the scripts manually which I wouldn't like because I have to update them every time.</li>\n<li>I know, I can restart the database container but it would make testing so long.</li>\n<li>Also @DirtiesContext takes too much time.</li>\n</ul>\n<p>Is there a solution telling Liquibase to drop everything and then rerun the changelog? (Or there is no solution for this use case because it is a bad idea?)</p>\n"},{"tags":["java","android","kotlin","android-10.0"],"answers":[{"tags":[],"owner":{"account_id":3135843,"reputation":21202,"user_id":2652368,"accept_rate":57,"display_name":"Amirhossein Ghasemi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1600332225,"creation_date":1587932134,"answer_id":61447482,"question_id":61446427,"body_markdown":"Found the answer, you can open this page by this code:\r\n\r\n \r\n\r\n    //This code will work only on android version N and above\r\n    //Add if condition to prevent crash on older devices\r\n    \r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            Intent intent = new Intent(Settings.ACTION_MANAGE_DEFAULT_APPS_SETTINGS);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            if (requestCode != -1)\r\n                 act.startActivityForResult(intent, requestCode);\r\n            else\r\n                 act.startActivity(intent);\r\n        }","title":"How to open android default apps activity in setting via Intent?","body":"<p>Found the answer, you can open this page by this code:</p>\n<pre><code>//This code will work only on android version N and above\n//Add if condition to prevent crash on older devices\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        Intent intent = new Intent(Settings.ACTION_MANAGE_DEFAULT_APPS_SETTINGS);\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        if (requestCode != -1)\n             act.startActivityForResult(intent, requestCode);\n        else\n             act.startActivity(intent);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16983094,"reputation":11,"user_id":12284493,"display_name":"ibnunaufal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654229395,"creation_date":1654229395,"answer_id":72484620,"question_id":61446427,"body_markdown":"Another way with this code to open an intent default app,\r\nin this case, I try to set the default launcher app\r\n\r\n    // dialog set default app\r\n    @RequiresApi(Build.VERSION_CODES.Q)\r\n    private fun showLauncherSelection() {\r\n        val roleManager = this.getSystemService(Context.ROLE_SERVICE)\r\n                as RoleManager\r\n        if (roleManager.isRoleAvailable(RoleManager.ROLE_HOME) &amp;&amp;\r\n            !roleManager.isRoleHeld(RoleManager.ROLE_HOME)\r\n        ) {\r\n            val intent = roleManager.createRequestRoleIntent(RoleManager.ROLE_HOME)\r\n            startActivityForResult(intent,0)\r\n        }\r\n    }\r\n\r\n \r\nYou can set the other Default app with change the `ROLE_HOME` following this [Role Manager](https://developer.android.com/reference/android/app/role/RoleManager?hl=en). If you want to change SMS default app, try to change the `ROLE_HOME` to `ROLE_SMS` ","title":"How to open android default apps activity in setting via Intent?","body":"<p>Another way with this code to open an intent default app,\nin this case, I try to set the default launcher app</p>\n<pre><code>// dialog set default app\n@RequiresApi(Build.VERSION_CODES.Q)\nprivate fun showLauncherSelection() {\n    val roleManager = this.getSystemService(Context.ROLE_SERVICE)\n            as RoleManager\n    if (roleManager.isRoleAvailable(RoleManager.ROLE_HOME) &amp;&amp;\n        !roleManager.isRoleHeld(RoleManager.ROLE_HOME)\n    ) {\n        val intent = roleManager.createRequestRoleIntent(RoleManager.ROLE_HOME)\n        startActivityForResult(intent,0)\n    }\n}\n</code></pre>\n<p>You can set the other Default app with change the <code>ROLE_HOME</code> following this <a href=\"https://developer.android.com/reference/android/app/role/RoleManager?hl=en\" rel=\"nofollow noreferrer\">Role Manager</a>. If you want to change SMS default app, try to change the <code>ROLE_HOME</code> to <code>ROLE_SMS</code></p>\n"}],"owner":{"account_id":3135843,"reputation":21202,"user_id":2652368,"accept_rate":57,"display_name":"Amirhossein Ghasemi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1939,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1654229395,"creation_date":1587927652,"question_id":61446427,"body_markdown":"How to open the default handler page in the android setting via intent?\r\nor How we can open directly the default SMS page?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iXzE6.png\r\n\r\nit seems from android Q to upper we can not `Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT`","title":"How to open android default apps activity in setting via Intent?","body":"<p>How to open the default handler page in the android setting via intent?\nor How we can open directly the default SMS page?</p>\n\n<p><a href=\"https://i.stack.imgur.com/iXzE6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iXzE6.png\" alt=\"enter image description here\"></a></p>\n\n<p>it seems from android Q to upper we can not <code>Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT</code></p>\n"},{"tags":["java","spring","spring-cloud","wiremock","spring-cloud-contract"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526546985,"creation_date":1526545191,"answer_id":50386597,"question_id":50386084,"body_markdown":"Your url within the `request` is wrong, it is missing `my-project` in it.\r\n\r\nIt should look like this:\r\n\r\n    Contract.make {\r\n        request {\r\n            method &#39;GET&#39;\r\n            url(&#39;/my-project/api/checkTransaction/id&#39;) {\r\n            ...","title":"WireMock Request was not matched","body":"<p>Your url within the <code>request</code> is wrong, it is missing <code>my-project</code> in it.</p>\n\n<p>It should look like this:</p>\n\n<pre><code>Contract.make {\n    request {\n        method 'GET'\n        url('/my-project/api/checkTransaction/id') {\n        ...\n</code></pre>\n"}],"owner":{"account_id":1407228,"reputation":707,"user_id":1334598,"accept_rate":68,"display_name":"greenthunder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9871,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654229150,"creation_date":1526543468,"question_id":50386084,"body_markdown":"I am creating integration testing using spring cloud contract. Everything&#39;s working fine from configuration until adding stubs jar to the project. Hence I found that the request not match despite having all params and headers same.\r\n\r\n    {\r\n      &quot;url&quot; : &quot;/my-project/api/checkTransaction/id?id=ASDFGHJKL&quot;,\r\n      &quot;absoluteUrl&quot; : &quot;http://127.0.0.1:8085/my-project/api/checkTransaction/id?id=ASDFGHJKL&quot;,\r\n      &quot;method&quot; : &quot;GET&quot;,\r\n      &quot;clientIp&quot; : &quot;127.0.0.1&quot;,\r\n      &quot;headers&quot; : {\r\n        &quot;Accept&quot; : &quot;application/json&quot;,\r\n        &quot;X-B3-ParentSpanId&quot; : &quot;6f922af45db72e2e&quot;,\r\n        &quot;User-Agent&quot; : &quot;Java/1.8.0_111&quot;,\r\n        &quot;Connection&quot; : &quot;keep-alive&quot;,\r\n        &quot;Host&quot; : &quot;127.0.0.1:8085&quot;,\r\n        &quot;X-Span-Name&quot; : &quot;http://my-project/api/checkTransaction/id&quot;,\r\n        &quot;X-B3-SpanId&quot; : &quot;886d8cfcdeec47ca&quot;,\r\n        &quot;X-B3-Sampled&quot; : &quot;0&quot;,\r\n        &quot;X-B3-TraceId&quot; : &quot;6f922af45db72e2e&quot;,\r\n        &quot;requestKey&quot; : &quot;RANDOM&quot;,\r\n        &quot;defaultId&quot; : &quot;12345&quot;,\r\n        &quot;baggage-requestKey&quot; : &quot;RANDOM&quot;,\r\n        &quot;baggage-defaultId&quot; : &quot;12345&quot;,\r\n        &quot;Content-Type&quot; : &quot;application/json&quot;,\r\n        &quot;username&quot; : &quot;589e329c-1cf1-4eb5-b7bb-eaffdd266560&quot;\r\n      },\r\n      &quot;cookies&quot; : { },\r\n      &quot;browserProxyRequest&quot; : false,\r\n      &quot;loggedDate&quot; : 1526541502499,\r\n      &quot;bodyAsBase64&quot; : &quot;&quot;,\r\n      &quot;body&quot; : &quot;&quot;,\r\n      &quot;loggedDateString&quot; : &quot;2018-05-17T07:18:22Z&quot;,\r\n      &quot;queryParams&quot; : {\r\n        &quot;id&quot; : {\r\n          &quot;key&quot; : &quot;id&quot;,\r\n          &quot;values&quot; : [ &quot;ASDFGHJKL&quot; ]\r\n        }\r\n      }\r\n    }\r\n    Closest match:\r\n    {\r\n      &quot;urlPath&quot; : &quot;/api/checkTransaction/id&quot;,\r\n      &quot;method&quot; : &quot;GET&quot;,\r\n      &quot;headers&quot; : {\r\n        &quot;defaultId&quot; : {\r\n          &quot;equalTo&quot; : &quot;12345&quot;\r\n        },\r\n        &quot;username&quot; : {\r\n          &quot;matches&quot; : &quot;[\\\\p{L}]*&quot;\r\n        },\r\n        &quot;requestKey&quot; : {\r\n          &quot;equalTo&quot; : &quot;RANDOM&quot;\r\n        },\r\n        &quot;Content-Type&quot; : {\r\n          &quot;matches&quot; : &quot;application/json.*&quot;\r\n        },\r\n        &quot;Accept&quot; : {\r\n          &quot;matches&quot; : &quot;application/json.*&quot;\r\n        }\r\n      },\r\n      &quot;queryParameters&quot; : {\r\n        &quot;id&quot; : {\r\n          &quot;equalTo&quot; : &quot;ASDFGHJKL&quot;\r\n        }\r\n      }\r\n    } \r\n\r\nHere&#39;s the Test for API\r\n\r\n    @Test\r\n    public void checkId_Contract() throws Exception {\r\n    \t// given:\r\n    \t\tMockMvcRequestSpecification request = given()\r\n    \t\t\t\t.header(&quot;requestKey&quot;, &quot;RANDOM&quot;)\r\n    \t\t\t\t.header(&quot;accept-language&quot;, &quot;en&quot;)\r\n    \t\t\t\t.header(&quot;accept-encoding&quot;, &quot;gzip&quot;)\r\n    \t\t\t\t.header(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\r\n    \r\n    \t// when:\r\n    \t\tResponseOptions response = given().spec(request)\r\n    \t\t\t\t.queryParam(&quot;id&quot;,&quot;ASDFGHJKL&quot;)\r\n    \t\t\t\t.when().async()\r\n    \t\t\t\t.timeout(10000)\r\n    \t\t\t\t.get(&quot;/api/id/ASDFGHJKL/check&quot;);\r\n    \r\n    \t// then:\r\n    \t\tassertThat(response.statusCode()).isEqualTo(200);\r\n    \t\tassertThat(response.header(&quot;Content-Type&quot;)).matches(&quot;application/json;charset=UTF-8.*&quot;);\r\n    \t// and:\r\n    \t\tDocumentContext parsedJson = JsonPath.parse(response.getBody().asString());\r\n    \t\tassertThatJson(parsedJson).field(&quot;[&#39;errors&#39;]&quot;).isNull();\r\n    \t\tassertThatJson(parsedJson).field(&quot;[&#39;message&#39;]&quot;).isEqualTo(&quot;Id not found&quot;);\r\n    \t\tassertThatJson(parsedJson).field(&quot;[&#39;value&#39;]&quot;).isNull();\r\n    \t\tassertThatJson(parsedJson).field(&quot;[&#39;code&#39;]&quot;).isEqualTo(&quot;ID_NOT_FOUND&quot;);\r\n    }\r\n\r\n\r\nHere&#39;s the contract that being called by the API  \r\n\r\n    Contract.make {\r\n            request {\r\n                method &#39;GET&#39;\r\n                url(&#39;/api/checkTransaction/id&#39;) {\r\n                    headers {\r\n                        header &#39;defaultId&#39; : &#39;12345&#39;\r\n                        header &#39;username&#39; : $(anyAlphaUnicode())\r\n                        header &#39;requestKey&#39; : &#39;RANDOM&#39;\r\n                        contentType(&#39;application/json&#39;)\r\n                        accept(&#39;application/json&#39;)\r\n                    }\r\n                    queryParameters {\r\n                        parameter &#39;id&#39; : &#39;ASDFGHJKL&#39;\r\n                    }\r\n                }\r\n            }\r\n            response {\r\n                status 200\r\n                async()\r\n                fixedDelayMilliseconds(5000)\r\n                headers{\r\n                    contentType(&#39;application/json&#39;)\r\n\r\n                }\r\n                body &#39;&#39;&#39;\\\r\n                {\r\n                  &quot;code&quot;: &quot;ID_NOT_FOUND&quot;,\r\n                  &quot;message&quot;: &quot;ID not found&quot;,\r\n                  &quot;errors&quot;: null,\r\n                  &quot;value&quot;: null,\r\n                  &quot;success&quot;: false\r\n                }\r\n                &#39;&#39;&#39;\r\n            }\r\n      }\r\n\r\neven when I delete the username from contract request, still getting the same error.\r\n\r\nDo I need to create headers for X-B3-ParentSpanId, etc to make it match?","title":"WireMock Request was not matched","body":"<p>I am creating integration testing using spring cloud contract. Everything's working fine from configuration until adding stubs jar to the project. Hence I found that the request not match despite having all params and headers same.</p>\n\n<pre><code>{\n  \"url\" : \"/my-project/api/checkTransaction/id?id=ASDFGHJKL\",\n  \"absoluteUrl\" : \"http://127.0.0.1:8085/my-project/api/checkTransaction/id?id=ASDFGHJKL\",\n  \"method\" : \"GET\",\n  \"clientIp\" : \"127.0.0.1\",\n  \"headers\" : {\n    \"Accept\" : \"application/json\",\n    \"X-B3-ParentSpanId\" : \"6f922af45db72e2e\",\n    \"User-Agent\" : \"Java/1.8.0_111\",\n    \"Connection\" : \"keep-alive\",\n    \"Host\" : \"127.0.0.1:8085\",\n    \"X-Span-Name\" : \"http://my-project/api/checkTransaction/id\",\n    \"X-B3-SpanId\" : \"886d8cfcdeec47ca\",\n    \"X-B3-Sampled\" : \"0\",\n    \"X-B3-TraceId\" : \"6f922af45db72e2e\",\n    \"requestKey\" : \"RANDOM\",\n    \"defaultId\" : \"12345\",\n    \"baggage-requestKey\" : \"RANDOM\",\n    \"baggage-defaultId\" : \"12345\",\n    \"Content-Type\" : \"application/json\",\n    \"username\" : \"589e329c-1cf1-4eb5-b7bb-eaffdd266560\"\n  },\n  \"cookies\" : { },\n  \"browserProxyRequest\" : false,\n  \"loggedDate\" : 1526541502499,\n  \"bodyAsBase64\" : \"\",\n  \"body\" : \"\",\n  \"loggedDateString\" : \"2018-05-17T07:18:22Z\",\n  \"queryParams\" : {\n    \"id\" : {\n      \"key\" : \"id\",\n      \"values\" : [ \"ASDFGHJKL\" ]\n    }\n  }\n}\nClosest match:\n{\n  \"urlPath\" : \"/api/checkTransaction/id\",\n  \"method\" : \"GET\",\n  \"headers\" : {\n    \"defaultId\" : {\n      \"equalTo\" : \"12345\"\n    },\n    \"username\" : {\n      \"matches\" : \"[\\\\p{L}]*\"\n    },\n    \"requestKey\" : {\n      \"equalTo\" : \"RANDOM\"\n    },\n    \"Content-Type\" : {\n      \"matches\" : \"application/json.*\"\n    },\n    \"Accept\" : {\n      \"matches\" : \"application/json.*\"\n    }\n  },\n  \"queryParameters\" : {\n    \"id\" : {\n      \"equalTo\" : \"ASDFGHJKL\"\n    }\n  }\n} \n</code></pre>\n\n<p>Here's the Test for API</p>\n\n<pre><code>@Test\npublic void checkId_Contract() throws Exception {\n    // given:\n        MockMvcRequestSpecification request = given()\n                .header(\"requestKey\", \"RANDOM\")\n                .header(\"accept-language\", \"en\")\n                .header(\"accept-encoding\", \"gzip\")\n                .header(\"Content-Type\", \"application/json;charset=UTF-8\");\n\n    // when:\n        ResponseOptions response = given().spec(request)\n                .queryParam(\"id\",\"ASDFGHJKL\")\n                .when().async()\n                .timeout(10000)\n                .get(\"/api/id/ASDFGHJKL/check\");\n\n    // then:\n        assertThat(response.statusCode()).isEqualTo(200);\n        assertThat(response.header(\"Content-Type\")).matches(\"application/json;charset=UTF-8.*\");\n    // and:\n        DocumentContext parsedJson = JsonPath.parse(response.getBody().asString());\n        assertThatJson(parsedJson).field(\"['errors']\").isNull();\n        assertThatJson(parsedJson).field(\"['message']\").isEqualTo(\"Id not found\");\n        assertThatJson(parsedJson).field(\"['value']\").isNull();\n        assertThatJson(parsedJson).field(\"['code']\").isEqualTo(\"ID_NOT_FOUND\");\n}\n</code></pre>\n\n<p>Here's the contract that being called by the API  </p>\n\n<pre><code>Contract.make {\n        request {\n            method 'GET'\n            url('/api/checkTransaction/id') {\n                headers {\n                    header 'defaultId' : '12345'\n                    header 'username' : $(anyAlphaUnicode())\n                    header 'requestKey' : 'RANDOM'\n                    contentType('application/json')\n                    accept('application/json')\n                }\n                queryParameters {\n                    parameter 'id' : 'ASDFGHJKL'\n                }\n            }\n        }\n        response {\n            status 200\n            async()\n            fixedDelayMilliseconds(5000)\n            headers{\n                contentType('application/json')\n\n            }\n            body '''\\\n            {\n              \"code\": \"ID_NOT_FOUND\",\n              \"message\": \"ID not found\",\n              \"errors\": null,\n              \"value\": null,\n              \"success\": false\n            }\n            '''\n        }\n  }\n</code></pre>\n\n<p>even when I delete the username from contract request, still getting the same error.</p>\n\n<p>Do I need to create headers for X-B3-ParentSpanId, etc to make it match?</p>\n"},{"tags":["java","spring-boot","maven","integration-testing","liquibase"],"comments":[{"owner":{"account_id":14647585,"reputation":421,"user_id":10578466,"display_name":"Gleb Yan"},"score":0,"creation_date":1647950596,"post_id":71568244,"comment_id":126495069,"body_markdown":"Its is not common situation in general - I believe that you should not use resources from a parent module in a nested module. The direction of the dependency should be from parent to child, not backward. You should fix this issue and problem is gone.","body":"Its is not common situation in general - I believe that you should not use resources from a parent module in a nested module. The direction of the dependency should be from parent to child, not backward. You should fix this issue and problem is gone."},{"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"score":1,"creation_date":1647960233,"post_id":71568244,"comment_id":126499198,"body_markdown":"Thanks, I think it is a useful reflection. The other solution I have found is to put the dependency in a separate module then it will resolve the dependency direction.","body":"Thanks, I think it is a useful reflection. The other solution I have found is to put the dependency in a separate module then it will resolve the dependency direction."}],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654228915,"creation_date":1654228915,"answer_id":72484564,"question_id":71568244,"body_markdown":"It&#39;s best practice to not use resources from a parent module in a nested module. The dependency should be from parent to child, not child to parent. You can also put the dependency in a separate module to avoid the dependency direction issue altogether. \r\n\r\nReference:\r\n- Comments from @gleb yan and @five above\r\n- [Liquibase Documentation: Tools &amp; Integrations: Maven][1]\r\n\r\n\r\n  [1]: https://docs.liquibase.com/tools-integrations/maven/home.html","title":"How to copy a directory from parent to child module with Maven","body":"<p>It's best practice to not use resources from a parent module in a nested module. The dependency should be from parent to child, not child to parent. You can also put the dependency in a separate module to avoid the dependency direction issue altogether.</p>\n<p>Reference:</p>\n<ul>\n<li>Comments from @gleb yan and @five above</li>\n<li><a href=\"https://docs.liquibase.com/tools-integrations/maven/home.html\" rel=\"nofollow noreferrer\">Liquibase Documentation: Tools &amp; Integrations: Maven</a></li>\n</ul>\n"}],"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654228915,"creation_date":1647933835,"question_id":71568244,"body_markdown":"I have a spring boot project, built by maven. I have to use a directory included in the parent project for integration testing in the child project. (Liquibase changelog files.)\r\n\r\nWhat is the best practice to copy it under the child module&#39;s testing resources?\r\n\r\n```\r\nparent\r\n├── my_directory\r\n|\r\n└── child\r\n    └──src\r\n       ├── main\r\n       └── test\r\n           └── resources\r\n```\r\nSo I would like to copy my_directory under child/src/main/test/resources which I use in integration testing. Do you have any idea which is the best practice to do it from the child&#39;s pom.xml?","title":"How to copy a directory from parent to child module with Maven","body":"<p>I have a spring boot project, built by maven. I have to use a directory included in the parent project for integration testing in the child project. (Liquibase changelog files.)</p>\n<p>What is the best practice to copy it under the child module's testing resources?</p>\n<pre><code>parent\n├── my_directory\n|\n└── child\n    └──src\n       ├── main\n       └── test\n           └── resources\n</code></pre>\n<p>So I would like to copy my_directory under child/src/main/test/resources which I use in integration testing. Do you have any idea which is the best practice to do it from the child's pom.xml?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1352211544,"post_id":13252903,"comment_id":18059072,"body_markdown":"Write `((double)b1)` instead of just `b1`; likewise for `b2.` The promotion to `double` will propagate.","body":"Write <code>((double)b1)</code> instead of just <code>b1</code>; likewise for <code>b2.</code> The promotion to <code>double</code> will propagate."},{"owner":{"account_id":1448843,"reputation":2790,"user_id":1366439,"accept_rate":87,"display_name":"CBredlow"},"score":0,"creation_date":1352211554,"post_id":13252903,"comment_id":18059080,"body_markdown":"Assuming that the a and b variables are ints, just do a double typecast","body":"Assuming that the a and b variables are ints, just do a double typecast"}],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":103,"is_accepted":true,"score":103,"last_activity_date":1352211910,"creation_date":1352211559,"answer_id":13252940,"question_id":13252903,"body_markdown":"You have to cast one (or both) of the arguments to the division operator to `double`:\r\n\r\n    double firstSolution = (b1 * a22 - b2 * a12) / (double)(a11 * a22 - a12 * a21);\r\n\r\nSince you are performing the same calculation twice I&#39;d recommend refactoring your code:\r\n\r\n    double determinant = a11 * a22 - a12 * a21;\r\n    double firstSolution = (b1 * a22 - b2 * a12) / determinant;\r\n    double secondSolution = (b2 * a11 - b1 * a21) / determinant;\r\n\r\nThis works in the same way, but now there is an *implicit* cast to double. This conversion from `int` to `double` is an example of a [widening primitive conversion][1].\r\n\r\n[1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2","title":"I need to convert an int variable to double","body":"<p>You have to cast one (or both) of the arguments to the division operator to <code>double</code>:</p>\n\n<pre><code>double firstSolution = (b1 * a22 - b2 * a12) / (double)(a11 * a22 - a12 * a21);\n</code></pre>\n\n<p>Since you are performing the same calculation twice I'd recommend refactoring your code:</p>\n\n<pre><code>double determinant = a11 * a22 - a12 * a21;\ndouble firstSolution = (b1 * a22 - b2 * a12) / determinant;\ndouble secondSolution = (b2 * a11 - b1 * a21) / determinant;\n</code></pre>\n\n<p>This works in the same way, but now there is an <em>implicit</em> cast to double. This conversion from <code>int</code> to <code>double</code> is an example of a <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2\" rel=\"noreferrer\">widening primitive conversion</a>.</p>\n"},{"tags":[],"owner":{"account_id":486032,"reputation":1149,"user_id":902691,"accept_rate":60,"display_name":"user902691"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1352211582,"creation_date":1352211582,"answer_id":13252948,"question_id":13252903,"body_markdown":"I think you should casting variable or use `Integer` class by call out method `doubleValue()`.","title":"I need to convert an int variable to double","body":"<p>I think you should casting variable or use <code>Integer</code> class by call out method <code>doubleValue()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1932818,"reputation":46083,"user_id":1741864,"display_name":"sampson-chen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1352211666,"creation_date":1352211666,"answer_id":13252975,"question_id":13252903,"body_markdown":"Either use casting as others have already said, or multiply one of the int variables by `1.0`:\r\n\r\n    double firstSolution = ((1.0* b1 * a22 - b2 * a12) / (a11 * a22 - a12 * a21));","title":"I need to convert an int variable to double","body":"<p>Either use casting as others have already said, or multiply one of the int variables by <code>1.0</code>:</p>\n\n<pre><code>double firstSolution = ((1.0* b1 * a22 - b2 * a12) / (a11 * a22 - a12 * a21));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":915710,"reputation":30634,"user_id":948550,"accept_rate":93,"display_name":"Reut Sharabani"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1654228288,"creation_date":1352211808,"answer_id":13253018,"question_id":13252903,"body_markdown":"Converting to double can be done by [casting][1] an int to a double:\r\n\r\nYou can convert an int to a double by using this mechanism like so:\r\n\r\n    int i = 3; // i is 3\r\n    double d = (double) i; // d = 3.0\r\n\r\nAlternative (using Java&#39;s automatic type recognition):\r\n    \r\n    double d = 1.0 * i; // d = 3.0\r\n\r\nImplementing this in your code would be something like:\r\n\r\n    double firstSolution = ((double)(b1 * a22 - b2 * a12) / (double)(a11 * a22 - a12 * a21));\r\n    double secondSolution = ((double)(b2 * a11 - b1 * a21) / (double)(a11 * a22 - a12 * a21));\r\n\r\nAlternatively you can use a hard-parameter of type double (1.0) to have java to the work for you, like so:\r\n\r\n    double firstSolution = ((1.0 * (b1 * a22 - b2 * a12)) / (1.0 * (a11 * a22 - a12 * a21)));\r\n    double secondSolution = ((1.0 * (b2 * a11 - b1 * a21)) / (1.0 * (a11 * a22 - a12 * a21)));\r\n\r\n  [1]: https://stackoverflow.com/questions/5289393/casting-variables-in-java","title":"I need to convert an int variable to double","body":"<p>Converting to double can be done by <a href=\"https://stackoverflow.com/questions/5289393/casting-variables-in-java\">casting</a> an int to a double:</p>\n<p>You can convert an int to a double by using this mechanism like so:</p>\n<pre><code>int i = 3; // i is 3\ndouble d = (double) i; // d = 3.0\n</code></pre>\n<p>Alternative (using Java's automatic type recognition):</p>\n<pre><code>double d = 1.0 * i; // d = 3.0\n</code></pre>\n<p>Implementing this in your code would be something like:</p>\n<pre><code>double firstSolution = ((double)(b1 * a22 - b2 * a12) / (double)(a11 * a22 - a12 * a21));\ndouble secondSolution = ((double)(b2 * a11 - b1 * a21) / (double)(a11 * a22 - a12 * a21));\n</code></pre>\n<p>Alternatively you can use a hard-parameter of type double (1.0) to have java to the work for you, like so:</p>\n<pre><code>double firstSolution = ((1.0 * (b1 * a22 - b2 * a12)) / (1.0 * (a11 * a22 - a12 * a21)));\ndouble secondSolution = ((1.0 * (b2 * a11 - b1 * a21)) / (1.0 * (a11 * a22 - a12 * a21)));\n</code></pre>\n"}],"owner":{"account_id":1777185,"reputation":2340,"user_id":1620743,"accept_rate":62,"display_name":"Samuel E."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589485,"favorite_count":0,"down_vote_count":7,"up_vote_count":76,"closed_date":1580453147,"accepted_answer_id":13252940,"answer_count":4,"score":69,"last_activity_date":1654228288,"creation_date":1352211448,"question_id":13252903,"body_markdown":"My friend is trying to make some kind of calculation as a task for class, and he&#39;s having some trouble.\r\n\r\nThe problem is that he gets an input from the user as int (it has to be, it&#39;s a part of the task). He is trying to convert it to double in the code below, but this doesn&#39;t work. The results are int anyway.\r\n\r\n    double firstSolution = ((b1 * a22 - b2 * a12) / (a11 * a22 - a12 * a21));\r\n    double secondSolution = ((b2 * a11 - b1 * a21) / (a11 * a22 - a12 * a21));","title":"I need to convert an int variable to double","body":"<p>My friend is trying to make some kind of calculation as a task for class, and he's having some trouble.</p>\n<p>The problem is that he gets an input from the user as int (it has to be, it's a part of the task). He is trying to convert it to double in the code below, but this doesn't work. The results are int anyway.</p>\n<pre><code>double firstSolution = ((b1 * a22 - b2 * a12) / (a11 * a22 - a12 * a21));\ndouble secondSolution = ((b2 * a11 - b1 * a21) / (a11 * a22 - a12 * a21));\n</code></pre>\n"},{"tags":["java","spring-security","authorization","single-sign-on","keycloak"],"answers":[{"tags":[],"owner":{"account_id":22140903,"reputation":105,"user_id":16390946,"display_name":"Ion Ionets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654228078,"creation_date":1654227739,"answer_id":72484468,"question_id":72461921,"body_markdown":"Hardcoding the roles checking inside the service is not a best practice, it&#39;s a common approach to divide role based functionalities by API like:\r\n\r\n    api/v1/admin/**, api/v1/user/**\r\n\r\nUsing this you can restrict the access to API by roles:\r\n\r\n  \r\n\r\n     http.authorizeExchange()\r\n                                .pathMatchers(&quot;your_endpoint&quot;).hasAnyRole(&quot;desired_role&quot;);\r\n\r\n**PS** Please pay attention that keycloak adds the &quot;ROLE_&quot; prefix to the rolename, so you can \r\n\r\n \r\n\r\n - use ROLE_admin, ROLE_user in your configuration\r\n\r\n\r\nor\r\n \r\n\r\n - use role names without &quot;ROLE_&quot; prefix (admin, user), and implement the JWT auth converter(example for Reactive (webFlux), you can do similar for Tomcat):\r\n \r\n\r\n  \r\n\r\n :\r\n  \r\n    Converter&lt;Jwt, ? extends Mono&lt;? extends AbstractAuthenticationToken&gt;&gt; getJwtAuthenticationConverter() {var converter = new ReactiveJwtAuthenticationConverter();\r\n    converter.setJwtGrantedAuthoritiesConverter(jwt -&gt; {\r\n        Map&lt;String, Object&gt; realmAccess = jwt.getClaim(&quot;realm_access&quot;);\r\n        Collection&lt;String&gt; roles = (Collection&lt;String&gt;) realmAccess.get(&quot;roles&quot;);\r\n        return Flux.fromIterable(roles.stream()\r\n                .map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + role))\r\n                        .toList());\r\n    });\r\n    return converter;\r\n}","title":"How to get user roles from KeyCloak?","body":"<p>Hardcoding the roles checking inside the service is not a best practice, it's a common approach to divide role based functionalities by API like:</p>\n<pre><code>api/v1/admin/**, api/v1/user/**\n</code></pre>\n<p>Using this you can restrict the access to API by roles:</p>\n<pre><code> http.authorizeExchange()\n                            .pathMatchers(&quot;your_endpoint&quot;).hasAnyRole(&quot;desired_role&quot;);\n</code></pre>\n<p><strong>PS</strong> Please pay attention that keycloak adds the &quot;ROLE_&quot; prefix to the rolename, so you can</p>\n<ul>\n<li>use ROLE_admin, ROLE_user in your configuration</li>\n</ul>\n<p>or</p>\n<ul>\n<li>use role names without &quot;ROLE_&quot; prefix (admin, user), and implement the JWT auth converter(example for Reactive (webFlux), you can do similar for Tomcat):</li>\n</ul>\n<p>:</p>\n<pre><code>Converter&lt;Jwt, ? extends Mono&lt;? extends AbstractAuthenticationToken&gt;&gt; getJwtAuthenticationConverter() {var converter = new ReactiveJwtAuthenticationConverter();\nconverter.setJwtGrantedAuthoritiesConverter(jwt -&gt; {\n    Map&lt;String, Object&gt; realmAccess = jwt.getClaim(&quot;realm_access&quot;);\n    Collection&lt;String&gt; roles = (Collection&lt;String&gt;) realmAccess.get(&quot;roles&quot;);\n    return Flux.fromIterable(roles.stream()\n            .map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + role))\n                    .toList());\n});\nreturn converter;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":16854213,"reputation":173,"user_id":12186398,"display_name":"Mari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1808,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654228078,"creation_date":1654086572,"question_id":72461921,"body_markdown":"I am trying to implement SSO in our app using keycloak-spring-security-adapter. The logging itself is working fine, but inside the app we have modules availability based on user roles/groups and i am not able to get user roles from SecurityContext to show users only what they should see.\r\n\r\n        SecurityContext context = SecurityContextHolder.getContext();\r\n        if(context.getAuthentication() != null) {\r\n            KeycloakPrincipal principal = (KeycloakPrincipal) context.getAuthentication().getPrincipal();\r\n            KeycloakSecurityContext session = principal.getKeycloakSecurityContext();\r\n            AccessToken accessToken = session.getToken();\r\n            AccessToken.Access realmAccess = accessToken.getRealmAccess();\r\n\r\n            logger.info(&quot;KEYCLOAK ROLES: &quot; + realmAccess.getRoles());\r\n\r\nabove logger for my user always gives this:\r\n\r\n    KEYCLOAK ROLES: [offline_access, uma_authorization]\r\n\r\nAnd these are not the roles registered in keycloak server, because the one used for authenticating my user is:\r\n\r\n    GSAP_APPLICATION_SUPPORT\r\n\r\nI am not able to log into the app with user that is not a member of any keycloak-registered groups so thats why i know this process works fine.\r\n\r\nIs there a way of getting list of current user roles from keycloak based on userId/token?","title":"How to get user roles from KeyCloak?","body":"<p>I am trying to implement SSO in our app using keycloak-spring-security-adapter. The logging itself is working fine, but inside the app we have modules availability based on user roles/groups and i am not able to get user roles from SecurityContext to show users only what they should see.</p>\n<pre><code>    SecurityContext context = SecurityContextHolder.getContext();\n    if(context.getAuthentication() != null) {\n        KeycloakPrincipal principal = (KeycloakPrincipal) context.getAuthentication().getPrincipal();\n        KeycloakSecurityContext session = principal.getKeycloakSecurityContext();\n        AccessToken accessToken = session.getToken();\n        AccessToken.Access realmAccess = accessToken.getRealmAccess();\n\n        logger.info(&quot;KEYCLOAK ROLES: &quot; + realmAccess.getRoles());\n</code></pre>\n<p>above logger for my user always gives this:</p>\n<pre><code>KEYCLOAK ROLES: [offline_access, uma_authorization]\n</code></pre>\n<p>And these are not the roles registered in keycloak server, because the one used for authenticating my user is:</p>\n<pre><code>GSAP_APPLICATION_SUPPORT\n</code></pre>\n<p>I am not able to log into the app with user that is not a member of any keycloak-registered groups so thats why i know this process works fine.</p>\n<p>Is there a way of getting list of current user roles from keycloak based on userId/token?</p>\n"},{"tags":["java","docker","selenium","selenium-webdriver","webdrivermanager-java"],"answers":[{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654227871,"creation_date":1654227871,"answer_id":72484477,"question_id":72462980,"body_markdown":"The problem is the argument `--user-data-dir=/home/seluser/.config/google-chrome/Default`. As explained in the [doc][1], WebDriverManager uses the Aerokube&#39;s Docker images. That path is available in the docker-images, but not in Aerokube&#39;s. You can drop that argument or change it to the following:\r\n\r\n```\r\noptions.addArguments(&quot;--user-data-dir=/home/selenium/.config/google-chrome/Default&quot;);\r\n```\r\n\r\n\r\n  [1]: https://bonigarcia.dev/webdrivermanager/#browsers-in-docker","title":"How to use chrome profile when using browserInDocker with WebDriverManager?","body":"<p>The problem is the argument <code>--user-data-dir=/home/seluser/.config/google-chrome/Default</code>. As explained in the <a href=\"https://bonigarcia.dev/webdrivermanager/#browsers-in-docker\" rel=\"nofollow noreferrer\">doc</a>, WebDriverManager uses the Aerokube's Docker images. That path is available in the docker-images, but not in Aerokube's. You can drop that argument or change it to the following:</p>\n<pre><code>options.addArguments(&quot;--user-data-dir=/home/selenium/.config/google-chrome/Default&quot;);\n</code></pre>\n"}],"owner":{"account_id":25446629,"reputation":1,"user_id":19248748,"display_name":"xMH85x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654227915,"creation_date":1654091339,"question_id":72462980,"body_markdown":"I&#39;m using webdrivermanager with browserInDocker() for my test automation framework. So far it works great. But now I have trouble trying to use a chrome profile.\r\nUsually, when I use selenium webdriver, I simply can set a ChromeOption and it works.\r\n\r\nHow can I use it with browserInDocker()?\r\n\r\nI tried the following code: \r\n\r\n```\r\npublic void setupBrowserInDockerWithProfile() {\r\n   ChromeOptions options = new ChromeOptions();\r\n   options.addArguments(&quot;--user-data-dir=/home/seluser/.config/google-chrome/Default&quot;);\r\n   driver = WebDriverManager\r\n             .chromedriver()\r\n             .capabilities(options)\r\n             .browserInDocker()\r\n             .dockerVolumes(&quot;/var/lib/docker/volumes/chromeprofile/_data:/home/seluser/.config/google-chrome/Default&quot;)\r\n             .create();\r\n   driver.manage().window().maximize();\r\n   driver.get(APP_URL);\r\n}\r\n```\r\n\r\nI tried it with and without a docker volume, but I&#39;m not even sure if I use it right. I&#39;m searching for days now, but could&#39;t find a solution yet.\r\n ","title":"How to use chrome profile when using browserInDocker with WebDriverManager?","body":"<p>I'm using webdrivermanager with browserInDocker() for my test automation framework. So far it works great. But now I have trouble trying to use a chrome profile.\nUsually, when I use selenium webdriver, I simply can set a ChromeOption and it works.</p>\n<p>How can I use it with browserInDocker()?</p>\n<p>I tried the following code:</p>\n<pre><code>public void setupBrowserInDockerWithProfile() {\n   ChromeOptions options = new ChromeOptions();\n   options.addArguments(&quot;--user-data-dir=/home/seluser/.config/google-chrome/Default&quot;);\n   driver = WebDriverManager\n             .chromedriver()\n             .capabilities(options)\n             .browserInDocker()\n             .dockerVolumes(&quot;/var/lib/docker/volumes/chromeprofile/_data:/home/seluser/.config/google-chrome/Default&quot;)\n             .create();\n   driver.manage().window().maximize();\n   driver.get(APP_URL);\n}\n</code></pre>\n<p>I tried it with and without a docker volume, but I'm not even sure if I use it right. I'm searching for days now, but could't find a solution yet.</p>\n"},{"tags":["java","php","android","openssl"],"comments":[{"owner":{"account_id":1168163,"reputation":1543,"user_id":1145976,"accept_rate":97,"display_name":"shanwu"},"score":0,"creation_date":1368194839,"post_id":16370046,"comment_id":122986625,"body_markdown":"Until now I haven&#39;t find a solution to fix this problem, but I find a way to work around it instead of solving this problem. If you have the same question and doesn&#39;t have enough time to solve this problem too, please reference [this stackoverflow question link](https://stackoverflow.com/questions/8763260/verify-sha1withrsa-signature-generated-in-java-android-with-phpseclib). It has the RSA algo solution whose signature and public key were generated from android APP and verify with php. However, if anyone provides me with the solution to this question, I will appreciate it.","body":"Until now I haven&#39;t find a solution to fix this problem, but I find a way to work around it instead of solving this problem. If you have the same question and doesn&#39;t have enough time to solve this problem too, please reference <a href=\"https://stackoverflow.com/questions/8763260/verify-sha1withrsa-signature-generated-in-java-android-with-phpseclib\">this stackoverflow question link</a>. It has the RSA algo solution whose signature and public key were generated from android APP and verify with php. However, if anyone provides me with the solution to this question, I will appreciate it."}],"answers":[{"tags":[],"owner":{"account_id":1852643,"reputation":12660,"user_id":1678858,"display_name":"gtrig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1368680899,"creation_date":1368680899,"answer_id":16579370,"question_id":16370046,"body_markdown":"I see a few potential issues in the code above.\r\n\r\nFirst, according to the [PHP documentation][1], you want to use openssl_get_publickey on an X509 certificate or a private key.  Public key is not listed as an option.  \r\n\r\nSecond, you want to do an fread of the file into a variable and then use that variable in the openssl_get_publickey method.  See below:\r\n\r\n    $fp = fopen(&quot;./cert.pem&quot;, &quot;r&quot;);\r\n    $cert = fread($fp, 8192);\r\n    fclose($fp);\r\n    $key = openssl_get_publickey($cert);\r\n\r\nThird, $bsig isn&#39;t declared or defined anywhere.\r\n\r\n\r\n  [1]: http://www.php.net/manual/en/function.openssl-pkey-get-public.php","title":"use PHP openssl_verify() function to verify Signature and data created by Android Client APP","body":"<p>I see a few potential issues in the code above.</p>\n\n<p>First, according to the <a href=\"http://www.php.net/manual/en/function.openssl-pkey-get-public.php\" rel=\"nofollow\">PHP documentation</a>, you want to use openssl_get_publickey on an X509 certificate or a private key.  Public key is not listed as an option.  </p>\n\n<p>Second, you want to do an fread of the file into a variable and then use that variable in the openssl_get_publickey method.  See below:</p>\n\n<pre><code>$fp = fopen(\"./cert.pem\", \"r\");\n$cert = fread($fp, 8192);\nfclose($fp);\n$key = openssl_get_publickey($cert);\n</code></pre>\n\n<p>Third, $bsig isn't declared or defined anywhere.</p>\n"}],"owner":{"account_id":1168163,"reputation":1543,"user_id":1145976,"accept_rate":97,"display_name":"shanwu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8230,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":16579370,"answer_count":1,"score":4,"last_activity_date":1654226887,"creation_date":1367635068,"question_id":16370046,"body_markdown":"I read about post on [`openssl_verify()`][1]\r\n\r\nI would like to ask some questions which relates to `openssl_verify()`.\r\n\r\nBecause my PHP code fails to verify signature created from Java...\r\n\r\nFor server side, here&#39;s my PHP code\r\n\r\n    &lt;?php\r\n    $data =$_POST[&#39;data&#39;];\r\n    $signature=$_POST[&#39;sig&#39;];\r\n    $pub_key=$_POST[&#39;pubkey&#39;];\r\n    \r\n    function print_input()\r\n    {\r\n        global $data;\r\n        global $signature;\r\n        global $pub_key;\r\n    ////////////////////////////////////////////////////////////////\r\n    // I output the public key to file, and check it to make sure they\r\n    // are in correct pem format.\r\n    ///////////////////////////////////////////////////////////////\r\n    $f=fopen(&quot;./Personnel_Pubkey/pubkey.pem&quot;, &quot;w&quot;);\r\n    fwrite($f,&quot;$pub_key&quot;);\r\n    fclose($f);\r\n    $key = openssl_pkey_get_public (&quot;./Personnel_Pubkey/pubkey.pem&quot;);\r\n    \r\n    // doesn&#39;t work if you use PEM format public key, only works with X.509 format\r\n    // certificate, and cert and private key in PEM format.\r\n    $result=openssl_public_decrypt ( $signature, $data, $key);\r\n\r\n    ////////////////////////////////////////////////////////////////\r\n    $sig=base64_decode($signature);\r\n    \r\n    // for some reason, the value of $ok is always 0\r\n    $ok = openssl_verify($data, $sig, $key);\r\n\r\n    if ($ok == 1) {\r\n        echo &quot;good&quot;;\r\n    } \r\n    elseif ($ok == 0) {\r\n        echo &quot;bad&quot;;} \r\n    else {\r\n        echo &quot;ugly, error checking signature&quot;;\r\n        }\r\n    }\r\n\r\n    print_input();\r\n\r\n    ?&gt;\r\n\r\nFor the client Android APP, here&#39;s the related part of code:\r\n    \r\n    // create public key and private key pair\r\n    keyGen = KeyPairGenerator.getInstance(&quot;DSA&quot;);\r\n    SecureRandom random = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n    keyGen.initialize(1024, random);\r\n\t\t\t\r\n    // Generate the Pair of Keys The final step is to generate the key pair \r\n    // and to store the keys in PrivateKey  and PublicKey objects.\r\n    pair = keyGen.generateKeyPair();\r\n    priv = pair.getPrivate();\r\n    pub = pair.getPublic();\r\n                       \r\n    // Change to PEM format from original openssl format    \r\n    stringWriter = new StringWriter();\r\n    PEMWriter pemWriter = new PEMWriter(stringWriter);  \r\n    pemWriter.writeObject( pair.getPublic());\r\n    pemWriter.close();\r\n\r\n    // initialize  the signature\r\n    sig = Signature.getInstance(&quot;SHA1withDSA&quot;); \r\n    sig.initSign(priv);\r\n    \r\n    // this is the original data     \r\n    String msg = &quot;original msg&quot;;\r\n                         \r\n\r\n    OriginalMsgByteArray = msg.getBytes();\r\n          \r\n    // put original data to signature\r\n    sig.update(OriginalMsgByteArray);\r\n\r\n    // sign the data, and get the byte array of signature \r\n    byte[] realSig = sig.sign();\r\n\r\n    // change the binary to base64 format\r\n    signatureB = new String(Base64.encode(realSig));\r\n\r\n\r\nBasically, I upload `msg`, `signatureB`, and `stringWriter.toString()` these 3 parameters to the PHP server, but it seems doesn&#39;t work.... here&#39;s my PEM file content:\r\n\r\n    -----BEGIN PUBLIC KEY-----\r\n    MIIBtzCCASsGByqGSM44BAEwggEeAoGBAJ6ZIDqo1sh4pVzK8kUUA8SPxWva3sVH\r\n    hrK0D86q+xpD11qhzlw28vLnZNLSq7MaPyUNKRLZL2D3x/e4fkILf7IBh6BdfOlo\r\n    dI3CtAQ5Xqfw0aU8UZ35H8HlkrvrTu3qw/Ilb9wcc8Ag9C73TzuG6URK65fgvPK2\r\n    oN9MdDlVJztNAhUAkI2VBs/8eHWoG7RBCyTqyVyCwXMCgYBFj9BXduZIhDBGkoub\r\n    bLwGWI6zkmC8Xel1jsRFFaRtPVS08li+SQ/XSzekidY6NP3lmYwj/kC9biG9x3mW\r\n    c5hELzOVGvLM94y1KksGC+v89M99Tlrx4zVqpajRCFDyPzJQWB/HO493q6J4HwmP\r\n    1/ihdtk5THRGmPkx2uSgLKWlJAOBhQACgYEAirx5dLO2EG71ZFnUQ7FtU8FCVOYW\r\n    VgZRP9SLqH8Ig5nnwmg5XFSpngzNvQ8FcWRKZkKFxYoo2j7lmQN9gl5O5cKPtuqj\r\n    KecFAJA4/0y3jPzM/+1dTizM6n3WLReH2xlS6OOY5EZQmpWB//qepgTT9GUGPyOL\r\n    ampB86OjNSicv0Y=\r\n    -----END PUBLIC KEY-----\r\n\r\n\r\n  [1]: http://php.net/manual/en/function.openssl-verify.php.","title":"use PHP openssl_verify() function to verify Signature and data created by Android Client APP","body":"<p>I read about post on <a href=\"http://php.net/manual/en/function.openssl-verify.php.\" rel=\"nofollow\"><code>openssl_verify()</code></a></p>\n\n<p>I would like to ask some questions which relates to <code>openssl_verify()</code>.</p>\n\n<p>Because my PHP code fails to verify signature created from Java...</p>\n\n<p>For server side, here's my PHP code</p>\n\n<pre><code>&lt;?php\n$data =$_POST['data'];\n$signature=$_POST['sig'];\n$pub_key=$_POST['pubkey'];\n\nfunction print_input()\n{\n    global $data;\n    global $signature;\n    global $pub_key;\n////////////////////////////////////////////////////////////////\n// I output the public key to file, and check it to make sure they\n// are in correct pem format.\n///////////////////////////////////////////////////////////////\n$f=fopen(\"./Personnel_Pubkey/pubkey.pem\", \"w\");\nfwrite($f,\"$pub_key\");\nfclose($f);\n$key = openssl_pkey_get_public (\"./Personnel_Pubkey/pubkey.pem\");\n\n// doesn't work if you use PEM format public key, only works with X.509 format\n// certificate, and cert and private key in PEM format.\n$result=openssl_public_decrypt ( $signature, $data, $key);\n\n////////////////////////////////////////////////////////////////\n$sig=base64_decode($signature);\n\n// for some reason, the value of $ok is always 0\n$ok = openssl_verify($data, $sig, $key);\n\nif ($ok == 1) {\n    echo \"good\";\n} \nelseif ($ok == 0) {\n    echo \"bad\";} \nelse {\n    echo \"ugly, error checking signature\";\n    }\n}\n\nprint_input();\n\n?&gt;\n</code></pre>\n\n<p>For the client Android APP, here's the related part of code:</p>\n\n<pre><code>// create public key and private key pair\nkeyGen = KeyPairGenerator.getInstance(\"DSA\");\nSecureRandom random = SecureRandom.getInstance(\"SHA1PRNG\");\nkeyGen.initialize(1024, random);\n\n// Generate the Pair of Keys The final step is to generate the key pair \n// and to store the keys in PrivateKey  and PublicKey objects.\npair = keyGen.generateKeyPair();\npriv = pair.getPrivate();\npub = pair.getPublic();\n\n// Change to PEM format from original openssl format    \nstringWriter = new StringWriter();\nPEMWriter pemWriter = new PEMWriter(stringWriter);  \npemWriter.writeObject( pair.getPublic());\npemWriter.close();\n\n// initialize  the signature\nsig = Signature.getInstance(\"SHA1withDSA\"); \nsig.initSign(priv);\n\n// this is the original data     \nString msg = \"original msg\";\n\n\nOriginalMsgByteArray = msg.getBytes();\n\n// put original data to signature\nsig.update(OriginalMsgByteArray);\n\n// sign the data, and get the byte array of signature \nbyte[] realSig = sig.sign();\n\n// change the binary to base64 format\nsignatureB = new String(Base64.encode(realSig));\n</code></pre>\n\n<p>Basically, I upload <code>msg</code>, <code>signatureB</code>, and <code>stringWriter.toString()</code> these 3 parameters to the PHP server, but it seems doesn't work.... here's my PEM file content:</p>\n\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIIBtzCCASsGByqGSM44BAEwggEeAoGBAJ6ZIDqo1sh4pVzK8kUUA8SPxWva3sVH\nhrK0D86q+xpD11qhzlw28vLnZNLSq7MaPyUNKRLZL2D3x/e4fkILf7IBh6BdfOlo\ndI3CtAQ5Xqfw0aU8UZ35H8HlkrvrTu3qw/Ilb9wcc8Ag9C73TzuG6URK65fgvPK2\noN9MdDlVJztNAhUAkI2VBs/8eHWoG7RBCyTqyVyCwXMCgYBFj9BXduZIhDBGkoub\nbLwGWI6zkmC8Xel1jsRFFaRtPVS08li+SQ/XSzekidY6NP3lmYwj/kC9biG9x3mW\nc5hELzOVGvLM94y1KksGC+v89M99Tlrx4zVqpajRCFDyPzJQWB/HO493q6J4HwmP\n1/ihdtk5THRGmPkx2uSgLKWlJAOBhQACgYEAirx5dLO2EG71ZFnUQ7FtU8FCVOYW\nVgZRP9SLqH8Ig5nnwmg5XFSpngzNvQ8FcWRKZkKFxYoo2j7lmQN9gl5O5cKPtuqj\nKecFAJA4/0y3jPzM/+1dTizM6n3WLReH2xlS6OOY5EZQmpWB//qepgTT9GUGPyOL\nampB86OjNSicv0Y=\n-----END PUBLIC KEY-----\n</code></pre>\n"},{"tags":["java","eclipse","macos","jar"],"comments":[{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1376840606,"post_id":18300815,"comment_id":26851897,"body_markdown":"Have you tried cleaning and rebuilding?","body":"Have you tried cleaning and rebuilding?"},{"owner":{"account_id":250344,"reputation":3620,"user_id":526995,"accept_rate":94,"display_name":"Andy"},"score":0,"creation_date":1376840710,"post_id":18300815,"comment_id":26851930,"body_markdown":"Don&#39;t think so... How do I do that?","body":"Don&#39;t think so... How do I do that?"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1376840870,"post_id":18300815,"comment_id":26851989,"body_markdown":"Look in the `Project` menu","body":"Look in the <code>Project</code> menu"},{"owner":{"account_id":250344,"reputation":3620,"user_id":526995,"accept_rate":94,"display_name":"Andy"},"score":0,"creation_date":1376841095,"post_id":18300815,"comment_id":26852047,"body_markdown":"@adarshr Found it. It compiles now, thank you, would you like to add an answer so I can accept it?","body":"@adarshr Found it. It compiles now, thank you, would you like to add an answer so I can accept it?"},{"owner":{"account_id":1496452,"reputation":1,"user_id":1402271,"display_name":"Luis Gomes"},"score":0,"creation_date":1412007987,"post_id":18300815,"comment_id":40908798,"body_markdown":"This solved my problem:\r\nhttps://stackoverflow.com/questions/12126985/exporting-java-project-as-jar-file-will-complain-that-certain-java-files-aren/12435319#12435319","body":"This solved my problem:  <a href=\"https://stackoverflow.com/questions/12126985/exporting-java-project-as-jar-file-will-complain-that-certain-java-files-aren/12435319#12435319\" title=\"exporting java project as jar file will complain that certain java files aren\">stackoverflow.com/questions/12126985/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3000917,"reputation":3739,"user_id":2546444,"accept_rate":88,"display_name":"Dennis Kriechel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1416203131,"creation_date":1376840996,"answer_id":18300906,"question_id":18300815,"body_markdown":"&gt; It’s quite hateful that Eclipse always generates hidden files .project\r\n&gt; and .classpath in project folder. Sometimes you’re not aware if\r\n&gt; something goes wrong in these files.\r\n&gt; \r\n&gt; After upgrading your Eclipse and if you found the following compile\r\n&gt; error, I’d suggest you to check .classpath in your project folder.\r\n&gt; \r\n&gt; The project was not built since its build path is incomplete. Cannot\r\n&gt; find the class file for java.lang.Object. Fix the build path then try\r\n&gt; building this project\r\n&gt; \r\n&gt; Most likely you would see a line like this.\r\n&gt; \r\n\r\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/    org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/j2re1.4.2_03&quot;/&gt;\r\n\r\n \r\n\r\n&gt; The stupid Eclipse appended this for no reason. Just simply remove it\r\n&gt; to make it work again. ;)\r\n&gt; \r\n&gt; /org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/j2re1.4.2_xx\r\n\r\nSource: http://hochit.com/2006/07/06/eclipse-upgrading-problem-javalangobject-not-found/\r\n\r\nIn addition, you can check your `project settings` in eclipse. Right click on your project and choose properties. Go to Java Build Path and there should be more specific information of the problem. Most likely you set the `JDK` to an Version which doesn&#39;t exist on the new System.\r\n\r\nIf this doesn&#39;t help too, select your project and then use the menu entry `Source-&gt;Clean Up`.","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<blockquote>\n  <p>It’s quite hateful that Eclipse always generates hidden files .project\n  and .classpath in project folder. Sometimes you’re not aware if\n  something goes wrong in these files.</p>\n  \n  <p>After upgrading your Eclipse and if you found the following compile\n  error, I’d suggest you to check .classpath in your project folder.</p>\n  \n  <p>The project was not built since its build path is incomplete. Cannot\n  find the class file for java.lang.Object. Fix the build path then try\n  building this project</p>\n  \n  <p>Most likely you would see a line like this.</p>\n</blockquote>\n\n<pre><code>&lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER/    org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/j2re1.4.2_03\"/&gt;\n</code></pre>\n\n<blockquote>\n  <p>The stupid Eclipse appended this for no reason. Just simply remove it\n  to make it work again. ;)</p>\n  \n  <p>/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/j2re1.4.2_xx</p>\n</blockquote>\n\n<p>Source: <a href=\"http://hochit.com/2006/07/06/eclipse-upgrading-problem-javalangobject-not-found/\" rel=\"nofollow\">http://hochit.com/2006/07/06/eclipse-upgrading-problem-javalangobject-not-found/</a></p>\n\n<p>In addition, you can check your <code>project settings</code> in eclipse. Right click on your project and choose properties. Go to Java Build Path and there should be more specific information of the problem. Most likely you set the <code>JDK</code> to an Version which doesn't exist on the new System.</p>\n\n<p>If this doesn't help too, select your project and then use the menu entry <code>Source-&gt;Clean Up</code>.</p>\n"},{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1376841171,"creation_date":1376841171,"answer_id":18300927,"question_id":18300815,"body_markdown":"Just do a clean and/or rebuild on the project.\r\n\r\nYou can find it under the `Project` menu of Eclipse.","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<p>Just do a clean and/or rebuild on the project.</p>\n\n<p>You can find it under the <code>Project</code> menu of Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":5719828,"reputation":1,"user_id":4518614,"display_name":"sl500059"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423865368,"creation_date":1423865368,"answer_id":28509603,"question_id":18300815,"body_markdown":"I got referred here, because I had the same error.\r\nI am using maven on eclipse. I did right click on repo, chose build path-&gt;Conifgure build-&gt;Project References and checked the project references for my repo. This worked for me. ","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<p>I got referred here, because I had the same error.\nI am using maven on eclipse. I did right click on repo, chose build path->Conifgure build->Project References and checked the project references for my repo. This worked for me. </p>\n"},{"tags":[],"owner":{"account_id":4206303,"reputation":1370,"user_id":3445110,"accept_rate":55,"display_name":"RCS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424932458,"creation_date":1424932458,"answer_id":28735954,"question_id":18300815,"body_markdown":"I was also getting the same error. In my case problem was, I had put same jar multiple times once through &quot;user library&quot; &amp; next time through &quot;build path&quot; on the same Project. Just deleted the repeated jars from the classpath &amp; got ride of the above error.","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<p>I was also getting the same error. In my case problem was, I had put same jar multiple times once through \"user library\" &amp; next time through \"build path\" on the same Project. Just deleted the repeated jars from the classpath &amp; got ride of the above error.</p>\n"},{"tags":[],"owner":{"account_id":4192977,"reputation":123,"user_id":3435140,"display_name":"Dkarode"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1458761957,"creation_date":1458761957,"answer_id":36187256,"question_id":18300815,"body_markdown":"I also had a different, degenerate case of this problem. Turned out, we had a class in our project that had a file (so Eclipse kept it on the classpath) but no actual class defined in the file (the file only had imports and a class comment... probably a merge gone wrong). Anyway, deleting the file solved the issue.","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<p>I also had a different, degenerate case of this problem. Turned out, we had a class in our project that had a file (so Eclipse kept it on the classpath) but no actual class defined in the file (the file only had imports and a class comment... probably a merge gone wrong). Anyway, deleting the file solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":420026,"reputation":95102,"user_id":797495,"accept_rate":69,"display_name":"Pedro Lobito"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478080468,"creation_date":1478080468,"answer_id":40376944,"question_id":18300815,"body_markdown":"In my case, **the classes were empty**, and the compiler whined:\r\n\r\n\r\n    Class files on classpath not found or not accessible for: &#39;ibDemo/src/com/ib/controller/LocationCode.java&#39;\r\n    Class files on classpath not found or not accessible for: &#39;ibDemo/src/com/ib/controller/PairPanel.java&#39;\r\n\r\nTo solve this I&#39;d to add a class declaration:\r\n\r\n    public class LocationCode\r\n    {\r\n    \t\r\n    }\r\n\r\nand \r\n\r\n    public class PairPanel\r\n    {\r\n    \t\r\n    }","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<p>In my case, <strong>the classes were empty</strong>, and the compiler whined:</p>\n\n<pre><code>Class files on classpath not found or not accessible for: 'ibDemo/src/com/ib/controller/LocationCode.java'\nClass files on classpath not found or not accessible for: 'ibDemo/src/com/ib/controller/PairPanel.java'\n</code></pre>\n\n<p>To solve this I'd to add a class declaration:</p>\n\n<pre><code>public class LocationCode\n{\n\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public class PairPanel\n{\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8821395,"reputation":21,"user_id":6591130,"display_name":"Mohan Kumar Kannan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504516842,"creation_date":1504500640,"answer_id":46030429,"question_id":18300815,"body_markdown":"I had the same error and after trying out multiple recommendations, nothing had worked out. So I created a new workspace and refer to this project. After that, it got successfully built and exported the JAR without errors.","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<p>I had the same error and after trying out multiple recommendations, nothing had worked out. So I created a new workspace and refer to this project. After that, it got successfully built and exported the JAR without errors.</p>\n"},{"tags":[],"owner":{"account_id":10924715,"reputation":1,"user_id":8029746,"display_name":"Vaibhav Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507805125,"creation_date":1507805125,"answer_id":46707652,"question_id":18300815,"body_markdown":"Not sure this might be the best possible solution, but do check java build path. I had it pointing to a wrong location because of which I was facing class not found error. \r\nOnce java build path was fixed, the problem was resolved.","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<p>Not sure this might be the best possible solution, but do check java build path. I had it pointing to a wrong location because of which I was facing class not found error. \nOnce java build path was fixed, the problem was resolved.</p>\n"},{"tags":[],"owner":{"account_id":1950976,"reputation":85,"user_id":1755074,"display_name":"EdwardF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536877626,"creation_date":1536877036,"answer_id":52322478,"question_id":18300815,"body_markdown":"I came here on same error.  In my case, nothing was compiling (building?) and Eclipse didn&#39;t tell me there was any issue with the build other than these cryptic messages.  I eventually unzipped the jar file and saw that it had no classes in it.  It was because because the project I referenced in my build path wasn&#39;t built.  In my case, the project would not compile in a million years, but I had access to jar files from R&amp;D dept who could and did compile it in their own way.  So I referenced those jar files instead.  Now my classes compile and the error went away.  I&#39;m sure I would have done that in the first place but &quot;Helpful&quot; Eclipse suggested for me to reference the unbuilt project so I went along with the bad suggestion!","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<p>I came here on same error.  In my case, nothing was compiling (building?) and Eclipse didn't tell me there was any issue with the build other than these cryptic messages.  I eventually unzipped the jar file and saw that it had no classes in it.  It was because because the project I referenced in my build path wasn't built.  In my case, the project would not compile in a million years, but I had access to jar files from R&amp;D dept who could and did compile it in their own way.  So I referenced those jar files instead.  Now my classes compile and the error went away.  I'm sure I would have done that in the first place but \"Helpful\" Eclipse suggested for me to reference the unbuilt project so I went along with the bad suggestion!</p>\n"},{"tags":[],"owner":{"account_id":19625757,"reputation":1,"user_id":14365114,"display_name":"Dmitry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601441027,"creation_date":1601441027,"answer_id":64131022,"question_id":18300815,"body_markdown":"I closed all tabs with files in Eclipse, and it&#39;s fixed problem.  ","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<p>I closed all tabs with files in Eclipse, and it's fixed problem.</p>\n"},{"tags":[],"owner":{"account_id":10883587,"reputation":1,"user_id":8001762,"display_name":"sharadgupta82"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654226655,"creation_date":1654226655,"answer_id":72484391,"question_id":18300815,"body_markdown":"In my case, I was getting the same problem and I noticed I mvn clean and tried to export the jar and end-up getting the same error.\r\nIt worked for me after mvn install.","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<p>In my case, I was getting the same problem and I noticed I mvn clean and tried to export the jar and end-up getting the same error.\nIt worked for me after mvn install.</p>\n"}],"owner":{"account_id":250344,"reputation":3620,"user_id":526995,"accept_rate":94,"display_name":"Andy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103606,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":18300927,"answer_count":11,"score":33,"last_activity_date":1654226655,"creation_date":1376840392,"question_id":18300815,"body_markdown":"I have a project in Eclipse that has a red cross on it and will not export to a runnable JAR. I can&#39;t remember if I have looked at it since I reinstalled Windows on my laptop, but I know that I haven&#39;t changed any code. There are no errors in any of the classes, however the error I get points to the following class that deals with the menu items on Mac OSx:\r\n\r\n    import java.lang.reflect.*;\r\n    \r\n    public class osxhandler implements InvocationHandler {\r\n    \r\n    \tprotected Object targetObject;\r\n    \tprotected Method targetMethod;\r\n    \tprotected String proxySignature;\r\n    \t    \r\n    \tstatic Object macOSXApplication;\r\n    \r\n    \t// Pass this method an Object and Method equipped to perform application shutdown logic\r\n    \t// The method passed should return a boolean stating whether or not the quit should occur\r\n    \tpublic static void setQuitHandler(Object target, Method quitHandler) {\r\n    \t    setHandler(new HOsx(&quot;handleQuit&quot;, target, quitHandler));\r\n    \t}\r\n    \t  \r\n    \t    \r\n    \tpublic static void setAboutHandler(Object target, Method aboutHandler) {\r\n            boolean enableAboutMenu = (target != null &amp;&amp; aboutHandler != null);\r\n            if (enableAboutMenu) {\r\n                setHandler(new HOsx(&quot;handleAbout&quot;, target, aboutHandler));\r\n            }\r\n            // If we&#39;re setting a handler, enable the About menu item by calling\r\n            // com.apple.eawt.Application reflectively\r\n            try {\r\n                Method enableAboutMethod = macOSXApplication.getClass().getDeclaredMethod(&quot;setEnabledAboutMenu&quot;, new Class[] { boolean.class });\r\n                enableAboutMethod.invoke(macOSXApplication, new Object[] { Boolean.valueOf(enableAboutMenu) });\r\n            } catch (Exception ex) {\r\n                System.err.println(&quot;MacOSHandler could not access the About Menu&quot;);\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    \t\r\n    \t   public static void setPreferencesHandler(Object target, Method prefsHandler) {\r\n    \t        boolean enablePrefsMenu = (target != null &amp;&amp; prefsHandler != null);\r\n    \t        if (enablePrefsMenu) {\r\n    \t            setHandler(new HOsx(&quot;handlePreferences&quot;, target, prefsHandler));\r\n    \t        }\r\n    \t        // If we&#39;re setting a handler, enable the Preferences menu item by calling\r\n    \t        // com.apple.eawt.Application reflectively\r\n    \t        try {\r\n    \t            Method enablePrefsMethod = macOSXApplication.getClass().getDeclaredMethod(&quot;setEnabledPreferencesMenu&quot;, new Class[] { boolean.class });\r\n    \t            enablePrefsMethod.invoke(macOSXApplication, new Object[] { Boolean.valueOf(enablePrefsMenu) });\r\n    \t        } catch (Exception ex) {\r\n    \t            System.err.println(&quot;MacOSHandler could not access the About Menu&quot;);\r\n    \t            ex.printStackTrace();\r\n    \t        }\r\n    \t    }\r\n    \t    \r\n    \t    // Pass this method an Object and a Method equipped to handle document events from the Finder\r\n    \t    // Documents are registered with the Finder via the CFBundleDocumentTypes dictionary in the \r\n    \t    // application bundle&#39;s Info.plist\r\n    \t    public static void setFileHandler(Object target, Method fileHandler) {\r\n    \t        setHandler(new HOsx(&quot;handleOpenFile&quot;, target, fileHandler) {\r\n    \t            // Override MacOSHandler.callTarget to send information on the\r\n    \t            // file to be opened\r\n    \t            public boolean callTarget(Object appleEvent) {\r\n    \t                if (appleEvent != null) {\r\n    \t                    try {\r\n    \t                        Method getFilenameMethod = appleEvent.getClass().getDeclaredMethod(&quot;getFilename&quot;, (Class[])null);\r\n    \t                        String filename = (String) getFilenameMethod.invoke(appleEvent, (Object[])null);\r\n    \t                        this.targetMethod.invoke(this.targetObject, new Object[] { filename });\r\n    \t                    } catch (Exception ex) {\r\n    \t                        \r\n    \t                    }\r\n    \t                }\r\n    \t                return true;\r\n    \t            }\r\n    \t        });\r\n    \t    }\r\n    \t    \r\n    \t    // setHandler creates a Proxy object from the passed MacOSHandler and adds it as an ApplicationListener\r\n    \t    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    \t\tpublic static void setHandler(HOsx adapter) {\r\n    \t        try {\r\n    \t            Class applicationClass = Class.forName(&quot;com.apple.eawt.Application&quot;);\r\n    \t            if (macOSXApplication == null) {\r\n    \t                macOSXApplication = applicationClass.getConstructor((Class[])null).newInstance((Object[])null);\r\n    \t            }\r\n    \t            Class applicationListenerClass = Class.forName(&quot;com.apple.eawt.ApplicationListener&quot;);\r\n    \t            Method addListenerMethod = applicationClass.getDeclaredMethod(&quot;addApplicationListener&quot;, new Class[] { applicationListenerClass });\r\n    \t            // Create a proxy object around this handler that can be reflectively added as an Apple ApplicationListener\r\n    \t            Object MacOSHandlerProxy = Proxy.newProxyInstance(HOsx.class.getClassLoader(), new Class[] { applicationListenerClass }, adapter);\r\n    \t            addListenerMethod.invoke(macOSXApplication, new Object[] { MacOSHandlerProxy });\r\n    \t        } catch (ClassNotFoundException cnfe) {\r\n    \t            System.err.println(&quot;This version of Mac OS X does not support the Apple EAWT.  ApplicationEvent handling has been disabled (&quot; + cnfe + &quot;)&quot;);\r\n    \t        } catch (Exception ex) {  // Likely a NoSuchMethodException or an IllegalAccessException loading/invoking eawt.Application methods\r\n    \t            System.err.println(&quot;Mac OS X Adapter could not talk to EAWT:&quot;);\r\n    \t            ex.printStackTrace();\r\n    \t        }\r\n    \t    }\r\n    \r\n    \t    // Each MacOSHandler has the name of the EAWT method it intends to listen for (handleAbout, for example),\r\n    \t    // the Object that will ultimately perform the task, and the Method to be called on that Object\r\n    \t    protected HOsx(String proxySignature, Object target, Method handler) {\r\n    \t        this.proxySignature = proxySignature;\r\n    \t        this.targetObject = target;\r\n    \t        this.targetMethod = handler;\r\n    \t    }\r\n    \t    \r\n    \t    // Override this method to perform any operations on the event \r\n    \t    // that comes with the various callbacks\r\n    \t    // See setFileHandler above for an example\r\n    \t    public boolean callTarget(Object appleEvent) throws InvocationTargetException, IllegalAccessException {\r\n    \t        Object result = targetMethod.invoke(targetObject, (Object[])null);\r\n    \t        if (result == null) {\r\n    \t            return true;\r\n    \t        }\r\n    \t        return Boolean.valueOf(result.toString()).booleanValue();\r\n    \t    }\r\n    \t    \r\n    \t    // InvocationHandler implementation\r\n    \t    // This is the entry point for our proxy object; it is called every time an ApplicationListener method is invoked\r\n    \t    public Object invoke (Object proxy, Method method, Object[] args) throws Throwable {\r\n    \t        if (isCorrectMethod(method, args)) {\r\n    \t            boolean handled = callTarget(args[0]);\r\n    \t            setApplicationEventHandled(args[0], handled);\r\n    \t        }\r\n    \t        // All of the ApplicationListener methods are void; return null regardless of what happens\r\n    \t        return null;\r\n    \t    }\r\n    \t    \r\n    \t    // Compare the method that was called to the intended method when the MacOSHandler instance was created\r\n    \t    // (e.g. handleAbout, handleQuit, handleOpenFile, etc.)\r\n    \t    protected boolean isCorrectMethod(Method method, Object[] args) {\r\n    \t        return (targetMethod != null &amp;&amp; proxySignature.equals(method.getName()) &amp;&amp; args.length == 1);\r\n    \t    }\r\n    \t    \r\n    \t    // It is important to mark the ApplicationEvent as handled and cancel the default behavior\r\n    \t    // This method checks for a boolean result from the proxy method and sets the event accordingly\r\n    \t    protected void setApplicationEventHandled(Object event, boolean handled) {\r\n    \t        if (event != null) {\r\n    \t            try {\r\n    \t                Method setHandledMethod = event.getClass().getDeclaredMethod(&quot;setHandled&quot;, new Class[] { boolean.class });\r\n    \t                // If the target method returns a boolean, use that as a hint\r\n    \t                setHandledMethod.invoke(event, new Object[] { Boolean.valueOf(handled) });\r\n    \t            } catch (Exception ex) {\r\n    \t                System.err.println(&quot;MacOSHandler was unable to handle an ApplicationEvent: &quot; + event);\r\n    \t                ex.printStackTrace();\r\n    \t            }\r\n    \t        }\r\n    \t    }\t \r\n    }\r\n\r\n\r\nAny ideas as to why I can&#39;t export/compile? I&#39;ve never had this issue before.","title":"Eclipse - JAR creation failed &quot;Class files on classpath not found or not accessible for...&quot;","body":"<p>I have a project in Eclipse that has a red cross on it and will not export to a runnable JAR. I can't remember if I have looked at it since I reinstalled Windows on my laptop, but I know that I haven't changed any code. There are no errors in any of the classes, however the error I get points to the following class that deals with the menu items on Mac OSx:</p>\n\n<pre><code>import java.lang.reflect.*;\n\npublic class osxhandler implements InvocationHandler {\n\n    protected Object targetObject;\n    protected Method targetMethod;\n    protected String proxySignature;\n\n    static Object macOSXApplication;\n\n    // Pass this method an Object and Method equipped to perform application shutdown logic\n    // The method passed should return a boolean stating whether or not the quit should occur\n    public static void setQuitHandler(Object target, Method quitHandler) {\n        setHandler(new HOsx(\"handleQuit\", target, quitHandler));\n    }\n\n\n    public static void setAboutHandler(Object target, Method aboutHandler) {\n        boolean enableAboutMenu = (target != null &amp;&amp; aboutHandler != null);\n        if (enableAboutMenu) {\n            setHandler(new HOsx(\"handleAbout\", target, aboutHandler));\n        }\n        // If we're setting a handler, enable the About menu item by calling\n        // com.apple.eawt.Application reflectively\n        try {\n            Method enableAboutMethod = macOSXApplication.getClass().getDeclaredMethod(\"setEnabledAboutMenu\", new Class[] { boolean.class });\n            enableAboutMethod.invoke(macOSXApplication, new Object[] { Boolean.valueOf(enableAboutMenu) });\n        } catch (Exception ex) {\n            System.err.println(\"MacOSHandler could not access the About Menu\");\n            ex.printStackTrace();\n        }\n    }\n\n       public static void setPreferencesHandler(Object target, Method prefsHandler) {\n            boolean enablePrefsMenu = (target != null &amp;&amp; prefsHandler != null);\n            if (enablePrefsMenu) {\n                setHandler(new HOsx(\"handlePreferences\", target, prefsHandler));\n            }\n            // If we're setting a handler, enable the Preferences menu item by calling\n            // com.apple.eawt.Application reflectively\n            try {\n                Method enablePrefsMethod = macOSXApplication.getClass().getDeclaredMethod(\"setEnabledPreferencesMenu\", new Class[] { boolean.class });\n                enablePrefsMethod.invoke(macOSXApplication, new Object[] { Boolean.valueOf(enablePrefsMenu) });\n            } catch (Exception ex) {\n                System.err.println(\"MacOSHandler could not access the About Menu\");\n                ex.printStackTrace();\n            }\n        }\n\n        // Pass this method an Object and a Method equipped to handle document events from the Finder\n        // Documents are registered with the Finder via the CFBundleDocumentTypes dictionary in the \n        // application bundle's Info.plist\n        public static void setFileHandler(Object target, Method fileHandler) {\n            setHandler(new HOsx(\"handleOpenFile\", target, fileHandler) {\n                // Override MacOSHandler.callTarget to send information on the\n                // file to be opened\n                public boolean callTarget(Object appleEvent) {\n                    if (appleEvent != null) {\n                        try {\n                            Method getFilenameMethod = appleEvent.getClass().getDeclaredMethod(\"getFilename\", (Class[])null);\n                            String filename = (String) getFilenameMethod.invoke(appleEvent, (Object[])null);\n                            this.targetMethod.invoke(this.targetObject, new Object[] { filename });\n                        } catch (Exception ex) {\n\n                        }\n                    }\n                    return true;\n                }\n            });\n        }\n\n        // setHandler creates a Proxy object from the passed MacOSHandler and adds it as an ApplicationListener\n        @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n        public static void setHandler(HOsx adapter) {\n            try {\n                Class applicationClass = Class.forName(\"com.apple.eawt.Application\");\n                if (macOSXApplication == null) {\n                    macOSXApplication = applicationClass.getConstructor((Class[])null).newInstance((Object[])null);\n                }\n                Class applicationListenerClass = Class.forName(\"com.apple.eawt.ApplicationListener\");\n                Method addListenerMethod = applicationClass.getDeclaredMethod(\"addApplicationListener\", new Class[] { applicationListenerClass });\n                // Create a proxy object around this handler that can be reflectively added as an Apple ApplicationListener\n                Object MacOSHandlerProxy = Proxy.newProxyInstance(HOsx.class.getClassLoader(), new Class[] { applicationListenerClass }, adapter);\n                addListenerMethod.invoke(macOSXApplication, new Object[] { MacOSHandlerProxy });\n            } catch (ClassNotFoundException cnfe) {\n                System.err.println(\"This version of Mac OS X does not support the Apple EAWT.  ApplicationEvent handling has been disabled (\" + cnfe + \")\");\n            } catch (Exception ex) {  // Likely a NoSuchMethodException or an IllegalAccessException loading/invoking eawt.Application methods\n                System.err.println(\"Mac OS X Adapter could not talk to EAWT:\");\n                ex.printStackTrace();\n            }\n        }\n\n        // Each MacOSHandler has the name of the EAWT method it intends to listen for (handleAbout, for example),\n        // the Object that will ultimately perform the task, and the Method to be called on that Object\n        protected HOsx(String proxySignature, Object target, Method handler) {\n            this.proxySignature = proxySignature;\n            this.targetObject = target;\n            this.targetMethod = handler;\n        }\n\n        // Override this method to perform any operations on the event \n        // that comes with the various callbacks\n        // See setFileHandler above for an example\n        public boolean callTarget(Object appleEvent) throws InvocationTargetException, IllegalAccessException {\n            Object result = targetMethod.invoke(targetObject, (Object[])null);\n            if (result == null) {\n                return true;\n            }\n            return Boolean.valueOf(result.toString()).booleanValue();\n        }\n\n        // InvocationHandler implementation\n        // This is the entry point for our proxy object; it is called every time an ApplicationListener method is invoked\n        public Object invoke (Object proxy, Method method, Object[] args) throws Throwable {\n            if (isCorrectMethod(method, args)) {\n                boolean handled = callTarget(args[0]);\n                setApplicationEventHandled(args[0], handled);\n            }\n            // All of the ApplicationListener methods are void; return null regardless of what happens\n            return null;\n        }\n\n        // Compare the method that was called to the intended method when the MacOSHandler instance was created\n        // (e.g. handleAbout, handleQuit, handleOpenFile, etc.)\n        protected boolean isCorrectMethod(Method method, Object[] args) {\n            return (targetMethod != null &amp;&amp; proxySignature.equals(method.getName()) &amp;&amp; args.length == 1);\n        }\n\n        // It is important to mark the ApplicationEvent as handled and cancel the default behavior\n        // This method checks for a boolean result from the proxy method and sets the event accordingly\n        protected void setApplicationEventHandled(Object event, boolean handled) {\n            if (event != null) {\n                try {\n                    Method setHandledMethod = event.getClass().getDeclaredMethod(\"setHandled\", new Class[] { boolean.class });\n                    // If the target method returns a boolean, use that as a hint\n                    setHandledMethod.invoke(event, new Object[] { Boolean.valueOf(handled) });\n                } catch (Exception ex) {\n                    System.err.println(\"MacOSHandler was unable to handle an ApplicationEvent: \" + event);\n                    ex.printStackTrace();\n                }\n            }\n        }    \n}\n</code></pre>\n\n<p>Any ideas as to why I can't export/compile? I've never had this issue before.</p>\n"},{"tags":["java","sockets","localhost","loopback","serversocket"],"comments":[{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":0,"creation_date":1221808815,"post_id":99020,"comment_id":16758,"body_markdown":"Where did you get the information that 127.0.0.1 can be spoofed?  I&#39;m skeptical.","body":"Where did you get the information that 127.0.0.1 can be spoofed?  I&#39;m skeptical."}],"answers":[{"tags":[],"owner":{"account_id":8203,"reputation":42026,"user_id":14648,"accept_rate":91,"display_name":"Jerub"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1221792113,"creation_date":1221792113,"answer_id":99036,"question_id":99020,"body_markdown":"Peer IP addresses cannot be spoofed in this manner, have you nothing to fear from using the technique of inspecting the peer and deciding to drop the connection during establishment.\r\n\r\nHowever: binding to 127.0.0.1 should work, and cause the operating system to tell the connecting host that there is nothing listening if they connect on one of the systems other ip addresses. Can you amend this question with a compilable example? Perhaps you&#39;ve made a simple error.","title":"How do I have a socket accept connections only from the localhost (in Java)?","body":"<p>Peer IP addresses cannot be spoofed in this manner, have you nothing to fear from using the technique of inspecting the peer and deciding to drop the connection during establishment.</p>\n\n<p>However: binding to 127.0.0.1 should work, and cause the operating system to tell the connecting host that there is nothing listening if they connect on one of the systems other ip addresses. Can you amend this question with a compilable example? Perhaps you've made a simple error.</p>\n"},{"tags":[],"owner":{"account_id":9251,"reputation":5673,"user_id":17008,"accept_rate":75,"display_name":"Steve Moyer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221792218,"creation_date":1221792218,"answer_id":99042,"question_id":99020,"body_markdown":"When you bind your ServerSocket, specifying localhost should make the TCP/IP stack reject the connection.  Even if this isn&#39;t working on your system, localhost can&#39;t (okay, maybe if someone hacked your TCP/IP stack and the default gateway router) be spoofed, since that address isn&#39;t routed through the physical interface.\r\n\r\nI am curious as to why your binding doesn&#39;t succeed, what is your OS, Java version, etc?","title":"How do I have a socket accept connections only from the localhost (in Java)?","body":"<p>When you bind your ServerSocket, specifying localhost should make the TCP/IP stack reject the connection.  Even if this isn't working on your system, localhost can't (okay, maybe if someone hacked your TCP/IP stack and the default gateway router) be spoofed, since that address isn't routed through the physical interface.</p>\n\n<p>I am curious as to why your binding doesn't succeed, what is your OS, Java version, etc?</p>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1321911583,"creation_date":1221796306,"answer_id":99430,"question_id":99020,"body_markdown":"You could, as you already seem to be doing, accept() the connection anyway then use getInetAddress() to ensure the address is an authorized one.  If not, simply close() the socket straight away. `127.0.0.1` is _not_ an address that can be spoofed.\r\n\r\nAlternatively,  you could install your own security manager which will have its checkAccept() method called with the address and port of the remote site.  Thet&#39;s a little harder - I&#39;ve never tried since the first solution has always been adequate for me.\r\n","title":"How do I have a socket accept connections only from the localhost (in Java)?","body":"<p>You could, as you already seem to be doing, accept() the connection anyway then use getInetAddress() to ensure the address is an authorized one.  If not, simply close() the socket straight away. <code>127.0.0.1</code> is <em>not</em> an address that can be spoofed.</p>\n\n<p>Alternatively,  you could install your own security manager which will have its checkAccept() method called with the address and port of the remote site.  Thet's a little harder - I've never tried since the first solution has always been adequate for me.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1221818731,"creation_date":1221818731,"answer_id":100869,"question_id":99020,"body_markdown":"If the peer address is spoofed, then there is nothing further that you can do.\r\n\r\nHowever, to spoof 127.0.0.1 is not easy. You would have to have a TCP/IP stack dumb enough to accept such a packet. There would be no way of the spoofer receiving packets back. On a good TCP/IP stack, it should not be able to guess the sequence numbers so it can&#39;t keep up with the expected conversation.","title":"How do I have a socket accept connections only from the localhost (in Java)?","body":"<p>If the peer address is spoofed, then there is nothing further that you can do.</p>\n\n<p>However, to spoof 127.0.0.1 is not easy. You would have to have a TCP/IP stack dumb enough to accept such a packet. There would be no way of the spoofer receiving packets back. On a good TCP/IP stack, it should not be able to guess the sequence numbers so it can't keep up with the expected conversation.</p>\n"},{"tags":[],"owner":{"account_id":1247114,"reputation":31,"user_id":1208324,"display_name":"Selfmade Javaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436878854,"creation_date":1329194271,"answer_id":9271782,"question_id":99020,"body_markdown":"    if (socket.getInetAddress().isLoopbackAddress()){\r\n        //Your code goes here\r\n    }","title":"How do I have a socket accept connections only from the localhost (in Java)?","body":"<pre><code>if (socket.getInetAddress().isLoopbackAddress()){\n    //Your code goes here\n}\n</code></pre>\n"}],"owner":{"display_name":"sdcoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11933,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1654226169,"creation_date":1221791938,"question_id":99020,"body_markdown":"I have a java app (not running in any application container) which listens on a ServerSocket for connections.  I would like it to only accept connections which come from localhost.  Currently, after a connection is accepted, it checks the peer IP and rejects it if it is not the loopback address, but I know that peer IP addresses can be spoofed.  So, if possible, I&#39;d prefer to bind to a socket that only listens on the loopback interface; is this possible?\r\n\r\nI&#39;ve tried a few different things (such as specifying &quot;127.0.0.1&quot; as the local address when calling bind()) with no luck.\r\n\r\n---\r\n\r\n**Update:**\r\n\r\nI&#39;m embarrassed to admit that this was all my mistake.  Our application listens on two different ports, and I was binding one to the loopback interface but testing against the other.  When I actually try to telnet to the correct port, everything works fine (i.e., binding to &quot;127.0.0.1&quot; does exactly what it&#39;s supposed to).\r\n\r\nAs for spoofing the loopback address, you guys are right.  I shouldn&#39;t have made it sound like the primary concern.  Really, the desired behavior is to only take local connections, and binding to only the local interface is a more direct way of achieving that than accepting all connections and then closing non-local ones.","title":"How do I have a socket accept connections only from the localhost (in Java)?","body":"<p>I have a java app (not running in any application container) which listens on a ServerSocket for connections.  I would like it to only accept connections which come from localhost.  Currently, after a connection is accepted, it checks the peer IP and rejects it if it is not the loopback address, but I know that peer IP addresses can be spoofed.  So, if possible, I'd prefer to bind to a socket that only listens on the loopback interface; is this possible?</p>\n<p>I've tried a few different things (such as specifying &quot;127.0.0.1&quot; as the local address when calling bind()) with no luck.</p>\n<hr />\n<p><strong>Update:</strong></p>\n<p>I'm embarrassed to admit that this was all my mistake.  Our application listens on two different ports, and I was binding one to the loopback interface but testing against the other.  When I actually try to telnet to the correct port, everything works fine (i.e., binding to &quot;127.0.0.1&quot; does exactly what it's supposed to).</p>\n<p>As for spoofing the loopback address, you guys are right.  I shouldn't have made it sound like the primary concern.  Really, the desired behavior is to only take local connections, and binding to only the local interface is a more direct way of achieving that than accepting all connections and then closing non-local ones.</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":4,"creation_date":1654117210,"post_id":60865325,"comment_id":128018205,"body_markdown":"358468 KiB is about 350 MiB. You cannot commit 1881 MiB with only 350 MiB of free space. Instead of posting *disk* usage (which is irrelevant because there&#39;s no swap) please post info about the processes using *RAM* (refer to https://www.networkworld.com/article/3516319/showing-memory-usage-in-linux-by-process-and-user.html for guidance); if a Java process is using excessive RAM please provide a heap snapshot. You may also need to pay for a larger server/allocation.\n**Edit - I see that this question is really old - why did it (specifically) get bountied?**","body":"358468 KiB is about 350 MiB. You cannot commit 1881 MiB with only 350 MiB of free space. Instead of posting <i>disk</i> usage (which is irrelevant because there&#39;s no swap) please post info about the processes using <i>RAM</i> (refer to <a href=\"https://www.networkworld.com/article/3516319/showing-memory-usage-in-linux-by-process-and-user.html\" rel=\"nofollow noreferrer\">networkworld.com/article/3516319/&hellip;</a> for guidance); if a Java process is using excessive RAM please provide a heap snapshot. You may also need to pay for a larger server/allocation. <b>Edit - I see that this question is really old - why did it (specifically) get bountied?</b>"}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654225349,"creation_date":1654223909,"answer_id":72484176,"question_id":60865325,"body_markdown":"[Java HotSpot(TM) 64-Bit Server VM warning][1] :\r\n\r\n&gt; There is insufficient memory for the Java Runtime Environment to\r\n&gt; continue.\r\n&gt; \r\n&gt; Native memory allocation (malloc) failed to allocate xxxxx bytes for\r\n&gt; committing reserved memory.\r\n&gt; \r\n&gt; **Possible reasons:**\r\n&gt; \r\n&gt;  - The system is out of physical RAM or swap space \r\n&gt;  - In 32 bit mode, the process size limit was hit\r\n&gt; \r\n&gt; **Possible solutions:**\r\n&gt; \r\n&gt;  - Reduce memory load on the system\r\n&gt;  - Increase physical memory or swap space\r\n&gt;  - Check if swap backing store is full\r\n&gt;  - Use 64 bit Java on a 64 bit OS\r\n&gt;  - Decrease Java heap size (-Xmx/-Xms)\r\n&gt;  - Decrease number of Java threads\r\n&gt;  - Decrease Java thread stack sizes (-Xss)\r\n&gt;  - Set larger code cache with -XX:ReservedCodeCacheSize=\r\n&gt; \r\n&gt;  If you are on Java 8 or later, please also see this question: [Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize][2]\r\n\r\nMore information about issue and resolutions at:\r\n\r\n[Memory problem: &#39;error=12, Not enough space&#39;][3]\r\n\r\n[Forking JVM: error=12, Cannot allocate memory or error=12, Not enough space][4]\r\n\r\n[ERROR: &quot;Java HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000aaaa0000, 178978816, 0) failed; error=Cannot allocate memory&quot;][5]\r\n\r\nOf course [Java HotSpot VM Options][6] would be useful too.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31002612/java-hotspottm-64-bit-server-vm-warning\r\n  [2]: https://stackoverflow.com/questions/22634644/java-hotspottm-64-bit-server-vm-warning-ignoring-option-maxpermsize\r\n  [3]: https://support.cloudbees.com/hc/en-us/articles/204266124-Memory-problem-error-12-Not-enough-space-\r\n  [4]: https://confluence.atlassian.com/stashkb/forking-jvm-error-12-cannot-allocate-memory-or-error-12-not-enough-space-302809889.html#:~:text=If%20you%20received%20error%3D12,allocates%20memory%20when%20executing%20processes.\r\n  [5]: https://knowledge.informatica.com/s/article/516904?language=en_US\r\n  [6]: https://www.oracle.com/java/technologies/javase/vmoptions-jsp.html","title":"Java HotSpot(TM) 64-Bit Server VM warning: failed; error=&#39;Not enough space&#39; (errno=12)","body":"<p><a href=\"https://stackoverflow.com/questions/31002612/java-hotspottm-64-bit-server-vm-warning\">Java HotSpot(TM) 64-Bit Server VM warning</a> :</p>\n<blockquote>\n<p>There is insufficient memory for the Java Runtime Environment to\ncontinue.</p>\n<p>Native memory allocation (malloc) failed to allocate xxxxx bytes for\ncommitting reserved memory.</p>\n<p><strong>Possible reasons:</strong></p>\n<ul>\n<li>The system is out of physical RAM or swap space</li>\n<li>In 32 bit mode, the process size limit was hit</li>\n</ul>\n<p><strong>Possible solutions:</strong></p>\n<ul>\n<li>Reduce memory load on the system</li>\n<li>Increase physical memory or swap space</li>\n<li>Check if swap backing store is full</li>\n<li>Use 64 bit Java on a 64 bit OS</li>\n<li>Decrease Java heap size (-Xmx/-Xms)</li>\n<li>Decrease number of Java threads</li>\n<li>Decrease Java thread stack sizes (-Xss)</li>\n<li>Set larger code cache with -XX:ReservedCodeCacheSize=</li>\n</ul>\n<p>If you are on Java 8 or later, please also see this question: <a href=\"https://stackoverflow.com/questions/22634644/java-hotspottm-64-bit-server-vm-warning-ignoring-option-maxpermsize\">Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize</a></p>\n</blockquote>\n<p>More information about issue and resolutions at:</p>\n<p><a href=\"https://support.cloudbees.com/hc/en-us/articles/204266124-Memory-problem-error-12-Not-enough-space-\" rel=\"nofollow noreferrer\">Memory problem: 'error=12, Not enough space'</a></p>\n<p><a href=\"https://confluence.atlassian.com/stashkb/forking-jvm-error-12-cannot-allocate-memory-or-error-12-not-enough-space-302809889.html#:%7E:text=If%20you%20received%20error%3D12,allocates%20memory%20when%20executing%20processes.\" rel=\"nofollow noreferrer\">Forking JVM: error=12, Cannot allocate memory or error=12, Not enough space</a></p>\n<p><a href=\"https://knowledge.informatica.com/s/article/516904?language=en_US\" rel=\"nofollow noreferrer\">ERROR: &quot;Java HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000aaaa0000, 178978816, 0) failed; error=Cannot allocate memory&quot;</a></p>\n<p>Of course <a href=\"https://www.oracle.com/java/technologies/javase/vmoptions-jsp.html\" rel=\"nofollow noreferrer\">Java HotSpot VM Options</a> would be useful too.</p>\n"}],"owner":{"account_id":12723552,"reputation":133,"user_id":9243034,"display_name":"Saurabh Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4406,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1654225349,"creation_date":1585219027,"question_id":60865325,"body_markdown":"**Facing below error -**  While install and running one of my own application. \r\n\r\n```\r\nJava HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x000000008a660000, 1973026816, 0) failed; error=&#39;Not enough space&#39; (errno=12)\r\n\r\nKiB Mem :  3852964 total,   358468 free,  3011660 used,   482836 buff/cache\r\n\r\nKiB Swap:        0 total,        0 free,        0 used.   515060 avail Mem \r\n```\r\n\r\n*Space allocation are as below* My system is consuming space as below details \r\n\r\n```\r\nFilesystem      Size  Used Avail Use% Mounted on\r\nudev            1.9G     0  1.9G   0% /dev\r\ntmpfs           377M   42M  335M  12% /run\r\n/dev/xvda1       97G   47G   51G  48% /\r\ntmpfs           1.9G  188K  1.9G   1% /dev/shm\r\ntmpfs           5.0M     0  5.0M   0% /run/lock\r\ntmpfs           1.9G     0  1.9G   0% /sys/fs/cgroup\r\n/dev/loop1       18M   18M     0 100% /snap/amazon-ssm-agent/1566\r\n/dev/loop2       92M   92M     0 100% /snap/core/8689\r\n/dev/loop0       90M   90M     0 100% /snap/core/8268\r\n/dev/loop3       18M   18M     0 100% /snap/amazon-ssm-agent/1480\r\ntmpfs           377M     0  377M   0% /run/user/1001\r\ntmpfs           377M   32K  377M   1% /run/user/119\r\ntmpfs           377M     0  377M   0% /run/user/1000\r\n```\r\n\r\nAny help ?","title":"Java HotSpot(TM) 64-Bit Server VM warning: failed; error=&#39;Not enough space&#39; (errno=12)","body":"<p><strong>Facing below error -</strong>  While install and running one of my own application.</p>\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x000000008a660000, 1973026816, 0) failed; error='Not enough space' (errno=12)\n\nKiB Mem :  3852964 total,   358468 free,  3011660 used,   482836 buff/cache\n\nKiB Swap:        0 total,        0 free,        0 used.   515060 avail Mem \n</code></pre>\n<p><em>Space allocation are as below</em> My system is consuming space as below details</p>\n<pre><code>Filesystem      Size  Used Avail Use% Mounted on\nudev            1.9G     0  1.9G   0% /dev\ntmpfs           377M   42M  335M  12% /run\n/dev/xvda1       97G   47G   51G  48% /\ntmpfs           1.9G  188K  1.9G   1% /dev/shm\ntmpfs           5.0M     0  5.0M   0% /run/lock\ntmpfs           1.9G     0  1.9G   0% /sys/fs/cgroup\n/dev/loop1       18M   18M     0 100% /snap/amazon-ssm-agent/1566\n/dev/loop2       92M   92M     0 100% /snap/core/8689\n/dev/loop0       90M   90M     0 100% /snap/core/8268\n/dev/loop3       18M   18M     0 100% /snap/amazon-ssm-agent/1480\ntmpfs           377M     0  377M   0% /run/user/1001\ntmpfs           377M   32K  377M   1% /run/user/119\ntmpfs           377M     0  377M   0% /run/user/1000\n</code></pre>\n<p>Any help ?</p>\n"},{"tags":["java","spring","api","exception"],"comments":[{"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"score":0,"creation_date":1654217625,"post_id":72483434,"comment_id":128044486,"body_markdown":"Your code looks like it&#39;s only calling the external API once, unless `Employee::getId` is somehow making an external request. If you are very sure that nothing is calling *your* API multiple times, it seems possible that it could be a bug in the external API. Have you attempted calling the external API via CURL, for example, and verifying that the API works at all?","body":"Your code looks like it&#39;s only calling the external API once, unless <code>Employee::getId</code> is somehow making an external request. If you are very sure that nothing is calling <i>your</i> API multiple times, it seems possible that it could be a bug in the external API. Have you attempted calling the external API via CURL, for example, and verifying that the API works at all?"},{"owner":{"account_id":13994605,"reputation":31,"user_id":10107757,"display_name":"hapless_automaton"},"score":0,"creation_date":1654218367,"post_id":72483434,"comment_id":128044577,"body_markdown":"I haven&#39;t tried calling the api using CURL, but the other methods that work all use the same call to the api as the above, just with different processing. I&#39;m not sure how/why but I think something must be calling my api multiple times for this method. I&#39;ll keep digging to see what I can come up with.","body":"I haven&#39;t tried calling the api using CURL, but the other methods that work all use the same call to the api as the above, just with different processing. I&#39;m not sure how/why but I think something must be calling my api multiple times for this method. I&#39;ll keep digging to see what I can come up with."}],"answers":[{"tags":[],"owner":{"account_id":13994605,"reputation":31,"user_id":10107757,"display_name":"hapless_automaton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654223942,"creation_date":1654223942,"answer_id":72484179,"question_id":72483434,"body_markdown":"Okay, so I got it working. I have been using postman for testing my api, and the best I can come up with is that is where the problem was. After restarting postman and recreating the request, it was successful. If you found this trying to answer a similar problem, look to your method of executing the request, it might just be the answer.","title":"429 Too Many Requests with calls to external api, but only when using a specific method","body":"<p>Okay, so I got it working. I have been using postman for testing my api, and the best I can come up with is that is where the problem was. After restarting postman and recreating the request, it was successful. If you found this trying to answer a similar problem, look to your method of executing the request, it might just be the answer.</p>\n"}],"owner":{"account_id":13994605,"reputation":31,"user_id":10107757,"display_name":"hapless_automaton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654223942,"creation_date":1654214377,"question_id":72483434,"body_markdown":"Okay, so I&#39;m learning Spring right now and I&#39;m working on a project that calls an external api and does some light processing of the info and returns the result back to my user. The problem is that for the bulk of the methods I&#39;ve created for this purpose, I have had no issues. My most recent method, which takes a list of ids as argument and returns all employees that match, keeps returning: \r\n```\r\norg.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: &quot;{&lt;EOL&gt;    &quot;message&quot;: &quot;Too Many Attempts.&quot;&lt;EOL&gt;}&quot;\r\n\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat com.example.demo.service.EmployeeServiceImpl.getListEmployeesByIds(EmployeeServiceImpl.java:50) ~[classes/:na]\r\n\tat com.example.demo.contoller.EmployeeController.getEmployeesByIdList(EmployeeController.java:39) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n```\r\nFollowing the error it leads me to my controller and service methods for the method\r\n\r\ncontoller:\r\n```\r\n    @GetMapping(value = &quot;/employees/list&quot;)\r\n    public ResponseEntity&lt;List&lt;EmployeeDTO&gt;&gt; getEmployeesByIdList(@RequestBody IDS idList) {\r\n        return new ResponseEntity&lt;&gt;(this.employeeService.getListEmployeesByIds(idList.getIds()), HttpStatus.OK);\r\n    }\r\n```\r\nservice:\r\n```\r\n    public List&lt;EmployeeDTO&gt; getListEmployeesByIds(int[] ids) {\r\n        //List&lt;Employee&gt; employees = extractEmployeesList();\r\n        EmployeeJSON empJSON = restTemplate.getForObject(EndpointConfig.employeeUrl, EmployeeJSON.class);\r\n        List&lt;Employee&gt; employees = Arrays.asList(empJSON.getData());\r\n        List&lt;EmployeeDTO&gt; responseList = new ArrayList&lt;&gt;();\r\n        for(int id : ids) {\r\n            Optional&lt;Employee&gt; empWithId = employees.stream().filter(emp -&gt; emp.getId() == id).findFirst();\r\n            if(empWithId.isPresent()) {\r\n                responseList.add(new EmployeeDTO(empWithId.get()));\r\n            }\r\n        }\r\n        return responseList;\r\n    }\r\n```\r\nNow what I don&#39;t understand, is how are these methods making too many calls? The controller calls service and service makes a single call to the external api (http://dummy.restapiexample.com/api/v1/employees) and then tries to process the result as mentioned above. What is it that I am just not seeing or understanding that would result in &quot;Too many requests&quot;. I have made calls to my other methods that work before and after attempts of calling the above with success, until I&#39;m entirely locked out for a short time, so I know its just these methods that are response, or at least that&#39;s what it appears to be. Please any advice or suggestions about how to fix this would be very helpful. ","title":"429 Too Many Requests with calls to external api, but only when using a specific method","body":"<p>Okay, so I'm learning Spring right now and I'm working on a project that calls an external api and does some light processing of the info and returns the result back to my user. The problem is that for the bulk of the methods I've created for this purpose, I have had no issues. My most recent method, which takes a list of ids as argument and returns all employees that match, keeps returning:</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: &quot;{&lt;EOL&gt;    &quot;message&quot;: &quot;Too Many Attempts.&quot;&lt;EOL&gt;}&quot;\n    at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.20.jar:5.3.20]\n    at com.example.demo.service.EmployeeServiceImpl.getListEmployeesByIds(EmployeeServiceImpl.java:50) ~[classes/:na]\n    at com.example.demo.contoller.EmployeeController.getEmployeesByIdList(EmployeeController.java:39) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n</code></pre>\n<p>Following the error it leads me to my controller and service methods for the method</p>\n<p>contoller:</p>\n<pre><code>    @GetMapping(value = &quot;/employees/list&quot;)\n    public ResponseEntity&lt;List&lt;EmployeeDTO&gt;&gt; getEmployeesByIdList(@RequestBody IDS idList) {\n        return new ResponseEntity&lt;&gt;(this.employeeService.getListEmployeesByIds(idList.getIds()), HttpStatus.OK);\n    }\n</code></pre>\n<p>service:</p>\n<pre><code>    public List&lt;EmployeeDTO&gt; getListEmployeesByIds(int[] ids) {\n        //List&lt;Employee&gt; employees = extractEmployeesList();\n        EmployeeJSON empJSON = restTemplate.getForObject(EndpointConfig.employeeUrl, EmployeeJSON.class);\n        List&lt;Employee&gt; employees = Arrays.asList(empJSON.getData());\n        List&lt;EmployeeDTO&gt; responseList = new ArrayList&lt;&gt;();\n        for(int id : ids) {\n            Optional&lt;Employee&gt; empWithId = employees.stream().filter(emp -&gt; emp.getId() == id).findFirst();\n            if(empWithId.isPresent()) {\n                responseList.add(new EmployeeDTO(empWithId.get()));\n            }\n        }\n        return responseList;\n    }\n</code></pre>\n<p>Now what I don't understand, is how are these methods making too many calls? The controller calls service and service makes a single call to the external api (<a href=\"http://dummy.restapiexample.com/api/v1/employees\" rel=\"nofollow noreferrer\">http://dummy.restapiexample.com/api/v1/employees</a>) and then tries to process the result as mentioned above. What is it that I am just not seeing or understanding that would result in &quot;Too many requests&quot;. I have made calls to my other methods that work before and after attempts of calling the above with success, until I'm entirely locked out for a short time, so I know its just these methods that are response, or at least that's what it appears to be. Please any advice or suggestions about how to fix this would be very helpful.</p>\n"},{"tags":["java","spring","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":6410870,"reputation":1740,"user_id":4970679,"display_name":"ahuemmer"},"score":2,"creation_date":1654165848,"post_id":72474653,"comment_id":128028592,"body_markdown":"A custom annotation alone won&#39;t help you solve your problem as it&#39;s just some additional data on your field. You need some kind of [validation framework](https://www.baeldung.com/javax-validation), which will parse the annotation and then apply the validation. For your case, there should be adequate examples for every framework.","body":"A custom annotation alone won&#39;t help you solve your problem as it&#39;s just some additional data on your field. You need some kind of <a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">validation framework</a>, which will parse the annotation and then apply the validation. For your case, there should be adequate examples for every framework."},{"owner":{"account_id":17071067,"reputation":67,"user_id":12351839,"display_name":"GabrieRabelo"},"score":0,"creation_date":1654168851,"post_id":72474653,"comment_id":128029585,"body_markdown":"What you are looking for is custom constraint annotation, and it will not act like a validator, will just &quot;mark&quot; your field with such rule that you want. It still needed to pass by a validator to check for that constraints. Check this article: [Creating custom constraints](https://docs.jboss.org/hibernate/validator/5.0/reference/en-US/html/validator-customconstraints.html#validator-customconstraints-errormessage)","body":"What you are looking for is custom constraint annotation, and it will not act like a validator, will just &quot;mark&quot; your field with such rule that you want. It still needed to pass by a validator to check for that constraints. Check this article: <a href=\"https://docs.jboss.org/hibernate/validator/5.0/reference/en-US/html/validator-customconstraints.html#validator-customconstraints-errormessage\" rel=\"nofollow noreferrer\">Creating custom constraints</a>"},{"owner":{"account_id":24912564,"reputation":13,"user_id":18781945,"display_name":"arsenal_random_profile"},"score":0,"creation_date":1654223704,"post_id":72474653,"comment_id":128045302,"body_markdown":"I made a mistake while asking the question, was looking for Validation framework articles and the solution given by ahuemmer","body":"I made a mistake while asking the question, was looking for Validation framework articles and the solution given by ahuemmer"}],"answers":[{"tags":[],"owner":{"account_id":24912564,"reputation":13,"user_id":18781945,"display_name":"arsenal_random_profile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654223649,"creation_date":1654223649,"answer_id":72484160,"question_id":72474653,"body_markdown":"A custom annotation alone won&#39;t help you solve your problem as it&#39;s just some additional data on your field. You need some kind of validation framework, which will parse the annotation and then apply the validation. For your case, there should be adequate examples for every framework.","title":"Custom annotation for field value","body":"<p>A custom annotation alone won't help you solve your problem as it's just some additional data on your field. You need some kind of validation framework, which will parse the annotation and then apply the validation. For your case, there should be adequate examples for every framework.</p>\n"}],"owner":{"account_id":24912564,"reputation":13,"user_id":18781945,"display_name":"arsenal_random_profile"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72484160,"answer_count":1,"score":0,"last_activity_date":1654223649,"creation_date":1654165516,"question_id":72474653,"body_markdown":"I need to write a custom annotation that can act as a validator. \r\n\r\nI have a field called name that need to match [a-zA-z0-9_@]. If not I need to raise an error. \r\n\r\nI read this [custom annotation][1]\r\n article. In the I saw the example: \r\n\r\n```\r\npublic String key() default &quot;&quot;;\r\n```\r\nCan someone explain exactly what this is and how it works, as I didnt understand the explanation in the attached article. is this a method? what does this default keyword do. Can you also attach a blogpost or a source where I can study this. I am relatively new with java and do not understand this concept.\r\n\r\n \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-custom-annotation","title":"Custom annotation for field value","body":"<p>I need to write a custom annotation that can act as a validator.</p>\n<p>I have a field called name that need to match [a-zA-z0-9_@]. If not I need to raise an error.</p>\n<p>I read this <a href=\"https://www.baeldung.com/java-custom-annotation\" rel=\"nofollow noreferrer\">custom annotation</a>\narticle. In the I saw the example:</p>\n<pre><code>public String key() default &quot;&quot;;\n</code></pre>\n<p>Can someone explain exactly what this is and how it works, as I didnt understand the explanation in the attached article. is this a method? what does this default keyword do. Can you also attach a blogpost or a source where I can study this. I am relatively new with java and do not understand this concept.</p>\n"},{"tags":["java","spring-boot","maven","java-native-interface"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1654213543,"post_id":72483276,"comment_id":128043925,"body_markdown":"Please add the full stack trace of your exception to your question. I suppose that either the PATH environment variable or the `java.library.path` system property are different in the forked process.","body":"Please add the full stack trace of your exception to your question. I suppose that either the PATH environment variable or the <code>java.library.path</code> system property are different in the forked process."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1654223217,"post_id":72483276,"comment_id":128045238,"body_markdown":"I added an excerpt of the stacktrace, but when I said there were no significant differences in env and sys props, I did mean it. The PATH, java.class.path, and java.library.path were identical.","body":"I added an excerpt of the stacktrace, but when I said there were no significant differences in env and sys props, I did mean it. The PATH, java.class.path, and java.library.path were identical."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654226242,"post_id":72483276,"comment_id":128045596,"body_markdown":"In the non-forked case the JVM is getting whatever parameters are in MAVEN_OPTS, which could conceivably have some effect.","body":"In the non-forked case the JVM is getting whatever parameters are in MAVEN_OPTS, which could conceivably have some effect."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1654228242,"post_id":72483276,"comment_id":128045833,"body_markdown":"That env var is not set in either the good or bad case.","body":"That env var is not set in either the good or bad case."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":1,"creation_date":1654229903,"post_id":72483276,"comment_id":128046083,"body_markdown":"Hmm, I think I&#39;m figuring something out here. I need to do more research tomorrow. Basically, I was neglecting the fact that I have to do a &quot;System.load()&quot; of the native library, and that has to be done once per jvm. It was being done in some of the tests, but not all, which is why forking resulted in these failures.","body":"Hmm, I think I&#39;m figuring something out here. I need to do more research tomorrow. Basically, I was neglecting the fact that I have to do a &quot;System.load()&quot; of the native library, and that has to be done once per jvm. It was being done in some of the tests, but not all, which is why forking resulted in these failures."}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654223132,"creation_date":1654212617,"question_id":72483276,"body_markdown":"I work on an application that uses a Java library that interfaces with a native library. We&#39;re discovering recently that unit tests (using the spring runner) of this code are consistently failing under specific circumstances, but successful in other circumstances.\r\n\r\nWe use Java 8 and SpringBoot 2.3.12.\r\n\r\nI&#39;m currently running these tests on Windows 10.\r\nWhen I run the tests from &quot;mvn package&quot; without any special qualifications, the tests run successfully.\r\n\r\nWhen I run any of the tests in Eclipse (2022-03), I get `UnsatisfiedLinkError`, and it refers to the first method in a particular class which is defined as &quot;native&quot;.  I don&#39;t think there&#39;s anything special about the class or method, it&#39;s likely just the first one that it tries to load.\r\n\r\nI also get the exact same error when I add the following properties to my Surefire configuration:\r\n\r\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                    &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n\r\nThese force each test to run in a separate and new jvm instance.\r\n\r\nI also augmented the code that gets run to print out all of the environment variables and system properties.  I stored the results for both the &quot;good&quot; test and the &quot;bad&quot; test into separate files, and I compared them.  There were no significant differences.  Both the java.class.path and java.library.path system property values were identical, along with the PATH environment variable.  The &quot;good&quot; test had a couple of environment variables that indicated the process id.\r\n\r\nI tried running SysInternals ProcMon, and I had it filter on the name of the DLL with the native code.  I did this while running both the &quot;good&quot; and &quot;bad&quot; tests.  Both of them appeared to open the correct dll.\r\n\r\nI could use some ideas of what else to try here.\r\n\r\nIf it helps, here is an elided &quot;tail&quot; of the stacktrace (the last &quot;Caused by&quot;). The elided sections are names in our application, which aren&#39;t relevant:\r\n\r\n\tCaused by: java.lang.UnsatisfiedLinkError: com....DIGEST_MD5()I\r\n\t\tat .....DIGEST_MD5(Native Method)\r\n\t\tat .....LibraryContextNative.&lt;clinit&gt;(LibraryContextNative.java:17)\r\n\t\tat .....LibraryContext.getVersion(LibraryContext.java:730)\r\n\t\tat .....getLibraryContext(VoltageHelper.java:142)\r\n\t\tat .....&lt;init&gt;(VoltageHelper.java:99)\r\n\t\tat .....&lt;init&gt;(EncryptorVoltageHelper.java:56)\r\n\t\tat ....getInstance(EncryptorVoltageHelper.java:97)\r\n\t\tat .....getInstance(EncryptorVoltageHelper.java:136)\r\n\t\tat ....&lt;init&gt;(VoltageEncryptFilter.java:72)\r\n\t\tat ...\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\t\tat ...\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:652)\r\n\t\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:485)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1341)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1181)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n\t\tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:127)\r\n\t\tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\r\n\t\tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)\r\n\t\tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)\r\n\t\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\t\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\t\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)\r\n\t\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n\t\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n\t\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\r\n\t\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n\t\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n\t\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\t\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n\t\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n\t\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\t\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\t\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\t\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\t\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\t\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\t\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\t\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\t\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\t\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\t\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)\r\n\t\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\r\n\t\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)\r\n\t\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)\r\n\t\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)\r\n\t\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\r\n","title":"Why does running a test in a forked process make Java fail to load a native library?","body":"<p>I work on an application that uses a Java library that interfaces with a native library. We're discovering recently that unit tests (using the spring runner) of this code are consistently failing under specific circumstances, but successful in other circumstances.</p>\n<p>We use Java 8 and SpringBoot 2.3.12.</p>\n<p>I'm currently running these tests on Windows 10.\nWhen I run the tests from &quot;mvn package&quot; without any special qualifications, the tests run successfully.</p>\n<p>When I run any of the tests in Eclipse (2022-03), I get <code>UnsatisfiedLinkError</code>, and it refers to the first method in a particular class which is defined as &quot;native&quot;.  I don't think there's anything special about the class or method, it's likely just the first one that it tries to load.</p>\n<p>I also get the exact same error when I add the following properties to my Surefire configuration:</p>\n<pre><code>                &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                &lt;forkCount&gt;1&lt;/forkCount&gt;\n</code></pre>\n<p>These force each test to run in a separate and new jvm instance.</p>\n<p>I also augmented the code that gets run to print out all of the environment variables and system properties.  I stored the results for both the &quot;good&quot; test and the &quot;bad&quot; test into separate files, and I compared them.  There were no significant differences.  Both the java.class.path and java.library.path system property values were identical, along with the PATH environment variable.  The &quot;good&quot; test had a couple of environment variables that indicated the process id.</p>\n<p>I tried running SysInternals ProcMon, and I had it filter on the name of the DLL with the native code.  I did this while running both the &quot;good&quot; and &quot;bad&quot; tests.  Both of them appeared to open the correct dll.</p>\n<p>I could use some ideas of what else to try here.</p>\n<p>If it helps, here is an elided &quot;tail&quot; of the stacktrace (the last &quot;Caused by&quot;). The elided sections are names in our application, which aren't relevant:</p>\n<pre><code>Caused by: java.lang.UnsatisfiedLinkError: com....DIGEST_MD5()I\n    at .....DIGEST_MD5(Native Method)\n    at .....LibraryContextNative.&lt;clinit&gt;(LibraryContextNative.java:17)\n    at .....LibraryContext.getVersion(LibraryContext.java:730)\n    at .....getLibraryContext(VoltageHelper.java:142)\n    at .....&lt;init&gt;(VoltageHelper.java:99)\n    at .....&lt;init&gt;(EncryptorVoltageHelper.java:56)\n    at ....getInstance(EncryptorVoltageHelper.java:97)\n    at .....getInstance(EncryptorVoltageHelper.java:136)\n    at ....&lt;init&gt;(VoltageEncryptFilter.java:72)\n    at ...\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at ...\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:652)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:485)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1181)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:127)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\n</code></pre>\n"},{"tags":["java","file","opencsv"],"comments":[{"owner":{"account_id":5017056,"reputation":61,"user_id":4031657,"accept_rate":60,"display_name":"SaiCharan"},"score":0,"creation_date":1435906015,"post_id":31199753,"comment_id":50403674,"body_markdown":"done editing @sinhayash","body":"done editing @sinhayash"},{"owner":{"account_id":4296062,"reputation":2894,"user_id":3511123,"display_name":"Jozef Chocholacek"},"score":0,"creation_date":1435906039,"post_id":31199753,"comment_id":50403688,"body_markdown":"More code! What is `row`, `writer`, and `rowwrite`? How are they created? Anyway, the problem is probably that you are closing the `writer` after the first row - there is `writer.close()` in the `if (i==11)` block. As you can see, it is a bad practice to put more commands in one line.","body":"More code! What is <code>row</code>, <code>writer</code>, and <code>rowwrite</code>? How are they created? Anyway, the problem is probably that you are closing the <code>writer</code> after the first row - there is <code>writer.close()</code> in the <code>if (i==11)</code> block. As you can see, it is a bad practice to put more commands in one line."},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1435906100,"post_id":31199753,"comment_id":50403715,"body_markdown":"moreover, you&#39;re concatenating rows to the same variable `str` (or `str1`?) which means you&#39;ve the lost the information which row is which.","body":"moreover, you&#39;re concatenating rows to the same variable <code>str</code> (or <code>str1</code>?) which means you&#39;ve the lost the information which row is which."},{"owner":{"account_id":5017056,"reputation":61,"user_id":4031657,"accept_rate":60,"display_name":"SaiCharan"},"score":0,"creation_date":1435906814,"post_id":31199753,"comment_id":50404064,"body_markdown":"I edited and put more code @JozefChocholacek","body":"I edited and put more code @JozefChocholacek"},{"owner":{"account_id":5017056,"reputation":61,"user_id":4031657,"accept_rate":60,"display_name":"SaiCharan"},"score":0,"creation_date":1435906827,"post_id":31199753,"comment_id":50404074,"body_markdown":"I edited and put more code @asgs","body":"I edited and put more code @asgs"}],"answers":[{"tags":[],"owner":{"account_id":3252602,"reputation":916,"user_id":2742489,"display_name":"Ha Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1435909726,"creation_date":1435907912,"answer_id":31200868,"question_id":31199753,"body_markdown":"I saw you read and write to same file, so you should store all the row to a list and then init the writer after reader completed\r\nExp:\r\n\r\n    String[] header;\r\n\t\t\tString[] row;\r\n\t\t\tint index = 0;\r\n\t\t\t// processing the header;\r\n\t\t\theader = reader.readNext();\r\n\t\t\tfor (int i = 0; i &lt; header.length; i++) {\r\n\t\t\t\tif (header[i].equals(&quot;Card Text Listen&quot;)) {\r\n\t\t\t\t\tindex = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// processing data\r\n\t\t\twhile ((row = reader.readNext()) != null) {\r\n\t\t\t\tfor (int i = 0; i &lt; row.length; i++) {\r\n\t\t\t\t\tif (index == i) {\r\n\t\t\t\t\t\trow[i] = &quot;new value&quot;;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\twriter.writeNext(row);\r\n\t\t\t}\r\n\r\n","title":"Reading from a CSV file and writing to a new CSV file using openCSV in java","body":"<p>I saw you read and write to same file, so you should store all the row to a list and then init the writer after reader completed\nExp:</p>\n\n<pre><code>String[] header;\n        String[] row;\n        int index = 0;\n        // processing the header;\n        header = reader.readNext();\n        for (int i = 0; i &lt; header.length; i++) {\n            if (header[i].equals(\"Card Text Listen\")) {\n                index = i;\n                break;\n            }\n        }\n        // processing data\n        while ((row = reader.readNext()) != null) {\n            for (int i = 0; i &lt; row.length; i++) {\n                if (index == i) {\n                    row[i] = \"new value\";\n                    break;\n                }\n            }\n            writer.writeNext(row);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22723015,"reputation":17,"user_id":16887243,"display_name":"Sham Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648397877,"creation_date":1648397557,"answer_id":71638040,"question_id":31199753,"body_markdown":"Here is the best efficient way to do it \r\n\r\n    public void copyCsv(){\r\n        CSVReader reader2 = new CSVReader(new FileReader(ADDRESS_FILE));\r\n        List&lt;String[]&gt; allElements = reader2.readAll();\r\n        CSVWriter writr = new CSVWriter(new FileWriter(Path));\r\n        writr.writeAll(allElements);\r\n        writr.flush();\r\n        writr.close();\r\n    }\r\n","title":"Reading from a CSV file and writing to a new CSV file using openCSV in java","body":"<p>Here is the best efficient way to do it</p>\n<pre><code>public void copyCsv(){\n    CSVReader reader2 = new CSVReader(new FileReader(ADDRESS_FILE));\n    List&lt;String[]&gt; allElements = reader2.readAll();\n    CSVWriter writr = new CSVWriter(new FileWriter(Path));\n    writr.writeAll(allElements);\n    writr.flush();\n    writr.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654223132,"creation_date":1654202875,"answer_id":72482176,"question_id":31199753,"body_markdown":"I made the following application using Sham Khan&#39;s answer. Maybe it can work for you. It completely updates the line according to the id in the .csv file.\r\n\r\n    @Override\r\n    public void update(String tableName, Long rowId, List&lt;String&gt; values) {\r\n        List&lt;String&gt; select = select(tableName, rowId);\r\n        if (!select.isEmpty()) {\r\n            select.clear();\r\n            select.add(String.valueOf(rowId));\r\n            select.addAll(values);\r\n            copyCsv(tableName, select, rowId);\r\n        }\r\n    }\r\n\r\n    @SneakyThrows\r\n    public void copyCsv(String tableName, List&lt;String&gt; values, Long rowId) {\r\n        CSVReader reader2 = new CSVReader(new FileReader(tableName + &quot;.csv&quot;));\r\n        List&lt;String[]&gt; allElements = reader2.readAll();\r\n        allElements.add(Math.toIntExact(rowId), values.toArray(new String[0]));\r\n        allElements.remove(Math.toIntExact(++rowId));\r\n        CSVWriter writer = new CSVWriter(new FileWriter(tableName + &quot;.csv&quot;));\r\n        writer.writeAll(allElements);\r\n        writer.flush();\r\n        writer.close();\r\n    }\r\n    \r\n     @SneakyThrows\r\n        @Override\r\n        public List&lt;String&gt; select(String tableName, Long rowId) {\r\n            PersonResponseDto personResponseDto = selectById(tableName, rowId);\r\n            if (personResponseDto == null) {\r\n                throw new NotFoundException();\r\n            }\r\n            LinkedList&lt;String&gt; responseValue = new LinkedList&lt;&gt;();\r\n            try (BufferedReader br = new BufferedReader(new FileReader(tableName + &quot;.csv&quot;)); CSVParser parser = CSVFormat.DEFAULT.withDelimiter(&#39;,&#39;).withHeader().parse(br)) {\r\n                for (CSVRecord record : parser) {\r\n                    long recordNumber = record.getRecordNumber();\r\n                    if (recordNumber == rowId) {\r\n                        Map&lt;String, String&gt; stringStringMap = record.toMap();\r\n                        for (Map.Entry&lt;String, String&gt; m : stringStringMap.entrySet()) {\r\n                            responseValue.add(m.getValue());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return responseValue;\r\n        }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public PersonResponseDto selectById(String tableName, Long rowId) {\r\n        PersonResponseDto responseDto;\r\n        File file = new File(tableName + &quot;.csv&quot;);\r\n        try (BufferedReader br = new BufferedReader(new FileReader(file)); CSVParser parser = CSVFormat.DEFAULT.withDelimiter(&#39;,&#39;).withHeader().parse(br)) {\r\n            Predicate&lt;CSVRecord&gt; predicate = ((record) -&gt; record.get(&quot;id&quot;).equals(String.valueOf(rowId)));\r\n            responseDto = parser.getRecords().stream().filter(predicate).map(this::preparePersonResponseDto).findFirst().orElseThrow(NotFoundException::new);\r\n        }\r\n        return responseDto;\r\n    }","title":"Reading from a CSV file and writing to a new CSV file using openCSV in java","body":"<p>I made the following application using Sham Khan's answer. Maybe it can work for you. It completely updates the line according to the id in the .csv file.</p>\n<pre><code>@Override\npublic void update(String tableName, Long rowId, List&lt;String&gt; values) {\n    List&lt;String&gt; select = select(tableName, rowId);\n    if (!select.isEmpty()) {\n        select.clear();\n        select.add(String.valueOf(rowId));\n        select.addAll(values);\n        copyCsv(tableName, select, rowId);\n    }\n}\n\n@SneakyThrows\npublic void copyCsv(String tableName, List&lt;String&gt; values, Long rowId) {\n    CSVReader reader2 = new CSVReader(new FileReader(tableName + &quot;.csv&quot;));\n    List&lt;String[]&gt; allElements = reader2.readAll();\n    allElements.add(Math.toIntExact(rowId), values.toArray(new String[0]));\n    allElements.remove(Math.toIntExact(++rowId));\n    CSVWriter writer = new CSVWriter(new FileWriter(tableName + &quot;.csv&quot;));\n    writer.writeAll(allElements);\n    writer.flush();\n    writer.close();\n}\n\n @SneakyThrows\n    @Override\n    public List&lt;String&gt; select(String tableName, Long rowId) {\n        PersonResponseDto personResponseDto = selectById(tableName, rowId);\n        if (personResponseDto == null) {\n            throw new NotFoundException();\n        }\n        LinkedList&lt;String&gt; responseValue = new LinkedList&lt;&gt;();\n        try (BufferedReader br = new BufferedReader(new FileReader(tableName + &quot;.csv&quot;)); CSVParser parser = CSVFormat.DEFAULT.withDelimiter(',').withHeader().parse(br)) {\n            for (CSVRecord record : parser) {\n                long recordNumber = record.getRecordNumber();\n                if (recordNumber == rowId) {\n                    Map&lt;String, String&gt; stringStringMap = record.toMap();\n                    for (Map.Entry&lt;String, String&gt; m : stringStringMap.entrySet()) {\n                        responseValue.add(m.getValue());\n                    }\n                }\n            }\n        }\n        return responseValue;\n    }\n\n@SneakyThrows\n@Override\npublic PersonResponseDto selectById(String tableName, Long rowId) {\n    PersonResponseDto responseDto;\n    File file = new File(tableName + &quot;.csv&quot;);\n    try (BufferedReader br = new BufferedReader(new FileReader(file)); CSVParser parser = CSVFormat.DEFAULT.withDelimiter(',').withHeader().parse(br)) {\n        Predicate&lt;CSVRecord&gt; predicate = ((record) -&gt; record.get(&quot;id&quot;).equals(String.valueOf(rowId)));\n        responseDto = parser.getRecords().stream().filter(predicate).map(this::preparePersonResponseDto).findFirst().orElseThrow(NotFoundException::new);\n    }\n    return responseDto;\n}\n</code></pre>\n"}],"owner":{"account_id":5017056,"reputation":61,"user_id":4031657,"accept_rate":60,"display_name":"SaiCharan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31200868,"answer_count":3,"score":0,"last_activity_date":1654223132,"creation_date":1435904142,"question_id":31199753,"body_markdown":"I&#39;m writing a program which reads a CSV file and I modify some columns.After modifying I have to write it to a new CSV file with modifications.\r\n\r\nI have done till reading and modifying but when I&#39;m writing it to a new file I&#39;m just getting a single row.I&#39;m struck here.\r\n\r\nHelp me overcome this?\r\n\r\nI&#39;m using openCSV and language is Java.\r\n\r\nMy code:\r\n\r\n    CSVReader reader;\r\n    try \r\n    {\t\r\n      File file=new File(&quot;/home/srinivas/Desktop/saicharan/Cardsmod.csv&quot;);\r\n      if(file.createNewFile()){ }\r\n      reader = new CSVReader(new FileReader(filename));\r\n      String filewrite=&quot;/home/srinivas/Desktop/saicharan/Cardsmod.csv&quot;;   \r\n      CSVWriter writer=new CSVWriter(new FileWriter(filewrite));\r\n      String[] row;\r\n      while((row = reader.readNext()) != null)\r\n      {\r\n        String str=new String();\r\n        String str1=new String();\r\n        for(int i=0;i&lt;row.length;i++)\r\n        {\r\n          str1=str1+&quot;,&quot;+row[i];\r\n          if(row[i].equals(&quot;Card Text Listen&quot;))\r\n          {\r\n            String [] nextLine = reader.readNext();\r\n            String [] nextLine1=reader.readNext();\r\n            str=str+nextLine[i]+nextLine1[i];\t\t\t\r\n            c2.met(str);\r\n          }\r\n          if(i==11)\r\n          {\r\n            String[] rowwrite=str1.split(&quot;,&quot;);\r\n            writer.writeNext(rowwrite);\t\t\t\t\t\t\r\n          }\r\n        }\r\n      }\r\n      writer.close();\r\n    }\r\n\r\n\r\n\r\nThank You.","title":"Reading from a CSV file and writing to a new CSV file using openCSV in java","body":"<p>I'm writing a program which reads a CSV file and I modify some columns.After modifying I have to write it to a new CSV file with modifications.</p>\n\n<p>I have done till reading and modifying but when I'm writing it to a new file I'm just getting a single row.I'm struck here.</p>\n\n<p>Help me overcome this?</p>\n\n<p>I'm using openCSV and language is Java.</p>\n\n<p>My code:</p>\n\n<pre><code>CSVReader reader;\ntry \n{   \n  File file=new File(\"/home/srinivas/Desktop/saicharan/Cardsmod.csv\");\n  if(file.createNewFile()){ }\n  reader = new CSVReader(new FileReader(filename));\n  String filewrite=\"/home/srinivas/Desktop/saicharan/Cardsmod.csv\";   \n  CSVWriter writer=new CSVWriter(new FileWriter(filewrite));\n  String[] row;\n  while((row = reader.readNext()) != null)\n  {\n    String str=new String();\n    String str1=new String();\n    for(int i=0;i&lt;row.length;i++)\n    {\n      str1=str1+\",\"+row[i];\n      if(row[i].equals(\"Card Text Listen\"))\n      {\n        String [] nextLine = reader.readNext();\n        String [] nextLine1=reader.readNext();\n        str=str+nextLine[i]+nextLine1[i];           \n        c2.met(str);\n      }\n      if(i==11)\n      {\n        String[] rowwrite=str1.split(\",\");\n        writer.writeNext(rowwrite);                     \n      }\n    }\n  }\n  writer.close();\n}\n</code></pre>\n\n<p>Thank You.</p>\n"},{"tags":["java","android","https","socket.io","http-status-code-403"],"comments":[{"owner":{"account_id":25390531,"reputation":1,"user_id":19201601,"display_name":"ViperDrake"},"score":0,"creation_date":1654225160,"post_id":72384025,"comment_id":128045453,"body_markdown":"Thank you @user207421 for the edit, didn&#39;t know how to do that","body":"Thank you @user207421 for the edit, didn&#39;t know how to do that"}],"answers":[{"tags":[],"owner":{"account_id":10754617,"reputation":205,"user_id":7912940,"display_name":"kabayaba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653534356,"creation_date":1653534356,"answer_id":72386230,"question_id":72384025,"body_markdown":"if its not a production code then u need to add this to the application manifest:\r\n\r\n    &lt;application\r\n        ...\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        ...&gt;\r\n\r\nelse please read up on ssl pinning or set it under\r\n\r\n    &lt;application\r\n        ...\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        ...&gt;\r\n  ","title":"Java.net.ConnectException:Connection refused, All Android Browsers wont connect to (https://t.co|https://g.co etc) links","body":"<p>if its not a production code then u need to add this to the application manifest:</p>\n<pre><code>&lt;application\n    ...\n    android:usesCleartextTraffic=&quot;true&quot;\n    ...&gt;\n</code></pre>\n<p>else please read up on ssl pinning or set it under</p>\n<pre><code>&lt;application\n    ...\n    android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n    ...&gt;\n</code></pre>\n"}],"owner":{"account_id":25390531,"reputation":1,"user_id":19201601,"display_name":"ViperDrake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654222997,"creation_date":1653511855,"question_id":72384025,"body_markdown":"Hello I&#39;m running Android 7.0 Nougat sdk 24 rooted and I&#39;m having issues with all browsers connecting to https://t.co links from Twitter. I have used Android Studio logcat with the browsers and have confirmed its an issue with Java.net socket connection. I am getting errors such as:\r\n\r\n    Java.net.ConnectException:Connection refused –   \r\n    Caused by: java.net.ConnectException: Connection refused \r\n    java.net.PlainSocketImpl.socketConnect(Native Method) at\r\n    java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:334) at\r\n    java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:196) at\r\n    java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178) at\r\n    java.net.SocksSocketImpl.connect(SocksSocketImpl.java:356) at\r\n    java.net.Socket.connect(Socket.java:586)","title":"Java.net.ConnectException:Connection refused, All Android Browsers wont connect to (https://t.co|https://g.co etc) links","body":"<p>Hello I'm running Android 7.0 Nougat sdk 24 rooted and I'm having issues with all browsers connecting to <a href=\"https://t.co\" rel=\"nofollow noreferrer\">https://t.co</a> links from Twitter. I have used Android Studio logcat with the browsers and have confirmed its an issue with Java.net socket connection. I am getting errors such as:</p>\n<pre><code>Java.net.ConnectException:Connection refused –   \nCaused by: java.net.ConnectException: Connection refused \njava.net.PlainSocketImpl.socketConnect(Native Method) at\njava.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:334) at\njava.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:196) at\njava.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178) at\njava.net.SocksSocketImpl.connect(SocksSocketImpl.java:356) at\njava.net.Socket.connect(Socket.java:586)\n</code></pre>\n"},{"tags":["java","json","web-services","double-quotes"],"comments":[{"owner":{"account_id":1440516,"reputation":1126,"user_id":1360804,"display_name":"anand1st"},"score":1,"creation_date":1486020443,"post_id":41996325,"comment_id":71169482,"body_markdown":"Are you sure your json is valid? For the &quot;data&quot; entry, I&#39;d think that you would be expecting something like &quot;data&quot;: &quot;{\\&quot;bc\\&quot;:...","body":"Are you sure your json is valid? For the &quot;data&quot; entry, I&#39;d think that you would be expecting something like &quot;data&quot;: &quot;{\\&quot;bc\\&quot;:..."},{"owner":{"account_id":6881793,"reputation":307,"user_id":5288281,"accept_rate":55,"display_name":"Jatin"},"score":0,"creation_date":1486021816,"post_id":41996325,"comment_id":71170130,"body_markdown":"@anand1st I used responseXML = responseXML.replace(&quot;\\\\\\&quot;&quot;, &quot;\\&quot;&quot;); to make response as &quot;data&quot; : &quot;{&quot;bc&quot;: {","body":"@anand1st I used responseXML = responseXML.replace(&quot;\\\\\\&quot;&quot;, &quot;\\&quot;&quot;); to make response as &quot;data&quot; : &quot;{&quot;bc&quot;: {"}],"answers":[{"tags":[],"owner":{"account_id":3051314,"reputation":3066,"user_id":2585791,"accept_rate":45,"display_name":"Charnjeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486020284,"creation_date":1486020284,"answer_id":41996374,"question_id":41996325,"body_markdown":"You can replace the double quote as:\r\n\r\n    String x=&quot;\\&quot;abcd&quot;;\r\n    String z=x.replace(&quot;\\&quot;&quot;, &quot;&quot;);\r\n    System.out.println(z);","title":"How to remove double quotes &quot; &quot; from Json string","body":"<p>You can replace the double quote as:</p>\n\n<pre><code>String x=\"\\\"abcd\";\nString z=x.replace(\"\\\"\", \"\");\nSystem.out.println(z);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1021496,"reputation":4264,"user_id":1031724,"accept_rate":56,"display_name":"Zaur Guliyev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486028210,"creation_date":1486027650,"answer_id":41998468,"question_id":41996325,"body_markdown":"Parsing and replacing anything inside XML / JSON string values is not a good solution. You might be ok with solving above issue with quotes but your code will be less readable and error-prone - some new error cases might occur in future, but your code will not be able to handle them without refactoring previously written code again (**O** in S**O**LID fails). I&#39;ve written minor sample code, which might help. Try to separate responsibilities in your code as much as you can (single responsibility). org.JSON library (which you used in your code) handles all XML standards so that valid XML will be converted to JSONObject without any issue:\r\n\r\nP.S For double quote case, probably your XML input is not valid or your `Utilities.getStringFromDocument` method breaks XML specification rules. As shown in my code converting XML string - Document back and front doesn&#39;t break any specifications in XML / JSON standards; if your input XML string contains double quotes then converted JSON one will do as well. If your input XML has double quotes and you want to remove them during conversion, then you might first convert the whole document then re-struct **data** only by creating JSONObject / JSONArray instance from text separately.\r\n\r\n    public static void main(String[] args) {\r\n            StringBuilder xmlText = new StringBuilder(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;)\r\n                    .append(&quot;&lt;sample&gt;&quot;)\r\n                    .append(&quot;&lt;rec1&gt;John&lt;/rec1&gt;&quot;)\r\n                    .append(&quot;&lt;rec2&gt;Snow&lt;/rec2&gt;&quot;)\r\n                    .append(&quot;&lt;data&gt;&quot;)\r\n                    .append(&quot;&lt;a&gt;Season 1&lt;/a&gt;&quot;)\r\n                    .append(&quot;&lt;b&gt;Episode 1&lt;/b&gt;&quot;)\r\n                    .append(&quot;&lt;/data&gt;&quot;)\r\n                    .append(&quot;&lt;/sample&gt;&quot;);\r\n    \r\n            // below two lines of code were added in order to show no quote issue might occur in Document conversion case - like question has\r\n            Document doc = convertStringToDocument(xmlText.toString());\r\n            System.out.println(&quot;XML string: &quot; + convertDocumentToString(doc));\r\n    \r\n            JSONObject xmlJSONObj = XML.toJSONObject(xmlText.toString());\r\n            System.out.println(&quot;JSON string: &quot; + xmlJSONObj.toString());\r\n        }\r\n    \r\n        private static Document convertStringToDocument(String input) {\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    \r\n            try {\r\n                DocumentBuilder builder = factory.newDocumentBuilder();\r\n                return builder.parse(new InputSource(new StringReader(input)));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            return null;\r\n        }\r\n    \r\n        private static String convertDocumentToString(Document document) {\r\n            TransformerFactory tf = TransformerFactory.newInstance();\r\n    \r\n            try {\r\n                Transformer transformer = tf.newTransformer();\r\n                // transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;); // remove XML declaration\r\n                StringWriter writer = new StringWriter();\r\n                transformer.transform(new DOMSource(document), new StreamResult(writer));\r\n                return writer.getBuffer().toString();\r\n            } catch (TransformerException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }","title":"How to remove double quotes &quot; &quot; from Json string","body":"<p>Parsing and replacing anything inside XML / JSON string values is not a good solution. You might be ok with solving above issue with quotes but your code will be less readable and error-prone - some new error cases might occur in future, but your code will not be able to handle them without refactoring previously written code again (<strong>O</strong> in S<strong>O</strong>LID fails). I've written minor sample code, which might help. Try to separate responsibilities in your code as much as you can (single responsibility). org.JSON library (which you used in your code) handles all XML standards so that valid XML will be converted to JSONObject without any issue:</p>\n\n<p>P.S For double quote case, probably your XML input is not valid or your <code>Utilities.getStringFromDocument</code> method breaks XML specification rules. As shown in my code converting XML string - Document back and front doesn't break any specifications in XML / JSON standards; if your input XML string contains double quotes then converted JSON one will do as well. If your input XML has double quotes and you want to remove them during conversion, then you might first convert the whole document then re-struct <strong>data</strong> only by creating JSONObject / JSONArray instance from text separately.</p>\n\n<pre><code>public static void main(String[] args) {\n        StringBuilder xmlText = new StringBuilder(\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\")\n                .append(\"&lt;sample&gt;\")\n                .append(\"&lt;rec1&gt;John&lt;/rec1&gt;\")\n                .append(\"&lt;rec2&gt;Snow&lt;/rec2&gt;\")\n                .append(\"&lt;data&gt;\")\n                .append(\"&lt;a&gt;Season 1&lt;/a&gt;\")\n                .append(\"&lt;b&gt;Episode 1&lt;/b&gt;\")\n                .append(\"&lt;/data&gt;\")\n                .append(\"&lt;/sample&gt;\");\n\n        // below two lines of code were added in order to show no quote issue might occur in Document conversion case - like question has\n        Document doc = convertStringToDocument(xmlText.toString());\n        System.out.println(\"XML string: \" + convertDocumentToString(doc));\n\n        JSONObject xmlJSONObj = XML.toJSONObject(xmlText.toString());\n        System.out.println(\"JSON string: \" + xmlJSONObj.toString());\n    }\n\n    private static Document convertStringToDocument(String input) {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n\n        try {\n            DocumentBuilder builder = factory.newDocumentBuilder();\n            return builder.parse(new InputSource(new StringReader(input)));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    private static String convertDocumentToString(Document document) {\n        TransformerFactory tf = TransformerFactory.newInstance();\n\n        try {\n            Transformer transformer = tf.newTransformer();\n            // transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\"); // remove XML declaration\n            StringWriter writer = new StringWriter();\n            transformer.transform(new DOMSource(document), new StreamResult(writer));\n            return writer.getBuffer().toString();\n        } catch (TransformerException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":6881793,"reputation":307,"user_id":5288281,"accept_rate":55,"display_name":"Jatin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654222015,"creation_date":1486020143,"question_id":41996325,"body_markdown":"I&#39;m getting double quotes for below **&#39;data&#39;** field in JSON response like this -\r\n\r\n    {\r\n    &quot;bID&quot; : 1000013253,\r\n    &quot;bTypeID&quot; : 1,\r\n    &quot;name&quot; : &quot;Test1&quot;\r\n    &quot;data&quot; : &quot;{&quot;bc&quot;: {    &quot;b&quot;: {        &quot;t&quot;: 1,        &quot;r&quot;: 1,        &quot;c&quot;: &quot;none&quot;    },    &quot;i&quot;: &quot;CM19014269&quot;}}&quot;\r\n    }\r\n\r\nWhile validating this JSOn, I&#39;m getting validation errors as below\r\n    \r\n    Error: Parse error on line 18:\r\n    ...   &quot;document&quot; : &quot;[{&quot;bc&quot;: {    &quot;b&quot;: {    \r\n    -----------------------^\r\n    Expecting &#39;EOF&#39;, &#39;}&#39;, &#39;:&#39;, &#39;,&#39;, &#39;]&#39;\r\n\r\nI want JSON response to be displayed as - \r\n\r\n    {\r\n    &quot;bID&quot; : 1000013253,\r\n    &quot;bTypeID&quot; : 1,\r\n    &quot;name&quot; : &quot;Test1&quot;\r\n    &quot;data&quot; : {&quot;bc&quot;: {    &quot;b&quot;: {        &quot;t&quot;: 1,        &quot;r&quot;: 1,        &quot;c&quot;: &quot;none&quot;    },    &quot;i&quot;: &quot;CM19014269&quot;}}\r\n    }\r\n\r\n\r\nMy server side code used is - \r\n\r\n  \r\n\r\n      {\r\n    \tfor (ManageBasketTO manageBasketTO : retList) {\r\n    \t\tLong basketId = manageBasketTO.getBasketID();\r\n    \t\tBasketTO basketTo = null;\r\n            basketTo = CommonUtil.getBasket(usrCtxtObj, basketId, language, EBookConstants.FOR_VIEWER_INTERFACE,\r\n    \t\t\t\tusrCtxtObj.getScenarioID(), EBookConstants.YES, request, deviceType);\r\n    \t\tString doc = Utilities.getStringFromDocument(basketTo.getdocument());\r\n    \t\t\t\t\t    \r\n            doc = doc.replace(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;, &quot;&quot;);\r\n    \t\tdoc = doc.replace(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&quot;, &quot;&quot;);\r\n    \t\tdoc = doc.trim();\r\n    \t\tJSONObject object = XML.toJSONObject(doc);\r\n    \t\tdoc = object.toString(4);\r\n    \t\tBasketsInfoTO basketsInfoTO = new BasketsInfoTO(bId, manageBasketTO.getBTypeID(), manageBasketTO.getName(), doc);\r\n    \t\tbasketsToc.add(basketsInfoTO);\r\n    \t\t}\r\n    \tbasketInfoRestTO.setBasketsInfoTOList(basketsToc);\r\n    \tObjectMapper mapper = new ObjectMapper();\r\n    \tresponseXML = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(basketInfoRestTO);\r\n    \tresponseXML = responseXML.replace(&quot;\\\\\\&quot;&quot;, &quot;\\&quot;&quot;);\r\n    \tresponseXML = responseXML.replace(&quot;\\\\n&quot;, &quot;&quot;);\r\n    }\r\n\r\nAny help is much appreciated. Thanks","title":"How to remove double quotes &quot; &quot; from Json string","body":"<p>I'm getting double quotes for below <strong>'data'</strong> field in JSON response like this -</p>\n\n<pre><code>{\n\"bID\" : 1000013253,\n\"bTypeID\" : 1,\n\"name\" : \"Test1\"\n\"data\" : \"{\"bc\": {    \"b\": {        \"t\": 1,        \"r\": 1,        \"c\": \"none\"    },    \"i\": \"CM19014269\"}}\"\n}\n</code></pre>\n\n<p>While validating this JSOn, I'm getting validation errors as below</p>\n\n<pre><code>Error: Parse error on line 18:\n...   \"document\" : \"[{\"bc\": {    \"b\": {    \n-----------------------^\nExpecting 'EOF', '}', ':', ',', ']'\n</code></pre>\n\n<p>I want JSON response to be displayed as - </p>\n\n<pre><code>{\n\"bID\" : 1000013253,\n\"bTypeID\" : 1,\n\"name\" : \"Test1\"\n\"data\" : {\"bc\": {    \"b\": {        \"t\": 1,        \"r\": 1,        \"c\": \"none\"    },    \"i\": \"CM19014269\"}}\n}\n</code></pre>\n\n<p>My server side code used is - </p>\n\n<pre><code>  {\n    for (ManageBasketTO manageBasketTO : retList) {\n        Long basketId = manageBasketTO.getBasketID();\n        BasketTO basketTo = null;\n        basketTo = CommonUtil.getBasket(usrCtxtObj, basketId, language, EBookConstants.FOR_VIEWER_INTERFACE,\n                usrCtxtObj.getScenarioID(), EBookConstants.YES, request, deviceType);\n        String doc = Utilities.getStringFromDocument(basketTo.getdocument());\n\n        doc = doc.replace(\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\", \"\");\n        doc = doc.replace(\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;\", \"\");\n        doc = doc.trim();\n        JSONObject object = XML.toJSONObject(doc);\n        doc = object.toString(4);\n        BasketsInfoTO basketsInfoTO = new BasketsInfoTO(bId, manageBasketTO.getBTypeID(), manageBasketTO.getName(), doc);\n        basketsToc.add(basketsInfoTO);\n        }\n    basketInfoRestTO.setBasketsInfoTOList(basketsToc);\n    ObjectMapper mapper = new ObjectMapper();\n    responseXML = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(basketInfoRestTO);\n    responseXML = responseXML.replace(\"\\\\\\\"\", \"\\\"\");\n    responseXML = responseXML.replace(\"\\\\n\", \"\");\n}\n</code></pre>\n\n<p>Any help is much appreciated. Thanks</p>\n"},{"tags":["java","algorithm","data-structures","binary-tree"],"comments":[{"owner":{"account_id":10364074,"reputation":1,"user_id":7643681,"display_name":"user7643681"},"score":0,"creation_date":1488401249,"post_id":742844,"comment_id":72351113,"body_markdown":"If you would like to see Donal Fellows&#39;s ascii binary tree with a graphic: http://i.imgur.com/97C27Ek.png","body":"If you would like to see Donal Fellows&#39;s ascii binary tree with a graphic: <a href=\"http://i.imgur.com/97C27Ek.png\" rel=\"nofollow noreferrer\">i.imgur.com/97C27Ek.png</a>"},{"owner":{"account_id":6958466,"reputation":1646,"user_id":5338754,"accept_rate":92,"display_name":"Henry"},"score":1,"creation_date":1488461718,"post_id":742844,"comment_id":72248066,"body_markdown":"Good answer, helped me get into the US. (jokes)","body":"Good answer, helped me get into the US. (jokes)"}],"answers":[{"tags":[],"owner":{"account_id":2663,"reputation":56695,"user_id":3737,"display_name":"Jesse Rusak"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1239588180,"creation_date":1239588180,"answer_id":742850,"question_id":742844,"body_markdown":"This only determines if the top level of the tree is balanced. That is, you could have a tree with two long branches off the far left and far right, with nothing in the middle, and this would return true. You need to recursively check the `root.left` and `root.right` to see if they are internally balanced as well before returning true.","title":"How to determine if binary tree is balanced?","body":"<p>This only determines if the top level of the tree is balanced. That is, you could have a tree with two long branches off the far left and far right, with nothing in the middle, and this would return true. You need to recursively check the <code>root.left</code> and <code>root.right</code> to see if they are internally balanced as well before returning true.</p>\n"},{"tags":[],"owner":{"account_id":31324,"reputation":34658,"user_id":85931,"accept_rate":57,"display_name":"tpdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239588442,"creation_date":1239588442,"answer_id":742854,"question_id":742844,"body_markdown":"Well, you need a way to determine the heights of left and right, and if left and right are balanced.\r\n\r\nAnd I&#39;d just `return height(node-&gt;left) == height(node-&gt;right);`\r\n\r\nAs to writing a `height` function, read:\r\n[https://stackoverflow.com/questions/717725/understanding-recursion/717839#717839][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/717725/understanding-recursion/717839#717839","title":"How to determine if binary tree is balanced?","body":"<p>Well, you need a way to determine the heights of left and right, and if left and right are balanced.</p>\n\n<p>And I'd just <code>return height(node-&gt;left) == height(node-&gt;right);</code></p>\n\n<p>As to writing a <code>height</code> function, read:\n<a href=\"https://stackoverflow.com/questions/717725/understanding-recursion/717839#717839\">Understanding recursion</a></p>\n"},{"tags":[],"owner":{"account_id":19088,"reputation":19971,"user_id":44434,"display_name":"lothar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239588509,"creation_date":1239588509,"answer_id":742858,"question_id":742844,"body_markdown":"What kind of tree are you talking about? There are [self-balancing](http://en.wikipedia.org/wiki/Self-balancing_binary_search_tree) trees out there. Check their algorithms where they determine if they need to reorder the tree in order to maintain balance.","title":"How to determine if binary tree is balanced?","body":"<p>What kind of tree are you talking about? There are <a href=\"http://en.wikipedia.org/wiki/Self-balancing_binary_search_tree\" rel=\"nofollow noreferrer\">self-balancing</a> trees out there. Check their algorithms where they determine if they need to reorder the tree in order to maintain balance.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1239588647,"creation_date":1239588647,"answer_id":742861,"question_id":742844,"body_markdown":"Balancing usually depends on the length of the longest path on each direction. The above algorithm is not going to do that for you.\r\n\r\nWhat are you trying to implement? There are self-balancing trees around (AVL/Red-black).\r\nIn fact, Java trees are balanced. ","title":"How to determine if binary tree is balanced?","body":"<p>Balancing usually depends on the length of the longest path on each direction. The above algorithm is not going to do that for you.</p>\n\n<p>What are you trying to implement? There are self-balancing trees around (AVL/Red-black).\nIn fact, Java trees are balanced. </p>\n"},{"tags":[],"owner":{"account_id":5708,"reputation":60513,"user_id":9345,"accept_rate":91,"display_name":"Steven A. Lowe"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1239588895,"creation_date":1239588895,"answer_id":742870,"question_id":742844,"body_markdown":"If this is for your *job*, I suggest:\r\n\r\n1. [do not reinvent the wheel][1] and \r\n1. [use/buy COTS][2] instead of fiddling with bits. \r\n1. Save your time/energy for solving business problems.\r\n\r\n\r\n[1]: http://www.google.com/search?hl=en&amp;q=height+balanced+binary+tree&amp;aq=0&amp;oq=height+balanced+b\r\n\r\n[2]: http://www.google.com/search?q=height+balanced+binary+tree+java+library&amp;btnG=Search&amp;hl=en&amp;sa=2","title":"How to determine if binary tree is balanced?","body":"<p>If this is for your <em>job</em>, I suggest:</p>\n\n<ol>\n<li><a href=\"http://www.google.com/search?hl=en&amp;q=height+balanced+binary+tree&amp;aq=0&amp;oq=height+balanced+b\" rel=\"nofollow noreferrer\">do not reinvent the wheel</a> and </li>\n<li><a href=\"http://www.google.com/search?q=height+balanced+binary+tree+java+library&amp;btnG=Search&amp;hl=en&amp;sa=2\" rel=\"nofollow noreferrer\">use/buy COTS</a> instead of fiddling with bits. </li>\n<li>Save your time/energy for solving business problems.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25542,"reputation":152709,"user_id":65696,"accept_rate":85,"display_name":"SingleNegationElimination"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1239589928,"creation_date":1239589928,"answer_id":742888,"question_id":742844,"body_markdown":"What balanced means depends a bit on the structure at hand.  For instance, A B-Tree cannot have nodes more than a certain depth from the root, or less for that matter, all data lives at a fixed depth from the root, but it can be out of balance if the distribution of leaves to leaves-but-one nodes is uneven.  Skip-lists Have no notion at all of balance, relying instead on probability to achieve decent performance.  Fibonacci trees purposefully fall out of balance, postponing the rebalance to achieve superior asymptotic performance in exchange for occasionally longer updates.  AVL and Red-Black trees attach metadata to each node to attain a depth-balance invariant. \r\n\r\nAll of these structures and more are present in the standard libraries of most common programming systems (except python, RAGE!).  Implementing one or two is good programming practice, but its probably not a good use of time to roll your own for production, unless your problem has some peculiar performance need not satisfied by any off-the-shelf collections.","title":"How to determine if binary tree is balanced?","body":"<p>What balanced means depends a bit on the structure at hand.  For instance, A B-Tree cannot have nodes more than a certain depth from the root, or less for that matter, all data lives at a fixed depth from the root, but it can be out of balance if the distribution of leaves to leaves-but-one nodes is uneven.  Skip-lists Have no notion at all of balance, relying instead on probability to achieve decent performance.  Fibonacci trees purposefully fall out of balance, postponing the rebalance to achieve superior asymptotic performance in exchange for occasionally longer updates.  AVL and Red-Black trees attach metadata to each node to attain a depth-balance invariant. </p>\n\n<p>All of these structures and more are present in the standard libraries of most common programming systems (except python, RAGE!).  Implementing one or two is good programming practice, but its probably not a good use of time to roll your own for production, unless your problem has some peculiar performance need not satisfied by any off-the-shelf collections.</p>\n"},{"tags":[],"owner":{"account_id":37572,"reputation":191,"user_id":107434,"accept_rate":0,"display_name":"Sumit Kishore"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1243536278,"creation_date":1243536278,"answer_id":922536,"question_id":742844,"body_markdown":"Wouldn&#39;t this work?\r\n\r\n    return ( ( Math.abs( size( root.left ) - size( root.right ) ) &lt; 2 );\r\n\r\nAny unbalanced tree would always fail this.","title":"How to determine if binary tree is balanced?","body":"<p>Wouldn't this work?</p>\n\n<pre><code>return ( ( Math.abs( size( root.left ) - size( root.right ) ) &lt; 2 );\n</code></pre>\n\n<p>Any unbalanced tree would always fail this.</p>\n"},{"tags":[],"owner":{"account_id":32093,"reputation":650733,"user_id":88656,"display_name":"Eric Lippert"},"down_vote_count":3,"up_vote_count":173,"is_accepted":false,"score":170,"last_activity_date":1514535260,"creation_date":1265042013,"answer_id":2178292,"question_id":742844,"body_markdown":"Stumbled across this old question while searching for something else. I notice that you never did get a complete answer.\r\n\r\nThe way to solve this problem is to start by writing a specification for the function you are trying to write.\r\n\r\nSpecification: A well-formed binary tree is said to be &quot;height-balanced&quot; if (1) it is empty, or (2) its left and right children are height-balanced and the height of the left tree is within 1 of the height of the right tree.\r\n\r\nNow that you have the specification, the code is trivial to write. Just follow the specification:\r\n\r\n    IsHeightBalanced(tree)\r\n        return (tree is empty) or \r\n               (IsHeightBalanced(tree.left) and\r\n                IsHeightBalanced(tree.right) and\r\n                abs(Height(tree.left) - Height(tree.right)) &lt;= 1)\r\n\r\nTranslating that into the programming language of your choice should be trivial.\r\n\r\n**Bonus exercise**: this naive code sketch traverses the tree far too many times when computing the heights. Can you make it more efficient?\r\n\r\n**Super bonus exercise**: suppose the tree is *massively* unbalanced. Like, a million nodes deep on one side and three deep on the other. Is there a scenario in which this algorithm blows the stack? Can you fix the implementation so that it never blows the stack, even when given a massively unbalanced tree?\r\n\r\n**UPDATE**: Donal Fellows points out in his answer that there are different definitions of &#39;balanced&#39; that one could choose. For example, one could take a stricter definition of &quot;height balanced&quot;, and require that the path length to the *nearest* empty child is within one of the path to the *farthest* empty child. My definition is less strict than that, and therefore admits more trees. \r\n\r\nOne can also be less strict than my definition; one could say that a balanced tree is one in which the maximum path length to an empty tree on each branch differs by no more than two, or three, or some other constant. Or that the maximum path length is some fraction of the minimum path length, like a half or a quarter.\r\n\r\nIt really doesn&#39;t matter usually. The point of any tree-balancing algorithm is to ensure that you do not wind up in the situation where you have a million nodes on one side and three on the other. Donal&#39;s definition is fine in theory, but in practice it is a pain coming up with a tree-balancing algorithm that meets that level of strictness. The performance savings usually does not justify the implementation cost. You spend a lot of time doing unnecessary tree rearrangements in order to attain a level of balance that in practice makes little difference. Who cares if sometimes it takes forty branches to get to the farthest leaf in a million-node imperfectly-balanced tree when it could in theory take only twenty in a perfectly balanced tree? The point is that it doesn&#39;t ever take a million. Getting from a worst case of a million down to a worst case of forty is usually good enough; you don&#39;t have to go all the way to the optimal case. \r\n","title":"How to determine if binary tree is balanced?","body":"<p>Stumbled across this old question while searching for something else. I notice that you never did get a complete answer.</p>\n\n<p>The way to solve this problem is to start by writing a specification for the function you are trying to write.</p>\n\n<p>Specification: A well-formed binary tree is said to be \"height-balanced\" if (1) it is empty, or (2) its left and right children are height-balanced and the height of the left tree is within 1 of the height of the right tree.</p>\n\n<p>Now that you have the specification, the code is trivial to write. Just follow the specification:</p>\n\n<pre><code>IsHeightBalanced(tree)\n    return (tree is empty) or \n           (IsHeightBalanced(tree.left) and\n            IsHeightBalanced(tree.right) and\n            abs(Height(tree.left) - Height(tree.right)) &lt;= 1)\n</code></pre>\n\n<p>Translating that into the programming language of your choice should be trivial.</p>\n\n<p><strong>Bonus exercise</strong>: this naive code sketch traverses the tree far too many times when computing the heights. Can you make it more efficient?</p>\n\n<p><strong>Super bonus exercise</strong>: suppose the tree is <em>massively</em> unbalanced. Like, a million nodes deep on one side and three deep on the other. Is there a scenario in which this algorithm blows the stack? Can you fix the implementation so that it never blows the stack, even when given a massively unbalanced tree?</p>\n\n<p><strong>UPDATE</strong>: Donal Fellows points out in his answer that there are different definitions of 'balanced' that one could choose. For example, one could take a stricter definition of \"height balanced\", and require that the path length to the <em>nearest</em> empty child is within one of the path to the <em>farthest</em> empty child. My definition is less strict than that, and therefore admits more trees. </p>\n\n<p>One can also be less strict than my definition; one could say that a balanced tree is one in which the maximum path length to an empty tree on each branch differs by no more than two, or three, or some other constant. Or that the maximum path length is some fraction of the minimum path length, like a half or a quarter.</p>\n\n<p>It really doesn't matter usually. The point of any tree-balancing algorithm is to ensure that you do not wind up in the situation where you have a million nodes on one side and three on the other. Donal's definition is fine in theory, but in practice it is a pain coming up with a tree-balancing algorithm that meets that level of strictness. The performance savings usually does not justify the implementation cost. You spend a lot of time doing unnecessary tree rearrangements in order to attain a level of balance that in practice makes little difference. Who cares if sometimes it takes forty branches to get to the farthest leaf in a million-node imperfectly-balanced tree when it could in theory take only twenty in a perfectly balanced tree? The point is that it doesn't ever take a million. Getting from a worst case of a million down to a worst case of forty is usually good enough; you don't have to go all the way to the optimal case. </p>\n"},{"tags":[],"owner":{"account_id":51309,"reputation":135665,"user_id":153285,"accept_rate":81,"display_name":"Potatoswatter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265107563,"creation_date":1265057222,"answer_id":2179947,"question_id":742844,"body_markdown":"Here is a version based on a generic depth-first traversal. Should be faster than the other correct answer and handle all the mentioned &quot;challenges.&quot; Apologies for the style, I don&#39;t really know Java.\r\n\r\nYou can still make it much faster by returning early if max and min are both set and have a difference &gt;1.\r\n\r\n    public boolean isBalanced( Node root ) {\r\n        int curDepth = 0, maxLeaf = 0, minLeaf = INT_MAX;\r\n        if ( root == null ) return true;\r\n        while ( root != null ) {\r\n            if ( root.left == null || root.right == null ) {\r\n                maxLeaf = max( maxLeaf, curDepth );\r\n                minLeaf = min( minLeaf, curDepth );\r\n            }\r\n            if ( root.left != null ) {\r\n                curDepth += 1;\r\n                root = root.left;\r\n            } else {\r\n                Node last = root;\r\n                while ( root != null\r\n                 &amp;&amp; ( root.right == null || root.right == last ) ) {\r\n                    curDepth -= 1;\r\n                    last = root;\r\n                    root = root.parent;\r\n                }\r\n                if ( root != null ) {\r\n                    curDepth += 1;\r\n                    root = root.right;\r\n                }\r\n            }\r\n        }\r\n        return ( maxLeaf - minLeaf &lt;= 1 );\r\n    }","title":"How to determine if binary tree is balanced?","body":"<p>Here is a version based on a generic depth-first traversal. Should be faster than the other correct answer and handle all the mentioned \"challenges.\" Apologies for the style, I don't really know Java.</p>\n\n<p>You can still make it much faster by returning early if max and min are both set and have a difference >1.</p>\n\n<pre><code>public boolean isBalanced( Node root ) {\n    int curDepth = 0, maxLeaf = 0, minLeaf = INT_MAX;\n    if ( root == null ) return true;\n    while ( root != null ) {\n        if ( root.left == null || root.right == null ) {\n            maxLeaf = max( maxLeaf, curDepth );\n            minLeaf = min( minLeaf, curDepth );\n        }\n        if ( root.left != null ) {\n            curDepth += 1;\n            root = root.left;\n        } else {\n            Node last = root;\n            while ( root != null\n             &amp;&amp; ( root.right == null || root.right == last ) ) {\n                curDepth -= 1;\n                last = root;\n                root = root.parent;\n            }\n            if ( root != null ) {\n                curDepth += 1;\n                root = root.right;\n            }\n        }\n    }\n    return ( maxLeaf - minLeaf &lt;= 1 );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9777,"reputation":25608,"user_id":18192,"accept_rate":79,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1617195523,"creation_date":1265120740,"answer_id":2184689,"question_id":742844,"body_markdown":"Bonus exercise response.  The simple solution.  Obviously in a real implementation one might wrap this or something to avoid requiring the user to include height in their response.\r\n\r\n    IsHeightBalanced(tree, out height)\r\n        if (tree is empty)\r\n            height = 0\r\n            return true\r\n        balance = IsHeightBalanced(tree.left, out heightleft) and IsHeightBalanced(tree.right, out heightright)\r\n        height = max(heightleft, heightright)+1\r\n        return balance and abs(heightleft - heightright) &lt;= 1     ","title":"How to determine if binary tree is balanced?","body":"<p>Bonus exercise response.  The simple solution.  Obviously in a real implementation one might wrap this or something to avoid requiring the user to include height in their response.</p>\n<pre><code>IsHeightBalanced(tree, out height)\n    if (tree is empty)\n        height = 0\n        return true\n    balance = IsHeightBalanced(tree.left, out heightleft) and IsHeightBalanced(tree.right, out heightright)\n    height = max(heightleft, heightright)+1\n    return balance and abs(heightleft - heightright) &lt;= 1     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":113458,"reputation":577,"user_id":298798,"accept_rate":75,"display_name":"Sudharsanan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1270674643,"creation_date":1270674643,"answer_id":2595964,"question_id":742844,"body_markdown":"Here&#39;s what i have tried for Eric&#39;s bonus exercise.\r\nI try to unwind of my recursive loops and return as soon as I find a subtree to be not balanced.\r\n\r\n\r\n    int heightBalanced(node *root){\r\n        int i = 1;\r\n        heightBalancedRecursive(root, &amp;i);\r\n        return i; \r\n    } \r\n\r\n    int heightBalancedRecursive(node *root, int *i){\r\n\r\n        int lb = 0, rb = 0;\r\n         \r\n        if(!root || ! *i)  // if node is null or a subtree is not height balanced\r\n               return 0;  \r\n\r\n        lb = heightBalancedRecursive(root -&gt; left,i);\r\n\r\n        if (!*i)         // subtree is not balanced. Skip traversing the tree anymore\r\n            return 0;\r\n\r\n        rb = heightBalancedRecursive(root -&gt; right,i)\r\n\r\n        if (abs(lb - rb) &gt; 1)  // not balanced. Make i zero.\r\n            *i = 0;\r\n         \r\n        return ( lb &gt; rb ? lb +1 : rb + 1); // return the current height of the subtree\r\n    }\r\n\r\n\r\n","title":"How to determine if binary tree is balanced?","body":"<p>Here's what i have tried for Eric's bonus exercise.\nI try to unwind of my recursive loops and return as soon as I find a subtree to be not balanced.</p>\n\n<pre><code>int heightBalanced(node *root){\n    int i = 1;\n    heightBalancedRecursive(root, &amp;i);\n    return i; \n} \n\nint heightBalancedRecursive(node *root, int *i){\n\n    int lb = 0, rb = 0;\n\n    if(!root || ! *i)  // if node is null or a subtree is not height balanced\n           return 0;  \n\n    lb = heightBalancedRecursive(root -&gt; left,i);\n\n    if (!*i)         // subtree is not balanced. Skip traversing the tree anymore\n        return 0;\n\n    rb = heightBalancedRecursive(root -&gt; right,i)\n\n    if (abs(lb - rb) &gt; 1)  // not balanced. Make i zero.\n        *i = 0;\n\n    return ( lb &gt; rb ? lb +1 : rb + 1); // return the current height of the subtree\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114848,"reputation":134179,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1270678178,"creation_date":1270677192,"answer_id":2596200,"question_id":742844,"body_markdown":"Balance is a truly subtle property; you think you know what it is, but it&#39;s so easy to get wrong. In particular, even Eric Lippert&#39;s (good) answer is off. That&#39;s because the notion of *height* is not enough. You need to have the concept of minimum and maximum heights of a tree (where the minimum height is the least number of steps from the root to a leaf, and the maximum is... well, you get the picture). Given that, we can define balance to be:\r\n\r\n&gt; A tree where the maximum height of any branch is no more than *one* more than the minimum height of any branch.\r\n\r\n(This actually implies that the branches are themselves balanced; you can pick the same branch for both maximum and minimum.)\r\n\r\nAll you need to do to verify this property is a simple tree traversal keeping track of the current depth. The first time you backtrack, that gives you a baseline depth. Each time after that when you backtrack, you compare the new depth against the baseline\r\n\r\n* if it&#39;s equal to the baseline, then you just continue\r\n* if it is more than one different, the tree isn&#39;t balanced\r\n* if it is one off, then you now know the range for balance, and all subsequent depths (when you&#39;re about to backtrack) must be either the first or the second value.\r\n\r\nIn code:\r\n\r\n    class Tree {\r\n        Tree left, right;\r\n        static interface Observer {\r\n            public void before();\r\n            public void after();\r\n            public boolean end();\r\n        }\r\n        static boolean traverse(Tree t, Observer o) {\r\n            if (t == null) {\r\n                return o.end();\r\n            } else {\r\n                o.before();\r\n                try {\r\n                    if (traverse(left, o))\r\n                        return traverse(right, o);\r\n                    return false;\r\n                } finally {\r\n                    o.after();\r\n                }\r\n            }\r\n        }\r\n        boolean balanced() {\r\n            final Integer[] heights = new Integer[2];\r\n            return traverse(this, new Observer() {\r\n                int h;\r\n                public void before() { h++; }\r\n                public void after() { h--; }\r\n                public boolean end() {\r\n                    if (heights[0] == null) {\r\n                        heights[0] = h;\r\n                    } else if (Math.abs(heights[0] - h) &gt; 1) {\r\n                        return false;\r\n                    } else if (heights[0] != h) {\r\n                        if (heights[1] == null) {\r\n                            heights[1] = h;\r\n                        } else if (heights[1] != h) {\r\n                            return false;\r\n                        }\r\n                    }\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nI suppose you could do this without using the Observer pattern, but I find it easier to reason this way.\r\n\r\n----\r\n\r\n[EDIT]: Why you can&#39;t just take the height of each side. Consider this tree:\r\n\r\n            /\\\r\n           /  \\\r\n          /    \\\r\n         /      \\_____\r\n        /\\      /     \\_\r\n       /  \\    /      / \\\r\n      /\\   C  /\\     /   \\\r\n     /  \\    /  \\   /\\   /\\\r\n    A    B  D    E F  G H  J\r\n\r\nOK, a bit messy, but each side of the root is balanced: `C` is depth 2, `A`, `B`, `D`, `E` are depth 3, and `F`, `G`, `H`, `J` are depth 4. The height of the left branch is 2 (remember the height decreases as you traverse the branch), the height of the right branch is 3. Yet the overall tree is *not* balanced as there is a difference in height of 2 between `C` and `F`. You need a minimax specification (though the actual algorithm can be less complex as there should be only two permitted heights).","title":"How to determine if binary tree is balanced?","body":"<p>Balance is a truly subtle property; you think you know what it is, but it's so easy to get wrong. In particular, even Eric Lippert's (good) answer is off. That's because the notion of <em>height</em> is not enough. You need to have the concept of minimum and maximum heights of a tree (where the minimum height is the least number of steps from the root to a leaf, and the maximum is... well, you get the picture). Given that, we can define balance to be:</p>\n\n<blockquote>\n  <p>A tree where the maximum height of any branch is no more than <em>one</em> more than the minimum height of any branch.</p>\n</blockquote>\n\n<p>(This actually implies that the branches are themselves balanced; you can pick the same branch for both maximum and minimum.)</p>\n\n<p>All you need to do to verify this property is a simple tree traversal keeping track of the current depth. The first time you backtrack, that gives you a baseline depth. Each time after that when you backtrack, you compare the new depth against the baseline</p>\n\n<ul>\n<li>if it's equal to the baseline, then you just continue</li>\n<li>if it is more than one different, the tree isn't balanced</li>\n<li>if it is one off, then you now know the range for balance, and all subsequent depths (when you're about to backtrack) must be either the first or the second value.</li>\n</ul>\n\n<p>In code:</p>\n\n<pre><code>class Tree {\n    Tree left, right;\n    static interface Observer {\n        public void before();\n        public void after();\n        public boolean end();\n    }\n    static boolean traverse(Tree t, Observer o) {\n        if (t == null) {\n            return o.end();\n        } else {\n            o.before();\n            try {\n                if (traverse(left, o))\n                    return traverse(right, o);\n                return false;\n            } finally {\n                o.after();\n            }\n        }\n    }\n    boolean balanced() {\n        final Integer[] heights = new Integer[2];\n        return traverse(this, new Observer() {\n            int h;\n            public void before() { h++; }\n            public void after() { h--; }\n            public boolean end() {\n                if (heights[0] == null) {\n                    heights[0] = h;\n                } else if (Math.abs(heights[0] - h) &gt; 1) {\n                    return false;\n                } else if (heights[0] != h) {\n                    if (heights[1] == null) {\n                        heights[1] = h;\n                    } else if (heights[1] != h) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>I suppose you could do this without using the Observer pattern, but I find it easier to reason this way.</p>\n\n<hr>\n\n<p>[EDIT]: Why you can't just take the height of each side. Consider this tree:</p>\n\n<pre><code>        /\\\n       /  \\\n      /    \\\n     /      \\_____\n    /\\      /     \\_\n   /  \\    /      / \\\n  /\\   C  /\\     /   \\\n /  \\    /  \\   /\\   /\\\nA    B  D    E F  G H  J\n</code></pre>\n\n<p>OK, a bit messy, but each side of the root is balanced: <code>C</code> is depth 2, <code>A</code>, <code>B</code>, <code>D</code>, <code>E</code> are depth 3, and <code>F</code>, <code>G</code>, <code>H</code>, <code>J</code> are depth 4. The height of the left branch is 2 (remember the height decreases as you traverse the branch), the height of the right branch is 3. Yet the overall tree is <em>not</em> balanced as there is a difference in height of 2 between <code>C</code> and <code>F</code>. You need a minimax specification (though the actual algorithm can be less complex as there should be only two permitted heights).</p>\n"},{"tags":[],"owner":{"account_id":670128,"reputation":71,"user_id":510528,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1289982805,"creation_date":1289982805,"answer_id":4202685,"question_id":742844,"body_markdown":"This is being made way more complicated than it actually is.\r\n\r\nThe algorithm is as follows:\r\n\r\n1. Let A = depth of the highest-level node\r\n2. Let B = depth of the lowest-level node\r\n\r\n3. If abs(A-B) &lt;= 1, then the tree is balanced","title":"How to determine if binary tree is balanced?","body":"<p>This is being made way more complicated than it actually is.</p>\n\n<p>The algorithm is as follows:</p>\n\n<ol>\n<li>Let A = depth of the highest-level node</li>\n<li><p>Let B = depth of the lowest-level node</p></li>\n<li><p>If abs(A-B) &lt;= 1, then the tree is balanced</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1298370053,"creation_date":1298370053,"answer_id":5076865,"question_id":742844,"body_markdown":"The definition of a height-balanced binary tree is:\r\n\r\n&gt; Binary tree in which the height of the\r\n&gt; two subtrees of **every** node never\r\n&gt; differ by more than 1.\r\n\r\nSo,\r\nAn empty binary tree is always height-balanced. &lt;br&gt;\r\nA non-empty binary tree is height-balanced if:\r\n\r\n 1. Its left subtree is height-balanced.\r\n 2. Its right subtree is height-balanced.\r\n 3. The difference between heights of\r\n    left &amp; right subtree is not greater\r\n    than 1.\r\n\r\nConsider the tree:\r\n\r\n        A\r\n         \\ \r\n          B\r\n         / \\\r\n        C   D\r\n\r\nAs seen the left subtree of `A` is height-balanced (as it is empty) and so is its right subtree. But still the tree is not height-balanced as condition 3 is not met as height of left-subtree is `0` and height of right sub-tree is `2`.\r\n\r\nAlso the following tree is not height balanced even though the height of left and right sub-tree are equal. Your existing code will return true for it.\r\n\r\n           A\r\n         /  \\ \r\n        B    C\r\n       /      \\\r\n      D        G\r\n     /          \\\r\n    E            H\r\n\r\nSo the word **every** in the def is very important.\r\n\r\nThis will work:\r\n\r\n    int height(treeNodePtr root) {\r\n            return (!root) ? 0: 1 + MAX(height(root-&gt;left),height(root-&gt;right));\r\n    }\r\n    \r\n    bool isHeightBalanced(treeNodePtr root) {\r\n            return (root == NULL) ||\r\n                    (isHeightBalanced(root-&gt;left) &amp;&amp;\r\n                    isHeightBalanced(root-&gt;right) &amp;&amp;\r\n                    abs(height(root-&gt;left) - height(root-&gt;right)) &lt;=1);\r\n    }\r\n\r\n[**Ideone Link**][1]\r\n\r\n\r\n  [1]: http://www.ideone.com/LB5x6","title":"How to determine if binary tree is balanced?","body":"<p>The definition of a height-balanced binary tree is:</p>\n\n<blockquote>\n  <p>Binary tree in which the height of the\n  two subtrees of <strong>every</strong> node never\n  differ by more than 1.</p>\n</blockquote>\n\n<p>So,\nAn empty binary tree is always height-balanced. <br>\nA non-empty binary tree is height-balanced if:</p>\n\n<ol>\n<li>Its left subtree is height-balanced.</li>\n<li>Its right subtree is height-balanced.</li>\n<li>The difference between heights of\nleft &amp; right subtree is not greater\nthan 1.</li>\n</ol>\n\n<p>Consider the tree:</p>\n\n<pre><code>    A\n     \\ \n      B\n     / \\\n    C   D\n</code></pre>\n\n<p>As seen the left subtree of <code>A</code> is height-balanced (as it is empty) and so is its right subtree. But still the tree is not height-balanced as condition 3 is not met as height of left-subtree is <code>0</code> and height of right sub-tree is <code>2</code>.</p>\n\n<p>Also the following tree is not height balanced even though the height of left and right sub-tree are equal. Your existing code will return true for it.</p>\n\n<pre><code>       A\n     /  \\ \n    B    C\n   /      \\\n  D        G\n /          \\\nE            H\n</code></pre>\n\n<p>So the word <strong>every</strong> in the def is very important.</p>\n\n<p>This will work:</p>\n\n<pre><code>int height(treeNodePtr root) {\n        return (!root) ? 0: 1 + MAX(height(root-&gt;left),height(root-&gt;right));\n}\n\nbool isHeightBalanced(treeNodePtr root) {\n        return (root == NULL) ||\n                (isHeightBalanced(root-&gt;left) &amp;&amp;\n                isHeightBalanced(root-&gt;right) &amp;&amp;\n                abs(height(root-&gt;left) - height(root-&gt;right)) &lt;=1);\n}\n</code></pre>\n\n<p><a href=\"http://www.ideone.com/LB5x6\" rel=\"noreferrer\"><strong>Ideone Link</strong></a></p>\n"},{"tags":[],"owner":{"account_id":748560,"reputation":31,"user_id":739184,"display_name":"sdk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1304570561,"creation_date":1304570561,"answer_id":5892746,"question_id":742844,"body_markdown":"    public boolean isBalanced(TreeNode root)\r\n    {\r\n        return (maxDepth(root) - minDepth(root) &lt;= 1);\r\n    }\r\n\r\n    public int maxDepth(TreeNode root)\r\n    {\r\n        if (root == null) return 0;\r\n\r\n        return 1 + max(maxDepth(root.left), maxDepth(root.right));\r\n    }\r\n\r\n    public int minDepth (TreeNode root)\r\n    {\r\n        if (root == null) return 0;\r\n\r\n        return 1 + min(minDepth(root.left), minDepth(root.right));\r\n    }","title":"How to determine if binary tree is balanced?","body":"<pre><code>public boolean isBalanced(TreeNode root)\n{\n    return (maxDepth(root) - minDepth(root) &lt;= 1);\n}\n\npublic int maxDepth(TreeNode root)\n{\n    if (root == null) return 0;\n\n    return 1 + max(maxDepth(root.left), maxDepth(root.right));\n}\n\npublic int minDepth (TreeNode root)\n{\n    if (root == null) return 0;\n\n    return 1 + min(minDepth(root.left), minDepth(root.right));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1088964,"reputation":21,"user_id":1084032,"display_name":"Frank Raaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323192864,"creation_date":1323192864,"answer_id":8404188,"question_id":742844,"body_markdown":"    #include &lt;iostream&gt;\r\n    #include &lt;deque&gt;\r\n    #include &lt;queue&gt;\r\n    \r\n    struct node\r\n    {\r\n    \tint data;\r\n    \tnode *left;\r\n    \tnode *right;\r\n    };\r\n    \r\n    bool isBalanced(node *root)\r\n    {\r\n    \tif ( !root)\r\n    \t{\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tstd::queue&lt;node *&gt; q1;\r\n    \tstd::queue&lt;int&gt;  q2;\r\n    \tint level = 0, last_level = -1, node_count = 0;\r\n    \r\n    \tq1.push(root);\r\n    \tq2.push(level);\r\n    \r\n    \twhile ( !q1.empty() )\r\n    \t{\r\n    \t\tnode *current = q1.front();\r\n    \t\tlevel = q2.front();\r\n    \r\n    \t\tq1.pop();\r\n    \t\tq2.pop();\r\n    \r\n    \t\tif ( level )\r\n    \t\t{\r\n    \t\t\t++node_count;\r\n    \t\t}\r\n    \r\n                    if ( current-&gt;left )\r\n                    {\r\n                            q1.push(current-&gt;left);\r\n                            q2.push(level + 1);\r\n                    }\r\n    \r\n                    if ( current-&gt;right )\r\n                    {\r\n                            q1.push(current-&gt;right);\r\n                            q2.push(level + 1);\r\n                    }\r\n    \r\n    \t\tif ( level != last_level )\r\n    \t\t{\r\n    \t\t\tstd::cout &lt;&lt; &quot;Check: &quot; &lt;&lt; (node_count ? node_count - 1 : 1) &lt;&lt; &quot;, Level: &quot; &lt;&lt; level &lt;&lt; &quot;, Old level: &quot; &lt;&lt; last_level &lt;&lt; std::endl;\r\n    \t\t\tif ( level &amp;&amp; (node_count - 1) != (1 &lt;&lt; (level-1)) )\r\n    \t\t\t{\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\t\tlast_level = q2.front();\r\n    \t\t\tif ( level ) node_count = 1;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn true;\r\n    }\r\n    \r\n    int main()\r\n    {\r\n    \tnode tree[15];\r\n    \r\n    \ttree[0].left  = &amp;tree[1];\r\n    \ttree[0].right = &amp;tree[2];\r\n    \ttree[1].left  = &amp;tree[3];\r\n    \ttree[1].right = &amp;tree[4];\r\n    \ttree[2].left  = &amp;tree[5];\r\n    \ttree[2].right = &amp;tree[6];\r\n    \ttree[3].left  = &amp;tree[7];\r\n    \ttree[3].right = &amp;tree[8];\r\n    \ttree[4].left  = &amp;tree[9];   // NULL;\r\n    \ttree[4].right = &amp;tree[10];  // NULL;\r\n    \ttree[5].left  = &amp;tree[11];  // NULL;\r\n    \ttree[5].right = &amp;tree[12];  // NULL;\r\n    \ttree[6].left  = &amp;tree[13];\r\n    \ttree[6].right = &amp;tree[14];\r\n    \ttree[7].left  = &amp;tree[11];\r\n    \ttree[7].right = &amp;tree[12];\r\n    \ttree[8].left  = NULL;\r\n    \ttree[8].right = &amp;tree[10];\r\n    \ttree[9].left  = NULL;\r\n    \ttree[9].right = &amp;tree[10];\r\n    \ttree[10].left = NULL;\r\n    \ttree[10].right= NULL;\r\n    \ttree[11].left = NULL;\r\n    \ttree[11].right= NULL;\r\n    \ttree[12].left = NULL;\r\n    \ttree[12].right= NULL;\r\n    \ttree[13].left = NULL;\r\n    \ttree[13].right= NULL;\r\n    \ttree[14].left = NULL;\r\n    \ttree[14].right= NULL;\r\n    \r\n    \tstd::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; isBalanced(tree) &lt;&lt; std::endl;\r\n    \r\n    \treturn 0;\r\n    }\r\n    \r\n        \r\n","title":"How to determine if binary tree is balanced?","body":"<pre><code>#include &lt;iostream&gt;\n#include &lt;deque&gt;\n#include &lt;queue&gt;\n\nstruct node\n{\n    int data;\n    node *left;\n    node *right;\n};\n\nbool isBalanced(node *root)\n{\n    if ( !root)\n    {\n        return true;\n    }\n\n    std::queue&lt;node *&gt; q1;\n    std::queue&lt;int&gt;  q2;\n    int level = 0, last_level = -1, node_count = 0;\n\n    q1.push(root);\n    q2.push(level);\n\n    while ( !q1.empty() )\n    {\n        node *current = q1.front();\n        level = q2.front();\n\n        q1.pop();\n        q2.pop();\n\n        if ( level )\n        {\n            ++node_count;\n        }\n\n                if ( current-&gt;left )\n                {\n                        q1.push(current-&gt;left);\n                        q2.push(level + 1);\n                }\n\n                if ( current-&gt;right )\n                {\n                        q1.push(current-&gt;right);\n                        q2.push(level + 1);\n                }\n\n        if ( level != last_level )\n        {\n            std::cout &lt;&lt; \"Check: \" &lt;&lt; (node_count ? node_count - 1 : 1) &lt;&lt; \", Level: \" &lt;&lt; level &lt;&lt; \", Old level: \" &lt;&lt; last_level &lt;&lt; std::endl;\n            if ( level &amp;&amp; (node_count - 1) != (1 &lt;&lt; (level-1)) )\n            {\n                return false;\n            }\n\n            last_level = q2.front();\n            if ( level ) node_count = 1;\n        }\n    }\n\n    return true;\n}\n\nint main()\n{\n    node tree[15];\n\n    tree[0].left  = &amp;tree[1];\n    tree[0].right = &amp;tree[2];\n    tree[1].left  = &amp;tree[3];\n    tree[1].right = &amp;tree[4];\n    tree[2].left  = &amp;tree[5];\n    tree[2].right = &amp;tree[6];\n    tree[3].left  = &amp;tree[7];\n    tree[3].right = &amp;tree[8];\n    tree[4].left  = &amp;tree[9];   // NULL;\n    tree[4].right = &amp;tree[10];  // NULL;\n    tree[5].left  = &amp;tree[11];  // NULL;\n    tree[5].right = &amp;tree[12];  // NULL;\n    tree[6].left  = &amp;tree[13];\n    tree[6].right = &amp;tree[14];\n    tree[7].left  = &amp;tree[11];\n    tree[7].right = &amp;tree[12];\n    tree[8].left  = NULL;\n    tree[8].right = &amp;tree[10];\n    tree[9].left  = NULL;\n    tree[9].right = &amp;tree[10];\n    tree[10].left = NULL;\n    tree[10].right= NULL;\n    tree[11].left = NULL;\n    tree[11].right= NULL;\n    tree[12].left = NULL;\n    tree[12].right= NULL;\n    tree[13].left = NULL;\n    tree[13].right= NULL;\n    tree[14].left = NULL;\n    tree[14].right= NULL;\n\n    std::cout &lt;&lt; \"Result: \" &lt;&lt; isBalanced(tree) &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2393532,"reputation":1,"user_id":2092875,"display_name":"Saurabh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1361390947,"creation_date":1361390947,"answer_id":14988974,"question_id":742844,"body_markdown":"        static boolean isBalanced(Node root) {\r\n        //check in the depth of left and right subtree\r\n        int diff = depth(root.getLeft()) - depth(root.getRight());\r\n        if (diff &lt; 0) {\r\n            diff = diff * -1;\r\n        }\r\n        if (diff &gt; 1) {\r\n            return false;\r\n        }\r\n        //go to child nodes\r\n        else {\r\n            if (root.getLeft() == null &amp;&amp; root.getRight() == null) {\r\n                return true;\r\n            } else if (root.getLeft() == null) {\r\n                if (depth(root.getRight()) &gt; 1) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            } else if (root.getRight() == null) {\r\n                if (depth(root.getLeft()) &gt; 1) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            } else if (root.getLeft() != null &amp;&amp; root.getRight() != null &amp;&amp; isBalanced(root.getLeft()) &amp;&amp; isBalanced(root.getRight())) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }","title":"How to determine if binary tree is balanced?","body":"<pre><code>    static boolean isBalanced(Node root) {\n    //check in the depth of left and right subtree\n    int diff = depth(root.getLeft()) - depth(root.getRight());\n    if (diff &lt; 0) {\n        diff = diff * -1;\n    }\n    if (diff &gt; 1) {\n        return false;\n    }\n    //go to child nodes\n    else {\n        if (root.getLeft() == null &amp;&amp; root.getRight() == null) {\n            return true;\n        } else if (root.getLeft() == null) {\n            if (depth(root.getRight()) &gt; 1) {\n                return false;\n            } else {\n                return true;\n            }\n        } else if (root.getRight() == null) {\n            if (depth(root.getLeft()) &gt; 1) {\n                return false;\n            } else {\n                return true;\n            }\n        } else if (root.getLeft() != null &amp;&amp; root.getRight() != null &amp;&amp; isBalanced(root.getLeft()) &amp;&amp; isBalanced(root.getRight())) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2929383,"reputation":1,"user_id":2510036,"display_name":"always"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371839450,"creation_date":1371839450,"answer_id":17242053,"question_id":742844,"body_markdown":"\tpublic int height(Node node){\r\n\t\tif(node==null)return 0;\r\n\t\telse{\r\n\t\t\tint l=height(node.leftChild);\r\n\t\t    int r=height(node.rightChild);\r\n\t\t   return(l&gt;r?l+1:r+1);\r\n\t\t    \r\n\t}}\r\n\tpublic boolean balanced(Node n){\r\n\t\t\r\n\t\tint l= height(n.leftChild);\r\n\t\tint r= height(n.rightChild);\r\n\t\t\r\n\t\tSystem.out.println(l + &quot; &quot; +r);\r\n\t\tif(Math.abs(l-r)&gt;1)\r\n\t\t\treturn false;\r\n\t\telse \r\n\t\t\treturn true;\r\n\t\t}","title":"How to determine if binary tree is balanced?","body":"<pre><code>public int height(Node node){\n    if(node==null)return 0;\n    else{\n        int l=height(node.leftChild);\n        int r=height(node.rightChild);\n       return(l&gt;r?l+1:r+1);\n\n}}\npublic boolean balanced(Node n){\n\n    int l= height(n.leftChild);\n    int r= height(n.rightChild);\n\n    System.out.println(l + \" \" +r);\n    if(Math.abs(l-r)&gt;1)\n        return false;\n    else \n        return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":996825,"reputation":17630,"user_id":1012551,"accept_rate":92,"display_name":"Saqlain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375438035,"creation_date":1375438035,"answer_id":18014274,"question_id":742844,"body_markdown":"An empty tree is height-balanced. A non-empty binary tree T is balanced if:\r\n\r\n1) Left subtree of T is balanced\r\n\r\n2) Right subtree of T is balanced\r\n\r\n3) The difference between heights of left subtree and right subtree is not more than 1.\r\n\r\n\r\n    /* program to check if a tree is height-balanced or not */\r\n    #include&lt;stdio.h&gt;\r\n    #include&lt;stdlib.h&gt;\r\n    #define bool int\r\n     \r\n    /* A binary tree node has data, pointer to left child\r\n       and a pointer to right child */\r\n    struct node\r\n    {\r\n      int data;\r\n      struct node* left;\r\n      struct node* right;\r\n    };\r\n     \r\n    /* The function returns true if root is balanced else false\r\n       The second parameter is to store the height of tree.  \r\n       Initially, we need to pass a pointer to a location with value \r\n       as 0. We can also write a wrapper over this function */\r\n    bool isBalanced(struct node *root, int* height)\r\n    {\r\n      /* lh --&gt; Height of left subtree \r\n         rh --&gt; Height of right subtree */   \r\n      int lh = 0, rh = 0;  \r\n     \r\n      /* l will be true if left subtree is balanced \r\n        and r will be true if right subtree is balanced */\r\n      int l = 0, r = 0;\r\n         \r\n      if(root == NULL)\r\n      {\r\n        *height = 0;\r\n         return 1;\r\n      }\r\n     \r\n      /* Get the heights of left and right subtrees in lh and rh \r\n        And store the returned values in l and r */   \r\n      l = isBalanced(root-&gt;left, &amp;lh);\r\n      r = isBalanced(root-&gt;right,&amp;rh);\r\n     \r\n      /* Height of current node is max of heights of left and \r\n         right subtrees plus 1*/   \r\n      *height = (lh &gt; rh? lh: rh) + 1;\r\n         \r\n      /* If difference between heights of left and right \r\n         subtrees is more than 2 then this node is not balanced\r\n         so return 0 */\r\n      if((lh - rh &gt;= 2) || (rh - lh &gt;= 2))\r\n        return 0;\r\n         \r\n      /* If this node is balanced and left and right subtrees \r\n        are balanced then return true */\r\n      else return l&amp;&amp;r;\r\n    }\r\n     \r\n     \r\n    /* UTILITY FUNCTIONS TO TEST isBalanced() FUNCTION */\r\n     \r\n    /* Helper function that allocates a new node with the\r\n       given data and NULL left and right pointers. */\r\n    struct node* newNode(int data)\r\n    {\r\n        struct node* node = (struct node*)\r\n                                    malloc(sizeof(struct node));\r\n        node-&gt;data = data;\r\n        node-&gt;left = NULL;\r\n        node-&gt;right = NULL;\r\n     \r\n        return(node);\r\n    }\r\n     \r\n    int main()\r\n    {\r\n      int height = 0;\r\n        \r\n      /* Constructed binary tree is\r\n                 1\r\n               /   \\\r\n             2      3\r\n           /  \\    /\r\n         4     5  6\r\n        /\r\n       7\r\n      */   \r\n      struct node *root = newNode(1);  \r\n      root-&gt;left = newNode(2);\r\n      root-&gt;right = newNode(3);\r\n      root-&gt;left-&gt;left = newNode(4);\r\n      root-&gt;left-&gt;right = newNode(5);\r\n      root-&gt;right-&gt;left = newNode(6);\r\n      root-&gt;left-&gt;left-&gt;left = newNode(7);\r\n     \r\n      if(isBalanced(root, &amp;height))\r\n        printf(&quot;Tree is balanced&quot;);\r\n      else\r\n        printf(&quot;Tree is not balanced&quot;);    \r\n     \r\n      getchar();\r\n      return 0;\r\n    }\r\n\r\nTime Complexity: O(n)\r\n","title":"How to determine if binary tree is balanced?","body":"<p>An empty tree is height-balanced. A non-empty binary tree T is balanced if:</p>\n\n<p>1) Left subtree of T is balanced</p>\n\n<p>2) Right subtree of T is balanced</p>\n\n<p>3) The difference between heights of left subtree and right subtree is not more than 1.</p>\n\n<pre><code>/* program to check if a tree is height-balanced or not */\n#include&lt;stdio.h&gt;\n#include&lt;stdlib.h&gt;\n#define bool int\n\n/* A binary tree node has data, pointer to left child\n   and a pointer to right child */\nstruct node\n{\n  int data;\n  struct node* left;\n  struct node* right;\n};\n\n/* The function returns true if root is balanced else false\n   The second parameter is to store the height of tree.  \n   Initially, we need to pass a pointer to a location with value \n   as 0. We can also write a wrapper over this function */\nbool isBalanced(struct node *root, int* height)\n{\n  /* lh --&gt; Height of left subtree \n     rh --&gt; Height of right subtree */   \n  int lh = 0, rh = 0;  \n\n  /* l will be true if left subtree is balanced \n    and r will be true if right subtree is balanced */\n  int l = 0, r = 0;\n\n  if(root == NULL)\n  {\n    *height = 0;\n     return 1;\n  }\n\n  /* Get the heights of left and right subtrees in lh and rh \n    And store the returned values in l and r */   \n  l = isBalanced(root-&gt;left, &amp;lh);\n  r = isBalanced(root-&gt;right,&amp;rh);\n\n  /* Height of current node is max of heights of left and \n     right subtrees plus 1*/   \n  *height = (lh &gt; rh? lh: rh) + 1;\n\n  /* If difference between heights of left and right \n     subtrees is more than 2 then this node is not balanced\n     so return 0 */\n  if((lh - rh &gt;= 2) || (rh - lh &gt;= 2))\n    return 0;\n\n  /* If this node is balanced and left and right subtrees \n    are balanced then return true */\n  else return l&amp;&amp;r;\n}\n\n\n/* UTILITY FUNCTIONS TO TEST isBalanced() FUNCTION */\n\n/* Helper function that allocates a new node with the\n   given data and NULL left and right pointers. */\nstruct node* newNode(int data)\n{\n    struct node* node = (struct node*)\n                                malloc(sizeof(struct node));\n    node-&gt;data = data;\n    node-&gt;left = NULL;\n    node-&gt;right = NULL;\n\n    return(node);\n}\n\nint main()\n{\n  int height = 0;\n\n  /* Constructed binary tree is\n             1\n           /   \\\n         2      3\n       /  \\    /\n     4     5  6\n    /\n   7\n  */   \n  struct node *root = newNode(1);  \n  root-&gt;left = newNode(2);\n  root-&gt;right = newNode(3);\n  root-&gt;left-&gt;left = newNode(4);\n  root-&gt;left-&gt;right = newNode(5);\n  root-&gt;right-&gt;left = newNode(6);\n  root-&gt;left-&gt;left-&gt;left = newNode(7);\n\n  if(isBalanced(root, &amp;height))\n    printf(\"Tree is balanced\");\n  else\n    printf(\"Tree is not balanced\");    \n\n  getchar();\n  return 0;\n}\n</code></pre>\n\n<p>Time Complexity: O(n)</p>\n"},{"tags":[],"owner":{"account_id":2992810,"reputation":9,"user_id":2540015,"display_name":"Maher Rezeq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375837577,"creation_date":1375837160,"answer_id":18092960,"question_id":742844,"body_markdown":"To have a better performance specially on huge trees you can save the height in each node so it is a trade off space Vs performance:\r\n    \r\n    class Node {\r\n        Node left;\r\n        Node right;\r\n        int value;\r\n        int height;\r\n    }\r\nExample of implementing the addition and same for deletion \r\n    \r\n    void addNode(Node root,int v)\r\n    {    int height =0;\r\n         while(root != null)\r\n         {\r\n             // Since we are adding new node so the height \r\n             // will increase by one in each node we will pass by\r\n             root.height += 1;\r\n             height++;\r\n             else if(v &gt; root.value){\r\n                root = root.left();\r\n                }\r\n             else{\r\n             root = root.right();\r\n             }\r\n         \r\n         }\r\n                  \r\n             height++;\r\n             Node n = new Node(v , height);\r\n             root = n;         \r\n    }\r\n    int treeMaxHeight(Node root)\r\n    {\r\n     return Math.Max(root.left.height,root.right.height);\r\n    }\r\n    \r\n    int treeMinHeight(Node root)\r\n    {\r\n     return Math.Min(root.left.height,root.right.height);\r\n    \r\n    }\r\n    \r\n    Boolean isNodeBlanced(Node root)\r\n    {\r\n       if (treeMaxHeight(root) - treeMinHeight(root) &gt; 2)\r\n           return false;\r\n       \r\n      return true;\r\n    }\r\n    \r\n    Boolean isTreeBlanced (Node root)\r\n    {\r\n        if(root == null || isTreeBalanced(root.left) &amp;&amp; isTreeBalanced(root.right) &amp;&amp; isNodeBlanced(root))\r\n        return true;\r\n        \r\n      return false;\r\n    \r\n    }","title":"How to determine if binary tree is balanced?","body":"<p>To have a better performance specially on huge trees you can save the height in each node so it is a trade off space Vs performance:</p>\n\n<pre><code>class Node {\n    Node left;\n    Node right;\n    int value;\n    int height;\n}\n</code></pre>\n\n<p>Example of implementing the addition and same for deletion </p>\n\n<pre><code>void addNode(Node root,int v)\n{    int height =0;\n     while(root != null)\n     {\n         // Since we are adding new node so the height \n         // will increase by one in each node we will pass by\n         root.height += 1;\n         height++;\n         else if(v &gt; root.value){\n            root = root.left();\n            }\n         else{\n         root = root.right();\n         }\n\n     }\n\n         height++;\n         Node n = new Node(v , height);\n         root = n;         \n}\nint treeMaxHeight(Node root)\n{\n return Math.Max(root.left.height,root.right.height);\n}\n\nint treeMinHeight(Node root)\n{\n return Math.Min(root.left.height,root.right.height);\n\n}\n\nBoolean isNodeBlanced(Node root)\n{\n   if (treeMaxHeight(root) - treeMinHeight(root) &gt; 2)\n       return false;\n\n  return true;\n}\n\nBoolean isTreeBlanced (Node root)\n{\n    if(root == null || isTreeBalanced(root.left) &amp;&amp; isTreeBalanced(root.right) &amp;&amp; isNodeBlanced(root))\n    return true;\n\n  return false;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1008265,"reputation":1269,"user_id":1021397,"display_name":"Jiaji Li"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1378219457,"creation_date":1378219457,"answer_id":18595183,"question_id":742844,"body_markdown":"Post order solution, traverse the tree only once. Time complexity is O(n), space is O(1), it&#39;s better than top-down solution. I give you a java version implementation.\r\n\r\n\tpublic static &lt;T&gt; boolean isBalanced(TreeNode&lt;T&gt; root){\r\n\t\treturn checkBalance(root) != -1;\r\n\t}\r\n\t\r\n\tprivate static &lt;T&gt; int checkBalance(TreeNode&lt;T&gt; node){\r\n\t\tif(node == null) return 0;\r\n\t\tint left = checkBalance(node.getLeft());\r\n\t\t\r\n\t\tif(left == -1) return -1;\r\n\t\t\r\n\t\tint right = checkBalance(node.getRight());\r\n\t\t\r\n\t\tif(right == -1) return -1;\r\n\t\t\r\n\t\tif(Math.abs(left - right) &gt; 1){\r\n\t\t\treturn -1;\r\n\t\t}else{\r\n\t\t\treturn 1 + Math.max(left, right);\r\n\t\t}\r\n\t}","title":"How to determine if binary tree is balanced?","body":"<p>Post order solution, traverse the tree only once. Time complexity is O(n), space is O(1), it's better than top-down solution. I give you a java version implementation.</p>\n\n<pre><code>public static &lt;T&gt; boolean isBalanced(TreeNode&lt;T&gt; root){\n    return checkBalance(root) != -1;\n}\n\nprivate static &lt;T&gt; int checkBalance(TreeNode&lt;T&gt; node){\n    if(node == null) return 0;\n    int left = checkBalance(node.getLeft());\n\n    if(left == -1) return -1;\n\n    int right = checkBalance(node.getRight());\n\n    if(right == -1) return -1;\n\n    if(Math.abs(left - right) &gt; 1){\n        return -1;\n    }else{\n        return 1 + Math.max(left, right);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104023,"reputation":19959,"user_id":278326,"accept_rate":72,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401764002,"creation_date":1401764002,"answer_id":24006380,"question_id":742844,"body_markdown":"Note 1: The height of any sub-tree is computed only once.\r\n\r\nNote 2: If the left sub-tree is unbalanced then the computation of the right sub-tree, potentially containing million elements, is skipped.\r\n\r\n\r\n    // return height of tree rooted at &quot;tn&quot; if, and only if, it is a balanced subtree\r\n    // else return -1\r\n    int maxHeight( TreeNode const * tn ) {\r\n        if( tn ) {\r\n            int const lh = maxHeight( tn-&gt;left );\r\n            if( lh == -1 ) return -1;\r\n            int const rh = maxHeight( tn-&gt;right );\r\n            if( rh == -1 ) return -1;\r\n            if( abs( lh - rh ) &gt; 1 ) return -1;\r\n            return 1 + max( lh, rh );\r\n        }\r\n        return 0;\r\n    }\r\n    \r\n    bool isBalanced( TreeNode const * root ) {\r\n        // Unless the maxHeight is -1, the subtree under &quot;root&quot; is balanced\r\n        return maxHeight( root ) != -1;\r\n    }","title":"How to determine if binary tree is balanced?","body":"<p>Note 1: The height of any sub-tree is computed only once.</p>\n\n<p>Note 2: If the left sub-tree is unbalanced then the computation of the right sub-tree, potentially containing million elements, is skipped.</p>\n\n<pre><code>// return height of tree rooted at \"tn\" if, and only if, it is a balanced subtree\n// else return -1\nint maxHeight( TreeNode const * tn ) {\n    if( tn ) {\n        int const lh = maxHeight( tn-&gt;left );\n        if( lh == -1 ) return -1;\n        int const rh = maxHeight( tn-&gt;right );\n        if( rh == -1 ) return -1;\n        if( abs( lh - rh ) &gt; 1 ) return -1;\n        return 1 + max( lh, rh );\n    }\n    return 0;\n}\n\nbool isBalanced( TreeNode const * root ) {\n    // Unless the maxHeight is -1, the subtree under \"root\" is balanced\n    return maxHeight( root ) != -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2460507,"reputation":164,"user_id":2144791,"display_name":"lucky"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1450295837,"creation_date":1450295837,"answer_id":34320967,"question_id":742844,"body_markdown":"If binary tree is balanced or not can be checked by Level order traversal:\r\n\r\n\tprivate boolean isLeaf(TreeNode root) {\r\n\t\tif (root.left == null &amp;&amp; root.right == null)\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate boolean isBalanced(TreeNode root) {\r\n        if (root == null)\r\n\t\t\treturn true;\r\n\t\tVector&lt;TreeNode&gt; queue = new Vector&lt;TreeNode&gt;();\r\n\t\tint level = 1, minLevel = Integer.MAX_VALUE, maxLevel = Integer.MIN_VALUE;\r\n\t\tqueue.add(root);\r\n\t\twhile (!queue.isEmpty()) {\r\n\t\t\tint elementCount = queue.size();\r\n\t\t\twhile (elementCount &gt; 0) {\r\n\t\t\t\tTreeNode node = queue.remove(0);\r\n\t\t\t\tif (isLeaf(node)) {\r\n\t\t\t\t\tif (minLevel &gt; level)\r\n\t\t\t\t\t\tminLevel = level;\r\n\t\t\t\t\tif (maxLevel &lt; level)\r\n\t\t\t\t\t\tmaxLevel = level;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (node.left != null)\r\n\t\t\t\t\t\tqueue.add(node.left);\r\n\t\t\t\t\tif (node.right != null)\r\n\t\t\t\t\t\tqueue.add(node.right);\r\n\t\t\t\t}\r\n\t\t\t\telementCount--;\r\n\t\t\t}\r\n\t\t\tif (abs(maxLevel - minLevel) &gt; 1) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlevel++;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}","title":"How to determine if binary tree is balanced?","body":"<p>If binary tree is balanced or not can be checked by Level order traversal:</p>\n\n<pre><code>private boolean isLeaf(TreeNode root) {\n    if (root.left == null &amp;&amp; root.right == null)\n        return true;\n    return false;\n}\n\nprivate boolean isBalanced(TreeNode root) {\n    if (root == null)\n        return true;\n    Vector&lt;TreeNode&gt; queue = new Vector&lt;TreeNode&gt;();\n    int level = 1, minLevel = Integer.MAX_VALUE, maxLevel = Integer.MIN_VALUE;\n    queue.add(root);\n    while (!queue.isEmpty()) {\n        int elementCount = queue.size();\n        while (elementCount &gt; 0) {\n            TreeNode node = queue.remove(0);\n            if (isLeaf(node)) {\n                if (minLevel &gt; level)\n                    minLevel = level;\n                if (maxLevel &lt; level)\n                    maxLevel = level;\n            } else {\n                if (node.left != null)\n                    queue.add(node.left);\n                if (node.right != null)\n                    queue.add(node.right);\n            }\n            elementCount--;\n        }\n        if (abs(maxLevel - minLevel) &gt; 1) {\n            return false;\n        }\n        level++;\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1388429,"reputation":933,"user_id":1319856,"display_name":"sbp"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1473076374,"creation_date":1473076012,"answer_id":39329934,"question_id":742844,"body_markdown":"Here is a complete worked out tested solution in C# (sorry I&#39;m no java dev) (just copy paste in console app).\r\nI know that definition of balanced varies so not everyone may like my test results but please just look at the slightly different approach of checking depth/height in a recursive loop and exiting on the first mismatch without saving node height/level/depth on each node (only maintaining it in a function call).\r\n\r\n    using System;\r\n    using System.Linq;\r\n    using System.Text;\r\n    \r\n    namespace BalancedTree\r\n    {\r\n        class Program\r\n        {\r\n            public static void Main()\r\n            {\r\n                //Value Gathering\r\n                Console.WriteLine(RunTreeTests(new[] { 0 }));\r\n                Console.WriteLine(RunTreeTests(new int[] { }));\r\n    \r\n                Console.WriteLine(RunTreeTests(new[] { 0, 1, 2, 3, 4, -1, -4, -3, -2 }));\r\n                Console.WriteLine(RunTreeTests(null));\r\n                Console.WriteLine(RunTreeTests(new[] { 10, 8, 12, 8, 4, 14, 8, 10 }));\r\n                Console.WriteLine(RunTreeTests(new int[] { 20, 10, 30, 5, 15, 25, 35, 3, 8, 12, 17, 22, 27, 32, 37 }));\r\n    \r\n                Console.ReadKey();\r\n            }\r\n    \r\n            static string RunTreeTests(int[] scores)\r\n            {\r\n                if (scores == null || scores.Count() == 0)\r\n                {\r\n                    return null;\r\n                }\r\n    \r\n                var tree = new BinarySearchTree();\r\n    \r\n                foreach (var score in scores)\r\n                {\r\n                    tree.InsertScore(score);\r\n                }\r\n    \r\n                Console.WriteLine(tree.IsBalanced());\r\n    \r\n                var sb = tree.GetBreadthWardsTraversedNodes();\r\n    \r\n                return sb.ToString(0, sb.Length - 1);\r\n            }\r\n        }\r\n    \r\n        public class Node\r\n        {\r\n            public int Value { get; set; }\r\n            public int Count { get; set; }\r\n            public Node RightChild { get; set; }\r\n            public Node LeftChild { get; set; }\r\n            public Node(int value)\r\n            {\r\n                Value = value;\r\n                Count = 1;\r\n            }\r\n    \r\n            public override string ToString()\r\n            {\r\n                return Value + &quot;:&quot; + Count;\r\n            }\r\n    \r\n            public bool IsLeafNode()\r\n            {\r\n                return LeftChild == null &amp;&amp; RightChild == null;\r\n            }\r\n    \r\n            public void AddValue(int value)\r\n            {\r\n                if (value == Value)\r\n                {\r\n                    Count++;\r\n                }\r\n                else\r\n                {\r\n                    if (value &gt; Value)\r\n                    {\r\n                        if (RightChild == null)\r\n                        {\r\n                            RightChild = new Node(value);\r\n                        }\r\n                        else\r\n                        {\r\n                            RightChild.AddValue(value);\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        if (LeftChild == null)\r\n                        {\r\n                            LeftChild = new Node(value);\r\n                        }\r\n                        else\r\n                        {\r\n                            LeftChild.AddValue(value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public class BinarySearchTree\r\n        {\r\n            public Node Root { get; set; }\r\n    \r\n            public void InsertScore(int score)\r\n            {\r\n                if (Root == null)\r\n                {\r\n                    Root = new Node(score);\r\n                }\r\n                else\r\n                {\r\n                    Root.AddValue(score);\r\n                }\r\n            }\r\n    \r\n            private static int _heightCheck;\r\n            public bool IsBalanced()\r\n            {\r\n                _heightCheck = 0;\r\n                var height = 0;\r\n                if (Root == null) return true;\r\n                var result = CheckHeight(Root, ref height);\r\n                height--;\r\n                return (result &amp;&amp; height == 0);\r\n            }\r\n    \r\n            private static bool CheckHeight(Node node, ref int height)\r\n            {\r\n                height++;\r\n                if (node.LeftChild == null)\r\n                {\r\n                    if (node.RightChild != null) return false;\r\n                    if (_heightCheck != 0) return _heightCheck == height;\r\n                    _heightCheck = height;\r\n                    return true;\r\n                }\r\n                if (node.RightChild == null)\r\n                {\r\n                    return false;\r\n                }\r\n    \r\n                var leftCheck = CheckHeight(node.LeftChild, ref height);\r\n                if (!leftCheck) return false;\r\n                height--;\r\n                var rightCheck = CheckHeight(node.RightChild, ref height);\r\n                if (!rightCheck) return false;\r\n                height--;\r\n                return true;\r\n            }\r\n    \r\n    \r\n            public StringBuilder GetBreadthWardsTraversedNodes()\r\n            {\r\n                if (Root == null) return null;\r\n                var traversQueue = new StringBuilder();\r\n                traversQueue.Append(Root + &quot;,&quot;);\r\n                if (Root.IsLeafNode()) return traversQueue;\r\n                TraversBreadthWards(traversQueue, Root);\r\n                return traversQueue;\r\n            }\r\n    \r\n            private static void TraversBreadthWards(StringBuilder sb, Node node)\r\n            {\r\n                if (node == null) return;\r\n                sb.Append(node.LeftChild + &quot;,&quot;);\r\n                sb.Append(node.RightChild + &quot;,&quot;);\r\n                if (node.LeftChild != null &amp;&amp; !node.LeftChild.IsLeafNode())\r\n                {\r\n                    TraversBreadthWards(sb, node.LeftChild);\r\n                }\r\n                if (node.RightChild != null &amp;&amp; !node.RightChild.IsLeafNode())\r\n                {\r\n                    TraversBreadthWards(sb, node.RightChild);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to determine if binary tree is balanced?","body":"<p>Here is a complete worked out tested solution in C# (sorry I'm no java dev) (just copy paste in console app).\nI know that definition of balanced varies so not everyone may like my test results but please just look at the slightly different approach of checking depth/height in a recursive loop and exiting on the first mismatch without saving node height/level/depth on each node (only maintaining it in a function call).</p>\n\n<pre><code>using System;\nusing System.Linq;\nusing System.Text;\n\nnamespace BalancedTree\n{\n    class Program\n    {\n        public static void Main()\n        {\n            //Value Gathering\n            Console.WriteLine(RunTreeTests(new[] { 0 }));\n            Console.WriteLine(RunTreeTests(new int[] { }));\n\n            Console.WriteLine(RunTreeTests(new[] { 0, 1, 2, 3, 4, -1, -4, -3, -2 }));\n            Console.WriteLine(RunTreeTests(null));\n            Console.WriteLine(RunTreeTests(new[] { 10, 8, 12, 8, 4, 14, 8, 10 }));\n            Console.WriteLine(RunTreeTests(new int[] { 20, 10, 30, 5, 15, 25, 35, 3, 8, 12, 17, 22, 27, 32, 37 }));\n\n            Console.ReadKey();\n        }\n\n        static string RunTreeTests(int[] scores)\n        {\n            if (scores == null || scores.Count() == 0)\n            {\n                return null;\n            }\n\n            var tree = new BinarySearchTree();\n\n            foreach (var score in scores)\n            {\n                tree.InsertScore(score);\n            }\n\n            Console.WriteLine(tree.IsBalanced());\n\n            var sb = tree.GetBreadthWardsTraversedNodes();\n\n            return sb.ToString(0, sb.Length - 1);\n        }\n    }\n\n    public class Node\n    {\n        public int Value { get; set; }\n        public int Count { get; set; }\n        public Node RightChild { get; set; }\n        public Node LeftChild { get; set; }\n        public Node(int value)\n        {\n            Value = value;\n            Count = 1;\n        }\n\n        public override string ToString()\n        {\n            return Value + \":\" + Count;\n        }\n\n        public bool IsLeafNode()\n        {\n            return LeftChild == null &amp;&amp; RightChild == null;\n        }\n\n        public void AddValue(int value)\n        {\n            if (value == Value)\n            {\n                Count++;\n            }\n            else\n            {\n                if (value &gt; Value)\n                {\n                    if (RightChild == null)\n                    {\n                        RightChild = new Node(value);\n                    }\n                    else\n                    {\n                        RightChild.AddValue(value);\n                    }\n                }\n                else\n                {\n                    if (LeftChild == null)\n                    {\n                        LeftChild = new Node(value);\n                    }\n                    else\n                    {\n                        LeftChild.AddValue(value);\n                    }\n                }\n            }\n        }\n    }\n\n    public class BinarySearchTree\n    {\n        public Node Root { get; set; }\n\n        public void InsertScore(int score)\n        {\n            if (Root == null)\n            {\n                Root = new Node(score);\n            }\n            else\n            {\n                Root.AddValue(score);\n            }\n        }\n\n        private static int _heightCheck;\n        public bool IsBalanced()\n        {\n            _heightCheck = 0;\n            var height = 0;\n            if (Root == null) return true;\n            var result = CheckHeight(Root, ref height);\n            height--;\n            return (result &amp;&amp; height == 0);\n        }\n\n        private static bool CheckHeight(Node node, ref int height)\n        {\n            height++;\n            if (node.LeftChild == null)\n            {\n                if (node.RightChild != null) return false;\n                if (_heightCheck != 0) return _heightCheck == height;\n                _heightCheck = height;\n                return true;\n            }\n            if (node.RightChild == null)\n            {\n                return false;\n            }\n\n            var leftCheck = CheckHeight(node.LeftChild, ref height);\n            if (!leftCheck) return false;\n            height--;\n            var rightCheck = CheckHeight(node.RightChild, ref height);\n            if (!rightCheck) return false;\n            height--;\n            return true;\n        }\n\n\n        public StringBuilder GetBreadthWardsTraversedNodes()\n        {\n            if (Root == null) return null;\n            var traversQueue = new StringBuilder();\n            traversQueue.Append(Root + \",\");\n            if (Root.IsLeafNode()) return traversQueue;\n            TraversBreadthWards(traversQueue, Root);\n            return traversQueue;\n        }\n\n        private static void TraversBreadthWards(StringBuilder sb, Node node)\n        {\n            if (node == null) return;\n            sb.Append(node.LeftChild + \",\");\n            sb.Append(node.RightChild + \",\");\n            if (node.LeftChild != null &amp;&amp; !node.LeftChild.IsLeafNode())\n            {\n                TraversBreadthWards(sb, node.LeftChild);\n            }\n            if (node.RightChild != null &amp;&amp; !node.RightChild.IsLeafNode())\n            {\n                TraversBreadthWards(sb, node.RightChild);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11298179,"reputation":39,"user_id":8285051,"display_name":"vikasnair"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1544296579,"creation_date":1544296579,"answer_id":53686026,"question_id":742844,"body_markdown":"RE: @lucky&#39;s solution using a BFS to do a level-order traversal.\r\n\r\nWe traverse the tree and keep a reference to vars min/max-level which describe the minimum level at which a node is a leaf.\r\n\r\nI believe that the @lucky solution requires a modification. As suggested by @codaddict, rather than checking if a node is a leaf, we must check if EITHER the left or right children is null (not both). Otherwise, the algorithm would consider this a valid balanced tree:\r\n\r\n  \r\n\r\n         1\r\n        / \\\r\n       2   4\r\n        \\   \\\r\n         3   1\r\n\r\n\r\nIn Python:\r\n\r\n    def is_bal(root):\r\n        if root is None:\r\n            return True\r\n        \r\n        import queue\r\n    \r\n        Q = queue.Queue()\r\n        Q.put(root)\r\n    \r\n        level = 0\r\n        min_level, max_level = sys.maxsize, sys.minsize\r\n    \r\n        while not Q.empty():\r\n            level_size = Q.qsize()\r\n            \r\n            for i in range(level_size):\r\n                node = Q.get()\r\n                \r\n                if not node.left or node.right:\r\n                    min_level, max_level = min(min_level, level), max(max_level, level)\r\n                \r\n                if node.left:\r\n                    Q.put(node.left)\r\n                if node.right:\r\n                    Q.put(node.right)\r\n            \r\n            level += 1\r\n            \r\n            if abs(max_level - min_level) &gt; 1:\r\n                return False\r\n        \r\n        return True\r\n\r\nThis solution should satisfy all the stipulations provided in the initial question, operating in O(n) time and O(n) space. Memory overflow would be directed to the heap rather than blowing a recursive call-stack.\r\n\r\nAlternatively, we could initially traverse the tree to compute + cache max heights for each root subtree iteratively. Then in another iterative run, check if the cached heights of the left and right subtrees for each root never differ by more than one. This would also run in O(n) time and O(n) space but iteratively so as not to cause stack overflow.","title":"How to determine if binary tree is balanced?","body":"<p>RE: @lucky's solution using a BFS to do a level-order traversal.</p>\n\n<p>We traverse the tree and keep a reference to vars min/max-level which describe the minimum level at which a node is a leaf.</p>\n\n<p>I believe that the @lucky solution requires a modification. As suggested by @codaddict, rather than checking if a node is a leaf, we must check if EITHER the left or right children is null (not both). Otherwise, the algorithm would consider this a valid balanced tree:</p>\n\n<pre><code>     1\n    / \\\n   2   4\n    \\   \\\n     3   1\n</code></pre>\n\n<p>In Python:</p>\n\n<pre><code>def is_bal(root):\n    if root is None:\n        return True\n\n    import queue\n\n    Q = queue.Queue()\n    Q.put(root)\n\n    level = 0\n    min_level, max_level = sys.maxsize, sys.minsize\n\n    while not Q.empty():\n        level_size = Q.qsize()\n\n        for i in range(level_size):\n            node = Q.get()\n\n            if not node.left or node.right:\n                min_level, max_level = min(min_level, level), max(max_level, level)\n\n            if node.left:\n                Q.put(node.left)\n            if node.right:\n                Q.put(node.right)\n\n        level += 1\n\n        if abs(max_level - min_level) &gt; 1:\n            return False\n\n    return True\n</code></pre>\n\n<p>This solution should satisfy all the stipulations provided in the initial question, operating in O(n) time and O(n) space. Memory overflow would be directed to the heap rather than blowing a recursive call-stack.</p>\n\n<p>Alternatively, we could initially traverse the tree to compute + cache max heights for each root subtree iteratively. Then in another iterative run, check if the cached heights of the left and right subtrees for each root never differ by more than one. This would also run in O(n) time and O(n) space but iteratively so as not to cause stack overflow.</p>\n"},{"tags":[],"owner":{"account_id":1775654,"reputation":69,"user_id":1619487,"display_name":"Pranay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564029742,"creation_date":1564029742,"answer_id":57194453,"question_id":742844,"body_markdown":"    class Node {\r\n    \tint data;\r\n    \tNode left;\r\n    \tNode right;\r\n    \r\n    \t// assign variable with constructor\r\n    \tpublic Node(int data) {\r\n    \t\tthis.data = data;\r\n    \t}\r\n    }\r\n\r\n    public class BinaryTree {\r\n    \r\n    \tNode root;\r\n    \r\n    \t// get max depth\r\n    \tpublic static int maxDepth(Node node) {\r\n    \t\tif (node == null)\r\n    \t\t\treturn 0;\r\n    \r\n    \t\treturn 1 + Math.max(maxDepth(node.left), maxDepth(node.right));\r\n    \t}\r\n    \r\n    \t// get min depth\r\n    \tpublic static int minDepth(Node node) {\r\n    \t\tif (node == null)\r\n    \t\t\treturn 0;\r\n    \r\n    \t\treturn 1 + Math.min(minDepth(node.left), minDepth(node.right));\r\n    \t}\r\n    \r\n    \t// return max-min&lt;=1 to check if tree balanced\r\n    \tpublic boolean isBalanced(Node node) {\r\n    \r\n    \t\tif (Math.abs(maxDepth(node) - minDepth(node)) &lt;= 1)\r\n    \t\t\treturn true;\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic static void main(String... strings) {\r\n    \t\tBinaryTree tree = new BinaryTree();\r\n    \t\ttree.root = new Node(1);\r\n    \t\ttree.root.left = new Node(2);\r\n    \t\ttree.root.right = new Node(3);\r\n    \t\t\r\n    \r\n    \t\tif (tree.isBalanced(tree.root))\r\n    \t\t\tSystem.out.println(&quot;Tree is balanced&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;Tree is not balanced&quot;);\r\n    \t}\r\n    }","title":"How to determine if binary tree is balanced?","body":"<pre><code>class Node {\n    int data;\n    Node left;\n    Node right;\n\n    // assign variable with constructor\n    public Node(int data) {\n        this.data = data;\n    }\n}\n\npublic class BinaryTree {\n\n    Node root;\n\n    // get max depth\n    public static int maxDepth(Node node) {\n        if (node == null)\n            return 0;\n\n        return 1 + Math.max(maxDepth(node.left), maxDepth(node.right));\n    }\n\n    // get min depth\n    public static int minDepth(Node node) {\n        if (node == null)\n            return 0;\n\n        return 1 + Math.min(minDepth(node.left), minDepth(node.right));\n    }\n\n    // return max-min&lt;=1 to check if tree balanced\n    public boolean isBalanced(Node node) {\n\n        if (Math.abs(maxDepth(node) - minDepth(node)) &lt;= 1)\n            return true;\n\n        return false;\n    }\n\n    public static void main(String... strings) {\n        BinaryTree tree = new BinaryTree();\n        tree.root = new Node(1);\n        tree.root.left = new Node(2);\n        tree.root.right = new Node(3);\n\n\n        if (tree.isBalanced(tree.root))\n            System.out.println(\"Tree is balanced\");\n        else\n            System.out.println(\"Tree is not balanced\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14206439,"reputation":38683,"user_id":10262805,"display_name":"Yilmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637464276,"creation_date":1637463486,"answer_id":70051479,"question_id":742844,"body_markdown":"Recursively check if each subtree is balanced or not. Recursion means, you ask something to subtree and subtree will return a response. You keep asking till you hit the base case. in tree questions base case is when you hit the leaf node. \r\n\r\nIn this case, we ask 2 questions to a subtree:\r\n\r\n1- Are you balanced?\r\n\r\n2- What is your height?\r\n\r\nSo recursive function will return 2 answers, and I keep those answers in the array. \r\n\r\nThis is python code:\r\n\r\n    class Solution:\r\n        def isBalanced(self, root: Optional[TreeNode]) -&gt; bool:\r\n            def dfs(root):\r\n                # leaf node is balanced\r\n                if not root:\r\n                    # we carry the height of each subtree\r\n                    return [True,0]\r\n                # with recursion, we start from bottom, so we do not have repetitive work\r\n                left,right=dfs(root.left),dfs(root.right)\r\n                # if any of the subtree return false, then we know entire tree is not balanced\r\n                balanced=left[0] and right[0] and abs(left[1]-right[1])&lt;=1\r\n                # 1+max(left[1],right[1]) is the height of the each subtree. 1 is the root of the subtree\r\n                return [balanced,1+max(left[1],right[1])]\r\n            return dfs(root)[0]\r\n\r\nthis is javascript code:\r\n\r\n    var isBalanced = function(root) {\r\n     function dfs(root){\r\n         if(!root){\r\n             return [true,0]\r\n         }\r\n         \r\n         const left=dfs(root.left)\r\n         const right=dfs(root.right)\r\n         const balanced=left[0] &amp;&amp; right[0] &amp;&amp; Math.abs(left[1]-right[1])&lt;=1\r\n         return [balanced,1+Math.max(left[1],right[1])]\r\n     }\r\n        return dfs(root)[0]\r\n    };","title":"How to determine if binary tree is balanced?","body":"<p>Recursively check if each subtree is balanced or not. Recursion means, you ask something to subtree and subtree will return a response. You keep asking till you hit the base case. in tree questions base case is when you hit the leaf node.</p>\n<p>In this case, we ask 2 questions to a subtree:</p>\n<p>1- Are you balanced?</p>\n<p>2- What is your height?</p>\n<p>So recursive function will return 2 answers, and I keep those answers in the array.</p>\n<p>This is python code:</p>\n<pre><code>class Solution:\n    def isBalanced(self, root: Optional[TreeNode]) -&gt; bool:\n        def dfs(root):\n            # leaf node is balanced\n            if not root:\n                # we carry the height of each subtree\n                return [True,0]\n            # with recursion, we start from bottom, so we do not have repetitive work\n            left,right=dfs(root.left),dfs(root.right)\n            # if any of the subtree return false, then we know entire tree is not balanced\n            balanced=left[0] and right[0] and abs(left[1]-right[1])&lt;=1\n            # 1+max(left[1],right[1]) is the height of the each subtree. 1 is the root of the subtree\n            return [balanced,1+max(left[1],right[1])]\n        return dfs(root)[0]\n</code></pre>\n<p>this is javascript code:</p>\n<pre><code>var isBalanced = function(root) {\n function dfs(root){\n     if(!root){\n         return [true,0]\n     }\n     \n     const left=dfs(root.left)\n     const right=dfs(root.right)\n     const balanced=left[0] &amp;&amp; right[0] &amp;&amp; Math.abs(left[1]-right[1])&lt;=1\n     return [balanced,1+Math.max(left[1],right[1])]\n }\n    return dfs(root)[0]\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":79586,"reputation":4734,"user_id":225555,"accept_rate":100,"display_name":"GSerjo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654220710,"creation_date":1654220710,"answer_id":72483935,"question_id":742844,"body_markdown":"&gt; a height-balanced binary tree is a binary tree in which the depth of the two subtrees of each node does not differ by more than one\r\n\r\nhere&#39;s the tree node\r\n\r\n```\r\npublic class TreeNode\r\n{\r\n    public int Value;\r\n    public TreeNode Left;\r\n    public TreeNode Right;\r\n\r\n    public TreeNode(int value)\r\n    {\r\n        Value = value;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n    public bool IsBalanced(TreeNode root)\r\n    {\r\n    \tif(root == null)\r\n    \t{\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    \tvar left = Depth(root.Left);\r\n    \tvar right = Depth(root.Right);\r\n    \t\r\n    \tif(Math.Abs(left - right) &gt; 1)\r\n    \t{\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \treturn IsBalanced(root.Left) &amp;&amp; IsBalanced(root.Right);\r\n    }\r\n    \r\n    private int Depth(TreeNode node)\r\n    {\r\n    \tif(node == null)\r\n    \t{\r\n    \t\treturn 0;\r\n    \t}\r\n    \treturn Math.Max(Depth(node.Left), Depth(node.Right)) + 1;\r\n    }\r\n```\r\n\r\nyou can try to practice [here][1]\r\n\r\n\r\n  [1]: https://codestandard.net/problems/balanced-binary-tree/","title":"How to determine if binary tree is balanced?","body":"<blockquote>\n<p>a height-balanced binary tree is a binary tree in which the depth of the two subtrees of each node does not differ by more than one</p>\n</blockquote>\n<p>here's the tree node</p>\n<pre><code>public class TreeNode\n{\n    public int Value;\n    public TreeNode Left;\n    public TreeNode Right;\n\n    public TreeNode(int value)\n    {\n        Value = value;\n    }\n}\n</code></pre>\n<pre><code>    public bool IsBalanced(TreeNode root)\n    {\n        if(root == null)\n        {\n            return true;\n        }\n        \n        var left = Depth(root.Left);\n        var right = Depth(root.Right);\n        \n        if(Math.Abs(left - right) &gt; 1)\n        {\n            return false;\n        }\n        \n        return IsBalanced(root.Left) &amp;&amp; IsBalanced(root.Right);\n    }\n    \n    private int Depth(TreeNode node)\n    {\n        if(node == null)\n        {\n            return 0;\n        }\n        return Math.Max(Depth(node.Left), Depth(node.Right)) + 1;\n    }\n</code></pre>\n<p>you can try to practice <a href=\"https://codestandard.net/problems/balanced-binary-tree/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":26634,"reputation":27155,"user_id":69514,"accept_rate":70,"display_name":"user69514"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143862,"favorite_count":0,"down_vote_count":0,"up_vote_count":117,"answer_count":28,"score":117,"last_activity_date":1654220710,"creation_date":1239587886,"question_id":742844,"body_markdown":"It&#39;s been a while from those school years. Got a job as IT specialist at a hospital.  Trying to move to do some actual programming now.  I&#39;m working on binary trees now, and I was wondering what would be the best way to determine if the tree is height-balanced.  \r\n\r\nI was thinking of something along this:\r\n\r\n\tpublic boolean isBalanced(Node root){\r\n        if(root==null){\r\n\t\t    return true;  //tree is empty\r\n\t\t}\r\n\t\telse{\r\n\t\t\tint lh = root.left.height();\r\n\t\t\tint rh = root.right.height();\r\n\t\t\tif(lh - rh &gt; 1 || rh - lh &gt; 1){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\r\nIs this a good implementation? or am I missing something?","title":"How to determine if binary tree is balanced?","body":"<p>It's been a while from those school years. Got a job as IT specialist at a hospital.  Trying to move to do some actual programming now.  I'm working on binary trees now, and I was wondering what would be the best way to determine if the tree is height-balanced.  </p>\n\n<p>I was thinking of something along this:</p>\n\n<pre><code>public boolean isBalanced(Node root){\n    if(root==null){\n        return true;  //tree is empty\n    }\n    else{\n        int lh = root.left.height();\n        int rh = root.right.height();\n        if(lh - rh &gt; 1 || rh - lh &gt; 1){\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Is this a good implementation? or am I missing something?</p>\n"},{"tags":["java","sorting","collections","compareto"],"answers":[{"tags":[],"owner":{"account_id":8232961,"reputation":1576,"user_id":8990644,"display_name":"bui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654219257,"creation_date":1654219257,"answer_id":72483809,"question_id":72483671,"body_markdown":"It doesn&#39;t matter what class the `children` field is a member of. What matters is the *type* of the `children` field itself. \r\n\r\nSince the field is a list of `Person`, sorting it requires the `Person` class to implement `Comparable` interface, which is exactly what you did so you&#39;d be fine. In fact, you&#39;d be find even if you keep the `ArrayList&lt;Person&gt; children` field in some other class and not in the `Person` class itself.","title":"Can I use an object&#39;s compareTo method to sort a list which is an attribute of said object?","body":"<p>It doesn't matter what class the <code>children</code> field is a member of. What matters is the <em>type</em> of the <code>children</code> field itself.</p>\n<p>Since the field is a list of <code>Person</code>, sorting it requires the <code>Person</code> class to implement <code>Comparable</code> interface, which is exactly what you did so you'd be fine. In fact, you'd be find even if you keep the <code>ArrayList&lt;Person&gt; children</code> field in some other class and not in the <code>Person</code> class itself.</p>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654220480,"creation_date":1654220480,"answer_id":72483915,"question_id":72483671,"body_markdown":"You _can_ compare objects this way, but there are two important ways you can improve your approach.\r\n\r\n1. Are people always sorted by age? More often, they&#39;re sorted by name. Sometimes they&#39;re sorted by height or weight. If there&#39;s not a unique inherently correct way to sort objects, it is usually better to have separate `Comparator`s: `Comparator&lt;Person&gt; BY_AGE`, `Comparator&lt;Person&gt; BY_NAME`, and so on. You can make these constants (`public static final`) to avoid recreating them.\r\n\r\n2. Your `compareTo` provides correct logic, but you can simplify it by using `Integer.compareTo`. Even better, you can write the comparator like this: `Comparator.comparingInt(Person::getAge)`.\r\n\r\nIn total, the code would look like this:\r\n\r\n```\r\npublic class Person {\r\n  public static final Comparator&lt;Person&gt; BY_AGE = Comparator.comparingInt(Person::getAge);\r\n\r\n  ...\r\n}\r\n```","title":"Can I use an object&#39;s compareTo method to sort a list which is an attribute of said object?","body":"<p>You <em>can</em> compare objects this way, but there are two important ways you can improve your approach.</p>\n<ol>\n<li><p>Are people always sorted by age? More often, they're sorted by name. Sometimes they're sorted by height or weight. If there's not a unique inherently correct way to sort objects, it is usually better to have separate <code>Comparator</code>s: <code>Comparator&lt;Person&gt; BY_AGE</code>, <code>Comparator&lt;Person&gt; BY_NAME</code>, and so on. You can make these constants (<code>public static final</code>) to avoid recreating them.</p>\n</li>\n<li><p>Your <code>compareTo</code> provides correct logic, but you can simplify it by using <code>Integer.compareTo</code>. Even better, you can write the comparator like this: <code>Comparator.comparingInt(Person::getAge)</code>.</p>\n</li>\n</ol>\n<p>In total, the code would look like this:</p>\n<pre><code>public class Person {\n  public static final Comparator&lt;Person&gt; BY_AGE = Comparator.comparingInt(Person::getAge);\n\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":23026555,"reputation":21,"user_id":17146695,"display_name":"MrMadium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654220480,"creation_date":1654217553,"question_id":72483671,"body_markdown":"I have a class, Person, that has an attribute of ArrayList\\&lt;Person\\&gt; children;\r\n\r\nI want to access and iterate over the children. Sometimes I need to sort the children list by their age, from oldest to youngest, but not always. When I do need to do it, I will need to do it in a number of places with a number of objects, so it makes sense that I don&#39;t do it with new Comparators each time.\r\n\r\nWould this then be best accomplished by creating a compareTo(Person o) for the Person class, and then when I want to iterate over the sorted list of children in main(), I do something like:\r\n\r\nThe compareTo Method:\r\n\r\n```\r\npublic class Person implements Comparable&lt;Person&gt; {\r\n// This is in the Person class as a method.\r\n@Override\r\npublic int compareTo(Person o) {\r\n\tif (this.age == o.getAge()) {\r\n\t\treturn 0;\t\r\n\t} else if (this.age &lt; o.getAge()){\r\n\t\t return 1; // Because we want to go from largest to smallest.\r\n\t} else {\r\n\t\treturn -1;\r\n\t}\r\n  }\r\n}\r\n```\r\n\r\nWhen I need to access each child of the person within the code and access from there:\r\n\r\n```\r\nCollections.sort(person.getChildren());\r\nfor (Person child: person.getChildren()){\r\n    // Whatever needs to be done.\r\n}\r\n```\r\n\r\nIs my understanding of this right?","title":"Can I use an object&#39;s compareTo method to sort a list which is an attribute of said object?","body":"<p>I have a class, Person, that has an attribute of ArrayList&lt;Person&gt; children;</p>\n<p>I want to access and iterate over the children. Sometimes I need to sort the children list by their age, from oldest to youngest, but not always. When I do need to do it, I will need to do it in a number of places with a number of objects, so it makes sense that I don't do it with new Comparators each time.</p>\n<p>Would this then be best accomplished by creating a compareTo(Person o) for the Person class, and then when I want to iterate over the sorted list of children in main(), I do something like:</p>\n<p>The compareTo Method:</p>\n<pre><code>public class Person implements Comparable&lt;Person&gt; {\n// This is in the Person class as a method.\n@Override\npublic int compareTo(Person o) {\n    if (this.age == o.getAge()) {\n        return 0;   \n    } else if (this.age &lt; o.getAge()){\n         return 1; // Because we want to go from largest to smallest.\n    } else {\n        return -1;\n    }\n  }\n}\n</code></pre>\n<p>When I need to access each child of the person within the code and access from there:</p>\n<pre><code>Collections.sort(person.getChildren());\nfor (Person child: person.getChildren()){\n    // Whatever needs to be done.\n}\n</code></pre>\n<p>Is my understanding of this right?</p>\n"},{"tags":["java","spring","spring-boot","swagger"],"comments":[{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1654245120,"post_id":72483800,"comment_id":128049695,"body_markdown":"https://stackoverflow.com/questions/63152653/petstore-url-not-disabled-in-springdoc-openapi","body":"<a href=\"https://stackoverflow.com/questions/63152653/petstore-url-not-disabled-in-springdoc-openapi\" title=\"petstore url not disabled in springdoc openapi\">stackoverflow.com/questions/63152653/&hellip;</a>"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654219313,"creation_date":1654219184,"question_id":72483800,"body_markdown":"I am trying to integrete the [spring doc][1] into my spring boot project. First, I added the dependencies\r\n\r\n```\r\napi &quot;org.springdoc:springdoc-openapi-ui:1.6.9&quot;\r\napi &quot;org.springdoc:springdoc-openapi-webmvc-core:1.2.32&quot;\r\n```\r\n\r\nthen access the swagger ui: http://127.0.0.1:11014/swagger-ui/index.html#/. Now I facing a problem is that no matter how to tweak the  open api swagger config, the swagger ui always show the petshop api. I have tried to add config like this\r\n\r\n\r\n```java\r\npackage misc.config.openapi;\r\n\r\nimport io.swagger.v3.oas.models.ExternalDocumentation;\r\nimport io.swagger.v3.oas.models.OpenAPI;\r\nimport io.swagger.v3.oas.models.info.Info;\r\nimport io.swagger.v3.oas.models.info.License;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class OpenApiConfig {\r\n\r\n\t@Bean\r\n\tpublic OpenAPI openAPI() {\r\n\t\treturn new OpenAPI()\r\n\t\t\t\t.info(new Info()\r\n\t\t\t\t\t\t.title(&quot;Student Manager API&quot;)\r\n\t\t\t\t\t\t.description(&quot;Student manager server api.API.&quot;)\r\n\t\t\t\t\t\t.version(&quot;appVersion&quot;)\r\n\t\t\t\t\t\t.license(new License()\r\n\t\t\t\t\t\t\t\t.name(&quot;Apache2.0&quot;)\r\n\t\t\t\t\t\t\t\t.url(&quot;http://springdoc.org&quot;)))\r\n\t\t\t\t.externalDocs(new ExternalDocumentation()\r\n\t\t\t\t\t\t.description(&quot;Documentation&quot;)\r\n\t\t\t\t\t\t.url(&quot;https://www.jianshu.com/nb/41542276&quot;));\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhy the spring docs always show the petshop api? how to make the swagger ui show the project api not the demo petshop version?\r\n\r\n\r\n  [1]: https://springdoc.org/#migrating-from-springfox","title":"Why the springdoc always show the petshop Swagger UI","body":"<p>I am trying to integrete the <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"nofollow noreferrer\">spring doc</a> into my spring boot project. First, I added the dependencies</p>\n<pre><code>api &quot;org.springdoc:springdoc-openapi-ui:1.6.9&quot;\napi &quot;org.springdoc:springdoc-openapi-webmvc-core:1.2.32&quot;\n</code></pre>\n<p>then access the swagger ui: <a href=\"http://127.0.0.1:11014/swagger-ui/index.html#/\" rel=\"nofollow noreferrer\">http://127.0.0.1:11014/swagger-ui/index.html#/</a>. Now I facing a problem is that no matter how to tweak the  open api swagger config, the swagger ui always show the petshop api. I have tried to add config like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>package misc.config.openapi;\n\nimport io.swagger.v3.oas.models.ExternalDocumentation;\nimport io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.info.Info;\nimport io.swagger.v3.oas.models.info.License;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class OpenApiConfig {\n\n    @Bean\n    public OpenAPI openAPI() {\n        return new OpenAPI()\n                .info(new Info()\n                        .title(&quot;Student Manager API&quot;)\n                        .description(&quot;Student manager server api.API.&quot;)\n                        .version(&quot;appVersion&quot;)\n                        .license(new License()\n                                .name(&quot;Apache2.0&quot;)\n                                .url(&quot;http://springdoc.org&quot;)))\n                .externalDocs(new ExternalDocumentation()\n                        .description(&quot;Documentation&quot;)\n                        .url(&quot;https://www.jianshu.com/nb/41542276&quot;));\n    }\n\n}\n</code></pre>\n<p>Why the spring docs always show the petshop api? how to make the swagger ui show the project api not the demo petshop version?</p>\n"},{"tags":["java","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1654219284,"post_id":72480112,"comment_id":128044726,"body_markdown":"Read your import statements carefully.","body":"Read your import statements carefully."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654222388,"post_id":72480112,"comment_id":128045130,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25405563,"reputation":1,"user_id":19214333,"display_name":"Animesh Sen"},"score":0,"creation_date":1654524481,"post_id":72480112,"comment_id":128104486,"body_markdown":"Hi @M.P.Korstanje, Thanks for your response. Adding this &quot;import io.cucumber.java.Scenario;&quot; and removing &quot;import com.aventstack.extentreports.gherkin.model.Scenario;&quot; resolved the issue.","body":"Hi @M.P.Korstanje, Thanks for your response. Adding this &quot;import io.cucumber.java.Scenario;&quot; and removing &quot;import com.aventstack.extentreports.gherkin.model.Scenario;&quot; resolved the issue."}],"owner":{"account_id":25405563,"reputation":1,"user_id":19214333,"display_name":"Animesh Sen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654219251,"creation_date":1654190838,"question_id":72480112,"body_markdown":"```\r\npackage practice.Appium_IOS_Android;\r\n\r\nimport org.openqa.selenium.OutputType;\r\nimport org.openqa.selenium.TakesScreenshot;\r\n\r\nimport com.aventstack.extentreports.gherkin.model.Scenario;\r\n\r\nimport io.cucumber.java.AfterStep;\r\n\r\npublic class Hooks extends BaseIOS{\r\n\t\r\n\t@AfterStep\r\n\tpublic void addScreenshot(Scenario scenario){\r\n\r\n\t\t//validate if scenario has failed\r\n\t\tif(scenario.isFailed()) {\r\n\t\t\tfinal byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n\t\t\tscenario.attach(screenshot, &quot;image/png&quot;, &quot;image&quot;); \r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":"the method isfailed() is undefined for the type scenario error is shown for the below code to take screenshot while running script in cucumber java","body":"<pre><code>package practice.Appium_IOS_Android;\n\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\n\nimport com.aventstack.extentreports.gherkin.model.Scenario;\n\nimport io.cucumber.java.AfterStep;\n\npublic class Hooks extends BaseIOS{\n    \n    @AfterStep\n    public void addScreenshot(Scenario scenario){\n\n        //validate if scenario has failed\n        if(scenario.isFailed()) {\n            final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n            scenario.attach(screenshot, &quot;image/png&quot;, &quot;image&quot;); \n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","c","oggvorbis","vorbis"],"answers":[{"tags":[],"owner":{"account_id":459778,"reputation":2107,"user_id":860453,"accept_rate":64,"display_name":"Knetic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441731941,"creation_date":1441731941,"answer_id":32463434,"question_id":8653670,"body_markdown":"I know this is four years late, but I never found a real answer to this question. The solution I went with long ago was to use linked lists of fixed-size byte arrays, each representing one chunk of decompressed data. Each ov_read would store the data into a new chunk, and chunks would link together one-to-the-next until the entire file was decoded. Subsequent playback would just grab data from each chunk sequentially and replay it.\r\n\r\nThis obviously fell apart when decompressing large files, and leads to a lot of memory management for decompressed chunks (unloading a single file means de-linking all chunks completely so that they can be garbage collected).","title":"Vorbis finding decompressed size of file","body":"<p>I know this is four years late, but I never found a real answer to this question. The solution I went with long ago was to use linked lists of fixed-size byte arrays, each representing one chunk of decompressed data. Each ov_read would store the data into a new chunk, and chunks would link together one-to-the-next until the entire file was decoded. Subsequent playback would just grab data from each chunk sequentially and replay it.</p>\n\n<p>This obviously fell apart when decompressing large files, and leads to a lot of memory management for decompressed chunks (unloading a single file means de-linking all chunks completely so that they can be garbage collected).</p>\n"},{"tags":[],"owner":{"account_id":137624,"reputation":1659,"user_id":341942,"accept_rate":60,"display_name":"Gordon Glas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654217663,"creation_date":1654207237,"answer_id":72482773,"question_id":8653670,"body_markdown":"I just had this same exact issue streaming ogg using the Vorbisfile API with XAudio2.\r\n\r\nThe fix that worked for me was to call `ov_raw_seek` (after both `ov_open_callbacks` and `ov_info` calls, but before `ov_pcm_total` and `ov_read`) to seek back to the start of the file. Apparently, this &quot;fixes&quot; the internal state around the pcm positions/offset vars.\r\n\r\nAfter that, all ogg files I test with play correctly.\r\n\r\nThis gave me the clue: https://github.com/xiph/vorbis/issues/60","title":"Vorbis finding decompressed size of file","body":"<p>I just had this same exact issue streaming ogg using the Vorbisfile API with XAudio2.</p>\n<p>The fix that worked for me was to call <code>ov_raw_seek</code> (after both <code>ov_open_callbacks</code> and <code>ov_info</code> calls, but before <code>ov_pcm_total</code> and <code>ov_read</code>) to seek back to the start of the file. Apparently, this &quot;fixes&quot; the internal state around the pcm positions/offset vars.</p>\n<p>After that, all ogg files I test with play correctly.</p>\n<p>This gave me the clue: <a href=\"https://github.com/xiph/vorbis/issues/60\" rel=\"nofollow noreferrer\">https://github.com/xiph/vorbis/issues/60</a></p>\n"}],"owner":{"account_id":459778,"reputation":2107,"user_id":860453,"accept_rate":64,"display_name":"Knetic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1654217663,"creation_date":1325061772,"question_id":8653670,"body_markdown":"I&#39;m working with JNI and Android NDK bindings to wrap around the Tremor version of Vorbis. So far i&#39;ve succeeded in streaming sound from file to speakers.\r\n\r\nHowever, i&#39;d also like to be able to &#39;cache&#39; small sounds in byte arrays, so there&#39;s no redundant decompression when i use these sounds often.\r\n\r\nMy problem is that i don&#39;t know how large the array needs to be to hold all the PCM data in the vorbis file.\r\n\r\nI have tried these following methods, none of which work 100% of the time.\r\n\r\n    pcmDuration = ov_pcm_total(vorbisFile, -1);\r\n    pcmDuration *= 2;\t\t\t   // 16bit channels\r\n    pcmDuration *= vorbisInfo-&gt;channels;   // number of channels.\r\n\r\nThe above works perfectly for some files, and nails exactly the size required. However, for others it doesn&#39;t. It dramatically underestimates (usually by about 1-2kb) the size required, obviously leading to out of bounds exceptions.\r\n\r\nThe below was a recommended solution, but has the exact same problem. It yields the same results as above.\r\n\r\n    for(int i = 0; i &lt; ov_streams(vorbisFile); i++)\r\n        size += ov_pcm_total(vorbisFile, i);\r\n\r\nWhat method should i use to find out the actual byte size required to hold an Ogg Vorbis file?\r\n\r\nEDIT;\r\n\r\nI know i could just do ov_reads over the entire length of the file, and take the sum of those reads as the decompressed size. However i&#39;d prefer not to double-decompress, since i&#39;m working in Android and it&#39;s got limited CPU power in the first place, and that&#39;s a pretty ugly solution. This isn&#39;t a response to any answer, i just know i could do it but would prefer not to.","title":"Vorbis finding decompressed size of file","body":"<p>I'm working with JNI and Android NDK bindings to wrap around the Tremor version of Vorbis. So far i've succeeded in streaming sound from file to speakers.</p>\n\n<p>However, i'd also like to be able to 'cache' small sounds in byte arrays, so there's no redundant decompression when i use these sounds often.</p>\n\n<p>My problem is that i don't know how large the array needs to be to hold all the PCM data in the vorbis file.</p>\n\n<p>I have tried these following methods, none of which work 100% of the time.</p>\n\n<pre><code>pcmDuration = ov_pcm_total(vorbisFile, -1);\npcmDuration *= 2;              // 16bit channels\npcmDuration *= vorbisInfo-&gt;channels;   // number of channels.\n</code></pre>\n\n<p>The above works perfectly for some files, and nails exactly the size required. However, for others it doesn't. It dramatically underestimates (usually by about 1-2kb) the size required, obviously leading to out of bounds exceptions.</p>\n\n<p>The below was a recommended solution, but has the exact same problem. It yields the same results as above.</p>\n\n<pre><code>for(int i = 0; i &lt; ov_streams(vorbisFile); i++)\n    size += ov_pcm_total(vorbisFile, i);\n</code></pre>\n\n<p>What method should i use to find out the actual byte size required to hold an Ogg Vorbis file?</p>\n\n<p>EDIT;</p>\n\n<p>I know i could just do ov_reads over the entire length of the file, and take the sum of those reads as the decompressed size. However i'd prefer not to double-decompress, since i'm working in Android and it's got limited CPU power in the first place, and that's a pretty ugly solution. This isn't a response to any answer, i just know i could do it but would prefer not to.</p>\n"},{"tags":["java","angular","spring-boot","azure-blob-storage","blob"],"answers":[{"tags":[],"owner":{"account_id":21648916,"reputation":2333,"user_id":15969833,"display_name":"SaiSakethGuduru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654217317,"creation_date":1654217317,"answer_id":72483651,"question_id":72236035,"body_markdown":"*The initial argument (Parameter) must be presented in the sequence.*\r\n\r\n    let blob = new Blob(employee.blobByte, {type: &quot;audio/webm&quot;});  console.log(employee.blob);\r\n\r\n*In place of this replace with the below one.*\r\n\r\n    let blob=new Blob([employee.blobByte] ,{type: &quot;audio/webm&quot;});  console.log(employee.blob);","title":"how to playback audio blob from Spring boot App","body":"<p><em>The initial argument (Parameter) must be presented in the sequence.</em></p>\n<pre><code>let blob = new Blob(employee.blobByte, {type: &quot;audio/webm&quot;});  console.log(employee.blob);\n</code></pre>\n<p><em>In place of this replace with the below one.</em></p>\n<pre><code>let blob=new Blob([employee.blobByte] ,{type: &quot;audio/webm&quot;});  console.log(employee.blob);\n</code></pre>\n"}],"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654217317,"creation_date":1652481810,"question_id":72236035,"body_markdown":"I am storing an audio blob(recorded voice) in angular and then I am calling a spring boot API to store it in azure blob storage as so:\r\n\r\n\r\n      submit(){\r\n            const blob = this.audioRecording.getblob();\r\n            this.blobOutgoing = new FormData(); \r\n            this.blobOutgoing.append(&#39;file&#39;, blob);\r\n            this.blobOutgoing.append(&#39;name&#39;, this.name);\r\n            this.blobOutgoing.append(&#39;email&#39;, this.email);\r\n            this.blobOutgoing.append(&#39;uid&#39;, this.uid);\r\n            this.pronunciationAPIService.saveEmployeeNameAlternate(this.blobOutgoing)\r\n            .subscribe((response: any) =&gt; {\r\n                   console.log(response);\r\n            })\r\n    \r\n      }\r\n\r\n     public  void insertEmpoyeeRecord(Employee employee) {\r\n    \r\n            try {\r\n                Statement stmt = getStatement();\r\n                System.out.println(&quot;Connected to the YugabyteDB Cluster successfully.&quot;);\r\n                // stmt.execute(&quot;DROP TABLE IF EXISTS employee&quot;);\r\n                /*stmt.execute(&quot;CREATE TABLE IF NOT EXISTS employee&quot; +\r\n                        &quot;  (id int primary key, name varchar, age int, language text)&quot;);*/\r\n                // System.out.println(&quot;Created table employee&quot;);\r\n    \r\n                String insertStr = &quot;INSERT INTO employees.employees  VALUES (&#39;&quot;+employee.getUid()+&quot;&#39;,&#39;&quot;+employee.getEmail()+&quot;&#39;,&#39;&quot;+employee.getName()+&quot;&#39;,&#39;&quot;+employee.getUid()+&quot;&#39;)&quot;;\r\n                String deleteStr = &quot;DELETE FROM employees.employees WHERE email=&#39;&quot;+employee.getEmail()+&quot;&#39; or uid=&#39;&quot;+employee.getUid()+&quot;&#39;&quot;;\r\n                stmt.execute(deleteStr);\r\n                stmt.execute(insertStr);\r\n               ----------&gt; blobService.uploadFile(employee.getMultipartFile(), employee.getUid());   &lt;----------------------------------\r\n                System.out.println(&quot;EXEC: &quot; + insertStr);\r\n    \r\n                ResultSet rs = stmt.executeQuery(&quot;select * from employees.employees&quot;);\r\n                while (rs.next()) {\r\n                    System.out.println(String.format(&quot;Query returned: uid = %s, email = %s, name = %s, blob = %s&quot;,\r\n                            rs.getString(&quot;uid&quot;), rs.getString(&quot;email&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;audio&quot;)));\r\n                }\r\n            } catch (ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\n    public void uploadFile(MultipartFile multipartFile, String audioFilenameRequest){\r\n       // String localFolderPath = &quot;C:\\\\Users\\\\erman\\\\Downloads\\\\audiofolder\\\\&quot;;\r\n        try {\r\n            byte[] bytes = multipartFile.getBytes();\r\n            System.out.println(&quot;lenght:: &quot; + bytes.length);\r\n            String audioFileName = audioFilenameRequest;\r\n\r\n            CloudBlobContainer containerReference = getCloudBlobContainer();\r\n\r\n            //Getting a blob reference\r\n\r\n            CloudBlockBlob blockBlobReference = containerReference.getBlockBlobReference(audioFileName);\r\n\r\n\r\n            //Creating blob and uploading file to it\r\n            //System.out.println(&quot;Uploading the sample file, Absolute path: &quot;+sourceFile.getAbsolutePath() );\r\n            blockBlobReference.uploadFromByteArray(bytes,0,bytes.length);\r\n            System.out.println(&quot;upload to Azure cloud blob is done!!!!&quot;);\r\n            // blockBlobReference.upload\r\n\r\n           /* Path path = Paths.get(localFolderPath + multipartFile.getOriginalFilename());\r\n            Files.write(path,bytes);*/\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (URISyntaxException e) {\r\n            e.printStackTrace();\r\n        } catch (InvalidKeyException e) {\r\n            e.printStackTrace();\r\n        } catch (StorageException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nAnd then I try to retrieve from Angular by calling another Spring boot API:\r\n\r\n      playAudioFromBlob(){\r\n        this.pronunciationAPIService\r\n        .pronounceName(this.employee)\r\n         .subscribe((response: Array&lt;Employee&gt;) =&gt; {\r\n         console.log(response);\r\n       response.forEach( (employee) =&gt; {\r\n        let blob = new Blob(employee.blobByte, {type: &quot;audio/webm&quot;});\r\n        console.log(employee.blob);\r\n        const audioURL = URL.createObjectURL(blob);\r\n        let audio = new Audio(audioURL)\r\n        audio.controls = true;\r\n         audio.play();\r\n        })\r\n       });\r\n      }\r\n\r\n    public List&lt;Employee&gt; searchEmployeeByUid(String uid){\r\n        Employee employee = null;\r\n        try {\r\n            System.out.println(&quot;Connected to the YugabyteDB Cluster successfully.&quot;);\r\n            Statement stmt = getStatement();\r\n            String selectStr = &quot;SELECT uid,email,name,audio FROM employees.employees WHERE uid=&#39;&quot;+uid+&quot;&#39;&quot;;\r\n\r\n            stmt.execute(selectStr);\r\n            System.out.println(&quot;EXEC: &quot; + selectStr);\r\n\r\n            ResultSet rs = stmt.executeQuery(selectStr);\r\n\r\n            while (rs.next()) {\r\n                employee = new Employee();\r\n                employee.setUid(rs.getString(&quot;uid&quot;));\r\n                employee.setEmail(rs.getString(&quot;email&quot;));\r\n                employee.setName(rs.getString(&quot;name&quot;));\r\n                employee.setBlob(rs.getString(&quot;audio&quot;));\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        byte[] blob = blobService.downloadFile(employee.getBlob());\r\n        employee.setBlobByte(blob);\r\n        return  employee;\r\n    }\r\n\r\n    public byte[] downloadFile(String audioFileName) {\r\n        File downloadedFile = null;\r\n        byte[] audioByteArray = new byte[472179];\r\n        try {\r\n            // byte[] bytes = multipartFile.getBytes();\r\n            // String audioFileName = multipartFile.getOriginalFilename();\r\n\r\n            CloudBlobContainer containerReference = getCloudBlobContainer();\r\n\r\n            //Getting a blob reference\r\n\r\n            CloudBlockBlob blockBlobReference = containerReference.getBlockBlobReference(audioFileName);\r\n           // downloadedFile = new File(audioFileName);\r\n            //byte [] b = new byte[472179];\r\n            blockBlobReference.downloadToByteArray(audioByteArray,0);\r\n            System.out.println(&quot;download from Azure cloud blob is done!!!!:: Size : &quot; + audioByteArray.length);\r\n\r\n\r\n\r\n        } catch (URISyntaxException e) {\r\n            e.printStackTrace();\r\n        } catch (InvalidKeyException e) {\r\n            e.printStackTrace();\r\n        } catch (StorageException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return audioByteArray;\r\n    }\r\n\r\n    public class Employee {\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getUid() {\r\n            return uid;\r\n        }\r\n    \r\n        public void setUid(String uid) {\r\n            this.uid = uid;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getBlob() {\r\n            return blob;\r\n        }\r\n    \r\n        public void setBlob(String blob) {\r\n            this.blob = blob;\r\n        }\r\n    \r\n        public MultipartFile getMultipartFile() {\r\n            return blobOutgoing;\r\n        }\r\n    \r\n        public void setMultipartFile(MultipartFile multipartFile) {\r\n            this.blobOutgoing = multipartFile;\r\n        }\r\n    \r\n        private String name;\r\n        private String uid;\r\n        private String email;\r\n        private String blob;\r\n        private MultipartFile blobOutgoing;\r\n    \r\n        public byte[] getBlobByte() {\r\n            return blobByte;\r\n        }\r\n    \r\n        public void setBlobByte(byte[] blobByte) {\r\n            this.blobByte = blobByte;\r\n        }\r\n    \r\n        private byte[] blobByte;\r\n    }\r\n\r\nThe problem is when converting the byte[] stream to a blob in angular I get the error:\r\n\r\n    Failed to construct &#39;Blob&#39;: The provided value cannot be converted to a sequence\r\n\r\nI think I am getting this issue because I am not properly writing or reading the blob. I use ng-audio-recorder for the audio recordings in Angular. ng-audio-recorder builds the blob in audio webm\r\n\r\n\r\nupdate: perhaps a more simplified question is how can you play back the byte[] stream in multipartfile in angular?","title":"how to playback audio blob from Spring boot App","body":"<p>I am storing an audio blob(recorded voice) in angular and then I am calling a spring boot API to store it in azure blob storage as so:</p>\n<pre><code>  submit(){\n        const blob = this.audioRecording.getblob();\n        this.blobOutgoing = new FormData(); \n        this.blobOutgoing.append('file', blob);\n        this.blobOutgoing.append('name', this.name);\n        this.blobOutgoing.append('email', this.email);\n        this.blobOutgoing.append('uid', this.uid);\n        this.pronunciationAPIService.saveEmployeeNameAlternate(this.blobOutgoing)\n        .subscribe((response: any) =&gt; {\n               console.log(response);\n        })\n\n  }\n\n public  void insertEmpoyeeRecord(Employee employee) {\n\n        try {\n            Statement stmt = getStatement();\n            System.out.println(&quot;Connected to the YugabyteDB Cluster successfully.&quot;);\n            // stmt.execute(&quot;DROP TABLE IF EXISTS employee&quot;);\n            /*stmt.execute(&quot;CREATE TABLE IF NOT EXISTS employee&quot; +\n                    &quot;  (id int primary key, name varchar, age int, language text)&quot;);*/\n            // System.out.println(&quot;Created table employee&quot;);\n\n            String insertStr = &quot;INSERT INTO employees.employees  VALUES ('&quot;+employee.getUid()+&quot;','&quot;+employee.getEmail()+&quot;','&quot;+employee.getName()+&quot;','&quot;+employee.getUid()+&quot;')&quot;;\n            String deleteStr = &quot;DELETE FROM employees.employees WHERE email='&quot;+employee.getEmail()+&quot;' or uid='&quot;+employee.getUid()+&quot;'&quot;;\n            stmt.execute(deleteStr);\n            stmt.execute(insertStr);\n           ----------&gt; blobService.uploadFile(employee.getMultipartFile(), employee.getUid());   &lt;----------------------------------\n            System.out.println(&quot;EXEC: &quot; + insertStr);\n\n            ResultSet rs = stmt.executeQuery(&quot;select * from employees.employees&quot;);\n            while (rs.next()) {\n                System.out.println(String.format(&quot;Query returned: uid = %s, email = %s, name = %s, blob = %s&quot;,\n                        rs.getString(&quot;uid&quot;), rs.getString(&quot;email&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;audio&quot;)));\n            }\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n    }\n\npublic void uploadFile(MultipartFile multipartFile, String audioFilenameRequest){\n   // String localFolderPath = &quot;C:\\\\Users\\\\erman\\\\Downloads\\\\audiofolder\\\\&quot;;\n    try {\n        byte[] bytes = multipartFile.getBytes();\n        System.out.println(&quot;lenght:: &quot; + bytes.length);\n        String audioFileName = audioFilenameRequest;\n\n        CloudBlobContainer containerReference = getCloudBlobContainer();\n\n        //Getting a blob reference\n\n        CloudBlockBlob blockBlobReference = containerReference.getBlockBlobReference(audioFileName);\n\n\n        //Creating blob and uploading file to it\n        //System.out.println(&quot;Uploading the sample file, Absolute path: &quot;+sourceFile.getAbsolutePath() );\n        blockBlobReference.uploadFromByteArray(bytes,0,bytes.length);\n        System.out.println(&quot;upload to Azure cloud blob is done!!!!&quot;);\n        // blockBlobReference.upload\n\n       /* Path path = Paths.get(localFolderPath + multipartFile.getOriginalFilename());\n        Files.write(path,bytes);*/\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (URISyntaxException e) {\n        e.printStackTrace();\n    } catch (InvalidKeyException e) {\n        e.printStackTrace();\n    } catch (StorageException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>And then I try to retrieve from Angular by calling another Spring boot API:</p>\n<pre><code>  playAudioFromBlob(){\n    this.pronunciationAPIService\n    .pronounceName(this.employee)\n     .subscribe((response: Array&lt;Employee&gt;) =&gt; {\n     console.log(response);\n   response.forEach( (employee) =&gt; {\n    let blob = new Blob(employee.blobByte, {type: &quot;audio/webm&quot;});\n    console.log(employee.blob);\n    const audioURL = URL.createObjectURL(blob);\n    let audio = new Audio(audioURL)\n    audio.controls = true;\n     audio.play();\n    })\n   });\n  }\n\npublic List&lt;Employee&gt; searchEmployeeByUid(String uid){\n    Employee employee = null;\n    try {\n        System.out.println(&quot;Connected to the YugabyteDB Cluster successfully.&quot;);\n        Statement stmt = getStatement();\n        String selectStr = &quot;SELECT uid,email,name,audio FROM employees.employees WHERE uid='&quot;+uid+&quot;'&quot;;\n\n        stmt.execute(selectStr);\n        System.out.println(&quot;EXEC: &quot; + selectStr);\n\n        ResultSet rs = stmt.executeQuery(selectStr);\n\n        while (rs.next()) {\n            employee = new Employee();\n            employee.setUid(rs.getString(&quot;uid&quot;));\n            employee.setEmail(rs.getString(&quot;email&quot;));\n            employee.setName(rs.getString(&quot;name&quot;));\n            employee.setBlob(rs.getString(&quot;audio&quot;));\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    byte[] blob = blobService.downloadFile(employee.getBlob());\n    employee.setBlobByte(blob);\n    return  employee;\n}\n\npublic byte[] downloadFile(String audioFileName) {\n    File downloadedFile = null;\n    byte[] audioByteArray = new byte[472179];\n    try {\n        // byte[] bytes = multipartFile.getBytes();\n        // String audioFileName = multipartFile.getOriginalFilename();\n\n        CloudBlobContainer containerReference = getCloudBlobContainer();\n\n        //Getting a blob reference\n\n        CloudBlockBlob blockBlobReference = containerReference.getBlockBlobReference(audioFileName);\n       // downloadedFile = new File(audioFileName);\n        //byte [] b = new byte[472179];\n        blockBlobReference.downloadToByteArray(audioByteArray,0);\n        System.out.println(&quot;download from Azure cloud blob is done!!!!:: Size : &quot; + audioByteArray.length);\n\n\n\n    } catch (URISyntaxException e) {\n        e.printStackTrace();\n    } catch (InvalidKeyException e) {\n        e.printStackTrace();\n    } catch (StorageException e) {\n        e.printStackTrace();\n    }\n\n    return audioByteArray;\n}\n\npublic class Employee {\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getUid() {\n        return uid;\n    }\n\n    public void setUid(String uid) {\n        this.uid = uid;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getBlob() {\n        return blob;\n    }\n\n    public void setBlob(String blob) {\n        this.blob = blob;\n    }\n\n    public MultipartFile getMultipartFile() {\n        return blobOutgoing;\n    }\n\n    public void setMultipartFile(MultipartFile multipartFile) {\n        this.blobOutgoing = multipartFile;\n    }\n\n    private String name;\n    private String uid;\n    private String email;\n    private String blob;\n    private MultipartFile blobOutgoing;\n\n    public byte[] getBlobByte() {\n        return blobByte;\n    }\n\n    public void setBlobByte(byte[] blobByte) {\n        this.blobByte = blobByte;\n    }\n\n    private byte[] blobByte;\n}\n</code></pre>\n<p>The problem is when converting the byte[] stream to a blob in angular I get the error:</p>\n<pre><code>Failed to construct 'Blob': The provided value cannot be converted to a sequence\n</code></pre>\n<p>I think I am getting this issue because I am not properly writing or reading the blob. I use ng-audio-recorder for the audio recordings in Angular. ng-audio-recorder builds the blob in audio webm</p>\n<p>update: perhaps a more simplified question is how can you play back the byte[] stream in multipartfile in angular?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1654216390,"post_id":72483580,"comment_id":128044311,"body_markdown":"Have you stepped through this with a debugger?","body":"Have you stepped through this with a debugger?"},{"owner":{"account_id":25460596,"reputation":1,"user_id":19260437,"display_name":"lincx"},"score":0,"creation_date":1654216617,"post_id":72483580,"comment_id":128044350,"body_markdown":"Nope, its working fine in my device and emulator, getting a crash report in google play console @LouisWasserman","body":"Nope, its working fine in my device and emulator, getting a crash report in google play console @LouisWasserman"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1654219730,"post_id":72483580,"comment_id":128044784,"body_markdown":"Are you certain it&#39;s not negative?","body":"Are you certain it&#39;s not negative?"},{"owner":{"account_id":25460596,"reputation":1,"user_id":19260437,"display_name":"lincx"},"score":0,"creation_date":1654226536,"post_id":72483580,"comment_id":128045641,"body_markdown":"@LouisWasserman scaleImage is the height of the imageview with an image. I believe  that an Imageview cant have negative height? Maybe I&#39;ll add that check as well. Any other possible fix?","body":"@LouisWasserman scaleImage is the height of the imageview with an image. I believe  that an Imageview cant have negative height? Maybe I&#39;ll add that check as well. Any other possible fix?"}],"owner":{"account_id":25460596,"reputation":1,"user_id":19260437,"display_name":"lincx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654216275,"creation_date":1654216275,"question_id":72483580,"body_markdown":"     val sourceBitmap = resizeImageWithAspectRatio(bitmap, scaleImage) ?: return null\r\n        var maxHeight: Int = (scaleImage * .19).roundToInt()\r\n        if(maxHeight == 0) maxHeight = 1\r\n        val resultBitmap = Bitmap.createBitmap(\r\n            maxHeight,\r\n            maxHeight,\r\n            Bitmap.Config.ARGB_8888\r\n        )\r\nI have an error at Bitmap.createBitmap. The logcat shows Illegal Argument Exception. Having a look at stackoverflow the error usually arises when either parameter has value 0, However I have a check in place to see if the value is 0. Anyone knows what the issue might be?","title":"Illegal Argument exception when creating a bitmap","body":"<pre><code> val sourceBitmap = resizeImageWithAspectRatio(bitmap, scaleImage) ?: return null\n    var maxHeight: Int = (scaleImage * .19).roundToInt()\n    if(maxHeight == 0) maxHeight = 1\n    val resultBitmap = Bitmap.createBitmap(\n        maxHeight,\n        maxHeight,\n        Bitmap.Config.ARGB_8888\n    )\n</code></pre>\n<p>I have an error at Bitmap.createBitmap. The logcat shows Illegal Argument Exception. Having a look at stackoverflow the error usually arises when either parameter has value 0, However I have a check in place to see if the value is 0. Anyone knows what the issue might be?</p>\n"},{"tags":["java","spring-boot","azure"],"answers":[{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654216168,"creation_date":1654216168,"answer_id":72483575,"question_id":72483532,"body_markdown":"I got the solution. I was choosing wrong region due to that I was facing this issue. I have changed my region to &quot;central US&quot; from &quot;WEST US&quot; and it did work for me. ","title":"Failed to deploy artifact to web app getting this error","body":"<p>I got the solution. I was choosing wrong region due to that I was facing this issue. I have changed my region to &quot;central US&quot; from &quot;WEST US&quot; and it did work for me.</p>\n"}],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654216168,"creation_date":1654215588,"question_id":72483532,"body_markdown":"I am trying to connect Intellijj with Azure so that I can create the web app from Intellijj and it will deploy on Azure but somehow I am getting this issue.\r\n\r\nI am able to create resource group but somehow not able to create webapp\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KFoI1.png\r\n  [2]: https://i.stack.imgur.com/EANcO.png","title":"Failed to deploy artifact to web app getting this error","body":"<p>I am trying to connect Intellijj with Azure so that I can create the web app from Intellijj and it will deploy on Azure but somehow I am getting this issue.</p>\n<p>I am able to create resource group but somehow not able to create webapp</p>\n<p><a href=\"https://i.stack.imgur.com/KFoI1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KFoI1.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EANcO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EANcO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","mouseevent","jscrollpane","jscrollbar"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1376616743,"post_id":18264419,"comment_id":26787614,"body_markdown":"What happens when there is text in the text areas and they are showing there scroll bars?","body":"What happens when there is text in the text areas and they are showing there scroll bars?"},{"owner":{"account_id":3031550,"reputation":2457,"user_id":2570465,"accept_rate":92,"display_name":"user2570465"},"score":0,"creation_date":1376616913,"post_id":18264419,"comment_id":26787655,"body_markdown":"I would like it to scroll the text area if the scroll bars are showing, but scroll the JPanel if the scroll bars are not. I know there would be issues for that as well (i.e. you&#39;re scrolling up and you suddenly stop), but I think this second situation would be better","body":"I would like it to scroll the text area if the scroll bars are showing, but scroll the JPanel if the scroll bars are not. I know there would be issues for that as well (i.e. you&#39;re scrolling up and you suddenly stop), but I think this second situation would be better"},{"owner":{"account_id":3031550,"reputation":2457,"user_id":2570465,"accept_rate":92,"display_name":"user2570465"},"score":0,"creation_date":1376618624,"post_id":18264419,"comment_id":26788064,"body_markdown":"@MadProgrammer - sorry, I forgot to add the notify in the previous comment. I&#39;ve found a way to detect when the JTextPanes are resized by using a component listener, but I don&#39;t know if there&#39;s a state such that the JTextPane&#39;s scrollbars aren&#39;t &quot;there.&quot; If there were such a way, I think I could just &quot;add&quot; the scrollbars back when the component got too big","body":"@MadProgrammer - sorry, I forgot to add the notify in the previous comment. I&#39;ve found a way to detect when the JTextPanes are resized by using a component listener, but I don&#39;t know if there&#39;s a state such that the JTextPane&#39;s scrollbars aren&#39;t &quot;there.&quot; If there were such a way, I think I could just &quot;add&quot; the scrollbars back when the component got too big"},{"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"score":0,"creation_date":1376618942,"post_id":18264419,"comment_id":26788108,"body_markdown":"does the JPanel use a layout manager, please post your code.","body":"does the JPanel use a layout manager, please post your code."},{"owner":{"account_id":3031550,"reputation":2457,"user_id":2570465,"accept_rate":92,"display_name":"user2570465"},"score":0,"creation_date":1376619865,"post_id":18264419,"comment_id":26788308,"body_markdown":"@pstanton - My code uses several different classes I wrote and will get too large and messy, but I can post something that will produce similar results. I&#39;m putting it into an edit right now.","body":"@pstanton - My code uses several different classes I wrote and will get too large and messy, but I can post something that will produce similar results. I&#39;m putting it into an edit right now."},{"owner":{"account_id":128057,"reputation":298,"user_id":325634,"accept_rate":50,"display_name":"68060"},"score":0,"creation_date":1654185991,"post_id":18264419,"comment_id":128036374,"body_markdown":"did anyone fix this?","body":"did anyone fix this?"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654215196,"creation_date":1376621274,"answer_id":18265062,"question_id":18264419,"body_markdown":"The following code was taken as a quick hack from [Mouse Wheel Controller][1].\r\n\r\nBasically it intercepts the MouseWheelEvent for the scroll pane containing the text area. If the scrollbar is visible it redispatches the event back to the same scroll pane otherwise it finds the parent scrollPane and dispatches the event to that scrollPane.\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class MouseWheelToParent implements MouseWheelListener\r\n    {\r\n    \tprivate JScrollPane scrollPane;\r\n    \tprivate MouseWheelListener[] realListeners;\r\n    \r\n    \tpublic MouseWheelToParent(JScrollPane scrollPane)\r\n    \t{\r\n    \t\tthis.scrollPane = scrollPane;\r\n    \t\tinstall();\r\n    \t}\r\n    \r\n    \tpublic void install()\r\n    \t{\r\n    \t\tif (realListeners != null) return;\r\n    \r\n    \t\t//  Keep track of original listeners so we can use them to\r\n    \t\t//  redispatch an altered MouseWheelEvent\r\n    \r\n    \t\trealListeners = scrollPane.getMouseWheelListeners();\r\n    \r\n    \t\tfor (MouseWheelListener mwl : realListeners)\r\n    \t\t{\r\n    \t\t\tscrollPane.removeMouseWheelListener(mwl);\r\n    \t\t}\r\n    \r\n    \t\t//  Intercept events so they can be redispatched\r\n    \r\n    \t\tscrollPane.addMouseWheelListener(this);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t *  Remove the class as the default listener and reinstall the original\r\n    \t *  listeners.\r\n    \t */\r\n     \tpublic void uninstall()\r\n     \t{\r\n     \t\tif (realListeners == null) return;\r\n    \r\n    \t\t//  Remove this class as the default listener\r\n    \r\n    \t\tscrollPane.removeMouseWheelListener( this );\r\n    \r\n    \t\t//  Install the default listeners\r\n    \r\n    \t\tfor (MouseWheelListener mwl : realListeners)\r\n    \t\t{\r\n    \t\t\tscrollPane.addMouseWheelListener( mwl );\r\n    \t\t}\r\n    \r\n    \t\trealListeners = null;\r\n     \t}\r\n    \r\n    //  Implement MouseWheelListener interface\r\n    \r\n    \t/**\r\n    \t *  Redispatch a MouseWheelEvent to the real MouseWheelListeners\r\n    \t */\r\n    \tpublic void mouseWheelMoved(MouseWheelEvent e)\r\n    \t{\r\n    //\t\tSystem.out.println(e.getScrollType() + &quot; : &quot; + e.getScrollAmount() + &quot; : &quot; + e.getWheelRotation());\r\n    \t\tJScrollPane scrollPane = (JScrollPane)e.getComponent();\r\n    \r\n    \t\tif (scrollPane.getVerticalScrollBar().isVisible())\r\n    \t\t{\r\n    \t\t\t//  Redispatch the event to original MouseWheelListener\r\n    \r\n    \t\t\tfor (MouseWheelListener mwl : realListeners)\r\n    \t\t\t{\r\n    \t\t\t\tmwl.mouseWheelMoved( e );\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tdispatchToParent(e, scrollPane);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void dispatchToParent(MouseWheelEvent e, JScrollPane scrollPane)\r\n    \t{\r\n    \t\tComponent ancestor = SwingUtilities.getAncestorOfClass(JScrollPane.class, scrollPane);\r\n    \r\n    \t\tMouseWheelEvent mwe = new MouseWheelEvent(\r\n    \t\t\tancestor,\r\n    \t\t\te.getID(),\r\n    \t\t\te.getWhen(),\r\n    \t\t\te.getModifiersEx(),\r\n    \t\t\te.getX(),\r\n    \t\t\te.getY(),\r\n    \t\t\te.getXOnScreen(),\r\n    \t\t\te.getYOnScreen(),\r\n    \t\t\te.getClickCount(),\r\n    \t\t\te.isPopupTrigger(),\r\n    \t\t\te.getScrollType(),\r\n    \t\t\te.getScrollAmount(),\r\n    \t\t\te.getWheelRotation());\r\n    \r\n    \t\tancestor.dispatchEvent(mwe);\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t\tJPanel panel = new JPanel( new GridBagLayout() );\r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.insets = new Insets(10, 10, 10, 10);\r\n    \r\n    \t\tfor (int y = 0; y &lt; 10; y++)\r\n    \t\t{\r\n    \t\t\tfor (int x = 0; x &lt; 5; x++)\r\n    \t\t\t{\r\n    \t\t\t\tgbc.gridx = x;\r\n    \t\t\t\tgbc.gridy = y;\r\n    \t\t\t\tJTextArea textArea = new JTextArea(5, 20);\r\n    \t\t\t\tJScrollPane scrollPane = new JScrollPane( textArea );\r\n    \t\t\t\tscrollPane.setMinimumSize( scrollPane.getPreferredSize() );\r\n    \t\t\t\tnew MouseWheelToParent(scrollPane);\r\n    \t\t\t\tpanel.add(scrollPane, gbc);\r\n    \r\n    \t\t\t\tif (x == 0 &amp;&amp; y ==0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttextArea.append(&quot;1\\n2\\n3\\n4\\n5\\n6\\n7\\n8\\n9&quot;);\r\n    \t\t\t\t\ttextArea.setCaretPosition(0);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tJFrame frame = new JFrame(&quot;TextAreaSSCCE&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add( new JScrollPane( panel ) );\r\n    \t\tframe.setSize(400, 400);\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2010/01/10/mouse-wheel-controller/\r\n","title":"Java Scrolling with the More Logical ScrollBar","body":"<p>The following code was taken as a quick hack from <a href=\"http://tips4java.wordpress.com/2010/01/10/mouse-wheel-controller/\" rel=\"nofollow noreferrer\">Mouse Wheel Controller</a>.</p>\n<p>Basically it intercepts the MouseWheelEvent for the scroll pane containing the text area. If the scrollbar is visible it redispatches the event back to the same scroll pane otherwise it finds the parent scrollPane and dispatches the event to that scrollPane.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class MouseWheelToParent implements MouseWheelListener\n{\n    private JScrollPane scrollPane;\n    private MouseWheelListener[] realListeners;\n\n    public MouseWheelToParent(JScrollPane scrollPane)\n    {\n        this.scrollPane = scrollPane;\n        install();\n    }\n\n    public void install()\n    {\n        if (realListeners != null) return;\n\n        //  Keep track of original listeners so we can use them to\n        //  redispatch an altered MouseWheelEvent\n\n        realListeners = scrollPane.getMouseWheelListeners();\n\n        for (MouseWheelListener mwl : realListeners)\n        {\n            scrollPane.removeMouseWheelListener(mwl);\n        }\n\n        //  Intercept events so they can be redispatched\n\n        scrollPane.addMouseWheelListener(this);\n    }\n\n    /**\n     *  Remove the class as the default listener and reinstall the original\n     *  listeners.\n     */\n    public void uninstall()\n    {\n        if (realListeners == null) return;\n\n        //  Remove this class as the default listener\n\n        scrollPane.removeMouseWheelListener( this );\n\n        //  Install the default listeners\n\n        for (MouseWheelListener mwl : realListeners)\n        {\n            scrollPane.addMouseWheelListener( mwl );\n        }\n\n        realListeners = null;\n    }\n\n//  Implement MouseWheelListener interface\n\n    /**\n     *  Redispatch a MouseWheelEvent to the real MouseWheelListeners\n     */\n    public void mouseWheelMoved(MouseWheelEvent e)\n    {\n//      System.out.println(e.getScrollType() + &quot; : &quot; + e.getScrollAmount() + &quot; : &quot; + e.getWheelRotation());\n        JScrollPane scrollPane = (JScrollPane)e.getComponent();\n\n        if (scrollPane.getVerticalScrollBar().isVisible())\n        {\n            //  Redispatch the event to original MouseWheelListener\n\n            for (MouseWheelListener mwl : realListeners)\n            {\n                mwl.mouseWheelMoved( e );\n            }\n        }\n        else\n        {\n            dispatchToParent(e, scrollPane);\n            return;\n        }\n    }\n\n    private void dispatchToParent(MouseWheelEvent e, JScrollPane scrollPane)\n    {\n        Component ancestor = SwingUtilities.getAncestorOfClass(JScrollPane.class, scrollPane);\n\n        MouseWheelEvent mwe = new MouseWheelEvent(\n            ancestor,\n            e.getID(),\n            e.getWhen(),\n            e.getModifiersEx(),\n            e.getX(),\n            e.getY(),\n            e.getXOnScreen(),\n            e.getYOnScreen(),\n            e.getClickCount(),\n            e.isPopupTrigger(),\n            e.getScrollType(),\n            e.getScrollAmount(),\n            e.getWheelRotation());\n\n        ancestor.dispatchEvent(mwe);\n    }\n\n    private static void createAndShowUI()\n    {\n        JPanel panel = new JPanel( new GridBagLayout() );\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.insets = new Insets(10, 10, 10, 10);\n\n        for (int y = 0; y &lt; 10; y++)\n        {\n            for (int x = 0; x &lt; 5; x++)\n            {\n                gbc.gridx = x;\n                gbc.gridy = y;\n                JTextArea textArea = new JTextArea(5, 20);\n                JScrollPane scrollPane = new JScrollPane( textArea );\n                scrollPane.setMinimumSize( scrollPane.getPreferredSize() );\n                new MouseWheelToParent(scrollPane);\n                panel.add(scrollPane, gbc);\n\n                if (x == 0 &amp;&amp; y ==0)\n                {\n                    textArea.append(&quot;1\\n2\\n3\\n4\\n5\\n6\\n7\\n8\\n9&quot;);\n                    textArea.setCaretPosition(0);\n                }\n\n            }\n        }\n\n        JFrame frame = new JFrame(&quot;TextAreaSSCCE&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add( new JScrollPane( panel ) );\n        frame.setSize(400, 400);\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3031550,"reputation":2457,"user_id":2570465,"accept_rate":92,"display_name":"user2570465"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18265062,"answer_count":1,"score":0,"last_activity_date":1654215196,"creation_date":1376616423,"question_id":18264419,"body_markdown":"I have an array of JTextPanes inside JScrollPanes. All those components I mentioned are inside a JPanel inside a JScrollPane. \r\n\r\n![User interface picture][1]\r\n\r\nAt the start of the program, none of the JTextPanes have any text, so the scrollbars for them are not visible. The scrollbars for the JPanel are visible, because I have a lot of components in it. \r\n\r\nMy issue is that if the cursor is over one of the JTextPanes and I try to scroll, nothing happens because the computer thinks I want to scroll with the JTextPane&#39;s scrollbars.  What I would like to happen is for the computer to realize that I&#39;m trying to scroll with the JPanel&#39;s scrollbar. Is there any way I could accomplish this?\r\n\r\nThanks!\r\n\r\n\r\nEdit:\r\n\r\nYou could produce a similar UI to the one above with this code ( this is the constructor of a class extending JFrame - apologies for ignoring a lot of good coding habits ):\r\n\r\n\tpublic JFrameTest() {\r\n\t\tJPanel panel = new JPanel( new GridLayout( 10 , 10 , 10 , 10 ) );\r\n\t\tfor ( int i = 0 ; i &lt; 10 ; i ++ ) {\r\n\t\t\tfor ( int j = 0 ; j &lt; 10 ; j ++ ) {\r\n\t\t\t\tJScrollPane paneToAdd = new JScrollPane( new JTextPane() ) {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * \r\n\t\t\t\t\t */\r\n\t\t\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic Dimension getPreferredSize() {\r\n\t\t\t\t\t\treturn new Dimension( 100 , 100 );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tpanel.add( paneToAdd );\r\n\t\t\t}\r\n\t\t}\r\n\t\tadd( new JScrollPane( panel ) );\r\n\t\t\r\n\t\tsetSize( 700 , 500 );\r\n\t\tsetVisible( true );\r\n\t\tsetDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n\t}\r\n      \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6DkbR.png","title":"Java Scrolling with the More Logical ScrollBar","body":"<p>I have an array of JTextPanes inside JScrollPanes. All those components I mentioned are inside a JPanel inside a JScrollPane. </p>\n\n<p><img src=\"https://i.stack.imgur.com/6DkbR.png\" alt=\"User interface picture\"></p>\n\n<p>At the start of the program, none of the JTextPanes have any text, so the scrollbars for them are not visible. The scrollbars for the JPanel are visible, because I have a lot of components in it. </p>\n\n<p>My issue is that if the cursor is over one of the JTextPanes and I try to scroll, nothing happens because the computer thinks I want to scroll with the JTextPane's scrollbars.  What I would like to happen is for the computer to realize that I'm trying to scroll with the JPanel's scrollbar. Is there any way I could accomplish this?</p>\n\n<p>Thanks!</p>\n\n<p>Edit:</p>\n\n<p>You could produce a similar UI to the one above with this code ( this is the constructor of a class extending JFrame - apologies for ignoring a lot of good coding habits ):</p>\n\n<pre><code>public JFrameTest() {\n    JPanel panel = new JPanel( new GridLayout( 10 , 10 , 10 , 10 ) );\n    for ( int i = 0 ; i &lt; 10 ; i ++ ) {\n        for ( int j = 0 ; j &lt; 10 ; j ++ ) {\n            JScrollPane paneToAdd = new JScrollPane( new JTextPane() ) {\n                /**\n                 * \n                 */\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public Dimension getPreferredSize() {\n                    return new Dimension( 100 , 100 );\n                }\n            };\n            panel.add( paneToAdd );\n        }\n    }\n    add( new JScrollPane( panel ) );\n\n    setSize( 700 , 500 );\n    setVisible( true );\n    setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":1,"creation_date":1654185614,"post_id":72478629,"comment_id":128036239,"body_markdown":"I&#39;m wondering why you need to explicitly state the methods using `qualifiedByName = &quot;mapBar&quot;`. MapStruct **should** detect them automatically if defined. So it should be enough to just declare / implement the methods for the types without any target annotation","body":"I&#39;m wondering why you need to explicitly state the methods using <code>qualifiedByName = &quot;mapBar&quot;</code>. MapStruct <b>should</b> detect them automatically if defined. So it should be enough to just declare / implement the methods for the types without any target annotation"},{"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"score":0,"creation_date":1654185792,"post_id":72478629,"comment_id":128036308,"body_markdown":"make sure you have the correct `@Named` import. You&#39;ll want the `org.mapstruct.Named` one here not for example `javax.inject.Named`.","body":"make sure you have the correct <code>@Named</code> import. You&#39;ll want the <code>org.mapstruct.Named</code> one here not for example <code>javax.inject.Named</code>."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654214422,"creation_date":1654214422,"answer_id":72483436,"question_id":72478629,"body_markdown":"It seems you have imported an incorrect `@Named` annotation from a different than MapStruct library.\r\n&lt;br&gt;Your example is working well with MapStruct  1.4.2.Final.\r\n```java\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.Mapping;\r\nimport org.mapstruct.Mappings;\r\nimport org.mapstruct.Named;\r\n\r\n\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic abstract class CustomMapper{\r\n\r\n    @Named(&quot;mapTestla&quot;)\r\n    @Mapping(target = &quot;f&quot;, source = &quot;t.f&quot;)\r\n    public abstract TestlaDTO mapTestla(Testla t);\r\n\r\n    @Named(&quot;mapBar&quot;)\r\n    @Mapping(target = &quot;t&quot;, source = &quot;b.t&quot;, qualifiedByName = &quot;mapTestla&quot;)\r\n    public abstract BarDTO mapBar(Bar b);\r\n\r\n    @Mappings({@Mapping(target = &quot;a&quot;, source = &quot;f.a&quot;),\r\n           @Mapping(target = &quot;b&quot;, source = &quot;f.b&quot;, qualifiedByName = &quot;mapBar&quot;)})\r\n    public abstract FooDTO mapFoo(Foo f) ;\r\n}\r\n```\r\nGenerated code:\r\n```java\r\n@Component\r\npublic class CustomMapperImpl extends CustomMapper {\r\n    @Override\r\n    public TestlaDTO mapTestla(Testla t) {\r\n        if ( t == null ) {\r\n            return null;\r\n        }\r\n        TestlaDTO testlaDTO = new TestlaDTO();\r\n        testlaDTO.f = t.f;\r\n        return testlaDTO;\r\n    }\r\n\r\n    @Override\r\n    public BarDTO mapBar(Bar b) {\r\n        if ( b == null ) {\r\n            return null;\r\n        }\r\n        BarDTO barDTO = new BarDTO();\r\n        barDTO.t = mapTestla( b.t );\r\n        return barDTO;\r\n    }\r\n\r\n    @Override\r\n    public FooDTO mapFoo(Foo f) {\r\n        if ( f == null ) {\r\n            return null;\r\n        }\r\n        FooDTO fooDTO = new FooDTO();\r\n        fooDTO.a = f.a;\r\n        fooDTO.b = mapBar( f.b );\r\n        return fooDTO;\r\n    }\r\n}\r\n```\r\nAccording to documentation: [Mapping object references][1].\r\n&lt;br&gt;You do not need to specify inner objects mappings explicitly via method qualifier. It is enough to specify mapping methods for all objects that&#39;s all. MapStract will automatically qualify them.\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic abstract class CustomMapper {\r\n    public abstract TestlaDTO mapTestla(Testla t);\r\n\r\n    public abstract BarDTO mapBar(Bar b);\r\n\r\n    public abstract FooDTO mapFoo(Foo f) ;\r\n}\r\n```\r\nGenerated code:\r\n```java\r\n@Component\r\npublic class CustomMapperImpl extends CustomMapper {\r\n\r\n    @Override\r\n    public TestlaDTO mapTestla(Testla t) {\r\n        if ( t == null ) {\r\n            return null;\r\n        }\r\n        TestlaDTO testlaDTO = new TestlaDTO();\r\n        testlaDTO.f = t.f;\r\n        return testlaDTO;\r\n    }\r\n\r\n    @Override\r\n    public BarDTO mapBar(Bar b) {\r\n        if ( b == null ) {\r\n            return null;\r\n        }\r\n        BarDTO barDTO = new BarDTO();\r\n        barDTO.t = mapTestla( b.t );\r\n        return barDTO;\r\n    }\r\n\r\n    @Override\r\n    public FooDTO mapFoo(Foo f) {\r\n        if ( f == null ) {\r\n            return null;\r\n        }\r\n        FooDTO fooDTO = new FooDTO();\r\n        fooDTO.a = f.a;\r\n        fooDTO.b = mapBar( f.b );\r\n        return fooDTO;\r\n    }\r\n}\r\n```\r\nAs you can see  MapStruct generated the same mapper code without additional annotations!\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-object-references","title":"Upgrade Mapstruct to 1.4.2.Final","body":"<p>It seems you have imported an incorrect <code>@Named</code> annotation from a different than MapStruct library.\n<br>Your example is working well with MapStruct  1.4.2.Final.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.Mappings;\nimport org.mapstruct.Named;\n\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class CustomMapper{\n\n    @Named(&quot;mapTestla&quot;)\n    @Mapping(target = &quot;f&quot;, source = &quot;t.f&quot;)\n    public abstract TestlaDTO mapTestla(Testla t);\n\n    @Named(&quot;mapBar&quot;)\n    @Mapping(target = &quot;t&quot;, source = &quot;b.t&quot;, qualifiedByName = &quot;mapTestla&quot;)\n    public abstract BarDTO mapBar(Bar b);\n\n    @Mappings({@Mapping(target = &quot;a&quot;, source = &quot;f.a&quot;),\n           @Mapping(target = &quot;b&quot;, source = &quot;f.b&quot;, qualifiedByName = &quot;mapBar&quot;)})\n    public abstract FooDTO mapFoo(Foo f) ;\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class CustomMapperImpl extends CustomMapper {\n    @Override\n    public TestlaDTO mapTestla(Testla t) {\n        if ( t == null ) {\n            return null;\n        }\n        TestlaDTO testlaDTO = new TestlaDTO();\n        testlaDTO.f = t.f;\n        return testlaDTO;\n    }\n\n    @Override\n    public BarDTO mapBar(Bar b) {\n        if ( b == null ) {\n            return null;\n        }\n        BarDTO barDTO = new BarDTO();\n        barDTO.t = mapTestla( b.t );\n        return barDTO;\n    }\n\n    @Override\n    public FooDTO mapFoo(Foo f) {\n        if ( f == null ) {\n            return null;\n        }\n        FooDTO fooDTO = new FooDTO();\n        fooDTO.a = f.a;\n        fooDTO.b = mapBar( f.b );\n        return fooDTO;\n    }\n}\n</code></pre>\n<p>According to documentation: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-object-references\" rel=\"nofollow noreferrer\">Mapping object references</a>.\n<br>You do not need to specify inner objects mappings explicitly via method qualifier. It is enough to specify mapping methods for all objects that's all. MapStract will automatically qualify them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class CustomMapper {\n    public abstract TestlaDTO mapTestla(Testla t);\n\n    public abstract BarDTO mapBar(Bar b);\n\n    public abstract FooDTO mapFoo(Foo f) ;\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class CustomMapperImpl extends CustomMapper {\n\n    @Override\n    public TestlaDTO mapTestla(Testla t) {\n        if ( t == null ) {\n            return null;\n        }\n        TestlaDTO testlaDTO = new TestlaDTO();\n        testlaDTO.f = t.f;\n        return testlaDTO;\n    }\n\n    @Override\n    public BarDTO mapBar(Bar b) {\n        if ( b == null ) {\n            return null;\n        }\n        BarDTO barDTO = new BarDTO();\n        barDTO.t = mapTestla( b.t );\n        return barDTO;\n    }\n\n    @Override\n    public FooDTO mapFoo(Foo f) {\n        if ( f == null ) {\n            return null;\n        }\n        FooDTO fooDTO = new FooDTO();\n        fooDTO.a = f.a;\n        fooDTO.b = mapBar( f.b );\n        return fooDTO;\n    }\n}\n</code></pre>\n<p>As you can see  MapStruct generated the same mapper code without additional annotations!</p>\n"}],"owner":{"account_id":6794864,"reputation":1053,"user_id":5230585,"display_name":"Katy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72483436,"answer_count":1,"score":1,"last_activity_date":1654214422,"creation_date":1654183383,"question_id":72478629,"body_markdown":"I&#39;m upgrading project **mapstruct** dependency from **1.2.0.Final** to **1.4.2.Final**.\r\nEverything was going right util falling on a complex mapper which looks like the below snippet code: \r\n\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class CustomMapper{\r\n    \r\n    @Named(&quot;mapTestla&quot;)\r\n    @Mapping(target = &quot;f&quot;, source = &quot;t.f&quot;) \r\n    public abstract TestlaDTO mapTestla(Testla t) {}\r\n    \r\n    @Named(&quot;mapBar&quot;)\r\n    @Mapping(target = &quot;t&quot;, source = &quot;b.t&quot;, qualifiedByName = &quot;mapTestla&quot;) \r\n    public abstract BarDTO mapBar(Bar b) {}\r\n    \r\n    @Mappings({@Mapping(target = &quot;a&quot;, source = &quot;f.a&quot;), \r\n    @Mapping(target = &quot;b&quot;, source = &quot;f.b&quot;, qualifiedByName = &quot;mapBar&quot;)})\r\n    public abstract FooDTO mapFoo(Foo f) {}\r\n    \r\n    }\r\n\r\n\r\n    class Foo {\r\n     String a;\r\n     Bar b;\r\n    }\r\n    \r\n    class Bar {\r\n     Tesla t;\r\n    }\r\n    \r\n    class Testla {\r\n    String f;\r\n    }\r\n\r\n\r\n    class FooDTO {\r\n     String a;\r\n     Bar b;\r\n    }\r\n    \r\n    class BarDTO {\r\n     TeslaDTO t;\r\n    }\r\n    \r\n    class TestlaDTO {\r\n    String f;\r\n    }\r\n\r\n    \r\nAs You see in the error, mapstruct didn&#39;t detect the referenced method despite they are annotated with `@Named`. It looks like a **spring aop proxy** problem.. \r\n\r\nAny idea of this issue?  \r\n\r\n**PS:** I don&#39;t want to split the mapper into multiple mappers as we&#39;re running behind schedule and it may lead to impact. \r\n\r\n**Error got:** \r\n\r\n*Error : Qualifier error. No method found annotated with @Named#value: [ mapBar]. See https://mapstruct.org/faq/#qualifier for more info.*\r\n\r\n*Error : Qualifier error. No method found annotated with @Named#value: [ mapTestla]. See https://mapstruct.org/faq/#qualifier for more info.*","title":"Upgrade Mapstruct to 1.4.2.Final","body":"<p>I'm upgrading project <strong>mapstruct</strong> dependency from <strong>1.2.0.Final</strong> to <strong>1.4.2.Final</strong>.\nEverything was going right util falling on a complex mapper which looks like the below snippet code:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class CustomMapper{\n\n@Named(&quot;mapTestla&quot;)\n@Mapping(target = &quot;f&quot;, source = &quot;t.f&quot;) \npublic abstract TestlaDTO mapTestla(Testla t) {}\n\n@Named(&quot;mapBar&quot;)\n@Mapping(target = &quot;t&quot;, source = &quot;b.t&quot;, qualifiedByName = &quot;mapTestla&quot;) \npublic abstract BarDTO mapBar(Bar b) {}\n\n@Mappings({@Mapping(target = &quot;a&quot;, source = &quot;f.a&quot;), \n@Mapping(target = &quot;b&quot;, source = &quot;f.b&quot;, qualifiedByName = &quot;mapBar&quot;)})\npublic abstract FooDTO mapFoo(Foo f) {}\n\n}\n\n\nclass Foo {\n String a;\n Bar b;\n}\n\nclass Bar {\n Tesla t;\n}\n\nclass Testla {\nString f;\n}\n\n\nclass FooDTO {\n String a;\n Bar b;\n}\n\nclass BarDTO {\n TeslaDTO t;\n}\n\nclass TestlaDTO {\nString f;\n}\n</code></pre>\n<p>As You see in the error, mapstruct didn't detect the referenced method despite they are annotated with <code>@Named</code>. It looks like a <strong>spring aop proxy</strong> problem..</p>\n<p>Any idea of this issue?</p>\n<p><strong>PS:</strong> I don't want to split the mapper into multiple mappers as we're running behind schedule and it may lead to impact.</p>\n<p><strong>Error got:</strong></p>\n<p><em>Error : Qualifier error. No method found annotated with @Named#value: [ mapBar]. See <a href=\"https://mapstruct.org/faq/#qualifier\" rel=\"nofollow noreferrer\">https://mapstruct.org/faq/#qualifier</a> for more info.</em></p>\n<p><em>Error : Qualifier error. No method found annotated with @Named#value: [ mapTestla]. See <a href=\"https://mapstruct.org/faq/#qualifier\" rel=\"nofollow noreferrer\">https://mapstruct.org/faq/#qualifier</a> for more info.</em></p>\n"},{"tags":["java","maven","cmd","environment-variables","command-line-interface"],"answers":[{"tags":[],"owner":{"account_id":14109848,"reputation":309,"user_id":10193002,"display_name":"jhrabi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654186792,"creation_date":1654186792,"answer_id":72479327,"question_id":72479113,"body_markdown":"`set` will only set the variable for the lifetime of the current cmd session, not permanently.\r\n\r\n`setx` will modify the variable permanently for future sessions, but not for your current session. (So if you ran setx and then tried your maven command, it still wouldn&#39;t be set ).\r\n\r\nIf you want to have it happen in both the current session and future sessions, you could run both the set and setx command. It would completely depend on your use case.\r\n\r\nFor understanding set and setx more in depth, please reference:\r\nhttps://superuser.com/a/916652/943436","title":"Can&#39;t permanently change path variable using cmd set","body":"<p><code>set</code> will only set the variable for the lifetime of the current cmd session, not permanently.</p>\n<p><code>setx</code> will modify the variable permanently for future sessions, but not for your current session. (So if you ran setx and then tried your maven command, it still wouldn't be set ).</p>\n<p>If you want to have it happen in both the current session and future sessions, you could run both the set and setx command. It would completely depend on your use case.</p>\n<p>For understanding set and setx more in depth, please reference:\n<a href=\"https://superuser.com/a/916652/943436\">https://superuser.com/a/916652/943436</a></p>\n"}],"owner":{"account_id":24041938,"reputation":31,"user_id":18021470,"display_name":"SpicyRiceTea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654214193,"creation_date":1654185741,"question_id":72479113,"body_markdown":"I had an issue with my Maven CLI not finding the JDK path and I partially resolved it using nocodib&#39;s answer (https://stackoverflow.com/a/59035903/18021470) which used the following command:\r\n```\r\nset JAVA_HOME=%PROGRAMFILES%\\Java\\jdk-11.0.2\r\n```\r\nWhen I ran it, my maven cli could find %JAVA_HOME%, but only on the *specific cmd instance*.\r\nIf I closed the cmd, the same issue of my maven cli not finding the jdk would arise.\r\n\r\nI also tried using setx instead of set as per another suggestion on the issue, but the code didn&#39;t work.\r\n\r\n**Edit:**\r\n\r\n[Env variable and cmd][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XR7uY.png","title":"Can&#39;t permanently change path variable using cmd set","body":"<p>I had an issue with my Maven CLI not finding the JDK path and I partially resolved it using nocodib's answer (<a href=\"https://stackoverflow.com/a/59035903/18021470\">https://stackoverflow.com/a/59035903/18021470</a>) which used the following command:</p>\n<pre><code>set JAVA_HOME=%PROGRAMFILES%\\Java\\jdk-11.0.2\n</code></pre>\n<p>When I ran it, my maven cli could find %JAVA_HOME%, but only on the <em>specific cmd instance</em>.\nIf I closed the cmd, the same issue of my maven cli not finding the jdk would arise.</p>\n<p>I also tried using setx instead of set as per another suggestion on the issue, but the code didn't work.</p>\n<p><strong>Edit:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/XR7uY.png\" rel=\"nofollow noreferrer\">Env variable and cmd</a></p>\n"},{"tags":["java","client","aerospike","compare-and-swap"],"answers":[{"tags":[],"owner":{"account_id":2163589,"reputation":5165,"user_id":1917187,"display_name":"pgupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654213762,"creation_date":1654197076,"answer_id":72481218,"question_id":72461947,"body_markdown":"1 - you are passing long value but not using it. \r\n2 - it has to be used in the Bin constructor when passing to Operation.add().\r\n\r\nFor e.g.\r\n\r\n    Bin bin1 = new Bin(&quot;name&quot;, &quot;John Doe&quot;);\r\n    Bin bin2 = new Bin(&quot;age&quot;, 32);\r\n    Bin bin3 = new Bin(&quot;greeting&quot;, &quot;Hello World!&quot;);\r\n    \r\n    // Write a record\r\n    client.put(null, key, bin1, bin2, bin3);\r\n    //This creates the record with bin2=32\r\n\r\n    import com.aerospike.client.Operation;\r\n    Bin addTobin2 = new Bin(&quot;age&quot;, 4);\r\n    client.operate(null,key,Operation.add(addTobin2));\r\n\r\nHere I expect the put() call to create the bin with value 32.\r\nThen, the operate() call with Operation.add(addTobin2)... will take that the value 4 and add to 32. Net value expected: 36.\r\n\r\n    // Read the record\r\n    Record record = client.get(null, key);\r\n    System.out.println(record);\r\n    Record values are:\r\n    (gen:6),(exp:394484896),(bins:(name:John Doe),(age:36),(greeting:Hello World!))\r\n\r\nUpsert Code Demo:\r\n\r\n    client.delete(null,key);\r\n    \r\n    // Write a record\r\n    import com.aerospike.client.Operation;\r\n    \r\n    Bin bin2 = new Bin(&quot;test&quot;, 2);\r\n    \r\n    client.operate(null,key,Operation.add(bin2));\r\n    Record record = client.get(null, key);\r\n    System.out.println(record);\r\n    \r\n    client.operate(null,key,Operation.add(bin2));\r\n    Record record = client.get(null, key);\r\n    System.out.println(record);\r\n    \r\n    client.operate(null,key,Operation.add(bin2));\r\n    Record record = client.get(null, key);\r\n    System.out.println(record);\r\n    \r\n    (gen:1),(exp:394490665),(bins:(test:2))\r\n    (gen:2),(exp:394490665),(bins:(test:4))\r\n    (gen:3),(exp:394490666),(bins:(test:6))\r\n\r\nMultiple Ops done Atomically / code example:\r\n\r\n    client.delete(null,key);\r\n    \r\n    // Write a record\r\n    import com.aerospike.client.Operation;\r\n    \r\n    Bin bin2 = new Bin(&quot;test&quot;, 2);\r\n    System.out.println(bin2);\r\n    \r\n    Record record = client.operate(null,key, \r\n                                   Operation.add(bin2),\r\n                                   Operation.get(bin2.name),\r\n                                   Operation.add(bin2),\r\n                                   Operation.get(bin2.name),\r\n                                   Operation.add(bin2),\r\n                                   Operation.get(bin2.name)\r\n                                  );\r\n    List&lt;?&gt; retList = (ArrayList&lt;?&gt;)record.getList(bin2.name);\r\n    System.out.println(retList.get(0));\r\n    System.out.println(retList.get(1));\r\n    System.out.println(retList.get(2));\r\n    \r\n    client.operate(null,key,Operation.add(bin2));\r\n    record = client.get(null, key);\r\n    System.out.println(record);\r\n    \r\n    client.operate(null,key,Operation.add(bin2));\r\n    record = client.get(null, key);\r\n    System.out.println(record);\r\n\r\nOutput:\r\n\r\n    test:2\r\n    2\r\n    4\r\n    6\r\n    (gen:2),(exp:394501613),(bins:(test:8))\r\n    (gen:3),(exp:394501613),(bins:(test:10))","title":"Atomic increment via operate command using java client (5.1.5.1) fails","body":"<p>1 - you are passing long value but not using it.\n2 - it has to be used in the Bin constructor when passing to Operation.add().</p>\n<p>For e.g.</p>\n<pre><code>Bin bin1 = new Bin(&quot;name&quot;, &quot;John Doe&quot;);\nBin bin2 = new Bin(&quot;age&quot;, 32);\nBin bin3 = new Bin(&quot;greeting&quot;, &quot;Hello World!&quot;);\n\n// Write a record\nclient.put(null, key, bin1, bin2, bin3);\n//This creates the record with bin2=32\n\nimport com.aerospike.client.Operation;\nBin addTobin2 = new Bin(&quot;age&quot;, 4);\nclient.operate(null,key,Operation.add(addTobin2));\n</code></pre>\n<p>Here I expect the put() call to create the bin with value 32.\nThen, the operate() call with Operation.add(addTobin2)... will take that the value 4 and add to 32. Net value expected: 36.</p>\n<pre><code>// Read the record\nRecord record = client.get(null, key);\nSystem.out.println(record);\nRecord values are:\n(gen:6),(exp:394484896),(bins:(name:John Doe),(age:36),(greeting:Hello World!))\n</code></pre>\n<p>Upsert Code Demo:</p>\n<pre><code>client.delete(null,key);\n\n// Write a record\nimport com.aerospike.client.Operation;\n\nBin bin2 = new Bin(&quot;test&quot;, 2);\n\nclient.operate(null,key,Operation.add(bin2));\nRecord record = client.get(null, key);\nSystem.out.println(record);\n\nclient.operate(null,key,Operation.add(bin2));\nRecord record = client.get(null, key);\nSystem.out.println(record);\n\nclient.operate(null,key,Operation.add(bin2));\nRecord record = client.get(null, key);\nSystem.out.println(record);\n\n(gen:1),(exp:394490665),(bins:(test:2))\n(gen:2),(exp:394490665),(bins:(test:4))\n(gen:3),(exp:394490666),(bins:(test:6))\n</code></pre>\n<p>Multiple Ops done Atomically / code example:</p>\n<pre><code>client.delete(null,key);\n\n// Write a record\nimport com.aerospike.client.Operation;\n\nBin bin2 = new Bin(&quot;test&quot;, 2);\nSystem.out.println(bin2);\n\nRecord record = client.operate(null,key, \n                               Operation.add(bin2),\n                               Operation.get(bin2.name),\n                               Operation.add(bin2),\n                               Operation.get(bin2.name),\n                               Operation.add(bin2),\n                               Operation.get(bin2.name)\n                              );\nList&lt;?&gt; retList = (ArrayList&lt;?&gt;)record.getList(bin2.name);\nSystem.out.println(retList.get(0));\nSystem.out.println(retList.get(1));\nSystem.out.println(retList.get(2));\n\nclient.operate(null,key,Operation.add(bin2));\nrecord = client.get(null, key);\nSystem.out.println(record);\n\nclient.operate(null,key,Operation.add(bin2));\nrecord = client.get(null, key);\nSystem.out.println(record);\n</code></pre>\n<p>Output:</p>\n<pre><code>test:2\n2\n4\n6\n(gen:2),(exp:394501613),(bins:(test:8))\n(gen:3),(exp:394501613),(bins:(test:10))\n</code></pre>\n"}],"owner":{"account_id":25446187,"reputation":11,"user_id":19248353,"display_name":"CodeInfinity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654213762,"creation_date":1654086668,"question_id":72461947,"body_markdown":"I am trying to do atomic operations on a single bin set. However I am noticing a strange behaviour where randomly record is not getting incremented/decremented. Operate command is returning null in response. Not getting any exception as well. Sometimes it works and sometimes doesn&#39;t.\r\n\r\nAttempted to check using both **persistent** and **inmemory** storage. It&#39;s a clustered environment of 3 nodes.\r\n\r\nFor some cases it gave Hot key error which i was able to resolve by setting the property **transaction-pending-limit** = 0. \r\n\r\n**Aerospike client :** \r\n```\r\n             &lt;dependency&gt;\r\n    \t\t     &lt;groupId&gt;com.aerospike&lt;/groupId&gt;\r\n    \t\t     &lt;artifactId&gt;aerospike-client&lt;/artifactId&gt;\r\n   \t\t         &lt;version&gt;5.1.5.1&lt;/version&gt;\r\n\t\t     &lt;/dependency&gt;\r\n```\r\n\r\n**Operate command :**\r\n```\r\n\tpublic long incrementAndGetBinValue(AerospikeClient aerospikeClient, String key, Bin bin, long value, Key asKey) {\r\n\t\tRecord record;\r\n\t\ttry {\r\n\t\t\trecord = aerospikeClient.operate(aerospikeClient.writePolicyDefault, asKey, Operation.add(bin), Operation.get(bin.name));\r\n\t\t\tlogger.info(&quot;Aeroospike record {} &quot;, record);\r\n\t\t} catch (AerospikeException exception) {\r\n\t\t\tlogger.error(&quot;Aerospike Exception while incrementing bin {} ,key {} by value {} error : {}&quot;, bin.name, key, value, ExceptionUtils.getStackTrace(exception));\r\n\t\t\tthrow new NexusException(ErrorCodes.AEROSPIKE_OPERATION_ERROR, &quot;aerospike exception operation error&quot;);\r\n\t\t} catch (Exception exception) {\r\n\t\t\tlogger.error(&quot;Exception while incrementing bin {} ,key {} by value {} error : {}&quot;, bin.name, key, value, ExceptionUtils.getStackTrace(exception));\r\n\t\t}\r\n\t\tif (record == null) {\r\n\t\t\tlogger.error(&quot;incrementAndGetBinValue :  No record returned for key {} ,bin {}&quot;, key, bin.name);\r\n\t\t\tthrow new NexusException(ErrorCodes.AEROSPIKE_NO_RECORD_FOUND, &quot;aerospike no record returned&quot;);\r\n\t\t}\r\n\t\treturn record.getLong(bin.name);\r\n\t}\r\n\r\n```\r\n**Policy :** \r\n```\r\n        ClientPolicy policy = new ClientPolicy();\r\n\t\tpolicy.timeout = 5000;\r\n        WritePolicy writePolicy = new WritePolicy();\r\n\t\twritePolicy.socketTimeout = 60000;\r\n\t\twritePolicy.maxRetries = 2;\r\n\t\twritePolicy.sendKey = true;\r\n\t\twritePolicy.expiration = -1; // never expire record\r\n\t\twritePolicy.respondAllOps=true;\r\n\t\twritePolicy.durableDelete=true;\r\n\t\tpolicy.writePolicyDefault = writePolicy;\r\n\r\n        Policy readPolicy = new Policy();\r\n\t\treadPolicy.maxRetries = 2;\r\n\t\treadPolicy.socketTimeout = 5000;\r\n\t\tpolicy.readPolicyDefault = readPolicy;\r\n\t\treturn policy;\r\n```","title":"Atomic increment via operate command using java client (5.1.5.1) fails","body":"<p>I am trying to do atomic operations on a single bin set. However I am noticing a strange behaviour where randomly record is not getting incremented/decremented. Operate command is returning null in response. Not getting any exception as well. Sometimes it works and sometimes doesn't.</p>\n<p>Attempted to check using both <strong>persistent</strong> and <strong>inmemory</strong> storage. It's a clustered environment of 3 nodes.</p>\n<p>For some cases it gave Hot key error which i was able to resolve by setting the property <strong>transaction-pending-limit</strong> = 0.</p>\n<p><strong>Aerospike client :</strong></p>\n<pre><code>             &lt;dependency&gt;\n                 &lt;groupId&gt;com.aerospike&lt;/groupId&gt;\n                 &lt;artifactId&gt;aerospike-client&lt;/artifactId&gt;\n                 &lt;version&gt;5.1.5.1&lt;/version&gt;\n             &lt;/dependency&gt;\n</code></pre>\n<p><strong>Operate command :</strong></p>\n<pre><code>    public long incrementAndGetBinValue(AerospikeClient aerospikeClient, String key, Bin bin, long value, Key asKey) {\n        Record record;\n        try {\n            record = aerospikeClient.operate(aerospikeClient.writePolicyDefault, asKey, Operation.add(bin), Operation.get(bin.name));\n            logger.info(&quot;Aeroospike record {} &quot;, record);\n        } catch (AerospikeException exception) {\n            logger.error(&quot;Aerospike Exception while incrementing bin {} ,key {} by value {} error : {}&quot;, bin.name, key, value, ExceptionUtils.getStackTrace(exception));\n            throw new NexusException(ErrorCodes.AEROSPIKE_OPERATION_ERROR, &quot;aerospike exception operation error&quot;);\n        } catch (Exception exception) {\n            logger.error(&quot;Exception while incrementing bin {} ,key {} by value {} error : {}&quot;, bin.name, key, value, ExceptionUtils.getStackTrace(exception));\n        }\n        if (record == null) {\n            logger.error(&quot;incrementAndGetBinValue :  No record returned for key {} ,bin {}&quot;, key, bin.name);\n            throw new NexusException(ErrorCodes.AEROSPIKE_NO_RECORD_FOUND, &quot;aerospike no record returned&quot;);\n        }\n        return record.getLong(bin.name);\n    }\n\n</code></pre>\n<p><strong>Policy :</strong></p>\n<pre><code>        ClientPolicy policy = new ClientPolicy();\n        policy.timeout = 5000;\n        WritePolicy writePolicy = new WritePolicy();\n        writePolicy.socketTimeout = 60000;\n        writePolicy.maxRetries = 2;\n        writePolicy.sendKey = true;\n        writePolicy.expiration = -1; // never expire record\n        writePolicy.respondAllOps=true;\n        writePolicy.durableDelete=true;\n        policy.writePolicyDefault = writePolicy;\n\n        Policy readPolicy = new Policy();\n        readPolicy.maxRetries = 2;\n        readPolicy.socketTimeout = 5000;\n        policy.readPolicyDefault = readPolicy;\n        return policy;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654406528,"post_id":72482456,"comment_id":128080859,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654213753,"creation_date":1654212233,"answer_id":72483238,"question_id":72482456,"body_markdown":"as explained in the  [spring docs][1]\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/CacheManager.html\r\ninject  CacheManager  use cacheManager to get and put with key.\r\n\r\n    @Autowired\r\n        private CacheManager cacheManager;\r\n\r\nvar cache = cacheManager.getCache(&quot;cacheName&quot;);\r\n\r\ncache.get(key);","title":"Using the same cache in multiple classes","body":"<p>as explained in the  [spring docs][1]\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/CacheManager.html\ninject  CacheManager  use cacheManager to get and put with key.</p>\n<pre><code>@Autowired\n    private CacheManager cacheManager;\n</code></pre>\n<p>var cache = cacheManager.getCache(&quot;cacheName&quot;);</p>\n<p>cache.get(key);</p>\n"}],"owner":{"account_id":25197127,"reputation":3,"user_id":19036494,"display_name":"code"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72483238,"answer_count":1,"score":0,"last_activity_date":1654213753,"creation_date":1654204675,"question_id":72482456,"body_markdown":"Within my application, I have two different, existing services (that do not directly communicate) that need to access some of the same information (storing new entries and retrieving existing entries) that is stored in a cache.  I&#39;ve currently got the cache in its own class (B) but am unsure how to get the two classes, C and D, to access it as well.  Due to the complexity of the application and how these services operate, I am unable to have another class (A) instantiate the cache (B), and pass that reference to C and D.  Are there any existing design patterns or implementations I could follow?","title":"Using the same cache in multiple classes","body":"<p>Within my application, I have two different, existing services (that do not directly communicate) that need to access some of the same information (storing new entries and retrieving existing entries) that is stored in a cache.  I've currently got the cache in its own class (B) but am unsure how to get the two classes, C and D, to access it as well.  Due to the complexity of the application and how these services operate, I am unable to have another class (A) instantiate the cache (B), and pass that reference to C and D.  Are there any existing design patterns or implementations I could follow?</p>\n"},{"tags":["java","spring","spring-cloud","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654171701,"post_id":72475824,"comment_id":128030658,"body_markdown":"Well it is an exception and those are counted, so as long as there are exceptions being thrown the circuitbreaker will trip. I suspect you misconfigured the ignored exceptions in your `application.properties`.","body":"Well it is an exception and those are counted, so as long as there are exceptions being thrown the circuitbreaker will trip. I suspect you misconfigured the ignored exceptions in your <code>application.properties</code>."},{"owner":{"account_id":3054541,"reputation":651,"user_id":2588479,"accept_rate":100,"display_name":"Chan"},"score":0,"creation_date":1654171945,"post_id":72475824,"comment_id":128030745,"body_markdown":"@M. Deinum It is an ignoredException. The properties file has this line -- resilience4j.circuitbreaker.instances.inventory.ignore-exceptions[0]=com.mayrevision.orderservice.exception.OrderItemNotFoundException\nShould it still be counted?","body":"@M. Deinum It is an ignoredException. The properties file has this line -- resilience4j.circuitbreaker.instances.inventory.ignore-excep&zwnj;&#8203;tions[0]=com.mayrevi&zwnj;&#8203;sion.orderservice.ex&zwnj;&#8203;ception.OrderItemNot&zwnj;&#8203;FoundException Should it still be counted?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654172153,"post_id":72475824,"comment_id":128030839,"body_markdown":"I suspect that that is wrong, why is it indexed? Generally you just put a comma separated list in there instead of indexes.","body":"I suspect that that is wrong, why is it indexed? Generally you just put a comma separated list in there instead of indexes."},{"owner":{"account_id":3054541,"reputation":651,"user_id":2588479,"accept_rate":100,"display_name":"Chan"},"score":0,"creation_date":1654172905,"post_id":72475824,"comment_id":128031104,"body_markdown":"@M. Deinum yeah I should just give a comma separated list there. So I changed it to \nresilience4j.circuitbreaker.instances.inventory.ignore-exceptions=com.mayrevision.orderservice.exception.OrderItemNotFoundException\nWeirdly behavior is still the same. The actuator shows the circuit is half open. However I am just able to make about any number of calls with missing items with the expected correct response. The only issue is actuator shows the circuit is half_open even after 50 calls and the bufferedCalls still remains 0.","body":"@M. Deinum yeah I should just give a comma separated list there. So I changed it to  resilience4j.circuitbreaker.instances.inventory.ignore-excep&zwnj;&#8203;tions=com.mayrevisio&zwnj;&#8203;n.orderservice.excep&zwnj;&#8203;tion.OrderItemNotFou&zwnj;&#8203;ndException Weirdly behavior is still the same. The actuator shows the circuit is half open. However I am just able to make about any number of calls with missing items with the expected correct response. The only issue is actuator shows the circuit is half_open even after 50 calls and the bufferedCalls still remains 0."}],"answers":[{"tags":[],"owner":{"account_id":3054541,"reputation":651,"user_id":2588479,"accept_rate":100,"display_name":"Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654213632,"creation_date":1654208973,"answer_id":72482947,"question_id":72475824,"body_markdown":"Looks like this is how the exception mechanism in Resilience4j is designed to work. If I want the exception to be treated as a success case in all the cases (including the case mentioned above), I should catch it. So I changed the code as follows -- \r\n\r\n```\r\n    @PostMapping\r\n    @CircuitBreaker(name = &quot;inventory&quot;, fallbackMethod = &quot;fallBackMethod&quot;)\r\n    public CompletableFuture&lt;ResponseEntity&lt;StatusResponse&gt;&gt; placeOrder(@RequestBody OrderRequest orderRequest) {\r\n        return  CompletableFuture.supplyAsync(() -&gt; {\r\n            try {\r\n                String message = orderService.placeOrder(orderRequest);\r\n                StatusResponse response = new StatusResponse(HttpStatus.CREATED, message);\r\n                return ResponseEntity.status(HttpStatus.CREATED).body(response);\r\n            } catch (OrderItemNotFoundException e) {\r\n                return ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE)\r\n                        .body(new StatusResponse(HttpStatus.NOT_ACCEPTABLE, e.getMessage()));\r\n            }\r\n        });\r\n    }\r\n\r\n public CompletableFuture&lt;ResponseEntity&lt;StatusResponse&gt;&gt; fallBackMethod(OrderRequest orderRequest, RuntimeException e) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            //some logic\r\n        });\r\n    }\r\n\r\n```\r\nThis is working close to expected. ","title":"Resilience4j circuit breaker does not switch back to closed state from half open after the downstream system is up again","body":"<p>Looks like this is how the exception mechanism in Resilience4j is designed to work. If I want the exception to be treated as a success case in all the cases (including the case mentioned above), I should catch it. So I changed the code as follows --</p>\n<pre><code>    @PostMapping\n    @CircuitBreaker(name = &quot;inventory&quot;, fallbackMethod = &quot;fallBackMethod&quot;)\n    public CompletableFuture&lt;ResponseEntity&lt;StatusResponse&gt;&gt; placeOrder(@RequestBody OrderRequest orderRequest) {\n        return  CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                String message = orderService.placeOrder(orderRequest);\n                StatusResponse response = new StatusResponse(HttpStatus.CREATED, message);\n                return ResponseEntity.status(HttpStatus.CREATED).body(response);\n            } catch (OrderItemNotFoundException e) {\n                return ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE)\n                        .body(new StatusResponse(HttpStatus.NOT_ACCEPTABLE, e.getMessage()));\n            }\n        });\n    }\n\n public CompletableFuture&lt;ResponseEntity&lt;StatusResponse&gt;&gt; fallBackMethod(OrderRequest orderRequest, RuntimeException e) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            //some logic\n        });\n    }\n\n</code></pre>\n<p>This is working close to expected.</p>\n"}],"owner":{"account_id":3054541,"reputation":651,"user_id":2588479,"accept_rate":100,"display_name":"Chan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2033,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72482947,"answer_count":1,"score":1,"last_activity_date":1654213632,"creation_date":1654170670,"question_id":72475824,"body_markdown":"I have two micro-services, order-service, and inventory-service. The order-service makes a call to inventory-service to check if ordered items are in stock. An order is placed only if all the items in the order request are in stock. If the inventory-service is down or slow, the circuit breaker part triggers. The case of an order not being placed because of a missing item is not a failure case for the circuit breaker. This works well as intended only until the circuit has never switched from closed state to half open state.\r\n\r\nWhat I mean by that is if more than 5 consecutive orders cannot be placed because of a missing item, the circuit does not switch to open state. This is as expected. If the inventory-service is brought down, 3 more failed requests cause the circuit to move to open and subsequently to half open state. This also is as expected. However when the inventory-service comes up again, and the only requests that are made are requests containing one or more items not in stock, the circuit remains in half_open state continuously. This is not ok. A missing item in an order is a success case and should increment the successful buffered call count, but it doesn&#39;t. Looking at the actuator info, it looks like these calls are not counted either as failure or as success cases.\r\nWhat am I doing wrong.\r\n\r\nNote -- if I make sufficient number of calls where order gets placed, then the circuit switches to closed again. That&#39;s ok but shouldn&#39;t the case of ignored exception count as a success case even if the only calls that are made are those with one or missing items.\r\n\r\nFollowing are the properties of my circuit breaker in the calling microservice.\r\n\r\n```\r\nresilience4j.circuitbreaker.instances.inventory.register-health-indicator=true\r\nresilience4j.circuitbreaker.instances.inventory.event-consumer-buffer-size=10\r\nresilience4j.circuitbreaker.instances.inventory.sliding-window-type=COUNT_BASED\r\nresilience4j.circuitbreaker.instances.inventory.sliding-window-size=5\r\nresilience4j.circuitbreaker.instances.inventory.failure-rate-threshold=50\r\nresilience4j.circuitbreaker.instances.inventory.wait-duration-in-open-state=5s\r\nresilience4j.circuitbreaker.instances.inventory.permitted-number-of-calls-in-half-open-state=3\r\nresilience4j.circuitbreaker.instances.inventory.automatic-transition-from-open-to-half-open-enabled=true\r\nresilience4j.circuitbreaker.instances.inventory.ignore-exceptions=com.mayrevision.orderservice.exception.OrderItemNotFoundException\r\n```\r\n\r\nI have a custom exception handler for OrderItemNotFoundException.\r\n\r\n```\r\n@ControllerAdvice\r\n@ResponseStatus\r\npublic class OrderItemNotFoundExceptionHandler extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler(OrderItemNotFoundException.class)\r\n    public ResponseEntity&lt;ErrorResponse&gt; getErrorMessage(OrderItemNotFoundException exception) {\r\n        ErrorResponse response = new ErrorResponse(HttpStatus.NOT_ACCEPTABLE, exception.getMessage());\r\n        return ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(response);\r\n    }\r\n}\r\n```\r\n\r\nThe controller code is --\r\n\r\n```\r\n@PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    @CircuitBreaker(name = &quot;inventory&quot;, fallbackMethod = &quot;fallBackMethod&quot;)\r\n    public String placeOrder(@RequestBody OrderRequest orderRequest) throws OrderItemNotFoundException {\r\n        orderService.placeOrder(orderRequest);\r\n        return &quot;Order placed successfully&quot;;\r\n    }\r\n\r\n    public String fallBackMethod(OrderRequest orderRequest, RuntimeException runtimeException) {\r\n        return &quot;The order could not be placed. Please try back after some time.&quot;;\r\n    }\r\n```\r\nEdit -- Edited resilience4j.circuitbreaker.instances.inventory.ignore-exceptions[0]=com.mayrevision.orderservice.exception.OrderItemNotFoundException to resilience4j.circuitbreaker.instances.inventory.ignore-exceptions=com.mayrevision.orderservice.exception.OrderItemNotFoundException in application.properties.\r\n\r\n","title":"Resilience4j circuit breaker does not switch back to closed state from half open after the downstream system is up again","body":"<p>I have two micro-services, order-service, and inventory-service. The order-service makes a call to inventory-service to check if ordered items are in stock. An order is placed only if all the items in the order request are in stock. If the inventory-service is down or slow, the circuit breaker part triggers. The case of an order not being placed because of a missing item is not a failure case for the circuit breaker. This works well as intended only until the circuit has never switched from closed state to half open state.</p>\n<p>What I mean by that is if more than 5 consecutive orders cannot be placed because of a missing item, the circuit does not switch to open state. This is as expected. If the inventory-service is brought down, 3 more failed requests cause the circuit to move to open and subsequently to half open state. This also is as expected. However when the inventory-service comes up again, and the only requests that are made are requests containing one or more items not in stock, the circuit remains in half_open state continuously. This is not ok. A missing item in an order is a success case and should increment the successful buffered call count, but it doesn't. Looking at the actuator info, it looks like these calls are not counted either as failure or as success cases.\nWhat am I doing wrong.</p>\n<p>Note -- if I make sufficient number of calls where order gets placed, then the circuit switches to closed again. That's ok but shouldn't the case of ignored exception count as a success case even if the only calls that are made are those with one or missing items.</p>\n<p>Following are the properties of my circuit breaker in the calling microservice.</p>\n<pre><code>resilience4j.circuitbreaker.instances.inventory.register-health-indicator=true\nresilience4j.circuitbreaker.instances.inventory.event-consumer-buffer-size=10\nresilience4j.circuitbreaker.instances.inventory.sliding-window-type=COUNT_BASED\nresilience4j.circuitbreaker.instances.inventory.sliding-window-size=5\nresilience4j.circuitbreaker.instances.inventory.failure-rate-threshold=50\nresilience4j.circuitbreaker.instances.inventory.wait-duration-in-open-state=5s\nresilience4j.circuitbreaker.instances.inventory.permitted-number-of-calls-in-half-open-state=3\nresilience4j.circuitbreaker.instances.inventory.automatic-transition-from-open-to-half-open-enabled=true\nresilience4j.circuitbreaker.instances.inventory.ignore-exceptions=com.mayrevision.orderservice.exception.OrderItemNotFoundException\n</code></pre>\n<p>I have a custom exception handler for OrderItemNotFoundException.</p>\n<pre><code>@ControllerAdvice\n@ResponseStatus\npublic class OrderItemNotFoundExceptionHandler extends ResponseEntityExceptionHandler {\n    @ExceptionHandler(OrderItemNotFoundException.class)\n    public ResponseEntity&lt;ErrorResponse&gt; getErrorMessage(OrderItemNotFoundException exception) {\n        ErrorResponse response = new ErrorResponse(HttpStatus.NOT_ACCEPTABLE, exception.getMessage());\n        return ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(response);\n    }\n}\n</code></pre>\n<p>The controller code is --</p>\n<pre><code>@PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    @CircuitBreaker(name = &quot;inventory&quot;, fallbackMethod = &quot;fallBackMethod&quot;)\n    public String placeOrder(@RequestBody OrderRequest orderRequest) throws OrderItemNotFoundException {\n        orderService.placeOrder(orderRequest);\n        return &quot;Order placed successfully&quot;;\n    }\n\n    public String fallBackMethod(OrderRequest orderRequest, RuntimeException runtimeException) {\n        return &quot;The order could not be placed. Please try back after some time.&quot;;\n    }\n</code></pre>\n<p>Edit -- Edited resilience4j.circuitbreaker.instances.inventory.ignore-exceptions[0]=com.mayrevision.orderservice.exception.OrderItemNotFoundException to resilience4j.circuitbreaker.instances.inventory.ignore-exceptions=com.mayrevision.orderservice.exception.OrderItemNotFoundException in application.properties.</p>\n"},{"tags":["java","swing","jbutton","jtogglebutton"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1654210064,"post_id":72482551,"comment_id":128043384,"body_markdown":"At a guess, you may need a custom UI delegate; more [here](https://stackoverflow.com/a/29906108/230513).","body":"At a guess, you may need a custom UI delegate; more <a href=\"https://stackoverflow.com/a/29906108/230513\">here</a>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654211484,"post_id":72482551,"comment_id":128043620,"body_markdown":"You might try a different L&amp;F implementation, like [VAqua](https://violetlib.org/vaqua/togglebuttons.html) - this seems to be an issue with the default implementation supplied by Apple &#128531;","body":"You might try a different L&amp;F implementation, like <a href=\"https://violetlib.org/vaqua/togglebuttons.html\" rel=\"nofollow noreferrer\">VAqua</a> - this seems to be an issue with the default implementation supplied by Apple 😓"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654213628,"creation_date":1654213628,"answer_id":72483375,"question_id":72482551,"body_markdown":"Sooo, I spent WAY to much time digging into the source code for the &quot;Aqua&quot; look and feel, and I found that the `AquaButtonUI` has a &quot;button type&quot; client property which is used to (amongst a couple of other things) determine the border type.\r\n\r\nSooo, I pulled all the internal &quot;types&quot; and did a quick test...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JToggleButton;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(System.getProperty(&quot;user.dir&quot;));\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            private String[] keys = new String[]{\r\n                &quot;toolbar&quot;,\r\n                &quot;icon&quot;,\r\n                &quot;text&quot;,\r\n                &quot;toggle&quot;,\r\n                &quot;combobox&quot;,\r\n                &quot;comboboxInternal&quot;,\r\n                &quot;comboboxEndCap&quot;,\r\n                &quot;square&quot;,\r\n                &quot;gradient&quot;,\r\n                &quot;bevel&quot;,\r\n                &quot;textured&quot;,\r\n                &quot;roundRect&quot;,\r\n                &quot;recessed&quot;,\r\n                &quot;well&quot;,\r\n                &quot;help&quot;,\r\n                &quot;round&quot;,\r\n                &quot;texturedRound&quot;,\r\n                &quot;segmented-first&quot;,\r\n                &quot;segmented-middle&quot;,\r\n                &quot;segmented-last&quot;,\r\n                &quot;segmented-only&quot;,\r\n                &quot;segmentedRoundRect-first&quot;,\r\n                &quot;segmentedRoundRect-middle&quot;,\r\n                &quot;segmentedRoundRect-last&quot;,\r\n                &quot;segmentedRoundRect-only&quot;,\r\n                &quot;segmentedTexturedRounded-first&quot;,\r\n                &quot;segmentedTexturedRounded-middle&quot;,\r\n                &quot;segmentedTexturedRounded-last&quot;,\r\n                &quot;segmentedTexturedRounded-only&quot;,\r\n                &quot;segmentedTextured-first&quot;,\r\n                &quot;segmentedTextured-middle&quot;,\r\n                &quot;segmentedTextured-last&quot;,\r\n                &quot;segmentedTextured-only&quot;,\r\n                &quot;segmentedCapsule-first&quot;,\r\n                &quot;segmentedCapsule-middle&quot;,\r\n                &quot;segmentedCapsule-last&quot;,\r\n                &quot;segmentedCapsule-only&quot;,\r\n                &quot;segmentedGradient-first&quot;,\r\n                &quot;segmentedGradient-middle&quot;,\r\n                &quot;segmentedGradient-last&quot;,\r\n                &quot;segmentedGradient-only&quot;,\r\n                &quot;disclosure&quot;,\r\n                &quot;scrollColumnSizer&quot;\r\n            };\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new BorderLayout());\r\n\r\n                JPanel contentPane = new JPanel(new GridBagLayout());\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                for (String key : keys) {\r\n                    JToggleButton btn = new JToggleButton(key);\r\n                    btn.putClientProperty(&quot;JButton.buttonType&quot;, key);\r\n                    contentPane.add(btn, gbc);\r\n                }\r\n                add(new JScrollPane(contentPane));\r\n            }\r\n        }\r\n    }\r\n\r\nGenerally, I found that `bevel` and `segmented-only` will achieve your desired result (although `segment-first/middle/last` looks interesting)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1PnRm.png","title":"Java Swing macOS buttons are grey instead of blue when selected","body":"<p>Sooo, I spent WAY to much time digging into the source code for the &quot;Aqua&quot; look and feel, and I found that the <code>AquaButtonUI</code> has a &quot;button type&quot; client property which is used to (amongst a couple of other things) determine the border type.</p>\n<p>Sooo, I pulled all the internal &quot;types&quot; and did a quick test...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JToggleButton;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(System.getProperty(&quot;user.dir&quot;));\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        private String[] keys = new String[]{\n            &quot;toolbar&quot;,\n            &quot;icon&quot;,\n            &quot;text&quot;,\n            &quot;toggle&quot;,\n            &quot;combobox&quot;,\n            &quot;comboboxInternal&quot;,\n            &quot;comboboxEndCap&quot;,\n            &quot;square&quot;,\n            &quot;gradient&quot;,\n            &quot;bevel&quot;,\n            &quot;textured&quot;,\n            &quot;roundRect&quot;,\n            &quot;recessed&quot;,\n            &quot;well&quot;,\n            &quot;help&quot;,\n            &quot;round&quot;,\n            &quot;texturedRound&quot;,\n            &quot;segmented-first&quot;,\n            &quot;segmented-middle&quot;,\n            &quot;segmented-last&quot;,\n            &quot;segmented-only&quot;,\n            &quot;segmentedRoundRect-first&quot;,\n            &quot;segmentedRoundRect-middle&quot;,\n            &quot;segmentedRoundRect-last&quot;,\n            &quot;segmentedRoundRect-only&quot;,\n            &quot;segmentedTexturedRounded-first&quot;,\n            &quot;segmentedTexturedRounded-middle&quot;,\n            &quot;segmentedTexturedRounded-last&quot;,\n            &quot;segmentedTexturedRounded-only&quot;,\n            &quot;segmentedTextured-first&quot;,\n            &quot;segmentedTextured-middle&quot;,\n            &quot;segmentedTextured-last&quot;,\n            &quot;segmentedTextured-only&quot;,\n            &quot;segmentedCapsule-first&quot;,\n            &quot;segmentedCapsule-middle&quot;,\n            &quot;segmentedCapsule-last&quot;,\n            &quot;segmentedCapsule-only&quot;,\n            &quot;segmentedGradient-first&quot;,\n            &quot;segmentedGradient-middle&quot;,\n            &quot;segmentedGradient-last&quot;,\n            &quot;segmentedGradient-only&quot;,\n            &quot;disclosure&quot;,\n            &quot;scrollColumnSizer&quot;\n        };\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new BorderLayout());\n\n            JPanel contentPane = new JPanel(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            for (String key : keys) {\n                JToggleButton btn = new JToggleButton(key);\n                btn.putClientProperty(&quot;JButton.buttonType&quot;, key);\n                contentPane.add(btn, gbc);\n            }\n            add(new JScrollPane(contentPane));\n        }\n    }\n}\n</code></pre>\n<p>Generally, I found that <code>bevel</code> and <code>segmented-only</code> will achieve your desired result (although <code>segment-first/middle/last</code> looks interesting)</p>\n<p><a href=\"https://i.stack.imgur.com/1PnRm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1PnRm.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13359285,"reputation":46,"user_id":11965105,"display_name":"SiboVG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72483375,"answer_count":1,"score":0,"last_activity_date":1654213628,"creation_date":1654205430,"question_id":72482551,"body_markdown":"I have a bug in my Swing program where the background of `JButton` and `JToggleButton` components is grey instead of blue, when the component is selected. Here is a screenshot of the issue on a `JToggleButton`, but the same issue occurs when pressing down on a `JButton`.\r\n\r\n[![Demo of the issue on a JToggleButton][1]][1]\r\n\r\nI have tried manually setting the background with \r\n```Java\r\nbutton.setBackground(Color.BLUE);\r\nbutton.setOpaque(true);\r\n```\r\n\r\nbut that just paints a small border around the button:\r\n\r\n[![first fix try][2]][2]\r\n\r\nAlso added `button.setBorderPainted(false);` which removes the border but also removes the macOS button look entirely + gives the text a darker background color:\r\n\r\n[![try 2, I hate my life][3]][3]\r\n\r\nIt looks like the border (AquaButtonBorder) blocks the background color from changing or something? Because simply setting `button.setBackground(Color.BLUE);` does absolutely nothing.\r\n\r\n\r\nThe look and feel is set to `UIManager.getSystemLookAndFeelClassName()`, but also tried `UIManager.getCrossPlatformLookAndFeelClassName()` which was unsuccessful.\r\n\r\nJava specifications: running on Java 11, but the same issue persists in Java 17\r\n\r\nSystem specifications: M1 MacBook Pro, macOS version 12.4\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mtxCi.jpg\r\n  [2]: https://i.stack.imgur.com/TpUXl.png\r\n  [3]: https://i.stack.imgur.com/HOsYZ.png","title":"Java Swing macOS buttons are grey instead of blue when selected","body":"<p>I have a bug in my Swing program where the background of <code>JButton</code> and <code>JToggleButton</code> components is grey instead of blue, when the component is selected. Here is a screenshot of the issue on a <code>JToggleButton</code>, but the same issue occurs when pressing down on a <code>JButton</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/mtxCi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mtxCi.jpg\" alt=\"Demo of the issue on a JToggleButton\" /></a></p>\n<p>I have tried manually setting the background with</p>\n<pre><code>button.setBackground(Color.BLUE);\nbutton.setOpaque(true);\n</code></pre>\n<p>but that just paints a small border around the button:</p>\n<p><a href=\"https://i.stack.imgur.com/TpUXl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TpUXl.png\" alt=\"first fix try\" /></a></p>\n<p>Also added <code>button.setBorderPainted(false);</code> which removes the border but also removes the macOS button look entirely + gives the text a darker background color:</p>\n<p><a href=\"https://i.stack.imgur.com/HOsYZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HOsYZ.png\" alt=\"try 2, I hate my life\" /></a></p>\n<p>It looks like the border (AquaButtonBorder) blocks the background color from changing or something? Because simply setting <code>button.setBackground(Color.BLUE);</code> does absolutely nothing.</p>\n<p>The look and feel is set to <code>UIManager.getSystemLookAndFeelClassName()</code>, but also tried <code>UIManager.getCrossPlatformLookAndFeelClassName()</code> which was unsuccessful.</p>\n<p>Java specifications: running on Java 11, but the same issue persists in Java 17</p>\n<p>System specifications: M1 MacBook Pro, macOS version 12.4</p>\n"},{"tags":["python","java","encryption"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":3,"creation_date":1654238393,"post_id":72483363,"comment_id":128047797,"body_markdown":"As the IV does not need to be kept secret just prepend the IV to the ciphertext before Base64 encoding. On decryption side Base64-decode the data and strip off the first 16 bytes and use them as IV.","body":"As the IV does not need to be kept secret just prepend the IV to the ciphertext before Base64 encoding. On decryption side Base64-decode the data and strip off the first 16 bytes and use them as IV."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1654263359,"post_id":72483363,"comment_id":128055814,"body_markdown":"Please make sure you actually understand encoding / decoding - bytes and byte representations. The IV doesn&#39;t consist of 16 **characters**, it consists of 16 bytes. Similarly, a key should never be represented as a string, that would be a **password** (and you&#39;d need a PBKDF to derive a key from a password). If you do a POST you can send/receive binary data perfectly fine, so the base 64 encoding isn&#39;t even necessary.","body":"Please make sure you actually understand encoding / decoding - bytes and byte representations. The IV doesn&#39;t consist of 16 <b>characters</b>, it consists of 16 bytes. Similarly, a key should never be represented as a string, that would be a <b>password</b> (and you&#39;d need a PBKDF to derive a key from a password). If you do a POST you can send/receive binary data perfectly fine, so the base 64 encoding isn&#39;t even necessary."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1654263516,"post_id":72483363,"comment_id":128055869,"body_markdown":"Note that using CBC makes you directly vulnerable against padding oracle attack. Above is nice as an exercise, but if you&#39;d use it in an actual protocol you&#39;d have about zero protection against hackers that know anything about cryptography. Pretty please with sugar on top: use TLS for actual protection.","body":"Note that using CBC makes you directly vulnerable against padding oracle attack. Above is nice as an exercise, but if you&#39;d use it in an actual protocol you&#39;d have about zero protection against hackers that know anything about cryptography. Pretty please with sugar on top: use TLS for actual protection."},{"owner":{"account_id":21452631,"reputation":11,"user_id":15804788,"display_name":"Elementswelder"},"score":0,"creation_date":1654278104,"post_id":72483363,"comment_id":128060807,"body_markdown":"@MaartenBodewes Yes, I&#39;m not keeping that as a my key, it was just an example. Thank you for the feedback, I was going to use both TLS and this for protection. I didn&#39;t realize that CBC was vulnerable like that, is there a different protocol that you recommend?","body":"@MaartenBodewes Yes, I&#39;m not keeping that as a my key, it was just an example. Thank you for the feedback, I was going to use both TLS and this for protection. I didn&#39;t realize that CBC was vulnerable like that, is there a different protocol that you recommend?"}],"owner":{"account_id":21452631,"reputation":11,"user_id":15804788,"display_name":"Elementswelder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654213454,"creation_date":1654213454,"question_id":72483363,"body_markdown":"I&#39;m trying to figure out the best way to encrypt and decrypt some JSON data that I&#39;m passing from my client (Python) to server (Java). I keep running into a few errors. Originally I had a set IV that I had hardcoded into both client and server and it was working great, it would encrypt and decrypt as I needed. However, that&#39;s obviously a bad idea, I set a random IV that I would then slice with my server and that sorta worked. It would decrpyt most of the data, except for the first 50 bytes or so. They would just be random chars `(�6OC�\u000BՂ�{�9��aJ, &quot;number&quot;: 1243.2,`...etc) and I couldn&#39;t parse the JSON.\r\n\r\nThen when I try to slice OFF the IV (16 chars) from the decoded bytes I get an error saying that the data needs to be in multiples of 16, but I&#39;m not sure why that isn&#39;t working.\r\n\r\nAny ideas on how to get this working? Thanks!\r\n\r\n**Python Client**\r\n```\r\n       jsonString = json.dumps(data.__dict__, default=str)\r\n\r\n        key = &#39;sixteenssixteens&#39;\r\n        text = jsonString\r\n        plaintext = self.pad(text)\r\n\r\n        iv = os.urandom(16)\r\n\r\n        cipher = AES.new(key, AES.MODE_CBC, iv)\r\n        encrpyt_btye = cipher.encrypt(plaintext)\r\n        encrpyt_text = base64.urlsafe_b64encode(encrpyt_btye).decode(&quot;UTF-8&quot;)\r\n\r\n        requests.post(&#39;server&#39;, data=encrpy_text)\r\n\r\n    def pad(self, text):\r\n        numberBytestoPad = block_size - len(text) % block_size\r\n        ascii_string = chr(numberBytestoPad)\r\n        padding_str = numberBytestoPad * ascii_string\r\n        padded_text = text + padding_str\r\n        return padded_text\r\n```\r\n\r\n**Java Server**\r\n\r\n```\r\n  requestBody = exchange.getRequestBody();\r\n            String requestData = readString(requestBody);\r\n            System.out.println(requestData);\r\n\r\n            String key = &quot;sixteenssixteens&quot;;\r\n            String initVector = requestData.substring(0, 16);\r\n\r\n            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\r\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n\r\n            try {\r\n\r\n               //Tried to remove the IV from the start of the string\r\n               // String removeIV = requestData.substring(16);\r\n\r\n                Cipher cipherd = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n                cipherd.init(Cipher.DECRYPT_MODE, skeySpec, iv);\r\n                byte[] original = cipherd.doFinal(Base64.getUrlDecoder().decode(requestData));\r\n                String decryptedResult = new String(original);\r\n                System.out.println(&quot;Decrypted string: &quot; + decryptedResult);\r\n                try {\r\n                    data = gson.fromJson(decryptedResult, Data.class);\r\n                } catch (Exception ex){\r\n                    ex.printStackTrace();\r\n                    return;\r\n                }\r\n```","title":"How to successfully pass an IV from Python to Java (Encryption)?","body":"<p>I'm trying to figure out the best way to encrypt and decrypt some JSON data that I'm passing from my client (Python) to server (Java). I keep running into a few errors. Originally I had a set IV that I had hardcoded into both client and server and it was working great, it would encrypt and decrypt as I needed. However, that's obviously a bad idea, I set a random IV that I would then slice with my server and that sorta worked. It would decrpyt most of the data, except for the first 50 bytes or so. They would just be random chars <code>(�6OC�\u000BՂ�{�9��aJ, &quot;number&quot;: 1243.2,</code>...etc) and I couldn't parse the JSON.</p>\n<p>Then when I try to slice OFF the IV (16 chars) from the decoded bytes I get an error saying that the data needs to be in multiples of 16, but I'm not sure why that isn't working.</p>\n<p>Any ideas on how to get this working? Thanks!</p>\n<p><strong>Python Client</strong></p>\n<pre><code>       jsonString = json.dumps(data.__dict__, default=str)\n\n        key = 'sixteenssixteens'\n        text = jsonString\n        plaintext = self.pad(text)\n\n        iv = os.urandom(16)\n\n        cipher = AES.new(key, AES.MODE_CBC, iv)\n        encrpyt_btye = cipher.encrypt(plaintext)\n        encrpyt_text = base64.urlsafe_b64encode(encrpyt_btye).decode(&quot;UTF-8&quot;)\n\n        requests.post('server', data=encrpy_text)\n\n    def pad(self, text):\n        numberBytestoPad = block_size - len(text) % block_size\n        ascii_string = chr(numberBytestoPad)\n        padding_str = numberBytestoPad * ascii_string\n        padded_text = text + padding_str\n        return padded_text\n</code></pre>\n<p><strong>Java Server</strong></p>\n<pre><code>  requestBody = exchange.getRequestBody();\n            String requestData = readString(requestBody);\n            System.out.println(requestData);\n\n            String key = &quot;sixteenssixteens&quot;;\n            String initVector = requestData.substring(0, 16);\n\n            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\n\n            try {\n\n               //Tried to remove the IV from the start of the string\n               // String removeIV = requestData.substring(16);\n\n                Cipher cipherd = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n                cipherd.init(Cipher.DECRYPT_MODE, skeySpec, iv);\n                byte[] original = cipherd.doFinal(Base64.getUrlDecoder().decode(requestData));\n                String decryptedResult = new String(original);\n                System.out.println(&quot;Decrypted string: &quot; + decryptedResult);\n                try {\n                    data = gson.fromJson(decryptedResult, Data.class);\n                } catch (Exception ex){\n                    ex.printStackTrace();\n                    return;\n                }\n</code></pre>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654150563,"post_id":72471400,"comment_id":128023698,"body_markdown":"Always **search Stack Overflow** thoroughly before posting. A simple [search for `java DocumentBuilder string`](https://duckduckgo.com/?q=java+DocumentBuilder+string&amp;t=osx&amp;ia=web) found [*Using a string inside the DocumentBuilder parse method (need it for parsing XML using XPath)*](https://stackoverflow.com/q/2825872/642706) as a first hit. And that is a duplicate of [*In Java, how do I parse XML as a String instead of a file?*](https://stackoverflow.com/q/562160/642706).","body":"Always <b>search Stack Overflow</b> thoroughly before posting. A simple <a href=\"https://duckduckgo.com/?q=java+DocumentBuilder+string&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">search for <code>java DocumentBuilder string</code></a> found <a href=\"https://stackoverflow.com/q/2825872/642706\"><i>Using a string inside the DocumentBuilder parse method (need it for parsing XML using XPath)</i></a> as a first hit. And that is a duplicate of <a href=\"https://stackoverflow.com/q/562160/642706\"><i>In Java, how do I parse XML as a String instead of a file?</i></a>."},{"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"score":0,"creation_date":1654151078,"post_id":72471400,"comment_id":128023827,"body_markdown":"I was curious how to get attribute value not parse it","body":"I was curious how to get attribute value not parse it"},{"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"score":0,"creation_date":1654152949,"post_id":72471400,"comment_id":128024449,"body_markdown":"I solved it the question can be closed","body":"I solved it the question can be closed"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654153469,"post_id":72471400,"comment_id":128024619,"body_markdown":"@JohnNewman On Stack Overflow, you are invited to draft, post, and accept an Answer to your own Question, for posterity.","body":"@JohnNewman On Stack Overflow, you are invited to draft, post, and accept an Answer to your own Question, for posterity."}],"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654150449,"answer_count":0,"score":0,"last_activity_date":1654211579,"creation_date":1654150065,"question_id":72471400,"body_markdown":"I have an XML stored in a String and I am trying to get an attribute value.\r\n\r\nHere is the xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;header xmlns=&quot;mfp:anaf:dgti:spv:respUploadFisier:v1&quot; dateResponse=&quot;202206020900&quot; \r\n    ExecutionStatus=&quot;0&quot; index_incarcare=&quot;123&quot;/&gt;\r\n\r\nHere is the code that I have tried:\r\n\r\n        String response = restTemplate.postForObject(uriLink, reqEntity, String.class);\r\n    System.out.println(response);\r\n    File f = new File(response);\r\n    //parsare xml\r\n    \r\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder db = dbf.newDocumentBuilder();\r\n    Document document = (Document) db.parse(new File(f.toString()));\r\n    NodeList nodeList = (NodeList) document.getProperty(&quot;index_incarcare&quot;);\r\n    String indexIncarcare = nodeList.toString();\r\n    \r\n    System.out.println(&quot;-----------------------------&quot;+indexIncarcare);\r\n\r\nAnd I get this error:\r\n\r\n        java.io.FileNotFoundException: C:\\efactura_spring\\efactura\\&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;header xmlns=&quot;mfp:anaf:dgti:spv:respUploadFisier:v1&quot; dateResponse=&quot;202206020900&quot; ExecutionStatus=&quot;0&quot; index_incarcare=&quot;455587&quot;\\&gt;\r\n\r\nAll the examples I found online are to get from a file but I want to get from a String. Can someone give me a working example or an answer?","title":"Get xml attribute value from string","body":"<p>I have an XML stored in a String and I am trying to get an attribute value.</p>\n<p>Here is the xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;header xmlns=&quot;mfp:anaf:dgti:spv:respUploadFisier:v1&quot; dateResponse=&quot;202206020900&quot; \nExecutionStatus=&quot;0&quot; index_incarcare=&quot;123&quot;/&gt;\n</code></pre>\n<p>Here is the code that I have tried:</p>\n<pre><code>    String response = restTemplate.postForObject(uriLink, reqEntity, String.class);\nSystem.out.println(response);\nFile f = new File(response);\n//parsare xml\n\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument document = (Document) db.parse(new File(f.toString()));\nNodeList nodeList = (NodeList) document.getProperty(&quot;index_incarcare&quot;);\nString indexIncarcare = nodeList.toString();\n\nSystem.out.println(&quot;-----------------------------&quot;+indexIncarcare);\n</code></pre>\n<p>And I get this error:</p>\n<pre><code>    java.io.FileNotFoundException: C:\\efactura_spring\\efactura\\&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;header xmlns=&quot;mfp:anaf:dgti:spv:respUploadFisier:v1&quot; dateResponse=&quot;202206020900&quot; ExecutionStatus=&quot;0&quot; index_incarcare=&quot;455587&quot;\\&gt;\n</code></pre>\n<p>All the examples I found online are to get from a file but I want to get from a String. Can someone give me a working example or an answer?</p>\n"},{"tags":["java","javadoc"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654210333,"creation_date":1654209912,"answer_id":72483032,"question_id":72473492,"body_markdown":"Parsing `@since` might be error-prone because there are some pitfalls:\r\n- Especially for methods it is inconsistent; for example [`String.startsWith(String)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#startsWith(java.lang.String)) has `@since 1.0` but [`String.endsWith(String)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#endsWith(java.lang.String)) has no `@since` tag\r\n- The value might be unexpected for overridden methods, see [JDK-8254572](https://bugs.openjdk.java.net/browse/JDK-8254572)\r\n- It might be incorrect. The value is not validated in any way so it could happen that it is incorrect, examples for this are: [JDK-6372816](https://bugs.openjdk.java.net/browse/JDK-6372816), [JDK-8164057](https://bugs.openjdk.java.net/browse/JDK-8164057), [JDK-8260561](https://bugs.openjdk.java.net/browse/JDK-8260561)\r\n\r\nIf you as developer just want to know which new API was added, you can have a look at the [&quot;New&quot; tab](https://docs.oracle.com/en/java/javase/17/docs/api/new-list.html) of the documentation, added in Java 17 by [JDK-8265055](https://bugs.openjdk.java.net/browse/JDK-8265055) (this is based on the `@since` information).\r\n\r\nThe `--release` option of `javac` uses the file `lib/ct.sym` from the JDK installation which stores information about the public API of previous versions. See the &quot;Implementation&quot; section of [JEP 247](https://openjdk.java.net/jeps/247). There are however some pitfalls with this as well:\r\n- The support for older versions is dropped; for example Java 12 and newer [does not support Java 6](https://bugs.openjdk.java.net/browse/JDK-8206877)\r\n- At the moment it does not include information about [unsupported API](https://bugs.openjdk.java.net/browse/JDK-8206937); most prominently `sun.misc.Unsafe`\r\n\r\nThere are however third-party tools which allow you to generate or compare the Java API signatures:\r\n- [JDK API Diff Report Generator](https://github.com/AdoptOpenJDK/jdk-api-diff)\r\n- [The Java Version Almanac](https://javaalmanac.io/)\r\n- [ Animal Sniffer Maven plugin](https://www.mojohaus.org/animal-sniffer/animal-sniffer-maven-plugin/examples/generating-java-signatures.html)","title":"How to scan all javadocs of the Java standard API for the @since tag?","body":"<p>Parsing <code>@since</code> might be error-prone because there are some pitfalls:</p>\n<ul>\n<li>Especially for methods it is inconsistent; for example <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#startsWith(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.startsWith(String)</code></a> has <code>@since 1.0</code> but <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#endsWith(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.endsWith(String)</code></a> has no <code>@since</code> tag</li>\n<li>The value might be unexpected for overridden methods, see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8254572\" rel=\"nofollow noreferrer\">JDK-8254572</a></li>\n<li>It might be incorrect. The value is not validated in any way so it could happen that it is incorrect, examples for this are: <a href=\"https://bugs.openjdk.java.net/browse/JDK-6372816\" rel=\"nofollow noreferrer\">JDK-6372816</a>, <a href=\"https://bugs.openjdk.java.net/browse/JDK-8164057\" rel=\"nofollow noreferrer\">JDK-8164057</a>, <a href=\"https://bugs.openjdk.java.net/browse/JDK-8260561\" rel=\"nofollow noreferrer\">JDK-8260561</a></li>\n</ul>\n<p>If you as developer just want to know which new API was added, you can have a look at the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/new-list.html\" rel=\"nofollow noreferrer\">&quot;New&quot; tab</a> of the documentation, added in Java 17 by <a href=\"https://bugs.openjdk.java.net/browse/JDK-8265055\" rel=\"nofollow noreferrer\">JDK-8265055</a> (this is based on the <code>@since</code> information).</p>\n<p>The <code>--release</code> option of <code>javac</code> uses the file <code>lib/ct.sym</code> from the JDK installation which stores information about the public API of previous versions. See the &quot;Implementation&quot; section of <a href=\"https://openjdk.java.net/jeps/247\" rel=\"nofollow noreferrer\">JEP 247</a>. There are however some pitfalls with this as well:</p>\n<ul>\n<li>The support for older versions is dropped; for example Java 12 and newer <a href=\"https://bugs.openjdk.java.net/browse/JDK-8206877\" rel=\"nofollow noreferrer\">does not support Java 6</a></li>\n<li>At the moment it does not include information about <a href=\"https://bugs.openjdk.java.net/browse/JDK-8206937\" rel=\"nofollow noreferrer\">unsupported API</a>; most prominently <code>sun.misc.Unsafe</code></li>\n</ul>\n<p>There are however third-party tools which allow you to generate or compare the Java API signatures:</p>\n<ul>\n<li><a href=\"https://github.com/AdoptOpenJDK/jdk-api-diff\" rel=\"nofollow noreferrer\">JDK API Diff Report Generator</a></li>\n<li><a href=\"https://javaalmanac.io/\" rel=\"nofollow noreferrer\">The Java Version Almanac</a></li>\n<li><a href=\"https://www.mojohaus.org/animal-sniffer/animal-sniffer-maven-plugin/examples/generating-java-signatures.html\" rel=\"nofollow noreferrer\"> Animal Sniffer Maven plugin</a></li>\n</ul>\n"}],"owner":{"account_id":2786645,"reputation":577,"user_id":2397966,"display_name":"Rostislav Krasny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72483032,"answer_count":1,"score":0,"last_activity_date":1654210333,"creation_date":1654160382,"question_id":72473492,"body_markdown":"I want to make a map of Java versions to classes, their methods and enum values that exist in the standard Java API since those versions. For example the standard class `String` exists since Java 1.0 and the `String::strip()` method exists since Java 11. Both the class and the method have the `@since` tag with the appropriate Java version in their javadocs and this is what I want to scan programmatically.\r\n\r\nMaybe there is another way, not related to javadoc? For example since Java 9 the compiler supports the `-release` argument that among other things checks the compatibility of the used APIs with the chosen version of Java release. In case of `-release 10` and a code with `String::strip()` a compilation error is thrown. How does the compiler do it? Does it scan the `src.zip` for javadocs during every compilation or use a smarter technique?","title":"How to scan all javadocs of the Java standard API for the @since tag?","body":"<p>I want to make a map of Java versions to classes, their methods and enum values that exist in the standard Java API since those versions. For example the standard class <code>String</code> exists since Java 1.0 and the <code>String::strip()</code> method exists since Java 11. Both the class and the method have the <code>@since</code> tag with the appropriate Java version in their javadocs and this is what I want to scan programmatically.</p>\n<p>Maybe there is another way, not related to javadoc? For example since Java 9 the compiler supports the <code>-release</code> argument that among other things checks the compatibility of the used APIs with the chosen version of Java release. In case of <code>-release 10</code> and a code with <code>String::strip()</code> a compilation error is thrown. How does the compiler do it? Does it scan the <code>src.zip</code> for javadocs during every compilation or use a smarter technique?</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":19185251,"reputation":1995,"user_id":14016161,"display_name":"Julia"},"score":2,"creation_date":1653916036,"post_id":72434815,"comment_id":127961230,"body_markdown":"What is the exact error message you&#39;re getting? It could be an unmodifiable map...","body":"What is the exact error message you&#39;re getting? It could be an unmodifiable map..."},{"owner":{"account_id":10228340,"reputation":52,"user_id":7550049,"display_name":"Ed Rakhmankulov"},"score":1,"creation_date":1653916154,"post_id":72434815,"comment_id":127961270,"body_markdown":"Look like, this method returns so-called `immuttable map` where mutating methods are just throwing an exception. Read javadoc for asMaps() method, I think it contains this info.","body":"Look like, this method returns so-called <code>immuttable map</code> where mutating methods are just throwing an exception. Read javadoc for asMaps() method, I think it contains this info."},{"owner":{"account_id":3756894,"reputation":49,"user_id":3123056,"display_name":"Johny"},"score":0,"creation_date":1653916455,"post_id":72434815,"comment_id":127961391,"body_markdown":"getting error java.lang.UnsupportedOperationException","body":"getting error java.lang.UnsupportedOperationException"},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1653917306,"post_id":72434815,"comment_id":127961731,"body_markdown":"The map is created with the static method java.util.Collections.unmodifiableMap as mentioned in earlier comments. -&gt; [Code](https://github.com/cucumber/cucumber-jvm/blob/e774acc622ef7c115637e61f2149569dfd5084a9/datatable/src/main/java/io/cucumber/datatable/DataTableTypeRegistryTableConverter.java#L42). Copy the existing data to your map object.","body":"The map is created with the static method java.util.Collections.unmodifiableMap as mentioned in earlier comments. -&gt; <a href=\"https://github.com/cucumber/cucumber-jvm/blob/e774acc622ef7c115637e61f2149569dfd5084a9/datatable/src/main/java/io/cucumber/datatable/DataTableTypeRegistryTableConverter.java#L42\" rel=\"nofollow noreferrer\">Code</a>. Copy the existing data to your map object."},{"owner":{"account_id":3756894,"reputation":49,"user_id":3123056,"display_name":"Johny"},"score":0,"creation_date":1653939226,"post_id":72434815,"comment_id":127968789,"body_markdown":"How do I add new data then ?","body":"How do I add new data then ?"}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654210174,"creation_date":1654210174,"answer_id":72483055,"question_id":72434815,"body_markdown":"It&#39;s usually not a good idea to edit your inputs. You may want to use them unedited in other places too. Rather you should create a new data structure and add your data to that. For example:\r\n\r\n```java\r\nMap&lt;String, String&gt; inputData = new LinkedHashMap&lt;&gt;(); // Linked, to preserve order\r\ninputData.putAll(dataTable.asMaps().get(0));\r\ninputData.put(&quot;Ef Date&quot;, eDate);\r\n```\r\n\r\n\r\n","title":"How to add to map, getting error java.lang.UnsupportedOperationException","body":"<p>It's usually not a good idea to edit your inputs. You may want to use them unedited in other places too. Rather you should create a new data structure and add your data to that. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; inputData = new LinkedHashMap&lt;&gt;(); // Linked, to preserve order\ninputData.putAll(dataTable.asMaps().get(0));\ninputData.put(&quot;Ef Date&quot;, eDate);\n</code></pre>\n"}],"owner":{"account_id":3756894,"reputation":49,"user_id":3123056,"display_name":"Johny"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654210174,"creation_date":1653915883,"question_id":72434815,"body_markdown":"I am currently writing selenium script for Cucumber in Java. \r\nI am passing some values from feature files.\r\nThis values are stored then stored in map.\r\nAfter this I am trying to add new value in map using put but i am getting error java.lang.UnsupportedOperationException. \r\nWhat am i doing wrong ?\r\n\r\n    public void editFields(DataTable dataTable) {\r\n    \r\n    \t\tMap&lt;String, String&gt; inputData = dataTable.asMaps().get(0);\r\n    \t\tString eDate =Utils.getCAProperty(&quot;effectiveDate&quot;);\r\n            inputData.put(&quot;Ef Date&quot;, eDate ); // error on this line, not able to add data\r\n    }","title":"How to add to map, getting error java.lang.UnsupportedOperationException","body":"<p>I am currently writing selenium script for Cucumber in Java.\nI am passing some values from feature files.\nThis values are stored then stored in map.\nAfter this I am trying to add new value in map using put but i am getting error java.lang.UnsupportedOperationException.\nWhat am i doing wrong ?</p>\n<pre><code>public void editFields(DataTable dataTable) {\n\n        Map&lt;String, String&gt; inputData = dataTable.asMaps().get(0);\n        String eDate =Utils.getCAProperty(&quot;effectiveDate&quot;);\n        inputData.put(&quot;Ef Date&quot;, eDate ); // error on this line, not able to add data\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","micronaut","micronaut-data"],"comments":[{"owner":{"account_id":1437254,"reputation":559,"user_id":8555541,"display_name":"Swapnil Khante"},"score":0,"creation_date":1654255810,"post_id":72482441,"comment_id":128053182,"body_markdown":"Can you try using `@MappedEntity` instead of `@Entity`. I have used the same with `micronaut-data-jdbc` and it worked for me.","body":"Can you try using <code>@MappedEntity</code> instead of <code>@Entity</code>. I have used the same with <code>micronaut-data-jdbc</code> and it worked for me."},{"owner":{"account_id":1300837,"reputation":110,"user_id":1250792,"display_name":"Alpha Fighter"},"score":0,"creation_date":1654378569,"post_id":72482441,"comment_id":128078035,"body_markdown":"I gave `@MappedEntity(value = &quot;WIDGET&quot;)` and `@MappedEntity(value = &quot;WIDGET&quot;, namingStrategy = NamingStrategies.UpperCase.class)` a try, no luck.","body":"I gave <code>@MappedEntity(value = &quot;WIDGET&quot;)</code> and <code>@MappedEntity(value = &quot;WIDGET&quot;, namingStrategy = NamingStrategies.UpperCase.class)</code> a try, no luck."}],"answers":[{"tags":[],"owner":{"account_id":1300837,"reputation":110,"user_id":1250792,"display_name":"Alpha Fighter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654210150,"creation_date":1654210150,"answer_id":72483054,"question_id":72482441,"body_markdown":"A coworker with better search-fu than me found [this](https://stackoverflow.com/questions/60694792/how-to-configure-a-different-hibernate-naming-strategy-in-micronaut).  While I did not need to @Replace the DefaultPhysicalNamingStrategy.class with my own, I was able to solve my problem by changing my application.yml as follows, specifically adding the ```physical_naming_strategy: &#39;org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl&#39;``` under the jpa.default.properties.hibernate node:\r\n\r\n```\r\njpa:\r\n  default:\r\n    properties:\r\n      hibernate:\r\n        physical_naming_strategy: &#39;org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl&#39;\r\n        hbm2ddl:\r\n          auto: validate\r\n        show_sql: true\r\n```","title":"JPA/Hibernate &amp; Micronaut, Uppercased Table Name Not Found","body":"<p>A coworker with better search-fu than me found <a href=\"https://stackoverflow.com/questions/60694792/how-to-configure-a-different-hibernate-naming-strategy-in-micronaut\">this</a>.  While I did not need to @Replace the DefaultPhysicalNamingStrategy.class with my own, I was able to solve my problem by changing my application.yml as follows, specifically adding the <code>physical_naming_strategy: 'org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl'</code> under the jpa.default.properties.hibernate node:</p>\n<pre><code>jpa:\n  default:\n    properties:\n      hibernate:\n        physical_naming_strategy: 'org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl'\n        hbm2ddl:\n          auto: validate\n        show_sql: true\n</code></pre>\n"}],"owner":{"account_id":1300837,"reputation":110,"user_id":1250792,"display_name":"Alpha Fighter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72483054,"answer_count":1,"score":1,"last_activity_date":1654210150,"creation_date":1654204573,"question_id":72482441,"body_markdown":"# Summary:\r\n\r\nMicronaut/JPA/Hibernate is lowercasing the name of my database table and throwing an error on startup saying the table can&#39;t be found.  The table is there, but it&#39;s named in uppercase.  How do I configure micronaut/jpa/hibernate to respect the case of my table name &amp; not lowercase it?\r\n\r\n\r\n# Details:\r\n\r\nI have an existing table `WIDGET` in a MySQL8 database that I need to access from a micronaut service using jpa/hibernate.  Unfotunately an error is thrown during schema validation on startup, it&#39;s looking for the table `widget` instead of `WIDGET`.\r\n\r\nI have looked and found [solutions](https://stackoverflow.com/questions/13489932/hibernate-changes-tablename-to-lowercase) for [similar issues](https://stackoverflow.com/questions/36353492/jpa-uppercase-table-names) in different environments (spring, postgres), but have been unable to get them to work in micronaut.  I have tried using backticks &amp; escaped quotes for my entity name (```@Entity(name=&quot;`WIDGET`&quot;)``` &amp; `@Entity(name=&quot;\\&quot;WIDGET\\&quot;&quot;)`), but had no success.  I have tried adding a `delimited-identifiers` element to the application.yml, but had no success (not sure where/how to specify it).\r\n\r\n## Here are the relevant bits:\r\n\r\napplication.yml:\r\n```\r\ndatasources:\r\n  default:\r\n    url: &#39;jdbc:mysql://localhost:3306/myschema&#39;\r\n    username: &#39;${dbUser}&#39;\r\n    password: &#39;${dbPass}&#39;\r\njpa:\r\n  default:\r\n    properties:\r\n      hibernate:\r\n        hbm2ddl:\r\n          auto: validate\r\n```\r\n\r\nWidget.java:\r\n```\r\n@Entity(name = &quot;WIDGET&quot;)\r\n//@Table(name = &quot;`WIDGET`&quot;)  // this doesn&#39;t work either\r\npublic class Widget {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;year&quot;)\r\n    private Integer year;\r\n\r\n    @Column(name = &quot;widget_title&quot;)\r\n    private String title;\r\n\r\n// appropriate constructors, getters, &amp; setters omitted for brevity...\r\n}\r\n```\r\n\r\nWidgetRepository.java\r\n```\r\n@Repository\r\npublic interface WidgetRepository extends CrudRepository&lt;Widget, Integer&gt;\r\n{\r\n    @Executable\r\n    Optional&lt;Widget&gt; find(String title);\r\n}\r\n```\r\n\r\nException:\r\n```\r\n14:40:33.759 [main] ERROR io.micronaut.runtime.Micronaut - Error starting Micronaut server: Bean definition [org.hibernate.SessionFactory] could not be loaded: Error instantiating bean of type  [org.hibernate.SessionFactory]\r\n\r\nMessage: Schema-validation: missing table [widget]\r\nPath Taken: SessionFactory.hibernateSessionFactory(SessionFactoryBuilder sessionFactoryBuilder)\r\nio.micronaut.context.exceptions.BeanInstantiationException: Bean definition [org.hibernate.SessionFactory] could not be loaded: Error instantiating bean of type  [org.hibernate.SessionFactory]\r\n\r\nMessage: Schema-validation: missing table [widget]\r\nPath Taken: SessionFactory.hibernateSessionFactory(SessionFactoryBuilder sessionFactoryBuilder)\r\n\tat io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1898)\r\n\tat io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:245)\r\n\tat io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3298)\r\n\tat io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3650)\r\n\tat io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:337)\r\n\tat io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:190)\r\n\tat io.micronaut.runtime.Micronaut.start(Micronaut.java:72)\r\n\tat io.micronaut.runtime.Micronaut.run(Micronaut.java:320)\r\n\tat io.micronaut.runtime.Micronaut.run(Micronaut.java:306)\r\n\tat com.example.Application.main(Application.java:11)\r\nCaused by: io.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [org.hibernate.SessionFactory]\r\n\r\nMessage: Schema-validation: missing table [widget]\r\nPath Taken: SessionFactory.hibernateSessionFactory(SessionFactoryBuilder sessionFactoryBuilder)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2344)\r\n\tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2282)\r\n\tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2228)\r\n\tat io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:2988)\r\n\tat io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\r\n\tat io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2890)\r\n\tat io.micronaut.context.DefaultBeanContext.loadContextScopeBean(DefaultBeanContext.java:2709)\r\n\tat io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1892)\r\n\t... 9 common frames omitted\r\nCaused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [widget]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\r\n\tat io.micronaut.configuration.hibernate.jpa.EntityManagerFactoryBean.hibernateSessionFactory(EntityManagerFactoryBean.java:222)\r\n\tat io.micronaut.configuration.hibernate.jpa.$EntityManagerFactoryBean$HibernateSessionFactory3$Definition.build(Unknown Source)\r\n\tat io.micronaut.context.BeanDefinitionDelegate.build(BeanDefinitionDelegate.java:161)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2331)\r\n\t... 16 common frames omitted\r\n```","title":"JPA/Hibernate &amp; Micronaut, Uppercased Table Name Not Found","body":"<h1>Summary:</h1>\n<p>Micronaut/JPA/Hibernate is lowercasing the name of my database table and throwing an error on startup saying the table can't be found.  The table is there, but it's named in uppercase.  How do I configure micronaut/jpa/hibernate to respect the case of my table name &amp; not lowercase it?</p>\n<h1>Details:</h1>\n<p>I have an existing table <code>WIDGET</code> in a MySQL8 database that I need to access from a micronaut service using jpa/hibernate.  Unfotunately an error is thrown during schema validation on startup, it's looking for the table <code>widget</code> instead of <code>WIDGET</code>.</p>\n<p>I have looked and found <a href=\"https://stackoverflow.com/questions/13489932/hibernate-changes-tablename-to-lowercase\">solutions</a> for <a href=\"https://stackoverflow.com/questions/36353492/jpa-uppercase-table-names\">similar issues</a> in different environments (spring, postgres), but have been unable to get them to work in micronaut.  I have tried using backticks &amp; escaped quotes for my entity name (<code>@Entity(name=&quot;`WIDGET`&quot;)</code> &amp; <code>@Entity(name=&quot;\\&quot;WIDGET\\&quot;&quot;)</code>), but had no success.  I have tried adding a <code>delimited-identifiers</code> element to the application.yml, but had no success (not sure where/how to specify it).</p>\n<h2>Here are the relevant bits:</h2>\n<p>application.yml:</p>\n<pre><code>datasources:\n  default:\n    url: 'jdbc:mysql://localhost:3306/myschema'\n    username: '${dbUser}'\n    password: '${dbPass}'\njpa:\n  default:\n    properties:\n      hibernate:\n        hbm2ddl:\n          auto: validate\n</code></pre>\n<p>Widget.java:</p>\n<pre><code>@Entity(name = &quot;WIDGET&quot;)\n//@Table(name = &quot;`WIDGET`&quot;)  // this doesn't work either\npublic class Widget {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;year&quot;)\n    private Integer year;\n\n    @Column(name = &quot;widget_title&quot;)\n    private String title;\n\n// appropriate constructors, getters, &amp; setters omitted for brevity...\n}\n</code></pre>\n<p>WidgetRepository.java</p>\n<pre><code>@Repository\npublic interface WidgetRepository extends CrudRepository&lt;Widget, Integer&gt;\n{\n    @Executable\n    Optional&lt;Widget&gt; find(String title);\n}\n</code></pre>\n<p>Exception:</p>\n<pre><code>14:40:33.759 [main] ERROR io.micronaut.runtime.Micronaut - Error starting Micronaut server: Bean definition [org.hibernate.SessionFactory] could not be loaded: Error instantiating bean of type  [org.hibernate.SessionFactory]\n\nMessage: Schema-validation: missing table [widget]\nPath Taken: SessionFactory.hibernateSessionFactory(SessionFactoryBuilder sessionFactoryBuilder)\nio.micronaut.context.exceptions.BeanInstantiationException: Bean definition [org.hibernate.SessionFactory] could not be loaded: Error instantiating bean of type  [org.hibernate.SessionFactory]\n\nMessage: Schema-validation: missing table [widget]\nPath Taken: SessionFactory.hibernateSessionFactory(SessionFactoryBuilder sessionFactoryBuilder)\n    at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1898)\n    at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:245)\n    at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3298)\n    at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3650)\n    at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:337)\n    at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:190)\n    at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)\n    at io.micronaut.runtime.Micronaut.run(Micronaut.java:320)\n    at io.micronaut.runtime.Micronaut.run(Micronaut.java:306)\n    at com.example.Application.main(Application.java:11)\nCaused by: io.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [org.hibernate.SessionFactory]\n\nMessage: Schema-validation: missing table [widget]\nPath Taken: SessionFactory.hibernateSessionFactory(SessionFactoryBuilder sessionFactoryBuilder)\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2344)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2282)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2228)\n    at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:2988)\n    at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\n    at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2890)\n    at io.micronaut.context.DefaultBeanContext.loadContextScopeBean(DefaultBeanContext.java:2709)\n    at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1892)\n    ... 9 common frames omitted\nCaused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [widget]\n    at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)\n    at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)\n    at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)\n    at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\n    at io.micronaut.configuration.hibernate.jpa.EntityManagerFactoryBean.hibernateSessionFactory(EntityManagerFactoryBean.java:222)\n    at io.micronaut.configuration.hibernate.jpa.$EntityManagerFactoryBean$HibernateSessionFactory3$Definition.build(Unknown Source)\n    at io.micronaut.context.BeanDefinitionDelegate.build(BeanDefinitionDelegate.java:161)\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2331)\n    ... 16 common frames omitted\n</code></pre>\n"},{"tags":["java","android","hal","hidl"],"comments":[{"owner":{"account_id":4086813,"reputation":879,"user_id":3355914,"display_name":"Sekhar Madhiyazhagan"},"score":1,"creation_date":1654168395,"post_id":72475229,"comment_id":128029420,"body_markdown":"Need to generate hal client in java in order to access them in app. Like , hidl-gen -o /tmp -Ljava \\\n  -randroid.hardware:hardware/interfaces \\\n  -randroid.hidl:system/libhidl/transport android.hardware.foo@1.0","body":"Need to generate hal client in java in order to access them in app. Like , hidl-gen -o /tmp -Ljava \\   -randroid.hardware:hardware/interfaces \\   -randroid.hidl:system/libhidl/transport android.hardware.foo@1.0"},{"owner":{"account_id":356881,"reputation":1224,"user_id":696683,"accept_rate":67,"display_name":"George"},"score":0,"creation_date":1654176956,"post_id":72475229,"comment_id":128032738,"body_markdown":"Is there a document explaining the parameters? I am trying to generate it for a vendor hardware and it keeps complaining about &quot;Port root not specified for for &lt;package-id&gt;&quot;","body":"Is there a document explaining the parameters? I am trying to generate it for a vendor hardware and it keeps complaining about &quot;Port root not specified for for &lt;package-id&gt;&quot;"}],"answers":[{"tags":[],"owner":{"account_id":356881,"reputation":1224,"user_id":696683,"accept_rate":67,"display_name":"George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654209324,"creation_date":1654209324,"answer_id":72482980,"question_id":72475229,"body_markdown":"Turns out using hidl-gen is the way to go (once you figure out the command line arguments). In my case the conversion wasnt supported:\r\n\r\nERROR: &lt;id&gt; is not Java compatible. The Java backend does NOT support union types nor native handles. In addition, vectors of arrays are limited to at most one-dimensional arrays and vectors of {vectors,interfaces} are not supported.","title":"Android HIDL Interface access from Java","body":"<p>Turns out using hidl-gen is the way to go (once you figure out the command line arguments). In my case the conversion wasnt supported:</p>\n<p>ERROR:  is not Java compatible. The Java backend does NOT support union types nor native handles. In addition, vectors of arrays are limited to at most one-dimensional arrays and vectors of {vectors,interfaces} are not supported.</p>\n"}],"owner":{"account_id":356881,"reputation":1224,"user_id":696683,"accept_rate":67,"display_name":"George"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654209324,"creation_date":1654168000,"question_id":72475229,"body_markdown":"I have an AOSP build with a custom HAL layer service and I would like to know if it is at all possible to call the interface from Java.\r\n\r\nThe documentation from Google suggests you can (https://source.android.com/devices/architecture/hidl-java#modifying-your-java-source) but it isn&#39;t clear in terms of where you get the interface for the #import statement.\r\n\r\nOn my side I have the C++ code and the .hal file(s) but it isn&#39;t clear to me how to actually get to the point of importing these (Android Studio?) for Java to be able to access them.","title":"Android HIDL Interface access from Java","body":"<p>I have an AOSP build with a custom HAL layer service and I would like to know if it is at all possible to call the interface from Java.</p>\n<p>The documentation from Google suggests you can (<a href=\"https://source.android.com/devices/architecture/hidl-java#modifying-your-java-source\" rel=\"nofollow noreferrer\">https://source.android.com/devices/architecture/hidl-java#modifying-your-java-source</a>) but it isn't clear in terms of where you get the interface for the #import statement.</p>\n<p>On my side I have the C++ code and the .hal file(s) but it isn't clear to me how to actually get to the point of importing these (Android Studio?) for Java to be able to access them.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":0,"creation_date":1654266809,"post_id":72482729,"comment_id":128057126,"body_markdown":"You can avoid extending WebSecurityConfigurerAdapter at all, see https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","body":"You can avoid extending WebSecurityConfigurerAdapter at all, see <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654209294,"creation_date":1654209294,"answer_id":72482978,"question_id":72482729,"body_markdown":"You will get this exception if there are two or more classes that implement `@EnableWebSecurity` annotation and they have same priority. \r\n\r\n`@Order` is used to specify priority in which the beans will be loaded or prioritized by Spring. Lower numbers indicate a higher priority.\r\n\r\nSo you can do something like this:\r\n\r\n    @Order(2)\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    }\r\n\r\nand for a subclass :\r\n\r\n    @Order(1)\r\n    @EnableWebSecurity\r\n    public class CustomSecurityConfig extends SecurityConfig{\r\n    }\r\n\r\nIn this way, Spring will give priority to the child class when creating a security object since it has higher priority","title":"Subclass WebSecurityConfigurerAdapter with @EnableWebSecurity, getting java.lang.IllegalStateException","body":"<p>You will get this exception if there are two or more classes that implement <code>@EnableWebSecurity</code> annotation and they have same priority.</p>\n<p><code>@Order</code> is used to specify priority in which the beans will be loaded or prioritized by Spring. Lower numbers indicate a higher priority.</p>\n<p>So you can do something like this:</p>\n<pre><code>@Order(2)\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n}\n</code></pre>\n<p>and for a subclass :</p>\n<pre><code>@Order(1)\n@EnableWebSecurity\npublic class CustomSecurityConfig extends SecurityConfig{\n}\n</code></pre>\n<p>In this way, Spring will give priority to the child class when creating a security object since it has higher priority</p>\n"}],"owner":{"account_id":31973,"reputation":15190,"user_id":88172,"accept_rate":73,"display_name":"IVR Avenger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654209294,"creation_date":1654206877,"question_id":72482729,"body_markdown":"I am using a `WebSecurityConfigurerAdapter` annotated with `@EnableWebSecurity` to handle basic spring web security:\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    ...\r\n    }\r\n\r\nWhen I extend this class, the subclass does not get loaded by Spring, nor are its methods invoked, i.e.:\r\n    \r\n\r\n    public class CustomSecurityConfig extends SecurityConfig {\r\n    ...\r\n    }\r\n\r\nWhen I add `@Primary` and `@EnableWebSecurity` to my subclass, I get this exception:\r\n\r\n`java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on...`\r\n\r\nHow do I tell Spring to use my subclass in lieu of its parent when creating the security object?","title":"Subclass WebSecurityConfigurerAdapter with @EnableWebSecurity, getting java.lang.IllegalStateException","body":"<p>I am using a <code>WebSecurityConfigurerAdapter</code> annotated with <code>@EnableWebSecurity</code> to handle basic spring web security:</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n...\n}\n</code></pre>\n<p>When I extend this class, the subclass does not get loaded by Spring, nor are its methods invoked, i.e.:</p>\n<pre><code>public class CustomSecurityConfig extends SecurityConfig {\n...\n}\n</code></pre>\n<p>When I add <code>@Primary</code> and <code>@EnableWebSecurity</code> to my subclass, I get this exception:</p>\n<p><code>java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on...</code></p>\n<p>How do I tell Spring to use my subclass in lieu of its parent when creating the security object?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":1,"creation_date":1519744043,"post_id":49011802,"comment_id":85028174,"body_markdown":"`ds == bytes`? Do you expect to return it the same object? Surely not.\nDid you already try to compare the contents of the array?","body":"<code>ds == bytes</code>? Do you expect to return it the same object? Surely not. Did you already try to compare the contents of the array?"},{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":2,"creation_date":1519744461,"post_id":49011802,"comment_id":85028510,"body_markdown":"See also https://www.geeksforgeeks.org/compare-two-arrays-java/ where you are shown how to compare arrays.","body":"See also <a href=\"https://www.geeksforgeeks.org/compare-two-arrays-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/compare-two-arrays-java</a> where you are shown how to compare arrays."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1519744474,"creation_date":1519744474,"answer_id":49012030,"question_id":49011802,"body_markdown":"    Path path = Paths.get(&quot;...&quot;);\r\n    byte[] bytes = Files.readAllBytes(path);\r\n\r\nAnd then\r\n\r\n    byte[] img = Base64.getDecoder().decode(bytes);\r\n\r\nOr with better memory usage:\r\n\r\n     InputStream in = Base64.getDecoder().wrap(Files.newInputStream(path));\r\n     Image image = new Image(in);\r\n\r\nOne problem is that there are several Base64 classes historically, you need `java.util.Base64`.","title":"Converting javafx image to/from base64","body":"<pre><code>Path path = Paths.get(\"...\");\nbyte[] bytes = Files.readAllBytes(path);\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>byte[] img = Base64.getDecoder().decode(bytes);\n</code></pre>\n\n<p>Or with better memory usage:</p>\n\n<pre><code> InputStream in = Base64.getDecoder().wrap(Files.newInputStream(path));\n Image image = new Image(in);\n</code></pre>\n\n<p>One problem is that there are several Base64 classes historically, you need <code>java.util.Base64</code>.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654208221,"creation_date":1654208221,"answer_id":72482868,"question_id":49011802,"body_markdown":"JavaFX can directly decode a correctly encoded base64 data URL for an image.\r\n\r\nThe [Image][1] javadoc discusses this:\r\n\r\n&gt; The RFC 2397 &quot;data&quot; scheme for URLs is supported in addition to the protocol handlers that are registered for the application. If a URL uses the &quot;data&quot; scheme, the data must be base64-encoded and the MIME type must either be empty or a subtype of the image type.\r\n\r\n*Example App*\r\n\r\n[![image][2]][2]\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ImageDataDecodeApp extends Application {\r\n    \r\n        private static final String ROCKET_IMAGE =\r\n                &quot;data:image/png;base64,&quot; +\r\n                &quot;iVBORw0KGgoAAAANSUhEUgAAADIAAAAdCAYAAADoxT9SAAAACXBIWXMAAAsYAAALGAGJqbUQAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAACHRJREFUeNrMmH9s1OUdx1/fH/e9u2/vrgdtaaXt9ZDRXoeGEsAxN0EWGWwoohFnTGrqZkxMxEW00TkzFrcpuKgJJFIyzeIgGzAX4485nSmdKM2mrGUtIBMKpfWoHOXo9bi77933x7M/er3Qlh9lk+mTPMl9c8/3+X7ez/v9fJ7P85YYaQGgRoVZHoj4ITIVaqZAuR+KPeBWgAw4Q5D4DI73QbuAt4F2viKtGegAEl8DcQ+IjSB2gTgKIgVCnNNtEDEQfwXxAGQD8Aeg5ssGIQGzgXLApUJAgakyVHhGGKmuhJo6CC0A9zfzg+VzJtgD3AMdR2EF8PmXCeRS/weBmcCCErj5u3DTQ6DNA1z5QbuBpfBMDp4AyoDpwLT87yDgBRTAGVEoZ4AYcCLfh640kPO1xdfClm1QFwb+DewFfuF2x/Sqqu5QKHT1jBkzplVVVekVFRVScXExPp8PRVGwLItUKsXQ0BADAwPi+PHjZ48cOTJw9OjRgydPntwLfAB0Asn/BxCA394iy02ltbV45s3j6oULmXfNNdSEQgSDQYLBILIsT2qiXC5HNBqlq6uL999/39q1a9cn3V1d7zhC/BH4+ErI8Brgyfr6+r0PrlmT3f7GG+Jgb68YSqWEkc2KVColEomEiMfj4vTp0yKZTArTNMXltqGhIfHmW2+J+XPmZHzwGrDsi2DEAywOBoP3Lly48PuGYfg3btxIfX09lmWRy+WwLAshxIQXhRDIsoymabjdblRVRZImL4DmpiYWvfIKHXPmOC8ODr4Ri0bXA/+40PhL8X/37bff/vbWrVt/8PTTT/vD4TC6rpNOp0mlUpimeV4QAJIkIYTAMAyGh4dJJpPYtj1pIDnbJgKsi8flv91336rGxsZWCX6ZTx6XDaR0+fLlcm1tLYlEAsMwsG37gsFfCJCmadi2zb59+2hra+PAgQNYlnXx92QZA6C/n/pNm/jdDTcU7dix46dXh8NvAXPHj1cvEYcVi8WIRqOcOXMGy7IuSx4AHo+HQ4cOsX37djKZDJqqkDMtinw+Ghsbqa2txbZtXC4XiqIU5h+zWPE4PPAAq9evZ35b27cebm5+5/VXX30I2DFZRrBtG8dx/qvsoGkan376KZs2bULXvUiqi88NC9mlobs1nnvuOQ4fPkwulyORSJBIJEilUhiWhRj/TduG5mZmbNjAzi1bpj3+1FNbJUlaM1kgWZfbjUfX0bxeZFXFU1SE7vNN6F5dH8OWJElYlsW2bdsIhULET51i6bJlfOPBtfQ23Eh3NEaospKdO3cWmLAsC8MwMLLZC0fU0oJ25508c++9rl+3tGyUVPVRAFWFh70j2Wm88C3gxo9bW4n19JDJZOg/cICXX3gBn883hiXbcdCDQe646y50XcdxHFRV5ciRI6TOniVn2yy95VZWfm85BlDx9ZlszZokD+3BMk0GBgaYNm0aQggkSbq0fFtbYdEiHtm8mTOPPrrh2WefTal18PydgH0eJABn33uPHKAB3wZOdnfz+Tl5WwJyQKffz9Jbby2AlGWZ06dPo7lcxA2Lw5WzSQM6sFKGvrnXsr+zjakelWQySXl5+eXp9tgxWLWKnyxeLO9U1Z+rh+ChDeC+ACPfWbZ8+cpwOIxhGHzQ0cGKFSsQQCaTKayc7TjcUVpKMM8GgOM4BAIBsrkcJbrO7o5/MX12NbcpI4VXTf9+orobK5fD7/efdx+ejxcBpPLdbxj87N137WPwpGrDpvRFstZ1S5asXLRoEUNDQ8SzWe5oakJVVbLZbOFDjhD4fT68Xm8hINu2CYfDuDSN0mAx/bvfZIfkcGJOhOpjB/mgtZXAlCm4AgEqKiowTXMCiGy+wpTyq5oGhvOVZymwDsTz8Ajwm0ulX3c2k+Hs8DDJRIJMKsVnfX2UlJQUAh7VdTAQGJMyHcfB6/WyevVqWlpamFtXx2BnG51/f5c+r5tgSQnRaJTm5maEEBPOplEgfYCZD94CpgB+4DHIvQQ/BlomlX4TiQSxWIzBwUFM05ywGWVZpqSkBF3XJwRjmiZz587l/vvvZyAWI5tJM1UBI5XCMAzWrl1LdXX1BDbGS8vKBxrOs3IPDLwEd4+CmMyBqKqqOuagGl9P6bpOUVFRAdT41TVNk/nz5xOJROjp6WF4eJiysjJmzZqFoihkL5JqRZ6JkjwTbwKPw+4+WAN0Xc7Jfqq9vd0uLi5WSktLUVUVVVULwUqSRDqd5sSJE3g8HrxeL5qm4XK5CswJITBNE6/XS0NDA7IsY9s2pmletPYSeQnVAfuBJyC5DZ5npA9fbony+z179vR1dnY2RSKRm1VVDbrdbkpLS0mn0xiGUaiCc7kcyWQSRVFwuVwFQKPgFUXBNE1kWS6wey7YcySArutoLhc9wE6wW+C1QVgP/POLuFjVAysjkchtNy5Z0nDd4sXuSCRCSSCA7DiYeTCjJc1ocJIkFYKXZRlFUcY8jwIdLfVTqRQdnZ38at269CddXW+nYTOw60rdEF9eJUk/9NfWojU0MHPBAmbX1VE1fTo+nw+Xy1WQn+M4E4CNgnAch2w2Szwep6enh48++shsb2/f393d/RfgT3l358rd2efBlpegzgaOAgeAFrf7pF5Zua+6qmpmKBQqr6io0MvKyhS/34/H40FRFGzbLtxPTp06Zff39yd7e3ujvb29B2Ox2F7gQ2BfPjldORflKrh5Fdz0GGiVQDy/yf4M/AieMUdclKnAVee4KMVAUT6DOvlD+QwwCAzkXZQk/2M7r6+lQIUONVOhugZqZkPoenBfD1SOm+B1YA109H/JvtYYp3EmiCYQm0F8COIzELlxTmMCxGEQr4JohKzvK+Q0TvB+AxAphppiKC+CYm2kqCSb934H4PjAiOf7lfF+/zMAVaPsnAfVjSoAAAAASUVORK5CYII=&quot;;\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            stage.setScene(\r\n                    new Scene(\r\n                            new Group(\r\n                                    new ImageView(\r\n                                            ROCKET_IMAGE\r\n                                    )\r\n                            )\r\n                    )\r\n            );\r\n    \r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n*Base64 encoded images in FXML and CSS*\r\n\r\nThe base64 encoding images can also be added directly into FXML (and I guess CSS as well, though I have not tried it).\r\n\r\nFor embedding base64 encoded images in FXML see:\r\n\r\n * https://stackoverflow.com/questions/11537434/javafx-embedding-encoded-image-in-fxml-file/72482787#72482787\r\n\r\n*Saving JavaFX images in Base64 format*\r\n\r\nThere is example code in this answer for converting a JavaFX image to a base64 format:\r\n\r\n * https://stackoverflow.com/questions/31407382/javafx-chart-to-image-to-base64-string-use-in-php\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\r\n  [2]: https://i.stack.imgur.com/N0Uqr.png","title":"Converting javafx image to/from base64","body":"<p>JavaFX can directly decode a correctly encoded base64 data URL for an image.</p>\n<p>The <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\" rel=\"nofollow noreferrer\">Image</a> javadoc discusses this:</p>\n<blockquote>\n<p>The RFC 2397 &quot;data&quot; scheme for URLs is supported in addition to the protocol handlers that are registered for the application. If a URL uses the &quot;data&quot; scheme, the data must be base64-encoded and the MIME type must either be empty or a subtype of the image type.</p>\n</blockquote>\n<p><em>Example App</em></p>\n<p><a href=\"https://i.stack.imgur.com/N0Uqr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N0Uqr.png\" alt=\"image\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.image.ImageView;\nimport javafx.stage.Stage;\n\npublic class ImageDataDecodeApp extends Application {\n\n    private static final String ROCKET_IMAGE =\n            &quot;data:image/png;base64,&quot; +\n            &quot;iVBORw0KGgoAAAANSUhEUgAAADIAAAAdCAYAAADoxT9SAAAACXBIWXMAAAsYAAALGAGJqbUQAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAACHRJREFUeNrMmH9s1OUdx1/fH/e9u2/vrgdtaaXt9ZDRXoeGEsAxN0EWGWwoohFnTGrqZkxMxEW00TkzFrcpuKgJJFIyzeIgGzAX4485nSmdKM2mrGUtIBMKpfWoHOXo9bi77933x7M/er3Qlh9lk+mTPMl9c8/3+X7ez/v9fJ7P85YYaQGgRoVZHoj4ITIVaqZAuR+KPeBWgAw4Q5D4DI73QbuAt4F2viKtGegAEl8DcQ+IjSB2gTgKIgVCnNNtEDEQfwXxAGQD8Aeg5ssGIQGzgXLApUJAgakyVHhGGKmuhJo6CC0A9zfzg+VzJtgD3AMdR2EF8PmXCeRS/weBmcCCErj5u3DTQ6DNA1z5QbuBpfBMDp4AyoDpwLT87yDgBRTAGVEoZ4AYcCLfh640kPO1xdfClm1QFwb+DewFfuF2x/Sqqu5QKHT1jBkzplVVVekVFRVScXExPp8PRVGwLItUKsXQ0BADAwPi+PHjZ48cOTJw9OjRgydPntwLfAB0Asn/BxCA394iy02ltbV45s3j6oULmXfNNdSEQgSDQYLBILIsT2qiXC5HNBqlq6uL999/39q1a9cn3V1d7zhC/BH4+ErI8Brgyfr6+r0PrlmT3f7GG+Jgb68YSqWEkc2KVColEomEiMfj4vTp0yKZTArTNMXltqGhIfHmW2+J+XPmZHzwGrDsi2DEAywOBoP3Lly48PuGYfg3btxIfX09lmWRy+WwLAshxIQXhRDIsoymabjdblRVRZImL4DmpiYWvfIKHXPmOC8ODr4Ri0bXA/+40PhL8X/37bff/vbWrVt/8PTTT/vD4TC6rpNOp0mlUpimeV4QAJIkIYTAMAyGh4dJJpPYtj1pIDnbJgKsi8flv91336rGxsZWCX6ZTx6XDaR0+fLlcm1tLYlEAsMwsG37gsFfCJCmadi2zb59+2hra+PAgQNYlnXx92QZA6C/n/pNm/jdDTcU7dix46dXh8NvAXPHj1cvEYcVi8WIRqOcOXMGy7IuSx4AHo+HQ4cOsX37djKZDJqqkDMtinw+Ghsbqa2txbZtXC4XiqIU5h+zWPE4PPAAq9evZ35b27cebm5+5/VXX30I2DFZRrBtG8dx/qvsoGkan376KZs2bULXvUiqi88NC9mlobs1nnvuOQ4fPkwulyORSJBIJEilUhiWhRj/TduG5mZmbNjAzi1bpj3+1FNbJUlaM1kgWZfbjUfX0bxeZFXFU1SE7vNN6F5dH8OWJElYlsW2bdsIhULET51i6bJlfOPBtfQ23Eh3NEaospKdO3cWmLAsC8MwMLLZC0fU0oJ25508c++9rl+3tGyUVPVRAFWFh70j2Wm88C3gxo9bW4n19JDJZOg/cICXX3gBn883hiXbcdCDQe646y50XcdxHFRV5ciRI6TOniVn2yy95VZWfm85BlDx9ZlszZokD+3BMk0GBgaYNm0aQggkSbq0fFtbYdEiHtm8mTOPPrrh2WefTal18PydgH0eJABn33uPHKAB3wZOdnfz+Tl5WwJyQKffz9Jbby2AlGWZ06dPo7lcxA2Lw5WzSQM6sFKGvrnXsr+zjakelWQySXl5+eXp9tgxWLWKnyxeLO9U1Z+rh+ChDeC+ACPfWbZ8+cpwOIxhGHzQ0cGKFSsQQCaTKayc7TjcUVpKMM8GgOM4BAIBsrkcJbrO7o5/MX12NbcpI4VXTf9+orobK5fD7/efdx+ejxcBpPLdbxj87N137WPwpGrDpvRFstZ1S5asXLRoEUNDQ8SzWe5oakJVVbLZbOFDjhD4fT68Xm8hINu2CYfDuDSN0mAx/bvfZIfkcGJOhOpjB/mgtZXAlCm4AgEqKiowTXMCiGy+wpTyq5oGhvOVZymwDsTz8Ajwm0ulX3c2k+Hs8DDJRIJMKsVnfX2UlJQUAh7VdTAQGJMyHcfB6/WyevVqWlpamFtXx2BnG51/f5c+r5tgSQnRaJTm5maEEBPOplEgfYCZD94CpgB+4DHIvQQ/BlomlX4TiQSxWIzBwUFM05ywGWVZpqSkBF3XJwRjmiZz587l/vvvZyAWI5tJM1UBI5XCMAzWrl1LdXX1BDbGS8vKBxrOs3IPDLwEd4+CmMyBqKqqOuagGl9P6bpOUVFRAdT41TVNk/nz5xOJROjp6WF4eJiysjJmzZqFoihkL5JqRZ6JkjwTbwKPw+4+WAN0Xc7Jfqq9vd0uLi5WSktLUVUVVVULwUqSRDqd5sSJE3g8HrxeL5qm4XK5CswJITBNE6/XS0NDA7IsY9s2pmletPYSeQnVAfuBJyC5DZ5npA9fbony+z179vR1dnY2RSKRm1VVDbrdbkpLS0mn0xiGUaiCc7kcyWQSRVFwuVwFQKPgFUXBNE1kWS6wey7YcySArutoLhc9wE6wW+C1QVgP/POLuFjVAysjkchtNy5Z0nDd4sXuSCRCSSCA7DiYeTCjJc1ocJIkFYKXZRlFUcY8jwIdLfVTqRQdnZ38at269CddXW+nYTOw60rdEF9eJUk/9NfWojU0MHPBAmbX1VE1fTo+nw+Xy1WQn+M4E4CNgnAch2w2Szwep6enh48++shsb2/f393d/RfgT3l358rd2efBlpegzgaOAgeAFrf7pF5Zua+6qmpmKBQqr6io0MvKyhS/34/H40FRFGzbLtxPTp06Zff39yd7e3ujvb29B2Ox2F7gQ2BfPjldORflKrh5Fdz0GGiVQDy/yf4M/AieMUdclKnAVee4KMVAUT6DOvlD+QwwCAzkXZQk/2M7r6+lQIUONVOhugZqZkPoenBfD1SOm+B1YA109H/JvtYYp3EmiCYQm0F8COIzELlxTmMCxGEQr4JohKzvK+Q0TvB+AxAphppiKC+CYm2kqCSb934H4PjAiOf7lfF+/zMAVaPsnAfVjSoAAAAASUVORK5CYII=&quot;;\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        stage.setScene(\n                new Scene(\n                        new Group(\n                                new ImageView(\n                                        ROCKET_IMAGE\n                                )\n                        )\n                )\n        );\n\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><em>Base64 encoded images in FXML and CSS</em></p>\n<p>The base64 encoding images can also be added directly into FXML (and I guess CSS as well, though I have not tried it).</p>\n<p>For embedding base64 encoded images in FXML see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/11537434/javafx-embedding-encoded-image-in-fxml-file/72482787#72482787\">JavaFX: Embedding encoded image in .FXML file</a></li>\n</ul>\n<p><em>Saving JavaFX images in Base64 format</em></p>\n<p>There is example code in this answer for converting a JavaFX image to a base64 format:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/31407382/javafx-chart-to-image-to-base64-string-use-in-php\">JavaFX Chart to Image to Base64 String use in PHP</a></li>\n</ul>\n"}],"owner":{"account_id":10887651,"reputation":591,"user_id":8004628,"accept_rate":83,"display_name":"Ahmed Elshorbagy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3474,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49012030,"answer_count":2,"score":2,"last_activity_date":1654209205,"creation_date":1519743879,"question_id":49011802,"body_markdown":"I am experimenting with saving project data (images, parameters etc) in a save  file. The way I found is to incorporate all the data in XML file, so I decided to convert image to Base64 string. The obstacle here is that I don&#39;t know how to get the image back from string. \r\n\r\n    File file = new File(&quot;image_path&quot;);\r\n    byte[] bytes = new byte[(int)file.length()];\r\n    FileInputStream fis = new FileInputStream(file);\r\n    fis.read(bytes); \r\n    fis.close();\r\n    String ef = Base64.getEncoder().encodeToString(bytes);\r\n    Image image = new Image(file.toURI().toString());\r\n\r\nwhen I try to use decoder inside the same function, it always print false.\r\n\r\n    byte[] ds = Base64.getDecoder().decode(ef);\r\n    if(ds==bytes) {\r\n        System.out.println(&quot;True&quot;);\r\n    }else {\r\n        System.out.println(&quot;false&quot;);\r\n    }\r\n\r\nAll examples I found on the site are outdated. So what is the right way to convert string back to file without loss of data. Thanks in advance.","title":"Converting javafx image to/from base64","body":"<p>I am experimenting with saving project data (images, parameters etc) in a save  file. The way I found is to incorporate all the data in XML file, so I decided to convert image to Base64 string. The obstacle here is that I don't know how to get the image back from string. </p>\n\n<pre><code>File file = new File(\"image_path\");\nbyte[] bytes = new byte[(int)file.length()];\nFileInputStream fis = new FileInputStream(file);\nfis.read(bytes); \nfis.close();\nString ef = Base64.getEncoder().encodeToString(bytes);\nImage image = new Image(file.toURI().toString());\n</code></pre>\n\n<p>when I try to use decoder inside the same function, it always print false.</p>\n\n<pre><code>byte[] ds = Base64.getDecoder().decode(ef);\nif(ds==bytes) {\n    System.out.println(\"True\");\n}else {\n    System.out.println(\"false\");\n}\n</code></pre>\n\n<p>All examples I found on the site are outdated. So what is the right way to convert string back to file without loss of data. Thanks in advance.</p>\n"},{"tags":["java","automated-tests","cucumber","backend"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654208460,"creation_date":1654208460,"answer_id":72482889,"question_id":72375098,"body_markdown":"When using `findAny` you&#39;ll get some item from the list. But since you&#39;re only filtering on `animal` there are more elements. \r\n\r\nThe simple way around would be to filter for all relevant properties of the expected value and then check if the resulting stream contains exactly one elements.\r\n\r\nA slightly more complicated way would be to implement `hashcode` and `equals`.  Then you can use `actualPets.contains(expectedPet)`\r\n\r\nHowever both mean you have to sort out a lot of semantics each time you&#39;re dealing with this. Which isn&#39;t great. So it would be a good idea to use an assertion library. There are a few out there but [AssertJ][1] is one to recommend. \r\n\r\nFor example:\r\n\r\n```\r\n// extracting multiple values at once grouped in tuples\r\nassertThat(fellowshipOfTheRing).extracting(&quot;name&quot;, &quot;age&quot;, &quot;race.name&quot;)\r\n                               .contains(tuple(&quot;Boromir&quot;, 37, &quot;Man&quot;),\r\n                                         tuple(&quot;Sam&quot;, 38, &quot;Hobbit&quot;),\r\n                                         tuple(&quot;Legolas&quot;, 1000, &quot;Elf&quot;));\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://assertj.github.io/doc/","title":"Compare entries in DataTable when comparison value repeats","body":"<p>When using <code>findAny</code> you'll get some item from the list. But since you're only filtering on <code>animal</code> there are more elements.</p>\n<p>The simple way around would be to filter for all relevant properties of the expected value and then check if the resulting stream contains exactly one elements.</p>\n<p>A slightly more complicated way would be to implement <code>hashcode</code> and <code>equals</code>.  Then you can use <code>actualPets.contains(expectedPet)</code></p>\n<p>However both mean you have to sort out a lot of semantics each time you're dealing with this. Which isn't great. So it would be a good idea to use an assertion library. There are a few out there but <a href=\"https://assertj.github.io/doc/\" rel=\"nofollow noreferrer\">AssertJ</a> is one to recommend.</p>\n<p>For example:</p>\n<pre><code>// extracting multiple values at once grouped in tuples\nassertThat(fellowshipOfTheRing).extracting(&quot;name&quot;, &quot;age&quot;, &quot;race.name&quot;)\n                               .contains(tuple(&quot;Boromir&quot;, 37, &quot;Man&quot;),\n                                         tuple(&quot;Sam&quot;, 38, &quot;Hobbit&quot;),\n                                         tuple(&quot;Legolas&quot;, 1000, &quot;Elf&quot;));\n</code></pre>\n"}],"owner":{"account_id":25384875,"reputation":1,"user_id":19196797,"display_name":"vsegdalito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654208460,"creation_date":1653471029,"question_id":72375098,"body_markdown":"I have a problem comparing DataTable entries when the field I filter to select and compare repeats in the table.\r\n\r\nThere is a DataTable which looks like this:\r\n\r\n| Place    | Color    | Animal   |  Amount  |\r\n| -------- | ---------| ---------| ---------|\r\n| 1        | red      | cat      | 3        |\r\n| 1        | red      | bat      | 3        |\r\n| 1        | red      | dog      | 4        |\r\n| 1        | red      | dog      | 5        |\r\n\r\nI compare the entries by column `Animal` and in this example, there are 2 `dog` which have different `Amount`. My test fail because it tries to copmare a `dog` who has `amount 4` with  a `dog` who has `amount 5`. Do you know if I can specify somehow sorting? That it checks exactly by the order how it is in DataBase.\r\n\r\nMaybe the selection of ActualPet can be modified somehow?\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    MyDb actualPet = actualPets.stream()\r\n                                                                   .filter(actualP-&gt; actualP.getAnimal().equals(expectedPet.getAnimal()))\r\n                                                                     .findAny()\r\n                                                                     .orElseThrow(() -&gt; new IllegalStateException(errorMessage));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n","title":"Compare entries in DataTable when comparison value repeats","body":"<p>I have a problem comparing DataTable entries when the field I filter to select and compare repeats in the table.</p>\n<p>There is a DataTable which looks like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Place</th>\n<th>Color</th>\n<th>Animal</th>\n<th>Amount</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>red</td>\n<td>cat</td>\n<td>3</td>\n</tr>\n<tr>\n<td>1</td>\n<td>red</td>\n<td>bat</td>\n<td>3</td>\n</tr>\n<tr>\n<td>1</td>\n<td>red</td>\n<td>dog</td>\n<td>4</td>\n</tr>\n<tr>\n<td>1</td>\n<td>red</td>\n<td>dog</td>\n<td>5</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I compare the entries by column <code>Animal</code> and in this example, there are 2 <code>dog</code> which have different <code>Amount</code>. My test fail because it tries to copmare a <code>dog</code> who has <code>amount 4</code> with  a <code>dog</code> who has <code>amount 5</code>. Do you know if I can specify somehow sorting? That it checks exactly by the order how it is in DataBase.</p>\n<p>Maybe the selection of ActualPet can be modified somehow?</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyDb actualPet = actualPets.stream()\n                                                               .filter(actualP-&gt; actualP.getAnimal().equals(expectedPet.getAnimal()))\n                                                                 .findAny()\n                                                                 .orElseThrow(() -&gt; new IllegalStateException(errorMessage));\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","configuration","sts"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654222710,"post_id":72482701,"comment_id":128045176,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25459923,"reputation":1,"user_id":19259924,"display_name":"strawberry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654207917,"creation_date":1654207917,"answer_id":72482839,"question_id":72482701,"body_markdown":"I solved it! There was a main function among the classes you asked to choose. There was something I made during the class test in the beginning, and I guess it was asking about the application.java file and what you want to run It works right away when I remove the main function of another file!\r\n","title":"Why does sts ask me to choose the select type when they run the project?","body":"<p>I solved it! There was a main function among the classes you asked to choose. There was something I made during the class test in the beginning, and I guess it was asking about the application.java file and what you want to run It works right away when I remove the main function of another file!</p>\n"}],"owner":{"account_id":25459923,"reputation":1,"user_id":19259924,"display_name":"strawberry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654208145,"creation_date":1654206629,"question_id":72482701,"body_markdown":"When sts executes the project, ask me what the select type is. I didn&#39;t ask for another project.\r\nThe sts always ask me every time they run, is there a way not to make this pop up? What did I do wrong? The class name is related to my work, so I covered it. Sorry\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yzi7C.png","title":"Why does sts ask me to choose the select type when they run the project?","body":"<p>When sts executes the project, ask me what the select type is. I didn't ask for another project.\nThe sts always ask me every time they run, is there a way not to make this pop up? What did I do wrong? The class name is related to my work, so I covered it. Sorry</p>\n<p><a href=\"https://i.stack.imgur.com/yzi7C.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1654178140,"post_id":72477361,"comment_id":128033214,"body_markdown":"Someone needs to set `this.second` into a `First` instance. If you pass through Spring, they will do it for you. If you don&#39;t (meaning using `new First()`), then you have to do it. But there is no such magic like &quot;you use `new First()` without passing through dependency injection and you still have the dependency injected somehow.","body":"Someone needs to set <code>this.second</code> into a <code>First</code> instance. If you pass through Spring, they will do it for you. If you don&#39;t (meaning using <code>new First()</code>), then you have to do it. But there is no such magic like &quot;you use <code>new First()</code> without passing through dependency injection and you still have the dependency injected somehow."},{"owner":{"account_id":4848337,"reputation":23,"user_id":3911363,"display_name":"Aakash Raj Shakya"},"score":0,"creation_date":1654180635,"post_id":72477361,"comment_id":128034287,"body_markdown":"Thank you @MatteoNNZ for the reply. And yeah, it is kind of my requirement. Is there any kind of workaround for this?","body":"Thank you @MatteoNNZ for the reply. And yeah, it is kind of my requirement. Is there any kind of workaround for this?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1654180726,"post_id":72477361,"comment_id":128034326,"body_markdown":"What is the requirement exactly? That people can do `new First()` and Java understands that it needs to inject a `new Second()` from somewhere? No, that&#39;s impossible, the JVM can&#39;t guess it anyhow.","body":"What is the requirement exactly? That people can do <code>new First()</code> and Java understands that it needs to inject a <code>new Second()</code> from somewhere? No, that&#39;s impossible, the JVM can&#39;t guess it anyhow."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1654181244,"post_id":72477361,"comment_id":128034521,"body_markdown":"To be more precise, Spring works like this (very high level). You annotate your elements, on class Second you put a Component annotation, on class First you add an Autowire for the field Second. When the Spring application starts, it will scan all the classes and collect all the beans. When it is requested to create First, it sees that a field of type Second needs to be autowired. Hence, it builds one Second and sets it into the instance of First. As I said before, it&#39;s not magic but simply done by them. If you want to use &quot;new&quot; (pure Java instancing), you have no choice but do the same.","body":"To be more precise, Spring works like this (very high level). You annotate your elements, on class Second you put a Component annotation, on class First you add an Autowire for the field Second. When the Spring application starts, it will scan all the classes and collect all the beans. When it is requested to create First, it sees that a field of type Second needs to be autowired. Hence, it builds one Second and sets it into the instance of First. As I said before, it&#39;s not magic but simply done by them. If you want to use &quot;new&quot; (pure Java instancing), you have no choice but do the same."},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1654190010,"post_id":72477361,"comment_id":128037712,"body_markdown":"prototype scope is basically a &quot;new&quot; every time you call a bean, since you are using Spring, why just not make First bean of the scope prototype?","body":"prototype scope is basically a &quot;new&quot; every time you call a bean, since you are using Spring, why just not make First bean of the scope prototype?"}],"answers":[{"tags":[],"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654207605,"creation_date":1654207605,"answer_id":72482812,"question_id":72477361,"body_markdown":"While this is a nasty hack, and I don&#39;t think anyone would recommend doing anything like this, this should &quot;work&quot; (it will introduce many problems):\r\n\r\n    @Component\r\n    public class First {\r\n    \r\n        private static First instance;\r\n    \r\n        @Autowired\r\n        private Second second;\r\n        \r\n        public First() {\r\n            if (instance != null) {\r\n                this.second = instance.second;\r\n            }\r\n        }\r\n    \r\n        @PostConstruct\r\n        private void init() {\r\n            instance = this;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to autowire a bean when a new instance of class is created using new keyword","body":"<p>While this is a nasty hack, and I don't think anyone would recommend doing anything like this, this should &quot;work&quot; (it will introduce many problems):</p>\n<pre><code>@Component\npublic class First {\n\n    private static First instance;\n\n    @Autowired\n    private Second second;\n    \n    public First() {\n        if (instance != null) {\n            this.second = instance.second;\n        }\n    }\n\n    @PostConstruct\n    private void init() {\n        instance = this;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4848337,"reputation":23,"user_id":3911363,"display_name":"Aakash Raj Shakya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654207605,"creation_date":1654177774,"question_id":72477361,"body_markdown":"I&#39;m trying to create a new instance of a component using the **new** keyword. The component class has an auto wiring of another class. In the First class, it has a method which calls the of the second class.\r\nThe code is as follows:\r\n\r\n**First.java**\r\n````\r\n@Component\r\npublic class First {\r\n    @Autowired\r\n    private Second second;\r\n\r\n    public First() {\r\n        System.out.println(&quot;This is the first class constructor.&quot;);\r\n    }\r\n\r\n    public void printFromFirst() {\r\n        second.printFromSecond();\r\n    }\r\n}\r\n\r\n````\r\n\r\n**Second.java**\r\n````\r\n@Component\r\npublic class Second {\r\n    public void printFromSecond() {\r\n        System.out.println(&quot;This is inside the second class print method.&quot;);\r\n    }\r\n}\r\n````\r\n\r\n**Application.java**\r\n````\r\n@SpringBootApplication\r\npublic class SampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SampleApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic First first() {\r\n\t\tFirst first = new First();\r\n\t\tfirst.printFromFirst();\r\n\t\treturn first;\r\n\t}\r\n}\r\n````\r\n&lt;pre&gt;\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;first&#39; defined in com.example.sample.SampleApplication: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.sample.First]: Factory method &#39;first&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;com.example.sample.Second.printFromSecond()&quot; because &quot;this.second&quot; is null\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat com.example.sample.SampleApplication.main(SampleApplication.java:11) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.sample.First]: Factory method &#39;first&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;com.example.sample.Second.printFromSecond()&quot; because &quot;this.second&quot; is null\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.example.sample.Second.printFromSecond()&quot; because &quot;this.second&quot; is null\r\n\tat com.example.sample.First.printFromFirst(First.java:16) ~[classes/:na]\r\n\tat com.example.sample.SampleApplication.first(SampleApplication.java:17) ~[classes/:na]\r\n\tat com.example.sample.SampleApplication$$EnhancerBySpringCGLIB$$badcf278.CGLIB$first$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.example.sample.SampleApplication$$EnhancerBySpringCGLIB$$badcf278$$FastClassBySpringCGLIB$$68c83451.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat com.example.sample.SampleApplication$$EnhancerBySpringCGLIB$$badcf278.first(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 20 common frames omitted\r\n&lt;/pre&gt;\r\n\r\nI am able to workout the solution using the dependency injection. I just want to do it this way.\r\n\r\nTIA","title":"How to autowire a bean when a new instance of class is created using new keyword","body":"<p>I'm trying to create a new instance of a component using the <strong>new</strong> keyword. The component class has an auto wiring of another class. In the First class, it has a method which calls the of the second class.\nThe code is as follows:</p>\n<p><strong>First.java</strong></p>\n<pre><code>@Component\npublic class First {\n    @Autowired\n    private Second second;\n\n    public First() {\n        System.out.println(&quot;This is the first class constructor.&quot;);\n    }\n\n    public void printFromFirst() {\n        second.printFromSecond();\n    }\n}\n\n</code></pre>\n<p><strong>Second.java</strong></p>\n<pre><code>@Component\npublic class Second {\n    public void printFromSecond() {\n        System.out.println(&quot;This is inside the second class print method.&quot;);\n    }\n}\n</code></pre>\n<p><strong>Application.java</strong></p>\n<pre><code>@SpringBootApplication\npublic class SampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SampleApplication.class, args);\n    }\n\n    @Bean\n    public First first() {\n        First first = new First();\n        first.printFromFirst();\n        return first;\n    }\n}\n</code></pre>\n<pre>\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'first' defined in com.example.sample.SampleApplication: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.sample.First]: Factory method 'first' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke \"com.example.sample.Second.printFromSecond()\" because \"this.second\" is null\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.example.sample.SampleApplication.main(SampleApplication.java:11) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.sample.First]: Factory method 'first' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke \"com.example.sample.Second.printFromSecond()\" because \"this.second\" is null\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 19 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke \"com.example.sample.Second.printFromSecond()\" because \"this.second\" is null\n    at com.example.sample.First.printFromFirst(First.java:16) ~[classes/:na]\n    at com.example.sample.SampleApplication.first(SampleApplication.java:17) ~[classes/:na]\n    at com.example.sample.SampleApplication$$EnhancerBySpringCGLIB$$badcf278.CGLIB$first$0() ~[classes/:na]\n    at com.example.sample.SampleApplication$$EnhancerBySpringCGLIB$$badcf278$$FastClassBySpringCGLIB$$68c83451.invoke() ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.20.jar:5.3.20]\n    at com.example.sample.SampleApplication$$EnhancerBySpringCGLIB$$badcf278.first() ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 20 common frames omitted\n</pre>\n<p>I am able to workout the solution using the dependency injection. I just want to do it this way.</p>\n<p>TIA</p>\n"},{"tags":["java","weblogic11g"],"answers":[{"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654207547,"creation_date":1654207547,"answer_id":72482806,"question_id":72280869,"body_markdown":"You may disable `configureAndWatch` as a workaround to your `FileWatchdog` *issue*. \r\n\r\nAlso, review the `log4j.xml` for permissions, it looks like cannot be read.\r\n","title":"high number of lwps in solaris 11 associated to weblogic instances","body":"<p>You may disable <code>configureAndWatch</code> as a workaround to your <code>FileWatchdog</code> <em>issue</em>.</p>\n<p>Also, review the <code>log4j.xml</code> for permissions, it looks like cannot be read.</p>\n"}],"owner":{"account_id":16677030,"reputation":1,"user_id":12053176,"display_name":"nhsant21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654207547,"creation_date":1652822964,"question_id":72280869,"body_markdown":"I have a weblogic 11g cluster, with 2 physical servers. The instances are balanced with F5, but on server 2, the six weblogic instances have a high number of lwps, more than 20000.\r\nA thread dump of a weblogic instance was exported, and many occurrences of a log4j class can be seen.\r\nI need to correct this problem, because server 2 reaches 100,000 and the machine crashes.\r\nThanks, I look forward to your suggestions.\r\n\r\n1. Server 2 (number lwps)\r\n```\r\n[user@serverwls2 ~]$ prstat -a 1 1 | egrep &quot;java|Total&quot;\r\n 25685 soracle   6040936K 5590440K sleep    59    0  10:43:47 1.279% java/6404\r\n 29776 soracle   6033888K 5656640K sleep    59    0  10:43:17 1.019% java/6603\r\n  8190 soracle   5501688K 3571712K sleep    59    0   0:41:39 0.058% java/4029\r\n  8633 soracle   5650160K 4005776K sleep    59    0   1:18:00 0.046% java/5186\r\n  8635 soracle   5630848K 4220944K sleep    59    0   1:17:02 0.043% java/4963\r\n  8634 soracle   5643592K 4078840K sleep    59    0   1:14:07 0.043% java/5160\r\nTotal: 96 processes, 33568 lwps, load averages: 1.64, 1.61, 1.63\r\n```\r\n\r\n2. Extract thread dump (pid 29776) export with jstack\r\n```\r\n    2022-05-17 16:53:00\r\n    Full thread dump Java HotSpot(TM) 64-Bit Server VM (24.331-b06 mixed mode):\r\n    &quot;Attach Listener&quot; daemon prio=3 tid=0x0000000115d3b800 nid=0x3443 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n       Locked ownable synchronizers:\r\n            - None\r\n    &quot;Thread-13074&quot; daemon prio=3 tid=0x0000000115d39800 nid=0x3442 waiting on condition [0xfffffffc09cff000]\r\n       java.lang.Thread.State: TIMED_WAITING (sleeping)\r\n            at java.lang.Thread.sleep(Native Method)\r\n            at org.apache.log4j.helpers.FileWatchdog.run(FileWatchdog.java:104)\r\n       Locked ownable synchronizers:\r\n            - None\r\n    &quot;Thread-13072&quot; daemon prio=3 tid=0x0000000116e36000 nid=0x3440 waiting on condition [0xfffffffc09eff000]\r\n       java.lang.Thread.State: TIMED_WAITING (sleeping)\r\n            at java.lang.Thread.sleep(Native Method)\r\n            at org.apache.log4j.helpers.FileWatchdog.run(FileWatchdog.java:104)\r\n       Locked ownable synchronizers:\r\n            - None\r\n```\r\n\r\n3. Occurrence number in thread dump\r\n\r\n```\r\n    [user@serverwls2 ~]$ grep &quot;org.apache.log4j.helpers.FileWatchdog.run&quot; pid29776_dump.txt | wc -l\r\n        6450\r\n```\r\n\r\nRegards.","title":"high number of lwps in solaris 11 associated to weblogic instances","body":"<p>I have a weblogic 11g cluster, with 2 physical servers. The instances are balanced with F5, but on server 2, the six weblogic instances have a high number of lwps, more than 20000.\nA thread dump of a weblogic instance was exported, and many occurrences of a log4j class can be seen.\nI need to correct this problem, because server 2 reaches 100,000 and the machine crashes.\nThanks, I look forward to your suggestions.</p>\n<ol>\n<li>Server 2 (number lwps)</li>\n</ol>\n<pre><code>[user@serverwls2 ~]$ prstat -a 1 1 | egrep &quot;java|Total&quot;\n 25685 soracle   6040936K 5590440K sleep    59    0  10:43:47 1.279% java/6404\n 29776 soracle   6033888K 5656640K sleep    59    0  10:43:17 1.019% java/6603\n  8190 soracle   5501688K 3571712K sleep    59    0   0:41:39 0.058% java/4029\n  8633 soracle   5650160K 4005776K sleep    59    0   1:18:00 0.046% java/5186\n  8635 soracle   5630848K 4220944K sleep    59    0   1:17:02 0.043% java/4963\n  8634 soracle   5643592K 4078840K sleep    59    0   1:14:07 0.043% java/5160\nTotal: 96 processes, 33568 lwps, load averages: 1.64, 1.61, 1.63\n</code></pre>\n<ol start=\"2\">\n<li>Extract thread dump (pid 29776) export with jstack</li>\n</ol>\n<pre><code>    2022-05-17 16:53:00\n    Full thread dump Java HotSpot(TM) 64-Bit Server VM (24.331-b06 mixed mode):\n    &quot;Attach Listener&quot; daemon prio=3 tid=0x0000000115d3b800 nid=0x3443 waiting on condition [0x0000000000000000]\n       java.lang.Thread.State: RUNNABLE\n       Locked ownable synchronizers:\n            - None\n    &quot;Thread-13074&quot; daemon prio=3 tid=0x0000000115d39800 nid=0x3442 waiting on condition [0xfffffffc09cff000]\n       java.lang.Thread.State: TIMED_WAITING (sleeping)\n            at java.lang.Thread.sleep(Native Method)\n            at org.apache.log4j.helpers.FileWatchdog.run(FileWatchdog.java:104)\n       Locked ownable synchronizers:\n            - None\n    &quot;Thread-13072&quot; daemon prio=3 tid=0x0000000116e36000 nid=0x3440 waiting on condition [0xfffffffc09eff000]\n       java.lang.Thread.State: TIMED_WAITING (sleeping)\n            at java.lang.Thread.sleep(Native Method)\n            at org.apache.log4j.helpers.FileWatchdog.run(FileWatchdog.java:104)\n       Locked ownable synchronizers:\n            - None\n</code></pre>\n<ol start=\"3\">\n<li>Occurrence number in thread dump</li>\n</ol>\n<pre><code>    [user@serverwls2 ~]$ grep &quot;org.apache.log4j.helpers.FileWatchdog.run&quot; pid29776_dump.txt | wc -l\n        6450\n</code></pre>\n<p>Regards.</p>\n"},{"tags":["java","android","kotlin","layout"],"answers":[{"tags":[],"owner":{"account_id":7711344,"reputation":405,"user_id":8470296,"display_name":"Habeeb Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568195089,"creation_date":1568195089,"answer_id":57886364,"question_id":57886198,"body_markdown":"You can simply switch your Activity&#39;s `windowSoftInputMode` flag to `adjustPan` in your `AndroidMainfest.xml` file inside your activity tag.\r\n\r\nCheck the official documentation for more info.\r\n\r\nhttps://developer.android.com/guide/topics/manifest/activity-element.html#wsoft\r\n\r\n\r\n    &lt;activity \r\n      ... \r\n      android:windowSoftInputMode=&quot;adjustPan&quot;&gt;\r\n    &lt;/activity&gt;","title":"Keyboard break layout and behaviour","body":"<p>You can simply switch your Activity's <code>windowSoftInputMode</code> flag to <code>adjustPan</code> in your <code>AndroidMainfest.xml</code> file inside your activity tag.</p>\n\n<p>Check the official documentation for more info.</p>\n\n<p><a href=\"https://developer.android.com/guide/topics/manifest/activity-element.html#wsoft\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element.html#wsoft</a></p>\n\n<pre><code>&lt;activity \n  ... \n  android:windowSoftInputMode=\"adjustPan\"&gt;\n&lt;/activity&gt;\n</code></pre>\n"}],"owner":{"account_id":16171141,"reputation":240,"user_id":11674907,"display_name":"Ady"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654206682,"creation_date":1568194589,"question_id":57886198,"body_markdown":"I have a fragment with some views like EditText, ViewFlipper and RecyclerView.\r\n\r\nBut I have an issue with the keyboard: when the keyboard appear, some of my views become whites and my RecyclerView is empty or when I tap on an item I have to scroll him to handle the event.\r\n\r\nDo you know why the soft keyboard break the layout and behavior? And do you know how to solve this?\r\n\r\nThanks you for your help.\r\n\r\n**EDIT : Seems solved**\r\n\r\nI&#39;ve found a solution which seems to work:\r\n\r\nI change the ```softInputMode``` in the ```onCreate()``` method to ```adjustNothing```\r\n\r\n```\r\noverride fun onCreate(savedInstanceState: Bundle?) {\r\n    super.onCreate(savedInstanceState)\r\n    activity?.window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_NOTHING)\r\n}\r\n```\r\n\r\nthen in ```onDestroy``` I set the previous mode, here ```adjustPan```\r\n\r\n```\r\noverride fun onDestroy() {\r\n    super.onDestroy()\r\n    activity?.window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN)\r\n}\r\n```","title":"Keyboard break layout and behaviour","body":"<p>I have a fragment with some views like EditText, ViewFlipper and RecyclerView.</p>\n<p>But I have an issue with the keyboard: when the keyboard appear, some of my views become whites and my RecyclerView is empty or when I tap on an item I have to scroll him to handle the event.</p>\n<p>Do you know why the soft keyboard break the layout and behavior? And do you know how to solve this?</p>\n<p>Thanks you for your help.</p>\n<p><strong>EDIT : Seems solved</strong></p>\n<p>I've found a solution which seems to work:</p>\n<p>I change the <code>softInputMode</code> in the <code>onCreate()</code> method to <code>adjustNothing</code></p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    activity?.window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_NOTHING)\n}\n</code></pre>\n<p>then in <code>onDestroy</code> I set the previous mode, here <code>adjustPan</code></p>\n<pre><code>override fun onDestroy() {\n    super.onDestroy()\n    activity?.window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN)\n}\n</code></pre>\n"},{"tags":["java","windows","powershell"],"comments":[{"owner":{"account_id":51529,"reputation":196152,"user_id":153982,"accept_rate":98,"display_name":"Keith Hill"},"score":0,"creation_date":1342577794,"post_id":11531068,"comment_id":15247777,"body_markdown":"Considering PowerShell is a &quot;shell&quot;, any reason why you just don&#39;t execute `PS&gt; java.exe -jar tools\\compiler.jar --compilation_level ...`?","body":"Considering PowerShell is a &quot;shell&quot;, any reason why you just don&#39;t execute <code>PS&gt; java.exe -jar tools\\compiler.jar --compilation_level ...</code>?"},{"owner":{"account_id":1076314,"reputation":9447,"user_id":1074382,"display_name":"Marcelo De Zen"},"score":0,"creation_date":1342615813,"post_id":11531068,"comment_id":15260598,"body_markdown":"It actually works :) But I still don&#39;t understand why the script above doesn&#39;t print the output to console!","body":"It actually works :) But I still don&#39;t understand why the script above doesn&#39;t print the output to console!"},{"owner":{"account_id":577,"reputation":11879,"user_id":743,"accept_rate":100,"display_name":"Ralph Willgoss"},"score":0,"creation_date":1345199033,"post_id":11531068,"comment_id":16011003,"body_markdown":"@dev use Write-OutPut $output, to see what is returned via the console","body":"@dev use Write-OutPut $output, to see what is returned via the console"},{"owner":{"account_id":71467,"reputation":14634,"user_id":206730,"accept_rate":49,"display_name":"Kiquenet"},"score":0,"creation_date":1409208415,"post_id":11531068,"comment_id":39881076,"body_markdown":"Any final solution with full source code sample application ? \nIMHO, better samples for minimize learning curve are real applications with full source code and good patterns.","body":"Any final solution with full source code sample application ?  IMHO, better samples for minimize learning curve are real applications with full source code and good patterns."}],"answers":[{"tags":[],"owner":{"account_id":51529,"reputation":196152,"user_id":153982,"accept_rate":98,"display_name":"Keith Hill"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1342717367,"creation_date":1342643531,"answer_id":11549817,"question_id":11531068,"body_markdown":"The docs on the `RedirectStandardError` property suggests that it is better to put the `WaitForExit()` call after the `ReadToEnd()` call. The following works correctly for me:\r\n\r\n    $psi = New-object System.Diagnostics.ProcessStartInfo \r\n    $psi.CreateNoWindow = $true \r\n    $psi.UseShellExecute = $false \r\n    $psi.RedirectStandardOutput = $true \r\n    $psi.RedirectStandardError = $true \r\n    $psi.FileName = &#39;ipconfig.exe&#39; \r\n    $psi.Arguments = @(&quot;/a&quot;) \r\n    $process = New-Object System.Diagnostics.Process \r\n    $process.StartInfo = $psi \r\n    [void]$process.Start()\r\n    $output = $process.StandardOutput.ReadToEnd() \r\n    $process.WaitForExit() \r\n    $output","title":"Powershell: Capturing standard out and error with Process object","body":"<p>The docs on the <code>RedirectStandardError</code> property suggests that it is better to put the <code>WaitForExit()</code> call after the <code>ReadToEnd()</code> call. The following works correctly for me:</p>\n\n<pre><code>$psi = New-object System.Diagnostics.ProcessStartInfo \n$psi.CreateNoWindow = $true \n$psi.UseShellExecute = $false \n$psi.RedirectStandardOutput = $true \n$psi.RedirectStandardError = $true \n$psi.FileName = 'ipconfig.exe' \n$psi.Arguments = @(\"/a\") \n$process = New-Object System.Diagnostics.Process \n$process.StartInfo = $psi \n[void]$process.Start()\n$output = $process.StandardOutput.ReadToEnd() \n$process.WaitForExit() \n$output\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2184403,"reputation":181,"user_id":1933142,"display_name":"Paul Viscovich"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1458232605,"creation_date":1356643502,"answer_id":14061481,"question_id":11531068,"body_markdown":"Small variation so that you can selectively print the output if needed. As in if your looking just for error or warning messages and by the way Keith you saved my bacon with your response...\r\n\r\n    $psi = New-object System.Diagnostics.ProcessStartInfo \r\n    $psi.CreateNoWindow = $true \r\n    $psi.UseShellExecute = $false \r\n    $psi.RedirectStandardOutput = $true \r\n    $psi.RedirectStandardError = $true \r\n    $psi.FileName = &#39;robocopy&#39; \r\n    $psi.Arguments = @(&quot;$HomeDirectory $NewHomeDirectory /MIR /XF desktop.ini /XD VDI /R:0 /W:0 /s /v /np&quot;) \r\n    $process = New-Object System.Diagnostics.Process \r\n    $process.StartInfo = $psi \r\n    [void]$process.Start()\r\n    do\r\n    {\r\n       $process.StandardOutput.ReadLine()\r\n    }\r\n    while (!$process.HasExited)","title":"Powershell: Capturing standard out and error with Process object","body":"<p>Small variation so that you can selectively print the output if needed. As in if your looking just for error or warning messages and by the way Keith you saved my bacon with your response...</p>\n\n<pre><code>$psi = New-object System.Diagnostics.ProcessStartInfo \n$psi.CreateNoWindow = $true \n$psi.UseShellExecute = $false \n$psi.RedirectStandardOutput = $true \n$psi.RedirectStandardError = $true \n$psi.FileName = 'robocopy' \n$psi.Arguments = @(\"$HomeDirectory $NewHomeDirectory /MIR /XF desktop.ini /XD VDI /R:0 /W:0 /s /v /np\") \n$process = New-Object System.Diagnostics.Process \n$process.StartInfo = $psi \n[void]$process.Start()\ndo\n{\n   $process.StandardOutput.ReadLine()\n}\nwhile (!$process.HasExited)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4274218,"reputation":1343,"user_id":3495322,"accept_rate":75,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538577810,"creation_date":1538577810,"answer_id":52629677,"question_id":11531068,"body_markdown":"Here is a modification to paul&#39;s answer, hopefully it addresses the truncated output. i did a test using a failure and did not see truncation.\r\n\r\n\r\n\r\n    function Start-ProcessWithOutput\r\n    {\r\n        param ([string]$Path,[string[]]$ArgumentList)\r\n        $Output = New-Object -TypeName System.Text.StringBuilder\r\n        $Error = New-Object -TypeName System.Text.StringBuilder\r\n        $psi = New-object System.Diagnostics.ProcessStartInfo \r\n        $psi.CreateNoWindow = $true \r\n        $psi.UseShellExecute = $false \r\n        $psi.RedirectStandardOutput = $true \r\n        $psi.RedirectStandardError = $true \r\n        $psi.FileName = $Path\r\n        if ($ArgumentList.Count -gt 0)\r\n        {\r\n            $psi.Arguments = $ArgumentList\r\n        }\r\n        $process = New-Object System.Diagnostics.Process \r\n        $process.StartInfo = $psi \r\n        [void]$process.Start()\r\n        do\r\n        {\r\n    \r\n    \r\n           if (!$process.StandardOutput.EndOfStream)\r\n           {\r\n               [void]$Output.AppendLine($process.StandardOutput.ReadLine())\r\n           }\r\n           if (!$process.StandardError.EndOfStream)\r\n           {\r\n               [void]$Error.AppendLine($process.StandardError.ReadLine())\r\n           }\r\n           Start-Sleep -Milliseconds 10\r\n        } while (!$process.HasExited)\r\n    \r\n        #read remainder\r\n        while (!$process.StandardOutput.EndOfStream)\r\n        {\r\n            #write-verbose &#39;read remaining output&#39;\r\n            [void]$Output.AppendLine($process.StandardOutput.ReadLine())\r\n        }\r\n        while (!$process.StandardError.EndOfStream)\r\n        {\r\n            #write-verbose &#39;read remaining error&#39;\r\n            [void]$Error.AppendLine($process.StandardError.ReadLine())\r\n        }\r\n    \r\n        return @{ExitCode = $process.ExitCode; Output = $Output.ToString(); Error = $Error.ToString(); ExitTime=$process.ExitTime}\r\n    }\r\n    \r\n    \r\n    $p = Start-ProcessWithOutput &quot;C:\\Program Files\\7-Zip\\7z.exe&quot; -ArgumentList &quot;x&quot;,&quot;-y&quot;,&quot;-oE:\\PowershellModules&quot;,$NewModules.FullName -verbose\r\n    $p.ExitCode\r\n    $p.Output\r\n    $p.Error\r\n\r\nthe 10ms sleep is to avoid spinning cpu when nothing to read.\r\n","title":"Powershell: Capturing standard out and error with Process object","body":"<p>Here is a modification to paul's answer, hopefully it addresses the truncated output. i did a test using a failure and did not see truncation.</p>\n\n<pre><code>function Start-ProcessWithOutput\n{\n    param ([string]$Path,[string[]]$ArgumentList)\n    $Output = New-Object -TypeName System.Text.StringBuilder\n    $Error = New-Object -TypeName System.Text.StringBuilder\n    $psi = New-object System.Diagnostics.ProcessStartInfo \n    $psi.CreateNoWindow = $true \n    $psi.UseShellExecute = $false \n    $psi.RedirectStandardOutput = $true \n    $psi.RedirectStandardError = $true \n    $psi.FileName = $Path\n    if ($ArgumentList.Count -gt 0)\n    {\n        $psi.Arguments = $ArgumentList\n    }\n    $process = New-Object System.Diagnostics.Process \n    $process.StartInfo = $psi \n    [void]$process.Start()\n    do\n    {\n\n\n       if (!$process.StandardOutput.EndOfStream)\n       {\n           [void]$Output.AppendLine($process.StandardOutput.ReadLine())\n       }\n       if (!$process.StandardError.EndOfStream)\n       {\n           [void]$Error.AppendLine($process.StandardError.ReadLine())\n       }\n       Start-Sleep -Milliseconds 10\n    } while (!$process.HasExited)\n\n    #read remainder\n    while (!$process.StandardOutput.EndOfStream)\n    {\n        #write-verbose 'read remaining output'\n        [void]$Output.AppendLine($process.StandardOutput.ReadLine())\n    }\n    while (!$process.StandardError.EndOfStream)\n    {\n        #write-verbose 'read remaining error'\n        [void]$Error.AppendLine($process.StandardError.ReadLine())\n    }\n\n    return @{ExitCode = $process.ExitCode; Output = $Output.ToString(); Error = $Error.ToString(); ExitTime=$process.ExitTime}\n}\n\n\n$p = Start-ProcessWithOutput \"C:\\Program Files\\7-Zip\\7z.exe\" -ArgumentList \"x\",\"-y\",\"-oE:\\PowershellModules\",$NewModules.FullName -verbose\n$p.ExitCode\n$p.Output\n$p.Error\n</code></pre>\n\n<p>the 10ms sleep is to avoid spinning cpu when nothing to read.</p>\n"},{"tags":[],"owner":{"account_id":16066122,"reputation":270,"user_id":11595716,"display_name":"dislexic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654206318,"creation_date":1654206318,"answer_id":72482675,"question_id":11531068,"body_markdown":"I was getting the deadlock scenario mentioned by Ash using Justin&#39;s solution.  Modified the script accordingly to subscribe to async event handlers to get the output and error text which accomplishes the same thing but avoids the deadlock condition.\r\n\r\nSeemed to resolve the deadlock issue in my testing without altering the return data.\r\n\r\n    # Define global variables used in the Start-ProcessWithOutput function.\r\n    $global:processOutputStringGlobal = &quot;&quot;\r\n    $global:processErrorStringGlobal = &quot;&quot;\r\n    \r\n    # Launch an executable and return the exitcode, output text, and error text of the process.\r\n    function Start-ProcessWithOutput\r\n    {\r\n        # Function requires a path to an executable and an optional list of arguments\r\n        param (\r\n            [Parameter(Mandatory=$true)] [string]$ExecutablePath,\r\n            [Parameter(Mandatory=$false)] [string[]]$ArgumentList\r\n        )\r\n    \r\n        # Reset our global variables to an empty string in the event this process is called multiple times.\r\n        $global:processOutputStringGlobal = &quot;&quot;\r\n        $global:processErrorStringGlobal = &quot;&quot;\r\n    \r\n        # Create the Process Info object which contains details about the process.  We tell it to \r\n    \t# redirect standard output and error output which will be collected and stored in a variable.\r\n        $ProcessStartInfoObject = New-object System.Diagnostics.ProcessStartInfo \r\n        $ProcessStartInfoObject.FileName = $ExecutablePath\r\n        $ProcessStartInfoObject.CreateNoWindow = $true \r\n        $ProcessStartInfoObject.UseShellExecute = $false \r\n        $ProcessStartInfoObject.RedirectStandardOutput = $true \r\n        $ProcessStartInfoObject.RedirectStandardError = $true \r\n        \r\n        # Add the arguments to the process info object if any were provided\r\n        if ($ArgumentList.Count -gt 0)\r\n        {\r\n            $ProcessStartInfoObject.Arguments = $ArgumentList\r\n        }\r\n    \r\n        # Create the object that will represent the process\r\n        $Process = New-Object System.Diagnostics.Process \r\n        $Process.StartInfo = $ProcessStartInfoObject \r\n    \r\n        # Define actions for the event handlers we will subscribe to in a moment.  These are checking whether\r\n        # any data was sent by the event handler and updating the global variable if it is not null or empty.\r\n        $ProcessOutputEventAction = { \r\n            if ($null -ne $EventArgs.Data -and $EventArgs.Data -ne &quot;&quot;){\r\n                $global:processOutputStringGlobal += &quot;$($EventArgs.Data)`r`n&quot;\r\n            }\r\n        }\r\n        $ProcessErrorEventAction = { \r\n            if ($null -ne $EventArgs.Data -and $EventArgs.Data -ne &quot;&quot;){\r\n                $global:processErrorStringGlobal += &quot;$($EventArgs.Data)`r`n&quot;\r\n            }\r\n        }\r\n    \r\n        # We need to create an event handler for the Process object.  This will call the action defined above \r\n    \t# anytime that event is triggered.  We are looking for output and error data received by the process \r\n    \t# and appending the global variables with those values.\r\n        Register-ObjectEvent -InputObject $Process -EventName &quot;OutputDataReceived&quot; -Action $ProcessOutputEventAction\r\n        Register-ObjectEvent -InputObject $Process -EventName &quot;ErrorDataReceived&quot; -Action $ProcessErrorEventAction\r\n    \r\n        # Process starts here\r\n        [void]$Process.Start()\r\n    \r\n        # This sets up an asyncronous task to read the console output from the process, which triggers the appropriate\r\n        # event, which we setup handlers for just above.\r\n        $Process.BeginErrorReadLine()\r\n        $Process.BeginOutputReadLine()\r\n        \r\n        # Wait for the process to exit.  \r\n        $Process.WaitForExit()\r\n    \r\n        # We need to wait just a moment so the async tasks that are reading the output of the process can catch\r\n        # up.  Not having this sleep here can cause the return values to be empty or incomplete.  In my testing, \r\n        # it seemed like half a second was enough time to always get the data, but you may need to adjust accordingly.\r\n        Start-Sleep -Milliseconds 500\r\n    \r\n    \r\n        # Return an object that contains the exit code, output text, and error text.\r\n        return @{\r\n            ExitCode = $Process.ExitCode; \r\n            OutputString = $global:processOutputStringGlobal; \r\n            ErrorString = $global:processErrorStringGlobal; \r\n            ExitTime = $Process.ExitTime\r\n        }\r\n    }","title":"Powershell: Capturing standard out and error with Process object","body":"<p>I was getting the deadlock scenario mentioned by Ash using Justin's solution.  Modified the script accordingly to subscribe to async event handlers to get the output and error text which accomplishes the same thing but avoids the deadlock condition.</p>\n<p>Seemed to resolve the deadlock issue in my testing without altering the return data.</p>\n<pre><code># Define global variables used in the Start-ProcessWithOutput function.\n$global:processOutputStringGlobal = &quot;&quot;\n$global:processErrorStringGlobal = &quot;&quot;\n\n# Launch an executable and return the exitcode, output text, and error text of the process.\nfunction Start-ProcessWithOutput\n{\n    # Function requires a path to an executable and an optional list of arguments\n    param (\n        [Parameter(Mandatory=$true)] [string]$ExecutablePath,\n        [Parameter(Mandatory=$false)] [string[]]$ArgumentList\n    )\n\n    # Reset our global variables to an empty string in the event this process is called multiple times.\n    $global:processOutputStringGlobal = &quot;&quot;\n    $global:processErrorStringGlobal = &quot;&quot;\n\n    # Create the Process Info object which contains details about the process.  We tell it to \n    # redirect standard output and error output which will be collected and stored in a variable.\n    $ProcessStartInfoObject = New-object System.Diagnostics.ProcessStartInfo \n    $ProcessStartInfoObject.FileName = $ExecutablePath\n    $ProcessStartInfoObject.CreateNoWindow = $true \n    $ProcessStartInfoObject.UseShellExecute = $false \n    $ProcessStartInfoObject.RedirectStandardOutput = $true \n    $ProcessStartInfoObject.RedirectStandardError = $true \n    \n    # Add the arguments to the process info object if any were provided\n    if ($ArgumentList.Count -gt 0)\n    {\n        $ProcessStartInfoObject.Arguments = $ArgumentList\n    }\n\n    # Create the object that will represent the process\n    $Process = New-Object System.Diagnostics.Process \n    $Process.StartInfo = $ProcessStartInfoObject \n\n    # Define actions for the event handlers we will subscribe to in a moment.  These are checking whether\n    # any data was sent by the event handler and updating the global variable if it is not null or empty.\n    $ProcessOutputEventAction = { \n        if ($null -ne $EventArgs.Data -and $EventArgs.Data -ne &quot;&quot;){\n            $global:processOutputStringGlobal += &quot;$($EventArgs.Data)`r`n&quot;\n        }\n    }\n    $ProcessErrorEventAction = { \n        if ($null -ne $EventArgs.Data -and $EventArgs.Data -ne &quot;&quot;){\n            $global:processErrorStringGlobal += &quot;$($EventArgs.Data)`r`n&quot;\n        }\n    }\n\n    # We need to create an event handler for the Process object.  This will call the action defined above \n    # anytime that event is triggered.  We are looking for output and error data received by the process \n    # and appending the global variables with those values.\n    Register-ObjectEvent -InputObject $Process -EventName &quot;OutputDataReceived&quot; -Action $ProcessOutputEventAction\n    Register-ObjectEvent -InputObject $Process -EventName &quot;ErrorDataReceived&quot; -Action $ProcessErrorEventAction\n\n    # Process starts here\n    [void]$Process.Start()\n\n    # This sets up an asyncronous task to read the console output from the process, which triggers the appropriate\n    # event, which we setup handlers for just above.\n    $Process.BeginErrorReadLine()\n    $Process.BeginOutputReadLine()\n    \n    # Wait for the process to exit.  \n    $Process.WaitForExit()\n\n    # We need to wait just a moment so the async tasks that are reading the output of the process can catch\n    # up.  Not having this sleep here can cause the return values to be empty or incomplete.  In my testing, \n    # it seemed like half a second was enough time to always get the data, but you may need to adjust accordingly.\n    Start-Sleep -Milliseconds 500\n\n\n    # Return an object that contains the exit code, output text, and error text.\n    return @{\n        ExitCode = $Process.ExitCode; \n        OutputString = $global:processOutputStringGlobal; \n        ErrorString = $global:processErrorStringGlobal; \n        ExitTime = $Process.ExitTime\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1076314,"reputation":9447,"user_id":1074382,"display_name":"Marcelo De Zen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25608,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":11549817,"answer_count":4,"score":25,"last_activity_date":1654206318,"creation_date":1342560098,"question_id":11531068,"body_markdown":"I want to start a Java program from PowerShell and get the results printed on the console.\r\n\r\nI have followed the instructions of this question: \r\nhttps://stackoverflow.com/questions/8761888/powershell-capturing-standard-out-and-error-with-start-process\r\n\r\nBut for me, this is not working as I expected. What I&#39;m doing wrong?\r\n\r\nThis is the script:\r\n\r\n    $psi = New-object System.Diagnostics.ProcessStartInfo\r\n    $psi.CreateNoWindow = $true\r\n    $psi.UseShellExecute = $false\r\n    $psi.RedirectStandardOutput = $true\r\n    $psi.RedirectStandardError = $true\r\n    $psi.FileName = &#39;java.exe&#39;\r\n    $psi.Arguments = @(&quot;-jar&quot;,&quot;tools\\compiler.jar&quot;,&quot;--compilation_level&quot;,   &quot;ADVANCED_OPTIMIZATIONS&quot;, &quot;--js&quot;, $BuildFile, &quot;--js_output_file&quot;, $BuildMinFile)\r\n    $process = New-Object System.Diagnostics.Process\r\n    $process.StartInfo = $psi\r\n    $process.Start() | Out-Null\r\n    $process.WaitForExit()\r\n    $output = $process.StandardOutput.ReadToEnd()\r\n    $output\r\n\r\nThe `$output` variable is always empty (and nothing is printed on the console of course).\r\n","title":"Powershell: Capturing standard out and error with Process object","body":"<p>I want to start a Java program from PowerShell and get the results printed on the console.</p>\n\n<p>I have followed the instructions of this question: \n<a href=\"https://stackoverflow.com/questions/8761888/powershell-capturing-standard-out-and-error-with-start-process\">Capturing standard out and error with Start-Process</a></p>\n\n<p>But for me, this is not working as I expected. What I'm doing wrong?</p>\n\n<p>This is the script:</p>\n\n<pre><code>$psi = New-object System.Diagnostics.ProcessStartInfo\n$psi.CreateNoWindow = $true\n$psi.UseShellExecute = $false\n$psi.RedirectStandardOutput = $true\n$psi.RedirectStandardError = $true\n$psi.FileName = 'java.exe'\n$psi.Arguments = @(\"-jar\",\"tools\\compiler.jar\",\"--compilation_level\",   \"ADVANCED_OPTIMIZATIONS\", \"--js\", $BuildFile, \"--js_output_file\", $BuildMinFile)\n$process = New-Object System.Diagnostics.Process\n$process.StartInfo = $psi\n$process.Start() | Out-Null\n$process.WaitForExit()\n$output = $process.StandardOutput.ReadToEnd()\n$output\n</code></pre>\n\n<p>The <code>$output</code> variable is always empty (and nothing is printed on the console of course).</p>\n"},{"tags":["java","sql-server","scala","jdbc","sbt"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652887721,"post_id":72290735,"comment_id":127717199,"body_markdown":"Your SQL Server Management Studio version is irrelevant, and it is better to use the colloquial version name (SQL Server 2017) than the technicaly version number (14.0.1000.169). In any case, the error (which you really should repeat in the body of your question), suggests there is a piece of configuration missing. Could you edit your question to include the full exception stacktrace","body":"Your SQL Server Management Studio version is irrelevant, and it is better to use the colloquial version name (SQL Server 2017) than the technicaly version number (14.0.1000.169). In any case, the error (which you really should repeat in the body of your question), suggests there is a piece of configuration missing. Could you edit your question to include the full exception stacktrace"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652888158,"post_id":72290735,"comment_id":127717387,"body_markdown":"I know zero about Play Framework, but a bit of searching lead me to [this issue](https://github.com/ebean-orm/ebean/issues/1340), which seems to suggest you need to add `ebean.default.databasePlatformName=sqlserver17` to your configuration (but that is just a guess on my part)","body":"I know zero about Play Framework, but a bit of searching lead me to <a href=\"https://github.com/ebean-orm/ebean/issues/1340\" rel=\"nofollow noreferrer\">this issue</a>, which seems to suggest you need to add <code>ebean.default.databasePlatformName=sqlserver17</code> to your configuration (but that is just a guess on my part)"},{"owner":{"account_id":17658296,"reputation":11,"user_id":12817326,"display_name":"Mart&#237;n Fernandez"},"score":0,"creation_date":1652902564,"post_id":72290735,"comment_id":127722627,"body_markdown":"thanks @MarkRotteveel for your answer but already try that one databasePlatformName\nUpdate the post with another error.","body":"thanks @MarkRotteveel for your answer but already try that one databasePlatformName Update the post with another error."},{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":0,"creation_date":1653075299,"post_id":72290735,"comment_id":127771293,"body_markdown":"why you have different versions of mssql-jdbc in your libs? Try to provide a minimum example of project (and libs) which reproduce this error. Do you inject play.db.Database?","body":"why you have different versions of mssql-jdbc in your libs? Try to provide a minimum example of project (and libs) which reproduce this error. Do you inject play.db.Database?"},{"owner":{"account_id":17658296,"reputation":11,"user_id":12817326,"display_name":"Mart&#237;n Fernandez"},"score":0,"creation_date":1653325164,"post_id":72290735,"comment_id":127819334,"body_markdown":"@MikhailIonkin update the question. Please review","body":"@MikhailIonkin update the question. Please review"},{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":0,"creation_date":1653821968,"post_id":72290735,"comment_id":127940489,"body_markdown":"Refer to issue #1340 for more details -- https://github.com/ebean-orm/ebean/issues/1340\nI think you can try to define `ebean.default.databasePlatformName=sqlserver17` or `ebean.yourDataSourceName.databasePlatformName=sqlserver17`. See also [here](https://github.com/ebean-orm/ebean/blob/d98c49e266f5d5e7fcd1e17c48836b03cd39c1e3/ebean-test/testconfig/ebean-db2.properties) and [here](https://github.com/ebean-orm/ebean/search?q=databasePlatformName). Also there is similar [question](https://stackoverflow.com/questions/36893305/how-to-connect-sql-server-from-play-2-4-6)","body":"Refer to issue #1340 for more details -- <a href=\"https://github.com/ebean-orm/ebean/issues/1340\" rel=\"nofollow noreferrer\">github.com/ebean-orm/ebean/issues/1340</a> I think you can try to define <code>ebean.default.databasePlatformName=sqlserver17</code> or <code>ebean.yourDataSourceName.databasePlatformName=sqlserver17</code>. See also <a href=\"https://github.com/ebean-orm/ebean/blob/d98c49e266f5d5e7fcd1e17c48836b03cd39c1e3/ebean-test/testconfig/ebean-db2.properties\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/ebean-orm/ebean/search?q=databasePlatformName\" rel=\"nofollow noreferrer\">here</a>. Also there is similar <a href=\"https://stackoverflow.com/questions/36893305/how-to-connect-sql-server-from-play-2-4-6\">question</a>"}],"answers":[{"tags":[],"owner":{"account_id":17658296,"reputation":11,"user_id":12817326,"display_name":"Mart&#237;n Fernandez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654206035,"creation_date":1654206035,"answer_id":72482634,"question_id":72290735,"body_markdown":"After days of struggle on code, web and foros (really 10 days or more) and no solution by application.conf path. I Create a class Conexion\r\n\r\n    public class Conexion {\r\n\t\r\n\tpublic static Database ObtenerConexion() {\r\n\t\t\r\n\t\tDataSourceConfig dataSourceConfig = new DataSourceConfig();\r\n\t\tdataSourceConfig.setUsername(&quot;sa&quot;);\r\n\t\tdataSourceConfig.setPassword(&quot;sa&quot;);\r\n\t\tdataSourceConfig.setUrl(&quot;jdbc:sqlserver://localhost:1433;databaseName=dbName;encrypt=true;trustServerCertificate=true&quot;);\r\n\t\tdataSourceConfig.setDriver(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n\r\n\t\tServerConfig config= new ServerConfig();\r\n\t\tconfig.setDatabasePlatformName(&quot;sqlserver17&quot;);\r\n\t\tconfig.setDataSourceConfig(dataSourceConfig);\r\n\t\t\r\n\t\tconfig.addClass(CategoriaRubro.class);\r\n\t\tconfig.addClass(CentroComun.class);\r\n\t\tconfig.addClass(Cotizacion.class);\r\n\t\tconfig.addClass(Departamento.class);\r\n        //all your models \r\n\t\t\r\n\t\tDatabase database = EbeanServerFactory.create(config);\r\n\t\t\r\n\t\treturn database;\r\n\t}\r\n\r\n}\r\n\r\nand called from\r\n\r\n    public class SomeController extends Controller{\r\n\tstatic Database db ;\r\n    \r\n    public SomeController () {\r\n    \tthis.db = Conexion.ObtenerConexion();\r\n    }\r\n}\r\n\r\nIt is not elegant but it works. May can help somebody.","title":"For SqlServer please explicitly choose either sqlserver16 or sqlserver17 as the platform via DatabaseConfig.setDatabasePlatformName","body":"<p>After days of struggle on code, web and foros (really 10 days or more) and no solution by application.conf path. I Create a class Conexion</p>\n<pre><code>public class Conexion {\n\npublic static Database ObtenerConexion() {\n    \n    DataSourceConfig dataSourceConfig = new DataSourceConfig();\n    dataSourceConfig.setUsername(&quot;sa&quot;);\n    dataSourceConfig.setPassword(&quot;sa&quot;);\n    dataSourceConfig.setUrl(&quot;jdbc:sqlserver://localhost:1433;databaseName=dbName;encrypt=true;trustServerCertificate=true&quot;);\n    dataSourceConfig.setDriver(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n\n    ServerConfig config= new ServerConfig();\n    config.setDatabasePlatformName(&quot;sqlserver17&quot;);\n    config.setDataSourceConfig(dataSourceConfig);\n    \n    config.addClass(CategoriaRubro.class);\n    config.addClass(CentroComun.class);\n    config.addClass(Cotizacion.class);\n    config.addClass(Departamento.class);\n    //all your models \n    \n    Database database = EbeanServerFactory.create(config);\n    \n    return database;\n}\n</code></pre>\n<p>}</p>\n<p>and called from</p>\n<pre><code>public class SomeController extends Controller{\nstatic Database db ;\n\npublic SomeController () {\n    this.db = Conexion.ObtenerConexion();\n}\n</code></pre>\n<p>}</p>\n<p>It is not elegant but it works. May can help somebody.</p>\n"}],"owner":{"account_id":17658296,"reputation":11,"user_id":12817326,"display_name":"Mart&#237;n Fernandez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72482634,"answer_count":1,"score":1,"last_activity_date":1654206035,"creation_date":1652882926,"question_id":72290735,"body_markdown":"I am working on Java Play Framework template 2.8.13 with sbt 1.6.2 and Scala 2.13.8 and I come from an upgrade play from 2.1.5 to the mentioned. The problem is when I try to connect to SQL Server (SQL Server Management Studio v18.4 with server version 14.0.1000.169)\r\n\r\n**My application.conf:**\r\n``` \r\nplay.db {\r\n\r\n  config = &quot;db&quot;\r\n  default = &quot;default&quot;\r\n  \r\n  prototype {\r\n    # Sets a fixed JDBC connection pool size of 50\r\n    hikaricp.minimumIdle = 5\r\n    hikaricp.maximumPoolSize = 5\r\n  }\r\n}\r\n\r\n\r\ndb {\r\n\tdefault.hikaricp.connectionTestQuery=&quot;SELECT 1&quot; \r\n\tdefault.driver=net.sourceforge.jtds.jdbc.Driver\r\n\tdefault.url=&quot;jdbc:jtds:sqlserver://127.0.0.1:1433/dbName&quot; \r\n\tdefault.username=&quot;sa&quot;\r\n\tdefault.password=&quot;test12&quot;\r\n\tdefault.databasePlatformName=&quot;sqlserver17&quot;\r\n\tdefault.logstatements=true\r\n}\r\n\r\nebean.default = [&quot;models.*&quot;]\r\n```\r\n\r\n```\r\n\r\n``` \r\n**My plugin.sbt**\r\n``` \r\naddSbtPlugin(&quot;com.typesafe.play&quot; % &quot;sbt-plugin&quot; % &quot;2.8.15&quot;)\r\naddSbtPlugin(&quot;org.foundweekends.giter8&quot; % &quot;sbt-giter8-scaffold&quot; % &quot;0.13.1&quot;)\r\naddSbtPlugin(&quot;com.typesafe.sbteclipse&quot; % &quot;sbteclipse-plugin&quot; % &quot;5.2.4&quot;)\r\naddSbtPlugin(&quot;com.typesafe.play&quot; %% &quot;sbt-play-ebean&quot; % &quot;6.2.0-RC4&quot;)\r\n``` \r\n**My build.sbt**\r\n```\r\nname := &quot;&quot;&quot;PRECIEMSA&quot;&quot;&quot;\r\norganization := &quot;com.ciemsa&quot;\r\n\r\nversion := &quot;1.0-SNAPSHOT&quot;\r\n\r\nlazy val root = (project in file(&quot;.&quot;)).enablePlugins(PlayJava, PlayEbean)\r\n\r\nscalaVersion := &quot;2.13.8&quot;\r\n\r\nlibraryDependencies +=  guice\r\nlibraryDependencies +=  ehcache\r\nlibraryDependencies +=  javaJdbc\r\nlibraryDependencies +=  jdbc\r\n\r\n\r\nlibraryDependencies +=\t&quot;com.google.inject&quot; % &quot;guice&quot; % &quot;5.1.0&quot;\r\nlibraryDependencies += &quot;com.typesafe.play&quot; %% &quot;play-ebean&quot; % &quot;6.2.0-RC4&quot;\r\nlibraryDependencies +=  &quot;net.sourceforge.jtds&quot; % &quot;jtds&quot; % &quot;1.3.1&quot;\r\n\r\n```\r\n\r\n**My Global.java**\r\n``` \r\n@Singleton\r\npublic class Global{\r\n\r\n    @Inject\r\n    public Global(Database pDb) {\r\n        this.db = pDb;\r\n    }\r\n\r\n}\r\n``` \r\n\r\nI already tried\r\n\r\n\r\n- Verify the connection to SQL &gt; OK\r\n- new driver like:\r\n\r\n```\r\ndb.default.driver=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\ndb.default.url=&quot;jdbc:sqlserver://localhost\\\\MSSQLSERVER:1433;databaseName=dbName&quot;\r\ndb.default.username=sa\r\ndb.default.password=&quot;test12&quot; \r\ndb.default.logSql=true\r\ndb.default.hikaricp.connectionTestQuery=&quot;SELECT 1&quot;\r\n```\r\n\r\nand variants.  This last is running on one older version of project with play 2.1.5\r\n\r\nNo idea how can connect now. \r\n\r\n\r\nSo, maybe someone have an example application.conf for SQL Server?\r\n\r\n\r\n**Stack trace error.**\r\n``` \r\n\r\n2022-05-23 13:55:52 [1;31mERROR[0;39m [36mp.api.http.DefaultHttpErrorHandler[0;39m [35m[0;39m \r\n\r\n! @7nm0g1542 - Internal server error, for (GET) [/] -&gt;\r\n \r\nplay.api.UnexpectedException: Unexpected exception[CreationException: Unable to create injector, see the following errors:\r\n\r\n1) Error injecting constructor, javax.persistence.PersistenceException: java.lang.IllegalArgumentException: For SqlServer please explicitly choose either sqlserver16 or sqlserver17 as the platform via DatabaseConfig.setDatabasePlatformName. Refer to issue #1340 for more details\r\n  at play.db.ebean.EbeanDynamicEvolutions.&lt;init&gt;(EbeanDynamicEvolutions.java:36)\r\n  at play.db.ebean.EbeanDynamicEvolutions.class(EbeanDynamicEvolutions.java:33)\r\n  while locating play.db.ebean.EbeanDynamicEvolutions\r\n  at play.db.ebean.EbeanModule.bindings(EbeanModule.java:21):\r\nBinding(class play.api.db.evolutions.DynamicEvolutions to ConstructionTarget(class play.db.ebean.EbeanDynamicEvolutions) eagerly) (via modules: com.google.inject.util.Modules$OverrideModule -&gt; play.api.inject.guice.GuiceableModuleConversions$$anon$4)\r\n  while locating play.api.db.evolutions.DynamicEvolutions\r\nCaused by: javax.persistence.PersistenceException: java.lang.IllegalArgumentException: For SqlServer please explicitly choose either sqlserver16 or sqlserver17 as the platform via DatabaseConfig.setDatabasePlatformName. Refer to issue #1340 for more details\r\n\tat io.ebeaninternal.server.core.DatabasePlatformFactory.create(DatabasePlatformFactory.java:70)\r\n\tat io.ebeaninternal.server.core.DefaultContainer.setDatabasePlatform(DefaultContainer.java:215)\r\n\tat io.ebeaninternal.server.core.DefaultContainer.createServer(DefaultContainer.java:99)\r\n\tat io.ebeaninternal.server.core.DefaultContainer.createServer(DefaultContainer.java:35)\r\n\tat io.ebean.DatabaseFactory.createInternal(DatabaseFactory.java:130)\r\n\tat io.ebean.DatabaseFactory.create(DatabaseFactory.java:78)\r\n\tat io.ebean.EbeanServerFactory.create(EbeanServerFactory.java:50)\r\n\tat play.db.ebean.EbeanDynamicEvolutions.lambda$start$2(EbeanDynamicEvolutions.java:50)\r\n\tat java.util.HashMap.forEach(HashMap.java:1289)\r\n\tat play.db.ebean.EbeanDynamicEvolutions.start(EbeanDynamicEvolutions.java:50)\r\n\tat play.db.ebean.EbeanDynamicEvolutions.&lt;init&gt;(EbeanDynamicEvolutions.java:39)\r\n\tat play.db.ebean.EbeanDynamicEvolutions$$FastClassByGuice$$52c94231.newInstance(&lt;generated&gt;)\r\n\tat com.google.inject.internal.DefaultConstructionProxyFactory$FastClassProxy.newInstance(DefaultConstructionProxyFactory.java:89)\r\n\tat com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)\r\n\tat com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\r\n\tat com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)\r\n\tat com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\r\n\tat com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:168)\r\n\tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:39)\r\n\tat com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)\r\n\tat com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\r\n\tat com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:168)\r\n\tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:39)\r\n\tat com.google.inject.internal.InternalInjectorCreator.loadEagerSingletons(InternalInjectorCreator.java:213)\r\n\tat com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:184)\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:111)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:87)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:78)\r\n\tat play.api.inject.guice.GuiceBuilder.injector(GuiceInjectorBuilder.scala:200)\r\n\tat play.api.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.scala:155)\r\n\tat play.api.inject.guice.GuiceApplicationLoader.load(GuiceApplicationLoader.scala:21)\r\n\tat play.core.server.DevServerStart$$anon$1.$anonfun$reload$2(DevServerStart.scala:193)\r\n\tat play.utils.Threads$.withContextClassLoader(Threads.scala:22)\r\n\tat play.core.server.DevServerStart$$anon$1.reload(DevServerStart.scala:185)\r\n\tat play.core.server.DevServerStart$$anon$1.get(DevServerStart.scala:148)\r\n\tat play.core.server.AkkaHttpServer.handleRequest(AkkaHttpServer.scala:302)\r\n\tat play.core.server.AkkaHttpServer.$anonfun$createServerBinding$1(AkkaHttpServer.scala:224)\r\n\tat akka.stream.impl.fusing.MapAsync$$anon$30.onPush(Ops.scala:1307)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.processPush(GraphInterpreter.scala:542)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.processEvent(GraphInterpreter.scala:496)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.execute(GraphInterpreter.scala:390)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.runBatch(ActorGraphInterpreter.scala:650)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell$AsyncInput.execute(ActorGraphInterpreter.scala:521)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.processEvent(ActorGraphInterpreter.scala:625)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.akka$stream$impl$fusing$ActorGraphInterpreter$$processEvent(ActorGraphInterpreter.scala:800)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter$$anonfun$receive$1.applyOrElse(ActorGraphInterpreter.scala:818)\r\n\tat akka.actor.Actor.aroundReceive(Actor.scala:537)\r\n\tat akka.actor.Actor.aroundReceive$(Actor.scala:535)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.aroundReceive(ActorGraphInterpreter.scala:716)\r\n\tat akka.actor.ActorCell.receiveMessage(ActorCell.scala:580)\r\n\tat akka.actor.ActorCell.invoke(ActorCell.scala:548)\r\n\tat akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270)\r\n\tat akka.dispatch.Mailbox.run(Mailbox.scala:231)\r\n\tat akka.dispatch.Mailbox.exec(Mailbox.scala:243)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:172)\r\nCaused by: java.lang.IllegalArgumentException: For SqlServer please explicitly choose either sqlserver16 or sqlserver17 as the platform via DatabaseConfig.setDatabasePlatformName. Refer to issue #1340 for more details\r\n\tat io.ebeaninternal.server.core.DatabasePlatformFactory.byDatabaseMeta(DatabasePlatformFactory.java:153)\r\n\tat io.ebeaninternal.server.core.DatabasePlatformFactory.byDataSource(DatabasePlatformFactory.java:135)\r\n\tat io.ebeaninternal.server.core.DatabasePlatformFactory.create(DatabasePlatformFactory.java:67)\r\n``` \r\n","title":"For SqlServer please explicitly choose either sqlserver16 or sqlserver17 as the platform via DatabaseConfig.setDatabasePlatformName","body":"<p>I am working on Java Play Framework template 2.8.13 with sbt 1.6.2 and Scala 2.13.8 and I come from an upgrade play from 2.1.5 to the mentioned. The problem is when I try to connect to SQL Server (SQL Server Management Studio v18.4 with server version 14.0.1000.169)</p>\n<p><strong>My application.conf:</strong></p>\n<pre><code>play.db {\n\n  config = &quot;db&quot;\n  default = &quot;default&quot;\n  \n  prototype {\n    # Sets a fixed JDBC connection pool size of 50\n    hikaricp.minimumIdle = 5\n    hikaricp.maximumPoolSize = 5\n  }\n}\n\n\ndb {\n    default.hikaricp.connectionTestQuery=&quot;SELECT 1&quot; \n    default.driver=net.sourceforge.jtds.jdbc.Driver\n    default.url=&quot;jdbc:jtds:sqlserver://127.0.0.1:1433/dbName&quot; \n    default.username=&quot;sa&quot;\n    default.password=&quot;test12&quot;\n    default.databasePlatformName=&quot;sqlserver17&quot;\n    default.logstatements=true\n}\n\nebean.default = [&quot;models.*&quot;]\n</code></pre>\n<pre><code>\n</code></pre>\n<p><strong>My plugin.sbt</strong></p>\n<pre><code>addSbtPlugin(&quot;com.typesafe.play&quot; % &quot;sbt-plugin&quot; % &quot;2.8.15&quot;)\naddSbtPlugin(&quot;org.foundweekends.giter8&quot; % &quot;sbt-giter8-scaffold&quot; % &quot;0.13.1&quot;)\naddSbtPlugin(&quot;com.typesafe.sbteclipse&quot; % &quot;sbteclipse-plugin&quot; % &quot;5.2.4&quot;)\naddSbtPlugin(&quot;com.typesafe.play&quot; %% &quot;sbt-play-ebean&quot; % &quot;6.2.0-RC4&quot;)\n</code></pre>\n<p><strong>My build.sbt</strong></p>\n<pre><code>name := &quot;&quot;&quot;PRECIEMSA&quot;&quot;&quot;\norganization := &quot;com.ciemsa&quot;\n\nversion := &quot;1.0-SNAPSHOT&quot;\n\nlazy val root = (project in file(&quot;.&quot;)).enablePlugins(PlayJava, PlayEbean)\n\nscalaVersion := &quot;2.13.8&quot;\n\nlibraryDependencies +=  guice\nlibraryDependencies +=  ehcache\nlibraryDependencies +=  javaJdbc\nlibraryDependencies +=  jdbc\n\n\nlibraryDependencies +=  &quot;com.google.inject&quot; % &quot;guice&quot; % &quot;5.1.0&quot;\nlibraryDependencies += &quot;com.typesafe.play&quot; %% &quot;play-ebean&quot; % &quot;6.2.0-RC4&quot;\nlibraryDependencies +=  &quot;net.sourceforge.jtds&quot; % &quot;jtds&quot; % &quot;1.3.1&quot;\n\n</code></pre>\n<p><strong>My Global.java</strong></p>\n<pre><code>@Singleton\npublic class Global{\n\n    @Inject\n    public Global(Database pDb) {\n        this.db = pDb;\n    }\n\n}\n</code></pre>\n<p>I already tried</p>\n<ul>\n<li>Verify the connection to SQL &gt; OK</li>\n<li>new driver like:</li>\n</ul>\n<pre><code>db.default.driver=com.microsoft.sqlserver.jdbc.SQLServerDriver\ndb.default.url=&quot;jdbc:sqlserver://localhost\\\\MSSQLSERVER:1433;databaseName=dbName&quot;\ndb.default.username=sa\ndb.default.password=&quot;test12&quot; \ndb.default.logSql=true\ndb.default.hikaricp.connectionTestQuery=&quot;SELECT 1&quot;\n</code></pre>\n<p>and variants.  This last is running on one older version of project with play 2.1.5</p>\n<p>No idea how can connect now.</p>\n<p>So, maybe someone have an example application.conf for SQL Server?</p>\n<p><strong>Stack trace error.</strong></p>\n<pre><code>\n2022-05-23 13:55:52 [1;31mERROR[0;39m [36mp.api.http.DefaultHttpErrorHandler[0;39m [35m[0;39m \n\n! @7nm0g1542 - Internal server error, for (GET) [/] -&gt;\n \nplay.api.UnexpectedException: Unexpected exception[CreationException: Unable to create injector, see the following errors:\n\n1) Error injecting constructor, javax.persistence.PersistenceException: java.lang.IllegalArgumentException: For SqlServer please explicitly choose either sqlserver16 or sqlserver17 as the platform via DatabaseConfig.setDatabasePlatformName. Refer to issue #1340 for more details\n  at play.db.ebean.EbeanDynamicEvolutions.&lt;init&gt;(EbeanDynamicEvolutions.java:36)\n  at play.db.ebean.EbeanDynamicEvolutions.class(EbeanDynamicEvolutions.java:33)\n  while locating play.db.ebean.EbeanDynamicEvolutions\n  at play.db.ebean.EbeanModule.bindings(EbeanModule.java:21):\nBinding(class play.api.db.evolutions.DynamicEvolutions to ConstructionTarget(class play.db.ebean.EbeanDynamicEvolutions) eagerly) (via modules: com.google.inject.util.Modules$OverrideModule -&gt; play.api.inject.guice.GuiceableModuleConversions$$anon$4)\n  while locating play.api.db.evolutions.DynamicEvolutions\nCaused by: javax.persistence.PersistenceException: java.lang.IllegalArgumentException: For SqlServer please explicitly choose either sqlserver16 or sqlserver17 as the platform via DatabaseConfig.setDatabasePlatformName. Refer to issue #1340 for more details\n    at io.ebeaninternal.server.core.DatabasePlatformFactory.create(DatabasePlatformFactory.java:70)\n    at io.ebeaninternal.server.core.DefaultContainer.setDatabasePlatform(DefaultContainer.java:215)\n    at io.ebeaninternal.server.core.DefaultContainer.createServer(DefaultContainer.java:99)\n    at io.ebeaninternal.server.core.DefaultContainer.createServer(DefaultContainer.java:35)\n    at io.ebean.DatabaseFactory.createInternal(DatabaseFactory.java:130)\n    at io.ebean.DatabaseFactory.create(DatabaseFactory.java:78)\n    at io.ebean.EbeanServerFactory.create(EbeanServerFactory.java:50)\n    at play.db.ebean.EbeanDynamicEvolutions.lambda$start$2(EbeanDynamicEvolutions.java:50)\n    at java.util.HashMap.forEach(HashMap.java:1289)\n    at play.db.ebean.EbeanDynamicEvolutions.start(EbeanDynamicEvolutions.java:50)\n    at play.db.ebean.EbeanDynamicEvolutions.&lt;init&gt;(EbeanDynamicEvolutions.java:39)\n    at play.db.ebean.EbeanDynamicEvolutions$$FastClassByGuice$$52c94231.newInstance(&lt;generated&gt;)\n    at com.google.inject.internal.DefaultConstructionProxyFactory$FastClassProxy.newInstance(DefaultConstructionProxyFactory.java:89)\n    at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)\n    at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\n    at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:168)\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:39)\n    at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:62)\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\n    at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:168)\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:39)\n    at com.google.inject.internal.InternalInjectorCreator.loadEagerSingletons(InternalInjectorCreator.java:213)\n    at com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:184)\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:111)\n    at com.google.inject.Guice.createInjector(Guice.java:87)\n    at com.google.inject.Guice.createInjector(Guice.java:78)\n    at play.api.inject.guice.GuiceBuilder.injector(GuiceInjectorBuilder.scala:200)\n    at play.api.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.scala:155)\n    at play.api.inject.guice.GuiceApplicationLoader.load(GuiceApplicationLoader.scala:21)\n    at play.core.server.DevServerStart$$anon$1.$anonfun$reload$2(DevServerStart.scala:193)\n    at play.utils.Threads$.withContextClassLoader(Threads.scala:22)\n    at play.core.server.DevServerStart$$anon$1.reload(DevServerStart.scala:185)\n    at play.core.server.DevServerStart$$anon$1.get(DevServerStart.scala:148)\n    at play.core.server.AkkaHttpServer.handleRequest(AkkaHttpServer.scala:302)\n    at play.core.server.AkkaHttpServer.$anonfun$createServerBinding$1(AkkaHttpServer.scala:224)\n    at akka.stream.impl.fusing.MapAsync$$anon$30.onPush(Ops.scala:1307)\n    at akka.stream.impl.fusing.GraphInterpreter.processPush(GraphInterpreter.scala:542)\n    at akka.stream.impl.fusing.GraphInterpreter.processEvent(GraphInterpreter.scala:496)\n    at akka.stream.impl.fusing.GraphInterpreter.execute(GraphInterpreter.scala:390)\n    at akka.stream.impl.fusing.GraphInterpreterShell.runBatch(ActorGraphInterpreter.scala:650)\n    at akka.stream.impl.fusing.GraphInterpreterShell$AsyncInput.execute(ActorGraphInterpreter.scala:521)\n    at akka.stream.impl.fusing.GraphInterpreterShell.processEvent(ActorGraphInterpreter.scala:625)\n    at akka.stream.impl.fusing.ActorGraphInterpreter.akka$stream$impl$fusing$ActorGraphInterpreter$$processEvent(ActorGraphInterpreter.scala:800)\n    at akka.stream.impl.fusing.ActorGraphInterpreter$$anonfun$receive$1.applyOrElse(ActorGraphInterpreter.scala:818)\n    at akka.actor.Actor.aroundReceive(Actor.scala:537)\n    at akka.actor.Actor.aroundReceive$(Actor.scala:535)\n    at akka.stream.impl.fusing.ActorGraphInterpreter.aroundReceive(ActorGraphInterpreter.scala:716)\n    at akka.actor.ActorCell.receiveMessage(ActorCell.scala:580)\n    at akka.actor.ActorCell.invoke(ActorCell.scala:548)\n    at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270)\n    at akka.dispatch.Mailbox.run(Mailbox.scala:231)\n    at akka.dispatch.Mailbox.exec(Mailbox.scala:243)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:172)\nCaused by: java.lang.IllegalArgumentException: For SqlServer please explicitly choose either sqlserver16 or sqlserver17 as the platform via DatabaseConfig.setDatabasePlatformName. Refer to issue #1340 for more details\n    at io.ebeaninternal.server.core.DatabasePlatformFactory.byDatabaseMeta(DatabasePlatformFactory.java:153)\n    at io.ebeaninternal.server.core.DatabasePlatformFactory.byDataSource(DatabasePlatformFactory.java:135)\n    at io.ebeaninternal.server.core.DatabasePlatformFactory.create(DatabasePlatformFactory.java:67)\n</code></pre>\n"},{"tags":["java","gif","paint","repaint"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654203454,"post_id":72482215,"comment_id":128042017,"body_markdown":"Simply use a Swing Timer. Set cointossed to true, start to the Timer with a 2 second delay, when triggered, reset cointossed (and don’t forget to call repaint)","body":"Simply use a Swing Timer. Set cointossed to true, start to the Timer with a 2 second delay, when triggered, reset cointossed (and don’t forget to call repaint)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654203567,"post_id":72482215,"comment_id":128042045,"body_markdown":"When calling drawImage, especially for animated gifs, pass an instance of ImageObserver, most Swing components implement ImageObserver, so you’d just need to pass the component through which you’re painting","body":"When calling drawImage, especially for animated gifs, pass an instance of ImageObserver, most Swing components implement ImageObserver, so you’d just need to pass the component through which you’re painting"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654203632,"post_id":72482215,"comment_id":128042065,"body_markdown":"The other choice is to use your “main loop”, which could check the amount of time tree cointoss has been running","body":"The other choice is to use your “main loop”, which could check the amount of time tree cointoss has been running"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654248179,"post_id":72482215,"comment_id":128050706,"body_markdown":"Side note: why are you resorting to `(new Date()).getTime()` when you have demonstrated knowledge about `System.currentTimeMillis()` at the beginning of the method?","body":"Side note: why are you resorting to <code>(new Date()).getTime()</code> when you have demonstrated knowledge about <code>System.currentTimeMillis()</code> at the beginning of the method?"}],"answers":[{"tags":[],"owner":{"account_id":25369412,"reputation":1,"user_id":19183495,"display_name":"Earny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654205999,"creation_date":1654205999,"answer_id":72482625,"question_id":72482215,"body_markdown":"Thx to MadProgrammer for helping me out with this.\r\nI dont know if you mean it like that, but this worked for me:\r\n\r\n```\r\nActionListener taskPerformer = new ActionListener() {\r\n\t\tpublic void actionPerformed(ActionEvent evt) {\r\n            System.out.println(&quot;Timer abgeschlossen&quot;);\r\n\t\t\tcointossed = false;\r\n           repainter.setRepeats(false);\r\n        }\r\n\t};\r\n\tActionListener rep = new ActionListener() {\r\n\t\tpublic void actionPerformed(ActionEvent evt) {\r\n            repaint();\r\n           \r\n        }\r\n\t};\r\n\tTimer timer = new Timer(2000 ,taskPerformer);\r\n\tTimer repainter = new Timer(20 ,rep);\r\n```\r\nWith this I created my own while loop where I can call repaint();\r\nJust started both timers and my gif plays :D","title":"Repainting in while loop","body":"<p>Thx to MadProgrammer for helping me out with this.\nI dont know if you mean it like that, but this worked for me:</p>\n<pre><code>ActionListener taskPerformer = new ActionListener() {\n        public void actionPerformed(ActionEvent evt) {\n            System.out.println(&quot;Timer abgeschlossen&quot;);\n            cointossed = false;\n           repainter.setRepeats(false);\n        }\n    };\n    ActionListener rep = new ActionListener() {\n        public void actionPerformed(ActionEvent evt) {\n            repaint();\n           \n        }\n    };\n    Timer timer = new Timer(2000 ,taskPerformer);\n    Timer repainter = new Timer(20 ,rep);\n</code></pre>\n<p>With this I created my own while loop where I can call repaint();\nJust started both timers and my gif plays :D</p>\n"}],"owner":{"account_id":25369412,"reputation":1,"user_id":19183495,"display_name":"Earny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654205999,"creation_date":1654203087,"question_id":72482215,"body_markdown":"I know that this question has been asked many times in a similar way on this platform. I&#39;ve already spent a few hours trying the answers on my code (Threats and much more), but nothing has worked for me so far. So I&#39;ll ask the question here again specifically for my situation. I am currently programming a card game and would like to flip a coin before a card is played. I have already animated this as a gif and the coin toss logic works too. Now I want to get the animation into my program. For this I wrote a while loop which runs for 2 seconds. In this I would like to repaint, but the paint method (like many others had the problem before) is not called. This is my code in my public boolean cointoss() method for it:\r\n```\r\ncointossed = true;\r\nlong startTime = System.currentTimeMillis();\r\nlong elapsedTime = 0L;\r\n\r\nwhile (elapsedTime &lt; 2*1000) {\r\n\t//Used this beacuse I thought my PC isnt fast enough\r\n\ttry {\r\n\t\tThread.sleep(100);\r\n\t} catch (InterruptedException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\t\t\t\r\n\tpaintImmediately();\r\n\telapsedTime = (new Date()).getTime() - startTime;\r\n\t}\r\ncointossed = false;\r\n```\r\nIn my paint() method there is the following Code, to draw the gif:\r\n```\r\nif(cointossed) {\r\n\tg.drawImage(gif, 20, 20,100 , 100, null);\r\n}\r\n```\r\nSomebody has an idea for my specific case?","title":"Repainting in while loop","body":"<p>I know that this question has been asked many times in a similar way on this platform. I've already spent a few hours trying the answers on my code (Threats and much more), but nothing has worked for me so far. So I'll ask the question here again specifically for my situation. I am currently programming a card game and would like to flip a coin before a card is played. I have already animated this as a gif and the coin toss logic works too. Now I want to get the animation into my program. For this I wrote a while loop which runs for 2 seconds. In this I would like to repaint, but the paint method (like many others had the problem before) is not called. This is my code in my public boolean cointoss() method for it:</p>\n<pre><code>cointossed = true;\nlong startTime = System.currentTimeMillis();\nlong elapsedTime = 0L;\n\nwhile (elapsedTime &lt; 2*1000) {\n    //Used this beacuse I thought my PC isnt fast enough\n    try {\n        Thread.sleep(100);\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n            \n    paintImmediately();\n    elapsedTime = (new Date()).getTime() - startTime;\n    }\ncointossed = false;\n</code></pre>\n<p>In my paint() method there is the following Code, to draw the gif:</p>\n<pre><code>if(cointossed) {\n    g.drawImage(gif, 20, 20,100 , 100, null);\n}\n</code></pre>\n<p>Somebody has an idea for my specific case?</p>\n"},{"tags":["java","spring-boot","jpa","generics","casting"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1654206347,"post_id":72482617,"comment_id":128042699,"body_markdown":"`customService` can only extend `abstractService&lt;classThatExtendSomeEntity, Integer&gt;`, it looks like.","body":"<code>customService</code> can only extend <code>abstractService&lt;classThatExtendSomeEntity, Integer&gt;</code>, it looks like."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1654206866,"post_id":72482617,"comment_id":128042802,"body_markdown":"`CustomRepository` uses `Integer` as the id class, but the `genericRepository` field uses `Long`.  These should be the same.","body":"<code>CustomRepository</code> uses <code>Integer</code> as the id class, but the <code>genericRepository</code> field uses <code>Long</code>.  These should be the same."},{"owner":{"account_id":25366531,"reputation":43,"user_id":19181036,"display_name":"roberto fernandez"},"score":0,"creation_date":1654242360,"post_id":72482617,"comment_id":128048922,"body_markdown":"I feel me very stupid, i have spent 2 hour without seen the error, you are right @DawoodibnKareem, that was the error","body":"I feel me very stupid, i have spent 2 hour without seen the error, you are right @DawoodibnKareem, that was the error"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654248022,"post_id":72482617,"comment_id":128050641,"body_markdown":"Generally, Java is case sensitive. You have to be consistent in your use of upper case and lower case letters.","body":"Generally, Java is case sensitive. You have to be consistent in your use of upper case and lower case letters."},{"owner":{"account_id":25366531,"reputation":43,"user_id":19181036,"display_name":"roberto fernandez"},"score":0,"creation_date":1654249747,"post_id":72482617,"comment_id":128051224,"body_markdown":"the Problem was not by case sensitive reason, the problem was that in one case we used Integer and in other Long.","body":"the Problem was not by case sensitive reason, the problem was that in one case we used Integer and in other Long."}],"owner":{"account_id":25366531,"reputation":43,"user_id":19181036,"display_name":"roberto fernandez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654205951,"creation_date":1654205951,"question_id":72482617,"body_markdown":"I have an strange error, I have this classes: \r\n\r\n**AbstractRepository**\r\n```\r\n@NoRepositoryBean\r\npublic interface abstractRepository&lt;T extends someEntity,ID&gt;  extends JpaRepository&lt;T, ID&gt;{\r\n```\r\n\r\n**CustomRepository**\r\n```\r\n@Repository\r\npublic interface customRepository extends abstractRepository&lt;classThatExtendSomeEntity, Integer&gt; {\r\n```\r\n\r\n**AbstractService**\r\n```\r\n@Service\r\n@Transactional\r\npublic abstract class AbstractService&lt;Entity extends someEntity, DTO extends someDTO&gt;  \r\nimplements ComboWithSubproductsService&lt;DTO&gt;{\r\n\t\r\n\tprotected AbstractRepository&lt;Entity,Long&gt; genericRepository;\r\n\r\n\t@Autowired\r\n\tpublic AbstractService(AbstractRepository&lt;Entity, Long&gt; repository) {\r\n\t\tsuper();\r\n\t\tthis.genericRepository = repository;\r\n\t}\r\n}\r\n```\r\n\r\n**CustomService**\r\n```\r\n@Service\r\n@Transactional\r\npublic class customServiceImpl extends abstractService&lt;classThatExtendSomeClass, classThatExtendsSomeDTO&gt; implements customService{\r\n  \r\n    private CustomRepository repository;\r\n\r\n\tpublic customServiceImpl (customRepository repository) {\r\n\t\tsuper(repository); //ERROR: the constructor AbstractRepository(customRepository) is undefined\r\n\t}\r\n}\r\n```\r\n\r\nThis are my main class, my error is in customService class because I don&#39;t know why I can&#39;t do a upcast customRepository to AbstractRepository when customRepository extends abstractRepository. \r\nI am absolutly blocked whit this error, unti I know, it is always possible cast subclass to superclass. I don&#39;t know how solve this error.\r\n\r\nThanks for your time and sorry for my english, it is not my native languaje.\r\n\r\n","title":"impossible Cast between interfaces","body":"<p>I have an strange error, I have this classes:</p>\n<p><strong>AbstractRepository</strong></p>\n<pre><code>@NoRepositoryBean\npublic interface abstractRepository&lt;T extends someEntity,ID&gt;  extends JpaRepository&lt;T, ID&gt;{\n</code></pre>\n<p><strong>CustomRepository</strong></p>\n<pre><code>@Repository\npublic interface customRepository extends abstractRepository&lt;classThatExtendSomeEntity, Integer&gt; {\n</code></pre>\n<p><strong>AbstractService</strong></p>\n<pre><code>@Service\n@Transactional\npublic abstract class AbstractService&lt;Entity extends someEntity, DTO extends someDTO&gt;  \nimplements ComboWithSubproductsService&lt;DTO&gt;{\n    \n    protected AbstractRepository&lt;Entity,Long&gt; genericRepository;\n\n    @Autowired\n    public AbstractService(AbstractRepository&lt;Entity, Long&gt; repository) {\n        super();\n        this.genericRepository = repository;\n    }\n}\n</code></pre>\n<p><strong>CustomService</strong></p>\n<pre><code>@Service\n@Transactional\npublic class customServiceImpl extends abstractService&lt;classThatExtendSomeClass, classThatExtendsSomeDTO&gt; implements customService{\n  \n    private CustomRepository repository;\n\n    public customServiceImpl (customRepository repository) {\n        super(repository); //ERROR: the constructor AbstractRepository(customRepository) is undefined\n    }\n}\n</code></pre>\n<p>This are my main class, my error is in customService class because I don't know why I can't do a upcast customRepository to AbstractRepository when customRepository extends abstractRepository.\nI am absolutly blocked whit this error, unti I know, it is always possible cast subclass to superclass. I don't know how solve this error.</p>\n<p>Thanks for your time and sorry for my english, it is not my native languaje.</p>\n"},{"tags":["java","user-interface","swing","matisse"],"comments":[{"owner":{"account_id":19576,"reputation":3396,"user_id":45959,"accept_rate":100,"display_name":"sebastiangeiger"},"score":1,"creation_date":1252018491,"post_id":1356311,"comment_id":1215317,"body_markdown":"Does not really answer your question: Did you consider coding your GUI by hand? I used Matisse a lot and I got the impression that if you have to maintain GUIs its easier not to do it with a visual editor, because it&#39;s more likely that it&#39;s going to screw things up.","body":"Does not really answer your question: Did you consider coding your GUI by hand? I used Matisse a lot and I got the impression that if you have to maintain GUIs its easier not to do it with a visual editor, because it&#39;s more likely that it&#39;s going to screw things up."},{"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"score":0,"creation_date":1252044120,"post_id":1356311,"comment_id":1216550,"body_markdown":"@sebastian: that is the main argument we should give up on matisse. Coding GUI by hand takes time, not productive. In Myecplise 7.5 I have no more crashes, and if there is problem, now I can see some stack trace..","body":"@sebastian: that is the main argument we should give up on matisse. Coding GUI by hand takes time, not productive. In Myecplise 7.5 I have no more crashes, and if there is problem, now I can see some stack trace.."},{"owner":{"account_id":40747,"reputation":16788,"user_id":118133,"accept_rate":86,"display_name":"Nate"},"score":0,"creation_date":1267675283,"post_id":1356311,"comment_id":2353235,"body_markdown":"@as - &quot;Coding GUI by hand takes time, not productive.&quot; It&#39;s a question of long-term vs. short term cost.  Coding a GUI by hand - takes longer initially (and you actually have to learn Swing...), but (if done right) is easier to update with changes later, less code to maintain, less chance of something just breaking or having trouble with integrating with other projects (MigLayout? GlazedLists? SwingLabs?).","body":"@as - &quot;Coding GUI by hand takes time, not productive.&quot; It&#39;s a question of long-term vs. short term cost.  Coding a GUI by hand - takes longer initially (and you actually have to learn Swing...), but (if done right) is easier to update with changes later, less code to maintain, less chance of something just breaking or having trouble with integrating with other projects (MigLayout? GlazedLists? SwingLabs?)."},{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":0,"creation_date":1651843317,"post_id":1356311,"comment_id":127466826,"body_markdown":"Use WindowBuilder and be happy.\nhttps://projects.eclipse.org/projects/tools.windowbuilder","body":"Use WindowBuilder and be happy. <a href=\"https://projects.eclipse.org/projects/tools.windowbuilder\" rel=\"nofollow noreferrer\">projects.eclipse.org/projects/tools.windowbuilder</a>"}],"answers":[{"tags":[],"owner":{"account_id":33298,"reputation":9860,"user_id":93156,"display_name":"jusio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251910299,"creation_date":1251910299,"answer_id":1368899,"question_id":1356311,"body_markdown":"I prefer Netbeans Matise. Even if it is impossible to edit generated code, it&#39;s much more easier to design complex screens with Mattise(because of FreeForm layout). \r\n\r\n","title":"Matisse or Jigloo?","body":"<p>I prefer Netbeans Matise. Even if it is impossible to edit generated code, it's much more easier to design complex screens with Mattise(because of FreeForm layout). </p>\n"},{"tags":[],"owner":{"account_id":39177,"reputation":17181,"user_id":112877,"display_name":"Eugene Ryzhikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251917538,"creation_date":1251917538,"answer_id":1369498,"question_id":1356311,"body_markdown":"I wouldn&#39;t go with either. The best thing I&#39;ve found so far is Instantiations Swing Designer. It is not free, but not expensive either. It supports all major Swing layouts and DOES NOT create any additional artifacts except pure Java code. \r\n\r\nHere is the [link][1], if your are interested.\r\n\r\n\r\n  [1]: http://www.instantiations.com/windowbuilder/swingdesigner/index.html","title":"Matisse or Jigloo?","body":"<p>I wouldn't go with either. The best thing I've found so far is Instantiations Swing Designer. It is not free, but not expensive either. It supports all major Swing layouts and DOES NOT create any additional artifacts except pure Java code. </p>\n\n<p>Here is the <a href=\"http://www.instantiations.com/windowbuilder/swingdesigner/index.html\" rel=\"nofollow noreferrer\">link</a>, if your are interested.</p>\n"},{"tags":[],"owner":{"account_id":32724,"reputation":1009,"user_id":91017,"display_name":"Koen Weyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251991674,"creation_date":1251991674,"answer_id":1374130,"question_id":1356311,"body_markdown":"I haven&#39;t tried Jigloo, but I would throw a fourth one in the mix.\r\n\r\nJFormDesigner is the best Swing UI designer that I have ever used.\r\nLike Matisse, it does create XML form files, but that is the only negative about this tool.\r\n\r\nIt supports all standard layout managers, plus some popular ones (such as JGoodies FormLayout). It has plugins for IntelliJ and eclipse and can also run as a standalone tool.\r\n\r\nHere is the [link][1]\r\n\r\nhth\r\n\r\nKoen\r\n\r\n\r\n  [1]: http://www.jformdesigner.com/","title":"Matisse or Jigloo?","body":"<p>I haven't tried Jigloo, but I would throw a fourth one in the mix.</p>\n\n<p>JFormDesigner is the best Swing UI designer that I have ever used.\nLike Matisse, it does create XML form files, but that is the only negative about this tool.</p>\n\n<p>It supports all standard layout managers, plus some popular ones (such as JGoodies FormLayout). It has plugins for IntelliJ and eclipse and can also run as a standalone tool.</p>\n\n<p>Here is the <a href=\"http://www.jformdesigner.com/\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>hth</p>\n\n<p>Koen</p>\n"},{"tags":[],"owner":{"account_id":54120,"reputation":471,"user_id":161896,"display_name":"Chintan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1252012359,"creation_date":1252012359,"answer_id":1375994,"question_id":1356311,"body_markdown":"I would prefer Matisse since Netbeans is backed by Sun Microsystems and the possibility of the project being scrapped in the near futures seems blissfully low.\r\n\r\nAlso, I do not know the size of your project but I have developed some small ones and I personally use matisse to see how the layout would look and then go ahead and code everything using the [Miglayout][1] library. It increases the amount of coding a lot but gives good control and flexibility. And there is a possibility this library might be included in Java 7, consequently embedded into Matisse.\r\n\r\n\r\n  [1]: http://www.miglayout.com/","title":"Matisse or Jigloo?","body":"<p>I would prefer Matisse since Netbeans is backed by Sun Microsystems and the possibility of the project being scrapped in the near futures seems blissfully low.</p>\n\n<p>Also, I do not know the size of your project but I have developed some small ones and I personally use matisse to see how the layout would look and then go ahead and code everything using the <a href=\"http://www.miglayout.com/\" rel=\"nofollow noreferrer\">Miglayout</a> library. It increases the amount of coding a lot but gives good control and flexibility. And there is a possibility this library might be included in Java 7, consequently embedded into Matisse.</p>\n"},{"tags":[],"owner":{"account_id":38698,"reputation":596,"user_id":111256,"display_name":"monceaux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1252017960,"creation_date":1252017960,"answer_id":1376357,"question_id":1356311,"body_markdown":"I have personally had a handful of occasions where the XML file backing a Matisse form somehow became out of sync with the code and had to resort to a backup to get it working again.  This was enough to scare me away.  I have no experience with Jigloo, though.\r\n\r\nMy current projects use [TableLayout][1], extensively.  It is easy to understand and (of all the layout managers I&#39;ve tried) maintain.  I have not found any other solution in GUI design for Java that I feel more comfortable with than coding the GUIs by hand.  Moving forward, it seems like the best &quot;future-proof&quot; way of coding my GUIs.\r\n\r\nI agree with Chintan on using Matisse or similar to mock up your design and then convert the layout to another layout (like TableLayout).  Personally, I like using pencil and paper to do most of it.  Not exactly high-tech, but it gets the job done.\r\n\r\n\r\n  [1]: https://tablelayout.dev.java.net/","title":"Matisse or Jigloo?","body":"<p>I have personally had a handful of occasions where the XML file backing a Matisse form somehow became out of sync with the code and had to resort to a backup to get it working again.  This was enough to scare me away.  I have no experience with Jigloo, though.</p>\n\n<p>My current projects use <a href=\"https://tablelayout.dev.java.net/\" rel=\"nofollow noreferrer\">TableLayout</a>, extensively.  It is easy to understand and (of all the layout managers I've tried) maintain.  I have not found any other solution in GUI design for Java that I feel more comfortable with than coding the GUIs by hand.  Moving forward, it seems like the best \"future-proof\" way of coding my GUIs.</p>\n\n<p>I agree with Chintan on using Matisse or similar to mock up your design and then convert the layout to another layout (like TableLayout).  Personally, I like using pencil and paper to do most of it.  Not exactly high-tech, but it gets the job done.</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":4,"up_vote_count":18,"is_accepted":true,"score":14,"last_activity_date":1566131961,"creation_date":1252511864,"answer_id":1400556,"question_id":1356311,"body_markdown":"Please don&#39;t use either! As with [this answer][1], it&#39;s my strong opinion (after writing Swing GUIs for 10 years), that using GUI builders is, in all but the most edge-cases, **a bad idea**. *HAND CODE YOUR GUI!*\r\n\r\n - Whether you choose Matisse or Jigloo, it is not a standard, will fall out of favour and a better tool will come along. At that point, you will have *legacy code that is nigh on impossible to maintain*. This has already happened several times in the history of Java GUI builders.\r\n\r\n - You should avoid forcing your developers to use one IDE and it is a huge overhead to expect devs to switch to a particular IDE when looking at the GUI code. They&#39;ll be frustrated as they can&#39;t remember key bindings, project setup is out-of-date, they have the wrong version installed etc. *People will make quick-fixes without the builder*. At this point *your code is unmaintainable in both your IDE of choice, and in the GUI builder istelf!* The whole thing is a mess.\r\n\r\n - Designing a GUI is not, in my experience, a particularly onerous task and probably accounts for no more than 5-10% of the total development time of an application. Even if initially using Matisse or Jigloo provides you with a 50% time advantage over hand-coding the GUI, *this is insignificant in the grand scheme of things*. It is certainly not worth the hidden costs and impending maintenance disasters that lie ahead.\r\n\r\n - [`GridBagLayout`](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) *is not hard*. It just isn&#39;t! It&#39;s really simple, in fact. It will take you a few minutes to learn and after that you&#39;ll never look back. Your GUIs will look like how you want them to look and your code will be more maintainable as a result. Use `GridBagLayout`!\r\n\r\nI have spent a good deal of time warning people about this before and been proven correct.\r\n\r\n  [1]: https://stackoverflow.com/questions/623692/handcode-gui-or-use-gui-designer-tool/623718#623718","title":"Matisse or Jigloo?","body":"<p>Please don't use either! As with <a href=\"https://stackoverflow.com/questions/623692/handcode-gui-or-use-gui-designer-tool/623718#623718\">this answer</a>, it's my strong opinion (after writing Swing GUIs for 10 years), that using GUI builders is, in all but the most edge-cases, <strong>a bad idea</strong>. <em>HAND CODE YOUR GUI!</em></p>\n\n<ul>\n<li><p>Whether you choose Matisse or Jigloo, it is not a standard, will fall out of favour and a better tool will come along. At that point, you will have <em>legacy code that is nigh on impossible to maintain</em>. This has already happened several times in the history of Java GUI builders.</p></li>\n<li><p>You should avoid forcing your developers to use one IDE and it is a huge overhead to expect devs to switch to a particular IDE when looking at the GUI code. They'll be frustrated as they can't remember key bindings, project setup is out-of-date, they have the wrong version installed etc. <em>People will make quick-fixes without the builder</em>. At this point <em>your code is unmaintainable in both your IDE of choice, and in the GUI builder istelf!</em> The whole thing is a mess.</p></li>\n<li><p>Designing a GUI is not, in my experience, a particularly onerous task and probably accounts for no more than 5-10% of the total development time of an application. Even if initially using Matisse or Jigloo provides you with a 50% time advantage over hand-coding the GUI, <em>this is insignificant in the grand scheme of things</em>. It is certainly not worth the hidden costs and impending maintenance disasters that lie ahead.</p></li>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\"><code>GridBagLayout</code></a> <em>is not hard</em>. It just isn't! It's really simple, in fact. It will take you a few minutes to learn and after that you'll never look back. Your GUIs will look like how you want them to look and your code will be more maintainable as a result. Use <code>GridBagLayout</code>!</p></li>\n</ul>\n\n<p>I have spent a good deal of time warning people about this before and been proven correct.</p>\n"},{"tags":[],"owner":{"account_id":24437,"reputation":5745,"user_id":62131,"accept_rate":82,"display_name":"Richard Gomes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267669971,"creation_date":1267669971,"answer_id":2376523,"question_id":1356311,"body_markdown":"What you can expect when you mess a file generated by a tool? Mess, isn&#39;t it?\r\nThis is a very very important *always* forgotten by developers.\r\n\r\nTake Matisse as an example. It generates a XML file for you and a .java file for you.\r\nWhy on Earth developers start changing these classes?\r\nLater they complain that everything is messed and they point out to Matisse as the guilt of it, because Matisse doesn&#39;t do A or doesn&#39;t do B. The only thing Matisse is guilty is not being able to fix the mess promoted by developers. This is problem in the domain of Artificial Inteligence and I personally do not expect any solution soon.\r\n\r\nThere&#39;s a more or less simple solution for it: OOP.\r\n\r\nI explain: one of the most important concepts of OOP is &#39;responsibility&#39;, which means that a certain class has a limited and well defined responsibility in a broader and more complex problem domain.\r\nSo, Matisse generated the UI for you, which basically consists on UI elements, event handlers, etc.\r\n\r\nThen you say: well... I need to add some logic to it otherwise the UI is innoperative. True. This is another responsibility, which *cannot* *never* be implemented in the same class generated by Matisse. Because either people is lazy or do not understand what &#39;responsibility&#39; means in OOP, people implement whateber they need, add lots of variables and promote all sort of madness in a class which is definitely not responsible for business logic.\r\n\r\nBy a very simple thing like inheritance you can separate business logic in a extended class. The base class is the one produced by Matisse. The extended one is your class implemented by hand which contain implementation of event handlers, initialization of UI elements, etc.\r\n\r\nMany developers are tempted to edit by hand the .java file produced by Matisse.\r\nThe golden rule is: *never*, *never* edit the .java file by hand. Matisse provides you means of defining whatever you need and call whatever you need. Never editing resources (both .xml and .java) produced by Matisse, you guarantee that it (Matisse) will be able to load it again in case you need to change the GUI in future. Probably you will find yourself tempted to edit the .java or even the .xml file directly. Please resist this temptation and educate yourself; you will thank yourself in future.\r\n\r\nSo... you can use whatever tool you wish or whatever provides the sexiest UI elements.\r\nAll tools will fail if you fail to separate UI from business logic.\r\nAll tools will succeed if you succeed in your main task as programmer which is: produce decent code.\r\n\r\n\r\n","title":"Matisse or Jigloo?","body":"<p>What you can expect when you mess a file generated by a tool? Mess, isn't it?\nThis is a very very important <em>always</em> forgotten by developers.</p>\n\n<p>Take Matisse as an example. It generates a XML file for you and a .java file for you.\nWhy on Earth developers start changing these classes?\nLater they complain that everything is messed and they point out to Matisse as the guilt of it, because Matisse doesn't do A or doesn't do B. The only thing Matisse is guilty is not being able to fix the mess promoted by developers. This is problem in the domain of Artificial Inteligence and I personally do not expect any solution soon.</p>\n\n<p>There's a more or less simple solution for it: OOP.</p>\n\n<p>I explain: one of the most important concepts of OOP is 'responsibility', which means that a certain class has a limited and well defined responsibility in a broader and more complex problem domain.\nSo, Matisse generated the UI for you, which basically consists on UI elements, event handlers, etc.</p>\n\n<p>Then you say: well... I need to add some logic to it otherwise the UI is innoperative. True. This is another responsibility, which <em>cannot</em> <em>never</em> be implemented in the same class generated by Matisse. Because either people is lazy or do not understand what 'responsibility' means in OOP, people implement whateber they need, add lots of variables and promote all sort of madness in a class which is definitely not responsible for business logic.</p>\n\n<p>By a very simple thing like inheritance you can separate business logic in a extended class. The base class is the one produced by Matisse. The extended one is your class implemented by hand which contain implementation of event handlers, initialization of UI elements, etc.</p>\n\n<p>Many developers are tempted to edit by hand the .java file produced by Matisse.\nThe golden rule is: <em>never</em>, <em>never</em> edit the .java file by hand. Matisse provides you means of defining whatever you need and call whatever you need. Never editing resources (both .xml and .java) produced by Matisse, you guarantee that it (Matisse) will be able to load it again in case you need to change the GUI in future. Probably you will find yourself tempted to edit the .java or even the .xml file directly. Please resist this temptation and educate yourself; you will thank yourself in future.</p>\n\n<p>So... you can use whatever tool you wish or whatever provides the sexiest UI elements.\nAll tools will fail if you fail to separate UI from business logic.\nAll tools will succeed if you succeed in your main task as programmer which is: produce decent code.</p>\n"},{"tags":[],"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654205770,"creation_date":1654205770,"answer_id":72482598,"question_id":1356311,"body_markdown":"Use WindowBuilder and be happy. \r\n\r\nhttps://projects.eclipse.org/projects/tools.windowbuilder\r\n\r\n*Eclipse WindowBuilder is composed of Eclipse SWT Designer and Eclipse Swing Designer and makes it very easy to create Java GUI applications without spending a lot of time writing code. Use the WYSIWYG visual designer and layout tools to create simple forms to complex windows; the Java code will be generated for you. Easily add controls using drag-and-drop, add event handlers to your controls, change various properties of controls using a property editor, internationalize your app and much more.*\r\n\r\n*Generated code doesn&#39;t require any additional custom libraries to compile and run: all of the generated code can be used without having WindowBuilder installed. WindowBuilder can read and write almost any format and reverse-engineer most hand-written Java GUI code. It also supports free-form code editing (make changes anywhere, not just in special areas) and most user refactorings (you can move, rename and subdivide methods without a problem).*","title":"Matisse or Jigloo?","body":"<p>Use WindowBuilder and be happy.</p>\n<p><a href=\"https://projects.eclipse.org/projects/tools.windowbuilder\" rel=\"nofollow noreferrer\">https://projects.eclipse.org/projects/tools.windowbuilder</a></p>\n<p><em>Eclipse WindowBuilder is composed of Eclipse SWT Designer and Eclipse Swing Designer and makes it very easy to create Java GUI applications without spending a lot of time writing code. Use the WYSIWYG visual designer and layout tools to create simple forms to complex windows; the Java code will be generated for you. Easily add controls using drag-and-drop, add event handlers to your controls, change various properties of controls using a property editor, internationalize your app and much more.</em></p>\n<p><em>Generated code doesn't require any additional custom libraries to compile and run: all of the generated code can be used without having WindowBuilder installed. WindowBuilder can read and write almost any format and reverse-engineer most hand-written Java GUI code. It also supports free-form code editing (make changes anywhere, not just in special areas) and most user refactorings (you can move, rename and subdivide methods without a problem).</em></p>\n"}],"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6314,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":1400556,"answer_count":8,"score":9,"last_activity_date":1654205770,"creation_date":1251705066,"question_id":1356311,"body_markdown":"We have a dilemma; developing desktop application using Matisse or Jigloo..\r\n\r\nMatisse has this XML form files which we are afraid of maintaining later, we don&#39;t even know should MyEclipse further support Matisse, even Netbeans - do you think they will give up OS support of Matisse? \r\n\r\nMore or less Jigloo and Matisse have similar behaviour, although Jigloo obeys more designers wish, Matisse has this strange alignment behaviour from time to time. \r\n\r\nJigloo generates Java code which can be edited and  which in turn can cause visual editor not being able to draw form. That is probably the reason why Matisse wants to have definition of elements in more stable XML form from which it generates java code. \r\n\r\nMatisse would not help much if there is an error in instantiating a GUI element, so putting custom elements can be also nightmare.\r\n\r\nWhen typing code in Jigloo, the visual editor likes to erase picture so you have to wait for picture to show up after editing code. In Matisse you can have errors in class and still editing GUI.\r\n\r\nPlease help us by voting, what do you prefer more and why.","title":"Matisse or Jigloo?","body":"<p>We have a dilemma; developing desktop application using Matisse or Jigloo..</p>\n\n<p>Matisse has this XML form files which we are afraid of maintaining later, we don't even know should MyEclipse further support Matisse, even Netbeans - do you think they will give up OS support of Matisse? </p>\n\n<p>More or less Jigloo and Matisse have similar behaviour, although Jigloo obeys more designers wish, Matisse has this strange alignment behaviour from time to time. </p>\n\n<p>Jigloo generates Java code which can be edited and  which in turn can cause visual editor not being able to draw form. That is probably the reason why Matisse wants to have definition of elements in more stable XML form from which it generates java code. </p>\n\n<p>Matisse would not help much if there is an error in instantiating a GUI element, so putting custom elements can be also nightmare.</p>\n\n<p>When typing code in Jigloo, the visual editor likes to erase picture so you have to wait for picture to show up after editing code. In Matisse you can have errors in class and still editing GUI.</p>\n\n<p>Please help us by voting, what do you prefer more and why.</p>\n"},{"tags":["java","java-time","datetime-parsing"],"comments":[{"owner":{"account_id":1616980,"reputation":616,"user_id":1494395,"accept_rate":0,"display_name":"Rajith Pemabandu"},"score":1,"creation_date":1501025474,"post_id":45314994,"comment_id":77592548,"body_markdown":"suppose this [post](https://stackoverflow.com/questions/30135025/java-date-parsing-with-microsecond-or-nanosecond-accuracy) may be helpful to you find a formatter for displaly nano seconds.","body":"suppose this <a href=\"https://stackoverflow.com/questions/30135025/java-date-parsing-with-microsecond-or-nanosecond-accuracy\">post</a> may be helpful to you find a formatter for displaly nano seconds."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1501027594,"post_id":45314994,"comment_id":77593117,"body_markdown":"I believe one option is `timeStamp = timeStamp.replace(&#39; &#39;, &#39;T&#39;);` and then use the one-arg `LocalDateTime.parse(CharSequence)`. Personally I prefer [Hugo’s solution](https://stackoverflow.com/a/45315209/5772882), but it’s much a matter of taste.","body":"I believe one option is <code>timeStamp = timeStamp.replace(&#39; &#39;, &#39;T&#39;);</code> and then use the one-arg <code>LocalDateTime.parse(CharSequence)</code>. Personally I prefer <a href=\"https://stackoverflow.com/a/45315209/5772882\">Hugo’s solution</a>, but it’s much a matter of taste."}],"answers":[{"tags":[],"owner":{"display_name":"user7605325"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1501026798,"creation_date":1501026433,"answer_id":45315209,"question_id":45314994,"body_markdown":"If the input **always** has 5 digits in nanoseconds, you can use five `S` letters instead of six:\r\n\r\n    String timeStamp = &quot;2017-07-25 16:19:59.89384&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSS&quot;); // five &quot;S&quot;\r\n    LocalDateTime datetime = LocalDateTime.parse(timeStamp, formatter);\r\n\r\nAlso note that `LocalDateTime.parse` returns a `LocalDateTime` (not a `LocalDate` like in your code).\r\n\r\n---\r\nIf you don&#39;t know how many digits will be in the input, you can use a `java.time.format.DateTimeFormatterBuilder` with a `java.time.temporal.ChronoField` and define the minimum and maximum number of digits:\r\n\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        // date / time\r\n        .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n        // nanoseconds, with minimum 1 and maximum 9 digits and a decimal point\r\n        .appendFraction(ChronoField.NANO_OF_SECOND, 1, 9, true)\r\n        // create formatter\r\n        .toFormatter();\r\n    LocalDateTime datetime = LocalDateTime.parse(timeStamp, formatter);\r\n\r\nYou just need to adjust the values 1 and 9 according to your needs.","title":"Parse nano seconds with less than 6 digits","body":"<p>If the input <strong>always</strong> has 5 digits in nanoseconds, you can use five <code>S</code> letters instead of six:</p>\n\n<pre><code>String timeStamp = \"2017-07-25 16:19:59.89384\";\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSS\"); // five \"S\"\nLocalDateTime datetime = LocalDateTime.parse(timeStamp, formatter);\n</code></pre>\n\n<p>Also note that <code>LocalDateTime.parse</code> returns a <code>LocalDateTime</code> (not a <code>LocalDate</code> like in your code).</p>\n\n<hr>\n\n<p>If you don't know how many digits will be in the input, you can use a <code>java.time.format.DateTimeFormatterBuilder</code> with a <code>java.time.temporal.ChronoField</code> and define the minimum and maximum number of digits:</p>\n\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    // date / time\n    .appendPattern(\"yyyy-MM-dd HH:mm:ss\")\n    // nanoseconds, with minimum 1 and maximum 9 digits and a decimal point\n    .appendFraction(ChronoField.NANO_OF_SECOND, 1, 9, true)\n    // create formatter\n    .toFormatter();\nLocalDateTime datetime = LocalDateTime.parse(timeStamp, formatter);\n</code></pre>\n\n<p>You just need to adjust the values 1 and 9 according to your needs.</p>\n"},{"tags":[],"owner":{"account_id":25459863,"reputation":31,"user_id":19259870,"display_name":"SChristy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654205724,"creation_date":1654205437,"answer_id":72482552,"question_id":45314994,"body_markdown":"```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.n&quot;);\r\n```","title":"Parse nano seconds with less than 6 digits","body":"<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.n&quot;);\n</code></pre>\n"}],"owner":{"account_id":3771696,"reputation":871,"user_id":3133685,"accept_rate":66,"display_name":"MaxPower"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2939,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45315209,"answer_count":2,"score":3,"last_activity_date":1654205724,"creation_date":1501025084,"question_id":45314994,"body_markdown":"I have the Timestamp `2017-07-25 16:19:59.89384`\r\n\r\nI want to parse it with: \r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;);\r\n    LocalDate time = LocalDateTime.parse(timeStamp, formatter);\r\n\r\nBut I get a `DateTimeParseException` because the nano seconds are only 5 digits.  Is there a cleaner solution than padding `0`&#39;s to the right?","title":"Parse nano seconds with less than 6 digits","body":"<p>I have the Timestamp <code>2017-07-25 16:19:59.89384</code></p>\n\n<p>I want to parse it with: </p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSS\");\nLocalDate time = LocalDateTime.parse(timeStamp, formatter);\n</code></pre>\n\n<p>But I get a <code>DateTimeParseException</code> because the nano seconds are only 5 digits.  Is there a cleaner solution than padding <code>0</code>'s to the right?</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1390726340,"post_id":21361492,"comment_id":32209932,"body_markdown":"Why you have two `{` after the `while`?","body":"Why you have two <code>{</code> after the <code>while</code>?"},{"owner":{"account_id":1389914,"reputation":455,"user_id":1320988,"accept_rate":100,"display_name":"Michael"},"score":0,"creation_date":1390726361,"post_id":21361492,"comment_id":32209936,"body_markdown":"What do you intend to accomplish with this while loop?","body":"What do you intend to accomplish with this while loop?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1390726385,"post_id":21361492,"comment_id":32209944,"body_markdown":"The way I fix a bug in my code is I use my debugger.  I suggest you step through the code in your debugger to see why it is doing what it is doing.","body":"The way I fix a bug in my code is I use my debugger.  I suggest you step through the code in your debugger to see why it is doing what it is doing."},{"owner":{"account_id":3904144,"reputation":67,"user_id":3231227,"accept_rate":40,"display_name":"user3231227"},"score":0,"creation_date":1390726682,"post_id":21361492,"comment_id":32210007,"body_markdown":"I&#39;m creating a chatbot! (Don&#39;t worry, it&#39;s just because I think it&#39;s interesting to make so it won&#39;t be spammed everywhere on the internet)\n\nIn the top of my code I got 2 strings called Greetings and ChatBot, now, in both of them there&#39;s {&quot;something i can say&quot;}{&quot;what the bot will reply&quot;}, and the greetings part works fine because there&#39;s only one of those lines, however, in Chatbot, there&#39;s more of them for different questions. The problem is, in my loop it seems to only check if what I said is in the first line of Chatbot, I want to make it so it checks the whole thing","body":"I&#39;m creating a chatbot! (Don&#39;t worry, it&#39;s just because I think it&#39;s interesting to make so it won&#39;t be spammed everywhere on the internet)  In the top of my code I got 2 strings called Greetings and ChatBot, now, in both of them there&#39;s {&quot;something i can say&quot;}{&quot;what the bot will reply&quot;}, and the greetings part works fine because there&#39;s only one of those lines, however, in Chatbot, there&#39;s more of them for different questions. The problem is, in my loop it seems to only check if what I said is in the first line of Chatbot, I want to make it so it checks the whole thing"},{"owner":{"account_id":1900543,"reputation":4792,"user_id":1716487,"accept_rate":82,"display_name":"morpheus05"},"score":0,"creation_date":1390727397,"post_id":21361492,"comment_id":32210174,"body_markdown":"++j is missing but if you add it you also have to add some bounds checks. E.g. greetings[j*2] &lt;-- why should this be inside the array bounds?","body":"++j is missing but if you add it you also have to add some bounds checks. E.g. greetings[j*2] &lt;-- why should this be inside the array bounds?"}],"answers":[{"tags":[],"owner":{"account_id":1389914,"reputation":455,"user_id":1320988,"accept_rate":100,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390727783,"creation_date":1390726453,"answer_id":21361529,"question_id":21361492,"body_markdown":"What you probably want to be doing is incrementing j at every iteration. I haven&#39;t looked at your logic or tried to understand what you are trying to accomplish, but adding `j++` will make it increment by 1 every iteration of the loop. Otherwise `j*2` will always be 0;\r\n\r\n    int j=0;//which group we&#39;re checking\r\n            while(response==0){\r\n                {\r\n                    j++;\r\n                    if(inArray(quote.toLowerCase(),greetings[j*2]))\r\n                    {\r\n                        response=2;\r\n                        int r=(int)Math.floor(Math.random()*greetings[(j*2)+1].length);\r\n                        addText(&quot;\\n--&gt;Miku:\\t&quot;+greetings[(j*2)+1][r]);\r\n                        try (BufferedReader br = new BufferedReader(new FileReader(&quot;mikuname.txt&quot;))) {\r\n                            String name;\r\n                            while ((name = br.readLine()) != null) {\r\n                            addText(name +&quot;!&quot;);\r\n                            }\r\n                        } catch (IOException e1) {\r\n                            // Do something with the IO problem that occurred while reading the file\r\n                        }\r\n                    }\r\n                }\r\n                if(response==0)\r\n                {\r\n                    if(inArray(quote.toLowerCase(),chatBot[j*2]))\r\n                    {\r\n                        response=2;\r\n                        int r=(int)Math.floor(Math.random()*chatBot[(j*2)+1].length);\r\n                        addText(&quot;\\n--&gt;Miku:\\t&quot;+chatBot[(j*2)+1][r]);\r\n                    }\r\n                }\r\n            }","title":"Java loop not working","body":"<p>What you probably want to be doing is incrementing j at every iteration. I haven't looked at your logic or tried to understand what you are trying to accomplish, but adding <code>j++</code> will make it increment by 1 every iteration of the loop. Otherwise <code>j*2</code> will always be 0;</p>\n\n<pre><code>int j=0;//which group we're checking\n        while(response==0){\n            {\n                j++;\n                if(inArray(quote.toLowerCase(),greetings[j*2]))\n                {\n                    response=2;\n                    int r=(int)Math.floor(Math.random()*greetings[(j*2)+1].length);\n                    addText(\"\\n--&gt;Miku:\\t\"+greetings[(j*2)+1][r]);\n                    try (BufferedReader br = new BufferedReader(new FileReader(\"mikuname.txt\"))) {\n                        String name;\n                        while ((name = br.readLine()) != null) {\n                        addText(name +\"!\");\n                        }\n                    } catch (IOException e1) {\n                        // Do something with the IO problem that occurred while reading the file\n                    }\n                }\n            }\n            if(response==0)\n            {\n                if(inArray(quote.toLowerCase(),chatBot[j*2]))\n                {\n                    response=2;\n                    int r=(int)Math.floor(Math.random()*chatBot[(j*2)+1].length);\n                    addText(\"\\n--&gt;Miku:\\t\"+chatBot[(j*2)+1][r]);\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25459693,"reputation":1,"user_id":19259724,"display_name":"Nailea Llamas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654205321,"creation_date":1654205273,"answer_id":72482537,"question_id":21361492,"body_markdown":"For your while loop, use j++ to add 1 to its value through each loop that you do. \r\n\r\nwhile (response==0) {\r\n  ...\r\n  i++;\r\n}","title":"Java loop not working","body":"<p>For your while loop, use j++ to add 1 to its value through each loop that you do.</p>\n<p>while (response==0) {\n...\ni++;\n}</p>\n"}],"owner":{"account_id":3904144,"reputation":67,"user_id":3231227,"accept_rate":40,"display_name":"user3231227"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654205321,"creation_date":1390726226,"question_id":21361492,"body_markdown":"So I&#39;m writing a small program but my while-loop does not seem to work, I&#39;ve looked all over the internet for tutorials and I know that I need to increase J but I can&#39;t seem to figure out where because when I get one thing fixed another part stops working!\r\nCould someone please tell me what I have to do to fix this?\r\n\r\n\r\n    int j=0;//which group we&#39;re checking\r\n    \t\t\twhile(response==0){\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(inArray(quote.toLowerCase(),greetings[j*2]))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tresponse=2;\r\n    \t\t\t\t\t\tint r=(int)Math.floor(Math.random()*greetings[(j*2)+1].length);\r\n    \t\t\t\t\t\taddText(&quot;\\n--&gt;Miku:\\t&quot;+greetings[(j*2)+1][r]);\r\n    \t\t\t\t\t\ttry (BufferedReader br = new BufferedReader(new FileReader(&quot;mikuname.txt&quot;))) {\r\n    \t\t\t\t\t\t    String name;\r\n    \t\t\t\t\t\t    while ((name = br.readLine()) != null) {\r\n    \t\t\t\t\t\t    addText(name +&quot;!&quot;);\r\n    \t\t\t\t\t\t    }\r\n    \t\t\t\t\t\t} catch (IOException e1) {\r\n    \t\t\t\t\t\t    // Do something with the IO problem that occurred while reading the file\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tif(response==0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(inArray(quote.toLowerCase(),chatBot[j*2]))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tresponse=2;\r\n    \t\t\t\t\t\tint r=(int)Math.floor(Math.random()*chatBot[(j*2)+1].length);\r\n    \t\t\t\t\t\taddText(&quot;\\n--&gt;Miku:\\t&quot;+chatBot[(j*2)+1][r]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tif(response==0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tresponse=1;\r\n    \t\t\t\t}\r\n    \t\t\t}","title":"Java loop not working","body":"<p>So I'm writing a small program but my while-loop does not seem to work, I've looked all over the internet for tutorials and I know that I need to increase J but I can't seem to figure out where because when I get one thing fixed another part stops working!\nCould someone please tell me what I have to do to fix this?</p>\n\n<pre><code>int j=0;//which group we're checking\n            while(response==0){\n                {\n                    if(inArray(quote.toLowerCase(),greetings[j*2]))\n                    {\n                        response=2;\n                        int r=(int)Math.floor(Math.random()*greetings[(j*2)+1].length);\n                        addText(\"\\n--&gt;Miku:\\t\"+greetings[(j*2)+1][r]);\n                        try (BufferedReader br = new BufferedReader(new FileReader(\"mikuname.txt\"))) {\n                            String name;\n                            while ((name = br.readLine()) != null) {\n                            addText(name +\"!\");\n                            }\n                        } catch (IOException e1) {\n                            // Do something with the IO problem that occurred while reading the file\n                        }\n                    }\n                }\n                if(response==0)\n                {\n                    if(inArray(quote.toLowerCase(),chatBot[j*2]))\n                    {\n                        response=2;\n                        int r=(int)Math.floor(Math.random()*chatBot[(j*2)+1].length);\n                        addText(\"\\n--&gt;Miku:\\t\"+chatBot[(j*2)+1][r]);\n                    }\n                }\n                if(response==0)\n                {\n                    response=1;\n                }\n            }\n</code></pre>\n"},{"tags":["java","weka"],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654204585,"creation_date":1654203549,"answer_id":72482288,"question_id":72478797,"body_markdown":"No, Weka&#39;s Experiment API does not store the confusion matrix. You can see for yourself in the source code by inspecting the responsible class: `weka.experiment.ClassifierSplitEvaluator`.\r\n\r\nHowever, you can store targets and predictions in the results (`ClassifierSplitEvaluator.setPredTargetColumn(boolean)`) and then you could compute the confusion matrices yourself.","title":"How to get Confusion matrices for each classification in Weka Experiment (API)","body":"<p>No, Weka's Experiment API does not store the confusion matrix. You can see for yourself in the source code by inspecting the responsible class: <code>weka.experiment.ClassifierSplitEvaluator</code>.</p>\n<p>However, you can store targets and predictions in the results (<code>ClassifierSplitEvaluator.setPredTargetColumn(boolean)</code>) and then you could compute the confusion matrices yourself.</p>\n"}],"owner":{"account_id":24025773,"reputation":5,"user_id":18007407,"display_name":"dododabird"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654204585,"creation_date":1654184195,"question_id":72478797,"body_markdown":"I am trying to use Weka experimenter via code provided here:https://waikato.github.io/weka-wiki/files/ExperimentDemo.java. This actually gives you the TP; FP rates etc. But is there a way to get confusion matrix for each classification ? For example which classes were classified as which ones ? ","title":"How to get Confusion matrices for each classification in Weka Experiment (API)","body":"<p>I am trying to use Weka experimenter via code provided here:<a href=\"https://waikato.github.io/weka-wiki/files/ExperimentDemo.java\" rel=\"nofollow noreferrer\">https://waikato.github.io/weka-wiki/files/ExperimentDemo.java</a>. This actually gives you the TP; FP rates etc. But is there a way to get confusion matrix for each classification ? For example which classes were classified as which ones ?</p>\n"},{"tags":["java","android","debugging","adb","apktool"],"comments":[{"owner":{"account_id":966822,"reputation":5615,"user_id":990129,"accept_rate":70,"display_name":"muetzenflo"},"score":0,"creation_date":1605885520,"post_id":64893015,"comment_id":114797815,"body_markdown":"did you check this issue? https://github.com/iBotPeaches/Apktool/issues/1880","body":"did you check this issue? <a href=\"https://github.com/iBotPeaches/Apktool/issues/1880\" rel=\"nofollow noreferrer\">github.com/iBotPeaches/Apktool/issues/1880</a>"},{"owner":{"account_id":12957859,"reputation":836,"user_id":9368010,"display_name":"Sarah Khan"},"score":0,"creation_date":1606018988,"post_id":64893015,"comment_id":114829679,"body_markdown":"What version are you using?","body":"What version are you using?"},{"owner":{"account_id":9656884,"reputation":1020,"user_id":7166151,"display_name":"Sameer Jani"},"score":0,"creation_date":1606196957,"post_id":64893015,"comment_id":114882167,"body_markdown":"Yes I have checked this : github.com/iBotPeaches/Apktool/issues/1880","body":"Yes I have checked this : github.com/iBotPeaches/Apktool/issues/1880"},{"owner":{"account_id":9656884,"reputation":1020,"user_id":7166151,"display_name":"Sameer Jani"},"score":0,"creation_date":1606197017,"post_id":64893015,"comment_id":114882180,"body_markdown":"I am using apk tool version 2.4.1","body":"I am using apk tool version 2.4.1"}],"answers":[{"tags":[],"owner":{"account_id":16319431,"reputation":209,"user_id":11785652,"display_name":"Bogdan Lonchuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606204519,"creation_date":1606204519,"answer_id":64982283,"question_id":64893015,"body_markdown":"You should compile against SDK 29 and maybe use the most recent build tools for aapt to know this attribute.","title":"Error: No resource identifier found for attribute `requestLegacyExternalStorage` and `preserveLegacyExternalStorage` in package `android`","body":"<p>You should compile against SDK 29 and maybe use the most recent build tools for aapt to know this attribute.</p>\n"},{"tags":[],"owner":{"account_id":21755158,"reputation":31,"user_id":16060624,"display_name":"RizaPN"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622211243,"creation_date":1622211243,"answer_id":67740524,"question_id":64893015,"body_markdown":"If you just want to modify its source before recompile it (resource will not be modified), use -r flag when decompile the apk. I have the same problem, and always get unknown resource problem when recompile it. It solve when I use -r flag when decompile the apk.\r\n\r\n    # apktool -r d demo.apk\r\n\r\n","title":"Error: No resource identifier found for attribute `requestLegacyExternalStorage` and `preserveLegacyExternalStorage` in package `android`","body":"<p>If you just want to modify its source before recompile it (resource will not be modified), use -r flag when decompile the apk. I have the same problem, and always get unknown resource problem when recompile it. It solve when I use -r flag when decompile the apk.</p>\n<pre><code># apktool -r d demo.apk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14952998,"reputation":2190,"user_id":10795361,"display_name":"Alexander Fadeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654203738,"creation_date":1654203738,"answer_id":72482320,"question_id":64893015,"body_markdown":"If nothing helps, the following undocumented command may help (see https://github.com/iBotPeaches/Apktool/issues/1842#issuecomment-522616705):\r\n\r\n```\r\napktool empty-framework-dir\r\n```\r\nRun it then try to re-build apk again\r\n```\r\napktool b example.apk.dir example.apk\r\n```\r\n\r\nOther things to try:\r\n1. Upgrade `apktool`: https://ibotpeaches.github.io/Apktool/install/\r\n2. Ignore resources with `-r` flag if you don&#39;t need them (e.g. you only need to modify the source code):\r\n```\r\napktool -r d example.apk\r\n```","title":"Error: No resource identifier found for attribute `requestLegacyExternalStorage` and `preserveLegacyExternalStorage` in package `android`","body":"<p>If nothing helps, the following undocumented command may help (see <a href=\"https://github.com/iBotPeaches/Apktool/issues/1842#issuecomment-522616705\" rel=\"nofollow noreferrer\">https://github.com/iBotPeaches/Apktool/issues/1842#issuecomment-522616705</a>):</p>\n<pre><code>apktool empty-framework-dir\n</code></pre>\n<p>Run it then try to re-build apk again</p>\n<pre><code>apktool b example.apk.dir example.apk\n</code></pre>\n<p>Other things to try:</p>\n<ol>\n<li>Upgrade <code>apktool</code>: <a href=\"https://ibotpeaches.github.io/Apktool/install/\" rel=\"nofollow noreferrer\">https://ibotpeaches.github.io/Apktool/install/</a></li>\n<li>Ignore resources with <code>-r</code> flag if you don't need them (e.g. you only need to modify the source code):</li>\n</ol>\n<pre><code>apktool -r d example.apk\n</code></pre>\n"}],"owner":{"account_id":9656884,"reputation":1020,"user_id":7166151,"display_name":"Sameer Jani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5244,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1654203738,"creation_date":1605702045,"question_id":64893015,"body_markdown":"I have decompiled APK using `apktool d demoapp.apk` then compiling `apk` using `apktool b demoapp.apk` but at compile time it throws the error \r\n\r\n`brut.androlib.AndrolibException: brut.common.BrutException: could not exec (exit code = 1):`\r\n\r\nHere `No resource identifier found` for attribute `preserveLegacyExternalStorage` in package `android` \r\n\r\nThe same error appears for `requestLegacyExternalStorage` as well","title":"Error: No resource identifier found for attribute `requestLegacyExternalStorage` and `preserveLegacyExternalStorage` in package `android`","body":"<p>I have decompiled APK using <code>apktool d demoapp.apk</code> then compiling <code>apk</code> using <code>apktool b demoapp.apk</code> but at compile time it throws the error</p>\n<p><code>brut.androlib.AndrolibException: brut.common.BrutException: could not exec (exit code = 1):</code></p>\n<p>Here <code>No resource identifier found</code> for attribute <code>preserveLegacyExternalStorage</code> in package <code>android</code></p>\n<p>The same error appears for <code>requestLegacyExternalStorage</code> as well</p>\n"},{"tags":["java","spring","spring-boot","exception"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1654192564,"post_id":72480157,"comment_id":128038604,"body_markdown":"Why do you expect this ControllerAdvice to be triggered?  Spring has a built-in filter for catching AuthenticationExceptions.  In my opinion, you should not try to override this behavior, especially if you&#39;re plan is the return a status code of 500 instead of 403.","body":"Why do you expect this ControllerAdvice to be triggered?  Spring has a built-in filter for catching AuthenticationExceptions.  In my opinion, you should not try to override this behavior, especially if you&#39;re plan is the return a status code of 500 instead of 403."}],"answers":[{"tags":[],"owner":{"account_id":24247684,"reputation":17,"user_id":18199154,"display_name":"Andres Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654203408,"creation_date":1654203408,"answer_id":72482263,"question_id":72480157,"body_markdown":"I solved the problem by addding the following line of code in Security COnfig class:\r\n\r\n\r\n    .antMatchers(&quot;/error&quot;).permitAll()","title":"Error GlobalExceptionHandler, Error 401 doesn&#39;t show error details","body":"<p>I solved the problem by addding the following line of code in Security COnfig class:</p>\n<pre><code>.antMatchers(&quot;/error&quot;).permitAll()\n</code></pre>\n"}],"owner":{"account_id":24247684,"reputation":17,"user_id":18199154,"display_name":"Andres Ramirez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72482263,"answer_count":1,"score":0,"last_activity_date":1654203408,"creation_date":1654191053,"question_id":72480157,"body_markdown":"I recently implemented authentication in my API Rest, but when the user tries to access to api without being auntenticatedn the exception message doesn&#39;t appear:\r\nThis is my GlobalExceptionHandler with the method exception that cover all errors in the api:\r\n\r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n        @ExceptionHandler(Exception.class)\r\n        public ResponseEntity&lt;ErrorDetails&gt; handlerExceptionMethod(Exception ex , WebRequest \r\n              webRequest){\r\n\r\n              ErrorDetails errorDetails = new ErrorDetails(new Date(), ex.getMessage(), \r\n              webRequest.getDescription(false));\r\n\r\n              return new ResponseEntity&lt;ErrorDetails&gt;(errorDetails, \r\n              HttpStatus.INTERNAL_SERVER_ERROR);\r\n\r\n    }\r\n\r\nThe Postman sofware returns an 1, I want to see the errorDetails parameters. This is my ErrorDetails class:\r\n\r\n    @Getter\r\n    public class ErrorDetails {\r\n\r\n    private Date timestamp;\r\n    private String message;\r\n    private String details;\r\n\r\n    public ErrorDetails(Date timestamp, String message, String details) {\r\n        this.timestamp = timestamp;\r\n        this.message = message;\r\n        this.details = details;\r\n    }\r\n\r\n\r\n    }\r\n","title":"Error GlobalExceptionHandler, Error 401 doesn&#39;t show error details","body":"<p>I recently implemented authentication in my API Rest, but when the user tries to access to api without being auntenticatedn the exception message doesn't appear:\nThis is my GlobalExceptionHandler with the method exception that cover all errors in the api:</p>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;ErrorDetails&gt; handlerExceptionMethod(Exception ex , WebRequest \n          webRequest){\n\n          ErrorDetails errorDetails = new ErrorDetails(new Date(), ex.getMessage(), \n          webRequest.getDescription(false));\n\n          return new ResponseEntity&lt;ErrorDetails&gt;(errorDetails, \n          HttpStatus.INTERNAL_SERVER_ERROR);\n\n}\n</code></pre>\n<p>The Postman sofware returns an 1, I want to see the errorDetails parameters. This is my ErrorDetails class:</p>\n<pre><code>@Getter\npublic class ErrorDetails {\n\nprivate Date timestamp;\nprivate String message;\nprivate String details;\n\npublic ErrorDetails(Date timestamp, String message, String details) {\n    this.timestamp = timestamp;\n    this.message = message;\n    this.details = details;\n}\n\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654202960,"creation_date":1654202960,"answer_id":72482198,"question_id":72481964,"body_markdown":"[@Value][1] is spring annotation and spring injects the value for properties into Spring-managed beans \r\n\r\n&gt;This annotation can be used for injecting values into fields in Spring-managed beans, and it can be applied at the field or constructor/method parameter level.\r\n\r\nIf you want this functionality working, you have to use [@SpringBootTest][2] annotation to load ApplicationContext, which is typically writing integration test\r\n\r\n&gt;The @SpringBootTest annotation is useful when we need to bootstrap the entire container. The annotation works by creating the ApplicationContext that will be utilized in our tests.\r\n\r\nYou can also inject value while writing unit test cases using `ReflectionTestUtils`, like example shown [here][3]\r\n\r\n    @Before\r\n\tpublic void setUp() {\r\n\t\tReflectionTestUtils.setField(springJunitService, &quot;securityKey&quot;, &quot;it&#39;s a security key&quot;);\r\n\t}\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\r\n  [2]: https://www.baeldung.com/spring-boot-testing\r\n  [3]: https://roytuts.com/mock-an-autowired-value-field-in-spring-with-junit-mockito/","title":"Spring boot @Value property is null in test cases","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\" rel=\"nofollow noreferrer\">@Value</a> is spring annotation and spring injects the value for properties into Spring-managed beans</p>\n<blockquote>\n<p>This annotation can be used for injecting values into fields in Spring-managed beans, and it can be applied at the field or constructor/method parameter level.</p>\n</blockquote>\n<p>If you want this functionality working, you have to use <a href=\"https://www.baeldung.com/spring-boot-testing\" rel=\"nofollow noreferrer\">@SpringBootTest</a> annotation to load ApplicationContext, which is typically writing integration test</p>\n<blockquote>\n<p>The @SpringBootTest annotation is useful when we need to bootstrap the entire container. The annotation works by creating the ApplicationContext that will be utilized in our tests.</p>\n</blockquote>\n<p>You can also inject value while writing unit test cases using <code>ReflectionTestUtils</code>, like example shown <a href=\"https://roytuts.com/mock-an-autowired-value-field-in-spring-with-junit-mockito/\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>@Before\npublic void setUp() {\n    ReflectionTestUtils.setField(springJunitService, &quot;securityKey&quot;, &quot;it's a security key&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":21474568,"reputation":43,"user_id":15823062,"display_name":"Федор Николаев"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4457,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72482198,"answer_count":1,"score":4,"last_activity_date":1654203097,"creation_date":1654201471,"question_id":72481964,"body_markdown":"I want to get values from application.properties. \r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class CurrencyServiceTest {\r\n\r\n    @Mock\r\n    private OpenExchangeRatesClient openExchangeRatesClient;\r\n\r\n    @Value(&quot;${openexchangerates.app.id}&quot;)\r\n    private String appId;\r\n\r\n    @Value(&quot;${openexchangerates.currency.base}&quot;)\r\n    private String base;\r\n\r\n...\r\n```\r\n\r\nThe thing is that appId and base are null in tests. What is the reason for that?","title":"Spring boot @Value property is null in test cases","body":"<p>I want to get values from application.properties.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class CurrencyServiceTest {\n\n    @Mock\n    private OpenExchangeRatesClient openExchangeRatesClient;\n\n    @Value(&quot;${openexchangerates.app.id}&quot;)\n    private String appId;\n\n    @Value(&quot;${openexchangerates.currency.base}&quot;)\n    private String base;\n\n...\n</code></pre>\n<p>The thing is that appId and base are null in tests. What is the reason for that?</p>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654202761,"creation_date":1654202761,"answer_id":72482160,"question_id":72481271,"body_markdown":"No, unfortunately Gson does not support this at the moment, see [issue #188](https://github.com/google/gson/issues/188). And it is not clear if that feature will ever be added since Gson is in maintenance mode.","title":"Gson detect unmapped key value pairs","body":"<p>No, unfortunately Gson does not support this at the moment, see <a href=\"https://github.com/google/gson/issues/188\" rel=\"nofollow noreferrer\">issue #188</a>. And it is not clear if that feature will ever be added since Gson is in maintenance mode.</p>\n"}],"owner":{"account_id":25458953,"reputation":11,"user_id":19259120,"display_name":"CodinGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72482160,"answer_count":1,"score":0,"last_activity_date":1654202761,"creation_date":1654197365,"question_id":72481271,"body_markdown":"I was wondering if there is an already built in option in Gson to detect unparsed key value pairs of a JSONObjects. I have a Gson class setup that collects the following json string:\r\n`&quot;data&quot;:{&quot;type&quot;: &quot;account&quot;, &quot;id&quot;:&quot;73891&quot;}`\r\n\r\nI want to know if Gson will actually know what key value pairs have not been defined in the class but exist in the Json String. Like if for instance the string above had another key value pair `&quot;year&quot;:&quot;2022&quot;` that was not defined in the class, will Gson be able to tell me it didn&#39;t store that key value pair in a variable.","title":"Gson detect unmapped key value pairs","body":"<p>I was wondering if there is an already built in option in Gson to detect unparsed key value pairs of a JSONObjects. I have a Gson class setup that collects the following json string:\n<code>&quot;data&quot;:{&quot;type&quot;: &quot;account&quot;, &quot;id&quot;:&quot;73891&quot;}</code></p>\n<p>I want to know if Gson will actually know what key value pairs have not been defined in the class but exist in the Json String. Like if for instance the string above had another key value pair <code>&quot;year&quot;:&quot;2022&quot;</code> that was not defined in the class, will Gson be able to tell me it didn't store that key value pair in a variable.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1654203019,"post_id":72481871,"comment_id":128041889,"body_markdown":"It depends on if you want to move those elements to the end of the list, and on what `processObj()` actually does. Like it gets `el` anyway, so it could probably ignore it when encountering in the list.","body":"It depends on if you want to move those elements to the end of the list, and on what <code>processObj()</code> actually does. Like it gets <code>el</code> anyway, so it could probably ignore it when encountering in the list."},{"owner":{"account_id":21472639,"reputation":85,"user_id":15821391,"display_name":"Patrick Schulz"},"score":0,"creation_date":1654204665,"post_id":72481871,"comment_id":128042337,"body_markdown":"exactly, here the order doesn&#39;t matter.","body":"exactly, here the order doesn&#39;t matter."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1654205681,"post_id":72481871,"comment_id":128042550,"body_markdown":"If the order doesn&#39;t matter perhaps it would be more appropriate to use a `Set&lt;String&gt;` instead of a `List&lt;String&gt;` i.e., `completeSet`, not `completeList`.","body":"If the order doesn&#39;t matter perhaps it would be more appropriate to use a <code>Set&lt;String&gt;</code> instead of a <code>List&lt;String&gt;</code> i.e., <code>completeSet</code>, not <code>completeList</code>."},{"owner":{"account_id":21472639,"reputation":85,"user_id":15821391,"display_name":"Patrick Schulz"},"score":0,"creation_date":1654205792,"post_id":72481871,"comment_id":128042575,"body_markdown":"no, because in the method i call within the for loop (processObj()) i need the param completeList to be a list","body":"no, because in the method i call within the for loop (processObj()) i need the param completeList to be a list"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654202738,"creation_date":1654201707,"answer_id":72482004,"question_id":72481871,"body_markdown":"I&#39;m not sure the purpose of removing then adding back to the same list, but you can use a `Predicate` to accept and process certain values. \r\n\r\n```\r\nPredicate&lt;String&gt; accept = (s) -&gt; {\r\n  return true;  // accepts all strings; you could use partList.contains(s) here, or !s.equals(el)\r\n}\r\ncompleteList.stream()\r\n    .filter(accept.negate()) // Inverse the predicate to implement &quot;except&quot; \r\n    .forEach(processObj); \r\n```\r\n\r\nReplace `forEach` with `map` if you want to modify the stream values, then you can `collect()` to get data back to a list. ","title":"How to simulate &#39;except&#39; for string lists in for loop in Java?","body":"<p>I'm not sure the purpose of removing then adding back to the same list, but you can use a <code>Predicate</code> to accept and process certain values.</p>\n<pre><code>Predicate&lt;String&gt; accept = (s) -&gt; {\n  return true;  // accepts all strings; you could use partList.contains(s) here, or !s.equals(el)\n}\ncompleteList.stream()\n    .filter(accept.negate()) // Inverse the predicate to implement &quot;except&quot; \n    .forEach(processObj); \n</code></pre>\n<p>Replace <code>forEach</code> with <code>map</code> if you want to modify the stream values, then you can <code>collect()</code> to get data back to a list.</p>\n"}],"owner":{"account_id":21472639,"reputation":85,"user_id":15821391,"display_name":"Patrick Schulz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654202738,"creation_date":1654200936,"question_id":72481871,"body_markdown":"I have a list of strings (`partList`) which is a fraction part of another list of strings (`completeList`) and i want to process an object (through `processObj()`) within a for loop in a way that the current element of the partList will be retracted from the completeList: when the current iteration is on an element of partList then the processing of the object will involve that element and the rest of elements from completeList i do it like so for now:\r\n\r\n\r\n            for (String el: partList) {\r\n                completeList.remove(el);\r\n                //process the target object using as parameters el and the rest of the complete list except el...\r\n                processObj(el,completeList);\r\n                completeList.add(el);\r\n            }\r\n\r\nIs it the right way of doing it?\r\nThanks for the enlightenment.","title":"How to simulate &#39;except&#39; for string lists in for loop in Java?","body":"<p>I have a list of strings (<code>partList</code>) which is a fraction part of another list of strings (<code>completeList</code>) and i want to process an object (through <code>processObj()</code>) within a for loop in a way that the current element of the partList will be retracted from the completeList: when the current iteration is on an element of partList then the processing of the object will involve that element and the rest of elements from completeList i do it like so for now:</p>\n<pre><code>        for (String el: partList) {\n            completeList.remove(el);\n            //process the target object using as parameters el and the rest of the complete list except el...\n            processObj(el,completeList);\n            completeList.add(el);\n        }\n</code></pre>\n<p>Is it the right way of doing it?\nThanks for the enlightenment.</p>\n"},{"tags":["java","rest","soap"],"answers":[{"tags":[],"owner":{"account_id":298480,"reputation":5014,"user_id":604526,"accept_rate":100,"display_name":"Simon Woker"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1305548287,"creation_date":1305539184,"answer_id":6015577,"question_id":6015138,"body_markdown":"I found this really great article on the advantages and disadvantages of SOAP vs REST: http://geeknizer.com/rest-vs-soap-using-http-choosing-the-right-webservice-protocol/\r\n\r\nAnd my own humble opionion:  \r\nI don&#39;t like SOAP, I never did. It&#39;s been great at the time, but it just never felt &quot;right&quot;. If you&#39;ve ever tried to read one of these huge overloaded XML-documents and compared it to the REST output (which is JSON most of the time) you know what I mean. IMHO just feels &quot;better&quot;.  \r\nOne problem is that you have to document your REST API better, but that shouldn&#39;t be that big problem as long as it is not open to everyone.  \r\nEspecially if you handle all your data with Webservices, I think you should go with the lighter and less bandwith consuming option: REST.  \r\nAlso REST is the new and hip technology that everyone uses at the moment... ;)  \r\n\r\n  \r\nAbout your indesign plugin: You **should** be able to include any library you want, so that shouldn&#39;t be a problem.","title":"SOAP or REST? Specific Project","body":"<p>I found this really great article on the advantages and disadvantages of SOAP vs REST: <a href=\"http://geeknizer.com/rest-vs-soap-using-http-choosing-the-right-webservice-protocol/\" rel=\"nofollow\">http://geeknizer.com/rest-vs-soap-using-http-choosing-the-right-webservice-protocol/</a></p>\n\n<p>And my own humble opionion:<br>\nI don't like SOAP, I never did. It's been great at the time, but it just never felt \"right\". If you've ever tried to read one of these huge overloaded XML-documents and compared it to the REST output (which is JSON most of the time) you know what I mean. IMHO just feels \"better\".<br>\nOne problem is that you have to document your REST API better, but that shouldn't be that big problem as long as it is not open to everyone.<br>\nEspecially if you handle all your data with Webservices, I think you should go with the lighter and less bandwith consuming option: REST.<br>\nAlso REST is the new and hip technology that everyone uses at the moment... ;)  </p>\n\n<p>About your indesign plugin: You <strong>should</strong> be able to include any library you want, so that shouldn't be a problem.</p>\n"}],"owner":{"display_name":"user563892"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":6015577,"answer_count":1,"score":3,"last_activity_date":1654201527,"creation_date":1305536661,"question_id":6015138,"body_markdown":"I&#39;m trying to figure out wether I should use SOAP or REST for a specific project. I will explain what the project is or needs to do, and I hope some of you will give me useful information about why I should use one over the other.\r\n\r\nThe project I need to work on is totally web service based. Every frond end implementation needs to access webservices to get all the information it needs. But Beyond that, we also have an Indesign plugin that talks to these webservices to upload documents and check validations on the document etc.\r\n\r\nSo to make it short, I need to access the web services via front end web gui&#39;s and via an indesign plugin. The latter makes me wonder wether I should use REST or SOAP.\r\n\r\nThanks alot for reading this and posting you feedback.","title":"SOAP or REST? Specific Project","body":"<p>I'm trying to figure out wether I should use SOAP or REST for a specific project. I will explain what the project is or needs to do, and I hope some of you will give me useful information about why I should use one over the other.</p>\n\n<p>The project I need to work on is totally web service based. Every frond end implementation needs to access webservices to get all the information it needs. But Beyond that, we also have an Indesign plugin that talks to these webservices to upload documents and check validations on the document etc.</p>\n\n<p>So to make it short, I need to access the web services via front end web gui's and via an indesign plugin. The latter makes me wonder wether I should use REST or SOAP.</p>\n\n<p>Thanks alot for reading this and posting you feedback.</p>\n"},{"tags":["java","jsf","refresh"],"comments":[{"owner":{"account_id":1302561,"reputation":7519,"user_id":1252186,"display_name":"SimonSez"},"score":1,"creation_date":1348673776,"post_id":12605306,"comment_id":16991049,"body_markdown":"IMHO it&#39;s not the best way to refresh a view out of the backend. Most of those cases can be avoided by doing a partial request triggered from the view. I would like to give you a hand but for doing so I&#39;ll need to see some of your code and maybe a detailed explanation of what you want to do. Cheers!","body":"IMHO it&#39;s not the best way to refresh a view out of the backend. Most of those cases can be avoided by doing a partial request triggered from the view. I would like to give you a hand but for doing so I&#39;ll need to see some of your code and maybe a detailed explanation of what you want to do. Cheers!"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1348674307,"post_id":12605306,"comment_id":16991306,"body_markdown":"There are many ways to achieve this, depending on the concrete functional requirement and the available/used libraries. This information is however completely missing in your question. Please edit and improve your question to elaborate more about them.","body":"There are many ways to achieve this, depending on the concrete functional requirement and the available/used libraries. This information is however completely missing in your question. Please edit and improve your question to elaborate more about them."},{"owner":{"account_id":1864588,"reputation":2648,"user_id":2474510,"accept_rate":86,"display_name":"Karim Oukara"},"score":0,"creation_date":1348674735,"post_id":12605306,"comment_id":16991537,"body_markdown":"the problem is :\n\n  I have a JavaBean, which receives data from a webService. this data changes regularly. when a variable changes value, I want to display it in the IHM page.\n\nI want that my application detects these changes and refresh the page automatiquely","body":"the problem is :    I have a JavaBean, which receives data from a webService. this data changes regularly. when a variable changes value, I want to display it in the IHM page.  I want that my application detects these changes and refresh the page automatiquely"},{"owner":{"account_id":442769,"reputation":2005,"user_id":833573,"accept_rate":60,"display_name":"roel"},"score":0,"creation_date":1348675831,"post_id":12605306,"comment_id":16992046,"body_markdown":"There is no push in html, so you need to let the page check every x time. Call the bean and let the bean call the webservice to see if teh value has changed.","body":"There is no push in html, so you need to let the page check every x time. Call the bean and let the bean call the webservice to see if teh value has changed."},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1348680163,"post_id":12605306,"comment_id":16993949,"body_markdown":"@roel That&#39;s not quite true, look at [Comet](http://cometd.org/) (and probably a bunch of other tools) for instance. Server-to-client communication is a very important problem for Web 2.0 apps and it&#39;s not exactly being ignored. (That said, Comet isn&#39;t a JSF technology and it might not be particularly convenient to integrate it. It depends on the OP&#39;s requirements if it&#39;s the right solution compared to long polling.)","body":"@roel That&#39;s not quite true, look at <a href=\"http://cometd.org/\" rel=\"nofollow noreferrer\">Comet</a> (and probably a bunch of other tools) for instance. Server-to-client communication is a very important problem for Web 2.0 apps and it&#39;s not exactly being ignored. (That said, Comet isn&#39;t a JSF technology and it might not be particularly convenient to integrate it. It depends on the OP&#39;s requirements if it&#39;s the right solution compared to long polling.)"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1348691596,"post_id":12605306,"comment_id":16998728,"body_markdown":"@roel: there&#39;s also web sockets (which PrimeFaces Push is using).","body":"@roel: there&#39;s also web sockets (which PrimeFaces Push is using)."},{"owner":{"account_id":1864588,"reputation":2648,"user_id":2474510,"accept_rate":86,"display_name":"Karim Oukara"},"score":0,"creation_date":1348755622,"post_id":12605306,"comment_id":17020091,"body_markdown":"thx for your responses !\n\nto summarize. I understand that the communication `server&gt; IHM` is impossible. or IHM   must ask the changes !","body":"thx for your responses !  to summarize. I understand that the communication <code>server&gt; IHM</code> is impossible. or IHM   must ask the changes !"}],"answers":[{"tags":[],"owner":{"account_id":1302561,"reputation":7519,"user_id":1252186,"display_name":"SimonSez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654201454,"creation_date":1348675733,"answer_id":12605950,"question_id":12605306,"body_markdown":"One quick way would be to use a third-party library like [PrimeFaces][1]  \r\n\r\nThis library includes a component called **[poll][2]** with wich you can check your backend in a preset interval and update your view component(s) on changes.  \r\nCheck out the link to see an easy example.\r\n\r\nHope this helpes. Have Fun!\r\n\r\n\r\n  [1]: https://www.primefaces.org\r\n  [2]: https://www.primefaces.org/showcase/ui/ajax/poll.xhtml","title":"how to refresh a jsf page from a JavaBean","body":"<p>One quick way would be to use a third-party library like <a href=\"https://www.primefaces.org\" rel=\"nofollow noreferrer\">PrimeFaces</a></p>\n<p>This library includes a component called <strong><a href=\"https://www.primefaces.org/showcase/ui/ajax/poll.xhtml\" rel=\"nofollow noreferrer\">poll</a></strong> with wich you can check your backend in a preset interval and update your view component(s) on changes.<br />\nCheck out the link to see an easy example.</p>\n<p>Hope this helpes. Have Fun!</p>\n"},{"tags":[],"owner":{"account_id":1577680,"reputation":618,"user_id":1463748,"accept_rate":40,"display_name":"Alvin Pradeep"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1348684115,"creation_date":1348679339,"answer_id":12606929,"question_id":12605306,"body_markdown":"Use ajax polling. Demos:\r\n\r\n- [RichFaces 3.3 Demo](http://livedemo.exadel.com/richfaces-demo/richfaces/poll.jsf)\r\n- [RichFaces 4.x Demo](http://showcase.richfaces.org/richfaces/component-sample.jsf?demo=poll)\r\n- [PrimeFaces 3.4 Demo](http://www.primefaces.org/showcase/ui/poll.jsf)\r\n\r\nNote that RichFaces 3.3 works with JSF 1.2 and JSF 2, RichFaces 4.x and PrimeFaces 3.x works with JSF 2.x","title":"how to refresh a jsf page from a JavaBean","body":"<p>Use ajax polling. Demos:</p>\n\n<ul>\n<li><a href=\"http://livedemo.exadel.com/richfaces-demo/richfaces/poll.jsf\" rel=\"nofollow\">RichFaces 3.3 Demo</a></li>\n<li><a href=\"http://showcase.richfaces.org/richfaces/component-sample.jsf?demo=poll\" rel=\"nofollow\">RichFaces 4.x Demo</a></li>\n<li><a href=\"http://www.primefaces.org/showcase/ui/poll.jsf\" rel=\"nofollow\">PrimeFaces 3.4 Demo</a></li>\n</ul>\n\n<p>Note that RichFaces 3.3 works with JSF 1.2 and JSF 2, RichFaces 4.x and PrimeFaces 3.x works with JSF 2.x</p>\n"},{"tags":[],"owner":{"account_id":1412986,"reputation":187,"user_id":1339229,"display_name":"Dipul Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348722995,"creation_date":1348722995,"answer_id":12614521,"question_id":12605306,"body_markdown":"You can use poll option of ajax in jsf like\r\n\r\n    &lt;a4j:poll interval=&quot;timeinms&quot; reRender=&quot;jsfcomponent&quot;&gt; &lt;/a4j:poll&gt;","title":"how to refresh a jsf page from a JavaBean","body":"<p>You can use poll option of ajax in jsf like</p>\n\n<pre><code>&lt;a4j:poll interval=\"timeinms\" reRender=\"jsfcomponent\"&gt; &lt;/a4j:poll&gt;\n</code></pre>\n"}],"owner":{"account_id":1864588,"reputation":2648,"user_id":2474510,"accept_rate":86,"display_name":"Karim Oukara"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654346352,"accepted_answer_id":12606929,"answer_count":3,"score":0,"last_activity_date":1654201454,"creation_date":1348673513,"question_id":12605306,"body_markdown":"I want to refresh an XHTML page (jsf) or part of this page, when a variable in a manageBean changes the value.\r\n\r\n**The problem is:**\r\n\r\nI have a JavaBean, which receives data from a webService. This data changes regularly. when a variable changes value, I want to display it in the IHM page.\r\n\r\nI want that my application detects these changes and refresh the page automatically.\r\n\r\nThank you.","title":"how to refresh a jsf page from a JavaBean","body":"<p>I want to refresh an XHTML page (jsf) or part of this page, when a variable in a manageBean changes the value.</p>\n\n<p><strong>The problem is:</strong></p>\n\n<p>I have a JavaBean, which receives data from a webService. This data changes regularly. when a variable changes value, I want to display it in the IHM page.</p>\n\n<p>I want that my application detects these changes and refresh the page automatically.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","android","error-handling","android-sqlite","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654201141,"creation_date":1654200771,"answer_id":72481848,"question_id":72475914,"body_markdown":"You need to Embed the Favorite class within the FavoriteAdapterData class using the **[@Embedded][1]** annotation, then it will determine the columns and outputfields from the Favorite class&#39;s fields/variables\r\n\r\ne.g. :-\r\n\r\n    public class FavoriteAdapterData {\r\n        int cartQuantity = 0;\r\n        @Embedded\r\n        Favorite favorite;\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/room/Embedded","title":"How Select From Multiple Entity into a new Object with Room-Database?","body":"<p>You need to Embed the Favorite class within the FavoriteAdapterData class using the <strong><a href=\"https://developer.android.com/reference/androidx/room/Embedded\" rel=\"nofollow noreferrer\">@Embedded</a></strong> annotation, then it will determine the columns and outputfields from the Favorite class's fields/variables</p>\n<p>e.g. :-</p>\n<pre><code>public class FavoriteAdapterData {\n    int cartQuantity = 0;\n    @Embedded\n    Favorite favorite;\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":24550962,"reputation":625,"user_id":18460115,"display_name":"Aiman Alyosofi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72481848,"answer_count":1,"score":1,"last_activity_date":1654201141,"creation_date":1654171057,"question_id":72475914,"body_markdown":"I Have this tow POJOs For RoomDB Entity \r\n\r\n```\r\n@Entity\r\npublic class Favorite {...}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class ProductCart {\r\n    Integer productQuantity;\r\n    ...\r\n}\r\n```\r\n\r\nI need to apply this `select` statment and return it inside the object `FavoriteAdapterData`\r\n```\r\nSELECT favorite.*,\r\n       (SELECT CASE count(productQuantity)\r\n               WHEN 0 THEN 0\r\n                      ELSE productQuantity\r\n               END  FROM ProductCart \r\n        WHERE favorite.id = productId) AS cartQuantity\r\nFROM Favorite favorite\r\n```\r\n\r\n[Sqlite statment test][1]\r\n\r\n```\r\npublic class FavoriteAdapterData {\r\n    int cartQuantity = 0;\r\n    Favorite favorite;\r\n    ...\r\n}\r\n```\r\n\r\n\r\n*I try the following code*\r\n\r\n```\r\n@Query(&quot;SELECT  &quot; +\r\n            &quot;      (    SELECT CASE count(productQuantity) &quot; +\r\n            &quot;           WHEN 0  THEN 0 &quot; +\r\n            &quot;                   ELSE productQuantity  &quot; +\r\n            &quot;           END  &quot; +\r\n            &quot;           FROM ProductCart &quot; +\r\n            &quot;           WHERE productId = favorite.id&quot; +\r\n            &quot;       ) AS cartQuantity&quot; +\r\n            &quot;       ,favorite.* &quot; +\r\n            &quot;FROM Favorite favorite&quot;)\r\n    LiveData&lt;List&lt;FavoriteAdapterData&gt;&gt; getFavoriteProducts();\r\n```\r\n\r\nBut It didn&#39;t work and Android Studio notfi me this error:\r\n```\r\nCannot figure out how to read this field from a cursor. \r\nFavorite favorite; \r\n             ^\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pcwBe.png","title":"How Select From Multiple Entity into a new Object with Room-Database?","body":"<p>I Have this tow POJOs For RoomDB Entity</p>\n<pre><code>@Entity\npublic class Favorite {...}\n</code></pre>\n<pre><code>@Entity\npublic class ProductCart {\n    Integer productQuantity;\n    ...\n}\n</code></pre>\n<p>I need to apply this <code>select</code> statment and return it inside the object <code>FavoriteAdapterData</code></p>\n<pre><code>SELECT favorite.*,\n       (SELECT CASE count(productQuantity)\n               WHEN 0 THEN 0\n                      ELSE productQuantity\n               END  FROM ProductCart \n        WHERE favorite.id = productId) AS cartQuantity\nFROM Favorite favorite\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pcwBe.png\" rel=\"nofollow noreferrer\">Sqlite statment test</a></p>\n<pre><code>public class FavoriteAdapterData {\n    int cartQuantity = 0;\n    Favorite favorite;\n    ...\n}\n</code></pre>\n<p><em>I try the following code</em></p>\n<pre><code>@Query(&quot;SELECT  &quot; +\n            &quot;      (    SELECT CASE count(productQuantity) &quot; +\n            &quot;           WHEN 0  THEN 0 &quot; +\n            &quot;                   ELSE productQuantity  &quot; +\n            &quot;           END  &quot; +\n            &quot;           FROM ProductCart &quot; +\n            &quot;           WHERE productId = favorite.id&quot; +\n            &quot;       ) AS cartQuantity&quot; +\n            &quot;       ,favorite.* &quot; +\n            &quot;FROM Favorite favorite&quot;)\n    LiveData&lt;List&lt;FavoriteAdapterData&gt;&gt; getFavoriteProducts();\n</code></pre>\n<p>But It didn't work and Android Studio notfi me this error:</p>\n<pre><code>Cannot figure out how to read this field from a cursor. \nFavorite favorite; \n             ^\n</code></pre>\n"},{"tags":["java","android","bluetooth-lowenergy","android-permissions","huawei-developers"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1653946226,"post_id":72440002,"comment_id":127970447,"body_markdown":"I&#39;ve removed `material:1.0.0`... while this example is pretty bad (likely broken), since it mixes GMS &amp; HMS; you cannot have it both ways, within the same source-set - else these will clash.","body":"I&#39;ve removed <code>material:1.0.0</code>... while this example is pretty bad (likely broken), since it mixes GMS &amp; HMS; you cannot have it both ways, within the same source-set - else these will clash."}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653949312,"creation_date":1653947810,"answer_id":72440385,"question_id":72440002,"body_markdown":"For Android these permissions are required for BLE, including scanning for devices:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\r\n\r\nAnd one should also declare the requirement for the neccessary hardware:\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;true&quot;/&gt;\r\n\r\n ---\r\n\r\nWhen building for HarmonyOS (native) with DevEco Studio, this works a little different:\r\nhttps://developer.harmonyos.com/en/docs/documentation/doc-guides/connectivity-ble-advertising-0000001051008453\r\n\r\nAnd it would require these permissions in `entry/src/main/config.json`:\r\n\r\n    ohos.permission.USE_BLUETOOTH\r\n    ohos.permission.DISCOVER_BLUETOOTH\r\n    ohos.permission.LOCATION\r\n\r\nThere&#39;s also a codelab: [How to Enable Communication Between Devices Through BLE](https://developer.huawei.com/consumer/en/codelabsPortal/carddetails/HarmonyOS-BLE)","title":"BLE Connection for HarmonyOS 2.0.0","body":"<p>For Android these permissions are required for BLE, including scanning for devices:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\n</code></pre>\n<p>And one should also declare the requirement for the neccessary hardware:</p>\n<pre><code>&lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;true&quot;/&gt;\n</code></pre>\n<hr />\n<p>When building for HarmonyOS (native) with DevEco Studio, this works a little different:\n<a href=\"https://developer.harmonyos.com/en/docs/documentation/doc-guides/connectivity-ble-advertising-0000001051008453\" rel=\"nofollow noreferrer\">https://developer.harmonyos.com/en/docs/documentation/doc-guides/connectivity-ble-advertising-0000001051008453</a></p>\n<p>And it would require these permissions in <code>entry/src/main/config.json</code>:</p>\n<pre><code>ohos.permission.USE_BLUETOOTH\nohos.permission.DISCOVER_BLUETOOTH\nohos.permission.LOCATION\n</code></pre>\n<p>There's also a codelab: <a href=\"https://developer.huawei.com/consumer/en/codelabsPortal/carddetails/HarmonyOS-BLE\" rel=\"nofollow noreferrer\">How to Enable Communication Between Devices Through BLE</a></p>\n"},{"tags":[],"owner":{"account_id":19615962,"reputation":1997,"user_id":14357441,"display_name":"Zinna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654201095,"creation_date":1654201095,"answer_id":72481897,"question_id":72440002,"body_markdown":"There is no special dependencies libraries that you have to install. I have try this app (link below) on my Huawei Mate 30 pro which is a HamonyOS 2.0.0 phone and it works. It pop up a screen to ask user to enable Bluetooth and give it permission to use the device.\r\n\r\nIf you still have problem please provide the log file, phone model and HarmonyOS build number.\r\n\r\nHere the link to the app I&#39;ve tried\r\n\r\nhttps://github.com/android/connectivity-samples/tree/master/BluetoothChat\r\n\r\nHere the link to the article incase you want to learn more. https://developer.android.com/guide/topics/connectivity/bluetooth\r\n\r\nHere HarmonyOS version of Bluetooth info\r\n\r\nhttps://developer.harmonyos.com/en/docs/documentation/doc-guides/connectivity-bluetooth-overview-0000000000029991\r\n\r\nHowever for better user experience it&#39;s recommended that you use DevEco IDE Huawei version of IDE that develop specifically to work with HarmonyOS instead of Android Studio\r\n\r\nHere the link to learn more https://developer.harmonyos.com/en/","title":"BLE Connection for HarmonyOS 2.0.0","body":"<p>There is no special dependencies libraries that you have to install. I have try this app (link below) on my Huawei Mate 30 pro which is a HamonyOS 2.0.0 phone and it works. It pop up a screen to ask user to enable Bluetooth and give it permission to use the device.</p>\n<p>If you still have problem please provide the log file, phone model and HarmonyOS build number.</p>\n<p>Here the link to the app I've tried</p>\n<p><a href=\"https://github.com/android/connectivity-samples/tree/master/BluetoothChat\" rel=\"nofollow noreferrer\">https://github.com/android/connectivity-samples/tree/master/BluetoothChat</a></p>\n<p>Here the link to the article incase you want to learn more. <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/connectivity/bluetooth</a></p>\n<p>Here HarmonyOS version of Bluetooth info</p>\n<p><a href=\"https://developer.harmonyos.com/en/docs/documentation/doc-guides/connectivity-bluetooth-overview-0000000000029991\" rel=\"nofollow noreferrer\">https://developer.harmonyos.com/en/docs/documentation/doc-guides/connectivity-bluetooth-overview-0000000000029991</a></p>\n<p>However for better user experience it's recommended that you use DevEco IDE Huawei version of IDE that develop specifically to work with HarmonyOS instead of Android Studio</p>\n<p>Here the link to learn more <a href=\"https://developer.harmonyos.com/en/\" rel=\"nofollow noreferrer\">https://developer.harmonyos.com/en/</a></p>\n"}],"owner":{"account_id":25090019,"reputation":31,"user_id":18941766,"display_name":"shiho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654201095,"creation_date":1653944441,"question_id":72440002,"body_markdown":"I&#39;m using Android Studio to create a BLE Scanner but I can&#39;t seem to request for permissions on my phone. I&#39;m using a Huawei HarmonyOS 2.0.0 phone and my coworker is using a Samsung Android 11 phone and it works fine on his phone.\r\n\r\nIs there a specific dependency I need to implement or something in order for it to work on my phone? I saw somewhere that, for location permissions, we need to implement a separate library. ([Here&#39;s the source][1]). Would that be the same for BLE and Bluetooth?\r\n\r\nThese are my current dependencies:\r\n\r\n    dependencies {\r\n        implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n        implementation &#39;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&#39;\r\n        implementation &quot;androidx.core:core-splashscreen:1.0.0-alpha01&quot;\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.jjoe64:graphview:4.2.2&#39;\r\n    \r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n\r\n  [1]: https://medium.com/@nickolajarjous333/android-location-service-for-both-huawei-and-android-devices-29bdad42bdf4","title":"BLE Connection for HarmonyOS 2.0.0","body":"<p>I'm using Android Studio to create a BLE Scanner but I can't seem to request for permissions on my phone. I'm using a Huawei HarmonyOS 2.0.0 phone and my coworker is using a Samsung Android 11 phone and it works fine on his phone.</p>\n<p>Is there a specific dependency I need to implement or something in order for it to work on my phone? I saw somewhere that, for location permissions, we need to implement a separate library. (<a href=\"https://medium.com/@nickolajarjous333/android-location-service-for-both-huawei-and-android-devices-29bdad42bdf4\" rel=\"nofollow noreferrer\">Here's the source</a>). Would that be the same for BLE and Bluetooth?</p>\n<p>These are my current dependencies:</p>\n<pre><code>dependencies {\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0'\n    implementation &quot;androidx.core:core-splashscreen:1.0.0-alpha01&quot;\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.jjoe64:graphview:4.2.2'\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n"},{"tags":["java","spring-boot","swagger-ui","swagger-2.0","springfox"],"comments":[{"owner":{"account_id":7850960,"reputation":2951,"user_id":5934435,"display_name":"Sampada"},"score":0,"creation_date":1462170127,"post_id":36198827,"comment_id":61507500,"body_markdown":"were you able to resolve this @Martin?","body":"were you able to resolve this @Martin?"},{"owner":{"account_id":552332,"reputation":1288,"user_id":917432,"accept_rate":59,"display_name":"Martin Asenov"},"score":3,"creation_date":1462262790,"post_id":36198827,"comment_id":61550810,"body_markdown":"I just did Docket.pathMapping(&quot;serviceName&quot;), but I think this is just a raw workaround for missing functionality in Springfox, still waiting for an answer","body":"I just did Docket.pathMapping(&quot;serviceName&quot;), but I think this is just a raw workaround for missing functionality in Springfox, still waiting for an answer"},{"owner":{"account_id":2081947,"reputation":1968,"user_id":1853780,"accept_rate":50,"display_name":"Barium Scoorge"},"score":2,"creation_date":1468844109,"post_id":36198827,"comment_id":64278319,"body_markdown":"Iḿ looking for the same thing..","body":"Iḿ looking for the same thing.."},{"owner":{"account_id":2594364,"reputation":652,"user_id":2724241,"display_name":"red"},"score":0,"creation_date":1557247324,"post_id":36198827,"comment_id":98697796,"body_markdown":"Did you manage to resolve that issue @MartinAsenov?","body":"Did you manage to resolve that issue @MartinAsenov?"}],"answers":[{"tags":[],"owner":{"account_id":1706616,"reputation":476,"user_id":1565548,"accept_rate":71,"display_name":"astafev.evgeny"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1492355495,"creation_date":1492355495,"answer_id":43438667,"question_id":36198827,"body_markdown":"&lt;!-- language: lang-java --&gt;\r\n\r\n    @Bean\r\n    public Docket newsApi(ServletContext servletContext) {\r\n        return new Docket(DocumentationType.SWAGGER_2).pathProvider(new RelativePathProvider(servletContext) {\r\n            @Override\r\n            public String getApplicationBasePath() {\r\n                return &quot;/serviceName&quot; + super.getApplicationBasePath();\r\n            }\r\n        }).host(&quot;proxyURL&quot;);\r\n    }\r\n","title":"How to change basePath for Springfox Swagger 2.0","body":"<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Docket newsApi(ServletContext servletContext) {\n    return new Docket(DocumentationType.SWAGGER_2).pathProvider(new RelativePathProvider(servletContext) {\n        @Override\n        public String getApplicationBasePath() {\n            return \"/serviceName\" + super.getApplicationBasePath();\n        }\n    }).host(\"proxyURL\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11913998,"reputation":20337,"user_id":8718377,"display_name":"veben"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1586433568,"creation_date":1586274762,"answer_id":61084119,"question_id":36198827,"body_markdown":"## You can edit your **SwaggerConfiguration** like that:\r\n\r\n&gt; Take care to replace the `package` (which need to be the one\r\n&gt; containing your REST controllers), the `host`, and the `PATH` you need\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfiguration implements WebMvcConfigurer {\r\n    \t\r\n    \tpublic static final String PATH = &quot;/serviceName&quot;;\r\n    \r\n        @Bean\r\n        public Docket api() {\r\n            final var package = &quot;com.martin.rest&quot;;\r\n\t\t    final var host = &quot;localhost:8080&quot;;\r\n\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .host(host)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.basePackage(package))\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            final var apiDocs = &quot;/v2/api-docs&quot;;\r\n            final var configUi = &quot;/swagger-resources/configuration/ui&quot;;\r\n            final var configSecurity = &quot;/swagger-resources/configuration/security&quot;;\r\n            final var resources = &quot;/swagger-resources&quot;;\r\n    \r\n            registry.addRedirectViewController(PATH + apiDocs, apiDocs).setKeepQueryParams(true);\r\n            registry.addRedirectViewController(PATH + resources, resources);\r\n            registry.addRedirectViewController(PATH + configUi, configUi);\r\n            registry.addRedirectViewController(PATH + configSecurity, configSecurity);\r\n            registry.addRedirectViewController(PATH, &quot;/&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(PATH + &quot;/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n        }\r\n    }\r\n\r\n## Another solution is by changing the spring-boot URL **context-path**:\r\n\r\nEdit pour `application.properties` file:\r\n\r\n    server.servlet.context-path=/serviceName\r\n\r\nOr if you have an `application.yml` file:\r\n\r\n    server:\r\n      servlet:\r\n        context-path: /serviceName\r\n\r\nWarning: **It will change the base path of all your web services, not only Swagger**","title":"How to change basePath for Springfox Swagger 2.0","body":"<h2>You can edit your <strong>SwaggerConfiguration</strong> like that:</h2>\n\n<blockquote>\n  <p>Take care to replace the <code>package</code> (which need to be the one\n  containing your REST controllers), the <code>host</code>, and the <code>PATH</code> you need</p>\n</blockquote>\n\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfiguration implements WebMvcConfigurer {\n\n    public static final String PATH = \"/serviceName\";\n\n    @Bean\n    public Docket api() {\n        final var package = \"com.martin.rest\";\n        final var host = \"localhost:8080\";\n\n        return new Docket(DocumentationType.SWAGGER_2)\n                .host(host)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(package))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        final var apiDocs = \"/v2/api-docs\";\n        final var configUi = \"/swagger-resources/configuration/ui\";\n        final var configSecurity = \"/swagger-resources/configuration/security\";\n        final var resources = \"/swagger-resources\";\n\n        registry.addRedirectViewController(PATH + apiDocs, apiDocs).setKeepQueryParams(true);\n        registry.addRedirectViewController(PATH + resources, resources);\n        registry.addRedirectViewController(PATH + configUi, configUi);\n        registry.addRedirectViewController(PATH + configSecurity, configSecurity);\n        registry.addRedirectViewController(PATH, \"/\");\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(PATH + \"/**\").addResourceLocations(\"classpath:/META-INF/resources/\");\n    }\n}\n</code></pre>\n\n<h2>Another solution is by changing the spring-boot URL <strong>context-path</strong>:</h2>\n\n<p>Edit pour <code>application.properties</code> file:</p>\n\n<pre><code>server.servlet.context-path=/serviceName\n</code></pre>\n\n<p>Or if you have an <code>application.yml</code> file:</p>\n\n<pre><code>server:\n  servlet:\n    context-path: /serviceName\n</code></pre>\n\n<p>Warning: <strong>It will change the base path of all your web services, not only Swagger</strong></p>\n"},{"tags":[],"owner":{"account_id":17318550,"reputation":41,"user_id":12544475,"display_name":"Eko Prasetyo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590898768,"creation_date":1590892936,"answer_id":62110930,"question_id":36198827,"body_markdown":"Using spring fox 2.9.2, using solution mentioned by other users is not works.\r\n\r\nWhat is not working:\r\n\r\n - Overriding getApplicationBasePath on Docket pathProvider\r\n - Adding server.servlet.context-path=/serviceName\r\n\r\nI don&#39;t know why they are not work, but in my project that using Springboot 2.1.6.RELEASE and Spring 5.1.8.RELEASE, the two solution above is being ignored.\r\n\r\nSo, I am trying another approach: https://github.com/springfox/springfox/issues/2817#issuecomment-517753110\r\n\r\nAccording to the github issue comment, I need to override Springfox json serialize class and thank god this works.\r\nHere is the code example:\r\n\r\n\r\n```\r\nimport io.swagger.models.Swagger;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.stereotype.Component;\r\nimport springfox.documentation.spring.web.json.JacksonModuleRegistrar;\r\nimport springfox.documentation.spring.web.json.Json;\r\nimport springfox.documentation.spring.web.json.JsonSerializer;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport static io.github.jhipster.config.JHipsterConstants.SPRING_PROFILE_PRODUCTION;\r\n\r\n@Component\r\n@Primary\r\npublic class CustomBasePathSerialize extends JsonSerializer {\r\n\r\n    // this injection is optional, if you don&#39;t need to\r\n    // add basePath based on active profile, remove this.\r\n    private final Environment env;\r\n\r\n    public CustomBasePathSerialize(List&lt;JacksonModuleRegistrar&gt; modules,\r\n                                   Environment env) {\r\n        super(modules);\r\n        this.env = env;\r\n    }\r\n\r\n    @Override\r\n    public Json toJson(Object toSerialize) {\r\n        if (toSerialize instanceof Swagger) {\r\n            Swagger swagger = (Swagger) toSerialize;\r\n            String basePath = &quot;/serviceName&quot;;\r\n            List&lt;String&gt; profiles = Arrays.asList(env.getActiveProfiles());\r\n            \r\n            // OPTIONAL: you can change basePath if you have difference path \r\n            // on any Spring profile, for example prod:\r\n            if (profiles.contains(SPRING_PROFILE_PRODUCTION)) {\r\n                basePath = &quot;/&quot;;\r\n            }\r\n            swagger.basePath(basePath);\r\n        }\r\n        return super.toJson(toSerialize);\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to change basePath for Springfox Swagger 2.0","body":"<p>Using spring fox 2.9.2, using solution mentioned by other users is not works.</p>\n\n<p>What is not working:</p>\n\n<ul>\n<li>Overriding getApplicationBasePath on Docket pathProvider</li>\n<li>Adding server.servlet.context-path=/serviceName</li>\n</ul>\n\n<p>I don't know why they are not work, but in my project that using Springboot 2.1.6.RELEASE and Spring 5.1.8.RELEASE, the two solution above is being ignored.</p>\n\n<p>So, I am trying another approach: <a href=\"https://github.com/springfox/springfox/issues/2817#issuecomment-517753110\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/2817#issuecomment-517753110</a></p>\n\n<p>According to the github issue comment, I need to override Springfox json serialize class and thank god this works.\nHere is the code example:</p>\n\n<pre><code>import io.swagger.models.Swagger;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.core.env.Environment;\nimport org.springframework.stereotype.Component;\nimport springfox.documentation.spring.web.json.JacksonModuleRegistrar;\nimport springfox.documentation.spring.web.json.Json;\nimport springfox.documentation.spring.web.json.JsonSerializer;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport static io.github.jhipster.config.JHipsterConstants.SPRING_PROFILE_PRODUCTION;\n\n@Component\n@Primary\npublic class CustomBasePathSerialize extends JsonSerializer {\n\n    // this injection is optional, if you don't need to\n    // add basePath based on active profile, remove this.\n    private final Environment env;\n\n    public CustomBasePathSerialize(List&lt;JacksonModuleRegistrar&gt; modules,\n                                   Environment env) {\n        super(modules);\n        this.env = env;\n    }\n\n    @Override\n    public Json toJson(Object toSerialize) {\n        if (toSerialize instanceof Swagger) {\n            Swagger swagger = (Swagger) toSerialize;\n            String basePath = \"/serviceName\";\n            List&lt;String&gt; profiles = Arrays.asList(env.getActiveProfiles());\n\n            // OPTIONAL: you can change basePath if you have difference path \n            // on any Spring profile, for example prod:\n            if (profiles.contains(SPRING_PROFILE_PRODUCTION)) {\n                basePath = \"/\";\n            }\n            swagger.basePath(basePath);\n        }\n        return super.toJson(toSerialize);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19225000,"reputation":11,"user_id":14048058,"display_name":"bernie_boy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654200011,"creation_date":1654200011,"answer_id":72481710,"question_id":36198827,"body_markdown":"I added the following config into my application.yaml file:\r\n\r\n    springdoc:\r\n     swagger-ui:\r\n      configUrl: /pathProvider/v3/api-docs/swagger-config\r\n      disable-swagger-default-url: true\r\n      urls[0]:\r\n       url: /pathProvider/v3/api-docs/mobile-bff\r\n       name: pathName\r\n\r\nwhere pathProvider should be replaced by the PathProvider config in the old swagger 2 yaml...\r\n\r\nand also, had do add a server into the OpenAPI object with the same PathProvider name.\r\n\r\n    @Bean fun springShopOpenAPI(): OpenAPI? { return OpenAPI().addServersItem(Server().url(&quot;/pathProvider&quot;))","title":"How to change basePath for Springfox Swagger 2.0","body":"<p>I added the following config into my application.yaml file:</p>\n<pre><code>springdoc:\n swagger-ui:\n  configUrl: /pathProvider/v3/api-docs/swagger-config\n  disable-swagger-default-url: true\n  urls[0]:\n   url: /pathProvider/v3/api-docs/mobile-bff\n   name: pathName\n</code></pre>\n<p>where pathProvider should be replaced by the PathProvider config in the old swagger 2 yaml...</p>\n<p>and also, had do add a server into the OpenAPI object with the same PathProvider name.</p>\n<pre><code>@Bean fun springShopOpenAPI(): OpenAPI? { return OpenAPI().addServersItem(Server().url(&quot;/pathProvider&quot;))\n</code></pre>\n"}],"owner":{"account_id":552332,"reputation":1288,"user_id":917432,"accept_rate":59,"display_name":"Martin Asenov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27800,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":4,"score":35,"last_activity_date":1654200011,"creation_date":1458817988,"question_id":36198827,"body_markdown":"I&#39;m running a service, where Swagger UI is accessible at:\r\n\r\n    http://serviceURL/swagger-ui.html\r\n\r\nHowever, it is behind a proxy, such as:\r\n\r\n    http://proxyURL/serviceName\r\n\r\nGenerated URLs by Swagger UI are looking like:\r\n\r\n    http://proxyURL/\r\n\r\ninstead of the actual URL with the serviceName as suffix.\r\nAs far as I get it, this means manipulating the basePath property. As per documentation:\r\n\r\n&gt; A swagger API documentation can no longer describe operations on\r\n&gt; different base paths. In 1.2 and earlier, each resource could have had\r\n&gt; a separate basePath. In 2.0, the basePath equivalents\r\n&gt; (schemes+host+basePath) are defined for the whole specification.\r\n\r\n@Api(basePath) is deprecated, and it doesn&#39;t say what to use and how to use it. How to make the paths generated by Swagger appear properly?\r\n\r\nI&#39;m using **Spring Boo**t, Springfox **Swagger** and annotations.","title":"How to change basePath for Springfox Swagger 2.0","body":"<p>I'm running a service, where Swagger UI is accessible at:</p>\n\n<pre><code>http://serviceURL/swagger-ui.html\n</code></pre>\n\n<p>However, it is behind a proxy, such as:</p>\n\n<pre><code>http://proxyURL/serviceName\n</code></pre>\n\n<p>Generated URLs by Swagger UI are looking like:</p>\n\n<pre><code>http://proxyURL/\n</code></pre>\n\n<p>instead of the actual URL with the serviceName as suffix.\nAs far as I get it, this means manipulating the basePath property. As per documentation:</p>\n\n<blockquote>\n  <p>A swagger API documentation can no longer describe operations on\n  different base paths. In 1.2 and earlier, each resource could have had\n  a separate basePath. In 2.0, the basePath equivalents\n  (schemes+host+basePath) are defined for the whole specification.</p>\n</blockquote>\n\n<p>@Api(basePath) is deprecated, and it doesn't say what to use and how to use it. How to make the paths generated by Swagger appear properly?</p>\n\n<p>I'm using <strong>Spring Boo</strong>t, Springfox <strong>Swagger</strong> and annotations.</p>\n"},{"tags":["java","postgresql","jpa","eclipselink","auto-increment"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1654202531,"post_id":72481706,"comment_id":128041733,"body_markdown":"If you are inserting rows up to/including row id 1092770, you should also insert that value into the sequence, and should define that start value in your sequence object (see initialValue in SequenceGenerator https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/SequenceGenerator ). As this is a one time operation, having it query and set a value each time a persistence unit starts isn&#39;t ideal: I don&#39;t believe there are automated api for it so you&#39;d have to write your own","body":"If you are inserting rows up to/including row id 1092770, you should also insert that value into the sequence, and should define that start value in your sequence object (see initialValue in SequenceGenerator <a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/SequenceGenerator\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/UserGuide/JPA/&hellip;</a> ). As this is a one time operation, having it query and set a value each time a persistence unit starts isn&#39;t ideal: I don&#39;t believe there are automated api for it so you&#39;d have to write your own"},{"owner":{"account_id":4433743,"reputation":2585,"user_id":3610183,"accept_rate":87,"display_name":"rainman"},"score":0,"creation_date":1654615944,"post_id":72481706,"comment_id":128130471,"body_markdown":"Thank you for your reply, so if  I understood well, i have to change id generating strategy to SEQUENCE right ?","body":"Thank you for your reply, so if  I understood well, i have to change id generating strategy to SEQUENCE right ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1654619821,"post_id":72481706,"comment_id":128131964,"body_markdown":"No, you just need what ever strategy you use to start with an initial value higher than any data you might already have in your table. GenerationType auto with EclipseLink will use Table sequencing with a table &#39;sequence&#39;. You can insert the initial value in that table yourself, or define the table generator with the initial value directly: https://docs.oracle.com/javaee/6/api/javax/persistence/TableGenerator.html","body":"No, you just need what ever strategy you use to start with an initial value higher than any data you might already have in your table. GenerationType auto with EclipseLink will use Table sequencing with a table &#39;sequence&#39;. You can insert the initial value in that table yourself, or define the table generator with the initial value directly: <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/TableGenerator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/api/javax/persistence/&hellip;</a>"}],"owner":{"account_id":4433743,"reputation":2585,"user_id":3610183,"accept_rate":87,"display_name":"rainman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654199991,"creation_date":1654199991,"question_id":72481706,"body_markdown":"I am developping a java application with postgresql database, I made  a manual insert into a table, and now when i try to insert from the application I get the following error: \r\n\r\n`Detail: Key (id)=(1092770) already exists`\r\n\r\nI am using eclipseLink as JPA framework and the Id generation strategy is the following:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    @Column(name=&quot;ID&quot;)\r\n    protected long id = 0L;\r\n\r\nClearly the eclipseLink is not considering the max(Id) in the table, and creates an Id less than the current max(Id).\r\n\r\nIs there a way to fix this please\r\n\r\nThanks\r\n","title":"EclipseLink @GeneratedValue(strategy = GenerationType.AUTO creates already exist id","body":"<p>I am developping a java application with postgresql database, I made  a manual insert into a table, and now when i try to insert from the application I get the following error:</p>\n<p><code>Detail: Key (id)=(1092770) already exists</code></p>\n<p>I am using eclipseLink as JPA framework and the Id generation strategy is the following:</p>\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\n@Column(name=&quot;ID&quot;)\nprotected long id = 0L;\n</code></pre>\n<p>Clearly the eclipseLink is not considering the max(Id) in the table, and creates an Id less than the current max(Id).</p>\n<p>Is there a way to fix this please</p>\n<p>Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8699,"page":1293,"page_size":100}
