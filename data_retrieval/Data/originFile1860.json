{"items":[{"tags":["java","spring-boot","hibernate","jpa","one-to-many"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1636587785,"post_id":69921474,"comment_id":123600593,"body_markdown":"Are you using Jackson? It seems you are retuning JSON, then why `@XmlRootElement`?","body":"Are you using Jackson? It seems you are retuning JSON, then why <code>@XmlRootElement</code>?"},{"owner":{"account_id":12010290,"reputation":145,"user_id":8787267,"display_name":"Diego Izquierdo Dussan"},"score":0,"creation_date":1636603391,"post_id":69921474,"comment_id":123603450,"body_markdown":"@Jo&#227;oDias I don&#180;t konw what Jackson is. but you can see I dont use anything call Jackson in the pom. i go to see that to see if this make the error","body":"@Jo&#227;oDias I don&#180;t konw what Jackson is. but you can see I dont use anything call Jackson in the pom. i go to see that to see if this make the error"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1636623935,"post_id":69921474,"comment_id":123608711,"body_markdown":"You don&#39;t need to explicitly add Jackson in your `pom.xml`. `spring-boot-starter-web` has it as a transitive dependency. Jackson allows you to serialize or map java objects to JSON and vice versa (that is why you see your response as JSON). Please try my answer below and check if it works.","body":"You don&#39;t need to explicitly add Jackson in your <code>pom.xml</code>. <code>spring-boot-starter-web</code> has it as a transitive dependency. Jackson allows you to serialize or map java objects to JSON and vice versa (that is why you see your response as JSON). Please try my answer below and check if it works."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636658596,"creation_date":1636588044,"answer_id":69921569,"question_id":69921474,"body_markdown":"Try annotating the relationship with `@JsonManagedReference`, `@JsonBackReference` to allow Jackson to better handle the bi-directional relationship:\r\n```java\r\n@Entity\r\n@Table(name = &quot;TIPOS_DOCUMENTOS_IDENTIDAD&quot;)\r\n@XmlRootElement\r\n@NamedQueries({\r\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findAll&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t&quot;),\r\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoId&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoId = :tidoId&quot;),\r\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoDescripcion&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoDescripcion = :tidoDescripcion&quot;),\r\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoSiglas&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoSiglas = :tidoSiglas&quot;)})\r\npublic class TiposDocumentosIdentidad implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @Basic(optional = false)\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;TIDO_TIDO_ID_SEQ&quot;)\r\n    @Column(name = &quot;TIDO_ID&quot;)\r\n    private Integer tidoId;\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;TIDO_DESCRIPCION&quot;)\r\n    private String tidoDescripcion;\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;TIDO_SIGLAS&quot;)\r\n    private String tidoSiglas;\r\n    \r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;tidoId&quot;)\r\n    @JsonManagedReference\r\n    private Collection&lt;Personas&gt; personasCollection;\r\n.\r\n.\r\n    @XmlTransient\r\n    public Collection&lt;Personas&gt; getPersonasCollection() {\r\n        return personasCollection;\r\n    }\r\n\r\n    public void setPersonasCollection(Collection&lt;Personas&gt; personasCollection) {\r\n        this.personasCollection = personasCollection;\r\n    }\r\n.\r\n.\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;PERSONAS&quot;)\r\n@XmlRootElement\r\n\r\npublic class Person as implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @Basic(optional = false)\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;PERSONAS_PERS_ID_SEQ&quot;)\r\n    @Column(name = &quot;PERS_ID&quot;)\r\n    private Integer persId;\r\n    @Column(name = &quot;PERS_DIGITO_VERIFICACION&quot;)\r\n    private String persDigitoVerificacion;\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;PERS_NUMERO_DOCUMENTO&quot;)\r\n    private String persNumeroDocumento;    \r\n    @Basic(optional = false)\r\n    @Column(name = &quot;PERS_FECHA_CREACION&quot;)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date persFechaCreacion;\r\n    @PrePersist\r\n    public void prePersist() {\r\n        persFechaCreacion = new Date();\r\n    }\r\n\r\n    @JoinColumn(name = &quot;TIDO_ID&quot;, referencedColumnName = &quot;TIDO_ID&quot;)\r\n    @ManyToOne(optional = false)\r\n    @JsonBackReference\r\n    private TiposDocumentosIdentidad tidoId;\r\n    .\r\n    .\r\n    .\r\n}\r\n```\r\n\r\nThis should fix it assuming you are using Jackson to serialize to JSON. You can read more at https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion.\r\n\r\n\r\n----------\r\n\r\n\r\nAnother option would be using `@JsonIdentityInfo` as follows (it also requires Jackson):\r\n```java\r\n@Entity\r\n@Table(name = &quot;TIPOS_DOCUMENTOS_IDENTIDAD&quot;)\r\n@JsonIdentityInfo(\r\n  generator = ObjectIdGenerators.PropertyGenerator.class, \r\n  property = &quot;tidoId&quot;)\r\n@XmlRootElement\r\n@NamedQueries({\r\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findAll&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t&quot;),\r\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoId&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoId = :tidoId&quot;),\r\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoDescripcion&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoDescripcion = :tidoDescripcion&quot;),\r\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoSiglas&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoSiglas = :tidoSiglas&quot;)})\r\npublic class TiposDocumentosIdentidad implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @Basic(optional = false)\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;TIDO_TIDO_ID_SEQ&quot;)\r\n    @Column(name = &quot;TIDO_ID&quot;)\r\n    private Integer tidoId;\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;TIDO_DESCRIPCION&quot;)\r\n    private String tidoDescripcion;\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;TIDO_SIGLAS&quot;)\r\n    private String tidoSiglas;\r\n    \r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;tidoId&quot;)\r\n    private Collection&lt;Personas&gt; personasCollection;\r\n.\r\n.\r\n    @XmlTransient\r\n    public Collection&lt;Personas&gt; getPersonasCollection() {\r\n        return personasCollection;\r\n    }\r\n\r\n    public void setPersonasCollection(Collection&lt;Personas&gt; personasCollection) {\r\n        this.personasCollection = personasCollection;\r\n    }\r\n.\r\n.\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;PERSONAS&quot;)\r\n@XmlRootElement\r\n@JsonIdentityInfo(\r\n  generator = ObjectIdGenerators.PropertyGenerator.class, \r\n  property = &quot;persId&quot;)\r\npublic class Person as implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @Basic(optional = false)\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;PERSONAS_PERS_ID_SEQ&quot;)\r\n    @Column(name = &quot;PERS_ID&quot;)\r\n    private Integer persId;\r\n    @Column(name = &quot;PERS_DIGITO_VERIFICACION&quot;)\r\n    private String persDigitoVerificacion;\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;PERS_NUMERO_DOCUMENTO&quot;)\r\n    private String persNumeroDocumento;    \r\n    @Basic(optional = false)\r\n    @Column(name = &quot;PERS_FECHA_CREACION&quot;)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date persFechaCreacion;\r\n    @PrePersist\r\n    public void prePersist() {\r\n        persFechaCreacion = new Date();\r\n    }\r\n\r\n    @JoinColumn(name = &quot;TIDO_ID&quot;, referencedColumnName = &quot;TIDO_ID&quot;)\r\n    @ManyToOne(optional = false)\r\n    @JsonBackReference\r\n    private TiposDocumentosIdentidad tidoId;\r\n    .\r\n    .\r\n    .\r\n}\r\n```","title":"JPA hibernate one to many infinite loop bidirectional relation problem","body":"<p>Try annotating the relationship with <code>@JsonManagedReference</code>, <code>@JsonBackReference</code> to allow Jackson to better handle the bi-directional relationship:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;TIPOS_DOCUMENTOS_IDENTIDAD&quot;)\n@XmlRootElement\n@NamedQueries({\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findAll&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t&quot;),\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoId&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoId = :tidoId&quot;),\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoDescripcion&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoDescripcion = :tidoDescripcion&quot;),\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoSiglas&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoSiglas = :tidoSiglas&quot;)})\npublic class TiposDocumentosIdentidad implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @Basic(optional = false)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;TIDO_TIDO_ID_SEQ&quot;)\n    @Column(name = &quot;TIDO_ID&quot;)\n    private Integer tidoId;\n    @Basic(optional = false)\n    @Column(name = &quot;TIDO_DESCRIPCION&quot;)\n    private String tidoDescripcion;\n    @Basic(optional = false)\n    @Column(name = &quot;TIDO_SIGLAS&quot;)\n    private String tidoSiglas;\n    \n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;tidoId&quot;)\n    @JsonManagedReference\n    private Collection&lt;Personas&gt; personasCollection;\n.\n.\n    @XmlTransient\n    public Collection&lt;Personas&gt; getPersonasCollection() {\n        return personasCollection;\n    }\n\n    public void setPersonasCollection(Collection&lt;Personas&gt; personasCollection) {\n        this.personasCollection = personasCollection;\n    }\n.\n.\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;PERSONAS&quot;)\n@XmlRootElement\n\npublic class Person as implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Basic(optional = false)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;PERSONAS_PERS_ID_SEQ&quot;)\n    @Column(name = &quot;PERS_ID&quot;)\n    private Integer persId;\n    @Column(name = &quot;PERS_DIGITO_VERIFICACION&quot;)\n    private String persDigitoVerificacion;\n    @Basic(optional = false)\n    @Column(name = &quot;PERS_NUMERO_DOCUMENTO&quot;)\n    private String persNumeroDocumento;    \n    @Basic(optional = false)\n    @Column(name = &quot;PERS_FECHA_CREACION&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date persFechaCreacion;\n    @PrePersist\n    public void prePersist() {\n        persFechaCreacion = new Date();\n    }\n\n    @JoinColumn(name = &quot;TIDO_ID&quot;, referencedColumnName = &quot;TIDO_ID&quot;)\n    @ManyToOne(optional = false)\n    @JsonBackReference\n    private TiposDocumentosIdentidad tidoId;\n    .\n    .\n    .\n}\n</code></pre>\n<p>This should fix it assuming you are using Jackson to serialize to JSON. You can read more at <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a>.</p>\n<hr />\n<p>Another option would be using <code>@JsonIdentityInfo</code> as follows (it also requires Jackson):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;TIPOS_DOCUMENTOS_IDENTIDAD&quot;)\n@JsonIdentityInfo(\n  generator = ObjectIdGenerators.PropertyGenerator.class, \n  property = &quot;tidoId&quot;)\n@XmlRootElement\n@NamedQueries({\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findAll&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t&quot;),\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoId&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoId = :tidoId&quot;),\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoDescripcion&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoDescripcion = :tidoDescripcion&quot;),\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoSiglas&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoSiglas = :tidoSiglas&quot;)})\npublic class TiposDocumentosIdentidad implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @Basic(optional = false)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;TIDO_TIDO_ID_SEQ&quot;)\n    @Column(name = &quot;TIDO_ID&quot;)\n    private Integer tidoId;\n    @Basic(optional = false)\n    @Column(name = &quot;TIDO_DESCRIPCION&quot;)\n    private String tidoDescripcion;\n    @Basic(optional = false)\n    @Column(name = &quot;TIDO_SIGLAS&quot;)\n    private String tidoSiglas;\n    \n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;tidoId&quot;)\n    private Collection&lt;Personas&gt; personasCollection;\n.\n.\n    @XmlTransient\n    public Collection&lt;Personas&gt; getPersonasCollection() {\n        return personasCollection;\n    }\n\n    public void setPersonasCollection(Collection&lt;Personas&gt; personasCollection) {\n        this.personasCollection = personasCollection;\n    }\n.\n.\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;PERSONAS&quot;)\n@XmlRootElement\n@JsonIdentityInfo(\n  generator = ObjectIdGenerators.PropertyGenerator.class, \n  property = &quot;persId&quot;)\npublic class Person as implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Basic(optional = false)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;PERSONAS_PERS_ID_SEQ&quot;)\n    @Column(name = &quot;PERS_ID&quot;)\n    private Integer persId;\n    @Column(name = &quot;PERS_DIGITO_VERIFICACION&quot;)\n    private String persDigitoVerificacion;\n    @Basic(optional = false)\n    @Column(name = &quot;PERS_NUMERO_DOCUMENTO&quot;)\n    private String persNumeroDocumento;    \n    @Basic(optional = false)\n    @Column(name = &quot;PERS_FECHA_CREACION&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date persFechaCreacion;\n    @PrePersist\n    public void prePersist() {\n        persFechaCreacion = new Date();\n    }\n\n    @JoinColumn(name = &quot;TIDO_ID&quot;, referencedColumnName = &quot;TIDO_ID&quot;)\n    @ManyToOne(optional = false)\n    @JsonBackReference\n    private TiposDocumentosIdentidad tidoId;\n    .\n    .\n    .\n}\n</code></pre>\n"}],"owner":{"account_id":12010290,"reputation":145,"user_id":8787267,"display_name":"Diego Izquierdo Dussan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636658596,"creation_date":1636587295,"question_id":69921474,"body_markdown":"I have a bidirectional relation between two tables using JAP (`@Entity`). when I do my Select throw `repository.findAll()` it returns to me an infinite loop of an object inside the other and others inside it. \r\n\r\nhere first entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;TIPOS_DOCUMENTOS_IDENTIDAD&quot;)\r\n    @XmlRootElement\r\n    @NamedQueries({\r\n        @NamedQuery(name = &quot;TiposDocumentosIdentidad.findAll&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t&quot;),\r\n        @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoId&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoId = :tidoId&quot;),\r\n        @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoDescripcion&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoDescripcion = :tidoDescripcion&quot;),\r\n        @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoSiglas&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoSiglas = :tidoSiglas&quot;)})\r\n    public class TiposDocumentosIdentidad implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        @Id\r\n        @Basic(optional = false)\r\n        @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;TIDO_TIDO_ID_SEQ&quot;)\r\n        @Column(name = &quot;TIDO_ID&quot;)\r\n        private Integer tidoId;\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;TIDO_DESCRIPCION&quot;)\r\n        private String tidoDescripcion;\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;TIDO_SIGLAS&quot;)\r\n        private String tidoSiglas;\r\n        \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;tidoId&quot;)\r\n        private Collection&lt;Personas&gt; personasCollection;\r\n    .\r\n    .\r\n    @XmlTransient\r\n        public Collection&lt;Personas&gt; getPersonasCollection() {\r\n            return personasCollection;\r\n        }\r\n    \r\n        public void setPersonasCollection(Collection&lt;Personas&gt; personasCollection) {\r\n            this.personasCollection = personasCollection;\r\n        }\r\n    .\r\n    .\r\nsencond entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;PERSONAS&quot;)\r\n    @XmlRootElement\r\n    \r\n    public class Person as implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    \r\n    @Id\r\n    @Basic(optional = false)\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;PERSONAS_PERS_ID_SEQ&quot;)\r\n    @Column(name = &quot;PERS_ID&quot;)\r\n    private Integer persId;\r\n    @Column(name = &quot;PERS_DIGITO_VERIFICACION&quot;)\r\n    private String persDigitoVerificacion;\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;PERS_NUMERO_DOCUMENTO&quot;)\r\n    private String persNumeroDocumento;    \r\n    @Basic(optional = false)\r\n    @Column(name = &quot;PERS_FECHA_CREACION&quot;)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date persFechaCreacion;\r\n    @PrePersist\r\n    public void prePersist() {\r\n        persFechaCreacion = new Date();\r\n    }\r\n    \r\n    @JoinColumn(name = &quot;TIDO_ID&quot;, referencedColumnName = &quot;TIDO_ID&quot;)\r\n    @ManyToOne(optional = false)    \r\n    private TiposDocumentosIdentidad tidoId;\r\n    .\r\n    .\r\n    .\r\n\r\nhere is the pom.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;co.com.personasProject&lt;/groupId&gt;\r\n    &lt;artifactId&gt;personasProject&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;personasProject&lt;/name&gt;\r\n    &lt;description&gt;&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nthe infinite result\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZXX1c.png\r\n\r\n\r\n\r\nHow can I solve this error? I just have q row int both tables ","title":"JPA hibernate one to many infinite loop bidirectional relation problem","body":"<p>I have a bidirectional relation between two tables using JAP (<code>@Entity</code>). when I do my Select throw <code>repository.findAll()</code> it returns to me an infinite loop of an object inside the other and others inside it.</p>\n<p>here first entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;TIPOS_DOCUMENTOS_IDENTIDAD&quot;)\n@XmlRootElement\n@NamedQueries({\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findAll&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t&quot;),\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoId&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoId = :tidoId&quot;),\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoDescripcion&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoDescripcion = :tidoDescripcion&quot;),\n    @NamedQuery(name = &quot;TiposDocumentosIdentidad.findByTidoSiglas&quot;, query = &quot;SELECT t FROM TiposDocumentosIdentidad t WHERE t.tidoSiglas = :tidoSiglas&quot;)})\npublic class TiposDocumentosIdentidad implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @Basic(optional = false)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;TIDO_TIDO_ID_SEQ&quot;)\n    @Column(name = &quot;TIDO_ID&quot;)\n    private Integer tidoId;\n    @Basic(optional = false)\n    @Column(name = &quot;TIDO_DESCRIPCION&quot;)\n    private String tidoDescripcion;\n    @Basic(optional = false)\n    @Column(name = &quot;TIDO_SIGLAS&quot;)\n    private String tidoSiglas;\n    \n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;tidoId&quot;)\n    private Collection&lt;Personas&gt; personasCollection;\n.\n.\n@XmlTransient\n    public Collection&lt;Personas&gt; getPersonasCollection() {\n        return personasCollection;\n    }\n\n    public void setPersonasCollection(Collection&lt;Personas&gt; personasCollection) {\n        this.personasCollection = personasCollection;\n    }\n.\n.\n</code></pre>\n<p>sencond entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;PERSONAS&quot;)\n@XmlRootElement\n\npublic class Person as implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n\n@Id\n@Basic(optional = false)\n@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;PERSONAS_PERS_ID_SEQ&quot;)\n@Column(name = &quot;PERS_ID&quot;)\nprivate Integer persId;\n@Column(name = &quot;PERS_DIGITO_VERIFICACION&quot;)\nprivate String persDigitoVerificacion;\n@Basic(optional = false)\n@Column(name = &quot;PERS_NUMERO_DOCUMENTO&quot;)\nprivate String persNumeroDocumento;    \n@Basic(optional = false)\n@Column(name = &quot;PERS_FECHA_CREACION&quot;)\n@Temporal(TemporalType.TIMESTAMP)\nprivate Date persFechaCreacion;\n@PrePersist\npublic void prePersist() {\n    persFechaCreacion = new Date();\n}\n\n@JoinColumn(name = &quot;TIDO_ID&quot;, referencedColumnName = &quot;TIDO_ID&quot;)\n@ManyToOne(optional = false)    \nprivate TiposDocumentosIdentidad tidoId;\n.\n.\n.\n</code></pre>\n<p>here is the pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n           xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;co.com.personasProject&lt;/groupId&gt;\n    &lt;artifactId&gt;personasProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;personasProject&lt;/name&gt;\n    &lt;description&gt;&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--        &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>the infinite result\n<a href=\"https://i.stack.imgur.com/ZXX1c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZXX1c.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I solve this error? I just have q row int both tables</p>\n"},{"tags":["java","android","timer","cron"],"comments":[{"owner":{"account_id":65792,"reputation":2361,"user_id":193385,"accept_rate":89,"display_name":"n3utrino"},"score":0,"creation_date":1299798318,"post_id":5266878,"comment_id":123622622,"body_markdown":"The reference from google is actually quite good. http://developer.android.com/reference/android/os/AsyncTask.html","body":"The reference from google is actually quite good. <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/AsyncTask.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":30585,"reputation":13439,"user_id":83446,"accept_rate":100,"display_name":"Robert Massaioli"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1299798405,"creation_date":1299798405,"answer_id":5267014,"question_id":5266878,"body_markdown":"If you want to build a cronjob runner then what you want is a [Service][1]: \r\n\r\n&gt;A Service is an application component that can perform long-running operations in the background and does not provide a user interface. Another application component can start a service and it will continue to run in the background even if the user switches to another application. Additionally, a component can bind to a service to interact with it and even perform interprocess communication (IPC). For example, a service might handle network transactions, play music, perform file I/O, or interact with a content provider, all from the background.\r\n\r\n  [1]: http://developer.android.com/guide/topics/fundamentals/services.html","title":"Android regular task (cronjob equivalent)","body":"<p>If you want to build a cronjob runner then what you want is a <a href=\"http://developer.android.com/guide/topics/fundamentals/services.html\" rel=\"nofollow noreferrer\">Service</a>: </p>\n\n<blockquote>\n  <p>A Service is an application component that can perform long-running operations in the background and does not provide a user interface. Another application component can start a service and it will continue to run in the background even if the user switches to another application. Additionally, a component can bind to a service to interact with it and even perform interprocess communication (IPC). For example, a service might handle network transactions, play music, perform file I/O, or interact with a content provider, all from the background.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4781,"reputation":13401,"user_id":7363,"accept_rate":50,"display_name":"Lucas S."},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1299798657,"creation_date":1299798657,"answer_id":5267057,"question_id":5266878,"body_markdown":"For Cron like tasks you have to use AlarmManager, this is a system service, for using it in your code you need to call:\r\n\r\n    AlarmManager myAlarmManager = Context.getSystemService(Context.ALARM_SERVICE).\r\n\r\nFull docs about AlarmManager [here.][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/app/AlarmManager.html","title":"Android regular task (cronjob equivalent)","body":"<p>For Cron like tasks you have to use AlarmManager, this is a system service, for using it in your code you need to call:</p>\n\n<pre><code>AlarmManager myAlarmManager = Context.getSystemService(Context.ALARM_SERVICE).\n</code></pre>\n\n<p>Full docs about AlarmManager <a href=\"http://developer.android.com/reference/android/app/AlarmManager.html\">here.</a></p>\n"},{"tags":[],"owner":{"account_id":45069,"reputation":2056,"user_id":132628,"accept_rate":77,"display_name":"Melllvar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1299800020,"creation_date":1299800020,"answer_id":5267234,"question_id":5266878,"body_markdown":"The most suitable approach is through services. I learned how to write services by looking at the source code for the stock Email app that is included with Android.\r\n\r\nThe general idea is that you override the &lt;a href=&quot;http://developer.android.com/reference/android/app/Service.html&quot;&gt;Service&lt;/a&gt; class, and set up &lt;a href=&quot;http://developer.android.com/reference/android/app/AlarmManager.html&quot;&gt;alarms&lt;/a&gt; to activate your service. Unlike daemons and Windows services, Android services aren&#39;t always running - they start up (usually when activated by an alarm), perform work, then shut down. In some cases, you may need to acquire a &lt;a href=&quot;http://developer.android.com/reference/android/os/PowerManager.html&quot;&gt;partial wake lock&lt;/a&gt; to keep the service going until it completes the task - otherwise, Android may kill your service prematurely.\r\n","title":"Android regular task (cronjob equivalent)","body":"<p>The most suitable approach is through services. I learned how to write services by looking at the source code for the stock Email app that is included with Android.</p>\n\n<p>The general idea is that you override the <a href=\"http://developer.android.com/reference/android/app/Service.html\" rel=\"noreferrer\">Service</a> class, and set up <a href=\"http://developer.android.com/reference/android/app/AlarmManager.html\" rel=\"noreferrer\">alarms</a> to activate your service. Unlike daemons and Windows services, Android services aren't always running - they start up (usually when activated by an alarm), perform work, then shut down. In some cases, you may need to acquire a <a href=\"http://developer.android.com/reference/android/os/PowerManager.html\" rel=\"noreferrer\">partial wake lock</a> to keep the service going until it completes the task - otherwise, Android may kill your service prematurely.</p>\n"}],"owner":{"account_id":312694,"reputation":1592,"user_id":626915,"accept_rate":91,"display_name":"Dech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34599,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":3,"score":18,"last_activity_date":1636658563,"creation_date":1299797565,"question_id":5266878,"body_markdown":"The last time this question was asked (by a different user), the answer response was:\r\n\r\n&gt; If this is in a running activity, you could use Timer/TimerTask and a Handler, or you could use postDelayed() and an AsyncTask.\r\n\r\nHere: [https://stackoverflow.com/questions/2517468/android-repetitive-task][1]\r\n\r\nI am still learning how to program android. I have gone through the skills I do know including threads and had many issues with my code. Can anyone give an example of how to use: time/timertask and handler OR postDelayed() and AsyncTask.\r\n\r\n  [1]: https://stackoverflow.com/questions/2517468/android-repetitive-task","title":"Android regular task (cronjob equivalent)","body":"<p>The last time this question was asked (by a different user), the answer response was:</p>\n<blockquote>\n<p>If this is in a running activity, you could use Timer/TimerTask and a Handler, or you could use postDelayed() and an AsyncTask.</p>\n</blockquote>\n<p>Here: <a href=\"https://stackoverflow.com/questions/2517468/android-repetitive-task\">Android Repetitive Task</a></p>\n<p>I am still learning how to program android. I have gone through the skills I do know including threads and had many issues with my code. Can anyone give an example of how to use: time/timertask and handler OR postDelayed() and AsyncTask.</p>\n"},{"tags":["java","selenium","selenium-webdriver","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1636625381,"post_id":69905988,"comment_id":123609260,"body_markdown":"what is &quot;the occurrence of the failed method&quot; and why do you need to log this? Give us a sample scenario and what you need to log.","body":"what is &quot;the occurrence of the failed method&quot; and why do you need to log this? Give us a sample scenario and what you need to log."}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636525221,"creation_date":1636525221,"answer_id":69908677,"question_id":69905988,"body_markdown":"No custom listener option in cucumber like TestNG. we should have use only Hooks.","title":"How to implement custom listeners in cucumber?","body":"<p>No custom listener option in cucumber like TestNG. we should have use only Hooks.</p>\n"},{"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636620126,"creation_date":1636620126,"answer_id":69925379,"question_id":69905988,"body_markdown":"You can implement the ConcurrentEventListener to get certain hooks for events[ \\[example\\]][1]. \r\n\r\nEvents can be found [here][2]\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/blob/bb8f6bb1e007870b79d8d43d828be6490b6d3189/core/src/test/java/io/cucumber/core/runner/StepDurationTimeService.java\r\n  [2]: https://github.com/cucumber/cucumber-jvm/tree/main/plugin/src/main/java/io/cucumber/plugin/event","title":"How to implement custom listeners in cucumber?","body":"<p>You can implement the ConcurrentEventListener to get certain hooks for events<a href=\"https://github.com/cucumber/cucumber-jvm/blob/bb8f6bb1e007870b79d8d43d828be6490b6d3189/core/src/test/java/io/cucumber/core/runner/StepDurationTimeService.java\" rel=\"nofollow noreferrer\"> [example]</a>.</p>\n<p>Events can be found <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/plugin/src/main/java/io/cucumber/plugin/event\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636658535,"creation_date":1636658535,"answer_id":69933797,"question_id":69905988,"body_markdown":"You can implement listeners in cucumber like below\r\n\r\n\r\n        import io.cucumber.plugin.EventListener;\r\n        import io.cucumber.plugin.event.*;\r\n        \r\n        import java.net.URI;\r\n        import java.util.Map;\r\n        import java.util.TreeMap;\r\n        import java.util.UUID;\r\n        \r\n        public class \tReportPlugin implements EventListener {\r\n        \r\n         private final Map&lt;String, UUID&gt; startedSteps = new TreeMap&lt;String, UUID&gt;();\r\n         private final Map&lt;String, Status&gt; finishedCases = new TreeMap&lt;String, Status&gt;();\r\n        \r\n           @Override\r\n        \tpublic void setEventPublisher(EventPublisher publisher) {\r\n        \t\t\r\n        \t\tpublisher.registerHandlerFor(TestStepStarted.class, this::handleTestStepStarted);\r\n        \tpublisher.registerHandlerFor(TestCaseFinished.class, this::handleTestCaseFinished);\r\n    \r\n        \t}\r\n        \r\n        private void handleTestStepStarted(TestStepStarted event) {\r\n        \t\tstartedSteps.put(event.getTestStep().toString(), event.getTestStep().getId());\r\n        \t\tfor (Map.Entry&lt;String, UUID&gt; entry : startedSteps.entrySet()) {\r\n        \t\t\t\tString location = entry.getKey();\r\n        \t\t\t\tUUID uuid = entry.getValue();\r\n        \t\t\t\tSystem.out.println(location + &quot; ###fromTestStepStarted### &quot; + uuid);\r\n                \r\n                 //above prints\r\n                //io.cucumber.core.runner.PickleStepTestStep@5a5c128 ###fromTestStepStarted### 7f964f1c-9442-43fc-97e9-9ec6717eb47f\r\n               // io.cucumber.core.runner.PickleStepTestStep@77b919a3 ###fromTestStepStarted### a5d57753-aecb-40a0-a0cf-76bef7526dd8\r\n    \r\n        \t\t\t}\r\n        \t}\r\n    }\r\n\r\n\r\nTo run the above class - put the class with your step defs  or your supporting classes and then in `junit-platform.properties` (for Junit5) mention plugin like this\r\n\r\n`cucumber.plugin =  com.test.support.ReportPlugin`\r\n\r\nFor Junit4 you might have to add plugin to your runner class\r\n\r\nWhen you run your tests you should see everything printed on console","title":"How to implement custom listeners in cucumber?","body":"<p>You can implement listeners in cucumber like below</p>\n<pre><code>    import io.cucumber.plugin.EventListener;\n    import io.cucumber.plugin.event.*;\n    \n    import java.net.URI;\n    import java.util.Map;\n    import java.util.TreeMap;\n    import java.util.UUID;\n    \n    public class    ReportPlugin implements EventListener {\n    \n     private final Map&lt;String, UUID&gt; startedSteps = new TreeMap&lt;String, UUID&gt;();\n     private final Map&lt;String, Status&gt; finishedCases = new TreeMap&lt;String, Status&gt;();\n    \n       @Override\n        public void setEventPublisher(EventPublisher publisher) {\n            \n            publisher.registerHandlerFor(TestStepStarted.class, this::handleTestStepStarted);\n        publisher.registerHandlerFor(TestCaseFinished.class, this::handleTestCaseFinished);\n\n        }\n    \n    private void handleTestStepStarted(TestStepStarted event) {\n            startedSteps.put(event.getTestStep().toString(), event.getTestStep().getId());\n            for (Map.Entry&lt;String, UUID&gt; entry : startedSteps.entrySet()) {\n                    String location = entry.getKey();\n                    UUID uuid = entry.getValue();\n                    System.out.println(location + &quot; ###fromTestStepStarted### &quot; + uuid);\n            \n             //above prints\n            //io.cucumber.core.runner.PickleStepTestStep@5a5c128 ###fromTestStepStarted### 7f964f1c-9442-43fc-97e9-9ec6717eb47f\n           // io.cucumber.core.runner.PickleStepTestStep@77b919a3 ###fromTestStepStarted### a5d57753-aecb-40a0-a0cf-76bef7526dd8\n\n                }\n        }\n}\n</code></pre>\n<p>To run the above class - put the class with your step defs  or your supporting classes and then in <code>junit-platform.properties</code> (for Junit5) mention plugin like this</p>\n<p><code>cucumber.plugin =  com.test.support.ReportPlugin</code></p>\n<p>For Junit4 you might have to add plugin to your runner class</p>\n<p>When you run your tests you should see everything printed on console</p>\n"}],"owner":{"account_id":10450994,"reputation":39,"user_id":7704630,"display_name":"Hari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1636658535,"creation_date":1636497852,"question_id":69905988,"body_markdown":"How to implement customer listeners in cucumber? \r\n\r\nwhich can log to the console/report about the occurrence of the failed method? \r\n\r\n*using cucumber 4.0*  \r\n\r\nNote: Hooks  are not helping at method levels ","title":"How to implement custom listeners in cucumber?","body":"<p>How to implement customer listeners in cucumber?</p>\n<p>which can log to the console/report about the occurrence of the failed method?</p>\n<p><em>using cucumber 4.0</em></p>\n<p>Note: Hooks  are not helping at method levels</p>\n"},{"tags":["java","azure","dependencies","adal4j"],"owner":{"account_id":16739504,"reputation":25,"user_id":12099762,"display_name":"Bruno Mello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636657571,"creation_date":1612360983,"question_id":66029095,"body_markdown":"I&#39;m doing the migration, I have a class where I get the user&#39;s information, but I couldn&#39;t find the corresponding classes of the new dependency.\r\n\r\n```\r\nprivate static AuthenticationResult getAzureAccessToken() throws Exception\r\n\t{\r\n\r\n\t\tAzureSettings azureSetting = getAzureSettings().iterator().next();\r\n\t\tExecutorService service = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tservice = Executors.newFixedThreadPool(1);\r\n\t\t\tAuthenticationContext context = new AuthenticationContext(azureSetting.getAuthority(), true, service);\r\n\r\n\t\t\tClientCredential cc = new ClientCredential(azureSetting.getAppId(), azureSetting.getAppSecret());\r\n\t\t\tFuture&lt;AuthenticationResult&gt; future = context.acquireToken(azureSetting.getResource(), cc, null);\r\n\t\t\tappAuthenticationResult = future.get();\r\n\r\n\t\t}\r\n\t\tfinally\r\n\t\t{\r\n\t\t\tservice.shutdown();\r\n\t\t}\r\n\r\n\t\tif (appAuthenticationResult == null)\r\n\t\t{\r\n\t\t\tthrow new ServiceUnavailableException(&quot;authentication result was null&quot;);\r\n\t\t}\r\n\r\n\t\treturn appAuthenticationResult;\r\n\r\n\t}\r\n```\r\nI have already read the msal4j documentation but did not find the respective classes","title":"Migration from adal4j to msal4j","body":"<p>I'm doing the migration, I have a class where I get the user's information, but I couldn't find the corresponding classes of the new dependency.</p>\n<pre><code>private static AuthenticationResult getAzureAccessToken() throws Exception\n    {\n\n        AzureSettings azureSetting = getAzureSettings().iterator().next();\n        ExecutorService service = null;\n        try\n        {\n            service = Executors.newFixedThreadPool(1);\n            AuthenticationContext context = new AuthenticationContext(azureSetting.getAuthority(), true, service);\n\n            ClientCredential cc = new ClientCredential(azureSetting.getAppId(), azureSetting.getAppSecret());\n            Future&lt;AuthenticationResult&gt; future = context.acquireToken(azureSetting.getResource(), cc, null);\n            appAuthenticationResult = future.get();\n\n        }\n        finally\n        {\n            service.shutdown();\n        }\n\n        if (appAuthenticationResult == null)\n        {\n            throw new ServiceUnavailableException(&quot;authentication result was null&quot;);\n        }\n\n        return appAuthenticationResult;\n\n    }\n</code></pre>\n<p>I have already read the msal4j documentation but did not find the respective classes</p>\n"},{"tags":["java","spring-boot","java-cfenv"],"answers":[{"tags":[],"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636657104,"creation_date":1636657104,"answer_id":69933532,"question_id":69932242,"body_markdown":"It seems like I needed to do two things.\r\n\r\nFirst was to add marker interface `Aware` to configuration properties\r\n\r\n    public class VaultCloudProperties implements Aware {\r\n\r\n\r\nAnd the second thing is I needed to populate properties with prefixes\r\n\r\n    properties.put(&quot;core.application.vault.endpoint&quot;, cfCredentials.getString(&quot;endpoint&quot;));\r\n    properties.put(&quot;core.application.vault.role_id&quot;, cfCredentials.getString(&quot;role_id&quot;));\r\n    properties.put(&quot;core.application.vault.secret_id&quot;, cfCredentials.getString(&quot;secret_id&quot;));\r\n    properties.put(&quot;core.application.vault.org_secret_path&quot;, cfCredentials.getString(&quot;org_secret_path&quot;));\r\n    properties.put(&quot;core.application.vault.space_secret_path&quot;, cfCredentials.getString(&quot;space_secret_path&quot;));\r\n    properties.put(&quot;core.application.vault.service_secret_path&quot;, cfCredentials.getString(&quot;service_secret_path&quot;));\r\n\r\nAfter that, `VaultCloudProperties` got all the correct values","title":"Populate configuration properties from environment post processor","body":"<p>It seems like I needed to do two things.</p>\n<p>First was to add marker interface <code>Aware</code> to configuration properties</p>\n<pre><code>public class VaultCloudProperties implements Aware {\n</code></pre>\n<p>And the second thing is I needed to populate properties with prefixes</p>\n<pre><code>properties.put(&quot;core.application.vault.endpoint&quot;, cfCredentials.getString(&quot;endpoint&quot;));\nproperties.put(&quot;core.application.vault.role_id&quot;, cfCredentials.getString(&quot;role_id&quot;));\nproperties.put(&quot;core.application.vault.secret_id&quot;, cfCredentials.getString(&quot;secret_id&quot;));\nproperties.put(&quot;core.application.vault.org_secret_path&quot;, cfCredentials.getString(&quot;org_secret_path&quot;));\nproperties.put(&quot;core.application.vault.space_secret_path&quot;, cfCredentials.getString(&quot;space_secret_path&quot;));\nproperties.put(&quot;core.application.vault.service_secret_path&quot;, cfCredentials.getString(&quot;service_secret_path&quot;));\n</code></pre>\n<p>After that, <code>VaultCloudProperties</code> got all the correct values</p>\n"}],"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636657104,"creation_date":1636650520,"question_id":69932242,"body_markdown":"I am using `java-cfenv` library and implemented custom ``EnvProcessor`. \r\n\r\n\r\n    public class VaultServiceProcessor implements CfEnvProcessor {\r\n        @Override\r\n        public boolean accept(CfService service) {\r\n            return service.existsByLabelStartsWith(&quot;cf-vault&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void process(CfCredentials cfCredentials, Map&lt;String, Object&gt; properties) {\r\n            properties.put(&quot;endpoint&quot;, cfCredentials.getString(&quot;endpoint&quot;));\r\n            properties.put(&quot;role_id&quot;, cfCredentials.getString(&quot;role_id&quot;));\r\n            properties.put(&quot;secret_id&quot;, cfCredentials.getString(&quot;secret_id&quot;));\r\n            properties.put(&quot;org_secret_path&quot;, cfCredentials.getString(&quot;org_secret_path&quot;));\r\n            properties.put(&quot;space_secret_path&quot;, cfCredentials.getString(&quot;space_secret_path&quot;));\r\n            properties.put(&quot;service_secret_path&quot;, cfCredentials.getString(&quot;service_secret_path&quot;));\r\n\r\n            properties.put(&quot;spring.cloud.vault.host&quot;, cfCredentials.getString(&quot;endpoint&quot;));\r\n            String port = cfCredentials.getString(&quot;port&quot;); // does not exist\r\n            if (null == port) { // are there cases when it is not https?\r\n                port = cfCredentials.getString(&quot;endpoint&quot;).startsWith(&quot;https&quot;) ? &quot;443&quot; : &quot;80&quot;;\r\n            }\r\n            properties.put(&quot;spring.cloud.vault.port&quot;, port);\r\n            properties.put(&quot;spring.cloud.vault.scheme&quot;, &quot;443&quot;.equals(port) ? &quot;https&quot; : &quot;http&quot;);\r\n\r\n            properties.put(&quot;spring.cloud.vault.authentication&quot;, &quot;APPROLE&quot;);\r\n            properties.put(&quot;spring.cloud.vault.app-role.role-id&quot;, cfCredentials.getString(&quot;role_id&quot;));\r\n            properties.put(&quot;spring.cloud.vault.app-role.secret-id&quot;, cfCredentials.getString(&quot;secret_id&quot;));\r\n        }\r\n    \r\n        @Override\r\n        public CfEnvProcessorProperties getProperties() {\r\n            return CfEnvProcessorProperties.builder()\r\n                .propertyPrefixes(&quot;core.application.vault&quot;)\r\n                .build();\r\n        }\r\n    }\r\n\r\nI have `ConfigurationProperties` bean, that supposed to be populated by the properties I processed in the processor\r\n\r\n    @Profile(&quot;cloud&quot;)\r\n    @Configuration\r\n    @ConfigurationProperties(&quot;core.application.vault&quot;)\r\n    public class VaultCloudProperties {\r\n        private String roleId;\r\n        private String secretId;\r\n        private String orgSecretPath;\r\n        private String spaceSecretPath;\r\n        private String serviceSecretPath;\r\n    \r\n        public String getRoleId() {\r\n            return roleId;\r\n        }\r\n    \r\n        public void setRoleId(String roleId) {\r\n            this.roleId = roleId;\r\n        }\r\n    \r\n        public String getSecretId() {\r\n            return secretId;\r\n        }\r\n    \r\n        public void setSecretId(String secretId) {\r\n            this.secretId = secretId;\r\n        }\r\n    \r\n        public String getOrgSecretPath() {\r\n            return orgSecretPath;\r\n        }\r\n    \r\n        public void setOrgSecretPath(String orgSecretPath) {\r\n            this.orgSecretPath = orgSecretPath;\r\n        }\r\n    \r\n        public String getSpaceSecretPath() {\r\n            return spaceSecretPath;\r\n        }\r\n    \r\n        public void setSpaceSecretPath(String spaceSecretPath) {\r\n            this.spaceSecretPath = spaceSecretPath;\r\n        }\r\n    \r\n        public String getServiceSecretPath() {\r\n            return serviceSecretPath;\r\n        }\r\n    \r\n        public void setServiceSecretPath(String serviceSecretPath) {\r\n            this.serviceSecretPath = serviceSecretPath;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;VaultServiceInfo [roleId=&quot; + roleId + &quot;, secretId=&quot; + secretId + &quot;, orgSecretPath=&quot;\r\n                + orgSecretPath + &quot;, spaceSecretPath=&quot; + spaceSecretPath + &quot;, serviceSecretPath=&quot;\r\n                + serviceSecretPath + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\nAnd then I have configuration that supposed to use those properties\r\n\r\n    @Configuration\r\n    @Profile(&quot;cloud&quot;)\r\n    @ConditionalOnProperty(name = &quot;spring.cloud.vault.enabled&quot;, matchIfMissing = false)\r\n    @EnableConfigurationProperties({VaultGenericBackendProperties.class, VaultCloudProperties.class})\r\n    @Import(VaultBootstrapConfiguration.class)\r\n    @Order(Ordered.LOWEST_PRECEDENCE - 100)\r\n    public class MultiBackendsVaultConnectorBootstrapConfiguration {\r\n    \r\n      private static final String VERSION_BACKEND_PREFIX = &quot;^/v1/&quot;;\r\n    \r\n      @Bean\r\n      public VaultConfigurer cloudVaultConfigurer(Environment environment, VaultCloudProperties cloudProperties) {\r\n        List&lt;SecretBackendMetadata&gt; backends = new ArrayList&lt;&gt;();\r\n        String keyName = environment.getProperty(&quot;spring.cloud.vault.defaultKey&quot;);\r\n        backends.add(\r\n          GenericSecretBackendMetadata\r\n            .create(cloudProperties.getServiceSecretPath().replaceAll(VERSION_BACKEND_PREFIX, &quot;&quot;), keyName));\r\n        backends.add(\r\n          GenericSecretBackendMetadata\r\n            .create(cloudProperties.getSpaceSecretPath().replaceAll(VERSION_BACKEND_PREFIX, &quot;&quot;), keyName));\r\n        backends.add(\r\n          GenericSecretBackendMetadata\r\n            .create(cloudProperties.getOrgSecretPath().replaceAll(VERSION_BACKEND_PREFIX, &quot;&quot;), keyName));\r\n    \r\n        return new VaultConnectorConfigurer(backends);\r\n      }\r\n\r\nThe problem is that `VaultCloudProperties` are not populated. I can see all the correct values inside `Environment` variable though (inside PropertySource).\r\n\r\nWhat is the problem?","title":"Populate configuration properties from environment post processor","body":"<p>I am using <code>java-cfenv</code> library and implemented custom ``EnvProcessor`.</p>\n<pre><code>public class VaultServiceProcessor implements CfEnvProcessor {\n    @Override\n    public boolean accept(CfService service) {\n        return service.existsByLabelStartsWith(&quot;cf-vault&quot;);\n    }\n\n    @Override\n    public void process(CfCredentials cfCredentials, Map&lt;String, Object&gt; properties) {\n        properties.put(&quot;endpoint&quot;, cfCredentials.getString(&quot;endpoint&quot;));\n        properties.put(&quot;role_id&quot;, cfCredentials.getString(&quot;role_id&quot;));\n        properties.put(&quot;secret_id&quot;, cfCredentials.getString(&quot;secret_id&quot;));\n        properties.put(&quot;org_secret_path&quot;, cfCredentials.getString(&quot;org_secret_path&quot;));\n        properties.put(&quot;space_secret_path&quot;, cfCredentials.getString(&quot;space_secret_path&quot;));\n        properties.put(&quot;service_secret_path&quot;, cfCredentials.getString(&quot;service_secret_path&quot;));\n\n        properties.put(&quot;spring.cloud.vault.host&quot;, cfCredentials.getString(&quot;endpoint&quot;));\n        String port = cfCredentials.getString(&quot;port&quot;); // does not exist\n        if (null == port) { // are there cases when it is not https?\n            port = cfCredentials.getString(&quot;endpoint&quot;).startsWith(&quot;https&quot;) ? &quot;443&quot; : &quot;80&quot;;\n        }\n        properties.put(&quot;spring.cloud.vault.port&quot;, port);\n        properties.put(&quot;spring.cloud.vault.scheme&quot;, &quot;443&quot;.equals(port) ? &quot;https&quot; : &quot;http&quot;);\n\n        properties.put(&quot;spring.cloud.vault.authentication&quot;, &quot;APPROLE&quot;);\n        properties.put(&quot;spring.cloud.vault.app-role.role-id&quot;, cfCredentials.getString(&quot;role_id&quot;));\n        properties.put(&quot;spring.cloud.vault.app-role.secret-id&quot;, cfCredentials.getString(&quot;secret_id&quot;));\n    }\n\n    @Override\n    public CfEnvProcessorProperties getProperties() {\n        return CfEnvProcessorProperties.builder()\n            .propertyPrefixes(&quot;core.application.vault&quot;)\n            .build();\n    }\n}\n</code></pre>\n<p>I have <code>ConfigurationProperties</code> bean, that supposed to be populated by the properties I processed in the processor</p>\n<pre><code>@Profile(&quot;cloud&quot;)\n@Configuration\n@ConfigurationProperties(&quot;core.application.vault&quot;)\npublic class VaultCloudProperties {\n    private String roleId;\n    private String secretId;\n    private String orgSecretPath;\n    private String spaceSecretPath;\n    private String serviceSecretPath;\n\n    public String getRoleId() {\n        return roleId;\n    }\n\n    public void setRoleId(String roleId) {\n        this.roleId = roleId;\n    }\n\n    public String getSecretId() {\n        return secretId;\n    }\n\n    public void setSecretId(String secretId) {\n        this.secretId = secretId;\n    }\n\n    public String getOrgSecretPath() {\n        return orgSecretPath;\n    }\n\n    public void setOrgSecretPath(String orgSecretPath) {\n        this.orgSecretPath = orgSecretPath;\n    }\n\n    public String getSpaceSecretPath() {\n        return spaceSecretPath;\n    }\n\n    public void setSpaceSecretPath(String spaceSecretPath) {\n        this.spaceSecretPath = spaceSecretPath;\n    }\n\n    public String getServiceSecretPath() {\n        return serviceSecretPath;\n    }\n\n    public void setServiceSecretPath(String serviceSecretPath) {\n        this.serviceSecretPath = serviceSecretPath;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;VaultServiceInfo [roleId=&quot; + roleId + &quot;, secretId=&quot; + secretId + &quot;, orgSecretPath=&quot;\n            + orgSecretPath + &quot;, spaceSecretPath=&quot; + spaceSecretPath + &quot;, serviceSecretPath=&quot;\n            + serviceSecretPath + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>And then I have configuration that supposed to use those properties</p>\n<pre><code>@Configuration\n@Profile(&quot;cloud&quot;)\n@ConditionalOnProperty(name = &quot;spring.cloud.vault.enabled&quot;, matchIfMissing = false)\n@EnableConfigurationProperties({VaultGenericBackendProperties.class, VaultCloudProperties.class})\n@Import(VaultBootstrapConfiguration.class)\n@Order(Ordered.LOWEST_PRECEDENCE - 100)\npublic class MultiBackendsVaultConnectorBootstrapConfiguration {\n\n  private static final String VERSION_BACKEND_PREFIX = &quot;^/v1/&quot;;\n\n  @Bean\n  public VaultConfigurer cloudVaultConfigurer(Environment environment, VaultCloudProperties cloudProperties) {\n    List&lt;SecretBackendMetadata&gt; backends = new ArrayList&lt;&gt;();\n    String keyName = environment.getProperty(&quot;spring.cloud.vault.defaultKey&quot;);\n    backends.add(\n      GenericSecretBackendMetadata\n        .create(cloudProperties.getServiceSecretPath().replaceAll(VERSION_BACKEND_PREFIX, &quot;&quot;), keyName));\n    backends.add(\n      GenericSecretBackendMetadata\n        .create(cloudProperties.getSpaceSecretPath().replaceAll(VERSION_BACKEND_PREFIX, &quot;&quot;), keyName));\n    backends.add(\n      GenericSecretBackendMetadata\n        .create(cloudProperties.getOrgSecretPath().replaceAll(VERSION_BACKEND_PREFIX, &quot;&quot;), keyName));\n\n    return new VaultConnectorConfigurer(backends);\n  }\n</code></pre>\n<p>The problem is that <code>VaultCloudProperties</code> are not populated. I can see all the correct values inside <code>Environment</code> variable though (inside PropertySource).</p>\n<p>What is the problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1636636081,"post_id":69928806,"comment_id":123613378,"body_markdown":"Try adding that path to the CLASSPATH and see if Swagger can find them in the JAR.","body":"Try adding that path to the CLASSPATH and see if Swagger can find them in the JAR."},{"owner":{"account_id":15435220,"reputation":63,"user_id":11135504,"display_name":"Sam Jing Wen"},"score":0,"creation_date":1636636624,"post_id":69928806,"comment_id":123613616,"body_markdown":"It is able to find, but I want to overwrite the properties, not use the default one provided by the library.","body":"It is able to find, but I want to overwrite the properties, not use the default one provided by the library."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1636636674,"post_id":69928806,"comment_id":123613644,"body_markdown":"Cant you add your own modified copy of that file?","body":"Cant you add your own modified copy of that file?"},{"owner":{"account_id":15435220,"reputation":63,"user_id":11135504,"display_name":"Sam Jing Wen"},"score":0,"creation_date":1636636806,"post_id":69928806,"comment_id":123613699,"body_markdown":"I tried adding the same resource to my project but it is still taking the properties from the library.","body":"I tried adding the same resource to my project but it is still taking the properties from the library."},{"owner":{"account_id":3878753,"reputation":312,"user_id":3211953,"accept_rate":25,"display_name":"Bar Hoshen"},"score":0,"creation_date":1636637127,"post_id":69928806,"comment_id":123613818,"body_markdown":"Can you please clarify for me -  are you trying to overwrite some/each of the properties in this file with your own values?","body":"Can you please clarify for me -  are you trying to overwrite some/each of the properties in this file with your own values?"},{"owner":{"account_id":15435220,"reputation":63,"user_id":11135504,"display_name":"Sam Jing Wen"},"score":0,"creation_date":1636637251,"post_id":69928806,"comment_id":123613871,"body_markdown":"Yes, trying to overwrite some properties so that I can provide my own custom message.","body":"Yes, trying to overwrite some properties so that I can provide my own custom message."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1636637461,"post_id":69928806,"comment_id":123613972,"body_markdown":"I might pursue providing your own `MessageResolver` implementation, although its not clear where that would be injected with a cursory look.","body":"I might pursue providing your own <code>MessageResolver</code> implementation, although its not clear where that would be injected with a cursory look."},{"owner":{"account_id":3878753,"reputation":312,"user_id":3211953,"accept_rate":25,"display_name":"Bar Hoshen"},"score":0,"creation_date":1636637718,"post_id":69928806,"comment_id":123614088,"body_markdown":"If you want to individually set properties, you should try passing them as environment variables. I know this works well with spring boot from my experience, hope it will work for your application as well.\nExample usage - \nTo change the value of \n&quot;validation.request.path.missing&quot;\nPass an env variable named VALIDATION_REQUEST_PATH_MISSING","body":"If you want to individually set properties, you should try passing them as environment variables. I know this works well with spring boot from my experience, hope it will work for your application as well. Example usage -  To change the value of  &quot;validation.request.path.missing&quot; Pass an env variable named VALIDATION_REQUEST_PATH_MISSING"},{"owner":{"account_id":15435220,"reputation":63,"user_id":11135504,"display_name":"Sam Jing Wen"},"score":0,"creation_date":1636644545,"post_id":69928806,"comment_id":123617264,"body_markdown":"I am able to overwrite the properties if it is a direct dependency, but it doesn&#39;t work for transitive dependency.","body":"I am able to overwrite the properties if it is a direct dependency, but it doesn&#39;t work for transitive dependency."}],"answers":[{"tags":[],"owner":{"account_id":19382678,"reputation":774,"user_id":14173556,"display_name":"paladin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636639797,"creation_date":1636639797,"answer_id":69929699,"question_id":69928806,"body_markdown":"May you try this? (not tested) -&gt;\r\n\r\n    public class CustomMessageResolver extends MessageResolver{\r\n        private final ResourceBundle customMessages = ResourceBundle.getBundle(&quot;MYPATH/custom_messages&quot;);\r\n    \r\n        public ValidationReport.Message get(@Nonnull final String key, final Object... args) {\r\n            requireNonNull(key, &quot;A message key is required.&quot;);\r\n            final ValidationReport.Level level = levelResolver.getLevel(key);\r\n            if (!customMessages.containsKey(key)) {\r\n                log.warn(&quot;No message key found for &#39;{}&#39;&quot;, key);\r\n                return null;\r\n            }\r\n            return new ImmutableMessage(key, level, format(customMessages.getString(key), args));\r\n        }\r\n    }","title":"Overwrite properties in java library","body":"<p>May you try this? (not tested) -&gt;</p>\n<pre><code>public class CustomMessageResolver extends MessageResolver{\n    private final ResourceBundle customMessages = ResourceBundle.getBundle(&quot;MYPATH/custom_messages&quot;);\n\n    public ValidationReport.Message get(@Nonnull final String key, final Object... args) {\n        requireNonNull(key, &quot;A message key is required.&quot;);\n        final ValidationReport.Level level = levelResolver.getLevel(key);\n        if (!customMessages.containsKey(key)) {\n            log.warn(&quot;No message key found for '{}'&quot;, key);\n            return null;\n        }\n        return new ImmutableMessage(key, level, format(customMessages.getString(key), args));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636657055,"creation_date":1636649403,"answer_id":69931992,"question_id":69928806,"body_markdown":"### Easy peasy:\r\n\r\n1.  demo/**pom.xml**:\r\n\r\n    &lt;!-- language: lang-xml --&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n          &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n          &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n          &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n          &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;  \r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n              &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n              &lt;version&gt;1.7.32&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.atlassian.oai&lt;/groupId&gt;\r\n              &lt;artifactId&gt;swagger-request-validator-core&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/project&gt;\r\n\r\n2. demo/**src/main/resources/swagger/validation/messages.properties** (case sensitive):\r\n\r\n    &lt;!-- language: lang-properties --&gt;\r\n       validation.request.path.missing=FOO &#39;%s&#39;. # an existing key from ...\r\n       # ...swagger-validator with custom message (and complying parameters)\r\n\r\n3. demo/**src/main/java/com/example/demo/Main.java**:\r\n    \r\n    &lt;!-- language: lang-java --&gt;\r\n       package com.example.demo;\r\n       \r\n       import com.atlassian.oai.validator.report.MessageResolver;\r\n       import com.atlassian.oai.validator.report.ValidationReport.Message;\r\n       import org.slf4j.Logger;\r\n       import static org.slf4j.LoggerFactory.getLogger;\r\n\r\n       public class Main {\r\n\r\n         private static final Logger log = getLogger(Main.class);\r\n         public static void main(String[] args) {\r\n           MessageResolver mr = new MessageResolver();\r\n           Message m = mr.get(&quot;validation.request.path.missing&quot;, &quot;bar&quot;);\r\n           log.info(&quot;got message: {}&quot;, m == null ? null : m.getMessage());\r\n         }\r\n       }\r\n\r\n\r\n4. (with these 3 files only, Execute) In your terminal (or in an IDE):\r\n\r\n   &lt;!-- language: lang-bash --&gt;\r\n       &gt;cd demo\r\n       &gt;mvn clean process-classes exec:java -Dexec.mainClass=&quot;com.example.demo.Main&quot;\r\n\r\n5. Output:\r\n\r\n   &lt;!-- language: lang-bash --&gt;\r\n       [INFO] ...\r\n       [INFO] --- exec-maven-plugin:3.0.0:java (default-cli) @ spring-data-demo ---\r\n       [com.example.demo.Main.main()] INFO com.example.demo.Main - got message: FOO &#39;bar&#39;.\r\n       [INFO] ------------------------------------------------------------------------\r\n       [INFO] BUILD SUCCESS\r\n       [INFO] ------------------------------------------------------------------------\r\n       [INFO] Total time:  4.775 s\r\n       [INFO] Finished at: 2021-11-11T17:33:39+01:00\r\n       [INFO] ------------------------------------------------------------------------\r\n\r\n\r\n----------\r\n\r\nIf we delete/rename/move *our* messages.properties, we get (the original) `No API path found that matches request &#39;bar&#39;`.\r\n\r\nI.e. by only placing the file in the correct location (`classpath:/swagger/validation/messages.properties`), we could change the message(s) of a (default) `MessageResolver`.\r\n\r\n\r\n----------\r\n\r\nEdit1:\r\n\r\nI think this will &quot;always work&quot;, since the files in your bin/target folder will have precedence over &quot;resources in jars&quot;, but it depends on classpath/-loader/execution details. But under these conditions any (default) MessageResolver created in &quot;your jvm&quot;, will prefer that/your `messages.properties` \r\n\r\n----------\r\n\r\n\r\nIf you do so, ensure **all** keys are available in **your** `messages.properties` (+ match parameter count(&amp;semantics)), since when trying this:\r\n\r\n&lt;!-- language: lang-java --&gt;    \r\n    // message key not present in (our!) swagger/validation/messages.properties\r\n    log.info(&quot;got other message: {}&quot;, \r\n      mr.get(&quot;validation.request.operation.notAllowed&quot;, &quot;foo&quot;, &quot;bar&quot;)\r\n    );\r\n\r\n,we get ;(;(:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n    [com.example.demo.Main.main()] INFO com.example.demo.Main - got other message: null\r\n\r\n\r\n----------\r\n\r\nEdit2:\r\n\r\nInstead of (effectively)overwriting/replacing the (default) &quot;resource bundle&quot;, you can also have all of the &quot;inheritance and fallback magic&quot;, by *addding* language, country, platform specific messages (but still falling back to the default ones.)\r\n\r\nexemplary folder structure:\r\n\r\n    demo\r\n    --src\r\n    ----main\r\n    ------resources\r\n    --------swagger\r\n    ----------validation\r\n    ------------messages_en_GB.properties\r\n    ------------messages_en_US.properties\r\n    ------------messages_en.properties\r\n    ------------messages_de.properties\r\n    ------------...\r\n           \r\n\r\nSee also:\r\n\r\n- https://www.baeldung.com/java-resourcebundle\r\n- https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.html#default_behavior\r\n\r\n\r\n----------\r\n\r\nEdit3:\r\n\r\nI got it (replacing as &quot;adding&quot;) also working on a transitive dependency, *but* i had to ensure, that :\r\n\r\n- or `demo` is the only (direct) dependency.\r\n- or it appears (locally in the pom) **before** `swagger-request-validator-core`.\r\n\r\nThat sounds not really reliable, but that&#39;s what i&#39;ve found/tested.\r\n\r\nAnd &quot;beyond maven&quot; (sorry used it), we can say: the dependency with customized messages, should appear in the *class path before* `swagger-request-validator-core.jar`","title":"Overwrite properties in java library","body":"<h3>Easy peasy:</h3>\n<ol>\n<li><p>demo/<strong>pom.xml</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n      &lt;version&gt;1.7.32&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.atlassian.oai&lt;/groupId&gt;\n      &lt;artifactId&gt;swagger-request-validator-core&lt;/artifactId&gt;\n      &lt;version&gt;2.22.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n</li>\n<li><p>demo/<strong>src/main/resources/swagger/validation/messages.properties</strong> (case sensitive):</p>\n <pre class=\"lang-properties prettyprint-override\"><code>validation.request.path.missing=FOO '%s'. # an existing key from ...\n# ...swagger-validator with custom message (and complying parameters)\n</code></pre>\n</li>\n<li><p>demo/<strong>src/main/java/com/example/demo/Main.java</strong>:</p>\n <pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport com.atlassian.oai.validator.report.MessageResolver;\nimport com.atlassian.oai.validator.report.ValidationReport.Message;\nimport org.slf4j.Logger;\nimport static org.slf4j.LoggerFactory.getLogger;\n\npublic class Main {\n\n  private static final Logger log = getLogger(Main.class);\n  public static void main(String[] args) {\n    MessageResolver mr = new MessageResolver();\n    Message m = mr.get(&quot;validation.request.path.missing&quot;, &quot;bar&quot;);\n    log.info(&quot;got message: {}&quot;, m == null ? null : m.getMessage());\n  }\n}\n</code></pre>\n</li>\n<li><p>(with these 3 files only, Execute) In your terminal (or in an IDE):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt;cd demo\n&gt;mvn clean process-classes exec:java -Dexec.mainClass=&quot;com.example.demo.Main&quot;\n</code></pre>\n</li>\n<li><p>Output:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[INFO] ...\n[INFO] --- exec-maven-plugin:3.0.0:java (default-cli) @ spring-data-demo ---\n[com.example.demo.Main.main()] INFO com.example.demo.Main - got message: FOO 'bar'.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.775 s\n[INFO] Finished at: 2021-11-11T17:33:39+01:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>If we delete/rename/move <em>our</em> messages.properties, we get (the original) <code>No API path found that matches request 'bar'</code>.</p>\n<p>I.e. by only placing the file in the correct location (<code>classpath:/swagger/validation/messages.properties</code>), we could change the message(s) of a (default) <code>MessageResolver</code>.</p>\n<hr />\n<p>Edit1:</p>\n<p>I think this will &quot;always work&quot;, since the files in your bin/target folder will have precedence over &quot;resources in jars&quot;, but it depends on classpath/-loader/execution details. But under these conditions any (default) MessageResolver created in &quot;your jvm&quot;, will prefer that/your <code>messages.properties</code></p>\n<hr />\n<p>If you do so, ensure <strong>all</strong> keys are available in <strong>your</strong> <code>messages.properties</code> (+ match parameter count(&amp;semantics)), since when trying this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// message key not present in (our!) swagger/validation/messages.properties\nlog.info(&quot;got other message: {}&quot;, \n  mr.get(&quot;validation.request.operation.notAllowed&quot;, &quot;foo&quot;, &quot;bar&quot;)\n);\n</code></pre>\n<p>,we get ;(;(:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[com.example.demo.Main.main()] INFO com.example.demo.Main - got other message: null\n</code></pre>\n<hr />\n<p>Edit2:</p>\n<p>Instead of (effectively)overwriting/replacing the (default) &quot;resource bundle&quot;, you can also have all of the &quot;inheritance and fallback magic&quot;, by <em>addding</em> language, country, platform specific messages (but still falling back to the default ones.)</p>\n<p>exemplary folder structure:</p>\n<pre><code>demo\n--src\n----main\n------resources\n--------swagger\n----------validation\n------------messages_en_GB.properties\n------------messages_en_US.properties\n------------messages_en.properties\n------------messages_de.properties\n------------...\n       \n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-resourcebundle\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-resourcebundle</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.html#default_behavior\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.html#default_behavior</a></li>\n</ul>\n<hr />\n<p>Edit3:</p>\n<p>I got it (replacing as &quot;adding&quot;) also working on a transitive dependency, <em>but</em> i had to ensure, that :</p>\n<ul>\n<li>or <code>demo</code> is the only (direct) dependency.</li>\n<li>or it appears (locally in the pom) <strong>before</strong> <code>swagger-request-validator-core</code>.</li>\n</ul>\n<p>That sounds not really reliable, but that's what i've found/tested.</p>\n<p>And &quot;beyond maven&quot; (sorry used it), we can say: the dependency with customized messages, should appear in the <em>class path before</em> <code>swagger-request-validator-core.jar</code></p>\n"}],"owner":{"account_id":15435220,"reputation":63,"user_id":11135504,"display_name":"Sam Jing Wen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69931992,"answer_count":2,"score":1,"last_activity_date":1636657055,"creation_date":1636636005,"question_id":69928806,"body_markdown":"I have a Lib-A that has a dependency on com.atlassian.oai:swagger-request-validator-core. This dependency has a properties file [messages.properties](https://bitbucket.org/atlassian/swagger-request-validator/src/master/swagger-request-validator-core/src/main/resources/swagger/validation/messages.properties). \r\n\r\nI have an App-A that has a dependency on Lib-A. If I place the messages.properties file in App-A, I am able to overwrite the properties, but if I place it in Lib-A, it doesn&#39;t overwrite. How do I overwrite the properties from Lib-A? \r\n \r\nThere seems to be no way of changing the path as well: https://bitbucket.org/atlassian/swagger-request-validator/src/master/swagger-request-validator-core/src/main/java/com/atlassian/oai/validator/report/MessageResolver.java#lines-26","title":"Overwrite properties in java library","body":"<p>I have a Lib-A that has a dependency on com.atlassian.oai:swagger-request-validator-core. This dependency has a properties file <a href=\"https://bitbucket.org/atlassian/swagger-request-validator/src/master/swagger-request-validator-core/src/main/resources/swagger/validation/messages.properties\" rel=\"nofollow noreferrer\">messages.properties</a>.</p>\n<p>I have an App-A that has a dependency on Lib-A. If I place the messages.properties file in App-A, I am able to overwrite the properties, but if I place it in Lib-A, it doesn't overwrite. How do I overwrite the properties from Lib-A?</p>\n<p>There seems to be no way of changing the path as well: <a href=\"https://bitbucket.org/atlassian/swagger-request-validator/src/master/swagger-request-validator-core/src/main/java/com/atlassian/oai/validator/report/MessageResolver.java#lines-26\" rel=\"nofollow noreferrer\">https://bitbucket.org/atlassian/swagger-request-validator/src/master/swagger-request-validator-core/src/main/java/com/atlassian/oai/validator/report/MessageResolver.java#lines-26</a></p>\n"},{"tags":["java","php","nginx"],"comments":[{"owner":{"account_id":4397603,"reputation":676,"user_id":3584153,"display_name":"StefanR"},"score":0,"creation_date":1636655941,"post_id":69933154,"comment_id":123621798,"body_markdown":"Looks a bit like constant variable name would have been accidentally added in quotes and set as header name instead of the constant value....","body":"Looks a bit like constant variable name would have been accidentally added in quotes and set as header name instead of the constant value...."},{"owner":{"account_id":24320,"reputation":4745,"user_id":61779,"display_name":"cOle2"},"score":1,"creation_date":1636656124,"post_id":69933154,"comment_id":123621859,"body_markdown":"In `$_SERVER` HTTP headers are formatted according to RFC 3875. See this answer: https://stackoverflow.com/questions/541430/how-do-i-read-any-request-header-in-php","body":"In <code>$_SERVER</code> HTTP headers are formatted according to RFC 3875. See this answer: <a href=\"https://stackoverflow.com/questions/541430/how-do-i-read-any-request-header-in-php\" title=\"how do i read any request header in php\">stackoverflow.com/questions/541430/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24320,"reputation":4745,"user_id":61779,"display_name":"cOle2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636656531,"creation_date":1636656531,"answer_id":69933427,"question_id":69933154,"body_markdown":"PHP formats HTTP headers in the `$_SERVER` variable according to [RFC 3875][1] (the CGI 1.1 spec).\r\n\r\nSpecifically section 4.1.18:\r\n\r\n&gt; Meta-variables with names beginning with HTTP_ contain values read\r\n&gt; from the client request header fields, if the protocol used is HTTP.\r\n&gt; The HTTP header field name is converted to upper case, has all\r\n&gt; occurrences of - replaced with _ and has HTTP_ prepended to give the\r\n&gt; meta-variable name.\r\n\r\nTake a loot at this answer for more discussion and alternate methods of getting HTTP headers: https://stackoverflow.com/questions/541430/how-do-i-read-any-request-header-in-php\r\n\r\n\r\n  [1]: http://www.faqs.org/rfcs/rfc3875.html","title":"Header sent from Java changes it name on PHP side","body":"<p>PHP formats HTTP headers in the <code>$_SERVER</code> variable according to <a href=\"http://www.faqs.org/rfcs/rfc3875.html\" rel=\"nofollow noreferrer\">RFC 3875</a> (the CGI 1.1 spec).</p>\n<p>Specifically section 4.1.18:</p>\n<blockquote>\n<p>Meta-variables with names beginning with HTTP_ contain values read\nfrom the client request header fields, if the protocol used is HTTP.\nThe HTTP header field name is converted to upper case, has all\noccurrences of - replaced with _ and has HTTP_ prepended to give the\nmeta-variable name.</p>\n</blockquote>\n<p>Take a loot at this answer for more discussion and alternate methods of getting HTTP headers: <a href=\"https://stackoverflow.com/questions/541430/how-do-i-read-any-request-header-in-php\">How do I read any request header in PHP</a></p>\n"}],"owner":{"account_id":1385737,"reputation":3641,"user_id":1317845,"accept_rate":87,"display_name":"Itsmeromka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69933427,"answer_count":1,"score":-1,"last_activity_date":1636656531,"creation_date":1636655127,"question_id":69933154,"body_markdown":"I am sending `X-Auth-HMAC` header from Java using HttpClient to Nginx + PHP-FPM combo:\r\n\r\n```\r\n        HttpClient\r\n                .newBuilder()\r\n                .build()\r\n                .sendAsync(\r\n                        HttpRequest.newBuilder()\r\n                                .uri(&quot;php-fpm:80&quot;)\r\n                                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                                .header(&quot;X-Auth-HMAC&quot;, &quot;test_hmac_header&quot;)\r\n                                .POST(HttpRequest.BodyPublishers.ofString(&quot;test_body&quot;))\r\n                                .build(),\r\n                        HttpResponse.BodyHandlers.ofString()\r\n                );\r\n```\r\n\r\nBut on PHP side in `$_SERVER` variable among all headers i get:\r\n\r\n```\r\n  ...\r\n &quot;HTTP_X_AUTH_HMAC&quot;:&quot;test_hmac_header&quot;,\r\n ...\r\n```\r\n\r\nHow could `X-Auth-HMAC` become `HTTP_X_AUTH_HMAC` ?","title":"Header sent from Java changes it name on PHP side","body":"<p>I am sending <code>X-Auth-HMAC</code> header from Java using HttpClient to Nginx + PHP-FPM combo:</p>\n<pre><code>        HttpClient\n                .newBuilder()\n                .build()\n                .sendAsync(\n                        HttpRequest.newBuilder()\n                                .uri(&quot;php-fpm:80&quot;)\n                                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                                .header(&quot;X-Auth-HMAC&quot;, &quot;test_hmac_header&quot;)\n                                .POST(HttpRequest.BodyPublishers.ofString(&quot;test_body&quot;))\n                                .build(),\n                        HttpResponse.BodyHandlers.ofString()\n                );\n</code></pre>\n<p>But on PHP side in <code>$_SERVER</code> variable among all headers i get:</p>\n<pre><code>  ...\n &quot;HTTP_X_AUTH_HMAC&quot;:&quot;test_hmac_header&quot;,\n ...\n</code></pre>\n<p>How could <code>X-Auth-HMAC</code> become <code>HTTP_X_AUTH_HMAC</code> ?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":9400379,"reputation":442,"user_id":9754585,"display_name":"Drivers Sea"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1636656524,"creation_date":1636656524,"answer_id":69933424,"question_id":69931657,"body_markdown":"I think the solution would be to work your little butt off and get a better puter","title":"Damaged android studio project","body":"<p>I think the solution would be to work your little butt off and get a better puter</p>\n"}],"owner":{"account_id":17582527,"reputation":71,"user_id":12756021,"display_name":"Oleh Prukhnytskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69933424,"answer_count":1,"score":0,"last_activity_date":1636656524,"creation_date":1636647794,"question_id":69931657,"body_markdown":"I have built the application many times. But I have a weak laptop so it turned off in the middle. When I went into the project I saw an incomprehensible text that causes errors. it is unrealistic for me to recover manually because there are so many files. Is it possible to recover? I will be unrealistically grateful for your help. Thanks.\r\n\r\nll files looks like this:\r\n```\r\n&lt;component name=&quot;libraryTable&quot;&gt;\r\n  &lt;library name=&quot;Gradle: com.google.android.datatransport:transport-runtime:3.0.0@aar&quot;&gt;\r\n    &lt;CLASSES&gt;\r\n      &lt;root url=&quot;jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/2873c6ed12b257c554ee157979d1b9ba/jetified-transport-runtime-3.0.0/jars/classes.jar!/&quot; /&gt;\r\n      &lt;root url=&quot;file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/2873c6ed12b257c554ee157979d1b9ba/jetified-transport-runtime-3.0.0/res&quot; /&gt;\r\n    &lt;/CLASSES&gt;\r\n    &lt;JAVADOC&gt;\r\n      &lt;root url=&quot;jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.google.android.datatransport/transport-runtime/3.0.0/7f506fe3498cda976d1b350c218464a0f1974982/transport-runtime-3.0.0-javadoc.jar!/&quot; /&gt;\r\n    &lt;/JAVADOC&gt;\r\n    &lt;SOURCES /&gt;\r\n  &lt;/library&gt;\r\n&lt;/component&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \r\n```","title":"Damaged android studio project","body":"<p>I have built the application many times. But I have a weak laptop so it turned off in the middle. When I went into the project I saw an incomprehensible text that causes errors. it is unrealistic for me to recover manually because there are so many files. Is it possible to recover? I will be unrealistically grateful for your help. Thanks.</p>\n<p>ll files looks like this:</p>\n<pre><code>&lt;component name=&quot;libraryTable&quot;&gt;\n  &lt;library name=&quot;Gradle: com.google.android.datatransport:transport-runtime:3.0.0@aar&quot;&gt;\n    &lt;CLASSES&gt;\n      &lt;root url=&quot;jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/2873c6ed12b257c554ee157979d1b9ba/jetified-transport-runtime-3.0.0/jars/classes.jar!/&quot; /&gt;\n      &lt;root url=&quot;file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/2873c6ed12b257c554ee157979d1b9ba/jetified-transport-runtime-3.0.0/res&quot; /&gt;\n    &lt;/CLASSES&gt;\n    &lt;JAVADOC&gt;\n      &lt;root url=&quot;jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.google.android.datatransport/transport-runtime/3.0.0/7f506fe3498cda976d1b350c218464a0f1974982/transport-runtime-3.0.0-javadoc.jar!/&quot; /&gt;\n    &lt;/JAVADOC&gt;\n    &lt;SOURCES /&gt;\n  &lt;/library&gt;\n&lt;/component&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \n</code></pre>\n"},{"tags":["java","opencv","url"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1431808979,"post_id":30280539,"comment_id":48659343,"body_markdown":"So, what&#39;s the question?","body":"So, what&#39;s the question?"},{"owner":{"account_id":6229896,"reputation":25,"user_id":4847004,"display_name":"valikund"},"score":0,"creation_date":1431809248,"post_id":30280539,"comment_id":48659420,"body_markdown":"The question is that, how can I get rid of the error? Btw can I edit the question title?","body":"The question is that, how can I get rid of the error? Btw can I edit the question title?"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1431809348,"post_id":30280539,"comment_id":48659444,"body_markdown":"Yes, you can edit the entire question, including the title and the tags. While you&#39;re at it, add information such as why you think you need to do something with the user client and what did you try to do about it and where it failed.","body":"Yes, you can edit the entire question, including the title and the tags. While you&#39;re at it, add information such as why you think you need to do something with the user client and what did you try to do about it and where it failed."},{"owner":{"account_id":6229896,"reputation":25,"user_id":4847004,"display_name":"valikund"},"score":0,"creation_date":1431809748,"post_id":30280539,"comment_id":48659557,"body_markdown":"I have edited it. The main problem is that I dont know a class or tool for this.","body":"I have edited it. The main problem is that I dont know a class or tool for this."},{"owner":{"account_id":6229896,"reputation":25,"user_id":4847004,"display_name":"valikund"},"score":0,"creation_date":1431811703,"post_id":30280539,"comment_id":48660094,"body_markdown":"Thank you, this works for me. Can you make this an answer, it can help out poeple in the future.","body":"Thank you, this works for me. Can you make this an answer, it can help out poeple in the future."}],"answers":[{"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1431813335,"creation_date":1431813335,"answer_id":30281165,"question_id":30280539,"body_markdown":"Instead of using `ImageIO.read(URL)`, which limits you to the default behavior of the URL&#39;s underlying `URLConnection`, use `ImageIO.read(InputStream)`.\r\n\r\nThis allows you to use any HTTP client library - including the basic [`HttpURLConnection`](http://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html), which you can get from `(HttpURLConnection)url_kep.openConnection()`. Using that, you can set headers such as `User-Agent`, if that&#39;s the header required by the site, or other headers such as `Referer` which are sometimes used to prevent deep-linking.\r\n\r\nOnce you set up all the headers and any other request options, you can get an `InputStream` from the client object, and pass that to `ImageIO`.\r\n","title":"Downloading image from Url in java.Server returned HTTP response code: 403 error. How can I get the connection to work?","body":"<p>Instead of using <code>ImageIO.read(URL)</code>, which limits you to the default behavior of the URL's underlying <code>URLConnection</code>, use <code>ImageIO.read(InputStream)</code>.</p>\n\n<p>This allows you to use any HTTP client library - including the basic <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow\"><code>HttpURLConnection</code></a>, which you can get from <code>(HttpURLConnection)url_kep.openConnection()</code>. Using that, you can set headers such as <code>User-Agent</code>, if that's the header required by the site, or other headers such as <code>Referer</code> which are sometimes used to prevent deep-linking.</p>\n\n<p>Once you set up all the headers and any other request options, you can get an <code>InputStream</code> from the client object, and pass that to <code>ImageIO</code>.</p>\n"},{"tags":[],"owner":{"account_id":14804379,"reputation":1,"user_id":10691814,"display_name":"M. REYSEY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636656395,"creation_date":1636656395,"answer_id":69933402,"question_id":30280539,"body_markdown":"This Solution Worked For Me: \r\n\r\n    URLConnection openConnection = new URL(&quot;YOUR_IMAGE_URL&quot;).openConnection();\r\n    openConnection.addRequestProperty(&quot;User-Agent&quot;, &quot;YOUR USER AGENT&quot;);\r\n    InputStream is = openConnection.getInputStream();\r\n    BufferedImage saveImage = ImageIO.read(is);\r\n    ImageIO.write(saveImage, &quot;png&quot;, new File(&quot;PATH\\\\TO\\\\IMAGE\\\\FILE.PNG&quot;));\r\n\r\n","title":"Downloading image from Url in java.Server returned HTTP response code: 403 error. How can I get the connection to work?","body":"<p>This Solution Worked For Me:</p>\n<pre><code>URLConnection openConnection = new URL(&quot;YOUR_IMAGE_URL&quot;).openConnection();\nopenConnection.addRequestProperty(&quot;User-Agent&quot;, &quot;YOUR USER AGENT&quot;);\nInputStream is = openConnection.getInputStream();\nBufferedImage saveImage = ImageIO.read(is);\nImageIO.write(saveImage, &quot;png&quot;, new File(&quot;PATH\\\\TO\\\\IMAGE\\\\FILE.PNG&quot;));\n</code></pre>\n"}],"owner":{"account_id":6229896,"reputation":25,"user_id":4847004,"display_name":"valikund"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30281165,"answer_count":2,"score":1,"last_activity_date":1636656395,"creation_date":1431808857,"question_id":30280539,"body_markdown":"I am trying to downloada picture from a certain url, but cant do so because I somehow have to give the right userclient to the website.I am sure the problem is that I cant give the user client while using the Url class, because  the page can be accesed via browser. I tried using proxy and Urlconnection but couldnt get it  to work. Please share your toughts on the matter!\r\n\r\nMy code is the following:\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.Proxy;\r\n    import java.net.SocketAddress;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.highgui.Highgui;\r\n    \r\n    public class KepLetolto {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tSystem.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n    \t\tFile file = new File(&quot;tempjpeg&quot;);\r\n    \t\t SocketAddress address = new java.net.InetSocketAddress(&quot;xyz.com&quot;, 8080);\r\n             \r\n             // Create an HTTP Proxy using the above SocketAddress.\r\n             Proxy proxy = new Proxy(Proxy.Type.HTTP, address);\r\n    \t\r\n    \t\t\r\n    \t\tURL url_kep =new URL(&quot;http://www.theouthousers.com/images/templates/thumbnails/128058/bayfinger_size3.png&quot;);\r\n    \t\t\r\n    \t\tImageIO.write(ImageIO.read(url_kep), &quot;jpeg&quot;, file);\r\n    \t\t\r\n    \t\tMat uj = Highgui.imread(&quot;temp.jpeg&quot; ,Highgui.CV_LOAD_IMAGE_COLOR);\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Downloading image from Url in java.Server returned HTTP response code: 403 error. How can I get the connection to work?","body":"<p>I am trying to downloada picture from a certain url, but cant do so because I somehow have to give the right userclient to the website.I am sure the problem is that I cant give the user client while using the Url class, because  the page can be accesed via browser. I tried using proxy and Urlconnection but couldnt get it  to work. Please share your toughts on the matter!</p>\n\n<p>My code is the following:</p>\n\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\nimport java.net.Proxy;\nimport java.net.SocketAddress;\nimport java.net.URL;\nimport java.net.URLConnection;\n\nimport javax.imageio.ImageIO;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.highgui.Highgui;\n\npublic class KepLetolto {\n\n    public static void main(String[] args) throws IOException {\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        File file = new File(\"tempjpeg\");\n         SocketAddress address = new java.net.InetSocketAddress(\"xyz.com\", 8080);\n\n         // Create an HTTP Proxy using the above SocketAddress.\n         Proxy proxy = new Proxy(Proxy.Type.HTTP, address);\n\n\n        URL url_kep =new URL(\"http://www.theouthousers.com/images/templates/thumbnails/128058/bayfinger_size3.png\");\n\n        ImageIO.write(ImageIO.read(url_kep), \"jpeg\", file);\n\n        Mat uj = Highgui.imread(\"temp.jpeg\" ,Highgui.CV_LOAD_IMAGE_COLOR);  \n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","awt","jlabel"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1635787310,"post_id":69799562,"comment_id":123381215,"body_markdown":"Have you tried the `UIManager` property [`&quot;CheckBox.foreground&quot;`](https://stackoverflow.com/search?q=%5Bswing%5D+%22CheckBox.foreground%22)? If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"Have you tried the <code>UIManager</code> property <a href=\"https://stackoverflow.com/search?q=%5Bswing%5D+%22CheckBox.foreground%22\"><code>&quot;CheckBox.foreground&quot;</code></a>? If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/69799562/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1635787679,"post_id":69799562,"comment_id":123381326,"body_markdown":"Alternatively, XOR the text on the image and `setText(&quot;&quot;)`.","body":"Alternatively, XOR the text on the image and <code>setText(&quot;&quot;)</code>."},{"owner":{"account_id":22587478,"reputation":11,"user_id":16894712,"display_name":"Ignacio Inzerilli"},"score":0,"creation_date":1635789608,"post_id":69799562,"comment_id":123381967,"body_markdown":"Hello, I did not know that property, could you explain in more detail, please, and thank you.\noh sorry now I add more info.","body":"Hello, I did not know that property, could you explain in more detail, please, and thank you. oh sorry now I add more info."},{"owner":{"account_id":22587478,"reputation":11,"user_id":16894712,"display_name":"Ignacio Inzerilli"},"score":0,"creation_date":1635789672,"post_id":69799562,"comment_id":123381998,"body_markdown":"I certainly hadn&#39;t thought of that alternative, I&#39;ll use it as a last resort","body":"I certainly hadn&#39;t thought of that alternative, I&#39;ll use it as a last resort"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1635789834,"post_id":69799562,"comment_id":123382056,"body_markdown":"Here are more examples using [`UIManager.put`](https://stackoverflow.com/search?tab=votes&amp;q=%5bswing%5d%20UIManager.put).","body":"Here are more examples using <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bswing%5d%20UIManager.put\"><code>UIManager.put</code></a>."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1635791477,"post_id":69799562,"comment_id":123382621,"body_markdown":"I&#39;m confused.  For a `JCheckBox`, you can set the foreground and background colors so they contrast.  If you want something like the white/black image you posted, you&#39;ll have to create a BufferedImage and set the image to the `JCheckBox`.","body":"I&#39;m confused.  For a <code>JCheckBox</code>, you can set the foreground and background colors so they contrast.  If you want something like the white/black image you posted, you&#39;ll have to create a BufferedImage and set the image to the <code>JCheckBox</code>."},{"owner":{"account_id":22587478,"reputation":11,"user_id":16894712,"display_name":"Ignacio Inzerilli"},"score":0,"creation_date":1635792544,"post_id":69799562,"comment_id":123383014,"body_markdown":"What do not you understand? Sorry if it is not well explained, I will make some corrections, I think that doing what you say is somewhat complicated for what I want, anyway where can I see more information about that. No, not only black / white, it can any other color, it depends on the color of the image, the image can be chosen by the user.","body":"What do not you understand? Sorry if it is not well explained, I will make some corrections, I think that doing what you say is somewhat complicated for what I want, anyway where can I see more information about that. No, not only black / white, it can any other color, it depends on the color of the image, the image can be chosen by the user."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1635806168,"post_id":69799562,"comment_id":123387000,"body_markdown":"I share @GilbertLeBlanc&#39;s doubts. I sense that you don&#39;t want the white/black image; I&#39;m guessing that you want to ensure that the text is legible over _any_ background. With some adjustment, I&#39;d recommend this [approach](https://stackoverflow.com/a/2658663/230513). I urge you to continue experimenting. In your revised [mre], access posted images via `URL`, as shown [here](http://stackoverflow.com/a/10862262/230513); use synthetic images as shown [here](http://stackoverflow.com/a/15982915/230513); or use `UIManager` icons, as shown [here](http://stackoverflow.com/a/12228640/230513).","body":"I share @GilbertLeBlanc&#39;s doubts. I sense that you don&#39;t want the white/black image; I&#39;m guessing that you want to ensure that the text is legible over <i>any</i> background. With some adjustment, I&#39;d recommend this <a href=\"https://stackoverflow.com/a/2658663/230513\">approach</a>. I urge you to continue experimenting. In your revised <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, access posted images via <code>URL</code>, as shown <a href=\"http://stackoverflow.com/a/10862262/230513\">here</a>; use synthetic images as shown <a href=\"http://stackoverflow.com/a/15982915/230513\">here</a>; or use <code>UIManager</code> icons, as shown <a href=\"http://stackoverflow.com/a/12228640/230513\">here</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1635806774,"post_id":69799562,"comment_id":123387135,"body_markdown":"To enhance contrast, first paint a neutral background for the text; you can get its boundary  like [this](https://stackoverflow.com/a/8282330/230513).","body":"To enhance contrast, first paint a neutral background for the text; you can get its boundary  like <a href=\"https://stackoverflow.com/a/8282330/230513\">this</a>."},{"owner":{"account_id":22587478,"reputation":11,"user_id":16894712,"display_name":"Ignacio Inzerilli"},"score":0,"creation_date":1636656505,"post_id":69799562,"comment_id":123621980,"body_markdown":"trashgod, If I thought about it, if I can not otherwise, I will surely do it like this. Thanks for your answer. Now I will try what was recommended to me, then I will comment on how it worked for me..","body":"trashgod, If I thought about it, if I can not otherwise, I will surely do it like this. Thanks for your answer. Now I will try what was recommended to me, then I will comment on how it worked for me.."}],"answers":[{"tags":[],"owner":{"account_id":22587478,"reputation":11,"user_id":16894712,"display_name":"Ignacio Inzerilli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636656078,"creation_date":1636656078,"answer_id":69933338,"question_id":69799562,"body_markdown":"Well, I have found this way to do it, but unfortunately it only works for black and white, can you think of other ways?\r\n\r\n```java\r\n\r\nPublic Color contrast(Image image) {\r\n    BufferedImage buffered = toBufferedImage(image);\r\n        \r\n    int black = 0, white = 0;\r\n        \r\n    for (int x = 0; x &lt; buffered.getWidth(); x++) {\r\n        for (int y = 0; y &lt; buffered.getHeight(); y++) {\r\n            if(buffered.getRGB(x, y) == Color.BLACK.getRGB()) {\r\n                black++;\r\n            }else {\r\n                white++;\r\n            }\r\n        }\r\n    }\r\n        \r\n    System.out.println(&quot;Blanco: &quot; + white + &quot;, Negro: &quot; + black);\r\n    \r\n    return (white &gt; black) ? Color.BLACK : Color.WHITE;\r\n}\r\n\r\nprivate BufferedImage toBufferedImage(Image image) {\r\n    int width = image.getWidth(null);\r\n    int height = image.getHeight(null);\r\n    int argb = BufferedImage.TYPE_BYTE_BINARY;\r\n        \r\n    BufferedImage buffered = new BufferedImage(width, height, argb);\r\n        \r\n    Graphics2D g2 = buffered.createGraphics();\r\n    g2.drawImage(image, 0, 0, null);\r\n    g2.dispose(); \r\n        \r\n    // JOptionPane.showMessageDialog(null, new ImageIcon(buffered));\r\n\r\n    return buffered;\r\n}\r\n```","title":"How can I change the foreground color of a text based on the background it is on?","body":"<p>Well, I have found this way to do it, but unfortunately it only works for black and white, can you think of other ways?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nPublic Color contrast(Image image) {\n    BufferedImage buffered = toBufferedImage(image);\n        \n    int black = 0, white = 0;\n        \n    for (int x = 0; x &lt; buffered.getWidth(); x++) {\n        for (int y = 0; y &lt; buffered.getHeight(); y++) {\n            if(buffered.getRGB(x, y) == Color.BLACK.getRGB()) {\n                black++;\n            }else {\n                white++;\n            }\n        }\n    }\n        \n    System.out.println(&quot;Blanco: &quot; + white + &quot;, Negro: &quot; + black);\n    \n    return (white &gt; black) ? Color.BLACK : Color.WHITE;\n}\n\nprivate BufferedImage toBufferedImage(Image image) {\n    int width = image.getWidth(null);\n    int height = image.getHeight(null);\n    int argb = BufferedImage.TYPE_BYTE_BINARY;\n        \n    BufferedImage buffered = new BufferedImage(width, height, argb);\n        \n    Graphics2D g2 = buffered.createGraphics();\n    g2.drawImage(image, 0, 0, null);\n    g2.dispose(); \n        \n    // JOptionPane.showMessageDialog(null, new ImageIcon(buffered));\n\n    return buffered;\n}\n</code></pre>\n"}],"owner":{"account_id":22587478,"reputation":11,"user_id":16894712,"display_name":"Ignacio Inzerilli"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636656078,"creation_date":1635782682,"question_id":69799562,"body_markdown":"I have a `JCheckbox`,this is in a `JPanel`, that is supposed to show an image in the `JPanel`, when you select it. The problem is this: as you can see in the screenshot, the text of the `JCheckbox` is difficult to read because of the image.\r\n\r\n![screenshot][1]\r\n\r\nI was thinking if there was some way to contrast the text to the image, so that the color of the text is the opposite of the image. \r\n\r\nI know that there&#39;re other ways to fix it, like setting the `JCheckbox` outside the image, but I&#39;d have to change design of my program and structure code.\r\n\r\nFor example, here&#39;s how I want it to look:\r\n\r\n![look][2].\r\n\r\n  [1]: https://i.stack.imgur.com/VqtD4.png\r\n  [2]: https://i.stack.imgur.com/jbMly.png\r\n\r\nThis is all the code that the `JCheckBox` currently has, it is something simple:\r\n\r\n\r\n```java\r\n        final JCheckBox INFO_IMG = new JCheckBox(&quot;Ver img&quot;);\r\n\r\n        INFO_IMG.setFont(new Font(&quot;Dialog&quot;, 0, 12));\r\n        INFO_IMG.setBounds(-2, 2, 78, 13);\r\n        INFO_IMG.setOpaque(false);\r\n        INFO_IMG.setFocusable(false);\r\n        INFO_IMG.addItemListener(new ItemListener() {\r\n\r\n            @Override\r\n            public void itemStateChanged(final ItemEvent ie) {\r\n                if (1 == ie.getStateChange()) {\r\n                    INFO_IMG.setText(&quot;Ver info&quot;);\r\n                    IMG.setVisible(true);\r\n/*                  INFO_IMG.setForegound(ROBOT.getPixelColor(\r\n                    (int)INFO_IMG.getLocationOnScreen.getX() + 12 \r\n                    ,(int) INFO_IMG.getLocationOnScreen().getY() + 10)); \r\n\r\n                   This is another way that I had thought of,\r\n                   although it does not work well,would also have to get \r\n                   the opposite color from the one return.\r\n*/\r\n              } else { \r\n                    INFO_IMG.setText(&quot;Ver img&quot;);\r\n                    IMG.setVisible(false);\r\n                }\r\n            }\r\n        });\r\n        add(INFO_IMG);\r\n```\r\n\r\n   ","title":"How can I change the foreground color of a text based on the background it is on?","body":"<p>I have a <code>JCheckbox</code>,this is in a <code>JPanel</code>, that is supposed to show an image in the <code>JPanel</code>, when you select it. The problem is this: as you can see in the screenshot, the text of the <code>JCheckbox</code> is difficult to read because of the image.</p>\n<p><img src=\"https://i.stack.imgur.com/VqtD4.png\" alt=\"screenshot\" /></p>\n<p>I was thinking if there was some way to contrast the text to the image, so that the color of the text is the opposite of the image.</p>\n<p>I know that there're other ways to fix it, like setting the <code>JCheckbox</code> outside the image, but I'd have to change design of my program and structure code.</p>\n<p>For example, here's how I want it to look:</p>\n<p><img src=\"https://i.stack.imgur.com/jbMly.png\" alt=\"look\" />.</p>\n<p>This is all the code that the <code>JCheckBox</code> currently has, it is something simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        final JCheckBox INFO_IMG = new JCheckBox(&quot;Ver img&quot;);\n\n        INFO_IMG.setFont(new Font(&quot;Dialog&quot;, 0, 12));\n        INFO_IMG.setBounds(-2, 2, 78, 13);\n        INFO_IMG.setOpaque(false);\n        INFO_IMG.setFocusable(false);\n        INFO_IMG.addItemListener(new ItemListener() {\n\n            @Override\n            public void itemStateChanged(final ItemEvent ie) {\n                if (1 == ie.getStateChange()) {\n                    INFO_IMG.setText(&quot;Ver info&quot;);\n                    IMG.setVisible(true);\n/*                  INFO_IMG.setForegound(ROBOT.getPixelColor(\n                    (int)INFO_IMG.getLocationOnScreen.getX() + 12 \n                    ,(int) INFO_IMG.getLocationOnScreen().getY() + 10)); \n\n                   This is another way that I had thought of,\n                   although it does not work well,would also have to get \n                   the opposite color from the one return.\n*/\n              } else { \n                    INFO_IMG.setText(&quot;Ver img&quot;);\n                    IMG.setVisible(false);\n                }\n            }\n        });\n        add(INFO_IMG);\n</code></pre>\n"},{"tags":["java","gradle","groovy","sonarqube"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1636574071,"post_id":69919415,"comment_id":123596544,"body_markdown":"I think you need to exclude `&quot;**/ws/**&quot;` instead of `&quot;**/ws/**/&quot;`.","body":"I think you need to exclude <code>&quot;**&#47;ws&#47;**&quot;</code> instead of <code>&quot;**&#47;ws&#47;**&#47;&quot;</code>."},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1636574185,"post_id":69919415,"comment_id":123596573,"body_markdown":"Or maybe `&quot;**/ws/**/*&quot;`","body":"Or maybe <code>&quot;**&#47;ws&#47;**&#47;*&quot;</code>"},{"owner":{"account_id":16290509,"reputation":41,"user_id":12111890,"display_name":"Javier"},"score":0,"creation_date":1636576691,"post_id":69919415,"comment_id":123597428,"body_markdown":"Hi!\n\nWe have also tried with property `&quot;sonar.exclusions&quot;, &quot;**/ws/**/*.Java&quot;` and sonar has continued executing them :(","body":"Hi!  We have also tried with property <code>&quot;sonar.exclusions&quot;, &quot;**&#47;ws&#47;**&#47;*.Java&quot;</code> and sonar has continued executing them :("},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1636577173,"post_id":69919415,"comment_id":123597586,"body_markdown":"Why with a capital J?","body":"Why with a capital J?"},{"owner":{"account_id":16290509,"reputation":41,"user_id":12111890,"display_name":"Javier"},"score":0,"creation_date":1636577257,"post_id":69919415,"comment_id":123597623,"body_markdown":"Sorry, the format was changed when pasting, the &quot;j&quot; is lowercase\n\n`&quot;sonar.exclusions&quot;, &quot;**/ws/**/*.java&quot;`","body":"Sorry, the format was changed when pasting, the &quot;j&quot; is lowercase  <code>&quot;sonar.exclusions&quot;, &quot;**&#47;ws&#47;**&#47;*.java&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5512797,"reputation":72,"user_id":4378540,"display_name":"Jinendra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636654860,"creation_date":1636654860,"answer_id":69933096,"question_id":69919415,"body_markdown":"try something like\r\n\r\n     sonarqube {\r\n         properties {\r\n             property &quot;sonar.language&quot;, &quot;java&quot;\r\n             property &#39;sonar.exclusions&#39;, &quot;**/ws/**/*.java&quot;\r\n         }\r\n     }","title":"Exclude sonar classes in gradle","body":"<p>try something like</p>\n<pre><code> sonarqube {\n     properties {\n         property &quot;sonar.language&quot;, &quot;java&quot;\n         property 'sonar.exclusions', &quot;**/ws/**/*.java&quot;\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":16290509,"reputation":41,"user_id":12111890,"display_name":"Javier"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2260,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636654860,"creation_date":1636573874,"question_id":69919415,"body_markdown":"I&#39;m trying to exclude classes from a specific package from my gradle project so that sonar won&#39;t parse them.\r\n\r\nSeeing the [sonar documentation for gradle][1], in the build.gradle file I have added the following:\r\n\r\n     sonarqube {\r\n         properties {\r\n             property &#39;sonar.exclusions&#39;, &quot;**/ws/**/&quot;\r\n         }\r\n     }\r\n\r\nSo that when passing the sonar in the project all the classes that are inside the / ws / package exclude them, but when executing the sonar, the classes have not been excluded.\r\n\r\nIs there a way to exclude packets in the gradle so that they are not parsed by sonar?\r\n\r\nMany thanks!\r\n\r\n\r\n  [1]: https://docs.sonarqube.org/latest/analysis/scan/sonarscanner-for-gradle/","title":"Exclude sonar classes in gradle","body":"<p>I'm trying to exclude classes from a specific package from my gradle project so that sonar won't parse them.</p>\n<p>Seeing the <a href=\"https://docs.sonarqube.org/latest/analysis/scan/sonarscanner-for-gradle/\" rel=\"nofollow noreferrer\">sonar documentation for gradle</a>, in the build.gradle file I have added the following:</p>\n<pre><code> sonarqube {\n     properties {\n         property 'sonar.exclusions', &quot;**/ws/**/&quot;\n     }\n }\n</code></pre>\n<p>So that when passing the sonar in the project all the classes that are inside the / ws / package exclude them, but when executing the sonar, the classes have not been excluded.</p>\n<p>Is there a way to exclude packets in the gradle so that they are not parsed by sonar?</p>\n<p>Many thanks!</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":4099584,"reputation":2238,"user_id":3365479,"accept_rate":80,"display_name":"madteapot"},"score":1,"creation_date":1614614679,"post_id":66425389,"comment_id":117432250,"body_markdown":"Does the phase on `PokerRoom` have default value? If not then I am not sure how you workout that the mapping is not working. If mapstruct ignores a field during mapping which has no default value then it will be null after mapping anyway","body":"Does the phase on <code>PokerRoom</code> have default value? If not then I am not sure how you workout that the mapping is not working. If mapstruct ignores a field during mapping which has no default value then it will be null after mapping anyway"},{"owner":{"account_id":6791933,"reputation":864,"user_id":5228754,"accept_rate":0,"display_name":"JangoCG"},"score":0,"creation_date":1614614960,"post_id":66425389,"comment_id":117432379,"body_markdown":"Yes it has a default value which correctly stays untouched if I use the second Mapper where I just ignore it.","body":"Yes it has a default value which correctly stays untouched if I use the second Mapper where I just ignore it."},{"owner":{"account_id":4099584,"reputation":2238,"user_id":3365479,"accept_rate":80,"display_name":"madteapot"},"score":3,"creation_date":1614616265,"post_id":66425389,"comment_id":117432938,"body_markdown":"according to javadoc for [NullValuePropertyMappingStrategy](https://mapstruct.org/documentation/1.3/api/org/mapstruct/NullValuePropertyMappingStrategy.html) **only applies to update methods: methods that update a pre-existing target (annotated with @MappingTarget)**. Have a look at https://stackoverflow.com/questions/54174437/mapstruct-how-to-set-different-null-strategy-for-different-mapping-methods and https://stackoverflow.com/questions/46669594/map-struct-when-source-is-null-target-should-not-be-set-to-null","body":"according to javadoc for <a href=\"https://mapstruct.org/documentation/1.3/api/org/mapstruct/NullValuePropertyMappingStrategy.html\" rel=\"nofollow noreferrer\">NullValuePropertyMappingStrategy</a> <b>only applies to update methods: methods that update a pre-existing target (annotated with @MappingTarget)</b>. Have a look at <a href=\"https://stackoverflow.com/questions/54174437/mapstruct-how-to-set-different-null-strategy-for-different-mapping-methods\" title=\"mapstruct how to set different null strategy for different mapping methods\">stackoverflow.com/questions/54174437/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/46669594/map-struct-when-source-is-null-target-should-not-be-set-to-null\" title=\"map struct when source is null target should not be set to null\">stackoverflow.com/questions/46669594/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1614629553,"creation_date":1614629553,"answer_id":66429001,"question_id":66425389,"body_markdown":"This works as designed. `NullValuePropertyMappingStrategy` is only applied to update method. It is not used for normal mappings.\r\n\r\nI think that you are looking for `NullValueCheckStrategy`, if you use `NullValueCheckStrategy#ALWAYS` then MapStruct will always do a null check non the `PokerRoomDto` and only invoke the setter on the `PokerRoom` if the value was not `null`","title":"nullValuePropertyMappingStrategy not working","body":"<p>This works as designed. <code>NullValuePropertyMappingStrategy</code> is only applied to update method. It is not used for normal mappings.</p>\n<p>I think that you are looking for <code>NullValueCheckStrategy</code>, if you use <code>NullValueCheckStrategy#ALWAYS</code> then MapStruct will always do a null check non the <code>PokerRoomDto</code> and only invoke the setter on the <code>PokerRoom</code> if the value was not <code>null</code></p>\n"},{"tags":[],"owner":{"account_id":12819454,"reputation":2082,"user_id":9274948,"display_name":"Hawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636654793,"creation_date":1636654793,"answer_id":69933083,"question_id":66425389,"body_markdown":"If you initialise your field at declaration and want to keep that value, I&#39;ve come up with a solution.\r\nA bit hacky, not very general (depends on generated variable name), but works.\r\nAssuming:\r\n```java\r\nclass PokerRoom {\r\n    Integer phase = 0;\r\n}\r\n```\r\nYou can use\r\n```java\r\n@Mapping(target = &quot;phase&quot;, defaultExpression = &quot;java( pokerRoom.getPhase() )&quot;)\r\nPokerRoom pokerRoomDtoToPokerRoom(PokerRoomDto pokerRoomDto);\r\n```\r\n\r\nA simpler solution would be to use the same constant you use at field declaration.\r\n```java\r\n@Mapping(target = &quot;phase&quot;, defaultValue = &quot;0&quot;)\r\nPokerRoom pokerRoomDtoToPokerRoom(PokerRoomDto pokerRoomDto);\r\n```","title":"nullValuePropertyMappingStrategy not working","body":"<p>If you initialise your field at declaration and want to keep that value, I've come up with a solution.\nA bit hacky, not very general (depends on generated variable name), but works.\nAssuming:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PokerRoom {\n    Integer phase = 0;\n}\n</code></pre>\n<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;phase&quot;, defaultExpression = &quot;java( pokerRoom.getPhase() )&quot;)\nPokerRoom pokerRoomDtoToPokerRoom(PokerRoomDto pokerRoomDto);\n</code></pre>\n<p>A simpler solution would be to use the same constant you use at field declaration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;phase&quot;, defaultValue = &quot;0&quot;)\nPokerRoom pokerRoomDtoToPokerRoom(PokerRoomDto pokerRoomDto);\n</code></pre>\n"}],"owner":{"account_id":6791933,"reputation":864,"user_id":5228754,"accept_rate":0,"display_name":"JangoCG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4837,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66429001,"answer_count":2,"score":4,"last_activity_date":1636654793,"creation_date":1614614169,"question_id":66425389,"body_markdown":"I have the following mapper\r\n   \r\n\r\n    @Mapper(config = MappingConfig.class)\r\n    public interface PokerRoomMapper {\r\n    \r\n      @Mapping(target = &quot;phase&quot;, nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\r\n      PokerRoom pokerRoomDtoToPokerRoom(PokerRoomDto pokerRoomDto);\r\n    \r\n    }\r\n\r\n\r\n\r\nThe pokerRoomDto which is passed to it has a &quot;phase&quot; field which can be null. I want this field to be ignored when it is null. But right now the &quot;null&quot; value still gets mapped to the pokerRoom entity.\r\n\r\nIf I just ignore the field in the mapper it works and the default value for phase in PokerRoom stays untouched however I dont want to always ignore it.\r\n\r\n    @Mapper(config = MappingConfig.class)\r\n    public interface PokerRoomMapper {\r\n    \r\n      @Mapping(target = &quot;phase&quot;, ignore = true)\r\n      PokerRoom pokerRoomDtoToPokerRoom(PokerRoomDto pokerRoomDto);\r\n    \r\n    }\r\n","title":"nullValuePropertyMappingStrategy not working","body":"<p>I have the following mapper</p>\n<pre><code>@Mapper(config = MappingConfig.class)\npublic interface PokerRoomMapper {\n\n  @Mapping(target = &quot;phase&quot;, nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\n  PokerRoom pokerRoomDtoToPokerRoom(PokerRoomDto pokerRoomDto);\n\n}\n</code></pre>\n<p>The pokerRoomDto which is passed to it has a &quot;phase&quot; field which can be null. I want this field to be ignored when it is null. But right now the &quot;null&quot; value still gets mapped to the pokerRoom entity.</p>\n<p>If I just ignore the field in the mapper it works and the default value for phase in PokerRoom stays untouched however I dont want to always ignore it.</p>\n<pre><code>@Mapper(config = MappingConfig.class)\npublic interface PokerRoomMapper {\n\n  @Mapping(target = &quot;phase&quot;, ignore = true)\n  PokerRoom pokerRoomDtoToPokerRoom(PokerRoomDto pokerRoomDto);\n\n}\n</code></pre>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":2,"creation_date":1636642277,"post_id":69930087,"comment_id":123616220,"body_markdown":"groupBy() is likely to be your best bet here. https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#groupBy-java.util.function.Function-","body":"groupBy() is likely to be your best bet here. <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#groupBy-java.util.function.Function-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4989848,"reputation":1593,"user_id":4012408,"display_name":"Rafael Guillen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636651353,"creation_date":1636642624,"answer_id":69930423,"question_id":69930087,"body_markdown":"It depends, you have two options here:\r\n\r\nOption 1 is to create two new pipelines from hot input source:\r\n\r\n    ConnectableFlux&lt;Integer&gt; input = Flux.range(1,7).publish();\r\n\r\n    //Pipeline 1\r\n    input.filter(i -&gt; i % 2== 0)\r\n        .subscribe(e -&gt; System.out.println(&quot;Even stream value: &quot; + e));\r\n\r\n    //Pipeline 2\r\n    input.filter(i -&gt; i % 2 != 0)\r\n        .subscribe(o -&gt; System.out.println(&quot;Odd stream value: &quot; + o));\r\n\r\n    input.connect();\r\n\r\nOption 2 is to process results in a single subscriber, like grouping by:\r\n\r\n    Flux.just(1,2,3,4,5,6,7)\r\n        .subscribe(n -&gt; {\r\n          if (n % 2 == 0) {\r\n            System.out.println(&quot;Even stream value: &quot; + n);\r\n          } else {\r\n            System.out.println(&quot;Odd stream value: &quot; + n);\r\n          }\r\n        });","title":"Split a Flux into two based on a condition without GroupBy","body":"<p>It depends, you have two options here:</p>\n<p>Option 1 is to create two new pipelines from hot input source:</p>\n<pre><code>ConnectableFlux&lt;Integer&gt; input = Flux.range(1,7).publish();\n\n//Pipeline 1\ninput.filter(i -&gt; i % 2== 0)\n    .subscribe(e -&gt; System.out.println(&quot;Even stream value: &quot; + e));\n\n//Pipeline 2\ninput.filter(i -&gt; i % 2 != 0)\n    .subscribe(o -&gt; System.out.println(&quot;Odd stream value: &quot; + o));\n\ninput.connect();\n</code></pre>\n<p>Option 2 is to process results in a single subscriber, like grouping by:</p>\n<pre><code>Flux.just(1,2,3,4,5,6,7)\n    .subscribe(n -&gt; {\n      if (n % 2 == 0) {\n        System.out.println(&quot;Even stream value: &quot; + n);\n      } else {\n        System.out.println(&quot;Odd stream value: &quot; + n);\n      }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636643604,"creation_date":1636643604,"answer_id":69930650,"question_id":69930087,"body_markdown":"As suggested by @Michael Berry, using [`groupBy`][1] is one of the solution.  \r\nWe can group using `i % 2` which return a `Flux&lt;GroupedFlux&gt;`, then we can use [`GroupedFlux#key()`][2] to distinguish odd or even group.\r\n```java\r\npublic class SplitFlux {\r\n    public static void main(String[] args) {\r\n        Flux.just(1, 2, 3, 4, 5, 6, 7).groupBy(i -&gt; i % 2).toStream()\r\n                .forEach(groupedFlux -&gt;\r\n                {\r\n                    System.out.println(groupedFlux.key() == 0 ? &quot;even&quot; : &quot;odd&quot;);\r\n                    groupedFlux.toStream().forEach(System.out::println);\r\n                });\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#groupBy-java.util.function.Function-\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/GroupedFlux.html#key--","title":"Split a Flux into two based on a condition without GroupBy","body":"<p>As suggested by @Michael Berry, using <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#groupBy-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>groupBy</code></a> is one of the solution.<br />\nWe can group using <code>i % 2</code> which return a <code>Flux&lt;GroupedFlux&gt;</code>, then we can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/GroupedFlux.html#key--\" rel=\"nofollow noreferrer\"><code>GroupedFlux#key()</code></a> to distinguish odd or even group.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SplitFlux {\n    public static void main(String[] args) {\n        Flux.just(1, 2, 3, 4, 5, 6, 7).groupBy(i -&gt; i % 2).toStream()\n                .forEach(groupedFlux -&gt;\n                {\n                    System.out.println(groupedFlux.key() == 0 ? &quot;even&quot; : &quot;odd&quot;);\n                    groupedFlux.toStream().forEach(System.out::println);\n                });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2488265,"reputation":93,"user_id":2166286,"accept_rate":29,"display_name":"supraja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1636654549,"creation_date":1636641281,"question_id":69930087,"body_markdown":"For a given stream of data:\r\n```\r\nFlux&lt;Integer&gt; evenFlux = Flux.just(1, 2, 3, 4, 5, 6, 7)\r\n                         .filter(i -&gt; i % 2 == 0)\r\n\r\nFlux&lt;Integer&gt; oddFlux = Flux.just(1, 2, 3, 4, 5, 6, 7)\r\n                         .filter(i -&gt; i % 2 != 0)\r\n```\r\nInstead of this how can I split using a single pipeline? \r\nAll filtered elements to one `Flux` and discarded elements to another `Flux`. Using `onDiscardHook` or something?\r\n\r\nNote: I need to do a `repeat()` operation on the new `Flux`. Was not able to perform repeat on `GroupedFlux`.\r\n","title":"Split a Flux into two based on a condition without GroupBy","body":"<p>For a given stream of data:</p>\n<pre><code>Flux&lt;Integer&gt; evenFlux = Flux.just(1, 2, 3, 4, 5, 6, 7)\n                         .filter(i -&gt; i % 2 == 0)\n\nFlux&lt;Integer&gt; oddFlux = Flux.just(1, 2, 3, 4, 5, 6, 7)\n                         .filter(i -&gt; i % 2 != 0)\n</code></pre>\n<p>Instead of this how can I split using a single pipeline?\nAll filtered elements to one <code>Flux</code> and discarded elements to another <code>Flux</code>. Using <code>onDiscardHook</code> or something?</p>\n<p>Note: I need to do a <code>repeat()</code> operation on the new <code>Flux</code>. Was not able to perform repeat on <code>GroupedFlux</code>.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1636488721,"post_id":69904132,"comment_id":123569663,"body_markdown":"The semantics of your `visit` matter. Please explain a use case in more detail. Normally you&#39;d simply want be able to do something like `myAccountingSystem.processPayment(Money amount, PaymentMethod payment)`, and then the `PaymentMethod` would have a `processCharge(Money amount)` method.","body":"The semantics of your <code>visit</code> matter. Please explain a use case in more detail. Normally you&#39;d simply want be able to do something like <code>myAccountingSystem.processPayment(Money amount, PaymentMethod payment)</code>, and then the <code>PaymentMethod</code> would have a <code>processCharge(Money amount)</code> method."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1636493227,"post_id":69904132,"comment_id":123571335,"body_markdown":"What version of Java are you using? In Java 17 you could used [sealed classes](http://openjdk.java.net/jeps/409) and write `sealed interface PaymentMethod permits Cash, CreditCard`.","body":"What version of Java are you using? In Java 17 you could used <a href=\"http://openjdk.java.net/jeps/409\" rel=\"nofollow noreferrer\">sealed classes</a> and write <code>sealed interface PaymentMethod permits Cash, CreditCard</code>."}],"answers":[{"tags":[],"owner":{"account_id":2845518,"reputation":992,"user_id":2444031,"accept_rate":79,"display_name":"TJ Mazeika"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1636654330,"creation_date":1636654330,"answer_id":69933000,"question_id":69904132,"body_markdown":"```java\r\n/**\r\n * A PaymentMethod is one of Cash or CreditCard(String accountNum).\r\n */\r\npublic abstract class PaymentMethod {\r\n\r\n    private PaymentMethod() {}\r\n\r\n    /**\r\n     * Creates a Cash payment method.\r\n     */\r\n    public static PaymentMethod makeCash() {\r\n        return new Cash();\r\n    }\r\n\r\n    /**\r\n     * Creates a CreditCard payment method with an account number.\r\n     */\r\n    public static PaymentMethod makeCreditCard(String accountNum) {\r\n        return new CreditCard(accountNum);\r\n    }\r\n\r\n    public abstract &lt;R&gt; R visit(IVisitor&lt;R&gt; visitor);\r\n\r\n    public interface IVisitor&lt;R&gt; {\r\n\r\n        R visitCash();\r\n\r\n        R visitCreditCard(String accountNum);\r\n    }\r\n\r\n    private static class Cash extends PaymentMethod {\r\n\r\n        @Override\r\n        public &lt;R&gt; R visit(IVisitor&lt;R&gt; visitor) {\r\n            return visitor.visitCash();\r\n        }\r\n    }\r\n\r\n    private static class CreditCard extends PaymentMethod {\r\n\r\n        private final String accountNum;\r\n\r\n        private CreditCard(String accountNum) {\r\n            this.accountNum = accountNum;\r\n        }\r\n\r\n        @Override\r\n        public &lt;R&gt; R visit(IVisitor&lt;R&gt; visitor) {\r\n            return visitor.visitCreditCard(this.accountNum);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis solution keeps the visitor pattern for performing operations on each subclass of PaymentMethod, but uses the factory pattern for the creation of those subclasses. The private PaymentMethod constructor prevents outside extension of the class, thus closing the union. Access modifiers could be relaxed (i.e. with a package-private constructor) to allow for extension only within a package and to permit extracting out the Cash and CreditCard classes.\r\n\r\nIt&#39;s verbose, yes, but it seems to be the best solution for Java &lt;17 (see David Conrad&#39;s comment about sealed classes).","title":"How do I represent disjoint union types in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>/**\n * A PaymentMethod is one of Cash or CreditCard(String accountNum).\n */\npublic abstract class PaymentMethod {\n\n    private PaymentMethod() {}\n\n    /**\n     * Creates a Cash payment method.\n     */\n    public static PaymentMethod makeCash() {\n        return new Cash();\n    }\n\n    /**\n     * Creates a CreditCard payment method with an account number.\n     */\n    public static PaymentMethod makeCreditCard(String accountNum) {\n        return new CreditCard(accountNum);\n    }\n\n    public abstract &lt;R&gt; R visit(IVisitor&lt;R&gt; visitor);\n\n    public interface IVisitor&lt;R&gt; {\n\n        R visitCash();\n\n        R visitCreditCard(String accountNum);\n    }\n\n    private static class Cash extends PaymentMethod {\n\n        @Override\n        public &lt;R&gt; R visit(IVisitor&lt;R&gt; visitor) {\n            return visitor.visitCash();\n        }\n    }\n\n    private static class CreditCard extends PaymentMethod {\n\n        private final String accountNum;\n\n        private CreditCard(String accountNum) {\n            this.accountNum = accountNum;\n        }\n\n        @Override\n        public &lt;R&gt; R visit(IVisitor&lt;R&gt; visitor) {\n            return visitor.visitCreditCard(this.accountNum);\n        }\n    }\n}\n</code></pre>\n<p>This solution keeps the visitor pattern for performing operations on each subclass of PaymentMethod, but uses the factory pattern for the creation of those subclasses. The private PaymentMethod constructor prevents outside extension of the class, thus closing the union. Access modifiers could be relaxed (i.e. with a package-private constructor) to allow for extension only within a package and to permit extracting out the Cash and CreditCard classes.</p>\n<p>It's verbose, yes, but it seems to be the best solution for Java &lt;17 (see David Conrad's comment about sealed classes).</p>\n"}],"owner":{"account_id":2845518,"reputation":992,"user_id":2444031,"accept_rate":79,"display_name":"TJ Mazeika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69933000,"answer_count":1,"score":1,"last_activity_date":1636654330,"creation_date":1636486975,"question_id":69904132,"body_markdown":"Let&#39;s say I have a data definition in a system:\r\n\r\n&gt; A `PaymentMethod` is one of `Cash` or `CreditCard(String accountNum)`.\r\n\r\nOne way of operating on this (disjoint union) data is with the visitor pattern:\r\n\r\n```java\r\ninterface IPaymentMethod {\r\n\r\n    &lt;R&gt; R visit(IPaymentMethod.IVisitor&lt;R&gt; visitor);\r\n\r\n    interface IVisitor&lt;R&gt; {\r\n\r\n        R visitCash();\r\n\r\n        R visitCreditCard(String accountNum);\r\n    }\r\n}\r\n\r\nclass Cash implements IPaymentMethod {\r\n\r\n    &lt;R&gt; R visit(IPaymentMethod.IVisitor&lt;R&gt; visitor) {\r\n        return visitor.visitCash();\r\n    }\r\n}\r\n\r\nclass CreditCard implements IPaymentMethod {\r\n\r\n    String accountNum;\r\n\r\n    // constructor here\r\n\r\n    &lt;R&gt; R visit(IPaymentMethod.IVisitor&lt;R&gt; visitor) {\r\n        return visitor.visitCreditCard(this.accountNum);\r\n    }\r\n}\r\n```\r\n\r\nAside from the verbosity in both implementing and using visitors, it&#39;s too open to extension: if I expect consumers of my library to produce `IPaymentMethod`s, I only expect `Cash` or `CreditCard`s to be returned. However, they might return their own implementation, which wouldn&#39;t make any sense. Is there another pattern here that can better represent this data and can guarantee that I&#39;m only ever dealing with `Cash` and `CreditCard`s? (Of course, if it weren&#39;t for `String accountNum`, an enum would be great.)","title":"How do I represent disjoint union types in Java?","body":"<p>Let's say I have a data definition in a system:</p>\n<blockquote>\n<p>A <code>PaymentMethod</code> is one of <code>Cash</code> or <code>CreditCard(String accountNum)</code>.</p>\n</blockquote>\n<p>One way of operating on this (disjoint union) data is with the visitor pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface IPaymentMethod {\n\n    &lt;R&gt; R visit(IPaymentMethod.IVisitor&lt;R&gt; visitor);\n\n    interface IVisitor&lt;R&gt; {\n\n        R visitCash();\n\n        R visitCreditCard(String accountNum);\n    }\n}\n\nclass Cash implements IPaymentMethod {\n\n    &lt;R&gt; R visit(IPaymentMethod.IVisitor&lt;R&gt; visitor) {\n        return visitor.visitCash();\n    }\n}\n\nclass CreditCard implements IPaymentMethod {\n\n    String accountNum;\n\n    // constructor here\n\n    &lt;R&gt; R visit(IPaymentMethod.IVisitor&lt;R&gt; visitor) {\n        return visitor.visitCreditCard(this.accountNum);\n    }\n}\n</code></pre>\n<p>Aside from the verbosity in both implementing and using visitors, it's too open to extension: if I expect consumers of my library to produce <code>IPaymentMethod</code>s, I only expect <code>Cash</code> or <code>CreditCard</code>s to be returned. However, they might return their own implementation, which wouldn't make any sense. Is there another pattern here that can better represent this data and can guarantee that I'm only ever dealing with <code>Cash</code> and <code>CreditCard</code>s? (Of course, if it weren't for <code>String accountNum</code>, an enum would be great.)</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23297033,"reputation":11,"user_id":17378287,"display_name":"goatlikeK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636562253,"creation_date":1636562253,"answer_id":69916988,"question_id":69915544,"body_markdown":"    &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot;&gt;shortEdges&lt;/item&gt;\r\n    &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\r\n    &lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\r\n\r\nThis solved it. It was the top &quot;notch&quot; aka the phone camera dot cutout\r\n","title":"Android: Game has black bar on the side (In screenshot only)","body":"<pre><code>&lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot;&gt;shortEdges&lt;/item&gt;\n&lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\n&lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\n</code></pre>\n<p>This solved it. It was the top &quot;notch&quot; aka the phone camera dot cutout</p>\n"}],"owner":{"account_id":23297033,"reputation":11,"user_id":17378287,"display_name":"goatlikeK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636654276,"creation_date":1636556384,"question_id":69915544,"body_markdown":"Here&#39;s a screenshot: https://i.stack.imgur.com/XGXfE.jpg\r\nI&#39;m dealing with Screen size issues.\r\n\r\nThis black bar was not there when I was using my old phone (galaxy S7). But on my new one (Poco F3, 2400x1080p) there is this black bar.\r\n\r\nIt is not visible in-game! Only on the screenshot, which I found pretty weird. The big problem is that now the UI that is on the right is halfway offscreen and won&#39;t come out fully.\r\n\r\nI tried display.getRealSize(screenSize); it gives correct 1080x2400p res. If I try display.getHeight (deprecated), I get an odd smaller value and I have no idea where the phone gets that. By using that, the game is still fullscreen, but the right-side UI comes out TOO far as opposed to too little.\r\n\r\nI guess my question is this: What&#39;s the best place to define screen size? Is there a way to get rid of that black bar? Do I have to disable some sort of invisible bottom bar of the phone? Or is the screen just actually smaller than it is in Pixels? Man, this is sort of frustrating to deal with.\r\n\r\n    public void setScreenSize(Context context) {\r\n        int x, y, orientation = context.getResources().getConfiguration().orientation;\r\n        WindowManager wm = ((WindowManager)\r\n                context.getSystemService(Context.WINDOW_SERVICE));\r\n        Display display = wm.getDefaultDisplay();\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\r\n            Point screenSize = new Point();\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n                display.getRealSize(screenSize);\r\n                x = screenSize.x;\r\n                y = screenSize.y;\r\n            } else {\r\n                display.getSize(screenSize);\r\n                x = screenSize.x;\r\n                y = screenSize.y;\r\n            }\r\n        } else {\r\n            x = display.getWidth();\r\n            y = display.getHeight();\r\n        }\r\n      \r\n         screenwidth = x;\r\n         screenheight = y;\r\n         Point screenSize = new Point();\r\n         display.getRealSize(screenSize);\r\n\r\n         screenheight=screenSize.y;\r\n         screenwidth=screenSize.x;\r\n\r\n        Log.d(&quot;screensize&quot;, &quot;w &quot;+screenwidth);\r\n        Log.d(&quot;screensize&quot;, &quot;h &quot;+screenheight);\r\n    }\r\n\r\n\r\nThanks to anyone who took their time to read this! If you have any ideas or dealt with this issue before, let me know, please.","title":"Android: Game has black bar on the side (In screenshot only)","body":"<p>Here's a screenshot: <a href=\"https://i.stack.imgur.com/XGXfE.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/XGXfE.jpg</a>\nI'm dealing with Screen size issues.</p>\n<p>This black bar was not there when I was using my old phone (galaxy S7). But on my new one (Poco F3, 2400x1080p) there is this black bar.</p>\n<p>It is not visible in-game! Only on the screenshot, which I found pretty weird. The big problem is that now the UI that is on the right is halfway offscreen and won't come out fully.</p>\n<p>I tried display.getRealSize(screenSize); it gives correct 1080x2400p res. If I try display.getHeight (deprecated), I get an odd smaller value and I have no idea where the phone gets that. By using that, the game is still fullscreen, but the right-side UI comes out TOO far as opposed to too little.</p>\n<p>I guess my question is this: What's the best place to define screen size? Is there a way to get rid of that black bar? Do I have to disable some sort of invisible bottom bar of the phone? Or is the screen just actually smaller than it is in Pixels? Man, this is sort of frustrating to deal with.</p>\n<pre><code>public void setScreenSize(Context context) {\n    int x, y, orientation = context.getResources().getConfiguration().orientation;\n    WindowManager wm = ((WindowManager)\n            context.getSystemService(Context.WINDOW_SERVICE));\n    Display display = wm.getDefaultDisplay();\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\n        Point screenSize = new Point();\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n            display.getRealSize(screenSize);\n            x = screenSize.x;\n            y = screenSize.y;\n        } else {\n            display.getSize(screenSize);\n            x = screenSize.x;\n            y = screenSize.y;\n        }\n    } else {\n        x = display.getWidth();\n        y = display.getHeight();\n    }\n  \n     screenwidth = x;\n     screenheight = y;\n     Point screenSize = new Point();\n     display.getRealSize(screenSize);\n\n     screenheight=screenSize.y;\n     screenwidth=screenSize.x;\n\n    Log.d(&quot;screensize&quot;, &quot;w &quot;+screenwidth);\n    Log.d(&quot;screensize&quot;, &quot;h &quot;+screenheight);\n}\n</code></pre>\n<p>Thanks to anyone who took their time to read this! If you have any ideas or dealt with this issue before, let me know, please.</p>\n"},{"tags":["java","atomic","synchronized","compare-and-swap","spinlock"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":6,"creation_date":1636648548,"post_id":69931728,"comment_id":123618974,"body_markdown":"`compareAndSet` does no loop within it - it maps 1:1 to a low level feature present on many current processers (for example on Intel processors: [CMPXCHG](https://c9x.me/x86/html/file_module_x86_id_41.html)). This low level feature just doesn&#39;t support &quot;custom transactions&quot; - this is the job of the higher level code.","body":"<code>compareAndSet</code> does no loop within it - it maps 1:1 to a low level feature present on many current processers (for example on Intel processors: <a href=\"https://c9x.me/x86/html/file_module_x86_id_41.html\" rel=\"nofollow noreferrer\">CMPXCHG</a>). This low level feature just doesn&#39;t support &quot;custom transactions&quot; - this is the job of the higher level code."},{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":1,"creation_date":1636653782,"post_id":69931728,"comment_id":123620971,"body_markdown":"`if at the end of the transaction the value is the same` ... makes me you might want to look at StampedLock","body":"<code>if at the end of the transaction the value is the same</code> ... makes me you might want to look at StampedLock"}],"answers":[{"tags":[],"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636654022,"creation_date":1636654022,"answer_id":69932940,"question_id":69931728,"body_markdown":"Following the javadoc of [`compareAndSet`][1] makes clear the JVM treats these the same as `volatile` for which we can find many descriptions including here on SO: https://stackoverflow.com/questions/9169232/java-volatile-and-side-effects.\r\n\r\nShort answer: yes\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#compareAndSet(int,int)","title":"Does the compareAndSet return value guarantees a &quot;Happens before&quot; relationship?","body":"<p>Following the javadoc of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#compareAndSet(int,int)\" rel=\"nofollow noreferrer\"><code>compareAndSet</code></a> makes clear the JVM treats these the same as <code>volatile</code> for which we can find many descriptions including here on SO: <a href=\"https://stackoverflow.com/questions/9169232/java-volatile-and-side-effects\">Java volatile and side-effects</a>.</p>\n<p>Short answer: yes</p>\n"}],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636654212,"creation_date":1636648097,"question_id":69931728,"body_markdown":"I am sure many questions have been asked on this subject, but I guess all of them have dodge me.\r\n\r\nMy question arises since I&#39;ve looked variations of the same code, in which a spin lock is combined with an atomic compareAndSet, and I guess the point is to ensure a happens before relationship.\r\n\r\nA .get() is performed at the begining of the loop, this ref will serve as &quot;expect&quot;, if at the end of the transaction the value is still the same as when it began, then return.\r\n\r\nThe only thing for which the return of the compareAndSet is used for is to return from the loop.\r\n\r\nIf Java locks are supposed to be adaptive, meaning they combine both spin and context switching, wouldn&#39;t it be more convenient to just synchronize the body instead of doing a doble nested spin lock since the compareAndSet is doing a second loop within it?\r\n\r\nIt seems the atomic classes could have placed a method with a function parameter in order to perform custom transactions instead of forcing people to do outer loops, the lack of this option is part of the reason why I&#39;ve been so puzzled by the compareAndSet return, since it seems the return value serves the same purpose, but I guess not.","title":"Does the compareAndSet return value guarantees a &quot;Happens before&quot; relationship?","body":"<p>I am sure many questions have been asked on this subject, but I guess all of them have dodge me.</p>\n<p>My question arises since I've looked variations of the same code, in which a spin lock is combined with an atomic compareAndSet, and I guess the point is to ensure a happens before relationship.</p>\n<p>A .get() is performed at the begining of the loop, this ref will serve as &quot;expect&quot;, if at the end of the transaction the value is still the same as when it began, then return.</p>\n<p>The only thing for which the return of the compareAndSet is used for is to return from the loop.</p>\n<p>If Java locks are supposed to be adaptive, meaning they combine both spin and context switching, wouldn't it be more convenient to just synchronize the body instead of doing a doble nested spin lock since the compareAndSet is doing a second loop within it?</p>\n<p>It seems the atomic classes could have placed a method with a function parameter in order to perform custom transactions instead of forcing people to do outer loops, the lack of this option is part of the reason why I've been so puzzled by the compareAndSet return, since it seems the return value serves the same purpose, but I guess not.</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636652310,"post_id":69932439,"comment_id":123620449,"body_markdown":"Try replacing this with `defaultSuccessUrl(&quot;/home.html&quot;, true) and tell me if it works","body":"Try replacing this with `defaultSuccessUrl(&quot;/home.html&quot;, true) and tell me if it works"},{"owner":{"account_id":19663350,"reputation":15,"user_id":14394351,"display_name":"Dimitar Dimitrov"},"score":0,"creation_date":1636653967,"post_id":69932439,"comment_id":123621036,"body_markdown":"Yes i replaced with defaultSuccessUrl(&quot;/home&quot;, true) and it works when i replaced with defaultSuccessUrl(&quot;/home.html&quot;, true) if returned error 404. Thank you :D","body":"Yes i replaced with defaultSuccessUrl(&quot;/home&quot;, true) and it works when i replaced with defaultSuccessUrl(&quot;/home.html&quot;, true) if returned error 404. Thank you :D"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636654188,"post_id":69932439,"comment_id":123621134,"body_markdown":"Cool. I&#39;ve converted my comment to an answer. Please feel free to like and upvote so that it&#39;s easier for others to find and reuse it","body":"Cool. I&#39;ve converted my comment to an answer. Please feel free to like and upvote so that it&#39;s easier for others to find and reuse it"}],"answers":[{"tags":[],"owner":{"account_id":5512797,"reputation":72,"user_id":4378540,"display_name":"Jinendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636653879,"creation_date":1636653879,"answer_id":69932906,"question_id":69932439,"body_markdown":"Check if you have controller with getmapping tag\r\n@GetMapping(value = &quot;/home&quot;)","title":"Spring Security Download file instead of login","body":"<p>Check if you have controller with getmapping tag\n@GetMapping(value = &quot;/home&quot;)</p>\n"},{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636654140,"creation_date":1636654140,"answer_id":69932959,"question_id":69932439,"body_markdown":"Replace with `defaultSuccessUrl(&quot;/home&quot;, true) and it will work","title":"Spring Security Download file instead of login","body":"<p>Replace with `defaultSuccessUrl(&quot;/home&quot;, true) and it will work</p>\n"}],"owner":{"account_id":19663350,"reputation":15,"user_id":14394351,"display_name":"Dimitar Dimitrov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69932959,"answer_count":2,"score":0,"last_activity_date":1636654140,"creation_date":1636651370,"question_id":69932439,"body_markdown":"I have spirng app with login form. When i try to loggin with valid username and password it download a file instead of redirect me to the home page.This is my configuration. For example when on defaultSuccessUrl of the login replace &quot;/home&quot; with &quot;/users/register&quot; it work but when i try with &quot;/home&quot; or &quot;/&quot; it downloads a file instead of login. Any ideas why?\r\n    \r\n        package com.example.finalproject.config;`\r\n    \r\n    import com.example.finalproject.model.enums.Roles;\r\n    import org.springframework.boot.autoconfigure.security.servlet.PathRequest;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    \r\n    \r\n    @Configuration\r\n    public class ApplicationSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        private UserDetailsService userDetailsService;\r\n        private PasswordEncoder passwordEncoder;\r\n    \r\n        public ApplicationSecurityConfiguration(\r\n                UserDetailsService userDetailsService,\r\n                PasswordEncoder passwordEncoder) {\r\n    \r\n            this.userDetailsService = userDetailsService;\r\n            this.passwordEncoder = passwordEncoder;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.\r\n                      authorizeRequests().\r\n                      requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll().\r\n                      antMatchers(&quot;/&quot;, &quot;/users/login&quot;, &quot;/users/register&quot;).permitAll().\r\n                      antMatchers(&quot;/**&quot;).authenticated().\r\n                    and().\r\n                      formLogin().\r\n                      loginPage(&quot;/users/login&quot;).\r\n                      usernameParameter(UsernamePasswordAuthenticationFilter.SPRING_SECURITY_FORM_USERNAME_KEY).\r\n                      passwordParameter(UsernamePasswordAuthenticationFilter.SPRING_SECURITY_FORM_PASSWORD_KEY).\r\n                      defaultSuccessUrl(&quot;/home&quot;).\r\n                      failureForwardUrl(&quot;/users/login-error&quot;).\r\n                    and().\r\n                      logout().\r\n                      logoutUrl(&quot;/users/logout&quot;).\r\n                      logoutSuccessUrl(&quot;/&quot;).\r\n                      invalidateHttpSession(true).\r\n                      deleteCookies(&quot;JSESSIONID&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.\r\n                    userDetailsService(userDetailsService).\r\n                    passwordEncoder(passwordEncoder);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Spring Security Download file instead of login","body":"<p>I have spirng app with login form. When i try to loggin with valid username and password it download a file instead of redirect me to the home page.This is my configuration. For example when on defaultSuccessUrl of the login replace &quot;/home&quot; with &quot;/users/register&quot; it work but when i try with &quot;/home&quot; or &quot;/&quot; it downloads a file instead of login. Any ideas why?</p>\n<pre><code>    package com.example.finalproject.config;`\n\nimport com.example.finalproject.model.enums.Roles;\nimport org.springframework.boot.autoconfigure.security.servlet.PathRequest;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n\n@Configuration\npublic class ApplicationSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private UserDetailsService userDetailsService;\n    private PasswordEncoder passwordEncoder;\n\n    public ApplicationSecurityConfiguration(\n            UserDetailsService userDetailsService,\n            PasswordEncoder passwordEncoder) {\n\n        this.userDetailsService = userDetailsService;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.\n                  authorizeRequests().\n                  requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll().\n                  antMatchers(&quot;/&quot;, &quot;/users/login&quot;, &quot;/users/register&quot;).permitAll().\n                  antMatchers(&quot;/**&quot;).authenticated().\n                and().\n                  formLogin().\n                  loginPage(&quot;/users/login&quot;).\n                  usernameParameter(UsernamePasswordAuthenticationFilter.SPRING_SECURITY_FORM_USERNAME_KEY).\n                  passwordParameter(UsernamePasswordAuthenticationFilter.SPRING_SECURITY_FORM_PASSWORD_KEY).\n                  defaultSuccessUrl(&quot;/home&quot;).\n                  failureForwardUrl(&quot;/users/login-error&quot;).\n                and().\n                  logout().\n                  logoutUrl(&quot;/users/logout&quot;).\n                  logoutSuccessUrl(&quot;/&quot;).\n                  invalidateHttpSession(true).\n                  deleteCookies(&quot;JSESSIONID&quot;);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.\n                userDetailsService(userDetailsService).\n                passwordEncoder(passwordEncoder);\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1636654007,"post_id":69932836,"comment_id":123621058,"body_markdown":"It&#39;s unclear what you are expecting to happen instead. As mentioned, `next*()` methods require unique input prompts (you used it twice, therefore two enters are needed). If you only wanted one, then you need to use it once.","body":"It&#39;s unclear what you are expecting to happen instead. As mentioned, <code>next*()</code> methods require unique input prompts (you used it twice, therefore two enters are needed). If you only wanted one, then you need to use it once."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1636654177,"post_id":69932836,"comment_id":123621127,"body_markdown":"What do you mean by &quot;*additional &#39;enter&#39;*&quot;? What are you doing, what you expect to happen and what happens instead?","body":"What do you mean by &quot;<i>additional &#39;enter&#39;</i>&quot;? What are you doing, what you expect to happen and what happens instead?"},{"owner":{"account_id":21730523,"reputation":97,"user_id":16039337,"display_name":"noobieCoder"},"score":0,"creation_date":1636654219,"post_id":69932836,"comment_id":123621144,"body_markdown":"I know people like to use the Scanner class but using the BufferedReader class is also an option, in fact using the BufferedReader class you do not get that types of occurrences when reading from the user, but obviously it&#39;s only my opinion.","body":"I know people like to use the Scanner class but using the BufferedReader class is also an option, in fact using the BufferedReader class you do not get that types of occurrences when reading from the user, but obviously it&#39;s only my opinion."},{"owner":{"account_id":14094136,"reputation":99,"user_id":10181497,"display_name":"Stephen Leach"},"score":0,"creation_date":1636654276,"post_id":69932836,"comment_id":123621171,"body_markdown":"You _shouldn&#39;t_ need two enters if you are entering the numbers like &quot;4 5&quot;. As long as there is a space there, this should work. And _does_ on my machine. I can&#39;t reproduce the bug with the given code. I would recommend placing either a breakpoint or print statement immediately after the second call to nextInt, to verify that that is what is causing you to hit enter twice.","body":"You <i>shouldn&#39;t</i> need two enters if you are entering the numbers like &quot;4 5&quot;. As long as there is a space there, this should work. And <i>does</i> on my machine. I can&#39;t reproduce the bug with the given code. I would recommend placing either a breakpoint or print statement immediately after the second call to nextInt, to verify that that is what is causing you to hit enter twice."},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1636654601,"post_id":69932836,"comment_id":123621303,"body_markdown":"@B.B The code as posted should behave the way you expect when invoked from an interactive terminal. Can you please use a debugger or print statements to determine where the code stopped after pressing Enter once? It may not be in this method.","body":"@B.B The code as posted should behave the way you expect when invoked from an interactive terminal. Can you please use a debugger or print statements to determine where the code stopped after pressing Enter once? It may not be in this method."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636653935,"creation_date":1636653826,"answer_id":69932894,"question_id":69932836,"body_markdown":"Just `String inputString = scanner.nextLine()` and then split the string on a whitespace using `String.split` method and convert the string tokens to ints using `Integer.valueOf`\r\n","title":"Java Scanner requiring me to press enter twice","body":"<p>Just <code>String inputString = scanner.nextLine()</code> and then split the string on a whitespace using <code>String.split</code> method and convert the string tokens to ints using <code>Integer.valueOf</code></p>\n"}],"owner":{"account_id":23278096,"reputation":11,"user_id":17361927,"display_name":"B.B"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1636678005,"answer_count":1,"score":1,"last_activity_date":1636653971,"creation_date":1636653490,"question_id":69932836,"body_markdown":"I am making a very simple game of Battleship to get my head around the concept of OOP.  \r\n\r\nI have a Board object filled with Square objects, and each Square object keeps track of whether there&#39;s a ship(also an object) on it and whether the player has already hit the Square.  My method is supposed to take in coordinates from the player and then update the character on the board (&quot;x&quot; or &quot;o&quot;) depending on whether the player hit a ship or not.  \r\n\r\nIt&#39;s working fine, except that I have to press enter twice after inputting the coordinates before the program will show me the updated board?  Why is this happening?  How do I prevent the scanner from prompting that additional &#39;enter&#39; from being pressed? \r\n\r\nI have tried to add a String to read the new line after entering the ints (s.nextLine()), but it doesn&#39;t seem to make any difference.  \r\n\r\n```\r\npublic Square[][] userGuess() {\r\n\t\tSystem.out.println(&quot;Please enter your coordinates: x y&quot;);\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\t\r\n\t\tint row = s.nextInt();\r\n\t\tint col = s.nextInt();\r\n\r\n\t\tSquare target = board[row][col];\r\n\t\tBattleship ship = target.getShip();\r\n\t\t\r\n\t\ttarget.setUncovered(true);\r\n\t\t\r\n\t\tif(target.isOccupied() == true &amp;&amp; ship.getHealth() == 2) {\r\n\t\t\tship.setHealth(ship.getHealth()-1);\r\n\t\t\tSystem.out.println(&quot;Hit!&quot;);\r\n\t\t}\r\n\t\t\r\n\t\telse if(target.isOccupied() == true &amp;&amp; ship.getHealth() == 1) {\r\n\t\t\tship.setHealth(ship.getHealth()-1);\r\n\t\t\tship.setAfloat(false);\r\n\t\t\tSystem.out.println(&quot;You sunk a ship!&quot;);\r\n\t\t}\r\n\t\telse if(target.isOccupied() == false) {\r\n\t\t\tSystem.out.println(&quot;Miss!&quot;);\r\n\t\t}\r\n\treturn board;\r\n\t}\r\n```","title":"Java Scanner requiring me to press enter twice","body":"<p>I am making a very simple game of Battleship to get my head around the concept of OOP.</p>\n<p>I have a Board object filled with Square objects, and each Square object keeps track of whether there's a ship(also an object) on it and whether the player has already hit the Square.  My method is supposed to take in coordinates from the player and then update the character on the board (&quot;x&quot; or &quot;o&quot;) depending on whether the player hit a ship or not.</p>\n<p>It's working fine, except that I have to press enter twice after inputting the coordinates before the program will show me the updated board?  Why is this happening?  How do I prevent the scanner from prompting that additional 'enter' from being pressed?</p>\n<p>I have tried to add a String to read the new line after entering the ints (s.nextLine()), but it doesn't seem to make any difference.</p>\n<pre><code>public Square[][] userGuess() {\n        System.out.println(&quot;Please enter your coordinates: x y&quot;);\n        Scanner s = new Scanner(System.in);\n        \n        int row = s.nextInt();\n        int col = s.nextInt();\n\n        Square target = board[row][col];\n        Battleship ship = target.getShip();\n        \n        target.setUncovered(true);\n        \n        if(target.isOccupied() == true &amp;&amp; ship.getHealth() == 2) {\n            ship.setHealth(ship.getHealth()-1);\n            System.out.println(&quot;Hit!&quot;);\n        }\n        \n        else if(target.isOccupied() == true &amp;&amp; ship.getHealth() == 1) {\n            ship.setHealth(ship.getHealth()-1);\n            ship.setAfloat(false);\n            System.out.println(&quot;You sunk a ship!&quot;);\n        }\n        else if(target.isOccupied() == false) {\n            System.out.println(&quot;Miss!&quot;);\n        }\n    return board;\n    }\n</code></pre>\n"},{"tags":["java","fonts","detect"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1266289059,"post_id":2270360,"comment_id":2232424,"body_markdown":"May we assume that you&#39;re talking about a Swing application? It wasn&#39;t clear from your message which kind of Java application you&#39;re talking about.","body":"May we assume that you&#39;re talking about a Swing application? It wasn&#39;t clear from your message which kind of Java application you&#39;re talking about."}],"answers":[{"tags":[],"owner":{"account_id":85323,"reputation":28503,"user_id":237955,"accept_rate":71,"display_name":"amphetamachine"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1266289857,"creation_date":1266289857,"answer_id":2270406,"question_id":2270360,"body_markdown":"&lt;code&gt;java.awt.GraphicsEnvironment.getAvailableFontFamilyNames()&lt;/code&gt; can give you a list of the available fonts installed on the current system. You could also use &lt;code&gt;java.awt.GraphicsEnvironment.getAllFonts()&lt;/code&gt; to get &lt;code&gt;java.awt.Font&lt;/code&gt; objects.\r\n\r\nThen, you can use &lt;code&gt;java.awt.Font.canDisplay(int)&lt;/code&gt; to check whether a Unicode character can be displayed in that font (where the &lt;code&gt;int&lt;/code&gt; is the integer representation of the multibyte character).","title":"How to find, with Java, if a certain font is installed correctly on a machine","body":"<p><code>java.awt.GraphicsEnvironment.getAvailableFontFamilyNames()</code> can give you a list of the available fonts installed on the current system. You could also use <code>java.awt.GraphicsEnvironment.getAllFonts()</code> to get <code>java.awt.Font</code> objects.</p>\n\n<p>Then, you can use <code>java.awt.Font.canDisplay(int)</code> to check whether a Unicode character can be displayed in that font (where the <code>int</code> is the integer representation of the multibyte character).</p>\n"},{"tags":[],"owner":{"account_id":977686,"reputation":3230,"user_id":998251,"accept_rate":65,"display_name":"Daniel Centore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516144654,"creation_date":1516144654,"answer_id":48291345,"question_id":2270360,"body_markdown":"Lazy version:\r\n\r\n    Arrays.asList(GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames()).contains(FONT_NAME)","title":"How to find, with Java, if a certain font is installed correctly on a machine","body":"<p>Lazy version:</p>\n\n<pre><code>Arrays.asList(GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames()).contains(FONT_NAME)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":158974,"reputation":479,"user_id":377971,"display_name":"Beholder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636653826,"creation_date":1636653826,"answer_id":69932893,"question_id":2270360,"body_markdown":"For those who are still interested. Performance tip: using `getAvailableFontFamilyNames(Locale.ROOT)` might be significantly faster than just `getAvailableFontFamilyNames()` because in the latter case locale-aware processing is performed.","title":"How to find, with Java, if a certain font is installed correctly on a machine","body":"<p>For those who are still interested. Performance tip: using <code>getAvailableFontFamilyNames(Locale.ROOT)</code> might be significantly faster than just <code>getAvailableFontFamilyNames()</code> because in the latter case locale-aware processing is performed.</p>\n"}],"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5642,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":2270406,"answer_count":3,"score":12,"last_activity_date":1636653826,"creation_date":1266288710,"question_id":2270360,"body_markdown":"I have a PC notebook running Win Vista, when I first bought it, certain Chinese fonts won&#39;t show up, I could only see rectangles, but I played with the control setting for a while, changed some properties, and now it shows Chinese fonts correctly, but I don&#39;t remember what I did.\r\n\r\nNow some of my programs displays both English and Chinese, something like this : &quot;Enter | &quot; (The Chinese here also means enter), but if a user doesn&#39;t have Chinese fonts installed properly on his machine, he will see something like this : &quot;Enter | [][]&quot;, my question is : in Java how to detect if those characters will show up correctly on a certain machine, if not, just display &quot;Enter&quot;, if it is, show &quot;Enter | &quot;.\r\n\r\nFrank","title":"How to find, with Java, if a certain font is installed correctly on a machine","body":"<p>I have a PC notebook running Win Vista, when I first bought it, certain Chinese fonts won't show up, I could only see rectangles, but I played with the control setting for a while, changed some properties, and now it shows Chinese fonts correctly, but I don't remember what I did.</p>\n\n<p>Now some of my programs displays both English and Chinese, something like this : \"Enter | \" (The Chinese here also means enter), but if a user doesn't have Chinese fonts installed properly on his machine, he will see something like this : \"Enter | [][]\", my question is : in Java how to detect if those characters will show up correctly on a certain machine, if not, just display \"Enter\", if it is, show \"Enter | \".</p>\n\n<p>Frank</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":14094136,"reputation":99,"user_id":10181497,"display_name":"Stephen Leach"},"score":4,"creation_date":1636652941,"post_id":69932653,"comment_id":123620692,"body_markdown":"int lowestScore = Integer.MAX_VALUE; needs to be placed outside of your outer while loop. I suggest placing it directly below boolean playAgain  = true;\nOtherwise, the lowestScore is reset every time the game is played (because it leaves and re-enters scope). That&#39;s why you&#39;re seeing the output you currently see.\nYour other code can be left inside of the playAgain while loop, but after the game is played.","body":"int lowestScore = Integer.MAX_VALUE; needs to be placed outside of your outer while loop. I suggest placing it directly below boolean playAgain  = true; Otherwise, the lowestScore is reset every time the game is played (because it leaves and re-enters scope). That&#39;s why you&#39;re seeing the output you currently see. Your other code can be left inside of the playAgain while loop, but after the game is played."},{"owner":{"account_id":23308936,"reputation":11,"user_id":17388488,"display_name":"Jane"},"score":0,"creation_date":1636653447,"post_id":69932653,"comment_id":123620880,"body_markdown":"Thank you!! It works perfectly!!","body":"Thank you!! It works perfectly!!"}],"owner":{"account_id":23308936,"reputation":11,"user_id":17388488,"display_name":"Jane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636653061,"creation_date":1636652516,"question_id":69932653,"body_markdown":"Here is my code for an Elimination game. The code listed works perfectly and just how it is supposed to. This does not need fixing, but is simply present for reference.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Elimination {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry (Scanner in = new Scanner(System.in)) {\r\n\t\t\tboolean playAgain = true;\r\n\t\t\twhile (playAgain = true) {\r\n\t\t\t\tBoard B = new Board();\r\n\t\t\t\tint die1, die2;\r\n\t\t\t\tboolean legalMove;\r\n\t\t\t\tString choice=&quot; &quot;;\r\n\t\t\t\twhile (!choice.equalsIgnoreCase(&quot;Q&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;\\n&quot;+B);\r\n\t\t\t\t\tdie1 = (int)(1 + Math.random()*6);\r\n\t\t\t\t\tdie2 = (int)(1 + Math.random()*6);\r\n\t\t\t\t\tlegalMove=false;\r\n\t\t\t\t\tSystem.out.println(&quot;Dice roll: &quot; + die1 + &quot; &quot; + die2);\r\n\t\t\t\t\twhile (!legalMove) {\r\n\t\t\t\t\t\tSystem.out.print(&quot;What is your move (V=values, S=sum, Q=quit)? &quot;);\r\n\t\t\t\t\t\tchoice=in.next();\r\n\t\t\t\t\t\tif (choice.equalsIgnoreCase(&quot;Q&quot;)) {\r\n\t\t\t\t\t\t\tlegalMove=true;\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Do you want to play again (Y=yes, N=no)?&quot;);\r\n\t\t\t\t\t\t\tString YorN= in.next();\r\n\t\t\t\t\t\t\tif (YorN.equals(&quot;Y&quot;) || YorN.equals(&quot;y&quot;)) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;----------------- New Game -----------------&quot;);\r\n\t\t\t\t\t\t\t\tplayAgain=true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (YorN.equals(&quot;N&quot;) || YorN.equals(&quot;n&quot;)) {\r\n\t\t\t\t\t\t\t\tplayAgain=false;\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;----------------- Game Ended -----------------&quot;);\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Score = &quot; + B.score());\r\n\t\t\t\t\t\t\t\tSystem. exit(1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Try again.&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (choice.equalsIgnoreCase(&quot;S&quot;) &amp;&amp; B.removeTile(die1+die2)) {\r\n\t\t\t\t\t\t\tlegalMove=true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (choice.equalsIgnoreCase(&quot;V&quot;) &amp;&amp; B.removeTiles(die1, die2)) {\r\n\t\t\t\t\t\t\tlegalMove=true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse { \r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Try again.&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI am trying to implement a score tracker for the code. The lowest score is favorable. I need that will show the lowest score for each game that is replayed.\r\n\r\nIt should look like this:\r\n```none\r\ngame is played score of 45- \r\nScore = 45 NEW LOWEST SCORE!\r\nLowest Score = 45\r\n\r\ngame is played again, score of 78-\r\nScore = 78\r\nLowest Score = 45\r\n```\r\nHere is what I&#39;ve come up with that has some issues. \r\nI am not sure where to place this, or if I should try a different approach, possibly with a do while loop.\r\n\r\n    int lowestScore = Integer.MAX_VALUE;\r\n\tif (B.score() &lt; lowestScore) {\r\n\t\tlowestScore = B.score();\r\n\t\tSystem.out.println(&quot;Score = &quot; + B.score() + &quot;  NEW LOW SCORE!&quot;);\r\n\t\tSystem.out.println(&quot;Lowest Score = &quot; + lowestScore);\r\n\t} \r\n\telse {\r\n\t\tSystem.out.println(&quot;Score = &quot; + B.score());\r\n\t\tSystem.out.println(&quot;Lowest Score = &quot; + lowestScore);\r\n\t}\r\n\r\nThis output is incorrect. This is what the output looks like for the score code listed above.\r\n```none\r\ngame is played score of 45- \r\nScore = 45 NEW LOWEST SCORE!\r\nLowest Score = 45\r\n\r\ngame is played again, score of 78-\r\nScore = 78 NEW LOWEST SCORE!\r\nLowest Score = 78\r\n```\r\nThis is incorrect because the lowest score is not 78, yet that is what is output.\r\n\r\n\r\n\r\n\r\nI think to best understand how the game or the code works would be to copy and paste it into a coding platform and working with it hands on. Looking for any help, thanks in advance.\r\n\r\n","title":"Lowest score for an elimination game","body":"<p>Here is my code for an Elimination game. The code listed works perfectly and just how it is supposed to. This does not need fixing, but is simply present for reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Elimination {\n\n    public static void main(String[] args) {\n        try (Scanner in = new Scanner(System.in)) {\n            boolean playAgain = true;\n            while (playAgain = true) {\n                Board B = new Board();\n                int die1, die2;\n                boolean legalMove;\n                String choice=&quot; &quot;;\n                while (!choice.equalsIgnoreCase(&quot;Q&quot;)) {\n                    System.out.println(&quot;\\n&quot;+B);\n                    die1 = (int)(1 + Math.random()*6);\n                    die2 = (int)(1 + Math.random()*6);\n                    legalMove=false;\n                    System.out.println(&quot;Dice roll: &quot; + die1 + &quot; &quot; + die2);\n                    while (!legalMove) {\n                        System.out.print(&quot;What is your move (V=values, S=sum, Q=quit)? &quot;);\n                        choice=in.next();\n                        if (choice.equalsIgnoreCase(&quot;Q&quot;)) {\n                            legalMove=true;\n                            System.out.println(&quot;Do you want to play again (Y=yes, N=no)?&quot;);\n                            String YorN= in.next();\n                            if (YorN.equals(&quot;Y&quot;) || YorN.equals(&quot;y&quot;)) {\n                                System.out.println(&quot;----------------- New Game -----------------&quot;);\n                                playAgain=true;\n                            }\n                            else if (YorN.equals(&quot;N&quot;) || YorN.equals(&quot;n&quot;)) {\n                                playAgain=false;\n                                System.out.println(&quot;----------------- Game Ended -----------------&quot;);\n                                System.out.println(&quot;Score = &quot; + B.score());\n                                System. exit(1);\n                            }\n                            else {\n                                System.out.println(&quot;Try again.&quot;);\n                            }\n                        }\n                        else if (choice.equalsIgnoreCase(&quot;S&quot;) &amp;&amp; B.removeTile(die1+die2)) {\n                            legalMove=true;\n                        }\n                        else if (choice.equalsIgnoreCase(&quot;V&quot;) &amp;&amp; B.removeTiles(die1, die2)) {\n                            legalMove=true;\n                        }\n                        else { \n                            System.out.println(&quot;Try again.&quot;);\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I am trying to implement a score tracker for the code. The lowest score is favorable. I need that will show the lowest score for each game that is replayed.</p>\n<p>It should look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>game is played score of 45- \nScore = 45 NEW LOWEST SCORE!\nLowest Score = 45\n\ngame is played again, score of 78-\nScore = 78\nLowest Score = 45\n</code></pre>\n<p>Here is what I've come up with that has some issues.\nI am not sure where to place this, or if I should try a different approach, possibly with a do while loop.</p>\n<pre><code>int lowestScore = Integer.MAX_VALUE;\nif (B.score() &lt; lowestScore) {\n    lowestScore = B.score();\n    System.out.println(&quot;Score = &quot; + B.score() + &quot;  NEW LOW SCORE!&quot;);\n    System.out.println(&quot;Lowest Score = &quot; + lowestScore);\n} \nelse {\n    System.out.println(&quot;Score = &quot; + B.score());\n    System.out.println(&quot;Lowest Score = &quot; + lowestScore);\n}\n</code></pre>\n<p>This output is incorrect. This is what the output looks like for the score code listed above.</p>\n<pre class=\"lang-none prettyprint-override\"><code>game is played score of 45- \nScore = 45 NEW LOWEST SCORE!\nLowest Score = 45\n\ngame is played again, score of 78-\nScore = 78 NEW LOWEST SCORE!\nLowest Score = 78\n</code></pre>\n<p>This is incorrect because the lowest score is not 78, yet that is what is output.</p>\n<p>I think to best understand how the game or the code works would be to copy and paste it into a coding platform and working with it hands on. Looking for any help, thanks in advance.</p>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636652343,"creation_date":1636633521,"answer_id":69928292,"question_id":69924858,"body_markdown":"\r\nAccording to the below:\r\n\r\n\r\n    MockHttpServletResponse:\r\n               Status = 200\r\n        Error message = null\r\n              Headers = [Content-Type:&quot;application/json&quot;]\r\n         Content type = application/json\r\n                 Body = []\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n\r\n`The response body is empty.`  There is no JSON response being returned, so how do you expect `&quot;$.externalId`&quot; to be found?\r\n\r\nAlso the format should be:\r\n\r\n    .andExpect(jsonPath(&quot;$.externalId&quot;, is(CarportLocation.getExternalId())))","title":"How I have to adjust the json path so that my test is successful?","body":"<p>According to the below:</p>\n<pre><code>MockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = [Content-Type:&quot;application/json&quot;]\n     Content type = application/json\n             Body = []\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n<p><code>The response body is empty.</code>  There is no JSON response being returned, so how do you expect <code>&quot;$.externalId</code>&quot; to be found?</p>\n<p>Also the format should be:</p>\n<pre><code>.andExpect(jsonPath(&quot;$.externalId&quot;, is(CarportLocation.getExternalId())))\n</code></pre>\n"}],"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636652343,"creation_date":1636617443,"question_id":69924858,"body_markdown":"```java\r\n@DisplayName(&quot;test getCarportById(), Status OK&quot;)\r\n@Test\r\nvoid testGetCarportLocationById() throws Exception {\r\n\r\n    // given\r\n    final String externalId = &quot;123L&quot;;\r\n\r\n    final CarportLocation carportLocation = CarportLocationMockHelper.createCarportLocationByIdDTO(externalId);\r\n\r\n    given(carportService.getCarportLocationToId(externalId.toString())).willReturn(carportLocation);\r\n\r\n    // when\r\n\r\n    final MvcResult mvcResult = this.mockMvc.perform(getRequestBuilderMockCarportLocationsById(externalId.toString()))\r\n                                            .andExpect(status().isOk())\r\n                                            .andDo(print())\r\n                                            .andExpect(content().contentType(&quot;application/json&quot;))\r\n                                            .andExpect(resultMatcherOK)\r\n                                            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.externalId&quot;)\r\n                                                                            .value(CarportLocation.getExternalId()))\r\n                                            .andReturn();\r\n\r\n    // then\r\n\r\n    assertEquals(&quot;application/json&quot;, mvcResult.getResponse()\r\n                                              .getContentType());\r\n}\r\n```\r\n\r\n```java\r\npublic static CarportLocation createCarportLocationByIdDTO(String externalId) {\r\n\r\n    finalCarportLocation carportLocation = new CarportLocation();\r\n    carportLocation.setId(123456L);\r\n    carportLocation.setExternalId(externalId);\r\n    carportLocation.setCarportName(&quot;Carport1&quot;);\r\n    carportLocation.setLocX(12.4534);\r\n    carportLocation.setLocY(19.5678);\r\n    carportLocation.setLocZ(25.0);\r\n\r\n    return carportLocation;\r\n}\r\n```\r\nThis is the expression I print out by .andDo(print()):\r\n```none\r\nMockHttpServletRequest:\r\n      HTTP Method = GET\r\n      Request URI = /carport/carports/filter\r\n       Parameters = {carportNameAndExternalId=[123L]}\r\n          Headers = []\r\n             Body = &lt;no character encoding set&gt;\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = controller.CarportController\r\n           Method = controller.CarportController#_getCarportLocationsByIdAndName(String)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 200\r\n    Error message = null\r\n          Headers = [Content-Type:&quot;application/json&quot;]\r\n     Content type = application/json\r\n             Body = []\r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n```\r\nOnly unfortunately my JUnit test fails and I am not sure why. \r\n\r\n&gt; java.lang.AssertionError: No value at JSON path &quot;$.externalId&quot;\r\n\r\nOf course, I have also already searched for the problem and came across the following SO question: https://stackoverflow.com/questions/33659684/assertion-error-no-value-for-json-path-in-junit-test\r\n\r\nonly unfortunately a &quot;$[1].externalId&quot; did not help me. The `andDo(print())` method has also therefore but can&#39;t really work with the output.\r\nDoes anyone know how I have to adjust the json path so that my test is successful? ","title":"How I have to adjust the json path so that my test is successful?","body":"<pre class=\"lang-java prettyprint-override\"><code>@DisplayName(&quot;test getCarportById(), Status OK&quot;)\n@Test\nvoid testGetCarportLocationById() throws Exception {\n\n    // given\n    final String externalId = &quot;123L&quot;;\n\n    final CarportLocation carportLocation = CarportLocationMockHelper.createCarportLocationByIdDTO(externalId);\n\n    given(carportService.getCarportLocationToId(externalId.toString())).willReturn(carportLocation);\n\n    // when\n\n    final MvcResult mvcResult = this.mockMvc.perform(getRequestBuilderMockCarportLocationsById(externalId.toString()))\n                                            .andExpect(status().isOk())\n                                            .andDo(print())\n                                            .andExpect(content().contentType(&quot;application/json&quot;))\n                                            .andExpect(resultMatcherOK)\n                                            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.externalId&quot;)\n                                                                            .value(CarportLocation.getExternalId()))\n                                            .andReturn();\n\n    // then\n\n    assertEquals(&quot;application/json&quot;, mvcResult.getResponse()\n                                              .getContentType());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static CarportLocation createCarportLocationByIdDTO(String externalId) {\n\n    finalCarportLocation carportLocation = new CarportLocation();\n    carportLocation.setId(123456L);\n    carportLocation.setExternalId(externalId);\n    carportLocation.setCarportName(&quot;Carport1&quot;);\n    carportLocation.setLocX(12.4534);\n    carportLocation.setLocY(19.5678);\n    carportLocation.setLocZ(25.0);\n\n    return carportLocation;\n}\n</code></pre>\n<p>This is the expression I print out by .andDo(print()):</p>\n<pre class=\"lang-none prettyprint-override\"><code>MockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /carport/carports/filter\n       Parameters = {carportNameAndExternalId=[123L]}\n          Headers = []\n             Body = &lt;no character encoding set&gt;\n    Session Attrs = {}\n\nHandler:\n             Type = controller.CarportController\n           Method = controller.CarportController#_getCarportLocationsByIdAndName(String)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = [Content-Type:&quot;application/json&quot;]\n     Content type = application/json\n             Body = []\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n<p>Only unfortunately my JUnit test fails and I am not sure why.</p>\n<blockquote>\n<p>java.lang.AssertionError: No value at JSON path &quot;$.externalId&quot;</p>\n</blockquote>\n<p>Of course, I have also already searched for the problem and came across the following SO question: <a href=\"https://stackoverflow.com/questions/33659684/assertion-error-no-value-for-json-path-in-junit-test\">Assertion error: No value for JSON Path in JUnit test</a></p>\n<p>only unfortunately a &quot;$[1].externalId&quot; did not help me. The <code>andDo(print())</code> method has also therefore but can't really work with the output.\nDoes anyone know how I have to adjust the json path so that my test is successful?</p>\n"},{"tags":["java","function","oop","input","getter"],"answers":[{"tags":[],"owner":{"account_id":2059508,"reputation":2270,"user_id":1836461,"display_name":"computercarguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636651800,"creation_date":1636648849,"answer_id":69931880,"question_id":69931260,"body_markdown":"My first thought is that `vehicle.typeVehicle` or `vehicle.powertrainVehicle` have an extra space at the end of them you aren&#39;t accounting for. But we can&#39;t know that just from your code. I&#39;d suggest you learn to step through your code using your IDE&#39;s debugger. Then watch how it goes through the code as well as exactly what values each variable and property are getting.\r\n\r\n----\r\nThat was going to be my comment, then I looked at the code a little harder and found the mistake. And you have more than one. Stepping through your code with an IDE&#39;s debugger should help you solve this kind of problem, which is why I&#39;m leaving that part in.\r\n\r\nYour `setPowertrain` and `setTransmission` methods have the same bug. You are setting the parameter to the value of the existing property, instead of the other way around. You are doing it correctly in your constructor and `setType`, though.\r\n\r\n````\r\npublic void setPowertrain(String powertrain){\r\n    // powertrain = this.powertrainVehicle;\r\n    this.powertrainVehicle = powertrain;\r\n}\r\n\r\npublic void setTransmission(String transmission){\r\n    // transmission = this.transmissionVehicle;\r\n    this.transmissionVehicle = transmission;\r\n}\r\n````\r\n\r\nEveryone misses things at times, which is why having a 2nd set of eyes on code is so great. There&#39;s even a semi-official idea of &quot;[rubber ducking](https://medium.com/@katiebrouwers/why-rubber-ducking-is-one-of-your-greatest-resources-as-a-developer-99ac0ee5b70a)&quot;, where people keep something like a rubber duck at their desk. Then whenever they run into a problem, they start explaining it to the duck as if they were showing someone else the problem. This helps puts your brain into a different mode and you can hopefully see your problems/issues/bugs/blocks/whatever with sort of a new set of eyes.","title":"Why getRoadtaxPrice() function didn&#39;t get typeVehicle input value?","body":"<p>My first thought is that <code>vehicle.typeVehicle</code> or <code>vehicle.powertrainVehicle</code> have an extra space at the end of them you aren't accounting for. But we can't know that just from your code. I'd suggest you learn to step through your code using your IDE's debugger. Then watch how it goes through the code as well as exactly what values each variable and property are getting.</p>\n<hr />\n<p>That was going to be my comment, then I looked at the code a little harder and found the mistake. And you have more than one. Stepping through your code with an IDE's debugger should help you solve this kind of problem, which is why I'm leaving that part in.</p>\n<p>Your <code>setPowertrain</code> and <code>setTransmission</code> methods have the same bug. You are setting the parameter to the value of the existing property, instead of the other way around. You are doing it correctly in your constructor and <code>setType</code>, though.</p>\n<pre><code>public void setPowertrain(String powertrain){\n    // powertrain = this.powertrainVehicle;\n    this.powertrainVehicle = powertrain;\n}\n\npublic void setTransmission(String transmission){\n    // transmission = this.transmissionVehicle;\n    this.transmissionVehicle = transmission;\n}\n</code></pre>\n<p>Everyone misses things at times, which is why having a 2nd set of eyes on code is so great. There's even a semi-official idea of &quot;<a href=\"https://medium.com/@katiebrouwers/why-rubber-ducking-is-one-of-your-greatest-resources-as-a-developer-99ac0ee5b70a\" rel=\"nofollow noreferrer\">rubber ducking</a>&quot;, where people keep something like a rubber duck at their desk. Then whenever they run into a problem, they start explaining it to the duck as if they were showing someone else the problem. This helps puts your brain into a different mode and you can hopefully see your problems/issues/bugs/blocks/whatever with sort of a new set of eyes.</p>\n"}],"owner":{"account_id":19015931,"reputation":11,"user_id":13880882,"display_name":"Azumi-san"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636651800,"creation_date":1636646152,"question_id":69931260,"body_markdown":"I am still beginner in programming. This is my first year. \r\nI have some problem with my code. I hope you guys can help me with it. \r\n\r\nThis is my main (VehicleApp.java)\r\n\r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n        int acc, brake;\r\n        String type, powerTrain;\r\n        \r\n        Scanner sc = new Scanner(System.in);\r\n        Vehicle vehicle = new Vehicle(&quot;Car&quot;, &quot;Manual&quot;, &quot;Electric&quot;);               \r\n               \r\n        //input\r\n        \r\n        System.out.println(&quot;Type of vehicle? [Car, SUV, MPV, Lorry]: &quot;);\r\n        type = sc.nextLine();\r\n        vehicle.setType(type);\r\n        \r\n        if(type.equals(&quot;Lorry&quot;)){\r\n            System.out.println(&quot;Enter Accelerate: &quot;);\r\n            acc = sc.nextInt();\r\n            vehicle.autoAccelerate(acc);\r\n        \r\n            System.out.println(&quot;Enter Brake: &quot;);\r\n            brake = sc.nextInt();\r\n            vehicle.autobrake(brake);\r\n            \r\n            //output\r\n            System.out.println(&quot;===========================================\\n&quot;);\r\n            System.out.println(vehicle.getPowertrain()+&quot; &quot;+vehicle.getType()+&quot;.&quot;);\r\n            System.out.println(&quot;\\nAccelerate:\\nCurrent Speed = &quot;+vehicle.autoAccelerate(acc)+&quot; kmh&quot;);      \r\n            System.out.println(&quot;\\nBrake:\\nCurrent Speed = &quot;+vehicle.autobrake(brake)+&quot; kmh&quot;);\r\n            System.out.println(&quot;\\nPrice: RM &quot;+vehicle.getRoadtaxPrice());\r\n        }\r\n        else{\r\n            System.out.println(&quot;Type of powertrain? [Gasoline, Hybrid, Electric]: &quot;);\r\n            powerTrain = sc.nextLine();\r\n            vehicle.setPowertrain(powerTrain);\r\n        \r\n            System.out.println(&quot;Enter Accelerate: &quot;);\r\n            acc = sc.nextInt();\r\n            vehicle.autoAccelerate(acc);\r\n        \r\n            System.out.println(&quot;Enter Brake: &quot;);\r\n            brake = sc.nextInt();\r\n            vehicle.autobrake(brake);\r\n        \r\n            //output\r\n            System.out.println(&quot;===========================================\\n&quot;);\r\n            System.out.println(vehicle.getPowertrain()+&quot; &quot;+vehicle.getType()+&quot;.&quot;);\r\n            System.out.println(&quot;\\nAccelerate:\\nCurrent Speed = &quot;+vehicle.autoAccelerate(acc)+&quot; kmh&quot;);      \r\n            System.out.println(&quot;\\nBrake:\\nCurrent Speed = &quot;+vehicle.autobrake(brake)+&quot; kmh&quot;);\r\n            System.out.println(&quot;\\nPrice: RM &quot;+vehicle.getRoadtaxPrice());\r\n        }\r\n    }\r\n\r\nThis is my class (Vehicle.java)\r\n\r\n    public class Vehicle {\r\n    private String typeVehicle, transmissionVehicle, powertrainVehicle;\r\n    private int speedVehicle;\r\n    \r\n    public Vehicle(String type, String transmission, String powertrain){\r\n        this.typeVehicle = type;\r\n        this.transmissionVehicle = transmission;\r\n        this.powertrainVehicle = powertrain;\r\n        speedVehicle = 60;\r\n    }\r\n            \r\n    public int accelerate(){\r\n        return speedVehicle+=10;\r\n    }\r\n    \r\n    public int brake(){\r\n        return speedVehicle-=5;\r\n    }\r\n    \r\n    //Getter\r\n    public String getType(){\r\n        return typeVehicle;\r\n    }\r\n\r\n    //Setter\r\n    public void setType(String type){\r\n        //type = this.typeVehicle;\r\n        this.typeVehicle = type;\r\n    }\r\n     \r\n    //Lab3 Start\r\n    public int autoAccelerate(int accelerate){\r\n        for(int i = 0; i &lt; accelerate; i++){\r\n            speedVehicle += 10;\r\n        }\r\n        return speedVehicle;\r\n    }\r\n    \r\n    public int autobrake(int brake){\r\n        for(int i = 0; i &lt; brake; i++){\r\n            speedVehicle -= 5;\r\n            \r\n            if(speedVehicle &lt;= 0){\r\n                speedVehicle = 0;\r\n            }\r\n        }\r\n        return speedVehicle;\r\n    }\r\n    \r\n    public double getRoadtaxPrice(){\r\n        double price = 0;\r\n        \r\n        if (typeVehicle == &quot;Car&quot;){\r\n                      \r\n            if (powertrainVehicle == &quot;Gasoline&quot;){\r\n                price = 200;\r\n            }\r\n            else if (powertrainVehicle == &quot;Hybrid&quot;){\r\n                price = 100;\r\n            }\r\n            else if (powertrainVehicle == &quot;Electric&quot;){\r\n                price = 50;\r\n            }\r\n            else{\r\n                price = 0;\r\n            } \r\n            \r\n        }\r\n        \r\n        else if (typeVehicle == &quot;SUV&quot; || typeVehicle == &quot;MPV&quot;){\r\n                        \r\n            if (powertrainVehicle == &quot;Gasoline&quot;){\r\n                price = 300;\r\n            }\r\n            else if (powertrainVehicle == &quot;Hybrid&quot;){\r\n                price = 150;\r\n            }\r\n            else if (powertrainVehicle == &quot;Electric&quot;){\r\n                price = 100;\r\n            }\r\n            else{\r\n                price = 0;\r\n            }                \r\n            \r\n        }\r\n        \r\n        else if (typeVehicle == &quot;Lorry&quot;){\r\n            \r\n            powertrainVehicle = &quot;All&quot;;\r\n            price = 400;\r\n                        \r\n        }\r\n         \r\n        return price;\r\n    }\r\n    //Lab3 End\r\n          \r\n    //Getter\r\n    public String getTransmission(){\r\n        return transmissionVehicle;\r\n    }\r\n\r\n    //Setter\r\n    public void setTransmission(String transmission){\r\n        transmission = this.transmissionVehicle;\r\n    }\r\n    \r\n    //Getter\r\n    public String getPowertrain(){\r\n        return powertrainVehicle;\r\n    }\r\n\r\n    //Setter\r\n    public void setPowertrain(String powertrain){\r\n        powertrain = this.powertrainVehicle;\r\n    }\r\n    \r\n    public void output(){\r\n        System.out.println(&quot;Type of vehicle: &quot;+getType());\r\n    }\r\n\r\n    }\r\n\r\n\r\nMy input:\r\n\r\n    Type of vehicle? [Car, SUV, MPV, Lorry]: \r\n    MPV\r\n    Type of powertrain? [Gasoline, Hybrid, Electric]: \r\n    Hybrid\r\n    Enter Accelerate: \r\n    2\r\n    Enter Brake: \r\n    2\r\n\r\nMy output:\r\n\r\n    ===========================================\r\n\r\n    Electric MPV.\r\n    \r\n    Accelerate:\r\n    Current Speed = 90 kmh\r\n    \r\n    Brake:\r\n    Current Speed = 80 kmh\r\n    \r\n    Price: RM 0.0\r\n\r\nThe output should be like this:\r\n\r\n    ===========================================\r\n\r\n    Hybrid MPV.\r\n    \r\n    Accelerate:\r\n    Current Speed = 90 kmh\r\n    \r\n    Brake:\r\n    Current Speed = 80 kmh\r\n    \r\n    Price: RM 150.0\r\n\r\nThere are problems with the Price and Powertrain.\r\nPlease help me!\r\nThank you.\r\n","title":"Why getRoadtaxPrice() function didn&#39;t get typeVehicle input value?","body":"<p>I am still beginner in programming. This is my first year.\nI have some problem with my code. I hope you guys can help me with it.</p>\n<p>This is my main (VehicleApp.java)</p>\n<pre><code>public static void main(String[] args) {\n    // TODO code application logic here\n    int acc, brake;\n    String type, powerTrain;\n    \n    Scanner sc = new Scanner(System.in);\n    Vehicle vehicle = new Vehicle(&quot;Car&quot;, &quot;Manual&quot;, &quot;Electric&quot;);               \n           \n    //input\n    \n    System.out.println(&quot;Type of vehicle? [Car, SUV, MPV, Lorry]: &quot;);\n    type = sc.nextLine();\n    vehicle.setType(type);\n    \n    if(type.equals(&quot;Lorry&quot;)){\n        System.out.println(&quot;Enter Accelerate: &quot;);\n        acc = sc.nextInt();\n        vehicle.autoAccelerate(acc);\n    \n        System.out.println(&quot;Enter Brake: &quot;);\n        brake = sc.nextInt();\n        vehicle.autobrake(brake);\n        \n        //output\n        System.out.println(&quot;===========================================\\n&quot;);\n        System.out.println(vehicle.getPowertrain()+&quot; &quot;+vehicle.getType()+&quot;.&quot;);\n        System.out.println(&quot;\\nAccelerate:\\nCurrent Speed = &quot;+vehicle.autoAccelerate(acc)+&quot; kmh&quot;);      \n        System.out.println(&quot;\\nBrake:\\nCurrent Speed = &quot;+vehicle.autobrake(brake)+&quot; kmh&quot;);\n        System.out.println(&quot;\\nPrice: RM &quot;+vehicle.getRoadtaxPrice());\n    }\n    else{\n        System.out.println(&quot;Type of powertrain? [Gasoline, Hybrid, Electric]: &quot;);\n        powerTrain = sc.nextLine();\n        vehicle.setPowertrain(powerTrain);\n    \n        System.out.println(&quot;Enter Accelerate: &quot;);\n        acc = sc.nextInt();\n        vehicle.autoAccelerate(acc);\n    \n        System.out.println(&quot;Enter Brake: &quot;);\n        brake = sc.nextInt();\n        vehicle.autobrake(brake);\n    \n        //output\n        System.out.println(&quot;===========================================\\n&quot;);\n        System.out.println(vehicle.getPowertrain()+&quot; &quot;+vehicle.getType()+&quot;.&quot;);\n        System.out.println(&quot;\\nAccelerate:\\nCurrent Speed = &quot;+vehicle.autoAccelerate(acc)+&quot; kmh&quot;);      \n        System.out.println(&quot;\\nBrake:\\nCurrent Speed = &quot;+vehicle.autobrake(brake)+&quot; kmh&quot;);\n        System.out.println(&quot;\\nPrice: RM &quot;+vehicle.getRoadtaxPrice());\n    }\n}\n</code></pre>\n<p>This is my class (Vehicle.java)</p>\n<pre><code>public class Vehicle {\nprivate String typeVehicle, transmissionVehicle, powertrainVehicle;\nprivate int speedVehicle;\n\npublic Vehicle(String type, String transmission, String powertrain){\n    this.typeVehicle = type;\n    this.transmissionVehicle = transmission;\n    this.powertrainVehicle = powertrain;\n    speedVehicle = 60;\n}\n        \npublic int accelerate(){\n    return speedVehicle+=10;\n}\n\npublic int brake(){\n    return speedVehicle-=5;\n}\n\n//Getter\npublic String getType(){\n    return typeVehicle;\n}\n\n//Setter\npublic void setType(String type){\n    //type = this.typeVehicle;\n    this.typeVehicle = type;\n}\n \n//Lab3 Start\npublic int autoAccelerate(int accelerate){\n    for(int i = 0; i &lt; accelerate; i++){\n        speedVehicle += 10;\n    }\n    return speedVehicle;\n}\n\npublic int autobrake(int brake){\n    for(int i = 0; i &lt; brake; i++){\n        speedVehicle -= 5;\n        \n        if(speedVehicle &lt;= 0){\n            speedVehicle = 0;\n        }\n    }\n    return speedVehicle;\n}\n\npublic double getRoadtaxPrice(){\n    double price = 0;\n    \n    if (typeVehicle == &quot;Car&quot;){\n                  \n        if (powertrainVehicle == &quot;Gasoline&quot;){\n            price = 200;\n        }\n        else if (powertrainVehicle == &quot;Hybrid&quot;){\n            price = 100;\n        }\n        else if (powertrainVehicle == &quot;Electric&quot;){\n            price = 50;\n        }\n        else{\n            price = 0;\n        } \n        \n    }\n    \n    else if (typeVehicle == &quot;SUV&quot; || typeVehicle == &quot;MPV&quot;){\n                    \n        if (powertrainVehicle == &quot;Gasoline&quot;){\n            price = 300;\n        }\n        else if (powertrainVehicle == &quot;Hybrid&quot;){\n            price = 150;\n        }\n        else if (powertrainVehicle == &quot;Electric&quot;){\n            price = 100;\n        }\n        else{\n            price = 0;\n        }                \n        \n    }\n    \n    else if (typeVehicle == &quot;Lorry&quot;){\n        \n        powertrainVehicle = &quot;All&quot;;\n        price = 400;\n                    \n    }\n     \n    return price;\n}\n//Lab3 End\n      \n//Getter\npublic String getTransmission(){\n    return transmissionVehicle;\n}\n\n//Setter\npublic void setTransmission(String transmission){\n    transmission = this.transmissionVehicle;\n}\n\n//Getter\npublic String getPowertrain(){\n    return powertrainVehicle;\n}\n\n//Setter\npublic void setPowertrain(String powertrain){\n    powertrain = this.powertrainVehicle;\n}\n\npublic void output(){\n    System.out.println(&quot;Type of vehicle: &quot;+getType());\n}\n\n}\n</code></pre>\n<p>My input:</p>\n<pre><code>Type of vehicle? [Car, SUV, MPV, Lorry]: \nMPV\nType of powertrain? [Gasoline, Hybrid, Electric]: \nHybrid\nEnter Accelerate: \n2\nEnter Brake: \n2\n</code></pre>\n<p>My output:</p>\n<pre><code>===========================================\n\nElectric MPV.\n\nAccelerate:\nCurrent Speed = 90 kmh\n\nBrake:\nCurrent Speed = 80 kmh\n\nPrice: RM 0.0\n</code></pre>\n<p>The output should be like this:</p>\n<pre><code>===========================================\n\nHybrid MPV.\n\nAccelerate:\nCurrent Speed = 90 kmh\n\nBrake:\nCurrent Speed = 80 kmh\n\nPrice: RM 150.0\n</code></pre>\n<p>There are problems with the Price and Powertrain.\nPlease help me!\nThank you.</p>\n"},{"tags":["java","android","kotlin","notepad"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636651039,"creation_date":1604890077,"answer_id":64745239,"question_id":64744959,"body_markdown":"***Edit**: Kotlin Android Extensions is now deprecated. [See here.](https://stackoverflow.com/questions/68236873/why-do-i-get-unresolved-reference-error-for-my-views-name-id-when-i-type-it-i)*\r\n\r\n----\r\nYou are either missing the Android KTX extensions, which require you to add them to the top of your `app/build.gradle` file like this:\r\n\r\n```lang-groovy\r\napply plugin: &#39;kotlin-android-extensions&#39;\r\n```\r\n\r\nand/or you are missing the import of your synthetic views at the top of this .kt file. When you are missing an import, you can put the cursor on the code that has the error, press Alt+Enter, and select the option to import the relevant class or function.\r\n\r\nThat said, synthetic views are kind of obsolete now that there is [view binding][1]. View binding makes it much easier to create ViewHolders because it caches all the view references for you. With view binding, your ViewHolder class would simply be:\r\n\r\n    class ViewHolder (val binding: NotesRvLayoutBinding): RecyclerView.ViewHolder(binding.root)\r\n\r\nand `onCreateViewHolder` becomes:\r\n\r\n```\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder\r\n    {\r\n        val binding = NotesRvLayoutBinding.inflate(LayoutInflater.from(parent.context))\r\n        return ViewHolder(binding)\r\n    }\r\n```\r\n\r\nand `onBindViewHolder` becomes:\r\n\r\n```\r\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int)\r\n    {\r\n\r\n        holder.binding.titleTV.text = notesList[position].title\r\n        holder.binding.descTV.text = notesList[position].description\r\n        holder.binding.idTV.text = notesList[position].id.toString()\r\n\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/view-binding","title":"Kotlin android studio holder.itemview issue","body":"<p><em><strong>Edit</strong>: Kotlin Android Extensions is now deprecated. <a href=\"https://stackoverflow.com/questions/68236873/why-do-i-get-unresolved-reference-error-for-my-views-name-id-when-i-type-it-i\">See here.</a></em></p>\n<hr />\n<p>You are either missing the Android KTX extensions, which require you to add them to the top of your <code>app/build.gradle</code> file like this:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n<p>and/or you are missing the import of your synthetic views at the top of this .kt file. When you are missing an import, you can put the cursor on the code that has the error, press Alt+Enter, and select the option to import the relevant class or function.</p>\n<p>That said, synthetic views are kind of obsolete now that there is <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">view binding</a>. View binding makes it much easier to create ViewHolders because it caches all the view references for you. With view binding, your ViewHolder class would simply be:</p>\n<pre><code>class ViewHolder (val binding: NotesRvLayoutBinding): RecyclerView.ViewHolder(binding.root)\n</code></pre>\n<p>and <code>onCreateViewHolder</code> becomes:</p>\n<pre><code>    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder\n    {\n        val binding = NotesRvLayoutBinding.inflate(LayoutInflater.from(parent.context))\n        return ViewHolder(binding)\n    }\n</code></pre>\n<p>and <code>onBindViewHolder</code> becomes:</p>\n<pre><code>    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int)\n    {\n\n        holder.binding.titleTV.text = notesList[position].title\n        holder.binding.descTV.text = notesList[position].description\n        holder.binding.idTV.text = notesList[position].id.toString()\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7608487,"reputation":1140,"user_id":6488277,"display_name":"Sn Phan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604890100,"creation_date":1604890100,"answer_id":64745244,"question_id":64744959,"body_markdown":"You haven&#39;t imported it yet. Add these lines to your app&#39;s `build.gradle`\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply plugin: &#39;kotlin-android-extensions&#39;\r\n```","title":"Kotlin android studio holder.itemview issue","body":"<p>You haven't imported it yet. Add these lines to your app's <code>build.gradle</code></p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17439078,"reputation":158,"user_id":12641535,"display_name":"Sathyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604896297,"creation_date":1604896297,"answer_id":64745924,"question_id":64744959,"body_markdown":"There is no extension function import.Without that extension you can&#39;t reference the id directly.\r\n\r\nIf you want to reference directly then import android-extension in your build gradle","title":"Kotlin android studio holder.itemview issue","body":"<p>There is no extension function import.Without that extension you can't reference the id directly.</p>\n<p>If you want to reference directly then import android-extension in your build gradle</p>\n"},{"tags":[],"owner":{"account_id":6439810,"reputation":586,"user_id":4990156,"display_name":"Pradeep Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604900513,"creation_date":1604900513,"answer_id":64746375,"question_id":64744959,"body_markdown":"Please use this.\r\n\r\n\r\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int)\r\n        {\r\n    \r\n            holder.titleTV.text = notesList[position]!!.title\r\n            holder.descTV.text = notesList[position]!!.description\r\n            holder.idTV.text = notesList[position]!!.id.toString()\r\n    \r\n        }\r\n\r\ninstead of this.\r\n\r\n     override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int)\r\n        {\r\n    \r\n            holder.itemView.titleTV.text = notesList[position]!!.title\r\n            holder.itemView.descTV.text = notesList[position]!!.description\r\n            holder.itemView.idTV.text = notesList[position]!!.id.toString()\r\n    \r\n        }\r\n\r\n   Remove **itemView** from `onBindViewHolder` method.","title":"Kotlin android studio holder.itemview issue","body":"<p>Please use this.</p>\n<pre><code>override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int)\n    {\n\n        holder.titleTV.text = notesList[position]!!.title\n        holder.descTV.text = notesList[position]!!.description\n        holder.idTV.text = notesList[position]!!.id.toString()\n\n    }\n</code></pre>\n<p>instead of this.</p>\n<pre><code> override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int)\n    {\n\n        holder.itemView.titleTV.text = notesList[position]!!.title\n        holder.itemView.descTV.text = notesList[position]!!.description\n        holder.itemView.idTV.text = notesList[position]!!.id.toString()\n\n    }\n</code></pre>\n<p>Remove <strong>itemView</strong> from <code>onBindViewHolder</code> method.</p>\n"}],"owner":{"account_id":19928834,"reputation":53,"user_id":14602853,"display_name":"Brett Hudson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3966,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1636651039,"creation_date":1604887181,"question_id":64744959,"body_markdown":"im trying to make this mobile note taking app based on a tut i followed on youtube his does not have this error ive watched over and over i have a file called NotesAdapter \r\n```\r\n     holder.itemView.titleTV.text = notesList[position]!!.title\r\n        holder.itemView.descTV.text = notesList[position]!!.description\r\n        holder.itemView.idTV.text = notesList[position]!!.id.toString()\r\n```\r\n\r\nthe titleTV, descTV, &amp; idTV give an error &quot;unresolved reference: title TV&quot; etc. this stops the app from running can anyone assist ? \r\n\r\n```\r\npackage com.example.moradinotepad\r\n\r\nimport android.content.Context\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.TextView\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport io.realm.RealmResults\r\n\r\n\r\nclass NotesAdapter (private val context: Context?, private val notesList: RealmResults&lt;Notes&gt;)\r\n    :RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;()\r\n{\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder\r\n    {\r\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.notes_rv_layout,parent,false)\r\n        return ViewHolder(v)\r\n    }\r\n\r\n    override fun getItemCount(): Int\r\n    {\r\n        return notesList.size\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int)\r\n    {\r\n\r\n        holder.itemView.titleTV.text = notesList[position]!!.title\r\n        holder.itemView.descTV.text = notesList[position]!!.description\r\n        holder.itemView.idTV.text = notesList[position]!!.id.toString()\r\n\r\n    }\r\n    class ViewHolder(v: View?): RecyclerView.ViewHolder(v!!){\r\n        val title = itemView.findViewById&lt;TextView&gt;(R.id.titleTV)\r\n        val desc = itemView.findViewById&lt;TextView&gt;(R.id.descTV)\r\n        val id = itemView.findViewById&lt;TextView&gt;(R.id.idTV)\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Kotlin android studio holder.itemview issue","body":"<p>im trying to make this mobile note taking app based on a tut i followed on youtube his does not have this error ive watched over and over i have a file called NotesAdapter</p>\n<pre><code>     holder.itemView.titleTV.text = notesList[position]!!.title\n        holder.itemView.descTV.text = notesList[position]!!.description\n        holder.itemView.idTV.text = notesList[position]!!.id.toString()\n</code></pre>\n<p>the titleTV, descTV, &amp; idTV give an error &quot;unresolved reference: title TV&quot; etc. this stops the app from running can anyone assist ?</p>\n<pre><code>package com.example.moradinotepad\n\nimport android.content.Context\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\nimport androidx.recyclerview.widget.RecyclerView\nimport io.realm.RealmResults\n\n\nclass NotesAdapter (private val context: Context?, private val notesList: RealmResults&lt;Notes&gt;)\n    :RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;()\n{\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder\n    {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.notes_rv_layout,parent,false)\n        return ViewHolder(v)\n    }\n\n    override fun getItemCount(): Int\n    {\n        return notesList.size\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int)\n    {\n\n        holder.itemView.titleTV.text = notesList[position]!!.title\n        holder.itemView.descTV.text = notesList[position]!!.description\n        holder.itemView.idTV.text = notesList[position]!!.id.toString()\n\n    }\n    class ViewHolder(v: View?): RecyclerView.ViewHolder(v!!){\n        val title = itemView.findViewById&lt;TextView&gt;(R.id.titleTV)\n        val desc = itemView.findViewById&lt;TextView&gt;(R.id.descTV)\n        val id = itemView.findViewById&lt;TextView&gt;(R.id.idTV)\n    }\n\n}\n</code></pre>\n"},{"tags":["java","function","parameters"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1636645938,"post_id":69931161,"comment_id":123617884,"body_markdown":"Giving an exact answer is kind of hard without seeing your code. In general you can use the return value as a method parameter in the same way as you can use any variable. You just need to assign the return value to a variable of your choice, like `String stringReturnValue = someMehtodThatReturnsString();` and then you can use that variable when calling methods eG `callSomeOtherMethod(stringReturnValue);`.","body":"Giving an exact answer is kind of hard without seeing your code. In general you can use the return value as a method parameter in the same way as you can use any variable. You just need to assign the return value to a variable of your choice, like <code>String stringReturnValue = someMehtodThatReturnsString();</code> and then you can use that variable when calling methods eG <code>callSomeOtherMethod(stringReturnValue);</code>."},{"owner":{"account_id":23259125,"reputation":161,"user_id":17345696,"display_name":"Dave Twickenham"},"score":0,"creation_date":1636646261,"post_id":69931161,"comment_id":123618024,"body_markdown":"@OHGODSPIDERS but where do I have to assign the return value? If I do it in the method itself then it&#39;s not visible in the main method and therefore not usable. They are `int` btw but that&#39;s not important.","body":"@OHGODSPIDERS but where do I have to assign the return value? If I do it in the method itself then it&#39;s not visible in the main method and therefore not usable. They are <code>int</code> btw but that&#39;s not important."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1636646465,"post_id":69931161,"comment_id":123618117,"body_markdown":"I don&#39;t know anything about your code so how am I supposed to tell you where exactly it would make sense in your code to call methods and pass return values around? Maybe [What is &#39;scope&#39; in Java?](https://stackoverflow.com/questions/38177140/what-is-scope-in-java) will help you.","body":"I don&#39;t know anything about your code so how am I supposed to tell you where exactly it would make sense in your code to call methods and pass return values around? Maybe <a href=\"https://stackoverflow.com/questions/38177140/what-is-scope-in-java\">What is &#39;scope&#39; in Java?</a> will help you."}],"answers":[{"tags":[],"owner":{"account_id":23259125,"reputation":161,"user_id":17345696,"display_name":"Dave Twickenham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636650941,"creation_date":1636650941,"answer_id":69932338,"question_id":69931161,"body_markdown":"I was able to fix it:\r\n\r\nThe clue is to assign the functions to variables as the commenter suggested and at the same time executing the function:\r\n\r\n    int dice = rollTheDice();\r\n    int bet = givenBet();\r\n    int bid = givenBid();\r\n    getWin(dice, bet, bid);\r\n\r\n","title":"How can I use the return value of a method as a parameter in another method?","body":"<p>I was able to fix it:</p>\n<p>The clue is to assign the functions to variables as the commenter suggested and at the same time executing the function:</p>\n<pre><code>int dice = rollTheDice();\nint bet = givenBet();\nint bid = givenBid();\ngetWin(dice, bet, bid);\n</code></pre>\n"}],"owner":{"account_id":23259125,"reputation":161,"user_id":17345696,"display_name":"Dave Twickenham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69932338,"answer_count":1,"score":0,"last_activity_date":1636650941,"creation_date":1636645752,"question_id":69931161,"body_markdown":"I have this command `Out.print(getWin(dice, bet, bid));` but Java doesn&#39;t seem to know the 3 values `dice`, `bet` and `bid` as they are return values of other methods and therefore not known in the Main Method.\r\n\r\nNow I know that there is the possibility to call up the whole functions to give the return values as parameters `Out.print(getWin(rollTheDice(), givenBet(), givenBid()));` but the big problem is that the exercise I am working on, requires me to include lines like `System.Out.Print(&quot;Amount of Bid: &quot;);` into the functions itself which means that when I call up the functions as parameters it starts printing out code and asking the user to enter data again and I am trapped in an endless loop instead of getting the return value of the function `getWin` which is the thing I actually want.\r\n\r\nIs there any way I can pass on the parameters as variables like suggested in the 1st row of the question? Maybe by initializing them outside the function (although I already tried that as well and it didn&#39;t work either)? Otherwise I am starting to think this exercise isn&#39;t really doable the way I am supposed to do it.","title":"How can I use the return value of a method as a parameter in another method?","body":"<p>I have this command <code>Out.print(getWin(dice, bet, bid));</code> but Java doesn't seem to know the 3 values <code>dice</code>, <code>bet</code> and <code>bid</code> as they are return values of other methods and therefore not known in the Main Method.</p>\n<p>Now I know that there is the possibility to call up the whole functions to give the return values as parameters <code>Out.print(getWin(rollTheDice(), givenBet(), givenBid()));</code> but the big problem is that the exercise I am working on, requires me to include lines like <code>System.Out.Print(&quot;Amount of Bid: &quot;);</code> into the functions itself which means that when I call up the functions as parameters it starts printing out code and asking the user to enter data again and I am trapped in an endless loop instead of getting the return value of the function <code>getWin</code> which is the thing I actually want.</p>\n<p>Is there any way I can pass on the parameters as variables like suggested in the 1st row of the question? Maybe by initializing them outside the function (although I already tried that as well and it didn't work either)? Otherwise I am starting to think this exercise isn't really doable the way I am supposed to do it.</p>\n"},{"tags":["java","google-cloud-firestore"],"comments":[{"owner":{"account_id":2266684,"reputation":1068,"user_id":1995161,"accept_rate":50,"display_name":"AshwinK"},"score":0,"creation_date":1552743628,"post_id":55197420,"comment_id":97132106,"body_markdown":"`rsmw3EkfIjUQxrzRiyy7` &amp; `sTEfYCcPK9lw77xWS8H5` going to be the key in your map ? &amp; `title`, `body` will be the part of object which can be used as `value` is it what you are trying to do ?","body":"<code>rsmw3EkfIjUQxrzRiyy7</code> &amp; <code>sTEfYCcPK9lw77xWS8H5</code> going to be the key in your map ? &amp; <code>title</code>, <code>body</code> will be the part of object which can be used as <code>value</code> is it what you are trying to do ?"},{"owner":{"account_id":11491406,"reputation":157,"user_id":11126005,"display_name":"M&#225;t&#233; Antal"},"score":0,"creation_date":1552743684,"post_id":55197420,"comment_id":97132118,"body_markdown":"yes, and I just wanna get all of the titles","body":"yes, and I just wanna get all of the titles"},{"owner":{"account_id":9749460,"reputation":683,"user_id":7228218,"display_name":"Islam Hassan"},"score":0,"creation_date":1552743685,"post_id":55197420,"comment_id":97132121,"body_markdown":"You are correctly getting the auto-generated keys. What you want to get is a part of the value, not the key.","body":"You are correctly getting the auto-generated keys. What you want to get is a part of the value, not the key."},{"owner":{"account_id":11491406,"reputation":157,"user_id":11126005,"display_name":"M&#225;t&#233; Antal"},"score":0,"creation_date":1552743756,"post_id":55197420,"comment_id":97132140,"body_markdown":"@IslamEl-Rougy I understand, how should I get the titles from the value then?","body":"@IslamEl-Rougy I understand, how should I get the titles from the value then?"}],"answers":[{"tags":[],"owner":{"account_id":444824,"reputation":929,"user_id":836890,"accept_rate":100,"display_name":"Chandan Pasunoori"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1552751165,"creation_date":1552744264,"answer_id":55197562,"question_id":55197420,"body_markdown":"**Update**\r\n\r\n**Option 1:**\r\n\r\nif use Firestore query reference directly, use QueryDocumentSnapshot class methods to get values from Firestore document \r\n\r\nimports \r\n\r\n    import com.google.cloud.firestore.FirestoreOptions;\r\n    import com.google.cloud.firestore.QueryDocumentSnapshot;\r\n    import com.google.cloud.firestore.QuerySnapshot;\r\n\r\ncode\r\n\r\n      Firestore db = firestoreOptions.getService();\r\n      ApiFuture&lt;QuerySnapshot&gt; query = db.collection(&quot;data&quot;).get();\r\n      QuerySnapshot querySnapshot = query.get();\r\n      List&lt;QueryDocumentSnapshot&gt; documents = querySnapshot.getDocuments();\r\n      ArrayList&lt;String&gt; titles = new ArrayList&lt;&gt;();\r\n      for (QueryDocumentSnapshot document : documents) {\r\n        System.out.println(&quot;auto id: &quot; + document.getId());\r\n        String title = document.getString(&quot;title&quot;);\r\n        titles.add(title);\r\n      }\r\n      System.out.println(&quot;titles = &quot; + titles);\r\n\r\n**Option 2:**\r\n\r\nuse `data.entrySet()` to get Key-Value pair, like below\r\n\r\n    for (Map.Entry&lt;String, Object&gt; o : data.entrySet()) {\r\n        String key = o.getKey();\r\n        Object value = o.getValue();\r\n    }\r\n\r\nuse any JSON lib like Jackson to parser value to JSON object or class object to get the title.","title":"Java, get Keys from Map that has data from FireStore","body":"<p><strong>Update</strong></p>\n\n<p><strong>Option 1:</strong></p>\n\n<p>if use Firestore query reference directly, use QueryDocumentSnapshot class methods to get values from Firestore document </p>\n\n<p>imports </p>\n\n<pre><code>import com.google.cloud.firestore.FirestoreOptions;\nimport com.google.cloud.firestore.QueryDocumentSnapshot;\nimport com.google.cloud.firestore.QuerySnapshot;\n</code></pre>\n\n<p>code</p>\n\n<pre><code>  Firestore db = firestoreOptions.getService();\n  ApiFuture&lt;QuerySnapshot&gt; query = db.collection(\"data\").get();\n  QuerySnapshot querySnapshot = query.get();\n  List&lt;QueryDocumentSnapshot&gt; documents = querySnapshot.getDocuments();\n  ArrayList&lt;String&gt; titles = new ArrayList&lt;&gt;();\n  for (QueryDocumentSnapshot document : documents) {\n    System.out.println(\"auto id: \" + document.getId());\n    String title = document.getString(\"title\");\n    titles.add(title);\n  }\n  System.out.println(\"titles = \" + titles);\n</code></pre>\n\n<p><strong>Option 2:</strong></p>\n\n<p>use <code>data.entrySet()</code> to get Key-Value pair, like below</p>\n\n<pre><code>for (Map.Entry&lt;String, Object&gt; o : data.entrySet()) {\n    String key = o.getKey();\n    Object value = o.getValue();\n}\n</code></pre>\n\n<p>use any JSON lib like Jackson to parser value to JSON object or class object to get the title.</p>\n"},{"tags":[],"owner":{"account_id":2266684,"reputation":1068,"user_id":1995161,"accept_rate":50,"display_name":"AshwinK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552748814,"creation_date":1552744503,"answer_id":55197597,"question_id":55197420,"body_markdown":"The cleaner approach using Java8 stream will be:\r\n\r\n    Map&lt;String,FireStore&gt; map=new HashMap&lt;&gt;();\r\n\r\n    FireStore f1=new FireStore(&quot;title1&quot;,&quot;body1&quot;);\r\n    FireStore f2=new FireStore(&quot;title2&quot;,&quot;body2&quot;);\r\n\r\n    map.put(&quot;rsmw3EkfIjUQxrzRiyy7&quot;,f1);\r\n    map.put(&quot;sTEfYCcPK9lw77xWS8H5&quot;,f2);\r\n\r\n    List&lt;String&gt; titles = map.entrySet()\r\n            .stream()\r\n            .map(e -&gt; e.getValue())\r\n            .map(FireStore::getTitle)\r\n            .collect(Collectors.toList());\r\n\r\n    System.out.println(titles);\r\n\r\nYour FireStore object:\r\n\r\n    public class FireStore {\r\n        private String body;\r\n        private String title;\r\n        public FireStore(String title,String body) {\r\n            this.body = body;\r\n            this.title = title;\r\n        }\r\n        public String getBody() { return body; }\r\n        public void setBody(String body) { this.body = body; }\r\n        public String getTitle() { return title; }\r\n        public void setTitle(String title) { this.title = title; }\r\n    }\r\n\r\n\r\nAs information provided by you from the [link][1]. You need to add following changes.\r\n\r\n    //asynchronously retrieve all documents\r\n    ApiFuture&lt;QuerySnapshot&gt; future = db.collection(&quot;cities&quot;).get();\r\n    // future.get() blocks on response\r\n    List&lt;QueryDocumentSnapshot&gt; documents = future.get().getDocuments();\r\n    List&lt;String&gt; titles=new ArrayList&lt;&gt;();\r\n    for (QueryDocumentSnapshot document : documents) {\r\n      titles.add(document.get(&quot;title&quot;)); //this will get titles and add into titles list.\r\n    }\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/get-data#get_all_documents_in_a_collection","title":"Java, get Keys from Map that has data from FireStore","body":"<p>The cleaner approach using Java8 stream will be:</p>\n\n<pre><code>Map&lt;String,FireStore&gt; map=new HashMap&lt;&gt;();\n\nFireStore f1=new FireStore(\"title1\",\"body1\");\nFireStore f2=new FireStore(\"title2\",\"body2\");\n\nmap.put(\"rsmw3EkfIjUQxrzRiyy7\",f1);\nmap.put(\"sTEfYCcPK9lw77xWS8H5\",f2);\n\nList&lt;String&gt; titles = map.entrySet()\n        .stream()\n        .map(e -&gt; e.getValue())\n        .map(FireStore::getTitle)\n        .collect(Collectors.toList());\n\nSystem.out.println(titles);\n</code></pre>\n\n<p>Your FireStore object:</p>\n\n<pre><code>public class FireStore {\n    private String body;\n    private String title;\n    public FireStore(String title,String body) {\n        this.body = body;\n        this.title = title;\n    }\n    public String getBody() { return body; }\n    public void setBody(String body) { this.body = body; }\n    public String getTitle() { return title; }\n    public void setTitle(String title) { this.title = title; }\n}\n</code></pre>\n\n<p>As information provided by you from the <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data#get_all_documents_in_a_collection\" rel=\"nofollow noreferrer\">link</a>. You need to add following changes.</p>\n\n<pre><code>//asynchronously retrieve all documents\nApiFuture&lt;QuerySnapshot&gt; future = db.collection(\"cities\").get();\n// future.get() blocks on response\nList&lt;QueryDocumentSnapshot&gt; documents = future.get().getDocuments();\nList&lt;String&gt; titles=new ArrayList&lt;&gt;();\nfor (QueryDocumentSnapshot document : documents) {\n  titles.add(document.get(\"title\")); //this will get titles and add into titles list.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22987211,"reputation":57,"user_id":17113242,"display_name":"Michael JC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636650911,"creation_date":1636650463,"answer_id":69932230,"question_id":55197420,"body_markdown":"**Firebase version 9 (web/JS)** \r\nTo **get a document keys** (fields) from a Firestore document collection:\r\n\r\n     // import from firebase (including the db ref!)\r\n        import { collection, query, getDocs, doc } from &quot;firebase/firestore&quot;;\r\n        // set up query - collection name can be passed as variable\r\n        const q = query(collection(db, &#39;posts&#39;), limit(1));\r\n        const docKeys\r\n     // You need to use async/await when calling on Firestore\r\n        const getDocKeys = async () =&gt; {\r\n          const querySnapshot = await getDocs(q);\r\n          querySnapshot.forEach((doc) =&gt; {\r\n            docKeys = Object.keys(doc.data());\r\n            console.log(docKeys);\r\n     // You can go further &amp; push result to array and sort if needed...\r\n          });\r\n        };\r\n    \r\n    // run function...\r\n        getDocKeys();","title":"Java, get Keys from Map that has data from FireStore","body":"<p><strong>Firebase version 9 (web/JS)</strong>\nTo <strong>get a document keys</strong> (fields) from a Firestore document collection:</p>\n<pre><code> // import from firebase (including the db ref!)\n    import { collection, query, getDocs, doc } from &quot;firebase/firestore&quot;;\n    // set up query - collection name can be passed as variable\n    const q = query(collection(db, 'posts'), limit(1));\n    const docKeys\n // You need to use async/await when calling on Firestore\n    const getDocKeys = async () =&gt; {\n      const querySnapshot = await getDocs(q);\n      querySnapshot.forEach((doc) =&gt; {\n        docKeys = Object.keys(doc.data());\n        console.log(docKeys);\n // You can go further &amp; push result to array and sort if needed...\n      });\n    };\n\n// run function...\n    getDocKeys();\n</code></pre>\n"}],"owner":{"account_id":11491406,"reputation":157,"user_id":11126005,"display_name":"M&#225;t&#233; Antal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55197562,"answer_count":3,"score":1,"last_activity_date":1636650911,"creation_date":1552743367,"question_id":55197420,"body_markdown":"I&#39;m getting data from FireStore into a Map&lt;String,Object&gt;, my data in Firestore looks like this:  \r\n\r\n    (Auto-Document ID)\r\n        title=&quot;title1&quot;\r\n        body=&quot;body1&quot;\r\n    (Auto-Document ID)\r\n        title=&quot;title2&quot;\r\n        body=&quot;body2&quot;\r\nAs I load them in a Map, it&#39;ll look like this:  \r\n\r\n&gt; loadNoteCallBack: {rsmw3EkfIjUQxrzRiyy7={body=body2, title=title2}, sTEfYCcPK9lw77xWS8H5={body=body1, title=title1}}\r\n\r\n&quot;rsmw3EkfIjUQxrzRiyy7&quot; and &quot;sTEfYCcPK9lw77xWS8H5&quot; are the Auto generated document ID-s  \r\n  \r\nNow my problem is, I wanna extract the **titles** from them, and I don&#39;t exactly know how.  \r\nI&#39;ve tried this:  \r\n\r\n    List&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n\r\n    for (String key : data.keySet()) {\r\n        keys.add(key);\r\n    }\r\nBut I got back the document ID-s this way.  \r\n\r\n&gt; titles: [rsmw3EkfIjUQxrzRiyy7, sTEfYCcPK9lw77xWS8H5]\r\n\r\n  \r\n How should I get the titles?\r\n\r\n  \r\n  \r\n**update**  \r\n\r\nI think I did it. Is it a good solution for this problem?\r\n\r\n        public static void loadNote() {\r\n        db.collection(&quot;Datas&quot;)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n                            List&lt;String&gt; titles = new ArrayList&lt;&gt;();\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                titles.add(document.getString(&quot;title&quot;));\r\n                                data.put(document.getId(),document.getData());\r\n                            }                            \r\n                            defaultEntitys.loadNoteCb(data,titles);\r\n                        } else {\r\n                            Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n                        }\r\n                    }\r\n                });","title":"Java, get Keys from Map that has data from FireStore","body":"<p>I'm getting data from FireStore into a Map, my data in Firestore looks like this:  </p>\n\n<pre><code>(Auto-Document ID)\n    title=\"title1\"\n    body=\"body1\"\n(Auto-Document ID)\n    title=\"title2\"\n    body=\"body2\"\n</code></pre>\n\n<p>As I load them in a Map, it'll look like this:  </p>\n\n<blockquote>\n  <p>loadNoteCallBack: {rsmw3EkfIjUQxrzRiyy7={body=body2, title=title2}, sTEfYCcPK9lw77xWS8H5={body=body1, title=title1}}</p>\n</blockquote>\n\n<p>\"rsmw3EkfIjUQxrzRiyy7\" and \"sTEfYCcPK9lw77xWS8H5\" are the Auto generated document ID-s  </p>\n\n<p>Now my problem is, I wanna extract the <strong>titles</strong> from them, and I don't exactly know how.<br>\nI've tried this:  </p>\n\n<pre><code>List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n\nfor (String key : data.keySet()) {\n    keys.add(key);\n}\n</code></pre>\n\n<p>But I got back the document ID-s this way.  </p>\n\n<blockquote>\n  <p>titles: [rsmw3EkfIjUQxrzRiyy7, sTEfYCcPK9lw77xWS8H5]</p>\n</blockquote>\n\n<p>How should I get the titles?</p>\n\n<p><strong>update</strong>  </p>\n\n<p>I think I did it. Is it a good solution for this problem?</p>\n\n<pre><code>    public static void loadNote() {\n    db.collection(\"Datas\")\n            .get()\n            .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\n                        List&lt;String&gt; titles = new ArrayList&lt;&gt;();\n                        for (QueryDocumentSnapshot document : task.getResult()) {\n                            titles.add(document.getString(\"title\"));\n                            data.put(document.getId(),document.getData());\n                        }                            \n                        defaultEntitys.loadNoteCb(data,titles);\n                    } else {\n                        Log.d(TAG, \"Error getting documents: \", task.getException());\n                    }\n                }\n            });\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636650300,"creation_date":1636650300,"answer_id":69932195,"question_id":69931760,"body_markdown":"If all keys from the input map `setOfVehiclesWithMoreThanOneSpeedRestrictionType` need to be merged in a single string as well as all the values from this map should be merged in a single `TreeSet` and then logged, this may be implemented as simple as:\r\n```java\r\nprivate void checkForViolation(\r\n    final LineFeature feature, \r\n    final DirectionalVehicleTypeRestrictionCollection srSet,\r\n    final Map&lt;String, Collection&lt;String&gt;&gt; map\r\n) {\r\n    String speedType = String.join(&quot;, &quot;, map.keySet());\r\n    TreeSet&lt;String&gt; set = map.values().stream()\r\n            .flatMap(Collection::stream)\r\n            .collect(Collectors.toCollection(TreeSet::new));\r\n\r\n    logViolation(feature, speedType, srSet.getDirection().getTypeShortName(), set);\r\n}\r\n```","title":"How I can refactor this code to execute method logViolation() only once and get all value of string variable (speedType) in single string","body":"<p>If all keys from the input map <code>setOfVehiclesWithMoreThanOneSpeedRestrictionType</code> need to be merged in a single string as well as all the values from this map should be merged in a single <code>TreeSet</code> and then logged, this may be implemented as simple as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void checkForViolation(\n    final LineFeature feature, \n    final DirectionalVehicleTypeRestrictionCollection srSet,\n    final Map&lt;String, Collection&lt;String&gt;&gt; map\n) {\n    String speedType = String.join(&quot;, &quot;, map.keySet());\n    TreeSet&lt;String&gt; set = map.values().stream()\n            .flatMap(Collection::stream)\n            .collect(Collectors.toCollection(TreeSet::new));\n\n    logViolation(feature, speedType, srSet.getDirection().getTypeShortName(), set);\n}\n</code></pre>\n"}],"owner":{"account_id":16617176,"reputation":11,"user_id":12008463,"display_name":"deepankar gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636650505,"creation_date":1636648257,"question_id":69931760,"body_markdown":"How I can refactor the code below to execute method `logViolation()` only once and get all values of string variable `speedType` in a single string?\r\n\r\n```java\r\nprivate void checkForViolation(\r\n    final LineFeature feature, \r\n    final DirectionalVehicleTypeRestrictionCollection srSet,\r\n    final Map&lt;String, Collection&lt;String&gt;&gt; setOfVehiclesWithMoreThanOneSpeedRestrictionType\r\n) {\r\n    for (final Entry&lt;String, Collection&lt;String&gt;&gt; entry : setOfVehiclesWithMoreThanOneSpeedRestrictionType.entrySet()) {\r\n        final String speedType = entry.getKey();\r\n        final Collection&lt;String&gt; value = entry.getValue();\r\n        if (CollectionUtils.isNotEmpty(value)) {\r\n            final Set&lt;String&gt; set = new TreeSet&lt;&gt;();\r\n            set.addAll(value);\r\n            logViolation(feature, speedType, srSet.getDirection().getTypeShortName(), set);\r\n        }\r\n    }\r\n}\r\n\r\nprivate void logViolation(\r\n    final LineFeature feature, final String speedRestrictionType, \r\n    final String direction, final Set&lt;String&gt; vehicleTypesSet\r\n) {\r\n    final ViolationVariableSpeedInfo viva = new ViolationVariableSpeedInfo(\r\n        ViolationVariableKey.SPEED_INFO.getKey(),\r\n        speedRestrictionType, vehicleTypesSet, direction\r\n    );\r\n\r\n    getRuleContext().logViolation(feature, viva);\r\n}\r\n```","title":"How I can refactor this code to execute method logViolation() only once and get all value of string variable (speedType) in single string","body":"<p>How I can refactor the code below to execute method <code>logViolation()</code> only once and get all values of string variable <code>speedType</code> in a single string?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void checkForViolation(\n    final LineFeature feature, \n    final DirectionalVehicleTypeRestrictionCollection srSet,\n    final Map&lt;String, Collection&lt;String&gt;&gt; setOfVehiclesWithMoreThanOneSpeedRestrictionType\n) {\n    for (final Entry&lt;String, Collection&lt;String&gt;&gt; entry : setOfVehiclesWithMoreThanOneSpeedRestrictionType.entrySet()) {\n        final String speedType = entry.getKey();\n        final Collection&lt;String&gt; value = entry.getValue();\n        if (CollectionUtils.isNotEmpty(value)) {\n            final Set&lt;String&gt; set = new TreeSet&lt;&gt;();\n            set.addAll(value);\n            logViolation(feature, speedType, srSet.getDirection().getTypeShortName(), set);\n        }\n    }\n}\n\nprivate void logViolation(\n    final LineFeature feature, final String speedRestrictionType, \n    final String direction, final Set&lt;String&gt; vehicleTypesSet\n) {\n    final ViolationVariableSpeedInfo viva = new ViolationVariableSpeedInfo(\n        ViolationVariableKey.SPEED_INFO.getKey(),\n        speedRestrictionType, vehicleTypesSet, direction\n    );\n\n    getRuleContext().logViolation(feature, viva);\n}\n</code></pre>\n"},{"tags":["java","android","android-emulator"],"comments":[{"owner":{"account_id":1212634,"reputation":14544,"user_id":1180898,"accept_rate":93,"display_name":"Amir Uval"},"score":0,"creation_date":1469484763,"post_id":38578009,"comment_id":64545456,"body_markdown":"looking at the gradle info (bottom of Android Studio) does it install successfully?","body":"looking at the gradle info (bottom of Android Studio) does it install successfully?"}],"answers":[{"tags":[],"owner":{"account_id":3716374,"reputation":86,"user_id":3092489,"display_name":"TheNumenorean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469484780,"creation_date":1469484780,"answer_id":38578225,"question_id":38578009,"body_markdown":"From Android Studio, go to the AVD manager (Tools&gt;Android&gt;AVD). Locate your virtual device, and then under actions, select the downward triangle and hit Wipe Data. This should remove the old test APK.\r\n\r\nIf the old app is still there, try just deleting the old virtual device and creating a new one. If it is still there, you are probably selecting the wrong virtual device when starting your app.\r\n\r\nYou should also try clearing the default testing device. Under Run&gt;Edit Configurations, select the default run configuration. On the General tab, go to the bottom under Deployment Target Options and select Open Select Target Deployment Dialog, then save and try again.","title":"Android Emulator in Android Studio does not show my app","body":"<p>From Android Studio, go to the AVD manager (Tools>Android>AVD). Locate your virtual device, and then under actions, select the downward triangle and hit Wipe Data. This should remove the old test APK.</p>\n\n<p>If the old app is still there, try just deleting the old virtual device and creating a new one. If it is still there, you are probably selecting the wrong virtual device when starting your app.</p>\n\n<p>You should also try clearing the default testing device. Under Run>Edit Configurations, select the default run configuration. On the General tab, go to the bottom under Deployment Target Options and select Open Select Target Deployment Dialog, then save and try again.</p>\n"},{"tags":[],"owner":{"account_id":12250535,"reputation":108,"user_id":8941060,"display_name":"Web Marketing Solution Network"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566490258,"creation_date":1566490258,"answer_id":57613349,"question_id":38578009,"body_markdown":"I got the Solution. \r\nYou have to change the adb.exe file\r\n[Download][1] the adb.exe\r\n\r\nFile Location: C:\\Users\\[USER]\\AppData\\Local\\Android\\sdk\\platform-tools\r\n\r\n**Enjoy**\r\n\r\n  [1]: https://drive.google.com/file/d/1W0uIRn1q5twoY5PS16QSgcbmRTz6Hmig/view?usp=sharing","title":"Android Emulator in Android Studio does not show my app","body":"<p>I got the Solution. \nYou have to change the adb.exe file\n<a href=\"https://drive.google.com/file/d/1W0uIRn1q5twoY5PS16QSgcbmRTz6Hmig/view?usp=sharing\" rel=\"nofollow noreferrer\">Download</a> the adb.exe</p>\n\n<p>File Location: C:\\Users[USER]\\AppData\\Local\\Android\\sdk\\platform-tools</p>\n\n<p><strong>Enjoy</strong></p>\n"}],"owner":{"account_id":7817462,"reputation":53,"user_id":6637061,"accept_rate":25,"display_name":"AClassyEngineer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13894,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636650230,"creation_date":1469483624,"question_id":38578009,"body_markdown":"I&#39;m currently working on an android application using Android Studio. When I run my code on a Nexus 5 API 21 x86 emulator, the emulator does not show the application that I am trying to debug. I went into all applications, but I still cannot find the app I am trying to test. However, the emulator does still show an app from a previous project that I was working on. The log doesn&#39;t show any errors either when compiling the gradle and starting up the emulator.\r\n\r\nFrom researching other posts, I believe it may have something to do with the version of the emulator I am running. I am not sure if that is the case and if it is how I would fix it. I have pasted a copy of my manifest below and my gradle.build. Please let me know what is wrong, this problem has been irritating me for the last several days.\r\n\r\n     &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.jamescho.androidgame&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;0.5&quot; &gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-sdk\r\n            android:minSdkVersion=&quot;8&quot;\r\n            android:targetSdkVersion=&quot;17&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:icon=&quot;@drawable/bxbx_char&quot;\r\n            android:label=&quot;Bxbx&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.Bxbx.BxbxGame.Game&quot;\r\n                android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;\r\n                android:label=&quot;Bxbx&quot;\r\n                android:screenOrientation=&quot;portrait&quot;&gt;\r\n                 &lt;intent-filter&gt;\r\n                     &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                     &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                 &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nAnd the build.gradle \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 17\r\n        buildToolsVersion &quot;19.1.0&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.jamescho.androidgame&quot;\r\n            minSdkVersion 8\r\n            targetSdkVersion 17\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile &#39;com.android.support:support-v4:18.+&#39;","title":"Android Emulator in Android Studio does not show my app","body":"<p>I'm currently working on an android application using Android Studio. When I run my code on a Nexus 5 API 21 x86 emulator, the emulator does not show the application that I am trying to debug. I went into all applications, but I still cannot find the app I am trying to test. However, the emulator does still show an app from a previous project that I was working on. The log doesn't show any errors either when compiling the gradle and starting up the emulator.</p>\n\n<p>From researching other posts, I believe it may have something to do with the version of the emulator I am running. I am not sure if that is the case and if it is how I would fix it. I have pasted a copy of my manifest below and my gradle.build. Please let me know what is wrong, this problem has been irritating me for the last several days.</p>\n\n<pre><code> &lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.jamescho.androidgame\"\n    android:versionCode=\"1\"\n    android:versionName=\"0.5\" &gt;\n\n    &lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-sdk\n        android:minSdkVersion=\"8\"\n        android:targetSdkVersion=\"17\" /&gt;\n\n    &lt;application\n        android:icon=\"@drawable/bxbx_char\"\n        android:label=\"Bxbx\"&gt;\n        &lt;activity\n            android:name=\"com.Bxbx.BxbxGame.Game\"\n            android:configChanges=\"keyboard|keyboardHidden|orientation\"\n            android:label=\"Bxbx\"\n            android:screenOrientation=\"portrait\"&gt;\n             &lt;intent-filter&gt;\n                 &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n                 &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n             &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>And the build.gradle </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 17\n    buildToolsVersion \"19.1.0\"\n\n    defaultConfig {\n        applicationId \"com.jamescho.androidgame\"\n        minSdkVersion 8\n        targetSdkVersion 17\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n}\n\ndependencies {\n    compile 'com.android.support:support-v4:18.+'\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"score":0,"creation_date":1422810679,"post_id":28256852,"comment_id":44887310,"body_markdown":"This is a cool problem. Just curious, is this behavior desired for purely cosmetic reasons or is there actually a constraint somewhere that is requiring you to use 4 space indentation?","body":"This is a cool problem. Just curious, is this behavior desired for purely cosmetic reasons or is there actually a constraint somewhere that is requiring you to use 4 space indentation?"},{"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"score":0,"creation_date":1422816771,"post_id":28256852,"comment_id":44889312,"body_markdown":"I tried putting something _real_ nasty together with reflection and decided it probably isn&#39;t even humorous. I think the idea is behind the clunkiness is: it is equally as clunky no matter how complex your config needs to be. You will likely need to follow the Jackson prescribed method to apply this globally on your existing mapper (sadpanda)","body":"I tried putting something <i>real</i> nasty together with reflection and decided it probably isn&#39;t even humorous. I think the idea is behind the clunkiness is: it is equally as clunky no matter how complex your config needs to be. You will likely need to follow the Jackson prescribed method to apply this globally on your existing mapper (sadpanda)"},{"owner":{"account_id":385056,"reputation":36653,"user_id":741970,"accept_rate":61,"display_name":"Dmitry Minkovsky"},"score":0,"creation_date":1422821310,"post_id":28256852,"comment_id":44890677,"body_markdown":"Hi Sam. Thanks for thinking about this. I guess the use-case constraint for me is cosmetic meets practical meets lame: I was trying to log the contents of a graph using the GraphSON module provided in Tinkerpop3. Debugging logging JSON is most useful to me when there is a lot of indentation. Here&#39;s the original question: http://stackoverflow.com/questions/28255878/can-i-customize-a-jackson-objectmapper-by-adding-a-module","body":"Hi Sam. Thanks for thinking about this. I guess the use-case constraint for me is cosmetic meets practical meets lame: I was trying to log the contents of a graph using the GraphSON module provided in Tinkerpop3. Debugging logging JSON is most useful to me when there is a lot of indentation. Here&#39;s the original question: <a href=\"http://stackoverflow.com/questions/28255878/can-i-customize-a-jackson-objectmapper-by-adding-a-module\" title=\"can i customize a jackson objectmapper by adding a module\">stackoverflow.com/questions/28255878/&hellip;</a>"},{"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"score":0,"creation_date":1422863655,"post_id":28256852,"comment_id":44901346,"body_markdown":"It is making my brain explode how difficult it is to configure indentation globally! It goes ObjectMapper &gt; JsonFactory &gt; JsonGenerator from highest to lowest abstraction, and it seems like the only place to set pretty print config explicitly is in JsonGenerator. Having to call `.writer(...)` every time you want this config seems ridiculous.","body":"It is making my brain explode how difficult it is to configure indentation globally! It goes ObjectMapper &gt; JsonFactory &gt; JsonGenerator from highest to lowest abstraction, and it seems like the only place to set pretty print config explicitly is in JsonGenerator. Having to call <code>.writer(...)</code> every time you want this config seems ridiculous."},{"owner":{"account_id":385056,"reputation":36653,"user_id":741970,"accept_rate":61,"display_name":"Dmitry Minkovsky"},"score":0,"creation_date":1422892945,"post_id":28256852,"comment_id":44917563,"body_markdown":"@SamB. saw that you saw my other question. Crazy, right? Given the way that class is set up, that&#39;s just how it is I think. Private constructor, no way to inject a mapper or functionality otherwise, so nothing doing it seems. Anyway, thankfully I&#39;m just using this for debug logging. So no biggie really. I&#39;ve been left with the conclusion that Jackson is a large, complicated solution for the large and complicated problem of serializing and deserializing typed structures to and from a format that is the serialization of untyped structures of another language. So it goes I guess?","body":"@SamB. saw that you saw my other question. Crazy, right? Given the way that class is set up, that&#39;s just how it is I think. Private constructor, no way to inject a mapper or functionality otherwise, so nothing doing it seems. Anyway, thankfully I&#39;m just using this for debug logging. So no biggie really. I&#39;ve been left with the conclusion that Jackson is a large, complicated solution for the large and complicated problem of serializing and deserializing typed structures to and from a format that is the serialization of untyped structures of another language. So it goes I guess?"}],"answers":[{"tags":[],"owner":{"account_id":2453232,"reputation":18871,"user_id":2138993,"accept_rate":50,"display_name":"wassgren"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1422786895,"creation_date":1422786895,"answer_id":28261746,"question_id":28256852,"body_markdown":"I am not sure if this is the *simplest* way to go but... You can use the `ObjectMapper` with a custom printer. The `DefaultPrettyPrinter` can be used if you modify the indent behaviour.\r\n\r\n    // Create the mapper\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n    // Setup a pretty printer with an indenter (indenter has 4 spaces in this case)\r\n    DefaultPrettyPrinter.Indenter indenter = \r\n            new DefaultIndenter(&quot;    &quot;, DefaultIndenter.SYS_LF);\r\n    DefaultPrettyPrinter printer = new DefaultPrettyPrinter();\r\n    printer.indentObjectsWith(indenter);\r\n    printer.indentArraysWith(indenter);\r\n\r\n    // Some object to serialize\r\n    Map&lt;String, Object&gt; value = new HashMap&lt;&gt;();\r\n    value.put(&quot;foo&quot;, Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n\r\n    // Serialize it using the custom printer\r\n    String json = mapper.writer(printer).writeValueAsString(value);\r\n\r\n    // Print it\r\n    System.out.println(json);\r\n\r\nThe output will be:\r\n\r\n    {\r\n        &quot;foo&quot; : [\r\n            &quot;a&quot;,\r\n            &quot;b&quot;,\r\n            &quot;c&quot;\r\n        ]\r\n    }\r\n","title":"What is the simplest way to configure the indentation spacing on a Jackson ObjectMapper?","body":"<p>I am not sure if this is the <em>simplest</em> way to go but... You can use the <code>ObjectMapper</code> with a custom printer. The <code>DefaultPrettyPrinter</code> can be used if you modify the indent behaviour.</p>\n\n<pre><code>// Create the mapper\nObjectMapper mapper = new ObjectMapper();\n\n// Setup a pretty printer with an indenter (indenter has 4 spaces in this case)\nDefaultPrettyPrinter.Indenter indenter = \n        new DefaultIndenter(\"    \", DefaultIndenter.SYS_LF);\nDefaultPrettyPrinter printer = new DefaultPrettyPrinter();\nprinter.indentObjectsWith(indenter);\nprinter.indentArraysWith(indenter);\n\n// Some object to serialize\nMap&lt;String, Object&gt; value = new HashMap&lt;&gt;();\nvalue.put(\"foo\", Arrays.asList(\"a\", \"b\", \"c\"));\n\n// Serialize it using the custom printer\nString json = mapper.writer(printer).writeValueAsString(value);\n\n// Print it\nSystem.out.println(json);\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>{\n    \"foo\" : [\n        \"a\",\n        \"b\",\n        \"c\"\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138900,"reputation":13297,"user_id":344143,"accept_rate":89,"display_name":"Ben Mosher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531757099,"creation_date":1531757099,"answer_id":51365965,"question_id":28256852,"body_markdown":"If you intend to write multiple objects, as I did, to get JSON comparison in a JUnit test running in IntelliJ (which has a very nice multiline compare tool):\r\n\r\n    // could likely be simplified to `new ObjectMapper().writer(new DefaultPrettyPrinter())`\r\n    ObjectWriter writer = new ObjectMapper()\r\n            .setDefaultPrettyPrinter(new DefaultPrettyPrinter())\r\n            .writerWithDefaultPrettyPrinter();\r\n            \r\n    try {\r\n        String expected = writer.writeValueAsString(testCase.getThing());\r\n        String actual = writer.writeValueAsString(actual.getThing());\r\n        assertEquals(expected, actual);\r\n    } catch (JsonProcessingException e) {\r\n        fail(&quot;JSON exception: &quot; + e.toString());\r\n    }","title":"What is the simplest way to configure the indentation spacing on a Jackson ObjectMapper?","body":"<p>If you intend to write multiple objects, as I did, to get JSON comparison in a JUnit test running in IntelliJ (which has a very nice multiline compare tool):</p>\n\n<pre><code>// could likely be simplified to `new ObjectMapper().writer(new DefaultPrettyPrinter())`\nObjectWriter writer = new ObjectMapper()\n        .setDefaultPrettyPrinter(new DefaultPrettyPrinter())\n        .writerWithDefaultPrettyPrinter();\n\ntry {\n    String expected = writer.writeValueAsString(testCase.getThing());\n    String actual = writer.writeValueAsString(actual.getThing());\n    assertEquals(expected, actual);\n} catch (JsonProcessingException e) {\n    fail(\"JSON exception: \" + e.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4155440,"reputation":416,"user_id":3406878,"display_name":"Ben Tayaa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1612977678,"creation_date":1612977365,"answer_id":66141714,"question_id":28256852,"body_markdown":"it very simple to do that, you don&#39;t need to implement any interface/Abstract Class.\r\nCreate only a new printer and use it as argument of mapper writer : \r\n\r\n        ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\r\n\t\tDefaultPrettyPrinter printer = new DefaultPrettyPrinter().withObjectIndenter(new DefaultIndenter(&quot;    &quot;, &quot;\\n&quot;));\r\n\t\tString json = mapper.writer(printer).writeValueAsString(result);","title":"What is the simplest way to configure the indentation spacing on a Jackson ObjectMapper?","body":"<p>it very simple to do that, you don't need to implement any interface/Abstract Class.\nCreate only a new printer and use it as argument of mapper writer :</p>\n<pre><code>    ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\n    DefaultPrettyPrinter printer = new DefaultPrettyPrinter().withObjectIndenter(new DefaultIndenter(&quot;    &quot;, &quot;\\n&quot;));\n    String json = mapper.writer(printer).writeValueAsString(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1155809,"reputation":121,"user_id":1136452,"display_name":"user1136452"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636650205,"creation_date":1636650205,"answer_id":69932178,"question_id":28256852,"body_markdown":"Based on very helpful @wassgren answer, and to answer to @Kervvv question too, I give you my answer to this problem:\r\n\r\nI improve a bit the solution to meet my requirements\r\n\r\n 1. no space, after the field name\r\n 2. no space between square bracket for empty array\r\n\r\n\r\nYou need Jackson 2.9 at least\r\n\r\n    public class MyPrettyPrinter extends DefaultPrettyPrinter {\r\n    \r\n      public MyPrettyPrinter() {\r\n        DefaultPrettyPrinter.Indenter indenter = new DefaultIndenter(&quot;    &quot;, System.getProperty(&quot;line.separator&quot;));\r\n        indentObjectsWith(indenter);\r\n        indentArraysWith(indenter);\r\n        _objectFieldValueSeparatorWithSpaces = &quot;: &quot;;\r\n      }\r\n    \r\n      private MyPrettyPrinter(MyPrettyPrinter pp) {\r\n        super(pp);\r\n      }\r\n    \r\n      @Override\r\n      public void writeEndArray(JsonGenerator g, int nrOfValues) throws IOException {\r\n        if (!_arrayIndenter.isInline()) {\r\n          --_nesting;\r\n        }\r\n        if (nrOfValues &gt; 0) {\r\n          _arrayIndenter.writeIndentation(g, _nesting);\r\n        }\r\n        g.writeRaw(&#39;]&#39;);\r\n      }\r\n    \r\n      @Override\r\n      public DefaultPrettyPrinter createInstance() {\r\n        return new MyPrettyPrinter(this);\r\n      }\r\n    }\r\n\r\n\r\nAnd usage\r\n\r\n    mapper.writer(new MyPrettyPrinter()).writeValueAsString(value);\r\n    ","title":"What is the simplest way to configure the indentation spacing on a Jackson ObjectMapper?","body":"<p>Based on very helpful @wassgren answer, and to answer to @Kervvv question too, I give you my answer to this problem:</p>\n<p>I improve a bit the solution to meet my requirements</p>\n<ol>\n<li>no space, after the field name</li>\n<li>no space between square bracket for empty array</li>\n</ol>\n<p>You need Jackson 2.9 at least</p>\n<pre><code>public class MyPrettyPrinter extends DefaultPrettyPrinter {\n\n  public MyPrettyPrinter() {\n    DefaultPrettyPrinter.Indenter indenter = new DefaultIndenter(&quot;    &quot;, System.getProperty(&quot;line.separator&quot;));\n    indentObjectsWith(indenter);\n    indentArraysWith(indenter);\n    _objectFieldValueSeparatorWithSpaces = &quot;: &quot;;\n  }\n\n  private MyPrettyPrinter(MyPrettyPrinter pp) {\n    super(pp);\n  }\n\n  @Override\n  public void writeEndArray(JsonGenerator g, int nrOfValues) throws IOException {\n    if (!_arrayIndenter.isInline()) {\n      --_nesting;\n    }\n    if (nrOfValues &gt; 0) {\n      _arrayIndenter.writeIndentation(g, _nesting);\n    }\n    g.writeRaw(']');\n  }\n\n  @Override\n  public DefaultPrettyPrinter createInstance() {\n    return new MyPrettyPrinter(this);\n  }\n}\n</code></pre>\n<p>And usage</p>\n<pre><code>mapper.writer(new MyPrettyPrinter()).writeValueAsString(value);\n</code></pre>\n"}],"owner":{"account_id":385056,"reputation":36653,"user_id":741970,"accept_rate":61,"display_name":"Dmitry Minkovsky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17267,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":28261746,"answer_count":4,"score":32,"last_activity_date":1636650205,"creation_date":1422740576,"question_id":28256852,"body_markdown":"I&#39;m really struggling with the degree of complexity I am perceiving in solving this problem. As the title says: **What is a simple way to create a Jackson `ObjectMapper` with a 4-space `PrettyPrinter`?** \r\n\r\nBonus points: How can I **modify an existing** `ObjectMapper` to make it pretty print 4 spaces?\r\n\r\nThrough my research, I&#39;ve found that the simplest way is to enable pretty printing generally is to set `INDENT_OUTPUT` on the mapper:\r\n\r\n    objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\nHowever, this only enables the the `DefaultPrettyPrinter`, which has 2 spaces of indentation. I would like 4. To do this, it seems like I have to construct my own `ObjectMapper`, providing a `JsonFactory` with a `JsonGenerator` that has a `PrettyPrinter` that does 4 spaces. This is way too intense for something that is so so so simple on other platforms. Please tell me there is a simpler way.","title":"What is the simplest way to configure the indentation spacing on a Jackson ObjectMapper?","body":"<p>I'm really struggling with the degree of complexity I am perceiving in solving this problem. As the title says: <strong>What is a simple way to create a Jackson <code>ObjectMapper</code> with a 4-space <code>PrettyPrinter</code>?</strong> </p>\n\n<p>Bonus points: How can I <strong>modify an existing</strong> <code>ObjectMapper</code> to make it pretty print 4 spaces?</p>\n\n<p>Through my research, I've found that the simplest way is to enable pretty printing generally is to set <code>INDENT_OUTPUT</code> on the mapper:</p>\n\n<pre><code>objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n</code></pre>\n\n<p>However, this only enables the the <code>DefaultPrettyPrinter</code>, which has 2 spaces of indentation. I would like 4. To do this, it seems like I have to construct my own <code>ObjectMapper</code>, providing a <code>JsonFactory</code> with a <code>JsonGenerator</code> that has a <code>PrettyPrinter</code> that does 4 spaces. This is way too intense for something that is so so so simple on other platforms. Please tell me there is a simpler way.</p>\n"},{"tags":["java","spring","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636650165,"creation_date":1636650165,"answer_id":69932170,"question_id":69931630,"body_markdown":"Spring Data Elasticsearch does not support that in the `Criteria` classes as there is no Elasticsearch search available that processes uses regular expressions.","title":"How to use regex in Spring data elasticsearch Criteria?","body":"<p>Spring Data Elasticsearch does not support that in the <code>Criteria</code> classes as there is no Elasticsearch search available that processes uses regular expressions.</p>\n"}],"owner":{"account_id":8883070,"reputation":31,"user_id":7804110,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636650165,"creation_date":1636647661,"question_id":69931630,"body_markdown":"I have to build complex request to elastic search, using spring.\r\n\r\nFilter looks like: \r\n\r\n```\r\nfield1 equals string1 \r\nAND\r\nfield2 equals string2\r\nAND\r\n(field3 matches regex3 OR field4 matches regex4)\r\n```\r\n\r\nIm trying to use class Criteria to build this request, but I cannot find examples how to use regex in it.\r\n\r\nIm new in elasticsearch, so if you know another practice how to get data with this filter, please tell me :)","title":"How to use regex in Spring data elasticsearch Criteria?","body":"<p>I have to build complex request to elastic search, using spring.</p>\n<p>Filter looks like:</p>\n<pre><code>field1 equals string1 \nAND\nfield2 equals string2\nAND\n(field3 matches regex3 OR field4 matches regex4)\n</code></pre>\n<p>Im trying to use class Criteria to build this request, but I cannot find examples how to use regex in it.</p>\n<p>Im new in elasticsearch, so if you know another practice how to get data with this filter, please tell me :)</p>\n"},{"tags":["java","pdfbox","truetype","pdf-form","acrofields"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1636469488,"post_id":69899705,"comment_id":123561874,"body_markdown":"I think you also need to call setDefaultAppearance so that it uses the new (not subsetted) font. See the `CreateSimpleFormWithEmbeddedFont.java` example. Note that the font name is not &quot;Oswald-Regular&quot;, it&#39;s what you get back from resources.add(). (not resources.put())","body":"I think you also need to call setDefaultAppearance so that it uses the new (not subsetted) font. See the <code>CreateSimpleFormWithEmbeddedFont.java</code> example. Note that the font name is not &quot;Oswald-Regular&quot;, it&#39;s what you get back from resources.add(). (not resources.put())"},{"owner":{"account_id":13229986,"reputation":167,"user_id":9553927,"display_name":"S. Kostadinov"},"score":0,"creation_date":1636540900,"post_id":69899705,"comment_id":123582503,"body_markdown":"@TilmanHausherr Checked out the `CreateSimpleFormWithEmbeddedFont.java` file and applied everything. Still no success. The output is gibberish. I also get `WARNING: Using fallback font LiberationSans for CID-keyed TrueType font Oswald-Regular`. Here is the code: https://pastebin.com/51huv5Jm","body":"@TilmanHausherr Checked out the <code>CreateSimpleFormWithEmbeddedFont.java</code> file and applied everything. Still no success. The output is gibberish. I also get <code>WARNING: Using fallback font LiberationSans for CID-keyed TrueType font Oswald-Regular</code>. Here is the code: <a href=\"https://pastebin.com/51huv5Jm\" rel=\"nofollow noreferrer\">pastebin.com/51huv5Jm</a>"},{"owner":{"account_id":13229986,"reputation":167,"user_id":9553927,"display_name":"S. Kostadinov"},"score":0,"creation_date":1636628443,"post_id":69899705,"comment_id":123610403,"body_markdown":"@TilmanHausherr published the project on GitHub. Here is the link: https://github.com/stoyanK7/pdfbox-stackoverflow-question","body":"@TilmanHausherr published the project on GitHub. Here is the link: <a href=\"https://github.com/stoyanK7/pdfbox-stackoverflow-question\" rel=\"nofollow noreferrer\">github.com/stoyanK7/pdfbox-stackoverflow-question</a>"}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636649791,"creation_date":1636649791,"answer_id":69932075,"question_id":69899705,"body_markdown":"Your file doesn&#39;t have correct appearance streams for the fields, this is a bug from the software that created the PDF. Call `pDAcroForm.refreshAppearances();` as early as possible.\r\n\r\nThe code in pastebin is fine (it is based on `CreateSimpleFormWithEmbeddedFont.java` example), except that you should keep the default resources and not start with empty resources. So your code should look like this:\r\n\r\n    pDAcroForm.refreshAppearances();\r\n    \r\n    PDType0Font formFont = PDType0Font.load(pDDocument, ...input stream..., false);\r\n\r\n    PDResources resources = pDAcroForm.getDefaultResources();\r\n    if (resources == null)\r\n    {\r\n        resources = new PDResources();\r\n        pDAcroForm.setDefaultResources(resources);\r\n    }\r\n    \r\n    final String fontName = resources.add(formFont).getName();\r\n\r\n    // Acrobat sets the font size on the form level to be\r\n    // auto sized as default. This is done by setting the font size to &#39;0&#39;\r\n    String defaultAppearanceString = &quot;/&quot; + fontName + &quot; 0 Tf 0 g&quot;;\r\n\r\n    PDTextField field = (PDTextField) (pDAcroForm.getField(&quot;tbxTotal&quot;));\r\n    field.setDefaultAppearance(defaultAppearanceString);\r\n    field.setValue(&quot;Total: 192.00&quot;);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HDGhU.png","title":"How to use TTF font with PDFBox AcroForm and then flatten document?","body":"<p>Your file doesn't have correct appearance streams for the fields, this is a bug from the software that created the PDF. Call <code>pDAcroForm.refreshAppearances();</code> as early as possible.</p>\n<p>The code in pastebin is fine (it is based on <code>CreateSimpleFormWithEmbeddedFont.java</code> example), except that you should keep the default resources and not start with empty resources. So your code should look like this:</p>\n<pre><code>pDAcroForm.refreshAppearances();\n\nPDType0Font formFont = PDType0Font.load(pDDocument, ...input stream..., false);\n\nPDResources resources = pDAcroForm.getDefaultResources();\nif (resources == null)\n{\n    resources = new PDResources();\n    pDAcroForm.setDefaultResources(resources);\n}\n\nfinal String fontName = resources.add(formFont).getName();\n\n// Acrobat sets the font size on the form level to be\n// auto sized as default. This is done by setting the font size to '0'\nString defaultAppearanceString = &quot;/&quot; + fontName + &quot; 0 Tf 0 g&quot;;\n\nPDTextField field = (PDTextField) (pDAcroForm.getField(&quot;tbxTotal&quot;));\nfield.setDefaultAppearance(defaultAppearanceString);\nfield.setValue(&quot;Total: 192.00&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HDGhU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HDGhU.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13229986,"reputation":167,"user_id":9553927,"display_name":"S. Kostadinov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636649811,"creation_date":1636467303,"question_id":69899705,"body_markdown":"I have been trying to make a fillable PDF file with LibreOffice Writer 7.2.2.2. Here is how the document looks like:\r\n[![enter image description here][1]][1]\r\nAll fields right of the vertical lines are form textboxes, each one having its own name(tbxOrderId, tbxFullName...). Each textbox uses **SF Pro Text Light** as font. Only the one on the bottom right(tbxTotal) - ```Total 123.00``` has **Oswald Regular**. The document looks alright when I fill these fields with LibreOffice Writer.\r\n\r\nBelow this are my export settings. I chose ```Archive PDF A-2b``` in order to embed the fonts into the document.\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHere is the output when I run ```pdffonts``` to the exported PDF file.\r\n[![enter image description here][3]][3]\r\n\r\nHowever, when I run the following code which just changes the values of ```tbxOrderId``` and ```tbxTotal```, the output PDF document is missing these fonts.\r\n```\r\npublic class Start {\r\n    public static void main(String[] args) {\r\n        try {\r\n            PDDocument pDDocument = PDDocument.load(new File(&quot;/media/stoyank/Elements/Java/tmp/Receipt.pdf&quot;));\r\n            PDAcroForm pDAcroForm = pDDocument.getDocumentCatalog().getAcroForm();\r\n\r\n            PDField field = pDAcroForm.getField(&quot;tbxOrderId&quot;);\r\n            field.setValue(&quot;192753&quot;);\r\n            field = pDAcroForm.getField(&quot;tbxTotal&quot;);\r\n            field.setValue(&quot;Total: 192.00&quot;);\r\n\r\n            pDAcroForm.flatten();\r\n            pDDocument.save(&quot;/media/stoyank/Elements/Java/tmp/output.pdf&quot;);\r\n            pDDocument.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThis is how the output document looks like:\r\n[![enter image description here][4]][4]\r\n\r\nI tried to add the font manually by referring to [this Stackoverflow question][5], but still no success:\r\n```\r\nPDDocument pDDocument = PDDocument.load(new File(&quot;/media/stoyank/Elements/Java/tmp/Receipt.pdf&quot;));\r\nPDAcroForm pDAcroForm = pDDocument.getDocumentCatalog().getAcroForm();\r\n\r\nInputStream font_file = ClassLoader.getSystemResourceAsStream(&quot;Oswald-Regular.ttf&quot;);\r\nPDType0Font font = PDType0Font.load(pDDocument, font_file, false);\r\nif (font_file != null) font_file.close();\r\n\r\nPDResources resources = pDAcroForm.getDefaultResources();\r\nif (resources == null) resources = new PDResources();\r\n\r\nresources.put(COSName.getPDFName(&quot;Oswald-Regular&quot;), font);\r\npDAcroForm.setDefaultResources(resources);\r\npDAcroForm.refreshAppearances();\r\n\r\nPDField field = pDAcroForm.getField(&quot;tbxOrderId&quot;);\r\nfield.setValue(&quot;192753&quot;);\r\nfield = pDAcroForm.getField(&quot;tbxTotal&quot;);\r\nfield.setValue(&quot;Total: 192.00&quot;);\r\n\r\npDAcroForm.flatten();\r\npDDocument.save(&quot;/media/stoyank/Elements/Java/tmp/output.pdf&quot;);\r\npDDocument.close();\r\n```\r\nAfter I write into these textbox fields, I want to flatten the document.\r\n\r\nHere is my folder structure:\r\n\r\n[![enter image description here][6]][6]\r\n\r\n**System: Ubuntu 20.04**\r\n\r\nAlso, [here is a link][7] to the ODT file that I then export to a PDF and the exported PDF.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SjtLU.png\r\n  [2]: https://i.stack.imgur.com/F18zN.png\r\n  [3]: https://i.stack.imgur.com/ZeLxJ.png\r\n  [4]: https://i.stack.imgur.com/TVadj.png\r\n  [5]: https://stackoverflow.com/questions/65701597/added-font-not-loading-correct-pdfbox-for-acroform\r\n  [6]: https://i.stack.imgur.com/e7Yzc.png\r\n  [7]: https://www.transfernow.net/dl/20211109Oz7JYZ2p","title":"How to use TTF font with PDFBox AcroForm and then flatten document?","body":"<p>I have been trying to make a fillable PDF file with LibreOffice Writer 7.2.2.2. Here is how the document looks like:\n<a href=\"https://i.stack.imgur.com/SjtLU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SjtLU.png\" alt=\"enter image description here\" /></a>\nAll fields right of the vertical lines are form textboxes, each one having its own name(tbxOrderId, tbxFullName...). Each textbox uses <strong>SF Pro Text Light</strong> as font. Only the one on the bottom right(tbxTotal) - <code>Total 123.00</code> has <strong>Oswald Regular</strong>. The document looks alright when I fill these fields with LibreOffice Writer.</p>\n<p>Below this are my export settings. I chose <code>Archive PDF A-2b</code> in order to embed the fonts into the document.\n<a href=\"https://i.stack.imgur.com/F18zN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F18zN.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the output when I run <code>pdffonts</code> to the exported PDF file.\n<a href=\"https://i.stack.imgur.com/ZeLxJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZeLxJ.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I run the following code which just changes the values of <code>tbxOrderId</code> and <code>tbxTotal</code>, the output PDF document is missing these fonts.</p>\n<pre><code>public class Start {\n    public static void main(String[] args) {\n        try {\n            PDDocument pDDocument = PDDocument.load(new File(&quot;/media/stoyank/Elements/Java/tmp/Receipt.pdf&quot;));\n            PDAcroForm pDAcroForm = pDDocument.getDocumentCatalog().getAcroForm();\n\n            PDField field = pDAcroForm.getField(&quot;tbxOrderId&quot;);\n            field.setValue(&quot;192753&quot;);\n            field = pDAcroForm.getField(&quot;tbxTotal&quot;);\n            field.setValue(&quot;Total: 192.00&quot;);\n\n            pDAcroForm.flatten();\n            pDDocument.save(&quot;/media/stoyank/Elements/Java/tmp/output.pdf&quot;);\n            pDDocument.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is how the output document looks like:\n<a href=\"https://i.stack.imgur.com/TVadj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TVadj.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to add the font manually by referring to <a href=\"https://stackoverflow.com/questions/65701597/added-font-not-loading-correct-pdfbox-for-acroform\">this Stackoverflow question</a>, but still no success:</p>\n<pre><code>PDDocument pDDocument = PDDocument.load(new File(&quot;/media/stoyank/Elements/Java/tmp/Receipt.pdf&quot;));\nPDAcroForm pDAcroForm = pDDocument.getDocumentCatalog().getAcroForm();\n\nInputStream font_file = ClassLoader.getSystemResourceAsStream(&quot;Oswald-Regular.ttf&quot;);\nPDType0Font font = PDType0Font.load(pDDocument, font_file, false);\nif (font_file != null) font_file.close();\n\nPDResources resources = pDAcroForm.getDefaultResources();\nif (resources == null) resources = new PDResources();\n\nresources.put(COSName.getPDFName(&quot;Oswald-Regular&quot;), font);\npDAcroForm.setDefaultResources(resources);\npDAcroForm.refreshAppearances();\n\nPDField field = pDAcroForm.getField(&quot;tbxOrderId&quot;);\nfield.setValue(&quot;192753&quot;);\nfield = pDAcroForm.getField(&quot;tbxTotal&quot;);\nfield.setValue(&quot;Total: 192.00&quot;);\n\npDAcroForm.flatten();\npDDocument.save(&quot;/media/stoyank/Elements/Java/tmp/output.pdf&quot;);\npDDocument.close();\n</code></pre>\n<p>After I write into these textbox fields, I want to flatten the document.</p>\n<p>Here is my folder structure:</p>\n<p><a href=\"https://i.stack.imgur.com/e7Yzc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e7Yzc.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>System: Ubuntu 20.04</strong></p>\n<p>Also, <a href=\"https://www.transfernow.net/dl/20211109Oz7JYZ2p\" rel=\"nofollow noreferrer\">here is a link</a> to the ODT file that I then export to a PDF and the exported PDF.</p>\n"},{"tags":["java","apache-tomee"],"comments":[{"owner":{"account_id":13081129,"reputation":758,"user_id":9451651,"display_name":"Guts"},"score":0,"creation_date":1636646370,"post_id":69930592,"comment_id":123618074,"body_markdown":"What exact version of TomEE are you using?","body":"What exact version of TomEE are you using?"},{"owner":{"account_id":8484212,"reputation":39,"user_id":6363000,"display_name":"Diogo Salazar"},"score":0,"creation_date":1636648920,"post_id":69930592,"comment_id":123619105,"body_markdown":"apache-tomee-plume-8.0.8","body":"apache-tomee-plume-8.0.8"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636649600,"creation_date":1636649600,"answer_id":69932035,"question_id":69930592,"body_markdown":"The problem has nothing to do with Java being unable to read your Java 17-compiled classes. Looking at the stack trace, the problem is that `org.apache.xbean.asm9.ClassReader` is unable to read your class file. This particular ClassReader is one that TomEE uses to load your application. It is not surprising that TomEE can&#39;t read Java 17 applications, since the last release was in August, before Java 17 came out. It was itself compiled using an older version of Java. Hopefully a future version of TomEE will fix this issue.","title":"Unsupported class file major version 61 with TomEE 8","body":"<p>The problem has nothing to do with Java being unable to read your Java 17-compiled classes. Looking at the stack trace, the problem is that <code>org.apache.xbean.asm9.ClassReader</code> is unable to read your class file. This particular ClassReader is one that TomEE uses to load your application. It is not surprising that TomEE can't read Java 17 applications, since the last release was in August, before Java 17 came out. It was itself compiled using an older version of Java. Hopefully a future version of TomEE will fix this issue.</p>\n"}],"owner":{"account_id":8484212,"reputation":39,"user_id":6363000,"display_name":"Diogo Salazar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4296,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69932035,"answer_count":1,"score":2,"last_activity_date":1636649600,"creation_date":1636643354,"question_id":69930592,"body_markdown":"Tried to follow the answers to other similar questions [here][1], unfortunately, to no avail. We are upgrading our application from JAVA 7 to JAVA 17. The code compiles just fine, the problem is when we try to run the .war file on apache-tomee-plume-8.0.8.\r\nJAVA_HOME is set properly:\r\n[JAVA_HOME][2]\r\n\r\n\r\nAs well as path:\r\n[PATH][3]\r\n\r\nHere is the log error message:\r\n\r\n    Caused by: java.lang.RuntimeException: Unable to read class definition for com.ui.AccountListLight$SubListDataModel\r\n\r\n\t\tat org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1180)\r\n\r\n\t\tat org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:153)\r\n\r\n\t\tat org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:166)\r\n\r\n\t\tat org.apache.openejb.config.FinderFactory$OpenEJBAnnotationFinder.&lt;init&gt;(FinderFactory.java:546)\r\n\r\n\t\tat org.apache.openejb.config.FinderFactory.newFinder(FinderFactory.java:267)\r\n\r\n\t\tat org.apache.openejb.config.FinderFactory.create(FinderFactory.java:80)\r\n\r\n\t\tat org.apache.openejb.config.FinderFactory.createFinder(FinderFactory.java:69)\r\n\r\n\t\tat org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:878)\r\n\r\n\t\t... 46 more\r\n\r\n\tCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\r\n\t\tat org.apache.xbean.asm9.ClassReader.&lt;init&gt;(ClassReader.java:189)\r\n\r\n\t\tat org.apache.xbean.asm9.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n\r\n\t\tat org.apache.xbean.asm9.ClassReader.&lt;init&gt;(ClassReader.java:156)\r\n\r\n\t\tat org.apache.xbean.asm9.ClassReader.&lt;init&gt;(ClassReader.java:277)\r\n\r\n\t\tat org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1176)\r\n\r\nYes, I understand that the issue is that I compiled on JAVA 17 and somehow TomEE is trying to run it on an older version (probably JAVA 7 as that was what I had installed before), but considering I removed all JRE/JDK stuff for JAVA 7 on my machine and all there is in it is JAVA 17, how does it keep happening? Thank you for your time.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\r\n  [2]: https://i.stack.imgur.com/xKUjh.png\r\n  [3]: https://i.stack.imgur.com/6QHje.png","title":"Unsupported class file major version 61 with TomEE 8","body":"<p>Tried to follow the answers to other similar questions <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\">here</a>, unfortunately, to no avail. We are upgrading our application from JAVA 7 to JAVA 17. The code compiles just fine, the problem is when we try to run the .war file on apache-tomee-plume-8.0.8.\nJAVA_HOME is set properly:\n<a href=\"https://i.stack.imgur.com/xKUjh.png\" rel=\"nofollow noreferrer\">JAVA_HOME</a></p>\n<p>As well as path:\n<a href=\"https://i.stack.imgur.com/6QHje.png\" rel=\"nofollow noreferrer\">PATH</a></p>\n<p>Here is the log error message:</p>\n<pre><code>Caused by: java.lang.RuntimeException: Unable to read class definition for com.ui.AccountListLight$SubListDataModel\n\n    at org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1180)\n\n    at org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:153)\n\n    at org.apache.xbean.finder.AnnotationFinder.&lt;init&gt;(AnnotationFinder.java:166)\n\n    at org.apache.openejb.config.FinderFactory$OpenEJBAnnotationFinder.&lt;init&gt;(FinderFactory.java:546)\n\n    at org.apache.openejb.config.FinderFactory.newFinder(FinderFactory.java:267)\n\n    at org.apache.openejb.config.FinderFactory.create(FinderFactory.java:80)\n\n    at org.apache.openejb.config.FinderFactory.createFinder(FinderFactory.java:69)\n\n    at org.apache.openejb.config.DeploymentLoader.addWebModule(DeploymentLoader.java:878)\n\n    ... 46 more\n\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n\n    at org.apache.xbean.asm9.ClassReader.&lt;init&gt;(ClassReader.java:189)\n\n    at org.apache.xbean.asm9.ClassReader.&lt;init&gt;(ClassReader.java:170)\n\n    at org.apache.xbean.asm9.ClassReader.&lt;init&gt;(ClassReader.java:156)\n\n    at org.apache.xbean.asm9.ClassReader.&lt;init&gt;(ClassReader.java:277)\n\n    at org.apache.xbean.finder.AnnotationFinder.readClassDef(AnnotationFinder.java:1176)\n</code></pre>\n<p>Yes, I understand that the issue is that I compiled on JAVA 17 and somehow TomEE is trying to run it on an older version (probably JAVA 7 as that was what I had installed before), but considering I removed all JRE/JDK stuff for JAVA 7 on my machine and all there is in it is JAVA 17, how does it keep happening? Thank you for your time.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-cloud-gateway"],"owner":{"account_id":17661004,"reputation":55,"user_id":12819467,"display_name":"David Gallego"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1636649262,"creation_date":1636649262,"question_id":69931966,"body_markdown":"Sup, guys.\r\n\r\ni&#39;m making a demo project for studying some concepts of spring (cloud-gateway + security), then i was looking for some documents where they explain how is the priority order for each filter, sadly i have only found authorization server + gateway pattern docs.\r\n\r\nAccording to the Spring-cloud-gateway(SCG) [doc][1], we have some different filters applied to diferent moments of a single request (like pre/post, and specific for paths &lt;FilterName&gt;GatewayFilterFactory, etc)\r\n\r\nbut, how is this affected when Spring-Security is in SCG?\r\n\r\ndoes spring [security filter chain][2] have priority over the filters that we define in the gateway?\r\n\r\nwhat are the differences between GatewayFilter, OrderedGatewayFilter, GlobalFilter, and WebFilter interfaces?\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-gateway/reference/html/#gateway-how-it-works\r\n  [2]: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#explicit-webflux-security-configuration","title":"How the order of spring filters in Spring Cloud Gateway with Spring SecurityWebFilterChain works?","body":"<p>Sup, guys.</p>\n<p>i'm making a demo project for studying some concepts of spring (cloud-gateway + security), then i was looking for some documents where they explain how is the priority order for each filter, sadly i have only found authorization server + gateway pattern docs.</p>\n<p>According to the Spring-cloud-gateway(SCG) <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#gateway-how-it-works\" rel=\"nofollow noreferrer\">doc</a>, we have some different filters applied to diferent moments of a single request (like pre/post, and specific for paths GatewayFilterFactory, etc)</p>\n<p>but, how is this affected when Spring-Security is in SCG?</p>\n<p>does spring <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#explicit-webflux-security-configuration\" rel=\"nofollow noreferrer\">security filter chain</a> have priority over the filters that we define in the gateway?</p>\n<p>what are the differences between GatewayFilter, OrderedGatewayFilter, GlobalFilter, and WebFilter interfaces?</p>\n"},{"tags":["java","sql","unit-testing","junit","h2"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636649248,"creation_date":1636596235,"answer_id":69922391,"question_id":69916590,"body_markdown":"Things would have been easy with a Spring Boot project. In your case, you have many strategies:\r\n\r\n 1. Configure a [H2][1] database. You can initialize your database with the creation of a schema and insertion of data in a `setUp` method with the `@BeforeEach` annotation.\r\n 2. You can use a dedicated framework like [DbUnit][2].\r\n 3. You will have to initialize your `dbConnection` also in a `setUp` method in your unit test.\r\n\r\n  [1]: https://www.tutorialspoint.com/h2_database/index.htm\r\n  [2]: https://stackoverflow.com/questions/3772093/how-to-do-database-unit-testing","title":"JUnit test for a method that contains SQL queries","body":"<p>Things would have been easy with a Spring Boot project. In your case, you have many strategies:</p>\n<ol>\n<li>Configure a <a href=\"https://www.tutorialspoint.com/h2_database/index.htm\" rel=\"nofollow noreferrer\">H2</a> database. You can initialize your database with the creation of a schema and insertion of data in a <code>setUp</code> method with the <code>@BeforeEach</code> annotation.</li>\n<li>You can use a dedicated framework like <a href=\"https://stackoverflow.com/questions/3772093/how-to-do-database-unit-testing\">DbUnit</a>.</li>\n<li>You will have to initialize your <code>dbConnection</code> also in a <code>setUp</code> method in your unit test.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":792027,"reputation":2645,"user_id":869368,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636618662,"creation_date":1636618662,"answer_id":69925088,"question_id":69916590,"body_markdown":"I would suggest to see if you can start with autmoating the build. That is either by introducing a build tool such as maven or gradle - or if not possible - scipting the build. In any case, your goal should be to get to a point where it&#39;s easy for you to trigger a buil together with tests whenever code changes. \r\n\r\nIf you are not able to produce a consistent build on every change with the guarantee that all unit tests have been run, then there&#39;s really no value in writing unit tests in the first place. That is because otherwise, your tests are going to fail eventually due to code modifications and you wouldn&#39;t notice unless all your tests are automatically run. \r\n\r\nOnce you have that, you might have some hints to how you would like to run unit or integration tests. \r\n\r\nAs you can&#39;t benefit from testing support that many application frameworks provide, you&#39;re basically left on your own for how to configure database testing setup. In that case, I don&#39;t think that an inmemory database is really the best opion, because: \r\n\r\n* It&#39;s a different database technology than what you are normally using, and as the code indicates you are not using an ORM that will take care of different SQL dialects for you. As that&#39;s the case, you might find yourself in a position, where you are unable to accurately test your code  because of SQL dialect differeces. \r\n* You will need to do all the setup of the inmemory DB yourself - which is of course possible, but still it&#39;s a piece of code that you need to maintain and that can also fail. \r\n\r\nThe two alternatives I can think of are: \r\n\r\n* Use Docker to start your actual database technology for every time you run the tests. (that&#39;s also something you have to script for yourself, but it will most likely be a very simple and short command you need to execute) \r\n* have a test database running on your test environment that you use. Every time before you run the tests, esure the database is reset to the original state. (easiest way to do this is to drop the existing schema and restore to the original schema). In this case, you will need to ensure that you don&#39;t run multiple builds in parallell against the same test database.  \r\n\r\nThese suggestions apply only if you have experience on the shell and/or have support from someone in ops. If not, setting up H2 might be easier and more straight forward. ","title":"JUnit test for a method that contains SQL queries","body":"<p>I would suggest to see if you can start with autmoating the build. That is either by introducing a build tool such as maven or gradle - or if not possible - scipting the build. In any case, your goal should be to get to a point where it's easy for you to trigger a buil together with tests whenever code changes.</p>\n<p>If you are not able to produce a consistent build on every change with the guarantee that all unit tests have been run, then there's really no value in writing unit tests in the first place. That is because otherwise, your tests are going to fail eventually due to code modifications and you wouldn't notice unless all your tests are automatically run.</p>\n<p>Once you have that, you might have some hints to how you would like to run unit or integration tests.</p>\n<p>As you can't benefit from testing support that many application frameworks provide, you're basically left on your own for how to configure database testing setup. In that case, I don't think that an inmemory database is really the best opion, because:</p>\n<ul>\n<li>It's a different database technology than what you are normally using, and as the code indicates you are not using an ORM that will take care of different SQL dialects for you. As that's the case, you might find yourself in a position, where you are unable to accurately test your code  because of SQL dialect differeces.</li>\n<li>You will need to do all the setup of the inmemory DB yourself - which is of course possible, but still it's a piece of code that you need to maintain and that can also fail.</li>\n</ul>\n<p>The two alternatives I can think of are:</p>\n<ul>\n<li>Use Docker to start your actual database technology for every time you run the tests. (that's also something you have to script for yourself, but it will most likely be a very simple and short command you need to execute)</li>\n<li>have a test database running on your test environment that you use. Every time before you run the tests, esure the database is reset to the original state. (easiest way to do this is to drop the existing schema and restore to the original schema). In this case, you will need to ensure that you don't run multiple builds in parallell against the same test database.</li>\n</ul>\n<p>These suggestions apply only if you have experience on the shell and/or have support from someone in ops. If not, setting up H2 might be easier and more straight forward.</p>\n"}],"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1689,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1636649248,"creation_date":1636560664,"question_id":69916590,"body_markdown":"I have an old Java project (no frameworks/build tools used) that has a class full of SQL methods and corresponding Bean-classes. The SQL methods mostly use SELECT, INSERT and UPDATE queries like this:\r\n\r\n```java\r\npublic static void sqlUpdateAge(Connection dbConnection, int age, int id) {\r\n\r\n\tPreparedStatement s = null;\r\n\tResultSet r = null;\r\n\r\n\tString sql = &quot;UPDATE person SET age = ? WHERE id = ?&quot;;\r\n\r\n\ttry {\r\n\t\ts = dbConnection.prepareStatement(sql);\r\n\t\ts.setInt(1, age);\r\n        s.setInt(2, id);\r\n\t\ts.addBatch();\r\n\t\ts.executeBatch();\r\n\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t} finally {\r\n\t\ttry {\r\n\t\t\tif (r != null)\r\n\t\t\t\tr.close();\r\n\t\t\tif (s != null)\r\n\t\t\t\ts.close();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nWhat is the best practice in unit testing when it comes to SQL queries? \r\n\r\nThe easiest way I can think of, would be to use my development database; just call the sqlUpdateAge() in the test class, query the database for a result set and assertTrue that the set age is in the result set. However, this would fill up the development database with unnecessary data, and I would like to avoid that.\r\n\r\nIs the solution to create a so-called in-memory database or somehow rollback the changes I made?\r\n\r\nIf I need an in-memory database:\r\n 1. Where and how would I create it? Straight to the test class, or perhaps to a config file?\r\n 2. How do I pass it to the updateAge() method?\r\n\r\n\r\n","title":"JUnit test for a method that contains SQL queries","body":"<p>I have an old Java project (no frameworks/build tools used) that has a class full of SQL methods and corresponding Bean-classes. The SQL methods mostly use SELECT, INSERT and UPDATE queries like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void sqlUpdateAge(Connection dbConnection, int age, int id) {\n\n    PreparedStatement s = null;\n    ResultSet r = null;\n\n    String sql = &quot;UPDATE person SET age = ? WHERE id = ?&quot;;\n\n    try {\n        s = dbConnection.prepareStatement(sql);\n        s.setInt(1, age);\n        s.setInt(2, id);\n        s.addBatch();\n        s.executeBatch();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            if (r != null)\n                r.close();\n            if (s != null)\n                s.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>What is the best practice in unit testing when it comes to SQL queries?</p>\n<p>The easiest way I can think of, would be to use my development database; just call the sqlUpdateAge() in the test class, query the database for a result set and assertTrue that the set age is in the result set. However, this would fill up the development database with unnecessary data, and I would like to avoid that.</p>\n<p>Is the solution to create a so-called in-memory database or somehow rollback the changes I made?</p>\n<p>If I need an in-memory database:</p>\n<ol>\n<li>Where and how would I create it? Straight to the test class, or perhaps to a config file?</li>\n<li>How do I pass it to the updateAge() method?</li>\n</ol>\n"},{"tags":["java","class","classpath"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1636649197,"post_id":69931881,"comment_id":123619199,"body_markdown":"Intellij has a local history.  Maybe restore something from rhat?","body":"Intellij has a local history.  Maybe restore something from rhat?"},{"owner":{"account_id":23136248,"reputation":21,"user_id":17240443,"display_name":"mikegr3pe"},"score":0,"creation_date":1636649257,"post_id":69931881,"comment_id":123619224,"body_markdown":"I rename  the class  and is working now.","body":"I rename  the class  and is working now."}],"owner":{"account_id":23136248,"reputation":21,"user_id":17240443,"display_name":"mikegr3pe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636648851,"creation_date":1636648851,"question_id":69931881,"body_markdown":"I broke my program its working fine but now can&#39;t find class path for one of the classes.I look every where and \r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: UI/ChartsFrame\r\n\r\nI am using InteliJ last time I broke it can&#39;t find class also but I delete some folder and start again.Now I don&#39;t remember what was I deleted before.","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: UI/ChartsFrame","body":"<p>I broke my program its working fine but now can't find class path for one of the classes.I look every where and</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: UI/ChartsFrame</p>\n</blockquote>\n<p>I am using InteliJ last time I broke it can't find class also but I delete some folder and start again.Now I don't remember what was I deleted before.</p>\n"},{"tags":["java","arrays","object","oop","methods"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1636646764,"post_id":69931373,"comment_id":123618231,"body_markdown":"Could you provide the Item class implementation ?","body":"Could you provide the Item class implementation ?"},{"owner":{"display_name":"user17387633"},"score":0,"creation_date":1636647399,"post_id":69931373,"comment_id":123618526,"body_markdown":"I have added it","body":"I have added it"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636648720,"creation_date":1636647122,"answer_id":69931509,"question_id":69931373,"body_markdown":"Yo may iterate on each `Item`, and save the reference to the current one if its price is lower than the previous lower price\r\n\r\n    static Item getItemPrice(Item[] items) {\r\n        double lowerPrice = Double.MAX_VALUE;\r\n        Item lower = null;\r\n        for (Item item : items) {\r\n            double finalPrice = item.itemPrice - item.itemDiscount;\r\n            if (finalPrice &lt; lowerPrice) {\r\n                lowerPrice = finalPrice;\r\n                lower = item;\r\n            }\r\n        }\r\n        return lower;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Item[] items = new Item[]{\r\n                new Item(1, &quot;Item One&quot;, 5, 2),\r\n                new Item(2, &quot;Item Two&quot;, 10, 5)};\r\n        System.out.println(getItemPrice(items)); // Item{id=1, name=&#39;Item One&#39;, price=5, discount=2}\r\n    }\r\n\r\n----\r\n\r\nAdvanced level with `Stream`\r\n\r\n    static Item getItemPrice(Item[] items) {\r\n        return Arrays.stream(items)\r\n                .min(Comparator.comparingDouble(item -&gt; item.itemPrice - item.itemDiscount))\r\n                .orElse(null);\r\n    }\r\n\r\n\r\n---\r\n\r\n\r\nNote that, conventions are lowerCamelCase for variable name, and don&#39;t prefix with the class name, a good class would be\r\n\r\n    class Item {\r\n        int id;\r\n        String name;\r\n        double price;\r\n        double discount;\r\n    \r\n        public Item(int id, String name, double price, double discount) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.price = price;\r\n            this.discount = discount;\r\n        }\r\n    }","title":"How to write a method which will take item array as input and return item with least price (considering discount as well)?","body":"<p>Yo may iterate on each <code>Item</code>, and save the reference to the current one if its price is lower than the previous lower price</p>\n<pre><code>static Item getItemPrice(Item[] items) {\n    double lowerPrice = Double.MAX_VALUE;\n    Item lower = null;\n    for (Item item : items) {\n        double finalPrice = item.itemPrice - item.itemDiscount;\n        if (finalPrice &lt; lowerPrice) {\n            lowerPrice = finalPrice;\n            lower = item;\n        }\n    }\n    return lower;\n}\n\npublic static void main(String[] args) {\n    Item[] items = new Item[]{\n            new Item(1, &quot;Item One&quot;, 5, 2),\n            new Item(2, &quot;Item Two&quot;, 10, 5)};\n    System.out.println(getItemPrice(items)); // Item{id=1, name='Item One', price=5, discount=2}\n}\n</code></pre>\n<hr />\n<p>Advanced level with <code>Stream</code></p>\n<pre><code>static Item getItemPrice(Item[] items) {\n    return Arrays.stream(items)\n            .min(Comparator.comparingDouble(item -&gt; item.itemPrice - item.itemDiscount))\n            .orElse(null);\n}\n</code></pre>\n<hr />\n<p>Note that, conventions are lowerCamelCase for variable name, and don't prefix with the class name, a good class would be</p>\n<pre><code>class Item {\n    int id;\n    String name;\n    double price;\n    double discount;\n\n    public Item(int id, String name, double price, double discount) {\n        this.id = id;\n        this.name = name;\n        this.price = price;\n        this.discount = discount;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17387633"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69931509,"answer_count":1,"score":0,"last_activity_date":1636648720,"creation_date":1636646552,"question_id":69931373,"body_markdown":"I am new to Java, and I am trying to declare another method in this class called ```getItemPrice```, which will take item array as input and return item with least price (considering discount as well).\r\n\r\nSo far, I have declared an array of 2 item objects in main method. \r\n\r\nThis is my main method:\r\n```\r\npublic static void main(String[] args) {\r\n\r\nItem[] Item;\r\n\r\nItem = new Item[2]\r\n\r\nItem[0] = new Item(1, &quot;Item One&quot;, 5, 2);\r\nItem[1] = new Item(2, &quot;Item Two&quot;, 10, 5);\r\n}\r\n```\r\n\r\nAs you can see above, each item array has an id, name, price and discount.\r\n\r\nNow, using these item arrays, I am trying to declare another method in this class called ```getItemPrice```, which will take item array as input and return item with least price (considering discount as well).\r\n\r\nFor example, the method will take in both Item One and Item 2, but will return Item 1 because 5 minus 2 gives 3, which is less than Item 2, which is 10 minus 5, giving 5.\r\n\r\nHence, Item 1 will be returned because it has the least price when adding the discount.\r\n\r\nI am really unsure how to accomplish this, so any help would be appreciated. \r\n\r\nClass Implementation:\r\n```\r\npublic class Item {\r\n\r\nint ItemId;\r\nString itemName;\r\ndouble itemPrice;\r\ndouble itemDiscount;\r\n\r\npublic Item(int ItemId, String itemName, double itemPrice, double itemDiscount) {\r\n\r\nsuper();\r\nthis.ItemId = itemId;\r\nthis.ItemName = itemName;\r\nthis.itemPrice = itemPrice;\r\nthis.itemDiscount = itemDiscount;\r\n}\r\n\r\n// Getters and setters follow after this\r\n}\r\n```","title":"How to write a method which will take item array as input and return item with least price (considering discount as well)?","body":"<p>I am new to Java, and I am trying to declare another method in this class called <code>getItemPrice</code>, which will take item array as input and return item with least price (considering discount as well).</p>\n<p>So far, I have declared an array of 2 item objects in main method.</p>\n<p>This is my main method:</p>\n<pre><code>public static void main(String[] args) {\n\nItem[] Item;\n\nItem = new Item[2]\n\nItem[0] = new Item(1, &quot;Item One&quot;, 5, 2);\nItem[1] = new Item(2, &quot;Item Two&quot;, 10, 5);\n}\n</code></pre>\n<p>As you can see above, each item array has an id, name, price and discount.</p>\n<p>Now, using these item arrays, I am trying to declare another method in this class called <code>getItemPrice</code>, which will take item array as input and return item with least price (considering discount as well).</p>\n<p>For example, the method will take in both Item One and Item 2, but will return Item 1 because 5 minus 2 gives 3, which is less than Item 2, which is 10 minus 5, giving 5.</p>\n<p>Hence, Item 1 will be returned because it has the least price when adding the discount.</p>\n<p>I am really unsure how to accomplish this, so any help would be appreciated.</p>\n<p>Class Implementation:</p>\n<pre><code>public class Item {\n\nint ItemId;\nString itemName;\ndouble itemPrice;\ndouble itemDiscount;\n\npublic Item(int ItemId, String itemName, double itemPrice, double itemDiscount) {\n\nsuper();\nthis.ItemId = itemId;\nthis.ItemName = itemName;\nthis.itemPrice = itemPrice;\nthis.itemDiscount = itemDiscount;\n}\n\n// Getters and setters follow after this\n}\n</code></pre>\n"},{"tags":["java","spring","api","spring-mvc","webclient"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636648321,"creation_date":1636648321,"answer_id":69931775,"question_id":69930728,"body_markdown":"First of all, don&#39;t use `block()` if you really want to take full advantage of using reactive stack. With it you are blocking the thread to wait for a response, don&#39;t do that. You must always handle `Mono` and `Flux` in your code instead. Something along the following lines:\r\n```java\r\npublic Mono&lt;User&gt; getUserByUsername(String username) {\r\n    return webClient.get().uri(uriBuilder -&gt; uriBuilder\r\n            .path(&quot;localhost:8090/user&quot; + &quot;/getByUsername&quot;).queryParam(&quot;username&quot;, username).build())\r\n            .retrieve()\r\n            .bodyToMono(User.class);\r\n}\r\n```\r\n\r\nYou can then specify what you want to do if the response is 4XX or 5XX. Below the example for 5XX:\r\n```java\r\npublic Mono&lt;User&gt; getUserByUsername(String username) {\r\n    return webClient.get().uri(uriBuilder -&gt; uriBuilder\r\n            .path(&quot;localhost:8090/user&quot; + &quot;/getByUsername&quot;).queryParam(&quot;username&quot;, username).build())\r\n            .retrieve()\r\n            .onStatus(HttpStatus::is5xxServerError, response -&gt; Mono.empty())\r\n            .bodyToMono(User.class);\r\n}\r\n```","title":"How i return Empty mono if the request doesn&#39;t return error using webClient","body":"<p>First of all, don't use <code>block()</code> if you really want to take full advantage of using reactive stack. With it you are blocking the thread to wait for a response, don't do that. You must always handle <code>Mono</code> and <code>Flux</code> in your code instead. Something along the following lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;User&gt; getUserByUsername(String username) {\n    return webClient.get().uri(uriBuilder -&gt; uriBuilder\n            .path(&quot;localhost:8090/user&quot; + &quot;/getByUsername&quot;).queryParam(&quot;username&quot;, username).build())\n            .retrieve()\n            .bodyToMono(User.class);\n}\n</code></pre>\n<p>You can then specify what you want to do if the response is 4XX or 5XX. Below the example for 5XX:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;User&gt; getUserByUsername(String username) {\n    return webClient.get().uri(uriBuilder -&gt; uriBuilder\n            .path(&quot;localhost:8090/user&quot; + &quot;/getByUsername&quot;).queryParam(&quot;username&quot;, username).build())\n            .retrieve()\n            .onStatus(HttpStatus::is5xxServerError, response -&gt; Mono.empty())\n            .bodyToMono(User.class);\n}\n</code></pre>\n"}],"owner":{"account_id":19907670,"reputation":163,"user_id":14586357,"display_name":"roberto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2733,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69931775,"answer_count":1,"score":3,"last_activity_date":1636648321,"creation_date":1636643913,"question_id":69930728,"body_markdown":"i want to know how return a **empty Mono** when i use webClient, i have this code and it works when the request return a user. \r\n\r\n```\r\npublic User getUserByUsername(String username) {\r\n\t\t\tMono&lt;User&gt; user = webClient.get().uri(uriBuilder -&gt; uriBuilder\r\n\t\t\t\t\t.path(&quot;localhost:8090/user&quot; + &quot;/getByUsername&quot;).queryParam(&quot;username&quot;, username).build())\r\n\t\t\t\t\t.retrieve()\r\n\t\t\t\t\t.bodyToMono(User.class);\r\n\r\n\t\t\tUser userRet = user.block();\r\n\t\t\treturn userRet;\r\n\t\t\r\n\t}\r\n```","title":"How i return Empty mono if the request doesn&#39;t return error using webClient","body":"<p>i want to know how return a <strong>empty Mono</strong> when i use webClient, i have this code and it works when the request return a user.</p>\n<pre><code>public User getUserByUsername(String username) {\n            Mono&lt;User&gt; user = webClient.get().uri(uriBuilder -&gt; uriBuilder\n                    .path(&quot;localhost:8090/user&quot; + &quot;/getByUsername&quot;).queryParam(&quot;username&quot;, username).build())\n                    .retrieve()\n                    .bodyToMono(User.class);\n\n            User userRet = user.block();\n            return userRet;\n        \n    }\n</code></pre>\n"},{"tags":["java","loops","if-statement"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1636646499,"post_id":69931294,"comment_id":123618134,"body_markdown":"What do you mean &quot;doesn&quot;t work&quot; ?","body":"What do you mean &quot;doesn&quot;t work&quot; ?"},{"owner":{"account_id":23308164,"reputation":1,"user_id":17387817,"display_name":"Jene"},"score":0,"creation_date":1636646746,"post_id":69931294,"comment_id":123618223,"body_markdown":"if the initial value lowestScore is equal to 100, the current score is always going to be less than 100. Therefore the code will always assign the current score as the lowest score, even if it is not.","body":"if the initial value lowestScore is equal to 100, the current score is always going to be less than 100. Therefore the code will always assign the current score as the lowest score, even if it is not."},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1636646829,"post_id":69931294,"comment_id":123618262,"body_markdown":"And how is that a problem ? A lower score is a better score as you said ?","body":"And how is that a problem ? A lower score is a better score as you said ?"},{"owner":{"account_id":23308164,"reputation":1,"user_id":17387817,"display_name":"Jene"},"score":0,"creation_date":1636646926,"post_id":69931294,"comment_id":123618302,"body_markdown":"It is a problem when i start a new game, and that score is higher then the score before, and the code still says &quot;NEW LOW SCORE&quot;","body":"It is a problem when i start a new game, and that score is higher then the score before, and the code still says &quot;NEW LOW SCORE&quot;"},{"owner":{"account_id":18421626,"reputation":307,"user_id":13419106,"display_name":"krishna thota"},"score":0,"creation_date":1636646940,"post_id":69931294,"comment_id":123618307,"body_markdown":"make lowest as zero.","body":"make lowest as zero."},{"owner":{"account_id":23308164,"reputation":1,"user_id":17387817,"display_name":"Jene"},"score":0,"creation_date":1636647054,"post_id":69931294,"comment_id":123618360,"body_markdown":"By making zero, now the code will never go through the if statement, the code will always be &quot;else&quot;","body":"By making zero, now the code will never go through the if statement, the code will always be &quot;else&quot;"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1636647240,"post_id":69931294,"comment_id":123618460,"body_markdown":"Please [edit] your post and explain what sequence of score creates the problem. Because I don&#39;t see any problem","body":"Please <a href=\"https://stackoverflow.com/posts/69931294/edit\">edit</a> your post and explain what sequence of score creates the problem. Because I don&#39;t see any problem"},{"owner":{"account_id":23308164,"reputation":1,"user_id":17387817,"display_name":"Jene"},"score":0,"creation_date":1636647938,"post_id":69931294,"comment_id":123618749,"body_markdown":"I tried all the answers given, and there is still an issue. These do not work. I appreciate your help in this, and will consider just posting the entire code because maybe the score loop should be added somewhere else to prevent this.","body":"I tried all the answers given, and there is still an issue. These do not work. I appreciate your help in this, and will consider just posting the entire code because maybe the score loop should be added somewhere else to prevent this."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1636649336,"post_id":69931294,"comment_id":123619254,"body_markdown":"The provided code does not indicate the scope of `lowestScore`.  This variable is state for the execution of the program so it will need to be an instance or static variable (depending on how this is implemented).  The fact that you have provided no access modifier for it makes me think you have implemented this as a local variable that you may be initializing every time you execute this code.  That is not going to represent a running best score.","body":"The provided code does not indicate the scope of <code>lowestScore</code>.  This variable is state for the execution of the program so it will need to be an instance or static variable (depending on how this is implemented).  The fact that you have provided no access modifier for it makes me think you have implemented this as a local variable that you may be initializing every time you execute this code.  That is not going to represent a running best score."}],"answers":[{"tags":[],"owner":{"account_id":5938469,"reputation":889,"user_id":4670625,"accept_rate":67,"display_name":"David Marciel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636648296,"creation_date":1636647294,"answer_id":69931551,"question_id":69931294,"body_markdown":"You should store the lowest score in a variable you don&#180;t override.\r\n\r\nIf you are using a database this is the place to store it.\r\nIf you are doing an in memory system you should use a place where the value is not constantly overriden.\r\n\r\nIt is not recommended, but in this case, it is possible to use a static variable, so it will be settled on the start up and then won&#180;t override it again each call.\r\n\r\n    static int lowestScore = Integer.MAX_VALUE;\r\n\r\nI suggest you to set the first value to Integer.MAX_VALUE so it won&#180;t need to change in case your maximum changes from 80 to 120 for example.\r\n","title":"How to create a lowscore tracker?","body":"<p>You should store the lowest score in a variable you dont override.</p>\n<p>If you are using a database this is the place to store it.\nIf you are doing an in memory system you should use a place where the value is not constantly overriden.</p>\n<p>It is not recommended, but in this case, it is possible to use a static variable, so it will be settled on the start up and then wont override it again each call.</p>\n<pre><code>static int lowestScore = Integer.MAX_VALUE;\n</code></pre>\n<p>I suggest you to set the first value to Integer.MAX_VALUE so it wont need to change in case your maximum changes from 80 to 120 for example.</p>\n"},{"tags":[],"owner":{"account_id":18421626,"reputation":307,"user_id":13419106,"display_name":"krishna thota"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636647378,"creation_date":1636647378,"answer_id":69931568,"question_id":69931294,"body_markdown":"try this.\r\n\r\n```\r\nint lowestScore = 0;\r\n\r\nif(lowestScore == 0){\r\nlowestScore=currentScore;\r\n}\r\n        if (lowestScore &gt; currentScore) {\r\n\r\n            lowestScore = currentScore;\r\n\r\n            System.out.println(&quot;Score = &quot; + currentScore + &quot;  NEW LOW SCORE!&quot;);\r\n            System.out.println(&quot;Lowest Score = &quot; + lowestScore);\r\n\r\n        }\r\n        else {\r\n            System.out.println(&quot;Score = &quot; + currentScore);\r\n            System.out.println(&quot;Lowest Score = &quot; + lowestScore);\r\n        }\r\n```\r\n\r\nas its a loop of games, when ever the user scores the least that will be stored in lowestScore.","title":"How to create a lowscore tracker?","body":"<p>try this.</p>\n<pre><code>int lowestScore = 0;\n\nif(lowestScore == 0){\nlowestScore=currentScore;\n}\n        if (lowestScore &gt; currentScore) {\n\n            lowestScore = currentScore;\n\n            System.out.println(&quot;Score = &quot; + currentScore + &quot;  NEW LOW SCORE!&quot;);\n            System.out.println(&quot;Lowest Score = &quot; + lowestScore);\n\n        }\n        else {\n            System.out.println(&quot;Score = &quot; + currentScore);\n            System.out.println(&quot;Lowest Score = &quot; + lowestScore);\n        }\n</code></pre>\n<p>as its a loop of games, when ever the user scores the least that will be stored in lowestScore.</p>\n"},{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636647395,"creation_date":1636647395,"answer_id":69931572,"question_id":69931294,"body_markdown":"You should set an initial value that reflect the genesis lowest score: the maximum possible value reflecting that there has been no previous game round:\r\n\r\n    int lowestScore = Integer.MAX_VALUE;\r\n\r\n    if (currentScore &lt; lowestScore) {\r\n        lowestScore = currentScore;\r\n        System.out.println(&quot;Score = &quot; + currentScore + &quot;  NEW LOW SCORE!&quot;);\r\n        System.out.println(&quot;Lowest Score = &quot; + lowestScore);\r\n        \r\n    } else {\r\n        System.out.println(&quot;Score = &quot; + currentScore);\r\n        System.out.println(&quot;Lowest Score = &quot; + lowestScore);\r\n    }","title":"How to create a lowscore tracker?","body":"<p>You should set an initial value that reflect the genesis lowest score: the maximum possible value reflecting that there has been no previous game round:</p>\n<pre><code>int lowestScore = Integer.MAX_VALUE;\n\nif (currentScore &lt; lowestScore) {\n    lowestScore = currentScore;\n    System.out.println(&quot;Score = &quot; + currentScore + &quot;  NEW LOW SCORE!&quot;);\n    System.out.println(&quot;Lowest Score = &quot; + lowestScore);\n    \n} else {\n    System.out.println(&quot;Score = &quot; + currentScore);\n    System.out.println(&quot;Lowest Score = &quot; + lowestScore);\n}\n</code></pre>\n"}],"owner":{"account_id":23308164,"reputation":1,"user_id":17387817,"display_name":"Jene"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1636648296,"creation_date":1636646304,"question_id":69931294,"body_markdown":"I have a code that displays a game where the lowest score is the aim. In my code, the game can replay as many times as I want and is supposed to display the lowest score from all of the game plays. The changing variable is currentScore. It changes once the game is complete. \r\n\r\nThe current score can be between 0 and 80.\r\n\r\nHere is what I&#39;ve come up with that is always returning a &quot;NEW LOW SCORE&quot; when it shouldn&#39;t always be.\r\n\r\n    int lowestScore = 0;\r\n    \r\n    if (currentScore &lt; lowestScore) {\r\n        \r\n        lowestScore = currentScore;\r\n        \r\n        System.out.println(&quot;Score = &quot; + currentScore + &quot;  NEW LOW SCORE!&quot;);\r\n        System.out.println(&quot;Lowest Score = &quot; + lowestScore);\r\n        \r\n    }\r\n    else {\r\n        System.out.println(&quot;Score = &quot; + currentScore);\r\n        System.out.println(&quot;Lowest Score = &quot; + lowestScore);\r\n    }\r\n\r\n\r\nThe output is supposed to show the lowest score value, regardless if it is a new lowest score or not. If it is a new lowest score, it is supposed to show &quot;NEW LOW SCORE&quot; and if not, just the current score and the previous lowest score.\r\n\r\nI understand that this if statement doesn&#39;t work but I am truly stuck. Any ideas?\r\n\r\n\r\n\r\n\r\n\r\nHere is a test case of my issue.\r\n\r\ngame runs and score is 45\r\noutprint:\r\nScore = 45 NEW LOW SCORE!\r\nLowest Score = 45\r\n\r\n\r\nsame sequence and game runs again, score is 78\r\noutprint:\r\nScore = 78 NEW LOW SCORE!\r\nLowest Score = 78\r\n\r\n\r\nThis is incorrect because in this case, this is what the output should look like:\r\n\r\ngame runs and score is 45\r\noutprint:\r\nScore = 45 NEW LOW SCORE!\r\nLowest Score = 45\r\n\r\nsame sequence and game runs again, score is 78\r\noutprint:\r\nScore = 78\r\nLowest Score = 45","title":"How to create a lowscore tracker?","body":"<p>I have a code that displays a game where the lowest score is the aim. In my code, the game can replay as many times as I want and is supposed to display the lowest score from all of the game plays. The changing variable is currentScore. It changes once the game is complete.</p>\n<p>The current score can be between 0 and 80.</p>\n<p>Here is what I've come up with that is always returning a &quot;NEW LOW SCORE&quot; when it shouldn't always be.</p>\n<pre><code>int lowestScore = 0;\n\nif (currentScore &lt; lowestScore) {\n    \n    lowestScore = currentScore;\n    \n    System.out.println(&quot;Score = &quot; + currentScore + &quot;  NEW LOW SCORE!&quot;);\n    System.out.println(&quot;Lowest Score = &quot; + lowestScore);\n    \n}\nelse {\n    System.out.println(&quot;Score = &quot; + currentScore);\n    System.out.println(&quot;Lowest Score = &quot; + lowestScore);\n}\n</code></pre>\n<p>The output is supposed to show the lowest score value, regardless if it is a new lowest score or not. If it is a new lowest score, it is supposed to show &quot;NEW LOW SCORE&quot; and if not, just the current score and the previous lowest score.</p>\n<p>I understand that this if statement doesn't work but I am truly stuck. Any ideas?</p>\n<p>Here is a test case of my issue.</p>\n<p>game runs and score is 45\noutprint:\nScore = 45 NEW LOW SCORE!\nLowest Score = 45</p>\n<p>same sequence and game runs again, score is 78\noutprint:\nScore = 78 NEW LOW SCORE!\nLowest Score = 78</p>\n<p>This is incorrect because in this case, this is what the output should look like:</p>\n<p>game runs and score is 45\noutprint:\nScore = 45 NEW LOW SCORE!\nLowest Score = 45</p>\n<p>same sequence and game runs again, score is 78\noutprint:\nScore = 78\nLowest Score = 45</p>\n"},{"tags":["java","struts2"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636364050,"creation_date":1636363596,"answer_id":69881210,"question_id":69881024,"body_markdown":"You need to send the id of the selected item to the action, otherwise it won&#39;T know what was selected. You could do this in at least 2 ways: \r\n\r\n1) Submit a form instead of using a link and put the id into a hidden form field \r\n\r\nSomething like this (I didn&#39;t use Struts2 in a while so there may be errors):\r\n\r\n    &lt;s:form action=&quot;BuyProduct.action&quot;&gt;\r\n      &lt;s:hidden name=&quot;selectedProduct&quot; value=&quot;%{productId}&quot;/&gt;\r\n      &lt;s:submit/&gt;\r\n    &lt;/s:form&gt;\r\n\r\n2) append the id as a query parameter to the action url, e.g. via the `&lt;s:url&gt;` tag\r\n\r\nExample (same disclaimer as above):\r\n\r\n    &lt;s:url value=&quot;BuyProduct.action&quot; var=&quot;buyUrl&quot;&gt;\r\n       &lt;s:param name=&quot;selectedProduct&quot; value=&quot;%{productId}&quot; /&gt;\r\n    &lt;/s:url&gt;\r\n    &lt;a href=&quot;${buyUrl}&quot;&gt; ... &lt;/a&gt;\r\n","title":"How can I get the id of the table element by clicking on the button with struts2 action","body":"<p>You need to send the id of the selected item to the action, otherwise it won'T know what was selected. You could do this in at least 2 ways:</p>\n<ol>\n<li>Submit a form instead of using a link and put the id into a hidden form field</li>\n</ol>\n<p>Something like this (I didn't use Struts2 in a while so there may be errors):</p>\n<pre><code>&lt;s:form action=&quot;BuyProduct.action&quot;&gt;\n  &lt;s:hidden name=&quot;selectedProduct&quot; value=&quot;%{productId}&quot;/&gt;\n  &lt;s:submit/&gt;\n&lt;/s:form&gt;\n</code></pre>\n<ol start=\"2\">\n<li>append the id as a query parameter to the action url, e.g. via the <code>&lt;s:url&gt;</code> tag</li>\n</ol>\n<p>Example (same disclaimer as above):</p>\n<pre><code>&lt;s:url value=&quot;BuyProduct.action&quot; var=&quot;buyUrl&quot;&gt;\n   &lt;s:param name=&quot;selectedProduct&quot; value=&quot;%{productId}&quot; /&gt;\n&lt;/s:url&gt;\n&lt;a href=&quot;${buyUrl}&quot;&gt; ... &lt;/a&gt;\n</code></pre>\n"}],"owner":{"account_id":23270622,"reputation":3,"user_id":17355524,"display_name":"Jdvlp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69881210,"answer_count":1,"score":0,"last_activity_date":1636648188,"creation_date":1636362660,"question_id":69881024,"body_markdown":"I have a product table whose data is taken from mysql. The button is associated with an action that redirects to a jsp that shows that the product has been purchased. I need this action to create a table where it inserts the id of the customer and the product. My problem is being able to retrieve the id for that product.\r\n\r\n**my action**\r\n\r\n    package it.pwm.wynd.action.customer;\r\n    \r\n    import java.util.Map;\r\n    \r\n    import org.apache.struts2.interceptor.SessionAware;\r\n    \r\n    import com.opensymphony.xwork2.ActionSupport;\r\n    \r\n    import it.pwm.wynd.pojo.customer.Customer;\r\n    import it.pwm.wynd.pojo.order.Order;\r\n    import it.pwm.wynd.pojo.order.OrderDAO;\r\n    import it.pwm.wynd.pojo.order.OrderDAOFactory;\r\n    import it.pwm.wynd.pojo.product.Product;\r\n    import it.pwm.wynd.pojo.product.ProductDAO;\r\n    import it.pwm.wynd.pojo.product.ProductDAOFactory;\r\n    \r\n    public class BuyProduct extends ActionSupport implements SessionAware {\r\n    \r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate Customer customer;\r\n    \tprivate Product Product;\r\n    \tprivate Order order = new Order();\r\n    \tprivate Map&lt;String,Object&gt; session; \r\n    \r\n    \tpublic Customer getCustomer() {\r\n    \t\treturn customer;\r\n    \t}\r\n    \t\r\n    \tpublic void setCustomer(Customer customer) {\r\n    \t\tthis.customer = customer;\r\n    \t}\r\n    \r\n    \tpublic Product getProduct() {\r\n    \t\treturn product;\r\n    \t}\r\n    \t\r\n    \tpublic void setProduct(Product product) {\r\n    \t\tthis.product = product;\r\n    \t}\r\n    \r\n    \tpublic Order getOrder() {\r\n    \t\treturn order;\r\n    \t}\r\n    \t\r\n    \tpublic void setOrder(Order order) {\r\n    \t\tthis.order = order;\r\n    \t}\r\n    \t\r\n    \tpublic Map&lt;String,Object&gt; getSession() {\r\n    \t\treturn session;\r\n    \t}\r\n    \t\r\n    \tpublic void setSession(Map&lt;String,Object&gt; session) {\r\n    \t\tthis.session = session;\r\n    \t}\r\n    \r\n    \tpublic String execute() throws Exception {\r\n    \t\tCustomer customer = (Customer) session.get(&quot;customer&quot;);\r\n    \t\tif(customer != null) {\r\n    \t\t\tSystem.out.println(&quot;customer &quot; + customer.getUsername() + &quot; in session&quot;);\r\n    \t\t}else {\r\n    \t\t\treturn INPUT;\r\n    \t\t}\r\n    \t\tProductDAO productDAO = ProductDAOFactory.getDAO();\r\n    \t\tOrderDAO orderDAO = OrderDAOFactory.getDAO();\r\n    \t\tProduct product = productDAO.getProductById(productId);  // i need this\r\n    \t\torder.setCustomer(customer);\r\n    \t\torder.setProduct(product);\r\n    \t\torderDAO.save(order);\r\n    \t\treturn SUCCESS;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n**my jsp**\r\n\r\n    &lt;table class=&quot;innertube&quot;&gt;\r\n    \t\t\t\t\t&lt;thead&gt;\r\n    \t\t\t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t\t\t&lt;th style=&quot;display: none;&quot;&gt;Id&lt;/th&gt;\r\n    \t\t\t\t\t\t\t&lt;th&gt;Name&lt;/th&gt;\r\n    \t\t\t\t\t\t\t&lt;th&gt;Quantity&lt;/th&gt;\r\n    \t\t\t\t\t\t\t&lt;th&gt;Category&lt;/th&gt;\r\n    \t\t\t\t\t\t\t&lt;th&gt;Price&lt;/th&gt;\r\n    \t\t\t\t\t\t\t&lt;th&gt;&lt;/th&gt;\r\n    \t\t\t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t\t&lt;/thead&gt;\r\n    \t\t\t\t\t&lt;tbody&gt;\r\n    \r\n    \t\t\t\t\t\t&lt;s:iterator value=&quot;list&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t\t\t\t&lt;td style=&quot;display: none;&quot;&gt;&lt;s:property value=&quot;productId&quot; /&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t\t&lt;td&gt;&lt;s:property value=&quot;productName&quot; /&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t\t&lt;td&gt;&lt;s:property value=&quot;quantity&quot; /&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t\t&lt;td&gt;&lt;s:property value=&quot;category&quot; /&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t\t&lt;td&gt;&lt;s:property value=&quot;price&quot; /&gt; &amp;euro;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t\t&lt;td&gt;&lt;a\r\n    \t\t\t\t\t\t\t\t\thref=&quot;BuyProduct.action&quot;&gt;&lt;button\r\n    \t\t\t\t\t\t\t\t\t\t\tclass=&quot;button&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;i class=&quot;fa fa-fw fa-cart-plus&quot;&gt;&lt;/i&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;/button&gt;&lt;/a&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t\t\t&lt;/s:iterator&gt;\r\n    \t\t\t\t&lt;/table&gt;","title":"How can I get the id of the table element by clicking on the button with struts2 action","body":"<p>I have a product table whose data is taken from mysql. The button is associated with an action that redirects to a jsp that shows that the product has been purchased. I need this action to create a table where it inserts the id of the customer and the product. My problem is being able to retrieve the id for that product.</p>\n<p><strong>my action</strong></p>\n<pre><code>package it.pwm.wynd.action.customer;\n\nimport java.util.Map;\n\nimport org.apache.struts2.interceptor.SessionAware;\n\nimport com.opensymphony.xwork2.ActionSupport;\n\nimport it.pwm.wynd.pojo.customer.Customer;\nimport it.pwm.wynd.pojo.order.Order;\nimport it.pwm.wynd.pojo.order.OrderDAO;\nimport it.pwm.wynd.pojo.order.OrderDAOFactory;\nimport it.pwm.wynd.pojo.product.Product;\nimport it.pwm.wynd.pojo.product.ProductDAO;\nimport it.pwm.wynd.pojo.product.ProductDAOFactory;\n\npublic class BuyProduct extends ActionSupport implements SessionAware {\n\n\n    private static final long serialVersionUID = 1L;\n    private Customer customer;\n    private Product Product;\n    private Order order = new Order();\n    private Map&lt;String,Object&gt; session; \n\n    public Customer getCustomer() {\n        return customer;\n    }\n    \n    public void setCustomer(Customer customer) {\n        this.customer = customer;\n    }\n\n    public Product getProduct() {\n        return product;\n    }\n    \n    public void setProduct(Product product) {\n        this.product = product;\n    }\n\n    public Order getOrder() {\n        return order;\n    }\n    \n    public void setOrder(Order order) {\n        this.order = order;\n    }\n    \n    public Map&lt;String,Object&gt; getSession() {\n        return session;\n    }\n    \n    public void setSession(Map&lt;String,Object&gt; session) {\n        this.session = session;\n    }\n\n    public String execute() throws Exception {\n        Customer customer = (Customer) session.get(&quot;customer&quot;);\n        if(customer != null) {\n            System.out.println(&quot;customer &quot; + customer.getUsername() + &quot; in session&quot;);\n        }else {\n            return INPUT;\n        }\n        ProductDAO productDAO = ProductDAOFactory.getDAO();\n        OrderDAO orderDAO = OrderDAOFactory.getDAO();\n        Product product = productDAO.getProductById(productId);  // i need this\n        order.setCustomer(customer);\n        order.setProduct(product);\n        orderDAO.save(order);\n        return SUCCESS;\n    }\n\n\n}\n</code></pre>\n<p><strong>my jsp</strong></p>\n<pre><code>&lt;table class=&quot;innertube&quot;&gt;\n                    &lt;thead&gt;\n                        &lt;tr&gt;\n                            &lt;th style=&quot;display: none;&quot;&gt;Id&lt;/th&gt;\n                            &lt;th&gt;Name&lt;/th&gt;\n                            &lt;th&gt;Quantity&lt;/th&gt;\n                            &lt;th&gt;Category&lt;/th&gt;\n                            &lt;th&gt;Price&lt;/th&gt;\n                            &lt;th&gt;&lt;/th&gt;\n                        &lt;/tr&gt;\n                    &lt;/thead&gt;\n                    &lt;tbody&gt;\n\n                        &lt;s:iterator value=&quot;list&quot;&gt;\n                            &lt;tr&gt;\n                                &lt;td style=&quot;display: none;&quot;&gt;&lt;s:property value=&quot;productId&quot; /&gt;&lt;/td&gt;\n                                &lt;td&gt;&lt;s:property value=&quot;productName&quot; /&gt;&lt;/td&gt;\n                                &lt;td&gt;&lt;s:property value=&quot;quantity&quot; /&gt;&lt;/td&gt;\n                                &lt;td&gt;&lt;s:property value=&quot;category&quot; /&gt;&lt;/td&gt;\n                                &lt;td&gt;&lt;s:property value=&quot;price&quot; /&gt; &amp;euro;&lt;/td&gt;\n                                &lt;td&gt;&lt;a\n                                    href=&quot;BuyProduct.action&quot;&gt;&lt;button\n                                            class=&quot;button&quot;&gt;\n                                            &lt;i class=&quot;fa fa-fw fa-cart-plus&quot;&gt;&lt;/i&gt;\n                                        &lt;/button&gt;&lt;/a&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/s:iterator&gt;\n                &lt;/table&gt;\n</code></pre>\n"},{"tags":["java","mysql","database"],"answers":[{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636647775,"creation_date":1636647280,"answer_id":69931546,"question_id":69931404,"body_markdown":"`employee0_` is just an alias, that&#39;s used by Hibernate in the query. The error itself refers to the column `comp`, which Hibernate cannot find in the employee table. The where clause is added, because Hibernate needs to load the company entity, which is referred to in the employee entity.\r\n\r\nSo to fix the error, you should make sure that you actually have a column named `comp` in the employee table, and if not, either use the correct name in the annotation or create the column.","title":"ERROR: Unknown column &#39;0_.&#39; in &#39;where clause&#39;","body":"<p><code>employee0_</code> is just an alias, that's used by Hibernate in the query. The error itself refers to the column <code>comp</code>, which Hibernate cannot find in the employee table. The where clause is added, because Hibernate needs to load the company entity, which is referred to in the employee entity.</p>\n<p>So to fix the error, you should make sure that you actually have a column named <code>comp</code> in the employee table, and if not, either use the correct name in the annotation or create the column.</p>\n"}],"owner":{"account_id":19621290,"reputation":11,"user_id":14361713,"display_name":"Choi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636647775,"creation_date":1636646676,"question_id":69931404,"body_markdown":"Hi I&#39;m trying to make output of annual salary using below function:\r\n\r\n    List results=session.createQuery(&quot;select comp.annual_sales from employee&quot;).list();\r\n\r\nMy tables are defined as below\r\n\r\n    @Entity(name=&quot;company&quot;)\r\n    @Table(name=&quot;company&quot;)\r\n    public class company{\r\n    @Id\r\n    @Column(name=&quot;company_id&quot;)\r\n    private int company_id;\r\n\r\n    @Column(name=&quot;company_name&quot;)\r\n    private String company_name;\r\n\r\n    @Column(name=&quot;annual_sales&quot;)\r\n    private double annual_sales;\r\n\r\n    @Column(name=&quot;founding_date&quot;)\r\n    @Temporal(TemporalType.DATE)\r\n    private Date founding_date;\r\n    \r\n    /*@OneToMany(mappedBy = &quot;comp&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;employee&gt; emps; //= new HashSet&lt;employee&gt;();*/\r\n\r\n    public company(){}\r\n    public company(int company_id, String company_name, double annual_sales, Date founding_date){\r\n        this.company_id=company_id;\r\n        this.company_name=company_name;\r\n        this.annual_sales=annual_sales;\r\n        this.founding_date=founding_date;\r\n    }\r\n}\r\n\r\n    @Entity(name=&quot;employee&quot;)\r\n    @Table(name=&quot;employee&quot;)\r\n    public class employee{\r\n    @Id\r\n    @Column(name=&quot;employee_id&quot;)\r\n    private int employee_id;\r\n\r\n    @Column(name=&quot;first_name&quot;)\r\n    private String first_name;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String last_name;\r\n\r\n    @Column(name=&quot;salary&quot;)\r\n    private int salary;\r\n\r\n    @Column(name=&quot;company&quot;)\r\n    private int company;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;comp&quot;)\r\n    private company comp;\r\n\r\n    /*@OneToMany(mappedBy = &quot;emp&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;account&gt; accs; //= new HashSet&lt;account&gt;();*/\r\n\r\n    public employee(){}\r\n    public employee(int employee_id, String first_name, String last_name, int salary, int company){\r\n        this.employee_id=employee_id;\r\n        this.first_name=first_name;\r\n        this.last_name=last_name;\r\n        this.salary=salary;\r\n        this.company=company;\r\n    }\r\n}\r\n\r\n    @Entity(name=&quot;account&quot;)\r\n    @Table(name=&quot;account&quot;)\r\n    public class account{\r\n    @Id\r\n    @Column(name=&quot;account_id&quot;)\r\n    private int account_id;\r\n\r\n    @Column(name=&quot;bank_name&quot;)\r\n    private String bank_name;\r\n\r\n    @Column(name=&quot;opening_date&quot;)\r\n    @Temporal(TemporalType.DATE)\r\n    private Date opening_date;\r\n    \r\n    @Column(name=&quot;owner&quot;)\r\n    private int owner;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;emp&quot;)\r\n    private employee emp;\r\n\r\n    public account(){}\r\n    public account(int account_id, String bank_name, Date opening_date, int owner){\r\n        this.account_id=account_id;\r\n        this.bank_name=bank_name;\r\n        this.opening_date=opening_date;\r\n        this.owner=owner;\r\n    }\r\n}\r\n\r\nand the following error comes out:\r\n\r\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    WARN: SQL Error: 1054, SQLState: 42S22\r\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    ERROR: Unknown column &#39;employee0_.comp&#39; in &#39;where clause&#39;\r\n\r\nI have three major question here:\r\n1. I have no column or attribute named &#39;employee0_&#39; and why is it appearing in the error?\r\n2. I have no &#39;where clause&#39; sql function but why is such error appearing?\r\n3. I&#39;ve looked through many questions but it seemed nobody has similar problem with me nor they could solve my problem. The closest thing I could find was this: https://stackoverflow.com/questions/34478817/error-unknown-column-user0-id-in-field-list\r\nbut adding @OnetoMany clause did not solve my problem.\r\nHow should I fix this error?","title":"ERROR: Unknown column &#39;0_.&#39; in &#39;where clause&#39;","body":"<p>Hi I'm trying to make output of annual salary using below function:</p>\n<pre><code>List results=session.createQuery(&quot;select comp.annual_sales from employee&quot;).list();\n</code></pre>\n<p>My tables are defined as below</p>\n<pre><code>@Entity(name=&quot;company&quot;)\n@Table(name=&quot;company&quot;)\npublic class company{\n@Id\n@Column(name=&quot;company_id&quot;)\nprivate int company_id;\n\n@Column(name=&quot;company_name&quot;)\nprivate String company_name;\n\n@Column(name=&quot;annual_sales&quot;)\nprivate double annual_sales;\n\n@Column(name=&quot;founding_date&quot;)\n@Temporal(TemporalType.DATE)\nprivate Date founding_date;\n\n/*@OneToMany(mappedBy = &quot;comp&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;employee&gt; emps; //= new HashSet&lt;employee&gt;();*/\n\npublic company(){}\npublic company(int company_id, String company_name, double annual_sales, Date founding_date){\n    this.company_id=company_id;\n    this.company_name=company_name;\n    this.annual_sales=annual_sales;\n    this.founding_date=founding_date;\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Entity(name=&quot;employee&quot;)\n@Table(name=&quot;employee&quot;)\npublic class employee{\n@Id\n@Column(name=&quot;employee_id&quot;)\nprivate int employee_id;\n\n@Column(name=&quot;first_name&quot;)\nprivate String first_name;\n\n@Column(name = &quot;last_name&quot;)\nprivate String last_name;\n\n@Column(name=&quot;salary&quot;)\nprivate int salary;\n\n@Column(name=&quot;company&quot;)\nprivate int company;\n\n@ManyToOne\n@JoinColumn(name=&quot;comp&quot;)\nprivate company comp;\n\n/*@OneToMany(mappedBy = &quot;emp&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;account&gt; accs; //= new HashSet&lt;account&gt;();*/\n\npublic employee(){}\npublic employee(int employee_id, String first_name, String last_name, int salary, int company){\n    this.employee_id=employee_id;\n    this.first_name=first_name;\n    this.last_name=last_name;\n    this.salary=salary;\n    this.company=company;\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Entity(name=&quot;account&quot;)\n@Table(name=&quot;account&quot;)\npublic class account{\n@Id\n@Column(name=&quot;account_id&quot;)\nprivate int account_id;\n\n@Column(name=&quot;bank_name&quot;)\nprivate String bank_name;\n\n@Column(name=&quot;opening_date&quot;)\n@Temporal(TemporalType.DATE)\nprivate Date opening_date;\n\n@Column(name=&quot;owner&quot;)\nprivate int owner;\n\n@ManyToOne\n@JoinColumn(name=&quot;emp&quot;)\nprivate employee emp;\n\npublic account(){}\npublic account(int account_id, String bank_name, Date opening_date, int owner){\n    this.account_id=account_id;\n    this.bank_name=bank_name;\n    this.opening_date=opening_date;\n    this.owner=owner;\n}\n</code></pre>\n<p>}</p>\n<p>and the following error comes out:</p>\n<pre><code>org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 1054, SQLState: 42S22\norg.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: Unknown column 'employee0_.comp' in 'where clause'\n</code></pre>\n<p>I have three major question here:</p>\n<ol>\n<li>I have no column or attribute named 'employee0_' and why is it appearing in the error?</li>\n<li>I have no 'where clause' sql function but why is such error appearing?</li>\n<li>I've looked through many questions but it seemed nobody has similar problem with me nor they could solve my problem. The closest thing I could find was this: <a href=\"https://stackoverflow.com/questions/34478817/error-unknown-column-user0-id-in-field-list\">ERROR: Unknown column &#39;user0_.id&#39; in &#39;field list&#39;</a>\nbut adding @OnetoMany clause did not solve my problem.\nHow should I fix this error?</li>\n</ol>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1636647880,"post_id":69931636,"comment_id":123618723,"body_markdown":"Which URL are you trying to scrape?","body":"Which URL are you trying to scrape?"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1636647989,"post_id":69931636,"comment_id":123618776,"body_markdown":"Is this it: https://lirarate.org/ ?","body":"Is this it: <a href=\"https://lirarate.org/\" rel=\"nofollow noreferrer\">lirarate.org</a> ?"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1636648138,"post_id":69931636,"comment_id":123618828,"body_markdown":"Looks like the site uses AJAX.","body":"Looks like the site uses AJAX."},{"owner":{"account_id":18974696,"reputation":11,"user_id":13847439,"display_name":"simmo"},"score":0,"creation_date":1636648486,"post_id":69931636,"comment_id":123618949,"body_markdown":"@JanezKuhar Yes that is the url, i will look into HtmlUnit thanks a lot","body":"@JanezKuhar Yes that is the url, i will look into HtmlUnit thanks a lot"}],"owner":{"account_id":18974696,"reputation":11,"user_id":13847439,"display_name":"simmo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636649105,"answer_count":0,"score":0,"last_activity_date":1636647694,"creation_date":1636647694,"question_id":69931636,"body_markdown":"[![this is the html][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hug2H.png\r\n\r\nI need to get the text in the red circle\r\n\r\n    doc.select(&quot;p#latest-buy&quot;).text()\r\n\r\nI&#39;ve tried doing this but it appears to be empty","title":"How do i select this text in Jsoup","body":"<p><a href=\"https://i.stack.imgur.com/Hug2H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hug2H.png\" alt=\"this is the html\" /></a></p>\n<p>I need to get the text in the red circle</p>\n<pre><code>doc.select(&quot;p#latest-buy&quot;).text()\n</code></pre>\n<p>I've tried doing this but it appears to be empty</p>\n"},{"tags":["java","eclipse","plugins","xtext"],"comments":[{"owner":{"account_id":899065,"reputation":11808,"user_id":935687,"display_name":"Christian Dietrich"},"score":0,"creation_date":1636557058,"post_id":69913300,"comment_id":123589448,"body_markdown":"can you please explain what you want to achieve, why you want to get the URIs","body":"can you please explain what you want to achieve, why you want to get the URIs"},{"owner":{"account_id":542376,"reputation":3782,"user_id":911192,"accept_rate":77,"display_name":"Mordred"},"score":0,"creation_date":1636607750,"post_id":69913300,"comment_id":123604135,"body_markdown":"Are you trying to get the file names of other files in the directory? Or you already know the names, but don&#39;t know how to load the other two?","body":"Are you trying to get the file names of other files in the directory? Or you already know the names, but don&#39;t know how to load the other two?"}],"owner":{"account_id":21425683,"reputation":1,"user_id":15783041,"display_name":"Nooooobody0009"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636647496,"creation_date":1636547410,"question_id":69913300,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nFor example, I have three files in the same project (in my runtime), now my program are working on one of them and I can get the URL of it (platform:/resouce/orginal.dmodel), how could I get the other two files (i.e. resources)?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pVWrd.png","title":"How to get other resource in the same project in java plugin development","body":"<p><a href=\"https://i.stack.imgur.com/pVWrd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pVWrd.png\" alt=\"enter image description here\" /></a></p>\n<p>For example, I have three files in the same project (in my runtime), now my program are working on one of them and I can get the URL of it (platform:/resouce/orginal.dmodel), how could I get the other two files (i.e. resources)?</p>\n"},{"tags":["java","jakarta-ee","tomcat","jstl"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379680079,"creation_date":1379680079,"answer_id":18916820,"question_id":18916269,"body_markdown":"Based on what I found using jarfinder.com, the `javax.servlet.jsp.tagext.TagSupport` class ought to be in your `jsp-api.jar` file.\r\n\r\nIf not, then perhaps this is a mismatch between versions of Tomcat, JSP and JSTL.","title":"JSP / JSTL causes NoClassDefFound error for TagSupport","body":"<p>Based on what I found using jarfinder.com, the <code>javax.servlet.jsp.tagext.TagSupport</code> class ought to be in your <code>jsp-api.jar</code> file.</p>\n\n<p>If not, then perhaps this is a mismatch between versions of Tomcat, JSP and JSTL.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379702331,"creation_date":1379702331,"answer_id":18923657,"question_id":18916269,"body_markdown":"First, the correct `core` taglib namespace uri is \r\n\r\n    http://java.sun.com/jsp/jstl/core\r\n\r\nas declared in `jstl-1.2.jar/META-INF/c.tld`.\r\n\r\nSecond, I don&#39;t think you need `javax.servlet.jsp.jstl-api-1.2.1.jar`. I think it&#39;s redundant.\r\n\r\nYou should have\r\n\r\n - [`jstl-1.2.jar`](http://mvnrepository.com/artifact/jstl/jstl/1.2)\r\n - [`jsp-api-2.1.jar`](http://mvnrepository.com/artifact/javax.servlet.jsp/jsp-api/2.2) \r\n - `servlet-api.jar` as provided by Tomcat\r\n\r\n`servlet-api` and `jsp-api` should already be provided by Tomcat. I suggest trying to delete your Tomcat installation and install a new one. Only add what you are missing, ie. `jstl`.\r\n\r\nTriple-check that you don&#39;t have any of the above jars, especially `jsp-api`, in your own application&#39;s `lib` folder.","title":"JSP / JSTL causes NoClassDefFound error for TagSupport","body":"<p>First, the correct <code>core</code> taglib namespace uri is </p>\n\n<pre><code>http://java.sun.com/jsp/jstl/core\n</code></pre>\n\n<p>as declared in <code>jstl-1.2.jar/META-INF/c.tld</code>.</p>\n\n<p>Second, I don't think you need <code>javax.servlet.jsp.jstl-api-1.2.1.jar</code>. I think it's redundant.</p>\n\n<p>You should have</p>\n\n<ul>\n<li><a href=\"http://mvnrepository.com/artifact/jstl/jstl/1.2\" rel=\"nofollow\"><code>jstl-1.2.jar</code></a></li>\n<li><a href=\"http://mvnrepository.com/artifact/javax.servlet.jsp/jsp-api/2.2\" rel=\"nofollow\"><code>jsp-api-2.1.jar</code></a> </li>\n<li><code>servlet-api.jar</code> as provided by Tomcat</li>\n</ul>\n\n<p><code>servlet-api</code> and <code>jsp-api</code> should already be provided by Tomcat. I suggest trying to delete your Tomcat installation and install a new one. Only add what you are missing, ie. <code>jstl</code>.</p>\n\n<p>Triple-check that you don't have any of the above jars, especially <code>jsp-api</code>, in your own application's <code>lib</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":331316,"reputation":2316,"user_id":655926,"accept_rate":80,"display_name":"Auspice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380542969,"creation_date":1380542969,"answer_id":19093911,"question_id":18916269,"body_markdown":"Firstly, thanks to everyone that tried to help with this.  I have now resolved the error and the solution was not something I would have expected anyone to spot.  I can&#39;t accept your answers as they weren&#39;t the correct solution but I can&#39;t upscore them either as being helpful as I don&#39;t have enough privileges - sorry about that!\r\n\r\nThe problem was this:\r\n\r\nOn a Mac, as part of the folder structure to support Java, there is a folder called\r\n\r\n    /Library/Java/Extensions\r\n\r\nI am not absolutely sure what this folder is supposed to be used for but I had misinterpreted its purpose and had been using it to hold jar files which I would then pull in to my project through my IDE (IntelliJ IDEA).\r\n\r\nThe files I was downloading were actually libraries to be used within my web app by Tomcat (e.g. Tag Libraries).  There were a whole load of files in there from various projects at various times and I was assuming that this wouldn&#39;t be a problem as the folder was just a repository for me to store things and then pull in what I needed for my project.\r\n\r\nI don&#39;t pretend to understand exactly what is happening at a low level, but essentially, when I run my web app under Tomcat, Tomcat invokes the JVM in order to run and within the JVM, it includes the /Library/Java/Extensions folder in its class path.\r\n\r\nAs I understand it, Tomcat doesn&#39;t use the Java classpath and has its own class loader functionality.\r\n\r\nThe upshot of this is that Tomcat was finding the correct versions of classes (such as jsp-api.jar) in my web app library, but when calling (non Tomcat) classes the JVM was finding some classes in the wrong place (i.e the .../Extensions folder) and they were incompatible, thus creating errors.\r\n\r\nI know this is a bit vague - I have no intention of doing any more investigation to find out exactly what happened as I have spent weeks on this; the point is that when I removed all the jars from the .../Extensions folder and rebuilt my libraries from jars in another folder (I just used my downloads folder) everything eventually worked.\r\n\r\nI don&#39;t know what the lesson is there - I am amazed at how long this has taken and how much time I have wasted on what was (as is so often the case) a relatively simple problem.\r\n\r\nIf anyone happens to have a more technical grasp at what is happening under the covers and would care to add a comment that would be great.","title":"JSP / JSTL causes NoClassDefFound error for TagSupport","body":"<p>Firstly, thanks to everyone that tried to help with this.  I have now resolved the error and the solution was not something I would have expected anyone to spot.  I can't accept your answers as they weren't the correct solution but I can't upscore them either as being helpful as I don't have enough privileges - sorry about that!</p>\n\n<p>The problem was this:</p>\n\n<p>On a Mac, as part of the folder structure to support Java, there is a folder called</p>\n\n<pre><code>/Library/Java/Extensions\n</code></pre>\n\n<p>I am not absolutely sure what this folder is supposed to be used for but I had misinterpreted its purpose and had been using it to hold jar files which I would then pull in to my project through my IDE (IntelliJ IDEA).</p>\n\n<p>The files I was downloading were actually libraries to be used within my web app by Tomcat (e.g. Tag Libraries).  There were a whole load of files in there from various projects at various times and I was assuming that this wouldn't be a problem as the folder was just a repository for me to store things and then pull in what I needed for my project.</p>\n\n<p>I don't pretend to understand exactly what is happening at a low level, but essentially, when I run my web app under Tomcat, Tomcat invokes the JVM in order to run and within the JVM, it includes the /Library/Java/Extensions folder in its class path.</p>\n\n<p>As I understand it, Tomcat doesn't use the Java classpath and has its own class loader functionality.</p>\n\n<p>The upshot of this is that Tomcat was finding the correct versions of classes (such as jsp-api.jar) in my web app library, but when calling (non Tomcat) classes the JVM was finding some classes in the wrong place (i.e the .../Extensions folder) and they were incompatible, thus creating errors.</p>\n\n<p>I know this is a bit vague - I have no intention of doing any more investigation to find out exactly what happened as I have spent weeks on this; the point is that when I removed all the jars from the .../Extensions folder and rebuilt my libraries from jars in another folder (I just used my downloads folder) everything eventually worked.</p>\n\n<p>I don't know what the lesson is there - I am amazed at how long this has taken and how much time I have wasted on what was (as is so often the case) a relatively simple problem.</p>\n\n<p>If anyone happens to have a more technical grasp at what is happening under the covers and would care to add a comment that would be great.</p>\n"},{"tags":[],"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636647291,"creation_date":1636647291,"answer_id":69931550,"question_id":18916269,"body_markdown":"For anyone seeing this error after updating to Jakarta EE 9, make sure you&#39;re not using the dependency `org.webjars:webjars-taglib` and remove related tags from your JSP file.  \r\n\r\nFor example, remove:\r\n```\r\n&lt;%@ taglib prefix=&quot;wj&quot; uri=&quot;http://www.webjars.org/tags&quot; %&gt;\r\n```","title":"JSP / JSTL causes NoClassDefFound error for TagSupport","body":"<p>For anyone seeing this error after updating to Jakarta EE 9, make sure you're not using the dependency <code>org.webjars:webjars-taglib</code> and remove related tags from your JSP file.</p>\n<p>For example, remove:</p>\n<pre><code>&lt;%@ taglib prefix=&quot;wj&quot; uri=&quot;http://www.webjars.org/tags&quot; %&gt;\n</code></pre>\n"}],"owner":{"account_id":331316,"reputation":2316,"user_id":655926,"accept_rate":80,"display_name":"Auspice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19093911,"answer_count":4,"score":1,"last_activity_date":1636647291,"creation_date":1379678406,"question_id":18916269,"body_markdown":"This problem has been driving me mad for several weeks now and I suspect that the resolution, once I find it, will be simple.  I have looked at every relevant answer I can find in StackOverflow but haven&#39;t managed to resolve it, so I am hopeful that someone will be able to help me.\r\n\r\nI have re-created the problem in a very simple web app for simplicity so I hope this will make it easier for people to help.\r\n\r\nHere is the (simplified) problem:\r\n\r\n - I have a Java EE web app which comprises a single JSP which uses the Core JSTL Tag Library.\r\n\r\n - I have downloaded the two JSTL jars which I believe are relevant.  These are:\r\n\r\n    `javax.servlet.jsp.jstl-1.2.1.jar` and `javax.servlet.jsp.jstl-api-1.2.1.jar`\r\n\r\n - I have placed these two files in my Tomcat lib folder.\r\n - In my simplified web app there is no app library (WEB-INF/lib) so I am pretty sure I haven&#39;t duplicated the files anywhere else within the application.\r\n\r\n - I am referencing servlet 2.5 in web.xml.\r\n\r\nWhen I run the app I get the following error (edited to include full stack trace):\r\n\r\n    java.lang.ClassNotFoundException: javax.servlet.jsp.tagext.TagSupport\r\n    \tjava.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n    \tjava.security.AccessController.doPrivileged(Native Method)\r\n    \tjava.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n    \tsun.misc.Launcher$ExtClassLoader.findClass(Launcher.java:229)\r\n    \tjava.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n    \tjava.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n    \tjava.lang.ClassLoader.defineClass1(Native Method)\r\n    \tjava.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\r\n    \tjava.lang.ClassLoader.defineClass(ClassLoader.java:615)\r\n    \tjava.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\r\n    \tjava.net.URLClassLoader.defineClass(URLClassLoader.java:283)\r\n    \tjava.net.URLClassLoader.access$000(URLClassLoader.java:58)\r\n    \tjava.net.URLClassLoader$1.run(URLClassLoader.java:197)\r\n    \tjava.security.AccessController.doPrivileged(Native Method)\r\n    \tjava.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n    \tsun.misc.Launcher$ExtClassLoader.findClass(Launcher.java:229)\r\n    \tjava.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n    \tjava.lang.ClassLoader.loadClass(ClassLoader.java:295)\r\n    \tsun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n    \tjava.lang.ClassLoader.loadClass(ClassLoader.java:295)\r\n    \tjava.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n    \tjava.lang.ClassLoader.defineClass1(Native Method)\r\n    \tjava.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\r\n    \tjava.lang.ClassLoader.defineClass(ClassLoader.java:615)\r\n    \tjava.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\r\n    \tjava.net.URLClassLoader.defineClass(URLClassLoader.java:283)\r\n    \tjava.net.URLClassLoader.access$000(URLClassLoader.java:58)\r\n    \tjava.net.URLClassLoader$1.run(URLClassLoader.java:197)\r\n    \tjava.security.AccessController.doPrivileged(Native Method)\r\n    \tjava.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n    \tjava.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n    \tjava.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n    \tjava.lang.Class.forName0(Native Method)\r\n    \tjava.lang.Class.forName(Class.java:249)\r\n    \torg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1701)\r\n    \torg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n    \torg.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1223)\r\n    \torg.apache.jasper.compiler.Parser.parseElements(Parser.java:1452)\r\n    \torg.apache.jasper.compiler.Parser.parse(Parser.java:138)\r\n    \torg.apache.jasper.compiler.ParserController.doParse(ParserController.java:242)\r\n    \torg.apache.jasper.compiler.ParserController.parse(ParserController.java:102)\r\n    \torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:198)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:373)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:353)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:340)\r\n    \torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:646)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n\r\nHere is my jsp file, index.jsp\r\n\r\n    &lt;%-- Created by IntelliJ IDEA. --%&gt;\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Test JSP&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;\r\n            Test Heading\r\n        &lt;/h1&gt;\r\n        &lt;c:if test=&quot;true&quot;&gt;\r\n            &lt;p&gt;True&lt;/p&gt;\r\n        &lt;/c:if&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nHere is my web.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n               xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n    \t\t  http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n               version=&quot;2.5&quot;&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;myjsp&lt;/servlet-name&gt;\r\n            &lt;jsp-file&gt;/index.jsp&lt;/jsp-file&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;myjsp&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/myjsp&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nFinally, for what it is worth, here is a list of files within my Tomcat lib folder:\r\n\r\n    annotations-api.jar\r\n    catalina-ant.jar\r\n    catalina-ha.jar\r\n    catalina-tribes.jar\r\n    catalina.jar\r\n    ecj-4.2.2.jar\r\n    el-api.jar\r\n    jasper-el.jar\r\n    jasper.jar\r\n    javax.servlet.jsp.jstl-1.2.1.jar\r\n    javax.servlet.jsp.jstl-api-1.2.1.jar\r\n    jsp-api.jar\r\n    servlet-api.jar\r\n    tomcat-api.jar\r\n    tomcat-coyote.jar\r\n    tomcat-dbcp.jar\r\n    tomcat-i18n-es.jar\r\n    tomcat-i18n-fr.jar\r\n    tomcat-i18n-ja.jar\r\n    tomcat-jdbc.jar\r\n    tomcat-util.jar\r\n\r\nNOTE:\r\n\r\nIn my original app I was using a version 3.0 web.xml but I am getting the same error using 2.5.\r\n\r\nI have found that if I change the tag lib declaration within the jsp file from\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n\r\nto \r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jstl/core&quot; %&gt;\r\n\r\nI get exactly the same error, which surprises me.  I would have thought I would get something like TLD file not found type error without the &quot;/jsp&quot; in the declaration, so I wonder whether that is a clue?\r\n\r\nIf I comment out the core tags (`&lt;c:if ...&gt;`) The jsp works and displays the text.\r\n\r\nI hope there is enough information here for people to help.  If you need any further clarification then let me know.\r\n","title":"JSP / JSTL causes NoClassDefFound error for TagSupport","body":"<p>This problem has been driving me mad for several weeks now and I suspect that the resolution, once I find it, will be simple.  I have looked at every relevant answer I can find in StackOverflow but haven't managed to resolve it, so I am hopeful that someone will be able to help me.</p>\n\n<p>I have re-created the problem in a very simple web app for simplicity so I hope this will make it easier for people to help.</p>\n\n<p>Here is the (simplified) problem:</p>\n\n<ul>\n<li><p>I have a Java EE web app which comprises a single JSP which uses the Core JSTL Tag Library.</p></li>\n<li><p>I have downloaded the two JSTL jars which I believe are relevant.  These are:</p>\n\n<p><code>javax.servlet.jsp.jstl-1.2.1.jar</code> and <code>javax.servlet.jsp.jstl-api-1.2.1.jar</code></p></li>\n<li><p>I have placed these two files in my Tomcat lib folder.</p></li>\n<li><p>In my simplified web app there is no app library (WEB-INF/lib) so I am pretty sure I haven't duplicated the files anywhere else within the application.</p></li>\n<li><p>I am referencing servlet 2.5 in web.xml.</p></li>\n</ul>\n\n<p>When I run the app I get the following error (edited to include full stack trace):</p>\n\n<pre><code>java.lang.ClassNotFoundException: javax.servlet.jsp.tagext.TagSupport\n    java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    java.security.AccessController.doPrivileged(Native Method)\n    java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    sun.misc.Launcher$ExtClassLoader.findClass(Launcher.java:229)\n    java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    java.lang.ClassLoader.defineClass1(Native Method)\n    java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\n    java.lang.ClassLoader.defineClass(ClassLoader.java:615)\n    java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\n    java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\n    java.net.URLClassLoader.access$000(URLClassLoader.java:58)\n    java.net.URLClassLoader$1.run(URLClassLoader.java:197)\n    java.security.AccessController.doPrivileged(Native Method)\n    java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    sun.misc.Launcher$ExtClassLoader.findClass(Launcher.java:229)\n    java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    java.lang.ClassLoader.loadClass(ClassLoader.java:295)\n    sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n    java.lang.ClassLoader.loadClass(ClassLoader.java:295)\n    java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    java.lang.ClassLoader.defineClass1(Native Method)\n    java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\n    java.lang.ClassLoader.defineClass(ClassLoader.java:615)\n    java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\n    java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\n    java.net.URLClassLoader.access$000(URLClassLoader.java:58)\n    java.net.URLClassLoader$1.run(URLClassLoader.java:197)\n    java.security.AccessController.doPrivileged(Native Method)\n    java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    java.lang.Class.forName0(Native Method)\n    java.lang.Class.forName(Class.java:249)\n    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1701)\n    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n    org.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1223)\n    org.apache.jasper.compiler.Parser.parseElements(Parser.java:1452)\n    org.apache.jasper.compiler.Parser.parse(Parser.java:138)\n    org.apache.jasper.compiler.ParserController.doParse(ParserController.java:242)\n    org.apache.jasper.compiler.ParserController.parse(ParserController.java:102)\n    org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:198)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:373)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:353)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:340)\n    org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:646)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n</code></pre>\n\n<p>Here is my jsp file, index.jsp</p>\n\n<pre><code>&lt;%-- Created by IntelliJ IDEA. --%&gt;\n&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Test JSP&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;\n        Test Heading\n    &lt;/h1&gt;\n    &lt;c:if test=\"true\"&gt;\n        &lt;p&gt;True&lt;/p&gt;\n    &lt;/c:if&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here is my web.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\"\n           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n           xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee\n          http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n           version=\"2.5\"&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;myjsp&lt;/servlet-name&gt;\n        &lt;jsp-file&gt;/index.jsp&lt;/jsp-file&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;myjsp&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/myjsp&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Finally, for what it is worth, here is a list of files within my Tomcat lib folder:</p>\n\n<pre><code>annotations-api.jar\ncatalina-ant.jar\ncatalina-ha.jar\ncatalina-tribes.jar\ncatalina.jar\necj-4.2.2.jar\nel-api.jar\njasper-el.jar\njasper.jar\njavax.servlet.jsp.jstl-1.2.1.jar\njavax.servlet.jsp.jstl-api-1.2.1.jar\njsp-api.jar\nservlet-api.jar\ntomcat-api.jar\ntomcat-coyote.jar\ntomcat-dbcp.jar\ntomcat-i18n-es.jar\ntomcat-i18n-fr.jar\ntomcat-i18n-ja.jar\ntomcat-jdbc.jar\ntomcat-util.jar\n</code></pre>\n\n<p>NOTE:</p>\n\n<p>In my original app I was using a version 3.0 web.xml but I am getting the same error using 2.5.</p>\n\n<p>I have found that if I change the tag lib declaration within the jsp file from</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jstl/core\" %&gt;\n</code></pre>\n\n<p>I get exactly the same error, which surprises me.  I would have thought I would get something like TLD file not found type error without the \"/jsp\" in the declaration, so I wonder whether that is a clue?</p>\n\n<p>If I comment out the core tags (<code>&lt;c:if ...&gt;</code>) The jsp works and displays the text.</p>\n\n<p>I hope there is enough information here for people to help.  If you need any further clarification then let me know.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":6365827,"reputation":3652,"user_id":4939853,"accept_rate":69,"display_name":"Oreste Viron"},"score":1,"creation_date":1490946518,"post_id":43135275,"comment_id":73348039,"body_markdown":"Hello,\n\nI think your code is okay. What is bothering you in the last line ?","body":"Hello,  I think your code is okay. What is bothering you in the last line ?"},{"owner":{"account_id":1240724,"reputation":7675,"user_id":1203394,"accept_rate":68,"display_name":"Marquis Blount"},"score":0,"creation_date":1490946977,"post_id":43135275,"comment_id":73348304,"body_markdown":"@OresteViron it feels like im using the Library if you look at the methods available for JsonNode they have many convenience methods such as #asBoolean, #asDouble, #asText, etc. i would think there would be a simple way get a `List&lt;String&gt;` or even a `String[]`. But maybe im just looking for something that simply isnt there","body":"@OresteViron it feels like im using the Library if you look at the methods available for JsonNode they have many convenience methods such as #asBoolean, #asDouble, #asText, etc. i would think there would be a simple way get a <code>List&lt;String&gt;</code> or even a <code>String[]</code>. But maybe im just looking for something that simply isnt there"}],"answers":[{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636646787,"creation_date":1636646787,"answer_id":69931434,"question_id":43135275,"body_markdown":"Since Jackson 2.11 methods `readerForListOf` and `readerForArrayOf` are available. Thus your code will look like the following:\r\n\r\n    JsonNode jsonNode = getJsonPayload();\r\n    JsonNode partial = jsonNode.path(&quot;someArrayField&quot;);\r\n    List&lt;String&gt; z = new ObjectMapper().readerForListOf(String.class).readValue(partial);","title":"Converting Jackson JsonNode array to Java List&lt;String&gt;","body":"<p>Since Jackson 2.11 methods <code>readerForListOf</code> and <code>readerForArrayOf</code> are available. Thus your code will look like the following:</p>\n<pre><code>JsonNode jsonNode = getJsonPayload();\nJsonNode partial = jsonNode.path(&quot;someArrayField&quot;);\nList&lt;String&gt; z = new ObjectMapper().readerForListOf(String.class).readValue(partial);\n</code></pre>\n"}],"owner":{"account_id":1240724,"reputation":7675,"user_id":1203394,"accept_rate":68,"display_name":"Marquis Blount"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7888,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1636646787,"creation_date":1490946332,"question_id":43135275,"body_markdown":"I hava a Jackson JsonNode (v2.6.3) which has a json array as one of its fields and I&#39;m looking to convert that array to a java List&lt;String&gt; \r\n\r\nCurrently im doing the following problem is line 3: \r\n\r\n    JsonNode jsonNode = getJsonPayload();\r\n    JsonNode partial = jsonNode.path(&quot;someArrayField&quot;);\r\n    List&lt;String&gt; z = new ObjectMapper().readValue(partial.traverse(), new TypeReference&lt;ArrayList&lt;String&gt;&gt;(){}); // &lt;- this is the problem area\r\n\r\nThis feels expensive and improper I would have thought the library would provide a simple call to achieve this.\r\n\r\nWhat would be the proper/efficient way of obtaining the List&lt;String&gt;? I&#39;ve seen a few others follow the same pattern as I did above but the answers are not widely accepted ","title":"Converting Jackson JsonNode array to Java List&lt;String&gt;","body":"<p>I hava a Jackson JsonNode (v2.6.3) which has a json array as one of its fields and I'm looking to convert that array to a java List </p>\n\n<p>Currently im doing the following problem is line 3: </p>\n\n<pre><code>JsonNode jsonNode = getJsonPayload();\nJsonNode partial = jsonNode.path(\"someArrayField\");\nList&lt;String&gt; z = new ObjectMapper().readValue(partial.traverse(), new TypeReference&lt;ArrayList&lt;String&gt;&gt;(){}); // &lt;- this is the problem area\n</code></pre>\n\n<p>This feels expensive and improper I would have thought the library would provide a simple call to achieve this.</p>\n\n<p>What would be the proper/efficient way of obtaining the List? I've seen a few others follow the same pattern as I did above but the answers are not widely accepted </p>\n"},{"tags":["java","xml","jackson","xml-serialization"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636646234,"creation_date":1636646234,"answer_id":69931279,"question_id":69929777,"body_markdown":"You can do like this \r\n\r\n```\r\npublic class TestXml {\r\n    \r\n    class HeaderWrapper {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String attr1 = &quot;text&quot;;\r\n\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String attr2 = &quot;another text&quot;;\r\n    \r\n        private String header = &quot;value&quot;\r\n    }\r\n\r\n    @Test\r\n    void test() throws JsonProcessingException {\r\n        var mapper = new XmlMapper();\r\n        var h1 = new HashMap&lt;&gt;();\r\n        h1.put(&quot;test&quot;, new NullWrapper());\r\n        System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(h1));\r\n    }\r\n}\r\n```","title":"Set attributes to xml tag without POJO using jackson-dataformat-xml library","body":"<p>You can do like this</p>\n<pre><code>public class TestXml {\n    \n    class HeaderWrapper {\n        @JacksonXmlProperty(isAttribute = true)\n        private String attr1 = &quot;text&quot;;\n\n        @JacksonXmlProperty(isAttribute = true)\n        private String attr2 = &quot;another text&quot;;\n    \n        private String header = &quot;value&quot;\n    }\n\n    @Test\n    void test() throws JsonProcessingException {\n        var mapper = new XmlMapper();\n        var h1 = new HashMap&lt;&gt;();\n        h1.put(&quot;test&quot;, new NullWrapper());\n        System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(h1));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14229651,"reputation":3,"user_id":10279248,"display_name":"josephjoguts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636646234,"creation_date":1636640092,"question_id":69929777,"body_markdown":"I use HashMap&lt;String, Object&gt; to serialize it into xml:\r\n\r\n    var mapper = new XmlMapper();\r\n    HashMap&lt;String, Object&gt; hm = new HashMap&lt;&gt;();\r\n    hm.put(&quot;header&quot;, &quot;value&quot;);\r\n    System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(hm));\r\n\r\n**Output**\r\n\r\n    &lt;HashMap&gt;\r\n      &lt;header&gt;value&lt;/header&gt;\r\n    &lt;/HashMap&gt;\r\n\r\nProblem is that I need to add unknown until runtime amount of attributes to header. \r\n\r\n    &lt;HashMap&gt;\r\n      &lt;header attr1= &quot;text&quot; attr2 = &quot;another text&quot; &gt;value&lt;/header&gt;\r\n    &lt;/HashMap&gt;\r\n\r\nIs there any workaround besides custom serializer?\r\n","title":"Set attributes to xml tag without POJO using jackson-dataformat-xml library","body":"<p>I use HashMap&lt;String, Object&gt; to serialize it into xml:</p>\n<pre><code>var mapper = new XmlMapper();\nHashMap&lt;String, Object&gt; hm = new HashMap&lt;&gt;();\nhm.put(&quot;header&quot;, &quot;value&quot;);\nSystem.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(hm));\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>&lt;HashMap&gt;\n  &lt;header&gt;value&lt;/header&gt;\n&lt;/HashMap&gt;\n</code></pre>\n<p>Problem is that I need to add unknown until runtime amount of attributes to header.</p>\n<pre><code>&lt;HashMap&gt;\n  &lt;header attr1= &quot;text&quot; attr2 = &quot;another text&quot; &gt;value&lt;/header&gt;\n&lt;/HashMap&gt;\n</code></pre>\n<p>Is there any workaround besides custom serializer?</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636645887,"creation_date":1636645887,"answer_id":69931193,"question_id":69930822,"body_markdown":"When a task fails, it contains an exception that explains the reason of the failure. Log this reason to know more about the cause of the problem:\r\n```\r\npublic void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n    if (task.isSuccessful()) {\r\n\r\n        addClassToFirebase();\r\n\r\n        Intent intent = new Intent(signup.this, MainActivity.class);\r\n        intent.putExtra(&quot;etsufn&quot;, ETname.getText().toString());\r\n        startActivity(intent);\r\n\r\n\r\n    } else {\r\n        // If sign in fails, display a message to the user.\r\n        Toast.makeText(signup.this, &quot;Authintication failed&quot;, Toast.LENGTH_SHORT).show();\r\n        Log.e(&quot;AUTH&quot;, &quot;Authentication failed&quot;, task.getException()); // &#128072;\r\n    }\r\n```\r\n\r\nAlso see the reference documentation for the [`Task` class](https://developer.android.com/reference/com/google/android/play/core/tasks/Task).","title":"The register button is giving me authentication failed, how can i fix it?","body":"<p>When a task fails, it contains an exception that explains the reason of the failure. Log this reason to know more about the cause of the problem:</p>\n<pre><code>public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n    if (task.isSuccessful()) {\n\n        addClassToFirebase();\n\n        Intent intent = new Intent(signup.this, MainActivity.class);\n        intent.putExtra(&quot;etsufn&quot;, ETname.getText().toString());\n        startActivity(intent);\n\n\n    } else {\n        // If sign in fails, display a message to the user.\n        Toast.makeText(signup.this, &quot;Authintication failed&quot;, Toast.LENGTH_SHORT).show();\n        Log.e(&quot;AUTH&quot;, &quot;Authentication failed&quot;, task.getException()); // \n    }\n</code></pre>\n<p>Also see the reference documentation for the <a href=\"https://developer.android.com/reference/com/google/android/play/core/tasks/Task\" rel=\"nofollow noreferrer\"><code>Task</code> class</a>.</p>\n"}],"owner":{"account_id":20144584,"reputation":9,"user_id":14773432,"display_name":"someone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69931193,"answer_count":1,"score":0,"last_activity_date":1636645887,"creation_date":1636644295,"question_id":69930822,"body_markdown":" The register button is not functioning correctly, It gives me authentication failed toast. it seems like my strings for a create a user with email and password are correct but it still wont work.\r\n\r\nWhat can I do? please help if you can.\r\n\r\nJava File:\r\n\r\n \r\n\r\n    package com.example.ahmadsapp;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.app.DatePickerDialog;\r\n    import android.app.Dialog;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.DatePicker;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.AuthResult;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    \r\n    import java.util.Calendar;\r\n    \r\n    public class signup extends AppCompatActivity implements View.OnClickListener {\r\n        EditText ETname, ETgmail, ETpassword;\r\n        Button register,Bdateofbirth;\r\n        SharedPreferences sp;\r\n        private FirebaseAuth mAuth;\r\n        FirebaseDatabase firebaseDatabase;\r\n        DatabaseReference databaseReference;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_signup);\r\n    \r\n            mAuth = FirebaseAuth.getInstance();\r\n            firebaseDatabase = FirebaseDatabase.getInstance();\r\n    \r\n            sp = getSharedPreferences(&quot;detail&quot;, 0);\r\n            String userdfn = sp.getString(&quot;firstname&quot;, null);\r\n            String userdgamil = sp.getString(&quot;gmail&quot;, null);\r\n            String userduser = sp.getString(&quot;user&quot;, null);\r\n            String userdpass = sp.getString(&quot;password&quot;, null);\r\n    \r\n            ETname= findViewById(R.id.ETsignupname);\r\n            ETgmail = findViewById(R.id.ETsignupgmail);\r\n            ETpassword = findViewById(R.id.ETsignuppassword);\r\n            register = findViewById(R.id.signupbutton);\r\n            Bdateofbirth = findViewById(R.id.Bdateofbirth);\r\n    \r\n    \r\n    \r\n    \r\n            register.setOnClickListener(this);\r\n        }\r\n        @Override\r\n        public void onClick(View view) {\r\n            if (view == register) {\r\n                register(ETgmail.getText().toString(), ETpassword.getText().toString());\r\n            }\r\n    \r\n            if (view == Bdateofbirth) {\r\n                dialogDOB();\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n  \r\n\r\n         private void register(String User, String Password) {\r\n        \r\n                mAuth.createUserWithEmailAndPassword(User, Password)\r\n                        .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                if (task.isSuccessful()) {\r\n        \r\n                                    addClassToFirebase();\r\n        \r\n                                    Intent intent = new Intent(signup.this, MainActivity.class);\r\n                                    intent.putExtra(&quot;etsufn&quot;, ETname.getText().toString());\r\n                                    startActivity(intent);\r\n        \r\n        \r\n                                } else {\r\n                                    // If sign in fails, display a message to the user.\r\n                                    Toast.makeText(signup.this, &quot;Authintication failed&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n        \r\n                                // ...\r\n                            }\r\n                        });\r\n        \r\n            }\r\n        \r\n            private void addClassToFirebase() {\r\n                String uid = mAuth.getCurrentUser().getUid().toString();\r\n                User u = new User(uid, ETname.getText().toString(), ETgmail.getText().toString(), ETpassword.getText().toString(), Bdateofbirth.getText().toString(), &quot;&quot;);\r\n                databaseReference = firebaseDatabase.getReference(&quot;Users&quot;).push();\r\n                u.key = databaseReference.getKey();\r\n                databaseReference.setValue(u);\r\n            }\r\n            private void dialogDOB(){\r\n        \r\n                Calendar calendar = Calendar.getInstance();\r\n                int d = calendar.get(Calendar.DAY_OF_MONTH);\r\n                int m = calendar.get(Calendar.MONTH);\r\n                int y = calendar.get(Calendar.YEAR);\r\n                DatePickerDialog datePickerDialog = new DatePickerDialog(signup.this, new DatePickerDialog.OnDateSetListener() {\r\n                    @Override\r\n                    public void onDateSet(DatePicker datePicker, int i, int i1, int i2) {\r\n                        i1=i1+1;\r\n                        String date = i + &quot;/&quot; + i1 + &quot;/&quot; + i2;\r\n                        Toast.makeText(signup.this, date, Toast.LENGTH_SHORT).show();\r\n                        Bdateofbirth.setText(date);\r\n                    }\r\n                }, d, m, y);\r\n                datePickerDialog.show();\r\n            }\r\n        \r\n        \r\n        }\r\n    \r\nXML File:\r\n\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.signup&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Welcome to the signup page&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:textSize=&quot;25dp&quot;\r\n            android:id=&quot;@+id/TVsignup&quot;/&gt;\r\n    \r\n        &lt;EditText\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;name&quot;\r\n            android:textSize=&quot;25dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:id=&quot;@+id/ETsignupname&quot;\r\n            /&gt;\r\n    \r\n        &lt;EditText\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;G-Mail&quot;\r\n            android:textSize=&quot;25dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:id=&quot;@+id/ETsignupgmail&quot;\r\n            /&gt;\r\n    \r\n        &lt;EditText\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Password&quot;\r\n            android:textSize=&quot;25dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:id=&quot;@+id/ETsignuppassword&quot;\r\n            /&gt;\r\n    \r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/Bdateofbirth&quot;\r\n            android:text=&quot;Date of birth&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:onClick=&quot;onClick&quot;\r\n            android:layout_gravity=&quot;center&quot;/&gt;\r\n    \r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Register&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:id=&quot;@+id/signupbutton&quot;\r\n            /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nthe strings I filled in:\r\n\r\n[enter image description here][1]\r\n  [1]: https://i.stack.imgur.com/2d29O.png\r\n","title":"The register button is giving me authentication failed, how can i fix it?","body":"<p>The register button is not functioning correctly, It gives me authentication failed toast. it seems like my strings for a create a user with email and password are correct but it still wont work.</p>\n<p>What can I do? please help if you can.</p>\n<p>Java File:</p>\n<pre><code>package com.example.ahmadsapp;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.DatePickerDialog;\nimport android.app.Dialog;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.DatePicker;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport java.util.Calendar;\n\npublic class signup extends AppCompatActivity implements View.OnClickListener {\n    EditText ETname, ETgmail, ETpassword;\n    Button register,Bdateofbirth;\n    SharedPreferences sp;\n    private FirebaseAuth mAuth;\n    FirebaseDatabase firebaseDatabase;\n    DatabaseReference databaseReference;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_signup);\n\n        mAuth = FirebaseAuth.getInstance();\n        firebaseDatabase = FirebaseDatabase.getInstance();\n\n        sp = getSharedPreferences(&quot;detail&quot;, 0);\n        String userdfn = sp.getString(&quot;firstname&quot;, null);\n        String userdgamil = sp.getString(&quot;gmail&quot;, null);\n        String userduser = sp.getString(&quot;user&quot;, null);\n        String userdpass = sp.getString(&quot;password&quot;, null);\n\n        ETname= findViewById(R.id.ETsignupname);\n        ETgmail = findViewById(R.id.ETsignupgmail);\n        ETpassword = findViewById(R.id.ETsignuppassword);\n        register = findViewById(R.id.signupbutton);\n        Bdateofbirth = findViewById(R.id.Bdateofbirth);\n\n\n\n\n        register.setOnClickListener(this);\n    }\n    @Override\n    public void onClick(View view) {\n        if (view == register) {\n            register(ETgmail.getText().toString(), ETpassword.getText().toString());\n        }\n\n        if (view == Bdateofbirth) {\n            dialogDOB();\n        }\n\n    }\n\n\n\n\n\n     private void register(String User, String Password) {\n    \n            mAuth.createUserWithEmailAndPassword(User, Password)\n                    .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                            if (task.isSuccessful()) {\n    \n                                addClassToFirebase();\n    \n                                Intent intent = new Intent(signup.this, MainActivity.class);\n                                intent.putExtra(&quot;etsufn&quot;, ETname.getText().toString());\n                                startActivity(intent);\n    \n    \n                            } else {\n                                // If sign in fails, display a message to the user.\n                                Toast.makeText(signup.this, &quot;Authintication failed&quot;, Toast.LENGTH_SHORT).show();\n                            }\n    \n                            // ...\n                        }\n                    });\n    \n        }\n    \n        private void addClassToFirebase() {\n            String uid = mAuth.getCurrentUser().getUid().toString();\n            User u = new User(uid, ETname.getText().toString(), ETgmail.getText().toString(), ETpassword.getText().toString(), Bdateofbirth.getText().toString(), &quot;&quot;);\n            databaseReference = firebaseDatabase.getReference(&quot;Users&quot;).push();\n            u.key = databaseReference.getKey();\n            databaseReference.setValue(u);\n        }\n        private void dialogDOB(){\n    \n            Calendar calendar = Calendar.getInstance();\n            int d = calendar.get(Calendar.DAY_OF_MONTH);\n            int m = calendar.get(Calendar.MONTH);\n            int y = calendar.get(Calendar.YEAR);\n            DatePickerDialog datePickerDialog = new DatePickerDialog(signup.this, new DatePickerDialog.OnDateSetListener() {\n                @Override\n                public void onDateSet(DatePicker datePicker, int i, int i1, int i2) {\n                    i1=i1+1;\n                    String date = i + &quot;/&quot; + i1 + &quot;/&quot; + i2;\n                    Toast.makeText(signup.this, date, Toast.LENGTH_SHORT).show();\n                    Bdateofbirth.setText(date);\n                }\n            }, d, m, y);\n            datePickerDialog.show();\n        }\n    \n    \n    }\n</code></pre>\n<p>XML File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.signup&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Welcome to the signup page&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:textSize=&quot;25dp&quot;\n        android:id=&quot;@+id/TVsignup&quot;/&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;name&quot;\n        android:textSize=&quot;25dp&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:id=&quot;@+id/ETsignupname&quot;\n        /&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;G-Mail&quot;\n        android:textSize=&quot;25dp&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:id=&quot;@+id/ETsignupgmail&quot;\n        /&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Password&quot;\n        android:textSize=&quot;25dp&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:id=&quot;@+id/ETsignuppassword&quot;\n        /&gt;\n\n    &lt;Button\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/Bdateofbirth&quot;\n        android:text=&quot;Date of birth&quot;\n        android:gravity=&quot;center&quot;\n        android:onClick=&quot;onClick&quot;\n        android:layout_gravity=&quot;center&quot;/&gt;\n\n    &lt;Button\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Register&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:id=&quot;@+id/signupbutton&quot;\n        /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>the strings I filled in:</p>\n<p>[enter image description here][1]\n[1]: https://i.stack.imgur.com/2d29O.png</p>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":1241953,"reputation":232,"user_id":1204344,"accept_rate":75,"display_name":"Caroline"},"score":1,"creation_date":1575902951,"post_id":57452239,"comment_id":104712334,"body_markdown":"did you find any solution for this problem?","body":"did you find any solution for this problem?"},{"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1575942408,"post_id":57452239,"comment_id":104727176,"body_markdown":"No, I don&#39;t think it&#39;s supported.","body":"No, I don&#39;t think it&#39;s supported."}],"answers":[{"tags":[],"owner":{"account_id":12268168,"reputation":95,"user_id":8954127,"display_name":"Grant Lindsey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636645885,"creation_date":1636645885,"answer_id":69931192,"question_id":57452239,"body_markdown":"There looks like [a similar question][1] was asked. Doesn&#39;t sound like it&#39;s supported. Looking through docs, I&#39;ve found is [some older docs][2] show it&#39;s not supported.\r\n\r\n&gt; When a collection is specified in multiple profiles, the one with highest priority is used (and only that one):\r\n&gt;\r\n&gt; ```yaml\r\n&gt; foo:\r\n&gt;   list:\r\n&gt;     - name: my name\r\n&gt;       description: my description\r\n&gt;     - name: another name\r\n&gt;       description: another description\r\n&gt; ---\r\n&gt; spring:\r\n&gt;   profiles: dev\r\n&gt; foo:\r\n&gt;   list:\r\n&gt;      - name: my another name\r\n&gt; ```\r\n&gt; In the example above, considering that the dev profile is active, FooProperties.list will contain one MyPojo entry (with name my another name and description null).\r\n\r\n[A newer 2.6.0 snapshot doc][3] mentions the same but seems to encourage you name your keys as their own objects. You might not have access to the beans bringing them in but it might be good to structure others in this way if you can.\r\n\r\n&gt; Consider the following configuration:\r\n&gt; \r\n&gt; ```yml\r\n&gt; my:\r\n&gt;   map:\r\n&gt;     key1:\r\n&gt;       name: &quot;my name 1&quot;\r\n&gt;       description: &quot;my description 1&quot;\r\n&gt; ---\r\n&gt; spring:\r\n&gt;   config:\r\n&gt;     activate:\r\n&gt;       on-profile: &quot;dev&quot;\r\n&gt; my:\r\n&gt;   map:\r\n&gt;     key1:\r\n&gt;       name: &quot;dev name 1&quot;\r\n&gt;     key2:\r\n&gt;       name: &quot;dev name 2&quot;\r\n&gt;       description: &quot;dev description 2&quot;\r\n&gt; ```\r\n&gt; \r\n&gt; If the dev profile is not active, MyProperties.map contains one entry with key key1 (with a name of my name 1 and a description of my description 1). If the dev profile is enabled, however, map contains two entries with keys key1 (with a name of dev name 1 and a description of my description 1) and key2 (with a name of dev name 2 and a description of dev description 2).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41409743/8954127\r\n  [2]: https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-complex-type-merge\r\n  [3]: https://docs.spring.io/spring-boot/docs/2.6.0-SNAPSHOT/reference/html/features.html#features.external-config.typesafe-configuration-properties.merging-complex-types","title":"How to append to array in overridden YAML file (Spring)?","body":"<p>There looks like <a href=\"https://stackoverflow.com/a/41409743/8954127\">a similar question</a> was asked. Doesn't sound like it's supported. Looking through docs, I've found is <a href=\"https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-complex-type-merge\" rel=\"nofollow noreferrer\">some older docs</a> show it's not supported.</p>\n<blockquote>\n<p>When a collection is specified in multiple profiles, the one with highest priority is used (and only that one):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>foo:\n  list:\n    - name: my name\n      description: my description\n    - name: another name\n      description: another description\n---\nspring:\n  profiles: dev\nfoo:\n  list:\n     - name: my another name\n</code></pre>\n<p>In the example above, considering that the dev profile is active, FooProperties.list will contain one MyPojo entry (with name my another name and description null).</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.6.0-SNAPSHOT/reference/html/features.html#features.external-config.typesafe-configuration-properties.merging-complex-types\" rel=\"nofollow noreferrer\">A newer 2.6.0 snapshot doc</a> mentions the same but seems to encourage you name your keys as their own objects. You might not have access to the beans bringing them in but it might be good to structure others in this way if you can.</p>\n<blockquote>\n<p>Consider the following configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>my:\n  map:\n    key1:\n      name: &quot;my name 1&quot;\n      description: &quot;my description 1&quot;\n---\nspring:\n  config:\n    activate:\n      on-profile: &quot;dev&quot;\nmy:\n  map:\n    key1:\n      name: &quot;dev name 1&quot;\n    key2:\n      name: &quot;dev name 2&quot;\n      description: &quot;dev description 2&quot;\n</code></pre>\n<p>If the dev profile is not active, MyProperties.map contains one entry with key key1 (with a name of my name 1 and a description of my description 1). If the dev profile is enabled, however, map contains two entries with keys key1 (with a name of dev name 1 and a description of my description 1) and key2 (with a name of dev name 2 and a description of dev description 2).</p>\n</blockquote>\n"}],"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1493,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1636645885,"creation_date":1565545484,"question_id":57452239,"body_markdown":"I have a JAR which contains an `application.yml`. That YAM file contains an array, e.g.:\r\n\r\n```yaml\r\nthings:\r\n  - name: one\r\n    color: red\r\n```\r\n\r\nI need to adjust this array at runtime by adding an additional `application.yml` file in the same directory as the JAR. However, I&#39;m not sure how to *append* to the array, because the follow config seems to replace the config in the built-in YAML file in the JAR:\r\n\r\n```yaml\r\nthings:\r\n  - name: red\r\n    color: blue\r\n```\r\n\r\nIn the end, during runtime, I need this:\r\n\r\n```yaml\r\nthings:\r\n  - name: one\r\n    color: red\r\n  - name: two\r\n    color: blue\r\n```","title":"How to append to array in overridden YAML file (Spring)?","body":"<p>I have a JAR which contains an <code>application.yml</code>. That YAM file contains an array, e.g.:</p>\n\n<pre><code>things:\n  - name: one\n    color: red\n</code></pre>\n\n<p>I need to adjust this array at runtime by adding an additional <code>application.yml</code> file in the same directory as the JAR. However, I'm not sure how to <em>append</em> to the array, because the follow config seems to replace the config in the built-in YAML file in the JAR:</p>\n\n<pre><code>things:\n  - name: red\n    color: blue\n</code></pre>\n\n<p>In the end, during runtime, I need this:</p>\n\n<pre><code>things:\n  - name: one\n    color: red\n  - name: two\n    color: blue\n</code></pre>\n"},{"tags":["java","arrays","sorting","bubble-sort"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1636646133,"post_id":69931187,"comment_id":123617969,"body_markdown":"You will need to actually _swap_ the `courses` as you do with the `marks`. Currently, this `courses[i] = courses[i+1];` doesn&#39;t _swap_ but overwrite the courses at index `i` with the one of `i+1`.","body":"You will need to actually <i>swap</i> the <code>courses</code> as you do with the <code>marks</code>. Currently, this <code>courses[i] = courses[i+1];</code> doesn&#39;t <i>swap</i> but overwrite the courses at index <code>i</code> with the one of <code>i+1</code>."},{"owner":{"account_id":19892264,"reputation":15,"user_id":14574042,"display_name":"Nicholas"},"score":0,"creation_date":1636646254,"post_id":69931187,"comment_id":123618021,"body_markdown":"Ahhh, thank you!!","body":"Ahhh, thank you!!"}],"owner":{"account_id":19892264,"reputation":15,"user_id":14574042,"display_name":"Nicholas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636645866,"creation_date":1636645866,"question_id":69931187,"body_markdown":"I&#39;ve run into a little problem that I can&#39;t seem to fix, and I&#39;m a little crushed for time. Basically, I&#39;m using this simple bubble sort to print a numerically sorted transcript of a students grades, and I need to keep the String array of course codes together with the marks.\r\n\r\n\t\t// Using bottom to check the smaller list each time\r\n\t\t\t\tint bottom = marks.length - 1;\r\n\r\n\t\t\t\t// Once there are no more swaps, the list is sorted and it will leave\r\n\t\t\t\tboolean hadSwap = true;\r\n\t\t\t\twhile (hadSwap) {\r\n\t\t\t\t\t// If there are no more swaps, it will leave\r\n\t\t\t\t\thadSwap = false;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Checking ALL elements that could need to be moves\r\n\t\t\t\t\tfor (int i = 0; i &lt; bottom; i++) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t// Checking two elements next to eachother to see if they need to be swapped\r\n\t\t\t\t\t\tif (marks[i] &gt; marks[i + 1]) {\r\n\t\t\t\t\t\t\thadSwap = true;\r\n\t\t\t\t\t\t\t// If they need to be swapped, swap them\r\n\t\t\t\t\t\t\tint temp = marks[i];\r\n\t\t\t\t\t\t\tmarks[i] = marks[i + 1];\r\n\t\t\t\t\t\t\tcourses[i] = courses[i+1];\r\n\t\t\t\t\t\t\tmarks[i + 1] = temp;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// The final item is in the right spot, shorten the list\r\n\t\t\t\t\tbottom--;\r\n\t\t\t\t}\r\n\t\t\r\n\t}\r\n\r\nThe algorithm works, but the output for the transcript with the courses[i] swapping the same way that the marks[i] do, is this:\r\n\r\n    Course\tMark\r\n    ---------------\r\n    HZT4U\t12\r\n    HZT4U\t43\r\n    CLN4U\t45\r\n    CLN4U\t63\r\n    CLN4U\t81\r\n    CLN4U\t89\r\n    CLN4U\t89\r\n    CLN4U\t92\r\n\r\nI&#39;m not sure why it overwrites the other course codes, and after 2 it goes to a different code, but I&#39;m sure it&#39;s something little that I&#39;m overlooking. I&#39;m still new to this, so hopefully someone can help, thanks so much!\r\n","title":"Sorting an int array using a bubble sort, while keeping a String array at the same indices not working","body":"<p>I've run into a little problem that I can't seem to fix, and I'm a little crushed for time. Basically, I'm using this simple bubble sort to print a numerically sorted transcript of a students grades, and I need to keep the String array of course codes together with the marks.</p>\n<pre><code>    // Using bottom to check the smaller list each time\n            int bottom = marks.length - 1;\n\n            // Once there are no more swaps, the list is sorted and it will leave\n            boolean hadSwap = true;\n            while (hadSwap) {\n                // If there are no more swaps, it will leave\n                hadSwap = false;\n                \n                // Checking ALL elements that could need to be moves\n                for (int i = 0; i &lt; bottom; i++) {\n                \n                    // Checking two elements next to eachother to see if they need to be swapped\n                    if (marks[i] &gt; marks[i + 1]) {\n                        hadSwap = true;\n                        // If they need to be swapped, swap them\n                        int temp = marks[i];\n                        marks[i] = marks[i + 1];\n                        courses[i] = courses[i+1];\n                        marks[i + 1] = temp;\n                    }\n                }\n                // The final item is in the right spot, shorten the list\n                bottom--;\n            }\n    \n}\n</code></pre>\n<p>The algorithm works, but the output for the transcript with the courses[i] swapping the same way that the marks[i] do, is this:</p>\n<pre><code>Course  Mark\n---------------\nHZT4U   12\nHZT4U   43\nCLN4U   45\nCLN4U   63\nCLN4U   81\nCLN4U   89\nCLN4U   89\nCLN4U   92\n</code></pre>\n<p>I'm not sure why it overwrites the other course codes, and after 2 it goes to a different code, but I'm sure it's something little that I'm overlooking. I'm still new to this, so hopefully someone can help, thanks so much!</p>\n"},{"tags":["java","spring-mvc","jax-rs"],"comments":[{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":0,"creation_date":1636558933,"post_id":69916076,"comment_id":123590338,"body_markdown":"change it to &quot;/sample&quot; and see?","body":"change it to &quot;/sample&quot; and see?"},{"owner":{"account_id":13309908,"reputation":41,"user_id":9608515,"display_name":"Jo&#227;o Rodrigues"},"score":0,"creation_date":1636559246,"post_id":69916076,"comment_id":123590489,"body_markdown":"Already tried, no luck...","body":"Already tried, no luck..."},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":1,"creation_date":1636560212,"post_id":69916076,"comment_id":123590938,"body_markdown":"am still almost sure that its related to the leading &quot;/&quot; in the sample , the 2nd part of code looks ok , but the sample with no &quot;/&quot; look troubling to me .","body":"am still almost sure that its related to the leading &quot;/&quot; in the sample , the 2nd part of code looks ok , but the sample with no &quot;/&quot; look troubling to me ."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1636560705,"post_id":69916076,"comment_id":123591157,"body_markdown":"`@Path` and `@GET` are not Spring MVC annotations. You must be using some other web framework.","body":"<code>@Path</code> and <code>@GET</code> are not Spring MVC annotations. You must be using some other web framework."}],"answers":[{"tags":[],"owner":{"account_id":13309908,"reputation":41,"user_id":9608515,"display_name":"Jo&#227;o Rodrigues"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636645768,"creation_date":1636642982,"answer_id":69930511,"question_id":69916076,"body_markdown":"After a while, I found out that for the JAX-RS (@Path) I had configured in web.xml file a different route &quot;something&quot;. \r\nJAX-RS: localhost:8080**/something**/sample/s1\r\nSpring Rest Services: localhost:8080/sample/s1\r\n\r\nI was also missing a &quot;/&quot; in the Spring Rest Service. \r\n@RequestMapping(&quot;**/**sample&quot;)\r\n\r\nFull code bellow:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/sample&quot;)\r\n    public class CommonService {\r\n        \r\n        @GetMapping(value = &quot;/s1&quot;, produces = MediaType.APPLICATION_JSON)\r\n        public Object get() {\r\n            //Something\r\n        }\r\n        \r\n    }\r\n\r\n\r\n","title":"@Path works, but @RequestMapping doesn&#39;t Java Spring Boot","body":"<p>After a while, I found out that for the JAX-RS (@Path) I had configured in web.xml file a different route &quot;something&quot;.\nJAX-RS: localhost:8080**/something**/sample/s1\nSpring Rest Services: localhost:8080/sample/s1</p>\n<p>I was also missing a &quot;/&quot; in the Spring Rest Service.\n@RequestMapping(&quot;**/**sample&quot;)</p>\n<p>Full code bellow:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/sample&quot;)\npublic class CommonService {\n    \n    @GetMapping(value = &quot;/s1&quot;, produces = MediaType.APPLICATION_JSON)\n    public Object get() {\n        //Something\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":13309908,"reputation":41,"user_id":9608515,"display_name":"Jo&#227;o Rodrigues"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1636645785,"creation_date":1636558494,"question_id":69916076,"body_markdown":"This works, I am able to make a request in postman for this Service.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RestController\r\n    @Path(&quot;sample&quot;)\r\n    public class SampleClass {\r\n\r\n            @GET\r\n    \t@Path(value = &quot;/s1&quot;)\r\n    \tpublic Object get() {\r\n    \t\t//Something\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nThe problem is when I try to use `@RequestMapping` instead of `@Path`, I get a\r\n\r\n&gt;  404 Not Found\r\n\r\n Error.\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;sample&quot;)\r\n    public class CommonService {\r\n    \t\r\n    \t@GetMapping(value = &quot;/s1&quot;, produces = MediaType.APPLICATION_JSON)\r\n    \tpublic Object get() {\r\n    \t\t//Something\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nWhat I am doing wrong here?\r\n\r\n","title":"@Path works, but @RequestMapping doesn&#39;t Java Spring Boot","body":"<p>This works, I am able to make a request in postman for this Service.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@Path(&quot;sample&quot;)\npublic class SampleClass {\n\n        @GET\n    @Path(value = &quot;/s1&quot;)\n    public Object get() {\n        //Something\n    }\n    \n}\n</code></pre>\n<p>The problem is when I try to use <code>@RequestMapping</code> instead of <code>@Path</code>, I get a</p>\n<blockquote>\n<p>404 Not Found</p>\n</blockquote>\n<p>Error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;sample&quot;)\npublic class CommonService {\n    \n    @GetMapping(value = &quot;/s1&quot;, produces = MediaType.APPLICATION_JSON)\n    public Object get() {\n        //Something\n    }\n    \n}\n</code></pre>\n<p>What I am doing wrong here?</p>\n"},{"tags":["java","json","jackson"],"owner":{"account_id":168379,"reputation":16425,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636645771,"creation_date":1636645771,"question_id":69931167,"body_markdown":"I&#39;m working with a remote API which can change and I have no control over it.\r\nThis is why I have written myself a small jackson module that has a `DeserializationProblemHandler` implementation which logs those &quot;unknown properties&quot;.\r\nThis works just fine, but I want to make my life easier and log the actual received JSON in the logs as well.\r\n\r\nSo having the following JSON example:\r\n```\r\n{ &quot;myUnknownProperty&quot;: &quot;value123&quot;, &quot;myIgnoredProperty&quot;: true, &quot;myKnownProperty&quot;: true }\r\n```\r\n\r\nA log should look something similar to this:\r\n\r\n```\r\nWARN: Found unexpected property while parsing json: /myUnknownProperty (type: com.foo.PartiallyIgnoredPOJO); JSON { &quot;myUnknownProperty&quot;: &quot;value123&quot;, &quot;myIgnoredProperty&quot;: true, &quot;myKnownProperty&quot;: true }\r\n```\r\n\r\nHere is the test case I currently have:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.core.Version;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.databind.JsonDeserializer;\r\nimport com.fasterxml.jackson.databind.Module;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.deser.DeserializationProblemHandler;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport javax.annotation.Nullable;\r\nimport java.io.IOException;\r\n\r\nimport static org.mockito.Mockito.mock;\r\nimport static org.mockito.Mockito.verify;\r\n\r\npublic class ExampleTest\r\n{\r\n\r\n    // Test\r\n    @Test\r\n    public void mockTest() throws JsonProcessingException\r\n    {\r\n        Logger logger = mock(Logger.class);\r\n        try\r\n        {\r\n            new ObjectMapper().disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\r\n                              .registerModule(new UnknownPropertyModule(logger))\r\n                              .readValue(partiallyIgnoredSONSample, PartiallyIgnoredPOJO.class);\r\n        }\r\n        finally\r\n        {\r\n            verify(logger).warn(UnknownPropertyModule.MESSAGE, \r\n                                &quot;/myUnknownProperty&quot;, \r\n                                PartiallyIgnoredPOJO.class,\r\n                                partiallyIgnoredSONSample);\r\n        }\r\n    }\r\n\r\n    // Implementations\r\n    private static class UnknownPropertyDeserializationProblemHandler extends DeserializationProblemHandler\r\n    {\r\n\r\n        private final Logger logger;\r\n        private final String format;\r\n\r\n        UnknownPropertyDeserializationProblemHandler(final Logger logger, final String format)\r\n        {\r\n            this.logger = logger;\r\n            this.format = format;\r\n        }\r\n\r\n        @Override\r\n        public boolean handleUnknownProperty(final DeserializationContext context,\r\n                                             final JsonParser parser,\r\n                                             final JsonDeserializer&lt;?&gt; deserializer,\r\n                                             final Object beanOrClass,\r\n                                             final String propertyName) throws IOException\r\n        {\r\n            final Class&lt;?&gt; type = beanOrClass.getClass();\r\n            String jsonPath = parser.getParsingContext().pathAsPointer().toString();\r\n            String json = &quot;__How_to_get_the_entire_JSON_from_the_root___&quot;;\r\n            logger.warn(format, jsonPath, type, json);\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    private static class UnknownPropertyModule extends Module\r\n    {\r\n        public static final String MESSAGE = &quot;Found unexpected property while parsing json: {} (type: {}); JSON: {}&quot;;\r\n        private final Logger logger;\r\n\r\n        public UnknownPropertyModule(@Nullable final Logger logger)\r\n        {\r\n            this.logger = logger != null ? logger : LoggerFactory.getLogger(getClass().getName());\r\n        }\r\n\r\n        @Override\r\n        public String getModuleName()\r\n        {\r\n            return getClass().getSimpleName();\r\n        }\r\n\r\n        @Override\r\n        public Version version()\r\n        {\r\n            return Version.unknownVersion();\r\n        }\r\n\r\n        @Override\r\n        public void setupModule(Module.SetupContext context)\r\n        {\r\n            context.addDeserializationProblemHandler(new UnknownPropertyDeserializationProblemHandler(logger, MESSAGE));\r\n        }\r\n    }\r\n\r\n    // Example json &amp; mapping.\r\n    private static final String partiallyIgnoredSONSample = &quot;{ \\&quot;myUnknownProperty\\&quot;: \\&quot;value123\\&quot;, \\&quot;myIgnoredProperty\\&quot;: true, \\&quot;myKnownProperty\\&quot;: true }&quot;;\r\n\r\n    @JsonIgnoreProperties(&quot;myIgnoredProperty&quot;)\r\n    private static class PartiallyIgnoredPOJO\r\n    {\r\n\r\n        private final boolean myKnownProperty;\r\n\r\n        @JsonCreator\r\n        public PartiallyIgnoredPOJO(@JsonProperty(&quot;myKnownProperty&quot;) boolean myKnownProperty)\r\n        {\r\n            this.myKnownProperty = myKnownProperty;\r\n        }\r\n\r\n        public boolean getMyKnownProperty()\r\n        {\r\n            return myKnownProperty;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nFrom what I&#39;ve seen in the debugger, you could use `parser.getParsingContext().getParent()` to get to the `json root`, but I&#39;m unsure how to get the actual buffered data. Any ideas?","title":"Get parent json string inside DeserializationProblemHandler (Jackson)","body":"<p>I'm working with a remote API which can change and I have no control over it.\nThis is why I have written myself a small jackson module that has a <code>DeserializationProblemHandler</code> implementation which logs those &quot;unknown properties&quot;.\nThis works just fine, but I want to make my life easier and log the actual received JSON in the logs as well.</p>\n<p>So having the following JSON example:</p>\n<pre><code>{ &quot;myUnknownProperty&quot;: &quot;value123&quot;, &quot;myIgnoredProperty&quot;: true, &quot;myKnownProperty&quot;: true }\n</code></pre>\n<p>A log should look something similar to this:</p>\n<pre><code>WARN: Found unexpected property while parsing json: /myUnknownProperty (type: com.foo.PartiallyIgnoredPOJO); JSON { &quot;myUnknownProperty&quot;: &quot;value123&quot;, &quot;myIgnoredProperty&quot;: true, &quot;myKnownProperty&quot;: true }\n</code></pre>\n<p>Here is the test case I currently have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.Version;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.Module;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.deser.DeserializationProblemHandler;\nimport org.junit.jupiter.api.Test;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport javax.annotation.Nullable;\nimport java.io.IOException;\n\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.verify;\n\npublic class ExampleTest\n{\n\n    // Test\n    @Test\n    public void mockTest() throws JsonProcessingException\n    {\n        Logger logger = mock(Logger.class);\n        try\n        {\n            new ObjectMapper().disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\n                              .registerModule(new UnknownPropertyModule(logger))\n                              .readValue(partiallyIgnoredSONSample, PartiallyIgnoredPOJO.class);\n        }\n        finally\n        {\n            verify(logger).warn(UnknownPropertyModule.MESSAGE, \n                                &quot;/myUnknownProperty&quot;, \n                                PartiallyIgnoredPOJO.class,\n                                partiallyIgnoredSONSample);\n        }\n    }\n\n    // Implementations\n    private static class UnknownPropertyDeserializationProblemHandler extends DeserializationProblemHandler\n    {\n\n        private final Logger logger;\n        private final String format;\n\n        UnknownPropertyDeserializationProblemHandler(final Logger logger, final String format)\n        {\n            this.logger = logger;\n            this.format = format;\n        }\n\n        @Override\n        public boolean handleUnknownProperty(final DeserializationContext context,\n                                             final JsonParser parser,\n                                             final JsonDeserializer&lt;?&gt; deserializer,\n                                             final Object beanOrClass,\n                                             final String propertyName) throws IOException\n        {\n            final Class&lt;?&gt; type = beanOrClass.getClass();\n            String jsonPath = parser.getParsingContext().pathAsPointer().toString();\n            String json = &quot;__How_to_get_the_entire_JSON_from_the_root___&quot;;\n            logger.warn(format, jsonPath, type, json);\n            return false;\n        }\n\n    }\n\n    private static class UnknownPropertyModule extends Module\n    {\n        public static final String MESSAGE = &quot;Found unexpected property while parsing json: {} (type: {}); JSON: {}&quot;;\n        private final Logger logger;\n\n        public UnknownPropertyModule(@Nullable final Logger logger)\n        {\n            this.logger = logger != null ? logger : LoggerFactory.getLogger(getClass().getName());\n        }\n\n        @Override\n        public String getModuleName()\n        {\n            return getClass().getSimpleName();\n        }\n\n        @Override\n        public Version version()\n        {\n            return Version.unknownVersion();\n        }\n\n        @Override\n        public void setupModule(Module.SetupContext context)\n        {\n            context.addDeserializationProblemHandler(new UnknownPropertyDeserializationProblemHandler(logger, MESSAGE));\n        }\n    }\n\n    // Example json &amp; mapping.\n    private static final String partiallyIgnoredSONSample = &quot;{ \\&quot;myUnknownProperty\\&quot;: \\&quot;value123\\&quot;, \\&quot;myIgnoredProperty\\&quot;: true, \\&quot;myKnownProperty\\&quot;: true }&quot;;\n\n    @JsonIgnoreProperties(&quot;myIgnoredProperty&quot;)\n    private static class PartiallyIgnoredPOJO\n    {\n\n        private final boolean myKnownProperty;\n\n        @JsonCreator\n        public PartiallyIgnoredPOJO(@JsonProperty(&quot;myKnownProperty&quot;) boolean myKnownProperty)\n        {\n            this.myKnownProperty = myKnownProperty;\n        }\n\n        public boolean getMyKnownProperty()\n        {\n            return myKnownProperty;\n        }\n\n    }\n\n}\n</code></pre>\n<p>From what I've seen in the debugger, you could use <code>parser.getParsingContext().getParent()</code> to get to the <code>json root</code>, but I'm unsure how to get the actual buffered data. Any ideas?</p>\n"},{"tags":["java","sql-server","database","oracle","concurrency"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1426965904,"post_id":29186235,"comment_id":46589058,"body_markdown":"Why do the DB query and calculation phases need to be synchronized? Is the data used for the calculation in the same table as the inserted row -- can you elaborate?","body":"Why do the DB query and calculation phases need to be synchronized? Is the data used for the calculation in the same table as the inserted row -- can you elaborate?"},{"owner":{"account_id":5977503,"reputation":21,"user_id":4697835,"display_name":"kuo"},"score":0,"creation_date":1426967252,"post_id":29186235,"comment_id":46589481,"body_markdown":"Let&#39;s say for sake of simplicity i want to generate sequence of number 1,2,3,4...etc but i dont want to use auto-increment feature. So each thread needs to read last (let&#39;s say max number) ,increment by 1  and insert new row with this number. ...Yes data for the calculation is in the same table as the inserted row.","body":"Let&#39;s say for sake of simplicity i want to generate sequence of number 1,2,3,4...etc but i dont want to use auto-increment feature. So each thread needs to read last (let&#39;s say max number) ,increment by 1  and insert new row with this number. ...Yes data for the calculation is in the same table as the inserted row."},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":1,"creation_date":1426977720,"post_id":29186235,"comment_id":46592416,"body_markdown":"If your solution has to support three different RDBMS, then the safest solution is probably to synchronize the data access on the application level. This might cause a huge performance hit (if you have many concurrent users) however, because essentially you&#39;re only allowing one user to update the table at a time and the locking time will include the latency between your app server and the DB.","body":"If your solution has to support three different RDBMS, then the safest solution is probably to synchronize the data access on the application level. This might cause a huge performance hit (if you have many concurrent users) however, because essentially you&#39;re only allowing one user to update the table at a time and the locking time will include the latency between your app server and the DB."},{"owner":{"account_id":443653,"reputation":2215,"user_id":835000,"accept_rate":83,"display_name":"svaor"},"score":1,"creation_date":1438601930,"post_id":29186235,"comment_id":51501142,"body_markdown":"May be this is the case for optimistic lock. Something like `UPDATE table1 SET data = data + 1 WHERE date = :previousValue`? Then you can look at the rows updated and spin on this update. This approach can be acceptable in some cases, eg. short transactions and simple calculations.","body":"May be this is the case for optimistic lock. Something like <code>UPDATE table1 SET data = data + 1 WHERE date = :previousValue</code>? Then you can look at the rows updated and spin on this update. This approach can be acceptable in some cases, eg. short transactions and simple calculations."}],"answers":[{"tags":[],"owner":{"account_id":4360936,"reputation":653,"user_id":3558040,"display_name":"xkothe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426962074,"creation_date":1426962074,"answer_id":29186338,"question_id":29186235,"body_markdown":"It&#39;s going to work fine. I mean, it&#39;s hard too say if it&#39;s fast than database by just lookin at it. You should run some benchmarks! In my opinion, you should use database approach if other applications need to run this same code, on multi-application level, the synchronize way will not work.","title":"java synchronize database queries on application level","body":"<p>It's going to work fine. I mean, it's hard too say if it's fast than database by just lookin at it. You should run some benchmarks! In my opinion, you should use database approach if other applications need to run this same code, on multi-application level, the synchronize way will not work.</p>\n"}],"owner":{"account_id":5977503,"reputation":21,"user_id":4697835,"display_name":"kuo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1567,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636645568,"creation_date":1426961579,"question_id":29186235,"body_markdown":"i need to perform db queries(SELECT, INSERT) on one table in multi-threaded application(non-distributed). Here is a scenario:\r\n\r\n 1. DB SELECT data \r\n 2. calculate data\r\n 3. DB INSERT new data according calculation\r\n\r\nEach row must be unique so threads must perform this scenario one by one. Solution has to work on various DB servers(Oracle, MSSQL, Postgres)\r\n\r\nI&#39;ve got 2 approaches so far. \r\nOne is on db level. I&#39;m using lock on table(ORACLE) or on rows(MSSQL). It works just fine but there is some boilerplate code for each db i dont like.\r\n\r\nMSSQL: SELECT data ... with (xlock,ROWLOCK)&lt;br/&gt;\r\nORACLE:lock table TBL1 in exclusive mode ... SELECT data...\r\n\r\n2nd approach is on application level, Where i&#39;ve got\r\n&lt;pre&gt;\r\n\r\n    private static Object lock = new Object();\r\n    void execute()\r\n    {\r\n     synchronized(lock){\r\n       //perform DB SELECT data\r\n        calculate(data);// eg.: data++;\r\n       //perform DB INSERT data\r\n     }\r\n    }\r\n\r\n&lt;/pre&gt;\r\nIt just work but i want to know if this 2nd approach is fair/correct enough? \r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n","title":"java synchronize database queries on application level","body":"<p>i need to perform db queries(SELECT, INSERT) on one table in multi-threaded application(non-distributed). Here is a scenario:</p>\n\n<ol>\n<li>DB SELECT data </li>\n<li>calculate data</li>\n<li>DB INSERT new data according calculation</li>\n</ol>\n\n<p>Each row must be unique so threads must perform this scenario one by one. Solution has to work on various DB servers(Oracle, MSSQL, Postgres)</p>\n\n<p>I've got 2 approaches so far. \nOne is on db level. I'm using lock on table(ORACLE) or on rows(MSSQL). It works just fine but there is some boilerplate code for each db i dont like.</p>\n\n<p>MSSQL: SELECT data ... with (xlock,ROWLOCK)<br/>\nORACLE:lock table TBL1 in exclusive mode ... SELECT data...</p>\n\n<p>2nd approach is on application level, Where i've got</p>\n\n<pre>\n\n    private static Object lock = new Object();\n    void execute()\n    {\n     synchronized(lock){\n       //perform DB SELECT data\n        calculate(data);// eg.: data++;\n       //perform DB INSERT data\n     }\n    }\n\n</pre>\n\n<p>It just work but i want to know if this 2nd approach is fair/correct enough? </p>\n"},{"tags":["java","class","subclass","superclass","javahelp"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1636644940,"post_id":69930880,"comment_id":123617419,"body_markdown":"You are mixing up a lot of terminology in your question talking about &quot;projects&quot; and &quot;folders&quot; and mixing them up with Java classes.  You can&#39;t make &quot;folder A my superclass&quot; for example because folders cannot be superclasses. A superclass has to be a class as the name suggests. I&#39;d recommend taking a step back and reading a good tutorial about what Java classes are and how inheritance in them works. eG: https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html","body":"You are mixing up a lot of terminology in your question talking about &quot;projects&quot; and &quot;folders&quot; and mixing them up with Java classes.  You can&#39;t make &quot;folder A my superclass&quot; for example because folders cannot be superclasses. A superclass has to be a class as the name suggests. I&#39;d recommend taking a step back and reading a good tutorial about what Java classes are and how inheritance in them works. eG: <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/subclasses.html</a>"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1636649202,"post_id":69930880,"comment_id":123619201,"body_markdown":"No need for two projects. To make it simple  have one project, create a package (folder) under src and create both classes in that folder.","body":"No need for two projects. To make it simple  have one project, create a package (folder) under src and create both classes in that folder."}],"owner":{"account_id":23307891,"reputation":3,"user_id":17387592,"display_name":"Elisa Arcosti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636644550,"creation_date":1636644550,"question_id":69930880,"body_markdown":"I think I have understood what a subclass and a superclass are, but I am having issues with creating them inside a Java file: do I have to create e new project for every class? Let&#39;s say I have two projects &quot;A&quot; and &quot;B&quot;, where B is going to be the extension of A, what do I select when creating a new class on Eclipse to make folder A my superclass? \r\nI would be ever so grateful if you could help me!! Thank you!! ","title":"how to extract with Java lang on Eclipse","body":"<p>I think I have understood what a subclass and a superclass are, but I am having issues with creating them inside a Java file: do I have to create e new project for every class? Let's say I have two projects &quot;A&quot; and &quot;B&quot;, where B is going to be the extension of A, what do I select when creating a new class on Eclipse to make folder A my superclass?\nI would be ever so grateful if you could help me!! Thank you!!</p>\n"},{"tags":["java","eclipse","maven","jstl"],"comments":[{"owner":{"account_id":6245145,"reputation":137,"user_id":4857360,"accept_rate":100,"display_name":"mc805"},"score":0,"creation_date":1445120251,"post_id":33192129,"comment_id":54190115,"body_markdown":"Missing artifact javax.servlet.jsp.jstl:jstl:jar:1.2\n&lt;---- I also get this when I try to type it manually under Group Id Artifcat Id","body":"Missing artifact javax.servlet.jsp.jstl:jstl:jar:1.2 &lt;---- I also get this when I try to type it manually under Group Id Artifcat Id"}],"answers":[{"tags":[],"owner":{"account_id":7047892,"reputation":2457,"user_id":5398113,"display_name":"question_maven_com"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1491503401,"creation_date":1445130411,"answer_id":33193293,"question_id":33192129,"body_markdown":"Add this to your pom and change the versions if you want :\r\n\t\r\n\r\n    &lt;groupId&gt;javax&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;6.0&lt;/version&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n","title":"Adding jstl as a Maven Dependency","body":"<p>Add this to your pom and change the versions if you want :</p>\n\n<pre><code>&lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n        &lt;version&gt;6.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15739770,"reputation":11,"user_id":11357565,"display_name":"Ariel-."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629145445,"creation_date":1629145445,"answer_id":68808827,"question_id":33192129,"body_markdown":"Add this to your pom (below), then you can go to project, rigth-click-&gt; Maven -&gt; Update Project and wait few seconds for the sinc and &quot;voila&quot; (y)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Adding jstl as a Maven Dependency","body":"<p>Add this to your pom (below), then you can go to project, rigth-click-&gt; Maven -&gt; Update Project and wait few seconds for the sinc and &quot;voila&quot; (y)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax&lt;/groupId&gt;\n    &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n    &lt;version&gt;6.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636644543,"creation_date":1636644543,"answer_id":69930874,"question_id":33192129,"body_markdown":"&gt;You&#39;re seeing it because of &lt;groupid&gt;\r\n\r\nTry to add this\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nInstead of this\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nIt&#39;ll solve your problem.","title":"Adding jstl as a Maven Dependency","body":"<blockquote>\n<p>You're seeing it because of </p>\n</blockquote>\n<p>Try to add this</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Instead of this</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It'll solve your problem.</p>\n"}],"owner":{"account_id":6245145,"reputation":137,"user_id":4857360,"accept_rate":100,"display_name":"mc805"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18393,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1636648099,"accepted_answer_id":33193293,"answer_count":3,"score":5,"last_activity_date":1636644543,"creation_date":1445119963,"question_id":33192129,"body_markdown":"I&#39;m using Eclipse to add Maven Dependencies to my project.\r\n\r\nWhile going to the create pom.xml then clicking the dependencies tab, I&#39;m able to select spring jar dependencies but I cannot find or load jstl from here.  Does anyone know how to automatically do it from this screen, or does this always have to be manually typed in to the pom.xml\r\n\r\njavax.servlet.jsp.jstl &lt;-- I believe is the current\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aET4d.png","title":"Adding jstl as a Maven Dependency","body":"<p>I'm using Eclipse to add Maven Dependencies to my project.</p>\n\n<p>While going to the create pom.xml then clicking the dependencies tab, I'm able to select spring jar dependencies but I cannot find or load jstl from here.  Does anyone know how to automatically do it from this screen, or does this always have to be manually typed in to the pom.xml</p>\n\n<p>javax.servlet.jsp.jstl &lt;-- I believe is the current</p>\n\n<p><a href=\"https://i.stack.imgur.com/aET4d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aET4d.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1443513587,"post_id":32838699,"comment_id":53512311,"body_markdown":"You are accepting `application/json; charset=UTF-8` but are sending `application/json`... Doesn&#39;t match., hence unsupported.","body":"You are accepting <code>application&#47;json; charset=UTF-8</code> but are sending <code>application&#47;json</code>... Doesn&#39;t match., hence unsupported."},{"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"score":0,"creation_date":1443513884,"post_id":32838699,"comment_id":53512494,"body_markdown":"I&#39;ve updated my code according to your suggestion, but it still does not work.","body":"I&#39;ve updated my code according to your suggestion, but it still does not work."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1443514506,"post_id":32838699,"comment_id":53512798,"body_markdown":"Are you sending the correct JSON?","body":"Are you sending the correct JSON?"},{"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"score":0,"creation_date":1443515008,"post_id":32838699,"comment_id":53513055,"body_markdown":"Looks correct. I&#39;ve added JSON input (in comments in the test). I&#39;ve also added the definition of ProjectInput class.","body":"Looks correct. I&#39;ve added JSON input (in comments in the test). I&#39;ve also added the definition of ProjectInput class."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1443515240,"post_id":32838699,"comment_id":53513177,"body_markdown":"You don&#39;t have a setter for the properties.","body":"You don&#39;t have a setter for the properties."},{"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"score":0,"creation_date":1443515680,"post_id":32838699,"comment_id":53513446,"body_markdown":"Added setters, but it didn&#39;t help.","body":"Added setters, but it didn&#39;t help."},{"owner":{"account_id":56223,"reputation":4205,"user_id":168387,"accept_rate":55,"display_name":"edbras"},"score":0,"creation_date":1547299407,"post_id":32838699,"comment_id":95150042,"body_markdown":"Ensure that ProjectInput extends from Spring ResourceSupport and use the Spring Assembler to convert it to your own DTO (very easy to see when you debug, as Spring converters won&#39;t accept your own object)","body":"Ensure that ProjectInput extends from Spring ResourceSupport and use the Spring Assembler to convert it to your own DTO (very easy to see when you debug, as Spring converters won&#39;t accept your own object)"}],"answers":[{"tags":[],"owner":{"account_id":5745496,"reputation":4100,"user_id":4536841,"display_name":"Nikolay Rusev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443520384,"creation_date":1443515234,"answer_id":32839256,"question_id":32838699,"body_markdown":"Hello change your controller&#39;s method params  consumes and produces to:\r\n\r\n    consumes = MediaType.APPLICATION_JSON_VALUE,produces = MediaType.APPLICATION_JSON_VALUE\r\n\r\nand your test case to \r\n\r\n    @Test\r\n        public void testAddProject() throws Exception {\r\n            ProjectInput input = new ProjectInput(&quot;name&quot;, &quot;description&quot;);\r\n            mockMvc.perform(post(&quot;/projects/&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(new ObjectMapper().writeValueAsString(input)))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON));\r\n        }\r\n\r\nEDIT:\r\n\r\nThe problem is in your `Project` class. Missing default constructor.","title":"Spring MVC testing results in 415 error","body":"<p>Hello change your controller's method params  consumes and produces to:</p>\n\n<pre><code>consumes = MediaType.APPLICATION_JSON_VALUE,produces = MediaType.APPLICATION_JSON_VALUE\n</code></pre>\n\n<p>and your test case to </p>\n\n<pre><code>@Test\n    public void testAddProject() throws Exception {\n        ProjectInput input = new ProjectInput(\"name\", \"description\");\n        mockMvc.perform(post(\"/projects/\")\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(new ObjectMapper().writeValueAsString(input)))\n            .andExpect(status().isOk())\n            .andExpect(content().contentType(MediaType.APPLICATION_JSON));\n    }\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>The problem is in your <code>Project</code> class. Missing default constructor.</p>\n"},{"tags":[],"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1443554285,"creation_date":1443554285,"answer_id":32852115,"question_id":32838699,"body_markdown":"I didn&#39;t have message converter bean in my applicationContext.xml.\r\n\r\nI had to add the following to it:\r\n\r\n    &lt;bean id=&quot;jacksonMessageConverter&quot; `class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;/&gt;`\r\n    &lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n        &lt;property name=&quot;messageConverters&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;ref bean=&quot;jacksonMessageConverter&quot;/&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nNow everything works fine.\r\n","title":"Spring MVC testing results in 415 error","body":"<p>I didn't have message converter bean in my applicationContext.xml.</p>\n\n<p>I had to add the following to it:</p>\n\n<pre><code>&lt;bean id=\"jacksonMessageConverter\" `class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"/&gt;`\n&lt;bean class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;list&gt;\n            &lt;ref bean=\"jacksonMessageConverter\"/&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Now everything works fine.</p>\n"},{"tags":[],"owner":{"account_id":3653621,"reputation":1782,"user_id":3045181,"accept_rate":73,"display_name":"tokosh"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1457667815,"creation_date":1457667815,"answer_id":35931787,"question_id":32838699,"body_markdown":"I had a similar case and I could solve it by adding both header-accept AND content-type.\r\n\r\n    Headers = {Accept=[application/json;charset=UTF-8], \r\n                       Content-Type=[application/json;charset=UTF-8]}\r\n\r\nIn the test module:\r\n\r\n    MediaType MEDIA_TYPE_JSON_UTF8 = new MediaType(&quot;application&quot;, &quot;json&quot;, java.nio.charset.Charset.forName(&quot;UTF-8&quot;));\r\n    MockHttpServletRequestBuilder request = post(&quot;/myPostPath&quot;);\r\n    request.content(json);\r\n    request.locale(Locale.JAPANESE);\r\n    request.accept(MEDIA_TYPE_JSON_UTF8);\r\n    request.contentType(MEDIA_TYPE_JSON_UTF8);\r\n    mockMvc.perform(request)\r\n    \t.andDo(print())\r\n    \t.andExpect(status().isOk());\r\n\r\nFirst I only put `request.accept(..)`. But after adding `request.contentType(..)` it finally worked.","title":"Spring MVC testing results in 415 error","body":"<p>I had a similar case and I could solve it by adding both header-accept AND content-type.</p>\n\n<pre><code>Headers = {Accept=[application/json;charset=UTF-8], \n                   Content-Type=[application/json;charset=UTF-8]}\n</code></pre>\n\n<p>In the test module:</p>\n\n<pre><code>MediaType MEDIA_TYPE_JSON_UTF8 = new MediaType(\"application\", \"json\", java.nio.charset.Charset.forName(\"UTF-8\"));\nMockHttpServletRequestBuilder request = post(\"/myPostPath\");\nrequest.content(json);\nrequest.locale(Locale.JAPANESE);\nrequest.accept(MEDIA_TYPE_JSON_UTF8);\nrequest.contentType(MEDIA_TYPE_JSON_UTF8);\nmockMvc.perform(request)\n    .andDo(print())\n    .andExpect(status().isOk());\n</code></pre>\n\n<p>First I only put <code>request.accept(..)</code>. But after adding <code>request.contentType(..)</code> it finally worked.</p>\n"},{"tags":[],"owner":{"account_id":1159066,"reputation":763,"user_id":1163758,"display_name":"Jeremy Ferguson"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1460060529,"creation_date":1460060529,"answer_id":36486440,"question_id":32838699,"body_markdown":"I ran into this issue and was able to fix it by adding the @EnableWebMvc annotation to my test&#39;s SpringContext class.","title":"Spring MVC testing results in 415 error","body":"<p>I ran into this issue and was able to fix it by adding the @EnableWebMvc annotation to my test's SpringContext class.</p>\n"},{"tags":[],"owner":{"account_id":1933059,"reputation":169,"user_id":1742058,"display_name":"Charles Hasegawa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636644399,"creation_date":1636644399,"answer_id":69930841,"question_id":32838699,"body_markdown":"I was running into a similar issue - the issue for me was not setting the content type nor an issue with the JSON, rather that I did NOT have a JSON parser on the classpath. I realized that Spring wasn&#39;t including what I needed. Adding the Jackson databind (et al) jars to my build file resolved the issues","title":"Spring MVC testing results in 415 error","body":"<p>I was running into a similar issue - the issue for me was not setting the content type nor an issue with the JSON, rather that I did NOT have a JSON parser on the classpath. I realized that Spring wasn't including what I needed. Adding the Jackson databind (et al) jars to my build file resolved the issues</p>\n"}],"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20991,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":35931787,"answer_count":5,"score":18,"last_activity_date":1636644399,"creation_date":1443513482,"question_id":32838699,"body_markdown":"I am trying to write integration tests for my REST API implemented with Spring MVC.\r\n\r\nHere is my REST implementation:\r\n\r\n\r\n\r\n    import org.myproject.api.input.ProjectInput;\r\n    import org.myproject.dao.ProjectsDao;\r\n    import org.myproject.model.Project;\r\n    import org.myproject.model.Projects;\r\n    import org.myproject.util.Exceptions;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.*;\r\n    @RestController\r\n    @RequestMapping(&quot;/projects&quot;)\r\n    public class ProjectsApi {\r\n    \r\n        @Autowired\r\n        private ProjectsDao projectsDao;\r\n    \r\n        ...\r\n    \r\n        @RequestMapping(value = &quot;/&quot;,\r\n            method = RequestMethod.POST,\r\n            produces = {&quot;application/json&quot;},\r\n            consumes = {&quot;application/json&quot;})\r\n        public @ResponseBody Project addProject(@RequestBody ProjectInput projectInput) throws IOException {\r\n            logger.info(&quot;Add project&quot;);\r\n            Project project = projectInput.createProject();\r\n            projectsDao.add(project);\r\n\r\n            return project;\r\n         }\r\n    }\r\n\r\nHere is ProjectInput class:\r\n\r\n    @XmlRootElement\r\n    public class ProjectInput {\r\n        private String name;\r\n        private String description;\r\n    \r\n        // Constructor to make JSON converter happy\r\n        private ProjectInput() {}\r\n    \r\n        public ProjectInput(String name, String description) {\r\n            this.name = name;\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    }\r\n\r\nAnd here is my test:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.openboard.api.input.ProjectInput;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    import org.springframework.test.context.web.WebAppConfiguration;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n    import org.springframework.web.context.WebApplicationContext;\r\n    \r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @ContextConfiguration(locations={&quot;classpath*:applicationContext.xml&quot;})\r\n    public class TestProjectsApi {\r\n    \r\n        @Autowired\r\n        private WebApplicationContext wac;\r\n    \r\n        private MockMvc mockMvc;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\r\n        }\r\n    \r\n        @Test\r\n        public void testAddProject() throws Exception {\r\n            ProjectInput input = new ProjectInput(&quot;name&quot;, &quot;description&quot;);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            String json = mapper.writeValueAsString(input);\r\n            // json value is: {&quot;name&quot;:&quot;name&quot;,&quot;description&quot;:&quot;description&quot;}\r\n\r\n            mockMvc.perform(post(&quot;/projects/&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(json.getBytes()))\r\n            .andDo(print())\r\n            .andExpect(status().isOk())\r\n            .andExpect(content().contentType(MediaType.APPLICATION_JSON));\r\n        }\r\n    }\r\n\r\nUnfortunately I receive the following error:\r\n\r\n    org.myproject.api.TestProjectsApi &gt; testAddProject FAILED\r\n        java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;415&gt;\r\n            at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:60)\r\n            at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:89)\r\n            at org.springframework.test.web.servlet.result.StatusResultMatchers$10.match(StatusResultMatchers.java:653)\r\n            at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:152)\r\n            at org.myproject.api.TestProjectsApi.testAddProject(TestProjectsApi.java:48)\r\n\r\nI execute the tests in a terminal using the following Gradle command:\r\n\r\n    ./gradlew --daemon test --info\r\n\r\n\r\nUPD. I&#39;ve added a print() to the request to see what is being sent/received:\r\n\r\n    org.myproject.api.TestProjectsApi &gt; testAddProject STANDARD_OUT\r\n    \r\n        MockHttpServletRequest:\r\n                 HTTP Method = POST\r\n                 Request URI = /projects/\r\n                  Parameters = {}\r\n                     Headers = {Content-Type=[application/json]}\r\n    \r\n                     Handler:\r\n                        Type = org.myproject.api.ProjectsApi\r\n    \r\n                       Async:\r\n               Async started = false\r\n                Async result = null\r\n    \r\n          Resolved Exception:\r\n                        Type = org.springframework.web.HttpMediaTypeNotSupportedException\r\n    \r\n                ModelAndView:\r\n                   View name = null\r\n                        View = null\r\n                       Model = null\r\n    \r\n                    FlashMap:\r\n    \r\n        MockHttpServletResponse:\r\n                      Status = 415\r\n               Error message = null\r\n                     Headers = {Accept=[application/octet-stream, */*, text/plain;charset=ISO-8859-1, */*, application/xml, text/xml, application/*+xml, application/x-www-form-urlencoded, multipart/form-data]}\r\n                Content type = null\r\n                        Body = \r\n               Forwarded URL = null\r\n              Redirected URL = null\r\n                     Cookies = []\r\n    Gradle Test Executor 1 finished executing tests.\r\n\r\n","title":"Spring MVC testing results in 415 error","body":"<p>I am trying to write integration tests for my REST API implemented with Spring MVC.</p>\n\n<p>Here is my REST implementation:</p>\n\n<pre><code>import org.myproject.api.input.ProjectInput;\nimport org.myproject.dao.ProjectsDao;\nimport org.myproject.model.Project;\nimport org.myproject.model.Projects;\nimport org.myproject.util.Exceptions;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.*;\n@RestController\n@RequestMapping(\"/projects\")\npublic class ProjectsApi {\n\n    @Autowired\n    private ProjectsDao projectsDao;\n\n    ...\n\n    @RequestMapping(value = \"/\",\n        method = RequestMethod.POST,\n        produces = {\"application/json\"},\n        consumes = {\"application/json\"})\n    public @ResponseBody Project addProject(@RequestBody ProjectInput projectInput) throws IOException {\n        logger.info(\"Add project\");\n        Project project = projectInput.createProject();\n        projectsDao.add(project);\n\n        return project;\n     }\n}\n</code></pre>\n\n<p>Here is ProjectInput class:</p>\n\n<pre><code>@XmlRootElement\npublic class ProjectInput {\n    private String name;\n    private String description;\n\n    // Constructor to make JSON converter happy\n    private ProjectInput() {}\n\n    public ProjectInput(String name, String description) {\n        this.name = name;\n        this.description = description;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n}\n</code></pre>\n\n<p>And here is my test:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.openboard.api.input.ProjectInput;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.web.WebAppConfiguration;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.context.WebApplicationContext;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\n@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(locations={\"classpath*:applicationContext.xml\"})\npublic class TestProjectsApi {\n\n    @Autowired\n    private WebApplicationContext wac;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() {\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\n    }\n\n    @Test\n    public void testAddProject() throws Exception {\n        ProjectInput input = new ProjectInput(\"name\", \"description\");\n        ObjectMapper mapper = new ObjectMapper();\n        String json = mapper.writeValueAsString(input);\n        // json value is: {\"name\":\"name\",\"description\":\"description\"}\n\n        mockMvc.perform(post(\"/projects/\")\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(json.getBytes()))\n        .andDo(print())\n        .andExpect(status().isOk())\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON));\n    }\n}\n</code></pre>\n\n<p>Unfortunately I receive the following error:</p>\n\n<pre><code>org.myproject.api.TestProjectsApi &gt; testAddProject FAILED\n    java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;415&gt;\n        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:60)\n        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:89)\n        at org.springframework.test.web.servlet.result.StatusResultMatchers$10.match(StatusResultMatchers.java:653)\n        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:152)\n        at org.myproject.api.TestProjectsApi.testAddProject(TestProjectsApi.java:48)\n</code></pre>\n\n<p>I execute the tests in a terminal using the following Gradle command:</p>\n\n<pre><code>./gradlew --daemon test --info\n</code></pre>\n\n<p>UPD. I've added a print() to the request to see what is being sent/received:</p>\n\n<pre><code>org.myproject.api.TestProjectsApi &gt; testAddProject STANDARD_OUT\n\n    MockHttpServletRequest:\n             HTTP Method = POST\n             Request URI = /projects/\n              Parameters = {}\n                 Headers = {Content-Type=[application/json]}\n\n                 Handler:\n                    Type = org.myproject.api.ProjectsApi\n\n                   Async:\n           Async started = false\n            Async result = null\n\n      Resolved Exception:\n                    Type = org.springframework.web.HttpMediaTypeNotSupportedException\n\n            ModelAndView:\n               View name = null\n                    View = null\n                   Model = null\n\n                FlashMap:\n\n    MockHttpServletResponse:\n                  Status = 415\n           Error message = null\n                 Headers = {Accept=[application/octet-stream, */*, text/plain;charset=ISO-8859-1, */*, application/xml, text/xml, application/*+xml, application/x-www-form-urlencoded, multipart/form-data]}\n            Content type = null\n                    Body = \n           Forwarded URL = null\n          Redirected URL = null\n                 Cookies = []\nGradle Test Executor 1 finished executing tests.\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636622476,"creation_date":1636622476,"answer_id":69925859,"question_id":69925611,"body_markdown":"&gt; Now how to make it possible to create a maximum of 3 accounts on the deviceID?\r\n\r\nSimply by checking:\r\n\r\n    if (snapshot.exists()) {\r\n        if (snapshot.getChildrenCount() &lt;= 3) {\r\n            createAccount(email, pass);\r\n        } else {\r\n            Log.d(&quot;TAG&quot;, &quot;You reached the maximum limit of three account per deviceID.&quot;);\r\n        }\r\n    }","title":"How to authorize a maximum of 3 accounts with Firebase Realtime Database?","body":"<blockquote>\n<p>Now how to make it possible to create a maximum of 3 accounts on the deviceID?</p>\n</blockquote>\n<p>Simply by checking:</p>\n<pre><code>if (snapshot.exists()) {\n    if (snapshot.getChildrenCount() &lt;= 3) {\n        createAccount(email, pass);\n    } else {\n        Log.d(&quot;TAG&quot;, &quot;You reached the maximum limit of three account per deviceID.&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22575199,"reputation":71,"user_id":16760803,"display_name":"arma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69925859,"answer_count":1,"score":1,"last_activity_date":1636643770,"creation_date":1636621277,"question_id":69925611,"body_markdown":"I found this code that allows you to create an account on the deviceID:\r\n\r\n```\r\nprivate void queryAccountExistence(final String email,final String password) {\r\n\r\n\t DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\r\n\r\n\t Query query = ref.orderByChild(&quot;deviceID&quot;).equalTo(deviceID);\r\n\r\n\t query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n\t @Override\r\n\t public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n\t if (snapshot.exists()) {\r\n\t //la device est d&#233;j&#224; enregistr&#233;\r\n\t Toast.makeText(RegisterActivity.this,\r\n\t &quot;Cette device est d&#233;j&#224; li&#233; &#224; un compte, connectez-vous&quot;,\r\n\t Toast.LENGTH_SHORT).show();\r\n\r\n\t } else {\r\n\t //Aucune deviceID trouv&#233;\r\n\t createAccount(email, pass);\r\n\r\n\t }\r\n\r\n\t }\r\n\r\n\t @Override\r\n\t public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n\t }\r\n\t });\r\n}\r\n```\r\n\r\n**Now how to make it possible to create a maximum of 3 accounts on the deviceID?**","title":"How to authorize a maximum of 3 accounts with Firebase Realtime Database?","body":"<p>I found this code that allows you to create an account on the deviceID:</p>\n<pre><code>private void queryAccountExistence(final String email,final String password) {\n\n     DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\n\n     Query query = ref.orderByChild(&quot;deviceID&quot;).equalTo(deviceID);\n\n     query.addListenerForSingleValueEvent(new ValueEventListener() {\n     @Override\n     public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n     if (snapshot.exists()) {\n     //la device est dj enregistr\n     Toast.makeText(RegisterActivity.this,\n     &quot;Cette device est dj li  un compte, connectez-vous&quot;,\n     Toast.LENGTH_SHORT).show();\n\n     } else {\n     //Aucune deviceID trouv\n     createAccount(email, pass);\n\n     }\n\n     }\n\n     @Override\n     public void onCancelled(@NonNull DatabaseError error) {\n\n     }\n     });\n}\n</code></pre>\n<p><strong>Now how to make it possible to create a maximum of 3 accounts on the deviceID?</strong></p>\n"},{"tags":["java","hadoop","io"],"comments":[{"owner":{"account_id":1245225,"reputation":34084,"user_id":1206837,"accept_rate":50,"display_name":"Tariq"},"score":0,"creation_date":1372019487,"post_id":17265002,"comment_id":25025787,"body_markdown":"Need some more info...","body":"Need some more info..."},{"owner":{"account_id":214299,"reputation":11531,"user_id":468195,"accept_rate":100,"display_name":"Emile"},"score":2,"creation_date":1372019723,"post_id":17265002,"comment_id":25025857,"body_markdown":"Don&#39;t know myself, but a quick look on google suggests that there are some issues around jars not being referenced as you suggested. Perhaps the following links will yield an answer.\nhttps://groups.google.com/a/cloudera.org/forum/#!topic/scm-users/lyho8ptAzE0 http://grokbase.com/t/cloudera/cdh-user/134r64jm5t/no-filesystem-for-scheme-hdfs","body":"Don&#39;t know myself, but a quick look on google suggests that there are some issues around jars not being referenced as you suggested. Perhaps the following links will yield an answer. <a href=\"https://groups.google.com/a/cloudera.org/forum/#!topic/scm-users/lyho8ptAzE0\" rel=\"nofollow noreferrer\">groups.google.com/a/cloudera.org/forum/#!topic/scm-users/&hellip;</a> <a href=\"http://grokbase.com/t/cloudera/cdh-user/134r64jm5t/no-filesystem-for-scheme-hdfs\" rel=\"nofollow noreferrer\">grokbase.com/t/cloudera/cdh-user/134r64jm5t/&hellip;</a>"},{"owner":{"account_id":1905711,"reputation":1393,"user_id":1807936,"accept_rate":14,"display_name":"Mahender Singh"},"score":0,"creation_date":1372020067,"post_id":17265002,"comment_id":25025944,"body_markdown":"I was adding hadoop-common-2.0.0-cdh4.3.0-sources.jar and hadoop-core-0.20.2.jar to class path, I removed first and it worked dont know why.","body":"I was adding hadoop-common-2.0.0-cdh4.3.0-sources.jar and hadoop-core-0.20.2.jar to class path, I removed first and it worked dont know why."},{"owner":{"account_id":1245225,"reputation":34084,"user_id":1206837,"accept_rate":50,"display_name":"Tariq"},"score":1,"creation_date":1372020551,"post_id":17265002,"comment_id":25026074,"body_markdown":"Hmm..Could you please tell me about your environment? Also, please show me the complete exception message.","body":"Hmm..Could you please tell me about your environment? Also, please show me the complete exception message."},{"owner":{"account_id":1337393,"reputation":29969,"user_id":1279787,"accept_rate":67,"display_name":"Chris White"},"score":0,"creation_date":1372035871,"post_id":17265002,"comment_id":25029170,"body_markdown":"Whats the value of modelPath? have you tried `file:///path/to/dir`","body":"Whats the value of modelPath? have you tried <code>file:&#47;&#47;&#47;path&#47;to&#47;dir</code>"},{"owner":{"account_id":2632340,"reputation":662,"user_id":2277970,"accept_rate":38,"display_name":"matthieu lieber"},"score":0,"creation_date":1424801574,"post_id":17265002,"comment_id":45696203,"body_markdown":"as @emile suggested, make sure you are running your jar via hadoop, not java. i.e. &quot;just run the distributed jar with &quot;hadoop jar&quot;, instead of trying to execute a standalone &quot;java -jar&quot;.&quot;","body":"as @emile suggested, make sure you are running your jar via hadoop, not java. i.e. &quot;just run the distributed jar with &quot;hadoop jar&quot;, instead of trying to execute a standalone &quot;java -jar&quot;.&quot;"},{"owner":{"account_id":3911816,"reputation":999,"user_id":3236903,"accept_rate":58,"display_name":"Manindar"},"score":0,"creation_date":1485864460,"post_id":17265002,"comment_id":71093000,"body_markdown":"I have used **hadoop jar test.jar** instead of **java -jar test.jar**","body":"I have used <b>hadoop jar test.jar</b> instead of <b>java -jar test.jar</b>"},{"owner":{"account_id":8297053,"reputation":727,"user_id":6236959,"display_name":"Shubham Kumar Gupta"},"score":0,"creation_date":1642437326,"post_id":17265002,"comment_id":125065046,"body_markdown":"I copied all the jars in hadoop folder and placed where I am running the command\nNow everything is working fine","body":"I copied all the jars in hadoop folder and placed where I am running the command Now everything is working fine"}],"answers":[{"tags":[],"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1377971513,"creation_date":1377971513,"answer_id":18551134,"question_id":17265002,"body_markdown":"I assume you build sample using maven.\r\n\r\nPlease check content of the JAR you&#39;re trying to run. Especially `META-INFO/services` directory, file `org.apache.hadoop.fs.FileSystem`. There should be list of filsystem implementation classes. Check line `org.apache.hadoop.hdfs.DistributedFileSystem` is present in the list for HDFS and `org.apache.hadoop.fs.LocalFileSystem` for local file scheme.\r\n\r\nIf this is the case, you have to override referred resource during the build.\r\n\r\nOther possibility is you simply don&#39;t have `hadoop-hdfs.jar` in your classpath but this has low probability. Usually if you have correct `hadoop-client` dependency it is not an option.\r\n","title":"hadoop No FileSystem for scheme: file","body":"<p>I assume you build sample using maven.</p>\n\n<p>Please check content of the JAR you're trying to run. Especially <code>META-INFO/services</code> directory, file <code>org.apache.hadoop.fs.FileSystem</code>. There should be list of filsystem implementation classes. Check line <code>org.apache.hadoop.hdfs.DistributedFileSystem</code> is present in the list for HDFS and <code>org.apache.hadoop.fs.LocalFileSystem</code> for local file scheme.</p>\n\n<p>If this is the case, you have to override referred resource during the build.</p>\n\n<p>Other possibility is you simply don't have <code>hadoop-hdfs.jar</code> in your classpath but this has low probability. Usually if you have correct <code>hadoop-client</code> dependency it is not an option.</p>\n"},{"tags":[],"owner":{"account_id":146086,"reputation":5910,"user_id":356323,"display_name":"david_p"},"down_vote_count":1,"up_vote_count":194,"is_accepted":false,"score":193,"last_activity_date":1582059874,"creation_date":1389717447,"answer_id":21118824,"question_id":17265002,"body_markdown":"This is a typical case of the `maven-assembly` plugin breaking things.\r\n\r\n# Why this happened to us\r\n\r\nDifferent JARs (`hadoop-commons` for `LocalFileSystem`, `hadoop-hdfs` for `DistributedFileSystem`) each contain a different file called `org.apache.hadoop.fs.FileSystem` in their `META-INFO/services` directory. This file lists the canonical classnames of the filesystem implementations they want to declare (This is called a Service Provider Interface implemented via `java.util.ServiceLoader`, see [`org.apache.hadoop.FileSystem#loadFileSystems`][1]).\r\n\r\nWhen we use `maven-assembly-plugin`, it merges all our JARs into one, and all `META-INFO/services/org.apache.hadoop.fs.FileSystem` overwrite each-other. Only one of these files remains (the last one that was added). In this case, the `FileSystem` list from `hadoop-commons` overwrites the list from `hadoop-hdfs`, so `DistributedFileSystem` was no longer declared.\r\n\r\n# How we fixed it\r\n\r\nAfter loading the Hadoop configuration, but just before doing anything `FileSystem`-related, we call this:\r\n\r\n        hadoopConfig.set(&quot;fs.hdfs.impl&quot;, \r\n            org.apache.hadoop.hdfs.DistributedFileSystem.class.getName()\r\n        );\r\n        hadoopConfig.set(&quot;fs.file.impl&quot;,\r\n            org.apache.hadoop.fs.LocalFileSystem.class.getName()\r\n        );\r\n\r\n# Update: the correct fix\r\n\r\nIt has been brought to my attention by `krookedking` that there is a configuration-based way to make the `maven-assembly` use a merged version of all the `FileSystem` services declarations, check out [his answer](https://stackoverflow.com/a/27532248/2442804) below.\r\n\r\n\r\n  [1]: https://github.com/apache/hadoop/blob/a55d6bba71c81c1c4e9d8cd11f55c78f10a548b0/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystem.java#L3259","title":"hadoop No FileSystem for scheme: file","body":"<p>This is a typical case of the <code>maven-assembly</code> plugin breaking things.</p>\n\n<h1>Why this happened to us</h1>\n\n<p>Different JARs (<code>hadoop-commons</code> for <code>LocalFileSystem</code>, <code>hadoop-hdfs</code> for <code>DistributedFileSystem</code>) each contain a different file called <code>org.apache.hadoop.fs.FileSystem</code> in their <code>META-INFO/services</code> directory. This file lists the canonical classnames of the filesystem implementations they want to declare (This is called a Service Provider Interface implemented via <code>java.util.ServiceLoader</code>, see <a href=\"https://github.com/apache/hadoop/blob/a55d6bba71c81c1c4e9d8cd11f55c78f10a548b0/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystem.java#L3259\" rel=\"noreferrer\"><code>org.apache.hadoop.FileSystem#loadFileSystems</code></a>).</p>\n\n<p>When we use <code>maven-assembly-plugin</code>, it merges all our JARs into one, and all <code>META-INFO/services/org.apache.hadoop.fs.FileSystem</code> overwrite each-other. Only one of these files remains (the last one that was added). In this case, the <code>FileSystem</code> list from <code>hadoop-commons</code> overwrites the list from <code>hadoop-hdfs</code>, so <code>DistributedFileSystem</code> was no longer declared.</p>\n\n<h1>How we fixed it</h1>\n\n<p>After loading the Hadoop configuration, but just before doing anything <code>FileSystem</code>-related, we call this:</p>\n\n<pre><code>    hadoopConfig.set(\"fs.hdfs.impl\", \n        org.apache.hadoop.hdfs.DistributedFileSystem.class.getName()\n    );\n    hadoopConfig.set(\"fs.file.impl\",\n        org.apache.hadoop.fs.LocalFileSystem.class.getName()\n    );\n</code></pre>\n\n<h1>Update: the correct fix</h1>\n\n<p>It has been brought to my attention by <code>krookedking</code> that there is a configuration-based way to make the <code>maven-assembly</code> use a merged version of all the <code>FileSystem</code> services declarations, check out <a href=\"https://stackoverflow.com/a/27532248/2442804\">his answer</a> below.</p>\n"},{"tags":[],"owner":{"account_id":1510774,"reputation":313,"user_id":1412967,"display_name":"husnu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1397827793,"creation_date":1397827793,"answer_id":23155192,"question_id":17265002,"body_markdown":"Assuming that you are using mvn and cloudera distribution of hadoop. I&#39;m using cdh4.6 and adding these dependencies worked for me.I think you should check the versions of hadoop and mvn dependencies.\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0-mr1-cdh4.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0-cdh4.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0-cdh4.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\ndon&#39;t forget to add cloudera mvn repository.\r\n\r\n    &lt;repository&gt;\r\n            &lt;id&gt;cloudera&lt;/id&gt;\r\n            &lt;url&gt;https://repository.cloudera.com/artifactory/cloudera-repos/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n","title":"hadoop No FileSystem for scheme: file","body":"<p>Assuming that you are using mvn and cloudera distribution of hadoop. I'm using cdh4.6 and adding these dependencies worked for me.I think you should check the versions of hadoop and mvn dependencies.</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0-mr1-cdh4.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0-cdh4.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0-cdh4.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>don't forget to add cloudera mvn repository.</p>\n\n<pre><code>&lt;repository&gt;\n        &lt;id&gt;cloudera&lt;/id&gt;\n        &lt;url&gt;https://repository.cloudera.com/artifactory/cloudera-repos/&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3236880,"reputation":12685,"user_id":2730862,"display_name":"Haimei"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1400771111,"creation_date":1400771111,"answer_id":23810585,"question_id":17265002,"body_markdown":"I use sbt assembly to package my project. I also meet this problem. My solution is here. \r\nStep1: add META-INF mergestrategy in your build.sbt\r\n\r\n    case PathList(&quot;META-INF&quot;, &quot;MANIFEST.MF&quot;) =&gt; MergeStrategy.discard\r\n    case PathList(&quot;META-INF&quot;, ps @ _*) =&gt; MergeStrategy.first\r\n    \r\nStep2: add hadoop-hdfs lib to build.sbt\r\n\r\n    &quot;org.apache.hadoop&quot; % &quot;hadoop-hdfs&quot; % &quot;2.4.0&quot;\r\nStep3: sbt clean; sbt assembly\r\n\r\nHope the above information can help you.","title":"hadoop No FileSystem for scheme: file","body":"<p>I use sbt assembly to package my project. I also meet this problem. My solution is here. \nStep1: add META-INF mergestrategy in your build.sbt</p>\n\n<pre><code>case PathList(\"META-INF\", \"MANIFEST.MF\") =&gt; MergeStrategy.discard\ncase PathList(\"META-INF\", ps @ _*) =&gt; MergeStrategy.first\n</code></pre>\n\n<p>Step2: add hadoop-hdfs lib to build.sbt</p>\n\n<pre><code>\"org.apache.hadoop\" % \"hadoop-hdfs\" % \"2.4.0\"\n</code></pre>\n\n<p>Step3: sbt clean; sbt assembly</p>\n\n<p>Hope the above information can help you.</p>\n"},{"tags":[],"owner":{"account_id":2292724,"reputation":337,"user_id":2015044,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1411978062,"creation_date":1406101220,"answer_id":24904518,"question_id":17265002,"body_markdown":"thanks david_p,scala \r\n\r\n    conf.set(&quot;fs.hdfs.impl&quot;, classOf[org.apache.hadoop.hdfs.DistributedFileSystem].getName);\r\n    conf.set(&quot;fs.file.impl&quot;, classOf[org.apache.hadoop.fs.LocalFileSystem].getName);\r\n\r\n\r\nor\r\n\r\n    &lt;property&gt;\r\n     &lt;name&gt;fs.hdfs.impl&lt;/name&gt;\r\n     &lt;value&gt;org.apache.hadoop.hdfs.DistributedFileSystem&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n","title":"hadoop No FileSystem for scheme: file","body":"<p>thanks david_p,scala </p>\n\n<pre><code>conf.set(\"fs.hdfs.impl\", classOf[org.apache.hadoop.hdfs.DistributedFileSystem].getName);\nconf.set(\"fs.file.impl\", classOf[org.apache.hadoop.fs.LocalFileSystem].getName);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;property&gt;\n &lt;name&gt;fs.hdfs.impl&lt;/name&gt;\n &lt;value&gt;org.apache.hadoop.hdfs.DistributedFileSystem&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4849229,"reputation":91,"user_id":3912009,"display_name":"Achaiah"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1408116484,"creation_date":1408116484,"answer_id":25329295,"question_id":17265002,"body_markdown":"For the record, this is still happening in hadoop 2.4.0. So frustrating...\r\n\r\nI was able to follow the instructions in this link: http://grokbase.com/t/cloudera/scm-users/1288xszz7r/no-filesystem-for-scheme-hdfs\r\n\r\nI added the following to my core-site.xml and it worked:\r\n\r\n    &lt;property&gt;\r\n       &lt;name&gt;fs.file.impl&lt;/name&gt;\r\n       &lt;value&gt;org.apache.hadoop.fs.LocalFileSystem&lt;/value&gt;\r\n       &lt;description&gt;The FileSystem for file: uris.&lt;/description&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;fs.hdfs.impl&lt;/name&gt;\r\n       &lt;value&gt;org.apache.hadoop.hdfs.DistributedFileSystem&lt;/value&gt;\r\n       &lt;description&gt;The FileSystem for hdfs: uris.&lt;/description&gt;\r\n    &lt;/property&gt;","title":"hadoop No FileSystem for scheme: file","body":"<p>For the record, this is still happening in hadoop 2.4.0. So frustrating...</p>\n\n<p>I was able to follow the instructions in this link: <a href=\"http://grokbase.com/t/cloudera/scm-users/1288xszz7r/no-filesystem-for-scheme-hdfs\" rel=\"noreferrer\">http://grokbase.com/t/cloudera/scm-users/1288xszz7r/no-filesystem-for-scheme-hdfs</a></p>\n\n<p>I added the following to my core-site.xml and it worked:</p>\n\n<pre><code>&lt;property&gt;\n   &lt;name&gt;fs.file.impl&lt;/name&gt;\n   &lt;value&gt;org.apache.hadoop.fs.LocalFileSystem&lt;/value&gt;\n   &lt;description&gt;The FileSystem for file: uris.&lt;/description&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n   &lt;name&gt;fs.hdfs.impl&lt;/name&gt;\n   &lt;value&gt;org.apache.hadoop.hdfs.DistributedFileSystem&lt;/value&gt;\n   &lt;description&gt;The FileSystem for hdfs: uris.&lt;/description&gt;\n&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":254295,"reputation":2223,"user_id":533591,"accept_rate":67,"display_name":"krookedking"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1418840581,"creation_date":1418840581,"answer_id":27532248,"question_id":17265002,"body_markdown":"For those using the shade plugin, following on david_p&#39;s advice, you can merge the services in the shaded jar by adding the ServicesResourceTransformer to the plugin config:\r\n\r\n    \r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n              &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nThis will merge all the org.apache.hadoop.fs.FileSystem services in one file","title":"hadoop No FileSystem for scheme: file","body":"<p>For those using the shade plugin, following on david_p's advice, you can merge the services in the shaded jar by adding the ServicesResourceTransformer to the plugin config:</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;shade&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;transformers&gt;\n            &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/&gt;\n          &lt;/transformers&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>This will merge all the org.apache.hadoop.fs.FileSystem services in one file</p>\n"},{"tags":[],"owner":{"account_id":398104,"reputation":389,"user_id":3329275,"display_name":"kwky"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1441792787,"creation_date":1441792787,"answer_id":32476505,"question_id":17265002,"body_markdown":"For maven, just add the maven dependency for hadoop-hdfs (refer to the link below) will solve the issue.\r\n\r\nhttp://mvnrepository.com/artifact/org.apache.hadoop/hadoop-hdfs/2.7.1","title":"hadoop No FileSystem for scheme: file","body":"<p>For maven, just add the maven dependency for hadoop-hdfs (refer to the link below) will solve the issue.</p>\n\n<p><a href=\"http://mvnrepository.com/artifact/org.apache.hadoop/hadoop-hdfs/2.7.1\" rel=\"noreferrer\">http://mvnrepository.com/artifact/org.apache.hadoop/hadoop-hdfs/2.7.1</a></p>\n"},{"tags":[],"owner":{"account_id":5456940,"reputation":1587,"user_id":4340049,"accept_rate":50,"display_name":"Harish Pathak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1452247809,"creation_date":1452247809,"answer_id":34674381,"question_id":17265002,"body_markdown":"Use this plugin\r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;filters&gt;\r\n    \t\t\t\t\t\t\t\t&lt;filter&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/filter&gt;\r\n    \t\t\t\t\t\t\t&lt;/filters&gt;\r\n    \t\t\t\t\t\t\t&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n    \t\t\t\t\t\t\t&lt;shadedClassifierName&gt;allinone&lt;/shadedClassifierName&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactSet&gt;\r\n    \t\t\t\t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;include&gt;*:*&lt;/include&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t\t\t&lt;/artifactSet&gt;\r\n    \t\t\t\t\t\t\t&lt;transformers&gt;\r\n    \t\t\t\t\t\t\t\t&lt;transformer\r\n    \t\t\t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;resource&gt;reference.conf&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/transformer&gt;\r\n    \t\t\t\t\t\t\t\t&lt;transformer\r\n    \t\t\t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/transformer&gt;\r\n    \t\t\t\t\t\t\t\t&lt;transformer \r\n                    \t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;&gt;\r\n                 \t\t\t\t\t&lt;/transformer&gt;\r\n                 \t\t\t\t&lt;/transformers&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;","title":"hadoop No FileSystem for scheme: file","body":"<p>Use this plugin</p>\n\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n\n                        &lt;configuration&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                            &lt;shadedClassifierName&gt;allinone&lt;/shadedClassifierName&gt;\n                            &lt;artifactSet&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;*:*&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                    implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                                    &lt;resource&gt;reference.conf&lt;/resource&gt;\n                                &lt;/transformer&gt;\n                                &lt;transformer\n                                    implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                                &lt;/transformer&gt;\n                                &lt;transformer \n                                implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37614,"reputation":28196,"user_id":107591,"accept_rate":91,"display_name":"RobV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455115594,"creation_date":1455115594,"answer_id":35318303,"question_id":17265002,"body_markdown":"Another possible cause (though the OPs question doesn&#39;t itself suffer from this) is if you create a configuration instance that does not load the defaults:\r\n\r\n    Configuration config = new Configuration(false);\r\n\r\nIf you don&#39;t load the defaults then you won&#39;t get the default settings for things like the `FileSystem` implementations which leads to identical errors like this when trying to access HDFS.  Switching to the parameterless constructor of passing in `true` to load defaults may resolve this.\r\n\r\nAdditionally if you are adding custom configuration locations (e.g. on the file system) to the `Configuration` object be careful of which overload of `addResource()` you use.  For example if you use `addResource(String)` then Hadoop assumes that the string is a class path resource, if you need to specify a local file try the following:\r\n\r\n    File configFile = new File(&quot;example/config.xml&quot;);\r\n    config.addResource(new Path(&quot;file://&quot; + configFile.getAbsolutePath()));","title":"hadoop No FileSystem for scheme: file","body":"<p>Another possible cause (though the OPs question doesn't itself suffer from this) is if you create a configuration instance that does not load the defaults:</p>\n\n<pre><code>Configuration config = new Configuration(false);\n</code></pre>\n\n<p>If you don't load the defaults then you won't get the default settings for things like the <code>FileSystem</code> implementations which leads to identical errors like this when trying to access HDFS.  Switching to the parameterless constructor of passing in <code>true</code> to load defaults may resolve this.</p>\n\n<p>Additionally if you are adding custom configuration locations (e.g. on the file system) to the <code>Configuration</code> object be careful of which overload of <code>addResource()</code> you use.  For example if you use <code>addResource(String)</code> then Hadoop assumes that the string is a class path resource, if you need to specify a local file try the following:</p>\n\n<pre><code>File configFile = new File(\"example/config.xml\");\nconfig.addResource(new Path(\"file://\" + configFile.getAbsolutePath()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9707075,"reputation":111,"user_id":7200202,"display_name":"Mauro Arnoldi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1479906913,"creation_date":1479906913,"answer_id":40765547,"question_id":17265002,"body_markdown":"Took me ages to figure it out with Spark 2.0.2, but here&#39;s my bit:\r\n\r\n\r\n    val sparkBuilder = SparkSession.builder\r\n    .appName(&quot;app_name&quot;)\r\n    .master(&quot;local&quot;)\r\n    // Various Params\r\n    .getOrCreate()\r\n\r\n    val hadoopConfig: Configuration = sparkBuilder.sparkContext.hadoopConfiguration\r\n\r\n    hadoopConfig.set(&quot;fs.hdfs.impl&quot;, classOf[org.apache.hadoop.hdfs.DistributedFileSystem].getName)\r\n\r\n    hadoopConfig.set(&quot;fs.file.impl&quot;, classOf[org.apache.hadoop.fs.LocalFileSystem].getName)\r\n\r\nAnd the relevant parts of my `build.sbt`:\r\n\r\n    scalaVersion := &quot;2.11.8&quot;\r\n    libraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;2.0.2&quot;\r\n\r\nI hope this can help!","title":"hadoop No FileSystem for scheme: file","body":"<p>Took me ages to figure it out with Spark 2.0.2, but here's my bit:</p>\n\n<pre><code>val sparkBuilder = SparkSession.builder\n.appName(\"app_name\")\n.master(\"local\")\n// Various Params\n.getOrCreate()\n\nval hadoopConfig: Configuration = sparkBuilder.sparkContext.hadoopConfiguration\n\nhadoopConfig.set(\"fs.hdfs.impl\", classOf[org.apache.hadoop.hdfs.DistributedFileSystem].getName)\n\nhadoopConfig.set(\"fs.file.impl\", classOf[org.apache.hadoop.fs.LocalFileSystem].getName)\n</code></pre>\n\n<p>And the relevant parts of my <code>build.sbt</code>:</p>\n\n<pre><code>scalaVersion := \"2.11.8\"\nlibraryDependencies += \"org.apache.spark\" %% \"spark-core\" % \"2.0.2\"\n</code></pre>\n\n<p>I hope this can help!</p>\n"},{"tags":[],"owner":{"account_id":1081114,"reputation":83382,"user_id":1078084,"accept_rate":81,"display_name":"Akavall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490833490,"creation_date":1490833490,"answer_id":43106426,"question_id":17265002,"body_markdown":"It took me sometime to figure out fix from given answers, due to my newbieness. This is what I came up with, if anyone else needs help from the very beginning:\r\n\r\n    import org.apache.spark.SparkContext\r\n    import org.apache.spark.SparkConf\r\n\r\n    object MyObject {\r\n      def main(args: Array[String]): Unit = {\r\n     \r\n        val mySparkConf = new SparkConf().setAppName(&quot;SparkApp&quot;).setMaster(&quot;local[*]&quot;).set(&quot;spark.executor.memory&quot;,&quot;5g&quot;);\r\n        val sc = new SparkContext(mySparkConf)\r\n\r\n        val conf = sc.hadoopConfiguration\r\n    \r\n        conf.set(&quot;fs.hdfs.impl&quot;, classOf[org.apache.hadoop.hdfs.DistributedFileSystem].getName)\r\n        conf.set(&quot;fs.file.impl&quot;, classOf[org.apache.hadoop.fs.LocalFileSystem].getName)\r\n\r\nI am using Spark 2.1\r\n\r\nAnd I have this part in my `build.sbt`\r\n\r\n    assemblyMergeStrategy in assembly := {\r\n      case PathList(&quot;META-INF&quot;, xs @ _*) =&gt; MergeStrategy.discard\r\n      case x =&gt; MergeStrategy.first\r\n    }\r\n\r\n","title":"hadoop No FileSystem for scheme: file","body":"<p>It took me sometime to figure out fix from given answers, due to my newbieness. This is what I came up with, if anyone else needs help from the very beginning:</p>\n\n<pre><code>import org.apache.spark.SparkContext\nimport org.apache.spark.SparkConf\n\nobject MyObject {\n  def main(args: Array[String]): Unit = {\n\n    val mySparkConf = new SparkConf().setAppName(\"SparkApp\").setMaster(\"local[*]\").set(\"spark.executor.memory\",\"5g\");\n    val sc = new SparkContext(mySparkConf)\n\n    val conf = sc.hadoopConfiguration\n\n    conf.set(\"fs.hdfs.impl\", classOf[org.apache.hadoop.hdfs.DistributedFileSystem].getName)\n    conf.set(\"fs.file.impl\", classOf[org.apache.hadoop.fs.LocalFileSystem].getName)\n</code></pre>\n\n<p>I am using Spark 2.1</p>\n\n<p>And I have this part in my <code>build.sbt</code></p>\n\n<pre><code>assemblyMergeStrategy in assembly := {\n  case PathList(\"META-INF\", xs @ _*) =&gt; MergeStrategy.discard\n  case x =&gt; MergeStrategy.first\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7545203,"reputation":11,"user_id":5728522,"display_name":"Peluo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496764353,"creation_date":1496761901,"answer_id":44393729,"question_id":17265002,"body_markdown":"If you are using **sbt**:\r\n\r\n\r\n    //hadoop\r\n    lazy val HADOOP_VERSION = &quot;2.8.0&quot;\r\n\r\n    lazy val dependenceList = Seq(\r\n\r\n    //hadoop\r\n    //The order is important: &quot;hadoop-hdfs&quot; and then &quot;hadoop-common&quot;\r\n    &quot;org.apache.hadoop&quot; % &quot;hadoop-hdfs&quot; % HADOOP_VERSION\r\n\r\n    ,&quot;org.apache.hadoop&quot; % &quot;hadoop-common&quot; % HADOOP_VERSION\r\n    )","title":"hadoop No FileSystem for scheme: file","body":"<p>If you are using <strong>sbt</strong>:</p>\n\n<pre><code>//hadoop\nlazy val HADOOP_VERSION = \"2.8.0\"\n\nlazy val dependenceList = Seq(\n\n//hadoop\n//The order is important: \"hadoop-hdfs\" and then \"hadoop-common\"\n\"org.apache.hadoop\" % \"hadoop-hdfs\" % HADOOP_VERSION\n\n,\"org.apache.hadoop\" % \"hadoop-common\" % HADOOP_VERSION\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11596978,"reputation":11,"user_id":8495424,"display_name":"Asran Deng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503322052,"creation_date":1503322052,"answer_id":45798368,"question_id":17265002,"body_markdown":"    Configuration conf = new Configuration();\r\n    conf.set(&quot;fs.defaultFS&quot;, &quot;hdfs://nameNode:9000&quot;);\r\n    FileSystem fs = FileSystem.get(conf);\r\n\r\nset fs.defaultFS works for me! Hadoop-2.8.1","title":"hadoop No FileSystem for scheme: file","body":"<pre><code>Configuration conf = new Configuration();\nconf.set(\"fs.defaultFS\", \"hdfs://nameNode:9000\");\nFileSystem fs = FileSystem.get(conf);\n</code></pre>\n\n<p>set fs.defaultFS works for me! Hadoop-2.8.1</p>\n"},{"tags":[],"owner":{"account_id":9475574,"reputation":444,"user_id":7045032,"accept_rate":43,"display_name":"Raxit Solanki"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1511872948,"creation_date":1511872948,"answer_id":47531920,"question_id":17265002,"body_markdown":"I also came across similar issue. \r\nAdded core-site.xml and hdfs-site.xml as resources of conf (object)\r\n\r\n    Configuration conf = new Configuration(true);    \r\n    conf.addResource(new Path(&quot;&lt;path to&gt;/core-site.xml&quot;));\r\n    conf.addResource(new Path(&quot;&lt;path to&gt;/hdfs-site.xml&quot;));\r\n\r\nAlso edited version conflicts in pom.xml. (e.g. If configured version of hadoop is 2.8.1, but in pom.xml file, dependancies has version 2.7.1, then change that to 2.8.1)\r\nRun Maven install again.\r\n\r\nThis solved error for me.  ","title":"hadoop No FileSystem for scheme: file","body":"<p>I also came across similar issue. \nAdded core-site.xml and hdfs-site.xml as resources of conf (object)</p>\n\n<pre><code>Configuration conf = new Configuration(true);    \nconf.addResource(new Path(\"&lt;path to&gt;/core-site.xml\"));\nconf.addResource(new Path(\"&lt;path to&gt;/hdfs-site.xml\"));\n</code></pre>\n\n<p>Also edited version conflicts in pom.xml. (e.g. If configured version of hadoop is 2.8.1, but in pom.xml file, dependancies has version 2.7.1, then change that to 2.8.1)\nRun Maven install again.</p>\n\n<p>This solved error for me.  </p>\n"},{"tags":[],"owner":{"account_id":2674592,"reputation":33,"user_id":2311273,"display_name":"Asad Raza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519023670,"creation_date":1519023670,"answer_id":48860990,"question_id":17265002,"body_markdown":"For SBT use below mergeStrategy in build.sbt\r\n\r\n    mergeStrategy in assembly &lt;&lt;= (mergeStrategy in assembly) { (old) =&gt; {\r\n        case PathList(&quot;META-INF&quot;, &quot;services&quot;, &quot;org.apache.hadoop.fs.FileSystem&quot;) =&gt; MergeStrategy.filterDistinctLines\r\n        case s =&gt; old(s)\r\n      }\r\n    }","title":"hadoop No FileSystem for scheme: file","body":"<p>For SBT use below mergeStrategy in build.sbt</p>\n\n<pre><code>mergeStrategy in assembly &lt;&lt;= (mergeStrategy in assembly) { (old) =&gt; {\n    case PathList(\"META-INF\", \"services\", \"org.apache.hadoop.fs.FileSystem\") =&gt; MergeStrategy.filterDistinctLines\n    case s =&gt; old(s)\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3577675,"reputation":351,"user_id":2986534,"display_name":"Mehmet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569755272,"creation_date":1569755272,"answer_id":58154608,"question_id":17265002,"body_markdown":"I faced the same problem. I found two solutions:\r\n(1) Editing the jar file manually:\r\n\r\nOpen the jar file with WinRar (or similar tools). Go to Meta-info &gt; services , and edit &quot;org.apache.hadoop.fs.FileSystem&quot; by appending:\r\n\r\n    org.apache.hadoop.fs.LocalFileSystem\r\n\r\n(2) Changing the order of my dependencies as follow\r\n\r\n    \r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n   \r\n\r\n ","title":"hadoop No FileSystem for scheme: file","body":"<p>I faced the same problem. I found two solutions:\n(1) Editing the jar file manually:</p>\n\n<p>Open the jar file with WinRar (or similar tools). Go to Meta-info > services , and edit \"org.apache.hadoop.fs.FileSystem\" by appending:</p>\n\n<pre><code>org.apache.hadoop.fs.LocalFileSystem\n</code></pre>\n\n<p>(2) Changing the order of my dependencies as follow</p>\n\n<pre><code>&lt;dependencies&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n  &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n  &lt;version&gt;3.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n  &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n  &lt;version&gt;3.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n  &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\n  &lt;version&gt;3.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n  &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n  &lt;version&gt;3.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322278,"reputation":790,"user_id":641611,"accept_rate":86,"display_name":"David Magalh&#227;es"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578571614,"creation_date":1578571614,"answer_id":59663628,"question_id":17265002,"body_markdown":"This is not related to Flink, but I&#39;ve found this issue in Flink also.\r\n\r\nFor people using Flink, you need to download [Pre-bundled Hadoop](https://flink.apache.org/downloads.html) and put it inside `/opt/flink/lib`.","title":"hadoop No FileSystem for scheme: file","body":"<p>This is not related to Flink, but I've found this issue in Flink also.</p>\n\n<p>For people using Flink, you need to download <a href=\"https://flink.apache.org/downloads.html\" rel=\"nofollow noreferrer\">Pre-bundled Hadoop</a> and put it inside <code>/opt/flink/lib</code>.</p>\n"},{"tags":[],"owner":{"account_id":9251325,"reputation":95,"user_id":6871727,"display_name":"LuoLeKe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616755810,"creation_date":1616755810,"answer_id":66815453,"question_id":17265002,"body_markdown":"This question is old, but I faced the same issue recently and the origin of the error was different than those of the answers here.\r\n\r\nOn my side, the root cause was due to hdfs trying to parse an authorithy when encountering `//` at the beginning of a path :\r\n```bash\r\n$ hdfs dfs -ls //dev\r\nls: No FileSystem for scheme: null\r\n```\r\n\r\nSo try to look for a double slash or an empty variable in the path building part of your code.\r\n\r\nRelated Hadoop ticket: https://issues.apache.org/jira/browse/HADOOP-8087\r\n","title":"hadoop No FileSystem for scheme: file","body":"<p>This question is old, but I faced the same issue recently and the origin of the error was different than those of the answers here.</p>\n<p>On my side, the root cause was due to hdfs trying to parse an authorithy when encountering <code>//</code> at the beginning of a path :</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ hdfs dfs -ls //dev\nls: No FileSystem for scheme: null\n</code></pre>\n<p>So try to look for a double slash or an empty variable in the path building part of your code.</p>\n<p>Related Hadoop ticket: <a href=\"https://issues.apache.org/jira/browse/HADOOP-8087\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/HADOOP-8087</a></p>\n"},{"tags":[],"owner":{"account_id":2907940,"reputation":111,"user_id":11079150,"display_name":"Joren Boulanger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629722167,"creation_date":1629722167,"answer_id":68892836,"question_id":17265002,"body_markdown":"If you&#39;re using the Gradle Shadow plugin, then this is the config you have to add:\r\n```\r\nshadowJar {\r\n    mergeServiceFiles()\r\n}\r\n```","title":"hadoop No FileSystem for scheme: file","body":"<p>If you're using the Gradle Shadow plugin, then this is the config you have to add:</p>\n<pre><code>shadowJar {\n    mergeServiceFiles()\n}\n</code></pre>\n"}],"owner":{"account_id":1905711,"reputation":1393,"user_id":1807936,"accept_rate":14,"display_name":"Mahender Singh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136419,"favorite_count":0,"down_vote_count":0,"up_vote_count":109,"answer_count":20,"score":109,"last_activity_date":1636643399,"creation_date":1372019278,"question_id":17265002,"body_markdown":"I am trying to run a simple `NaiveBayesClassifer` using hadoop, getting this error\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: No FileSystem for scheme: file\r\n        at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:1375)\r\n        at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:66)\r\n        at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1390)\r\n        at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:196)\r\n        at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:95)\r\n        at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:180)\r\n        at org.apache.hadoop.fs.Path.getFileSystem(Path.java:175)\r\n        at org.apache.mahout.classifier.naivebayes.NaiveBayesModel.materialize(NaiveBayesModel.java:100)\r\n\r\nCode : \r\n\r\n\t\tConfiguration configuration = new Configuration();\r\n        NaiveBayesModel model = NaiveBayesModel.materialize(new Path(modelPath), configuration);// error in this line..\r\n\r\n`modelPath` is pointing to `NaiveBayes.bin` file, and configuration object is printing - `Configuration: core-default.xml, core-site.xml` \r\n\r\nI think its because of jars, any ideas?","title":"hadoop No FileSystem for scheme: file","body":"<p>I am trying to run a simple <code>NaiveBayesClassifer</code> using hadoop, getting this error</p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: No FileSystem for scheme: file\n    at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:1375)\n    at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:66)\n    at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1390)\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:196)\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:95)\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:180)\n    at org.apache.hadoop.fs.Path.getFileSystem(Path.java:175)\n    at org.apache.mahout.classifier.naivebayes.NaiveBayesModel.materialize(NaiveBayesModel.java:100)\n</code></pre>\n\n<p>Code : </p>\n\n<pre><code>    Configuration configuration = new Configuration();\n    NaiveBayesModel model = NaiveBayesModel.materialize(new Path(modelPath), configuration);// error in this line..\n</code></pre>\n\n<p><code>modelPath</code> is pointing to <code>NaiveBayes.bin</code> file, and configuration object is printing - <code>Configuration: core-default.xml, core-site.xml</code> </p>\n\n<p>I think its because of jars, any ideas?</p>\n"},{"tags":["java","apache-beam","apache-beam-io","apache-beam-internals"],"answers":[{"tags":[],"owner":{"account_id":96115,"reputation":1659,"user_id":261402,"accept_rate":79,"display_name":"Deniz Acay"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1636642872,"creation_date":1635990759,"answer_id":69833694,"question_id":69803118,"body_markdown":"Beam does not provide any order guarantees, so you will have to group them as you did. \r\n\r\nBut as far as I can understand from your case, you need to group by `customerId`. After that, you can apply a PTransform like ParDo to sort the grouped Rows by `date` and fill missing values however you wish.\r\n\r\n**Example sorting by converting to Array**\r\n\r\n    static class SortAndForwardFillFn extends DoFn&lt;KV&lt;String, Iterable&lt;Row&gt;&gt;&gt; {\r\n\r\n        @ProcessElement\r\n        public void processElement(@Element KV&lt;String, Iterable&lt;Row&gt;&gt; element, OutputReceiver&lt;KV&lt;String, Iterable&lt;Row&gt;&gt;&gt; outputReceiver) {\r\n\r\n            // Create a formatter for parsing dates\r\n            DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n    \r\n            // Convert iterable to array\r\n            Row[] rowArray = Iterables.toArray(rows, Row.class);\r\n    \r\n            // Sort array using dates\r\n            Arrays\r\n                .sort(\r\n                    rowArray,\r\n                    Comparator\r\n                    .comparingLong(row -&gt; formatter.parseDateTime(row.getString(&quot;date&quot;)).getMillis())\r\n            );\r\n\r\n            // Store the last amount\r\n            Double lastAmount = 0.0;\r\n\r\n            // Create a List for storing sorted and filled rows\r\n            List&lt;Row&gt; resultRows = new ArrayList&lt;&gt;(rowArray.length);\r\n\r\n            // Iterate over the array and fill in the missing parts\r\n            for (Row row : rowArray) {\r\n\r\n                // Get current amount\r\n                Double currentAmount = row.getDouble(&quot;amount&quot;);\r\n\r\n                // If null, fill the previous value and add to results, \r\n                // otherwise add as it is\r\n                resultRows.add(...);\r\n            }\r\n\r\n            // Output using the output receiver\r\n            outputReceiver\r\n                .output(\r\n                    KV.of(element.getKey(), resultRows)\r\n                )\r\n            );\r\n        }\r\n    }\r\n","title":"Apache Beam update current row values based on the values from previous row","body":"<p>Beam does not provide any order guarantees, so you will have to group them as you did.</p>\n<p>But as far as I can understand from your case, you need to group by <code>customerId</code>. After that, you can apply a PTransform like ParDo to sort the grouped Rows by <code>date</code> and fill missing values however you wish.</p>\n<p><strong>Example sorting by converting to Array</strong></p>\n<pre><code>static class SortAndForwardFillFn extends DoFn&lt;KV&lt;String, Iterable&lt;Row&gt;&gt;&gt; {\n\n    @ProcessElement\n    public void processElement(@Element KV&lt;String, Iterable&lt;Row&gt;&gt; element, OutputReceiver&lt;KV&lt;String, Iterable&lt;Row&gt;&gt;&gt; outputReceiver) {\n\n        // Create a formatter for parsing dates\n        DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;dd/MM/yyyy HH:mm:ss&quot;);\n\n        // Convert iterable to array\n        Row[] rowArray = Iterables.toArray(rows, Row.class);\n\n        // Sort array using dates\n        Arrays\n            .sort(\n                rowArray,\n                Comparator\n                .comparingLong(row -&gt; formatter.parseDateTime(row.getString(&quot;date&quot;)).getMillis())\n        );\n\n        // Store the last amount\n        Double lastAmount = 0.0;\n\n        // Create a List for storing sorted and filled rows\n        List&lt;Row&gt; resultRows = new ArrayList&lt;&gt;(rowArray.length);\n\n        // Iterate over the array and fill in the missing parts\n        for (Row row : rowArray) {\n\n            // Get current amount\n            Double currentAmount = row.getDouble(&quot;amount&quot;);\n\n            // If null, fill the previous value and add to results, \n            // otherwise add as it is\n            resultRows.add(...);\n        }\n\n        // Output using the output receiver\n        outputReceiver\n            .output(\n                KV.of(element.getKey(), resultRows)\n            )\n        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69833694,"answer_count":1,"score":2,"last_activity_date":1636642872,"creation_date":1635803203,"question_id":69803118,"body_markdown":"Apache Beam update values based on the values from the previous row\r\n\r\nI have grouped the values from a CSV file. Here in the grouped rows, we find a few missing values which need to be updated based on the values from the previous row. If the first column of the row is empty then we need to update it by 0. \r\n\r\n\r\nI am able to group the records, But unable to figure out a logic to update the values, How do I achieve this?\r\n\r\nRecords\r\n\r\n|      customerId      |     date    |      amount      |\r\n|---------------------|------------------|------------------|\r\n|          BS:89481   | 1/1/2012       |         100      |\r\n|          BS:89482   | 1/1/2012       |                  |\r\n|          BS:89483   | 1/1/2012       |         300      |\r\n|          BS:89481   | 1/2/2012       |         900      |\r\n|          BS:89482   | 1/2/2012       |         200      |\r\n|          BS:89483   | 1/2/2012       |                  |\r\n\r\n\r\nRecords on Grouping\r\n\r\n|      customerId      |     date    |      amount      |\r\n|---------------------|------------------|------------------|\r\n|          BS:89481   | 1/1/2012       |         100      |\r\n|          BS:89481   | 1/2/2012       |         900      |\r\n|          BS:89482   | 1/1/2012       |               |\r\n|          BS:89482   | 1/2/2012       |         200      |\r\n|          BS:89483   | 1/1/2012       |         300      |\r\n|          BS:89483   | 1/2/2012       |               |\r\n\r\n\r\nUpdate missing values\r\n\r\n|      customerId      |     date    |      amount      |\r\n|---------------------|------------------|------------------|\r\n|          BS:89481   | 1/1/2012       |         100      |\r\n|          BS:89481   | 1/2/2012       |         900      |\r\n|          BS:89482   | 1/1/2012       |         ***000***      |\r\n|          BS:89482   | 1/2/2012       |         200      |\r\n|          BS:89483   | 1/1/2012       |         300      |\r\n|          BS:89483   | 1/2/2012       |         ***300***      |\r\n\r\n\r\n\r\n\r\nCode Until Now:\r\n\r\n\r\n\r\n\tpublic class GroupByTest {\r\n\t\tpublic static void main(String[] args) throws IOException {\r\n\t\t\tSystem.out.println(&quot;We are about to start!!&quot;);\r\n\r\n\t\t\tfinal File schemaFile = new File(\r\n\t\t\t\t\t&quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\schema_transform2.avsc&quot;);\r\n\r\n\t\t\tFile csvFile = new File(\r\n\t\t\t\t\t&quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\CustomerRequest-case2.csv&quot;);\r\n\t\t\tSchema schema = new Schema.Parser().parse(schemaFile);\r\n\r\n\t\t\tPipeline pipeline = Pipeline.create();\r\n\r\n\t\t\t// Reading schema\r\n\t\t\torg.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\r\n\r\n\t\t\tfinal PCollectionTuple tuples = pipeline\r\n\r\n\t\t\t\t\t// Reading csv input\r\n\t\t\t\t\t.apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\r\n\r\n\t\t\t\t\t// Reading files that matches conditions \r\n\t\t\t\t\t.apply(&quot;2&quot;, FileIO.readMatches())\r\n\r\n\t\t\t\t\t// Reading schema and validating with schema and converts to row and returns\r\n\t\t\t\t\t// valid and invalid list\r\n\t\t\t\t\t.apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\r\n\t\t\t\t\t\t\tTupleTagList.of(invalidTag())));\r\n\r\n\t\t\t// Fetching only valid rows\r\n\t\t\tfinal PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\r\n\r\n\t\t\t// Transformation\r\n\t\t\t//Convert row to KV\r\n\t\t\tfinal Group.CombineFieldsByFields&lt;Row&gt; combine = Group.&lt;Row&gt;byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\r\n\t\t\t\t.aggregateField(&quot;balance&quot;, Sum.ofDoubles(), &quot;balances&quot;);\r\n\r\n\t\t\tfinal PCollection&lt;Row&gt; aggregagte = rows.apply(combine);\r\n\r\n\t\t\tPCollection&lt;String&gt; pOutput=aggregagte.apply(Select.flattenedSchema()).apply(ParDo.of(new RowToString()));\r\n\t\t\t\r\n\t\t\t                \r\n\t\t\t\r\n\t\t\tpipeline.run().waitUntilFinish();\r\n\t\t\tSystem.out.println(&quot;The end&quot;);\r\n\r\n\t\t}\r\n\r\n\t\tprivate static String getColumnValue(String columnName, Row row, Schema sourceSchema) {\r\n\t\t\tString type = sourceSchema.getField(columnName).schema().getType().toString().toLowerCase();\r\n\t\t\tLogicalType logicalType = sourceSchema.getField(columnName).schema().getLogicalType();\r\n\t\t\tif (logicalType != null) {\r\n\t\t\t\ttype = logicalType.getName();\r\n\t\t\t}\r\n\r\n\t\t\tswitch (type) {\r\n\t\t\tcase &quot;string&quot;:\r\n\t\t\t\treturn row.getString(columnName);\r\n\t\t\tcase &quot;int&quot;:\r\n\t\t\t\treturn Objects.requireNonNull(row.getInt32(columnName)).toString();\r\n\t\t\tcase &quot;bigint&quot;:\r\n\t\t\t\treturn Objects.requireNonNull(row.getInt64(columnName)).toString();\r\n\t\t\tcase &quot;double&quot;:\r\n\t\t\t\treturn Objects.requireNonNull(row.getDouble(columnName)).toString();\r\n\t\t\tcase &quot;timestamp-millis&quot;:\r\n\t\t\t\treturn Instant.ofEpochMilli(Objects.requireNonNull(row.getDateTime(&quot;eventTime&quot;)).getMillis()).toString();\r\n\r\n\t\t\tdefault:\r\n\t\t\t\treturn row.getString(columnName);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n**Modified Code:**\r\nOriginal code\r\n\r\n    final Group.CombineFieldsByFields&lt;Row&gt; combine = Group.&lt;Row&gt;byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\r\n            .aggregateField(&quot;amount&quot;, Sum.ofDoubles(), &quot;balances&quot;);\r\n\r\n\r\nGrouping by customerID\r\n\r\n    class ToKV extends DoFn&lt;Row, KV&lt;String, Row&gt;&gt; {\r\n\r\n    \tprivate static final long serialVersionUID = -8093837716944809689L;\r\n    \tString columnName1 = null;\r\n\r\n    \t@ProcessElement\r\n    \tpublic void processElement(ProcessContext context) {\r\n    \t\tRow row = context.element();\r\n    \t\torg.apache.beam.sdk.schemas.Schema schema = row.getSchema();\r\n    \t\tcontext.output(KV.of(row.getValue(columnName1).toString(), row));\r\n    \t}\r\n\r\n    \tpublic void setColumnName1(String columnName1) {\r\n    \t\tthis.columnName1 = columnName1;\r\n    \t}\r\n\r\n\r\n    }\r\n\r\nGrouping by customerID:\r\n\r\n    ToKV toKV = new ToKV();\r\n    toKV.setColumnName1(&quot;ID&quot;);\r\n\tPCollection&lt;KV&lt;String, Row&gt;&gt; kvRows = rows.apply(ParDo.of(toKV)).setCoder(KvCoder.of(StringUtf8Coder.of(), rows.getCoder()));\r\n\t\t\r\n\t\t\r\n\tPCollection&lt;KV&lt;String,Iterable&lt;Row&gt;&gt;&gt; groupedKVRows = kvRows.apply(GroupByKey.&lt;String,Row&gt;create());\r\n\r\n   // Trying to grouping by date\r\n\r\n\t\tPCollection&lt;Row&gt; outputRow = \r\n\t\t\t\tgroupedKVRows\r\n\t\t\t\t.apply(ParDo.of(new GroupByDate()))\r\n\t\t\t\t.setCoder(RowCoder.of(AvroUtils.toBeamSchema(schema)));\r\n\r\n\r\nHow to write the logic to convert Iterable&lt;Row&gt; to pCollection so that the date can be sorted. \r\n\r\n    class GroupByDate extends DoFn&lt;KV&lt;String,Iterable&lt;Row&gt;&gt;, Row&gt; {\r\n\r\n    \tprivate static final long serialVersionUID = -1345126662309830332L;\r\n\r\n    \t@ProcessElement\r\n    \tpublic void processElement(ProcessContext context) {\r\n    \t\tString strKey = context.element().getKey();\r\n    \t\tIterable&lt;Row&gt; rows = context.element().getValue();\r\n    \t\t\r\n    \t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n\r\n\r\nAvro schema:\r\n\r\n\t{\r\n\t  &quot;type&quot; : &quot;record&quot;,\r\n\t  &quot;name&quot; : &quot;Entry&quot;,\r\n\t  &quot;namespace&quot; : &quot;transform&quot;,\r\n\t  &quot;fields&quot; : [  {\r\n\t\t&quot;name&quot; : &quot;customerId&quot;,\r\n\t\t&quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\r\n\t  }, {\r\n\t\t&quot;name&quot; : &quot;date&quot;,\r\n\t\t&quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ],\r\n\t\t&quot;logicalType&quot;: &quot;date&quot;\r\n\t\t\r\n\t  }, {\r\n\t\t&quot;name&quot; : &quot;amount&quot;,\r\n\t\t&quot;type&quot; : [ &quot;double&quot;, &quot;null&quot; ]\r\n\t  } ]\r\n\t}\r\n\r\n\r\n\r\n**Update To convert PCollection to Row[]**\r\n\r\n\tclass KVToRow extends DoFn&lt;KV&lt;String, Iterable&lt;Row&gt;&gt;, Row[]&gt; {\r\n\r\n\t\tprivate static final long serialVersionUID = -1345126662309830332L;\r\n\r\n\t\t@ProcessElement\r\n\t\tpublic void processElement(ProcessContext context) {\r\n\t\t\tString strKey = context.element().getKey();\r\n\t\t\tList&lt;Row&gt; rowList = new ArrayList();\r\n\t\t\tIterable&lt;Row&gt; rowValue = context.element().getValue();\r\n\t\t\trowValue.forEach(data -&gt; {\r\n\t\t\t\trowList.add(data);\r\n\r\n\t\t\t});\r\n\t\t\tRow[] rowArray = new Row[rowList.size()-1];\r\n\t\t\trowArray=rowList.toArray(rowArray);\r\n\t\t\tcontext.output(rowArray);\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Suggested Code**\r\n\r\n    Row[] rowArray = Iterables.toArray(rows, Row.class);\r\n\r\n**Error:**\r\n\r\nThe method toArray(Iterable&lt;? extends T&gt;, Class&lt;T&gt;) in the type Iterables is not applicable for the arguments (PCollection&lt;Row&gt;, Class&lt;Row&gt;)\r\n\r\n**Convert iterable to array**\r\n\r\n    Row[] rowArray =  groupedKVRows.apply(ParDo.of(new KVToRow()));\r\n\r\n**Error:**\r\n\r\n Multiple markers at this line\r\n\t- Type mismatch: cannot convert from PCollection&lt;Row[]&gt; \r\n\t to Row[]\r\n\t- 1 changed line, 2 deleted","title":"Apache Beam update current row values based on the values from previous row","body":"<p>Apache Beam update values based on the values from the previous row</p>\n<p>I have grouped the values from a CSV file. Here in the grouped rows, we find a few missing values which need to be updated based on the values from the previous row. If the first column of the row is empty then we need to update it by 0.</p>\n<p>I am able to group the records, But unable to figure out a logic to update the values, How do I achieve this?</p>\n<p>Records</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>customerId</th>\n<th>date</th>\n<th>amount</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>BS:89481</td>\n<td>1/1/2012</td>\n<td>100</td>\n</tr>\n<tr>\n<td>BS:89482</td>\n<td>1/1/2012</td>\n<td></td>\n</tr>\n<tr>\n<td>BS:89483</td>\n<td>1/1/2012</td>\n<td>300</td>\n</tr>\n<tr>\n<td>BS:89481</td>\n<td>1/2/2012</td>\n<td>900</td>\n</tr>\n<tr>\n<td>BS:89482</td>\n<td>1/2/2012</td>\n<td>200</td>\n</tr>\n<tr>\n<td>BS:89483</td>\n<td>1/2/2012</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Records on Grouping</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>customerId</th>\n<th>date</th>\n<th>amount</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>BS:89481</td>\n<td>1/1/2012</td>\n<td>100</td>\n</tr>\n<tr>\n<td>BS:89481</td>\n<td>1/2/2012</td>\n<td>900</td>\n</tr>\n<tr>\n<td>BS:89482</td>\n<td>1/1/2012</td>\n<td></td>\n</tr>\n<tr>\n<td>BS:89482</td>\n<td>1/2/2012</td>\n<td>200</td>\n</tr>\n<tr>\n<td>BS:89483</td>\n<td>1/1/2012</td>\n<td>300</td>\n</tr>\n<tr>\n<td>BS:89483</td>\n<td>1/2/2012</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Update missing values</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>customerId</th>\n<th>date</th>\n<th>amount</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>BS:89481</td>\n<td>1/1/2012</td>\n<td>100</td>\n</tr>\n<tr>\n<td>BS:89481</td>\n<td>1/2/2012</td>\n<td>900</td>\n</tr>\n<tr>\n<td>BS:89482</td>\n<td>1/1/2012</td>\n<td><em><strong>000</strong></em></td>\n</tr>\n<tr>\n<td>BS:89482</td>\n<td>1/2/2012</td>\n<td>200</td>\n</tr>\n<tr>\n<td>BS:89483</td>\n<td>1/1/2012</td>\n<td>300</td>\n</tr>\n<tr>\n<td>BS:89483</td>\n<td>1/2/2012</td>\n<td><em><strong>300</strong></em></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Code Until Now:</p>\n<pre><code>public class GroupByTest {\n    public static void main(String[] args) throws IOException {\n        System.out.println(&quot;We are about to start!!&quot;);\n\n        final File schemaFile = new File(\n                &quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\schema_transform2.avsc&quot;);\n\n        File csvFile = new File(\n                &quot;C:\\\\AI\\\\Workspace\\\\office\\\\lombok\\\\artifact\\\\src\\\\main\\\\resources\\\\CustomerRequest-case2.csv&quot;);\n        Schema schema = new Schema.Parser().parse(schemaFile);\n\n        Pipeline pipeline = Pipeline.create();\n\n        // Reading schema\n        org.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\n\n        final PCollectionTuple tuples = pipeline\n\n                // Reading csv input\n                .apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\n\n                // Reading files that matches conditions \n                .apply(&quot;2&quot;, FileIO.readMatches())\n\n                // Reading schema and validating with schema and converts to row and returns\n                // valid and invalid list\n                .apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\n                        TupleTagList.of(invalidTag())));\n\n        // Fetching only valid rows\n        final PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\n\n        // Transformation\n        //Convert row to KV\n        final Group.CombineFieldsByFields&lt;Row&gt; combine = Group.&lt;Row&gt;byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\n            .aggregateField(&quot;balance&quot;, Sum.ofDoubles(), &quot;balances&quot;);\n\n        final PCollection&lt;Row&gt; aggregagte = rows.apply(combine);\n\n        PCollection&lt;String&gt; pOutput=aggregagte.apply(Select.flattenedSchema()).apply(ParDo.of(new RowToString()));\n        \n                        \n        \n        pipeline.run().waitUntilFinish();\n        System.out.println(&quot;The end&quot;);\n\n    }\n\n    private static String getColumnValue(String columnName, Row row, Schema sourceSchema) {\n        String type = sourceSchema.getField(columnName).schema().getType().toString().toLowerCase();\n        LogicalType logicalType = sourceSchema.getField(columnName).schema().getLogicalType();\n        if (logicalType != null) {\n            type = logicalType.getName();\n        }\n\n        switch (type) {\n        case &quot;string&quot;:\n            return row.getString(columnName);\n        case &quot;int&quot;:\n            return Objects.requireNonNull(row.getInt32(columnName)).toString();\n        case &quot;bigint&quot;:\n            return Objects.requireNonNull(row.getInt64(columnName)).toString();\n        case &quot;double&quot;:\n            return Objects.requireNonNull(row.getDouble(columnName)).toString();\n        case &quot;timestamp-millis&quot;:\n            return Instant.ofEpochMilli(Objects.requireNonNull(row.getDateTime(&quot;eventTime&quot;)).getMillis()).toString();\n\n        default:\n            return row.getString(columnName);\n\n        }\n    }\n\n\n\n}\n</code></pre>\n<p><strong>Modified Code:</strong>\nOriginal code</p>\n<pre><code>final Group.CombineFieldsByFields&lt;Row&gt; combine = Group.&lt;Row&gt;byFieldNames(&quot;customerId&quot;, &quot;date&quot;)\n        .aggregateField(&quot;amount&quot;, Sum.ofDoubles(), &quot;balances&quot;);\n</code></pre>\n<p>Grouping by customerID</p>\n<pre><code>class ToKV extends DoFn&lt;Row, KV&lt;String, Row&gt;&gt; {\n\n    private static final long serialVersionUID = -8093837716944809689L;\n    String columnName1 = null;\n\n    @ProcessElement\n    public void processElement(ProcessContext context) {\n        Row row = context.element();\n        org.apache.beam.sdk.schemas.Schema schema = row.getSchema();\n        context.output(KV.of(row.getValue(columnName1).toString(), row));\n    }\n\n    public void setColumnName1(String columnName1) {\n        this.columnName1 = columnName1;\n    }\n\n\n}\n</code></pre>\n<p>Grouping by customerID:</p>\n<pre><code>ToKV toKV = new ToKV();\ntoKV.setColumnName1(&quot;ID&quot;);\nPCollection&lt;KV&lt;String, Row&gt;&gt; kvRows = rows.apply(ParDo.of(toKV)).setCoder(KvCoder.of(StringUtf8Coder.of(), rows.getCoder()));\n    \n    \nPCollection&lt;KV&lt;String,Iterable&lt;Row&gt;&gt;&gt; groupedKVRows = kvRows.apply(GroupByKey.&lt;String,Row&gt;create());\n</code></pre>\n<p>// Trying to grouping by date</p>\n<pre><code>    PCollection&lt;Row&gt; outputRow = \n            groupedKVRows\n            .apply(ParDo.of(new GroupByDate()))\n            .setCoder(RowCoder.of(AvroUtils.toBeamSchema(schema)));\n</code></pre>\n<p>How to write the logic to convert Iterable to pCollection so that the date can be sorted.</p>\n<pre><code>class GroupByDate extends DoFn&lt;KV&lt;String,Iterable&lt;Row&gt;&gt;, Row&gt; {\n\n    private static final long serialVersionUID = -1345126662309830332L;\n\n    @ProcessElement\n    public void processElement(ProcessContext context) {\n        String strKey = context.element().getKey();\n        Iterable&lt;Row&gt; rows = context.element().getValue();\n        \n    \n        \n        \n    }\n</code></pre>\n<p>Avro schema:</p>\n<pre><code>{\n  &quot;type&quot; : &quot;record&quot;,\n  &quot;name&quot; : &quot;Entry&quot;,\n  &quot;namespace&quot; : &quot;transform&quot;,\n  &quot;fields&quot; : [  {\n    &quot;name&quot; : &quot;customerId&quot;,\n    &quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\n  }, {\n    &quot;name&quot; : &quot;date&quot;,\n    &quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ],\n    &quot;logicalType&quot;: &quot;date&quot;\n    \n  }, {\n    &quot;name&quot; : &quot;amount&quot;,\n    &quot;type&quot; : [ &quot;double&quot;, &quot;null&quot; ]\n  } ]\n}\n</code></pre>\n<p><strong>Update To convert PCollection to Row[]</strong></p>\n<pre><code>class KVToRow extends DoFn&lt;KV&lt;String, Iterable&lt;Row&gt;&gt;, Row[]&gt; {\n\n    private static final long serialVersionUID = -1345126662309830332L;\n\n    @ProcessElement\n    public void processElement(ProcessContext context) {\n        String strKey = context.element().getKey();\n        List&lt;Row&gt; rowList = new ArrayList();\n        Iterable&lt;Row&gt; rowValue = context.element().getValue();\n        rowValue.forEach(data -&gt; {\n            rowList.add(data);\n\n        });\n        Row[] rowArray = new Row[rowList.size()-1];\n        rowArray=rowList.toArray(rowArray);\n        context.output(rowArray);\n    }\n}\n</code></pre>\n<p><strong>Suggested Code</strong></p>\n<pre><code>Row[] rowArray = Iterables.toArray(rows, Row.class);\n</code></pre>\n<p><strong>Error:</strong></p>\n<p>The method toArray(Iterable&lt;? extends T&gt;, Class) in the type Iterables is not applicable for the arguments (PCollection, Class)</p>\n<p><strong>Convert iterable to array</strong></p>\n<pre><code>Row[] rowArray =  groupedKVRows.apply(ParDo.of(new KVToRow()));\n</code></pre>\n<p><strong>Error:</strong></p>\n<p>Multiple markers at this line\n- Type mismatch: cannot convert from PCollection&lt;Row[]&gt;\nto Row[]\n- 1 changed line, 2 deleted</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":947764,"reputation":213,"user_id":974650,"accept_rate":60,"display_name":"TimL"},"score":0,"creation_date":1518870326,"post_id":48458472,"comment_id":84686519,"body_markdown":"Same problem, did you get a solution ?","body":"Same problem, did you get a solution ?"},{"owner":{"account_id":1812977,"reputation":2226,"user_id":1648661,"accept_rate":35,"display_name":"Yetispapa"},"score":0,"creation_date":1518872537,"post_id":48458472,"comment_id":84687103,"body_markdown":"Nope. Still have the problem :/","body":"Nope. Still have the problem :/"},{"owner":{"account_id":8659189,"reputation":547,"user_id":6482303,"display_name":"adamyi"},"score":0,"creation_date":1539506587,"post_id":48458472,"comment_id":92520757,"body_markdown":"same here... but anyway this tool is deprecated and will be removed in android studio 3.2","body":"same here... but anyway this tool is deprecated and will be removed in android studio 3.2"},{"owner":{"account_id":1812977,"reputation":2226,"user_id":1648661,"accept_rate":35,"display_name":"Yetispapa"},"score":0,"creation_date":1539588058,"post_id":48458472,"comment_id":92541005,"body_markdown":"Why they want to remove this tool? It seems very helpful what I read so far. For example I had to write a script by myself which is only functionality is to extract the realm database from Android. This tool has this kind of functionality included..","body":"Why they want to remove this tool? It seems very helpful what I read so far. For example I had to write a script by myself which is only functionality is to extract the realm database from Android. This tool has this kind of functionality included.."},{"owner":{"account_id":3543371,"reputation":421,"user_id":2959931,"display_name":"Gotama"},"score":0,"creation_date":1546431465,"post_id":48458472,"comment_id":94848907,"body_markdown":"Ive got same issue, Looking for an android monitor as I am developing in vscode not Android Studio.","body":"Ive got same issue, Looking for an android monitor as I am developing in vscode not Android Studio."}],"answers":[{"tags":[],"owner":{"account_id":10177865,"reputation":1,"user_id":7515843,"display_name":"user7515843"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636642785,"creation_date":1636642785,"answer_id":69930463,"question_id":48458472,"body_markdown":"I fixed this by downgrade JDK to 1.8.0_151.  \r\nhere is my environment\r\n```\r\non Mac OS 11.6\r\n\r\njava version &quot;1.8.0_151&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_151-b12)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)\r\n```\r\nanother thing is, if you have more than one JDK, please make sure that the monitor can find the version 1.8.151.","title":"Android Studio - device monitor tool is just a blank window","body":"<p>I fixed this by downgrade JDK to 1.8.0_151.<br />\nhere is my environment</p>\n<pre><code>on Mac OS 11.6\n\njava version &quot;1.8.0_151&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_151-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)\n</code></pre>\n<p>another thing is, if you have more than one JDK, please make sure that the monitor can find the version 1.8.151.</p>\n"}],"owner":{"account_id":1812977,"reputation":2226,"user_id":1648661,"accept_rate":35,"display_name":"Yetispapa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636642785,"creation_date":1516958184,"question_id":48458472,"body_markdown":"i have a problem with android studio&#39;s device monitor tool. When I start the tool I just got this:\r\n\r\n[![device monitor tool][1]][1]\r\n\r\nI can&#39;t click anything. It&#39;s just a blank view which looks broken. When I first run the tool I got this popuplar error which is caused by the problem that the terminal is using a different java verison then android studio itself. I fixed this problem by installing a new JDK. This is the current version printed out from terminal:\r\n\r\n    java version &quot;1.8.0_161&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_161-b12)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)\r\n\r\nI also tried to launch the tool with the terminal via `sudo ./monitor` in the tools folder in android&#39;s sdk directory. I got the same blank view.\r\n\r\nNext I thought maybe something is wrong with the `adb commands` in terminal. But those are also working when using terminal.\r\n\r\nI thought I saw once a error like `DDMS preferences could not be loaded` when launching the tool via terminal. But the error never appeared again after that. But to be sure I read on stackoverflow that the solution for this is to reinstall the tools via android studio or downloading it manually and replace the folder. So I also did this.\r\n\r\nAs you can see I tried my best to solve the weird behaviour but I just don&#39;t know what happend here cause I don&#39;t get any errors. Unfortunately this tool looks very powerful to me in aspect of seeing what happend actually on the device when developing an android app.\r\n\r\nSo does someone has a similar problem or can help me here? Maby a hint where I can find a log or something?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4wMM5.png","title":"Android Studio - device monitor tool is just a blank window","body":"<p>i have a problem with android studio's device monitor tool. When I start the tool I just got this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4wMM5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4wMM5.png\" alt=\"device monitor tool\"></a></p>\n\n<p>I can't click anything. It's just a blank view which looks broken. When I first run the tool I got this popuplar error which is caused by the problem that the terminal is using a different java verison then android studio itself. I fixed this problem by installing a new JDK. This is the current version printed out from terminal:</p>\n\n<pre><code>java version \"1.8.0_161\"\nJava(TM) SE Runtime Environment (build 1.8.0_161-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)\n</code></pre>\n\n<p>I also tried to launch the tool with the terminal via <code>sudo ./monitor</code> in the tools folder in android's sdk directory. I got the same blank view.</p>\n\n<p>Next I thought maybe something is wrong with the <code>adb commands</code> in terminal. But those are also working when using terminal.</p>\n\n<p>I thought I saw once a error like <code>DDMS preferences could not be loaded</code> when launching the tool via terminal. But the error never appeared again after that. But to be sure I read on stackoverflow that the solution for this is to reinstall the tools via android studio or downloading it manually and replace the folder. So I also did this.</p>\n\n<p>As you can see I tried my best to solve the weird behaviour but I just don't know what happend here cause I don't get any errors. Unfortunately this tool looks very powerful to me in aspect of seeing what happend actually on the device when developing an android app.</p>\n\n<p>So does someone has a similar problem or can help me here? Maby a hint where I can find a log or something?</p>\n"},{"tags":["java","maven","lombok"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1455471863,"post_id":35394885,"comment_id":58493650,"body_markdown":"Where are the souces located? `src/main/java`, `src/main/lombok`?","body":"Where are the souces located? <code>src&#47;main&#47;java</code>, <code>src&#47;main&#47;lombok</code>?"},{"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"score":0,"creation_date":1455472165,"post_id":35394885,"comment_id":58493794,"body_markdown":"java. Do they have to be under lombok?","body":"java. Do they have to be under lombok?"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1455472343,"post_id":35394885,"comment_id":58493872,"body_markdown":"Yes. Try to move them.","body":"Yes. Try to move them."},{"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"score":0,"creation_date":1455472546,"post_id":35394885,"comment_id":58493935,"body_markdown":"It doesn&#39;t compile them under `src/main/lombok` so it&#39;s not working","body":"It doesn&#39;t compile them under <code>src&#47;main&#47;lombok</code> so it&#39;s not working"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":2,"creation_date":1455472640,"post_id":35394885,"comment_id":58493968,"body_markdown":"How did you ran Maven? And what&#39;s the error? You should run `mvn clean package`.","body":"How did you ran Maven? And what&#39;s the error? You should run <code>mvn clean package</code>."},{"owner":{"account_id":2397606,"reputation":1886,"user_id":2891426,"accept_rate":71,"display_name":"Nagy Vilmos"},"score":0,"creation_date":1455472640,"post_id":35394885,"comment_id":58493969,"body_markdown":"@Tunaki no, nope! The source&#39;s are good at `/src/main/java`.","body":"@Tunaki no, nope! The source&#39;s are good at <code>&#47;src&#47;main&#47;java</code>."},{"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"score":0,"creation_date":1455472661,"post_id":35394885,"comment_id":58493981,"body_markdown":"I ran `mvn clean install` . `mvn clean package` would give the same error","body":"I ran <code>mvn clean install</code> . <code>mvn clean package</code> would give the same error"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1455472835,"post_id":35394885,"comment_id":58494040,"body_markdown":"the lombok dependency should be &quot;provided&quot;, see https://projectlombok.org/mavenrepo/. Can we see your maven output?","body":"the lombok dependency should be &quot;provided&quot;, see <a href=\"https://projectlombok.org/mavenrepo/\" rel=\"nofollow noreferrer\">projectlombok.org/mavenrepo</a>. Can we see your maven output?"},{"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"score":0,"creation_date":1455472968,"post_id":35394885,"comment_id":58494089,"body_markdown":"default scope is more inclusive than `provided` so it doesn&#39;t make a difference. Adding more detailed output to question","body":"default scope is more inclusive than <code>provided</code> so it doesn&#39;t make a difference. Adding more detailed output to question"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1455473189,"post_id":35394885,"comment_id":58494164,"body_markdown":"Your code works fine here (see http://i63.tinypic.com/33dlicw.jpg, I used an empty interface for MathematicalResult)","body":"Your code works fine here (see <a href=\"http://i63.tinypic.com/33dlicw.jpg\" rel=\"nofollow noreferrer\">i63.tinypic.com/33dlicw.jpg</a>, I used an empty interface for MathematicalResult)"},{"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"score":0,"creation_date":1455473309,"post_id":35394885,"comment_id":58494199,"body_markdown":"my interface is empty apart from extending Serializable","body":"my interface is empty apart from extending Serializable"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1455473485,"post_id":35394885,"comment_id":58494254,"body_markdown":"Do you have `lombok-maven` as your parent POM?","body":"Do you have <code>lombok-maven</code> as your parent POM?"},{"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"score":0,"creation_date":1455473532,"post_id":35394885,"comment_id":58494270,"body_markdown":"No. I&#39;d rather not have a 3rd party parent pom either. I have seen other projects work without it as a parent too. so i&#39;m sure it&#39;s not required","body":"No. I&#39;d rather not have a 3rd party parent pom either. I have seen other projects work without it as a parent too. so i&#39;m sure it&#39;s not required"},{"owner":{"account_id":1799212,"reputation":497,"user_id":1637916,"display_name":"grzesiekw"},"score":0,"creation_date":1455475318,"post_id":35394885,"comment_id":58494838,"body_markdown":"I don&#39;t know why but you got compiler error because of maven-compiler-plugin. If you can please change plugin version to 3.5 and check if it will work.","body":"I don&#39;t know why but you got compiler error because of maven-compiler-plugin. If you can please change plugin version to 3.5 and check if it will work."},{"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"score":0,"creation_date":1455475699,"post_id":35394885,"comment_id":58494971,"body_markdown":"Yes this seems to have solved it for some reason...  Post as an answer please :)","body":"Yes this seems to have solved it for some reason...  Post as an answer please :)"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1542121729,"creation_date":1455475041,"answer_id":35395572,"question_id":35394885,"body_markdown":"First you should locate your lombok source (java annotated with lombok) into `src/main/lombok` and add the [lombok-maven-plugin][1] to your project like this:\r\n\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.16.6.1&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;delombok&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nIf you don&#39;t like to use the lombok-maven-plugin you need to add the following:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.16.6&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIf you really like to put your lomboked source into `src/main/java` instead of the default `/src/main/lombok` [you have to go this way][2] which is not recommended:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;build&gt;\r\n      &lt;sourceDirectory&gt;target/generated-sources/delombok&lt;/sourceDirectory&gt;\r\n      &lt;testSourceDirectory&gt;target/generated-test-sources/delombok&lt;/testSourceDirectory&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.16.6.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;delombok&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;delombok&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\r\n              &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;test-delombok&lt;/id&gt;\r\n            &lt;phase&gt;generate-test-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;testDelombok&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\r\n              &lt;sourceDirectory&gt;src/test/java&lt;/sourceDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n  [1]: http://awhitford.github.io/lombok.maven/lombok-maven-plugin/usage.html\r\n  [2]: http://awhitford.github.io/lombok.maven/lombok-maven-plugin/faq.html","title":"Lombok not compiling in maven","body":"<p>First you should locate your lombok source (java annotated with lombok) into <code>src/main/lombok</code> and add the <a href=\"http://awhitford.github.io/lombok.maven/lombok-maven-plugin/usage.html\" rel=\"nofollow noreferrer\">lombok-maven-plugin</a> to your project like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.16.6.1&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;phase&gt;generate-sources&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;delombok&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>If you don't like to use the lombok-maven-plugin you need to add the following:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.16.6&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>If you really like to put your lomboked source into <code>src/main/java</code> instead of the default <code>/src/main/lombok</code> <a href=\"http://awhitford.github.io/lombok.maven/lombok-maven-plugin/faq.html\" rel=\"nofollow noreferrer\">you have to go this way</a> which is not recommended:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;sourceDirectory&gt;target/generated-sources/delombok&lt;/sourceDirectory&gt;\n  &lt;testSourceDirectory&gt;target/generated-test-sources/delombok&lt;/testSourceDirectory&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.16.6.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;delombok&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;delombok&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\n          &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n        &lt;id&gt;test-delombok&lt;/id&gt;\n        &lt;phase&gt;generate-test-sources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;testDelombok&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\n          &lt;sourceDirectory&gt;src/test/java&lt;/sourceDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1799212,"reputation":497,"user_id":1637916,"display_name":"grzesiekw"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1455475885,"creation_date":1455475885,"answer_id":35395732,"question_id":35394885,"body_markdown":"I don&#39;t know why but you got compiler error because of maven-compiler-plugin. If you can please change plugin version to 3.5 and check if it will work.","title":"Lombok not compiling in maven","body":"<p>I don't know why but you got compiler error because of maven-compiler-plugin. If you can please change plugin version to 3.5 and check if it will work.</p>\n"},{"tags":[],"owner":{"account_id":82286,"reputation":126,"user_id":2105227,"display_name":"Daniel Seltzer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492522958,"creation_date":1492522958,"answer_id":43473943,"question_id":35394885,"body_markdown":"I struggled mightily with this and concluded that **Lombok 1.16+** and **Java 8** are a problem with earlier versions of Maven&#39;s compiler plugin. IDEA 2017.1 was building the code without errors, but Maven was throwing &#39;symbol not found&#39; errors on public methods that were definitely there in a decompiled jar file. \r\n\r\nBy upgrading to **maven-compiler-plugin 3.6.1** across my project and its libraries I was able to get it resolved without having to go down the Delombok path, which I really wanted to avoid.\r\n\r\n","title":"Lombok not compiling in maven","body":"<p>I struggled mightily with this and concluded that <strong>Lombok 1.16+</strong> and <strong>Java 8</strong> are a problem with earlier versions of Maven's compiler plugin. IDEA 2017.1 was building the code without errors, but Maven was throwing 'symbol not found' errors on public methods that were definitely there in a decompiled jar file. </p>\n\n<p>By upgrading to <strong>maven-compiler-plugin 3.6.1</strong> across my project and its libraries I was able to get it resolved without having to go down the Delombok path, which I really wanted to avoid.</p>\n"},{"tags":[],"owner":{"account_id":10953482,"reputation":1021,"user_id":8049084,"display_name":"Renato Garcia"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1626098810,"creation_date":1495468475,"answer_id":44117227,"question_id":35394885,"body_markdown":"Add `annotationProcessorPaths` to your maven-compiler-plugins configurations:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;annotationProcessorPaths&gt;\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\t \r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n          &lt;/path&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n","title":"Lombok not compiling in maven","body":"<p>Add <code>annotationProcessorPaths</code> to your maven-compiler-plugins configurations:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;annotationProcessorPaths&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;     \n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n      &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1406827,"reputation":1134,"user_id":1334305,"accept_rate":29,"display_name":"user666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520426356,"creation_date":1520426356,"answer_id":49152208,"question_id":35394885,"body_markdown":"You will also need to check what version of java is there in path . My issue was with Java 1.8 &amp; 3.5 version . To get it working I had to switch to 1.7 &amp; 3.5 . Please note we are still on 1.7","title":"Lombok not compiling in maven","body":"<p>You will also need to check what version of java is there in path . My issue was with Java 1.8 &amp; 3.5 version . To get it working I had to switch to 1.7 &amp; 3.5 . Please note we are still on 1.7</p>\n"},{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595320463,"creation_date":1595320013,"answer_id":63010451,"question_id":35394885,"body_markdown":"Although the OP&#39;s problem appears to have been solved these symptoms can also be caused by this:\r\n\r\nIf Lombok is working in your IDE but behaving like its not generating any methods etc in the Maven build a cause of this can be that Maven has been set to use a different compiler to the javac compiler, which may have different instructions.\r\n\r\nFor example if your POM (or parent POM) contains something like this:\r\n\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerId&gt;eclipse&lt;/compilerId&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n\r\nIn that case the eclipse compiler is being used, this compiler is much less lombok friendly and [has special instructions](https://projectlombok.org/setup/ecj).\r\n\r\n\r\n[For my case that was bending the build process too out of shape and we decided not to use lombok as a result, sadly]","title":"Lombok not compiling in maven","body":"<p>Although the OP's problem appears to have been solved these symptoms can also be caused by this:</p>\n<p>If Lombok is working in your IDE but behaving like its not generating any methods etc in the Maven build a cause of this can be that Maven has been set to use a different compiler to the javac compiler, which may have different instructions.</p>\n<p>For example if your POM (or parent POM) contains something like this:</p>\n<pre><code>    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;compilerId&gt;eclipse&lt;/compilerId&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n</code></pre>\n<p>In that case the eclipse compiler is being used, this compiler is much less lombok friendly and <a href=\"https://projectlombok.org/setup/ecj\" rel=\"nofollow noreferrer\">has special instructions</a>.</p>\n<p>[For my case that was bending the build process too out of shape and we decided not to use lombok as a result, sadly]</p>\n"},{"tags":[],"owner":{"account_id":16483731,"reputation":171,"user_id":11909733,"display_name":"Yuva"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1597822790,"creation_date":1597822790,"answer_id":63482173,"question_id":35394885,"body_markdown":"My working configuration is as below.\r\n\r\nIn the pom file:\r\n\r\n   \r\n\r\n         &lt;properties&gt;\r\n            &lt;java.version&gt;14&lt;/java.version&gt;\r\n            &lt;lombok-version&gt;1.18.12&lt;/lombok-version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n         &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;${lombok-version}&lt;/version&gt;            \r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;14&lt;/source&gt;\r\n                        &lt;target&gt;14&lt;/target&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${lombok-version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;                 \r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\nMaven compiler plugin version 3.8.1 is significant here as the older version didn&#39;t work for me.\r\n\r\nIn the module-info.java\r\n\r\n     requires static lombok;","title":"Lombok not compiling in maven","body":"<p>My working configuration is as below.</p>\n<p>In the pom file:</p>\n<pre><code>     &lt;properties&gt;\n        &lt;java.version&gt;14&lt;/java.version&gt;\n        &lt;lombok-version&gt;1.18.12&lt;/lombok-version&gt;\n    &lt;/properties&gt;\n\n     &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok-version}&lt;/version&gt;            \n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;14&lt;/source&gt;\n                    &lt;target&gt;14&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok-version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;                 \n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Maven compiler plugin version 3.8.1 is significant here as the older version didn't work for me.</p>\n<p>In the module-info.java</p>\n<pre><code> requires static lombok;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95581,"reputation":10145,"user_id":260229,"accept_rate":50,"display_name":"Mahmoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636642687,"creation_date":1636642687,"answer_id":69930438,"question_id":35394885,"body_markdown":"Increase the stack size of the JVM using this argument: `-Xss10240m`\r\n\r\n# MAVEN_OPTS\r\n\r\n`set MAVEN_OPTS=-Xss10240m&quot;` or `export MAVEN_OPTS=&quot;-Xss10240m&quot;`.\r\n\r\n# _JAVA_OPTIONS\r\n\r\n`_JAVA_OPTIONS=&quot;-Xss10240m&quot;`.\r\n\r\n# maven-compiler-plugin\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-Xss10240m&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n# spring-boot-maven-plugin\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;jvmArguments&gt;\r\n            -Xss10240m\r\n        &lt;/jvmArguments&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Lombok not compiling in maven","body":"<p>Increase the stack size of the JVM using this argument: <code>-Xss10240m</code></p>\n<h1>MAVEN_OPTS</h1>\n<p><code>set MAVEN_OPTS=-Xss10240m&quot;</code> or <code>export MAVEN_OPTS=&quot;-Xss10240m&quot;</code>.</p>\n<h1>_JAVA_OPTIONS</h1>\n<p><code>_JAVA_OPTIONS=&quot;-Xss10240m&quot;</code>.</p>\n<h1>maven-compiler-plugin</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;compilerArgs&gt;\n            &lt;arg&gt;-Xss10240m&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<h1>spring-boot-maven-plugin</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;jvmArguments&gt;\n            -Xss10240m\n        &lt;/jvmArguments&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80182,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":35395732,"answer_count":8,"score":27,"last_activity_date":1636642687,"creation_date":1455471375,"question_id":35394885,"body_markdown":"I am trying to compile my project that uses lombok through maven and i am getting the following issue:\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building akka-calculator-lib 1.0-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ akka-calculator-lib ---\r\n    [INFO] Deleting C:\\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\target\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ akka-calculator-lib ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 2 resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ akka-calculator-lib ---\r\n    [WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\r\n    [INFO] Compiling 11 source files to C:\\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\target\\classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\operation\\multiply\\MultiplyResult.java:[13,22] error: variable firstNumber not initialized in the default constructor\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\operation\\multiply\\MultiplyResult.java:[14,22] error: variable secondNumber not initialized in the default constructor\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\operation\\multiply\\MultiplyResult.java:[15,22] error: variable result not initialized in the default constructor\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[35,52] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[35,87] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[36,54] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[37,74] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[38,74] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[38,101] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[43,50] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[43,85] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[44,64] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[45,84] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[46,84] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[46,111] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[51,50] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[51,85] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[52,64] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[53,84] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[54,84] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[54,111] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[59,50] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[59,85] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[60,60] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[61,80] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[62,89] error: cannot find symbol\r\n    [ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[62,127] error: cannot find symbol\r\n    [INFO] 27 errors\r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary:\r\n    [INFO]\r\n    [INFO] akka-parent ........................................ SUCCESS [  0.164 s]\r\n    [INFO] akka-testing ....................................... SUCCESS [  0.011 s]\r\n    [INFO] akka-calculator .................................... SUCCESS [  0.010 s]\r\n    [INFO] akka-calculator-lib ................................ FAILURE [  2.758 s]\r\n    [INFO] akka-calculator-creation ........................... SKIPPED\r\n    [INFO] akka-calculator-lookup ............................. SKIPPED\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 3.120 s\r\n    [INFO] Finished at: 2016-02-14T19:01:21+01:00\r\n    [INFO] Final Memory: 14M/169M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nWhere the first error type is for the fields in this class:\r\n\r\n    package com.mangusbrother.akka.calculator.lib.operation.multiply;\r\n    \r\n    \r\n    import com.mangusbrother.akka.calculator.lib.operation.MathematicalResult;\r\n    import lombok.Data;\r\n    \r\n    /**\r\n     * Created by Mangusbrother on 14/02/2016.\r\n     */\r\n    @Data\r\n    public class MultiplyResult implements MathematicalResult {\r\n        private static final long serialVersionUID = 738641818941986L;\r\n        private final int firstNumber;\r\n        private final int secondNumber;\r\n        private final int result;\r\n    }\r\n\r\n\r\nand the second error is when a class tries to access getters from lombok classes\r\n\r\nMy maven pom.xml has the following in it:\r\n\r\n    &lt;properties&gt;\r\n        &lt;lombok.version&gt;1.16.6&lt;/lombok.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Lombok not compiling in maven","body":"<p>I am trying to compile my project that uses lombok through maven and i am getting the following issue:</p>\n\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] Building akka-calculator-lib 1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ akka-calculator-lib ---\n[INFO] Deleting C:\\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\target\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ akka-calculator-lib ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 2 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ akka-calculator-lib ---\n[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\n[INFO] Compiling 11 source files to C:\\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\operation\\multiply\\MultiplyResult.java:[13,22] error: variable firstNumber not initialized in the default constructor\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\operation\\multiply\\MultiplyResult.java:[14,22] error: variable secondNumber not initialized in the default constructor\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\operation\\multiply\\MultiplyResult.java:[15,22] error: variable result not initialized in the default constructor\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[35,52] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[35,87] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[36,54] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[37,74] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[38,74] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[38,101] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[43,50] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[43,85] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[44,64] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[45,84] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[46,84] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[46,111] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[51,50] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[51,85] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[52,64] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[53,84] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[54,84] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[54,111] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[59,50] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[59,85] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[60,60] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[61,80] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[62,89] error: cannot find symbol\n[ERROR] \\dev\\projects\\Akka\\akka-testing\\akka-calculator\\akka-calculator-lib\\src\\main\\java\\com\\mangusbrother\\akka\\calculator\\lib\\CalculatorActor.java:[62,127] error: cannot find symbol\n[INFO] 27 errors\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO]\n[INFO] akka-parent ........................................ SUCCESS [  0.164 s]\n[INFO] akka-testing ....................................... SUCCESS [  0.011 s]\n[INFO] akka-calculator .................................... SUCCESS [  0.010 s]\n[INFO] akka-calculator-lib ................................ FAILURE [  2.758 s]\n[INFO] akka-calculator-creation ........................... SKIPPED\n[INFO] akka-calculator-lookup ............................. SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.120 s\n[INFO] Finished at: 2016-02-14T19:01:21+01:00\n[INFO] Final Memory: 14M/169M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>Where the first error type is for the fields in this class:</p>\n\n<pre><code>package com.mangusbrother.akka.calculator.lib.operation.multiply;\n\n\nimport com.mangusbrother.akka.calculator.lib.operation.MathematicalResult;\nimport lombok.Data;\n\n/**\n * Created by Mangusbrother on 14/02/2016.\n */\n@Data\npublic class MultiplyResult implements MathematicalResult {\n    private static final long serialVersionUID = 738641818941986L;\n    private final int firstNumber;\n    private final int secondNumber;\n    private final int result;\n}\n</code></pre>\n\n<p>and the second error is when a class tries to access getters from lombok classes</p>\n\n<p>My maven pom.xml has the following in it:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;lombok.version&gt;1.16.6&lt;/lombok.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":2530606,"reputation":182,"user_id":2198990,"accept_rate":90,"display_name":"Gerry Gry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635857889,"creation_date":1635857889,"answer_id":69810888,"question_id":69564959,"body_markdown":"Got answer from github, I must include ReWritePath to get it works\r\n\r\n    spring:\r\n      application:\r\n        name: api-gateway\r\n      cloud:\r\n        gateway:\r\n          discovery:\r\n            locator:\r\n              lower-case-service-id: true\r\n              enabled: false\r\n          routes:\r\n            - id: my-service\r\n              uri: lb://my-service\r\n              predicates:\r\n                - Path=/service/**\r\n              filters:\r\n                - RewritePath=/service(?&lt;segment&gt;/?.*), /${segment}","title":"Spring cloud gateway 2.5 with eureka return 404","body":"<p>Got answer from github, I must include ReWritePath to get it works</p>\n<pre><code>spring:\n  application:\n    name: api-gateway\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          lower-case-service-id: true\n          enabled: false\n      routes:\n        - id: my-service\n          uri: lb://my-service\n          predicates:\n            - Path=/service/**\n          filters:\n            - RewritePath=/service(?&lt;segment&gt;/?.*), /${segment}\n</code></pre>\n"}],"owner":{"account_id":2530606,"reputation":182,"user_id":2198990,"accept_rate":90,"display_name":"Gerry Gry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69810888,"answer_count":1,"score":0,"last_activity_date":1636642390,"creation_date":1634184465,"question_id":69564959,"body_markdown":"I&#39;m trying to build a gateway with load balancer by using spring-cloud-gateway\r\nBut when I hit gateway, it gives me 404 instead of routing me to the registered service in eureka\r\n\r\nI don&#39;t want to use auto-discover feature, so I use manual routing instead.\r\n\r\nmy code is uploaded here : \r\nhttps://github.com/gry77/poc-spring-cloud-gateway\r\n\r\nHow can I fix it ?\r\n","title":"Spring cloud gateway 2.5 with eureka return 404","body":"<p>I'm trying to build a gateway with load balancer by using spring-cloud-gateway\nBut when I hit gateway, it gives me 404 instead of routing me to the registered service in eureka</p>\n<p>I don't want to use auto-discover feature, so I use manual routing instead.</p>\n<p>my code is uploaded here :\n<a href=\"https://github.com/gry77/poc-spring-cloud-gateway\" rel=\"nofollow noreferrer\">https://github.com/gry77/poc-spring-cloud-gateway</a></p>\n<p>How can I fix it ?</p>\n"},{"tags":["java","strava"],"comments":[{"owner":{"account_id":14021631,"reputation":590,"user_id":10127728,"display_name":"squeezer44"},"score":1,"creation_date":1636457019,"post_id":69885952,"comment_id":123556499,"body_markdown":"To exclude an implementation error on your side, please try the playground: https://developers.strava.com/playground/#/Activities/getLoggedInAthleteActivities At first you should be authorized your session first (can be done on the upper side of the page).","body":"To exclude an implementation error on your side, please try the playground: <a href=\"https://developers.strava.com/playground/#/Activities/getLoggedInAthleteActivities\" rel=\"nofollow noreferrer\">developers.strava.com/playground/#/Activities/&hellip;</a> At first you should be authorized your session first (can be done on the upper side of the page)."},{"owner":{"account_id":19210509,"reputation":31,"user_id":14036409,"display_name":"Anna Bar"},"score":0,"creation_date":1636465934,"post_id":69885952,"comment_id":123560133,"body_markdown":"@squeezer44 yes, I tried  both the playground and requests through the Postman,  these requests are both ok, I can get my activities from Strava. \nBut using the same access token I failed to do it an my app","body":"@squeezer44 yes, I tried  both the playground and requests through the Postman,  these requests are both ok, I can get my activities from Strava.  But using the same access token I failed to do it an my app"},{"owner":{"account_id":14021631,"reputation":590,"user_id":10127728,"display_name":"squeezer44"},"score":0,"creation_date":1636499189,"post_id":69885952,"comment_id":123572932,"body_markdown":"Did you find something inside the logger.trace? F.e.: Are you quire sure your Spring Boot app is sending the same Bearer token to Strava?","body":"Did you find something inside the logger.trace? F.e.: Are you quire sure your Spring Boot app is sending the same Bearer token to Strava?"},{"owner":{"account_id":19210509,"reputation":31,"user_id":14036409,"display_name":"Anna Bar"},"score":0,"creation_date":1636642030,"post_id":69885952,"comment_id":123616105,"body_markdown":"@squeezer44 thank  you for your help! I&#39;ve found the problem!","body":"@squeezer44 thank  you for your help! I&#39;ve found the problem!"},{"owner":{"account_id":14021631,"reputation":590,"user_id":10127728,"display_name":"squeezer44"},"score":0,"creation_date":1636791263,"post_id":69885952,"comment_id":123655427,"body_markdown":"Please share your solution in here - I&#39;m quite interested in it. And maybe others too,","body":"Please share your solution in here - I&#39;m quite interested in it. And maybe others too,"},{"owner":{"account_id":19210509,"reputation":31,"user_id":14036409,"display_name":"Anna Bar"},"score":0,"creation_date":1646117068,"post_id":69885952,"comment_id":126038477,"body_markdown":"@squeezer44  here it is, I&#39;ve finished it finally  https://github.com/AnnaPo-hub/activityApp","body":"@squeezer44  here it is, I&#39;ve finished it finally  <a href=\"https://github.com/AnnaPo-hub/activityApp\" rel=\"nofollow noreferrer\">github.com/AnnaPo-hub/activityApp</a>"}],"owner":{"account_id":19210509,"reputation":31,"user_id":14036409,"display_name":"Anna Bar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636642362,"creation_date":1636385239,"question_id":69885952,"body_markdown":"I&#39;m trying to develop my first java Spring Boot app that calls Strava API and gets my activities for the given period of time.\r\n I&#39;ve registered my app on Strava&#39;s website and got client_id and client secret. I&#39;ve generated spring-swagger-codegen-api-client and awtowired the client to the app.\r\n\r\n```\r\n@Configuration\r\npublic class StravaIntegrationConfiguration {\r\n\r\n    @Bean\r\n    public ActivitiesApi stravaApi(){\r\n        return new ActivitiesApi(apiClient());\r\n    }\r\n\r\n    @Bean\r\n    public ApiClient apiClient(){\r\n        ApiClient apiClient = new ApiClient();\r\n\r\n        OAuth strava_oauth = (OAuth) apiClient.getAuthentication(&quot;strava_oauth&quot;);\r\n        strava_oauth.setAccessToken(&quot;X&quot;);\r\n        return new ApiClient();\r\n    }\r\n\r\n}\r\n```\r\nI&#39;m sure that I use the valid access_Token, my request with this token works fine in Postman.  But when I try to call the method loggedInAthleteActivities I get 401 Unauthorized: [{&quot;message&quot;:&quot;Authorization Error&quot;,&quot;errors&quot;:[{&quot;resource&quot;:&quot;Athlete&quot;,&quot;field&quot;:&quot;access_token&quot;,&quot;code&quot;:&quot;invalid&quot;}]}]\r\n\r\nI tried to change the scope to activity: read or activity: read_all but nothing is changed. \r\nMay be anybody knows how to fix it?\r\n\r\n```\r\n@Component\r\npublic class Adapter {\r\n    @Autowired\r\n    private  ActivitiesApi activitiesApi;\r\n\r\n    public void getActivities(Integer before, Integer after, Integer page, Integer perPage) {\r\n        final List&lt;SummaryActivity&gt; loggedInAthleteActivities = activitiesApi.getLoggedInAthleteActivities(before, after, page, perPage);\r\n        System.out.println(&quot;All activities from ___ to ___&quot;+ loggedInAthleteActivities.size());\r\n    }\r\n}\r\n```\r\n\r\n\r\n**EDIT** \r\n\r\nI&#39;ve found the problem and it had nothing to do with Strava api.  There was a mistake in my  apiClient, I created  new ApiClient after the authentication  process: \r\n```\r\n  @Bean\r\n    public ApiClient apiClient(){\r\n        ApiClient apiClient = new ApiClient();\r\n\r\n        OAuth strava_oauth = (OAuth) apiClient.getAuthentication(&quot;strava_oauth&quot;);\r\n        strava_oauth.setAccessToken(&quot;X&quot;);\r\n        **return new ApiClient();**\r\n    }\r\n```\r\nIt should be return apiClient, not return new ApiClient.\r\n","title":"Strava API 401 Unauthorized","body":"<p>I'm trying to develop my first java Spring Boot app that calls Strava API and gets my activities for the given period of time.\nI've registered my app on Strava's website and got client_id and client secret. I've generated spring-swagger-codegen-api-client and awtowired the client to the app.</p>\n<pre><code>@Configuration\npublic class StravaIntegrationConfiguration {\n\n    @Bean\n    public ActivitiesApi stravaApi(){\n        return new ActivitiesApi(apiClient());\n    }\n\n    @Bean\n    public ApiClient apiClient(){\n        ApiClient apiClient = new ApiClient();\n\n        OAuth strava_oauth = (OAuth) apiClient.getAuthentication(&quot;strava_oauth&quot;);\n        strava_oauth.setAccessToken(&quot;X&quot;);\n        return new ApiClient();\n    }\n\n}\n</code></pre>\n<p>I'm sure that I use the valid access_Token, my request with this token works fine in Postman.  But when I try to call the method loggedInAthleteActivities I get 401 Unauthorized: [{&quot;message&quot;:&quot;Authorization Error&quot;,&quot;errors&quot;:[{&quot;resource&quot;:&quot;Athlete&quot;,&quot;field&quot;:&quot;access_token&quot;,&quot;code&quot;:&quot;invalid&quot;}]}]</p>\n<p>I tried to change the scope to activity: read or activity: read_all but nothing is changed.\nMay be anybody knows how to fix it?</p>\n<pre><code>@Component\npublic class Adapter {\n    @Autowired\n    private  ActivitiesApi activitiesApi;\n\n    public void getActivities(Integer before, Integer after, Integer page, Integer perPage) {\n        final List&lt;SummaryActivity&gt; loggedInAthleteActivities = activitiesApi.getLoggedInAthleteActivities(before, after, page, perPage);\n        System.out.println(&quot;All activities from ___ to ___&quot;+ loggedInAthleteActivities.size());\n    }\n}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>I've found the problem and it had nothing to do with Strava api.  There was a mistake in my  apiClient, I created  new ApiClient after the authentication  process:</p>\n<pre><code>  @Bean\n    public ApiClient apiClient(){\n        ApiClient apiClient = new ApiClient();\n\n        OAuth strava_oauth = (OAuth) apiClient.getAuthentication(&quot;strava_oauth&quot;);\n        strava_oauth.setAccessToken(&quot;X&quot;);\n        **return new ApiClient();**\n    }\n</code></pre>\n<p>It should be return apiClient, not return new ApiClient.</p>\n"},{"tags":["java","spring-boot","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1636559696,"post_id":69916022,"comment_id":123590715,"body_markdown":"BTW, as soon as the client connects to the primary broker it should receive a topology update informing the client of the backup&#39;s address so in case of failure it can connect.","body":"BTW, as soon as the client connects to the primary broker it should receive a topology update informing the client of the backup&#39;s address so in case of failure it can connect."},{"owner":{"account_id":23296161,"reputation":62,"user_id":17377539,"display_name":"Cat"},"score":0,"creation_date":1636560251,"post_id":69916022,"comment_id":123590957,"body_markdown":"I updated my post. I am using jgroups, as this should be used later in an k8s environment and I wanted to test it. I first tried the standard UDP configuration, but also with that, I did not receive topology. So my mistake must be somewhere else.","body":"I updated my post. I am using jgroups, as this should be used later in an k8s environment and I wanted to test it. I first tried the standard UDP configuration, but also with that, I did not receive topology. So my mistake must be somewhere else."},{"owner":{"account_id":23296161,"reputation":62,"user_id":17377539,"display_name":"Cat"},"score":0,"creation_date":1636561055,"post_id":69916022,"comment_id":123591302,"body_markdown":"I confirm it, because after I shutdown the master broker, the application is going on trying to connect to it, instead of connecting to the slave and it can not recover the connections. Also, when I start the application and I put  breakpoint at the ConnectionFactory bean, I can see, that &quot;receivedTopology=false&quot;.","body":"I confirm it, because after I shutdown the master broker, the application is going on trying to connect to it, instead of connecting to the slave and it can not recover the connections. Also, when I start the application and I put  breakpoint at the ConnectionFactory bean, I can see, that &quot;receivedTopology=false&quot;."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1636562524,"post_id":69916022,"comment_id":123592036,"body_markdown":"After the primary broker is stopped are the connection attempts managed by the application or perhaps an underlying framework (e.g. Spring) or are they being done by the core JMS client itself? There is an important difference here because if the application is attempting to recreate the `ConnectionFactory` from scratch it will *always* fails if the primary broker is down since that is the only broker listed in the URL. However, if the reconnection is being managed by the core JMS client there&#39;s a chance for it to work if it has received the topology after connecting.","body":"After the primary broker is stopped are the connection attempts managed by the application or perhaps an underlying framework (e.g. Spring) or are they being done by the core JMS client itself? There is an important difference here because if the application is attempting to recreate the <code>ConnectionFactory</code> from scratch it will <i>always</i> fails if the primary broker is down since that is the only broker listed in the URL. However, if the reconnection is being managed by the core JMS client there&#39;s a chance for it to work if it has received the topology after connecting."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1636562597,"post_id":69916022,"comment_id":123592077,"body_markdown":"Also, keep in mind that the topology is received asynchronously by the client after connecting so it&#39;s possible that `receivedToplogy` is `false` when you saw it in the debugger and then flipped to `true` later. From what I recall if `ha=true` then you&#39;d see an error if the topology isn&#39;t received.","body":"Also, keep in mind that the topology is received asynchronously by the client after connecting so it&#39;s possible that <code>receivedToplogy</code> is <code>false</code> when you saw it in the debugger and then flipped to <code>true</code> later. From what I recall if <code>ha=true</code> then you&#39;d see an error if the topology isn&#39;t received."},{"owner":{"account_id":23296161,"reputation":62,"user_id":17377539,"display_name":"Cat"},"score":0,"creation_date":1636629111,"post_id":69916022,"comment_id":123610647,"body_markdown":"I think you are right. By mistake I have missed another CachingConnectionFactory, which is handled from spring framework. It wraps the ConnectionFactory from javax.jms and I guess it looses it&#39;s ability to receive cluster topology updates. This might be the problem right? (Also the config graceful-shutdown-enabled was not useful for my testing purpose, so I disabled it.)","body":"I think you are right. By mistake I have missed another CachingConnectionFactory, which is handled from spring framework. It wraps the ConnectionFactory from javax.jms and I guess it looses it&#39;s ability to receive cluster topology updates. This might be the problem right? (Also the config graceful-shutdown-enabled was not useful for my testing purpose, so I disabled it.)"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1636639970,"post_id":69916022,"comment_id":123615130,"body_markdown":"Actually I don&#39;t think that&#39;s the problem. I provided an answer that I believe will address your issue.","body":"Actually I don&#39;t think that&#39;s the problem. I provided an answer that I believe will address your issue."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636642070,"creation_date":1636636304,"answer_id":69928872,"question_id":69916022,"body_markdown":"I believe the problem is that you need `reconnectAttempts` &gt; `0` in your URL (e.g. `reconnectAttempts=25`). The default value for `reconnectAttempts` is `0`.\r\n\r\nAlso, if you didn&#39;t receive a topology update when you connected you&#39;d see an `ActiveMQConnectionTimedOutException` with a message like this:\r\n\r\n```\r\nTimed out waiting to receive cluster topology.\r\n```\r\n\r\nI also recommend that you specify the backup&#39;s host &amp; port in your URL along with the primary&#39;s host &amp; port. That way, if the primary is down when the application starts it will still be able to connect to the backup. Since you *only* have the primary&#39;s host &amp; port then anytime the primary is down and the application starts or even if the application just re-creates the `ActiveMQConnectionFactory` then it will fail. Here&#39;s a simple example:\r\n```java\r\n@Bean\r\npublic ConnectionFactory filterConnectionFactory(ArtemisConfig artemisConfig) {\r\n    return new ActiveMQConnectionFactory(\r\n                    &quot;(tcp://127.0.0.2:61616,tcp://127.0.0.3:61616)?ha=true&amp;reconnectAttempts=25&amp;blockOnDurableSend=false&quot;,\r\n                    artemisConfig.getUserName(), artemisConfig.getPassword());\r\n}\r\n```","title":"ActiveMQ Artemis: javax.jms.ConnectionFactory does not receive cluster topology in case of failover","body":"<p>I believe the problem is that you need <code>reconnectAttempts</code> &gt; <code>0</code> in your URL (e.g. <code>reconnectAttempts=25</code>). The default value for <code>reconnectAttempts</code> is <code>0</code>.</p>\n<p>Also, if you didn't receive a topology update when you connected you'd see an <code>ActiveMQConnectionTimedOutException</code> with a message like this:</p>\n<pre><code>Timed out waiting to receive cluster topology.\n</code></pre>\n<p>I also recommend that you specify the backup's host &amp; port in your URL along with the primary's host &amp; port. That way, if the primary is down when the application starts it will still be able to connect to the backup. Since you <em>only</em> have the primary's host &amp; port then anytime the primary is down and the application starts or even if the application just re-creates the <code>ActiveMQConnectionFactory</code> then it will fail. Here's a simple example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ConnectionFactory filterConnectionFactory(ArtemisConfig artemisConfig) {\n    return new ActiveMQConnectionFactory(\n                    &quot;(tcp://127.0.0.2:61616,tcp://127.0.0.3:61616)?ha=true&amp;reconnectAttempts=25&amp;blockOnDurableSend=false&quot;,\n                    artemisConfig.getUserName(), artemisConfig.getPassword());\n}\n</code></pre>\n"}],"owner":{"account_id":23296161,"reputation":62,"user_id":17377539,"display_name":"Cat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69928872,"answer_count":1,"score":0,"last_activity_date":1636642070,"creation_date":1636558239,"question_id":69916022,"body_markdown":"On my Windows machine I set up a local test cluster of 2 brokers (version 2.19.0): 1 master, 1 slave. The ha-policy is replication and cluster communicating goes over JGroups.\r\n\r\nmaster `broker.xml`:\r\n```xml\r\n&lt;configuration xmlns=&quot;urn:activemq&quot;\r\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n               xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;\r\n               xsi:schemaLocation=&quot;urn:activemq /schema/artemis-configuration.xsd&quot;&gt;\r\n\r\n   &lt;core xmlns=&quot;urn:activemq:core&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;urn:activemq:core &quot;&gt;\r\n\r\n      &lt;name&gt;broker1&lt;/name&gt;\r\n\r\n      &lt;persistence-enabled&gt;true&lt;/persistence-enabled&gt;\r\n      \r\n      &lt;connectors&gt;\r\n         &lt;!-- Connector used to be announced through cluster connections and notifications --&gt;\r\n         &lt;connector name=&quot;netty-connector&quot;&gt;tcp://127.0.0.2:61616&lt;/connector&gt;\r\n      &lt;/connectors&gt; \r\n\r\n\r\n\t  &lt;graceful-shutdown-enabled&gt;true&lt;/graceful-shutdown-enabled&gt;\r\n\r\n\r\n      &lt;acceptors&gt;\r\n         &lt;!-- Acceptor for every supported protocol --&gt;\r\n         &lt;acceptor name=&quot;artemis&quot;&gt;tcp://127.0.0.2:61616&lt;/acceptor&gt;\r\n\r\n         &lt;!-- STOMP Acceptor. --&gt;\r\n         &lt;acceptor name=&quot;stomp&quot;&gt;tcp://127.0.0.2:61613?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=STOMP;useEpoll=true;anycastPrefix=/queue/;multicastPrefix=/topic/&lt;/acceptor&gt;\r\n\r\n      &lt;/acceptors&gt;\r\n\r\n\r\n      &lt;cluster-user&gt;user&lt;/cluster-user&gt;\r\n      &lt;cluster-password&gt;pw&lt;/cluster-password&gt;\r\n\t  \r\n\t  &lt;ha-policy&gt;\r\n         &lt;replication&gt;\r\n            &lt;master&gt;\r\n               &lt;check-for-live-server&gt;true&lt;/check-for-live-server&gt;\r\n            &lt;/master&gt;\r\n         &lt;/replication&gt;   \r\n      &lt;/ha-policy&gt;\r\n\r\n      &lt;broadcast-groups&gt;\r\n         &lt;broadcast-group name=&quot;bg-group1&quot;&gt;\r\n           &lt;jgroups-file&gt;test-jgroups-jdbc_ping.xml&lt;/jgroups-file&gt;\r\n            &lt;jgroups-channel&gt;active_broadcast_channel&lt;/jgroups-channel&gt;\r\n            &lt;connector-ref&gt;netty-connector&lt;/connector-ref&gt;\r\n         &lt;/broadcast-group&gt;\r\n      &lt;/broadcast-groups&gt;\r\n\r\n      &lt;discovery-groups&gt;\r\n         &lt;discovery-group name=&quot;dg-group1&quot;&gt;\r\n            &lt;jgroups-file&gt;test-jgroups-jdbc_ping.xml&lt;/jgroups-file&gt;\r\n            &lt;jgroups-channel&gt;active_broadcast_channel&lt;/jgroups-channel&gt;\r\n            &lt;refresh-timeout&gt;10000&lt;/refresh-timeout&gt;\r\n         &lt;/discovery-group&gt;\r\n      &lt;/discovery-groups&gt;\r\n\r\n      &lt;cluster-connections&gt;\r\n         &lt;cluster-connection name=&quot;my-cluster&quot;&gt;\r\n            &lt;connector-ref&gt;netty-connector&lt;/connector-ref&gt;\r\n\t\t\t&lt;use-duplicate-detection&gt;true&lt;/use-duplicate-detection&gt;\r\n            &lt;message-load-balancing&gt;ON_DEMAND&lt;/message-load-balancing&gt;\r\n            &lt;max-hops&gt;1&lt;/max-hops&gt;\r\n            &lt;discovery-group-ref discovery-group-name=&quot;dg-group1&quot;/&gt;\r\n         &lt;/cluster-connection&gt;\r\n      &lt;/cluster-connections&gt;\r\n\r\n       [...]\r\n   &lt;/core&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nslave `broker.xml`:\r\n```xml\r\n&lt;configuration xmlns=&quot;urn:activemq&quot;\r\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n               xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;\r\n               xsi:schemaLocation=&quot;urn:activemq /schema/artemis-configuration.xsd&quot;&gt;\r\n\r\n   &lt;core xmlns=&quot;urn:activemq:core&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;urn:activemq:core &quot;&gt;\r\n\r\n      &lt;name&gt;broker2&lt;/name&gt;\r\n\r\n      &lt;persistence-enabled&gt;true&lt;/persistence-enabled&gt;      \r\n      \r\n      &lt;connectors&gt;\r\n         &lt;!-- Connector used to be announced through cluster connections and notifications --&gt;\r\n         &lt;connector name=&quot;netty-connector&quot;&gt;tcp://127.0.0.3:61616&lt;/connector&gt;\r\n         &lt;connector name=&quot;master1-netty-connector&quot;&gt;tcp://127.0.0.2:61616&lt;/connector&gt;\r\n      &lt;/connectors&gt;\r\n\r\n\t  &lt;graceful-shutdown-enabled&gt;true&lt;/graceful-shutdown-enabled&gt;\r\n\r\n      &lt;acceptors&gt;\r\n          &lt;!-- Acceptor for every supported protocol --&gt;\r\n         &lt;acceptor name=&quot;artemis&quot;&gt;tcp://127.0.0.3:61616&lt;/acceptor&gt;\r\n\r\n         &lt;!-- STOMP Acceptor. --&gt;\r\n         &lt;acceptor name=&quot;stomp&quot;&gt;tcp://127.0.0.3:61613?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=STOMP;useEpoll=true;anycastPrefix=/queue/;multicastPrefix=/topic/&lt;/acceptor&gt;\r\n      &lt;/acceptors&gt;\r\n\r\n\r\n      &lt;cluster-user&gt;user&lt;/cluster-user&gt;\r\n      &lt;cluster-password&gt;pw&lt;/cluster-password&gt;\r\n\t  \r\n\t  &lt;!-- failover config --&gt;\r\n\t  &lt;ha-policy&gt;\r\n         &lt;replication&gt;\r\n            &lt;slave&gt;\r\n               &lt;allow-failback&gt;true&lt;/allow-failback&gt;\r\n            &lt;/slave&gt;\r\n         &lt;/replication&gt;\r\n      &lt;/ha-policy&gt;\r\n\r\n      &lt;broadcast-groups&gt;\r\n         &lt;broadcast-group name=&quot;bg-group1&quot;&gt;\r\n           &lt;jgroups-file&gt;test-jgroups-jdbc_ping.xml&lt;/jgroups-file&gt;\r\n            &lt;jgroups-channel&gt;active_broadcast_channel&lt;/jgroups-channel&gt;\r\n            &lt;connector-ref&gt;netty-connector&lt;/connector-ref&gt;\r\n         &lt;/broadcast-group&gt;\r\n      &lt;/broadcast-groups&gt;\r\n\r\n      &lt;discovery-groups&gt;\r\n         &lt;discovery-group name=&quot;dg-group1&quot;&gt;\r\n            &lt;jgroups-file&gt;test-jgroups-jdbc_ping.xml&lt;/jgroups-file&gt;\r\n            &lt;jgroups-channel&gt;active_broadcast_channel&lt;/jgroups-channel&gt;\r\n            &lt;refresh-timeout&gt;10000&lt;/refresh-timeout&gt;\r\n         &lt;/discovery-group&gt;\r\n      &lt;/discovery-groups&gt;\r\n\r\n      &lt;cluster-connections&gt;\r\n         &lt;cluster-connection name=&quot;my-cluster&quot;&gt;\r\n            &lt;connector-ref&gt;netty-connector&lt;/connector-ref&gt;\r\n\t\t\t&lt;use-duplicate-detection&gt;true&lt;/use-duplicate-detection&gt;\r\n            &lt;message-load-balancing&gt;ON_DEMAND&lt;/message-load-balancing&gt;\r\n            &lt;max-hops&gt;1&lt;/max-hops&gt;\r\n            &lt;discovery-group-ref discovery-group-name=&quot;dg-group1&quot;/&gt;\r\n         &lt;/cluster-connection&gt;\r\n      &lt;/cluster-connections&gt;\r\n     [...]\r\n\r\n   &lt;/core&gt;\r\n&lt;/configuration&gt;\r\n\r\n```\r\n\r\nI left out the default config lines, so that it won&#39;t be too long. For reproducing the example, just replace the upper parts in `broker.xml`.\r\n\r\nI am running also a spring boot application (2.3.8), which owns a `javax.jms.ConnectionFactory` and some consumers/producers which are connected to the Artemis server cluster.\r\n\r\nFor the initial connection, the application connects to master broker (one host).\r\n\r\n```java\r\nimport javax.jms.ConnectionFactory;\r\nimport org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory;\r\n\r\n[...]\r\n\r\n    @Bean\r\n\tpublic ConnectionFactory filterConnectionFactory(ArtemisConfig artemisConfig) {\r\n           return new ActiveMQConnectionFactory(\r\n\t\t\t\t\t\t&quot;tcp://127.0.0.2:61616?ha=true&amp;blockOnDurableSend=false&quot;,\r\n\t\t\t\t\t\tartemisConfig.getUserName(), artemisConfig.getPassword());\r\n}\r\n```\r\n\r\nMy expectation in case of failover: \r\n- master broker crashes.\r\n- backup broker becomes live.\r\n- ConnectionFactory receives updated cluster topology and connects to slave broker. (host of slave is received via topology update)\r\n\r\nReality:\r\nBy now it does not. So if failover occurs, the connections can not be recovered by the application.\r\n\r\nI guess the broker config itself should be ok, because the master is replicating all addresses to the slave in case of failover.  \r\nAlso failback is working.\r\n\r\nIs my setup wrong in any point?\r\nAnd is there a way to log receiving of topology?\r\n\r\n\r\n`test-jgroups-jdbc_ping.xml`:\r\n```\r\n&lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;urn:org:jgroups&quot;\r\n        xsi:schemaLocation=&quot;urn:org:jgroups http://www.jgroups.org/schema/jgroups.xsd&quot;&gt;\r\n    &lt;TCP recv_buf_size=&quot;${tcp.recv_buf_size:5M}&quot;\r\n         send_buf_size=&quot;${tcp.send_buf_size:5M}&quot;\r\n         max_bundle_size=&quot;64K&quot;\r\n         max_bundle_timeout=&quot;30&quot;\r\n         sock_conn_timeout=&quot;300&quot;\r\n\r\n         timer_type=&quot;new3&quot;\r\n         timer.min_threads=&quot;4&quot;\r\n         timer.max_threads=&quot;10&quot;\r\n         timer.keep_alive_time=&quot;3000&quot;\r\n         timer.queue_max_size=&quot;500&quot;\r\n\r\n         thread_pool.enabled=&quot;true&quot;\r\n         thread_pool.min_threads=&quot;2&quot;\r\n         thread_pool.max_threads=&quot;8&quot;\r\n         thread_pool.keep_alive_time=&quot;5000&quot;\r\n         thread_pool.queue_enabled=&quot;true&quot;\r\n         thread_pool.queue_max_size=&quot;10000&quot;\r\n         thread_pool.rejection_policy=&quot;discard&quot;\r\n\r\n         oob_thread_pool.enabled=&quot;true&quot;\r\n         oob_thread_pool.min_threads=&quot;1&quot;\r\n         oob_thread_pool.max_threads=&quot;8&quot;\r\n         oob_thread_pool.keep_alive_time=&quot;5000&quot;\r\n         oob_thread_pool.queue_enabled=&quot;false&quot;\r\n         oob_thread_pool.queue_max_size=&quot;100&quot;\r\n         oob_thread_pool.rejection_policy=&quot;discard&quot;/&gt;\r\n\t\t \r\n   &lt;!--  &lt;TRACE/&gt; --&gt;\r\n\t\r\n\t&lt;!-- &lt;SSL_KEY_EXCHANGE\r\n        keystore_name=&quot;./activemq.example.keystore&quot;\r\n        keystore_password=&quot;activemqexample&quot;\r\n    /&gt; --&gt;\r\n\r\n   \t&lt;JDBC_PING connection_url=&quot;jdbc:postgresql://127.0.0.1:5432/test&quot; connection_username=&quot;test&quot; connection_password=&quot;test&quot; connection_driver=&quot;org.postgresql.Driver&quot; initialize_sql=&quot;CREATE TABLE IF NOT EXISTS JGROUPSPING (own_addr varchar(200),bind_addr varchar(200),created timestamp DEFAULT CURRENT_TIMESTAMP,cluster_name varchar(200),ping_data BYTEA,constraint PK_JGROUPSPING PRIMARY KEY (own_addr, cluster_name))&quot;/&gt;\r\n\t\r\n    &lt;MERGE3  min_interval=&quot;10000&quot;\r\n             max_interval=&quot;30000&quot;/&gt;\r\n    &lt;FD_SOCK/&gt;\r\n    &lt;FD timeout=&quot;3000&quot; max_tries=&quot;3&quot; /&gt;\r\n    &lt;VERIFY_SUSPECT timeout=&quot;1500&quot;  /&gt;\r\n    &lt;BARRIER /&gt;\r\n    &lt;pbcast.NAKACK2 use_mcast_xmit=&quot;false&quot;\r\n                    discard_delivered_msgs=&quot;true&quot;/&gt;\r\n    &lt;UNICAST3 /&gt;\r\n    &lt;pbcast.STABLE stability_delay=&quot;1000&quot; desired_avg_gossip=&quot;50000&quot;\r\n                   max_bytes=&quot;4M&quot;/&gt;\r\n    &lt;pbcast.GMS print_local_addr=&quot;true&quot; join_timeout=&quot;2000&quot;\r\n                view_bundling=&quot;true&quot;/&gt;\r\n    &lt;MFC max_credits=&quot;2M&quot;\r\n         min_threshold=&quot;0.4&quot;/&gt;\r\n    &lt;FRAG2 frag_size=&quot;60K&quot;  /&gt;\r\n    &lt;!--RSVP resend_interval=&quot;2000&quot; timeout=&quot;10000&quot;/--&gt;\r\n    &lt;pbcast.STATE_TRANSFER/&gt;\r\n&lt;/config&gt;\r\n```\r\n\r\nmaster logs:\r\n```\r\n2021-11-10 16:58:53,209 INFO  [org.apache.activemq.artemis.integration.bootstrap] AMQ101000: Starting ActiveMQ Artemis Server\r\n2021-11-10 16:58:53,330 INFO  [org.apache.activemq.artemis.core.server] AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=true,journalDirectory=data/journal,bindingsDirectory=data/bindings,largeMessagesDirectory=data/large-messages,pagingDirectory=data/paging)\r\n2021-11-10 16:59:15,465 INFO  [org.apache.activemq.artemis.core.server] AMQ221013: Using NIO Journal\r\n2021-11-10 16:59:15,528 INFO  [org.apache.activemq.artemis.core.server] AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 536.870.912\r\n2021-11-10 16:59:20,988 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE\r\n2021-11-10 16:59:20,990 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-amqp-protocol]. Adding protocol support for: AMQP\r\n2021-11-10 16:59:20,990 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-hornetq-protocol]. Adding protocol support for: HORNETQ\r\n2021-11-10 16:59:20,991 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-mqtt-protocol]. Adding protocol support for: MQTT\r\n2021-11-10 16:59:20,992 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-openwire-protocol]. Adding protocol support for: OPENWIRE\r\n2021-11-10 16:59:20,992 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-stomp-protocol]. Adding protocol support for: STOMP\r\n2021-11-10 16:59:22,317 INFO  [org.apache.activemq.artemis.core.server] AMQ221080: Deploying address DLQ supporting [ANYCAST]\r\n2021-11-10 16:59:22,328 INFO  [org.apache.activemq.artemis.core.server] AMQ221003: Deploying ANYCAST queue DLQ on address DLQ\r\n2021-11-10 16:59:22,393 INFO  [org.apache.activemq.artemis.core.server] AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]\r\n2021-11-10 16:59:22,394 INFO  [org.apache.activemq.artemis.core.server] AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue\r\n2021-11-10 16:59:24,953 INFO  [org.apache.activemq.artemis.core.server] AMQ221020: Started NIO Acceptor at 127.0.0.2:61616 for protocols [CORE,MQTT,AMQP,HORNETQ,STOMP,OPENWIRE]\r\n2021-11-10 16:59:24,972 INFO  [org.apache.activemq.artemis.core.server] AMQ221020: Started NIO Acceptor at 127.0.0.2:61613 for protocols [STOMP]\r\n2021-11-10 16:59:24,973 INFO  [org.apache.activemq.artemis.core.server] AMQ221007: Server is now live\r\n2021-11-10 16:59:24,973 INFO  [org.apache.activemq.artemis.core.server] AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.0 [broker1, nodeID=1a4624d9-423f-11ec-b875-40167e37963a] \r\n2021-11-10 16:59:25,776 INFO  [org.apache.activemq.hawtio.branding.PluginContextListener] Initialized activemq-branding plugin\r\n2021-11-10 16:59:26,092 INFO  [org.apache.activemq.hawtio.plugin.PluginContextListener] Initialized artemis-plugin plugin\r\n2021-11-10 16:59:26,267 INFO  [org.apache.activemq.artemis.core.server] AMQ221025: Replication: sending NIOSequentialFile D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\master1\\data\\journal\\activemq-data-2.amq (size=10.485.760) to replica.\r\n2021-11-10 16:59:27,597 INFO  [org.apache.activemq.artemis.core.server] AMQ221025: Replication: sending NIOSequentialFile D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\master1\\data\\bindings\\activemq-bindings-3.bindings (size=1.048.576) to replica.\r\n2021-11-10 16:59:27,628 INFO  [org.apache.activemq.artemis.core.server] AMQ221025: Replication: sending NIOSequentialFile D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\master1\\data\\bindings\\activemq-bindings-2.bindings (size=1.048.576) to replica.\r\n2021-11-10 16:59:28,338 INFO  [io.hawt.HawtioContextListener] Initialising hawtio services\r\n2021-11-10 16:59:28,355 INFO  [io.hawt.system.ConfigManager] Configuration will be discovered via system properties\r\n2021-11-10 16:59:28,358 INFO  [io.hawt.jmx.JmxTreeWatcher] Welcome to Hawtio 2.14.0\r\n2021-11-10 16:59:28,365 INFO  [io.hawt.web.auth.AuthenticationConfiguration] Starting hawtio authentication filter, JAAS realm: &quot;activemq&quot; authorized role(s): &quot;amq&quot; role principal classes: &quot;org.apache.activemq.artemis.spi.core.security.jaas.RolePrincipal&quot;\r\n2021-11-10 16:59:28,376 INFO  [io.hawt.web.auth.LoginRedirectFilter] Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout\r\n2021-11-10 16:59:28,394 INFO  [io.hawt.web.proxy.ProxyServlet] Proxy servlet is disabled\r\n2021-11-10 16:59:28,403 INFO  [io.hawt.web.servlets.JolokiaConfiguredAgentServlet] Jolokia overridden property: [key=policyLocation, value=file:/D:/apache-artemis-2.19.0-bin/apache-artemis-2.19.0/bin/master1/etc/\\jolokia-access.xml]\r\n2021-11-10 16:59:29,401 INFO  [org.apache.activemq.artemis] AMQ241001: HTTP Server started at http://127.0.0.2:8261\r\n2021-11-10 16:59:29,401 INFO  [org.apache.activemq.artemis] AMQ241002: Artemis Jolokia REST API available at http://127.0.0.2:8261/console/jolokia\r\n2021-11-10 16:59:29,403 INFO  [org.apache.activemq.artemis] AMQ241004: Artemis Console available at http://127.0.0.2:8261/console\r\n\r\n```\r\n\r\nslave logs:\r\n```\r\n2021-11-10 16:58:55,465 INFO  [org.apache.activemq.artemis.integration.bootstrap] AMQ101000: Starting ActiveMQ Artemis Server\r\n2021-11-10 16:58:55,597 INFO  [org.apache.activemq.artemis.core.server] AMQ221000: backup Message Broker is starting with configuration Broker Configuration (clustered=true,journalDirectory=data/journal,bindingsDirectory=data/bindings,largeMessagesDirectory=data/large-messages,pagingDirectory=data/paging)\r\n2021-11-10 16:58:55,625 INFO  [org.apache.activemq.artemis.core.server] AMQ222162: Moving data directory D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\backup1\\data\\journal to D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\backup1\\data\\journal\\oldreplica.1\r\n2021-11-10 16:58:55,631 INFO  [org.apache.activemq.artemis.core.server] AMQ221055: There were too many old replicated folders upon startup, removing D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\backup1\\data\\paging\\oldreplica.22\r\n2021-11-10 16:58:55,721 INFO  [org.apache.activemq.artemis.core.server] AMQ222162: Moving data directory D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\backup1\\data\\paging to D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\backup1\\data\\paging\\oldreplica.24\r\n2021-11-10 16:58:55,847 INFO  [org.apache.activemq.artemis.core.server] AMQ221013: Using NIO Journal\r\n2021-11-10 16:58:55,955 INFO  [org.apache.activemq.artemis.core.server] AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 536.870.912\r\n2021-11-10 16:58:56,419 INFO  [org.apache.activemq.hawtio.branding.PluginContextListener] Initialized activemq-branding plugin\r\n2021-11-10 16:58:56,683 INFO  [org.apache.activemq.hawtio.plugin.PluginContextListener] Initialized artemis-plugin plugin\r\n2021-11-10 16:58:58,188 INFO  [io.hawt.HawtioContextListener] Initialising hawtio services\r\n2021-11-10 16:58:58,210 INFO  [io.hawt.system.ConfigManager] Configuration will be discovered via system properties\r\n2021-11-10 16:58:58,214 INFO  [io.hawt.jmx.JmxTreeWatcher] Welcome to Hawtio 2.14.0\r\n2021-11-10 16:58:58,223 INFO  [io.hawt.web.auth.AuthenticationConfiguration] Starting hawtio authentication filter, JAAS realm: &quot;activemq&quot; authorized role(s): &quot;amq&quot; role principal classes: &quot;org.apache.activemq.artemis.spi.core.security.jaas.RolePrincipal&quot;\r\n2021-11-10 16:58:58,234 INFO  [io.hawt.web.auth.LoginRedirectFilter] Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout\r\n2021-11-10 16:58:58,258 INFO  [io.hawt.web.proxy.ProxyServlet] Proxy servlet is disabled\r\n2021-11-10 16:58:58,273 INFO  [io.hawt.web.servlets.JolokiaConfiguredAgentServlet] Jolokia overridden property: [key=policyLocation, value=file:/D:/apache-artemis-2.19.0-bin/apache-artemis-2.19.0/bin/backup1/etc/\\jolokia-access.xml]\r\n2021-11-10 16:58:59,913 INFO  [org.apache.activemq.artemis] AMQ241001: HTTP Server started at http://127.0.0.4:8261\r\n2021-11-10 16:58:59,913 INFO  [org.apache.activemq.artemis] AMQ241002: Artemis Jolokia REST API available at http://127.0.0.4:8261/console/jolokia\r\n2021-11-10 16:58:59,915 INFO  [org.apache.activemq.artemis] AMQ241004: Artemis Console available at http://127.0.0.4:8261/console\r\n2021-11-10 16:59:06,946 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE\r\n2021-11-10 16:59:06,947 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-amqp-protocol]. Adding protocol support for: AMQP\r\n2021-11-10 16:59:06,948 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-hornetq-protocol]. Adding protocol support for: HORNETQ\r\n2021-11-10 16:59:06,948 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-mqtt-protocol]. Adding protocol support for: MQTT\r\n2021-11-10 16:59:06,949 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-openwire-protocol]. Adding protocol support for: OPENWIRE\r\n2021-11-10 16:59:06,949 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-stomp-protocol]. Adding protocol support for: STOMP\r\n2021-11-10 16:59:20,433 WARNING [org.jgroups.protocols.TCP] JGRP000032: D114336-63392: no physical address for 53866421-fef5-9b4b-fdcb-ed1196697da8, dropping message\r\n2021-11-10 16:59:25,161 INFO  [org.apache.activemq.artemis.core.server] AMQ221109: Apache ActiveMQ Artemis Backup Server version 2.19.0 [null] started, waiting live to fail before it gets active\r\n2021-11-10 16:59:28,533 INFO  [org.apache.activemq.artemis.core.server] AMQ221024: Backup server ActiveMQServerImpl::name=broker2 is synchronized with live server, nodeID=1a4624d9-423f-11ec-b875-40167e37963a.\r\n2021-11-10 16:59:28,679 INFO  [org.apache.activemq.artemis.core.server] AMQ221031: backup announced\r\n```\r\nTo be clear, I am using JGroups, as this should be used later in an k8s environment and I wanted to test it. I first tried the standard UDP configuration, but also with that, I did not receive topology. So my mistake must be somewhere else.","title":"ActiveMQ Artemis: javax.jms.ConnectionFactory does not receive cluster topology in case of failover","body":"<p>On my Windows machine I set up a local test cluster of 2 brokers (version 2.19.0): 1 master, 1 slave. The ha-policy is replication and cluster communicating goes over JGroups.</p>\n<p>master <code>broker.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration xmlns=&quot;urn:activemq&quot;\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n               xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;\n               xsi:schemaLocation=&quot;urn:activemq /schema/artemis-configuration.xsd&quot;&gt;\n\n   &lt;core xmlns=&quot;urn:activemq:core&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;urn:activemq:core &quot;&gt;\n\n      &lt;name&gt;broker1&lt;/name&gt;\n\n      &lt;persistence-enabled&gt;true&lt;/persistence-enabled&gt;\n      \n      &lt;connectors&gt;\n         &lt;!-- Connector used to be announced through cluster connections and notifications --&gt;\n         &lt;connector name=&quot;netty-connector&quot;&gt;tcp://127.0.0.2:61616&lt;/connector&gt;\n      &lt;/connectors&gt; \n\n\n      &lt;graceful-shutdown-enabled&gt;true&lt;/graceful-shutdown-enabled&gt;\n\n\n      &lt;acceptors&gt;\n         &lt;!-- Acceptor for every supported protocol --&gt;\n         &lt;acceptor name=&quot;artemis&quot;&gt;tcp://127.0.0.2:61616&lt;/acceptor&gt;\n\n         &lt;!-- STOMP Acceptor. --&gt;\n         &lt;acceptor name=&quot;stomp&quot;&gt;tcp://127.0.0.2:61613?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=STOMP;useEpoll=true;anycastPrefix=/queue/;multicastPrefix=/topic/&lt;/acceptor&gt;\n\n      &lt;/acceptors&gt;\n\n\n      &lt;cluster-user&gt;user&lt;/cluster-user&gt;\n      &lt;cluster-password&gt;pw&lt;/cluster-password&gt;\n      \n      &lt;ha-policy&gt;\n         &lt;replication&gt;\n            &lt;master&gt;\n               &lt;check-for-live-server&gt;true&lt;/check-for-live-server&gt;\n            &lt;/master&gt;\n         &lt;/replication&gt;   \n      &lt;/ha-policy&gt;\n\n      &lt;broadcast-groups&gt;\n         &lt;broadcast-group name=&quot;bg-group1&quot;&gt;\n           &lt;jgroups-file&gt;test-jgroups-jdbc_ping.xml&lt;/jgroups-file&gt;\n            &lt;jgroups-channel&gt;active_broadcast_channel&lt;/jgroups-channel&gt;\n            &lt;connector-ref&gt;netty-connector&lt;/connector-ref&gt;\n         &lt;/broadcast-group&gt;\n      &lt;/broadcast-groups&gt;\n\n      &lt;discovery-groups&gt;\n         &lt;discovery-group name=&quot;dg-group1&quot;&gt;\n            &lt;jgroups-file&gt;test-jgroups-jdbc_ping.xml&lt;/jgroups-file&gt;\n            &lt;jgroups-channel&gt;active_broadcast_channel&lt;/jgroups-channel&gt;\n            &lt;refresh-timeout&gt;10000&lt;/refresh-timeout&gt;\n         &lt;/discovery-group&gt;\n      &lt;/discovery-groups&gt;\n\n      &lt;cluster-connections&gt;\n         &lt;cluster-connection name=&quot;my-cluster&quot;&gt;\n            &lt;connector-ref&gt;netty-connector&lt;/connector-ref&gt;\n            &lt;use-duplicate-detection&gt;true&lt;/use-duplicate-detection&gt;\n            &lt;message-load-balancing&gt;ON_DEMAND&lt;/message-load-balancing&gt;\n            &lt;max-hops&gt;1&lt;/max-hops&gt;\n            &lt;discovery-group-ref discovery-group-name=&quot;dg-group1&quot;/&gt;\n         &lt;/cluster-connection&gt;\n      &lt;/cluster-connections&gt;\n\n       [...]\n   &lt;/core&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>slave <code>broker.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration xmlns=&quot;urn:activemq&quot;\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n               xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;\n               xsi:schemaLocation=&quot;urn:activemq /schema/artemis-configuration.xsd&quot;&gt;\n\n   &lt;core xmlns=&quot;urn:activemq:core&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;urn:activemq:core &quot;&gt;\n\n      &lt;name&gt;broker2&lt;/name&gt;\n\n      &lt;persistence-enabled&gt;true&lt;/persistence-enabled&gt;      \n      \n      &lt;connectors&gt;\n         &lt;!-- Connector used to be announced through cluster connections and notifications --&gt;\n         &lt;connector name=&quot;netty-connector&quot;&gt;tcp://127.0.0.3:61616&lt;/connector&gt;\n         &lt;connector name=&quot;master1-netty-connector&quot;&gt;tcp://127.0.0.2:61616&lt;/connector&gt;\n      &lt;/connectors&gt;\n\n      &lt;graceful-shutdown-enabled&gt;true&lt;/graceful-shutdown-enabled&gt;\n\n      &lt;acceptors&gt;\n          &lt;!-- Acceptor for every supported protocol --&gt;\n         &lt;acceptor name=&quot;artemis&quot;&gt;tcp://127.0.0.3:61616&lt;/acceptor&gt;\n\n         &lt;!-- STOMP Acceptor. --&gt;\n         &lt;acceptor name=&quot;stomp&quot;&gt;tcp://127.0.0.3:61613?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=STOMP;useEpoll=true;anycastPrefix=/queue/;multicastPrefix=/topic/&lt;/acceptor&gt;\n      &lt;/acceptors&gt;\n\n\n      &lt;cluster-user&gt;user&lt;/cluster-user&gt;\n      &lt;cluster-password&gt;pw&lt;/cluster-password&gt;\n      \n      &lt;!-- failover config --&gt;\n      &lt;ha-policy&gt;\n         &lt;replication&gt;\n            &lt;slave&gt;\n               &lt;allow-failback&gt;true&lt;/allow-failback&gt;\n            &lt;/slave&gt;\n         &lt;/replication&gt;\n      &lt;/ha-policy&gt;\n\n      &lt;broadcast-groups&gt;\n         &lt;broadcast-group name=&quot;bg-group1&quot;&gt;\n           &lt;jgroups-file&gt;test-jgroups-jdbc_ping.xml&lt;/jgroups-file&gt;\n            &lt;jgroups-channel&gt;active_broadcast_channel&lt;/jgroups-channel&gt;\n            &lt;connector-ref&gt;netty-connector&lt;/connector-ref&gt;\n         &lt;/broadcast-group&gt;\n      &lt;/broadcast-groups&gt;\n\n      &lt;discovery-groups&gt;\n         &lt;discovery-group name=&quot;dg-group1&quot;&gt;\n            &lt;jgroups-file&gt;test-jgroups-jdbc_ping.xml&lt;/jgroups-file&gt;\n            &lt;jgroups-channel&gt;active_broadcast_channel&lt;/jgroups-channel&gt;\n            &lt;refresh-timeout&gt;10000&lt;/refresh-timeout&gt;\n         &lt;/discovery-group&gt;\n      &lt;/discovery-groups&gt;\n\n      &lt;cluster-connections&gt;\n         &lt;cluster-connection name=&quot;my-cluster&quot;&gt;\n            &lt;connector-ref&gt;netty-connector&lt;/connector-ref&gt;\n            &lt;use-duplicate-detection&gt;true&lt;/use-duplicate-detection&gt;\n            &lt;message-load-balancing&gt;ON_DEMAND&lt;/message-load-balancing&gt;\n            &lt;max-hops&gt;1&lt;/max-hops&gt;\n            &lt;discovery-group-ref discovery-group-name=&quot;dg-group1&quot;/&gt;\n         &lt;/cluster-connection&gt;\n      &lt;/cluster-connections&gt;\n     [...]\n\n   &lt;/core&gt;\n&lt;/configuration&gt;\n\n</code></pre>\n<p>I left out the default config lines, so that it won't be too long. For reproducing the example, just replace the upper parts in <code>broker.xml</code>.</p>\n<p>I am running also a spring boot application (2.3.8), which owns a <code>javax.jms.ConnectionFactory</code> and some consumers/producers which are connected to the Artemis server cluster.</p>\n<p>For the initial connection, the application connects to master broker (one host).</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.jms.ConnectionFactory;\nimport org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory;\n\n[...]\n\n    @Bean\n    public ConnectionFactory filterConnectionFactory(ArtemisConfig artemisConfig) {\n           return new ActiveMQConnectionFactory(\n                        &quot;tcp://127.0.0.2:61616?ha=true&amp;blockOnDurableSend=false&quot;,\n                        artemisConfig.getUserName(), artemisConfig.getPassword());\n}\n</code></pre>\n<p>My expectation in case of failover:</p>\n<ul>\n<li>master broker crashes.</li>\n<li>backup broker becomes live.</li>\n<li>ConnectionFactory receives updated cluster topology and connects to slave broker. (host of slave is received via topology update)</li>\n</ul>\n<p>Reality:\nBy now it does not. So if failover occurs, the connections can not be recovered by the application.</p>\n<p>I guess the broker config itself should be ok, because the master is replicating all addresses to the slave in case of failover.<br />\nAlso failback is working.</p>\n<p>Is my setup wrong in any point?\nAnd is there a way to log receiving of topology?</p>\n<p><code>test-jgroups-jdbc_ping.xml</code>:</p>\n<pre><code>&lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns=&quot;urn:org:jgroups&quot;\n        xsi:schemaLocation=&quot;urn:org:jgroups http://www.jgroups.org/schema/jgroups.xsd&quot;&gt;\n    &lt;TCP recv_buf_size=&quot;${tcp.recv_buf_size:5M}&quot;\n         send_buf_size=&quot;${tcp.send_buf_size:5M}&quot;\n         max_bundle_size=&quot;64K&quot;\n         max_bundle_timeout=&quot;30&quot;\n         sock_conn_timeout=&quot;300&quot;\n\n         timer_type=&quot;new3&quot;\n         timer.min_threads=&quot;4&quot;\n         timer.max_threads=&quot;10&quot;\n         timer.keep_alive_time=&quot;3000&quot;\n         timer.queue_max_size=&quot;500&quot;\n\n         thread_pool.enabled=&quot;true&quot;\n         thread_pool.min_threads=&quot;2&quot;\n         thread_pool.max_threads=&quot;8&quot;\n         thread_pool.keep_alive_time=&quot;5000&quot;\n         thread_pool.queue_enabled=&quot;true&quot;\n         thread_pool.queue_max_size=&quot;10000&quot;\n         thread_pool.rejection_policy=&quot;discard&quot;\n\n         oob_thread_pool.enabled=&quot;true&quot;\n         oob_thread_pool.min_threads=&quot;1&quot;\n         oob_thread_pool.max_threads=&quot;8&quot;\n         oob_thread_pool.keep_alive_time=&quot;5000&quot;\n         oob_thread_pool.queue_enabled=&quot;false&quot;\n         oob_thread_pool.queue_max_size=&quot;100&quot;\n         oob_thread_pool.rejection_policy=&quot;discard&quot;/&gt;\n         \n   &lt;!--  &lt;TRACE/&gt; --&gt;\n    \n    &lt;!-- &lt;SSL_KEY_EXCHANGE\n        keystore_name=&quot;./activemq.example.keystore&quot;\n        keystore_password=&quot;activemqexample&quot;\n    /&gt; --&gt;\n\n    &lt;JDBC_PING connection_url=&quot;jdbc:postgresql://127.0.0.1:5432/test&quot; connection_username=&quot;test&quot; connection_password=&quot;test&quot; connection_driver=&quot;org.postgresql.Driver&quot; initialize_sql=&quot;CREATE TABLE IF NOT EXISTS JGROUPSPING (own_addr varchar(200),bind_addr varchar(200),created timestamp DEFAULT CURRENT_TIMESTAMP,cluster_name varchar(200),ping_data BYTEA,constraint PK_JGROUPSPING PRIMARY KEY (own_addr, cluster_name))&quot;/&gt;\n    \n    &lt;MERGE3  min_interval=&quot;10000&quot;\n             max_interval=&quot;30000&quot;/&gt;\n    &lt;FD_SOCK/&gt;\n    &lt;FD timeout=&quot;3000&quot; max_tries=&quot;3&quot; /&gt;\n    &lt;VERIFY_SUSPECT timeout=&quot;1500&quot;  /&gt;\n    &lt;BARRIER /&gt;\n    &lt;pbcast.NAKACK2 use_mcast_xmit=&quot;false&quot;\n                    discard_delivered_msgs=&quot;true&quot;/&gt;\n    &lt;UNICAST3 /&gt;\n    &lt;pbcast.STABLE stability_delay=&quot;1000&quot; desired_avg_gossip=&quot;50000&quot;\n                   max_bytes=&quot;4M&quot;/&gt;\n    &lt;pbcast.GMS print_local_addr=&quot;true&quot; join_timeout=&quot;2000&quot;\n                view_bundling=&quot;true&quot;/&gt;\n    &lt;MFC max_credits=&quot;2M&quot;\n         min_threshold=&quot;0.4&quot;/&gt;\n    &lt;FRAG2 frag_size=&quot;60K&quot;  /&gt;\n    &lt;!--RSVP resend_interval=&quot;2000&quot; timeout=&quot;10000&quot;/--&gt;\n    &lt;pbcast.STATE_TRANSFER/&gt;\n&lt;/config&gt;\n</code></pre>\n<p>master logs:</p>\n<pre><code>2021-11-10 16:58:53,209 INFO  [org.apache.activemq.artemis.integration.bootstrap] AMQ101000: Starting ActiveMQ Artemis Server\n2021-11-10 16:58:53,330 INFO  [org.apache.activemq.artemis.core.server] AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=true,journalDirectory=data/journal,bindingsDirectory=data/bindings,largeMessagesDirectory=data/large-messages,pagingDirectory=data/paging)\n2021-11-10 16:59:15,465 INFO  [org.apache.activemq.artemis.core.server] AMQ221013: Using NIO Journal\n2021-11-10 16:59:15,528 INFO  [org.apache.activemq.artemis.core.server] AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 536.870.912\n2021-11-10 16:59:20,988 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE\n2021-11-10 16:59:20,990 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-amqp-protocol]. Adding protocol support for: AMQP\n2021-11-10 16:59:20,990 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-hornetq-protocol]. Adding protocol support for: HORNETQ\n2021-11-10 16:59:20,991 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-mqtt-protocol]. Adding protocol support for: MQTT\n2021-11-10 16:59:20,992 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-openwire-protocol]. Adding protocol support for: OPENWIRE\n2021-11-10 16:59:20,992 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-stomp-protocol]. Adding protocol support for: STOMP\n2021-11-10 16:59:22,317 INFO  [org.apache.activemq.artemis.core.server] AMQ221080: Deploying address DLQ supporting [ANYCAST]\n2021-11-10 16:59:22,328 INFO  [org.apache.activemq.artemis.core.server] AMQ221003: Deploying ANYCAST queue DLQ on address DLQ\n2021-11-10 16:59:22,393 INFO  [org.apache.activemq.artemis.core.server] AMQ221080: Deploying address ExpiryQueue supporting [ANYCAST]\n2021-11-10 16:59:22,394 INFO  [org.apache.activemq.artemis.core.server] AMQ221003: Deploying ANYCAST queue ExpiryQueue on address ExpiryQueue\n2021-11-10 16:59:24,953 INFO  [org.apache.activemq.artemis.core.server] AMQ221020: Started NIO Acceptor at 127.0.0.2:61616 for protocols [CORE,MQTT,AMQP,HORNETQ,STOMP,OPENWIRE]\n2021-11-10 16:59:24,972 INFO  [org.apache.activemq.artemis.core.server] AMQ221020: Started NIO Acceptor at 127.0.0.2:61613 for protocols [STOMP]\n2021-11-10 16:59:24,973 INFO  [org.apache.activemq.artemis.core.server] AMQ221007: Server is now live\n2021-11-10 16:59:24,973 INFO  [org.apache.activemq.artemis.core.server] AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.19.0 [broker1, nodeID=1a4624d9-423f-11ec-b875-40167e37963a] \n2021-11-10 16:59:25,776 INFO  [org.apache.activemq.hawtio.branding.PluginContextListener] Initialized activemq-branding plugin\n2021-11-10 16:59:26,092 INFO  [org.apache.activemq.hawtio.plugin.PluginContextListener] Initialized artemis-plugin plugin\n2021-11-10 16:59:26,267 INFO  [org.apache.activemq.artemis.core.server] AMQ221025: Replication: sending NIOSequentialFile D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\master1\\data\\journal\\activemq-data-2.amq (size=10.485.760) to replica.\n2021-11-10 16:59:27,597 INFO  [org.apache.activemq.artemis.core.server] AMQ221025: Replication: sending NIOSequentialFile D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\master1\\data\\bindings\\activemq-bindings-3.bindings (size=1.048.576) to replica.\n2021-11-10 16:59:27,628 INFO  [org.apache.activemq.artemis.core.server] AMQ221025: Replication: sending NIOSequentialFile D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\master1\\data\\bindings\\activemq-bindings-2.bindings (size=1.048.576) to replica.\n2021-11-10 16:59:28,338 INFO  [io.hawt.HawtioContextListener] Initialising hawtio services\n2021-11-10 16:59:28,355 INFO  [io.hawt.system.ConfigManager] Configuration will be discovered via system properties\n2021-11-10 16:59:28,358 INFO  [io.hawt.jmx.JmxTreeWatcher] Welcome to Hawtio 2.14.0\n2021-11-10 16:59:28,365 INFO  [io.hawt.web.auth.AuthenticationConfiguration] Starting hawtio authentication filter, JAAS realm: &quot;activemq&quot; authorized role(s): &quot;amq&quot; role principal classes: &quot;org.apache.activemq.artemis.spi.core.security.jaas.RolePrincipal&quot;\n2021-11-10 16:59:28,376 INFO  [io.hawt.web.auth.LoginRedirectFilter] Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout\n2021-11-10 16:59:28,394 INFO  [io.hawt.web.proxy.ProxyServlet] Proxy servlet is disabled\n2021-11-10 16:59:28,403 INFO  [io.hawt.web.servlets.JolokiaConfiguredAgentServlet] Jolokia overridden property: [key=policyLocation, value=file:/D:/apache-artemis-2.19.0-bin/apache-artemis-2.19.0/bin/master1/etc/\\jolokia-access.xml]\n2021-11-10 16:59:29,401 INFO  [org.apache.activemq.artemis] AMQ241001: HTTP Server started at http://127.0.0.2:8261\n2021-11-10 16:59:29,401 INFO  [org.apache.activemq.artemis] AMQ241002: Artemis Jolokia REST API available at http://127.0.0.2:8261/console/jolokia\n2021-11-10 16:59:29,403 INFO  [org.apache.activemq.artemis] AMQ241004: Artemis Console available at http://127.0.0.2:8261/console\n\n</code></pre>\n<p>slave logs:</p>\n<pre><code>2021-11-10 16:58:55,465 INFO  [org.apache.activemq.artemis.integration.bootstrap] AMQ101000: Starting ActiveMQ Artemis Server\n2021-11-10 16:58:55,597 INFO  [org.apache.activemq.artemis.core.server] AMQ221000: backup Message Broker is starting with configuration Broker Configuration (clustered=true,journalDirectory=data/journal,bindingsDirectory=data/bindings,largeMessagesDirectory=data/large-messages,pagingDirectory=data/paging)\n2021-11-10 16:58:55,625 INFO  [org.apache.activemq.artemis.core.server] AMQ222162: Moving data directory D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\backup1\\data\\journal to D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\backup1\\data\\journal\\oldreplica.1\n2021-11-10 16:58:55,631 INFO  [org.apache.activemq.artemis.core.server] AMQ221055: There were too many old replicated folders upon startup, removing D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\backup1\\data\\paging\\oldreplica.22\n2021-11-10 16:58:55,721 INFO  [org.apache.activemq.artemis.core.server] AMQ222162: Moving data directory D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\backup1\\data\\paging to D:\\apache-artemis-2.19.0-bin\\apache-artemis-2.19.0\\bin\\backup1\\data\\paging\\oldreplica.24\n2021-11-10 16:58:55,847 INFO  [org.apache.activemq.artemis.core.server] AMQ221013: Using NIO Journal\n2021-11-10 16:58:55,955 INFO  [org.apache.activemq.artemis.core.server] AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 536.870.912\n2021-11-10 16:58:56,419 INFO  [org.apache.activemq.hawtio.branding.PluginContextListener] Initialized activemq-branding plugin\n2021-11-10 16:58:56,683 INFO  [org.apache.activemq.hawtio.plugin.PluginContextListener] Initialized artemis-plugin plugin\n2021-11-10 16:58:58,188 INFO  [io.hawt.HawtioContextListener] Initialising hawtio services\n2021-11-10 16:58:58,210 INFO  [io.hawt.system.ConfigManager] Configuration will be discovered via system properties\n2021-11-10 16:58:58,214 INFO  [io.hawt.jmx.JmxTreeWatcher] Welcome to Hawtio 2.14.0\n2021-11-10 16:58:58,223 INFO  [io.hawt.web.auth.AuthenticationConfiguration] Starting hawtio authentication filter, JAAS realm: &quot;activemq&quot; authorized role(s): &quot;amq&quot; role principal classes: &quot;org.apache.activemq.artemis.spi.core.security.jaas.RolePrincipal&quot;\n2021-11-10 16:58:58,234 INFO  [io.hawt.web.auth.LoginRedirectFilter] Hawtio loginRedirectFilter is using 1800 sec. HttpSession timeout\n2021-11-10 16:58:58,258 INFO  [io.hawt.web.proxy.ProxyServlet] Proxy servlet is disabled\n2021-11-10 16:58:58,273 INFO  [io.hawt.web.servlets.JolokiaConfiguredAgentServlet] Jolokia overridden property: [key=policyLocation, value=file:/D:/apache-artemis-2.19.0-bin/apache-artemis-2.19.0/bin/backup1/etc/\\jolokia-access.xml]\n2021-11-10 16:58:59,913 INFO  [org.apache.activemq.artemis] AMQ241001: HTTP Server started at http://127.0.0.4:8261\n2021-11-10 16:58:59,913 INFO  [org.apache.activemq.artemis] AMQ241002: Artemis Jolokia REST API available at http://127.0.0.4:8261/console/jolokia\n2021-11-10 16:58:59,915 INFO  [org.apache.activemq.artemis] AMQ241004: Artemis Console available at http://127.0.0.4:8261/console\n2021-11-10 16:59:06,946 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE\n2021-11-10 16:59:06,947 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-amqp-protocol]. Adding protocol support for: AMQP\n2021-11-10 16:59:06,948 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-hornetq-protocol]. Adding protocol support for: HORNETQ\n2021-11-10 16:59:06,948 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-mqtt-protocol]. Adding protocol support for: MQTT\n2021-11-10 16:59:06,949 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-openwire-protocol]. Adding protocol support for: OPENWIRE\n2021-11-10 16:59:06,949 INFO  [org.apache.activemq.artemis.core.server] AMQ221043: Protocol module found: [artemis-stomp-protocol]. Adding protocol support for: STOMP\n2021-11-10 16:59:20,433 WARNING [org.jgroups.protocols.TCP] JGRP000032: D114336-63392: no physical address for 53866421-fef5-9b4b-fdcb-ed1196697da8, dropping message\n2021-11-10 16:59:25,161 INFO  [org.apache.activemq.artemis.core.server] AMQ221109: Apache ActiveMQ Artemis Backup Server version 2.19.0 [null] started, waiting live to fail before it gets active\n2021-11-10 16:59:28,533 INFO  [org.apache.activemq.artemis.core.server] AMQ221024: Backup server ActiveMQServerImpl::name=broker2 is synchronized with live server, nodeID=1a4624d9-423f-11ec-b875-40167e37963a.\n2021-11-10 16:59:28,679 INFO  [org.apache.activemq.artemis.core.server] AMQ221031: backup announced\n</code></pre>\n<p>To be clear, I am using JGroups, as this should be used later in an k8s environment and I wanted to test it. I first tried the standard UDP configuration, but also with that, I did not receive topology. So my mistake must be somewhere else.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"score":0,"creation_date":1555450344,"post_id":55716659,"comment_id":98114299,"body_markdown":"Are you seeing this error on the command line or in the IDE only? Please share the relevant components of the build file.","body":"Are you seeing this error on the command line or in the IDE only? Please share the relevant components of the build file."},{"owner":{"account_id":15758203,"reputation":61,"user_id":11370727,"display_name":"Mohd Saif Usmani"},"score":0,"creation_date":1555465190,"post_id":55716659,"comment_id":98117567,"body_markdown":"The error shows up in the console of the IDE. I have a pom.xml file used for Maven","body":"The error shows up in the console of the IDE. I have a pom.xml file used for Maven"},{"owner":{"account_id":15758203,"reputation":61,"user_id":11370727,"display_name":"Mohd Saif Usmani"},"score":0,"creation_date":1555465650,"post_id":55716659,"comment_id":98117670,"body_markdown":"the xml file (build file) have spring-boot-starter-data-jpa version 2.1.4, spring-boot-starter-web, mysql-connector-java, spring-security-core 5.1.5 RELEASE, and spring-boot-starter-test. Let me know if this information is any helpful, otherwise I will share my .xml file","body":"the xml file (build file) have spring-boot-starter-data-jpa version 2.1.4, spring-boot-starter-web, mysql-connector-java, spring-security-core 5.1.5 RELEASE, and spring-boot-starter-test. Let me know if this information is any helpful, otherwise I will share my .xml file"},{"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"score":0,"creation_date":1555471031,"post_id":55716659,"comment_id":98118699,"body_markdown":"Have you built it successfully on the command line?","body":"Have you built it successfully on the command line?"},{"owner":{"account_id":15758203,"reputation":61,"user_id":11370727,"display_name":"Mohd Saif Usmani"},"score":0,"creation_date":1555472596,"post_id":55716659,"comment_id":98119023,"body_markdown":"No I haven&#39;t, but I used to be able to start the spring boot successfully before.","body":"No I haven&#39;t, but I used to be able to start the spring boot successfully before."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1555479195,"creation_date":1555479195,"answer_id":55720518,"question_id":55716659,"body_markdown":"Your dependencies are a mess. YOu are mixing incompatible versions hence getting errors. Cleanup your dependencies in your `pom.xml`.\r\n\r\n```\r\n&lt;dependencies&gt;\r\n   \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nRemove the `spring-core` dependencies, which probably is the culprit in the first place. Don&#39;t use `&lt;version /&gt;` tags when including starters, those are managed through the parent. Instead of seperate Spring Security dependencies use the `spring-boot-starter-security` instead. You also had duplicate `mysql-connector-java` dependencies. ","title":"How to fix &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/io/support/SpringFactoriesLoader&quot; in Spring Tool Suite","body":"<p>Your dependencies are a mess. YOu are mixing incompatible versions hence getting errors. Cleanup your dependencies in your <code>pom.xml</code>.</p>\n\n<pre><code>&lt;dependencies&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Remove the <code>spring-core</code> dependencies, which probably is the culprit in the first place. Don't use <code>&lt;version /&gt;</code> tags when including starters, those are managed through the parent. Instead of seperate Spring Security dependencies use the <code>spring-boot-starter-security</code> instead. You also had duplicate <code>mysql-connector-java</code> dependencies. </p>\n"},{"tags":[],"owner":{"account_id":23307555,"reputation":1,"user_id":17387318,"display_name":"Andrewmb80"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636642022,"creation_date":1636642022,"answer_id":69930286,"question_id":55716659,"body_markdown":"I don&#39;t have enough reputation to reply to Deinum... but managing my dependencies at the parent worked for me.\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;!-- Your own application should inherit from spring-boot-starter-parent --&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nI went to maven and just got the latest version and everything ran clean.","title":"How to fix &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/io/support/SpringFactoriesLoader&quot; in Spring Tool Suite","body":"<p>I don't have enough reputation to reply to Deinum... but managing my dependencies at the parent worked for me.</p>\n<pre><code>&lt;parent&gt;\n        &lt;!-- Your own application should inherit from spring-boot-starter-parent --&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>I went to maven and just got the latest version and everything ran clean.</p>\n"}],"owner":{"account_id":15758203,"reputation":61,"user_id":11370727,"display_name":"Mohd Saif Usmani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13846,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":55720518,"answer_count":2,"score":1,"last_activity_date":1636642022,"creation_date":1555449054,"question_id":55716659,"body_markdown":"Spring Tool Suite editor is not giving any errors in my code but when I try to run as Spring Boot App, it gives me an exception of class def not found. All I am trying to do here is run the Spring Boot App which shows the spring boot logo in the console  \r\n\r\nI have checked all the dependencies in my xml file and they seem ok but not entirely sure.   \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/io/support/SpringFactoriesLoader\r\n    \tat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:428)\r\n    \tat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:420)\r\n    \tat org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:268)\r\n    \tat org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:249)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\r\n    \tat com.example.ToDoAppApplication.main(ToDoAppApplication.java:10)\r\n    \r\n    \r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.core.io.support.SpringFactoriesLoader\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 7 more\r\n\r\nShould just see that spring boot app is running successfully in the console without any errors.\r\n\r\nHere is my xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ToDoApp&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;ToDoApp&lt;/name&gt;\r\n    \t&lt;description&gt;ToDoApp for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.1.3.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.0.15&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;5.1.5.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-web --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;5.1.5.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\t\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/org.springframework.security.config --&gt;\r\n    &lt;!--  \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;org.springframework.security.config&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;3.1.3.RELEASE&lt;/version&gt;\r\n    \t&lt;/dependency&gt; --&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"How to fix &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/io/support/SpringFactoriesLoader&quot; in Spring Tool Suite","body":"<p>Spring Tool Suite editor is not giving any errors in my code but when I try to run as Spring Boot App, it gives me an exception of class def not found. All I am trying to do here is run the Spring Boot App which shows the spring boot logo in the console  </p>\n\n<p>I have checked all the dependencies in my xml file and they seem ok but not entirely sure.   </p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/springframework/core/io/support/SpringFactoriesLoader\n    at org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:428)\n    at org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:420)\n    at org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:268)\n    at org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:249)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n    at com.example.ToDoAppApplication.main(ToDoAppApplication.java:10)\n\n\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.io.support.SpringFactoriesLoader\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 7 more\n</code></pre>\n\n<p>Should just see that spring boot app is running successfully in the console without any errors.</p>\n\n<p>Here is my xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ToDoApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ToDoApp&lt;/name&gt;\n    &lt;description&gt;ToDoApp for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;3.1.3.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.15&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n        &lt;version&gt;5.1.5.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-web --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;5.1.5.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/org.springframework.security.config --&gt;\n&lt;!--    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;org.springframework.security.config&lt;/artifactId&gt;\n        &lt;version&gt;3.1.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt; --&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jdbc","h2","dbunit"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1636544266,"post_id":69911048,"comment_id":123583748,"body_markdown":"What do you mean by **may be in Date type**, and how **DBunit see it like String**?","body":"What do you mean by <b>may be in Date type</b>, and how <b>DBunit see it like String</b>?"}],"answers":[{"tags":[],"owner":{"account_id":321113,"reputation":956,"user_id":2848514,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636641874,"creation_date":1636641874,"answer_id":69930244,"question_id":69911048,"body_markdown":"dbUnit will automatically convert XML data to the target database column type, e.g. dates.  However, the data file dates must exist in the expected Java date format.","title":"How to insert type Date into xml file for sql table","body":"<p>dbUnit will automatically convert XML data to the target database column type, e.g. dates.  However, the data file dates must exist in the expected Java date format.</p>\n"}],"owner":{"account_id":22648788,"reputation":11,"user_id":16823780,"display_name":"Dudka Dima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636641874,"creation_date":1636537814,"question_id":69911048,"body_markdown":"```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;dataset&gt;\r\n    &lt;ROLE ID=&quot;1&quot; ROLENAME = &quot;Admin&quot;/&gt;\r\n    &lt;ROLE ID=&quot;2&quot; ROLENAME=&quot;Guest&quot;/&gt;\r\n    &lt;USERS ID = &#39;1&#39; FIRSTNAME=&quot;Barack&quot; LASTNAME=&quot;Obama&quot; LOGIN=&quot;12312414&quot; PASSWORD = &quot;121121212&quot; EMAIL=&quot;ob@&quot; BDAY=&#39;1999-04-04&#39; ROLEID=&#39;1&#39;/&gt;\r\n    &lt;USERS ID = &#39;2&#39; FIRSTNAME=&quot;Hack&quot; LASTNAME=&quot;Fill&quot; LOGIN=&quot;Bold&quot; PASSWORD = &quot;99999999&quot; EMAIL=&quot;BLACk&quot; BDAY = &#39;1991-03-02&#39; ROLEID=&#39;2&#39;/&gt;\r\n&lt;/dataset&gt;\r\n```\r\n\r\nThis is my XML file with users. Column BDAY may be in Date type, but DBunit see it like String. How can I fix it?","title":"How to insert type Date into xml file for sql table","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;dataset&gt;\n    &lt;ROLE ID=&quot;1&quot; ROLENAME = &quot;Admin&quot;/&gt;\n    &lt;ROLE ID=&quot;2&quot; ROLENAME=&quot;Guest&quot;/&gt;\n    &lt;USERS ID = '1' FIRSTNAME=&quot;Barack&quot; LASTNAME=&quot;Obama&quot; LOGIN=&quot;12312414&quot; PASSWORD = &quot;121121212&quot; EMAIL=&quot;ob@&quot; BDAY='1999-04-04' ROLEID='1'/&gt;\n    &lt;USERS ID = '2' FIRSTNAME=&quot;Hack&quot; LASTNAME=&quot;Fill&quot; LOGIN=&quot;Bold&quot; PASSWORD = &quot;99999999&quot; EMAIL=&quot;BLACk&quot; BDAY = '1991-03-02' ROLEID='2'/&gt;\n&lt;/dataset&gt;\n</code></pre>\n<p>This is my XML file with users. Column BDAY may be in Date type, but DBunit see it like String. How can I fix it?</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1636567421,"post_id":69917867,"comment_id":123594063,"body_markdown":"I&#39;m not too familiar with reactor, but could it be that your test finishes before the exception is thrown due to asynchronicity? Maybe you should call `block()` instead of `subscribe()`?","body":"I&#39;m not too familiar with reactor, but could it be that your test finishes before the exception is thrown due to asynchronicity? Maybe you should call <code>block()</code> instead of <code>subscribe()</code>?"},{"owner":{"account_id":23298459,"reputation":1,"user_id":17379510,"display_name":"Pete Gillin"},"score":0,"creation_date":1636570000,"post_id":69917867,"comment_id":123595007,"body_markdown":"It&#39;s true that all the `block()` calls throw in that case. However, the above behaviour is 100% reproducible (for me, at least) so it doesn&#39;t look like a race condition.","body":"It&#39;s true that all the <code>block()</code> calls throw in that case. However, the above behaviour is 100% reproducible (for me, at least) so it doesn&#39;t look like a race condition."},{"owner":{"account_id":23298459,"reputation":1,"user_id":17379510,"display_name":"Pete Gillin"},"score":0,"creation_date":1636570328,"post_id":69917867,"comment_id":123595129,"body_markdown":"Additionally, if I use `StepVerifier` then I see the same pattern: `StepVerifier.create(Mono.error(new OutOfMemoryError(&quot;hello world&quot;))).expectError().verify()` passes, but with `StepVerifier.create(Mono.error(new OutOfMemoryError(&quot;hello world&quot;)).thenReturn(123)).expectError().verify()` the `verify()` call throws `OutOfMemoryError`. (As I understand it, `StepVerifier` is intended to take race conditions out of the picture.)","body":"Additionally, if I use <code>StepVerifier</code> then I see the same pattern: <code>StepVerifier.create(Mono.error(new OutOfMemoryError(&quot;hello world&quot;))).expectError().verify()</code> passes, but with <code>StepVerifier.create(Mono.error(new OutOfMemoryError(&quot;hello world&quot;)).thenReturn(123)).expectError().verify()</code> the <code>verify()</code> call throws <code>OutOfMemoryError</code>. (As I understand it, <code>StepVerifier</code> is intended to take race conditions out of the picture.)"}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636641847,"creation_date":1636604042,"answer_id":69923107,"question_id":69917867,"body_markdown":"`OutOfMemoryError` is considered an unrecoverable exception in Reactor. It probably throws it instead of turning it into an appropriate `onError` signal.\r\n\r\nProject Reactor [reference][1]:\r\n\r\n&gt; Reactor, however, defines a set of exceptions (such as\r\n&gt; **OutOfMemoryError**) that are always deemed to be fatal. See the\r\n&gt; Exceptions.throwIfFatal method. These errors mean that Reactor cannot\r\n&gt; keep operating and are thrown rather than propagated.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/snapshot/reference/#_handling_exceptions_in_operators_or_functions","title":"Inconsistent handling of Mono.error(OutOfMemoryError)p","body":"<p><code>OutOfMemoryError</code> is considered an unrecoverable exception in Reactor. It probably throws it instead of turning it into an appropriate <code>onError</code> signal.</p>\n<p>Project Reactor <a href=\"https://projectreactor.io/docs/core/snapshot/reference/#_handling_exceptions_in_operators_or_functions\" rel=\"nofollow noreferrer\">reference</a>:</p>\n<blockquote>\n<p>Reactor, however, defines a set of exceptions (such as\n<strong>OutOfMemoryError</strong>) that are always deemed to be fatal. See the\nExceptions.throwIfFatal method. These errors mean that Reactor cannot\nkeep operating and are thrown rather than propagated.</p>\n</blockquote>\n"}],"owner":{"account_id":23298459,"reputation":1,"user_id":17379510,"display_name":"Pete Gillin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636641847,"creation_date":1636566288,"question_id":69917867,"body_markdown":"I&#39;m trying to understand what happens if you subscribe to a `Mono.error(new OutOfMemoryError(&quot;hello world&quot;))` with a couple of variants.\r\n\r\nThese tests pass for me (using reactor-core 3.4.3):\r\n\r\n```java\r\n    @Test\r\n    public void oom() {\r\n        Mono.error(new OutOfMemoryError(&quot;hello world&quot;)).subscribe();\r\n    }\r\n\r\n    @Test\r\n    public void oom_thenReturn() {\r\n        try {\r\n            Mono.error(new OutOfMemoryError(&quot;hello world&quot;)).thenReturn(123).subscribe();\r\n            fail(&quot;Expected OOMError&quot;);\r\n        } catch (OutOfMemoryError e) {\r\n            // expected\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void oom_then_thenReturn() {\r\n        Mono.error(new OutOfMemoryError(&quot;hello world&quot;)).then().thenReturn(123).subscribe();\r\n    }\r\n\r\n    @Test\r\n    public void genericError_thenReturn() {\r\n        Mono.error(new Error(&quot;hello world&quot;)).thenReturn(123).subscribe();\r\n    }\r\n```\r\n\r\nSo if you subscribe to `Mono.error(new OutOfMemoryError(&quot;hello world&quot;)).thenReturn(123)` it throws the exception on the subscribing thread. But if you omit the `thenReturn(123)` call, add an extra `then()` call before it, or use a generic `Error` rather than an `OutOfMemoryError`, no exception is thrown on the subscribing thread. (If you add in a logging `Subscriber`, you see `onSubscribe` and `onError` being called as expected.)\r\n\r\nI can see why `OutOfMemoryError` would be treated differently to `Error`, but I can&#39;t see why that `thenReturn(123)` call is causing the error to get propagated to the subscribing thread when it isn&#39;t otherwise. Can anyone explain this?","title":"Inconsistent handling of Mono.error(OutOfMemoryError)p","body":"<p>I'm trying to understand what happens if you subscribe to a <code>Mono.error(new OutOfMemoryError(&quot;hello world&quot;))</code> with a couple of variants.</p>\n<p>These tests pass for me (using reactor-core 3.4.3):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void oom() {\n        Mono.error(new OutOfMemoryError(&quot;hello world&quot;)).subscribe();\n    }\n\n    @Test\n    public void oom_thenReturn() {\n        try {\n            Mono.error(new OutOfMemoryError(&quot;hello world&quot;)).thenReturn(123).subscribe();\n            fail(&quot;Expected OOMError&quot;);\n        } catch (OutOfMemoryError e) {\n            // expected\n        }\n    }\n\n    @Test\n    public void oom_then_thenReturn() {\n        Mono.error(new OutOfMemoryError(&quot;hello world&quot;)).then().thenReturn(123).subscribe();\n    }\n\n    @Test\n    public void genericError_thenReturn() {\n        Mono.error(new Error(&quot;hello world&quot;)).thenReturn(123).subscribe();\n    }\n</code></pre>\n<p>So if you subscribe to <code>Mono.error(new OutOfMemoryError(&quot;hello world&quot;)).thenReturn(123)</code> it throws the exception on the subscribing thread. But if you omit the <code>thenReturn(123)</code> call, add an extra <code>then()</code> call before it, or use a generic <code>Error</code> rather than an <code>OutOfMemoryError</code>, no exception is thrown on the subscribing thread. (If you add in a logging <code>Subscriber</code>, you see <code>onSubscribe</code> and <code>onError</code> being called as expected.)</p>\n<p>I can see why <code>OutOfMemoryError</code> would be treated differently to <code>Error</code>, but I can't see why that <code>thenReturn(123)</code> call is causing the error to get propagated to the subscribing thread when it isn't otherwise. Can anyone explain this?</p>\n"},{"tags":["java","spring","spring-boot","junit","spring-boot-test"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636620367,"post_id":69925357,"comment_id":123607311,"body_markdown":"What kind of asserts do you want to run on this @Configuration class under test ?","body":"What kind of asserts do you want to run on this @Configuration class under test ?"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636620460,"post_id":69925357,"comment_id":123607347,"body_markdown":"Overall, nobody tests configuration beans like this. You test it indirectly by testing the individual beans it creates together or separately. You just use @Autowired on the beans you want to inject into your test and this is how you know if Configuration had created them OK or not","body":"Overall, nobody tests configuration beans like this. You test it indirectly by testing the individual beans it creates together or separately. You just use @Autowired on the beans you want to inject into your test and this is how you know if Configuration had created them OK or not"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1636622235,"post_id":69925357,"comment_id":123608030,"body_markdown":"If you can show some code, it would be easier to help you, and understand.","body":"If you can show some code, it would be easier to help you, and understand."}],"answers":[{"tags":[],"owner":{"account_id":22219187,"reputation":49,"user_id":16457167,"display_name":"zip88"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636641480,"creation_date":1636641480,"answer_id":69930137,"question_id":69925357,"body_markdown":"Add ```@EnableConfigurationProperties(value=YourConfigurationProperties.class)``` to your test class. This will load the properties.","title":"Spring Boot autowire configuration class into Junit Test","body":"<p>Add <code>@EnableConfigurationProperties(value=YourConfigurationProperties.class)</code> to your test class. This will load the properties.</p>\n"}],"owner":{"account_id":23304322,"reputation":11,"user_id":17384513,"display_name":"Moritz Kolbe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636641480,"creation_date":1636620039,"question_id":69925357,"body_markdown":"I currently run into a problem with Junit testing in Spring Boot. I have an `@Configuration` class for which I want to test the `@Bean` methods. Because these methods are skipped during tests, I extracted the content of the configuration method to a protected method which will then be called inside the `@Bean` method of the `@Configuration` class.\r\nI did that so I can test the behaviour of the methods. Inside this method different `@ConfigurationProperties` are used to load some setups.\r\n\r\nNow, in my `ConfigurationTest` class, I am mocking the `ConfigurationProperties` classes so I can test the correct behaviour of the `@Bean` method.\r\n\r\nMy problem is, that my Mockito mocks of the `ConfigurationProperties` classes always return null, when I am inside the `@Bean` method (more specifically inside the protected method that is called from the @Bean method). It feels like there is a problem with how I setup the `@Configuration` class. Currently I am autowiring it.\r\n\r\nMy question now is, how do I setup the `@Configuration` class correctly, so I can call its functions and mock the return values of the there used `@ConfigurationProperties` classes?\r\n\r\nThanks in advance!","title":"Spring Boot autowire configuration class into Junit Test","body":"<p>I currently run into a problem with Junit testing in Spring Boot. I have an <code>@Configuration</code> class for which I want to test the <code>@Bean</code> methods. Because these methods are skipped during tests, I extracted the content of the configuration method to a protected method which will then be called inside the <code>@Bean</code> method of the <code>@Configuration</code> class.\nI did that so I can test the behaviour of the methods. Inside this method different <code>@ConfigurationProperties</code> are used to load some setups.</p>\n<p>Now, in my <code>ConfigurationTest</code> class, I am mocking the <code>ConfigurationProperties</code> classes so I can test the correct behaviour of the <code>@Bean</code> method.</p>\n<p>My problem is, that my Mockito mocks of the <code>ConfigurationProperties</code> classes always return null, when I am inside the <code>@Bean</code> method (more specifically inside the protected method that is called from the @Bean method). It feels like there is a problem with how I setup the <code>@Configuration</code> class. Currently I am autowiring it.</p>\n<p>My question now is, how do I setup the <code>@Configuration</code> class correctly, so I can call its functions and mock the return values of the there used <code>@ConfigurationProperties</code> classes?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","redis","spring-data","spring-session","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":100979,"reputation":96,"user_id":271910,"display_name":"FabienM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461055285,"creation_date":1461055285,"answer_id":36713083,"question_id":35921919,"body_markdown":"Redis is basically a key-value store and does not provide such querying features.\r\n\r\nHowever, you should be able to list all session using a `KEYS` request, then filter them on a last-activity basis, but with drawbacks mentioned in the github issue you have mentioned.\r\n\r\nYou should probably consider logging users activities in a datastore that supports relational querying, keeping Redis as a fast session store.","title":"Spring Session Data Redis - Get Valid Sessions, Current User from Redis Store","body":"<p>Redis is basically a key-value store and does not provide such querying features.</p>\n\n<p>However, you should be able to list all session using a <code>KEYS</code> request, then filter them on a last-activity basis, but with drawbacks mentioned in the github issue you have mentioned.</p>\n\n<p>You should probably consider logging users activities in a datastore that supports relational querying, keeping Redis as a fast session store.</p>\n"},{"tags":[],"owner":{"account_id":9414271,"reputation":41,"user_id":7002423,"display_name":"Harish Pydimarri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636641324,"creation_date":1636641324,"answer_id":69930095,"question_id":35921919,"body_markdown":"If your keys have a common prefix or suffix using [redis-scan](https://redis.io/commands/scan) command is a good non-blocking way of accessing the data. KEYS command is very expensive, especially if the data that it iterates/fetches is huge. And is not recommended to use in the production systems.\r\n\r\nNote - my answer is just a simple work-around with only a minimal change to your code and not the exact answer for your question.","title":"Spring Session Data Redis - Get Valid Sessions, Current User from Redis Store","body":"<p>If your keys have a common prefix or suffix using <a href=\"https://redis.io/commands/scan\" rel=\"nofollow noreferrer\">redis-scan</a> command is a good non-blocking way of accessing the data. KEYS command is very expensive, especially if the data that it iterates/fetches is huge. And is not recommended to use in the production systems.</p>\n<p>Note - my answer is just a simple work-around with only a minimal change to your code and not the exact answer for your question.</p>\n"}],"owner":{"account_id":3505777,"reputation":1260,"user_id":2931342,"accept_rate":75,"display_name":"Shrikant Havale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6133,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1636641324,"creation_date":1457627027,"question_id":35921919,"body_markdown":"My question is, in distributed web application is it possible to get the valid sessions from Redis Store using `RedisOperationSessionRepository`. (I mean I don&#39;t want to write explicit code for putting it into Redis store and then later read it, I want to understand if framework or `spring-data-redis` library provides that).\r\n\r\nI am aware that Spring Redis is able to restore sessions and server restarts also preserve the login if the session is still valid (as it is backed by Redis) \r\n\r\nOne of the functionality I am looking for is to get all the possible log in users currently in the application. I am aware of `SessionRegistryImpl`, and this method. but what I noticed that this method is not backed by Redis and after server restarts, log in users are not returned.\r\n\r\n     public List&lt;Object&gt; getAllPrincipals() {\r\n\t\treturn new ArrayList&lt;Object&gt;(principals.keySet());\r\n\t}\r\n\r\n\r\nOne of the functionality I can try is from Spring Session 1.1.0, Spring session find by username.\r\n\r\n 1. http://docs.spring.io/spring-session/docs/1.1.0.M1/reference/html5/guides/findbyusername.html\r\n 2. https://spring.io/blog/2015/11/17/spring-session-1-1-0-m1-released\r\n\r\nI tried and it indeed returns me valid session result, but the problem is I still need to know all the current valid user names that are using this application. (I don&#39;t know how to get them using Redis Store, again I can store in Redis and get them, but I want to know if there is better approach).\r\n\r\nThis is the piece of code, this is the way I can get current user from one of the many users that are currently using the system, if I know the session id.\r\n\r\n        final Session session = redisOperationsSessionRepository.getSession(sessionid);\r\n\r\n        final Object obj = session.getAttribute(HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY);\r\n        if (obj instanceof SecurityContext) {\r\n            final SecurityContext context = (SecurityContext) obj;\r\n            final Authentication authentication = context.getAuthentication();\r\n            if (authentication != null) {\r\n                final Object principal = authentication.getPrincipal();\r\n                if (principal != null &amp;&amp; principal instanceof CurrentUser) {\r\n                    return (CurrentUser) principal;\r\n                }\r\n            }\r\n        }\r\n\r\nNow I can use above logic to get all the current user, but again I should all the valid session ids, which I don&#39;t know how to get from Redis store.\r\n\r\nNew Update : \r\nhttps://github.com/spring-projects/spring-session/issues/255\r\nHere in this link, I can probably get all the session ids and look for active sessions in `RedisOperationSessionRepository`, but might result in performance issues.\r\n\r\nI am not sure if I made myself clear, but can&#39;t we tell something to Redis using spring session api, just give me all the valid sessions and their current user that are currently log in. (based on last accessed time or something like that).\r\n\r\nThank you","title":"Spring Session Data Redis - Get Valid Sessions, Current User from Redis Store","body":"<p>My question is, in distributed web application is it possible to get the valid sessions from Redis Store using <code>RedisOperationSessionRepository</code>. (I mean I don't want to write explicit code for putting it into Redis store and then later read it, I want to understand if framework or <code>spring-data-redis</code> library provides that).</p>\n\n<p>I am aware that Spring Redis is able to restore sessions and server restarts also preserve the login if the session is still valid (as it is backed by Redis) </p>\n\n<p>One of the functionality I am looking for is to get all the possible log in users currently in the application. I am aware of <code>SessionRegistryImpl</code>, and this method. but what I noticed that this method is not backed by Redis and after server restarts, log in users are not returned.</p>\n\n<pre><code> public List&lt;Object&gt; getAllPrincipals() {\n    return new ArrayList&lt;Object&gt;(principals.keySet());\n}\n</code></pre>\n\n<p>One of the functionality I can try is from Spring Session 1.1.0, Spring session find by username.</p>\n\n<ol>\n<li><a href=\"http://docs.spring.io/spring-session/docs/1.1.0.M1/reference/html5/guides/findbyusername.html\">http://docs.spring.io/spring-session/docs/1.1.0.M1/reference/html5/guides/findbyusername.html</a></li>\n<li><a href=\"https://spring.io/blog/2015/11/17/spring-session-1-1-0-m1-released\">https://spring.io/blog/2015/11/17/spring-session-1-1-0-m1-released</a></li>\n</ol>\n\n<p>I tried and it indeed returns me valid session result, but the problem is I still need to know all the current valid user names that are using this application. (I don't know how to get them using Redis Store, again I can store in Redis and get them, but I want to know if there is better approach).</p>\n\n<p>This is the piece of code, this is the way I can get current user from one of the many users that are currently using the system, if I know the session id.</p>\n\n<pre><code>    final Session session = redisOperationsSessionRepository.getSession(sessionid);\n\n    final Object obj = session.getAttribute(HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY);\n    if (obj instanceof SecurityContext) {\n        final SecurityContext context = (SecurityContext) obj;\n        final Authentication authentication = context.getAuthentication();\n        if (authentication != null) {\n            final Object principal = authentication.getPrincipal();\n            if (principal != null &amp;&amp; principal instanceof CurrentUser) {\n                return (CurrentUser) principal;\n            }\n        }\n    }\n</code></pre>\n\n<p>Now I can use above logic to get all the current user, but again I should all the valid session ids, which I don't know how to get from Redis store.</p>\n\n<p>New Update : \n<a href=\"https://github.com/spring-projects/spring-session/issues/255\">https://github.com/spring-projects/spring-session/issues/255</a>\nHere in this link, I can probably get all the session ids and look for active sessions in <code>RedisOperationSessionRepository</code>, but might result in performance issues.</p>\n\n<p>I am not sure if I made myself clear, but can't we tell something to Redis using spring session api, just give me all the valid sessions and their current user that are currently log in. (based on last accessed time or something like that).</p>\n\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","maven","visual-studio-code","classnotfoundexception"],"comments":[{"owner":{"account_id":23307261,"reputation":1,"user_id":17387074,"display_name":"flora"},"score":0,"creation_date":1636641410,"post_id":69930075,"comment_id":123615786,"body_markdown":"Also forgot to mention that I&#39;m building the project to .jar","body":"Also forgot to mention that I&#39;m building the project to .jar"},{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1636641658,"post_id":69930075,"comment_id":123615902,"body_markdown":"So how do you run it? please write the complete command line","body":"So how do you run it? please write the complete command line"},{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":2,"creation_date":1636641921,"post_id":69930075,"comment_id":123616053,"body_markdown":"Have you tried to run from command line it with: `mvn spring-boot:run` from your project&#39;s pom directory?","body":"Have you tried to run from command line it with: <code>mvn spring-boot:run</code> from your project&#39;s pom directory?"},{"owner":{"account_id":23307261,"reputation":1,"user_id":17387074,"display_name":"flora"},"score":0,"creation_date":1636643437,"post_id":69930075,"comment_id":123616777,"body_markdown":"@pleft I changed the command to .\\mvnw spring-boot:run and it worked, thank you! Before this I tried to run it from the IDE (clicking on the run button in the main class). Do you know why this command worked but running from IDE didn&#39;t? In other projects running from the IDE worked fine.","body":"@pleft I changed the command to .\\mvnw spring-boot:run and it worked, thank you! Before this I tried to run it from the IDE (clicking on the run button in the main class). Do you know why this command worked but running from IDE didn&#39;t? In other projects running from the IDE worked fine."},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1637826799,"post_id":69930075,"comment_id":123930626,"body_markdown":"Sometimes cache would stop the project showing the right result. You can try `Java: Clean Java Language Server Workspace` from command palette.","body":"Sometimes cache would stop the project showing the right result. You can try <code>Java: Clean Java Language Server Workspace</code> from command palette."}],"owner":{"account_id":23307261,"reputation":1,"user_id":17387074,"display_name":"flora"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636641221,"creation_date":1636641221,"question_id":69930075,"body_markdown":"I am using VSCode with the following relevant extensions: Red Hat, Maven For Java, Spring Boot Extension pack, Spring Boot Tools and Spring Initializr Java Support.\r\n\r\nAfter I have created the Spring Boot project (using Java 11) with Spring Initializr and try to run the program from the main application, I get the following error: \r\n\r\n    Error: Could not find or load main class com.jk.rekrychat.RekrychatApplication\r\n    Caused by: java.lang.ClassNotFoundException: com.jk.rekrychat.RekrychatApplication\r\n\r\nI don&#39;t understand why the program is unable to find the class. I&#39;ve tried to google the problem and try the solutions, such as: re-create the project, check that the main class is in the correct folder, change the dependencies, check that the launch.json has the correct info, mess with Maven by running package, install and clean, check that I have the correct java version installed. I still get this message everytime. Another Spring Boot Maven project that I downloaded works fine, so the problem must be with this project.\r\n\r\nHere&#39;s the pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.jk&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;rekrychat&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;rekrychat&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nHere&#39;s the main application:\r\n\r\n    package com.jk.rekrychat;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class RekrychatApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(RekrychatApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nPlease note that I have not changed anything after the initial project creation, and I have tried to follow different tutorials on creating the project. Still always the same error.\r\n\r\nI&#39;m new to Spring Boot, so any help would be appreciated, thanks!","title":"Spring Boot app with Maven showing &quot;java.lang.ClassNotFoundException&quot; on first run after project creation","body":"<p>I am using VSCode with the following relevant extensions: Red Hat, Maven For Java, Spring Boot Extension pack, Spring Boot Tools and Spring Initializr Java Support.</p>\n<p>After I have created the Spring Boot project (using Java 11) with Spring Initializr and try to run the program from the main application, I get the following error:</p>\n<pre><code>Error: Could not find or load main class com.jk.rekrychat.RekrychatApplication\nCaused by: java.lang.ClassNotFoundException: com.jk.rekrychat.RekrychatApplication\n</code></pre>\n<p>I don't understand why the program is unable to find the class. I've tried to google the problem and try the solutions, such as: re-create the project, check that the main class is in the correct folder, change the dependencies, check that the launch.json has the correct info, mess with Maven by running package, install and clean, check that I have the correct java version installed. I still get this message everytime. Another Spring Boot Maven project that I downloaded works fine, so the problem must be with this project.</p>\n<p>Here's the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.jk&lt;/groupId&gt;\n    &lt;artifactId&gt;rekrychat&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;rekrychat&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here's the main application:</p>\n<pre><code>package com.jk.rekrychat;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class RekrychatApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RekrychatApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Please note that I have not changed anything after the initial project creation, and I have tried to follow different tutorials on creating the project. Still always the same error.</p>\n<p>I'm new to Spring Boot, so any help would be appreciated, thanks!</p>\n"},{"tags":["java","xml","tomcat","servlets","httprequest"],"comments":[{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1636640597,"post_id":69929887,"comment_id":123615408,"body_markdown":"Servlet2 ? or servlet2?","body":"Servlet2 ? or servlet2?"},{"owner":{"account_id":22682179,"reputation":31,"user_id":16852394,"display_name":"pierbin24"},"score":0,"creation_date":1636640997,"post_id":69929887,"comment_id":123615581,"body_markdown":"servet2, correct thanks","body":"servet2, correct thanks"}],"owner":{"account_id":22682179,"reputation":31,"user_id":16852394,"display_name":"pierbin24"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636648753,"answer_count":0,"score":0,"last_activity_date":1636640966,"creation_date":1636640497,"question_id":69929887,"body_markdown":"I have to deploy a webapp with two server (ex. servlet1 and servlet2)\r\n\r\nIn servlet1 I have to show a form, and when is submitted servlet2 return the data inserted in the form. \r\n\r\n\r\nAs shown in the code below I made the two classes and configured the web.xml file, but it doesn&#39;t work. Indeed:\r\n\r\n    Message The requested resource [/bin_form/servlet2] is not available\r\n    \r\n    Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n\r\nI&#39;m doing it wrong in the configuration of xml file/tomcat configuration repository or in the java code?\r\n\r\nHere is my configuration and code.\r\n\r\n-Repository structure on tomcat:\r\n\r\n    webapp\r\n     |\r\n     -form\r\n       |\r\n       -index.html\r\n       -WEB_INF\r\n         |\r\n         -web.xml\r\n         -classes\r\n             |\r\n              -servlet1.java\r\n              -servlet1.class\r\n              -servlet2.java\r\n              -servlet2.class\r\n\r\n-Form on index.html file:\r\n\r\n    &lt;form action=&quot;form&quot; method=&quot;get&quot;&gt;\r\n    &lt;label for=&quot;fname&quot;&gt;First name:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;fName&quot;&gt;\r\n    &lt;label for=&quot;lname&quot;&gt;Last name:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;lName&quot;&gt;\r\n    &lt;label for=&quot;lname&quot;&gt;Age:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;submit&quot;&gt;\r\n  &lt;/form&gt;\r\n\r\n-web.xml file:\r\n\r\n    &lt;web-app&gt;\r\n    \r\n    &lt;servlet&gt;\r\n    &lt;servlet-name&gt;servlet1&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;servlet1&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    \r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;servlet1&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/form&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    \r\n    &lt;servlet&gt;\r\n    &lt;servlet-name&gt;servlet2&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;servlet2&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    \r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;servlet2&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/form-resp&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n \r\n- java classes:\r\n\r\n```public class servlet1 extends HttpServlet {\r\n  public void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\r\n    res.setContentType(&quot;text/html&quot;);\r\n    PrintWriter pw = res.getWriter();\r\n\r\n    String fName = req.getParameter(&quot;fName&quot;);\r\n    String lName = req.getParameter(&quot;lName&quot;);\r\n    String age = req.getParameter(&quot;age&quot;);\r\n\r\n    req.setAttribute(&quot;fName&quot;, fName);\r\n    req.setAttribute(&quot;lName&quot;, lName);\r\n    req.setAttribute(&quot;age&quot;, age);\r\n\r\n    RequestDispatcher rd = req.getRequestDispatcher(&quot;servlet2&quot;);\r\n    rd.forward(req, res);\r\n\r\n  }\r\n} \r\n\r\npublic class servlet2 extends HttpServlet {\r\n  public void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\r\n    res.setContentType(&quot;text/html&quot;);\r\n    RequestDispatcher rd = req.getRequestDispatcher(&quot;servlet1&quot;);\r\n    rd.include(req, res);\r\n\r\n    PrintWriter pw = res.getWriter();\r\n    String fName = (String)req.getAttribute(&quot;fName&quot;);\r\n    String lName = (String)req.getAttribute(&quot;lName&quot;);\r\n    String age = (String)req.getAttribute(&quot;age&quot;);\r\n\r\n    pw.println(&quot;Name &quot; + fName);\r\n    pw.println(&quot;Last Name &quot; + lName);\r\n    pw.println(&quot;Age &quot; + age);\r\n\r\n  }\r\n}\r\n     \r\n\r\n\r\n       ","title":"Communicate between servlet (Tomcat)","body":"<p>I have to deploy a webapp with two server (ex. servlet1 and servlet2)</p>\n<p>In servlet1 I have to show a form, and when is submitted servlet2 return the data inserted in the form.</p>\n<p>As shown in the code below I made the two classes and configured the web.xml file, but it doesn't work. Indeed:</p>\n<pre><code>Message The requested resource [/bin_form/servlet2] is not available\n\nDescription The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\n</code></pre>\n<p>I'm doing it wrong in the configuration of xml file/tomcat configuration repository or in the java code?</p>\n<p>Here is my configuration and code.</p>\n<p>-Repository structure on tomcat:</p>\n<pre><code>webapp\n |\n -form\n   |\n   -index.html\n   -WEB_INF\n     |\n     -web.xml\n     -classes\n         |\n          -servlet1.java\n          -servlet1.class\n          -servlet2.java\n          -servlet2.class\n</code></pre>\n<p>-Form on index.html file:</p>\n<pre><code>&lt;form action=&quot;form&quot; method=&quot;get&quot;&gt;\n&lt;label for=&quot;fname&quot;&gt;First name:&lt;/label&gt;\n&lt;input type=&quot;text&quot; name=&quot;fName&quot;&gt;\n&lt;label for=&quot;lname&quot;&gt;Last name:&lt;/label&gt;\n&lt;input type=&quot;text&quot; name=&quot;lName&quot;&gt;\n&lt;label for=&quot;lname&quot;&gt;Age:&lt;/label&gt;\n&lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;\n&lt;input type=&quot;submit&quot; value=&quot;submit&quot;&gt;\n</code></pre>\n  \n<p>-web.xml file:</p>\n<pre><code>&lt;web-app&gt;\n\n&lt;servlet&gt;\n&lt;servlet-name&gt;servlet1&lt;/servlet-name&gt;\n&lt;servlet-class&gt;servlet1&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;servlet1&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/form&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;servlet&gt;\n&lt;servlet-name&gt;servlet2&lt;/servlet-name&gt;\n&lt;servlet-class&gt;servlet2&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;servlet2&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/form-resp&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<ul>\n<li>java classes:</li>\n</ul>\n<pre><code>  public void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n    res.setContentType(&quot;text/html&quot;);\n    PrintWriter pw = res.getWriter();\n\n    String fName = req.getParameter(&quot;fName&quot;);\n    String lName = req.getParameter(&quot;lName&quot;);\n    String age = req.getParameter(&quot;age&quot;);\n\n    req.setAttribute(&quot;fName&quot;, fName);\n    req.setAttribute(&quot;lName&quot;, lName);\n    req.setAttribute(&quot;age&quot;, age);\n\n    RequestDispatcher rd = req.getRequestDispatcher(&quot;servlet2&quot;);\n    rd.forward(req, res);\n\n  }\n} \n\npublic class servlet2 extends HttpServlet {\n  public void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n    res.setContentType(&quot;text/html&quot;);\n    RequestDispatcher rd = req.getRequestDispatcher(&quot;servlet1&quot;);\n    rd.include(req, res);\n\n    PrintWriter pw = res.getWriter();\n    String fName = (String)req.getAttribute(&quot;fName&quot;);\n    String lName = (String)req.getAttribute(&quot;lName&quot;);\n    String age = (String)req.getAttribute(&quot;age&quot;);\n\n    pw.println(&quot;Name &quot; + fName);\n    pw.println(&quot;Last Name &quot; + lName);\n    pw.println(&quot;Age &quot; + age);\n\n  }\n}\n     \n\n\n       \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1636576440,"post_id":69919739,"comment_id":123597330,"body_markdown":"Break this down into smaller pieces. For example, one step writing a method that will parse the string into more meaningful pieces of data. Then after you have that method you can apply it to every string in the array. Then finally you can sort the array.","body":"Break this down into smaller pieces. For example, one step writing a method that will parse the string into more meaningful pieces of data. Then after you have that method you can apply it to every string in the array. Then finally you can sort the array."}],"answers":[{"tags":[],"owner":{"account_id":21347144,"reputation":39,"user_id":15717054,"display_name":"Michza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636576094,"creation_date":1636576094,"answer_id":69919824,"question_id":69919739,"body_markdown":"you can use regex to get the number\r\nfollowing will get you the number as a string\r\n   ` &quot;time (\\d)&quot;`\r\nyou can then sort them","title":"get the digits that are part of a string and then perform a sorting of strings","body":"<p>you can use regex to get the number\nfollowing will get you the number as a string\n<code> &quot;time (\\d)&quot;</code>\nyou can then sort them</p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636576758,"creation_date":1636576758,"answer_id":69919937,"question_id":69919739,"body_markdown":"If the string names are constant length (they are in your example), then you can simply count the number of characters and use the time value for sorting. For example, the first time value starts at index 14.\r\nIf the names are not constant length, you can use regex to extract the time value from each string.\r\nAlternatively, you can also split each string by delimiter `,`, and then split the 2nd element again by white space, and pick up the last element.","title":"get the digits that are part of a string and then perform a sorting of strings","body":"<p>If the string names are constant length (they are in your example), then you can simply count the number of characters and use the time value for sorting. For example, the first time value starts at index 14.\nIf the names are not constant length, you can use regex to extract the time value from each string.\nAlternatively, you can also split each string by delimiter <code>,</code>, and then split the 2nd element again by white space, and pick up the last element.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636577746,"creation_date":1636576849,"answer_id":69919951,"question_id":69919739,"body_markdown":"You could utilize the Java Streams API.\r\n\r\n### 1. Model the thing you&#39;re working with\r\n\r\nYour comma-separated string represents *something*. What is it? I called it an `Event`, with the properties\r\n\r\n* *action*, either buy or sell;\r\n* *quantity*, the number behind the action;\r\n* *time*, the number behind the text &quot;time&quot;; and\r\n* *item*, the number behind the text &quot;item&quot;.\r\n\r\nYou could now create a model with just that:\r\n\r\n```java\r\nrecord Event(String action, int quantity, int time, int item) { }\r\n```\r\n\r\n&lt;sup&gt;Note: *records* are available since Java 16. If you are running a lower Java version, then you need to create a class instead. Make sure you create a constructor accepting and setting all fields, and make sure you create getters. Note that for records, the compiler automatically creates accessor methods with the same name as the fields.&lt;/sup&gt;\r\n\r\n### 2. Make a method that is able to parse a string into an `Event`\r\n\r\nYour input string, for example `&quot;sell 1, time 4, item 4&quot;` seems to have a fixed structure. What happens in the below piece of code, is that I assume that this is always the case here. If we split by either a space or a comma-followed-by-a-space, then we have six elements (with indexes 0 - 5). Those six elements each contain a piece of information fitting in our model:\r\n\r\n```java\r\nEvent parseEvent(String input) {\r\n    String[] parts = input.split(&quot;,? &quot;);\r\n    String action = parts[0];\r\n    int quantity = Integer.parseInt(parts[1]);\r\n    int time = Integer.parseInt(parts[3]);\r\n    int item = Integer.parseInt(parts[5]);\r\n    return new Event(action, quantity, time, item);\r\n}\r\n```\r\n\r\n### 3. Stream over the elements, converting those comma-separated strings to beautiful `Event` models, then sort by the `time` property of your model:\r\n\r\n```java\r\nStream.of(arr1)\r\n    .map(element -&gt; parseItem(element)) // Convert string to Event instance\r\n    .sorted(Comparator.comparing(Event::time))\r\n    .forEach(System.out::println);\r\n```","title":"get the digits that are part of a string and then perform a sorting of strings","body":"<p>You could utilize the Java Streams API.</p>\n<h3>1. Model the thing you're working with</h3>\n<p>Your comma-separated string represents <em>something</em>. What is it? I called it an <code>Event</code>, with the properties</p>\n<ul>\n<li><em>action</em>, either buy or sell;</li>\n<li><em>quantity</em>, the number behind the action;</li>\n<li><em>time</em>, the number behind the text &quot;time&quot;; and</li>\n<li><em>item</em>, the number behind the text &quot;item&quot;.</li>\n</ul>\n<p>You could now create a model with just that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Event(String action, int quantity, int time, int item) { }\n</code></pre>\n<p><sup>Note: <em>records</em> are available since Java 16. If you are running a lower Java version, then you need to create a class instead. Make sure you create a constructor accepting and setting all fields, and make sure you create getters. Note that for records, the compiler automatically creates accessor methods with the same name as the fields.</sup></p>\n<h3>2. Make a method that is able to parse a string into an <code>Event</code></h3>\n<p>Your input string, for example <code>&quot;sell 1, time 4, item 4&quot;</code> seems to have a fixed structure. What happens in the below piece of code, is that I assume that this is always the case here. If we split by either a space or a comma-followed-by-a-space, then we have six elements (with indexes 0 - 5). Those six elements each contain a piece of information fitting in our model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Event parseEvent(String input) {\n    String[] parts = input.split(&quot;,? &quot;);\n    String action = parts[0];\n    int quantity = Integer.parseInt(parts[1]);\n    int time = Integer.parseInt(parts[3]);\n    int item = Integer.parseInt(parts[5]);\n    return new Event(action, quantity, time, item);\n}\n</code></pre>\n<h3>3. Stream over the elements, converting those comma-separated strings to beautiful <code>Event</code> models, then sort by the <code>time</code> property of your model:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(arr1)\n    .map(element -&gt; parseItem(element)) // Convert string to Event instance\n    .sorted(Comparator.comparing(Event::time))\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636584431,"creation_date":1636579797,"answer_id":69920456,"question_id":69919739,"body_markdown":"To sort an array use `Arrays.sort` with a `Comparator`. In your case the comparison is on a field you would find with a regular expression.\r\n\r\nSo:\r\n\r\n    Pattern timePattern = Pattern.compile(&quot;time (\\\\d+)&quot;);\r\n    Function&lt;String,Integer&gt; getTime = s -&gt; {\r\n        Matcher matcher = timePattern.matcher(s);\r\n        return matcher.find() ? Integer.parseInt(matcher.group(1)) : 0;\r\n    };\r\n    Comparator&lt;String&gt; sortByTime = Comparator.comparingInt(getTime);\r\n\r\nYou can then sort an array as follows:\r\n\r\n    Arrays.sort(array, sortByTime);\r\n\r\n","title":"get the digits that are part of a string and then perform a sorting of strings","body":"<p>To sort an array use <code>Arrays.sort</code> with a <code>Comparator</code>. In your case the comparison is on a field you would find with a regular expression.</p>\n<p>So:</p>\n<pre><code>Pattern timePattern = Pattern.compile(&quot;time (\\\\d+)&quot;);\nFunction&lt;String,Integer&gt; getTime = s -&gt; {\n    Matcher matcher = timePattern.matcher(s);\n    return matcher.find() ? Integer.parseInt(matcher.group(1)) : 0;\n};\nComparator&lt;String&gt; sortByTime = Comparator.comparingInt(getTime);\n</code></pre>\n<p>You can then sort an array as follows:</p>\n<pre><code>Arrays.sort(array, sortByTime);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636640749,"creation_date":1636640749,"answer_id":69929951,"question_id":69919739,"body_markdown":"I would do it as follows.\r\n```\r\nString[] arr1 = { &quot;sell 2, time 3&quot;, &quot;sell 1, time 4, item 4&quot;,\r\n\t\t&quot;buy 3, time 2, item 5&quot;, &quot;sell 6, time 1, item 8&quot; };\r\n```\r\n- first, use `AbstractMap.SimpleEntry`&lt;sup&gt;*&lt;/sup&gt; to hold the string and the sort criteria.\r\n- then sort on the `value` portion of the entry.\r\n- extract the `key` portion \r\n- and return as an array.\r\n```\r\narr1 = Arrays.stream(arr1).map(\r\n\t\tstr -&gt; new AbstractMap.SimpleEntry&lt;String, Integer&gt;(\r\n\t\t\t\tstr, extract(str)))\r\n\t\t.sorted(Entry.comparingByValue(Integer::compare))\r\n\t\t.map(Entry::getKey).toArray(String[]::new);\r\n\r\nfor (String s : arr1) {\r\n\tSystem.out.println(s);\r\n}\r\n```\r\nprints\r\n```\r\nsell 6, time 1, item 8\r\nsell 3, time 2, item 5\r\nsell 2, time 3, item 9\r\nsell 1, time 4, item 4\r\n```\r\nHere is the helper method to extract the `time` value.\r\n- use a regex to capture the specific field value\r\n- and return as an Integer.\r\n```\t\r\npublic static Integer extract(String str) {\r\n\tMatcher m = Pattern.compile(&quot;time\\\\s+(\\\\d+)&quot;).matcher(str);\r\n\tm.find();\r\n\treturn Integer.valueOf(m.group(1));\r\n}\r\n```\r\n&lt;sup&gt;*&lt;/sup&gt;\r\nFor large lists, I prefer using an `Entry` since the `extract` method is only called once per value and not for each comparison.\r\n","title":"get the digits that are part of a string and then perform a sorting of strings","body":"<p>I would do it as follows.</p>\n<pre><code>String[] arr1 = { &quot;sell 2, time 3&quot;, &quot;sell 1, time 4, item 4&quot;,\n        &quot;buy 3, time 2, item 5&quot;, &quot;sell 6, time 1, item 8&quot; };\n</code></pre>\n<ul>\n<li>first, use <code>AbstractMap.SimpleEntry</code><sup>*</sup> to hold the string and the sort criteria.</li>\n<li>then sort on the <code>value</code> portion of the entry.</li>\n<li>extract the <code>key</code> portion</li>\n<li>and return as an array.</li>\n</ul>\n<pre><code>arr1 = Arrays.stream(arr1).map(\n        str -&gt; new AbstractMap.SimpleEntry&lt;String, Integer&gt;(\n                str, extract(str)))\n        .sorted(Entry.comparingByValue(Integer::compare))\n        .map(Entry::getKey).toArray(String[]::new);\n\nfor (String s : arr1) {\n    System.out.println(s);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>sell 6, time 1, item 8\nsell 3, time 2, item 5\nsell 2, time 3, item 9\nsell 1, time 4, item 4\n</code></pre>\n<p>Here is the helper method to extract the <code>time</code> value.</p>\n<ul>\n<li>use a regex to capture the specific field value</li>\n<li>and return as an Integer.</li>\n</ul>\n<pre><code>public static Integer extract(String str) {\n    Matcher m = Pattern.compile(&quot;time\\\\s+(\\\\d+)&quot;).matcher(str);\n    m.find();\n    return Integer.valueOf(m.group(1));\n}\n</code></pre>\n<p><sup>*</sup>\nFor large lists, I prefer using an <code>Entry</code> since the <code>extract</code> method is only called once per value and not for each comparison.</p>\n"}],"owner":{"account_id":17286725,"reputation":53,"user_id":12519175,"display_name":"Hispalis Guadal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1636640749,"creation_date":1636575724,"question_id":69919739,"body_markdown":"Say that you have an array containing strings:\r\n\r\n    arr1={&quot;sell 1, time 4, item 4&quot;, &quot;buy 3, time 2, item 5&quot;}\r\n\r\nyou want to sort the elements by &quot;time&quot; in ascending order, how could that be done?\r\nSo you would have:\r\n\r\n    arr1={&quot;buy 3, time 2, item 5&quot;, &quot;sell 1, time 4, item 4&quot;}\r\n\r\nMaybe merge each string and iterate through each character until you encounter a digit?\r\n\r\n\r\nI tried doing the following:\r\n\r\n        String[] arr1={&quot;sell 1, time 4, item 4&quot;, &quot;buy 3, time 2, item 5&quot;};\r\n        String singleString = arr1[0];\r\n        int indexOfNumber=singleString.indexOf(&quot;time&quot;)+5;\r\n        \r\n        System.out.println(singleString.charAt(indexOfNumber));\r\n\r\nI&#39;m thinking a for loop somewhow but cant think of how.\r\n\r\n","title":"get the digits that are part of a string and then perform a sorting of strings","body":"<p>Say that you have an array containing strings:</p>\n<pre><code>arr1={&quot;sell 1, time 4, item 4&quot;, &quot;buy 3, time 2, item 5&quot;}\n</code></pre>\n<p>you want to sort the elements by &quot;time&quot; in ascending order, how could that be done?\nSo you would have:</p>\n<pre><code>arr1={&quot;buy 3, time 2, item 5&quot;, &quot;sell 1, time 4, item 4&quot;}\n</code></pre>\n<p>Maybe merge each string and iterate through each character until you encounter a digit?</p>\n<p>I tried doing the following:</p>\n<pre><code>    String[] arr1={&quot;sell 1, time 4, item 4&quot;, &quot;buy 3, time 2, item 5&quot;};\n    String singleString = arr1[0];\n    int indexOfNumber=singleString.indexOf(&quot;time&quot;)+5;\n    \n    System.out.println(singleString.charAt(indexOfNumber));\n</code></pre>\n<p>I'm thinking a for loop somewhow but cant think of how.</p>\n"},{"tags":["java","android","android-intent","google-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":5874576,"reputation":37001,"user_id":4625829,"accept_rate":75,"display_name":"AL."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636640389,"creation_date":1460688974,"answer_id":36637497,"question_id":36628961,"body_markdown":"Not entirely sure if this is the one causing your issue, but I think it&#39;s because your `&lt;receiver&gt;` and `&lt;service&gt;` tags are outside the `&lt;application&gt;` tag. I&#39;ve checked a [similar post](https://stackoverflow.com/q/19090058/6124253), the [Google Android GCM AndroidManifest Sample](https://github.com/google/gcm/blob/master/samples/android/gcm-demo/src/main/AndroidManifest.xml), and the sample code provided in [GCM Android Quickstart](https://developers.google.com/cloud-messaging/android/start) and all of them have the `&lt;receiver&gt;` and `&lt;service&gt;` tags inside the `&lt;application&gt;` tag. Care to try it out.","title":"Broadcast intent callback is cancelled and causes device to be unregistered","body":"<p>Not entirely sure if this is the one causing your issue, but I think it's because your <code>&lt;receiver&gt;</code> and <code>&lt;service&gt;</code> tags are outside the <code>&lt;application&gt;</code> tag. I've checked a <a href=\"https://stackoverflow.com/q/19090058/6124253\">similar post</a>, the <a href=\"https://github.com/google/gcm/blob/master/samples/android/gcm-demo/src/main/AndroidManifest.xml\" rel=\"nofollow noreferrer\">Google Android GCM AndroidManifest Sample</a>, and the sample code provided in <a href=\"https://developers.google.com/cloud-messaging/android/start\" rel=\"nofollow noreferrer\">GCM Android Quickstart</a> and all of them have the <code>&lt;receiver&gt;</code> and <code>&lt;service&gt;</code> tags inside the <code>&lt;application&gt;</code> tag. Care to try it out.</p>\n"}],"owner":{"account_id":6319007,"reputation":2820,"user_id":4907861,"accept_rate":60,"display_name":"JianYA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36637497,"answer_count":1,"score":0,"last_activity_date":1636640389,"creation_date":1460651629,"question_id":36628961,"body_markdown":"I have been trying to see why I haven&#39;t been receiving any push notifications and I have narrowed it down to this. My broadcast intent isn&#39;t being passed any information due to it being cancelled. This causes my device to be unregistered. I have looked through various questions here and none have seemed to work. I&#39;m hoping someone here can help me. \r\n\r\nThis is my manifest\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.amosang.pushtest&quot; &gt;\r\n\r\n    &lt;!-- GCM Permissions - Start here  --&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\r\n\r\n\r\n    &lt;permission android:name=&quot;com.example.amosang.pushtest.permission.C2D_MESSAGE&quot;\r\n        android:protectionLevel=&quot;signature&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;com.example.amosang.pushtest.permission.C2D_MESSAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.HomeActivity&quot;\r\n            android:label=&quot;@string/title_activity_home&quot; &gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;receiver\r\n        android:name=&quot;.GCMBroadcastReceiver&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:permission=&quot;com.google.android.c2dm.permission.SEND&quot; &gt;\r\n\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\r\n            &lt;action android:name=&quot;com.google.android.c2dm.intent.REGISTER&quot; /&gt;\r\n            &lt;action android:name=&quot;com.example.amosang.pushtest&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\n    &lt;service android:name=&quot;.GCMNotificationIntentService&quot; /&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n\r\nI suspect it has something to do with my manifest but I&#39;ve looked through it so many times that I can&#39;t really see much difference.\r\n\r\nThese are the errors\r\n\r\n    broadcast intent callback: result=CANCELLED forIntent { act=com.google.android.c2dm.intent.RECEIVE pkg=com.example.amosang.pushtest (has extras) }\r\n    Unregister application com.example.amosang.pushtest for user 0\r\n","title":"Broadcast intent callback is cancelled and causes device to be unregistered","body":"<p>I have been trying to see why I haven't been receiving any push notifications and I have narrowed it down to this. My broadcast intent isn't being passed any information due to it being cancelled. This causes my device to be unregistered. I have looked through various questions here and none have seemed to work. I'm hoping someone here can help me. </p>\n\n<p>This is my manifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.amosang.pushtest\" &gt;\n\n&lt;!-- GCM Permissions - Start here  --&gt;\n\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.GET_ACCOUNTS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n&lt;uses-permission android:name=\"com.google.android.c2dm.permission.RECEIVE\" /&gt;\n\n\n&lt;permission android:name=\"com.example.amosang.pushtest.permission.C2D_MESSAGE\"\n    android:protectionLevel=\"signature\" /&gt;\n\n&lt;uses-permission android:name=\"com.example.amosang.pushtest.permission.C2D_MESSAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.VIBRATE\" /&gt;\n\n\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\" &gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=\".HomeActivity\"\n        android:label=\"@string/title_activity_home\" &gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;receiver\n    android:name=\".GCMBroadcastReceiver\"\n    android:exported=\"true\"\n    android:permission=\"com.google.android.c2dm.permission.SEND\" &gt;\n\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"com.google.android.c2dm.intent.RECEIVE\" /&gt;\n        &lt;action android:name=\"com.google.android.c2dm.intent.REGISTER\" /&gt;\n        &lt;action android:name=\"com.example.amosang.pushtest\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n\n&lt;service android:name=\".GCMNotificationIntentService\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>I suspect it has something to do with my manifest but I've looked through it so many times that I can't really see much difference.</p>\n\n<p>These are the errors</p>\n\n<pre><code>broadcast intent callback: result=CANCELLED forIntent { act=com.google.android.c2dm.intent.RECEIVE pkg=com.example.amosang.pushtest (has extras) }\nUnregister application com.example.amosang.pushtest for user 0\n</code></pre>\n"},{"tags":["java","multithreading","junit","parallel-processing"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1636640467,"post_id":69929824,"comment_id":123615347,"body_markdown":"Do your tests share any resources?","body":"Do your tests share any resources?"},{"owner":{"account_id":19445478,"reputation":1094,"user_id":14223108,"display_name":"Emin Bilgi&#231;"},"score":0,"creation_date":1636640563,"post_id":69929824,"comment_id":123615389,"body_markdown":"Yes some of them","body":"Yes some of them"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1636640659,"post_id":69929824,"comment_id":123615432,"body_markdown":"There is usually overhead with any concurrency. Same with parallel streams. Concurrency isn&#39;t a silver bullet to make things faster. The benefit needs to exceed the cost. If your tests take 3 seconds, I don&#39;t see the point in trying to make them faster.","body":"There is usually overhead with any concurrency. Same with parallel streams. Concurrency isn&#39;t a silver bullet to make things faster. The benefit needs to exceed the cost. If your tests take 3 seconds, I don&#39;t see the point in trying to make them faster."},{"owner":{"account_id":19445478,"reputation":1094,"user_id":14223108,"display_name":"Emin Bilgi&#231;"},"score":0,"creation_date":1636640913,"post_id":69929824,"comment_id":123615541,"body_markdown":"I am just trying to learn differences. In what kind of situations shall I use parallel testing.","body":"I am just trying to learn differences. In what kind of situations shall I use parallel testing."},{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":2,"creation_date":1636644024,"post_id":69929824,"comment_id":123617031,"body_markdown":"It could be beneficial for small, algorithmic based test-cases with many input variations for example. If your testcases are heavy (more integration-like), starting a full spring-boot application for example, I dont think parellel tests would benefit you.\n\nTheres no clear separation that could be described. It has to be decided on a case-to-case basis. That said, I never even tried to use parallel tests myself tbh.","body":"It could be beneficial for small, algorithmic based test-cases with many input variations for example. If your testcases are heavy (more integration-like), starting a full spring-boot application for example, I dont think parellel tests would benefit you.  Theres no clear separation that could be described. It has to be decided on a case-to-case basis. That said, I never even tried to use parallel tests myself tbh."}],"owner":{"account_id":19445478,"reputation":1094,"user_id":14223108,"display_name":"Emin Bilgi&#231;"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636640286,"creation_date":1636640286,"question_id":69929824,"body_markdown":"I have been studying making Junit tests parallel, and I realized that when I run my test by making them parallel, their process times increase. Running tests synchronous takes approximately 3 seconds:\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\nAfter I initialize  ```junit.jupiter.execution.parallel.enabled = true ``` on my  ```junit-platform.properties ``` file, it took nearly 6 seconds:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nCan someone explain to me what is the deal with this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4mGpf.png\r\n  [2]: https://i.stack.imgur.com/vb8mi.png","title":"Is parallel testing on java more efficient?","body":"<p>I have been studying making Junit tests parallel, and I realized that when I run my test by making them parallel, their process times increase. Running tests synchronous takes approximately 3 seconds:</p>\n<p><a href=\"https://i.stack.imgur.com/4mGpf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4mGpf.png\" alt=\"enter image description here\" /></a></p>\n<p>After I initialize  <code>junit.jupiter.execution.parallel.enabled = true </code> on my  <code>junit-platform.properties </code> file, it took nearly 6 seconds:</p>\n<p><a href=\"https://i.stack.imgur.com/vb8mi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vb8mi.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone explain to me what is the deal with this?</p>\n"},{"tags":["java","android","broadcastreceiver","alarmmanager"],"comments":[{"owner":{"account_id":1052374,"reputation":1343,"user_id":1055954,"accept_rate":72,"display_name":"Steve C."},"score":0,"creation_date":1457919769,"post_id":35978201,"comment_id":59610667,"body_markdown":"You have your AlarmReceiver within your MainActivity class. So you can&#39;t declare com.example.alarmsound.AlarmReceiver as the android:name. You would have to declare MainActivity.AlarmReceiver","body":"You have your AlarmReceiver within your MainActivity class. So you can&#39;t declare com.example.alarmsound.AlarmReceiver as the android:name. You would have to declare MainActivity.AlarmReceiver"},{"owner":{"account_id":7420580,"reputation":47,"user_id":5645137,"accept_rate":75,"display_name":"Dosje"},"score":0,"creation_date":1457920169,"post_id":35978201,"comment_id":59610750,"body_markdown":"I just tried that, but it still doesn&#39;t work, @Steve. I think the main problem is that it doesn&#39;t recognize the name of the AlarmReceiver class, in the line above. It shows it in red and cannot resolve it.","body":"I just tried that, but it still doesn&#39;t work, @Steve. I think the main problem is that it doesn&#39;t recognize the name of the AlarmReceiver class, in the line above. It shows it in red and cannot resolve it."},{"owner":{"account_id":1052374,"reputation":1343,"user_id":1055954,"accept_rate":72,"display_name":"Steve C."},"score":0,"creation_date":1457920277,"post_id":35978201,"comment_id":59610772,"body_markdown":"Thats because it can&#39;t find the class you&#39;re specifying. Mainly because your AlarmReceiver is not a standalone class","body":"Thats because it can&#39;t find the class you&#39;re specifying. Mainly because your AlarmReceiver is not a standalone class"},{"owner":{"account_id":251969,"reputation":13463,"user_id":529691,"display_name":"JoxTraex"},"score":0,"creation_date":1457921640,"post_id":35978201,"comment_id":59611090,"body_markdown":"Why is it that you have to have the receiver inside of your Activity? There are other design patterns you could follow like passing messages from your receiver to your Activity perhaps via LocalBroadcasts. Just because it works doesn&#39;t mean its the right pattern to use.","body":"Why is it that you have to have the receiver inside of your Activity? There are other design patterns you could follow like passing messages from your receiver to your Activity perhaps via LocalBroadcasts. Just because it works doesn&#39;t mean its the right pattern to use."},{"owner":{"account_id":7420580,"reputation":47,"user_id":5645137,"accept_rate":75,"display_name":"Dosje"},"score":0,"creation_date":1457922407,"post_id":35978201,"comment_id":59611260,"body_markdown":"I wasn&#39;t actually aware of the LocalBroadcasts. I guess I&#39;ll try that. It&#39;s just that from the samples I&#39;ve checked online, this was how they would do it.","body":"I wasn&#39;t actually aware of the LocalBroadcasts. I guess I&#39;ll try that. It&#39;s just that from the samples I&#39;ve checked online, this was how they would do it."}],"answers":[{"tags":[],"owner":{"account_id":2834261,"reputation":923,"user_id":2435184,"display_name":"aashreys"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1457920384,"creation_date":1457920384,"answer_id":35978322,"question_id":35978201,"body_markdown":"Change the first line of the receiver declaration to:\r\n`&lt;receiver android:name=&quot;com.example.alarmsound.MainActivity$AlarmReceiver&quot;&gt;`. That should let Android detect your class through the manifest. \r\n\r\nThe `$` symbol is used to reference inner classes in the Android Manifest. ","title":"onReceive method of BroadcastReceiver does not get called","body":"<p>Change the first line of the receiver declaration to:\n<code>&lt;receiver android:name=\"com.example.alarmsound.MainActivity$AlarmReceiver\"&gt;</code>. That should let Android detect your class through the manifest. </p>\n\n<p>The <code>$</code> symbol is used to reference inner classes in the Android Manifest. </p>\n"},{"tags":[],"owner":{"account_id":5874576,"reputation":37001,"user_id":4625829,"accept_rate":75,"display_name":"AL."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636640172,"creation_date":1457920442,"answer_id":35978326,"question_id":35978201,"body_markdown":"Okay. So as you mentioned the the `AlarmReceiver` class cannot be recognized in the `AndroidManifest.xml`. So I tried it out in Android Studio and it seems the format should be something like this:\r\n\r\n    &lt;receiver android:name=&quot;.MainActivity$AlarmReceiver&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.example.alarmsound.MainActivity&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n\r\nTried running the code but it returns an error where the app crashes. Anyways, I think that&#39;s a different concern now.","title":"onReceive method of BroadcastReceiver does not get called","body":"<p>Okay. So as you mentioned the the <code>AlarmReceiver</code> class cannot be recognized in the <code>AndroidManifest.xml</code>. So I tried it out in Android Studio and it seems the format should be something like this:</p>\n<pre><code>&lt;receiver android:name=&quot;.MainActivity$AlarmReceiver&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.example.alarmsound.MainActivity&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n</code></pre>\n<p>Tried running the code but it returns an error where the app crashes. Anyways, I think that's a different concern now.</p>\n"}],"owner":{"account_id":7420580,"reputation":47,"user_id":5645137,"accept_rate":75,"display_name":"Dosje"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1763,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35978322,"answer_count":2,"score":0,"last_activity_date":1636640197,"creation_date":1457919506,"question_id":35978201,"body_markdown":"I am using *AlarmManager* to create an alarm by playing a sound. To do this, I first create a *PendingIntent*, for which I have to create a class called *AlarmReceiver*, which extends *BroadcastReceiver*. In this new class, I override the *onReceive* method, in which I also start the sound. However, from what I&#39;ve tested, the onReceive method is not even called from the MainActivity. \r\n\r\nAfter some research, I found out that I should declare the receiver in the manifest file. Thus, I declare it, but it doesn&#39;t recognize the name of the class, *AlarmReceiver*, it shows it in red. I don&#39;t fully understand how to properly declare in the manifest file. I know there are other similar SO questions and I&#39;ve checked them all, but I am still not able to get it work. \r\n\r\nThe code for the MainActivity is:\r\n\r\n    package com.example.alarmsound;\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    public class AlarmReceiver extends BroadcastReceiver {\r\n\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            final MediaPlayer mp = MediaPlayer.create(context, R.raw.music);\r\n            Log.d(&quot;Music&quot;, &quot;It went here.&quot;);\r\n            mp.start();\r\n\r\n            Button stop = (Button) findViewById(R.id.stopAlarm);\r\n            stop.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    mp.stop();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.content_main);\r\n\r\n        Calendar t = Calendar.getInstance();\r\n        t.add(Calendar.SECOND, 5);\r\n\r\n        Context context = this;\r\n        AlarmManager alarmMgr;\r\n        alarmMgr = (AlarmManager)getSystemService(Context.ALARM_SERVICE);\r\n        Intent intent = new Intent(this, AlarmReceiver.class);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        alarmMgr.set(AlarmManager.RTC_WAKEUP, t.getTimeInMillis(), pendingIntent);\r\n    }\r\n    }\r\nAnd the declaration in Manifest is: \r\n    \r\n    &lt;receiver android:name=&quot;com.example.alarmsound.AlarmReceiver&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.example.alarmsound.MainActivity&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\nI could also be doing something wrong in the MainActivity, even though I think I&#39;m doing everything right there.","title":"onReceive method of BroadcastReceiver does not get called","body":"<p>I am using <em>AlarmManager</em> to create an alarm by playing a sound. To do this, I first create a <em>PendingIntent</em>, for which I have to create a class called <em>AlarmReceiver</em>, which extends <em>BroadcastReceiver</em>. In this new class, I override the <em>onReceive</em> method, in which I also start the sound. However, from what I've tested, the onReceive method is not even called from the MainActivity.</p>\n<p>After some research, I found out that I should declare the receiver in the manifest file. Thus, I declare it, but it doesn't recognize the name of the class, <em>AlarmReceiver</em>, it shows it in red. I don't fully understand how to properly declare in the manifest file. I know there are other similar SO questions and I've checked them all, but I am still not able to get it work.</p>\n<p>The code for the MainActivity is:</p>\n<pre><code>package com.example.alarmsound;\npublic class MainActivity extends AppCompatActivity {\n\npublic class AlarmReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        final MediaPlayer mp = MediaPlayer.create(context, R.raw.music);\n        Log.d(&quot;Music&quot;, &quot;It went here.&quot;);\n        mp.start();\n\n        Button stop = (Button) findViewById(R.id.stopAlarm);\n        stop.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                mp.stop();\n            }\n        });\n    }\n}\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.content_main);\n\n    Calendar t = Calendar.getInstance();\n    t.add(Calendar.SECOND, 5);\n\n    Context context = this;\n    AlarmManager alarmMgr;\n    alarmMgr = (AlarmManager)getSystemService(Context.ALARM_SERVICE);\n    Intent intent = new Intent(this, AlarmReceiver.class);\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n    alarmMgr.set(AlarmManager.RTC_WAKEUP, t.getTimeInMillis(), pendingIntent);\n}\n}\n</code></pre>\n<p>And the declaration in Manifest is:</p>\n<pre><code>&lt;receiver android:name=&quot;com.example.alarmsound.AlarmReceiver&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.example.alarmsound.MainActivity&quot; /&gt;\n        &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>I could also be doing something wrong in the MainActivity, even though I think I'm doing everything right there.</p>\n"},{"tags":["java","junit5"],"answers":[{"tags":[],"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636471412,"creation_date":1636471412,"answer_id":69900737,"question_id":69900692,"body_markdown":"Add a public getter in your `Player` class :\r\n\r\n    public int getStep() {\r\n        return this.step;\r\n    }","title":"Writing a Junit test involving a private variable","body":"<p>Add a public getter in your <code>Player</code> class :</p>\n<pre><code>public int getStep() {\n    return this.step;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636640001,"creation_date":1636639618,"answer_id":69929653,"question_id":69900692,"body_markdown":"There are a number of ways to deal with this:\r\n\r\n  - Write the tests as blackbox tests; i.e. don&#39;t make them depend on the state of the private variable at all.  This can be harder to achieve, but it will have a couple of benefits:\r\n    \r\n    - It will make your tests independent of the implementation details associated with that variable.\r\n\r\n    - It will cause you to focus your testing more on specified behavior of the API.\r\n\r\n  - As Tom suggests: write a `public` (or maybe package private) getter.  It exposes the state, but the chances are that it doesn&#39;t matter.  (Bear in mind that the pragmatic purpose of visibility modifiers is to prevent unwanted coupling.  But unnecessary exposure of internals doesn&#39;t actually *cause* coupling.  Some other code has to *use* the internals for there to be coupling.)\r\n\r\n  - You could leave the variable as `private` but have your test code use reflection to reach in and inspect (or even change) private variables.\r\n\r\n  - You might be able to avoid this by mocking the class of the private variable in the unit tests ... or something like that.  (This is probably not applicable here.)","title":"Writing a Junit test involving a private variable","body":"<p>There are a number of ways to deal with this:</p>\n<ul>\n<li><p>Write the tests as blackbox tests; i.e. don't make them depend on the state of the private variable at all.  This can be harder to achieve, but it will have a couple of benefits:</p>\n<ul>\n<li><p>It will make your tests independent of the implementation details associated with that variable.</p>\n</li>\n<li><p>It will cause you to focus your testing more on specified behavior of the API.</p>\n</li>\n</ul>\n</li>\n<li><p>As Tom suggests: write a <code>public</code> (or maybe package private) getter.  It exposes the state, but the chances are that it doesn't matter.  (Bear in mind that the pragmatic purpose of visibility modifiers is to prevent unwanted coupling.  But unnecessary exposure of internals doesn't actually <em>cause</em> coupling.  Some other code has to <em>use</em> the internals for there to be coupling.)</p>\n</li>\n<li><p>You could leave the variable as <code>private</code> but have your test code use reflection to reach in and inspect (or even change) private variables.</p>\n</li>\n<li><p>You might be able to avoid this by mocking the class of the private variable in the unit tests ... or something like that.  (This is probably not applicable here.)</p>\n</li>\n</ul>\n"}],"owner":{"account_id":23198361,"reputation":389,"user_id":17293622,"display_name":"daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636640001,"creation_date":1636471288,"question_id":69900692,"body_markdown":"I have a class player in which there is a private variable `private int step=10` and a function `moveLeft()` which decrements the x coordinate of the player by the value stored in variable step &lt;br&gt; Now I want to write a JUnit test case for the moveLeft() method so I create a player object and store it&#39;s initial position and then call the function moveLeft() on it.\r\n&lt;br&gt; But to verify that the player did move by step number of points in the x direction I need to do something like `player.getPosition().x==initilX-step` But step is a private variable\r\n&lt;br&gt; in the class player. In this case, how can I go about writing a JUnit test for it?","title":"Writing a Junit test involving a private variable","body":"<p>I have a class player in which there is a private variable <code>private int step=10</code> and a function <code>moveLeft()</code> which decrements the x coordinate of the player by the value stored in variable step <br> Now I want to write a JUnit test case for the moveLeft() method so I create a player object and store it's initial position and then call the function moveLeft() on it.\n<br> But to verify that the player did move by step number of points in the x direction I need to do something like <code>player.getPosition().x==initilX-step</code> But step is a private variable\n<br> in the class player. In this case, how can I go about writing a JUnit test for it?</p>\n"},{"tags":["python","java","sockets"],"comments":[{"owner":{"display_name":"user2668284"},"score":0,"creation_date":1636445683,"post_id":69894610,"comment_id":123552106,"body_markdown":"Can you explain why you&#39;re using the multiprocessing module when there&#39;s no multiprocessing involved?","body":"Can you explain why you&#39;re using the multiprocessing module when there&#39;s no multiprocessing involved?"}],"answers":[{"tags":[],"owner":{"display_name":"user2668284"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636446087,"creation_date":1636446087,"answer_id":69894837,"question_id":69894610,"body_markdown":"Use of the multiprocessing module seems inappropriate in this case and is the root cause of your problem. Here&#39;s a simplified Python server that demonstrates how you could achieve your objective. Note that the server terminates after accepting and handling any single connection:\r\n\r\n    import socket\r\n    \r\n    def server():\r\n        with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\r\n            s.bind((&#39;0.0.0.0&#39;, 7777))\r\n            s.listen()\r\n            conn, _ = s.accept()\r\n            with conn:\r\n                while (data := conn.recv(8192)):\r\n                    print(data.decode())\r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        server()","title":"Java client and python server socket connection - end of file error when receiving message","body":"<p>Use of the multiprocessing module seems inappropriate in this case and is the root cause of your problem. Here's a simplified Python server that demonstrates how you could achieve your objective. Note that the server terminates after accepting and handling any single connection:</p>\n<pre><code>import socket\n\ndef server():\n    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n        s.bind(('0.0.0.0', 7777))\n        s.listen()\n        conn, _ = s.accept()\n        with conn:\n            while (data := conn.recv(8192)):\n                print(data.decode())\n\nif __name__ == '__main__':\n    server()\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2668284"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636639991,"creation_date":1636453149,"answer_id":69896395,"question_id":69894610,"body_markdown":"The issue here is that the recv\\* functions of the multiprocessing connection expect to get a 32-bit preamble in the message that indicates the actual amount of data being transmitted. So here&#39;s what the Java part needs to look like (I haven&#39;t bothered about buffered IO - just keeping things to bare bones):\r\n\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    \r\n    public class Client {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String message = &quot;Talking isn&#39;t doing. It is a kind of good deed to say well; and yet words are not deeds.&quot;;\r\n            try (Socket socket = new Socket(&quot;localhost&quot;, 7777)) {\r\n                try (DataOutputStream out = new DataOutputStream(socket.getOutputStream())) {\r\n                    byte[] dts = message.getBytes();\r\n                    out.writeInt(dts.length);\r\n                    out.write(dts);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThen, your Python server can look something like this:\r\n\r\n    from multiprocessing.connection import Listener\r\n    \r\n    def main():\r\n        listener = Listener(address=(&#39;0.0.0.0&#39;, 7777), family=&#39;AF_INET&#39;, authkey=None)\r\n        with listener.accept() as conn:\r\n            print(conn.recv_bytes().decode())\r\n                \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        main()\r\n\r\nSo, this means that your original problem is due to recv() looking at the first 4 bytes and interpreting that as the length of incoming data. But that would equate to something much larger than was actually being sent.","title":"Java client and python server socket connection - end of file error when receiving message","body":"<p>The issue here is that the recv* functions of the multiprocessing connection expect to get a 32-bit preamble in the message that indicates the actual amount of data being transmitted. So here's what the Java part needs to look like (I haven't bothered about buffered IO - just keeping things to bare bones):</p>\n<pre><code>import java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.Socket;\n\npublic class Client {\n\n    public static void main(String[] args) throws IOException {\n        String message = &quot;Talking isn't doing. It is a kind of good deed to say well; and yet words are not deeds.&quot;;\n        try (Socket socket = new Socket(&quot;localhost&quot;, 7777)) {\n            try (DataOutputStream out = new DataOutputStream(socket.getOutputStream())) {\n                byte[] dts = message.getBytes();\n                out.writeInt(dts.length);\n                out.write(dts);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then, your Python server can look something like this:</p>\n<pre><code>from multiprocessing.connection import Listener\n\ndef main():\n    listener = Listener(address=('0.0.0.0', 7777), family='AF_INET', authkey=None)\n    with listener.accept() as conn:\n        print(conn.recv_bytes().decode())\n            \n\nif __name__ == '__main__':\n    main()\n</code></pre>\n<p>So, this means that your original problem is due to recv() looking at the first 4 bytes and interpreting that as the length of incoming data. But that would equate to something much larger than was actually being sent.</p>\n"}],"owner":{"account_id":23164900,"reputation":21,"user_id":17264985,"display_name":"josh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636639991,"creation_date":1636444722,"question_id":69894610,"body_markdown":"I need to send a message from a java client program to a python server program.\r\n\r\nHere is my code:\r\n\r\nJava client:\r\n\r\n```\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.net.Socket;\r\n\r\npublic class Client {\r\n    public static void main(String[] args) throws IOException {\r\n        // need host and port, we want to connect to the ServerSocket at port 7777\r\n        Socket socket = new Socket(&quot;localhost&quot;, 7777);\r\n        System.out.println(&quot;Connected!&quot;);\r\n\r\n        // get the output stream from the socket.\r\n        OutputStream outputStream = socket.getOutputStream();\r\n        // create a data output stream from the output stream so we can send data through it\r\n        DataOutputStream dataOutputStream = new DataOutputStream(outputStream);\r\n\r\n        System.out.println(&quot;Sending string to the ServerSocket&quot;);\r\n\r\n        // write the message we want to send\r\n        dataOutputStream.writeUTF(&quot;Hello from the other side!&quot;);\r\n        dataOutputStream.flush(); // send the message\r\n        dataOutputStream.close(); // close the output stream when we&#39;re done.\r\n\r\n        System.out.println(&quot;Closing socket and terminating program.&quot;);\r\n        socket.close();\r\n    }\r\n}\r\n```\r\n\r\nPython server:\r\n\r\n```\r\nfrom multiprocessing.connection import Listener\r\naddress = (&#39;localhost&#39;,7777)\r\nwhile True:\r\n    with Listener(address, authkey=None) as listener\r\n        with listener.accept() as conn:\r\n            print(conn.recv())\r\n```\r\n\r\nWhen I try to execute this, I get the following error in Python:\r\n```\r\nOSError: got end of file during message\r\n```\r\n\r\nWhat am I doing wrong?","title":"Java client and python server socket connection - end of file error when receiving message","body":"<p>I need to send a message from a java client program to a python server program.</p>\n<p>Here is my code:</p>\n<p>Java client:</p>\n<pre><code>import java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.Socket;\n\npublic class Client {\n    public static void main(String[] args) throws IOException {\n        // need host and port, we want to connect to the ServerSocket at port 7777\n        Socket socket = new Socket(&quot;localhost&quot;, 7777);\n        System.out.println(&quot;Connected!&quot;);\n\n        // get the output stream from the socket.\n        OutputStream outputStream = socket.getOutputStream();\n        // create a data output stream from the output stream so we can send data through it\n        DataOutputStream dataOutputStream = new DataOutputStream(outputStream);\n\n        System.out.println(&quot;Sending string to the ServerSocket&quot;);\n\n        // write the message we want to send\n        dataOutputStream.writeUTF(&quot;Hello from the other side!&quot;);\n        dataOutputStream.flush(); // send the message\n        dataOutputStream.close(); // close the output stream when we're done.\n\n        System.out.println(&quot;Closing socket and terminating program.&quot;);\n        socket.close();\n    }\n}\n</code></pre>\n<p>Python server:</p>\n<pre><code>from multiprocessing.connection import Listener\naddress = ('localhost',7777)\nwhile True:\n    with Listener(address, authkey=None) as listener\n        with listener.accept() as conn:\n            print(conn.recv())\n</code></pre>\n<p>When I try to execute this, I get the following error in Python:</p>\n<pre><code>OSError: got end of file during message\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","eclipse","hibernate","debugging","tomcat"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1636640081,"post_id":69925576,"comment_id":123615180,"body_markdown":"It looks like beginning a transaction spins off another thread and makes the caller wait for it to return. Look at your other threads, specifically Timer-0, and if you&#39;re really cleaning things up on shutdown like you think you are.","body":"It looks like beginning a transaction spins off another thread and makes the caller wait for it to return. Look at your other threads, specifically Timer-0, and if you&#39;re really cleaning things up on shutdown like you think you are."},{"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"score":0,"creation_date":1636641018,"post_id":69925576,"comment_id":123615598,"body_markdown":"@nitind where i check the Timer-0, as you said?","body":"@nitind where i check the Timer-0, as you said?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1636646804,"post_id":69925576,"comment_id":123618251,"body_markdown":"It&#39;s another thread in your second screenshot. Select it and hit the Pause button.","body":"It&#39;s another thread in your second screenshot. Select it and hit the Pause button."}],"owner":{"account_id":5155638,"reputation":105,"user_id":4128946,"accept_rate":57,"display_name":"xc93hil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636639882,"creation_date":1636621084,"question_id":69925576,"body_markdown":"I have a problem with my web application. This is the context: \r\n\r\n - Eclispe 2021-09\r\n - Tomcat 9.0.44\r\n - Java 11.0.12\r\n\r\nWhen I start Eclipse and I run the web application in debug all works perfectly, but when I stop Tomcat and restart immediately the web application, always in debug, it seems locked on HibernateSessionRequestFilter. \r\n\r\n\r\nThis is the `HibernateSessionRequestFilter.java`: \r\n\r\n[![HIbernateSessionRequestFilter.java][1]][1]\r\nThe lock is on line 27: \r\n\r\n    HibernateUtil.getSessionFactory().getCurrentSession().beginTransaction();\r\n\r\nAnalyzing in debug that call, I can see that the application remains locked on the line \r\n\r\n    final Metadata metadata = metadataBuilder.build();\r\nof class *Configuration*.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI noticed that when I stop Tomcat it stop immediately and it throws an error:\r\n\r\n    WARNING: The web application [AlphaPickServer] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.base@11.0.12/java.lang.Object.wait(Native Method)\r\n     java.base@11.0.12/java.util.TimerThread.mainLoop(Timer.java:553)\r\n     java.base@11.0.12/java.util.TimerThread.run(Timer.java:506)\r\n    nov 11, 2021 9:53:05 AM org.apache.catalina.loader.WebappClassLoaderBase checkThreadLocalMapForLeaks\r\n\r\nIs it possible that Eclipse doesn&#39;t stop correctly Tomcat? I tried to stop it using *shutdown.bat* but with no different results. If I close and reopen Eclipse anything changes. If I restart PC, the first time, the debug starts with no problem. \r\n\r\nI&#39;ve noticed that this problem occurr only in debug mode, the run mode works correctly.\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://i.stack.imgur.com/6b1sT.png\r\n  [2]: https://i.stack.imgur.com/SyvlM.png","title":"Eclipse, Hibernate 5.0.7 Locked on debug mode","body":"<p>I have a problem with my web application. This is the context:</p>\n<ul>\n<li>Eclispe 2021-09</li>\n<li>Tomcat 9.0.44</li>\n<li>Java 11.0.12</li>\n</ul>\n<p>When I start Eclipse and I run the web application in debug all works perfectly, but when I stop Tomcat and restart immediately the web application, always in debug, it seems locked on HibernateSessionRequestFilter.</p>\n<p>This is the <code>HibernateSessionRequestFilter.java</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/6b1sT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6b1sT.png\" alt=\"HIbernateSessionRequestFilter.java\" /></a>\nThe lock is on line 27:</p>\n<pre><code>HibernateUtil.getSessionFactory().getCurrentSession().beginTransaction();\n</code></pre>\n<p>Analyzing in debug that call, I can see that the application remains locked on the line</p>\n<pre><code>final Metadata metadata = metadataBuilder.build();\n</code></pre>\n<p>of class <em>Configuration</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/SyvlM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SyvlM.png\" alt=\"enter image description here\" /></a></p>\n<p>I noticed that when I stop Tomcat it stop immediately and it throws an error:</p>\n<pre><code>WARNING: The web application [AlphaPickServer] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@11.0.12/java.lang.Object.wait(Native Method)\n java.base@11.0.12/java.util.TimerThread.mainLoop(Timer.java:553)\n java.base@11.0.12/java.util.TimerThread.run(Timer.java:506)\nnov 11, 2021 9:53:05 AM org.apache.catalina.loader.WebappClassLoaderBase checkThreadLocalMapForLeaks\n</code></pre>\n<p>Is it possible that Eclipse doesn't stop correctly Tomcat? I tried to stop it using <em>shutdown.bat</em> but with no different results. If I close and reopen Eclipse anything changes. If I restart PC, the first time, the debug starts with no problem.</p>\n<p>I've noticed that this problem occurr only in debug mode, the run mode works correctly.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","return-value","classloader"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1636627277,"post_id":69926814,"comment_id":123609984,"body_markdown":"What return value do you mean exactly? The return value of the method that you invoke via reflection? The `invoke(...)` method returns that, but you&#39;re ignoring it. Assign the return value of `method.invoke(...)` to a variable and return that.","body":"What return value do you mean exactly? The return value of the method that you invoke via reflection? The <code>invoke(...)</code> method returns that, but you&#39;re ignoring it. Assign the return value of <code>method.invoke(...)</code> to a variable and return that."},{"owner":{"account_id":20447661,"reputation":1,"user_id":15003062,"display_name":"Akshat Developer"},"score":0,"creation_date":1636627391,"post_id":69926814,"comment_id":123610025,"body_markdown":"The return value i mean is UnityServices.isInitialized();","body":"The return value i mean is UnityServices.isInitialized();"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1636628912,"post_id":69926814,"comment_id":123610575,"body_markdown":"What does that have to do with the second piece of code in your question? Are you calling that method via reflection?","body":"What does that have to do with the second piece of code in your question? Are you calling that method via reflection?"}],"answers":[{"tags":[],"owner":{"account_id":20105829,"reputation":1074,"user_id":14743390,"display_name":"Zinc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636630313,"creation_date":1636630313,"answer_id":69927571,"question_id":69926814,"body_markdown":"the value is returned by the `invoke` method, you can just do\r\n\r\n```java\r\nreturn (Boolean) method.invoke(myClassObject);\r\n```","title":"Get return value from classloader","body":"<p>the value is returned by the <code>invoke</code> method, you can just do</p>\n<pre class=\"lang-java prettyprint-override\"><code>return (Boolean) method.invoke(myClassObject);\n</code></pre>\n"}],"owner":{"account_id":20447661,"reputation":1,"user_id":15003062,"display_name":"Akshat Developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636639855,"creation_date":1636626901,"question_id":69926814,"body_markdown":"I want to know how can I get this boolean return value (true/false) from the classloader?\r\n\r\n    public static boolean isInitialized() {\r\n        return UnityServices.isInitialized();\r\n    }\r\n\r\nThe following is my code:\r\n\r\n    ClassLoader cl = new URLClassLoader(urlsArr);\r\n    Class loadedMyClass = cl.loadClass(className);\r\n    Constructor constructor = loadedMyClass.getConstructor();\r\n    Object myClassObject = constructor.newInstance();\r\n\r\n    // Getting the target method from the loaded class and invoke it using its name\r\n    Method method = loadedMyClass.getMethod(methodNAme);\r\n    method.invoke(myClassObject);\r\n    Log.d(&quot;Invoked&quot;, method.getName());\r\n\r\n    return //get the value;","title":"Get return value from classloader","body":"<p>I want to know how can I get this boolean return value (true/false) from the classloader?</p>\n<pre><code>public static boolean isInitialized() {\n    return UnityServices.isInitialized();\n}\n</code></pre>\n<p>The following is my code:</p>\n<pre><code>ClassLoader cl = new URLClassLoader(urlsArr);\nClass loadedMyClass = cl.loadClass(className);\nConstructor constructor = loadedMyClass.getConstructor();\nObject myClassObject = constructor.newInstance();\n\n// Getting the target method from the loaded class and invoke it using its name\nMethod method = loadedMyClass.getMethod(methodNAme);\nmethod.invoke(myClassObject);\nLog.d(&quot;Invoked&quot;, method.getName());\n\nreturn //get the value;\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1636636278,"post_id":69928817,"comment_id":123613462,"body_markdown":"Can you provide a [mre]? Also note that `getConstructor` will never return null: it either returns a constructor *or* throws a `NoSuchMethodException`.","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Also note that <code>getConstructor</code> will never return null: it either returns a constructor <i>or</i> throws a <code>NoSuchMethodException</code>."},{"owner":{"account_id":13845349,"reputation":45,"user_id":14476503,"display_name":"David"},"score":0,"creation_date":1636636300,"post_id":69928817,"comment_id":123613471,"body_markdown":"I&#39;m taking care of NoSuchMethodException in an actual code. Example above is simplified just to understand logic.","body":"I&#39;m taking care of NoSuchMethodException in an actual code. Example above is simplified just to understand logic."},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1636636389,"post_id":69928817,"comment_id":123613513,"body_markdown":"doesn&#39;t this  `classToCheck.getConstructor()` return default constructor?","body":"doesn&#39;t this  <code>classToCheck.getConstructor()</code> return default constructor?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1636636467,"post_id":69928817,"comment_id":123613548,"body_markdown":"Well, if `getConstructor()` completes *normally* (i.e. doesn&#39;t throw an exception), then it exists.","body":"Well, if <code>getConstructor()</code> completes <i>normally</i> (i.e. doesn&#39;t throw an exception), then it exists."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1636636469,"post_id":69928817,"comment_id":123613549,"body_markdown":"@David: yes, that&#39;s why I&#39;m asking for a [mre]: your &quot;simplified&quot; code is not sufficient to show your problem. It should be very simple for you to construct a simple example demonstrating the problem with a tiny main method and a second class that shows the issue.","body":"@David: yes, that&#39;s why I&#39;m asking for a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>: your &quot;simplified&quot; code is not sufficient to show your problem. It should be very simple for you to construct a simple example demonstrating the problem with a tiny main method and a second class that shows the issue."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1636636482,"post_id":69928817,"comment_id":123613557,"body_markdown":"But `NoSuchMethodException` is exactly what is thrown if you query a constructor that isn&#39;t there. Whatever you do to &quot;take care&quot; of it, it&#39;s not correct - it&#39;s exactly the else case you&#39;re looking for.","body":"But <code>NoSuchMethodException</code> is exactly what is thrown if you query a constructor that isn&#39;t there. Whatever you do to &quot;take care&quot; of it, it&#39;s not correct - it&#39;s exactly the else case you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636639464,"creation_date":1636636898,"answer_id":69929004,"question_id":69928817,"body_markdown":"**Just remember that if you dont write any explicit constructor , the compiler will give you a no args constructor implicitly .**\r\n\r\nSo : class without any constructor ==&gt; become a class with one no argument constructor after compilation.\r\n\r\n\r\nyou can use this code :\r\n\r\n    if(Arrays.stream(classToCheck.class.getConstructors()).filter(constructor -&gt; constructor.getParameterCount() == 0).count() == 1 )\r\n\t\tSystem.out.println(&quot;exists&quot;);\r\n \telse \r\n\t\tSystem.out.println(&quot;not exists&quot;);\r\n\r\n**Just dont forget that getConstructors() looks just for the public constructors !**","title":"Parameterless constructor validation. Java","body":"<p><strong>Just remember that if you dont write any explicit constructor , the compiler will give you a no args constructor implicitly .</strong></p>\n<p>So : class without any constructor ==&gt; become a class with one no argument constructor after compilation.</p>\n<p>you can use this code :</p>\n<pre><code>if(Arrays.stream(classToCheck.class.getConstructors()).filter(constructor -&gt; constructor.getParameterCount() == 0).count() == 1 )\n    System.out.println(&quot;exists&quot;);\nelse \n    System.out.println(&quot;not exists&quot;);\n</code></pre>\n<p><strong>Just dont forget that getConstructors() looks just for the public constructors !</strong></p>\n"}],"owner":{"account_id":13845349,"reputation":45,"user_id":14476503,"display_name":"David"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69929004,"answer_count":1,"score":-1,"last_activity_date":1636639464,"creation_date":1636636076,"question_id":69928817,"body_markdown":"How can I check if there is a parameterless constructor in a class?\r\n\r\nI tried:\r\n\r\n            if (classToCheck.getConstructor() != null) {\r\n                //Yes, there is one.\r\n            } else {\r\n                //No, there isn&#39;t one.\r\n            }\r\nBut `classToCheck.getConstructor()` always returns true.\r\n\r\nWhat am I doing wrong?\r\n\r\nEdit.\r\n\r\n        private boolean hasNoArgConstructor(Class classToCheck) {\r\n        try {\r\n\r\n            if (classToCheck.getConstructor() != null) {\r\n                return true;\r\n            }\r\n        } catch (NoSuchMethodException e) {\r\n            System.out.println(&quot;Error&quot;);\r\n        }\r\n\r\n        return false;\r\n    }\r\nSo, the main idea of a method is to get true if there is a constructor in a class that takes no arguments.","title":"Parameterless constructor validation. Java","body":"<p>How can I check if there is a parameterless constructor in a class?</p>\n<p>I tried:</p>\n<pre><code>        if (classToCheck.getConstructor() != null) {\n            //Yes, there is one.\n        } else {\n            //No, there isn't one.\n        }\n</code></pre>\n<p>But <code>classToCheck.getConstructor()</code> always returns true.</p>\n<p>What am I doing wrong?</p>\n<p>Edit.</p>\n<pre><code>    private boolean hasNoArgConstructor(Class classToCheck) {\n    try {\n\n        if (classToCheck.getConstructor() != null) {\n            return true;\n        }\n    } catch (NoSuchMethodException e) {\n        System.out.println(&quot;Error&quot;);\n    }\n\n    return false;\n}\n</code></pre>\n<p>So, the main idea of a method is to get true if there is a constructor in a class that takes no arguments.</p>\n"},{"tags":["java","class","generics","reflection"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1636580241,"post_id":69920472,"comment_id":123598610,"body_markdown":"Some specific cases of this are impossible: for example, in `class D&lt;T&gt; extends A&lt;T&gt;`, a `D&lt;Integer&gt;` cannot be distinguished from a `D&lt;String&gt;`.  Is there a reason you can&#39;t write `if(B.class.isAssignableFrom` and the like?","body":"Some specific cases of this are impossible: for example, in <code>class D&lt;T&gt; extends A&lt;T&gt;</code>, a <code>D&lt;Integer&gt;</code> cannot be distinguished from a <code>D&lt;String&gt;</code>.  Is there a reason you can&#39;t write <code>if(B.class.isAssignableFrom</code> and the like?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1636580579,"post_id":69920472,"comment_id":123598727,"body_markdown":"`public abstract getT();` is not a valid declaration.","body":"<code>public abstract getT();</code> is not a valid declaration."},{"owner":{"account_id":18629838,"reputation":71,"user_id":13578044,"display_name":"Jo&#227;o Schmidt"},"score":0,"creation_date":1636580798,"post_id":69920472,"comment_id":123598788,"body_markdown":"@tgdavies you are correct. I will quickly edit it","body":"@tgdavies you are correct. I will quickly edit it"},{"owner":{"account_id":18629838,"reputation":71,"user_id":13578044,"display_name":"Jo&#227;o Schmidt"},"score":0,"creation_date":1636581060,"post_id":69920472,"comment_id":123598860,"body_markdown":"@LouisWasserman I believe you mean why don&#39;t I use `value instanceof B`? While I could use, it would make the code a lot messy since I would have to make a new if else in case someone add a new class that extends A","body":"@LouisWasserman I believe you mean why don&#39;t I use <code>value instanceof B</code>? While I could use, it would make the code a lot messy since I would have to make a new if else in case someone add a new class that extends A"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1636718496,"post_id":69920472,"comment_id":123637261,"body_markdown":"Add a method `abstract Class&lt;T&gt; getTypeParameter()` to `A&lt;T&gt;` that the subclasses are forced to implement.","body":"Add a method <code>abstract Class&lt;T&gt; getTypeParameter()</code> to <code>A&lt;T&gt;</code> that the subclasses are forced to implement."}],"owner":{"account_id":18629838,"reputation":71,"user_id":13578044,"display_name":"Jo&#227;o Schmidt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636639081,"creation_date":1636579906,"question_id":69920472,"body_markdown":"There has been a lot of similar questions on Stack Overflow, but I didn&#39;t find any with generics playing a role\r\n\r\n\tabstract class A&lt;T&gt; {\r\n\t\tpublic abstract T getT();\r\n\t\tpublic void someMethod(Object value){\r\n\t\t\tif(A.class.isAssignableFrom(value.getClass())\r\n\t\t\t\t// either B or C work, as expected\r\n\t\t\tif(A&lt;Long&gt;.isAssignableFrom(value.getClass()) // does not compile\r\n\t\t\t\t// this should allow classes like B only\r\n\t\t}\r\n\t}\r\n\tclass B extends A&lt;Long&gt;{\r\n\t\tlong id;\r\n\t\t@Override\r\n\t\tpublic Long getT(){return id;}\r\n\t}\r\n\tclass C extends A&lt;Integer&gt;{\r\n\t\tint id;\r\n\t\t@Override\r\n\t\tpublic Integer getT(){return id;}\r\n\t}\r\nWhat I need is a way to distinguish between B and C when using some method, as shown in the second if","title":"Check if an object class is a subclass of another class, but with generics","body":"<p>There has been a lot of similar questions on Stack Overflow, but I didn't find any with generics playing a role</p>\n<pre><code>abstract class A&lt;T&gt; {\n    public abstract T getT();\n    public void someMethod(Object value){\n        if(A.class.isAssignableFrom(value.getClass())\n            // either B or C work, as expected\n        if(A&lt;Long&gt;.isAssignableFrom(value.getClass()) // does not compile\n            // this should allow classes like B only\n    }\n}\nclass B extends A&lt;Long&gt;{\n    long id;\n    @Override\n    public Long getT(){return id;}\n}\nclass C extends A&lt;Integer&gt;{\n    int id;\n    @Override\n    public Integer getT(){return id;}\n}\n</code></pre>\n<p>What I need is a way to distinguish between B and C when using some method, as shown in the second if</p>\n"},{"tags":["java","xml","android-studio","android-layout","textview"],"comments":[{"owner":{"account_id":15023662,"reputation":520,"user_id":10844305,"display_name":"Sk Suraj"},"score":0,"creation_date":1573730980,"post_id":58829219,"comment_id":103983163,"body_markdown":"I can only see  two mistakes in this, but I don&#39;t think these mistakes causing the error. One is clickable=&quot;true&quot; is not required if there is autLink mentioned. and While setting textSize use sp instead of dp.","body":"I can only see  two mistakes in this, but I don&#39;t think these mistakes causing the error. One is clickable=&quot;true&quot; is not required if there is autLink mentioned. and While setting textSize use sp instead of dp."},{"owner":{"account_id":15023662,"reputation":520,"user_id":10844305,"display_name":"Sk Suraj"},"score":0,"creation_date":1573731047,"post_id":58829219,"comment_id":103983199,"body_markdown":"And are you getting this error in preview section or in emulator/real device?","body":"And are you getting this error in preview section or in emulator/real device?"},{"owner":{"account_id":15014279,"reputation":101,"user_id":10837746,"display_name":"jaduuuui"},"score":0,"creation_date":1573831503,"post_id":58829219,"comment_id":104027116,"body_markdown":"The text doesn&#39;t show in either the preview or the emulator. As soon as I get to the &quot;o&quot; is disappears. I can&#39;t fathom why. I was able to remedy it by just placing a textview over top of it with the same text but not linked so when they click it, it&#39;s actually clicking the email link beneath it.","body":"The text doesn&#39;t show in either the preview or the emulator. As soon as I get to the &quot;o&quot; is disappears. I can&#39;t fathom why. I was able to remedy it by just placing a textview over top of it with the same text but not linked so when they click it, it&#39;s actually clicking the email link beneath it."},{"owner":{"account_id":15023662,"reputation":520,"user_id":10844305,"display_name":"Sk Suraj"},"score":0,"creation_date":1573915950,"post_id":58829219,"comment_id":104049183,"body_markdown":"Please provide your layout xml code. (i.e. activity_main.xml)","body":"Please provide your layout xml code. (i.e. activity_main.xml)"}],"answers":[{"tags":[],"owner":{"account_id":18179149,"reputation":1,"user_id":13227281,"display_name":"Nagia Ploumidh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636638963,"creation_date":1636638963,"answer_id":69929491,"question_id":58829219,"body_markdown":"Try to set android:textColorLink=&quot;@color/blue&quot; or any other color different than your background. ","title":"My TextView is disappearing when I apply an email autolink attribute to it","body":"<p>Try to set android:textColorLink=&quot;@color/blue&quot; or any other color different than your background.</p>\n"}],"owner":{"account_id":15014279,"reputation":101,"user_id":10837746,"display_name":"jaduuuui"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636638963,"creation_date":1573609930,"question_id":58829219,"body_markdown":"I am attempting to make a textview clickable by adding an email autolink attribute to it with `android:autoLink=&quot;email&quot;`but as soon as I add it, the text just disappears. What&#39;s interesting is that other combinations of text appear just fine. When typing in an email, as soon as I type the &quot;o&quot; in sample@gmail.com, the text just disappears. Am I doing something wrong?\r\n\r\nMy TextView\r\n\r\n        &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:linksClickable=&quot;true&quot;\r\n        android:text=&quot;sample@gmail.com&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:autoLink=&quot;email&quot;\r\n        android:textColor=&quot;#54ACE6&quot;\r\n        android:textSize=&quot;13dp&quot; /&gt;","title":"My TextView is disappearing when I apply an email autolink attribute to it","body":"<p>I am attempting to make a textview clickable by adding an email autolink attribute to it with <code>android:autoLink=\"email\"</code>but as soon as I add it, the text just disappears. What's interesting is that other combinations of text appear just fine. When typing in an email, as soon as I type the \"o\" in sample@gmail.com, the text just disappears. Am I doing something wrong?</p>\n\n<p>My TextView</p>\n\n<pre><code>    &lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:linksClickable=\"true\"\n    android:text=\"sample@gmail.com\"\n    android:clickable=\"true\"\n    android:autoLink=\"email\"\n    android:textColor=\"#54ACE6\"\n    android:textSize=\"13dp\" /&gt;\n</code></pre>\n"},{"tags":["java","swing","jscrollpane"],"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1312975608,"post_id":7009953,"comment_id":8370142,"body_markdown":"really for deepest debuging :-)","body":"really for deepest debuging :-)"},{"owner":{"account_id":307351,"reputation":23310,"user_id":618598,"accept_rate":76,"display_name":"Bernd Elkemann"},"score":2,"creation_date":1312975870,"post_id":7009953,"comment_id":8370212,"body_markdown":"There is something missing from your code starting line 156","body":"There is something missing from your code starting line 156"}],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1312976497,"creation_date":1312976497,"answer_id":7010217,"question_id":7009953,"body_markdown":"Don&#39;t mix swing JScrollPane and awt Canvas. Use e.g. JPanel and paintComponent() method.","title":"problem in setting scrollpane for canvas","body":"<p>Don't mix swing JScrollPane and awt Canvas. Use e.g. JPanel and paintComponent() method.</p>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636638108,"creation_date":1312976745,"answer_id":7010265,"question_id":7009953,"body_markdown":"if you don&#39;t require/expect for your project to use some special features for ImageProcesing, Video..., then consider that using `Canvas` is useless and a better way of displaying [Icon/ImageIcon][1] is using a [JLabel][2] with all built-in features for painting Pictures in Swing without using paint()/paintComponent() for that, here is an example of [JFileChoser/JScrollPane/Image][3]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/uiswing/components/icon.html\r\n  [2]: http://download.oracle.com/javase/tutorial/uiswing/components/label.html\r\n  [3]: https://stackoverflow.com/questions/6993467/how-to-rotate-jximagepanel/6993818#6993818","title":"problem in setting scrollpane for canvas","body":"<p>if you don't require/expect for your project to use some special features for ImageProcesing, Video..., then consider that using <code>Canvas</code> is useless and a better way of displaying <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/icon.html\" rel=\"nofollow noreferrer\">Icon/ImageIcon</a> is using a <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/label.html\" rel=\"nofollow noreferrer\">JLabel</a> with all built-in features for painting Pictures in Swing without using paint()/paintComponent() for that, here is an example of <a href=\"https://stackoverflow.com/questions/6993467/how-to-rotate-jximagepanel/6993818#6993818\">JFileChoser/JScrollPane/Image</a></p>\n"}],"owner":{"account_id":277550,"reputation":2448,"user_id":571616,"accept_rate":65,"display_name":"agarwal_achhnera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1636638108,"creation_date":1312975305,"question_id":7009953,"body_markdown":"In the below program I want to zoomin and zoomout the image which is selected by the user.the problem is that when I zoomin or zoomout the image by clicking on zoomin zoomout button then scrollabars are not working. please help what is hte problem\r\n&lt;pre&gt;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Canvas;\r\nimport java.awt.Container;\r\nimport java.awt.Cursor;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Image;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JMenu;\r\nimport javax.swing.JMenuBar;\r\nimport javax.swing.JMenuItem;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\n\r\npublic class ImageProcess extends JFrame implements ActionListener {\r\n\tprivate JMenuItem newimage;\r\n\tprivate JMenuItem open;\r\n\tprivate Image image;\r\n\tprivate File file;\r\n\tprivate JFrame jf;\r\n\tprivate JPanel panel;\r\n\tprivate Cursor zoomCursor;\r\n\r\n\tpublic ImageProcess() {\r\n\t\tsuper(&quot;Image Demo&quot;);\r\n\t\tthis.setBounds(200, 200, 100, 100);\r\n\t\tthis.setSize(800, 800);\r\n\t\tthis.setResizable(true);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tContainer con = this.getContentPane();\r\n\t\tthis.setVisible(true);\r\n\t\tJMenuBar menubar = new JMenuBar();\r\n\t\tthis.setJMenuBar(menubar);\r\n\t\tJMenu file = new JMenu(&quot;File&quot;);\r\n\t\tnewimage = new JMenuItem(&quot;New&quot;);\r\n\t\topen = new JMenuItem(&quot;Open&quot;);\r\n\t\tmenubar.add(file);\r\n\t\tfile.add(newimage);\r\n\t\tfile.addSeparator();\r\n\t\tfile.add(open);\r\n\t\tnewimage.addActionListener(this);\r\n\t\topen.addActionListener(this);\r\n\t}\r\n\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif (e.getSource() == newimage) {\r\n\t\t\tReadImage ri = new ReadImage();\r\n\r\n\t\t}\r\n\t\tif (e.getSource() == open) {\r\n\t\t\tOpenImage oi = new OpenImage();\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tImageProcess imagepro = new ImageProcess();\r\n\t}\r\n}\r\n\r\nclass ImageFileFilter extends javax.swing.filechooser.FileFilter {\r\n\tpublic boolean accept(File file) {\r\n\t\tif (file.isDirectory())\r\n\t\t\treturn false;\r\n\t\tString name = file.getName().toLowerCase();\r\n\t\treturn (name.endsWith(&quot;.jpg&quot;) || name.endsWith(&quot;.png&quot;) || name\r\n\t\t\t\t.endsWith(&quot;.gif&quot;));\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn &quot;Images (*.gif,*.bmp, *.jpg, *.png )&quot;;\r\n\t}\r\n}\r\n\r\nclass ReadImage extends JFrame {\r\n\tFile file;\r\n\tJFileChooser chooser;\r\n\r\n\t&lt;h6&gt;public ReadImage() {\r\n\t\tchooser = new JFileChooser();\r\n\t\tchooser.setMultiSelectionEnabled(false);\r\n\r\n\t\tchooser.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);\r\n\t\tint returnVal = chooser.showOpenDialog(ReadImage.this);\r\n\t\tif (returnVal == JFileChooser.APPROVE_OPTION) {\r\n\t\t\tfile = chooser.getSelectedFile();\r\n\t\t\ttry {\r\n\t\t\t\tfinal BufferedImage bi = ImageIO.read(file);\r\n\t\t\t\tCanvas can = new Canvas() {\r\n\t\t\t\t\tpublic void paint(Graphics g) {\r\n\t\t\t\t\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\t\t\t\t\tg2d.drawImage(bi, 0, 0, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tthis.getContentPane().add(can);\r\n\t\t\t\tcan.setPreferredSize(new Dimension(bi.getWidth(), bi\r\n\t\t\t\t\t\t.getHeight()));\r\n\t\t\t\tthis.pack();\r\n\t\t\t\tthis.setVisible(true);\r\n\t\t\t} catch (IOException ie) {\r\n\t\t\t\tie.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n  &lt;/h6&gt;\r\n}\r\n\r\nclass OpenImage extends JFrame implements ActionListener {\r\n\tprivate JFileChooser chooser;\r\n\tprivate File file;\r\n\tprivate JFrame jf;\r\n\tCanvas can;\r\n\tJPanel pan;\r\n\tpublic JScrollPane sp;\r\n\tDimension imgSize, iniSize;\r\n\tprivate JButton butIn = new JButton(&quot;ZoomIN&quot;);\r\n\tprivate JButton butOut = new JButton(&quot;ZoomOUT&quot;);\r\n\tprivate JButton butReset = new JButton(&quot;Reset&quot;);\r\n\r\n\tpublic OpenImage() {\r\n\t\tchooser = new JFileChooser();\r\n\t\tchooser.setCurrentDirectory(new File(&quot;.&quot;));\r\n\t\tchooser.addChoosableFileFilter(new ImageFileFilter());\r\n\t\tint returnVal = chooser.showOpenDialog(null);\r\n\t\tif (returnVal == JFileChooser.APPROVE_OPTION) {\r\n\t\t\tfile = chooser.getSelectedFile();\r\n\t\t\tString filename = file.getName();\r\n\t\t\ttry {\r\n\t\t\t\tfinal BufferedImage bi = ImageIO.read(file);\r\n\t\t\t\timgSize = iniSize = new Dimension(bi.getWidth(), bi.getHeight());\r\n\t\t\t\tjf = new JFrame();\r\n\t\t\t\tthis.setResizable(false);\r\n\t\t\t\tthis.setTitle(filename);\r\n\t\t\t\tpan = new JPanel();\r\n\t\t\t\tpan.add(butIn);\r\n\t\t\t\tpan.add(butOut);\r\n\t\t\t\t// pan.add(butReset);\r\n\t\t\t\tbutIn.addActionListener(this);\r\n\t\t\t\tbutOut.addActionListener(this);\r\n\t\t\t\tbutReset.addActionListener(this);\r\n\r\n\t\t\t\tcan = new Canvas() {\r\n\t\t\t\t\tpublic void paint(Graphics g) {\r\n\t\t\t\t\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\t\t\t\t\tif (imgSize.width &lt;= iniSize.width)\r\n\t\t\t\t\t\t\timgSize = iniSize;\r\n\r\n\t\t\t\t\t\tg2d.drawImage(bi, (getWidth() - imgSize.width) / 2,\r\n\t\t\t\t\t\t\t\t(getHeight() - imgSize.height) / 2,\r\n\t\t\t\t\t\t\t\timgSize.width, imgSize.height, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tgetContentPane().setLayout(new BorderLayout());\r\n\t\t\t\tgetContentPane().add(BorderLayout.NORTH, pan);\r\n\t\t\t\tgetContentPane().add(BorderLayout.CENTER, can);\r\n\t\t\t\tcan.setPreferredSize(new Dimension(bi.getWidth(), bi\r\n\t\t\t\t\t\t.getHeight()));\r\n\t\t\t\t/*sp = new\r\n\t\t\t\tJScrollPane(can, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,\r\n\t\t\t\t\t\tJScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n\t\t\t\t//\r\n\t\t\t\tsp = new JScrollPane(can);*/\r\n\t\t\t\tsp=new JScrollPane();\r\n\r\n\t\t\t\tsp.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n\t\t\t\tsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\t\t\t\r\n\t\t\t\tsp.getViewport().add(can);\r\n\t\t\t\tsp.setVisible(true);\r\n\r\n\t\t\t\tgetContentPane().add(sp);\r\n\t\t\t\t\r\n\t\t\t\tthis.pack();\r\n\t\t\t\tthis.setVisible(true);\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif (e.getSource() == butIn) {\r\n\t\t\tSystem.out.println(&quot;now in zoomIn Action&quot;);\r\n\t\t\tzoomIN();\r\n\t\t}\r\n\t\tif (e.getSource() == butOut) {\r\n\t\t\tSystem.out.println(&quot;now in zoomOut Action&quot;);\r\n\t\t\tzoomOUT();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void zoomIN() {\r\n\t\tint x = 10 * imgSize.width / 100;\r\n\t\tint y = 10 * imgSize.height / 100;\r\n\t\timgSize = new Dimension(imgSize.width + x, imgSize.height + y);\r\n\t\tif (imgSize.width &gt;= iniSize.width) {\r\n\t\t\tcan.setSize(imgSize);\r\n\t\t}\r\n\t\tcan.repaint();\r\n\t\tcan.validate();\r\n\t}\r\n\r\n\tpublic void zoomOUT() {\r\n\t\tif (!(getWidth() &gt; imgSize.width)) {\r\n\t\t\tint x = 10 * imgSize.width / 100;\r\n\t\t\tint y = 10 * imgSize.height / 100;\r\n\r\n\t\t\timgSize = new Dimension(imgSize.width - x, imgSize.height - y);\r\n\t\t\tif (getWidth() &gt;= iniSize.width + 50) {\r\n\t\t\t\tcan.setSize(imgSize);\r\n\t\t\t}\r\n\t\t\tcan.repaint();\r\n\t\t\tcan.validate();\r\n\t\t} else {\r\n\t\t\trepaint();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n&lt;/pre&gt;","title":"problem in setting scrollpane for canvas","body":"<p>In the below program I want to zoomin and zoomout the image which is selected by the user.the problem is that when I zoomin or zoomout the image by clicking on zoomin zoomout button then scrollabars are not working. please help what is hte problem</p>\n\n<pre>\nimport java.awt.BorderLayout;\nimport java.awt.Canvas;\nimport java.awt.Container;\nimport java.awt.Cursor;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JButton;\nimport javax.swing.JFileChooser;\nimport javax.swing.JFrame;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\n\npublic class ImageProcess extends JFrame implements ActionListener {\n    private JMenuItem newimage;\n    private JMenuItem open;\n    private Image image;\n    private File file;\n    private JFrame jf;\n    private JPanel panel;\n    private Cursor zoomCursor;\n\n    public ImageProcess() {\n        super(\"Image Demo\");\n        this.setBounds(200, 200, 100, 100);\n        this.setSize(800, 800);\n        this.setResizable(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Container con = this.getContentPane();\n        this.setVisible(true);\n        JMenuBar menubar = new JMenuBar();\n        this.setJMenuBar(menubar);\n        JMenu file = new JMenu(\"File\");\n        newimage = new JMenuItem(\"New\");\n        open = new JMenuItem(\"Open\");\n        menubar.add(file);\n        file.add(newimage);\n        file.addSeparator();\n        file.add(open);\n        newimage.addActionListener(this);\n        open.addActionListener(this);\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == newimage) {\n            ReadImage ri = new ReadImage();\n\n        }\n        if (e.getSource() == open) {\n            OpenImage oi = new OpenImage();\n\n        }\n    }\n\n    public static void main(String args[]) {\n        ImageProcess imagepro = new ImageProcess();\n    }\n}\n\nclass ImageFileFilter extends javax.swing.filechooser.FileFilter {\n    public boolean accept(File file) {\n        if (file.isDirectory())\n            return false;\n        String name = file.getName().toLowerCase();\n        return (name.endsWith(\".jpg\") || name.endsWith(\".png\") || name\n                .endsWith(\".gif\"));\n    }\n\n    public String getDescription() {\n        return \"Images (*.gif,*.bmp, *.jpg, *.png )\";\n    }\n}\n\nclass ReadImage extends JFrame {\n    File file;\n    JFileChooser chooser;\n\n    public ReadImage() {\n        chooser = new JFileChooser();\n        chooser.setMultiSelectionEnabled(false);\n\n        chooser.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);\n        int returnVal = chooser.showOpenDialog(ReadImage.this);\n        if (returnVal == JFileChooser.APPROVE_OPTION) {\n            file = chooser.getSelectedFile();\n            try {\n                final BufferedImage bi = ImageIO.read(file);\n                Canvas can = new Canvas() {\n                    public void paint(Graphics g) {\n                        Graphics2D g2d = (Graphics2D) g;\n                        g2d.drawImage(bi, 0, 0, this);\n                    }\n                };\n                this.getContentPane().add(can);\n                can.setPreferredSize(new Dimension(bi.getWidth(), bi\n                        .getHeight()));\n                this.pack();\n                this.setVisible(true);\n            } catch (IOException ie) {\n                ie.printStackTrace();\n            }\n        }\n    }\n  \n}\n\nclass OpenImage extends JFrame implements ActionListener {\n    private JFileChooser chooser;\n    private File file;\n    private JFrame jf;\n    Canvas can;\n    JPanel pan;\n    public JScrollPane sp;\n    Dimension imgSize, iniSize;\n    private JButton butIn = new JButton(\"ZoomIN\");\n    private JButton butOut = new JButton(\"ZoomOUT\");\n    private JButton butReset = new JButton(\"Reset\");\n\n    public OpenImage() {\n        chooser = new JFileChooser();\n        chooser.setCurrentDirectory(new File(\".\"));\n        chooser.addChoosableFileFilter(new ImageFileFilter());\n        int returnVal = chooser.showOpenDialog(null);\n        if (returnVal == JFileChooser.APPROVE_OPTION) {\n            file = chooser.getSelectedFile();\n            String filename = file.getName();\n            try {\n                final BufferedImage bi = ImageIO.read(file);\n                imgSize = iniSize = new Dimension(bi.getWidth(), bi.getHeight());\n                jf = new JFrame();\n                this.setResizable(false);\n                this.setTitle(filename);\n                pan = new JPanel();\n                pan.add(butIn);\n                pan.add(butOut);\n                // pan.add(butReset);\n                butIn.addActionListener(this);\n                butOut.addActionListener(this);\n                butReset.addActionListener(this);\n\n                can = new Canvas() {\n                    public void paint(Graphics g) {\n                        Graphics2D g2d = (Graphics2D) g;\n                        if (imgSize.width = iniSize.width) {\n            can.setSize(imgSize);\n        }\n        can.repaint();\n        can.validate();\n    }\n\n    public void zoomOUT() {\n        if (!(getWidth() > imgSize.width)) {\n            int x = 10 * imgSize.width / 100;\n            int y = 10 * imgSize.height / 100;\n\n            imgSize = new Dimension(imgSize.width - x, imgSize.height - y);\n            if (getWidth() >= iniSize.width + 50) {\n                can.setSize(imgSize);\n            }\n            can.repaint();\n            can.validate();\n        } else {\n            repaint();\n        }\n    }\n\n}\n</pre>\n"},{"tags":["java","hibernate","thymeleaf"],"comments":[{"owner":{"account_id":5982719,"reputation":1091,"user_id":4701158,"accept_rate":50,"display_name":"John Kim"},"score":0,"creation_date":1632810570,"post_id":69353459,"comment_id":122586493,"body_markdown":"Where is your service and controller? You have to pass instances of your model via a REST controller class.","body":"Where is your service and controller? You have to pass instances of your model via a REST controller class."},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1632860921,"post_id":69353459,"comment_id":122607349,"body_markdown":"Yes, this isn&#39;t really related to Thymeleaf.  You are trying to access a property on a `null` variable, which throws that error.  You need to make sure your objects are correctly initialized.","body":"Yes, this isn&#39;t really related to Thymeleaf.  You are trying to access a property on a <code>null</code> variable, which throws that error.  You need to make sure your objects are correctly initialized."},{"owner":{"account_id":18399445,"reputation":29,"user_id":13402925,"display_name":"timmy tembo"},"score":0,"creation_date":1632873766,"post_id":69353459,"comment_id":122610162,"body_markdown":"how can i achieve this correctly?","body":"how can i achieve this correctly?"}],"answers":[{"tags":[],"owner":{"account_id":23306856,"reputation":11,"user_id":17386719,"display_name":"Tadegew Bogale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636637953,"creation_date":1636637639,"answer_id":69929190,"question_id":69353459,"body_markdown":"best practice to handle null pointer exception as follows\r\n\r\n```\r\nth:text=&quot;${users.location!=null}?${users.location.districtName}:&#39;&#39;&quot;\r\n```\r\nBut, the root cause of the problem is that the associated object value is null.","title":"Thymeleaf to access data of joined tables","body":"<p>best practice to handle null pointer exception as follows</p>\n<pre><code>th:text=&quot;${users.location!=null}?${users.location.districtName}:''&quot;\n</code></pre>\n<p>But, the root cause of the problem is that the associated object value is null.</p>\n"}],"owner":{"account_id":18399445,"reputation":29,"user_id":13402925,"display_name":"timmy tembo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636637953,"creation_date":1632778199,"question_id":69353459,"body_markdown":"I have three tables that have one to one relation the first table is the province entity, the district entity which has a one to relation with the province and the person&#39;s entity as each person resides in on district.\r\nI would like to access the district information in `thymleaf`.\r\n\r\n    @Entity\r\n    @Table (name = &quot;provinces&quot;)\r\n    public class Province {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int provinceId;\r\n        @Column(name=&quot;province_name&quot;,unique=true,length = 25, nullable = false)\r\n        private String provinceName;\r\n        //getters and setters\r\n    \r\n     }\r\n\r\n\r\n    @Entity\r\n    @Table (name = &quot;districts&quot;)\r\n    public class District {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n        @Column(unique=true,length = 25, nullable = false)\r\n        private String districtName;\r\n        @Column(unique=true, length = 10,nullable = false)\r\n        private String abbreviation;\r\n        \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name=&quot;province&quot;)\r\n        private Province location;\r\n    }\r\n    \r\n    @Entity\r\n    public class AppUser implements UserDetails {\r\n    \r\n    \r\n        @Id\r\n        @GeneratedValue (strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        private String firstName;\r\n        private String lastName;\r\n        private String email;\r\n        @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;location_id&quot;)\r\n        private District location;\r\n    //getters and setters \r\n    }\r\n\r\n\r\n\r\nservice controller:\r\n\r\n     @GetMapping(&quot;/all&quot;)\r\n    private String viewDistricts (Model model){\r\n        model.addAttribute(&quot;listUsers&quot;,appUserService.listUser());\r\n        return &quot;admin/users&quot;;\r\n    }\r\n\r\nservice:\r\n   \r\n\r\n     public List&lt;AppUser&gt; listUser(){\r\n            return appUserRepository.findAll();\r\n        }\r\n    thymeleaf: \r\n    \r\n        th:text=&quot;${users.location.districtName}&quot;\r\n\r\n&gt; org.springframework.expression.spel.SpelEvaluationException: EL1007E:\r\n&gt; Property or field &#39;districtName&#39; cannot be found on null\r\n\r\n\r\n","title":"Thymeleaf to access data of joined tables","body":"<p>I have three tables that have one to one relation the first table is the province entity, the district entity which has a one to relation with the province and the person's entity as each person resides in on district.\nI would like to access the district information in <code>thymleaf</code>.</p>\n<pre><code>@Entity\n@Table (name = &quot;provinces&quot;)\npublic class Province {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int provinceId;\n    @Column(name=&quot;province_name&quot;,unique=true,length = 25, nullable = false)\n    private String provinceName;\n    //getters and setters\n\n }\n\n\n@Entity\n@Table (name = &quot;districts&quot;)\npublic class District {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @Column(unique=true,length = 25, nullable = false)\n    private String districtName;\n    @Column(unique=true, length = 10,nullable = false)\n    private String abbreviation;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;province&quot;)\n    private Province location;\n}\n\n@Entity\npublic class AppUser implements UserDetails {\n\n\n    @Id\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String firstName;\n    private String lastName;\n    private String email;\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;location_id&quot;)\n    private District location;\n//getters and setters \n}\n</code></pre>\n<p>service controller:</p>\n<pre><code> @GetMapping(&quot;/all&quot;)\nprivate String viewDistricts (Model model){\n    model.addAttribute(&quot;listUsers&quot;,appUserService.listUser());\n    return &quot;admin/users&quot;;\n}\n</code></pre>\n<p>service:</p>\n<pre><code> public List&lt;AppUser&gt; listUser(){\n        return appUserRepository.findAll();\n    }\nthymeleaf: \n\n    th:text=&quot;${users.location.districtName}&quot;\n</code></pre>\n<blockquote>\n<p>org.springframework.expression.spel.SpelEvaluationException: EL1007E:\nProperty or field 'districtName' cannot be found on null</p>\n</blockquote>\n"},{"tags":["java","string","methods","split","output"],"comments":[{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":2,"creation_date":1636549453,"post_id":69913617,"comment_id":123585799,"body_markdown":"Can you reduce this down to the specific problem. Are you trying to turn `10x2021` into `2021-10` ? That could be done with a regular expression or a String.split","body":"Can you reduce this down to the specific problem. Are you trying to turn <code>10x2021</code> into <code>2021-10</code> ? That could be done with a regular expression or a String.split"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1636549999,"post_id":69913617,"comment_id":123586055,"body_markdown":"yes it is. I want to turn it and put a comma at the end.","body":"yes it is. I want to turn it and put a comma at the end."}],"answers":[{"tags":[],"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636549269,"creation_date":1636549269,"answer_id":69913735,"question_id":69913617,"body_markdown":"This should fix it for you:\r\n\r\n\r\n    List&lt;String&gt; reportingPeriods = historyItems.stream().map(hI -&gt; { \r\n    String[] splitted = hI.getReportingPeriod().split(&quot;x&quot;);\r\n    return splitted [1] + &quot;-&quot; + splitted [0]; }).collect(Collectors.toList());","title":"Replacing the places of the values using split and replace method","body":"<p>This should fix it for you:</p>\n<pre><code>List&lt;String&gt; reportingPeriods = historyItems.stream().map(hI -&gt; { \nString[] splitted = hI.getReportingPeriod().split(&quot;x&quot;);\nreturn splitted [1] + &quot;-&quot; + splitted [0]; }).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69913735,"answer_count":1,"score":-1,"last_activity_date":1636637730,"creation_date":1636548797,"question_id":69913617,"body_markdown":"This is my method, which return List of String value like this: `10x2021`\r\n\r\nAnd this is the value that I have sent to my method.\r\n\r\n     List&lt;HistoryItem&gt; historyItems = Arrays.asList\r\n                    (\r\n                            new HistoryItem(364, &quot;10x2021&quot;, Long.valueOf(&quot;009&quot;))\r\n    \r\n                    );\r\n\r\n\r\n\r\n    public static List&lt;String&gt; foo(List&lt;HistoryItem&gt; historyItems) {\r\n        List&lt;HistoryItem&gt; collect = historyItems.stream().filter(item -&gt; item.getCreditStatus().equals(Long.valueOf(&quot;009&quot;)) || item.getCreditStatus().equals(Long.valueOf(&quot;0010&quot;)))\r\n                .collect(Collectors.toList());\r\n        List&lt;String&gt; reportingPeriods = new ArrayList&lt;&gt;();\r\n        for (HistoryItem historyItem : historyItems) {\r\n            reportingPeriods.add(historyItem.getReportingPeriod());\r\n        }\r\n    \r\n        return reportingPeriods;\r\n    }\r\n\r\n\r\nWhat I want to do is I want the output to look like `2021-10 , 2021-9, not 10x2021` . I could not use the methods of the string, exactly as I wanted. How to solve this problem?","title":"Replacing the places of the values using split and replace method","body":"<p>This is my method, which return List of String value like this: <code>10x2021</code></p>\n<p>And this is the value that I have sent to my method.</p>\n<pre><code> List&lt;HistoryItem&gt; historyItems = Arrays.asList\n                (\n                        new HistoryItem(364, &quot;10x2021&quot;, Long.valueOf(&quot;009&quot;))\n\n                );\n\n\n\npublic static List&lt;String&gt; foo(List&lt;HistoryItem&gt; historyItems) {\n    List&lt;HistoryItem&gt; collect = historyItems.stream().filter(item -&gt; item.getCreditStatus().equals(Long.valueOf(&quot;009&quot;)) || item.getCreditStatus().equals(Long.valueOf(&quot;0010&quot;)))\n            .collect(Collectors.toList());\n    List&lt;String&gt; reportingPeriods = new ArrayList&lt;&gt;();\n    for (HistoryItem historyItem : historyItems) {\n        reportingPeriods.add(historyItem.getReportingPeriod());\n    }\n\n    return reportingPeriods;\n}\n</code></pre>\n<p>What I want to do is I want the output to look like <code>2021-10 , 2021-9, not 10x2021</code> . I could not use the methods of the string, exactly as I wanted. How to solve this problem?</p>\n"},{"tags":["java","logback","logback-classic"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626092496,"creation_date":1626092496,"answer_id":68347301,"question_id":68347145,"body_markdown":"No Custom Code:\r\n\r\nUse throwable converter in logstash-logback-encoder \r\n\r\nhttps://github.com/logstash/logstash-logback-encoder/tree/main/src/main/java/net/logstash/logback/stacktrace\r\n\r\nExample:\r\n\r\n    &lt;appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n            &lt;stackTrace&gt;\r\n                &lt;fieldName&gt;stacktrace&lt;/fieldName&gt;\r\n                &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\r\n                    &lt;pattern&gt;[%thread] - %msg%n%stack{1,1024,10,rootFirst}&lt;/pattern&gt;\r\n                &lt;/throwableConverter&gt;\r\n            &lt;/stackTrace&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n\r\nCustom Code:\r\n\r\nWrite your own Converter:  LongMessageConverter\r\n\r\n    &lt;conversionRule conversionWord=&quot;customConverter&quot; converterClass=&quot;com.package.util.logging.converters.CustomMessageConverter&quot;&gt;\r\n    \r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n      &lt;encoder&gt;\r\n        &lt;pattern&gt;%customConverter{25} [%thread] - %msg%n&lt;/pattern&gt;\r\n      &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n","title":"Is there a way to specify custom converter inside logback.xml without creating Java class?","body":"<p>No Custom Code:</p>\n<p>Use throwable converter in logstash-logback-encoder</p>\n<p><a href=\"https://github.com/logstash/logstash-logback-encoder/tree/main/src/main/java/net/logstash/logback/stacktrace\" rel=\"nofollow noreferrer\">https://github.com/logstash/logstash-logback-encoder/tree/main/src/main/java/net/logstash/logback/stacktrace</a></p>\n<p>Example:</p>\n<pre><code>&lt;appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n        &lt;stackTrace&gt;\n            &lt;fieldName&gt;stacktrace&lt;/fieldName&gt;\n            &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\n                &lt;pattern&gt;[%thread] - %msg%n%stack{1,1024,10,rootFirst}&lt;/pattern&gt;\n            &lt;/throwableConverter&gt;\n        &lt;/stackTrace&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>Custom Code:</p>\n<p>Write your own Converter:  LongMessageConverter</p>\n<pre><code>&lt;conversionRule conversionWord=&quot;customConverter&quot; converterClass=&quot;com.package.util.logging.converters.CustomMessageConverter&quot;&gt;\n\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n  &lt;encoder&gt;\n    &lt;pattern&gt;%customConverter{25} [%thread] - %msg%n&lt;/pattern&gt;\n  &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":22188897,"reputation":11,"user_id":16431405,"display_name":"danila_slynko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636637565,"creation_date":1626091712,"question_id":68347145,"body_markdown":"I need to replace standard logback stacktrace output with `org.apache.commons.lang.exception.ExceptionUtils#getStackTrace()` output. I read about converters, but I want to do the same without writing java class, just by editing logback.xml. Is there any way to do this?\r\n\r\nPiece of my logback.xml:\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;INFO&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d %-5level %logger{0} \\(%thread\\) %m%ex%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;","title":"Is there a way to specify custom converter inside logback.xml without creating Java class?","body":"<p>I need to replace standard logback stacktrace output with <code>org.apache.commons.lang.exception.ExceptionUtils#getStackTrace()</code> output. I read about converters, but I want to do the same without writing java class, just by editing logback.xml. Is there any way to do this?</p>\n<p>Piece of my logback.xml:</p>\n<pre><code>&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n        &lt;level&gt;INFO&lt;/level&gt;\n    &lt;/filter&gt;\n\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d %-5level %logger{0} \\(%thread\\) %m%ex%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n"},{"tags":["java","list","java-8"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1636633708,"post_id":69928305,"comment_id":123612409,"body_markdown":"The Javadoc is usually a good place to start looking if some functionality is already available. In your case, have a look at the [`List`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html) Javadoc - especially, check out [`addAll()`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#addAll-java.util.Collection-) which looks like it is what you need.","body":"The Javadoc is usually a good place to start looking if some functionality is already available. In your case, have a look at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a> Javadoc - especially, check out <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#addAll-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>addAll()</code></a> which looks like it is what you need."}],"answers":[{"tags":[],"owner":{"account_id":8248837,"reputation":52,"user_id":6204127,"display_name":"Oceansunfish"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636637490,"creation_date":1636633931,"answer_id":69928375,"question_id":69928305,"body_markdown":"[Edit: wrong use of static method Collections.addAll(...) removed]\r\n\r\n","title":"Copying list to another list and adding static value in java","body":"<p>[Edit: wrong use of static method Collections.addAll(...) removed]</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636634924,"creation_date":1636634450,"answer_id":69928469,"question_id":69928305,"body_markdown":"Something along the following lines should do it:\r\n```java\r\nList&lt;Integer&gt; abc = new ArrayList&lt;&gt;();\r\nList&lt;Integer&gt; cde = new ArrayList&lt;&gt;();\r\n\r\ncde.add(123); // Adds 123 to your list\r\ncde.addAll(abc); // Adds abc content at the end of list cde\r\n```\r\n\r\nYou would need to change `cde.add(123);` to `cde.add(0, 123);` if your `cde` list is not empty and you want to place `123` as its first element.","title":"Copying list to another list and adding static value in java","body":"<p>Something along the following lines should do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; abc = new ArrayList&lt;&gt;();\nList&lt;Integer&gt; cde = new ArrayList&lt;&gt;();\n\ncde.add(123); // Adds 123 to your list\ncde.addAll(abc); // Adds abc content at the end of list cde\n</code></pre>\n<p>You would need to change <code>cde.add(123);</code> to <code>cde.add(0, 123);</code> if your <code>cde</code> list is not empty and you want to place <code>123</code> as its first element.</p>\n"}],"owner":{"account_id":19930155,"reputation":1,"user_id":14603881,"display_name":"learn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1636827864,"answer_count":2,"score":-1,"last_activity_date":1636637490,"creation_date":1636633571,"question_id":69928305,"body_markdown":"I have list &#39;abc&#39;contains elements. I want to have a new list &#39;cde&#39; in which first element is &#39;123&#39; and then has to add all elements of abc .How to achieve this.I am beginner to coding\r\n\r\n     private List&lt;object&gt; abc;\r\n    \r\n     private List&lt;object&gt; cde;\r\n    \r\n    cde={123 ,//elements of abc list}","title":"Copying list to another list and adding static value in java","body":"<p>I have list 'abc'contains elements. I want to have a new list 'cde' in which first element is '123' and then has to add all elements of abc .How to achieve this.I am beginner to coding</p>\n<pre><code> private List&lt;object&gt; abc;\n\n private List&lt;object&gt; cde;\n\ncde={123 ,//elements of abc list}\n</code></pre>\n"},{"tags":["java","if-statement","operation","ternary"],"comments":[{"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"score":2,"creation_date":1634501635,"post_id":69608196,"comment_id":123035700,"body_markdown":"The code doesn&#39;t appear to make much sense. Why do you have to check the phone again when you asked the `userDetailRepository` to give you a user with that phone already? Why would that condition `!userDetail.getPhoneNumber().equals(phoneNumber)` ever be true?","body":"The code doesn&#39;t appear to make much sense. Why do you have to check the phone again when you asked the <code>userDetailRepository</code> to give you a user with that phone already? Why would that condition <code>!userDetail.getPhoneNumber().equals(phoneNumber)</code> ever be true?"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1634501775,"post_id":69608196,"comment_id":123035733,"body_markdown":"Firstly Checking if such a number exists in the database is the best choice for me.","body":"Firstly Checking if such a number exists in the database is the best choice for me."},{"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"score":1,"creation_date":1634501820,"post_id":69608196,"comment_id":123035744,"body_markdown":"What I mean is that if `userDetail` is non-null then it should mean the phone matched, so you shouldn&#39;t have to check it again...","body":"What I mean is that if <code>userDetail</code> is non-null then it should mean the phone matched, so you shouldn&#39;t have to check it again..."},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1634501896,"post_id":69608196,"comment_id":123035761,"body_markdown":"I understand what you mean, I will make changes, but now I&#39;m wondering if I can do this using a ternary operation.","body":"I understand what you mean, I will make changes, but now I&#39;m wondering if I can do this using a ternary operation."}],"answers":[{"tags":[],"owner":{"account_id":15275628,"reputation":416,"user_id":11021437,"display_name":"Divanshu Aggarwal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1634502440,"creation_date":1634502097,"answer_id":69608278,"question_id":69608196,"body_markdown":"    UserDetailResponse userDetailResponse = userDetail!=null &amp;&amp; !userDetail.getPhoneNumber().equals(phoneNumber)  ? new UserDetailResponse(MessageCase.COULDNT_FOUNDED_USER_DETAILS_SUCH_PHONE_NUMBER.getMessage(), 400) : new UserDetailResponse(MessageCase.USER_DETAL_SUCESSFULLY_FOUNDED.getMessage(), 200);\r\n    responseEntity = new ResponseEntity&lt;&gt;(UserDetailResponse,UserDetailResponse.getStatus());\r\n    return responseEntity;\r\n\r\n\r\nImplement getStatus in UserDetailResponse to fetch status code.","title":"using ternary operation instead of if statement","body":"<pre><code>UserDetailResponse userDetailResponse = userDetail!=null &amp;&amp; !userDetail.getPhoneNumber().equals(phoneNumber)  ? new UserDetailResponse(MessageCase.COULDNT_FOUNDED_USER_DETAILS_SUCH_PHONE_NUMBER.getMessage(), 400) : new UserDetailResponse(MessageCase.USER_DETAL_SUCESSFULLY_FOUNDED.getMessage(), 200);\nresponseEntity = new ResponseEntity&lt;&gt;(UserDetailResponse,UserDetailResponse.getStatus());\nreturn responseEntity;\n</code></pre>\n<p>Implement getStatus in UserDetailResponse to fetch status code.</p>\n"}],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69608278,"answer_count":1,"score":-2,"last_activity_date":1636637400,"creation_date":1634501372,"question_id":69608196,"body_markdown":"I want to do this code you have seen using ternary operation instead of if conditional blocks. Generally, is the use of the ternary operator always a good choice? In some places they say it is more readable and more flexible code to use the ternary operator instead of constantly using if conditional blocks.\r\n\r\n         @Override\r\n    public ResponseEntity&lt;? extends UserDetailResponse&gt; getByPhoneNumberUserDetail(String phoneNumber) {\r\n        UserDetail userDetail = userDetailRepository.findByPhoneNumber(phoneNumber);\r\n        if (!userDetail.getPhoneNumber().equals(phoneNumber)) {\r\n            return new ResponseEntity&lt;&gt;(new UserDetailResponse(MessageCase.COULDNT_FOUNDED_USER_DETAILS_SUCH_PHONE_NUMBER.getMessage(), 400), HttpStatus.BAD_REQUEST);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(new UserDetailResponse(MessageCase.USER_DETAL_SUCESSFULLY_FOUNDED.getMessage(), 200), HttpStatus.OK);\r\n    }","title":"using ternary operation instead of if statement","body":"<p>I want to do this code you have seen using ternary operation instead of if conditional blocks. Generally, is the use of the ternary operator always a good choice? In some places they say it is more readable and more flexible code to use the ternary operator instead of constantly using if conditional blocks.</p>\n<pre><code>     @Override\npublic ResponseEntity&lt;? extends UserDetailResponse&gt; getByPhoneNumberUserDetail(String phoneNumber) {\n    UserDetail userDetail = userDetailRepository.findByPhoneNumber(phoneNumber);\n    if (!userDetail.getPhoneNumber().equals(phoneNumber)) {\n        return new ResponseEntity&lt;&gt;(new UserDetailResponse(MessageCase.COULDNT_FOUNDED_USER_DETAILS_SUCH_PHONE_NUMBER.getMessage(), 400), HttpStatus.BAD_REQUEST);\n    }\n    return new ResponseEntity&lt;&gt;(new UserDetailResponse(MessageCase.USER_DETAL_SUCESSFULLY_FOUNDED.getMessage(), 200), HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636637225,"post_id":69927809,"comment_id":123613861,"body_markdown":"What is the specific use case you&#39;re trying to solve? What&#39;s stopping you from serializing that object into a string (for example, json)?","body":"What is the specific use case you&#39;re trying to solve? What&#39;s stopping you from serializing that object into a string (for example, json)?"},{"owner":{"account_id":6201955,"reputation":316,"user_id":4831400,"display_name":"alrevuelta"},"score":1,"creation_date":1636655111,"post_id":69927809,"comment_id":123621490,"body_markdown":"Actually I could just serialise it into a string, but was trying to use the object so then I don&#39;t have to parse the json back. But just found that &quot;Offsets are always defined as Maps of Strings to primitive types, i.e. all types supported by Schema other than Array, Map, and Struct.&quot;","body":"Actually I could just serialise it into a string, but was trying to use the object so then I don&#39;t have to parse the json back. But just found that &quot;Offsets are always defined as Maps of Strings to primitive types, i.e. all types supported by Schema other than Array, Map, and Struct.&quot;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1636655430,"post_id":69927809,"comment_id":123621602,"body_markdown":"Only requires two lines of Jackson ObjectMapper to serialize and deserialize JSON","body":"Only requires two lines of Jackson ObjectMapper to serialize and deserialize JSON"}],"owner":{"account_id":6201955,"reputation":316,"user_id":4831400,"display_name":"alrevuelta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636637163,"creation_date":1636631421,"question_id":69927809,"body_markdown":"Kafka&#39;s `SourceRecord` accepts a `sourceOffset`, which is a map between a `String` and an `Object`. This offset can be fetched  with `context.offsetStorageReader().offset(getPartition())`.\r\n\r\n```java\r\nSourceRecord(java.util.Map&lt;java.lang.String,?&gt; sourcePartition, java.util.Map&lt;java.lang.String,?&gt; sourceOffset, java.lang.String topic, java.lang.Integer partition, Schema valueSchema, java.lang.Object value)\r\n```\r\n\r\nEverything works fine if I set the `sourceOffset` to for example a string or a float:\r\n\r\n```\r\nSourceRecord(..., Map.of(&quot;key&quot;, &quot;value&quot;), ...);\r\n```\r\n\r\nHowever, if the value is a custom Object (not a string or float), when fetching the offset I always get `null`. I suspect that&#39;s because my object is not serializable, but not sure if i) I&#39;m right with this assumption and ii) how to make it serializable for kafka.\r\n\r\nAny idea?","title":"Using an arbitrary object for the souceOffset in SourceRecord (Kafka)","body":"<p>Kafka's <code>SourceRecord</code> accepts a <code>sourceOffset</code>, which is a map between a <code>String</code> and an <code>Object</code>. This offset can be fetched  with <code>context.offsetStorageReader().offset(getPartition())</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SourceRecord(java.util.Map&lt;java.lang.String,?&gt; sourcePartition, java.util.Map&lt;java.lang.String,?&gt; sourceOffset, java.lang.String topic, java.lang.Integer partition, Schema valueSchema, java.lang.Object value)\n</code></pre>\n<p>Everything works fine if I set the <code>sourceOffset</code> to for example a string or a float:</p>\n<pre><code>SourceRecord(..., Map.of(&quot;key&quot;, &quot;value&quot;), ...);\n</code></pre>\n<p>However, if the value is a custom Object (not a string or float), when fetching the offset I always get <code>null</code>. I suspect that's because my object is not serializable, but not sure if i) I'm right with this assumption and ii) how to make it serializable for kafka.</p>\n<p>Any idea?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1636623596,"post_id":69920845,"comment_id":123608559,"body_markdown":"Yes. Just remove the `.findFirst() .map(Stream::of) .orElseGet(Stream::empty)`.","body":"Yes. Just remove the <code>.findFirst() .map(Stream::of) .orElseGet(Stream::empty)</code>."}],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636583437,"creation_date":1636583437,"answer_id":69920987,"question_id":69920845,"body_markdown":"If it&#39;s not important which exact `argument` you return as long as at least one `condition` is contained in it, then you can get it a bit shorter by streaming over `arguments` before `conditions`. Like this:\r\n\r\n    return arguments.stream()\r\n        .filter(argument -&gt; conditions.stream()\r\n            .anyMatch(condition -&gt; argument.contains(condition)))\r\n        .findFirst()\r\n        .orElse(&quot;&quot;);","title":"How to rewrite it to functional style?","body":"<p>If it's not important which exact <code>argument</code> you return as long as at least one <code>condition</code> is contained in it, then you can get it a bit shorter by streaming over <code>arguments</code> before <code>conditions</code>. Like this:</p>\n<pre><code>return arguments.stream()\n    .filter(argument -&gt; conditions.stream()\n        .anyMatch(condition -&gt; argument.contains(condition)))\n    .findFirst()\n    .orElse(&quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636637116,"creation_date":1636584025,"answer_id":69921067,"question_id":69920845,"body_markdown":"**UPDATE**\r\n\r\nAs noticed by @Holger in the comments, a simpler and Java 8 compatible approach:\r\n\r\n    conditions.stream()\r\n            .flatMap(condition -&gt; arguments.stream()\r\n                    .filter(argument -&gt; argument.contains(condition)))\r\n            .findFirst().orElse(&quot;&quot;);\r\n---\r\n\r\n*Java 8:*\r\n\r\n    conditions.stream()\r\n            .map(condition -&gt; arguments.stream()\r\n                    .filter(argument -&gt; argument.contains(condition))\r\n                    .findFirst())\r\n            .filter(Optional::isPresent)\r\n            .findFirst().map(Optional::get).orElse(&quot;&quot;);\r\n\r\n*Java 9+:*\r\n\r\nYou can use `Optional.stream()`:\r\n\r\n    conditions.stream()\r\n            .flatMap(condition -&gt; arguments.stream()\r\n                    .filter(argument -&gt; argument.contains(condition))\r\n                    .findFirst().stream())\r\n            .findFirst().orElse(&quot;&quot;);\r\n","title":"How to rewrite it to functional style?","body":"<p><strong>UPDATE</strong></p>\n<p>As noticed by @Holger in the comments, a simpler and Java 8 compatible approach:</p>\n<pre><code>conditions.stream()\n        .flatMap(condition -&gt; arguments.stream()\n                .filter(argument -&gt; argument.contains(condition)))\n        .findFirst().orElse(&quot;&quot;);\n</code></pre>\n<hr />\n<p><em>Java 8:</em></p>\n<pre><code>conditions.stream()\n        .map(condition -&gt; arguments.stream()\n                .filter(argument -&gt; argument.contains(condition))\n                .findFirst())\n        .filter(Optional::isPresent)\n        .findFirst().map(Optional::get).orElse(&quot;&quot;);\n</code></pre>\n<p><em>Java 9+:</em></p>\n<p>You can use <code>Optional.stream()</code>:</p>\n<pre><code>conditions.stream()\n        .flatMap(condition -&gt; arguments.stream()\n                .filter(argument -&gt; argument.contains(condition))\n                .findFirst().stream())\n        .findFirst().orElse(&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":13095640,"reputation":264,"user_id":9461648,"display_name":"kokodyn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69921067,"answer_count":2,"score":1,"last_activity_date":1636637116,"creation_date":1636582485,"question_id":69920845,"body_markdown":"I would like to move some method into java8 functional style.\r\n\r\n    public static String foo(List&lt;String&gt; arguments, List&lt;String&gt; conditions) {\r\n        for (String s : conditions) {\r\n            for (String argument : arguments) {\r\n                if (argument.contains(s)) {\r\n                    return argument;\r\n                }\r\n            }\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\nMy current idea is:\r\n\r\n    public static String fooFunctional(List&lt;String&gt; arguments, List&lt;String&gt; conditions) {\r\n        return conditions.stream()\r\n                .flatMap(condition -&gt; arguments.stream()\r\n                        .filter(argument -&gt; argument.contains(condition))\r\n                        .findFirst()\r\n                        .map(Stream::of)\r\n                        .orElseGet(Stream::empty))\r\n                .findFirst()\r\n                .orElse(&quot;&quot;);\r\n    }\r\nIs there any shorter version then proposed above?\r\n","title":"How to rewrite it to functional style?","body":"<p>I would like to move some method into java8 functional style.</p>\n<pre><code>public static String foo(List&lt;String&gt; arguments, List&lt;String&gt; conditions) {\n    for (String s : conditions) {\n        for (String argument : arguments) {\n            if (argument.contains(s)) {\n                return argument;\n            }\n        }\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>My current idea is:</p>\n<pre><code>public static String fooFunctional(List&lt;String&gt; arguments, List&lt;String&gt; conditions) {\n    return conditions.stream()\n            .flatMap(condition -&gt; arguments.stream()\n                    .filter(argument -&gt; argument.contains(condition))\n                    .findFirst()\n                    .map(Stream::of)\n                    .orElseGet(Stream::empty))\n            .findFirst()\n            .orElse(&quot;&quot;);\n}\n</code></pre>\n<p>Is there any shorter version then proposed above?</p>\n"},{"tags":["java","swagger-codegen"],"answers":[{"tags":[],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636637109,"creation_date":1636635903,"answer_id":69928777,"question_id":69767128,"body_markdown":"Done by\r\n\r\n`java -jar swagger-codegen-cli-3.0.27.jar generate --import-mappings InputStreamResource=org.springframework.core.io.InputStreamResource,JsonNode=com.fasterxml.jackson.databind.JsonNode,InputStream=java.io.InputStream -DhideGenerationTimestamp=true -i &quot;http://$CONTAINER_IP:8080/app_name/rest/v3/api-docs&quot; -l java --library resttemplate -o app_name-api-client`\r\n\r\nor through \r\n\r\n`.swagger-codegen-ignore` file by add `/src/main/java/app_name/client/InputStreamResource`","title":"How to disable swagger-codegen java.io.InputStream convertation","body":"<p>Done by</p>\n<p><code>java -jar swagger-codegen-cli-3.0.27.jar generate --import-mappings InputStreamResource=org.springframework.core.io.InputStreamResource,JsonNode=com.fasterxml.jackson.databind.JsonNode,InputStream=java.io.InputStream -DhideGenerationTimestamp=true -i &quot;http://$CONTAINER_IP:8080/app_name/rest/v3/api-docs&quot; -l java --library resttemplate -o app_name-api-client</code></p>\n<p>or through</p>\n<p><code>.swagger-codegen-ignore</code> file by add <code>/src/main/java/app_name/client/InputStreamResource</code></p>\n"}],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69928777,"answer_count":1,"score":0,"last_activity_date":1636637109,"creation_date":1635502130,"question_id":69767128,"body_markdown":"I got rests that return:\r\n\r\n`java.io.InputStream`,\r\n\r\n`com.fasterxml.jackson.databind.JsonNode`,\r\n\r\n`org.springframework.core.io.InputStreamRecource` \r\n\r\nBut\r\n\r\nIn result `swagger-codegen` generated api, i got rests, that return:\r\n\r\n`productName.client.model.InputStream`,\r\n\r\n`ErrorModelNamenamespacecomFasterxmlJacksonDatabindNameJsonNode`,\r\n\r\n`productName.client.model.InputStreamResource`\r\n\r\nI cant ignore them by `.swagger-codegen-ignore`\r\n\r\nAnd i think that replacing `java.io.InputStream` by `byte[]` is not good (how it described [here](https://stackoverflow.com/questions/49211304/how-to-handle-org-springframework-core-io-resource-for-swagger-codegen)). Cause stream has some pluses, such as exclusion of memory leaks.\r\n\r\nWhat interesting, Swagger understand, that classes from `springframework.http` must not be converted. I got them all as original in generated api.\r\n\r\nIs it possiple to save `java.io.InputStream` and `org.springframework.core.io.InputStreamRecource`?","title":"How to disable swagger-codegen java.io.InputStream convertation","body":"<p>I got rests that return:</p>\n<p><code>java.io.InputStream</code>,</p>\n<p><code>com.fasterxml.jackson.databind.JsonNode</code>,</p>\n<p><code>org.springframework.core.io.InputStreamRecource</code></p>\n<p>But</p>\n<p>In result <code>swagger-codegen</code> generated api, i got rests, that return:</p>\n<p><code>productName.client.model.InputStream</code>,</p>\n<p><code>ErrorModelNamenamespacecomFasterxmlJacksonDatabindNameJsonNode</code>,</p>\n<p><code>productName.client.model.InputStreamResource</code></p>\n<p>I cant ignore them by <code>.swagger-codegen-ignore</code></p>\n<p>And i think that replacing <code>java.io.InputStream</code> by <code>byte[]</code> is not good (how it described <a href=\"https://stackoverflow.com/questions/49211304/how-to-handle-org-springframework-core-io-resource-for-swagger-codegen\">here</a>). Cause stream has some pluses, such as exclusion of memory leaks.</p>\n<p>What interesting, Swagger understand, that classes from <code>springframework.http</code> must not be converted. I got them all as original in generated api.</p>\n<p>Is it possiple to save <code>java.io.InputStream</code> and <code>org.springframework.core.io.InputStreamRecource</code>?</p>\n"},{"tags":["java","mongodb","morphia","odm"],"answers":[{"tags":[],"owner":{"account_id":1414206,"reputation":6122,"user_id":1340183,"display_name":"evanchooly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636637100,"creation_date":1636637100,"answer_id":69929052,"question_id":69925848,"body_markdown":"You&#39;d write something like: `datastore.find(type).filter(eq(&quot;_id&quot;, id.toUUID())).first()`.  You can also just refer to the name of the java field and Morphia will map that correctly.\r\n\r\nWhat version are you updating from?  That API looks crazy old to me.","title":"Migrate to Mongo Morphia 2","body":"<p>You'd write something like: <code>datastore.find(type).filter(eq(&quot;_id&quot;, id.toUUID())).first()</code>.  You can also just refer to the name of the java field and Morphia will map that correctly.</p>\n<p>What version are you updating from?  That API looks crazy old to me.</p>\n"}],"owner":{"account_id":17517509,"reputation":433,"user_id":12704253,"display_name":"nicholas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69929052,"answer_count":1,"score":0,"last_activity_date":1636637100,"creation_date":1636622407,"question_id":69925848,"body_markdown":"I&#39;m trying to migrate to Mongo Morphia 2. Documentation is very poor. \r\nHow should I rewrite the following function\r\n\r\n    \t\r\n    return datastore.get(type, id.toUUID());\r\n\r\nI&#39;ve tried this\r\n\r\n    return datastore.find(type).field(&quot;_id_&quot;).equal(id.toUUID()).first();\r\n\r\nI&#39;m not sure how get(T, String) is mapped. I cannot find documentation on that function.\r\nI explored the data on MongoDB, I saw that all indexes have an &quot;_id_&quot; field.","title":"Migrate to Mongo Morphia 2","body":"<p>I'm trying to migrate to Mongo Morphia 2. Documentation is very poor.\nHow should I rewrite the following function</p>\n<pre><code>return datastore.get(type, id.toUUID());\n</code></pre>\n<p>I've tried this</p>\n<pre><code>return datastore.find(type).field(&quot;_id_&quot;).equal(id.toUUID()).first();\n</code></pre>\n<p>I'm not sure how get(T, String) is mapped. I cannot find documentation on that function.\nI explored the data on MongoDB, I saw that all indexes have an &quot;<em>id</em>&quot; field.</p>\n"},{"tags":["java","validation","design-patterns","exception"],"comments":[{"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"score":0,"creation_date":1399967633,"post_id":23625440,"comment_id":36274667,"body_markdown":"there are two directions where this question may be going: (a) how to build arrange the code that implements the check; (b) how to arrange the code that aggregates the failures reported by these checks. Which direction is your question about?","body":"there are two directions where this question may be going: (a) how to build arrange the code that implements the check; (b) how to arrange the code that aggregates the failures reported by these checks. Which direction is your question about?"},{"owner":{"account_id":1242916,"reputation":437,"user_id":1205066,"accept_rate":100,"display_name":"Sergey"},"score":0,"creation_date":1399967850,"post_id":23625440,"comment_id":36274776,"body_markdown":"Both are equally important to me now. I suspect, that (b) influences the choice for (a) in some degree. Let us start with (b).","body":"Both are equally important to me now. I suspect, that (b) influences the choice for (a) in some degree. Let us start with (b)."},{"owner":{"account_id":2712204,"reputation":1123,"user_id":2340399,"display_name":"maczikasz"},"score":0,"creation_date":1399967999,"post_id":23625440,"comment_id":36274864,"body_markdown":"take a look at this you might find it interesting: http://stackoverflow.com/questions/18314609/which-design-pattern-to-use-for-validation","body":"take a look at this you might find it interesting: <a href=\"http://stackoverflow.com/questions/18314609/which-design-pattern-to-use-for-validation\" title=\"which design pattern to use for validation\">stackoverflow.com/questions/18314609/&hellip;</a>"},{"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"score":0,"creation_date":1399969146,"post_id":23625440,"comment_id":36275513,"body_markdown":"You&#39;re right they are related to some extent. My answer (below) focuses mainly on collecting the results from a hierarchy of checks.","body":"You&#39;re right they are related to some extent. My answer (below) focuses mainly on collecting the results from a hierarchy of checks."},{"owner":{"account_id":557322,"reputation":8250,"user_id":919710,"accept_rate":80,"display_name":"Alexandre Santos"},"score":1,"creation_date":1399970606,"post_id":23625440,"comment_id":36276367,"body_markdown":"This might help clarify why you should not use exceptions to control flow: http://stackoverflow.com/questions/729379/why-not-use-exceptions-as-regular-flow-of-control","body":"This might help clarify why you should not use exceptions to control flow: <a href=\"http://stackoverflow.com/questions/729379/why-not-use-exceptions-as-regular-flow-of-control\" title=\"why not use exceptions as regular flow of control\">stackoverflow.com/questions/729379/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":545654,"reputation":7998,"user_id":1360984,"accept_rate":60,"display_name":"Harmlezz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636636754,"creation_date":1399967795,"answer_id":23625681,"question_id":23625440,"body_markdown":"I don&#39;t think there is a *best practice*, because it depends on what you try to achieve. In my opinion, exceptions and their messages should not be used to be displayed directly to the user. Exceptions are way too technical and do depend heavily on the context where they get thrown.\r\n\r\nHence, my approach would be to design a container type which collects all the exceptions thrown by your validations. Those exceptions should preserve as much of the context as possible (not in form of an exception message, but in form of fields passed into the constructor). Provide getter methods to make those fields (properties) accessible. When rendering the view, you may iterate over all entries of your container and generate a proper, human readable, *i18n* message.\r\n\r\nHere is some pseudo-code as requested by the comment of @AlexandreSantos. It is not polished nor proven, just my first draft. So do not expect excellent design. It&#39;s just an example how it could be implemented / designed:\r\n\r\n    public static void main(String[] args) {\r\n        Violations violations = new Violations();\r\n        Integer age = AgeValidator.parse(&quot;0042&quot;, &quot;age&quot;, violations);\r\n        URL url = UrlValidator.parse(&quot;http://some.website.com&quot;, &quot;url&quot;, violations);\r\n    }\r\n\r\n    // Validator defining all the rules for a valid age value\r\n    public class AgeValidator {\r\n    \r\n        // Collection of validation rules for age values\r\n        private static final Collection&lt;Validator&lt;String&gt;&gt; VALIDATORS = ...;\r\n\r\n        // Pass in the value to validate, the name of the field\r\n        // defining the value and the container to collect all\r\n        // violations (could be a Map&lt;String, ValidationException&gt;)\r\n        //\r\n        // a return value of null indicates at least one rule violation\r\n        public static Integer parse(String value, String name, Violations violations) {\r\n            try {\r\n                for (Validator&lt;String&gt; validator : VALIDATORS) validator.validate(value);\r\n            } catch (ValidationException e) {\r\n                violations.add(name, e);\r\n            }\r\n            return violations.existFor(name) ? null : Integer.parseInt(value);\r\n        }\r\n    }","title":"Design pattern for cumulative validation violations","body":"<p>I don't think there is a <em>best practice</em>, because it depends on what you try to achieve. In my opinion, exceptions and their messages should not be used to be displayed directly to the user. Exceptions are way too technical and do depend heavily on the context where they get thrown.</p>\n<p>Hence, my approach would be to design a container type which collects all the exceptions thrown by your validations. Those exceptions should preserve as much of the context as possible (not in form of an exception message, but in form of fields passed into the constructor). Provide getter methods to make those fields (properties) accessible. When rendering the view, you may iterate over all entries of your container and generate a proper, human readable, <em>i18n</em> message.</p>\n<p>Here is some pseudo-code as requested by the comment of @AlexandreSantos. It is not polished nor proven, just my first draft. So do not expect excellent design. It's just an example how it could be implemented / designed:</p>\n<pre><code>public static void main(String[] args) {\n    Violations violations = new Violations();\n    Integer age = AgeValidator.parse(&quot;0042&quot;, &quot;age&quot;, violations);\n    URL url = UrlValidator.parse(&quot;http://some.website.com&quot;, &quot;url&quot;, violations);\n}\n\n// Validator defining all the rules for a valid age value\npublic class AgeValidator {\n\n    // Collection of validation rules for age values\n    private static final Collection&lt;Validator&lt;String&gt;&gt; VALIDATORS = ...;\n\n    // Pass in the value to validate, the name of the field\n    // defining the value and the container to collect all\n    // violations (could be a Map&lt;String, ValidationException&gt;)\n    //\n    // a return value of null indicates at least one rule violation\n    public static Integer parse(String value, String name, Violations violations) {\n        try {\n            for (Validator&lt;String&gt; validator : VALIDATORS) validator.validate(value);\n        } catch (ValidationException e) {\n            violations.add(name, e);\n        }\n        return violations.existFor(name) ? null : Integer.parseInt(value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":557322,"reputation":8250,"user_id":919710,"accept_rate":80,"display_name":"Alexandre Santos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399968202,"creation_date":1399968202,"answer_id":23625804,"question_id":23625440,"body_markdown":"Designing it using exceptions will work, but you will have to write a whole framework to deal with exceptions, many of which can&#39;t be handled by your exception interceptor. If you feel the coding itch, then go for it. My advice would be to have different classes of exceptions. Some of them would be critical exceptions, some would be just warnings... you got the picture.\r\n\r\nYou could (I hope you do) use a proven framework that can handle that beautifully. I speak of JSR 303 and Bean Validation through Spring: http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/validation.html\r\n\r\nIt takes a while to get used to, but it will pay you back 1000 fold.\r\n","title":"Design pattern for cumulative validation violations","body":"<p>Designing it using exceptions will work, but you will have to write a whole framework to deal with exceptions, many of which can't be handled by your exception interceptor. If you feel the coding itch, then go for it. My advice would be to have different classes of exceptions. Some of them would be critical exceptions, some would be just warnings... you got the picture.</p>\n\n<p>You could (I hope you do) use a proven framework that can handle that beautifully. I speak of JSR 303 and Bean Validation through Spring: <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/validation.html\" rel=\"nofollow\">http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/validation.html</a></p>\n\n<p>It takes a while to get used to, but it will pay you back 1000 fold.</p>\n"},{"tags":[],"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399968246,"creation_date":1399968246,"answer_id":23625821,"question_id":23625440,"body_markdown":"I would simply pass around a list of all the errors. The items in the list may not be just exceptions, but rather some objects wrapping more information about the errors, such as name of wrong parameter, its wrong value, position of the error in the string, type of validation (formal, ligical), ID of the error message for localized display to user... Each method on the processing path may append to the list.","title":"Design pattern for cumulative validation violations","body":"<p>I would simply pass around a list of all the errors. The items in the list may not be just exceptions, but rather some objects wrapping more information about the errors, such as name of wrong parameter, its wrong value, position of the error in the string, type of validation (formal, ligical), ID of the error message for localized display to user... Each method on the processing path may append to the list.</p>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1399968815,"creation_date":1399968470,"answer_id":23625868,"question_id":23625440,"body_markdown":"You can do the following:\r\n\r\ndefine an abstract Check class, as follows:\r\n\r\n    public abstract class Check {\r\n      private final List&lt;Check&gt; subChecks = new ArrayList&lt;Check&gt;();\r\n\r\n      public Check add(Check subCheck) { subChecks.add(subCheck); return this }\r\n\r\n      public void run(Data dataToInspect, List&lt;Error&gt; errors) {\r\n        Error e = check(dataToInspect);\r\n        if (e != null) {\r\n           errors.add(e);\r\n           return;\r\n        }\r\n        for (Check subCheck : subChecks) {\r\n          subCheck.run(dataToInspect, errors);\r\n        }\r\n      }\r\n\r\n      // Returns null if dataToInspect is OK.\r\n      public abstract Error check(Data dataToInspect);\r\n    }\r\n\r\n\r\nclass `Data` is the class holding the data (that needs to be checked). Can be a String, a JSON object, what have you.\r\n\r\nclass `Error` represents a problem detected in the data should be roughly something like:\r\n\r\n    public class Error {\r\n      private String problem;\r\n      public Error(String problem) { this.problem = problem }\r\n      public String getProblem() { return problem }\r\n      // maybe additional fields and method to better describe the detected problem...\r\n    }\r\n\r\n\r\nYou then have code that runs the check against piece of data:\r\n\r\n\r\n    public class Checker {\r\n\r\n       private final List&lt;Error&gt; errors = new ArrayList&lt;Error&gt;();\r\n       private final List&lt;Check&gt; checks = new ArrayList&lt;Check&gt;();\r\n\r\n       public Checker() {\r\n         checks.add(new DateIsParsableCheck().add(new DateIsInTheFurutreCheck());\r\n         checks.add(new UrlIsWellFormed().add(new UrlIsAccessible());\r\n\r\n         checks.add();\r\n         ..\r\n       }\r\n\r\n       public void check(Data d) {\r\n         for (Check c : checks) {\r\n           Error e = c.run(d, errors);\r\n           if (e != null) \r\n             errors.add(e);\r\n         }\r\n       }\r\n    }\r\n\r\nSlightly changed my original answer. In the current answer there is the notion of subchecks:  if a check called `x` has a subcheck called `y` then the `y` check will run only if the `x` check succeeded. For instance, if the Date is not parseable there is no point to check it it is in the future. \r\n\r\nIn your case I think that all/most logical check should be sub-checks of a formal check.\r\n\r\n","title":"Design pattern for cumulative validation violations","body":"<p>You can do the following:</p>\n\n<p>define an abstract Check class, as follows:</p>\n\n<pre><code>public abstract class Check {\n  private final List&lt;Check&gt; subChecks = new ArrayList&lt;Check&gt;();\n\n  public Check add(Check subCheck) { subChecks.add(subCheck); return this }\n\n  public void run(Data dataToInspect, List&lt;Error&gt; errors) {\n    Error e = check(dataToInspect);\n    if (e != null) {\n       errors.add(e);\n       return;\n    }\n    for (Check subCheck : subChecks) {\n      subCheck.run(dataToInspect, errors);\n    }\n  }\n\n  // Returns null if dataToInspect is OK.\n  public abstract Error check(Data dataToInspect);\n}\n</code></pre>\n\n<p>class <code>Data</code> is the class holding the data (that needs to be checked). Can be a String, a JSON object, what have you.</p>\n\n<p>class <code>Error</code> represents a problem detected in the data should be roughly something like:</p>\n\n<pre><code>public class Error {\n  private String problem;\n  public Error(String problem) { this.problem = problem }\n  public String getProblem() { return problem }\n  // maybe additional fields and method to better describe the detected problem...\n}\n</code></pre>\n\n<p>You then have code that runs the check against piece of data:</p>\n\n<pre><code>public class Checker {\n\n   private final List&lt;Error&gt; errors = new ArrayList&lt;Error&gt;();\n   private final List&lt;Check&gt; checks = new ArrayList&lt;Check&gt;();\n\n   public Checker() {\n     checks.add(new DateIsParsableCheck().add(new DateIsInTheFurutreCheck());\n     checks.add(new UrlIsWellFormed().add(new UrlIsAccessible());\n\n     checks.add();\n     ..\n   }\n\n   public void check(Data d) {\n     for (Check c : checks) {\n       Error e = c.run(d, errors);\n       if (e != null) \n         errors.add(e);\n     }\n   }\n}\n</code></pre>\n\n<p>Slightly changed my original answer. In the current answer there is the notion of subchecks:  if a check called <code>x</code> has a subcheck called <code>y</code> then the <code>y</code> check will run only if the <code>x</code> check succeeded. For instance, if the Date is not parseable there is no point to check it it is in the future. </p>\n\n<p>In your case I think that all/most logical check should be sub-checks of a formal check.</p>\n"},{"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400007202,"creation_date":1400007202,"answer_id":23639340,"question_id":23625440,"body_markdown":"I have answered this previously [Here][1]\r\n\r\nThe answer marked as good is an example of the Composite pattern being applied to validation (almost)\r\n\r\nThere are, of course, tons of frameworks for this. Something clever you could do, that I have used to great effect, is to use an aspect + a validator or make sure whole swaths of new and existing code get checked auto-magically. \r\n\r\n    @Aspect\r\n    public class DtoValidator {\r\n\r\n    private Validator validator;\r\n\r\n    public DtoValidator() {\r\n    }\r\n\r\n    public DtoValidator(Validator validator) {\r\n        this.validator = validator;\r\n    }\r\n\r\n    public void doValidation(JoinPoint jp){\r\n        for( Object arg : jp.getArgs() ){\r\n            if (arg != null) {\r\n                Set&lt;ConstraintViolation&lt;Object&gt;&gt; violations = validator.validate(arg);\r\n                if( violations.size() &gt; 0 ){\r\n                    throw buildError(violations);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static BadRequestException buildError( Set&lt;ConstraintViolation&lt;Object&gt;&gt; violations ){\r\n        Map&lt;String, String&gt; errorMap = new HashMap&lt;String, String&gt;();\r\n        for( ConstraintViolation error : violations ){\r\n            errorMap.put(error.getPropertyPath().toString(), error.getMessage());\r\n        }\r\n        return new BadRequestException(errorMap);\r\n    }\r\n    }\r\n\r\nHere is a snip of bean config\r\n\r\n    &lt;aop:config proxy-target-class=&quot;true&quot;&gt;\r\n        &lt;aop:aspect id=&quot;dtoValidator&quot; ref=&quot;dtoValidator&quot; order=&quot;10&quot;&gt;\r\n            &lt;aop:before method=&quot;doValidation&quot;\r\n                        pointcut=&quot;execution(public * com.mycompany.ws.controllers.bs.*.*(..))&quot;/&gt;\r\n        &lt;/aop:aspect&gt;\r\n    &lt;/aop:config&gt;\r\n\r\n\r\nNow all of your controller methods will have that validation code applied here and into the future. \r\n\r\n  [1]: https://stackoverflow.com/questions/23408923/for-a-large-validation-task-is-chain-of-responsibility-pattern-a-good-bet/23501390#23501390","title":"Design pattern for cumulative validation violations","body":"<p>I have answered this previously <a href=\"https://stackoverflow.com/questions/23408923/for-a-large-validation-task-is-chain-of-responsibility-pattern-a-good-bet/23501390#23501390\">Here</a></p>\n\n<p>The answer marked as good is an example of the Composite pattern being applied to validation (almost)</p>\n\n<p>There are, of course, tons of frameworks for this. Something clever you could do, that I have used to great effect, is to use an aspect + a validator or make sure whole swaths of new and existing code get checked auto-magically. </p>\n\n<pre><code>@Aspect\npublic class DtoValidator {\n\nprivate Validator validator;\n\npublic DtoValidator() {\n}\n\npublic DtoValidator(Validator validator) {\n    this.validator = validator;\n}\n\npublic void doValidation(JoinPoint jp){\n    for( Object arg : jp.getArgs() ){\n        if (arg != null) {\n            Set&lt;ConstraintViolation&lt;Object&gt;&gt; violations = validator.validate(arg);\n            if( violations.size() &gt; 0 ){\n                throw buildError(violations);\n            }\n        }\n    }\n}\n\nprivate static BadRequestException buildError( Set&lt;ConstraintViolation&lt;Object&gt;&gt; violations ){\n    Map&lt;String, String&gt; errorMap = new HashMap&lt;String, String&gt;();\n    for( ConstraintViolation error : violations ){\n        errorMap.put(error.getPropertyPath().toString(), error.getMessage());\n    }\n    return new BadRequestException(errorMap);\n}\n}\n</code></pre>\n\n<p>Here is a snip of bean config</p>\n\n<pre><code>&lt;aop:config proxy-target-class=\"true\"&gt;\n    &lt;aop:aspect id=\"dtoValidator\" ref=\"dtoValidator\" order=\"10\"&gt;\n        &lt;aop:before method=\"doValidation\"\n                    pointcut=\"execution(public * com.mycompany.ws.controllers.bs.*.*(..))\"/&gt;\n    &lt;/aop:aspect&gt;\n&lt;/aop:config&gt;\n</code></pre>\n\n<p>Now all of your controller methods will have that validation code applied here and into the future. </p>\n"}],"owner":{"account_id":1242916,"reputation":437,"user_id":1205066,"accept_rate":100,"display_name":"Sergey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4372,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":23625868,"answer_count":5,"score":6,"last_activity_date":1636636754,"creation_date":1399966950,"question_id":23625440,"body_markdown":"Let&#39;s imagine, that we have a process, which accepts data of the following type:\r\n\r\n    {&quot;date&quot;:&quot;2014-05-05&quot;, &quot;url&quot;:&quot;http://some.website.com&quot;,&quot;counter&quot;:3}\r\n\r\n - This data should be validated **formally**: value of `date` should be a\r\n   parseable date, `url` should also conform the normal url syntax.\r\n - Also, this data should be validated **logically**: `date` should be in the future, `url` should be an accessible\r\n   address, returning `200 OK`.\r\n\r\nTo make it clean, one must separate those two validation routines into different units (classes, utils, whatever). The desired final behaviour, however, must give user clear understanding of ALL violations, that are present in data. Something like: \r\n\r\n`{&quot;Errors&quot;:[\r\n     &quot;Specified date is not in the future&quot;,//Formal validation failed\r\n     &quot;Specified URL has invalid syntax&quot;//Logical validation failed\r\n ]}`\r\n\r\n - I have seen some implementations of the required behaviour, but they\r\n   use those make use of `Error` objects and are full of checks like\r\n   `Error.hasErrors()` or `error==null`, which does not look elegant.\r\n - I have also seen the implementation of `javax.validation`, which gives you all violations  on all field at once. Same approach could be implemented for content validation, but I am not sure, that this is the best way to do this. \r\n\r\n**Question**: what is the best practice for handling multiple exceptions/violations of various nature?\r\n\r\n\r\n**UPD:** short digest of answers: collect `Violations`, build an `Exception`, containing their context, cause and description, use an interceptor to render. See reference links from answers:\r\n\r\nhttp://beanvalidation.org/1.0/spec/ JSR 303 specification\r\n\r\nhttp://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/validation.html Spring Bean Validation\r\n\r\nhttp://docs.oracle.com/javaee/6/tutorial/doc/gircz.html Java EE validation\r\n\r\nhttps://stackoverflow.com/questions/18314609/which-design-pattern-to-use-for-validation\r\n\r\nhttps://stackoverflow.com/questions/729379/why-not-use-exceptions-as-regular-flow-of-control","title":"Design pattern for cumulative validation violations","body":"<p>Let's imagine, that we have a process, which accepts data of the following type:</p>\n\n<pre><code>{\"date\":\"2014-05-05\", \"url\":\"http://some.website.com\",\"counter\":3}\n</code></pre>\n\n<ul>\n<li>This data should be validated <strong>formally</strong>: value of <code>date</code> should be a\nparseable date, <code>url</code> should also conform the normal url syntax.</li>\n<li>Also, this data should be validated <strong>logically</strong>: <code>date</code> should be in the future, <code>url</code> should be an accessible\naddress, returning <code>200 OK</code>.</li>\n</ul>\n\n<p>To make it clean, one must separate those two validation routines into different units (classes, utils, whatever). The desired final behaviour, however, must give user clear understanding of ALL violations, that are present in data. Something like: </p>\n\n<p><code>{\"Errors\":[\n     \"Specified date is not in the future\",//Formal validation failed\n     \"Specified URL has invalid syntax\"//Logical validation failed\n ]}</code></p>\n\n<ul>\n<li>I have seen some implementations of the required behaviour, but they\nuse those make use of <code>Error</code> objects and are full of checks like\n<code>Error.hasErrors()</code> or <code>error==null</code>, which does not look elegant.</li>\n<li>I have also seen the implementation of <code>javax.validation</code>, which gives you all violations  on all field at once. Same approach could be implemented for content validation, but I am not sure, that this is the best way to do this. </li>\n</ul>\n\n<p><strong>Question</strong>: what is the best practice for handling multiple exceptions/violations of various nature?</p>\n\n<p><strong>UPD:</strong> short digest of answers: collect <code>Violations</code>, build an <code>Exception</code>, containing their context, cause and description, use an interceptor to render. See reference links from answers:</p>\n\n<p><a href=\"http://beanvalidation.org/1.0/spec/\" rel=\"nofollow noreferrer\">http://beanvalidation.org/1.0/spec/</a> JSR 303 specification</p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/validation.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/validation.html</a> Spring Bean Validation</p>\n\n<p><a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gircz.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javaee/6/tutorial/doc/gircz.html</a> Java EE validation</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18314609/which-design-pattern-to-use-for-validation\">Which Design Pattern To Use For Validation</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/729379/why-not-use-exceptions-as-regular-flow-of-control\">Why not use exceptions as regular flow of control?</a></p>\n"},{"tags":["java","spring","spring-boot","jwt","authorization"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636504876,"post_id":69906361,"comment_id":123573984,"body_markdown":"Enable DEBUG logging in Spring Security and see which filter blocks the request. This will give you a hint. You might have to debug into the relevant method in the filter to see what&#39;s going wrong. It will also help investigate the problem if you can cover this scenario by an automated test. Will make it a lot easier to reproduce and debug","body":"Enable DEBUG logging in Spring Security and see which filter blocks the request. This will give you a hint. You might have to debug into the relevant method in the filter to see what&#39;s going wrong. It will also help investigate the problem if you can cover this scenario by an automated test. Will make it a lot easier to reproduce and debug"}],"answers":[{"tags":[],"owner":{"account_id":9423391,"reputation":81,"user_id":7009165,"display_name":"Th&#244;ng Nguyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636636473,"creation_date":1636635955,"answer_id":69928797,"question_id":69906361,"body_markdown":"Using `hasAnyAuthority` instead of `hasRole` and remove `&quot;ROLE_&quot;` from `SimpleGrantedAuthority`\r\n\r\n* Your code\r\n```java\r\n.antMatchers(&quot;/api/users/user/**&quot;).hasRole(&quot;USER&quot;)\r\n//...and...\r\nauthorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.getName()));\r\n```\r\n* Try this\r\n```java\r\n.antMatchers(&quot;/api/users/user/**&quot;).hasAnyAuthority(&quot;USER&quot;)\r\n//...and...\r\nauthorities.add(new SimpleGrantedAuthority(role.getName()));\r\n```\r\n* But I dont&#39;t see where you use method `UserDetailsServiceImpl.getAuthority`? You put an empty list of `authorities` into `UsernamePasswordAuthenticationToken` in `JwtAuthenticationFilter`\r\n```java\r\nUsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, Collections.emptyList());\r\n```\r\nYou should put `authorities` in.","title":"Spring Security JWT Authorization returning 401 on endpoints","body":"<p>Using <code>hasAnyAuthority</code> instead of <code>hasRole</code> and remove <code>&quot;ROLE_&quot;</code> from <code>SimpleGrantedAuthority</code></p>\n<ul>\n<li>Your code</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>.antMatchers(&quot;/api/users/user/**&quot;).hasRole(&quot;USER&quot;)\n//...and...\nauthorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.getName()));\n</code></pre>\n<ul>\n<li>Try this</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>.antMatchers(&quot;/api/users/user/**&quot;).hasAnyAuthority(&quot;USER&quot;)\n//...and...\nauthorities.add(new SimpleGrantedAuthority(role.getName()));\n</code></pre>\n<ul>\n<li>But I dont't see where you use method <code>UserDetailsServiceImpl.getAuthority</code>? You put an empty list of <code>authorities</code> into <code>UsernamePasswordAuthenticationToken</code> in <code>JwtAuthenticationFilter</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, Collections.emptyList());\n</code></pre>\n<p>You should put <code>authorities</code> in.</p>\n"}],"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636636473,"creation_date":1636501078,"question_id":69906361,"body_markdown":"I am able to register a user then login with those credentials and receive a valid JWT token with userId, username and the roles of a user.\r\n\r\nHere is a screenshot of a token with 2 roles (USER and ADMIN)\r\n[jwt.io result][1]\r\n\r\n\r\nI inserted 2 roles (USER and ADMIN) into my roles table manually so that each user created will automatically be assigned a ROLE_USER once created.\r\n\r\n\r\nThe problem is, now that I want to access URLs based on the roles a user has, I am getting 401 unauthorized on endpoints that I tried to grant access to.\r\n\r\nThis is a postman response from a User who has a role of User and Admin, but I&#39;m getting this 401 still.\r\n\r\n[postman response][2]\r\n\r\n\r\n\r\n\r\nHere are the important classes\r\n**My Role entity has a name and description fields**\r\n**My Repository interfaces have a findByXXX method**\r\n\r\n-----\r\nUser.java\r\n\r\n```java\r\n\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\npublic class User implements UserDetails{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true)\r\n    @NotBlank(message = &quot;Username is required&quot;)\r\n    private String username;\r\n\r\n    @NotBlank(message = &quot;Password is required&quot;)\r\n    private String password;\r\n    @Transient\r\n    private String confirmPassword;\r\n\r\n    private boolean enabled = true;\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-mm-dd&quot;)\r\n    private Date createdAt;\r\n\r\n    // I want to load all the roles of users + the user itself once requested for\r\n    @ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(name=&quot;user_roles&quot;,\r\n        joinColumns = {\r\n            @JoinColumn(name=&quot;user_id&quot;)\r\n        },\r\n        inverseJoinColumns = {\r\n            @JoinColumn(name=&quot;role_id&quot;)\r\n    })\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    \r\n    // Constructor\r\n    // Getters and setteres\r\n\r\n\r\n    @Override\r\n    @JsonIgnore\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    @JsonIgnore\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    @JsonIgnore\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    @JsonIgnore\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n------\r\n\r\nSecurityConfig.java\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, jsr250Enabled = true, securedEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Bean\r\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n        return new JwtAuthenticationFilter();\r\n    };\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/api/users/register&quot;, &quot;/api/users/login&quot;, &quot;/api/users/all&quot;).permitAll()\r\n                .antMatchers(&quot;/api/users/user/**&quot;).hasRole(&quot;USER&quot;)\r\n                .antMatchers(&quot;/api/users/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                // handles the json exception response if details are incorrect with an appropriate message\r\n                .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint);\r\n\r\n        httpSecurity.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n------\r\n\r\n\r\nUserService.java\r\n\r\n```java\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    private RoleService roleService;\r\n\r\n\r\n    public User saveUser(User user) {\r\n\r\n        Role userRole = roleService.findByRoleName(&quot;USER&quot;);\r\n//        Role adminRole = roleService.findByRoleName(&quot;ADMIN&quot;);\r\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n        try {\r\n            user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n            user.setUsername(user.getUsername());\r\n            user.setConfirmPassword(&quot;&quot;);\r\n            roles.add(userRole);\r\n            user.setRoles(roles);\r\n\r\n            return userRepository.save(user);\r\n        } catch(Exception e) {\r\n            throw new UsernameAlreadyExistsException(&quot;User with username &quot; + user.getUsername() + &quot; already exists!&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public List&lt;User&gt; findAll() {\r\n        List&lt;User&gt; list = new ArrayList&lt;&gt;();\r\n        userRepository.findAll().iterator().forEachRemaining(list::add);\r\n        return list;\r\n    }\r\n\r\n}\r\n```\r\n\r\n----\r\n\r\nUserDetailsServiceImpl.java\r\n```java\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepository.findByUsername(username);\r\n\r\n        if(user == null) {\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n        return user;\r\n    }\r\n    \r\n    private Set getAuthority(User user) {\r\n        Set&lt;SimpleGrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n        user.getRoles().forEach(role -&gt; {\r\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.getName()));\r\n        });\r\n        return authorities;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n-------\r\n\r\n\r\nJwtTokenProvider.java\r\n```java\r\n\r\n@Component\r\npublic class JwtTokenProvider {\r\n\r\n    private final String SECRET = &quot;SECRET&quot;;\r\n    // Generate the token\r\n    public String generateToken(Authentication authentication) {\r\n        User user = (User) authentication.getPrincipal();\r\n        Date now = new Date(System.currentTimeMillis());\r\n\r\n        Date expiryDate = new Date(now.getTime() + 300_000);\r\n\r\n        String userId = Long.toString(user.getId());\r\n\r\n        // this is what holds the token\r\n        // add roles in claims\r\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n        claims.put(&quot;id&quot;, (Long.toString(user.getId())));\r\n        claims.put(&quot;username&quot;, user.getUsername());\r\n        claims.put(&quot;roles&quot;, user.getRoles());\r\n\r\n        return Jwts.builder().setSubject(userId).setClaims(claims).setIssuedAt(now).setExpiration(expiryDate)\r\n                .signWith(SignatureAlgorithm.HS512, SECRET).compact();\r\n    }\r\n\r\n    // Validate the token\r\n    public boolean validateToken(String token) {\r\n        try {\r\n            Jwts.parser().setSigningKey(SECRET).parseClaimsJws(token);\r\n            return true;\r\n        } catch (SignatureException ex) {\r\n            System.out.println(&quot;Invalid JWT Signature&quot;);\r\n        } catch (MalformedJwtException ex) {\r\n            System.out.println(&quot;Invalid JWT Token&quot;);\r\n        } catch (ExpiredJwtException ex) {\r\n            System.out.println(&quot;Expired JWT Token&quot;);\r\n        } catch (UnsupportedJwtException ex) {\r\n            System.out.println(&quot;Unsupported JWT token&quot;);\r\n        } catch (IllegalArgumentException ex) {\r\n            System.out.println(&quot;JWT claims string is empty&quot;);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public String getUsernameFromJWT(String token) {\r\n        Claims claims = Jwts.parser().setSigningKey(SECRET).parseClaimsJws(token).getBody();\r\n        return claims.getSubject();\r\n    }\r\n}\r\n\r\n```\r\n\r\n-----\r\n\r\n\r\nJwtAuthenticationFilter.java\r\n```java\r\n\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n    @Autowired\r\n    private JwtTokenProvider tokenProvider;\r\n\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\r\n                                    FilterChain filterChain) throws ServletException, IOException {\r\n        try {\r\n\r\n            String jwt = getJWTFromRequest(httpServletRequest);\r\n\r\n            if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {\r\n                String username = tokenProvider.getUsernameFromJWT(jwt);\r\n                User userDetails = (User) userDetailsService.loadUserByUsername(username);\r\n\r\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, Collections.emptyList());\r\n\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception ex) {\r\n            logger.error(&quot;Could not set user authentication in security context&quot;, ex);\r\n        }\r\n\r\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n\r\n    }\r\n\r\n    private String getJWTFromRequest(HttpServletRequest request) {\r\n        // Header Authorization: Bearer token\r\n        String bearerToken = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\r\n            return bearerToken.substring(7, bearerToken.length());\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\n--------\r\n\r\nUserController.java\r\n\r\n```java\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\n@CrossOrigin\r\npublic class UserController {\r\n\r\n    private UserService userService;\r\n    private UserDetailsServiceImpl userDetailsService;\r\n    private UserValidator userValidator;\r\n    private ErrorValidationService errorValidationService;\r\n    private JwtTokenProvider tokenProvider;\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService, UserDetailsServiceImpl userDetailsService, UserValidator userValidator, ErrorValidationService errorValidationService, JwtTokenProvider tokenProvider, AuthenticationManager authenticationManager) {\r\n        this.userService = userService;\r\n        this.userDetailsService = userDetailsService;\r\n        this.userValidator = userValidator;\r\n        this.errorValidationService = errorValidationService;\r\n        this.tokenProvider = tokenProvider;\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\n    // I want to allow role based access to these URLs\r\n    @GetMapping(&quot;/all&quot;)\r\n    public String welcomeAll() {\r\n        return &quot;Anyone can view this!&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    public String adminPing(){\r\n        return &quot;Only Admins Can view This&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    public String userPing(){\r\n        return &quot;Any User Can view This&quot;;\r\n    }\r\n\r\n\r\n    // Get all users\r\n    @GetMapping(&quot;/userList&quot;)\r\n    public ResponseEntity&lt;?&gt; getAllUsers() {\r\n          return ResponseEntity.ok(userService.findAll());\r\n    }\r\n\r\n    \r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;?&gt; register(@Valid @RequestBody User user, BindingResult result) {\r\n\r\n        userValidator.validate(user, result);\r\n        ResponseEntity&lt;?&gt; errorMap = errorValidationService.validationService(result);\r\n        if(errorMap != null) return errorMap;\r\n\r\n        User newUser = userService.saveUser(user);\r\n\r\n        return new ResponseEntity&lt;User&gt;(newUser, HttpStatus.CREATED);\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;?&gt; login(@Valid @RequestBody LoginRequest loginRequest, BindingResult result) throws Exception {\r\n\r\n        System.out.println(&quot;Entering /login&quot;);\r\n        ResponseEntity&lt;?&gt; errorMap = errorValidationService.validationService(result);\r\n        if(errorMap != null) return errorMap;\r\n\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        String jwt = &quot;Bearer &quot; + tokenProvider.generateToken(authentication);\r\n        return ResponseEntity.ok(new JwtLoginSuccessResponse(true, jwt));\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n------\r\n\r\n\r\nIf anyone can let me know why this is happening , and how I can go about changing and abstracting things in a much better way I would appreciate it a lot. Since there&#39;s so many different implementations online I&#39;m not sure what i&#39;m doing wrong.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DxFx8.png\r\n  [2]: https://i.stack.imgur.com/BPq35.png","title":"Spring Security JWT Authorization returning 401 on endpoints","body":"<p>I am able to register a user then login with those credentials and receive a valid JWT token with userId, username and the roles of a user.</p>\n<p>Here is a screenshot of a token with 2 roles (USER and ADMIN)\n<a href=\"https://i.stack.imgur.com/DxFx8.png\" rel=\"nofollow noreferrer\">jwt.io result</a></p>\n<p>I inserted 2 roles (USER and ADMIN) into my roles table manually so that each user created will automatically be assigned a ROLE_USER once created.</p>\n<p>The problem is, now that I want to access URLs based on the roles a user has, I am getting 401 unauthorized on endpoints that I tried to grant access to.</p>\n<p>This is a postman response from a User who has a role of User and Admin, but I'm getting this 401 still.</p>\n<p><a href=\"https://i.stack.imgur.com/BPq35.png\" rel=\"nofollow noreferrer\">postman response</a></p>\n<p>Here are the important classes\n<strong>My Role entity has a name and description fields</strong>\n<strong>My Repository interfaces have a findByXXX method</strong></p>\n<hr />\n<p>User.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Table(name=&quot;user&quot;)\npublic class User implements UserDetails{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true)\n    @NotBlank(message = &quot;Username is required&quot;)\n    private String username;\n\n    @NotBlank(message = &quot;Password is required&quot;)\n    private String password;\n    @Transient\n    private String confirmPassword;\n\n    private boolean enabled = true;\n\n    @JsonFormat(pattern = &quot;yyyy-mm-dd&quot;)\n    private Date createdAt;\n\n    // I want to load all the roles of users + the user itself once requested for\n    @ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(name=&quot;user_roles&quot;,\n        joinColumns = {\n            @JoinColumn(name=&quot;user_id&quot;)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name=&quot;role_id&quot;)\n    })\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    \n    // Constructor\n    // Getters and setteres\n\n\n    @Override\n    @JsonIgnore\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return null;\n    }\n\n    @Override\n    @JsonIgnore\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    @JsonIgnore\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    @JsonIgnore\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n\n\n}\n\n</code></pre>\n<hr />\n<p>SecurityConfig.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, jsr250Enabled = true, securedEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\n        return new JwtAuthenticationFilter();\n    };\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/api/users/register&quot;, &quot;/api/users/login&quot;, &quot;/api/users/all&quot;).permitAll()\n                .antMatchers(&quot;/api/users/user/**&quot;).hasRole(&quot;USER&quot;)\n                .antMatchers(&quot;/api/users/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n                // handles the json exception response if details are incorrect with an appropriate message\n                .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint);\n\n        httpSecurity.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n\n    }\n}\n</code></pre>\n<hr />\n<p>UserService.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    @Autowired\n    private RoleService roleService;\n\n\n    public User saveUser(User user) {\n\n        Role userRole = roleService.findByRoleName(&quot;USER&quot;);\n//        Role adminRole = roleService.findByRoleName(&quot;ADMIN&quot;);\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n        try {\n            user.setPassword(passwordEncoder.encode(user.getPassword()));\n            user.setUsername(user.getUsername());\n            user.setConfirmPassword(&quot;&quot;);\n            roles.add(userRole);\n            user.setRoles(roles);\n\n            return userRepository.save(user);\n        } catch(Exception e) {\n            throw new UsernameAlreadyExistsException(&quot;User with username &quot; + user.getUsername() + &quot; already exists!&quot;);\n        }\n    }\n\n\n    public List&lt;User&gt; findAll() {\n        List&lt;User&gt; list = new ArrayList&lt;&gt;();\n        userRepository.findAll().iterator().forEachRemaining(list::add);\n        return list;\n    }\n\n}\n</code></pre>\n<hr />\n<p>UserDetailsServiceImpl.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);\n\n        if(user == null) {\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n        }\n        return user;\n    }\n    \n    private Set getAuthority(User user) {\n        Set&lt;SimpleGrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        user.getRoles().forEach(role -&gt; {\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.getName()));\n        });\n        return authorities;\n    }\n}\n\n</code></pre>\n<hr />\n<p>JwtTokenProvider.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\npublic class JwtTokenProvider {\n\n    private final String SECRET = &quot;SECRET&quot;;\n    // Generate the token\n    public String generateToken(Authentication authentication) {\n        User user = (User) authentication.getPrincipal();\n        Date now = new Date(System.currentTimeMillis());\n\n        Date expiryDate = new Date(now.getTime() + 300_000);\n\n        String userId = Long.toString(user.getId());\n\n        // this is what holds the token\n        // add roles in claims\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        claims.put(&quot;id&quot;, (Long.toString(user.getId())));\n        claims.put(&quot;username&quot;, user.getUsername());\n        claims.put(&quot;roles&quot;, user.getRoles());\n\n        return Jwts.builder().setSubject(userId).setClaims(claims).setIssuedAt(now).setExpiration(expiryDate)\n                .signWith(SignatureAlgorithm.HS512, SECRET).compact();\n    }\n\n    // Validate the token\n    public boolean validateToken(String token) {\n        try {\n            Jwts.parser().setSigningKey(SECRET).parseClaimsJws(token);\n            return true;\n        } catch (SignatureException ex) {\n            System.out.println(&quot;Invalid JWT Signature&quot;);\n        } catch (MalformedJwtException ex) {\n            System.out.println(&quot;Invalid JWT Token&quot;);\n        } catch (ExpiredJwtException ex) {\n            System.out.println(&quot;Expired JWT Token&quot;);\n        } catch (UnsupportedJwtException ex) {\n            System.out.println(&quot;Unsupported JWT token&quot;);\n        } catch (IllegalArgumentException ex) {\n            System.out.println(&quot;JWT claims string is empty&quot;);\n        }\n        return false;\n    }\n\n    public String getUsernameFromJWT(String token) {\n        Claims claims = Jwts.parser().setSigningKey(SECRET).parseClaimsJws(token).getBody();\n        return claims.getSubject();\n    }\n}\n\n</code></pre>\n<hr />\n<p>JwtAuthenticationFilter.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n    @Autowired\n    private JwtTokenProvider tokenProvider;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\n                                    FilterChain filterChain) throws ServletException, IOException {\n        try {\n\n            String jwt = getJWTFromRequest(httpServletRequest);\n\n            if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {\n                String username = tokenProvider.getUsernameFromJWT(jwt);\n                User userDetails = (User) userDetailsService.loadUserByUsername(username);\n\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, Collections.emptyList());\n\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception ex) {\n            logger.error(&quot;Could not set user authentication in security context&quot;, ex);\n        }\n\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\n\n    }\n\n    private String getJWTFromRequest(HttpServletRequest request) {\n        // Header Authorization: Bearer token\n        String bearerToken = request.getHeader(&quot;Authorization&quot;);\n\n        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\n            return bearerToken.substring(7, bearerToken.length());\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<hr />\n<p>UserController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RestController\n@RequestMapping(&quot;/api/users&quot;)\n@CrossOrigin\npublic class UserController {\n\n    private UserService userService;\n    private UserDetailsServiceImpl userDetailsService;\n    private UserValidator userValidator;\n    private ErrorValidationService errorValidationService;\n    private JwtTokenProvider tokenProvider;\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    public UserController(UserService userService, UserDetailsServiceImpl userDetailsService, UserValidator userValidator, ErrorValidationService errorValidationService, JwtTokenProvider tokenProvider, AuthenticationManager authenticationManager) {\n        this.userService = userService;\n        this.userDetailsService = userDetailsService;\n        this.userValidator = userValidator;\n        this.errorValidationService = errorValidationService;\n        this.tokenProvider = tokenProvider;\n        this.authenticationManager = authenticationManager;\n    }\n\n    // I want to allow role based access to these URLs\n    @GetMapping(&quot;/all&quot;)\n    public String welcomeAll() {\n        return &quot;Anyone can view this!&quot;;\n    }\n\n    @GetMapping(&quot;/admin&quot;)\n    public String adminPing(){\n        return &quot;Only Admins Can view This&quot;;\n    }\n\n    @GetMapping(&quot;/user&quot;)\n    public String userPing(){\n        return &quot;Any User Can view This&quot;;\n    }\n\n\n    // Get all users\n    @GetMapping(&quot;/userList&quot;)\n    public ResponseEntity&lt;?&gt; getAllUsers() {\n          return ResponseEntity.ok(userService.findAll());\n    }\n\n    \n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;?&gt; register(@Valid @RequestBody User user, BindingResult result) {\n\n        userValidator.validate(user, result);\n        ResponseEntity&lt;?&gt; errorMap = errorValidationService.validationService(result);\n        if(errorMap != null) return errorMap;\n\n        User newUser = userService.saveUser(user);\n\n        return new ResponseEntity&lt;User&gt;(newUser, HttpStatus.CREATED);\n    }\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;?&gt; login(@Valid @RequestBody LoginRequest loginRequest, BindingResult result) throws Exception {\n\n        System.out.println(&quot;Entering /login&quot;);\n        ResponseEntity&lt;?&gt; errorMap = errorValidationService.validationService(result);\n        if(errorMap != null) return errorMap;\n\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        String jwt = &quot;Bearer &quot; + tokenProvider.generateToken(authentication);\n        return ResponseEntity.ok(new JwtLoginSuccessResponse(true, jwt));\n    }\n\n}\n\n\n</code></pre>\n<hr />\n<p>If anyone can let me know why this is happening , and how I can go about changing and abstracting things in a much better way I would appreciate it a lot. Since there's so many different implementations online I'm not sure what i'm doing wrong.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636634766,"creation_date":1636634766,"answer_id":69928540,"question_id":69928470,"body_markdown":"why won&#39;t you start with DOC reading?\r\n\r\nall basic informations you have in here: [Data and file storage overview](https://developer.android.com/training/data-storage)\r\n\r\nyou are asking about app-specific directories, doc in here: [Access app-specific files](https://developer.android.com/training/data-storage/app-specific). in short: you have to use [`getExternalFilesDir()`](https://developer.android.com/training/data-storage/app-specific#external-access-files) method for creating folders for your files\r\n\r\nalso be aware about [Scoped storage](https://developer.android.com/about/versions/11/privacy/storage), but you already want to keep files in proper, app-specific place, which is mandatory on devices with forced Scoped storage","title":"Create a directory with connection to my android application","body":"<p>why won't you start with DOC reading?</p>\n<p>all basic informations you have in here: <a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">Data and file storage overview</a></p>\n<p>you are asking about app-specific directories, doc in here: <a href=\"https://developer.android.com/training/data-storage/app-specific\" rel=\"nofollow noreferrer\">Access app-specific files</a>. in short: you have to use <a href=\"https://developer.android.com/training/data-storage/app-specific#external-access-files\" rel=\"nofollow noreferrer\"><code>getExternalFilesDir()</code></a> method for creating folders for your files</p>\n<p>also be aware about <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">Scoped storage</a>, but you already want to keep files in proper, app-specific place, which is mandatory on devices with forced Scoped storage</p>\n"}],"owner":{"account_id":23306392,"reputation":11,"user_id":17386311,"display_name":"bao ol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636636374,"creation_date":1636634450,"question_id":69928470,"body_markdown":"I see almost every android application has its own data storage folder in sdcard/Android/data....\r\n\r\n\r\nHow to create 1 such folder and use it?\r\n\r\nSample photo\r\n\r\n[Sample photo][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NsnXm.jpg","title":"Create a directory with connection to my android application","body":"<p>I see almost every android application has its own data storage folder in sdcard/Android/data....</p>\n<p>How to create 1 such folder and use it?</p>\n<p>Sample photo</p>\n<p><a href=\"https://i.stack.imgur.com/NsnXm.jpg\" rel=\"nofollow noreferrer\">Sample photo</a></p>\n"},{"tags":["java","linear-search"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":1,"creation_date":1636631065,"post_id":69927719,"comment_id":123611401,"body_markdown":"Why are you opening file twice?","body":"Why are you opening file twice?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1636631279,"post_id":69927719,"comment_id":123611468,"body_markdown":"You&#39;re clearly using newer APIs, so I&#39;d use `Files.readAllLines` rather than a scanner. It will give you a list of strings which is easier to iterate over than Scanner anyway.","body":"You&#39;re clearly using newer APIs, so I&#39;d use <code>Files.readAllLines</code> rather than a scanner. It will give you a list of strings which is easier to iterate over than Scanner anyway."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1636631426,"post_id":69927719,"comment_id":123611526,"body_markdown":"Your Scanner loop which uses `contains` uses `hasNext` and then calls `nextLine`. `hasNext` returning true does not imply that there is necessarily a next **line**, so that call would end up blocking forever","body":"Your Scanner loop which uses <code>contains</code> uses <code>hasNext</code> and then calls <code>nextLine</code>. <code>hasNext</code> returning true does not imply that there is necessarily a next <b>line</b>, so that call would end up blocking forever"}],"answers":[{"tags":[],"owner":{"account_id":20105829,"reputation":1074,"user_id":14743390,"display_name":"Zinc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636632322,"creation_date":1636632322,"answer_id":69928019,"question_id":69927719,"body_markdown":"You are moving forward in your file for every name (using nextLine), you should do the loop on names for each line instead.\r\n\r\nIn your code, if your first name (name[0]) is on the last line of your file, you are already at the end of your file on the first iteration, and when searching for the second name, there is already no more line.\r\n\r\nTry something like this:\r\n\r\n```java\r\nwhile (scanner.hasNextLine()) {\r\n  String line = scanner.nextLine();\r\n  for (int i = 0; i &lt; Objects.requireNonNull(names).length; i++) {\r\n    if (line.contains(names[i])) {\r\n      count++;\r\n      break;\r\n    }\r\n  }\r\n}\r\n```","title":"Is there a reason .contains() would not work with scanner?","body":"<p>You are moving forward in your file for every name (using nextLine), you should do the loop on names for each line instead.</p>\n<p>In your code, if your first name (name[0]) is on the last line of your file, you are already at the end of your file on the first iteration, and when searching for the second name, there is already no more line.</p>\n<p>Try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (scanner.hasNextLine()) {\n  String line = scanner.nextLine();\n  for (int i = 0; i &lt; Objects.requireNonNull(names).length; i++) {\n    if (line.contains(names[i])) {\n      count++;\n      break;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636636367,"creation_date":1636636367,"answer_id":69928894,"question_id":69927719,"body_markdown":"The problem is how you are searching.  If you want to search iteratively then you need to re-start the iteration for each name.  Otherwise, you are merely searching forward in the phonebook.  If the second name in the name list appears before the first name then you will only find one name since you will have exhausted the phonebook before finding anything.\r\n\r\nHowever, repeatedly reading the phonebook file is a costly endeavor.  Instead, load the phone list (as you have done for the name list) and then you can iteratively search that list for each element in the name list.  The following examples assume you are using List rather than arrays.  Using for-each loops to make it obvious what is going on (versus using Stream API).\r\n\r\n    List&lt;String&gt; names = loadNames();\r\n    // each phonebook entry contains the name and the phone number in one string\r\n    List&lt;String&gt; phonebook = loadPhonebook();\r\n    int numFound = 0;\r\n    \r\n    for (String name : names) {\r\n      for (String entry : phonebook) {\r\n        if (entry.contains(name)) {\r\n          ++numFound;\r\n        }\r\n      }\r\n    }\r\n\r\n_However,_ this is still an expensive task because you are repeatedly doing nested iterations.  Depending on the format of the phonebook file you should be able to parse out the names and store these in a TreeSet.  Then the search is constant time.\r\n\r\n    List&lt;String&gt; names = loadNames();\r\n    // phonebookNames are just the names - the phone number has been stripped away\r\n    TreeSet&lt;String&gt; phonebookNames = loadPhonebookNames();\r\n    int numFound = 0;\r\n    \r\n    for (String name : names) {\r\n      if (phonebookNames.contains(name)) {\r\n        ++numFound;\r\n      }\r\n    }\r\n    \r\n\r\nPresumably, your assignment will eventually want to use the phone number for something so you probably don&#39;t want to drop that on the floor.  Instead of parsing out just the name, you can capture the name _and_ the phone number using a `Map` (key=name, value=phone number).  Then you can count the presence of names thusly.\r\n\r\n    List&lt;String&gt; names = loadNames();\r\n    // phonebook is a Map of phone number values keyed on name\r\n    Map&lt;String,String&gt; phonebook = loadPhonebook();\r\n    int numFound = 0;\r\n    \r\n    for (String name : names) {\r\n      if (phonebook.containsKey(name)) {\r\n        ++numFound;\r\n      }\r\n    }\r\n\r\n","title":"Is there a reason .contains() would not work with scanner?","body":"<p>The problem is how you are searching.  If you want to search iteratively then you need to re-start the iteration for each name.  Otherwise, you are merely searching forward in the phonebook.  If the second name in the name list appears before the first name then you will only find one name since you will have exhausted the phonebook before finding anything.</p>\n<p>However, repeatedly reading the phonebook file is a costly endeavor.  Instead, load the phone list (as you have done for the name list) and then you can iteratively search that list for each element in the name list.  The following examples assume you are using List rather than arrays.  Using for-each loops to make it obvious what is going on (versus using Stream API).</p>\n<pre><code>List&lt;String&gt; names = loadNames();\n// each phonebook entry contains the name and the phone number in one string\nList&lt;String&gt; phonebook = loadPhonebook();\nint numFound = 0;\n\nfor (String name : names) {\n  for (String entry : phonebook) {\n    if (entry.contains(name)) {\n      ++numFound;\n    }\n  }\n}\n</code></pre>\n<p><em>However,</em> this is still an expensive task because you are repeatedly doing nested iterations.  Depending on the format of the phonebook file you should be able to parse out the names and store these in a TreeSet.  Then the search is constant time.</p>\n<pre><code>List&lt;String&gt; names = loadNames();\n// phonebookNames are just the names - the phone number has been stripped away\nTreeSet&lt;String&gt; phonebookNames = loadPhonebookNames();\nint numFound = 0;\n\nfor (String name : names) {\n  if (phonebookNames.contains(name)) {\n    ++numFound;\n  }\n}\n</code></pre>\n<p>Presumably, your assignment will eventually want to use the phone number for something so you probably don't want to drop that on the floor.  Instead of parsing out just the name, you can capture the name <em>and</em> the phone number using a <code>Map</code> (key=name, value=phone number).  Then you can count the presence of names thusly.</p>\n<pre><code>List&lt;String&gt; names = loadNames();\n// phonebook is a Map of phone number values keyed on name\nMap&lt;String,String&gt; phonebook = loadPhonebook();\nint numFound = 0;\n\nfor (String name : names) {\n  if (phonebook.containsKey(name)) {\n    ++numFound;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19198977,"reputation":7,"user_id":14027277,"display_name":"Jeremiahtaylor2017"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69928894,"answer_count":2,"score":0,"last_activity_date":1636636367,"creation_date":1636630939,"question_id":69927719,"body_markdown":"I am working on a linear search problem that takes a file of names and compares it to a phonebook file of names and numbers. My only task right now is to see how many names are in the phonebook file. Everything works as expected up until the if statement in my main method, but for the life of me, I cannot figure out what I am doing wrong. Through testing, I can print out all the lines in both files, so I know I am reading the files correctly. Output should be 500 / 500 as all the names are in the phonebook file of over a million lines. Please help.\r\n\r\n    package phonebook;\r\n\r\n    import java.util.Objects;\r\n    import java.util.Scanner;\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n\r\n    public class Main {\r\n        final static String NAME_PATH = &quot;C:\\\\Users\\\\{user}\\\\Downloads\\\\find.txt&quot;;\r\n        final static String PHONEBOOK_PATH = &quot;C:\\\\Users\\\\{user}\\\\Downloads\\\\directory.txt&quot;;\r\n\r\n        private static String[] namesList(File file) {\r\n            int count = 0;\r\n            try (Scanner scanner = new Scanner(file)) {\r\n                while (scanner.hasNextLine()) {\r\n                    scanner.nextLine();\r\n                    count++;\r\n                }\r\n                String[] names = new String[count];\r\n                Scanner sc = new Scanner(file);\r\n                for (int i = 0; i &lt; count; i++) {\r\n                    names[i] = sc.nextLine();\r\n                }\r\n                return names;\r\n            } catch (FileNotFoundException e) {\r\n                System.out.printf(&quot;File not found: %s&quot;, NAME_PATH);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        private static String timeDifference(long timeStart, long timeEnd) {\r\n            long difference = timeEnd - timeStart;\r\n            long minutes = (difference / 1000) / 60;\r\n            long seconds = (difference / 1000) % 60;\r\n            long milliseconds = difference - ((minutes * 60000) + (seconds * 1000));\r\n            return &quot;Time taken: &quot; + minutes + &quot; min. &quot; + seconds + &quot; sec. &quot; +\r\n                    milliseconds + &quot; ms.&quot;;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            File findFile = new File(NAME_PATH);\r\n            File directoryFile = new File(PHONEBOOK_PATH);\r\n            String[] names = namesList(findFile);\r\n            int count = 0;\r\n            try (Scanner scanner = new Scanner(directoryFile)) {\r\n                System.out.println(&quot;Start searching...&quot;);\r\n                long timeStart = System.currentTimeMillis();\r\n                for (int i = 0; i &lt; Objects.requireNonNull(names).length; i++) {\r\n                    while (scanner.hasNextLine()) {\r\n                        if (scanner.nextLine().contains(names[i])) {\r\n                            count++;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                long timeEnd = System.currentTimeMillis();\r\n                System.out.print(&quot;Found &quot; + count + &quot; / &quot; + names.length + &quot; entries. &quot; +\r\n                        timeDifference(timeStart, timeEnd));\r\n            } catch (FileNotFoundException e) {\r\n                System.out.printf(&quot;File not found: %s&quot;, PHONEBOOK_PATH);\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    Start searching...\r\n    Found 1 / 500 entries. Time taken: 0 min. 0 sec. 653 ms.\r\n    Process finished with exit code 0","title":"Is there a reason .contains() would not work with scanner?","body":"<p>I am working on a linear search problem that takes a file of names and compares it to a phonebook file of names and numbers. My only task right now is to see how many names are in the phonebook file. Everything works as expected up until the if statement in my main method, but for the life of me, I cannot figure out what I am doing wrong. Through testing, I can print out all the lines in both files, so I know I am reading the files correctly. Output should be 500 / 500 as all the names are in the phonebook file of over a million lines. Please help.</p>\n<pre><code>package phonebook;\n\nimport java.util.Objects;\nimport java.util.Scanner;\nimport java.io.File;\nimport java.io.FileNotFoundException;\n\npublic class Main {\n    final static String NAME_PATH = &quot;C:\\\\Users\\\\{user}\\\\Downloads\\\\find.txt&quot;;\n    final static String PHONEBOOK_PATH = &quot;C:\\\\Users\\\\{user}\\\\Downloads\\\\directory.txt&quot;;\n\n    private static String[] namesList(File file) {\n        int count = 0;\n        try (Scanner scanner = new Scanner(file)) {\n            while (scanner.hasNextLine()) {\n                scanner.nextLine();\n                count++;\n            }\n            String[] names = new String[count];\n            Scanner sc = new Scanner(file);\n            for (int i = 0; i &lt; count; i++) {\n                names[i] = sc.nextLine();\n            }\n            return names;\n        } catch (FileNotFoundException e) {\n            System.out.printf(&quot;File not found: %s&quot;, NAME_PATH);\n            return null;\n        }\n    }\n\n    private static String timeDifference(long timeStart, long timeEnd) {\n        long difference = timeEnd - timeStart;\n        long minutes = (difference / 1000) / 60;\n        long seconds = (difference / 1000) % 60;\n        long milliseconds = difference - ((minutes * 60000) + (seconds * 1000));\n        return &quot;Time taken: &quot; + minutes + &quot; min. &quot; + seconds + &quot; sec. &quot; +\n                milliseconds + &quot; ms.&quot;;\n    }\n\n    public static void main(String[] args) {\n        File findFile = new File(NAME_PATH);\n        File directoryFile = new File(PHONEBOOK_PATH);\n        String[] names = namesList(findFile);\n        int count = 0;\n        try (Scanner scanner = new Scanner(directoryFile)) {\n            System.out.println(&quot;Start searching...&quot;);\n            long timeStart = System.currentTimeMillis();\n            for (int i = 0; i &lt; Objects.requireNonNull(names).length; i++) {\n                while (scanner.hasNextLine()) {\n                    if (scanner.nextLine().contains(names[i])) {\n                        count++;\n                        break;\n                    }\n                }\n            }\n            long timeEnd = System.currentTimeMillis();\n            System.out.print(&quot;Found &quot; + count + &quot; / &quot; + names.length + &quot; entries. &quot; +\n                    timeDifference(timeStart, timeEnd));\n        } catch (FileNotFoundException e) {\n            System.out.printf(&quot;File not found: %s&quot;, PHONEBOOK_PATH);\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Start searching...\nFound 1 / 500 entries. Time taken: 0 min. 0 sec. 653 ms.\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":3,"creation_date":1636634806,"post_id":69928435,"comment_id":123612858,"body_markdown":"Go to [code review](https://codereview.stackexchange.com/)","body":"Go to <a href=\"https://codereview.stackexchange.com/\">code review</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user17223316"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636636129,"creation_date":1636636129,"answer_id":69928833,"question_id":69928435,"body_markdown":"Try this.\r\n\r\n    static int[] executeAll(int N, int[] A) {\r\n        int[] counters = new int[N];\r\n        int maxValue = 0;\r\n        for (int a : A) {\r\n            if (a &gt; N)\r\n                Arrays.fill(counters, maxValue);\r\n            else\r\n                maxValue = Math.max(maxValue, ++counters[a - 1]);\r\n        }\r\n        return counters;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] intArray = {3, 4, 4, 6, 1, 4, 4};\r\n        int[] result = executeAll(5, intArray);\r\n        System.out.println(Arrays.toString(result));\r\n    }\r\n\r\noutput:\r\n\r\n    [3, 2, 2, 4, 2]\r\n","title":"correct result, poor performance","body":"<p>Try this.</p>\n<pre><code>static int[] executeAll(int N, int[] A) {\n    int[] counters = new int[N];\n    int maxValue = 0;\n    for (int a : A) {\n        if (a &gt; N)\n            Arrays.fill(counters, maxValue);\n        else\n            maxValue = Math.max(maxValue, ++counters[a - 1]);\n    }\n    return counters;\n}\n\npublic static void main(String[] args) {\n    int[] intArray = {3, 4, 4, 6, 1, 4, 4};\n    int[] result = executeAll(5, intArray);\n    System.out.println(Arrays.toString(result));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[3, 2, 2, 4, 2]\n</code></pre>\n"}],"owner":{"account_id":10706367,"reputation":11,"user_id":7880043,"display_name":"Oluwatosin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636636129,"creation_date":1636634223,"question_id":69928435,"body_markdown":"I need suggestions on how to improve this code. Each value of array A passed in as argument represent the index of a counter to be incremented, but if this value is greater than N then the counter with the highest value is to be identified and its value assigned to every other counter. This code passed all test cases for correctness, but only 40% for performance.\r\n\r\n```\r\npackage com.sample;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\n\r\npublic class ConsecOperations {\r\n\t\r\n\tpublic int[] executeAll(int N, int[] A) {\r\n\t\t\r\n\t\tint[] counters = new int[N];\r\n\t\tint toAdd = 0;\r\n\t\t//iterate though A\r\n\t\t//perform appropriate operation on each iteration\r\n\t\tfor(int a = 0; a &lt; A.length; a++) {\r\n\t\t\t\r\n\t\t\tif(A[a] &gt; N ) {\r\n\t\t\t\tint maxValue = getMax(counters);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tfor(int b = 0; b &lt; counters.length; b++) {\r\n\t\t\t\t\tcounters[b] = maxValue; \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t++counters[A[a] - 1];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn counters;\r\n\t}\r\n\t\r\n\tpublic int getMax(int[] array) {\r\n\t\t\r\n\t\tint max = 0;\r\n\t\t\r\n\t\tfor( int x : array ) {\r\n\t\t\tif( x &gt; max ) {\r\n\t\t\t\tmax = x;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;Generated max: &quot; + max);\r\n\t\treturn max;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tConsecOperations c = new ConsecOperations();\r\n\t\tint[] intArray = {3,4,4,6,1,4,4};\r\n\t\tint[] result = c.executeAll(5, intArray);\r\n\t\tfor(int z : result) {\r\n\t\t\tSystem.out.print(z + &quot;,\\t&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"correct result, poor performance","body":"<p>I need suggestions on how to improve this code. Each value of array A passed in as argument represent the index of a counter to be incremented, but if this value is greater than N then the counter with the highest value is to be identified and its value assigned to every other counter. This code passed all test cases for correctness, but only 40% for performance.</p>\n<pre><code>package com.sample;\n\nimport java.util.Arrays;\nimport java.util.HashMap;\n\npublic class ConsecOperations {\n    \n    public int[] executeAll(int N, int[] A) {\n        \n        int[] counters = new int[N];\n        int toAdd = 0;\n        //iterate though A\n        //perform appropriate operation on each iteration\n        for(int a = 0; a &lt; A.length; a++) {\n            \n            if(A[a] &gt; N ) {\n                int maxValue = getMax(counters);\n                \n                \n                for(int b = 0; b &lt; counters.length; b++) {\n                    counters[b] = maxValue; \n                }\n                \n                \n            } else {\n                ++counters[A[a] - 1];\n            }\n        }\n        \n        return counters;\n    }\n    \n    public int getMax(int[] array) {\n        \n        int max = 0;\n        \n        for( int x : array ) {\n            if( x &gt; max ) {\n                max = x;\n            }\n        }\n        \n        System.out.println(&quot;Generated max: &quot; + max);\n        return max;\n    }\n    \n    public static void main(String[] args) {\n        ConsecOperations c = new ConsecOperations();\n        int[] intArray = {3,4,4,6,1,4,4};\n        int[] result = c.executeAll(5, intArray);\n        for(int z : result) {\n            System.out.print(z + &quot;,\\t&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":1044088,"reputation":595,"user_id":1049440,"accept_rate":100,"display_name":"RaviKiran"},"score":0,"creation_date":1321637244,"post_id":8186395,"comment_id":10057215,"body_markdown":"getMessageCount are printing correclty so it connects.","body":"getMessageCount are printing correclty so it connects."}],"answers":[{"tags":[],"owner":{"account_id":1044088,"reputation":595,"user_id":1049440,"accept_rate":100,"display_name":"RaviKiran"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1321675594,"creation_date":1321675594,"answer_id":8191815,"question_id":8186395,"body_markdown":"I added activation.jar to buildpath and the problem is solved.\r\n\r\nSo i used 2 jars java-mail-ima.** .jar, activation.jar (for further referebces).","title":"NoClassDefFoundError: javax/activation/DataSource","body":"<p>I added activation.jar to buildpath and the problem is solved.</p>\n\n<p>So i used 2 jars java-mail-ima.** .jar, activation.jar (for further referebces).</p>\n"},{"tags":[],"owner":{"account_id":316230,"reputation":4509,"user_id":632293,"display_name":"jediz"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1562053532,"creation_date":1527484941,"answer_id":50559571,"question_id":8186395,"body_markdown":"In case you use maven you can add manually\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"NoClassDefFoundError: javax/activation/DataSource","body":"<p>In case you use maven you can add manually</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;activation&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570535514,"creation_date":1570535514,"answer_id":58285826,"question_id":8186395,"body_markdown":"I solved a similar NoClassDefFoundError: javax/activation/DataSource problem in a mixed Java/Scala project by switching to Java 8 (it was Java9 by default).\r\n\r\nDiscussion: https://github.com/highsource/jsonix-schema-compiler/issues/81\r\n\r\n","title":"NoClassDefFoundError: javax/activation/DataSource","body":"<p>I solved a similar NoClassDefFoundError: javax/activation/DataSource problem in a mixed Java/Scala project by switching to Java 8 (it was Java9 by default).</p>\n\n<p>Discussion: <a href=\"https://github.com/highsource/jsonix-schema-compiler/issues/81\" rel=\"nofollow noreferrer\">https://github.com/highsource/jsonix-schema-compiler/issues/81</a></p>\n"},{"tags":[],"owner":{"account_id":20090307,"reputation":29,"user_id":17386477,"display_name":"JavaSash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636635542,"creation_date":1636635542,"answer_id":69928708,"question_id":8186395,"body_markdown":"On jdk 1.8 I solved this problem by reinstalling jdk and check path in JAVA_HOME and JRE_HOME","title":"NoClassDefFoundError: javax/activation/DataSource","body":"<p>On jdk 1.8 I solved this problem by reinstalling jdk and check path in JAVA_HOME and JRE_HOME</p>\n"}],"owner":{"account_id":1044088,"reputation":595,"user_id":1049440,"accept_rate":100,"display_name":"RaviKiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83958,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":8191815,"answer_count":4,"score":25,"last_activity_date":1636635542,"creation_date":1321637198,"question_id":8186395,"body_markdown":"This is the code :    \r\n\r\n          Session session = Session.getDefaultInstance(props, null);\r\n\t\t  Store store = session.getStore(&quot;imaps&quot;);\r\n\t\t  store.connect(&quot;imap.gmail.com&quot;, &quot;****@gmail.com&quot;, &quot;****&quot;);\r\n\t\t  System.out.println(store);\r\n\t\t  Folder folder = store.getDefaultFolder();\r\n\t\t  folder = folder.getFolder(&quot;INBOX&quot;);\r\n\t\t  folder.open(Folder.READ_ONLY);\r\n\t\t   \r\n\t\t  System.out.println(&quot;Message Count: &quot;+folder.getMessageCount());\r\n\t\t  System.out.println(&quot;Unread Message Count: &quot;+folder.getUnreadMessageCount());\r\n\t\t\t\t\t  \r\n\r\n               Message[] messages = folder.getMessages();  --&gt; here the code stops.\r\n\t\t  \r\n\t\t  FetchProfile fp = new FetchProfile();\r\n\t\t  fp.add(FetchProfile.Item.ENVELOPE);\r\n\t\t  folder.fetch(messages, fp);\r\n\t\t   \r\n\t\t  for (int i = 0; i&lt; messages.length; i++) \r\n\t\t  { \r\n\t\t\t  System.out.println(&quot;From:&quot;+ messages[i].getFrom()); \r\n\t\t\t  }\r\n\r\nThe code gives out the following excption and stops at the point shown.\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/activation/DataSource\r\n\tat com.google.code.com.sun.mail.imap.MessageCache.getMessage(MessageCache.java:129)\r\n\tat com.google.code.com.sun.mail.imap.IMAPFolder.getMessage(IMAPFolder.java:1394)\r\n\tat openReports.OpenReports.main","title":"NoClassDefFoundError: javax/activation/DataSource","body":"<p>This is the code :    </p>\n\n<pre><code>      Session session = Session.getDefaultInstance(props, null);\n      Store store = session.getStore(\"imaps\");\n      store.connect(\"imap.gmail.com\", \"****@gmail.com\", \"****\");\n      System.out.println(store);\n      Folder folder = store.getDefaultFolder();\n      folder = folder.getFolder(\"INBOX\");\n      folder.open(Folder.READ_ONLY);\n\n      System.out.println(\"Message Count: \"+folder.getMessageCount());\n      System.out.println(\"Unread Message Count: \"+folder.getUnreadMessageCount());\n\n\n           Message[] messages = folder.getMessages();  --&gt; here the code stops.\n\n      FetchProfile fp = new FetchProfile();\n      fp.add(FetchProfile.Item.ENVELOPE);\n      folder.fetch(messages, fp);\n\n      for (int i = 0; i&lt; messages.length; i++) \n      { \n          System.out.println(\"From:\"+ messages[i].getFrom()); \n          }\n</code></pre>\n\n<p>The code gives out the following excption and stops at the point shown.</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NoClassDefFoundError: javax/activation/DataSource\n      at com.google.code.com.sun.mail.imap.MessageCache.getMessage(MessageCache.java:129)\n      at com.google.code.com.sun.mail.imap.IMAPFolder.getMessage(IMAPFolder.java:1394)\n      at openReports.OpenReports.main</p>\n</blockquote>\n"},{"tags":["java","swing","jframe","layout-manager","border-layout"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1636621655,"post_id":69925545,"comment_id":123607802,"body_markdown":"Put something visible in the `CENTER` of the `BorderLayout` (e.g. some text in a `JLabel`) then change `MyFrame mf = new MyFrame(); mf.setVisible(true);` to add `mf.pack();` between the two statements.","body":"Put something visible in the <code>CENTER</code> of the <code>BorderLayout</code> (e.g. some text in a <code>JLabel</code>) then change <code>MyFrame mf = new MyFrame(); mf.setVisible(true);</code> to add <code>mf.pack();</code> between the two statements."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1636622029,"post_id":69925545,"comment_id":123607949,"body_markdown":"*&quot;I am facing two problems:&quot;* Then the best approach is to start two question threads, each with a [mre] specific to that problem. In this case, none of the listeners are relevant to a layout problem, while the layout is mostly irrelevant to a problem about shifting one list model to another - which itself only requires two buttons and two lists as components.","body":"<i>&quot;I am facing two problems:&quot;</i> Then the best approach is to start two question threads, each with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> specific to that problem. In this case, none of the listeners are relevant to a layout problem, while the layout is mostly irrelevant to a problem about shifting one list model to another - which itself only requires two buttons and two lists as components."},{"owner":{"account_id":8091424,"reputation":21,"user_id":6445074,"display_name":"Nick"},"score":0,"creation_date":1636622055,"post_id":69925545,"comment_id":123607959,"body_markdown":"I am putting buttons in the center. Wouldn&#39;t that do it?","body":"I am putting buttons in the center. Wouldn&#39;t that do it?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1636622807,"post_id":69925545,"comment_id":123608251,"body_markdown":"*&quot;Wouldn&#39;t that do it?&quot;* Packing the frame. Have you done that?","body":"<i>&quot;Wouldn&#39;t that do it?&quot;</i> Packing the frame. Have you done that?"}],"owner":{"account_id":8091424,"reputation":21,"user_id":6445074,"display_name":"Nick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636635076,"creation_date":1636620949,"question_id":69925545,"body_markdown":"I want to display two empty `JList` instances in East and West borders to which I would add elements dynamically in a program. \r\n\r\nI am facing following problem:\r\n\r\n1. The `leftall` and `rightall` functionality isn&#39;t working as required. These buttons are meant to shift all elements to the left list and right list respectively.\r\n______________\r\n\r\n       public class MyFrame extends JFrame {\r\n\r\n        MyFrame(){\r\n            setSize(500,500);\r\n            setTitle(&quot;Challange&quot;);\r\n            Container c = getContentPane();\r\n            JPanel jp = new JPanel();\r\n            JTextField textfield = new JTextField(10);\r\n            JButton btn = new JButton(&quot;Add&quot;);\r\n            jp.add(textfield);\r\n            jp.add(btn);\r\n            c.add(jp, BorderLayout.NORTH);\r\n\r\n            DefaultListModel&lt;String&gt; listmodel1 = new DefaultListModel&lt;&gt;();\r\n            DefaultListModel&lt;String&gt; listmodel2 = new DefaultListModel&lt;&gt;();\r\n            JList&lt;String&gt; list = new JList&lt;&gt;(listmodel1);\r\n            JList&lt;String&gt; list1 = new JList&lt;&gt;(listmodel2);\r\n            c.add(new JScrollPane(list),BorderLayout.WEST);\r\n            c.add(new JScrollPane(list1),BorderLayout.EAST);\r\n\r\n            JPanel jp1 = new JPanel(new GridLayout(4,0));\r\n            JButton right = new JButton(&quot;&gt;&quot;);\r\n            JButton rightall = new JButton(&quot;&gt;&gt;&quot;);\r\n            JButton left = new JButton(&quot;&lt;&quot;);\r\n            JButton leftall = new JButton(&quot;&lt;&lt;&quot;);\r\n            jp1.add(right);\r\n            jp1.add(rightall);\r\n            jp1.add(left);\r\n            jp1.add(leftall);\r\n            c.add(jp1,BorderLayout.CENTER);\r\n\r\n            Action action = new AbstractAction()\r\n            {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    String text = textfield.getText();\r\n                    if(!text.equals(&quot;&quot;)){\r\n                        listmodel1.addElement(text);\r\n                    }\r\n                    textfield.setText(&quot;&quot;);\r\n                }\r\n            };\r\n            textfield.addActionListener(action);\r\n            btn.addActionListener(action);\r\n\r\n            JButton remove = new JButton(&quot;Remove&quot;);\r\n            remove.setEnabled(false);\r\n            c.add(remove, BorderLayout.SOUTH);\r\n\r\n            list.addListSelectionListener(new ListSelectionListener() {\r\n                @Override\r\n                public void valueChanged(ListSelectionEvent e) {\r\n                    remove.setEnabled(true);\r\n                }\r\n            });\r\n\r\n            remove.addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseClicked(MouseEvent e) {\r\n                    super.mouseClicked(e);\r\n                    List&lt;String&gt; selecteditem = list.getSelectedValuesList();\r\n\r\n                    for(String items:selecteditem){\r\n                        listmodel1.removeElement(items);\r\n                    }\r\n                }\r\n\r\n            });\r\n\r\n            left.addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseClicked(MouseEvent e) {\r\n                    super.mouseClicked(e);\r\n                    List&lt;String&gt; selecteditem = list1.getSelectedValuesList();\r\n\r\n                    for(String items:selecteditem){\r\n                        listmodel1.addElement(items);\r\n                        listmodel2.removeElement(items);\r\n                    }\r\n                }\r\n            });\r\n\r\n            right.addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseClicked(MouseEvent e) {\r\n                    super.mouseClicked(e);\r\n                    List&lt;String&gt; selecteditem = list.getSelectedValuesList();\r\n\r\n                    for(String items:selecteditem){\r\n                        listmodel2.addElement(items);\r\n                        listmodel1.removeElement(items);\r\n                    }\r\n                }\r\n            });\r\n\r\n            rightall.addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseClicked(MouseEvent e) {\r\n                    super.mouseClicked(e);\r\n                    ListModel&lt;String&gt; selecteditem = list.getModel();\r\n\r\n                    for(int i=0; i&lt;selecteditem.getSize();i++){\r\n                        listmodel2.addElement(selecteditem.getElementAt(i));\r\n                        listmodel1.removeElement(selecteditem.getElementAt(i));\r\n                    }\r\n                }\r\n            });\r\n\r\n            leftall.addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseClicked(MouseEvent e) {\r\n                    super.mouseClicked(e);\r\n                    ListModel&lt;String&gt; selecteditem = list1.getModel();\r\n\r\n                    for(int i=0; i&lt;selecteditem.getSize();i++){\r\n                        listmodel1.addElement(selecteditem.getElementAt(i));\r\n                        listmodel2.removeElement(selecteditem.getElementAt(i));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n       public static void main(String[] args) {\r\n           MyFrame mf = new MyFrame();\r\n           mf.setVisible(true);\r\n       }\r\n    }","title":"JList are hiding the center border in Borderlayout","body":"<p>I want to display two empty <code>JList</code> instances in East and West borders to which I would add elements dynamically in a program.</p>\n<p>I am facing following problem:</p>\n<ol>\n<li>The <code>leftall</code> and <code>rightall</code> functionality isn't working as required. These buttons are meant to shift all elements to the left list and right list respectively.</li>\n</ol>\n<hr />\n<pre><code>   public class MyFrame extends JFrame {\n\n    MyFrame(){\n        setSize(500,500);\n        setTitle(&quot;Challange&quot;);\n        Container c = getContentPane();\n        JPanel jp = new JPanel();\n        JTextField textfield = new JTextField(10);\n        JButton btn = new JButton(&quot;Add&quot;);\n        jp.add(textfield);\n        jp.add(btn);\n        c.add(jp, BorderLayout.NORTH);\n\n        DefaultListModel&lt;String&gt; listmodel1 = new DefaultListModel&lt;&gt;();\n        DefaultListModel&lt;String&gt; listmodel2 = new DefaultListModel&lt;&gt;();\n        JList&lt;String&gt; list = new JList&lt;&gt;(listmodel1);\n        JList&lt;String&gt; list1 = new JList&lt;&gt;(listmodel2);\n        c.add(new JScrollPane(list),BorderLayout.WEST);\n        c.add(new JScrollPane(list1),BorderLayout.EAST);\n\n        JPanel jp1 = new JPanel(new GridLayout(4,0));\n        JButton right = new JButton(&quot;&gt;&quot;);\n        JButton rightall = new JButton(&quot;&gt;&gt;&quot;);\n        JButton left = new JButton(&quot;&lt;&quot;);\n        JButton leftall = new JButton(&quot;&lt;&lt;&quot;);\n        jp1.add(right);\n        jp1.add(rightall);\n        jp1.add(left);\n        jp1.add(leftall);\n        c.add(jp1,BorderLayout.CENTER);\n\n        Action action = new AbstractAction()\n        {\n            @Override\n            public void actionPerformed(ActionEvent e)\n            {\n                String text = textfield.getText();\n                if(!text.equals(&quot;&quot;)){\n                    listmodel1.addElement(text);\n                }\n                textfield.setText(&quot;&quot;);\n            }\n        };\n        textfield.addActionListener(action);\n        btn.addActionListener(action);\n\n        JButton remove = new JButton(&quot;Remove&quot;);\n        remove.setEnabled(false);\n        c.add(remove, BorderLayout.SOUTH);\n\n        list.addListSelectionListener(new ListSelectionListener() {\n            @Override\n            public void valueChanged(ListSelectionEvent e) {\n                remove.setEnabled(true);\n            }\n        });\n\n        remove.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                List&lt;String&gt; selecteditem = list.getSelectedValuesList();\n\n                for(String items:selecteditem){\n                    listmodel1.removeElement(items);\n                }\n            }\n\n        });\n\n        left.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                List&lt;String&gt; selecteditem = list1.getSelectedValuesList();\n\n                for(String items:selecteditem){\n                    listmodel1.addElement(items);\n                    listmodel2.removeElement(items);\n                }\n            }\n        });\n\n        right.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                List&lt;String&gt; selecteditem = list.getSelectedValuesList();\n\n                for(String items:selecteditem){\n                    listmodel2.addElement(items);\n                    listmodel1.removeElement(items);\n                }\n            }\n        });\n\n        rightall.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                ListModel&lt;String&gt; selecteditem = list.getModel();\n\n                for(int i=0; i&lt;selecteditem.getSize();i++){\n                    listmodel2.addElement(selecteditem.getElementAt(i));\n                    listmodel1.removeElement(selecteditem.getElementAt(i));\n                }\n            }\n        });\n\n        leftall.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                ListModel&lt;String&gt; selecteditem = list1.getModel();\n\n                for(int i=0; i&lt;selecteditem.getSize();i++){\n                    listmodel1.addElement(selecteditem.getElementAt(i));\n                    listmodel2.removeElement(selecteditem.getElementAt(i));\n                }\n            }\n        });\n    }\n\n\n   public static void main(String[] args) {\n       MyFrame mf = new MyFrame();\n       mf.setVisible(true);\n   }\n}\n</code></pre>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":23305286,"reputation":1,"user_id":17385332,"display_name":"Dhananjaya Samanta Singhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636635013,"creation_date":1636626842,"answer_id":69926803,"question_id":69926794,"body_markdown":"```java\r\n@Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n        return http\r\n         .csrf().requireCsrfProtectionMatcher(getURLsForDisabledCSRF()).and()\r\n                .authorizeExchange()\r\n                .anyExchange().authenticated()\r\n                .and().httpBasic()\r\n                .and().build();\r\n    }\r\n\r\n    public NegatedServerWebExchangeMatcher getURLsForDisabledCSRF() {\r\n        return new NegatedServerWebExchangeMatcher(\r\n                exchange -&gt; ServerWebExchangeMatchers.pathMatchers(&quot;/api/**&quot;)\r\n                        .matches(exchange));\r\n    }\r\n```","title":"How to add CSRF disable for specific URL in Spring Web Flux Basic Authentication (Reactive Programming)","body":"<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n        return http\n         .csrf().requireCsrfProtectionMatcher(getURLsForDisabledCSRF()).and()\n                .authorizeExchange()\n                .anyExchange().authenticated()\n                .and().httpBasic()\n                .and().build();\n    }\n\n    public NegatedServerWebExchangeMatcher getURLsForDisabledCSRF() {\n        return new NegatedServerWebExchangeMatcher(\n                exchange -&gt; ServerWebExchangeMatchers.pathMatchers(&quot;/api/**&quot;)\n                        .matches(exchange));\n    }\n</code></pre>\n"}],"owner":{"account_id":23305286,"reputation":1,"user_id":17385332,"display_name":"Dhananjaya Samanta Singhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636635013,"creation_date":1636626800,"question_id":69926794,"body_markdown":"\r\nHow to add CSRF disable for specific URL in Spring Web Flux Basic Authentication (Reactive Programming)\r\n```java\r\n  @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n        return http\r\n                .csrf().disable() // Here we need to add\r\n                .authorizeExchange()\r\n                .anyExchange().authenticated()\r\n                .and().httpBasic()\r\n                .and().build();\r\n    }\r\n```","title":"How to add CSRF disable for specific URL in Spring Web Flux Basic Authentication (Reactive Programming)","body":"<p>How to add CSRF disable for specific URL in Spring Web Flux Basic Authentication (Reactive Programming)</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n        return http\n                .csrf().disable() // Here we need to add\n                .authorizeExchange()\n                .anyExchange().authenticated()\n                .and().httpBasic()\n                .and().build();\n    }\n</code></pre>\n"},{"tags":["java","hibernate","entity","querydsl"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636626784,"post_id":69926756,"comment_id":123609789,"body_markdown":"Post the full stack trace and ideally the code of the project to Github","body":"Post the full stack trace and ideally the code of the project to Github"},{"owner":{"account_id":17660540,"reputation":13,"user_id":12819091,"display_name":"nozikov"},"score":0,"creation_date":1636632107,"post_id":69926756,"comment_id":123611764,"body_markdown":"@ArthurKlezovich I&#39;m debugging this issue with tests, therefore, only NPE is visible in the log, an error is thrown by QuerydslJpaPredicateExecutor inside the findAll method when the query.fetch () method is called","body":"@ArthurKlezovich I&#39;m debugging this issue with tests, therefore, only NPE is visible in the log, an error is thrown by QuerydslJpaPredicateExecutor inside the findAll method when the query.fetch () method is called"}],"owner":{"account_id":17660540,"reputation":13,"user_id":12819091,"display_name":"nozikov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636634973,"creation_date":1636626626,"question_id":69926756,"body_markdown":"Let&#39;s say I have an entity:\r\n\r\n```Java\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;rg_request&quot;)\r\n@TypeDef(name = &quot;listTypeConverter&quot;, typeClass = ListTypeConverter.class)\r\npublic class Request {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;request_id&quot;, updatable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;shop_group_ids&quot;)\r\n    @Type(type = &quot;listTypeConverter&quot;)\r\n    private List&lt;UUID&gt; shopGroupIds;\r\n\r\n    @Column(name = &quot;brand_id&quot;, columnDefinition = &quot;uuid&quot;, updatable = false)\r\n    @Type(type = &quot;pg-uuid&quot;)\r\n    private UUID brandId;\r\n}\r\n```\r\n\r\nAnd I want to find using queryDsl in the database only those requests that contain in the shopGroupIds field at least one match from the passed shopGroup\r\n\r\n```Java\r\npublic Page&lt;Request&gt; getRequests(Integer page, List&lt;String&gt; criteria,\r\n                                 List&lt;String&gt; sort, Integer pageSize) {\r\n        return requestRepository.findAll(\r\n                getPredicate(criteria),\r\n                PageRequest.of(page, pageSize, SortUtils.parseSortList(sort, request.orderColumn, DESC))\r\n        );\r\n}\r\n\r\nprivate Predicate getPredicate(List&lt;String&gt; criteria) {\r\n        List&lt;UUID&gt; shopGroupIds = shopGroupService.getShopGroupsByOwner(getCurrentUserId()).stream()\r\n                .map(ShopGroup::getId)\r\n                .collect(toList());\r\n        return SearchCriteriaBuilder.builder()\r\n                .forEntity(Request.class)\r\n                .filters(criteria)\r\n                .build()\r\n                .and(request.shopGroupIds.any().in(shopGroupIds));\r\n}\r\n```\r\n\r\n\r\n\r\nIn the `Page &lt;T&gt; findAll(Predicate predicate, Pageable pageable)` method of the `QuerydslJpaPredicateExecutor` class, when you call q`uerydsl.applyPagination (pageable, createQuery (predicate) .select (path))`, the following query is formed:\r\n\r\n      select request\r\n    from Request request\r\n    where ?1 = ?1 and request.brandId = ?2 and exists (select 1\r\n    from Request request_105380127\r\n      inner join request_105380127.shopGroupIds as request_shopGroupIds_0\r\n    where request_105380127 = request and request_shopGroupIds_0 in (?3))\r\n    order by request.id asc\r\n\r\nand when `query.fetch()` is called I get NullPointerException\r\n\r\nAnd without this snippet: `.and(request.shopGroupIds.any().in(shopGroupIds))` all works\r\n\r\nDoes anyone know what the problem might be?\r\n\r\nListTypeConverter:\r\n\r\n```Java\r\npublic class ListTypeConverter {\r\n\r\n    @Override\r\n    public int[] sqlTypes() {\r\n        return new int[] { Types.ARRAY };\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;?&gt; returnedClass() {\r\n        return List.class;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;?&gt; nullSafeGet(ResultSet rs, String[] names, SharedSessionContractImplementor session, Object owner) throws HibernateException, SQLException {\r\n        Array array = rs.getArray(names[0]);\r\n        return array == null ? null : Arrays.asList((Object[]) array.getArray());\r\n    }\r\n\r\n    @Override\r\n    public void nullSafeSet(PreparedStatement st, Object value, int index, SharedSessionContractImplementor session) throws HibernateException, SQLException {\r\n        Connection c = st.getConnection();\r\n        if (value == null) {\r\n            st.setNull(index, Types.ARRAY);\r\n        } else {\r\n            st.setArray(index, c.createArrayOf(&quot;text&quot;, ((List&lt;?&gt;) value).toArray()));\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Search by entity where list contains at least one value from the passed list in Java Hibernate","body":"<p>Let's say I have an entity:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;rg_request&quot;)\n@TypeDef(name = &quot;listTypeConverter&quot;, typeClass = ListTypeConverter.class)\npublic class Request {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;request_id&quot;, updatable = false)\n    private Long id;\n\n    @Column(name = &quot;shop_group_ids&quot;)\n    @Type(type = &quot;listTypeConverter&quot;)\n    private List&lt;UUID&gt; shopGroupIds;\n\n    @Column(name = &quot;brand_id&quot;, columnDefinition = &quot;uuid&quot;, updatable = false)\n    @Type(type = &quot;pg-uuid&quot;)\n    private UUID brandId;\n}\n</code></pre>\n<p>And I want to find using queryDsl in the database only those requests that contain in the shopGroupIds field at least one match from the passed shopGroup</p>\n<pre><code>public Page&lt;Request&gt; getRequests(Integer page, List&lt;String&gt; criteria,\n                                 List&lt;String&gt; sort, Integer pageSize) {\n        return requestRepository.findAll(\n                getPredicate(criteria),\n                PageRequest.of(page, pageSize, SortUtils.parseSortList(sort, request.orderColumn, DESC))\n        );\n}\n\nprivate Predicate getPredicate(List&lt;String&gt; criteria) {\n        List&lt;UUID&gt; shopGroupIds = shopGroupService.getShopGroupsByOwner(getCurrentUserId()).stream()\n                .map(ShopGroup::getId)\n                .collect(toList());\n        return SearchCriteriaBuilder.builder()\n                .forEntity(Request.class)\n                .filters(criteria)\n                .build()\n                .and(request.shopGroupIds.any().in(shopGroupIds));\n}\n</code></pre>\n<p>In the <code>Page &lt;T&gt; findAll(Predicate predicate, Pageable pageable)</code> method of the <code>QuerydslJpaPredicateExecutor</code> class, when you call q<code>uerydsl.applyPagination (pageable, createQuery (predicate) .select (path))</code>, the following query is formed:</p>\n<pre><code>  select request\nfrom Request request\nwhere ?1 = ?1 and request.brandId = ?2 and exists (select 1\nfrom Request request_105380127\n  inner join request_105380127.shopGroupIds as request_shopGroupIds_0\nwhere request_105380127 = request and request_shopGroupIds_0 in (?3))\norder by request.id asc\n</code></pre>\n<p>and when <code>query.fetch()</code> is called I get NullPointerException</p>\n<p>And without this snippet: <code>.and(request.shopGroupIds.any().in(shopGroupIds))</code> all works</p>\n<p>Does anyone know what the problem might be?</p>\n<p>ListTypeConverter:</p>\n<pre><code>public class ListTypeConverter {\n\n    @Override\n    public int[] sqlTypes() {\n        return new int[] { Types.ARRAY };\n    }\n\n    @Override\n    public Class&lt;?&gt; returnedClass() {\n        return List.class;\n    }\n\n    @Override\n    public List&lt;?&gt; nullSafeGet(ResultSet rs, String[] names, SharedSessionContractImplementor session, Object owner) throws HibernateException, SQLException {\n        Array array = rs.getArray(names[0]);\n        return array == null ? null : Arrays.asList((Object[]) array.getArray());\n    }\n\n    @Override\n    public void nullSafeSet(PreparedStatement st, Object value, int index, SharedSessionContractImplementor session) throws HibernateException, SQLException {\n        Connection c = st.getConnection();\n        if (value == null) {\n            st.setNull(index, Types.ARRAY);\n        } else {\n            st.setArray(index, c.createArrayOf(&quot;text&quot;, ((List&lt;?&gt;) value).toArray()));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","interactive-brokers","tws"],"comments":[{"owner":{"account_id":1018734,"reputation":1162,"user_id":1029698,"accept_rate":69,"display_name":"EpicAdv"},"score":0,"creation_date":1642633193,"post_id":69928533,"comment_id":125126416,"body_markdown":"I&#39;m having same problem. Have you resolved? My problem is on a AWS EC2 server -- maybe somehow related to that?","body":"I&#39;m having same problem. Have you resolved? My problem is on a AWS EC2 server -- maybe somehow related to that?"},{"owner":{"account_id":1018734,"reputation":1162,"user_id":1029698,"accept_rate":69,"display_name":"EpicAdv"},"score":0,"creation_date":1642693558,"post_id":69928533,"comment_id":125144416,"body_markdown":"Update for others that may bump into this: I recreated the instance from scratch and the error went away.","body":"Update for others that may bump into this: I recreated the instance from scratch and the error went away."}],"owner":{"account_id":13519094,"reputation":43,"user_id":9752874,"display_name":"py_dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636634740,"creation_date":1636634740,"question_id":69928533,"body_markdown":"I am using the IB Gateway to create a web portal. Followed the instructions from https://interactivebrokers.github.io/cpwebapi/ for local setup, everything is working fine on my local system but on production the websockets are giving error {error: &#39;No accounts&#39;, code: 500} even after successful login to IBKR. It shows authenticated as true when I access endpoints v1/api/tickle and v1/api/iserver/auth/status.\r\nAny help would be appreciated.\r\nThanks in advance.","title":"Error in IB Gateway websockets &quot;No accounts&quot; with code 500","body":"<p>I am using the IB Gateway to create a web portal. Followed the instructions from <a href=\"https://interactivebrokers.github.io/cpwebapi/\" rel=\"nofollow noreferrer\">https://interactivebrokers.github.io/cpwebapi/</a> for local setup, everything is working fine on my local system but on production the websockets are giving error {error: 'No accounts', code: 500} even after successful login to IBKR. It shows authenticated as true when I access endpoints v1/api/tickle and v1/api/iserver/auth/status.\nAny help would be appreciated.\nThanks in advance.</p>\n"},{"tags":["java","jvm","visualvm"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1343861988,"post_id":11768615,"comment_id":15628519,"body_markdown":"Don&#39;t trust the 3.2GB number.  It may include filesystem buffers, which are essentially available memory when it is needed by a process.  To determine if memory is an issue look at the size of the swap file.  If it&#39;s small, you are not filling up memory.","body":"Don&#39;t trust the 3.2GB number.  It may include filesystem buffers, which are essentially available memory when it is needed by a process.  To determine if memory is an issue look at the size of the swap file.  If it&#39;s small, you are not filling up memory."},{"owner":{"account_id":44027,"reputation":88490,"user_id":128967,"accept_rate":85,"display_name":"Naftuli Kay"},"score":0,"creation_date":1343863158,"post_id":11768615,"comment_id":15628771,"body_markdown":"If I keep pushing jobs through the server, memory only increases until it starts eating up on-disk swap space, bringing everything on the computer to a grind. Is there a way to tell Tomcat to only use up to X amount of RAM and no more? If I have a memory leak, I&#39;d ilke to see it, but I&#39;m really not seeing anything too fishy. When I profile my app with VisualVM, I can see that my objects are being GC&#39;d properly and nothing&#39;s sticking around. I&#39;m turning off swap for now.","body":"If I keep pushing jobs through the server, memory only increases until it starts eating up on-disk swap space, bringing everything on the computer to a grind. Is there a way to tell Tomcat to only use up to X amount of RAM and no more? If I have a memory leak, I&#39;d ilke to see it, but I&#39;m really not seeing anything too fishy. When I profile my app with VisualVM, I can see that my objects are being GC&#39;d properly and nothing&#39;s sticking around. I&#39;m turning off swap for now."},{"owner":{"account_id":44027,"reputation":88490,"user_id":128967,"accept_rate":85,"display_name":"Naftuli Kay"},"score":0,"creation_date":1343864354,"post_id":11768615,"comment_id":15629001,"body_markdown":"How can I limit the expansion of JVM system memory? I&#39;d rather have it die with an outofmemoryerror than destroy my computer :)","body":"How can I limit the expansion of JVM system memory? I&#39;d rather have it die with an outofmemoryerror than destroy my computer :)"},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1343865066,"post_id":11768615,"comment_id":15629155,"body_markdown":"Does the Java app make any external calls (`exec`)? Another place I&#39;ve seen excessive memory usage is accessing a network drive.","body":"Does the Java app make any external calls (<code>exec</code>)? Another place I&#39;ve seen excessive memory usage is accessing a network drive."},{"owner":{"account_id":44027,"reputation":88490,"user_id":128967,"accept_rate":85,"display_name":"Naftuli Kay"},"score":0,"creation_date":1343865543,"post_id":11768615,"comment_id":15629250,"body_markdown":"Nope and nope. Just checked into the open files by the JVM and that looks fine too. It&#39;s really strange that I&#39;m seeing such radically different values from the system and from VisualVM.","body":"Nope and nope. Just checked into the open files by the JVM and that looks fine too. It&#39;s really strange that I&#39;m seeing such radically different values from the system and from VisualVM."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1343867989,"post_id":11768615,"comment_id":15629721,"body_markdown":"possible duplicate of [Limit jvm process memory on ubuntu](http://stackoverflow.com/questions/9145769/limit-jvm-process-memory-on-ubuntu)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9145769/limit-jvm-process-memory-on-ubuntu\">Limit jvm process memory on ubuntu</a>"},{"owner":{"account_id":124682,"reputation":30003,"user_id":319931,"accept_rate":75,"display_name":"Mechanical snail"},"score":0,"creation_date":1343869668,"post_id":11768615,"comment_id":15630025,"body_markdown":"@TKKocheran: If you want your process to die when the JVM exceeds some amount of memory, see http://stackoverflow.com/a/11769692/319931.","body":"@TKKocheran: If you want your process to die when the JVM exceeds some amount of memory, see <a href=\"http://stackoverflow.com/a/11769692/319931\">stackoverflow.com/a/11769692/319931</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1636634573,"creation_date":1343868021,"answer_id":11769540,"question_id":11768615,"body_markdown":"**You can&#39;t control what you want to control**, `-Xmx` only controls the Java Heap, it doesn&#39;t control consumption of *native memory* by the JVM, which is consumed completely differently based on implementation. VisualVM is only showing you what the Heap is comsuming, it doesn&#39;t show what the entire JVM is consuming as *native memory* as an OS process. You will have to use OS level tools to see that, and they will report radically different numbers, usually much much larger than anything VisualVM reports, because the JVM uses up *native memory* in an entirely different way.\r\n\r\nFrom the following article [Thanks for the Memory ( Understanding How the JVM uses Native Memory on Windows and Linux )][1]\r\n\r\nMaintaining the heap and garbage collector use native memory you can&#39;t control.\r\n\r\n&gt; More native memory is required to maintain the state of the\r\n&gt; memory-management system maintaining the Java heap. Data structures\r\n&gt; must be allocated to track free storage and record progress when\r\n&gt; collecting garbage. The exact size and nature of these data structures\r\n&gt; varies with implementation, but many are proportional to the size of\r\n&gt; the heap.\r\n\r\nand the JIT compiler uses native memory just like `javac` would\r\n\r\n&gt; Bytecode compilation uses native memory (in the same way that a static\r\n&gt; compiler such as gcc requires memory to run), but both the input (the\r\n&gt; bytecode) and the output (the executable code) from the JIT must also\r\n&gt; be stored in native memory. Java applications that contain many\r\n&gt; JIT-compiled methods use more native memory than smaller applications.\r\n\r\nand then you have the classloader(s) which use native memory\r\n\r\n&gt; Java applications are composed of classes that define object structure\r\n&gt; and method logic. They also use classes from the Java runtime class\r\n&gt; libraries (such as java.lang.String) and may use third-party\r\n&gt; libraries. These classes need to be stored in memory for as long as\r\n&gt; they are being used. How classes are stored varies by implementation.\r\n\r\nI won&#39;t even start quoting the section on Threads, I think you get the idea that\r\n`-Xmx` doesn&#39;t control what you think it controls, it controls the JVM heap, not everything\r\ngoes in the JVM heap, and the heap takes up way more native memory that what you specify for \r\nmanagement and book keeping.\r\n\r\n[Plain and simple the JVM uses more memory than what is supplied in `-Xms` and `-Xmx` and the other command line parameters.][2] \r\n\r\nHere is a [very detailed article on how the JVM allocates and manages memory][1], it isn&#39;t as simple as what you are expected based on your assumptions in your question, it is well worth a comprehensive read.\r\n\r\nThreadStack size in many implementations have minimum limits that vary by Operating System and sometimes JVM version; the threadstack setting is ignored if you set the limit below the native OS limit for the JVM or the OS ( ulimit on *nix has to be set instead sometimes ). Other command line options work the same way, silently defaulting to higher values when too small values are supplied. Don&#39;t assume that all the values passed in represent what are actually used.\r\n\r\nThe Classloaders, and Tomcat has more than one, eat up lots of memory that isn&#39;t documented easily. The JIT eats up a lot of memory, trading space for time, which is a good trade off most of the time. \r\n\r\n\r\n  [1]: https://web.archive.org/web/20210314194158/http://www.ibm.com/developerworks/java/library/j-nativememory-linux/\r\n  [2]: https://stackoverflow.com/a/9146775/177800","title":"JVM memory usage out of control","body":"<p><strong>You can't control what you want to control</strong>, <code>-Xmx</code> only controls the Java Heap, it doesn't control consumption of <em>native memory</em> by the JVM, which is consumed completely differently based on implementation. VisualVM is only showing you what the Heap is comsuming, it doesn't show what the entire JVM is consuming as <em>native memory</em> as an OS process. You will have to use OS level tools to see that, and they will report radically different numbers, usually much much larger than anything VisualVM reports, because the JVM uses up <em>native memory</em> in an entirely different way.</p>\n<p>From the following article <a href=\"https://web.archive.org/web/20210314194158/http://www.ibm.com/developerworks/java/library/j-nativememory-linux/\" rel=\"nofollow noreferrer\">Thanks for the Memory ( Understanding How the JVM uses Native Memory on Windows and Linux )</a></p>\n<p>Maintaining the heap and garbage collector use native memory you can't control.</p>\n<blockquote>\n<p>More native memory is required to maintain the state of the\nmemory-management system maintaining the Java heap. Data structures\nmust be allocated to track free storage and record progress when\ncollecting garbage. The exact size and nature of these data structures\nvaries with implementation, but many are proportional to the size of\nthe heap.</p>\n</blockquote>\n<p>and the JIT compiler uses native memory just like <code>javac</code> would</p>\n<blockquote>\n<p>Bytecode compilation uses native memory (in the same way that a static\ncompiler such as gcc requires memory to run), but both the input (the\nbytecode) and the output (the executable code) from the JIT must also\nbe stored in native memory. Java applications that contain many\nJIT-compiled methods use more native memory than smaller applications.</p>\n</blockquote>\n<p>and then you have the classloader(s) which use native memory</p>\n<blockquote>\n<p>Java applications are composed of classes that define object structure\nand method logic. They also use classes from the Java runtime class\nlibraries (such as java.lang.String) and may use third-party\nlibraries. These classes need to be stored in memory for as long as\nthey are being used. How classes are stored varies by implementation.</p>\n</blockquote>\n<p>I won't even start quoting the section on Threads, I think you get the idea that\n<code>-Xmx</code> doesn't control what you think it controls, it controls the JVM heap, not everything\ngoes in the JVM heap, and the heap takes up way more native memory that what you specify for\nmanagement and book keeping.</p>\n<p><a href=\"https://stackoverflow.com/a/9146775/177800\">Plain and simple the JVM uses more memory than what is supplied in <code>-Xms</code> and <code>-Xmx</code> and the other command line parameters.</a></p>\n<p>Here is a <a href=\"https://web.archive.org/web/20210314194158/http://www.ibm.com/developerworks/java/library/j-nativememory-linux/\" rel=\"nofollow noreferrer\">very detailed article on how the JVM allocates and manages memory</a>, it isn't as simple as what you are expected based on your assumptions in your question, it is well worth a comprehensive read.</p>\n<p>ThreadStack size in many implementations have minimum limits that vary by Operating System and sometimes JVM version; the threadstack setting is ignored if you set the limit below the native OS limit for the JVM or the OS ( ulimit on *nix has to be set instead sometimes ). Other command line options work the same way, silently defaulting to higher values when too small values are supplied. Don't assume that all the values passed in represent what are actually used.</p>\n<p>The Classloaders, and Tomcat has more than one, eat up lots of memory that isn't documented easily. The JIT eats up a lot of memory, trading space for time, which is a good trade off most of the time.</p>\n"},{"tags":[],"owner":{"account_id":303989,"reputation":4782,"user_id":613247,"accept_rate":78,"display_name":"Edmon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1343868401,"creation_date":1343868401,"answer_id":11769572,"question_id":11768615,"body_markdown":"You should also check for CPU usage and garbage collector.  \r\nIt is possible that [garbage collection pauses][1] and the CPU gc consumes further slow down your machine.\r\n\r\n\r\n  [1]: http://java.dzone.com/articles/how-tame-java-gc-pauses","title":"JVM memory usage out of control","body":"<p>You should also check for CPU usage and garbage collector.<br>\nIt is possible that <a href=\"http://java.dzone.com/articles/how-tame-java-gc-pauses\" rel=\"nofollow\">garbage collection pauses</a> and the CPU gc consumes further slow down your machine.</p>\n"}],"owner":{"account_id":44027,"reputation":88490,"user_id":128967,"accept_rate":85,"display_name":"Naftuli Kay"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8523,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":11769540,"answer_count":2,"score":10,"last_activity_date":1636634573,"creation_date":1343860906,"question_id":11768615,"body_markdown":"I have a Tomcat webapp which does some pretty memory and CPU-intensive tasks on the behalf of clients. This is normal and is the desired functionality. However, when I run Tomcat, memory usage skyrockets over time to upwards of 4.0GB at which time I usually kill the process as it&#39;s messing with everything else running on my development machine:\r\n\r\n![enter image description here][1]\r\n\r\nI thought I had inadvertently introduced a memory leak with my code, but after checking into it with VisualVM, I&#39;m seeing a different story:\r\n\r\n![enter image description here][2]\r\n\r\nVisualVM is showing the heap as taking up approximately a GB of RAM, which is what I set it to do with `CATALINA_OPTS=&quot;-Xms256m -Xmx1024&quot;`.\r\n\r\nWhy is my system seeing this process as taking up a ton of memory when according to VisualVM, it&#39;s taking up hardly any at all?\r\n\r\n---\r\n\r\nAfter a bit of further sniffing around, I&#39;m noticing that if multiple jobs are running simultaneously in the applications, memory does not get freed. However, if I wait for each job to complete before submitting another to my `BlockingQueue` serviced by an `ExecutorService`, then memory is recycled effectively. How can I debug this? Why would garbage collection/memory reuse differ? \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/13VlG.jpg\r\n  [2]: http://i.stack.imgur.com/YAZ5Q.png","title":"JVM memory usage out of control","body":"<p>I have a Tomcat webapp which does some pretty memory and CPU-intensive tasks on the behalf of clients. This is normal and is the desired functionality. However, when I run Tomcat, memory usage skyrockets over time to upwards of 4.0GB at which time I usually kill the process as it's messing with everything else running on my development machine:</p>\n\n<p><img src=\"https://i.stack.imgur.com/13VlG.jpg\" alt=\"enter image description here\"></p>\n\n<p>I thought I had inadvertently introduced a memory leak with my code, but after checking into it with VisualVM, I'm seeing a different story:</p>\n\n<p><img src=\"https://i.stack.imgur.com/YAZ5Q.png\" alt=\"enter image description here\"></p>\n\n<p>VisualVM is showing the heap as taking up approximately a GB of RAM, which is what I set it to do with <code>CATALINA_OPTS=\"-Xms256m -Xmx1024\"</code>.</p>\n\n<p>Why is my system seeing this process as taking up a ton of memory when according to VisualVM, it's taking up hardly any at all?</p>\n\n<hr>\n\n<p>After a bit of further sniffing around, I'm noticing that if multiple jobs are running simultaneously in the applications, memory does not get freed. However, if I wait for each job to complete before submitting another to my <code>BlockingQueue</code> serviced by an <code>ExecutorService</code>, then memory is recycled effectively. How can I debug this? Why would garbage collection/memory reuse differ? </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8132,"page":1860,"page_size":100}
