{"items":[{"tags":["java","reactjs","backend","sanity"],"owner":{"account_id":27859534,"reputation":1,"user_id":21272377,"display_name":"Odai kassem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677149971,"creation_date":1677149824,"question_id":75543851,"body_markdown":"i have this error everytime i run sanity init command \r\nError: GET-request to https://api.sanity.io/v1/auth/providers resulted in HTTP 403 Forbidden\r\n    at onResponse (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/lib/_chunks/loadEnv-75c46c66.js:1666:13)\r\n    at applyMiddleware (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:60:15)\r\n    at onResponse (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:133:22)\r\n    at C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:115:55\r\n    at callback (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:423:46)\r\n    at C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:486:14\r\n    at DestroyableTransform.&lt;anonymous&gt; (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:260:13)\r\n    at Object.onceWrapper (node:events:627:28)\r\n    at DestroyableTransform.emit (node:events:525:35)\r\n    at endReadableNT (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/readable-stream/lib/_stream_readable.js:1010:12)\r\n\r\ni tried snaity login from my browser, but i have the same problem","title":"npx sanity Error while fetching and login?","body":"<p>i have this error everytime i run sanity init command\nError: GET-request to <a href=\"https://api.sanity.io/v1/auth/providers\" rel=\"nofollow noreferrer\">https://api.sanity.io/v1/auth/providers</a> resulted in HTTP 403 Forbidden\nat onResponse (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/lib/_chunks/loadEnv-75c46c66.js:1666:13)\nat applyMiddleware (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:60:15)\nat onResponse (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:133:22)\nat C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:115:55\nat callback (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:423:46)\nat C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:486:14\nat DestroyableTransform. (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:260:13)\nat Object.onceWrapper (node:events:627:28)\nat DestroyableTransform.emit (node:events:525:35)\nat endReadableNT (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/readable-stream/lib/_stream_readable.js:1010:12)</p>\n<p>i tried snaity login from my browser, but i have the same problem</p>\n"},{"tags":["java","rest","jersey","documentation","openapi"],"owner":{"account_id":20955267,"reputation":63,"user_id":15395946,"display_name":"emerick biron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677149814,"creation_date":1677149814,"question_id":75543847,"body_markdown":"I&#39;m developing a REST API in Java using the Jersey framework (server). I would like to know how to generate a basic OpenAPI documentation (no need for description or anything else) from my Java code. Could someone please tell me how to do this?\r\n\r\nThank you in advance.","title":"How to Generate OpenApi doc from java code","body":"<p>I'm developing a REST API in Java using the Jersey framework (server). I would like to know how to generate a basic OpenAPI documentation (no need for description or anything else) from my Java code. Could someone please tell me how to do this?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","hibernate-mapping"],"owner":{"account_id":15937106,"reputation":1426,"user_id":11499971,"display_name":"Rushikesh Sabde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677149762,"creation_date":1677149762,"question_id":75543838,"body_markdown":"A SQL table has a column of type XMLType. Having structure as below:-\r\n\r\n    &lt;values&gt;\r\n     &lt;value lang=&quot;EN&quot;&gt;Mozilla loran lipsum&lt;/value&gt;\r\n     &lt;value lang=&quot;ZH_CN&quot;&gt;Bugzilla 绕过安全限制安全漏洞&lt;/value&gt;\r\n     &lt;value lang=&quot;ZH_TW&quot;&gt;Bugzilla 操控安全性避開弱點&lt;/value&gt;\r\n     &lt;value lang=&quot;KO&quot;&gt;Mozilla 조작 보안 우회 취약점 &lt;/value&gt;\r\n     &lt;value lang=&quot;JA&quot;&gt;Bugzilla 操作におけるセキュリティ回避の脆弱性 &lt;/value&gt;\r\n    &lt;/values&gt;\r\n    \r\nI am trying to map this column with JPA entity field.\r\n\r\nI want this XML data in HashMap as `Map&lt;String, String&gt;` and the entry will be \r\n`Key :- Language`\r\n`Value :- Text`\r\n\r\nIs there any way to transform the XMLType into HashMap with above requirement.\r\n\r\n ","title":"Oracle XMLType mapping with entity object in Spring Data JPA","body":"<p>A SQL table has a column of type XMLType. Having structure as below:-</p>\n<pre><code>&lt;values&gt;\n &lt;value lang=&quot;EN&quot;&gt;Mozilla loran lipsum&lt;/value&gt;\n &lt;value lang=&quot;ZH_CN&quot;&gt;Bugzilla 绕过安全限制安全漏洞&lt;/value&gt;\n &lt;value lang=&quot;ZH_TW&quot;&gt;Bugzilla 操控安全性避開弱點&lt;/value&gt;\n &lt;value lang=&quot;KO&quot;&gt;Mozilla 조작 보안 우회 취약점 &lt;/value&gt;\n &lt;value lang=&quot;JA&quot;&gt;Bugzilla 操作におけるセキュリティ回避の脆弱性 &lt;/value&gt;\n&lt;/values&gt;\n</code></pre>\n<p>I am trying to map this column with JPA entity field.</p>\n<p>I want this XML data in HashMap as <code>Map&lt;String, String&gt;</code> and the entry will be\n<code>Key :- Language</code>\n<code>Value :- Text</code></p>\n<p>Is there any way to transform the XMLType into HashMap with above requirement.</p>\n"},{"tags":["java","collision"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1677148755,"post_id":75543553,"comment_id":133282223,"body_markdown":"Are you normalizing a vector of length zero?","body":"Are you normalizing a vector of length zero?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1677148804,"post_id":75543553,"comment_id":133282236,"body_markdown":"Nobody is going to hunt through your entire git repo for a problem, sorry. Please give us a [mcve] to replicate the problem, in the question.","body":"Nobody is going to hunt through your entire git repo for a problem, sorry. Please give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to replicate the problem, in the question."}],"answers":[{"comments":[{"owner":{"account_id":25403186,"reputation":3,"user_id":19212321,"display_name":"Dylan Hetzel"},"score":0,"creation_date":1677150650,"post_id":75543758,"comment_id":133282771,"body_markdown":"Yes, I believe I was doing a soft-copy of a vector at one point, when I should have copied their values, not pointers to their values.","body":"Yes, I believe I was doing a soft-copy of a vector at one point, when I should have copied their values, not pointers to their values."}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677149264,"creation_date":1677149264,"answer_id":75543758,"question_id":75543553,"body_markdown":"According to the [language specification](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.4):\r\n\r\n&gt; A floating-point operation that has no unique mathematically defined result produces NaN.\r\n&gt;\r\n&gt; All numeric operations with NaN as an operand produce NaN as a result.\r\n\r\nSo, the NaN is appearing either because you are creating a Vector instance with at least one of its coordinates set to NaN; or you are doing a mathematical operation with no unique mathematically defined result.\r\n\r\nAs you mention that this is in a method for normalizing the Vector, this is almost certainly arising from the division, where the denominator is zero.\r\n\r\nThis means that either you&#39;re calculating the denominator incorrectly, or the vector&#39;s length really is zero.","title":"NaN value being stored to custom &quot;Vector&quot; class","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.4\" rel=\"nofollow noreferrer\">language specification</a>:</p>\n<blockquote>\n<p>A floating-point operation that has no unique mathematically defined result produces NaN.</p>\n<p>All numeric operations with NaN as an operand produce NaN as a result.</p>\n</blockquote>\n<p>So, the NaN is appearing either because you are creating a Vector instance with at least one of its coordinates set to NaN; or you are doing a mathematical operation with no unique mathematically defined result.</p>\n<p>As you mention that this is in a method for normalizing the Vector, this is almost certainly arising from the division, where the denominator is zero.</p>\n<p>This means that either you're calculating the denominator incorrectly, or the vector's length really is zero.</p>\n"}],"owner":{"account_id":25403186,"reputation":3,"user_id":19212321,"display_name":"Dylan Hetzel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677156782,"accepted_answer_id":75543758,"answer_count":1,"score":-1,"last_activity_date":1677149264,"creation_date":1677148274,"question_id":75543553,"body_markdown":"I&#39;m working on a simple platformer for a game jam, but I didn&#39;t want to bother using a game engine. What the class &quot;Vector&quot; (I don&#39;t think that&#39;s the accurate name for what I&#39;m using it for, but whatever) is supposed to do is provide a way to group together to double values, &#39;x&#39; and &#39;y&#39;, into a single data type and also provide useful calculations, namely &quot;normalize&quot;, which takes an input of a vector (in effect a point) and returns a new vector of length one, going in the same direction from the origin. The link to the git hub repository is this: [Metroidvania-Template.git](https://github.com/DJPretzel-bit64/Metroidvania-Template.git)\r\n\r\nI tried to make it so that when a collision happened, it would find the difference between the last vector and the current one, normalize said vector, and add the normalized vector to the current vector until it no longer collides.","title":"NaN value being stored to custom &quot;Vector&quot; class","body":"<p>I'm working on a simple platformer for a game jam, but I didn't want to bother using a game engine. What the class &quot;Vector&quot; (I don't think that's the accurate name for what I'm using it for, but whatever) is supposed to do is provide a way to group together to double values, 'x' and 'y', into a single data type and also provide useful calculations, namely &quot;normalize&quot;, which takes an input of a vector (in effect a point) and returns a new vector of length one, going in the same direction from the origin. The link to the git hub repository is this: <a href=\"https://github.com/DJPretzel-bit64/Metroidvania-Template.git\" rel=\"nofollow noreferrer\">Metroidvania-Template.git</a></p>\n<p>I tried to make it so that when a collision happened, it would find the difference between the last vector and the current one, normalize said vector, and add the normalized vector to the current vector until it no longer collides.</p>\n"},{"tags":["java","apache-camel","wiremock","wiremock-standalone"],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677148922,"creation_date":1677148922,"question_id":75543697,"body_markdown":"I am testing with Wiremock and Apache Camel, while status code is different(2xx and 404), even Wiremock is configured to return nothing (no `withBody()` stubbing), the body I get from \r\n\r\n    exchange.getIn().getBody(String.class)\r\n\r\nand \r\n\r\n    exchange.getProperties().get(HTTP_RESPONSE_TEXT)\r\n\r\nare different.\r\n\r\nI have this log lines:\r\n\r\n    logger.debugf(&quot;Status code for endpoint %d: %d, response body: %s, response text(Camel header): %s&quot;, endpointId, statusCode, exchange.getIn().getBody(String.class), properties.get(HTTP_RESPONSE_TEXT));\r\n\r\nAnd, when it&#39;s 2xx:\r\n\r\n    Status code for endpoint 0: 200, response body: , response text(Camel header): null\r\n\r\nWhen it&#39;s 404:\r\n\r\n    Status code for endpoint 1: 404, response body: null, response text(Camel header): null\r\n\r\n\r\nSo, `properties.get(HTTP_RESPONSE_TEXT)` seems always consistent(always null). \r\n\r\nWhy the difference? So I always use `properties.get(HTTP_RESPONSE_TEXT)` right?\r\n\r\nWiremock stubbing is like:\r\n\r\n```java\r\n        server.stubFor(post(urlPathMatching(&quot;/operator/.*/endpoint/[0-9]*&quot;))\r\n                .withRequestBody(allFieldsPattern())\r\n                .willReturn(\r\n                        aResponse()\r\n                                .withStatus(200)\r\n                                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                ));\r\n        server.stubFor(delete(urlPathMatching(&quot;/operator/.*/endpoint/[0-9]*&quot;))\r\n                .willReturn(\r\n                        aResponse()\r\n                                .withStatus(200)\r\n                                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                ));\r\n```\r\n\r\nWhen I use java 11 `HttpClient`, it&#39;s always empty string. So I don&#39;t know which is standard. \r\n\r\nWiremock `2.33.2`, `jre8-standalone`. ","title":"Apache Camel: exchange.getIn().getBody(String.class) and properties.get(HTTP_RESPONSE_TEXT) inconsistent between 2xx and 404","body":"<p>I am testing with Wiremock and Apache Camel, while status code is different(2xx and 404), even Wiremock is configured to return nothing (no <code>withBody()</code> stubbing), the body I get from</p>\n<pre><code>exchange.getIn().getBody(String.class)\n</code></pre>\n<p>and</p>\n<pre><code>exchange.getProperties().get(HTTP_RESPONSE_TEXT)\n</code></pre>\n<p>are different.</p>\n<p>I have this log lines:</p>\n<pre><code>logger.debugf(&quot;Status code for endpoint %d: %d, response body: %s, response text(Camel header): %s&quot;, endpointId, statusCode, exchange.getIn().getBody(String.class), properties.get(HTTP_RESPONSE_TEXT));\n</code></pre>\n<p>And, when it's 2xx:</p>\n<pre><code>Status code for endpoint 0: 200, response body: , response text(Camel header): null\n</code></pre>\n<p>When it's 404:</p>\n<pre><code>Status code for endpoint 1: 404, response body: null, response text(Camel header): null\n</code></pre>\n<p>So, <code>properties.get(HTTP_RESPONSE_TEXT)</code> seems always consistent(always null).</p>\n<p>Why the difference? So I always use <code>properties.get(HTTP_RESPONSE_TEXT)</code> right?</p>\n<p>Wiremock stubbing is like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        server.stubFor(post(urlPathMatching(&quot;/operator/.*/endpoint/[0-9]*&quot;))\n                .withRequestBody(allFieldsPattern())\n                .willReturn(\n                        aResponse()\n                                .withStatus(200)\n                                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                ));\n        server.stubFor(delete(urlPathMatching(&quot;/operator/.*/endpoint/[0-9]*&quot;))\n                .willReturn(\n                        aResponse()\n                                .withStatus(200)\n                                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                ));\n</code></pre>\n<p>When I use java 11 <code>HttpClient</code>, it's always empty string. So I don't know which is standard.</p>\n<p>Wiremock <code>2.33.2</code>, <code>jre8-standalone</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1677148077,"post_id":75543473,"comment_id":133282042,"body_markdown":"You could get the fields and compare values using reflection, but for just 2 fields, i doubt it&#39;s worth it.","body":"You could get the fields and compare values using reflection, but for just 2 fields, i doubt it&#39;s worth it."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677148145,"post_id":75543473,"comment_id":133282061,"body_markdown":"It could be done using reflection, but that&#39;s almost always bad advice. Another more useful way would be a functional approach. But if this is just about those 2 fields, any other way than what you already do would result in more code and certainly more complexity of your code.","body":"It could be done using reflection, but that&#39;s almost always bad advice. Another more useful way would be a functional approach. But if this is just about those 2 fields, any other way than what you already do would result in more code and certainly more complexity of your code."},{"owner":{"account_id":25190184,"reputation":163,"user_id":19030462,"display_name":"Sebastian"},"score":0,"creation_date":1677148645,"post_id":75543473,"comment_id":133282187,"body_markdown":"If you want to use the &quot;equals check&quot; multiple times, defining a method for it, for example a isAccount method on UpdateAccount, that does the same checks as you, but internally, may be a good idea, or do you just want to know other ways like reflection? :)","body":"If you want to use the &quot;equals check&quot; multiple times, defining a method for it, for example a isAccount method on UpdateAccount, that does the same checks as you, but internally, may be a good idea, or do you just want to know other ways like reflection? :)"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677148459,"creation_date":1677148459,"answer_id":75543593,"question_id":75543473,"body_markdown":"You can extract the logic into a common method like this:\r\n\r\n    private static &lt;T&gt; void checkDifference(Set&lt;String&gt; diff, String name, T v1, T v2) {\r\n      if (!Objects.equals(v1, v2)) {\r\n        diff.add(name);\r\n      }\r\n    }\r\n\r\nAnd then change your main method to look like this:\r\n\r\n    Set&lt;String&gt; diff = new HashSet&lt;&gt;();\r\n    checkDifference(diff, &quot;name&quot;, updateAccount.getName(), account.getName());\r\n    checkDifference(diff, &quot;section&quot;, updateAccount.getSection(), account.getSection());\r\n    System.out.println(diff);\r\n\r\nYou can further abstract this away by storing the combination of name, a `Function&lt;UpdateAccount, T&gt;` and a `Function&lt;Account, T&gt;` and looping over them, but it&#39;s not clear that this would actually help.","title":"Shorten equal checks","body":"<p>You can extract the logic into a common method like this:</p>\n<pre><code>private static &lt;T&gt; void checkDifference(Set&lt;String&gt; diff, String name, T v1, T v2) {\n  if (!Objects.equals(v1, v2)) {\n    diff.add(name);\n  }\n}\n</code></pre>\n<p>And then change your main method to look like this:</p>\n<pre><code>Set&lt;String&gt; diff = new HashSet&lt;&gt;();\ncheckDifference(diff, &quot;name&quot;, updateAccount.getName(), account.getName());\ncheckDifference(diff, &quot;section&quot;, updateAccount.getSection(), account.getSection());\nSystem.out.println(diff);\n</code></pre>\n<p>You can further abstract this away by storing the combination of name, a <code>Function&lt;UpdateAccount, T&gt;</code> and a <code>Function&lt;Account, T&gt;</code> and looping over them, but it's not clear that this would actually help.</p>\n"},{"tags":[],"owner":{"account_id":27858344,"reputation":46,"user_id":21271391,"display_name":"Ch Saireddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677148610,"creation_date":1677148610,"answer_id":75543619,"question_id":75543473,"body_markdown":"One way to simplify the if-else equal part would be to use reflection to compare the fields of the two objects. However, this approach is less efficient and may not be suitable for large objects or critical performance scenarios. Here is an example of how to use reflection to compare fields:\r\n\r\n\r\n    public static Set&lt;String&gt; compareObjects(Object object1, Object object2) throws IllegalAccessException {\r\n        Set&lt;String&gt; diff = new HashSet&lt;&gt;();\r\n        Field[] fields = object1.getClass().getDeclaredFields();\r\n        for (Field field : fields) {\r\n            field.setAccessible(true);\r\n            Object value1 = field.get(object1);\r\n            Object value2 = field.get(object2);\r\n            if (value1 == null &amp;&amp; value2 != null || value1 != null &amp;&amp; !value1.equals(value2)) {\r\n                diff.add(field.getName());\r\n            }\r\n        }\r\n        return diff;\r\n    }\r\nYou can call this method from your main method like this:\r\n\r\n\r\n    Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\r\n    UpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\r\n    Set&lt;String&gt; diff = compareObjects(account, updateAccount);\r\n    System.out.println(diff);\r\n\r\nThis will output [name], indicating that the name field of the Account object is different from the name field of the UpdateAccount object.","title":"Shorten equal checks","body":"<p>One way to simplify the if-else equal part would be to use reflection to compare the fields of the two objects. However, this approach is less efficient and may not be suitable for large objects or critical performance scenarios. Here is an example of how to use reflection to compare fields:</p>\n<pre><code>public static Set&lt;String&gt; compareObjects(Object object1, Object object2) throws IllegalAccessException {\n    Set&lt;String&gt; diff = new HashSet&lt;&gt;();\n    Field[] fields = object1.getClass().getDeclaredFields();\n    for (Field field : fields) {\n        field.setAccessible(true);\n        Object value1 = field.get(object1);\n        Object value2 = field.get(object2);\n        if (value1 == null &amp;&amp; value2 != null || value1 != null &amp;&amp; !value1.equals(value2)) {\n            diff.add(field.getName());\n        }\n    }\n    return diff;\n}\n</code></pre>\n<p>You can call this method from your main method like this:</p>\n<pre><code>Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\nUpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\nSet&lt;String&gt; diff = compareObjects(account, updateAccount);\nSystem.out.println(diff);\n</code></pre>\n<p>This will output [name], indicating that the name field of the Account object is different from the name field of the UpdateAccount object.</p>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677148787,"creation_date":1677148787,"answer_id":75543660,"question_id":75543473,"body_markdown":"To avoid reflection, use `Function`s to retrieve the values from the class:\r\n\r\n```\r\n  //this stores method references to the getters \r\n  //as well as the fieldname string that you\r\n  // want to output in your Set\r\n  @AllArgsConstructor(staticName = &quot;of&quot;)\r\n  private static class DiffField {\r\n    String fieldname;\r\n    Function&lt;Account, String&gt; accountGetter;\r\n    Function&lt;UpdateAccount, String&gt; updateAccountGetter;\r\n  }\r\n\r\n  public class App {\r\n    public static void main(String[] args){\r\n      Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\r\n      UpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\r\n\r\n      //create a list of things to compare, specifying the getter references\r\n      List&lt;DiffField&gt; diffFieldList = List.of(\r\n          DiffField.of(&quot;name&quot;, Account::getName, UpdateAccount::getName),\r\n          DiffField.of(&quot;section&quot;, Account::getSection, UpdateAccount::getSection)\r\n      );\r\n\r\n      Set&lt;String&gt; diff = new HashSet&lt;&gt;();\r\n      //loop over the things you want to diff-check\r\n      for(DiffField df:diffFieldList) {\r\n        String valAccount = df.accountGetter.apply(account);\r\n        String valUpdateAccount = df.updateAccountGetter.apply(updateAccount);\r\n        if(!valAccount.equals(valUpdateAccount)){ //TODO: NPE?\r\n          diff.add(df.fieldname);\r\n        }\r\n      }\r\n      System.out.println(diff);\r\n    }\r\n  }\r\n```\r\n\r\nBut as I already mentioned in the comment above, your current code is much shorter and more precise. This only starts to pay off when you have several more fields to check, and you still have to list these fields manually in the `List&lt;DiffField&gt;`. It only saves you the many `if`s.","title":"Shorten equal checks","body":"<p>To avoid reflection, use <code>Function</code>s to retrieve the values from the class:</p>\n<pre><code>  //this stores method references to the getters \n  //as well as the fieldname string that you\n  // want to output in your Set\n  @AllArgsConstructor(staticName = &quot;of&quot;)\n  private static class DiffField {\n    String fieldname;\n    Function&lt;Account, String&gt; accountGetter;\n    Function&lt;UpdateAccount, String&gt; updateAccountGetter;\n  }\n\n  public class App {\n    public static void main(String[] args){\n      Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\n      UpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\n\n      //create a list of things to compare, specifying the getter references\n      List&lt;DiffField&gt; diffFieldList = List.of(\n          DiffField.of(&quot;name&quot;, Account::getName, UpdateAccount::getName),\n          DiffField.of(&quot;section&quot;, Account::getSection, UpdateAccount::getSection)\n      );\n\n      Set&lt;String&gt; diff = new HashSet&lt;&gt;();\n      //loop over the things you want to diff-check\n      for(DiffField df:diffFieldList) {\n        String valAccount = df.accountGetter.apply(account);\n        String valUpdateAccount = df.updateAccountGetter.apply(updateAccount);\n        if(!valAccount.equals(valUpdateAccount)){ //TODO: NPE?\n          diff.add(df.fieldname);\n        }\n      }\n      System.out.println(diff);\n    }\n  }\n</code></pre>\n<p>But as I already mentioned in the comment above, your current code is much shorter and more precise. This only starts to pay off when you have several more fields to check, and you still have to list these fields manually in the <code>List&lt;DiffField&gt;</code>. It only saves you the many <code>if</code>s.</p>\n"}],"owner":{"account_id":4146531,"reputation":451,"user_id":3400076,"display_name":"xxestter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677148787,"creation_date":1677147858,"question_id":75543473,"body_markdown":"\r\n\r\n\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Account {\r\n        private String id;\r\n        private String section;\r\n        private String name;\r\n        private String type;\r\n        private String username;\r\n    }\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class UpdateAccount {\r\n        private String section;\r\n        private String name;\r\n    }\r\n\r\nI have 2 classes called `UpdateAccount` and `Account` and in my App class, I want to find out if there is any difference between the Account object and the UpdateAccount object. Here is my App class code. \r\nIs there any other ways to code the if-else equal part?\r\n\r\n    public class App {\r\n        public static void main(String[] args){\r\n            Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\r\n            UpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\r\n    \r\n            Set&lt;String&gt; diff = new HashSet&lt;&gt;();\r\n            if(!updateAccount.getName().equals(account.getName())){\r\n                diff.add(&quot;name&quot;);\r\n            }\r\n            if(!updateAccount.getSection().equals(account.getSection())){\r\n                diff.add(&quot;section&quot;);\r\n            }\r\n            System.out.println(diff);\r\n        }\r\n    }\r\n\r\n","title":"Shorten equal checks","body":"<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Account {\n    private String id;\n    private String section;\n    private String name;\n    private String type;\n    private String username;\n}\n\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UpdateAccount {\n    private String section;\n    private String name;\n}\n</code></pre>\n<p>I have 2 classes called <code>UpdateAccount</code> and <code>Account</code> and in my App class, I want to find out if there is any difference between the Account object and the UpdateAccount object. Here is my App class code.\nIs there any other ways to code the if-else equal part?</p>\n<pre><code>public class App {\n    public static void main(String[] args){\n        Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\n        UpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\n\n        Set&lt;String&gt; diff = new HashSet&lt;&gt;();\n        if(!updateAccount.getName().equals(account.getName())){\n            diff.add(&quot;name&quot;);\n        }\n        if(!updateAccount.getSection().equals(account.getSection())){\n            diff.add(&quot;section&quot;);\n        }\n        System.out.println(diff);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","view","firebird"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677137234,"post_id":75538029,"comment_id":133279199,"body_markdown":"What do you mean with &quot;bank&quot; do you mean a database?","body":"What do you mean with &quot;bank&quot; do you mean a database?"},{"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"score":0,"creation_date":1677147367,"post_id":75538029,"comment_id":133281824,"body_markdown":"would be the DBMS","body":"would be the DBMS"}],"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677148774,"creation_date":1677099132,"question_id":75538029,"body_markdown":"I&#39;m not able to bring my data into another table, which comes from another connection.\r\nI really need help on this, and my lack of experience bringing this is really getting to me. In my current scenario I have a connection with a DBMS that would be on the same network with a specific data base for it, I will call it data base A.\r\nin this data base A, the DBMS would be Fire bird and in this data base I have a View that consumes several columns and tables of this data base A,\r\nin this same API with connection to several DBMS, I have a Postgres data base that I will give an example of data base B, in it, I have an entity created\r\nto receive the View data from data base A,\r\n\r\n    Application.Properties\r\n\r\n\r\n       **DBMS A**\r\n    `\r\n      alu.datasource.username:SYSDBA\r\n      alu.datasource.password:masterkey       \r\n        alu.datasource.jdbcUrl:jdbc:firebirdsql:192.011.2.55/3050:C:db/test.fdb\r\n      alu.datasource.hikari.connection-timeout = 20000\r\n      alu.datasource.hicari.minimum-idle = 10\r\n      alu.datasource.hicari.maximum-pool-size = 40 \r\n      alu.datasource.hicari.idle-timeout = 10000\r\n      alu.datasource.hicari.auto-commit = true\r\n\r\n    **DBMS B**\r\n\r\n    `integracao.jpa.hibernate.ddl-auto=update\r\n     integracao.datasource.jdbcUrl=jdbc:postgresql://localhost/Integracao           \r\n     integracao.datasource.username=postgres\r\n     integracao.datasource.password=1234\r\n     integracao.datasource.hikari.connection-timeout = 20000\r\n     integracao.datasource.hicari.minimum-idle = 10\r\n     integracao.datasource.hicari.maximum-pool-size = 40 \r\n     integracao.datasource.hicari.idle-timeout = 10000\r\n     integracao.datasource.hicari.auto-commit = true\r\n   `\r\n\r\n\r\n\r\n\r\n     **Database DBMS configuration A**\r\n\r\n    `package com.XXXXXXXX.XXXXXXXXXXXXXXX.config.alu;\r\n     import javax.sql.DataSource;\r\n     import org.springframework.beans.factory.annotation.Qualifier;\r\n     import org.springframework.boot.context.properties.ConfigurationProperties;\r\n     import org.springframework.boot.jdbc.DataSourceBuilder;\r\n     import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\n     import org.springframework.context.annotation.Bean;\r\n     import org.springframework.context.annotation.Configuration;\r\n     import org.springframework.context.annotation.Primary;\r\n     import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n     import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n     import com.XXXXXXX.XXXXXXXXXXX.repository.alu.XXXXXRepository;\r\n     import java.util.HashMap;\r\n      import java.util.Map;\r\n\r\n     @Configuration\r\n     @EnableJpaRepositories(\r\n\t\tbasePackageClasses = XXXXXXRepository.class,\r\n\t\tentityManagerFactoryRef = &quot;aluEntityManager&quot;)\r\n     public class AluDbConfig {\r\n\r\n\t@Bean\r\n\t@ConfigurationProperties(prefix = &quot;alu.datasource&quot;)\r\n\tpublic DataSource aluDataSource() {\r\n\t\treturn  DataSourceBuilder.create().build();\r\n\t}\r\n\r\n\t@Bean\r\n\t@Qualifier\r\n\tpublic LocalContainerEntityManagerFactoryBean aluEntityManager(\r\n\t\t\tEntityManagerFactoryBuilder builder) {\r\n\t\tMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n\t\tproperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n\t\treturn builder\r\n\t\t\t\t.dataSource(aluDataSource())\r\n\t\t\t\t.packages(&quot;com.XXXXXXXXXXX.XXXXXXXXXXXXXXXXX.entity.alu&quot;)\r\n\t\t\t\t.properties(properties)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n       }\r\n\r\n      `\r\n\r\n\r\n      **Database DBMS configuration B**\r\n\r\n      `package com.XXXXXXXX.XXXXXXXXXXXXXXX.config.alu;\r\n      import javax.sql.DataSource;\r\n      import org.springframework.beans.factory.annotation.Qualifier;\r\n      import org.springframework.boot.context.properties.ConfigurationProperties;\r\n      import org.springframework.boot.jdbc.DataSourceBuilder;\r\n      import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\n      import org.springframework.context.annotation.Bean;\r\n      import org.springframework.context.annotation.Configuration;\r\n      import org.springframework.context.annotation.Primary;\r\n      import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n      import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n      import com.xxxxxxx.xxxxxxxxxxxxxxx.repository.integracao.IntegracaoRepository;\r\n      import java.util.HashMap;\r\n      import java.util.Map;\r\n\r\n\r\n      @Configuration\r\n      @EnableJpaRepositories(\r\n\t\tbasePackageClasses = IntegracaoRepository.class,\r\n\t\tentityManagerFactoryRef = &quot;integracaoEntityManager&quot;)\r\n      public class IntegracaoDbConfig {\r\n\r\n\t@Bean\r\n\t@ConfigurationProperties(prefix = &quot;integracao.datasource&quot;)\r\n\t@Primary\r\n\tpublic DataSource canDataSource() {\r\n\t\treturn  DataSourceBuilder.create().build();\r\n\t}\r\n\r\n\t@Bean\r\n\t@Qualifier\r\n\t@Primary\r\n\tpublic LocalContainerEntityManagerFactoryBean integracaoEntityManager(\r\n\t\t\tEntityManagerFactoryBuilder builder) {\r\n\t\tMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n\t\tproperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n\t\treturn builder\r\n\t\t\t\t.dataSource(canDataSource())\r\n\t\t\t\t.packages(&quot;com.XXXXXXXX.XXXXXXXXXXXXXXXXXXXXX.entity.integracao&quot;)\r\n\t\t\t\t.properties(properties)\r\n\t\t\t\t.build();\r\n\t}\r\n      }\r\n        `\r\n    **Controller**\r\n\r\n    `package com.xxxxxxxx.xxxxxxxxxxxx.controller;\r\n     import java.util.ArrayList;\r\n     import java.util.List;\r\n     import com.xxxxxxxx.xxxxxxxxxxxxxx.repository.alu.xxxxxxxxRepository;\r\n     import org.springframework.beans.factory.annotation.Autowired;\r\n     import org.springframework.web.bind.annotation.*;\r\n    import com.xxxxxxxxxx.xxxxxxxxxxxxxxxx.entity.integracao.Integracao;\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/projecao&quot;)\r\n    public class IntegracaoController {\r\n\t\r\n\t@Autowired\r\n\tprivate xxxxxxxxRepository repository; =&gt; (Note: I had to hide the name, but this repository would    be from DBMS A)\r\n\r\n\t@GetMapping\r\n\t@ResponseBody\r\n\tpublic List&lt;Integracao&gt; convert(List&lt;Object&gt; object) {\r\n\t\tList&lt;Integracao&gt; list = new ArrayList&lt;Integracao&gt;();\r\n\t\tfor(final Object o : object) {\r\n\t\t\tObject[] obj = (Object[]) o;\r\n\t\t\tlist.add(new Integracao(obj[0].toString(),obj[1].toString()));\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\r\n     }`\r\n\r\n    **DBMS A Entity**\r\n\r\n    `package com.xxxxxx.xxxxxxxxxxxxx.entity.alu;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import java.math.BigDecimal;\r\n\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class data base A {\r\n        @Id\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;Caixa&quot;)\r\n\tprivate String caixa;\r\n\r\n\t@Column(name = &quot;Embalador&quot;)\r\n\tprivate String embalador;\r\n\r\n\t@Column(name = &quot;Operador&quot;)\r\n\tprivate String operador;\r\n\r\n\t@Column(name = &quot;Empacotador&quot;)\r\n\tprivate String empacotador;\r\n\r\n\t@Column(name = &quot;VALORFINAL&quot;)\r\n\tprivate BigDecimal valor;\r\n\r\n\t@Column(name = &quot;VALOR&quot;)\r\n\tprivate BigDecimal valor;\r\n\r\n\t@Column(name = &quot;TAXA&quot;)\r\n\tprivate BigDecimal taxa;\r\n\r\n\t@Column(name = &quot;VENCIMENTO&quot;)\r\n\tprivate Integer vencimento;\r\n\r\n\t@Column(name = &quot;Estoquista&quot;)\r\n\tprivate String estoquista;\r\n\r\n\t@Column(name = &quot;Repositor&quot;)\r\n\tprivate Integer repositor;\r\n\r\n\t@Column(name = &quot;Peixeiro&quot;)\r\n\tprivate String peixeiro;\r\n\r\n\t@Column(name = &quot;MATRIZ&quot;)\r\n\tprivate String matriz;\r\n\r\n\t@Column(name = &quot;Auxiliar&quot;)\r\n\tprivate String auxiliar;\r\n\r\n\t@Column(name = &quot;TIPO&quot;)\r\n\tprivate Integer tipo;\r\n\r\n\tpublic Integracao(String toString, String toString1) {\r\n\t}\r\n      }`\r\n\r\n     **DBMS B Entity**\r\n\r\n     `package com.xxxxxxx.xxxxxxxxxxxxxx.entity.integracao;\r\n\r\n      import lombok.AllArgsConstructor;\r\n      import lombok.Data;\r\n      import lombok.NoArgsConstructor;\r\n      import javax.persistence.Column;\r\n      import javax.persistence.Entity;\r\n      import javax.persistence.Id;\r\n      import javax.persistence.Table;\r\n      import java.math.BigDecimal;\r\n\r\n\r\n     @Entity\r\n     @NoArgsConstructor\r\n     @AllArgsConstructor\r\n     @Data\r\n     @Table(name = &quot;integracao&quot; )\r\n     public class Integracao {\r\n\r\n\t@Id\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;Caixa&quot;)\r\n\tprivate String caixa;\r\n\r\n\t@Column(name = &quot;Embalador&quot;)\r\n\tprivate String embalador;\r\n\r\n\t@Column(name = &quot;Operador&quot;)\r\n\tprivate String operador;\r\n\r\n\t@Column(name = &quot;Empacotador&quot;)\r\n\tprivate String empacotador;\r\n\r\n\t@Column(name = &quot;VALORFINAL&quot;)\r\n\tprivate BigDecimal valor;\r\n\r\n\t@Column(name = &quot;VALOR&quot;)\r\n\tprivate BigDecimal valor;\r\n\r\n\t@Column(name = &quot;TAXA&quot;)\r\n\tprivate BigDecimal taxa;\r\n\r\n\t@Column(name = &quot;VENCIMENTO&quot;)\r\n\tprivate Integer vencimento;\r\n\r\n\t@Column(name = &quot;Estoquista&quot;)\r\n\tprivate String estoquista;\r\n\r\n\t@Column(name = &quot;Repositor&quot;)\r\n\tprivate Integer repositor;\r\n\r\n\t@Column(name = &quot;Peixeiro&quot;)\r\n\tprivate String peixeiro;\r\n\r\n\t@Column(name = &quot;MATRIZ&quot;)\r\n\tprivate String matriz;\r\n\r\n\t@Column(name = &quot;Auxiliar&quot;)\r\n\tprivate String auxiliar;\r\n\r\n\t@Column(name = &quot;TIPO&quot;)\r\n\tprivate Integer tipo;\r\n\r\n\tpublic Integracao(String toString, String toString1) {\r\n\t}\r\n     }`\r\n \r\n    **DBMS A repository**\r\n\r\n    `package com.xxxxxxxx.xxxxxxxxxxxxxx.repository.alu;\r\n     import org.springframework.data.jpa.repository.JpaRepository;\r\n     import com.xxxxxxxxxxx.xxxxxxxxxxxxx.entity.alu.data base A;\r\n     import org.springframework.data.jpa.repository.Query;\r\n     import org.springframework.stereotype.Repository;\r\n     import java.util.List;\r\n\r\n     @Repository\r\n     public interface xxxxxxxRepository extends JpaRepository&lt;xxxxxxx,Long&gt;{\r\n     @Query(nativeQuery = true, value =&quot;SELECT &quot; +\r\n            &quot;    EMBALADOR,&quot; +\r\n            &quot;    OPERADOR,&quot; +\r\n            &quot;    EMPACOTADOR,&quot; +\r\n            &quot;    VALORFINAL,&quot; +\r\n            &quot;    VALOR,&quot; +\r\n            &quot;    VALOR,&quot; +\r\n            &quot;    TAXA,&quot; +\r\n            &quot;    VENCIMENTO,&quot; +\r\n            &quot;    ESTOQUISTA,&quot; +\r\n            &quot;    REPOSITOR,&quot; +\r\n            &quot;    PEIXEIRO,&quot; +\r\n            &quot;    MATRIZ,&quot; +\r\n            &quot;    AUXILIAR,&quot; +\r\n            &quot;    TIPO FROM SPR_SUPERMECADO&quot; )  (Note * SPR_SUPERMECADO Would be the View that I want to   store in the table of data base B)\r\n    List&lt;Object&gt;projection();\r\n\r\n    }\r\n   `\r\n    **DBMS B repository**\r\n\r\n    `package com.xxxxxxx.xxxxxxxxxxx.repository.integracao;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import com.xxxxxxxxxx.xxxxxxxxxxxxx.entity.integracao.Integracao;\r\n\r\n    @Repository\r\n    public interface IntegracaoRepository extends JpaRepository&lt;Integracao,Long&gt;{\r\n\r\n   }\r\n   ``\r\n\r\n    \r\n\r\n\r\n   \r\n\r\n    stack trace output:\r\n\r\n\r\n    `2023-02-22 16:57:29.969 ERROR 5640 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :        Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: No primary or single unique constructor found for interface java.util.List] with root cause\r\n\r\n     java.lang.IllegalStateException: No primary or single unique constructor found for interface      java.util.List\r\n\tat org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:267) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat    org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMetho  dProcessor.java:219) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat   org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\r\n\r\n \r\n\r\n\r\n I followed this tutorial, but I was not \r\n\r\n https://stackoverflow.com/questions/67937954/convert-resultset-to-model-in-spring-boot-2\r\n\r\n\r\n ","title":"How to store a View from an API with multiple databases","body":"<p>I'm not able to bring my data into another table, which comes from another connection.\nI really need help on this, and my lack of experience bringing this is really getting to me. In my current scenario I have a connection with a DBMS that would be on the same network with a specific data base for it, I will call it data base A.\nin this data base A, the DBMS would be Fire bird and in this data base I have a View that consumes several columns and tables of this data base A,\nin this same API with connection to several DBMS, I have a Postgres data base that I will give an example of data base B, in it, I have an entity created\nto receive the View data from data base A,</p>\n<pre><code>Application.Properties\n\n\n   **DBMS A**\n`\n  alu.datasource.username:SYSDBA\n  alu.datasource.password:masterkey       \n    alu.datasource.jdbcUrl:jdbc:firebirdsql:192.011.2.55/3050:C:db/test.fdb\n  alu.datasource.hikari.connection-timeout = 20000\n  alu.datasource.hicari.minimum-idle = 10\n  alu.datasource.hicari.maximum-pool-size = 40 \n  alu.datasource.hicari.idle-timeout = 10000\n  alu.datasource.hicari.auto-commit = true\n\n**DBMS B**\n\n`integracao.jpa.hibernate.ddl-auto=update\n integracao.datasource.jdbcUrl=jdbc:postgresql://localhost/Integracao           \n integracao.datasource.username=postgres\n integracao.datasource.password=1234\n integracao.datasource.hikari.connection-timeout = 20000\n integracao.datasource.hicari.minimum-idle = 10\n integracao.datasource.hicari.maximum-pool-size = 40 \n integracao.datasource.hicari.idle-timeout = 10000\n integracao.datasource.hicari.auto-commit = true\n</code></pre>\n<p>`</p>\n<pre><code> **Database DBMS configuration A**\n\n`package com.XXXXXXXX.XXXXXXXXXXXXXXX.config.alu;\n import javax.sql.DataSource;\n import org.springframework.beans.factory.annotation.Qualifier;\n import org.springframework.boot.context.properties.ConfigurationProperties;\n import org.springframework.boot.jdbc.DataSourceBuilder;\n import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\n import org.springframework.context.annotation.Bean;\n import org.springframework.context.annotation.Configuration;\n import org.springframework.context.annotation.Primary;\n import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\n import com.XXXXXXX.XXXXXXXXXXX.repository.alu.XXXXXRepository;\n import java.util.HashMap;\n  import java.util.Map;\n\n @Configuration\n @EnableJpaRepositories(\n    basePackageClasses = XXXXXXRepository.class,\n    entityManagerFactoryRef = &quot;aluEntityManager&quot;)\n public class AluDbConfig {\n\n@Bean\n@ConfigurationProperties(prefix = &quot;alu.datasource&quot;)\npublic DataSource aluDataSource() {\n    return  DataSourceBuilder.create().build();\n}\n\n@Bean\n@Qualifier\npublic LocalContainerEntityManagerFactoryBean aluEntityManager(\n        EntityManagerFactoryBuilder builder) {\n    Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n    properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n    return builder\n            .dataSource(aluDataSource())\n            .packages(&quot;com.XXXXXXXXXXX.XXXXXXXXXXXXXXXXX.entity.alu&quot;)\n            .properties(properties)\n            .build();\n}\n\n   }\n\n  `\n\n\n  **Database DBMS configuration B**\n\n  `package com.XXXXXXXX.XXXXXXXXXXXXXXX.config.alu;\n  import javax.sql.DataSource;\n  import org.springframework.beans.factory.annotation.Qualifier;\n  import org.springframework.boot.context.properties.ConfigurationProperties;\n  import org.springframework.boot.jdbc.DataSourceBuilder;\n  import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\n  import org.springframework.context.annotation.Bean;\n  import org.springframework.context.annotation.Configuration;\n  import org.springframework.context.annotation.Primary;\n  import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n  import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\n  import com.xxxxxxx.xxxxxxxxxxxxxxx.repository.integracao.IntegracaoRepository;\n  import java.util.HashMap;\n  import java.util.Map;\n\n\n  @Configuration\n  @EnableJpaRepositories(\n    basePackageClasses = IntegracaoRepository.class,\n    entityManagerFactoryRef = &quot;integracaoEntityManager&quot;)\n  public class IntegracaoDbConfig {\n\n@Bean\n@ConfigurationProperties(prefix = &quot;integracao.datasource&quot;)\n@Primary\npublic DataSource canDataSource() {\n    return  DataSourceBuilder.create().build();\n}\n\n@Bean\n@Qualifier\n@Primary\npublic LocalContainerEntityManagerFactoryBean integracaoEntityManager(\n        EntityManagerFactoryBuilder builder) {\n    Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n    properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n    return builder\n            .dataSource(canDataSource())\n            .packages(&quot;com.XXXXXXXX.XXXXXXXXXXXXXXXXXXXXX.entity.integracao&quot;)\n            .properties(properties)\n            .build();\n}\n  }\n    `\n**Controller**\n\n`package com.xxxxxxxx.xxxxxxxxxxxx.controller;\n import java.util.ArrayList;\n import java.util.List;\n import com.xxxxxxxx.xxxxxxxxxxxxxx.repository.alu.xxxxxxxxRepository;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.web.bind.annotation.*;\nimport com.xxxxxxxxxx.xxxxxxxxxxxxxxxx.entity.integracao.Integracao;\n\n\n@RestController\n@RequestMapping(value = &quot;/projecao&quot;)\npublic class IntegracaoController {\n\n@Autowired\nprivate xxxxxxxxRepository repository; =&gt; (Note: I had to hide the name, but this repository would    be from DBMS A)\n\n@GetMapping\n@ResponseBody\npublic List&lt;Integracao&gt; convert(List&lt;Object&gt; object) {\n    List&lt;Integracao&gt; list = new ArrayList&lt;Integracao&gt;();\n    for(final Object o : object) {\n        Object[] obj = (Object[]) o;\n        list.add(new Integracao(obj[0].toString(),obj[1].toString()));\n    }\n    return list;\n}\n\n }`\n\n**DBMS A Entity**\n\n`package com.xxxxxx.xxxxxxxxxxxxx.entity.alu;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport java.math.BigDecimal;\n\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class data base A {\n    @Id\nprivate Long id;\n\n@Column(name = &quot;Caixa&quot;)\nprivate String caixa;\n\n@Column(name = &quot;Embalador&quot;)\nprivate String embalador;\n\n@Column(name = &quot;Operador&quot;)\nprivate String operador;\n\n@Column(name = &quot;Empacotador&quot;)\nprivate String empacotador;\n\n@Column(name = &quot;VALORFINAL&quot;)\nprivate BigDecimal valor;\n\n@Column(name = &quot;VALOR&quot;)\nprivate BigDecimal valor;\n\n@Column(name = &quot;TAXA&quot;)\nprivate BigDecimal taxa;\n\n@Column(name = &quot;VENCIMENTO&quot;)\nprivate Integer vencimento;\n\n@Column(name = &quot;Estoquista&quot;)\nprivate String estoquista;\n\n@Column(name = &quot;Repositor&quot;)\nprivate Integer repositor;\n\n@Column(name = &quot;Peixeiro&quot;)\nprivate String peixeiro;\n\n@Column(name = &quot;MATRIZ&quot;)\nprivate String matriz;\n\n@Column(name = &quot;Auxiliar&quot;)\nprivate String auxiliar;\n\n@Column(name = &quot;TIPO&quot;)\nprivate Integer tipo;\n\npublic Integracao(String toString, String toString1) {\n}\n  }`\n\n **DBMS B Entity**\n\n `package com.xxxxxxx.xxxxxxxxxxxxxx.entity.integracao;\n\n  import lombok.AllArgsConstructor;\n  import lombok.Data;\n  import lombok.NoArgsConstructor;\n  import javax.persistence.Column;\n  import javax.persistence.Entity;\n  import javax.persistence.Id;\n  import javax.persistence.Table;\n  import java.math.BigDecimal;\n\n\n @Entity\n @NoArgsConstructor\n @AllArgsConstructor\n @Data\n @Table(name = &quot;integracao&quot; )\n public class Integracao {\n\n@Id\nprivate Long id;\n\n@Column(name = &quot;Caixa&quot;)\nprivate String caixa;\n\n@Column(name = &quot;Embalador&quot;)\nprivate String embalador;\n\n@Column(name = &quot;Operador&quot;)\nprivate String operador;\n\n@Column(name = &quot;Empacotador&quot;)\nprivate String empacotador;\n\n@Column(name = &quot;VALORFINAL&quot;)\nprivate BigDecimal valor;\n\n@Column(name = &quot;VALOR&quot;)\nprivate BigDecimal valor;\n\n@Column(name = &quot;TAXA&quot;)\nprivate BigDecimal taxa;\n\n@Column(name = &quot;VENCIMENTO&quot;)\nprivate Integer vencimento;\n\n@Column(name = &quot;Estoquista&quot;)\nprivate String estoquista;\n\n@Column(name = &quot;Repositor&quot;)\nprivate Integer repositor;\n\n@Column(name = &quot;Peixeiro&quot;)\nprivate String peixeiro;\n\n@Column(name = &quot;MATRIZ&quot;)\nprivate String matriz;\n\n@Column(name = &quot;Auxiliar&quot;)\nprivate String auxiliar;\n\n@Column(name = &quot;TIPO&quot;)\nprivate Integer tipo;\n\npublic Integracao(String toString, String toString1) {\n}\n }`\n\n**DBMS A repository**\n\n`package com.xxxxxxxx.xxxxxxxxxxxxxx.repository.alu;\n import org.springframework.data.jpa.repository.JpaRepository;\n import com.xxxxxxxxxxx.xxxxxxxxxxxxx.entity.alu.data base A;\n import org.springframework.data.jpa.repository.Query;\n import org.springframework.stereotype.Repository;\n import java.util.List;\n\n @Repository\n public interface xxxxxxxRepository extends JpaRepository&lt;xxxxxxx,Long&gt;{\n @Query(nativeQuery = true, value =&quot;SELECT &quot; +\n        &quot;    EMBALADOR,&quot; +\n        &quot;    OPERADOR,&quot; +\n        &quot;    EMPACOTADOR,&quot; +\n        &quot;    VALORFINAL,&quot; +\n        &quot;    VALOR,&quot; +\n        &quot;    VALOR,&quot; +\n        &quot;    TAXA,&quot; +\n        &quot;    VENCIMENTO,&quot; +\n        &quot;    ESTOQUISTA,&quot; +\n        &quot;    REPOSITOR,&quot; +\n        &quot;    PEIXEIRO,&quot; +\n        &quot;    MATRIZ,&quot; +\n        &quot;    AUXILIAR,&quot; +\n        &quot;    TIPO FROM SPR_SUPERMECADO&quot; )  (Note * SPR_SUPERMECADO Would be the View that I want to   store in the table of data base B)\nList&lt;Object&gt;projection();\n\n}\n</code></pre>\n<p>`\n<strong>DBMS B repository</strong></p>\n<pre><code>`package com.xxxxxxx.xxxxxxxxxxx.repository.integracao;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport com.xxxxxxxxxx.xxxxxxxxxxxxx.entity.integracao.Integracao;\n\n@Repository\npublic interface IntegracaoRepository extends JpaRepository&lt;Integracao,Long&gt;{\n</code></pre>\n<p>}\n``</p>\n<pre><code>stack trace output:\n\n\n`2023-02-22 16:57:29.969 ERROR 5640 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :        Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: No primary or single unique constructor found for interface java.util.List] with root cause\n\n java.lang.IllegalStateException: No primary or single unique constructor found for interface      java.util.List\nat org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:267) ~[spring-beans-5.3.24.jar:5.3.24]\nat    org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMetho  dProcessor.java:219) ~[spring-web-5.3.24.jar:5.3.24]\nat   org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-5.3.24.jar:5.3.24]\n</code></pre>\n<p>I followed this tutorial, but I was not</p>\n<p><a href=\"https://stackoverflow.com/questions/67937954/convert-resultset-to-model-in-spring-boot-2\">convert resultset to model in spring boot 2</a></p>\n"},{"tags":["java","android-room","database-migration"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575074903,"creation_date":1575074903,"answer_id":59112314,"question_id":59064933,"body_markdown":"&gt; Is this possible?\r\nYes. However it is a little complex.\r\n\r\nIn short, you can actually do it the other way round. Rather than use the new database from the asset and try to retrive the previous data (is complicated if using Room Migration as you have to effectiviely swap to the newly created/copied database which is further complicated as you&#39;re inside a transaction when migrating).\r\n\r\nIf however you do the schema changes to the database in use rather than the asset database, you can then get the asset database and copy the new non-user data (would be greatly complicated if the user&#39;s data were intermingled with the non-user data).\r\n\r\nEven this isn&#39;t that simple. However, here&#39;s a simple exmaple/scanario based upon a slight expansion of your code to :-\r\n\r\n    static final Migration MIGRATION_1_2 = new Migration(1, 2) {\r\n        @Override\r\n        public void migrate(SupportSQLiteDatabase db) {\r\n            final String TAG = &quot;MIGRATE_1_2&quot;;\r\n            Log.d(TAG,&quot;Database Version when called is &quot; + db.getVersion());\r\n\r\n            // I need to tell Room that it should use the data\r\n            // from version 1 ( with the user&#39;s favorites ) to version 2.\r\n\r\n            // &quot;CREATE TABLE IF NOT EXISTS `userdata` (`userId` INTEGER DEFAULT uid, `name` TEXT, PRIMARY KEY(`userId`))&quot;\r\n            //db.execSQL(&quot;CREATE TABLE IF NOT EXISTS `userdata_saveuserdata` (`userId` INTEGER, `name` TEXT, PRIMARY KEY(`userId`))&quot;);\r\n            //db.execSQL(&quot;INSERT INTO `userdata_saveuserdata` SELECT * FROM `userdata`&quot;);\r\n            db.execSQL(&quot;ALTER TABLE `otherdata` ADD COLUMN `column2` TEXT&quot;);\r\n            Log.d(TAG,&quot;Checking Context&quot;);\r\n            if (sContext != null) {\r\n                applyAssetDB(db);\r\n            } else {\r\n                Log.d(TAG,&quot;Context is null!!!!&quot;);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\nAs you can see this changes the otherdata table (not the users table) by adding a new column.\r\n\r\nIt then checks to see if sContext isn&#39;t null.\r\n\r\n- A valid Context is used rather then hard coding paths.\r\n\r\nThen the **applyAssetDB** is invoked, which is :-\r\n\r\n    private static void applyAssetDB(SupportSQLiteDatabase sdb) {\r\n        String TAG = &quot;APPLYASSETDB&quot;;\r\n        String mainDatabaseName = (new File(sdb.getPath()).getName());\r\n        String assetDatabaseName = mainDatabaseName + &quot;_asset&quot;;\r\n        String asset_schema = &quot;asset_schema&quot;;\r\n        Log.d(TAG,&quot;Attempting application of asset data to database.&quot;\r\n                        + &quot;\\n\\tActual Database = &quot; + mainDatabaseName\r\n                        + &quot;\\n\\tAsset Database will be &quot; + assetDatabaseName\r\n                        + &quot;\\n\\tSchema for attached database will be  &quot; + asset_schema\r\n                );\r\n        copyDatabaseFromAssets(AppDatabase.sContext,MainActivity.ASSETNAME,assetDatabaseName);\r\n        /*\r\n        if (sdb.isWriteAheadLoggingEnabled()) {\r\n            setAssetDBToWALMode(sContext.getDatabasePath(assetDatabaseName).getPath());\r\n        }\r\n        Log.d(TAG,&quot;Attempting to ATTACH  asset database &quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n        sdb.execSQL(&quot;ATTACH DATABASE &#39;&quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;&#39; AS &quot; + asset_schema);\r\n        Log.d(TAG,&quot;Attempting INSERTING NEW DATA using\\n\\t&quot; + &quot;INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.&quot; + asset_schema);\r\n        sdb.execSQL(&quot;INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.&quot; + asset_schema);\r\n        Log.d(TAG,&quot;Attempting to DETACH &quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n        sdb.execSQL(&quot;DETACH DATABASE &#39;&quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n        */\r\n\r\n        int insertRows = 0;\r\n        SQLiteDatabase assetdb = SQLiteDatabase.openDatabase(sContext.getDatabasePath(assetDatabaseName).getPath(),null,SQLiteDatabase.OPEN_READONLY);\r\n        Cursor assetCursor = assetdb.query(&quot;`otherdata`&quot;,null,null,null,null,null,null);\r\n        ContentValues cv = new ContentValues();\r\n        while (assetCursor.moveToNext()) {\r\n            cv.clear();\r\n            for (String c: assetCursor.getColumnNames()) {\r\n                if (assetCursor.getType(assetCursor.getColumnIndex(c)) == Cursor.FIELD_TYPE_BLOB) {\r\n                    cv.put(c,assetCursor.getBlob(assetCursor.getColumnIndex(c)));\r\n                } else {\r\n                    cv.put(c,assetCursor.getString(assetCursor.getColumnIndex(c)));\r\n                }\r\n            }\r\n            if (sdb.insert(&quot;`otherdata`&quot;, OnConflictStrategy.IGNORE,cv) &gt; 0 ) insertRows++;\r\n        }\r\n        Log.d(TAG,&quot;Inserted &quot; + insertRows + &quot; from the Asset Database&quot;);\r\n        assetCursor.close();\r\n\r\n        Log.d(TAG,&quot;Deleting &quot; + sContext.getDatabasePath(assetDatabaseName).getPath());\r\n        if ((new File(sContext.getDatabasePath(assetDatabaseName).getPath())).delete()) {\r\n            Log.d(TAG,&quot;Copied AssetDatabase successfully deleted.&quot;);\r\n        } else {\r\n            Log.d(TAG,&quot;Copied Asset Database file not deleted????&quot;);\r\n        }\r\n        Log.d(TAG,&quot;Finished&quot;);\r\n    }\r\n\r\n- commented out code left in intentionally as issue were encountered when trying to ATTACH the database copied from the assets, so reverted to using seperate connetions.\r\n\r\nThis copies the database from the asset to the defauly database location via the **copyDatabaseFromAssets** method (as below). It the extracts all of the non user&#39;s data from the asset database and inserts it into the original (but altered according to the changed schema) database **relying** upon the **OnConflictStrategy.IGNORE** to only insert new rows. The **userdata** table is untouched, so the user&#39;s data is retianed.\r\n\r\n- Obviously this would not cater for changed rows.\r\n\r\nHere&#39;s **copyDatabaseFromAssets**\r\n\r\n    private static void copyDatabaseFromAssets(Context context, String assetName, String databaseName) {\r\n        String TAG = &quot;COPYDBFROMASSET&quot;;\r\n        int bufferSize = 1024 * 4, length = 0, read = 0, written = 0, chunks = 0;\r\n        byte[] buffer = new byte[bufferSize];\r\n        try {\r\n            Log.d(TAG,&quot;Attempting opening asset &quot; + assetName + &quot; as an InputFileStream.&quot;);\r\n            InputStream is = context.getAssets().open(assetName);\r\n            Log.d(TAG,&quot;Attempting opening FileOutputStream &quot; + context.getDatabasePath(databaseName).getPath());\r\n            OutputStream os = new FileOutputStream(context.getDatabasePath(databaseName));\r\n            Log.d(TAG,&quot;Initiating copy.&quot;);\r\n            while((length = is.read(buffer)) &gt; 0) {\r\n                read += length;\r\n                os.write(buffer,0,length);\r\n                written += length;\r\n                chunks++;\r\n            }\r\n            Log.d(TAG,&quot;Read &quot; + read + &quot;bytes; Wrote &quot; + written + &quot; bytes; in &quot; + chunks);\r\n            Log.d(TAG,&quot;Finalising (Flush and Close output and close input)&quot;);\r\n            os.flush();\r\n            os.close();\r\n            is.close();\r\n            Log.d(TAG,&quot;Finalised&quot;);\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Error copying Database from Asset &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\nHere&#39;s an example Activity **MainActivity** that puts this all together (noting that for convenience I&#39;ve used allowMainThreadQueries ) :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        //public static final int DBVERSION = 1; //!!!!! ORIGINAL\r\n        public static final int DBVERSION = 2;\r\n        public static final String DBNAME = &quot;app_database.db&quot;;\r\n        public static final String ASSETNAME = &quot;database/QuotesDB.db&quot;;\r\n    \r\n        AppDatabase appDB;\r\n        AllDao adao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            appDB.setContext(this);\r\n            appDB = Room.databaseBuilder(this,AppDatabase.class,DBNAME)\r\n                    .allowMainThreadQueries()\r\n                    .createFromAsset(ASSETNAME)\r\n                    .addCallback(AppDatabase.CALLBACK)\r\n                    .addMigrations(AppDatabase.MIGRATION_1_2)\r\n                    .build();\r\n            adao = appDB.allDao();\r\n            appDB.logDBInfo();\r\n            if (adao.getUserDataRowCount() == 3) {\r\n                adao.insertOneUserData(new UserData(&quot;ADDEDU100&quot;));\r\n                adao.insertOneUserData(new UserData(&quot;ADDEDU200&quot;));\r\n                adao.insertOneUserData(new UserData(&quot;ADDEDU300&quot;));\r\n            }\r\n            appDB.logDBInfo();\r\n        }\r\n    }\r\n\r\nWhen run (after changing the relevant code for the new schema and increasing the version) the result in the log is :-\r\n\r\n    2019-11-30 10:56:38.768 12944-12944/a.roommigrationwithassets D/MIGRATE_1_2: Database Version when called is 1\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/MIGRATE_1_2: Checking Context\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Attempting application of asset data to database.\r\n        \tActual Database = app_database.db\r\n        \tAsset Database will be app_database.db_asset\r\n        \tSchema for attached database will be  asset_schema\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Attempting opening asset database/QuotesDB.db as an InputFileStream.\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Attempting opening FileOutputStream /data/user/0/a.roommigrationwithassets/databases/app_database.db_asset\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Initiating copy.\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Read 12288bytes; Wrote 12288 bytes; in 3\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Finalising (Flush and Close output and close input)\r\n    2019-11-30 10:56:38.772 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Finalised\r\n    2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Inserted 3 from the Asset Database\r\n    2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Deleting /data/user/0/a.roommigrationwithassets/databases/app_database.db_asset\r\n    2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Copied AssetDatabase successfully deleted.\r\n    2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Finished\r\n    2019-11-30 10:56:38.815 12944-12944/a.roommigrationwithassets D/ONOPEN: Database Version when called is 2\r\n    2019-11-30 10:56:38.816 12944-12944/a.roommigrationwithassets D/ONOPEN: Database Version after Super call is 2\r\n    2019-11-30 10:56:38.819 12944-12944/a.roommigrationwithassets D/DBINFO: UserData rowcount = 6\r\n        \tID = 1 NAME = OU1\r\n        \tID = 2 NAME = OU2\r\n        \tID = 3 NAME = OU3\r\n        \tID = 4 NAME = ADDEDU100\r\n        \tID = 5 NAME = ADDEDU200\r\n        \tID = 6 NAME = ADDEDU300\r\n        \r\n        OtherData rowcount = 3\r\n        \tID = 1Column1 = OD1\r\n        \tID = 2Column1 = OD2\r\n        \tID = 3Column1 = OD3\r\n    2019-11-30 10:56:38.821 12944-12944/a.roommigrationwithassets D/DBINFO: UserData rowcount = 6\r\n        \tID = 1 NAME = OU1\r\n        \tID = 2 NAME = OU2\r\n        \tID = 3 NAME = OU3\r\n        \tID = 4 NAME = ADDEDU100\r\n        \tID = 5 NAME = ADDEDU200\r\n        \tID = 6 NAME = ADDEDU300\r\n        \r\n        OtherData rowcount = 3\r\n        \tID = 1Column1 = OD1\r\n        \tID = 2Column1 = OD2\r\n        \tID = 3Column1 = OD3\r\n\r\n\r\n\r\n\r\nThe complete code for the **AppDatabase** class (noting that this includes some redundant code) is :-\r\n\r\n    @Database(version = MainActivity.DBVERSION, exportSchema = false,entities = {UserData.class,OtherData.class})\r\n    abstract class AppDatabase extends RoomDatabase {\r\n    \r\n        abstract AllDao allDao();\r\n        static Context sContext;\r\n    \r\n        static final Migration MIGRATION_1_2 = new Migration(1, 2) {\r\n            @Override\r\n            public void migrate(SupportSQLiteDatabase db) {\r\n                final String TAG = &quot;MIGRATE_1_2&quot;;\r\n                Log.d(TAG,&quot;Database Version when called is &quot; + db.getVersion());\r\n    \r\n                // I need to tell Room that it should use the data\r\n                // from version 1 ( with the user&#39;s favorites ) to version 2.\r\n    \r\n                // &quot;CREATE TABLE IF NOT EXISTS `userdata` (`userId` INTEGER DEFAULT uid, `name` TEXT, PRIMARY KEY(`userId`))&quot;\r\n                //db.execSQL(&quot;CREATE TABLE IF NOT EXISTS `userdata_saveuserdata` (`userId` INTEGER, `name` TEXT, PRIMARY KEY(`userId`))&quot;);\r\n                //db.execSQL(&quot;INSERT INTO `userdata_saveuserdata` SELECT * FROM `userdata`&quot;);\r\n                db.execSQL(&quot;ALTER TABLE `otherdata` ADD COLUMN `column2` TEXT&quot;);\r\n                Log.d(TAG,&quot;Checking Context&quot;);\r\n                if (sContext != null) {\r\n                    applyAssetDB(db);\r\n                } else {\r\n                    Log.d(TAG,&quot;Context is null!!!!&quot;);\r\n                }\r\n            }\r\n        };\r\n    \r\n        static final RoomDatabase.Callback CALLBACK = new RoomDatabase.Callback() {\r\n            @Override\r\n            public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                Log.d(&quot;ONCREATE&quot;,&quot;Database Version when called is &quot; + db.getVersion());\r\n                super.onCreate(db);\r\n                Log.d(&quot;ONCREATE&quot;,&quot;Database Version after Super call is &quot; + db.getVersion());\r\n            }\r\n    \r\n            @Override\r\n            public void onOpen(@NonNull SupportSQLiteDatabase db) {\r\n                Log.d(&quot;ONOPEN&quot;,&quot;Database Version when called is &quot; + db.getVersion());\r\n                super.onOpen(db);\r\n                Log.d(&quot;ONOPEN&quot;,&quot;Database Version after Super call is &quot; + db.getVersion());\r\n            }\r\n    \r\n            @Override\r\n            public void onDestructiveMigration(@NonNull SupportSQLiteDatabase db) {\r\n                Log.d(&quot;ONDESTRMIG&quot;,&quot;Database Version when called is &quot; + db.getVersion());\r\n                super.onDestructiveMigration(db);\r\n                Log.d(&quot;ONDESTRMIG&quot;,&quot;Database Version after Super call is &quot; + db.getVersion());\r\n            }\r\n        };\r\n    \r\n        public void logDBInfo() {\r\n            AllDao adao = this.allDao();\r\n            List&lt;UserData&gt; allUserDataRows = adao.getAllUserDataRows();\r\n            StringBuilder sb = new StringBuilder().append(&quot;UserData rowcount = &quot;).append(allUserDataRows.size());\r\n            for (UserData u: allUserDataRows) {\r\n                sb.append(&quot;\\n\\tID = &quot;).append(u.getId()).append(&quot; NAME = &quot; + u.getName());\r\n            }\r\n            List&lt;OtherData&gt; allOtherDataRows = adao.getAllOtherDataRows();\r\n            sb.append(&quot;\\n\\nOtherData rowcount = &quot;).append(allOtherDataRows.size());\r\n            for (OtherData o: allOtherDataRows) {\r\n                sb.append(&quot;\\n\\tID = &quot;).append(o.getOtherDataId()).append(&quot;Column1 = &quot;).append(o.getColumn1());\r\n            }\r\n            Log.d(&quot;DBINFO&quot;,sb.toString());\r\n        }\r\n    \r\n        static  void setContext(Context context) {\r\n            sContext = context;\r\n        }\r\n    \r\n        private static void applyAssetDB(SupportSQLiteDatabase sdb) {\r\n            String TAG = &quot;APPLYASSETDB&quot;;\r\n            String mainDatabaseName = (new File(sdb.getPath()).getName());\r\n            String assetDatabaseName = mainDatabaseName + &quot;_asset&quot;;\r\n            String asset_schema = &quot;asset_schema&quot;;\r\n            Log.d(TAG,&quot;Attempting application of asset data to database.&quot;\r\n                            + &quot;\\n\\tActual Database = &quot; + mainDatabaseName\r\n                            + &quot;\\n\\tAsset Database will be &quot; + assetDatabaseName\r\n                            + &quot;\\n\\tSchema for attached database will be  &quot; + asset_schema\r\n                    );\r\n            copyDatabaseFromAssets(AppDatabase.sContext,MainActivity.ASSETNAME,assetDatabaseName);\r\n            /*\r\n            if (sdb.isWriteAheadLoggingEnabled()) {\r\n                setAssetDBToWALMode(sContext.getDatabasePath(assetDatabaseName).getPath());\r\n            }\r\n            Log.d(TAG,&quot;Attempting to ATTACH  asset database &quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n            sdb.execSQL(&quot;ATTACH DATABASE &#39;&quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;&#39; AS &quot; + asset_schema);\r\n            Log.d(TAG,&quot;Attempting INSERTING NEW DATA using\\n\\t&quot; + &quot;INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.&quot; + asset_schema);\r\n            sdb.execSQL(&quot;INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.&quot; + asset_schema);\r\n            Log.d(TAG,&quot;Attempting to DETACH &quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n            sdb.execSQL(&quot;DETACH DATABASE &#39;&quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n            */\r\n    \r\n            int insertRows = 0;\r\n            SQLiteDatabase assetdb = SQLiteDatabase.openDatabase(sContext.getDatabasePath(assetDatabaseName).getPath(),null,SQLiteDatabase.OPEN_READONLY);\r\n            Cursor assetCursor = assetdb.query(&quot;`otherdata`&quot;,null,null,null,null,null,null);\r\n            ContentValues cv = new ContentValues();\r\n            while (assetCursor.moveToNext()) {\r\n                cv.clear();\r\n                for (String c: assetCursor.getColumnNames()) {\r\n                    if (assetCursor.getType(assetCursor.getColumnIndex(c)) == Cursor.FIELD_TYPE_BLOB) {\r\n                        cv.put(c,assetCursor.getBlob(assetCursor.getColumnIndex(c)));\r\n                    } else {\r\n                        cv.put(c,assetCursor.getString(assetCursor.getColumnIndex(c)));\r\n                    }\r\n                }\r\n                if (sdb.insert(&quot;`otherdata`&quot;, OnConflictStrategy.IGNORE,cv) &gt; 0 ) insertRows++;\r\n            }\r\n            Log.d(TAG,&quot;Inserted &quot; + insertRows + &quot; from the Asset Database&quot;);\r\n            assetCursor.close();\r\n    \r\n            Log.d(TAG,&quot;Deleting &quot; + sContext.getDatabasePath(assetDatabaseName).getPath());\r\n            if ((new File(sContext.getDatabasePath(assetDatabaseName).getPath())).delete()) {\r\n                Log.d(TAG,&quot;Copied AssetDatabase successfully deleted.&quot;);\r\n            } else {\r\n                Log.d(TAG,&quot;Copied Asset Database file not deleted????&quot;);\r\n            }\r\n            Log.d(TAG,&quot;Finished&quot;);\r\n        }\r\n    \r\n        private static void copyDatabaseFromAssets(Context context, String assetName, String databaseName) {\r\n            String TAG = &quot;COPYDBFROMASSET&quot;;\r\n            int bufferSize = 1024 * 4, length = 0, read = 0, written = 0, chunks = 0;\r\n            byte[] buffer = new byte[bufferSize];\r\n            try {\r\n                Log.d(TAG,&quot;Attempting opening asset &quot; + assetName + &quot; as an InputFileStream.&quot;);\r\n                InputStream is = context.getAssets().open(assetName);\r\n                Log.d(TAG,&quot;Attempting opening FileOutputStream &quot; + context.getDatabasePath(databaseName).getPath());\r\n                OutputStream os = new FileOutputStream(context.getDatabasePath(databaseName));\r\n                Log.d(TAG,&quot;Initiating copy.&quot;);\r\n                while((length = is.read(buffer)) &gt; 0) {\r\n                    read += length;\r\n                    os.write(buffer,0,length);\r\n                    written += length;\r\n                    chunks++;\r\n                }\r\n                Log.d(TAG,&quot;Read &quot; + read + &quot;bytes; Wrote &quot; + written + &quot; bytes; in &quot; + chunks);\r\n                Log.d(TAG,&quot;Finalising (Flush and Close output and close input)&quot;);\r\n                os.flush();\r\n                os.close();\r\n                is.close();\r\n                Log.d(TAG,&quot;Finalised&quot;);\r\n    \r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Error copying Database from Asset &quot; + e.getMessage());\r\n            }\r\n        }\r\n    \r\n        private static void setAssetDBToWALMode(String assetDBPath) {\r\n            SQLiteDatabase db = SQLiteDatabase.openDatabase(assetDBPath,null,SQLiteDatabase.OPEN_READWRITE);\r\n            db.enableWriteAheadLogging();\r\n            db.close();\r\n        }\r\n    }\r\n\r\n","title":"Merge user&#39;s Android Room database when migrating database","body":"<blockquote>\n  <p>Is this possible?\n  Yes. However it is a little complex.</p>\n</blockquote>\n\n<p>In short, you can actually do it the other way round. Rather than use the new database from the asset and try to retrive the previous data (is complicated if using Room Migration as you have to effectiviely swap to the newly created/copied database which is further complicated as you're inside a transaction when migrating).</p>\n\n<p>If however you do the schema changes to the database in use rather than the asset database, you can then get the asset database and copy the new non-user data (would be greatly complicated if the user's data were intermingled with the non-user data).</p>\n\n<p>Even this isn't that simple. However, here's a simple exmaple/scanario based upon a slight expansion of your code to :-</p>\n\n<pre><code>static final Migration MIGRATION_1_2 = new Migration(1, 2) {\n    @Override\n    public void migrate(SupportSQLiteDatabase db) {\n        final String TAG = \"MIGRATE_1_2\";\n        Log.d(TAG,\"Database Version when called is \" + db.getVersion());\n\n        // I need to tell Room that it should use the data\n        // from version 1 ( with the user's favorites ) to version 2.\n\n        // \"CREATE TABLE IF NOT EXISTS `userdata` (`userId` INTEGER DEFAULT uid, `name` TEXT, PRIMARY KEY(`userId`))\"\n        //db.execSQL(\"CREATE TABLE IF NOT EXISTS `userdata_saveuserdata` (`userId` INTEGER, `name` TEXT, PRIMARY KEY(`userId`))\");\n        //db.execSQL(\"INSERT INTO `userdata_saveuserdata` SELECT * FROM `userdata`\");\n        db.execSQL(\"ALTER TABLE `otherdata` ADD COLUMN `column2` TEXT\");\n        Log.d(TAG,\"Checking Context\");\n        if (sContext != null) {\n            applyAssetDB(db);\n        } else {\n            Log.d(TAG,\"Context is null!!!!\");\n        }\n    }\n};\n</code></pre>\n\n<p>As you can see this changes the otherdata table (not the users table) by adding a new column.</p>\n\n<p>It then checks to see if sContext isn't null.</p>\n\n<ul>\n<li>A valid Context is used rather then hard coding paths.</li>\n</ul>\n\n<p>Then the <strong>applyAssetDB</strong> is invoked, which is :-</p>\n\n<pre><code>private static void applyAssetDB(SupportSQLiteDatabase sdb) {\n    String TAG = \"APPLYASSETDB\";\n    String mainDatabaseName = (new File(sdb.getPath()).getName());\n    String assetDatabaseName = mainDatabaseName + \"_asset\";\n    String asset_schema = \"asset_schema\";\n    Log.d(TAG,\"Attempting application of asset data to database.\"\n                    + \"\\n\\tActual Database = \" + mainDatabaseName\n                    + \"\\n\\tAsset Database will be \" + assetDatabaseName\n                    + \"\\n\\tSchema for attached database will be  \" + asset_schema\n            );\n    copyDatabaseFromAssets(AppDatabase.sContext,MainActivity.ASSETNAME,assetDatabaseName);\n    /*\n    if (sdb.isWriteAheadLoggingEnabled()) {\n        setAssetDBToWALMode(sContext.getDatabasePath(assetDatabaseName).getPath());\n    }\n    Log.d(TAG,\"Attempting to ATTACH  asset database \" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n    sdb.execSQL(\"ATTACH DATABASE '\" + sContext.getDatabasePath(assetDatabaseName).getPath() + \"' AS \" + asset_schema);\n    Log.d(TAG,\"Attempting INSERTING NEW DATA using\\n\\t\" + \"INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.\" + asset_schema);\n    sdb.execSQL(\"INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.\" + asset_schema);\n    Log.d(TAG,\"Attempting to DETACH \" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n    sdb.execSQL(\"DETACH DATABASE '\" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n    */\n\n    int insertRows = 0;\n    SQLiteDatabase assetdb = SQLiteDatabase.openDatabase(sContext.getDatabasePath(assetDatabaseName).getPath(),null,SQLiteDatabase.OPEN_READONLY);\n    Cursor assetCursor = assetdb.query(\"`otherdata`\",null,null,null,null,null,null);\n    ContentValues cv = new ContentValues();\n    while (assetCursor.moveToNext()) {\n        cv.clear();\n        for (String c: assetCursor.getColumnNames()) {\n            if (assetCursor.getType(assetCursor.getColumnIndex(c)) == Cursor.FIELD_TYPE_BLOB) {\n                cv.put(c,assetCursor.getBlob(assetCursor.getColumnIndex(c)));\n            } else {\n                cv.put(c,assetCursor.getString(assetCursor.getColumnIndex(c)));\n            }\n        }\n        if (sdb.insert(\"`otherdata`\", OnConflictStrategy.IGNORE,cv) &gt; 0 ) insertRows++;\n    }\n    Log.d(TAG,\"Inserted \" + insertRows + \" from the Asset Database\");\n    assetCursor.close();\n\n    Log.d(TAG,\"Deleting \" + sContext.getDatabasePath(assetDatabaseName).getPath());\n    if ((new File(sContext.getDatabasePath(assetDatabaseName).getPath())).delete()) {\n        Log.d(TAG,\"Copied AssetDatabase successfully deleted.\");\n    } else {\n        Log.d(TAG,\"Copied Asset Database file not deleted????\");\n    }\n    Log.d(TAG,\"Finished\");\n}\n</code></pre>\n\n<ul>\n<li>commented out code left in intentionally as issue were encountered when trying to ATTACH the database copied from the assets, so reverted to using seperate connetions.</li>\n</ul>\n\n<p>This copies the database from the asset to the defauly database location via the <strong>copyDatabaseFromAssets</strong> method (as below). It the extracts all of the non user's data from the asset database and inserts it into the original (but altered according to the changed schema) database <strong>relying</strong> upon the <strong>OnConflictStrategy.IGNORE</strong> to only insert new rows. The <strong>userdata</strong> table is untouched, so the user's data is retianed.</p>\n\n<ul>\n<li>Obviously this would not cater for changed rows.</li>\n</ul>\n\n<p>Here's <strong>copyDatabaseFromAssets</strong></p>\n\n<pre><code>private static void copyDatabaseFromAssets(Context context, String assetName, String databaseName) {\n    String TAG = \"COPYDBFROMASSET\";\n    int bufferSize = 1024 * 4, length = 0, read = 0, written = 0, chunks = 0;\n    byte[] buffer = new byte[bufferSize];\n    try {\n        Log.d(TAG,\"Attempting opening asset \" + assetName + \" as an InputFileStream.\");\n        InputStream is = context.getAssets().open(assetName);\n        Log.d(TAG,\"Attempting opening FileOutputStream \" + context.getDatabasePath(databaseName).getPath());\n        OutputStream os = new FileOutputStream(context.getDatabasePath(databaseName));\n        Log.d(TAG,\"Initiating copy.\");\n        while((length = is.read(buffer)) &gt; 0) {\n            read += length;\n            os.write(buffer,0,length);\n            written += length;\n            chunks++;\n        }\n        Log.d(TAG,\"Read \" + read + \"bytes; Wrote \" + written + \" bytes; in \" + chunks);\n        Log.d(TAG,\"Finalising (Flush and Close output and close input)\");\n        os.flush();\n        os.close();\n        is.close();\n        Log.d(TAG,\"Finalised\");\n\n    } catch (IOException e) {\n        throw new RuntimeException(\"Error copying Database from Asset \" + e.getMessage());\n    }\n}\n</code></pre>\n\n<p>Here's an example Activity <strong>MainActivity</strong> that puts this all together (noting that for convenience I've used allowMainThreadQueries ) :-</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    //public static final int DBVERSION = 1; //!!!!! ORIGINAL\n    public static final int DBVERSION = 2;\n    public static final String DBNAME = \"app_database.db\";\n    public static final String ASSETNAME = \"database/QuotesDB.db\";\n\n    AppDatabase appDB;\n    AllDao adao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        appDB.setContext(this);\n        appDB = Room.databaseBuilder(this,AppDatabase.class,DBNAME)\n                .allowMainThreadQueries()\n                .createFromAsset(ASSETNAME)\n                .addCallback(AppDatabase.CALLBACK)\n                .addMigrations(AppDatabase.MIGRATION_1_2)\n                .build();\n        adao = appDB.allDao();\n        appDB.logDBInfo();\n        if (adao.getUserDataRowCount() == 3) {\n            adao.insertOneUserData(new UserData(\"ADDEDU100\"));\n            adao.insertOneUserData(new UserData(\"ADDEDU200\"));\n            adao.insertOneUserData(new UserData(\"ADDEDU300\"));\n        }\n        appDB.logDBInfo();\n    }\n}\n</code></pre>\n\n<p>When run (after changing the relevant code for the new schema and increasing the version) the result in the log is :-</p>\n\n<pre><code>2019-11-30 10:56:38.768 12944-12944/a.roommigrationwithassets D/MIGRATE_1_2: Database Version when called is 1\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/MIGRATE_1_2: Checking Context\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Attempting application of asset data to database.\n        Actual Database = app_database.db\n        Asset Database will be app_database.db_asset\n        Schema for attached database will be  asset_schema\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Attempting opening asset database/QuotesDB.db as an InputFileStream.\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Attempting opening FileOutputStream /data/user/0/a.roommigrationwithassets/databases/app_database.db_asset\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Initiating copy.\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Read 12288bytes; Wrote 12288 bytes; in 3\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Finalising (Flush and Close output and close input)\n2019-11-30 10:56:38.772 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Finalised\n2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Inserted 3 from the Asset Database\n2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Deleting /data/user/0/a.roommigrationwithassets/databases/app_database.db_asset\n2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Copied AssetDatabase successfully deleted.\n2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Finished\n2019-11-30 10:56:38.815 12944-12944/a.roommigrationwithassets D/ONOPEN: Database Version when called is 2\n2019-11-30 10:56:38.816 12944-12944/a.roommigrationwithassets D/ONOPEN: Database Version after Super call is 2\n2019-11-30 10:56:38.819 12944-12944/a.roommigrationwithassets D/DBINFO: UserData rowcount = 6\n        ID = 1 NAME = OU1\n        ID = 2 NAME = OU2\n        ID = 3 NAME = OU3\n        ID = 4 NAME = ADDEDU100\n        ID = 5 NAME = ADDEDU200\n        ID = 6 NAME = ADDEDU300\n\n    OtherData rowcount = 3\n        ID = 1Column1 = OD1\n        ID = 2Column1 = OD2\n        ID = 3Column1 = OD3\n2019-11-30 10:56:38.821 12944-12944/a.roommigrationwithassets D/DBINFO: UserData rowcount = 6\n        ID = 1 NAME = OU1\n        ID = 2 NAME = OU2\n        ID = 3 NAME = OU3\n        ID = 4 NAME = ADDEDU100\n        ID = 5 NAME = ADDEDU200\n        ID = 6 NAME = ADDEDU300\n\n    OtherData rowcount = 3\n        ID = 1Column1 = OD1\n        ID = 2Column1 = OD2\n        ID = 3Column1 = OD3\n</code></pre>\n\n<p>The complete code for the <strong>AppDatabase</strong> class (noting that this includes some redundant code) is :-</p>\n\n<pre><code>@Database(version = MainActivity.DBVERSION, exportSchema = false,entities = {UserData.class,OtherData.class})\nabstract class AppDatabase extends RoomDatabase {\n\n    abstract AllDao allDao();\n    static Context sContext;\n\n    static final Migration MIGRATION_1_2 = new Migration(1, 2) {\n        @Override\n        public void migrate(SupportSQLiteDatabase db) {\n            final String TAG = \"MIGRATE_1_2\";\n            Log.d(TAG,\"Database Version when called is \" + db.getVersion());\n\n            // I need to tell Room that it should use the data\n            // from version 1 ( with the user's favorites ) to version 2.\n\n            // \"CREATE TABLE IF NOT EXISTS `userdata` (`userId` INTEGER DEFAULT uid, `name` TEXT, PRIMARY KEY(`userId`))\"\n            //db.execSQL(\"CREATE TABLE IF NOT EXISTS `userdata_saveuserdata` (`userId` INTEGER, `name` TEXT, PRIMARY KEY(`userId`))\");\n            //db.execSQL(\"INSERT INTO `userdata_saveuserdata` SELECT * FROM `userdata`\");\n            db.execSQL(\"ALTER TABLE `otherdata` ADD COLUMN `column2` TEXT\");\n            Log.d(TAG,\"Checking Context\");\n            if (sContext != null) {\n                applyAssetDB(db);\n            } else {\n                Log.d(TAG,\"Context is null!!!!\");\n            }\n        }\n    };\n\n    static final RoomDatabase.Callback CALLBACK = new RoomDatabase.Callback() {\n        @Override\n        public void onCreate(@NonNull SupportSQLiteDatabase db) {\n            Log.d(\"ONCREATE\",\"Database Version when called is \" + db.getVersion());\n            super.onCreate(db);\n            Log.d(\"ONCREATE\",\"Database Version after Super call is \" + db.getVersion());\n        }\n\n        @Override\n        public void onOpen(@NonNull SupportSQLiteDatabase db) {\n            Log.d(\"ONOPEN\",\"Database Version when called is \" + db.getVersion());\n            super.onOpen(db);\n            Log.d(\"ONOPEN\",\"Database Version after Super call is \" + db.getVersion());\n        }\n\n        @Override\n        public void onDestructiveMigration(@NonNull SupportSQLiteDatabase db) {\n            Log.d(\"ONDESTRMIG\",\"Database Version when called is \" + db.getVersion());\n            super.onDestructiveMigration(db);\n            Log.d(\"ONDESTRMIG\",\"Database Version after Super call is \" + db.getVersion());\n        }\n    };\n\n    public void logDBInfo() {\n        AllDao adao = this.allDao();\n        List&lt;UserData&gt; allUserDataRows = adao.getAllUserDataRows();\n        StringBuilder sb = new StringBuilder().append(\"UserData rowcount = \").append(allUserDataRows.size());\n        for (UserData u: allUserDataRows) {\n            sb.append(\"\\n\\tID = \").append(u.getId()).append(\" NAME = \" + u.getName());\n        }\n        List&lt;OtherData&gt; allOtherDataRows = adao.getAllOtherDataRows();\n        sb.append(\"\\n\\nOtherData rowcount = \").append(allOtherDataRows.size());\n        for (OtherData o: allOtherDataRows) {\n            sb.append(\"\\n\\tID = \").append(o.getOtherDataId()).append(\"Column1 = \").append(o.getColumn1());\n        }\n        Log.d(\"DBINFO\",sb.toString());\n    }\n\n    static  void setContext(Context context) {\n        sContext = context;\n    }\n\n    private static void applyAssetDB(SupportSQLiteDatabase sdb) {\n        String TAG = \"APPLYASSETDB\";\n        String mainDatabaseName = (new File(sdb.getPath()).getName());\n        String assetDatabaseName = mainDatabaseName + \"_asset\";\n        String asset_schema = \"asset_schema\";\n        Log.d(TAG,\"Attempting application of asset data to database.\"\n                        + \"\\n\\tActual Database = \" + mainDatabaseName\n                        + \"\\n\\tAsset Database will be \" + assetDatabaseName\n                        + \"\\n\\tSchema for attached database will be  \" + asset_schema\n                );\n        copyDatabaseFromAssets(AppDatabase.sContext,MainActivity.ASSETNAME,assetDatabaseName);\n        /*\n        if (sdb.isWriteAheadLoggingEnabled()) {\n            setAssetDBToWALMode(sContext.getDatabasePath(assetDatabaseName).getPath());\n        }\n        Log.d(TAG,\"Attempting to ATTACH  asset database \" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n        sdb.execSQL(\"ATTACH DATABASE '\" + sContext.getDatabasePath(assetDatabaseName).getPath() + \"' AS \" + asset_schema);\n        Log.d(TAG,\"Attempting INSERTING NEW DATA using\\n\\t\" + \"INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.\" + asset_schema);\n        sdb.execSQL(\"INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.\" + asset_schema);\n        Log.d(TAG,\"Attempting to DETACH \" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n        sdb.execSQL(\"DETACH DATABASE '\" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n        */\n\n        int insertRows = 0;\n        SQLiteDatabase assetdb = SQLiteDatabase.openDatabase(sContext.getDatabasePath(assetDatabaseName).getPath(),null,SQLiteDatabase.OPEN_READONLY);\n        Cursor assetCursor = assetdb.query(\"`otherdata`\",null,null,null,null,null,null);\n        ContentValues cv = new ContentValues();\n        while (assetCursor.moveToNext()) {\n            cv.clear();\n            for (String c: assetCursor.getColumnNames()) {\n                if (assetCursor.getType(assetCursor.getColumnIndex(c)) == Cursor.FIELD_TYPE_BLOB) {\n                    cv.put(c,assetCursor.getBlob(assetCursor.getColumnIndex(c)));\n                } else {\n                    cv.put(c,assetCursor.getString(assetCursor.getColumnIndex(c)));\n                }\n            }\n            if (sdb.insert(\"`otherdata`\", OnConflictStrategy.IGNORE,cv) &gt; 0 ) insertRows++;\n        }\n        Log.d(TAG,\"Inserted \" + insertRows + \" from the Asset Database\");\n        assetCursor.close();\n\n        Log.d(TAG,\"Deleting \" + sContext.getDatabasePath(assetDatabaseName).getPath());\n        if ((new File(sContext.getDatabasePath(assetDatabaseName).getPath())).delete()) {\n            Log.d(TAG,\"Copied AssetDatabase successfully deleted.\");\n        } else {\n            Log.d(TAG,\"Copied Asset Database file not deleted????\");\n        }\n        Log.d(TAG,\"Finished\");\n    }\n\n    private static void copyDatabaseFromAssets(Context context, String assetName, String databaseName) {\n        String TAG = \"COPYDBFROMASSET\";\n        int bufferSize = 1024 * 4, length = 0, read = 0, written = 0, chunks = 0;\n        byte[] buffer = new byte[bufferSize];\n        try {\n            Log.d(TAG,\"Attempting opening asset \" + assetName + \" as an InputFileStream.\");\n            InputStream is = context.getAssets().open(assetName);\n            Log.d(TAG,\"Attempting opening FileOutputStream \" + context.getDatabasePath(databaseName).getPath());\n            OutputStream os = new FileOutputStream(context.getDatabasePath(databaseName));\n            Log.d(TAG,\"Initiating copy.\");\n            while((length = is.read(buffer)) &gt; 0) {\n                read += length;\n                os.write(buffer,0,length);\n                written += length;\n                chunks++;\n            }\n            Log.d(TAG,\"Read \" + read + \"bytes; Wrote \" + written + \" bytes; in \" + chunks);\n            Log.d(TAG,\"Finalising (Flush and Close output and close input)\");\n            os.flush();\n            os.close();\n            is.close();\n            Log.d(TAG,\"Finalised\");\n\n        } catch (IOException e) {\n            throw new RuntimeException(\"Error copying Database from Asset \" + e.getMessage());\n        }\n    }\n\n    private static void setAssetDBToWALMode(String assetDBPath) {\n        SQLiteDatabase db = SQLiteDatabase.openDatabase(assetDBPath,null,SQLiteDatabase.OPEN_READWRITE);\n        db.enableWriteAheadLogging();\n        db.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3277609,"reputation":345,"user_id":2759134,"display_name":"Lexusminds"},"score":0,"creation_date":1663312676,"post_id":62047665,"comment_id":130214025,"body_markdown":"@parshant17 Sorry for picking up such an old answer, but I was wondering how this solves OP&#39;s problem of migrating the user&#39;s favorites to future versions. Woudln&#39;t this approach reset the user favorites because they are not included in the given QuotesDB.db asset?","body":"@parshant17 Sorry for picking up such an old answer, but I was wondering how this solves OP&#39;s problem of migrating the user&#39;s favorites to future versions. Woudln&#39;t this approach reset the user favorites because they are not included in the given QuotesDB.db asset?"}],"tags":[],"owner":{"account_id":11568420,"reputation":1540,"user_id":8475893,"display_name":"prashant17"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590595597,"creation_date":1590595597,"answer_id":62047665,"question_id":59064933,"body_markdown":"Yes, It is possible.\r\n\r\n**The one precondition is your pre-shipped database and app database version must be the same.** For example, your first release will have both databases as version 1. Now for the second release with new data update the pre-shipped and app database version to 2 and your database builder code will look like this:\r\n\r\n    Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, &quot;app_database.db&quot;)\r\n                                .createFromAsset(&quot;database/QuotesDB.db&quot;)\r\n                                .fallbackToDestructiveMigration()\r\n                                .build();\r\n\r\n[Prepopulate your Room database Docs][1]\r\n\r\n[This medium article][2] explains this nicely\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/room/prepopulate\r\n  [2]: https://medium.com/androiddevelopers/packing-the-room-pre-populate-your-database-with-this-one-method-333ae190e680","title":"Merge user&#39;s Android Room database when migrating database","body":"<p>Yes, It is possible.</p>\n\n<p><strong>The one precondition is your pre-shipped database and app database version must be the same.</strong> For example, your first release will have both databases as version 1. Now for the second release with new data update the pre-shipped and app database version to 2 and your database builder code will look like this:</p>\n\n<pre><code>Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, \"app_database.db\")\n                            .createFromAsset(\"database/QuotesDB.db\")\n                            .fallbackToDestructiveMigration()\n                            .build();\n</code></pre>\n\n<p><a href=\"https://developer.android.com/training/data-storage/room/prepopulate\" rel=\"nofollow noreferrer\">Prepopulate your Room database Docs</a></p>\n\n<p><a href=\"https://medium.com/androiddevelopers/packing-the-room-pre-populate-your-database-with-this-one-method-333ae190e680\" rel=\"nofollow noreferrer\">This medium article</a> explains this nicely</p>\n"},{"tags":[],"owner":{"account_id":6583488,"reputation":3,"user_id":5087036,"display_name":"Abdullah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619931047,"creation_date":1619931047,"answer_id":67353086,"question_id":59064933,"body_markdown":"**Yes it is possible!**\r\nincrease your SQLite VERSION and add .fallbackToDestructiveMigration() in your Room.databaseBuilder()\r\n\r\n\r\n    Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, &quot;app_database.db&quot;)\r\n           .createFromAsset(&quot;database/QuotesDB.db&quot;)\r\n           .fallbackToDestructiveMigration()\r\n           .build();","title":"Merge user&#39;s Android Room database when migrating database","body":"<p><strong>Yes it is possible!</strong>\nincrease your SQLite VERSION and add .fallbackToDestructiveMigration() in your Room.databaseBuilder()</p>\n<pre><code>Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, &quot;app_database.db&quot;)\n       .createFromAsset(&quot;database/QuotesDB.db&quot;)\n       .fallbackToDestructiveMigration()\n       .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7673543,"reputation":3490,"user_id":5815054,"accept_rate":50,"display_name":"hb0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677148197,"creation_date":1677146143,"answer_id":75543162,"question_id":59064933,"body_markdown":"Ended up here with a similar issue, so for future readers:\r\n\r\n&lt;h3&gt;How to merge an existing database with another database?&lt;/h3&gt;\r\n\r\nI ended up with the following:\r\n\r\n```\r\n@Database(...) abstract class MainDatabase : RoomDatabase() {\r\n\r\n    // Default Singleton pattern code\r\n    companion object {\r\n        @Volatile private var INSTANCE: Database? = null\r\n\r\n        fun getDatabase(context: Context): Database {\r\n            return INSTANCE ?: synchronized(this) {\r\n\r\n\r\n                // Located here to have access to `Context`\r\n                val MIGRATION_17_18 = object : Migration(17, 18) {\r\n                    override fun migrate(database: SupportSQLiteDatabase) {\r\n\r\n                        // Check if `secondDb` exists\r\n                        val file = context.getDatabasePath(SecondDatabase.DATABASE_NAME)\r\n                        if (file.exists()) {\r\n                            // Using a build method which includes all migation steps for `secondDb`\r\n                            val secondDb = SecondDatabase.build(context)\r\n                            // TODO: add handling for different `secondDb` versions\r\n\r\n                            // Insert the data from the `secondDb`\r\n                            secondDb.locationDao().all.forEach {\r\n                                database.execSQL(\r\n                                    &quot;INSERT INTO `Location` (`id`, ...)&quot;\r\n                                            + &quot; VALUES (&#39;&quot; + it.uid + &quot;&#39;, ...)&quot;\r\n                                )\r\n                            }\r\n\r\n                            // Drop `secondDb` (this also deleted temp files like `wal`, `sha`, etc.\r\n                            context.deleteDatabase(SecondDatabase.DATABASE_NAME)\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                // Default building code for Singleton Pattern\r\n                val instance = Room.databaseBuilder(\r\n                    context.applicationContext,\r\n                    Database::class.java,\r\n                    &quot;mainDb&quot;\r\n                )\r\n                    .enableMultiInstanceInvalidation()\r\n                    .addMigrations(MIGRATION_17_18)\r\n                    .build()\r\n                INSTANCE = instance\r\n                return instance\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m using the Singleton pattern as suggested [here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/codelabs/android-room-with-a-view-kotlin#7","title":"Merge user&#39;s Android Room database when migrating database","body":"<p>Ended up here with a similar issue, so for future readers:</p>\n<h3>How to merge an existing database with another database?</h3>\n<p>I ended up with the following:</p>\n<pre><code>@Database(...) abstract class MainDatabase : RoomDatabase() {\n\n    // Default Singleton pattern code\n    companion object {\n        @Volatile private var INSTANCE: Database? = null\n\n        fun getDatabase(context: Context): Database {\n            return INSTANCE ?: synchronized(this) {\n\n\n                // Located here to have access to `Context`\n                val MIGRATION_17_18 = object : Migration(17, 18) {\n                    override fun migrate(database: SupportSQLiteDatabase) {\n\n                        // Check if `secondDb` exists\n                        val file = context.getDatabasePath(SecondDatabase.DATABASE_NAME)\n                        if (file.exists()) {\n                            // Using a build method which includes all migation steps for `secondDb`\n                            val secondDb = SecondDatabase.build(context)\n                            // TODO: add handling for different `secondDb` versions\n\n                            // Insert the data from the `secondDb`\n                            secondDb.locationDao().all.forEach {\n                                database.execSQL(\n                                    &quot;INSERT INTO `Location` (`id`, ...)&quot;\n                                            + &quot; VALUES ('&quot; + it.uid + &quot;', ...)&quot;\n                                )\n                            }\n\n                            // Drop `secondDb` (this also deleted temp files like `wal`, `sha`, etc.\n                            context.deleteDatabase(SecondDatabase.DATABASE_NAME)\n                        }\n                    }\n                }\n\n\n                // Default building code for Singleton Pattern\n                val instance = Room.databaseBuilder(\n                    context.applicationContext,\n                    Database::class.java,\n                    &quot;mainDb&quot;\n                )\n                    .enableMultiInstanceInvalidation()\n                    .addMigrations(MIGRATION_17_18)\n                    .build()\n                INSTANCE = instance\n                return instance\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>I'm using the Singleton pattern as suggested <a href=\"https://developer.android.com/codelabs/android-room-with-a-view-kotlin#7\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":9697320,"reputation":169,"user_id":7193338,"display_name":"Kate Lastimosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1976,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1677148197,"creation_date":1574839003,"question_id":59064933,"body_markdown":"I have a Room database which is stored in assets/database with its preloaded data. I am creating an updated version with more contents in the database for the next update.\r\n        \r\nCurrently, if I add new contents to the database with no schema changes and reinstall the app, these new contents do not show up. The only way I can see the changes is if I uninstall and reinstall the app. However, I need to merge the user&#39;s data with the database with the new contents since I need to get the &quot;favorites&quot; of the user which is an integer column of a table with the item contents. \r\n\r\nIs this possible?\r\n\r\nThis is how I create my database.\r\n\r\n```java\r\npublic static AppDatabase getInMemoryDatabase(Context context) {\r\n    if (INSTANCE == null) {\r\n        synchronized (AppDatabase.class) {\r\n            if (INSTANCE == null) {\r\n                INSTANCE = Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, &quot;app_database.db&quot;)\r\n                        .createFromAsset(&quot;database/QuotesDB.db&quot;)\r\n                        .addMigrations(MIGRATION_1_2)\r\n                        .build();\r\n            }\r\n        }\r\n    }\r\n    return INSTANCE;\r\n}\r\n```\r\n\r\nI tried to migrate with the following code but it still doesn&#39;t update the contents.\r\n\r\n```java\r\n/**\r\n * Migrate from:\r\n * version 1 - initial contents.\r\n * to\r\n * version 2 - updated database contents (no schema changes)\r\n */\r\n@VisibleForTesting\r\nstatic final Migration MIGRATION_1_2 = new Migration(1, 2) {\r\n    @Override\r\n    public void migrate(SupportSQLiteDatabase database) {\r\n        // I need to tell Room that it should use the data\r\n        // from version 1 ( with the user&#39;s favorites ) to version 2.\r\n    }\r\n};\r\n```","title":"Merge user&#39;s Android Room database when migrating database","body":"<p>I have a Room database which is stored in assets/database with its preloaded data. I am creating an updated version with more contents in the database for the next update.</p>\n<p>Currently, if I add new contents to the database with no schema changes and reinstall the app, these new contents do not show up. The only way I can see the changes is if I uninstall and reinstall the app. However, I need to merge the user's data with the database with the new contents since I need to get the &quot;favorites&quot; of the user which is an integer column of a table with the item contents.</p>\n<p>Is this possible?</p>\n<p>This is how I create my database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static AppDatabase getInMemoryDatabase(Context context) {\n    if (INSTANCE == null) {\n        synchronized (AppDatabase.class) {\n            if (INSTANCE == null) {\n                INSTANCE = Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, &quot;app_database.db&quot;)\n                        .createFromAsset(&quot;database/QuotesDB.db&quot;)\n                        .addMigrations(MIGRATION_1_2)\n                        .build();\n            }\n        }\n    }\n    return INSTANCE;\n}\n</code></pre>\n<p>I tried to migrate with the following code but it still doesn't update the contents.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Migrate from:\n * version 1 - initial contents.\n * to\n * version 2 - updated database contents (no schema changes)\n */\n@VisibleForTesting\nstatic final Migration MIGRATION_1_2 = new Migration(1, 2) {\n    @Override\n    public void migrate(SupportSQLiteDatabase database) {\n        // I need to tell Room that it should use the data\n        // from version 1 ( with the user's favorites ) to version 2.\n    }\n};\n</code></pre>\n"},{"tags":["java","image-processing","image-segmentation"],"answers":[{"tags":[],"owner":{"account_id":207954,"reputation":1006,"user_id":458139,"accept_rate":90,"display_name":"Lavir the Whiolet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288597080,"creation_date":1288597080,"answer_id":4067272,"question_id":4067245,"body_markdown":"MATLAB is better for image processing. And the best way is to find special image processing tools (or libraries).","title":"how to perform the image segmentation in java?","body":"<p>MATLAB is better for image processing. And the best way is to find special image processing tools (or libraries).</p>\n"},{"tags":[],"owner":{"account_id":209952,"reputation":3852,"user_id":461295,"accept_rate":62,"display_name":"bjoernz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288703724,"creation_date":1288703724,"answer_id":4077991,"question_id":4067245,"body_markdown":"You can use the [Java Advanced Imaging (JAI)][1] Library to do image processing in java. You have to decide for yourself whether Java or MATLAB is better for you.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/technologies/desktop/media/jai/","title":"how to perform the image segmentation in java?","body":"<p>You can use the <a href=\"http://java.sun.com/javase/technologies/desktop/media/jai/\" rel=\"nofollow\">Java Advanced Imaging (JAI)</a> Library to do image processing in java. You have to decide for yourself whether Java or MATLAB is better for you.</p>\n"},{"tags":[],"owner":{"account_id":691340,"reputation":232,"user_id":563592,"display_name":"Radim Burget"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677147922,"creation_date":1312370227,"answer_id":6925607,"question_id":4067245,"body_markdown":"For image segmentation in JAVA you can also consider to use open-source IMMI tool ([http://spl.utko.feec.vutbr.cz/en/][1]). In comparison to Matlab, it is (in my opinion) more simple to use and simply enables also image mining.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20111124193808/http://spl.utko.feec.vutbr.cz/en/","title":"how to perform the image segmentation in java?","body":"<p>For image segmentation in JAVA you can also consider to use open-source IMMI tool (<a href=\"https://web.archive.org/web/20111124193808/http://spl.utko.feec.vutbr.cz/en/\" rel=\"nofollow noreferrer\">http://spl.utko.feec.vutbr.cz/en/</a>). In comparison to Matlab, it is (in my opinion) more simple to use and simply enables also image mining.</p>\n"},{"tags":[],"owner":{"account_id":3356071,"reputation":367,"user_id":2818958,"accept_rate":100,"display_name":"Gujjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392384417,"creation_date":1392383342,"answer_id":21780306,"question_id":4067245,"body_markdown":"Algorithm for Image segmentation depends upon what type of output you want after segmentation. Each algorithm performs a different segmentation. I think the region growing or [Flood Fill](http://en.wikipedia.org/wiki/Flood_fill) is good for this purpose.\r\nYou can use Java/JAI and JavaCV for this Image processing tasks.","title":"how to perform the image segmentation in java?","body":"<p>Algorithm for Image segmentation depends upon what type of output you want after segmentation. Each algorithm performs a different segmentation. I think the region growing or <a href=\"http://en.wikipedia.org/wiki/Flood_fill\" rel=\"nofollow\">Flood Fill</a> is good for this purpose.\nYou can use Java/JAI and JavaCV for this Image processing tasks.</p>\n"},{"comments":[{"owner":{"account_id":1747973,"reputation":3309,"user_id":1597844,"accept_rate":31,"display_name":"Roadies"},"score":0,"creation_date":1475240359,"post_id":38205412,"comment_id":66877162,"body_markdown":"Error Failed resolution of: Ljavax/imageio/ImageIO; help.","body":"Error Failed resolution of: Ljavax/imageio/ImageIO; help."}],"tags":[],"owner":{"account_id":2815364,"reputation":4577,"user_id":2420599,"display_name":"Gabriel Archanjo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467769361,"creation_date":1467727162,"answer_id":38205412,"question_id":4067245,"body_markdown":"I think the best image processing tool for you depends on the kind of project you&#39;re working on. \r\n\r\nIf you&#39;re working on a research project that needs productivity, quick validation and writting reports, **Matlab** and similar tools are the best option. On the other hand, if you&#39;re developing a software product, **Java, C++, C, Objective-C, etc** is more indicated. Matlab solutions are not easy to deliver and maintain in production.\r\n\r\nSince you asked how to do image segmentation in Java, I&#39;ll provide an example using Java and [Marvin Image Processing Framework][1]. As suggested by @Asif Sharif, FloodFill segmentation is a good strategy and I used it!\r\n\r\n**INPUT IMAGE:**\r\n[![enter image description here][2]][2]\r\n\r\n**OUTPUT IMAGE:**\r\n[![enter image description here][3]][3]\r\n\r\n**HOW IT WORKS:**\r\n\r\n 1. Load input image.\r\n 2. Change green pixels to white pixels.\r\n 3. Apply intensity thresholding for separating foreground from background.\r\n 4. Apply morphological closing to group separated parts of the same object\r\n 5. Use FloodFill segmentation to get the segments.\r\n 6. Draw the segments coordinates in the original image.\r\n\r\n**SOURCE:**\r\n\r\n    import static marvin.MarvinPluginCollection.*;\r\n\t\r\n\tpublic class SimpleSegmentation {\r\n\t\tpublic SimpleSegmentation(){\r\n\t\t\t// 1. Load image\r\n\t\t\tMarvinImage original = MarvinImageIO.loadImage(&quot;./res/robocup.jpg&quot;);\r\n\t\t\tMarvinImage image = original.clone();\r\n\t\t\t// 2. Change green pixels to white\r\n\t\t\tfilterGreen(image);\r\n\t\t\t// 3. Use threshold to separate foreground and background.\r\n\t\t\tMarvinImage bin = MarvinColorModelConverter.rgbToBinary(image, 127);\r\n\t\t\t// 4. Morphological closing to group separated parts of the same object\r\n\t\t\tmorphologicalClosing(bin.clone(), bin, MarvinMath.getTrueMatrix(30, 30));\r\n\t\t\t// 5. Use Floodfill segmention to get image segments\r\n\t\t\timage = MarvinColorModelConverter.binaryToRgb(bin);\r\n\t\t\tMarvinSegment[] segments = floodfillSegmentation(image);\r\n\t\t\t// 6. Show the segments in the original image\r\n\t\t\tfor(int i=1; i&lt;segments.length; i++){\r\n\t\t\t\tMarvinSegment seg = segments[i];\r\n\t\t\t\toriginal.drawRect(seg.x1, seg.y1, seg.width, seg.height, Color.yellow);\r\n\t\t\t\toriginal.drawRect(seg.x1+1, seg.y1+1, seg.width, seg.height, Color.yellow);\r\n\t\t\t}\r\n\t\t\tMarvinImageIO.saveImage(original, &quot;./res/robocup_segmented.png&quot;);\r\n\t\t}\r\n\t\tprivate void filterGreen(MarvinImage image){\r\n\t\t\tint r,g,b;\r\n\t\t\tfor(int y=0; y&lt;image.getHeight(); y++){\r\n\t\t\t\tfor(int x=0; x&lt;image.getWidth(); x++){\r\n\t\t\t\t\tr = image.getIntComponent0(x, y);\r\n\t\t\t\t\tg = image.getIntComponent1(x, y);\r\n\t\t\t\t\tb = image.getIntComponent2(x, y);\r\n\t\t\t\t\tif(g &gt; r*1.5 &amp;&amp; g &gt; b*1.5){\r\n\t\t\t\t\t\timage.setIntColor(x, y, 255,255,255);\r\n\t\t\t}}}\r\n\t\t}\r\n\t\tpublic static void main(String[] args) { new SimpleSegmentation();\t}\r\n\t}\r\n\r\n  [1]: http://marvinproject.sourceforge.net/\r\n  [2]: http://i.stack.imgur.com/tbH2b.jpg\r\n  [3]: http://i.stack.imgur.com/I2Pxj.png","title":"how to perform the image segmentation in java?","body":"<p>I think the best image processing tool for you depends on the kind of project you're working on. </p>\n\n<p>If you're working on a research project that needs productivity, quick validation and writting reports, <strong>Matlab</strong> and similar tools are the best option. On the other hand, if you're developing a software product, <strong>Java, C++, C, Objective-C, etc</strong> is more indicated. Matlab solutions are not easy to deliver and maintain in production.</p>\n\n<p>Since you asked how to do image segmentation in Java, I'll provide an example using Java and <a href=\"http://marvinproject.sourceforge.net/\" rel=\"nofollow noreferrer\">Marvin Image Processing Framework</a>. As suggested by @Asif Sharif, FloodFill segmentation is a good strategy and I used it!</p>\n\n<p><strong>INPUT IMAGE:</strong>\n<a href=\"https://i.stack.imgur.com/tbH2b.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tbH2b.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>OUTPUT IMAGE:</strong>\n<a href=\"https://i.stack.imgur.com/I2Pxj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I2Pxj.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>HOW IT WORKS:</strong></p>\n\n<ol>\n<li>Load input image.</li>\n<li>Change green pixels to white pixels.</li>\n<li>Apply intensity thresholding for separating foreground from background.</li>\n<li>Apply morphological closing to group separated parts of the same object</li>\n<li>Use FloodFill segmentation to get the segments.</li>\n<li>Draw the segments coordinates in the original image.</li>\n</ol>\n\n<p><strong>SOURCE:</strong></p>\n\n<pre><code>import static marvin.MarvinPluginCollection.*;\n\npublic class SimpleSegmentation {\n    public SimpleSegmentation(){\n        // 1. Load image\n        MarvinImage original = MarvinImageIO.loadImage(\"./res/robocup.jpg\");\n        MarvinImage image = original.clone();\n        // 2. Change green pixels to white\n        filterGreen(image);\n        // 3. Use threshold to separate foreground and background.\n        MarvinImage bin = MarvinColorModelConverter.rgbToBinary(image, 127);\n        // 4. Morphological closing to group separated parts of the same object\n        morphologicalClosing(bin.clone(), bin, MarvinMath.getTrueMatrix(30, 30));\n        // 5. Use Floodfill segmention to get image segments\n        image = MarvinColorModelConverter.binaryToRgb(bin);\n        MarvinSegment[] segments = floodfillSegmentation(image);\n        // 6. Show the segments in the original image\n        for(int i=1; i&lt;segments.length; i++){\n            MarvinSegment seg = segments[i];\n            original.drawRect(seg.x1, seg.y1, seg.width, seg.height, Color.yellow);\n            original.drawRect(seg.x1+1, seg.y1+1, seg.width, seg.height, Color.yellow);\n        }\n        MarvinImageIO.saveImage(original, \"./res/robocup_segmented.png\");\n    }\n    private void filterGreen(MarvinImage image){\n        int r,g,b;\n        for(int y=0; y&lt;image.getHeight(); y++){\n            for(int x=0; x&lt;image.getWidth(); x++){\n                r = image.getIntComponent0(x, y);\n                g = image.getIntComponent1(x, y);\n                b = image.getIntComponent2(x, y);\n                if(g &gt; r*1.5 &amp;&amp; g &gt; b*1.5){\n                    image.setIntColor(x, y, 255,255,255);\n        }}}\n    }\n    public static void main(String[] args) { new SimpleSegmentation();  }\n}\n</code></pre>\n"}],"owner":{"account_id":646034,"reputation":31,"user_id":435046,"display_name":"ilan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8272,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1677147922,"creation_date":1288596549,"question_id":4067245,"body_markdown":"hi guys i am an infant for  image processing technique in java , i have decided to develop one project in image processing so i need what are the algorithms are followed and also which one is easier to develop please some one guide me it may be great for me.....and also which technology is best for image processing java or Matlab? guide me...","title":"how to perform the image segmentation in java?","body":"<p>hi guys i am an infant for  image processing technique in java , i have decided to develop one project in image processing so i need what are the algorithms are followed and also which one is easier to develop please some one guide me it may be great for me.....and also which technology is best for image processing java or Matlab? guide me...</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1677147409,"post_id":75543300,"comment_id":133281833,"body_markdown":"I would recommend either using a debugger or adding more logs, in order to know at which step of the routine the execution is getting stuck. Adding a `try/catch` block and putting the exception on the log (including the stack trace) would help you a lot; if some errror is happening, the stack trace will tell you the exact line where it happened.","body":"I would recommend either using a debugger or adding more logs, in order to know at which step of the routine the execution is getting stuck. Adding a <code>try&#47;catch</code> block and putting the exception on the log (including the stack trace) would help you a lot; if some errror is happening, the stack trace will tell you the exact line where it happened."},{"owner":{"account_id":7599708,"reputation":182,"user_id":5764770,"display_name":"Vishal Jamdade"},"score":0,"creation_date":1677147438,"post_id":75543300,"comment_id":133281840,"body_markdown":"Try adding @EnableScheduling annotation above main class.","body":"Try adding @EnableScheduling annotation above main class."},{"owner":{"account_id":17651854,"reputation":1,"user_id":12812176,"display_name":"Venu"},"score":0,"creation_date":1677148201,"post_id":75543300,"comment_id":133282074,"body_markdown":"@Vishal Jamdade Yes, I added the EnableScheduling annotation. But it does not work. I can see the logs in the console but nothing is being saved to the database.","body":"@Vishal Jamdade Yes, I added the EnableScheduling annotation. But it does not work. I can see the logs in the console but nothing is being saved to the database."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1677148281,"post_id":75543300,"comment_id":133282101,"body_markdown":"You are doing reactive programming but aren&#39;t subscribing to any of it, so you only define the reactive stream but don&#39;t do anything with it. You should have something like `this.testScheduled(someName, someType).subscribe()`.","body":"You are doing reactive programming but aren&#39;t subscribing to any of it, so you only define the reactive stream but don&#39;t do anything with it. You should have something like <code>this.testScheduled(someName, someType).subscribe()</code>."}],"owner":{"account_id":17651854,"reputation":1,"user_id":12812176,"display_name":"Venu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677147704,"creation_date":1677146884,"question_id":75543300,"body_markdown":"I have to auto run and save data to DB every 5 minutes. I tried to use Scheduled Spring framework. In the console I could see that the task is running but not saved in the database.\r\n\r\n    @Override\r\n    public Single&lt;xModel&gt; testScheduled(@NonNull String someName, @NonNull String someType) {\r\n      log.info(&quot;entering testScheduled, someName = {}, someType = {}&quot;, someName, someType);\r\n      ReadPoint readPoint = readPointRepository.findById(someName).orElseThrow();\r\n      String configurationName = Try.of(() -&gt; readType.valueOf(readPoint.getType()))\r\n        .orElse(Try.success(readType.DEFAULT))\r\n        .map(readType::getConfigurationName)\r\n        .get();\r\n        log.info(&quot;test={}&quot;, readPoint);\r\n      var inv = invClient\r\n        .epcInv(readPoint.getReadIp(), \r\n    readPoint.getConfiguration().getAnte(),\r\n    Optional.of(configurationName), Optional.empty())\r\n        .map(pcs -&gt; pcs.stream()\r\n        .map(pce -&gt; new yModel(pce, getRealDeno(pce)))\r\n        .collect(Collectors.toSet()))\r\n        .map(chips -&gt; new xModel(someType, someName, chips))\r\n        .doOnSuccess(mModel -&gt; upsert(mModel));\r\n      return inv;\r\n    }\r\n\r\n    @Scheduled(fixedRate = 10000)\r\n    public void schetestsee() {\r\n      System.out.println(Thread.currentThread().getName()+&quot;Wonderful Task executed at &quot;+ new Date());\r\n      String someName = &quot;testsomething&quot;;\r\n      String someType = &quot;SCHEDULED&quot;;\r\n      log.info(&quot;EnteringSchedutestsee&quot;);\r\n      this.testScheduled(someName, someType);\r\n    }\r\n\r\n\r\nI&#39;m trying to do in the same class.","title":"I&#39;m new to Spring, The scheduled task is not saving data to the database, @Scheduled not working","body":"<p>I have to auto run and save data to DB every 5 minutes. I tried to use Scheduled Spring framework. In the console I could see that the task is running but not saved in the database.</p>\n<pre><code>@Override\npublic Single&lt;xModel&gt; testScheduled(@NonNull String someName, @NonNull String someType) {\n  log.info(&quot;entering testScheduled, someName = {}, someType = {}&quot;, someName, someType);\n  ReadPoint readPoint = readPointRepository.findById(someName).orElseThrow();\n  String configurationName = Try.of(() -&gt; readType.valueOf(readPoint.getType()))\n    .orElse(Try.success(readType.DEFAULT))\n    .map(readType::getConfigurationName)\n    .get();\n    log.info(&quot;test={}&quot;, readPoint);\n  var inv = invClient\n    .epcInv(readPoint.getReadIp(), \nreadPoint.getConfiguration().getAnte(),\nOptional.of(configurationName), Optional.empty())\n    .map(pcs -&gt; pcs.stream()\n    .map(pce -&gt; new yModel(pce, getRealDeno(pce)))\n    .collect(Collectors.toSet()))\n    .map(chips -&gt; new xModel(someType, someName, chips))\n    .doOnSuccess(mModel -&gt; upsert(mModel));\n  return inv;\n}\n\n@Scheduled(fixedRate = 10000)\npublic void schetestsee() {\n  System.out.println(Thread.currentThread().getName()+&quot;Wonderful Task executed at &quot;+ new Date());\n  String someName = &quot;testsomething&quot;;\n  String someType = &quot;SCHEDULED&quot;;\n  log.info(&quot;EnteringSchedutestsee&quot;);\n  this.testScheduled(someName, someType);\n}\n</code></pre>\n<p>I'm trying to do in the same class.</p>\n"},{"tags":["java","spring","boot","apo"],"comments":[{"owner":{"account_id":7599708,"reputation":182,"user_id":5764770,"display_name":"Vishal Jamdade"},"score":0,"creation_date":1677147582,"post_id":75543407,"comment_id":133281888,"body_markdown":"You can pass multiple parameters with comma separation.","body":"You can pass multiple parameters with comma separation."}],"owner":{"account_id":19375838,"reputation":1,"user_id":14168125,"display_name":"Ramkumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677163689,"answer_count":0,"score":0,"last_activity_date":1677147426,"creation_date":1677147426,"question_id":75543407,"body_markdown":"I have sending the @requestparama ( playload )in controller now I want to send the encrypted value also like @requestparam (name=&quot;name&quot; ) string name) \r\n\r\n\r\nHow to achieve this?\r\n\r\n\r\n\r\nHow to achieve this i need to send the those two values ","title":"How to modify the request paramter in controller","body":"<p>I have sending the @requestparama ( playload )in controller now I want to send the encrypted value also like @requestparam (name=&quot;name&quot; ) string name)</p>\n<p>How to achieve this?</p>\n<p>How to achieve this i need to send the those two values</p>\n"},{"tags":["java","rest","swagger"],"answers":[{"comments":[{"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"score":3,"creation_date":1492773961,"post_id":40871515,"comment_id":74134787,"body_markdown":"is there a way of doing this using swagger annotations?","body":"is there a way of doing this using swagger annotations?"},{"owner":{"account_id":94182,"reputation":4442,"user_id":257272,"accept_rate":83,"display_name":"Julian Go"},"score":0,"creation_date":1493110368,"post_id":40871515,"comment_id":74260958,"body_markdown":"I don&#39;t use annotations, but assuming you use Java you could try to set an hibernate.validator of type Length or Range...","body":"I don&#39;t use annotations, but assuming you use Java you could try to set an hibernate.validator of type Length or Range..."},{"owner":{"account_id":5533454,"reputation":1297,"user_id":4392662,"display_name":"Piotr Niewinski"},"score":0,"creation_date":1635169323,"post_id":40871515,"comment_id":123216606,"body_markdown":"Yes, but how to do it using annotations..","body":"Yes, but how to do it using annotations.."}],"tags":[],"owner":{"account_id":94182,"reputation":4442,"user_id":257272,"accept_rate":83,"display_name":"Julian Go"},"comment_count":3,"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1480438742,"creation_date":1480438742,"answer_id":40871515,"question_id":33753340,"body_markdown":"Yes, see [this section][1] of the swagger spec. You can specify a `maxLength` or `minLength` for your property. Here is an example in YAML:\r\n\r\n    definitions:\r\n      Error:\r\n        type: object\r\n        properties:\r\n          code:\r\n            type: integer\r\n            format: int32\r\n          message:\r\n            type: string\r\n            maxLength: 20\r\n\r\nThis would be displayed by swagger-ui like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://swagger.io/specification/#schemaObject\r\n  [2]: https://i.stack.imgur.com/NACrD.png","title":"Is there a way to indicate that a string model property has a maximum length in Swagger?","body":"<p>Yes, see <a href=\"http://swagger.io/specification/#schemaObject\" rel=\"noreferrer\">this section</a> of the swagger spec. You can specify a <code>maxLength</code> or <code>minLength</code> for your property. Here is an example in YAML:</p>\n\n<pre><code>definitions:\n  Error:\n    type: object\n    properties:\n      code:\n        type: integer\n        format: int32\n      message:\n        type: string\n        maxLength: 20\n</code></pre>\n\n<p>This would be displayed by swagger-ui like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NACrD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NACrD.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":192452,"reputation":111,"user_id":433603,"display_name":"Stephenmjm"},"score":2,"creation_date":1586433626,"post_id":51935210,"comment_id":108129357,"body_markdown":"This is the answer. THX!  Use allowableValues you can see the length restriction  in the documentation generated by swagger.","body":"This is the answer. THX!  Use allowableValues you can see the length restriction  in the documentation generated by swagger."}],"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1534852633,"creation_date":1534783522,"answer_id":51935210,"question_id":33753340,"body_markdown":"Using the `@ApiModelProperty` Swagger annotation, you can use `dataType`, `allowableValues` and `range`:\r\n\r\n    @ApiModelProperty(value = &quot;Nome da lista&quot;, required = false, \r\n        dataType=&quot;java.lang.String&quot;, \r\n        allowableValues=&quot;range[-infinity, 100]&quot;)\r\n    String getNome();\r\n\r\nResult on Swagger UI:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe `-infinity` is used to hide the minimum value. If you would like to set the min value, just fill with the number:\r\n\r\n    allowableValues=&quot;range[5, 100]&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o2tuL.png","title":"Is there a way to indicate that a string model property has a maximum length in Swagger?","body":"<p>Using the <code>@ApiModelProperty</code> Swagger annotation, you can use <code>dataType</code>, <code>allowableValues</code> and <code>range</code>:</p>\n\n<pre><code>@ApiModelProperty(value = \"Nome da lista\", required = false, \n    dataType=\"java.lang.String\", \n    allowableValues=\"range[-infinity, 100]\")\nString getNome();\n</code></pre>\n\n<p>Result on Swagger UI:</p>\n\n<p><a href=\"https://i.stack.imgur.com/o2tuL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/o2tuL.png\" alt=\"enter image description here\"></a></p>\n\n<p>The <code>-infinity</code> is used to hide the minimum value. If you would like to set the min value, just fill with the number:</p>\n\n<pre><code>allowableValues=\"range[5, 100]\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7625234,"reputation":231,"user_id":5781924,"display_name":"mindSet"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1534855258,"creation_date":1534855258,"answer_id":51948910,"question_id":33753340,"body_markdown":"You can do very nicely if you are using spring project and you are using spring fox swagger api.\r\nConsider a bean - \r\n\r\n    public class Person {\r\n        @NotNull\r\n        private int id;\r\n    \r\n        @NotBlank\r\n        @Size(min = 1, max = 20)\r\n        private String firstName;\r\n    \r\n        @NotBlank\r\n        @Pattern(regexp =&quot;[SOME REGULAR EXPRESSION]&quot;)\r\n        private String lastName;\r\n    \r\n        @Min(0)\r\n        @Max(100)\r\n        private int age;\r\n    \r\n        //... Constructor, getters, setters, ...\r\n    }\r\nUse Maven dependency -\r\n\r\n    //MAVEN\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    //MAVEN\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n       &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n       &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis will do your magic - @Import(BeanValidatorPluginsConfiguration.class)\r\nAnd you need to import BeanValidatorPluginsConfiguration configuration file on top of your swagger configuration class:\r\n \r\n\r\n      @Configuration\r\n        @EnableSwagger2\r\n        @Import(BeanValidatorPluginsConfiguration.class)\r\n        public class SpringFoxConfig {\r\n          ...\r\n        }\r\n    \r\n\r\n   \r\nIf you dont have a configuration class for swagger then put it above your controller\r\n\r\n     @RestController\r\n         @EnableSwagger2\r\n            @Import(BeanValidatorPluginsConfiguration.class)\r\n        @RequestMapping(&quot;/v2/persons/&quot;)\r\n        @Api(description = &quot;Set of endpoints for Creating, Retrieving, Updating and Deleting of Persons.&quot;)\r\n        public class PersonController {\r\n        \r\n            private PersonService personService;\r\n        \r\n            @RequestMapping(method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n            @ApiOperation(&quot;Returns list of all Persons in the system.&quot;)\r\n            public List getAllPersons() {\r\n                return personService.getAllPersons();\r\n            }\r\nWith data from JSR-303 annotations, it will look much better in swagger documentation:\r\n\r\n    {\r\n    \t\tage integer ($int32)\r\n    \t\t\t\t\tminimum: 100\r\n    \t\t\t\t\tmaximum: 100\r\n    \t\tfirstName* string\r\n    \t\t\t\tminimumLength: 100\r\n    \t\t\t\tmaxLength: 100\r\n    \t}\r\n\r\nJSR 303: Bean Validation allows you to annotate fields of your Java classes to declare constraints and validation rules. You can annotate individual fields with rules such as -- cannot be null, minimal value, maximal value, regular expression match and so on.\r\nThis is a common practice which is already widely used. The good news is that SpringFox can generate Swagger documentation based on such annotations, so you can utilize what you already have in your project without writing all the constraints manually! It is very useful as consumers of your API know what are restrictions on the values they should provide to your API and what values to expect. Without the inclusion of such annotations, the generated documentation for our person model looks rather plain, nothing except for field names and their data type.","title":"Is there a way to indicate that a string model property has a maximum length in Swagger?","body":"<p>You can do very nicely if you are using spring project and you are using spring fox swagger api.\nConsider a bean - </p>\n\n<pre><code>public class Person {\n    @NotNull\n    private int id;\n\n    @NotBlank\n    @Size(min = 1, max = 20)\n    private String firstName;\n\n    @NotBlank\n    @Pattern(regexp =\"[SOME REGULAR EXPRESSION]\")\n    private String lastName;\n\n    @Min(0)\n    @Max(100)\n    private int age;\n\n    //... Constructor, getters, setters, ...\n}\n</code></pre>\n\n<p>Use Maven dependency -</p>\n\n<pre><code>//MAVEN\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n//MAVEN\n&lt;dependency&gt;\n   &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n   &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n   &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This will do your magic - @Import(BeanValidatorPluginsConfiguration.class)\nAnd you need to import BeanValidatorPluginsConfiguration configuration file on top of your swagger configuration class:</p>\n\n<pre><code>  @Configuration\n    @EnableSwagger2\n    @Import(BeanValidatorPluginsConfiguration.class)\n    public class SpringFoxConfig {\n      ...\n    }\n</code></pre>\n\n<p>If you dont have a configuration class for swagger then put it above your controller</p>\n\n<pre><code> @RestController\n     @EnableSwagger2\n        @Import(BeanValidatorPluginsConfiguration.class)\n    @RequestMapping(\"/v2/persons/\")\n    @Api(description = \"Set of endpoints for Creating, Retrieving, Updating and Deleting of Persons.\")\n    public class PersonController {\n\n        private PersonService personService;\n\n        @RequestMapping(method = RequestMethod.GET, produces = \"application/json\")\n        @ApiOperation(\"Returns list of all Persons in the system.\")\n        public List getAllPersons() {\n            return personService.getAllPersons();\n        }\n</code></pre>\n\n<p>With data from JSR-303 annotations, it will look much better in swagger documentation:</p>\n\n<pre><code>{\n        age integer ($int32)\n                    minimum: 100\n                    maximum: 100\n        firstName* string\n                minimumLength: 100\n                maxLength: 100\n    }\n</code></pre>\n\n<p>JSR 303: Bean Validation allows you to annotate fields of your Java classes to declare constraints and validation rules. You can annotate individual fields with rules such as -- cannot be null, minimal value, maximal value, regular expression match and so on.\nThis is a common practice which is already widely used. The good news is that SpringFox can generate Swagger documentation based on such annotations, so you can utilize what you already have in your project without writing all the constraints manually! It is very useful as consumers of your API know what are restrictions on the values they should provide to your API and what values to expect. Without the inclusion of such annotations, the generated documentation for our person model looks rather plain, nothing except for field names and their data type.</p>\n"},{"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1677512698,"post_id":75543369,"comment_id":133347621,"body_markdown":"Please don&#39;t post code images or bugs if possible, copy your code or code error into answer with block code format. Please take the tour and read How to Answer: https://stackoverflow.com/help/how-to-answer","body":"Please don&#39;t post code images or bugs if possible, copy your code or code error into answer with block code format. Please take the tour and read How to Answer: <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}],"tags":[],"owner":{"account_id":122358,"reputation":1,"user_id":3640483,"display_name":"Azwood"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677147237,"creation_date":1677147237,"answer_id":75543369,"question_id":33753340,"body_markdown":"If you are just using Springdoc, this can be achieved using the `@Schema` annotation.\r\n\r\n`\r\n@Schema(maxLength = 192)\r\nprivate String value;\r\n`\r\n\r\nThis will output a\r\n[maxLength property on the field][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k3KOw.png","title":"Is there a way to indicate that a string model property has a maximum length in Swagger?","body":"<p>If you are just using Springdoc, this can be achieved using the <code>@Schema</code> annotation.</p>\n<p><code>@Schema(maxLength = 192) private String value;</code></p>\n<p>This will output a\n<a href=\"https://i.stack.imgur.com/k3KOw.png\" rel=\"nofollow noreferrer\">maxLength property on the field</a></p>\n"}],"owner":{"account_id":1419488,"reputation":2745,"user_id":1344424,"accept_rate":41,"display_name":"Teocali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31660,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":51948910,"answer_count":4,"score":19,"last_activity_date":1677147237,"creation_date":1447752631,"question_id":33753340,"body_markdown":"Context\r\n-------\r\nWe have a web application providing multiple REST webservice.\r\n \r\nAlong with this, we have swagger providing the documentation for the resources, using annotation.\r\n\r\nSome of these resources take a complex object in input as a body param. The class of this object is annotated with `@ApiModel`.\r\n\r\nIn some cases, we limit the length of some string properties, using `@Length` annotation from Bean Validations.\r\n\r\nQuestion\r\n--------\r\nWe want to see these restrictions to be visible in the documentation generated by swagger. Is there a way to do this?\r\n\r\nP.S.: the automatic interpretation of the `@Length` annotation would be nice but is not mandatory. Any other way would work too.","title":"Is there a way to indicate that a string model property has a maximum length in Swagger?","body":"<h2>Context</h2>\n\n<p>We have a web application providing multiple REST webservice.</p>\n\n<p>Along with this, we have swagger providing the documentation for the resources, using annotation.</p>\n\n<p>Some of these resources take a complex object in input as a body param. The class of this object is annotated with <code>@ApiModel</code>.</p>\n\n<p>In some cases, we limit the length of some string properties, using <code>@Length</code> annotation from Bean Validations.</p>\n\n<h2>Question</h2>\n\n<p>We want to see these restrictions to be visible in the documentation generated by swagger. Is there a way to do this?</p>\n\n<p>P.S.: the automatic interpretation of the <code>@Length</code> annotation would be nice but is not mandatory. Any other way would work too.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677147208,"creation_date":1673356942,"answer_id":75070615,"question_id":75070614,"body_markdown":"At last I filtered out messages based on the presence of `JMSCorrelationID` header.\r\n\r\n    from(&quot;activemq:xxx&quot;)\r\n        .filter(simple(&quot;${header.JMSCorrelationID} == null&quot;)) // ignore reply\r\n        .to(&quot;direct:main&quot;);\r\n\r\nEven that I don&#39;t set it in my client side code, seems that Camel will use message id to set JMSCorrelationID when sending reply if the incoming message hasn&#39;t it. If incoming message already has JMSCorrelationID, Camel will not change it, and will copy that value to the reply.(I guess that if you manually set JMSCorrelationID in client side, Camel will stop setting it for you). \r\n\r\nSo basically, message without JMSCorrelationID means it&#39;s new message which hasn&#39;t passed through my client application. I think only client side should set it, especially in my case where original message and replies are put into the same queue, where client needs a mean to filter out replies.\r\n\r\nAlso, to stop Camel from &quot;capturing&quot;, you need to make sure other two things: \r\n\r\n * no concurrent consuming is happening\r\n * the queue is empty before your test(no leftover from previous test), as all my tests are running in sequential order with `@Order`. \r\n\r\n\r\nFor 1, set `replyTo(Max)ConcurrentConsumer` both to `1`, so that no concurrent consuming is happening; only one thread process this message. \r\n\r\n```java\r\nActiveMQComponent component = ActiveMQComponent.activeMQComponent(url);\r\n// we use request-reply mode so (max)ConcurrentConsumers are not taken into account; must set &quot;replyTo(Max)ConcurrentUsers&quot;.\r\n// see https://camel.apache.org/components/3.20.x/activemq-component.html\r\ncomponent.setReplyToConcurrentConsumers(1);\r\ncomponent.setReplyToMaxConcurrentConsumers(1); // seems every pod will have max consumers\r\n```\r\n\r\nFor 2, if last test rollbacked one message and put it back to the queue, I need to consume it before running the next test.\r\n\r\n---\r\n\r\nAt the very last, we separate the queues so even capturing is happening, it does not matter any more. ","title":"When source and replyTo is the same, stop Camel from consuming after route stopped","body":"<p>At last I filtered out messages based on the presence of <code>JMSCorrelationID</code> header.</p>\n<pre><code>from(&quot;activemq:xxx&quot;)\n    .filter(simple(&quot;${header.JMSCorrelationID} == null&quot;)) // ignore reply\n    .to(&quot;direct:main&quot;);\n</code></pre>\n<p>Even that I don't set it in my client side code, seems that Camel will use message id to set JMSCorrelationID when sending reply if the incoming message hasn't it. If incoming message already has JMSCorrelationID, Camel will not change it, and will copy that value to the reply.(I guess that if you manually set JMSCorrelationID in client side, Camel will stop setting it for you).</p>\n<p>So basically, message without JMSCorrelationID means it's new message which hasn't passed through my client application. I think only client side should set it, especially in my case where original message and replies are put into the same queue, where client needs a mean to filter out replies.</p>\n<p>Also, to stop Camel from &quot;capturing&quot;, you need to make sure other two things:</p>\n<ul>\n<li>no concurrent consuming is happening</li>\n<li>the queue is empty before your test(no leftover from previous test), as all my tests are running in sequential order with <code>@Order</code>.</li>\n</ul>\n<p>For 1, set <code>replyTo(Max)ConcurrentConsumer</code> both to <code>1</code>, so that no concurrent consuming is happening; only one thread process this message.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActiveMQComponent component = ActiveMQComponent.activeMQComponent(url);\n// we use request-reply mode so (max)ConcurrentConsumers are not taken into account; must set &quot;replyTo(Max)ConcurrentUsers&quot;.\n// see https://camel.apache.org/components/3.20.x/activemq-component.html\ncomponent.setReplyToConcurrentConsumers(1);\ncomponent.setReplyToMaxConcurrentConsumers(1); // seems every pod will have max consumers\n</code></pre>\n<p>For 2, if last test rollbacked one message and put it back to the queue, I need to consume it before running the next test.</p>\n<hr />\n<p>At the very last, we separate the queues so even capturing is happening, it does not matter any more.</p>\n"}],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75070615,"answer_count":1,"score":0,"last_activity_date":1677147208,"creation_date":1673356942,"question_id":75070614,"body_markdown":"Our system has configured to consume and send reply to the same queue, i.e., `JMSDestination` and `JMSReplyTo` are the same. I cannot change that right now.\r\n\r\nIn my integration test, if I set `replyToSameDestinationAllowed=true`, Camel continues to consume the reply I sent to the queue, i.e., it &quot;captures&quot; the source and never stop and enters a loop.\r\n\r\nBut, if I don&#39;t set it, Camel refuses to send the reply to the queue, saying this:\r\n\r\n&gt; JMSDestination and JMSReplyTo is the same, will skip sending a reply message to itself\r\n\r\nThat causes problem for my integration test. I want to consume the message in a separate method and assert against it.\r\n\r\nHow can I stop Camel from capturing this queue, i.e., consuming only once and ignore the rest? \r\n\r\nAt the end of my route I call `stop()` to send reply automatically. \r\n\r\nWhen receiving the second message(the reply), I see this line:\r\n\r\n&gt; 2023-01-10 14:37:22,186 DEBUG [org.apa.cam.com.jms.EndpointMessageListener]-{Camel (camel-1) thread #19 - JmsConsumer[my.queue]}-Received Message has JMSCorrelationID [ID:hostname-1673354133272-4:1:1:10:1]\r\n\r\nCan I use this to ignore the reply? Should I stop the route? Rollback? Or what should I do?\r\n","title":"When source and replyTo is the same, stop Camel from consuming after route stopped","body":"<p>Our system has configured to consume and send reply to the same queue, i.e., <code>JMSDestination</code> and <code>JMSReplyTo</code> are the same. I cannot change that right now.</p>\n<p>In my integration test, if I set <code>replyToSameDestinationAllowed=true</code>, Camel continues to consume the reply I sent to the queue, i.e., it &quot;captures&quot; the source and never stop and enters a loop.</p>\n<p>But, if I don't set it, Camel refuses to send the reply to the queue, saying this:</p>\n<blockquote>\n<p>JMSDestination and JMSReplyTo is the same, will skip sending a reply message to itself</p>\n</blockquote>\n<p>That causes problem for my integration test. I want to consume the message in a separate method and assert against it.</p>\n<p>How can I stop Camel from capturing this queue, i.e., consuming only once and ignore the rest?</p>\n<p>At the end of my route I call <code>stop()</code> to send reply automatically.</p>\n<p>When receiving the second message(the reply), I see this line:</p>\n<blockquote>\n<p>2023-01-10 14:37:22,186 DEBUG [org.apa.cam.com.jms.EndpointMessageListener]-{Camel (camel-1) thread #19 - JmsConsumer[my.queue]}-Received Message has JMSCorrelationID [ID:hostname-1673354133272-4:1:1:10:1]</p>\n</blockquote>\n<p>Can I use this to ignore the reply? Should I stop the route? Rollback? Or what should I do?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1453987882,"post_id":35062385,"comment_id":57848347,"body_markdown":"If you assign &quot;p&quot; to &quot;new A()&quot; then it is obviously an instanceof A, by basic Java (nothing to do with JPA). If &quot;p&quot; is not an instanceof A then what class is it?","body":"If you assign &quot;p&quot; to &quot;new A()&quot; then it is obviously an instanceof A, by basic Java (nothing to do with JPA). If &quot;p&quot; is not an instanceof A then what class is it?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1453988375,"post_id":35062385,"comment_id":57848709,"body_markdown":"instanceof returns an instance type, if you created this instance then it should return true, if not you then you should ask who did it.","body":"instanceof returns an instance type, if you created this instance then it should return true, if not you then you should ask who did it."},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":1,"creation_date":1453988521,"post_id":35062385,"comment_id":57848820,"body_markdown":"Do you really do `Parent p = new A();` or you get `A` from the database by Hibernate?","body":"Do you really do <code>Parent p = new A();</code> or you get <code>A</code> from the database by Hibernate?"},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1453988765,"post_id":35062385,"comment_id":57848994,"body_markdown":"Post your real code, the case you described here is obviously impossible.","body":"Post your real code, the case you described here is obviously impossible."},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1453989276,"post_id":35062385,"comment_id":57849421,"body_markdown":"True, this is probably a proxy. See [this answer](http://stackoverflow.com/a/32785467/4754790) for more details.","body":"True, this is probably a proxy. See <a href=\"http://stackoverflow.com/a/32785467/4754790\">this answer</a> for more details."},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":1,"creation_date":1454001836,"post_id":35062385,"comment_id":57858995,"body_markdown":"There are a lot of answers here. But it is unclear what is the question :)","body":"There are a lot of answers here. But it is unclear what is the question :)"},{"owner":{"account_id":463786,"reputation":668,"user_id":866889,"accept_rate":60,"display_name":"Dmitry Aleksandrov"},"score":0,"creation_date":1454054724,"post_id":35062385,"comment_id":57881139,"body_markdown":"Actually the problem was a bit deeper and http://stackoverflow.com/questions/8770124/hibernate-4-classcastexception-on-lazy-loading-while-eager-works-fine helped me to resolve it. The &quot;Parent&quot; children were used inside of other entity and were set to load in lazy manner.. so it all failed. Thanks for suppoert anyway)","body":"Actually the problem was a bit deeper and <a href=\"http://stackoverflow.com/questions/8770124/hibernate-4-classcastexception-on-lazy-loading-while-eager-works-fine\" title=\"hibernate 4 classcastexception on lazy loading while eager works fine\">stackoverflow.com/questions/8770124/&hellip;</a> helped me to resolve it. The &quot;Parent&quot; children were used inside of other entity and were set to load in lazy manner.. so it all failed. Thanks for suppoert anyway)"},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":0,"creation_date":1454065637,"post_id":35062385,"comment_id":57887767,"body_markdown":"@DmitryAlexandrov that doesn&#39;t mean you have to turn off lazy loading. Don&#39;t throw the baby out with the bath water! Honestly instanceof is best avoided anyway.","body":"@DmitryAlexandrov that doesn&#39;t mean you have to turn off lazy loading. Don&#39;t throw the baby out with the bath water! Honestly instanceof is best avoided anyway."}],"answers":[{"tags":[],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453993602,"creation_date":1453993602,"answer_id":35065011,"question_id":35062385,"body_markdown":"That is because Hibernate uses run time proxies and OpenJPA, while supporting the proxy approach, prefers either compile time or runtime byte code enhancement.\r\n\r\nSee:\r\n\r\nhttp://openjpa.apache.org/entity-enhancement.html\r\n    \r\n    //Hibernate\r\n    Entity e = repository.load(entityId); // may return a proxy \r\n    \r\n    //OpenJPA\r\n    Entity e = repository.load(entityId); //will return an (enhanced) actual instance of E ","title":"JPA/Hibernate instance of not working","body":"<p>That is because Hibernate uses run time proxies and OpenJPA, while supporting the proxy approach, prefers either compile time or runtime byte code enhancement.</p>\n\n<p>See:</p>\n\n<p><a href=\"http://openjpa.apache.org/entity-enhancement.html\" rel=\"nofollow\">http://openjpa.apache.org/entity-enhancement.html</a></p>\n\n<pre><code>//Hibernate\nEntity e = repository.load(entityId); // may return a proxy \n\n//OpenJPA\nEntity e = repository.load(entityId); //will return an (enhanced) actual instance of E \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1677147140,"creation_date":1453995032,"answer_id":35065564,"question_id":35062385,"body_markdown":"This is most likely because hibernate is returning a proxy.\r\n\r\nWhy does it do this? To implement lazy loading the framework needs to intercept your method calls that return a lazy loaded object or list of objects. It does this so it can first load the object from the DB and then allow your method to run. Hibernate does this by creating a proxy class. If you check the type in debug you should be able to see the actual type is a generated class which does not extend from your base class. \r\n\r\nHow to get around it? I had this problem once and successfully used the visitor pattern instead of using `instanceof`. It does add extra complication so it&#39;s not everyone&#39;s favorite pattern but IMHO it is a much cleaner approach than using `instanceof`. \r\n\r\nIf you use `instanceof` then you typically end up with `if...else` blocks checking for the different types. As you add more types you will have to re-visit each of these blocks. The advantage of the visitor pattern is that the conditional logic is built into your class hierarchy so if you add more types it makes it less likely you need to change everywhere that uses these classes.\r\n\r\nI found this [article][1] useful when implementing the visitor pattern.\r\n\r\n\r\n  [1]: https://developer.jboss.org/docs/DOC-13931","title":"JPA/Hibernate instance of not working","body":"<p>This is most likely because hibernate is returning a proxy.</p>\n<p>Why does it do this? To implement lazy loading the framework needs to intercept your method calls that return a lazy loaded object or list of objects. It does this so it can first load the object from the DB and then allow your method to run. Hibernate does this by creating a proxy class. If you check the type in debug you should be able to see the actual type is a generated class which does not extend from your base class.</p>\n<p>How to get around it? I had this problem once and successfully used the visitor pattern instead of using <code>instanceof</code>. It does add extra complication so it's not everyone's favorite pattern but IMHO it is a much cleaner approach than using <code>instanceof</code>.</p>\n<p>If you use <code>instanceof</code> then you typically end up with <code>if...else</code> blocks checking for the different types. As you add more types you will have to re-visit each of these blocks. The advantage of the visitor pattern is that the conditional logic is built into your class hierarchy so if you add more types it makes it less likely you need to change everywhere that uses these classes.</p>\n<p>I found this <a href=\"https://developer.jboss.org/docs/DOC-13931\" rel=\"nofollow noreferrer\">article</a> useful when implementing the visitor pattern.</p>\n"},{"comments":[{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":2,"creation_date":1454000229,"post_id":35066447,"comment_id":57858063,"body_markdown":"Interesting idea but how is isAssignableFrom going to work if instanceof fails? Surely they both check the class hierarchy?","body":"Interesting idea but how is isAssignableFrom going to work if instanceof fails? Surely they both check the class hierarchy?"},{"owner":{"account_id":7635183,"reputation":1513,"user_id":5788941,"display_name":"Alexandre Cartapanis"},"score":0,"creation_date":1454006566,"post_id":35066447,"comment_id":57861864,"body_markdown":"http://stackoverflow.com/questions/496928/what-is-the-difference-between-instanceof-and-class-isassignablefrom isAssignableFrom can check class at runtime, wich is good as proxies are generated at runtime","body":"<a href=\"http://stackoverflow.com/questions/496928/what-is-the-difference-between-instanceof-and-class-isassignablefrom\" title=\"what is the difference between instanceof and class isassignablefrom\">stackoverflow.com/questions/496928/&hellip;</a> isAssignableFrom can check class at runtime, wich is good as proxies are generated at runtime"},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":2,"creation_date":1454017985,"post_id":35066447,"comment_id":57868619,"body_markdown":"`instanceof` also checks objects at runtime.","body":"<code>instanceof</code> also checks objects at runtime."},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":1,"creation_date":1454019349,"post_id":35066447,"comment_id":57869337,"body_markdown":"I think what you mean is that instanceof requires the class name at compile time whereas isAssignableFrom can get the class from an object using getClass. That isn&#39;t the problem here though. The instanceof compiled but the runtime object doesn&#39;t belong to the type hierarchy due to a proxy.","body":"I think what you mean is that instanceof requires the class name at compile time whereas isAssignableFrom can get the class from an object using getClass. That isn&#39;t the problem here though. The instanceof compiled but the runtime object doesn&#39;t belong to the type hierarchy due to a proxy."}],"tags":[],"owner":{"account_id":7635183,"reputation":1513,"user_id":5788941,"display_name":"Alexandre Cartapanis"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1453997565,"creation_date":1453997565,"answer_id":35066447,"question_id":35062385,"body_markdown":"Hibernate returns Proxied Object. Rather than implementing a Visitor pattern (as described [here][1]), you can use the `isAssignableFrom()` method on the class you want to test (https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35065564/5788941 &quot;here&quot;","title":"JPA/Hibernate instance of not working","body":"<p>Hibernate returns Proxied Object. Rather than implementing a Visitor pattern (as described <a href=\"https://stackoverflow.com/a/35065564/5788941\" title=\"here\">here</a>), you can use the <code>isAssignableFrom()</code> method on the class you want to test (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-</a>).</p>\n"},{"tags":[],"owner":{"account_id":12821485,"reputation":141,"user_id":9276178,"display_name":"Luka Gorgadze"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1554880450,"creation_date":1554880450,"answer_id":55606761,"question_id":35062385,"body_markdown":"Not sure, but I think this will work.\r\n\r\n    public static boolean instanceOf(Object object, Class&lt;?&gt; superclass) {\r\n        return superclass.isAssignableFrom(Hibernate.getClass(object));\r\n    }","title":"JPA/Hibernate instance of not working","body":"<p>Not sure, but I think this will work.</p>\n\n<pre><code>public static boolean instanceOf(Object object, Class&lt;?&gt; superclass) {\n    return superclass.isAssignableFrom(Hibernate.getClass(object));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637141724,"creation_date":1637141724,"answer_id":70001927,"question_id":35062385,"body_markdown":"You can try to unproxy your object :\r\n\r\n\r\n    /**\r\n    \t * \r\n    \t * @param &lt;T&gt;\r\n    \t * @param entity\r\n    \t * @return\r\n    \t */\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic static &lt;T&gt; T initializeAndUnproxy(T entity) {\r\n    \t\tif (entity == null) {\r\n    \t\t\t// throw new NullPointerException(&quot;Entity passed for initialization is null&quot;);\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tHibernate.initialize(entity);\r\n    \t\tif (entity instanceof HibernateProxy) {\r\n    \t\t\tentity = (T) ((HibernateProxy) entity).getHibernateLazyInitializer().getImplementation();\r\n    \t\t}\r\n    \t\treturn entity;\r\n    \t}","title":"JPA/Hibernate instance of not working","body":"<p>You can try to unproxy your object :</p>\n<pre><code>/**\n     * \n     * @param &lt;T&gt;\n     * @param entity\n     * @return\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T&gt; T initializeAndUnproxy(T entity) {\n        if (entity == null) {\n            // throw new NullPointerException(&quot;Entity passed for initialization is null&quot;);\n            return null;\n        }\n        Hibernate.initialize(entity);\n        if (entity instanceof HibernateProxy) {\n            entity = (T) ((HibernateProxy) entity).getHibernateLazyInitializer().getImplementation();\n        }\n        return entity;\n    }\n</code></pre>\n"}],"owner":{"account_id":463786,"reputation":668,"user_id":866889,"accept_rate":60,"display_name":"Dmitry Aleksandrov"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3520,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":35065564,"answer_count":5,"score":1,"last_activity_date":1677147140,"creation_date":1453986451,"question_id":35062385,"body_markdown":"Imagine a situation:\r\n\r\n    @javax.persistence.Inheritance(strategy=javax.persistence.InheritanceType.JOINED)\r\n    @javax.persistence.DiscriminatorColumn\r\n    @javax.persistence.Entity\r\n    @javax.persistence.Table(name=&quot;PARENT&quot;)\r\n    public abstract class Parent{\r\n    ...\r\n    }\r\n    \r\n    @javax.persistence.Entity\r\n    @javax.persistence.Table(name=&quot;A&quot;)\r\n    public class A extends Parent{\r\n    ...\r\n    }\r\n    \r\n    @javax.persistence.Entity\r\n    @javax.persistence.Table(name=&quot;B&quot;)\r\n    public class B extends Parent{\r\n    ...\r\n    }\r\n    \r\n    \r\n    Parent p = new A();\r\n\r\nNow we call this:\r\n\r\n    p instance of A\r\n\r\nalways returns **false**!!\r\n\r\nworks ok on OpenJPA!\r\n\r\nShould I file a bug? Hibernate 4.3.10","title":"JPA/Hibernate instance of not working","body":"<p>Imagine a situation:</p>\n\n<pre><code>@javax.persistence.Inheritance(strategy=javax.persistence.InheritanceType.JOINED)\n@javax.persistence.DiscriminatorColumn\n@javax.persistence.Entity\n@javax.persistence.Table(name=\"PARENT\")\npublic abstract class Parent{\n...\n}\n\n@javax.persistence.Entity\n@javax.persistence.Table(name=\"A\")\npublic class A extends Parent{\n...\n}\n\n@javax.persistence.Entity\n@javax.persistence.Table(name=\"B\")\npublic class B extends Parent{\n...\n}\n\n\nParent p = new A();\n</code></pre>\n\n<p>Now we call this:</p>\n\n<pre><code>p instance of A\n</code></pre>\n\n<p>always returns <strong>false</strong>!!</p>\n\n<p>works ok on OpenJPA!</p>\n\n<p>Should I file a bug? Hibernate 4.3.10</p>\n"},{"tags":["java","spring-boot","maven","spring-mvc","exceptionhandler"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":2,"creation_date":1677144695,"post_id":75542559,"comment_id":133281036,"body_markdown":"`throw new  MyCustomException(&quot;test&quot;)` instead of returning it","body":"<code>throw new  MyCustomException(&quot;test&quot;)</code> instead of returning it"},{"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"score":0,"creation_date":1677146074,"post_id":75542559,"comment_id":133281435,"body_markdown":"umm I&#39;m having same result, the other exceptionHandler is not catching it","body":"umm I&#39;m having same result, the other exceptionHandler is not catching it"},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":2,"creation_date":1677154059,"post_id":75542559,"comment_id":133283688,"body_markdown":"On the other hand, if I correctly understand what you are trying to do, chained exception handlers do not work. Per request only one handler can be invoked.","body":"On the other hand, if I correctly understand what you are trying to do, chained exception handlers do not work. Per request only one handler can be invoked."},{"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"score":0,"creation_date":1677154081,"post_id":75542559,"comment_id":133283701,"body_markdown":"Is it because you want to return a similar response(only a few changes based on exception) for both exceptions?","body":"Is it because you want to return a similar response(only a few changes based on exception) for both exceptions?"},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1677161513,"post_id":75542559,"comment_id":133286056,"body_markdown":"Also, you can put multiple `@ExceptionHandler` methods in the same handler class, for the different Exception classes.","body":"Also, you can put multiple <code>@ExceptionHandler</code> methods in the same handler class, for the different Exception classes."}],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677146995,"creation_date":1677142833,"question_id":75542559,"body_markdown":"I have a spring application created with maven, it has the typical flow:\r\n\r\n    controller -&gt; service -&gt; external gateway\r\n\r\nWhen querying the external gateway from service, it can return a FeingException, and I want to capture and convert into a custom one:\r\n\r\n    @RestControllerAdvice\r\n    public class GatewayErrorHandling {\r\n  \r\n       @ExceptionHandler(FeignException.class)\r\n       public MyCustomException handleFeignException(FeignException e) {;\r\n\r\n           return  new  MyCustomException(&quot;test&quot;);\r\n       }\r\n     }\r\n\r\nThen I try to catch it into another handler but it doesnt work\r\n\r\n    @RestControllerAdvice\r\n    public class ServiceErrorHandling {\r\n  \r\n       @ExceptionHandler(MyCustomException.class)\r\n       public void handleMyCustomException(MyCustomException e) {;\r\n\r\n           System.out.println(&quot;exception catched&quot;);\r\n       }\r\n     }\r\n\r\n\r\nI dont know what point I am missing to not be able to reach this system.out.println line\r\n\r\nUpdate: after Dirk Deyne comment, the first method is: \r\n\r\n       @ExceptionHandler(FeignException.class)\r\n       public void handleFeignException(FeignException e) {;\r\n\r\n           throw new  MyCustomException(&quot;test&quot;);\r\n       }\r\n\r\n\r\nwith same result","title":"how to catch an exception and convert into another by using ExceptionHandler","body":"<p>I have a spring application created with maven, it has the typical flow:</p>\n<pre><code>controller -&gt; service -&gt; external gateway\n</code></pre>\n<p>When querying the external gateway from service, it can return a FeingException, and I want to capture and convert into a custom one:</p>\n<pre><code>@RestControllerAdvice\npublic class GatewayErrorHandling {\n\n   @ExceptionHandler(FeignException.class)\n   public MyCustomException handleFeignException(FeignException e) {;\n\n       return  new  MyCustomException(&quot;test&quot;);\n   }\n }\n</code></pre>\n<p>Then I try to catch it into another handler but it doesnt work</p>\n<pre><code>@RestControllerAdvice\npublic class ServiceErrorHandling {\n\n   @ExceptionHandler(MyCustomException.class)\n   public void handleMyCustomException(MyCustomException e) {;\n\n       System.out.println(&quot;exception catched&quot;);\n   }\n }\n</code></pre>\n<p>I dont know what point I am missing to not be able to reach this system.out.println line</p>\n<p>Update: after Dirk Deyne comment, the first method is:</p>\n<pre><code>   @ExceptionHandler(FeignException.class)\n   public void handleFeignException(FeignException e) {;\n\n       throw new  MyCustomException(&quot;test&quot;);\n   }\n</code></pre>\n<p>with same result</p>\n"},{"tags":["java","spring","spring-webflux","spring-data-r2dbc"],"answers":[{"comments":[{"owner":{"account_id":18341417,"reputation":11,"user_id":13357583,"display_name":"Halim CHAIBI"},"score":1,"creation_date":1677471883,"post_id":75543312,"comment_id":133337726,"body_markdown":"Yes removing the query annotation works, however, I need to run more complex queries, better to reconsider the approach. Thank you.","body":"Yes removing the query annotation works, however, I need to run more complex queries, better to reconsider the approach. Thank you."},{"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"score":0,"creation_date":1677501560,"post_id":75543312,"comment_id":133343824,"body_markdown":"I recommend you try either `DatabaseClient` or `R2dbcEntityTemplate` if you need a lower level of control over SQL. Also check `TransactionalOperator` for transactional support. And maybe upvote if you found it helpful.","body":"I recommend you try either <code>DatabaseClient</code> or <code>R2dbcEntityTemplate</code> if you need a lower level of control over SQL. Also check <code>TransactionalOperator</code> for transactional support. And maybe upvote if you found it helpful."}],"tags":[],"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677146983,"creation_date":1677146983,"answer_id":75543312,"question_id":74619575,"body_markdown":"I checked the `@Query` annotation with an incoming and outgoing `Flux`, and it appear that the `@Query` annotation indeed does not support an incoming `Publisher`. \r\n\r\nI also got `Value must not be null` from my test code below:\r\n\r\n```java\r\nFlux&lt;Integer&gt; ids = Flux.range(1, 10);\r\n\r\nuserInfoRepository.findAllById(ids)\r\n    .subscribeOn(Schedulers.boundedElastic())\r\n    .subscribe(v1 -&gt; log.info(&quot;User {}&quot;, v1.getUsername()));\r\n\r\n@Query(&quot;select * from user.user_infos t where t.id = :id&quot;)\r\nFlux&lt;UserInfo&gt; findAllById(Flux&lt;Integer&gt; id);\r\n```\r\n\r\n\r\nBut if you remove `@Query` it actually works:\r\n\r\n```java\r\nFlux&lt;UserInfo&gt; findAllById(Flux&lt;Integer&gt; id);\r\n```\r\n\r\nAnd with other fields too:\r\n\r\n```java\r\nFlux&lt;UserInfo&gt; findAllByUsername(Flux&lt;String&gt; username);\r\n```\r\n\r\nTo me it seems like the `@Query` annotation does not support subscribing to an incoming argument `Publisher` at this point (i.e. it does not do `.flatMap()` internally).","title":"Spring Data with r2dbc using Query annotation","body":"<p>I checked the <code>@Query</code> annotation with an incoming and outgoing <code>Flux</code>, and it appear that the <code>@Query</code> annotation indeed does not support an incoming <code>Publisher</code>.</p>\n<p>I also got <code>Value must not be null</code> from my test code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;Integer&gt; ids = Flux.range(1, 10);\n\nuserInfoRepository.findAllById(ids)\n    .subscribeOn(Schedulers.boundedElastic())\n    .subscribe(v1 -&gt; log.info(&quot;User {}&quot;, v1.getUsername()));\n\n@Query(&quot;select * from user.user_infos t where t.id = :id&quot;)\nFlux&lt;UserInfo&gt; findAllById(Flux&lt;Integer&gt; id);\n</code></pre>\n<p>But if you remove <code>@Query</code> it actually works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;UserInfo&gt; findAllById(Flux&lt;Integer&gt; id);\n</code></pre>\n<p>And with other fields too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;UserInfo&gt; findAllByUsername(Flux&lt;String&gt; username);\n</code></pre>\n<p>To me it seems like the <code>@Query</code> annotation does not support subscribing to an incoming argument <code>Publisher</code> at this point (i.e. it does not do <code>.flatMap()</code> internally).</p>\n"}],"owner":{"account_id":18341417,"reputation":11,"user_id":13357583,"display_name":"Halim CHAIBI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677146983,"creation_date":1669751722,"question_id":74619575,"body_markdown":"I am exploring Spring Data with r2dbc.\r\nI am trying to use a custom repository method in my interface extended from ReactiveCrudRepository, which takes a Flux of Object as Parameter and Return a Flux of the same Object.\r\n\r\n\r\n```\r\n    @Query(&quot;SELECT id, name  FROM Person WHERE id = ?&quot;)\r\n    Flux&lt;Person&gt; myMethod(Flux&lt;Person&gt; person);\r\n\r\n```\r\n\r\n\r\nI am expecting it to have the same behaviour as the Flux&lt;T&gt; findAllById(Publisher&lt;ID&gt; idStream) method.\r\n\r\n\r\n\r\nThis is my interface repository definition:\r\n```\r\npublic interface PersonRepository extends ReactiveCrudRepository&lt;Person, Person&gt; {\r\n\r\n    @Query(&quot;SELECT id, name  FROM Person WHERE id = ?&quot;)\r\n    Flux&lt;Person&gt; myMethod(Flux&lt;Person&gt; person);\r\n\r\n}\r\n\r\n```\r\n\r\nThis is my entity:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(value = &quot;Person&quot;, schema = &quot;mySchema&quot;)\r\npublic class Person {\r\n    @Id\r\n    @Column(&quot;id&quot;)\r\n    Long id;\r\n\r\n    @Column(&quot;name&quot;)\r\n    String name;\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nThis my DB Configuration class:\r\n\r\n```\r\n@Configuration\r\n@EnableR2dbcRepositories\r\n@EnableR2dbcAuditing\r\n@EnableTransactionManagement\r\n\r\n\r\npublic class DatabaseConfiguration extends AbstractR2dbcConfiguration {\r\n\r\n......\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nThis is my main application:\r\n\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableR2dbcAuditing\r\n@EnableConfigurationProperties({ApplicationProperties.class})\r\npublic class MyApplication {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(MyApplication.class);\r\n\r\n\r\n    @Bean\r\n    public CommandLineRunner consume(PersonRepository personRepository) {\r\n\r\n\r\n        LongSupplier randomLong = () -&gt; {\r\n            return RandomUtils.nextLong(10L,20L);\r\n        };\r\n\r\n        Flux&lt;Long&gt; personIds = Flux.fromStream(LongStream.generate(randomLong).boxed());\r\n        Flux&lt;Person&gt; persons = personIds.map( p -&gt; {\r\n            Person person = new Person();\r\n            person.setId(p);\r\n            return person;\r\n        });\r\n\r\n\r\n        personRepository.myMethod(persons.take(3)).subscribe( id -&gt; logger.info(&quot;Processed Person Id: &quot; + id));\r\n        \r\n        return null;\r\n    }   \r\n\r\n    .......\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhen using the interface method findById(Publisher&lt;Person&gt; id), it works, but when trying to use the custom method myMethod(Flux&lt;Person&gt; id) with quetry annotation I am getting the following exception:\r\n\r\n\r\n\r\n\r\n```\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.IllegalArgumentException: Value must not be null\r\nCaused by: java.lang.IllegalArgumentException: **Value must not be null**\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nAssembly trace from producer [reactor.core.publisher.MonoMapFuseable] :\r\n\treactor.core.publisher.Mono.map(Mono.java:3411)\r\n\torg.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.createQuery(StringBasedR2dbcQuery.java:156)\r\nError has been observed at the following site(s):\r\n\t*__________Mono.map ⇢ at org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.createQuery(StringBasedR2dbcQuery.java:156)\r\n\t|_ Mono.flatMapMany ⇢ at org.springframework.data.r2dbc.repository.query.AbstractR2dbcQuery.execute(AbstractR2dbcQuery.java:88)\r\n\t*____Flux.usingWhen ⇢ at org.springframework.data.repository.core.support.RepositoryMethodInvoker$ReactiveInvocationListenerDecorator.decorate(RepositoryMethodInvoker.java:242)\r\nOriginal Stack Trace:\r\n\t\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\t\tat org.springframework.r2dbc.core.Parameter.from(Parameter.java:54)\r\n\t\tat org.springframework.data.r2dbc.query.QueryMapper.getBindValue(QueryMapper.java:426)\r\n\t\tat org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getBindValue(DefaultReactiveDataAccessStrategy.java:288)\r\n\t\tat org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.getBindValue(ExpressionEvaluatingParameterBinder.java:134)\r\n\t\tat org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.bindExpressions(ExpressionEvaluatingParameterBinder.java:82)\r\n\t\tat org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.bind(ExpressionEvaluatingParameterBinder.java:72)\r\n\t\tat org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery$ExpandedQuery.&lt;init&gt;(StringBasedR2dbcQuery.java:197)\r\n\t\tat org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.lambda$createQuery$0(StringBasedR2dbcQuery.java:156)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)\r\n\t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:101)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n\t\tat reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:368)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onComplete(FluxConcatMap.java:276)\r\n\t\tat reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:148)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8469)\r\n\t\tat reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:94)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8469)\r\n\t\tat reactor.core.publisher.Flux.subscribeWith(Flux.java:8642)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8439)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8363)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8306)\r\n```\r\n\r\n\r\n\r\nI couldn&#39;t find  some similar use case in the Spring reference documenetation, I am wondering if this is even supported.\r\n\r\n\r\n","title":"Spring Data with r2dbc using Query annotation","body":"<p>I am exploring Spring Data with r2dbc.\nI am trying to use a custom repository method in my interface extended from ReactiveCrudRepository, which takes a Flux of Object as Parameter and Return a Flux of the same Object.</p>\n<pre><code>    @Query(&quot;SELECT id, name  FROM Person WHERE id = ?&quot;)\n    Flux&lt;Person&gt; myMethod(Flux&lt;Person&gt; person);\n\n</code></pre>\n<p>I am expecting it to have the same behaviour as the Flux findAllById(Publisher idStream) method.</p>\n<p>This is my interface repository definition:</p>\n<pre><code>public interface PersonRepository extends ReactiveCrudRepository&lt;Person, Person&gt; {\n\n    @Query(&quot;SELECT id, name  FROM Person WHERE id = ?&quot;)\n    Flux&lt;Person&gt; myMethod(Flux&lt;Person&gt; person);\n\n}\n\n</code></pre>\n<p>This is my entity:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(value = &quot;Person&quot;, schema = &quot;mySchema&quot;)\npublic class Person {\n    @Id\n    @Column(&quot;id&quot;)\n    Long id;\n\n    @Column(&quot;name&quot;)\n    String name;\n\n}\n</code></pre>\n<p>This my DB Configuration class:</p>\n<pre><code>@Configuration\n@EnableR2dbcRepositories\n@EnableR2dbcAuditing\n@EnableTransactionManagement\n\n\npublic class DatabaseConfiguration extends AbstractR2dbcConfiguration {\n\n......\n\n}\n\n</code></pre>\n<p>This is my main application:</p>\n<pre><code>@SpringBootApplication\n@EnableR2dbcAuditing\n@EnableConfigurationProperties({ApplicationProperties.class})\npublic class MyApplication {\n\n    private static final Logger logger = LoggerFactory.getLogger(MyApplication.class);\n\n\n    @Bean\n    public CommandLineRunner consume(PersonRepository personRepository) {\n\n\n        LongSupplier randomLong = () -&gt; {\n            return RandomUtils.nextLong(10L,20L);\n        };\n\n        Flux&lt;Long&gt; personIds = Flux.fromStream(LongStream.generate(randomLong).boxed());\n        Flux&lt;Person&gt; persons = personIds.map( p -&gt; {\n            Person person = new Person();\n            person.setId(p);\n            return person;\n        });\n\n\n        personRepository.myMethod(persons.take(3)).subscribe( id -&gt; logger.info(&quot;Processed Person Id: &quot; + id));\n        \n        return null;\n    }   \n\n    .......\n}\n</code></pre>\n<p>When using the interface method findById(Publisher id), it works, but when trying to use the custom method myMethod(Flux id) with quetry annotation I am getting the following exception:</p>\n<pre><code>reactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.IllegalArgumentException: Value must not be null\nCaused by: java.lang.IllegalArgumentException: **Value must not be null**\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nAssembly trace from producer [reactor.core.publisher.MonoMapFuseable] :\n    reactor.core.publisher.Mono.map(Mono.java:3411)\n    org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.createQuery(StringBasedR2dbcQuery.java:156)\nError has been observed at the following site(s):\n    *__________Mono.map ⇢ at org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.createQuery(StringBasedR2dbcQuery.java:156)\n    |_ Mono.flatMapMany ⇢ at org.springframework.data.r2dbc.repository.query.AbstractR2dbcQuery.execute(AbstractR2dbcQuery.java:88)\n    *____Flux.usingWhen ⇢ at org.springframework.data.repository.core.support.RepositoryMethodInvoker$ReactiveInvocationListenerDecorator.decorate(RepositoryMethodInvoker.java:242)\nOriginal Stack Trace:\n        at org.springframework.util.Assert.notNull(Assert.java:201)\n        at org.springframework.r2dbc.core.Parameter.from(Parameter.java:54)\n        at org.springframework.data.r2dbc.query.QueryMapper.getBindValue(QueryMapper.java:426)\n        at org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getBindValue(DefaultReactiveDataAccessStrategy.java:288)\n        at org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.getBindValue(ExpressionEvaluatingParameterBinder.java:134)\n        at org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.bindExpressions(ExpressionEvaluatingParameterBinder.java:82)\n        at org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.bind(ExpressionEvaluatingParameterBinder.java:72)\n        at org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery$ExpandedQuery.&lt;init&gt;(StringBasedR2dbcQuery.java:197)\n        at org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.lambda$createQuery$0(StringBasedR2dbcQuery.java:156)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:101)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n        at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n        at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:368)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onComplete(FluxConcatMap.java:276)\n        at reactor.core.publisher.Operators.complete(Operators.java:137)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:148)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\n        at reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:94)\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\n        at reactor.core.publisher.Flux.subscribeWith(Flux.java:8642)\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8439)\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8363)\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8306)\n</code></pre>\n<p>I couldn't find  some similar use case in the Spring reference documenetation, I am wondering if this is even supported.</p>\n"},{"tags":["java","opencv"],"answers":[{"tags":[],"owner":{"account_id":12630970,"reputation":1,"user_id":9182485,"display_name":"Cosmin Ştefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677146606,"creation_date":1677146542,"answer_id":75543242,"question_id":75533501,"body_markdown":"The issue is that Imgproc.approxPolyDP called in getApproximatePolygonCorners() returns the corners in a different order than the order I implemented in getFrontPerspectiveCorners(). Because of that a wrong perspective matrix is created which lead to the unexpected image after Imgproc.warpPerspective call.","title":"All grey image when i try to warp image perspective in Java opencv","body":"<p>The issue is that Imgproc.approxPolyDP called in getApproximatePolygonCorners() returns the corners in a different order than the order I implemented in getFrontPerspectiveCorners(). Because of that a wrong perspective matrix is created which lead to the unexpected image after Imgproc.warpPerspective call.</p>\n"}],"owner":{"account_id":12630970,"reputation":1,"user_id":9182485,"display_name":"Cosmin Ştefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677146606,"creation_date":1677073114,"question_id":75533501,"body_markdown":"I want to build an document scanner using java opencv but after transformation is performed I get an all grey outputImage\r\n\r\n\r\nMy attempt was to preprocess the image(greyscale/normalize) autodetect the corners and apply perspective transform to transform the trapezoid document into a rectangle one. The detected corners seems to be correct.\r\n\r\n```\r\n@Component\r\npublic class SkewHandler implements PreprocessingHandler{\r\n\r\n    private ShapeDetector shapeDetector;\r\n\r\n    @Autowired\r\n    SkewHandler(ShapeDetector shapeDetector) {\r\n        this.shapeDetector = shapeDetector;\r\n    }\r\n\r\n    @Override\r\n    public Mat doPreprocessing(Mat inputImage) {\r\n        System.out.println(&quot;skew&quot;);\r\n\r\n        Mat greyImage = new GreyScaleHandler().doPreprocessing(inputImage);\r\n        Mat normalizeImage = new NormalizeHandler().doPreprocessing(greyImage);\r\n        Mat threseholdImage = new ThresholdHandler().doPreprocessing(normalizeImage);\r\n\r\n\r\n        MatOfPoint corners = shapeDetector.getCorners(threseholdImage);\r\n        MatOfPoint polygonCorners = shapeDetector.getApproximatePolygonCorners(corners);\r\n        MatOfPoint frontPerspectiveCorners = shapeDetector.getFrontPerspectiveCorners(corners);\r\n        Size frontPerspectiveSize = shapeDetector.getFrontPerspectiveSize(corners);\r\n\r\n        Mat perspectiveTransformMatrix = Imgproc.getPerspectiveTransform(\r\n                        convertPoints(polygonCorners), convertPoints(frontPerspectiveCorners));\r\n\r\n        Mat outputImage = new Mat(inputImage.size(), inputImage.type());\r\n        Imgproc.warpPerspective(inputImage, outputImage, perspectiveTransformMatrix,frontPerspectiveSize);\r\n\r\n        return outputImage;\r\n    }\r\n\r\n    private static MatOfPoint2f convertPoints(MatOfPoint points) {\r\n        MatOfPoint2f points2f = new MatOfPoint2f();\r\n        points.convertTo(points2f, CvType.CV_32FC1);\r\n        return points2f;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class ShapeDetector {\r\n\r\n    public MatOfPoint getCorners(Mat inputImage) {\r\n        List&lt;MatOfPoint&gt; corners = new ArrayList&lt;&gt;();\r\n        Imgproc.findContours(inputImage,corners,new Mat(), Imgproc.RETR_EXTERNAL,Imgproc.CHAIN_APPROX_TC89_L1);\r\n\r\n        return corners.stream()\r\n                .max(Comparator.comparing(Imgproc::contourArea))\r\n                .orElse(null);\r\n    }\r\n\r\n    public Double getCornersPerimeter(MatOfPoint2f corners) {\r\n        return Imgproc.arcLength(corners, true);\r\n    }\r\n\r\n    public MatOfPoint getApproximatePolygonCorners(MatOfPoint corners) {\r\n        MatOfPoint2f corners2f = new MatOfPoint2f();\r\n        corners.convertTo(corners2f, CvType.CV_32FC2);\r\n\r\n        MatOfPoint2f polygonCorners2f = new MatOfPoint2f();\r\n        Imgproc.approxPolyDP(corners2f,polygonCorners2f, 0.015*getCornersPerimeter(corners2f),true);\r\n\r\n        MatOfPoint polygonCorners = new MatOfPoint();\r\n        polygonCorners2f.convertTo(polygonCorners, CvType.CV_32S);\r\n\r\n        return polygonCorners;\r\n    }\r\n\r\n    public MatOfPoint getFrontPerspectiveCorners(MatOfPoint corners) {\r\n        double maxX = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.x).max().getAsDouble();\r\n\r\n        double minX = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.x).min().getAsDouble();\r\n\r\n        double maxY = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.y).max().getAsDouble();\r\n\r\n        double minY = corners.toList().stream().\r\n                mapToDouble(point -&gt; point.y).min().getAsDouble();\r\n\r\n        double maxWidth = maxX - minX;\r\n        double maxHeight = maxY -minY;\r\n\r\n        return new MatOfPoint(\r\n                new Point(0,0),\r\n                new Point(maxWidth, 0),\r\n                new Point(maxWidth, maxHeight),\r\n                new Point(maxHeight, 0));\r\n    }\r\n\r\n    public Size getFrontPerspectiveSize(MatOfPoint corners) {\r\n        double maxX = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.x).max().getAsDouble();\r\n\r\n        double minX = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.x).min().getAsDouble();\r\n\r\n        double maxY = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.y).max().getAsDouble();\r\n\r\n        double minY = corners.toList().stream().\r\n                mapToDouble(point -&gt; point.y).min().getAsDouble();\r\n\r\n        double maxWidth = maxX - minX;\r\n        double maxHeight = maxY -minY;\r\n\r\n        return new Size(maxWidth, maxHeight);\r\n    }\r\n```\r\n","title":"All grey image when i try to warp image perspective in Java opencv","body":"<p>I want to build an document scanner using java opencv but after transformation is performed I get an all grey outputImage</p>\n<p>My attempt was to preprocess the image(greyscale/normalize) autodetect the corners and apply perspective transform to transform the trapezoid document into a rectangle one. The detected corners seems to be correct.</p>\n<pre><code>@Component\npublic class SkewHandler implements PreprocessingHandler{\n\n    private ShapeDetector shapeDetector;\n\n    @Autowired\n    SkewHandler(ShapeDetector shapeDetector) {\n        this.shapeDetector = shapeDetector;\n    }\n\n    @Override\n    public Mat doPreprocessing(Mat inputImage) {\n        System.out.println(&quot;skew&quot;);\n\n        Mat greyImage = new GreyScaleHandler().doPreprocessing(inputImage);\n        Mat normalizeImage = new NormalizeHandler().doPreprocessing(greyImage);\n        Mat threseholdImage = new ThresholdHandler().doPreprocessing(normalizeImage);\n\n\n        MatOfPoint corners = shapeDetector.getCorners(threseholdImage);\n        MatOfPoint polygonCorners = shapeDetector.getApproximatePolygonCorners(corners);\n        MatOfPoint frontPerspectiveCorners = shapeDetector.getFrontPerspectiveCorners(corners);\n        Size frontPerspectiveSize = shapeDetector.getFrontPerspectiveSize(corners);\n\n        Mat perspectiveTransformMatrix = Imgproc.getPerspectiveTransform(\n                        convertPoints(polygonCorners), convertPoints(frontPerspectiveCorners));\n\n        Mat outputImage = new Mat(inputImage.size(), inputImage.type());\n        Imgproc.warpPerspective(inputImage, outputImage, perspectiveTransformMatrix,frontPerspectiveSize);\n\n        return outputImage;\n    }\n\n    private static MatOfPoint2f convertPoints(MatOfPoint points) {\n        MatOfPoint2f points2f = new MatOfPoint2f();\n        points.convertTo(points2f, CvType.CV_32FC1);\n        return points2f;\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class ShapeDetector {\n\n    public MatOfPoint getCorners(Mat inputImage) {\n        List&lt;MatOfPoint&gt; corners = new ArrayList&lt;&gt;();\n        Imgproc.findContours(inputImage,corners,new Mat(), Imgproc.RETR_EXTERNAL,Imgproc.CHAIN_APPROX_TC89_L1);\n\n        return corners.stream()\n                .max(Comparator.comparing(Imgproc::contourArea))\n                .orElse(null);\n    }\n\n    public Double getCornersPerimeter(MatOfPoint2f corners) {\n        return Imgproc.arcLength(corners, true);\n    }\n\n    public MatOfPoint getApproximatePolygonCorners(MatOfPoint corners) {\n        MatOfPoint2f corners2f = new MatOfPoint2f();\n        corners.convertTo(corners2f, CvType.CV_32FC2);\n\n        MatOfPoint2f polygonCorners2f = new MatOfPoint2f();\n        Imgproc.approxPolyDP(corners2f,polygonCorners2f, 0.015*getCornersPerimeter(corners2f),true);\n\n        MatOfPoint polygonCorners = new MatOfPoint();\n        polygonCorners2f.convertTo(polygonCorners, CvType.CV_32S);\n\n        return polygonCorners;\n    }\n\n    public MatOfPoint getFrontPerspectiveCorners(MatOfPoint corners) {\n        double maxX = corners.toList().stream()\n                .mapToDouble(point -&gt; point.x).max().getAsDouble();\n\n        double minX = corners.toList().stream()\n                .mapToDouble(point -&gt; point.x).min().getAsDouble();\n\n        double maxY = corners.toList().stream()\n                .mapToDouble(point -&gt; point.y).max().getAsDouble();\n\n        double minY = corners.toList().stream().\n                mapToDouble(point -&gt; point.y).min().getAsDouble();\n\n        double maxWidth = maxX - minX;\n        double maxHeight = maxY -minY;\n\n        return new MatOfPoint(\n                new Point(0,0),\n                new Point(maxWidth, 0),\n                new Point(maxWidth, maxHeight),\n                new Point(maxHeight, 0));\n    }\n\n    public Size getFrontPerspectiveSize(MatOfPoint corners) {\n        double maxX = corners.toList().stream()\n                .mapToDouble(point -&gt; point.x).max().getAsDouble();\n\n        double minX = corners.toList().stream()\n                .mapToDouble(point -&gt; point.x).min().getAsDouble();\n\n        double maxY = corners.toList().stream()\n                .mapToDouble(point -&gt; point.y).max().getAsDouble();\n\n        double minY = corners.toList().stream().\n                mapToDouble(point -&gt; point.y).min().getAsDouble();\n\n        double maxWidth = maxX - minX;\n        double maxHeight = maxY -minY;\n\n        return new Size(maxWidth, maxHeight);\n    }\n</code></pre>\n"},{"tags":["java","collections","iteration"],"comments":[{"owner":{"account_id":1153729,"reputation":2569,"user_id":1134899,"accept_rate":100,"display_name":"Haz"},"score":1,"creation_date":1336050456,"post_id":10431981,"comment_id":13464094,"body_markdown":"Just curious, why do you create a copy of foolist rather than just looping through foolist in the first example?","body":"Just curious, why do you create a copy of foolist rather than just looping through foolist in the first example?"},{"owner":{"account_id":1400738,"reputation":6226,"user_id":1329572,"accept_rate":100,"display_name":"user1329572"},"score":0,"creation_date":1336050527,"post_id":10431981,"comment_id":13464130,"body_markdown":"@Haz, So I only have to loop once.","body":"@Haz, So I only have to loop once."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":21,"creation_date":1336051103,"post_id":10431981,"comment_id":13464400,"body_markdown":"Note: prefer &#39;for&#39; over &#39;while&#39; also with iterators to limit the scope of the variable: \nfor(Iterator&lt;Foo&gt; itr = fooList.iterator(); itr.hasNext();){}","body":"Note: prefer &#39;for&#39; over &#39;while&#39; also with iterators to limit the scope of the variable:  for(Iterator&lt;Foo&gt; itr = fooList.iterator(); itr.hasNext();){}"},{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":1,"creation_date":1549172853,"post_id":10431981,"comment_id":95805310,"body_markdown":"I didn&#39;t know `while` had different scoping rules than `for`","body":"I didn&#39;t know <code>while</code> had different scoping rules than <code>for</code>"},{"owner":{"account_id":8506,"reputation":1961,"user_id":15379,"accept_rate":60,"display_name":"Dave Griffiths"},"score":0,"creation_date":1560423039,"post_id":10431981,"comment_id":99735439,"body_markdown":"In a more complex situation you might have a case where `fooList` is an instance variable and you call a method during the loop that ends up calling another method in the same class that does `fooList.remove(obj)`. Have seen this happen. In which case copying the list is safest.","body":"In a more complex situation you might have a case where <code>fooList</code> is an instance variable and you call a method during the loop that ends up calling another method in the same class that does <code>fooList.remove(obj)</code>. Have seen this happen. In which case copying the list is safest."},{"owner":{"account_id":8522424,"reputation":1363,"user_id":6790957,"display_name":"Vikas Tawniya"},"score":3,"creation_date":1617999914,"post_id":10431981,"comment_id":118479076,"body_markdown":"@AlexanderMills while doesn&#39;t have a different scope rule. It&#39;s just that in case of while, Iterator is being declared outside the loop itself and so it will have a broader scope, even though it is just being used inside loop.","body":"@AlexanderMills while doesn&#39;t have a different scope rule. It&#39;s just that in case of while, Iterator is being declared outside the loop itself and so it will have a broader scope, even though it is just being used inside loop."},{"owner":{"account_id":4403071,"reputation":4844,"user_id":3588161,"display_name":"Fizz"},"score":0,"creation_date":1642665630,"post_id":10431981,"comment_id":125132671,"body_markdown":"Since you&#39;ve accepted the answer you&#39;ve accepted you probably had an XY problem, since that answer (like a few other here) doesn&#39;t actually remove during iteration. And the answer to your nominal question is quite obvious if you think a bit about it: immediately visible effect vs delayed/deferred deletion. It&#39;s not just a matter of &quot;style&quot; or &quot;readability&quot;.","body":"Since you&#39;ve accepted the answer you&#39;ve accepted you probably had an XY problem, since that answer (like a few other here) doesn&#39;t actually remove during iteration. And the answer to your nominal question is quite obvious if you think a bit about it: immediately visible effect vs delayed/deferred deletion. It&#39;s not just a matter of &quot;style&quot; or &quot;readability&quot;."}],"answers":[{"comments":[{"owner":{"account_id":1400738,"reputation":6226,"user_id":1329572,"accept_rate":100,"display_name":"user1329572"},"score":0,"creation_date":1336051216,"post_id":10432032,"comment_id":13464467,"body_markdown":"Oops, sorry...it is implied that I would use the iterator&#39;s remove method, not the container&#39;s. And how much overhead does copying the list create? It can&#39;t be much and since it&#39;s scoped to a method, it should be garbage collected rather quickly. See edit..","body":"Oops, sorry...it is implied that I would use the iterator&#39;s remove method, not the container&#39;s. And how much overhead does copying the list create? It can&#39;t be much and since it&#39;s scoped to a method, it should be garbage collected rather quickly. See edit.."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":2,"creation_date":1336053199,"post_id":10432032,"comment_id":13465449,"body_markdown":"@aix I think it is worth mentioning the the remove method of the `Iterator` interface is marked as optional in Javadocs, which means that there could be Iterator implementations that may throw `UnsupportedOperationException`. As such, I&#39;d say this approach is less safe than the first one. Depending on the implementations intended to be used, the first approach could be more suitable.","body":"@aix I think it is worth mentioning the the remove method of the <code>Iterator</code> interface is marked as optional in Javadocs, which means that there could be Iterator implementations that may throw <code>UnsupportedOperationException</code>. As such, I&#39;d say this approach is less safe than the first one. Depending on the implementations intended to be used, the first approach could be more suitable."},{"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"score":1,"creation_date":1551815531,"post_id":10432032,"comment_id":96775877,"body_markdown":"@EdwinDalorzo `remove()` on the original collection itself may also throw `UnsupportedOperationException`: https://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#remove(java.lang.Object).  The Java container interfaces are, sadly, defined to be extremely unreliable (defeating the point of the interface, honestly).  If you don&#39;t know the exact implementation that will be used at runtime, it&#39;s better to do things in an immutable way -- e.g., use the Java 8+ Streams API to filter the elements down and collect them into a new container, then entirely replace the old one with it.","body":"@EdwinDalorzo <code>remove()</code> on the original collection itself may also throw <code>UnsupportedOperationException</code>: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#remove(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>.  The Java container interfaces are, sadly, defined to be extremely unreliable (defeating the point of the interface, honestly).  If you don&#39;t know the exact implementation that will be used at runtime, it&#39;s better to do things in an immutable way -- e.g., use the Java 8+ Streams API to filter the elements down and collect them into a new container, then entirely replace the old one with it."}],"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1336053289,"creation_date":1336050442,"answer_id":10432032,"question_id":10431981,"body_markdown":"&gt; Are there any reasons to prefer one approach over the other\r\n\r\nThe first approach will work, but has the obvious overhead of copying the list.\r\n\r\nThe second approach will not work because many containers don&#39;t permit modification during iteration. [This includes `ArrayList`][1].\r\n\r\nIf the only modification is to remove the current element, you can make the second approach work by using [`itr.remove()`][2] (that is, use the *iterator*&#39;s `remove()` method, not the *container*&#39;s). **This would be my preferred method for iterators that support `remove()`.**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3184883/concurrentmodificationexception-for-arraylist\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html#remove%28%29","title":"Remove elements from collection while iterating","body":"<blockquote>\n  <p>Are there any reasons to prefer one approach over the other</p>\n</blockquote>\n\n<p>The first approach will work, but has the obvious overhead of copying the list.</p>\n\n<p>The second approach will not work because many containers don't permit modification during iteration. <a href=\"https://stackoverflow.com/questions/3184883/concurrentmodificationexception-for-arraylist\">This includes <code>ArrayList</code></a>.</p>\n\n<p>If the only modification is to remove the current element, you can make the second approach work by using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html#remove%28%29\" rel=\"noreferrer\"><code>itr.remove()</code></a> (that is, use the <em>iterator</em>'s <code>remove()</code> method, not the <em>container</em>'s). <strong>This would be my preferred method for iterators that support <code>remove()</code>.</strong></p>\n"},{"comments":[{"owner":{"account_id":1324014,"reputation":5651,"user_id":1311351,"display_name":"Colin D"},"score":4,"creation_date":1336050613,"post_id":10432033,"comment_id":13464168,"body_markdown":"The first attempt iterates on a copy, meaning he can modify the original.","body":"The first attempt iterates on a copy, meaning he can modify the original."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1336050442,"creation_date":1336050442,"answer_id":10432033,"question_id":10431981,"body_markdown":"Only second approach will work. You can modify collection during iteration using `iterator.remove()` only. All other attempts will cause `ConcurrentModificationException`.","title":"Remove elements from collection while iterating","body":"<p>Only second approach will work. You can modify collection during iteration using <code>iterator.remove()</code> only. All other attempts will cause <code>ConcurrentModificationException</code>.</p>\n"},{"comments":[{"owner":{"account_id":1400738,"reputation":6226,"user_id":1329572,"accept_rate":100,"display_name":"user1329572"},"score":0,"creation_date":1336051069,"post_id":10432058,"comment_id":13464383,"body_markdown":"&quot;*Iterator works faster*&quot;. Anything to support this claim? Also, the memory footprint of making a copy of a list is very trivial, especially since it&#39;ll be scoped within a method and will garbage collected almost immediately.","body":"&quot;<i>Iterator works faster</i>&quot;. Anything to support this claim? Also, the memory footprint of making a copy of a list is very trivial, especially since it&#39;ll be scoped within a method and will garbage collected almost immediately."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":2,"creation_date":1336058051,"post_id":10432058,"comment_id":13467746,"body_markdown":"In the first approach the disadvantage is that we have to iterate twice. We iterate in the foor-loop looking for an element, and once we find it, we ask to remove it from the original list, which would imply a second iteration work to look for this given item. This would support the claim that, at least in this case, iterator approach should be faster. We have to consider that only the structural space of the collection is the one being created, the objects inside the collections are not being copied. Both collections would keep references to the same objects. When GC happens we cannot tell!!!","body":"In the first approach the disadvantage is that we have to iterate twice. We iterate in the foor-loop looking for an element, and once we find it, we ask to remove it from the original list, which would imply a second iteration work to look for this given item. This would support the claim that, at least in this case, iterator approach should be faster. We have to consider that only the structural space of the collection is the one being created, the objects inside the collections are not being copied. Both collections would keep references to the same objects. When GC happens we cannot tell!!!"}],"tags":[],"owner":{"account_id":1456397,"reputation":186,"user_id":1371872,"display_name":"Calin Andrei"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336050507,"creation_date":1336050507,"answer_id":10432058,"question_id":10431981,"body_markdown":"I would choose the second as you don&#39;t have to do a copy of the memory and the Iterator works faster. So you save memory and time.","title":"Remove elements from collection while iterating","body":"<p>I would choose the second as you don't have to do a copy of the memory and the Iterator works faster. So you save memory and time.</p>\n"},{"comments":[{"owner":{"account_id":4259399,"reputation":8159,"user_id":3484146,"display_name":"ifloop"},"score":8,"creation_date":1522160424,"post_id":10432084,"comment_id":86035688,"body_markdown":"In your paragraph about JDK8 Streams you mention to `removeAll(filtered)`. A shortcut for that would be `removeIf(b -&gt; b.getIsbn().equals(other))`","body":"In your paragraph about JDK8 Streams you mention to <code>removeAll(filtered)</code>. A shortcut for that would be <code>removeIf(b -&gt; b.getIsbn().equals(other))</code>"},{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":2,"creation_date":1549172671,"post_id":10432084,"comment_id":95805288,"body_markdown":"What&#39;s the diff between Iterator and ListIterator?","body":"What&#39;s the diff between Iterator and ListIterator?"},{"owner":{"account_id":1570349,"reputation":398,"user_id":1458170,"display_name":"Akabelle"},"score":1,"creation_date":1571224581,"post_id":10432084,"comment_id":103167096,"body_markdown":"Haven&#39;t considered removeIf, but it was the answer to my prayers. Thanks!","body":"Haven&#39;t considered removeIf, but it was the answer to my prayers. Thanks!"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1628114087,"post_id":10432084,"comment_id":121337873,"body_markdown":"@AlexanderMills and any others with the same question – [`ListIterator`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/ListIterator.html) extends `Iterator` and provides more functionality: `add` and `set`, in addition to `remove`; iterate indices instead of elements; and ability to iterate in both directions.","body":"@AlexanderMills and any others with the same question – <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/ListIterator.html\" rel=\"nofollow noreferrer\"><code>ListIterator</code></a> extends <code>Iterator</code> and provides more functionality: <code>add</code> and <code>set</code>, in addition to <code>remove</code>; iterate indices instead of elements; and ability to iterate in both directions."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1637801216,"post_id":10432084,"comment_id":123925864,"body_markdown":"Thanks a lot! This helped me to implement this solution here https://stackoverflow.com/questions/24182902/how-to-remove-all-key-and-its-value-of-a-particular-keyname-from-json-stringwit/70104599#70104599 .","body":"Thanks a lot! This helped me to implement this solution here <a href=\"https://stackoverflow.com/questions/24182902/how-to-remove-all-key-and-its-value-of-a-particular-keyname-from-json-stringwit/70104599#70104599\" title=\"how to remove all key and its value of a particular keyname from json stringwit\">stackoverflow.com/questions/24182902/&hellip;</a> ."}],"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":5,"down_vote_count":1,"up_vote_count":617,"is_accepted":true,"score":616,"last_activity_date":1554057577,"creation_date":1336050580,"answer_id":10432084,"question_id":10431981,"body_markdown":"Let me give a few examples with some alternatives to avoid a `ConcurrentModificationException`.\r\n\r\nSuppose we have the following collection of books\r\n\r\n    List&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\r\n    books.add(new Book(new ISBN(&quot;0-201-63361-2&quot;)));\r\n    books.add(new Book(new ISBN(&quot;0-201-63361-3&quot;)));\r\n    books.add(new Book(new ISBN(&quot;0-201-63361-4&quot;)));\r\n\r\n**Collect and Remove**\r\n\r\nThe first technique consists in collecting all the objects that we want to delete (e.g. using an enhanced for loop) and after we finish iterating, we remove all found objects.\r\n\r\n    ISBN isbn = new ISBN(&quot;0-201-63361-2&quot;);\r\n    List&lt;Book&gt; found = new ArrayList&lt;Book&gt;();\r\n    for(Book book : books){\r\n    \tif(book.getIsbn().equals(isbn)){\r\n    \t\tfound.add(book);\r\n    \t}\r\n    }\r\n    books.removeAll(found);\r\n\r\nThis is supposing that the operation you want to do is &quot;delete&quot;. \r\n\r\nIf you want to &quot;add&quot; this approach would also work, but I would assume you would iterate over a different collection to determine what elements you want to add to a second collection and then issue an `addAll` method at the end.\r\n\r\n**Using ListIterator**\r\n\r\nIf you are working with lists, another technique consists in using a `ListIterator` which has support for removal and addition of items during the iteration itself.\r\n\r\n    ListIterator&lt;Book&gt; iter = books.listIterator();\r\n    while(iter.hasNext()){\r\n    \tif(iter.next().getIsbn().equals(isbn)){\r\n    \t\titer.remove();\r\n    \t}\r\n    }\r\n\r\nAgain, I used the &quot;remove&quot; method in the example above which is what your question seemed to imply, but you may also use its `add` method to add new elements during iteration.\r\n\r\n**Using JDK &gt;= 8**\r\n\r\nFor those working with Java 8 or superior versions, there are a couple of other techniques you could use to take advantage of it.\r\n\r\nYou could use the new `removeIf` method in the `Collection` base class:\r\n\r\n    ISBN other = new ISBN(&quot;0-201-63361-2&quot;);\r\n    books.removeIf(b -&gt; b.getIsbn().equals(other));\r\n\r\nOr use the new stream API:\r\n\r\n    ISBN other = new ISBN(&quot;0-201-63361-2&quot;);\r\n    List&lt;Book&gt; filtered = books.stream()\r\n                               .filter(b -&gt; b.getIsbn().equals(other))\r\n                               .collect(Collectors.toList());\r\n\r\n\r\nIn this last case, to filter elements out of a collection, you reassign the original reference to the filtered collection (i.e. `books = filtered`) or used the filtered collection to `removeAll` the found elements from the original collection (i.e. `books.removeAll(filtered)`).\r\n\r\n**Use Sublist or Subset** \r\n\r\nThere are other alternatives as well. If the list is sorted, and you want to remove consecutive elements you can create a sublist and then clear it:\r\n\r\n    books.subList(0,5).clear();\r\n\r\nSince the sublist is backed by the original list this would be an efficient way of removing this subcollection of elements.\r\n\r\nSomething similar could be achieved with sorted sets using `NavigableSet.subSet` method, or any of the slicing methods offered there.\r\n\r\n**Considerations:**\r\n\r\nWhat method you use might depend on what you are intending to do\r\n\r\n - The collect and `removeAl` technique works with any Collection (Collection, List, Set, etc). \r\n - The `ListIterator` technique obviously only works with lists, provided that their given `ListIterator` implementation offers support for add and remove operations.  \r\n - The `Iterator` approach would work with any type of collection, but it only supports remove operations.\r\n - With the `ListIterator`/`Iterator` approach the obvious advantage is not having to copy anything since we remove as we iterate. So, this is very efficient. \r\n - The JDK 8 streams example don&#39;t actually removed anything, but looked for the desired elements, and then we replaced the original collection reference with the new one, and let the old one be garbage collected. So, we iterate only once over the collection and that would be efficient.\r\n - In the collect and `removeAll` approach the disadvantage is that we have to iterate twice. First we iterate in the foor-loop looking for an object that matches our removal criteria, and once we have found it, we ask to remove it from the original collection, which would imply a second iteration work to look for this item in order to remove it. \r\n - I think it is worth mentioning that the remove method of the `Iterator` interface is marked as &quot;optional&quot; in Javadocs, which means that there could be `Iterator` implementations that throw `UnsupportedOperationException` if we invoke the remove method. As such, I&#39;d say this approach is less safe than others if we cannot guarantee the iterator support for removal of elements.\r\n\r\n\r\n  [1]: http://code.google.com/p/lambdaj/\r\n","title":"Remove elements from collection while iterating","body":"<p>Let me give a few examples with some alternatives to avoid a <code>ConcurrentModificationException</code>.</p>\n\n<p>Suppose we have the following collection of books</p>\n\n<pre><code>List&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\nbooks.add(new Book(new ISBN(\"0-201-63361-2\")));\nbooks.add(new Book(new ISBN(\"0-201-63361-3\")));\nbooks.add(new Book(new ISBN(\"0-201-63361-4\")));\n</code></pre>\n\n<p><strong>Collect and Remove</strong></p>\n\n<p>The first technique consists in collecting all the objects that we want to delete (e.g. using an enhanced for loop) and after we finish iterating, we remove all found objects.</p>\n\n<pre><code>ISBN isbn = new ISBN(\"0-201-63361-2\");\nList&lt;Book&gt; found = new ArrayList&lt;Book&gt;();\nfor(Book book : books){\n    if(book.getIsbn().equals(isbn)){\n        found.add(book);\n    }\n}\nbooks.removeAll(found);\n</code></pre>\n\n<p>This is supposing that the operation you want to do is \"delete\". </p>\n\n<p>If you want to \"add\" this approach would also work, but I would assume you would iterate over a different collection to determine what elements you want to add to a second collection and then issue an <code>addAll</code> method at the end.</p>\n\n<p><strong>Using ListIterator</strong></p>\n\n<p>If you are working with lists, another technique consists in using a <code>ListIterator</code> which has support for removal and addition of items during the iteration itself.</p>\n\n<pre><code>ListIterator&lt;Book&gt; iter = books.listIterator();\nwhile(iter.hasNext()){\n    if(iter.next().getIsbn().equals(isbn)){\n        iter.remove();\n    }\n}\n</code></pre>\n\n<p>Again, I used the \"remove\" method in the example above which is what your question seemed to imply, but you may also use its <code>add</code> method to add new elements during iteration.</p>\n\n<p><strong>Using JDK >= 8</strong></p>\n\n<p>For those working with Java 8 or superior versions, there are a couple of other techniques you could use to take advantage of it.</p>\n\n<p>You could use the new <code>removeIf</code> method in the <code>Collection</code> base class:</p>\n\n<pre><code>ISBN other = new ISBN(\"0-201-63361-2\");\nbooks.removeIf(b -&gt; b.getIsbn().equals(other));\n</code></pre>\n\n<p>Or use the new stream API:</p>\n\n<pre><code>ISBN other = new ISBN(\"0-201-63361-2\");\nList&lt;Book&gt; filtered = books.stream()\n                           .filter(b -&gt; b.getIsbn().equals(other))\n                           .collect(Collectors.toList());\n</code></pre>\n\n<p>In this last case, to filter elements out of a collection, you reassign the original reference to the filtered collection (i.e. <code>books = filtered</code>) or used the filtered collection to <code>removeAll</code> the found elements from the original collection (i.e. <code>books.removeAll(filtered)</code>).</p>\n\n<p><strong>Use Sublist or Subset</strong> </p>\n\n<p>There are other alternatives as well. If the list is sorted, and you want to remove consecutive elements you can create a sublist and then clear it:</p>\n\n<pre><code>books.subList(0,5).clear();\n</code></pre>\n\n<p>Since the sublist is backed by the original list this would be an efficient way of removing this subcollection of elements.</p>\n\n<p>Something similar could be achieved with sorted sets using <code>NavigableSet.subSet</code> method, or any of the slicing methods offered there.</p>\n\n<p><strong>Considerations:</strong></p>\n\n<p>What method you use might depend on what you are intending to do</p>\n\n<ul>\n<li>The collect and <code>removeAl</code> technique works with any Collection (Collection, List, Set, etc). </li>\n<li>The <code>ListIterator</code> technique obviously only works with lists, provided that their given <code>ListIterator</code> implementation offers support for add and remove operations.  </li>\n<li>The <code>Iterator</code> approach would work with any type of collection, but it only supports remove operations.</li>\n<li>With the <code>ListIterator</code>/<code>Iterator</code> approach the obvious advantage is not having to copy anything since we remove as we iterate. So, this is very efficient. </li>\n<li>The JDK 8 streams example don't actually removed anything, but looked for the desired elements, and then we replaced the original collection reference with the new one, and let the old one be garbage collected. So, we iterate only once over the collection and that would be efficient.</li>\n<li>In the collect and <code>removeAll</code> approach the disadvantage is that we have to iterate twice. First we iterate in the foor-loop looking for an object that matches our removal criteria, and once we have found it, we ask to remove it from the original collection, which would imply a second iteration work to look for this item in order to remove it. </li>\n<li>I think it is worth mentioning that the remove method of the <code>Iterator</code> interface is marked as \"optional\" in Javadocs, which means that there could be <code>Iterator</code> implementations that throw <code>UnsupportedOperationException</code> if we invoke the remove method. As such, I'd say this approach is less safe than others if we cannot guarantee the iterator support for removal of elements.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":4403071,"reputation":4844,"user_id":3588161,"display_name":"Fizz"},"score":0,"creation_date":1642665227,"post_id":10432132,"comment_id":125132542,"body_markdown":"Actually the java docs on this are really confusing. &quot;Iterators allow the caller to remove elements from the underlying collection during the iteration with well-defined semantics.&quot; `remove()` itself on the iterator **may *not*** throw that concurrent modification exception (scroll to remove in https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html) Also &quot;The behavior of an iterator is unspecified if the underlying collection is modified while the iteration is in progress **in any way other than by calling this method**.&quot;","body":"Actually the java docs on this are really confusing. &quot;Iterators allow the caller to remove elements from the underlying collection during the iteration with well-defined semantics.&quot; <code>remove()</code> itself on the iterator <b>may <i>not</i></b> throw that concurrent modification exception (scroll to remove in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Iterator.html</a>) Also &quot;The behavior of an iterator is unspecified if the underlying collection is modified while the iteration is in progress <b>in any way other than by calling this method</b>.&quot;"}],"tags":[],"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336052542,"creation_date":1336050737,"answer_id":10432132,"question_id":10431981,"body_markdown":"You can&#39;t do the second, because even if you use the `remove()` method on [Iterator][1], [you&#39;ll get an Exception thrown][2].  \r\n\r\nPersonally, I would prefer the first for all `Collection` instances, despite the additional overheard of creating the new `Collection`, I find it less prone to error during edit by other developers. On some Collection implementations, the Iterator `remove()` is supported, on other it isn&#39;t. You can read more in the docs for [Iterator][3]. \r\n\r\nThe third alternative, is to create a new `Collection`, iterate over the original, and add all the members of the first `Collection` to the second `Collection` that are *not* up for deletion. Depending on the size of the `Collection` and the number of deletes, this could  significantly save on memory, when compared to the first approach. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#iterator%28%29\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html","title":"Remove elements from collection while iterating","body":"<p>You can't do the second, because even if you use the <code>remove()</code> method on <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html\" rel=\"nofollow\">Iterator</a>, <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#iterator%28%29\" rel=\"nofollow\">you'll get an Exception thrown</a>.  </p>\n\n<p>Personally, I would prefer the first for all <code>Collection</code> instances, despite the additional overheard of creating the new <code>Collection</code>, I find it less prone to error during edit by other developers. On some Collection implementations, the Iterator <code>remove()</code> is supported, on other it isn't. You can read more in the docs for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html\" rel=\"nofollow\">Iterator</a>. </p>\n\n<p>The third alternative, is to create a new <code>Collection</code>, iterate over the original, and add all the members of the first <code>Collection</code> to the second <code>Collection</code> that are <em>not</em> up for deletion. Depending on the size of the <code>Collection</code> and the number of deletes, this could  significantly save on memory, when compared to the first approach. </p>\n"},{"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":5,"creation_date":1336057177,"post_id":10432633,"comment_id":13467353,"body_markdown":"This approach has many major disadvantages. First, every time you remove an element, the indexes are reorganized. Therefore, if you remove element 0, then the element 1 becomes the new element 0. If you are going to to this, at least do it backwards to avoid this problem. Second, not all List implementations offer direct access to the elements (as ArrayList does). In a LinkedList this would be tremendously inefficient because every time you issue an `get(i)` you have to visit all nodes until you reach `i`.","body":"This approach has many major disadvantages. First, every time you remove an element, the indexes are reorganized. Therefore, if you remove element 0, then the element 1 becomes the new element 0. If you are going to to this, at least do it backwards to avoid this problem. Second, not all List implementations offer direct access to the elements (as ArrayList does). In a LinkedList this would be tremendously inefficient because every time you issue an <code>get(i)</code> you have to visit all nodes until you reach <code>i</code>."},{"owner":{"account_id":1419922,"reputation":1047,"user_id":1344765,"display_name":"Drake Clarris"},"score":0,"creation_date":1336057325,"post_id":10432633,"comment_id":13467422,"body_markdown":"Never considered this as I typically just used it to remove a single item I was looking for. Good to know.","body":"Never considered this as I typically just used it to remove a single item I was looking for. Good to know."},{"owner":{"account_id":1860653,"reputation":1223,"user_id":1685296,"accept_rate":85,"display_name":"Bertie Wheen"},"score":5,"creation_date":1363729091,"post_id":10432633,"comment_id":21965877,"body_markdown":"I&#39;m late to the party, but surely in the if block code after `Foo.remove(i);` you should do `i--;`?","body":"I&#39;m late to the party, but surely in the if block code after <code>Foo.remove(i);</code> you should do <code>i--;</code>?"},{"owner":{"account_id":1820313,"reputation":1528,"user_id":1654526,"accept_rate":36,"display_name":"Jack"},"score":0,"creation_date":1500557472,"post_id":10432633,"comment_id":77398625,"body_markdown":"becouse it&#39;s bugged","body":"becouse it&#39;s bugged"}],"tags":[],"owner":{"account_id":1419922,"reputation":1047,"user_id":1344765,"display_name":"Drake Clarris"},"comment_count":4,"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1336052477,"creation_date":1336052477,"answer_id":10432633,"question_id":10431981,"body_markdown":"why not this?\r\n\r\n    for( int i = 0; i &lt; Foo.size(); i++ )\r\n    {\r\n       if( Foo.get(i).equals( some test ) )\r\n       {\r\n          Foo.remove(i);\r\n       }\r\n    }\r\n\r\nAnd if it&#39;s a map, not a list, you can use keyset()","title":"Remove elements from collection while iterating","body":"<p>why not this?</p>\n\n<pre><code>for( int i = 0; i &lt; Foo.size(); i++ )\n{\n   if( Foo.get(i).equals( some test ) )\n   {\n      Foo.remove(i);\n   }\n}\n</code></pre>\n\n<p>And if it's a map, not a list, you can use keyset()</p>\n"},{"comments":[{"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"score":5,"creation_date":1611763680,"post_id":46559150,"comment_id":116556675,"body_markdown":"This does not answer the question of the OP, there is no iteration here","body":"This does not answer the question of the OP, there is no iteration here"},{"owner":{"account_id":918625,"reputation":392,"user_id":950837,"display_name":"&#233;clairevoyant"},"score":2,"creation_date":1656712978,"post_id":46559150,"comment_id":128647349,"body_markdown":"@UriLoya it&#39;s also likely that this question is an [XY problem](https://meta.stackexchange.com/a/66378) hence this answer.","body":"@UriLoya it&#39;s also likely that this question is an <a href=\"https://meta.stackexchange.com/a/66378\">XY problem</a> hence this answer."}],"tags":[],"owner":{"account_id":913256,"reputation":28307,"user_id":2564200,"accept_rate":83,"display_name":"Santhosh"},"comment_count":2,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1507101588,"creation_date":1507101588,"answer_id":46559150,"question_id":10431981,"body_markdown":"In Java 8, there is another approach. [Collection#removeIf][1]\r\n\r\neg:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(1);\r\n    list.add(2);\r\n    list.add(3);\r\n            \r\n    list.removeIf(i -&gt; i &gt; 2);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-","title":"Remove elements from collection while iterating","body":"<p>In Java 8, there is another approach. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"noreferrer\">Collection#removeIf</a></p>\n\n<p>eg:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nlist.add(1);\nlist.add(2);\nlist.add(3);\n\nlist.removeIf(i -&gt; i &gt; 2);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1786316,"reputation":303,"user_id":1627719,"display_name":"mipasov"},"score":1,"creation_date":1606484272,"post_id":60859469,"comment_id":114981846,"body_markdown":"Sometimes it is the only working solution.","body":"Sometimes it is the only working solution."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":15,"creation_date":1615653010,"post_id":60859469,"comment_id":117760399,"body_markdown":"At first glance you may miss it, but the secret is to traverse the list backwards.\nThis prevents that each removal, changes the index of future potential removals.","body":"At first glance you may miss it, but the secret is to traverse the list backwards. This prevents that each removal, changes the index of future potential removals."},{"owner":{"account_id":5416397,"reputation":1423,"user_id":4311428,"display_name":"maxeh"},"score":3,"creation_date":1634826728,"post_id":60859469,"comment_id":123135857,"body_markdown":"I would actually prefer to iterate from the beginning over the list, remove the item, and then decrement the counter. This has much better readability in my opinion. So just use: `for (int i = 0; i &lt; list.size(); i++) {...remove(i); i--;...}`","body":"I would actually prefer to iterate from the beginning over the list, remove the item, and then decrement the counter. This has much better readability in my opinion. So just use: <code>for (int i = 0; i &lt; list.size(); i++) {...remove(i); i--;...}</code>"},{"owner":{"account_id":3658600,"reputation":417,"user_id":3048996,"display_name":"judovana"},"score":2,"creation_date":1644678668,"post_id":60859469,"comment_id":125672903,"body_markdown":"this would be not working if there are more items to remove, and if they are one riht behind other. To fix this, you need to `i--` after the `list.remove(i);` or the backwards thing. Lookin to other replies ere, if yo need to remove more items after one condition, you have to stuck with improvrf this one","body":"this would be not working if there are more items to remove, and if they are one riht behind other. To fix this, you need to <code>i--</code> after the <code>list.remove(i);</code> or the backwards thing. Lookin to other replies ere, if yo need to remove more items after one condition, you have to stuck with improvrf this one"},{"owner":{"account_id":6606886,"reputation":916,"user_id":5103458,"display_name":"Shebla Tsama"},"score":0,"creation_date":1657637138,"post_id":60859469,"comment_id":128855017,"body_markdown":"@maxeh iterating the list in forward order as you suggest will call list.size() once for each item in the list, whereas iterating in reverse order only calls list.size() once.  Also, your approach will decrement i, and then immediately increment it again every time it finds a match.  The logic of the decrement followed by increment is non-intuitive and potentially error prone when the next person comes to inspect the code.","body":"@maxeh iterating the list in forward order as you suggest will call list.size() once for each item in the list, whereas iterating in reverse order only calls list.size() once.  Also, your approach will decrement i, and then immediately increment it again every time it finds a match.  The logic of the decrement followed by increment is non-intuitive and potentially error prone when the next person comes to inspect the code."},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":1,"creation_date":1662413683,"post_id":60859469,"comment_id":129995659,"body_markdown":"@SheblaTsama The only working solution worked for me. appreciate it.","body":"@SheblaTsama The only working solution worked for me. appreciate it."},{"owner":{"account_id":10695512,"reputation":53,"user_id":8071529,"display_name":"Roy"},"score":0,"creation_date":1682282501,"post_id":60859469,"comment_id":134186851,"body_markdown":"@maxeh thanks for the solution. Although as Shebla Tsama mentioned that this could be confusing, I do want to point out the situations that backward iteration may not work. For example, you have multiple bad items to remove, but every time there is a capacity (dynamically determined) of how many items you can remove, and the item at the beginning higher priority.","body":"@maxeh thanks for the solution. Although as Shebla Tsama mentioned that this could be confusing, I do want to point out the situations that backward iteration may not work. For example, you have multiple bad items to remove, but every time there is a capacity (dynamically determined) of how many items you can remove, and the item at the beginning higher priority."}],"tags":[],"owner":{"account_id":6606886,"reputation":916,"user_id":5103458,"display_name":"Shebla Tsama"},"comment_count":7,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1593793267,"creation_date":1585183547,"answer_id":60859469,"question_id":10431981,"body_markdown":"Old Timer Favorite (it still works):\r\n\r\n    List&lt;String&gt; list;\r\n    \r\n    for(int i = list.size() - 1; i &gt;= 0; --i) \r\n    {\r\n            if(list.get(i).contains(&quot;bad&quot;))\r\n            {\r\n                    list.remove(i);\r\n            }\r\n    }\r\n\r\nBenefits:\r\n1) It only iterates over the list *once*\r\n2) No extra objects created, or other unneeded complexity\r\n3) No problems with trying to use the index of a removed item, because... well, think about it!\r\n","title":"Remove elements from collection while iterating","body":"<p>Old Timer Favorite (it still works):</p>\n<pre><code>List&lt;String&gt; list;\n\nfor(int i = list.size() - 1; i &gt;= 0; --i) \n{\n        if(list.get(i).contains(&quot;bad&quot;))\n        {\n                list.remove(i);\n        }\n}\n</code></pre>\n<p>Benefits:</p>\n<ol>\n<li>It only iterates over the list <em>once</em></li>\n<li>No extra objects created, or other unneeded complexity</li>\n<li>No problems with trying to use the index of a removed item, because... well, think about it!</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18214648,"reputation":124,"user_id":13256503,"display_name":"Golam Kibria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640605549,"creation_date":1640602301,"answer_id":70494513,"question_id":10431981,"body_markdown":"You can see this sample; If we think remove odd value from a list:\r\n \r\n\r\n    public static void main(String[] args) {\r\n        Predicate&lt;Integer&gt; isOdd = v -&gt; v % 2 == 0;\r\n        List&lt;Integer&gt; listArr = Arrays.asList(5, 7, 90, 11, 55, 60);\r\n        listArr = listArr.stream().filter(isOdd).collect(Collectors.toList());\r\n        listArr.forEach(System.out::println);\r\n    }\r\n\r\n \r\n\r\n","title":"Remove elements from collection while iterating","body":"<p>You can see this sample; If we think remove odd value from a list:</p>\n<pre><code>public static void main(String[] args) {\n    Predicate&lt;Integer&gt; isOdd = v -&gt; v % 2 == 0;\n    List&lt;Integer&gt; listArr = Arrays.asList(5, 7, 90, 11, 55, 60);\n    listArr = listArr.stream().filter(isOdd).collect(Collectors.toList());\n    listArr.forEach(System.out::println);\n}\n</code></pre>\n"}],"owner":{"account_id":1400738,"reputation":6226,"user_id":1329572,"accept_rate":100,"display_name":"user1329572"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415514,"favorite_count":0,"down_vote_count":2,"up_vote_count":326,"accepted_answer_id":10432084,"answer_count":9,"score":324,"last_activity_date":1677146521,"creation_date":1336050239,"question_id":10431981,"body_markdown":"AFAIK, there are two approaches:\r\n\r\n 1. Iterate over a copy of the collection\r\n 2. Use the iterator of the actual collection\r\n\r\nFor instance,\r\n\r\n    List&lt;Foo&gt; fooListCopy = new ArrayList&lt;Foo&gt;(fooList);\r\n    for(Foo foo : fooListCopy){\r\n        // modify actual fooList\r\n    }\r\n\r\nand\r\n\r\n    Iterator&lt;Foo&gt; itr = fooList.iterator();\r\n    while(itr.hasNext()){\r\n        // modify actual fooList using itr.remove()\r\n    }\r\n\r\nAre there any reasons to prefer one approach over the other (e.g. preferring the first approach for the simple reason of readability)?","title":"Remove elements from collection while iterating","body":"<p>AFAIK, there are two approaches:</p>\n\n<ol>\n<li>Iterate over a copy of the collection</li>\n<li>Use the iterator of the actual collection</li>\n</ol>\n\n<p>For instance,</p>\n\n<pre><code>List&lt;Foo&gt; fooListCopy = new ArrayList&lt;Foo&gt;(fooList);\nfor(Foo foo : fooListCopy){\n    // modify actual fooList\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Iterator&lt;Foo&gt; itr = fooList.iterator();\nwhile(itr.hasNext()){\n    // modify actual fooList using itr.remove()\n}\n</code></pre>\n\n<p>Are there any reasons to prefer one approach over the other (e.g. preferring the first approach for the simple reason of readability)?</p>\n"},{"tags":["java","selenium-webdriver","file-upload","ui-automation"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1676906983,"post_id":75507981,"comment_id":133226876,"body_markdown":"Please post the HTML snippet as code in your question (see [Why I should not upload images of code](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)). Also, you say it&#39;s a desktop app, yet you are posting HTML which suggests it&#39;s a web app. Which is it?","body":"Please post the HTML snippet as code in your question (see <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why I should not upload images of code</a>). Also, you say it&#39;s a desktop app, yet you are posting HTML which suggests it&#39;s a web app. Which is it?"}],"owner":{"account_id":27831499,"reputation":11,"user_id":21249824,"display_name":"Viraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677146426,"creation_date":1676888407,"question_id":75507981,"body_markdown":"While clicking on upload button desktop application opening to select a csv file.\r\nSend Keys not working as no input type as file . Robot class also not working.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI tried send keys as well as robot class , nothing is working . Can someone help here pls.\r\n\r\nI used below robot class\r\n\r\n StringSelection stringSelection= new StringSelection(file.getAbsolutePath());\r\n\r\n       //Copy to clipboard \r\n       \r\n     Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\r\n     browserDriver.waitTime(MainConfig.timeout_for_AJAX);\r\n\t\t   Robot robot = new Robot();\r\n\r\n    \t\t\t\t// Cmd + Tab is needed since it launches a Java app and the browser looses focus\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_TAB);\r\n    \t\t\t\trobot.delay(1000);\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_TAB);\r\n\r\n    \t\t\t\trobot.delay(1000);\r\n\r\n    \t\t\t\t//Open Goto window\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_SHIFT);\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_G);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_SHIFT);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_G);\r\n\r\n    \t\t\t\t//Paste the clipboard value\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_V);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_V);\r\n\r\n    \t\t\t\t//Press Enter key to close the Goto window and Upload window\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_ENTER);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_ENTER);\r\n\r\n    \t\t\t\trobot.delay(1000);\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_ENTER);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_ENTER);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zG7YE.png\r\n  [2]: https://i.stack.imgur.com/UbUCW.png","title":"How to upload CSV file on Mac using Selenium Java having no input tag","body":"<p>While clicking on upload button desktop application opening to select a csv file.\nSend Keys not working as no input type as file . Robot class also not working.</p>\n<p><a href=\"https://i.stack.imgur.com/zG7YE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zG7YE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/UbUCW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UbUCW.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried send keys as well as robot class , nothing is working . Can someone help here pls.</p>\n<p>I used below robot class</p>\n<p>StringSelection stringSelection= new StringSelection(file.getAbsolutePath());</p>\n<pre><code>   //Copy to clipboard \n   \n Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\n browserDriver.waitTime(MainConfig.timeout_for_AJAX);\n       Robot robot = new Robot();\n\n                // Cmd + Tab is needed since it launches a Java app and the browser looses focus\n\n                robot.keyPress(KeyEvent.VK_META);\n\n                robot.keyPress(KeyEvent.VK_TAB);\n                robot.delay(1000);\n                robot.keyRelease(KeyEvent.VK_META);\n\n                robot.keyRelease(KeyEvent.VK_TAB);\n\n                robot.delay(1000);\n\n                //Open Goto window\n\n                robot.keyPress(KeyEvent.VK_META);\n\n                robot.keyPress(KeyEvent.VK_SHIFT);\n\n                robot.keyPress(KeyEvent.VK_G);\n\n                robot.keyRelease(KeyEvent.VK_META);\n\n                robot.keyRelease(KeyEvent.VK_SHIFT);\n\n                robot.keyRelease(KeyEvent.VK_G);\n\n                //Paste the clipboard value\n\n                robot.keyPress(KeyEvent.VK_META);\n\n                robot.keyPress(KeyEvent.VK_V);\n\n                robot.keyRelease(KeyEvent.VK_META);\n\n                robot.keyRelease(KeyEvent.VK_V);\n\n                //Press Enter key to close the Goto window and Upload window\n\n                robot.keyPress(KeyEvent.VK_ENTER);\n\n                robot.keyRelease(KeyEvent.VK_ENTER);\n\n                robot.delay(1000);\n\n                robot.keyPress(KeyEvent.VK_ENTER);\n\n                robot.keyRelease(KeyEvent.VK_ENTER);\n</code></pre>\n"},{"tags":["java","postgresql","spring-data-jpa","spring-data","plpgsql"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1552588964,"post_id":55169797,"comment_id":97078985,"body_markdown":"Arrays in Postgres are ***not*** the same as any other collection in any other language.  They&#39;re... *different*.  Could you explain what you&#39;re trying to accomplish with `my_func`?  There may be a more elegant solution in conventional SQL.","body":"Arrays in Postgres are <b><i>not</i></b> the same as any other collection in any other language.  They&#39;re... <i>different</i>.  Could you explain what you&#39;re trying to accomplish with <code>my_func</code>?  There may be a more elegant solution in conventional SQL."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552589332,"post_id":55169797,"comment_id":97079147,"body_markdown":"@Makoto Hi, I edited my question. In my function I have some advanced logic with cursor, and so on. This passed parameter I need use just in final select in where condition in IN clause","body":"@Makoto Hi, I edited my question. In my function I have some advanced logic with cursor, and so on. This passed parameter I need use just in final select in where condition in IN clause"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1552590899,"post_id":55169797,"comment_id":97079975,"body_markdown":"So I believe that this is an XY problem - you&#39;re trying to find a set of records based on an IN query and there&#39;s an easier way to go about doing this than what you&#39;re proposing.  I&#39;ve found a dupe for this question; I encourage you to peruse it.  If it doesn&#39;t fit, you can edit your question to explain why.","body":"So I believe that this is an XY problem - you&#39;re trying to find a set of records based on an IN query and there&#39;s an easier way to go about doing this than what you&#39;re proposing.  I&#39;ve found a dupe for this question; I encourage you to peruse it.  If it doesn&#39;t fit, you can edit your question to explain why."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1552590905,"post_id":55169797,"comment_id":97079980,"body_markdown":"Possible duplicate of [Spring CrudRepository findByInventoryIds(List&lt;Long&gt; inventoryIdList) - equivalent to IN clause](https://stackoverflow.com/questions/18987292/spring-crudrepository-findbyinventoryidslistlong-inventoryidlist-equivalen)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18987292/spring-crudrepository-findbyinventoryidslistlong-inventoryidlist-equivalen\">Spring CrudRepository findByInventoryIds(List&lt;Long&gt; inventoryIdList) - equivalent to IN clause</a>"},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552592385,"post_id":55169797,"comment_id":97080691,"body_markdown":"@Makoto there is different problem like you post ... I need send list of strings into postgres function but I don&#39;t know what type I should use in that function. Your post is not solution for me because I cannot write this query directly into annotation without function .. there is more logic","body":"@Makoto there is different problem like you post ... I need send list of strings into postgres function but I don&#39;t know what type I should use in that function. Your post is not solution for me because I cannot write this query directly into annotation without function .. there is more logic"},{"owner":{"account_id":1062483,"reputation":20163,"user_id":1104979,"display_name":"Nick Barnes"},"score":2,"creation_date":1552595437,"post_id":55169797,"comment_id":97082242,"body_markdown":"Looks like the list is being passed successfully (you made it to line 28 of your function before encountering an error). I&#39;m guessing the cause is `WHERE t.foo IN (myList)`; to check if `t.foo` is in your array, use `t.foo = ANY(myList)` instead.","body":"Looks like the list is being passed successfully (you made it to line 28 of your function before encountering an error). I&#39;m guessing the cause is <code>WHERE t.foo IN (myList)</code>; to check if <code>t.foo</code> is in your array, use <code>t.foo = ANY(myList)</code> instead."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552595962,"post_id":55169797,"comment_id":97082475,"body_markdown":"@NickBarnes now I am home from work and I tried it again with ANY but I got different error: ERROR: function my_func(character varying, character varying, character varying) does not exist\n  Hint: No function matches the given name and argument types. You might need to add explicit type casts. There is &quot;character varying&quot; same times as I have items in List","body":"@NickBarnes now I am home from work and I tried it again with ANY but I got different error: ERROR: function my_func(character varying, character varying, character varying) does not exist   Hint: No function matches the given name and argument types. You might need to add explicit type casts. There is &quot;character varying&quot; same times as I have items in List"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1552596129,"post_id":55169797,"comment_id":97082557,"body_markdown":"Does it work if you use `@NonNull @Param(&quot;myList&quot;) String[] myList`, instead?","body":"Does it work if you use <code>@NonNull @Param(&quot;myList&quot;) String[] myList</code>, instead?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1552596156,"post_id":55169797,"comment_id":97082572,"body_markdown":"I suppose the reason I proposed that as a solution is because this is a very common thing to want to do with queries in JPA.  I don&#39;t want to beat a dead horse per se, but what other logic do you have to account for such that you can&#39;t author the query like a &quot;normal&quot; SQL query?","body":"I suppose the reason I proposed that as a solution is because this is a very common thing to want to do with queries in JPA.  I don&#39;t want to beat a dead horse per se, but what other logic do you have to account for such that you can&#39;t author the query like a &quot;normal&quot; SQL query?"},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552596312,"post_id":55169797,"comment_id":97082637,"body_markdown":"@Makoto there are some cursors where I do another selects for calculation some values, and that values I&#39;m using in final query where is also IN clause. I didn&#39;t write that whole function in my question because I can&#39;t avoid it.","body":"@Makoto there are some cursors where I do another selects for calculation some values, and that values I&#39;m using in final query where is also IN clause. I didn&#39;t write that whole function in my question because I can&#39;t avoid it."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552596424,"post_id":55169797,"comment_id":97082694,"body_markdown":"@LukasEder I tried use String[] instead of List but I got this error: ERROR: function my_func(bytea) does not exist","body":"@LukasEder I tried use String[] instead of List but I got this error: ERROR: function my_func(bytea) does not exist"}],"answers":[{"comments":[{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552597306,"post_id":55171587,"comment_id":97083102,"body_markdown":"Thank you for answer but Jdbc template is our last option. We also considering about paging where spring&#39;s data jpa has nice api.","body":"Thank you for answer but Jdbc template is our last option. We also considering about paging where spring&#39;s data jpa has nice api."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1552597555,"post_id":55171587,"comment_id":97083217,"body_markdown":"@DenisStephanov Given that you&#39;re doing so much in that function already, why not move pagination into it as well? Seems wasteful to let the function return an entire result set only to paginate afterwards...","body":"@DenisStephanov Given that you&#39;re doing so much in that function already, why not move pagination into it as well? Seems wasteful to let the function return an entire result set only to paginate afterwards..."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552597878,"post_id":55171587,"comment_id":97083370,"body_markdown":"Because we have complicated frontend design. We receive pageable object with sort properties and so on.","body":"Because we have complicated frontend design. We receive pageable object with sort properties and so on."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552598377,"post_id":55171587,"comment_id":97083599,"body_markdown":"I also tried your solution but I got error function my_func(text[]) does not exist. I checked db and I am sure there is. Also I edit its parameter to text[] without variadic but doesn&#39;t help","body":"I also tried your solution but I got error function my_func(text[]) does not exist. I checked db and I am sure there is. Also I edit its parameter to text[] without variadic but doesn&#39;t help"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1552598443,"post_id":55171587,"comment_id":97083621,"body_markdown":"@DenisStephanov: You may need to qualify the function with the schema","body":"@DenisStephanov: You may need to qualify the function with the schema"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552596300,"creation_date":1552595965,"answer_id":55171587,"question_id":55169797,"body_markdown":"I&#39;m afraid I don&#39;t know how to do this with Spring Data JPA, but with plain JDBC, you&#39;d have to simply cast the bind variable to `text[]` and pass a `String[]` type instead of a list. For example:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (PreparedStatement s = conn.prepareStatement(&quot;select * from my_func(?::text[])&quot;)) {\r\n        s.setObject(1, myList.toArray(new String[0]));\r\n\r\n        try (ResultSet rs = s.executeQuery()) {\r\n            // ...\r\n        }\r\n    }\r\n\r\nThe key message here is that the JDBC driver will expect an array, not a list.","title":"Pass List&lt;String&gt; into postgres&#39; function as parameter","body":"<p>I'm afraid I don't know how to do this with Spring Data JPA, but with plain JDBC, you'd have to simply cast the bind variable to <code>text[]</code> and pass a <code>String[]</code> type instead of a list. For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (PreparedStatement s = conn.prepareStatement(\"select * from my_func(?::text[])\")) {\n    s.setObject(1, myList.toArray(new String[0]));\n\n    try (ResultSet rs = s.executeQuery()) {\n        // ...\n    }\n}\n</code></pre>\n\n<p>The key message here is that the JDBC driver will expect an array, not a list.</p>\n"},{"tags":[],"owner":{"account_id":7020942,"reputation":28624,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1552742409,"creation_date":1552642694,"answer_id":55179555,"question_id":55169797,"body_markdown":"I used the following workaround solution in the similar situation:\r\n\r\n1) Created two helper functions:\r\n\r\n```sql\r\n-- Convert a variable number of text arguments to text array\r\n-- Used to convert Java collection to the text array\r\n--\r\ncreate or replace function list_to_array(variadic _list text[]) returns text[] language sql as $$\r\nselect _list;\r\n$$;\r\n``` \r\n\r\n```sql\r\n-- Convert the bytea argument to null.\r\n-- Used to convert Java null to PostgreSQL null\r\n--\r\ncreate or replace function list_to_array(_list bytea) returns text[] language sql as $$\r\nselect null::text[];\r\n$$;\r\n```\r\n\r\n2) Used `any` instead of `in` in the main function, for example:\r\n\r\n```sql\r\ncreate or replace function my_func(_params text[]) \r\nreturns table (field1 text, field2 text) \r\nlanguage sql as \r\n$$\r\nselect\r\n  t.field1 as field1,\r\n  t.field2 as field2,\r\nfrom\r\n  my_table t\r\nwhere\r\n  array_length(_params, 1) is null or t.foo = any(_params);\r\n$$;\r\n```\r\n\r\n3) Then used them in a repository method, for example:\r\n\r\n```java\r\n@NonNull\r\n@Query(value = &quot;select ... from my_func(list_to_array(?1))&quot;, nativeQuery = true)\r\nList&lt;MyProjection&gt; getFromMyFunc(@Nullable Set&lt;String&gt; params, @NonNull Pageable page);\r\n```","title":"Pass List&lt;String&gt; into postgres&#39; function as parameter","body":"<p>I used the following workaround solution in the similar situation:</p>\n\n<p>1) Created two helper functions:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>-- Convert a variable number of text arguments to text array\n-- Used to convert Java collection to the text array\n--\ncreate or replace function list_to_array(variadic _list text[]) returns text[] language sql as $$\nselect _list;\n$$;\n</code></pre>\n\n<pre class=\"lang-sql prettyprint-override\"><code>-- Convert the bytea argument to null.\n-- Used to convert Java null to PostgreSQL null\n--\ncreate or replace function list_to_array(_list bytea) returns text[] language sql as $$\nselect null::text[];\n$$;\n</code></pre>\n\n<p>2) Used <code>any</code> instead of <code>in</code> in the main function, for example:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace function my_func(_params text[]) \nreturns table (field1 text, field2 text) \nlanguage sql as \n$$\nselect\n  t.field1 as field1,\n  t.field2 as field2,\nfrom\n  my_table t\nwhere\n  array_length(_params, 1) is null or t.foo = any(_params);\n$$;\n</code></pre>\n\n<p>3) Then used them in a repository method, for example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@NonNull\n@Query(value = \"select ... from my_func(list_to_array(?1))\", nativeQuery = true)\nList&lt;MyProjection&gt; getFromMyFunc(@Nullable Set&lt;String&gt; params, @NonNull Pageable page);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15462527,"reputation":7563,"user_id":11154841,"display_name":"questionto42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630007353,"creation_date":1630007353,"answer_id":68944563,"question_id":55169797,"body_markdown":"Not sure whether this add a lot of value, I just hope it helps.\r\n\r\nThe final format that the PostgreSQL function expects from a list as the input is of the following a pattern, using an array:\r\n\r\n    select my_func(array[&#39;item1&#39;,&#39;item2&#39;]::my_type[]);\r\n\r\nSee a full example [on Database Administrators.SE](https://dba.stackexchange.com/a/2794/212659).\r\n\r\nIn your case:\r\n\r\n    select my_func(array[&#39;item1&#39;,&#39;item2&#39;]::text[]);\r\n\r\nand I found out in my own tests that\r\n\r\n    select my_func(array[&#39;item1&#39;,&#39;item2&#39;]);\r\n\r\nshould already be enough.\r\n\r\n\r\nThen, the only aim is to get this format from your original java type. Thihs has been answered by the other question. This answer is just about showing the aim of it all.","title":"Pass List&lt;String&gt; into postgres&#39; function as parameter","body":"<p>Not sure whether this add a lot of value, I just hope it helps.</p>\n<p>The final format that the PostgreSQL function expects from a list as the input is of the following a pattern, using an array:</p>\n<pre><code>select my_func(array['item1','item2']::my_type[]);\n</code></pre>\n<p>See a full example <a href=\"https://dba.stackexchange.com/a/2794/212659\">on Database Administrators.SE</a>.</p>\n<p>In your case:</p>\n<pre><code>select my_func(array['item1','item2']::text[]);\n</code></pre>\n<p>and I found out in my own tests that</p>\n<pre><code>select my_func(array['item1','item2']);\n</code></pre>\n<p>should already be enough.</p>\n<p>Then, the only aim is to get this format from your original java type. Thihs has been answered by the other question. This answer is just about showing the aim of it all.</p>\n"}],"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14291,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55179555,"answer_count":3,"score":5,"last_activity_date":1677146421,"creation_date":1552588540,"question_id":55169797,"body_markdown":"I have spring data repository interface like this:\r\n\r\n    public interface MyEntityRepository extends \r\n            JpaRepository&lt;MyEntity, Long&gt; {\r\n    \r\n        @Query(nativeQuery = true, value = &quot;select * from my_func(:myList)&quot;)\r\n        Page&lt;MyEntity&gt; findBy(\r\n                @NonNull @Param(&quot;myList&quot;) List&lt;String&gt; myList,\r\n                @NonNull Pageable pageable);\r\n    \r\n    }\r\n\r\nPostgres&#39; function I have defined like this (but I can change it if I did it wrong):\r\n\r\n    CREATE OR REPLACE FUNCTION my_func(variadic myList text[])\r\n    RETURNS SETOF myEntityTable AS $$\r\n    ... some logic\r\n    select * from myEntityTable t where t.foo in (myList);\r\n\r\nWhen I call this repository method I got this error:\r\n\r\n    ERROR: operator does not exist: character varying = text[]\r\n    Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n    Where: PL/pgSQL function f_najdi_autorizaciu_na_spracovanie(text[]) line 28 at RETURN QUERY\r\n\r\nCan you please tell me what type should I use in my postgres function? Thank you in advice.\r\n\r\nEDIT:\r\nI cannot use native query above repository method and pass there list into IN clause because I have in DB function more logic, variables and so on ... it have to be DB function.","title":"Pass List&lt;String&gt; into postgres&#39; function as parameter","body":"<p>I have spring data repository interface like this:</p>\n\n<pre><code>public interface MyEntityRepository extends \n        JpaRepository&lt;MyEntity, Long&gt; {\n\n    @Query(nativeQuery = true, value = \"select * from my_func(:myList)\")\n    Page&lt;MyEntity&gt; findBy(\n            @NonNull @Param(\"myList\") List&lt;String&gt; myList,\n            @NonNull Pageable pageable);\n\n}\n</code></pre>\n\n<p>Postgres' function I have defined like this (but I can change it if I did it wrong):</p>\n\n<pre><code>CREATE OR REPLACE FUNCTION my_func(variadic myList text[])\nRETURNS SETOF myEntityTable AS $$\n... some logic\nselect * from myEntityTable t where t.foo in (myList);\n</code></pre>\n\n<p>When I call this repository method I got this error:</p>\n\n<pre><code>ERROR: operator does not exist: character varying = text[]\nHint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\nWhere: PL/pgSQL function f_najdi_autorizaciu_na_spracovanie(text[]) line 28 at RETURN QUERY\n</code></pre>\n\n<p>Can you please tell me what type should I use in my postgres function? Thank you in advice.</p>\n\n<p>EDIT:\nI cannot use native query above repository method and pass there list into IN clause because I have in DB function more logic, variables and so on ... it have to be DB function.</p>\n"},{"tags":["java","gradle","jar","classpath"],"answers":[{"tags":[],"owner":{"account_id":10899037,"reputation":19,"user_id":8359731,"display_name":"BambooBandit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677146111,"creation_date":1676833464,"answer_id":75502725,"question_id":75502140,"body_markdown":"Found a solution!\r\n\r\nBasically you add\r\n\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\nto your dist task in desktop build.gradle","title":"Modifying a library class by having a directory with the same path doesn&#39;t work in exported .jar","body":"<p>Found a solution!</p>\n<p>Basically you add</p>\n<pre><code>duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n</code></pre>\n<p>to your dist task in desktop build.gradle</p>\n"}],"owner":{"account_id":10899037,"reputation":19,"user_id":8359731,"display_name":"BambooBandit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677146111,"creation_date":1676828370,"question_id":75502140,"body_markdown":"I have a gradle based project where I needed to make a few tweaks to some library classes. I made a package with the same path as the library to override the class. It ends up working fine in my IDE, but when I export it via packr, the application refers to the original library code, not my overridden package code, so I get errors like this.\r\n\r\n&gt; class com.badlogic.gdx.utils.GdxRuntimeException: java.lang.NoSuchFieldError: soundCom\r\ncom.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:172)\r\n\r\n\r\nSorry if there is terminology I am missing, I&#39;m not too familiar with this process.","title":"Modifying a library class by having a directory with the same path doesn&#39;t work in exported .jar","body":"<p>I have a gradle based project where I needed to make a few tweaks to some library classes. I made a package with the same path as the library to override the class. It ends up working fine in my IDE, but when I export it via packr, the application refers to the original library code, not my overridden package code, so I get errors like this.</p>\n<blockquote>\n<p>class com.badlogic.gdx.utils.GdxRuntimeException: java.lang.NoSuchFieldError: soundCom\ncom.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.(Lwjgl3Application.java:172)</p>\n</blockquote>\n<p>Sorry if there is terminology I am missing, I'm not too familiar with this process.</p>\n"},{"tags":["java","sftp","jsch","file-attributes"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677145867,"creation_date":1570622251,"answer_id":58303618,"question_id":58301307,"body_markdown":"You seem to assume that the SFTP *&quot;extended attributes&quot;* are [*&quot;file system extended attributes&quot;*](https://en.wikipedia.org/wiki/Extended_file_attributes).\r\n\r\nThey are not.\r\n\r\nSFTP *&quot;extended attributes&quot;* is an extension mechanism, by which an SFTP server can provide or set additional attributes about the files, which are not part of the standard SFTP file attributes.\r\n\r\nThey indeed can *theoretically* be mapped to file system extended attributes. But actually most SFTP servers, and particularly the most widespread OpenSSH, do not support any SFTP extended attributes at all, let alone file system extended attributes.\r\nSee also https://stackoverflow.com/q/48687079/850848.\r\n\r\n---\r\n\r\nYou might be able to query the attributes using some shell commands, if you have also a shell access – but that&#39;s not *SFTP* anymore.","title":"Read file extended attributes of files on SFTP server with JSch","body":"<p>You seem to assume that the SFTP <em>&quot;extended attributes&quot;</em> are <a href=\"https://en.wikipedia.org/wiki/Extended_file_attributes\" rel=\"nofollow noreferrer\"><em>&quot;file system extended attributes&quot;</em></a>.</p>\n<p>They are not.</p>\n<p>SFTP <em>&quot;extended attributes&quot;</em> is an extension mechanism, by which an SFTP server can provide or set additional attributes about the files, which are not part of the standard SFTP file attributes.</p>\n<p>They indeed can <em>theoretically</em> be mapped to file system extended attributes. But actually most SFTP servers, and particularly the most widespread OpenSSH, do not support any SFTP extended attributes at all, let alone file system extended attributes.\nSee also <a href=\"https://stackoverflow.com/q/48687079/850848\">Setting the extended file attributes using SSH.NET SftpClient</a>.</p>\n<hr />\n<p>You might be able to query the attributes using some shell commands, if you have also a shell access – but that's not <em>SFTP</em> anymore.</p>\n"}],"owner":{"account_id":2524499,"reputation":323,"user_id":2194113,"accept_rate":75,"display_name":"jaros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58303618,"answer_count":1,"score":1,"last_activity_date":1677145867,"creation_date":1570614119,"question_id":58301307,"body_markdown":"I want to read file extended attributes using com.jcraft.JSch 0.1.55 (the file is on SFTP server). I know that class `SftpATTR` actually does have a method\r\n````\r\npublic String[] getExtended()\r\n````\r\nbut in my case it returns null.\r\n\r\n\r\nI see that in this code\r\n````\r\nstatic SftpATTRS getATTR(Buffer buf){\r\n    SftpATTRS attr=new SftpATTRS();\t\r\n    attr.flags=buf.getInt();\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_SIZE)!=0){ attr.size=buf.getLong(); }\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_UIDGID)!=0){\r\n      attr.uid=buf.getInt(); attr.gid=buf.getInt();\r\n    }\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_PERMISSIONS)!=0){ \r\n      attr.permissions=buf.getInt();\r\n    }\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_ACMODTIME)!=0){ \r\n      attr.atime=buf.getInt();\r\n    }\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_ACMODTIME)!=0){ \r\n      attr.mtime=buf.getInt(); \r\n    }\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_EXTENDED)!=0){\r\n      int count=buf.getInt();\r\n      if(count&gt;0){\r\n\tattr.extended=new String[count*2];\r\n\tfor(int i=0; i&lt;count; i++){\r\n\t  attr.extended[i*2]=Util.byte2str(buf.getString());\r\n\t  attr.extended[i*2+1]=Util.byte2str(buf.getString());\r\n\t}\r\n      }\r\n    }\r\n    return attr;\r\n  } \r\n````\r\nthe last if-statement is responsible for reading extended attributes but it seems to me that it always evaluates to false, because\r\n````\r\nint flags=0;\r\n````\r\nand\r\n````\r\npublic static final int SSH_FILEXFER_ATTR_EXTENDED=     0x80000000;\r\n````\r\nI cannot change the flags directly because it&#39;s setter doesn&#39;t have a public modifier.\r\n\r\nIs there another way to change the flags or read the extended attributes somehow?","title":"Read file extended attributes of files on SFTP server with JSch","body":"<p>I want to read file extended attributes using com.jcraft.JSch 0.1.55 (the file is on SFTP server). I know that class <code>SftpATTR</code> actually does have a method</p>\n\n<pre><code>public String[] getExtended()\n</code></pre>\n\n<p>but in my case it returns null.</p>\n\n<p>I see that in this code</p>\n\n<pre><code>static SftpATTRS getATTR(Buffer buf){\n    SftpATTRS attr=new SftpATTRS(); \n    attr.flags=buf.getInt();\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_SIZE)!=0){ attr.size=buf.getLong(); }\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_UIDGID)!=0){\n      attr.uid=buf.getInt(); attr.gid=buf.getInt();\n    }\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_PERMISSIONS)!=0){ \n      attr.permissions=buf.getInt();\n    }\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_ACMODTIME)!=0){ \n      attr.atime=buf.getInt();\n    }\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_ACMODTIME)!=0){ \n      attr.mtime=buf.getInt(); \n    }\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_EXTENDED)!=0){\n      int count=buf.getInt();\n      if(count&gt;0){\n    attr.extended=new String[count*2];\n    for(int i=0; i&lt;count; i++){\n      attr.extended[i*2]=Util.byte2str(buf.getString());\n      attr.extended[i*2+1]=Util.byte2str(buf.getString());\n    }\n      }\n    }\n    return attr;\n  } \n</code></pre>\n\n<p>the last if-statement is responsible for reading extended attributes but it seems to me that it always evaluates to false, because</p>\n\n<pre><code>int flags=0;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public static final int SSH_FILEXFER_ATTR_EXTENDED=     0x80000000;\n</code></pre>\n\n<p>I cannot change the flags directly because it's setter doesn't have a public modifier.</p>\n\n<p>Is there another way to change the flags or read the extended attributes somehow?</p>\n"},{"tags":["java","spring-security","authorization","access-denied"],"answers":[{"tags":[],"owner":{"account_id":6645713,"reputation":1,"user_id":5129906,"display_name":"mohammed amnay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606904930,"creation_date":1606904930,"answer_id":65106267,"question_id":64500797,"body_markdown":"After investigating i found a solution for my problem : \r\n1) create Custom Access Denied Handler class annotated with @ControllerAdvice\r\n2) the must important is to define the sort order for our annotated component with high priority (e.g. @Order(value = 1))\r\n\r\nthanks","title":"Spring security : Access denied handler doesn&#39;t work (xml config + preauthorize annotation on controller method)","body":"<p>After investigating i found a solution for my problem :</p>\n<ol>\n<li>create Custom Access Denied Handler class annotated with @ControllerAdvice</li>\n<li>the must important is to define the sort order for our annotated component with high priority (e.g. @Order(value = 1))</li>\n</ol>\n<p>thanks</p>\n"},{"tags":[],"owner":{"account_id":17205704,"reputation":1,"user_id":12456327,"display_name":"Christophe Agoero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677145399,"creation_date":1677145399,"answer_id":75543027,"question_id":64500797,"body_markdown":"Just rethrow the exception. The handle method of AccessDeniedHandler will be called.\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n\r\n    /**\r\n     * Si erreur de s&#233;curit&#233; au niveau m&#233;thode il faut re throw pour aller dans le \r\n     * handle de AccessDeniedHandler\r\n     *\r\n     * @param e\r\n     */\r\n    @ExceptionHandler(AccessDeniedException.class)\r\n    void handleAccessDeniedException(AccessDeniedException e) {\r\n        throw e;\r\n    }\r\n\r\n\r\n}","title":"Spring security : Access denied handler doesn&#39;t work (xml config + preauthorize annotation on controller method)","body":"<p>Just rethrow the exception. The handle method of AccessDeniedHandler will be called.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n\n\n    /**\n     * Si erreur de sécurité au niveau méthode il faut re throw pour aller dans le \n     * handle de AccessDeniedHandler\n     *\n     * @param e\n     */\n    @ExceptionHandler(AccessDeniedException.class)\n    void handleAccessDeniedException(AccessDeniedException e) {\n        throw e;\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":6645713,"reputation":1,"user_id":5129906,"display_name":"mohammed amnay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677145399,"creation_date":1603459105,"question_id":64500797,"body_markdown":"Access-denied-handler doesn&#39;t work. The spring configuration is splitted on many xml file \r\n\r\n1) applicationContext-spring-security.xml\r\n````\r\n&lt;http auto-config=&#39;false&quot; use-expressions=&quot;true&quot; entry-point-ref=&quot;loginUrlAuthenticationEntryPoint&quot; &gt;\r\n    &lt;access-denied-handler error-page=&#39;/accessdenied.htm&quot; /&gt;\r\n    &lt;intercept-url pattern=&quot;/login.htm&quot; access=&quot;permitAll&quot;/&gt;\r\n    &lt;intercept-url pattern=&#39;/editprocedure.htm&quot; access=&quot;hasAuthority(&#39;CAPABILITY_ADD&#39;)&quot;/&gt;\r\n&lt;/http&gt;\r\n````\r\nthe access-denied-handler works well for xml config (as `&lt;intercept-url pattern=&quot;/addjob.htm&quot; access=&quot;hasAuthority(&#39;JOB_ADD&#39;)&quot;/&gt;`), but it dosen&#39;t when i use Preauthorize annotation !\r\n\r\n2) [app]-servlet.xml\r\n````\r\n...\r\n&lt;security:global-method-security pre-post-annotations=&quot;enabled&quot;/&gt;\r\n...\r\n````\t\r\n3) Controller\r\n````\r\n....\r\n    @RequestMapping(value=&quot;/adminarea.htm&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;ADMIN_AREA&#39;)&quot;)\r\n    protected ModelAndView referenceData() throws Exception\r\n    {....}\r\n....\r\n````\r\nThank you all in advance :)\r\n ","title":"Spring security : Access denied handler doesn&#39;t work (xml config + preauthorize annotation on controller method)","body":"<p>Access-denied-handler doesn't work. The spring configuration is splitted on many xml file</p>\n<ol>\n<li>applicationContext-spring-security.xml</li>\n</ol>\n<pre><code>&lt;http auto-config='false&quot; use-expressions=&quot;true&quot; entry-point-ref=&quot;loginUrlAuthenticationEntryPoint&quot; &gt;\n    &lt;access-denied-handler error-page='/accessdenied.htm&quot; /&gt;\n    &lt;intercept-url pattern=&quot;/login.htm&quot; access=&quot;permitAll&quot;/&gt;\n    &lt;intercept-url pattern='/editprocedure.htm&quot; access=&quot;hasAuthority('CAPABILITY_ADD')&quot;/&gt;\n&lt;/http&gt;\n</code></pre>\n<p>the access-denied-handler works well for xml config (as <code>&lt;intercept-url pattern=&quot;/addjob.htm&quot; access=&quot;hasAuthority('JOB_ADD')&quot;/&gt;</code>), but it dosen't when i use Preauthorize annotation !</p>\n<ol start=\"2\">\n<li>[app]-servlet.xml</li>\n</ol>\n<pre><code>...\n&lt;security:global-method-security pre-post-annotations=&quot;enabled&quot;/&gt;\n...\n</code></pre>\n<ol start=\"3\">\n<li>Controller</li>\n</ol>\n<pre><code>....\n    @RequestMapping(value=&quot;/adminarea.htm&quot;)\n    @PreAuthorize(&quot;hasAuthority('ADMIN_AREA')&quot;)\n    protected ModelAndView referenceData() throws Exception\n    {....}\n....\n</code></pre>\n<p>Thank you all in advance :)</p>\n"},{"tags":["java","unit-testing","mockito","junit4"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677245182,"post_id":75542989,"comment_id":133304769,"body_markdown":"Unrelated to coverage, but your test doesn&#39;t contain any assertions. In other words: it does not test anything","body":"Unrelated to coverage, but your test doesn&#39;t contain any assertions. In other words: it does not test anything"},{"owner":{"account_id":5851066,"reputation":479,"user_id":4609725,"accept_rate":43,"display_name":"robyp7"},"score":0,"creation_date":1677490508,"post_id":75542989,"comment_id":133340977,"body_markdown":"@knittl my test contai one assertion: assertThat(request.getClass()).as(&quot;check filter is on&quot;).isEqualTo(xxx.class), no?","body":"@knittl my test contai one assertion: assertThat(request.getClass()).as(&quot;check filter is on&quot;).isEqualTo(xxx.class), no?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677491244,"post_id":75542989,"comment_id":133341189,"body_markdown":"Oh, there is indeed an assertion. But why is the assertion inside a filter chain? That looks fishy.","body":"Oh, there is indeed an assertion. But why is the assertion inside a filter chain? That looks fishy."},{"owner":{"account_id":5851066,"reputation":479,"user_id":4609725,"accept_rate":43,"display_name":"robyp7"},"score":0,"creation_date":1677789633,"post_id":75542989,"comment_id":133412060,"body_markdown":"@knittl because look at the code inside..doFilter make this: req = new XSSRequestWrapper(request), but req is a mock object, and the only way that i  thinking is testing the type of instance... i cant do an assert on a mock! The mock dont change..Is it clever or naive? What you think can be done of different?","body":"@knittl because look at the code inside..doFilter make this: req = new XSSRequestWrapper(request), but req is a mock object, and the only way that i  thinking is testing the type of instance... i cant do an assert on a mock! The mock dont change..Is it clever or naive? What you think can be done of different?"}],"owner":{"account_id":5851066,"reputation":479,"user_id":4609725,"accept_rate":43,"display_name":"robyp7"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677145246,"creation_date":1677145246,"question_id":75542989,"body_markdown":"I have to make a junit mockito test on a java HttpFilter: i write some tests code on doFilter() but Code Coverage give me 0% of methods and line covered. Why?\r\n\r\n doFilter return void and &quot;req&quot; is reassigned to a new isntance, so i guess the only  assert is in my FilterChain method where new req istance is passed if so happens.  \r\n\r\nHow would you do the tests?\r\nThanks\r\n\r\nCode to test:\r\n\r\n    public class XSSFilter implements Filter{\r\n    \r\n        public static final String XSS_FILTER_ACTIVE_PROPERTY_KEY = &quot;XSSFilterActive&quot;;\r\n        public static final String XSS_FILTER_ACTIVE_DEFAULT_VALUE = &quot;false&quot;;\r\n        private Logger logger;\r\n    \r\n        boolean isXssFilterActive= false;\r\n    \r\n        @Override\r\n    \tpublic void init(FilterConfig filterConfig) throws ServletException {\r\n            if (logger==null) {\r\n                logger = LoggerFactory.getLogger(this.getClass().getName());\r\n            }\r\n            isXssFilterActive = Boolean.parseBoolean(ResourceManagerListener.getProperty(XSS_FILTER_ACTIVE_PROPERTY_KEY, XSS_FILTER_ACTIVE_DEFAULT_VALUE));\r\n    \t    logger.info(&quot;isXssFilterActive ={}&quot;, isXssFilterActive);\r\n            if (isXssFilterActive) {\r\n                logger.info(&quot;filter XSS on&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n    \tpublic void doFilter(ServletRequest req, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\t\t\r\n            HttpServletRequest request = (HttpServletRequest) req;\r\n            if (isXssFilterActive) {\r\n                req = new XSSRequestWrapper(request);\r\n            }\r\n            chain.doFilter(req, response);\r\n    \t}\r\n    \r\n        @Override\r\n    \tpublic void destroy() {\r\n    \t\t//empty\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\nThe tests:\r\n\r\n    public class XssFilterTest {\r\n    \r\n    \r\n        @Mock\r\n        HttpServletRequest req;\r\n    \r\n        @Mock\r\n        ServletResponse response;\r\n        private AutoCloseable autoCloseableMock;\r\n    \r\n    \r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            autoCloseableMock = MockitoAnnotations.openMocks(this);\r\n        }\r\n    \r\n        //test XSS filtering ON: test request instance of XSSRequestWrapper \r\n        @Test\r\n        public void testXSSFilterActiveTrue() throws Exception { \r\n    \r\n            final MockedStatic&lt;ResourceManagerListener&gt; resourceManagerListenerMockedStatic = mockStatic(ResourceManagerListener.class);\r\n            when(ResourceManagerListener.getProperty(&quot;XSSFilterActive&quot;, &quot;false&quot;)).thenReturn(&quot;true&quot;);\r\n            XSSFilter target = new XSSFilter();\r\n            FilterConfig config = mock(FilterConfig.class);\r\n    \r\n            target.init(config);\r\n            \r\n            FilterChain filterChainConsumer =\r\n                    ( request, response) -&gt; assertThat(request.getClass()).as(&quot;check filter is on&quot;).isEqualTo(XSSRequestWrapper.class);\r\n            HttpServletRequest request = new HttpServletRequestWrapper(req);\r\n            target.doFilter(request,response, filterChainConsumer);\r\n            resourceManagerListenerMockedStatic.close();\r\n        }\r\n    \r\n    \r\n        //XSS filtering off: test request instanceOf HttpServletRequestWrapper\r\n        @Test\r\n        public void testXSSFilterActiveFalse() throws Exception { //test quando spento\r\n    \r\n            final MockedStatic&lt;ResourceManagerListener&gt; resourceManagerListenerMockedStatic = mockStatic(ResourceManagerListener.class);\r\n            //request = mock(HttpServletRequest.class);// se non si usa l&#39;injection con @Mock\r\n            when(ResourceManagerListener.getProperty(&quot;XSSFilterActive&quot;, &quot;false&quot;)).thenReturn(&quot;false&quot;);\r\n            XSSFilter target = new XSSFilter();\r\n            FilterConfig config = mock(FilterConfig.class);\r\n    \r\n            target.init(config);\r\n            //deve essere wrappata come new XSSRequestWrapper\r\n            FilterChain filterChainConsumer =\r\n                    ( request, response) -&gt; assertThat(request.getClass()).as(&quot;check filter is off&quot;).isEqualTo(HttpServletRequestWrapper.class);\r\n            HttpServletRequest request = new HttpServletRequestWrapper(req);\r\n            target.doFilter(request,response, filterChainConsumer);\r\n            resourceManagerListenerMockedStatic.close();\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() throws Exception {\r\n            autoCloseableMock.close();\r\n        }\r\n    }\r\n\r\n","title":"mockito testing doFilter method, coverage 0%","body":"<p>I have to make a junit mockito test on a java HttpFilter: i write some tests code on doFilter() but Code Coverage give me 0% of methods and line covered. Why?</p>\n<p>doFilter return void and &quot;req&quot; is reassigned to a new isntance, so i guess the only  assert is in my FilterChain method where new req istance is passed if so happens.</p>\n<p>How would you do the tests?\nThanks</p>\n<p>Code to test:</p>\n<pre><code>public class XSSFilter implements Filter{\n\n    public static final String XSS_FILTER_ACTIVE_PROPERTY_KEY = &quot;XSSFilterActive&quot;;\n    public static final String XSS_FILTER_ACTIVE_DEFAULT_VALUE = &quot;false&quot;;\n    private Logger logger;\n\n    boolean isXssFilterActive= false;\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        if (logger==null) {\n            logger = LoggerFactory.getLogger(this.getClass().getName());\n        }\n        isXssFilterActive = Boolean.parseBoolean(ResourceManagerListener.getProperty(XSS_FILTER_ACTIVE_PROPERTY_KEY, XSS_FILTER_ACTIVE_DEFAULT_VALUE));\n        logger.info(&quot;isXssFilterActive ={}&quot;, isXssFilterActive);\n        if (isXssFilterActive) {\n            logger.info(&quot;filter XSS on&quot;);\n        }\n    }\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {      \n        HttpServletRequest request = (HttpServletRequest) req;\n        if (isXssFilterActive) {\n            req = new XSSRequestWrapper(request);\n        }\n        chain.doFilter(req, response);\n    }\n\n    @Override\n    public void destroy() {\n        //empty\n    }\n    \n\n}\n</code></pre>\n<p>The tests:</p>\n<pre><code>public class XssFilterTest {\n\n\n    @Mock\n    HttpServletRequest req;\n\n    @Mock\n    ServletResponse response;\n    private AutoCloseable autoCloseableMock;\n\n\n\n    @Before\n    public void setUp() throws Exception {\n        autoCloseableMock = MockitoAnnotations.openMocks(this);\n    }\n\n    //test XSS filtering ON: test request instance of XSSRequestWrapper \n    @Test\n    public void testXSSFilterActiveTrue() throws Exception { \n\n        final MockedStatic&lt;ResourceManagerListener&gt; resourceManagerListenerMockedStatic = mockStatic(ResourceManagerListener.class);\n        when(ResourceManagerListener.getProperty(&quot;XSSFilterActive&quot;, &quot;false&quot;)).thenReturn(&quot;true&quot;);\n        XSSFilter target = new XSSFilter();\n        FilterConfig config = mock(FilterConfig.class);\n\n        target.init(config);\n        \n        FilterChain filterChainConsumer =\n                ( request, response) -&gt; assertThat(request.getClass()).as(&quot;check filter is on&quot;).isEqualTo(XSSRequestWrapper.class);\n        HttpServletRequest request = new HttpServletRequestWrapper(req);\n        target.doFilter(request,response, filterChainConsumer);\n        resourceManagerListenerMockedStatic.close();\n    }\n\n\n    //XSS filtering off: test request instanceOf HttpServletRequestWrapper\n    @Test\n    public void testXSSFilterActiveFalse() throws Exception { //test quando spento\n\n        final MockedStatic&lt;ResourceManagerListener&gt; resourceManagerListenerMockedStatic = mockStatic(ResourceManagerListener.class);\n        //request = mock(HttpServletRequest.class);// se non si usa l'injection con @Mock\n        when(ResourceManagerListener.getProperty(&quot;XSSFilterActive&quot;, &quot;false&quot;)).thenReturn(&quot;false&quot;);\n        XSSFilter target = new XSSFilter();\n        FilterConfig config = mock(FilterConfig.class);\n\n        target.init(config);\n        //deve essere wrappata come new XSSRequestWrapper\n        FilterChain filterChainConsumer =\n                ( request, response) -&gt; assertThat(request.getClass()).as(&quot;check filter is off&quot;).isEqualTo(HttpServletRequestWrapper.class);\n        HttpServletRequest request = new HttpServletRequestWrapper(req);\n        target.doFilter(request,response, filterChainConsumer);\n        resourceManagerListenerMockedStatic.close();\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        autoCloseableMock.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","file-io","jsch"],"comments":[{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1677144120,"post_id":75542527,"comment_id":133280863,"body_markdown":"What &quot;custom attribute&quot;? Do you mean something like this https://en.wikipedia.org/wiki/Extended_file_attributes ?","body":"What &quot;custom attribute&quot;? Do you mean something like this <a href=\"https://en.wikipedia.org/wiki/Extended_file_attributes\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Extended_file_attributes</a> ?"},{"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"score":0,"creation_date":1677144378,"post_id":75542527,"comment_id":133280948,"body_markdown":"Yes, we added one attribute by using this code: Path file = Paths.get(filePath);\n\t\t\t\tUserDefinedFileAttributeView view = Files.getFileAttributeView(file,\n\t\t\t\t\t\tUserDefinedFileAttributeView.class);\n\t\t\t\tview.write(&quot;user.customchecksum&quot;, Charset.defaultCharset().encode(&quot;XDRSECTVVTEST&quot;));","body":"Yes, we added one attribute by using this code: Path file = Paths.get(filePath); \t\t\t\tUserDefinedFileAttributeView view = Files.getFileAttributeView(file, \t\t\t\t\t\tUserDefinedFileAttributeView.class); \t\t\t\tview.write(&quot;user.customchecksum&quot;, Charset.defaultCharset().encode(&quot;XDRSECTVVTEST&quot;));"},{"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"score":0,"creation_date":1677144650,"post_id":75542527,"comment_id":133281024,"body_markdown":"I updated my question  as well the way we are adding attributes to a file.","body":"I updated my question  as well the way we are adding attributes to a file."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677145580,"post_id":75542527,"comment_id":133281273,"body_markdown":"If I understand correctly you use something like [`ChannelSftp.get()`](https://javadoc.io/static/com.jcraft/jsch/0.1.55/com/jcraft/jsch/ChannelSftp.html#get(java.lang.String)) to get the file content? It seems to me that simply using [the `lstat` method](https://javadoc.io/static/com.jcraft/jsch/0.1.55/com/jcraft/jsch/ChannelSftp.html#lstat(java.lang.String)) of that same class should give you access to what you need.","body":"If I understand correctly you use something like <a href=\"https://javadoc.io/static/com.jcraft/jsch/0.1.55/com/jcraft/jsch/ChannelSftp.html#get(java.lang.String)\" rel=\"nofollow noreferrer\"><code>ChannelSftp.get()</code></a> to get the file content? It seems to me that simply using <a href=\"https://javadoc.io/static/com.jcraft/jsch/0.1.55/com/jcraft/jsch/ChannelSftp.html#lstat(java.lang.String)\" rel=\"nofollow noreferrer\">the <code>lstat</code> method</a> of that same class should give you access to what you need."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":1,"creation_date":1677145887,"post_id":75542527,"comment_id":133281368,"body_markdown":"See [Read file extended attributes of files on SFTP server with JSch](https://stackoverflow.com/q/58301307/850848).","body":"See <a href=\"https://stackoverflow.com/q/58301307/850848\">Read file extended attributes of files on SFTP server with JSch</a>."},{"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"score":0,"creation_date":1677146395,"post_id":75542527,"comment_id":133281527,"body_markdown":"@MartinPrikryl so is this not possible ?","body":"@MartinPrikryl so is this not possible ?"},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1677151412,"post_id":75542527,"comment_id":133282951,"body_markdown":"I believe my answer to the linked question answers this comprehensively. TL;DR: In most cases, it&#39;s imo not possible using SFTP. It still might be possible &quot;using JSch&quot;, if you resort to using shell commands (and know what shell commands to use, but that&#39;s not a programing question anymore, imo).","body":"I believe my answer to the linked question answers this comprehensively. TL;DR: In most cases, it&#39;s imo not possible using SFTP. It still might be possible &quot;using JSch&quot;, if you resort to using shell commands (and know what shell commands to use, but that&#39;s not a programing question anymore, imo)."}],"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677145109,"creation_date":1677142688,"question_id":75542527,"body_markdown":"We have one SFTP server where we placed one file present in **./test/directory1/test.csv**.&lt;br&gt;\r\nWe added one custom attribute to this file before placing it to this directory , attribute name **&quot;user.customchecksum&quot;**, below is code which we used to add attribute\r\n\r\n    Path file = Paths.get(&quot;C:/Files/test.csv&quot;);\r\n\t\t\t\tUserDefinedFileAttributeView view = Files.getFileAttributeView(file,\r\n\t\t\t\t\t\tUserDefinedFileAttributeView.class);\r\n\t\t\t\tview.write(&quot;user.customchecksum&quot;, Charset.defaultCharset().encode(&quot;XDRSECTVVTEST&quot;));\r\n\r\nNow before downloading this file we want to check that this attribute value and after that only we download this file.\r\n\r\n**Note**::&lt;br&gt;\r\nFor connection we are using JSCH and able to get File Inputstream without downloading the file.&lt;br&gt;\r\nBelow method we are using to read file attribute value after file is downloaded.&lt;br&gt;\r\nBut now we want to read this attribute before downloading file.\r\n\r\n    \tprivate void getCustomAttributes(String filePath) {\r\n\t\ttry {\r\n\t\t\tPath file = Paths.get(filePath);\r\n\t\t\tUserDefinedFileAttributeView view = Files.getFileAttributeView(file, UserDefinedFileAttributeView.class);\r\n\t\t\tString name = &quot;user.customchecksum&quot;;\r\n\t\t\tByteBuffer buf = ByteBuffer.allocate(view.size(name));\r\n\r\n\t\t\tview.read(name, buf);\r\n\t\t\tbuf.flip();\r\n\t\t\tString value = Charset.defaultCharset().decode(buf).toString();\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\nWe are able to read file InputStream before downloading file, can this be used to read added attributes? if yes what is the way to do this?","title":"Read file attributes of any file available at server without downloading it","body":"<p>We have one SFTP server where we placed one file present in <strong>./test/directory1/test.csv</strong>.<br>\nWe added one custom attribute to this file before placing it to this directory , attribute name <strong>&quot;user.customchecksum&quot;</strong>, below is code which we used to add attribute</p>\n<pre><code>Path file = Paths.get(&quot;C:/Files/test.csv&quot;);\n            UserDefinedFileAttributeView view = Files.getFileAttributeView(file,\n                    UserDefinedFileAttributeView.class);\n            view.write(&quot;user.customchecksum&quot;, Charset.defaultCharset().encode(&quot;XDRSECTVVTEST&quot;));\n</code></pre>\n<p>Now before downloading this file we want to check that this attribute value and after that only we download this file.</p>\n<p><strong>Note</strong>::<br>\nFor connection we are using JSCH and able to get File Inputstream without downloading the file.<br>\nBelow method we are using to read file attribute value after file is downloaded.<br>\nBut now we want to read this attribute before downloading file.</p>\n<pre><code>    private void getCustomAttributes(String filePath) {\n    try {\n        Path file = Paths.get(filePath);\n        UserDefinedFileAttributeView view = Files.getFileAttributeView(file, UserDefinedFileAttributeView.class);\n        String name = &quot;user.customchecksum&quot;;\n        ByteBuffer buf = ByteBuffer.allocate(view.size(name));\n\n        view.read(name, buf);\n        buf.flip();\n        String value = Charset.defaultCharset().decode(buf).toString();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>We are able to read file InputStream before downloading file, can this be used to read added attributes? if yes what is the way to do this?</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":9500342,"reputation":526,"user_id":7245173,"accept_rate":50,"display_name":"Emil Terman"},"score":0,"creation_date":1677145269,"post_id":75542911,"comment_id":133281187,"body_markdown":"Would it make sense to have a custom getter `Log.getIdsInDescription` where you parse the description in java yourself? Therefore, you would pull the log, then call your getter. Or do you need to extract the ids from all the logs?","body":"Would it make sense to have a custom getter <code>Log.getIdsInDescription</code> where you parse the description in java yourself? Therefore, you would pull the log, then call your getter. Or do you need to extract the ids from all the logs?"},{"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"score":0,"creation_date":1677148453,"post_id":75542911,"comment_id":133282140,"body_markdown":"I was hoping to create a solution where database handles it and returns only necessary values. But if nothing works then ofc retrieving whole content of column and parsing/filtering it in java would work.","body":"I was hoping to create a solution where database handles it and returns only necessary values. But if nothing works then ofc retrieving whole content of column and parsing/filtering it in java would work."},{"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"score":0,"creation_date":1677153926,"post_id":75542911,"comment_id":133283645,"body_markdown":"I&#39;m not sure. But can u check if this helps https://stackoverflow.com/a/44738213/2353403","body":"I&#39;m not sure. But can u check if this helps <a href=\"https://stackoverflow.com/a/44738213/2353403\">stackoverflow.com/a/44738213/2353403</a>"},{"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"score":0,"creation_date":1677231197,"post_id":75542911,"comment_id":133300910,"body_markdown":"I&#39;m getting to conclusion that string manipulation in scope of database query is dependent on database hence only native queries can solve it.","body":"I&#39;m getting to conclusion that string manipulation in scope of database query is dependent on database hence only native queries can solve it."}],"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677144784,"creation_date":1677144784,"question_id":75542911,"body_markdown":"Let&#39;s say I have a database table:\r\n```\r\nID     | DESCRIPTION\r\n1      | Some value &#39;123&#39; added\r\n2      | Deleted value &#39;333&#39; by &#39;Someone&#39;\r\n```\r\nJpa entity:\r\n```java\r\n@Entity\r\n@Table(name = &quot;LOG&quot;)\r\npublic class Log {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;DESCRIPTION&quot;)\r\n    private String description;\r\n    ...\r\n}\r\n```\r\nAnd working jpa query to retrieve first found numeric value inside single quotas:\r\n```java\r\n    @Query(value = &quot;select distinct REGEXP_SUBSTR( log.DESCRIPTION, &#39;&#39;&#39;(\\\\d+)&#39;&#39;&#39;,1,1,&#39;&#39;,1) from Log log where 1=1 &quot;, nativeQuery = true)\r\n    List&lt;String&gt; findObjectIdsInDescription();\r\n```\r\nI&#39;m working on Oracle database hence REGEXP_SUBSTR + native query, which is working fine for me right now. \r\n\r\nIs there a database independent approach using jpa query only? I&#39;m asking as I also need it for different databases.","title":"Get distinct list of numbers from string column with JPA query","body":"<p>Let's say I have a database table:</p>\n<pre><code>ID     | DESCRIPTION\n1      | Some value '123' added\n2      | Deleted value '333' by 'Someone'\n</code></pre>\n<p>Jpa entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;LOG&quot;)\npublic class Log {\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;DESCRIPTION&quot;)\n    private String description;\n    ...\n}\n</code></pre>\n<p>And working jpa query to retrieve first found numeric value inside single quotas:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(value = &quot;select distinct REGEXP_SUBSTR( log.DESCRIPTION, '''(\\\\d+)''',1,1,'',1) from Log log where 1=1 &quot;, nativeQuery = true)\n    List&lt;String&gt; findObjectIdsInDescription();\n</code></pre>\n<p>I'm working on Oracle database hence REGEXP_SUBSTR + native query, which is working fine for me right now.</p>\n<p>Is there a database independent approach using jpa query only? I'm asking as I also need it for different databases.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","hikaricp"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677070530,"post_id":75532248,"comment_id":133264135,"body_markdown":"Without seeing your code and how you are using things this will be impossible to answer.","body":"Without seeing your code and how you are using things this will be impossible to answer."},{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1677123571,"post_id":75532248,"comment_id":133277190,"body_markdown":"I have added the configurations. Can it be of some help please?","body":"I have added the configurations. Can it be of some help please?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677136342,"post_id":75532248,"comment_id":133279012,"body_markdown":"The answer lies in your edit. Ofcourse it will throw the exception as nothing is there to query nor will it switch (your configuration is broken in that regard). If you have b oth the read and master available and read goes down. The connections remain. You haven&#39;t enabled connection validation while idle. which will check the connections and close them if broken and re-open new ones. If you don&#39;t it will keep broken connections open. ALso your `readDataSource` is broken as it will return something else if there is an error, instead you should stop starting imho.","body":"The answer lies in your edit. Ofcourse it will throw the exception as nothing is there to query nor will it switch (your configuration is broken in that regard). If you have b oth the read and master available and read goes down. The connections remain. You haven&#39;t enabled connection validation while idle. which will check the connections and close them if broken and re-open new ones. If you don&#39;t it will keep broken connections open. ALso your <code>readDataSource</code> is broken as it will return something else if there is an error, instead you should stop starting imho."},{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1677142307,"post_id":75532248,"comment_id":133280353,"body_markdown":"Thank you!!\nWhat changes should I do and how do I validate the connection while idle?","body":"Thank you!! What changes should I do and how do I validate the connection while idle?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677142900,"post_id":75532248,"comment_id":133280517,"body_markdown":"Make sure that your min/max are different and that you have set a decent number for the `validationTimeout` property.","body":"Make sure that your min/max are different and that you have set a decent number for the <code>validationTimeout</code> property."},{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1677143356,"post_id":75532248,"comment_id":133280636,"body_markdown":"i just changed minimum-idle, maximum-pool-size, max-lifetime of report db and added validation-timeout property on both but still it gives me same error","body":"i just changed minimum-idle, maximum-pool-size, max-lifetime of report db and added validation-timeout property on both but still it gives me same error"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677143535,"post_id":75532248,"comment_id":133280681,"body_markdown":"Then you are doing something that closes the datasource which you aren&#39;t showing here. It was already difficult from your snippets. Another thing is that your other datasources should be beans as well. Make the methods `public` and add `@Bean` to them so they get properly initialized. I would also suggest to use the Spring Boot documented way to configure multiple datasources. Another thing is you need to reset your threadlocal when the request is done, which is something you don&#39;t appear to do.","body":"Then you are doing something that closes the datasource which you aren&#39;t showing here. It was already difficult from your snippets. Another thing is that your other datasources should be beans as well. Make the methods <code>public</code> and add <code>@Bean</code> to them so they get properly initialized. I would also suggest to use the Spring Boot documented way to configure multiple datasources. Another thing is you need to reset your threadlocal when the request is done, which is something you don&#39;t appear to do."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1677143640,"post_id":75532248,"comment_id":133280718,"body_markdown":"Upon further inspection the problem is your configuration, you are creating a datsource within a `try/resources` which will close the datasource. So as mentioned your confiugration is the culprit.","body":"Upon further inspection the problem is your configuration, you are creating a datsource within a <code>try&#47;resources</code> which will close the datasource. So as mentioned your confiugration is the culprit."}],"answers":[{"comments":[{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1677144636,"post_id":75542853,"comment_id":133281017,"body_markdown":"Thank you very much. The main culprit was the try-with-resources.","body":"Thank you very much. The main culprit was the try-with-resources."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677144678,"creation_date":1677144475,"answer_id":75542853,"question_id":75532248,"body_markdown":"The problem is, as hinted already in the comments, your configuration. Whilst being overly extensive it is also wrong. What is wrong you are using a try-with-resources which will automatically close the resource after the block finishes. So in the end you are always ending up with a closed datasource. Regardless of the fact if it is or isn&#39;t connected. \r\n\r\nI would strongly recommend following the [Spring Boot preferred way][1] of configuring your datasources. \r\n\r\n```java\r\n@Configuration\r\npublic DatasourceConfiguration {\r\n\r\n  @Bean\r\n  @Primary\r\n  public DataSource dataSource() {\r\n    DataSourceRouting routingDataSource = new DataSourceRouting();\r\n    routingDataSource.initDatasource(masterDataSource(), readDataSource());\r\n    return routingDataSource;\r\n  }\r\n\r\n  @Bean\r\n  @Primary\r\n  @ConfigurationProperties(&quot;master.datasource&quot;)\r\n  public DataSourceProperties masterDataSourceProperties() {\r\n    return new DataSourceProperties();\r\n  }\r\n\r\n  @Bean\r\n  @ConfigurationProperties(&quot;report.datasource&quot;)\r\n  public DataSourceProperties reportDataSourceProperties() {\r\n    return new DataSourceProperties();\r\n  }\r\n  \r\n  @Bean\r\n  @ConfigurationProperties(&quot;master.datasource.hikari&quot;)\r\n  public HikariDataSource masterDataSource(DataSourceProperties masterDataSourceProperties) {\r\n    return masterDataSourceProperties.initializeDataSourceBuilder()\r\n      .type(HikariDataSource.class).build();  \r\n  }\r\n\r\n  @Bean\r\n  @ConfigurationProperties(&quot;report.datasource.hikari&quot;)\r\n  public HikariDataSource masterDataSource(DataSourceProperties reportDataSourceProperties) {\r\n    return reportDataSourceProperties.initializeDataSourceBuilder()\r\n      .type(HikariDataSource.class).build();  \r\n  }\r\n}\r\n```\r\n\r\nThe `url`, `username` and `password` property should be set on the datasource directly to prevent start failures. \r\n\r\n```\r\n#Master Database\r\nmaster.datasource.url=jdbc:postgresql://localhost:5432/master_db\r\nmaster.datasource.username=*****\r\nmaster.datasource.password=*****\r\nmaster.datasource.hikari.minimum-idle=10\r\nmaster.datasource.hikari.maximum-pool-size=30\r\nmaster.datasource.hikari.connection-timeout=30000\r\nmaster.datasource.hikari.leakDetection=15000\r\nmaster.datasource.hikari.idle-timeout=25000\r\nmaster.datasource.hikari.max-lifetime=600000\r\nmaster.datasource.hikari.auto-commit=true\r\n\r\n#Slave Database Read\r\nreport.datasource.url=jdbc:postgresql://localhost:5432/slave_db\r\nreport.datasource.username=*****\r\nreport.datasource.password=*****\r\nreport.datasource.hikari.minimum-idle=10\r\nreport.datasource.hikari.maximum-pool-size=30\r\nreport.datasource.hikari.connection-timeout=30000\r\nreport.datasource.hikari.leakDetection=15000\r\nreport.datasource.hikari.idle-timeout=20000\r\nreport.datasource.hikari.max-lifetime=600000\r\nreport.datasource.hikari.auto-commit=true\r\nreport.datasource.hikari.initializationFailTimeout=-1\r\n```\r\n\r\nTo handle breaking connections make sure the min/max are different and that you set a reasonable `validationTimeout` for the validation. For the report database you could add the `initializationFailTimeout` and set a negative value. This will not lead to acquiring connections at startup but later on. This will allow you to even start with a broken reporting database, for which the connections, due to validation, later will be available. \r\n\r\nAnother thing that is wrong in your setup is that yo never reset the routing key, as it is stored in a `ThreadLocal` it will get reused eventually, as request handling threads are in a pool. You need to clear in the `afterCompletion` method of the `HandlerInterceptor`. \r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources","title":"HikariDataSource closes automatically when I query from it","body":"<p>The problem is, as hinted already in the comments, your configuration. Whilst being overly extensive it is also wrong. What is wrong you are using a try-with-resources which will automatically close the resource after the block finishes. So in the end you are always ending up with a closed datasource. Regardless of the fact if it is or isn't connected.</p>\n<p>I would strongly recommend following the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\" rel=\"nofollow noreferrer\">Spring Boot preferred way</a> of configuring your datasources.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic DatasourceConfiguration {\n\n  @Bean\n  @Primary\n  public DataSource dataSource() {\n    DataSourceRouting routingDataSource = new DataSourceRouting();\n    routingDataSource.initDatasource(masterDataSource(), readDataSource());\n    return routingDataSource;\n  }\n\n  @Bean\n  @Primary\n  @ConfigurationProperties(&quot;master.datasource&quot;)\n  public DataSourceProperties masterDataSourceProperties() {\n    return new DataSourceProperties();\n  }\n\n  @Bean\n  @ConfigurationProperties(&quot;report.datasource&quot;)\n  public DataSourceProperties reportDataSourceProperties() {\n    return new DataSourceProperties();\n  }\n  \n  @Bean\n  @ConfigurationProperties(&quot;master.datasource.hikari&quot;)\n  public HikariDataSource masterDataSource(DataSourceProperties masterDataSourceProperties) {\n    return masterDataSourceProperties.initializeDataSourceBuilder()\n      .type(HikariDataSource.class).build();  \n  }\n\n  @Bean\n  @ConfigurationProperties(&quot;report.datasource.hikari&quot;)\n  public HikariDataSource masterDataSource(DataSourceProperties reportDataSourceProperties) {\n    return reportDataSourceProperties.initializeDataSourceBuilder()\n      .type(HikariDataSource.class).build();  \n  }\n}\n</code></pre>\n<p>The <code>url</code>, <code>username</code> and <code>password</code> property should be set on the datasource directly to prevent start failures.</p>\n<pre><code>#Master Database\nmaster.datasource.url=jdbc:postgresql://localhost:5432/master_db\nmaster.datasource.username=*****\nmaster.datasource.password=*****\nmaster.datasource.hikari.minimum-idle=10\nmaster.datasource.hikari.maximum-pool-size=30\nmaster.datasource.hikari.connection-timeout=30000\nmaster.datasource.hikari.leakDetection=15000\nmaster.datasource.hikari.idle-timeout=25000\nmaster.datasource.hikari.max-lifetime=600000\nmaster.datasource.hikari.auto-commit=true\n\n#Slave Database Read\nreport.datasource.url=jdbc:postgresql://localhost:5432/slave_db\nreport.datasource.username=*****\nreport.datasource.password=*****\nreport.datasource.hikari.minimum-idle=10\nreport.datasource.hikari.maximum-pool-size=30\nreport.datasource.hikari.connection-timeout=30000\nreport.datasource.hikari.leakDetection=15000\nreport.datasource.hikari.idle-timeout=20000\nreport.datasource.hikari.max-lifetime=600000\nreport.datasource.hikari.auto-commit=true\nreport.datasource.hikari.initializationFailTimeout=-1\n</code></pre>\n<p>To handle breaking connections make sure the min/max are different and that you set a reasonable <code>validationTimeout</code> for the validation. For the report database you could add the <code>initializationFailTimeout</code> and set a negative value. This will not lead to acquiring connections at startup but later on. This will allow you to even start with a broken reporting database, for which the connections, due to validation, later will be available.</p>\n<p>Another thing that is wrong in your setup is that yo never reset the routing key, as it is stored in a <code>ThreadLocal</code> it will get reused eventually, as request handling threads are in a pool. You need to clear in the <code>afterCompletion</code> method of the <code>HandlerInterceptor</code>.</p>\n"}],"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75542853,"answer_count":1,"score":0,"last_activity_date":1677144678,"creation_date":1677066168,"question_id":75532248,"body_markdown":"I have configured two database in my spring boot application as master and slave db. Whenever the application queries anything from the slave db, hikari pool is automatically closed and its throws error as\r\n```\r\no.h.engine.jdbc.spi.SqlExceptionHelper  (137)\t |&gt; SQL Error: 0, SQLState: null\r\n[ http-nio-2100-exec-6 ] |ERROR|    o.h.engine.jdbc.spi.SqlExceptionHelper  (142)\t |&gt; HikariDataSource HikariDataSource (REPORT_POOL) has been closed.\r\n [ http-nio-2100-exec-6 ] |ERROR|    c.n.c.exception.GlobalExceptionHandler  (485)\t |&gt; Critical Error: \r\norg.springframework.orm.jpa.JpaSystemException: Unable to acquire JDBC Connection; nested exception is org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection\r\n```\r\n\r\nmy configurations for db is as follows:\r\n```\r\n#Master Database\r\nmaster.datasource.hikari.url=jdbc:postgresql://localhost:5432/master_db\r\nmaster.datasource.hikari.username=*****\r\nmaster.datasource.hikari.password=*****\r\nmaster.datasource.hikari.minimum-idle=10\r\nmaster.datasource.hikari.maximum-pool-size=30\r\nmaster.datasource.hikari.connection-timeout=30000\r\nmaster.datasource.hikari.leakDetection=15000\r\nmaster.datasource.hikari.idle-timeout=25000\r\nmaster.datasource.hikari.max-lifetime=600000\r\nmaster.datasource.hikari.auto-commit=true\r\n\r\n#Slave Database Read\r\nreport.datasource.hikari.url=jdbc:postgresql://localhost:5432/slave_db\r\nreport.datasource.hikari.username=*****\r\nreport.datasource.hikari.password=*****\r\nreport.datasource.hikari.minimum-idle=10\r\nreport.datasource.hikari.maximum-pool-size=30\r\nreport.datasource.hikari.connection-timeout=30000\r\nreport.datasource.hikari.leakDetection=15000\r\nreport.datasource.hikari.idle-timeout=20000\r\nreport.datasource.hikari.max-lifetime=600000\r\nreport.datasource.hikari.auto-commit=true\r\n```\r\n\r\nI have configured two data sources as\r\n```\r\n@Bean\r\n@Primary\r\n@Autowired\r\npublic DataSource dataSource() {\r\n\tDataSourceRouting routingDataSource = new DataSourceRouting();\r\n\troutingDataSource.initDatasource(masterDataSource(), readDataSource());\r\n\t\treturn routingDataSource;\r\n\t}\r\n\r\n\tprivate DataSource masterDataSource() {\r\n\t\tHikariConfig master = new HikariConfig();\r\n\t\tmaster.setPoolName(&quot;MASTER_POOL&quot;);\r\n\t\tmaster.setJdbcUrl(env.getProperty(String.format(&quot;%s.url&quot;, MASTER)));\r\n\t\tmaster.setUsername((env.getProperty(String.format(&quot;%s.username&quot;, MASTER))));\r\n\t\tmaster.setPassword((env.getProperty(String.format(&quot;%s.password&quot;, MASTER))));\r\n\t\tmaster.setMinimumIdle(Integer.valueOf(env.getProperty(String.format(&quot;%s.minimum-idle&quot;, MASTER))));\r\n\t\tmaster.setMaximumPoolSize(Integer.valueOf(env.getProperty(String.format(&quot;%s.maximum-pool-size&quot;, MASTER))));\r\n\t\tmaster.setConnectionTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.connection-timeout&quot;, MASTER))));\r\n\t\tmaster.setIdleTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.idle-timeout&quot;, MASTER))));\r\n\t\tmaster.setMaxLifetime(Long.valueOf(env.getProperty(String.format(&quot;%s.max-lifetime&quot;, MASTER))));\r\n\t\tmaster.setLeakDetectionThreshold(Long.valueOf(env.getProperty(String.format(&quot;%s.leakDetection&quot;, MASTER))));\r\n\t\tmaster.setAutoCommit(Boolean.valueOf(env.getProperty(String.format(&quot;%s.auto-commit&quot;, MASTER))));\r\n\t\tmasterDataSource = new HikariDataSource(master);\r\n\t\treturn masterDataSource;\r\n\t}\r\n    \r\n    private DataSource readDataSource() {\r\n\t\tHikariConfig report = new HikariConfig();\r\n\t\treport.setPoolName(&quot;REPORT_POOL&quot;);\r\n\t\treport.setJdbcUrl(env.getProperty(String.format(&quot;%s.url&quot;, REPORT)));\r\n\t\treport.setUsername((env.getProperty(String.format(&quot;%s.username&quot;, REPORT))));\r\n\t\treport.setPassword((env.getProperty(String.format(&quot;%s.password&quot;, REPORT))));\r\n\t\treport.setMinimumIdle(Integer.valueOf(env.getProperty(String.format(&quot;%s.minimum-idle&quot;, REPORT))));\r\n\t\treport.setMaximumPoolSize(Integer.valueOf(env.getProperty(String.format(&quot;%s.maximum-pool-size&quot;, REPORT))));\r\n\t\treport.setConnectionTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.connection-timeout&quot;, REPORT))));\r\n\t\treport.setIdleTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.idle-timeout&quot;, REPORT))));\r\n\t\treport.setMaxLifetime(Long.valueOf(env.getProperty(String.format(&quot;%s.max-lifetime&quot;, REPORT))));\r\n\t\treport.setLeakDetectionThreshold(Long.valueOf(env.getProperty(String.format(&quot;%s.leakDetection&quot;, REPORT))));\r\n\t\treport.setAutoCommit(Boolean.valueOf(env.getProperty(String.format(&quot;%s.auto-commit&quot;, REPORT))));\r\n\t\treport.setReadOnly(Boolean.valueOf(env.getProperty(String.format(&quot;%s.read-only&quot;, REPORT))));\r\n\r\n\t\ttry (HikariDataSource readDataSource = new HikariDataSource(report)) {\r\n\t\t\treadDataSource.getConnection();\r\n\t\t\treturn readDataSource;\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.warn(&quot;\\n\\n******REPORT DB NOT FOUND, CONNECTED TO MASTER DB *******\\n\\n&quot;);\r\n\t\t\treturn masterDataSource;\r\n\t\t}\r\n\t}      \r\n\r\n\r\n```\r\nI have a DataSourceInterceptor for directing request to report db\r\n```\r\n@Slf4j\r\n@Component\r\npublic class DataSourceInterceptor extends HandlerInterceptorAdapter {\r\n\r\n\tprotected static final String[] PREFIX_REPORT_DS = new String[] { &quot;/admin/report/**&quot;, &quot;/report/**&quot; };\r\n\r\n\t@Override\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows Exception {\r\n\r\n\t\tString uri = request.getRequestURI();\r\n\r\n\t\tif (StringUtil.isStartWith(uri, StringUtil.trimStricks(PREFIX_REPORT_DS))) {\r\n\t\t\tlog.info(&quot;Redirect to Report Database for URL: {}&quot;, uri);\r\n\t\t\tDataSourceRouting.setReportRoute();\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n}\r\n\r\n\r\n\r\n```\r\nAnd a DataSourceRouting for setting route to slave db\r\n```\r\n@Slf4j\r\npublic class DataSourceRouting extends AbstractRoutingDataSource {\r\n\r\n\tprivate static final ThreadLocal&lt;Route&gt; routeContext = new ThreadLocal&lt;&gt;();\r\n\r\n\tpublic enum Route {\r\n\t\tMASTER, REPORT\r\n\t}\r\n\r\n\r\n\tpublic static void setReportRoute() {\r\n\t\trouteContext.set(Route.REPORT);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Object determineCurrentLookupKey() {\r\n\t\treturn routeContext.get();\r\n\t}\r\n\r\n\tpublic void initDatasource(DataSource masterDs, DataSource reportDs) {\r\n\t\tlog.info(&quot;Datasource routing...&quot;);\r\n\t\tMap&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\r\n\t\tdataSourceMap.put(Route.MASTER, masterDs);\r\n\t\tdataSourceMap.put(Route.REPORT, reportDs);\r\n\t\tthis.setTargetDataSources(dataSourceMap);\r\n\t\tthis.setDefaultTargetDataSource(masterDs);\r\n\r\n\t}\r\n}\r\n```\r\nWhen the slave db is down or cannot be connnected during the application start-up, it gets connected to master db, then there is no issue in the application but when the slave db is connected, and the application tries to query from it, the above exception is thrown\r\n","title":"HikariDataSource closes automatically when I query from it","body":"<p>I have configured two database in my spring boot application as master and slave db. Whenever the application queries anything from the slave db, hikari pool is automatically closed and its throws error as</p>\n<pre><code>o.h.engine.jdbc.spi.SqlExceptionHelper  (137)    |&gt; SQL Error: 0, SQLState: null\n[ http-nio-2100-exec-6 ] |ERROR|    o.h.engine.jdbc.spi.SqlExceptionHelper  (142)    |&gt; HikariDataSource HikariDataSource (REPORT_POOL) has been closed.\n [ http-nio-2100-exec-6 ] |ERROR|    c.n.c.exception.GlobalExceptionHandler  (485)   |&gt; Critical Error: \norg.springframework.orm.jpa.JpaSystemException: Unable to acquire JDBC Connection; nested exception is org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection\n</code></pre>\n<p>my configurations for db is as follows:</p>\n<pre><code>#Master Database\nmaster.datasource.hikari.url=jdbc:postgresql://localhost:5432/master_db\nmaster.datasource.hikari.username=*****\nmaster.datasource.hikari.password=*****\nmaster.datasource.hikari.minimum-idle=10\nmaster.datasource.hikari.maximum-pool-size=30\nmaster.datasource.hikari.connection-timeout=30000\nmaster.datasource.hikari.leakDetection=15000\nmaster.datasource.hikari.idle-timeout=25000\nmaster.datasource.hikari.max-lifetime=600000\nmaster.datasource.hikari.auto-commit=true\n\n#Slave Database Read\nreport.datasource.hikari.url=jdbc:postgresql://localhost:5432/slave_db\nreport.datasource.hikari.username=*****\nreport.datasource.hikari.password=*****\nreport.datasource.hikari.minimum-idle=10\nreport.datasource.hikari.maximum-pool-size=30\nreport.datasource.hikari.connection-timeout=30000\nreport.datasource.hikari.leakDetection=15000\nreport.datasource.hikari.idle-timeout=20000\nreport.datasource.hikari.max-lifetime=600000\nreport.datasource.hikari.auto-commit=true\n</code></pre>\n<p>I have configured two data sources as</p>\n<pre><code>@Bean\n@Primary\n@Autowired\npublic DataSource dataSource() {\n    DataSourceRouting routingDataSource = new DataSourceRouting();\n    routingDataSource.initDatasource(masterDataSource(), readDataSource());\n        return routingDataSource;\n    }\n\n    private DataSource masterDataSource() {\n        HikariConfig master = new HikariConfig();\n        master.setPoolName(&quot;MASTER_POOL&quot;);\n        master.setJdbcUrl(env.getProperty(String.format(&quot;%s.url&quot;, MASTER)));\n        master.setUsername((env.getProperty(String.format(&quot;%s.username&quot;, MASTER))));\n        master.setPassword((env.getProperty(String.format(&quot;%s.password&quot;, MASTER))));\n        master.setMinimumIdle(Integer.valueOf(env.getProperty(String.format(&quot;%s.minimum-idle&quot;, MASTER))));\n        master.setMaximumPoolSize(Integer.valueOf(env.getProperty(String.format(&quot;%s.maximum-pool-size&quot;, MASTER))));\n        master.setConnectionTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.connection-timeout&quot;, MASTER))));\n        master.setIdleTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.idle-timeout&quot;, MASTER))));\n        master.setMaxLifetime(Long.valueOf(env.getProperty(String.format(&quot;%s.max-lifetime&quot;, MASTER))));\n        master.setLeakDetectionThreshold(Long.valueOf(env.getProperty(String.format(&quot;%s.leakDetection&quot;, MASTER))));\n        master.setAutoCommit(Boolean.valueOf(env.getProperty(String.format(&quot;%s.auto-commit&quot;, MASTER))));\n        masterDataSource = new HikariDataSource(master);\n        return masterDataSource;\n    }\n    \n    private DataSource readDataSource() {\n        HikariConfig report = new HikariConfig();\n        report.setPoolName(&quot;REPORT_POOL&quot;);\n        report.setJdbcUrl(env.getProperty(String.format(&quot;%s.url&quot;, REPORT)));\n        report.setUsername((env.getProperty(String.format(&quot;%s.username&quot;, REPORT))));\n        report.setPassword((env.getProperty(String.format(&quot;%s.password&quot;, REPORT))));\n        report.setMinimumIdle(Integer.valueOf(env.getProperty(String.format(&quot;%s.minimum-idle&quot;, REPORT))));\n        report.setMaximumPoolSize(Integer.valueOf(env.getProperty(String.format(&quot;%s.maximum-pool-size&quot;, REPORT))));\n        report.setConnectionTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.connection-timeout&quot;, REPORT))));\n        report.setIdleTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.idle-timeout&quot;, REPORT))));\n        report.setMaxLifetime(Long.valueOf(env.getProperty(String.format(&quot;%s.max-lifetime&quot;, REPORT))));\n        report.setLeakDetectionThreshold(Long.valueOf(env.getProperty(String.format(&quot;%s.leakDetection&quot;, REPORT))));\n        report.setAutoCommit(Boolean.valueOf(env.getProperty(String.format(&quot;%s.auto-commit&quot;, REPORT))));\n        report.setReadOnly(Boolean.valueOf(env.getProperty(String.format(&quot;%s.read-only&quot;, REPORT))));\n\n        try (HikariDataSource readDataSource = new HikariDataSource(report)) {\n            readDataSource.getConnection();\n            return readDataSource;\n        } catch (Exception e) {\n            log.warn(&quot;\\n\\n******REPORT DB NOT FOUND, CONNECTED TO MASTER DB *******\\n\\n&quot;);\n            return masterDataSource;\n        }\n    }      \n\n\n</code></pre>\n<p>I have a DataSourceInterceptor for directing request to report db</p>\n<pre><code>@Slf4j\n@Component\npublic class DataSourceInterceptor extends HandlerInterceptorAdapter {\n\n    protected static final String[] PREFIX_REPORT_DS = new String[] { &quot;/admin/report/**&quot;, &quot;/report/**&quot; };\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception {\n\n        String uri = request.getRequestURI();\n\n        if (StringUtil.isStartWith(uri, StringUtil.trimStricks(PREFIX_REPORT_DS))) {\n            log.info(&quot;Redirect to Report Database for URL: {}&quot;, uri);\n            DataSourceRouting.setReportRoute();\n        }\n\n        return true;\n\n    }\n}\n\n\n\n</code></pre>\n<p>And a DataSourceRouting for setting route to slave db</p>\n<pre><code>@Slf4j\npublic class DataSourceRouting extends AbstractRoutingDataSource {\n\n    private static final ThreadLocal&lt;Route&gt; routeContext = new ThreadLocal&lt;&gt;();\n\n    public enum Route {\n        MASTER, REPORT\n    }\n\n\n    public static void setReportRoute() {\n        routeContext.set(Route.REPORT);\n    }\n\n    @Override\n    protected Object determineCurrentLookupKey() {\n        return routeContext.get();\n    }\n\n    public void initDatasource(DataSource masterDs, DataSource reportDs) {\n        log.info(&quot;Datasource routing...&quot;);\n        Map&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\n        dataSourceMap.put(Route.MASTER, masterDs);\n        dataSourceMap.put(Route.REPORT, reportDs);\n        this.setTargetDataSources(dataSourceMap);\n        this.setDefaultTargetDataSource(masterDs);\n\n    }\n}\n</code></pre>\n<p>When the slave db is down or cannot be connnected during the application start-up, it gets connected to master db, then there is no issue in the application but when the slave db is connected, and the application tries to query from it, the above exception is thrown</p>\n"},{"tags":["java","maven","selenium-webdriver","azure-devops","automated-tests"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676653600,"post_id":75486277,"comment_id":133187199,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27812874,"reputation":11,"user_id":21234920,"display_name":"prabhat singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677144157,"creation_date":1676647992,"question_id":75486277,"body_markdown":"Test tab not shown beside the summary tab in Azure devops after completion of agent1 job.\r\nI am executing an automation script written java and testng. Using Maven as project.\r\nAfter running the agent job Test tab is not available beside summary tab.\r\n[![enter image description here][1]][1]\r\n\r\nPlease help me to solve this issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ESDbK.png","title":"Test tab not shown beside the summary tab in Azure devops after completion of agent1 job","body":"<p>Test tab not shown beside the summary tab in Azure devops after completion of agent1 job.\nI am executing an automation script written java and testng. Using Maven as project.\nAfter running the agent job Test tab is not available beside summary tab.\n<a href=\"https://i.stack.imgur.com/ESDbK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ESDbK.png\" alt=\"enter image description here\" /></a></p>\n<p>Please help me to solve this issue.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":22356844,"reputation":27,"user_id":16586982,"display_name":"Ilyasse Hanafi"},"score":0,"creation_date":1651053805,"post_id":71205282,"comment_id":127269037,"body_markdown":"Visit this link : &lt;https://stackoverflow.com/questions/53957417/parse-geojson-file-with-java-topology-suite-or-geotools&gt;","body":"Visit this link : &lt;<a href=\"https://stackoverflow.com/questions/53957417/parse-geojson-file-with-java-topology-suite-or-geotools\" title=\"parse geojson file with java topology suite or geotools\">stackoverflow.com/questions/53957417/&hellip;</a>&gt;"}],"answers":[{"tags":[],"owner":{"account_id":22356844,"reputation":27,"user_id":16586982,"display_name":"Ilyasse Hanafi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651055573,"creation_date":1651055573,"answer_id":72027254,"question_id":71205282,"body_markdown":"You can work with the geotools library it handles geometry type you need to add the needed dependencies in your pom.xml\r\nHere are the dependencies : \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.n52.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jts&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gt-geojsondatastore&lt;/artifactId&gt;\r\n            &lt;version&gt;26.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand try this piece of code you can get the geometries from your geojson file :\r\n\r\n           File inFile = new File(&quot;yourpath/file.geojson&quot;);\r\n            var geojsonStore = new GeoJSONDataStore(inFile);\r\n            SimpleFeatureSource source = geojsonStore.getFeatureSource();\r\n            SimpleFeatureCollection features = source.getFeatures();\r\n            var iterator = features.features();\r\n            while (iterator.hasNext()) {\r\n                // copy the contents of each feature and transform the geometry\r\n                SimpleFeature feature = iterator.next();\r\n                System.out.println(feature.getAttributes());\r\n\r\n            }  ","title":"How to configure Spring Boot entity for GeoJSON?","body":"<p>You can work with the geotools library it handles geometry type you need to add the needed dependencies in your pom.xml\nHere are the dependencies :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.n52.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jts&lt;/artifactId&gt;\n        &lt;version&gt;1.2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n        &lt;artifactId&gt;gt-geojsondatastore&lt;/artifactId&gt;\n        &lt;version&gt;26.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and try this piece of code you can get the geometries from your geojson file :</p>\n<pre><code>       File inFile = new File(&quot;yourpath/file.geojson&quot;);\n        var geojsonStore = new GeoJSONDataStore(inFile);\n        SimpleFeatureSource source = geojsonStore.getFeatureSource();\n        SimpleFeatureCollection features = source.getFeatures();\n        var iterator = features.features();\n        while (iterator.hasNext()) {\n            // copy the contents of each feature and transform the geometry\n            SimpleFeature feature = iterator.next();\n            System.out.println(feature.getAttributes());\n\n        }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5870080,"reputation":425,"user_id":4622647,"accept_rate":75,"display_name":"AmitB10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677143824,"creation_date":1677143824,"answer_id":75542741,"question_id":71205282,"body_markdown":"Actually spring data mongodb provides this representation in class: GeoJsonPolygon.\r\nReference: https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/geo/GeoJsonPolygon.html\r\n\r\nOther classes are also available.","title":"How to configure Spring Boot entity for GeoJSON?","body":"<p>Actually spring data mongodb provides this representation in class: GeoJsonPolygon.\nReference: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/geo/GeoJsonPolygon.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/geo/GeoJsonPolygon.html</a></p>\n<p>Other classes are also available.</p>\n"}],"owner":{"account_id":8455866,"reputation":197,"user_id":6343186,"display_name":"TranceAddict"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2108,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1677143824,"creation_date":1645441786,"question_id":71205282,"body_markdown":"I want to save a GeoJSON to database by using Spring Boot and JPA\r\n\r\nExample JSON object:\r\n\r\n        {\r\n      &quot;type&quot;: &quot;FeatureCollection&quot;,\r\n      &quot;features&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;Feature&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;type&quot;: &quot;polyline&quot;\r\n          },\r\n          &quot;geometry&quot;: {\r\n            &quot;type&quot;: &quot;LineString&quot;,\r\n            &quot;coordinates&quot;: [\r\n              [\r\n                21.011127,\r\n                52.230914\r\n              ],\r\n              [\r\n                21.013166,\r\n                52.229978\r\n              ],\r\n              [\r\n                21.011331,\r\n                52.22911\r\n              ],\r\n              [\r\n                21.00845,\r\n                52.228953\r\n              ],\r\n              [\r\n                21.009062,\r\n                52.230011\r\n              ],\r\n              [\r\n                21.009513,\r\n                52.230287\r\n              ]\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          &quot;type&quot;: &quot;Feature&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;type&quot;: &quot;polyline&quot;\r\n          },\r\n          &quot;geometry&quot;: {\r\n            &quot;type&quot;: &quot;LineString&quot;,\r\n            &quot;coordinates&quot;: [\r\n              [\r\n                21.022489,\r\n                52.226406\r\n              ],\r\n              [\r\n                21.023004,\r\n                52.228995\r\n              ],\r\n              [\r\n                21.018069,\r\n                52.230007\r\n              ],\r\n              [\r\n                21.018755,\r\n                52.225618\r\n              ],\r\n              [\r\n                21.016202,\r\n                52.22454\r\n              ],\r\n              [\r\n                21.013906,\r\n                52.226735\r\n              ]\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          &quot;type&quot;: &quot;Feature&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;type&quot;: &quot;polyline&quot;\r\n          },\r\n          &quot;geometry&quot;: {\r\n            &quot;type&quot;: &quot;LineString&quot;,\r\n            &quot;coordinates&quot;: [\r\n              [\r\n                21.013627,\r\n                52.232005\r\n              ],\r\n              [\r\n                21.018165,\r\n                52.231933\r\n              ],\r\n              [\r\n                21.019228,\r\n                52.232537\r\n              ],\r\n              [\r\n                21.019989,\r\n                52.232925\r\n              ],\r\n              [\r\n                21.019109,\r\n                52.233201\r\n              ]\r\n            ]\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nI tried to configure the entity by using @ElementCollection and @Embedded.\r\n \r\nGeoJson entity:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @RequiredArgsConstructor\r\n    @Entity\r\n    public class GeoJson {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String type;\r\n        @ElementCollection(targetClass = Feature.class)\r\n        private List&lt;Feature&gt; features;\r\n    }\r\n\r\nFeature:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @RequiredArgsConstructor\r\n    @Embeddable\r\n    public class Feature {\r\n        private String type;\r\n        @Embedded\r\n        private Properties properties;\r\n        @Embedded\r\n        private Geometry geometry;\r\n    }\r\n\r\nProperties:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @RequiredArgsConstructor\r\n    @Embeddable\r\n    public class Properties {\r\n        private String type;\r\n    }\r\n\r\nGeometry:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @RequiredArgsConstructor\r\n    @Embeddable\r\n    public class Geometry {\r\n        private String type;\r\n        @ElementCollection(targetClass = Coordinate.class)\r\n        private List&lt;Coordinate&gt; coordinates;\r\n    }\r\n\r\nCoordinate:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @RequiredArgsConstructor\r\n    @Embeddable\r\n    public class Coordinate {\r\n        private BigDecimal lat;\r\n        private BigDecimal lng;\r\n    }\r\n\r\nThis configuration gives error: \r\n\r\n&gt; Invocation of init method failed; nested exception is\r\n&gt; javax.persistence.PersistenceException: [PersistenceUnit: default]\r\n&gt; Unable to build Hibernate SessionFactory; nested exception is\r\n&gt; org.hibernate.MappingException: Could not determine type for:\r\n&gt; java.util.List, at table: geo_json_features, for columns:\r\n&gt; [org.hibernate.mapping.Column(coordinates)] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n&gt; ~[spring-beans-5.3.15.jar:5.3.15]\r\n\r\nI tried other mapping methods like @ManytoOne or @ManytoMany, but none of them works. How can I configure GeoJson entity to persist? Maybe i should add @CollectionTable annotation in both ElementCollection but i don&#39;t know how to do it correctly \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to configure Spring Boot entity for GeoJSON?","body":"<p>I want to save a GeoJSON to database by using Spring Boot and JPA</p>\n<p>Example JSON object:</p>\n<pre><code>    {\n  &quot;type&quot;: &quot;FeatureCollection&quot;,\n  &quot;features&quot;: [\n    {\n      &quot;type&quot;: &quot;Feature&quot;,\n      &quot;properties&quot;: {\n        &quot;type&quot;: &quot;polyline&quot;\n      },\n      &quot;geometry&quot;: {\n        &quot;type&quot;: &quot;LineString&quot;,\n        &quot;coordinates&quot;: [\n          [\n            21.011127,\n            52.230914\n          ],\n          [\n            21.013166,\n            52.229978\n          ],\n          [\n            21.011331,\n            52.22911\n          ],\n          [\n            21.00845,\n            52.228953\n          ],\n          [\n            21.009062,\n            52.230011\n          ],\n          [\n            21.009513,\n            52.230287\n          ]\n        ]\n      }\n    },\n    {\n      &quot;type&quot;: &quot;Feature&quot;,\n      &quot;properties&quot;: {\n        &quot;type&quot;: &quot;polyline&quot;\n      },\n      &quot;geometry&quot;: {\n        &quot;type&quot;: &quot;LineString&quot;,\n        &quot;coordinates&quot;: [\n          [\n            21.022489,\n            52.226406\n          ],\n          [\n            21.023004,\n            52.228995\n          ],\n          [\n            21.018069,\n            52.230007\n          ],\n          [\n            21.018755,\n            52.225618\n          ],\n          [\n            21.016202,\n            52.22454\n          ],\n          [\n            21.013906,\n            52.226735\n          ]\n        ]\n      }\n    },\n    {\n      &quot;type&quot;: &quot;Feature&quot;,\n      &quot;properties&quot;: {\n        &quot;type&quot;: &quot;polyline&quot;\n      },\n      &quot;geometry&quot;: {\n        &quot;type&quot;: &quot;LineString&quot;,\n        &quot;coordinates&quot;: [\n          [\n            21.013627,\n            52.232005\n          ],\n          [\n            21.018165,\n            52.231933\n          ],\n          [\n            21.019228,\n            52.232537\n          ],\n          [\n            21.019989,\n            52.232925\n          ],\n          [\n            21.019109,\n            52.233201\n          ]\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>I tried to configure the entity by using @ElementCollection and @Embedded.</p>\n<p>GeoJson entity:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@Entity\npublic class GeoJson {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String type;\n    @ElementCollection(targetClass = Feature.class)\n    private List&lt;Feature&gt; features;\n}\n</code></pre>\n<p>Feature:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@Embeddable\npublic class Feature {\n    private String type;\n    @Embedded\n    private Properties properties;\n    @Embedded\n    private Geometry geometry;\n}\n</code></pre>\n<p>Properties:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@Embeddable\npublic class Properties {\n    private String type;\n}\n</code></pre>\n<p>Geometry:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@Embeddable\npublic class Geometry {\n    private String type;\n    @ElementCollection(targetClass = Coordinate.class)\n    private List&lt;Coordinate&gt; coordinates;\n}\n</code></pre>\n<p>Coordinate:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@Embeddable\npublic class Coordinate {\n    private BigDecimal lat;\n    private BigDecimal lng;\n}\n</code></pre>\n<p>This configuration gives error:</p>\n<blockquote>\n<p>Invocation of init method failed; nested exception is\njavax.persistence.PersistenceException: [PersistenceUnit: default]\nUnable to build Hibernate SessionFactory; nested exception is\norg.hibernate.MappingException: Could not determine type for:\njava.util.List, at table: geo_json_features, for columns:\n[org.hibernate.mapping.Column(coordinates)]   at\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n~[spring-beans-5.3.15.jar:5.3.15]</p>\n</blockquote>\n<p>I tried other mapping methods like @ManytoOne or @ManytoMany, but none of them works. How can I configure GeoJson entity to persist? Maybe i should add @CollectionTable annotation in both ElementCollection but i don't know how to do it correctly</p>\n"},{"tags":["java","maven","azure-devops","maven-wrapper"],"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677143675,"creation_date":1677143675,"question_id":75542715,"body_markdown":"I&#39;m configuring a pipeline on Microsoft DevOps platform to build Maven project.\r\n\r\nMy project includes Maven Wrapper, since I&#39;m using this to define a project-specific `settings.xml`, that&#39;s useful for local development.\r\n\r\nWhen the build is executed by the pipeline, instead, I&#39;d like this &quot;local&quot; configuration to be ignored.\r\n\r\nIs there a way to achieve this?\r\n\r\nI&#39;d like to commit the wrapper with the local configuration into the project, so that can be used by all the team.\r\n\r\n","title":"Ignoring Maven Wrapper on Azure DevOps pipeline build","body":"<p>I'm configuring a pipeline on Microsoft DevOps platform to build Maven project.</p>\n<p>My project includes Maven Wrapper, since I'm using this to define a project-specific <code>settings.xml</code>, that's useful for local development.</p>\n<p>When the build is executed by the pipeline, instead, I'd like this &quot;local&quot; configuration to be ignored.</p>\n<p>Is there a way to achieve this?</p>\n<p>I'd like to commit the wrapper with the local configuration into the project, so that can be used by all the team.</p>\n"},{"tags":["java","spring-boot","jpa","quartz-scheduler","sybase"],"answers":[{"tags":[],"owner":{"account_id":3527102,"reputation":325,"user_id":2947880,"accept_rate":64,"display_name":"D.Razvan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677143593,"creation_date":1677143593,"answer_id":75542699,"question_id":75458895,"body_markdown":"Posting here for anyone facing similar issues to no avail. It seems that the hibernate dialect defaults to an unquoted strategy in this case which for jconnect this renders the database name to use an uppercase strategy.\r\n\r\nYou have two options, either provide your own dialect which extends the base one, and handle the quoted/unquoted strategy yourself(you simply have to override the buildIdentifierHelper method and use the included builder to set desired strategy) or enable a quoted strategy using:\r\n\r\n```spring.jpa.properties.hibernate.globally_quoted_identifiers= true```\r\n\r\nI also added: \r\n\r\n```spring.jpa.properties.hibernate.globally_quoted_identifiers_skip_column_definitions = true```\r\n\r\nto avoid some problems with other dialects (from other sources on stackoverflow).\r\n","title":"Spring quartz com.sybase.jdbc4.jdbc.SybDriver initialization script fail","body":"<p>Posting here for anyone facing similar issues to no avail. It seems that the hibernate dialect defaults to an unquoted strategy in this case which for jconnect this renders the database name to use an uppercase strategy.</p>\n<p>You have two options, either provide your own dialect which extends the base one, and handle the quoted/unquoted strategy yourself(you simply have to override the buildIdentifierHelper method and use the included builder to set desired strategy) or enable a quoted strategy using:</p>\n<p><code>spring.jpa.properties.hibernate.globally_quoted_identifiers= true</code></p>\n<p>I also added:</p>\n<p><code>spring.jpa.properties.hibernate.globally_quoted_identifiers_skip_column_definitions = true</code></p>\n<p>to avoid some problems with other dialects (from other sources on stackoverflow).</p>\n"}],"owner":{"account_id":3527102,"reputation":325,"user_id":2947880,"accept_rate":64,"display_name":"D.Razvan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75542699,"answer_count":1,"score":0,"last_activity_date":1677143593,"creation_date":1676459359,"question_id":75458895,"body_markdown":"I have a spring boot (vers 2.6.12) project with quartz and sybase jconnect driver dependencies(excluding all other deps):\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;sybase&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jconnect&lt;/artifactId&gt;\r\n    &lt;version&gt;16.04.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have my scheduler config:\r\n\r\n```\r\n@Configuration\r\n@AllArgsConstructor\r\npublic class SchedulerConfig {\r\n\r\n    private final AutowireCapableBeanFactory beanFactory;\r\n    private final DataSource dataSource;\r\n    private final ApplicationContext context;\r\n    private final QuartzProperties quartzProperties;\r\n\r\n    @Bean\r\n    public SchedulerFactoryBean schedulerFactoryBean() {\r\n\r\n        var jobs = new SchedulerJobFactory(beanFactory);\r\n        jobs.setApplicationContext(context);\r\n\r\n        var properties = new Properties();\r\n        properties.putAll(quartzProperties.getProperties());\r\n\r\n        var factory = new SchedulerFactoryBean();\r\n        factory.setOverwriteExistingJobs(true);\r\n        factory.setDataSource(dataSource);\r\n        factory.setQuartzProperties(properties);\r\n        factory.setJobFactory(jobs);\r\n\r\n        return factory;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nand my quartz initialization script (which is a modified version of the included sybase [script](https://github.com/elventear/quartz-scheduler/blob/master/distribution/src/main/assembly/root/docs/dbTables/tables_sybase.sql):\r\n\r\n```\r\n/*==============================================================================*/\r\n/* Clear all tables: */\r\n/*==============================================================================*/\r\n\r\nIF (OBJECT_ID(&#39;QRTZ_FIRED_TRIGGERS&#39;)) IS NOT NULL\r\nbegin\r\n\texecute\t(&#39;delete from QRTZ_FIRED_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_PAUSED_TRIGGER_GRPS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;delete from QRTZ_PAUSED_TRIGGER_GRPS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SCHEDULER_STATE&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;delete from QRTZ_SCHEDULER_STATE&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_LOCKS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;delete from QRTZ_LOCKS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPLE_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;delete from QRTZ_SIMPLE_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPROP_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;delete from QRTZ_SIMPROP_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_CRON_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;delete from QRTZ_CRON_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_BLOB_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;delete from QRTZ_BLOB_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;delete from QRTZ_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_JOB_DETAILS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;delete from QRTZ_JOB_DETAILS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_CALENDARS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;delete from QRTZ_CALENDARS&#39;)\r\nend\r\n\r\n/*==============================================================================*/\r\n/* Drop constraints: */\r\n/*==============================================================================*/\r\n\r\nIF OBJECT_ID(&#39;QRTZ_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_TRIGGERS drop\r\n\tconstraint FK_triggers_job_details&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_CRON_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_CRON_TRIGGERS drop\r\n\tconstraint FK_cron_triggers_triggers&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPLE_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_SIMPLE_TRIGGERS\r\n\tdrop constraint FK_simple_triggers_triggers&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPROP_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_SIMPROP_TRIGGERS\r\n\tdrop constraint FK_simprop_triggers_triggers&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_BLOB_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_BLOB_TRIGGERS\r\n\tdrop constraint FK_blob_triggers_triggers&#39;)\r\nend\r\n\r\n/*==============================================================================*/\r\n/* Drop tables: */\r\n/*==============================================================================*/\r\n\r\nIF OBJECT_ID(&#39;QRTZ_FIRED_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;drop table QRTZ_FIRED_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_PAUSED_TRIGGER_GRPS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;drop table QRTZ_PAUSED_TRIGGER_GRPS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SCHEDULER_STATE&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;drop table QRTZ_SCHEDULER_STATE&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_LOCKS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;drop table QRTZ_LOCKS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPLE_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;drop table QRTZ_SIMPLE_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPROP_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;drop table QRTZ_SIMPROP_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_CRON_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;drop table QRTZ_CRON_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_BLOB_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;drop table QRTZ_BLOB_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;drop table QRTZ_TRIGGERS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_JOB_DETAILS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;drop table QRTZ_JOB_DETAILS&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_CALENDARS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;drop table QRTZ_CALENDARS&#39;)\r\nend\r\n\r\n/*==============================================================================*/\r\n/* Create tables: */\r\n/*==============================================================================*/\r\n\r\nIF OBJECT_ID(&#39;QRTZ_CALENDARS&#39;) IS NULL\r\nbegin\r\n\texecute(&#39;create table QRTZ_CALENDARS (\r\n\tSCHED_NAME varchar(120) not null,\r\n\tCALENDAR_NAME varchar(200) not null,\r\n\tCALENDAR image not null\r\n\t)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_CRON_TRIGGERS&#39;) IS NULL\r\nbegin\r\n\texecute(&#39;create table QRTZ_CRON_TRIGGERS (\r\n\tSCHED_NAME varchar(120) not null,\r\n\tTRIGGER_NAME varchar(200) not null,\r\n\tTRIGGER_GROUP varchar(200) not null,\r\n\tCRON_EXPRESSION varchar(120) not null,\r\n\tTIME_ZONE_ID varchar(80) null,\r\n\t)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_PAUSED_TRIGGER_GRPS&#39;) IS NULL\r\nbegin\r\n\texecute(&#39;create table QRTZ_PAUSED_TRIGGER_GRPS (\r\n\tSCHED_NAME varchar(120) not null,\r\n\tTRIGGER_GROUP  varchar(200) not null,\r\n\t)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_FIRED_TRIGGERS&#39;) IS NULL\r\nbegin\r\n\texecute(&#39;create table QRTZ_FIRED_TRIGGERS(\r\n\tSCHED_NAME varchar(120) not null,\r\n\tENTRY_ID varchar(95) not null,\r\n\tTRIGGER_NAME varchar(200) not null,\r\n\tTRIGGER_GROUP varchar(200) not null,\r\n\tINSTANCE_NAME varchar(200) not null,\r\n\tFIRED_TIME numeric(13,0) not null,\r\n\tSCHED_TIME numeric(13,0) not null,\r\n\tPRIORITY int not null,\r\n\tSTATE varchar(16) not null,\r\n\tJOB_NAME varchar(200) null,\r\n\tJOB_GROUP varchar(200) null,\r\n\tIS_NONCONCURRENT bit not null,\r\n\tREQUESTS_RECOVERY bit not null,\r\n\t)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SCHEDULER_STATE&#39;) IS NULL\r\nbegin\r\n\texecute(&#39;create table QRTZ_SCHEDULER_STATE (\r\n\tSCHED_NAME varchar(120) not null,\r\n\tINSTANCE_NAME varchar(200) not null,\r\n\tLAST_CHECKIN_TIME numeric(13,0) not null,\r\n\tCHECKIN_INTERVAL numeric(13,0) not null,\r\n\t)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_LOCKS&#39;) IS NULL\r\nbegin\r\n\texecute(&#39;create table QRTZ_LOCKS (\r\n\tSCHED_NAME varchar(120) not null,\r\n\tLOCK_NAME  varchar(40) not null,\r\n\t)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_JOB_DETAILS&#39;) IS NULL\r\nbegin\r\n\texecute(&#39;create table QRTZ_JOB_DETAILS (\r\n\tSCHED_NAME varchar(120) not null,\r\n\tJOB_NAME varchar(200) not null,\r\n\tJOB_GROUP varchar(200) not null,\r\n\tDESCRIPTION varchar(250) null,\r\n\tJOB_CLASS_NAME varchar(250) not null,\r\n\tIS_DURABLE bit not null,\r\n\tIS_NONCONCURRENT bit not null,\r\n\tIS_UPDATE_DATA bit not null,\r\n\tREQUESTS_RECOVERY bit not null,\r\n\tJOB_DATA image null\r\n\t)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPLE_TRIGGERS&#39;) IS NULL\r\nbegin\r\n\texecute(&#39;create table QRTZ_SIMPLE_TRIGGERS (\r\n\tSCHED_NAME varchar(120) not null,\r\n\tTRIGGER_NAME varchar(200) not null,\r\n\tTRIGGER_GROUP varchar(200) not null,\r\n\tREPEAT_COUNT numeric(13,0) not null,\r\n\tREPEAT_INTERVAL numeric(13,0) not null,\r\n\tTIMES_TRIGGERED numeric(13,0) not null\r\n\t)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPROP_TRIGGERS&#39;) IS NULL\r\nbegin\r\n\texecute(&#39;CREATE TABLE QRTZ_SIMPROP_TRIGGERS (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    STR_PROP_1 VARCHAR(512) NULL,\r\n    STR_PROP_2 VARCHAR(512) NULL,\r\n    STR_PROP_3 VARCHAR(512) NULL,\r\n    INT_PROP_1 INT NULL,\r\n    INT_PROP_2 INT NULL,\r\n    LONG_PROP_1 NUMERIC(13,0) NULL,\r\n    LONG_PROP_2 NUMERIC(13,0) NULL,\r\n    DEC_PROP_1 NUMERIC(13,4) NULL,\r\n    DEC_PROP_2 NUMERIC(13,4) NULL,\r\n    BOOL_PROP_1 bit NOT NULL,\r\n    BOOL_PROP_2 bit NOT NULL\r\n\t)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_BLOB_TRIGGERS&#39;) IS NULL\r\nbegin\r\n\texecute(&#39;create table QRTZ_BLOB_TRIGGERS (\r\n\tSCHED_NAME varchar(120) not null,\r\n\tTRIGGER_NAME varchar(200) not null,\r\n\tTRIGGER_GROUP varchar(200) not null,\r\n\tBLOB_DATA image null\r\n\t)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_TRIGGERS&#39;) IS NULL\r\nbegin\r\n\texecute(&#39;create table QRTZ_TRIGGERS (\r\n\tSCHED_NAME varchar(120) not null,\r\n\tTRIGGER_NAME varchar(200) not null,\r\n\tTRIGGER_GROUP varchar(200) not null,\r\n\tJOB_NAME varchar(200) not null,\r\n\tJOB_GROUP varchar(200) not null,\r\n\tDESCRIPTION varchar(250) null,\r\n\tNEXT_FIRE_TIME numeric(13,0) null,\r\n\tPREV_FIRE_TIME numeric(13,0) null,\r\n\tPRIORITY int null,\r\n\tTRIGGER_STATE varchar(16) not null,\r\n\tTRIGGER_TYPE varchar(8) not null,\r\n\tSTART_TIME numeric(13,0) not null,\r\n\tEND_TIME numeric(13,0) null,\r\n\tCALENDAR_NAME varchar(200) null,\r\n\tMISFIRE_INSTR smallint null,\r\n\tJOB_DATA image null\r\n\t)&#39;)\r\nend\r\n\r\n/*==============================================================================*/\r\n/* Create primary key constraints: */\r\n/*==============================================================================*/\r\n\r\nIF OBJECT_ID(&#39;QRTZ_CALENDARS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_CALENDARS\r\n\tadd constraint PK_qrtz_calendars primary key clustered (SCHED_NAME,CALENDAR_NAME)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_CRON_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_CRON_TRIGGERS\r\n\tadd constraint PK_qrtz_cron_triggers primary key clustered (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_FIRED_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_FIRED_TRIGGERS\r\n\tadd constraint PK_qrtz_fired_triggers primary key clustered (SCHED_NAME,ENTRY_ID)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_PAUSED_TRIGGER_GRPS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_PAUSED_TRIGGER_GRPS\r\n\tadd constraint PK_qrtz_paused_trigger_grps primary key clustered (SCHED_NAME,TRIGGER_GROUP)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SCHEDULER_STATE&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_SCHEDULER_STATE\r\n\tadd constraint PK_qrtz_scheduler_state primary key clustered (SCHED_NAME,INSTANCE_NAME)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_LOCKS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_LOCKS\r\n\tadd constraint PK_qrtz_locks primary key clustered (SCHED_NAME,LOCK_NAME)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_JOB_DETAILS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_JOB_DETAILS\r\n\tadd constraint PK_qrtz_job_details primary key clustered (SCHED_NAME,JOB_NAME, JOB_GROUP)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPLE_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_SIMPLE_TRIGGERS\r\n\tadd constraint PK_qrtz_simple_triggers primary key clustered (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPROP_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_SIMPROP_TRIGGERS\r\n\tadd constraint PK_qrtz_simprop_triggers primary key clustered (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_TRIGGERS\r\n\tadd constraint PK_qrtz_triggers primary key clustered (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_BLOB_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_BLOB_TRIGGERS\r\n\tadd constraint PK_qrtz_blob_triggers primary key clustered (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP)&#39;)\r\nend\r\n\r\n/*==============================================================================*/\r\n/* Create foreign key constraints: */\r\n/*==============================================================================*/\r\n\r\nIF OBJECT_ID(&#39;QRTZ_CRON_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_CRON_TRIGGERS\r\n\tadd constraint FK_cron_triggers_triggers foreign key (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n\treferences QRTZ_TRIGGERS (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPLE_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_SIMPLE_TRIGGERS\r\n\tadd constraint FK_simple_triggers_triggers foreign key (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n\treferences QRTZ_TRIGGERS (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_SIMPROP_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_SIMPROP_TRIGGERS\r\n\tadd constraint FK_simprop_triggers_triggers foreign key (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n\treferences QRTZ_TRIGGERS (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_TRIGGERS\r\n\tadd constraint FK_triggers_job_details foreign key (SCHED_NAME,JOB_NAME,JOB_GROUP)\r\n\treferences QRTZ_JOB_DETAILS (SCHED_NAME,JOB_NAME,JOB_GROUP)&#39;)\r\nend\r\n\r\nIF OBJECT_ID(&#39;QRTZ_BLOB_TRIGGERS&#39;) IS NOT NULL\r\nbegin\r\n\texecute (&#39;alter table QRTZ_BLOB_TRIGGERS\r\n\tadd constraint FK_blob_triggers_triggers foreign key (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n\treferences QRTZ_TRIGGERS (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)&#39;)\r\nend\r\n/*==============================================================================*/\r\n/* End of script. */\r\n/*==============================================================================*/\r\n```\r\n\r\nI am running this script through DBeaver without issues against a sybase instance with details:\r\n\r\n```\r\nServer: Adaptive Server Enterprise 16.0.04.02\r\nDriver: jConnect (TM) for JDBC (TM) jConnect (TM) for JDBC(TM)/16.0 SP03 PL02 (Build 27403)/P/EBF27518/JDK 1.6.0/jdbcmain/OPT/Mon Aug 28 18:41:14 PDT 2017\r\n```\r\n\r\nMy (relevant) spring application settings:\r\n\r\n```\r\nspring.datasource.url=jdbc:sybase:Tds:localhost:6000/Kustom\r\nspring.datasource.driverClassName=com.sybase.jdbc4.jdbc.SybDriver\r\nspring.datasource.username=user\r\nspring.datasource.password=pass\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.SybaseASE15Dialect\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SybaseASE15Dialect\r\nspring.jpa.properties.hibernate.use_sql_comments=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nspring.quartz.job-store-type=jdbc\r\nspring.quartz.jdbc.initialize-schema=always\r\nspring.quartz.jdbc.schema=classpath:jdbc/my_script.sql\r\n\r\nspring.quartz.properties.org.quartz.jobStore.tablePrefix=QRTZ_\r\nspring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.SybaseDelegate\r\n\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\nspring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n\r\nlogging.level.org.hibernate.type=TRACE\r\n```\r\nMy application keeps failing with the following stack trace:\r\n\r\n```\r\n2023-02-15 10:48:53.630  INFO 1 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.SybaseASE15Dialect\r\n2023-02-15 10:48:53.766 DEBUG 1 --- [           main] o.h.type.spi.TypeConfiguration$Scope     : Scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration@385ef531] to MetadataBuildingContext [org.hibernate.boot.internal.MetadataBuildingContextRootImpl@7fc645e4]\r\n2023-02-15 10:48:54.136 DEBUG 1 --- [           main] o.h.type.spi.TypeConfiguration$Scope     : Scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration@385ef531] to SessionFactoryImpl [org.hibernate.internal.SessionFactoryImpl@48284d0e]\r\n2023-02-15 10:48:54.303  WARN 1 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 911, SQLState: ZZZZZ\r\n2023-02-15 10:48:54.303 ERROR 1 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Attempt to locate entry in sysdatabases for database &#39;KUSTOM&#39; by name failed - no entry found under that name. Make sure that name is entered properly.\r\n\r\n2023-02-15 10:48:54.307 TRACE 1 --- [           main] o.h.type.spi.TypeConfiguration$Scope     : Handling #sessionFactoryClosed from [org.hibernate.internal.SessionFactoryImpl@48284d0e] for TypeConfiguration\r\n2023-02-15 10:48:54.308 DEBUG 1 --- [           main] o.h.type.spi.TypeConfiguration$Scope     : Un-scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration$Scope@11e33bac] from SessionFactory [org.hibernate.internal.SessionFactoryImpl@48284d0e]\r\n2023-02-15 10:48:54.313 ERROR 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Error accessing table metadata\r\n2023-02-15 10:48:54.314  WARN 1 --- [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Error accessing table metadata\r\n2023-02-15 10:48:54.315  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-02-15 10:48:54.946  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-02-15 10:48:54.958  INFO 1 --- [           main] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@3dd69f5a{/,null,STOPPED}\r\n2023-02-15 10:48:54.999  INFO 1 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-02-15 10:48:55.098 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Error accessing table metadata\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.6.12.jar!/:2.6.12]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.12.jar!/:2.6.12]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.12.jar!/:2.6.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.12.jar!/:2.6.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.12.jar!/:2.6.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.12.jar!/:2.6.12]\r\n\tat com.finastra.fusionlimits.enquiries.scheduler.app.Application.main(Application.java:14) ~[classes!/:1.0.0-SNAPSHOT]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:1.0.0-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[app.jar:1.0.0-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:1.0.0-SNAPSHOT]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[app.jar:1.0.0-SNAPSHOT]\r\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Error accessing table metadata\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\t... 24 common frames omitted\r\nCaused by: org.hibernate.exception.GenericJDBCException: Error accessing table metadata\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.convertSQLException(AbstractInformationExtractorImpl.java:118) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:571) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:68) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar!/:5.3.23]\r\n\t... 28 common frames omitted\r\nCaused by: com.sybase.jdbc4.jdbc.SybSQLException: Attempt to locate entry in sysdatabases for database &#39;KUSTOM&#39; by name failed - no entry found under that name. Make sure that name is entered properly.\r\n\r\n\tat com.sybase.jdbc4.tds.Tds.processEed(Tds.java:4237) ~[jconnect-16.04.1.jar!/:na]\r\n\tat com.sybase.jdbc4.tds.Tds.nextResult(Tds.java:3346) ~[jconnect-16.04.1.jar!/:na]\r\n\tat com.sybase.jdbc4.jdbc.ResultGetter.nextResult(ResultGetter.java:78) ~[jconnect-16.04.1.jar!/:na]\r\n\tat com.sybase.jdbc4.jdbc.SybStatement.nextResult(SybStatement.java:303) ~[jconnect-16.04.1.jar!/:na]\r\n\tat com.sybase.jdbc4.jdbc.SybStatement.nextResult(SybStatement.java:285) ~[jconnect-16.04.1.jar!/:na]\r\n\tat com.sybase.jdbc4.jdbc.SybStatement.queryLoop(SybStatement.java:2681) ~[jconnect-16.04.1.jar!/:na]\r\n\tat com.sybase.jdbc4.jdbc.SybCallableStatement.executeQuery(SybCallableStatement.java:150) ~[jconnect-16.04.1.jar!/:na]\r\n\tat com.sybase.jdbc4.jdbc.SybDatabaseMetaData.returnResults(SybDatabaseMetaData.java:5552) ~[jconnect-16.04.1.jar!/:na]\r\n\tat com.sybase.jdbc4.jdbc.SybDatabaseMetaData.getTables(SybDatabaseMetaData.java:4022) ~[jconnect-16.04.1.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.ProxyDatabaseMetaData.getTables(ProxyDatabaseMetaData.java:68) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyDatabaseMetaData.getTables(HikariProxyDatabaseMetaData.java) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:64) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\tat org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:559) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\r\n\t... 40 common frames omitted\r\n```\r\n\r\nPS: Same issue using the included script with quartz (linked earlier).\r\n\r\nHowever if I am using the sourceforge driver with :\r\n\r\n```\r\nspring.datasource.url=jdbc:jtds:sybase://localhost:6000/Kustom\r\nspring.datasource.driverClassName=net.sourceforge.jtds.jdbc.Driver\r\n\r\n# Also need these just for the test connection which sourceforge driver is lacking\r\nspring.datasource.validationQuery=select 1\r\nspring.datasource.hikari.connectionTestQuery=select 1\r\n```\r\nthen all seems to work as expected.\r\n\r\nHow can I make it work using the more modern jconnect driver ?\r\n\r\nThanks","title":"Spring quartz com.sybase.jdbc4.jdbc.SybDriver initialization script fail","body":"<p>I have a spring boot (vers 2.6.12) project with quartz and sybase jconnect driver dependencies(excluding all other deps):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;sybase&lt;/groupId&gt;\n    &lt;artifactId&gt;jconnect&lt;/artifactId&gt;\n    &lt;version&gt;16.04.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have my scheduler config:</p>\n<pre><code>@Configuration\n@AllArgsConstructor\npublic class SchedulerConfig {\n\n    private final AutowireCapableBeanFactory beanFactory;\n    private final DataSource dataSource;\n    private final ApplicationContext context;\n    private final QuartzProperties quartzProperties;\n\n    @Bean\n    public SchedulerFactoryBean schedulerFactoryBean() {\n\n        var jobs = new SchedulerJobFactory(beanFactory);\n        jobs.setApplicationContext(context);\n\n        var properties = new Properties();\n        properties.putAll(quartzProperties.getProperties());\n\n        var factory = new SchedulerFactoryBean();\n        factory.setOverwriteExistingJobs(true);\n        factory.setDataSource(dataSource);\n        factory.setQuartzProperties(properties);\n        factory.setJobFactory(jobs);\n\n        return factory;\n\n    }\n\n}\n</code></pre>\n<p>and my quartz initialization script (which is a modified version of the included sybase <a href=\"https://github.com/elventear/quartz-scheduler/blob/master/distribution/src/main/assembly/root/docs/dbTables/tables_sybase.sql\" rel=\"nofollow noreferrer\">script</a>:</p>\n<pre><code>/*==============================================================================*/\n/* Clear all tables: */\n/*==============================================================================*/\n\nIF (OBJECT_ID('QRTZ_FIRED_TRIGGERS')) IS NOT NULL\nbegin\n    execute ('delete from QRTZ_FIRED_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_PAUSED_TRIGGER_GRPS') IS NOT NULL\nbegin\n    execute ('delete from QRTZ_PAUSED_TRIGGER_GRPS')\nend\n\nIF OBJECT_ID('QRTZ_SCHEDULER_STATE') IS NOT NULL\nbegin\n    execute ('delete from QRTZ_SCHEDULER_STATE')\nend\n\nIF OBJECT_ID('QRTZ_LOCKS') IS NOT NULL\nbegin\n    execute ('delete from QRTZ_LOCKS')\nend\n\nIF OBJECT_ID('QRTZ_SIMPLE_TRIGGERS') IS NOT NULL\nbegin\n    execute ('delete from QRTZ_SIMPLE_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_SIMPROP_TRIGGERS') IS NOT NULL\nbegin\n    execute ('delete from QRTZ_SIMPROP_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_CRON_TRIGGERS') IS NOT NULL\nbegin\n    execute ('delete from QRTZ_CRON_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_BLOB_TRIGGERS') IS NOT NULL\nbegin\n    execute ('delete from QRTZ_BLOB_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_TRIGGERS') IS NOT NULL\nbegin\n    execute ('delete from QRTZ_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_JOB_DETAILS') IS NOT NULL\nbegin\n    execute ('delete from QRTZ_JOB_DETAILS')\nend\n\nIF OBJECT_ID('QRTZ_CALENDARS') IS NOT NULL\nbegin\n    execute ('delete from QRTZ_CALENDARS')\nend\n\n/*==============================================================================*/\n/* Drop constraints: */\n/*==============================================================================*/\n\nIF OBJECT_ID('QRTZ_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_TRIGGERS drop\n    constraint FK_triggers_job_details')\nend\n\nIF OBJECT_ID('QRTZ_CRON_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_CRON_TRIGGERS drop\n    constraint FK_cron_triggers_triggers')\nend\n\nIF OBJECT_ID('QRTZ_SIMPLE_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_SIMPLE_TRIGGERS\n    drop constraint FK_simple_triggers_triggers')\nend\n\nIF OBJECT_ID('QRTZ_SIMPROP_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_SIMPROP_TRIGGERS\n    drop constraint FK_simprop_triggers_triggers')\nend\n\nIF OBJECT_ID('QRTZ_BLOB_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_BLOB_TRIGGERS\n    drop constraint FK_blob_triggers_triggers')\nend\n\n/*==============================================================================*/\n/* Drop tables: */\n/*==============================================================================*/\n\nIF OBJECT_ID('QRTZ_FIRED_TRIGGERS') IS NOT NULL\nbegin\n    execute ('drop table QRTZ_FIRED_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_PAUSED_TRIGGER_GRPS') IS NOT NULL\nbegin\n    execute ('drop table QRTZ_PAUSED_TRIGGER_GRPS')\nend\n\nIF OBJECT_ID('QRTZ_SCHEDULER_STATE') IS NOT NULL\nbegin\n    execute ('drop table QRTZ_SCHEDULER_STATE')\nend\n\nIF OBJECT_ID('QRTZ_LOCKS') IS NOT NULL\nbegin\n    execute ('drop table QRTZ_LOCKS')\nend\n\nIF OBJECT_ID('QRTZ_SIMPLE_TRIGGERS') IS NOT NULL\nbegin\n    execute ('drop table QRTZ_SIMPLE_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_SIMPROP_TRIGGERS') IS NOT NULL\nbegin\n    execute ('drop table QRTZ_SIMPROP_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_CRON_TRIGGERS') IS NOT NULL\nbegin\n    execute ('drop table QRTZ_CRON_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_BLOB_TRIGGERS') IS NOT NULL\nbegin\n    execute ('drop table QRTZ_BLOB_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_TRIGGERS') IS NOT NULL\nbegin\n    execute ('drop table QRTZ_TRIGGERS')\nend\n\nIF OBJECT_ID('QRTZ_JOB_DETAILS') IS NOT NULL\nbegin\n    execute ('drop table QRTZ_JOB_DETAILS')\nend\n\nIF OBJECT_ID('QRTZ_CALENDARS') IS NOT NULL\nbegin\n    execute ('drop table QRTZ_CALENDARS')\nend\n\n/*==============================================================================*/\n/* Create tables: */\n/*==============================================================================*/\n\nIF OBJECT_ID('QRTZ_CALENDARS') IS NULL\nbegin\n    execute('create table QRTZ_CALENDARS (\n    SCHED_NAME varchar(120) not null,\n    CALENDAR_NAME varchar(200) not null,\n    CALENDAR image not null\n    )')\nend\n\nIF OBJECT_ID('QRTZ_CRON_TRIGGERS') IS NULL\nbegin\n    execute('create table QRTZ_CRON_TRIGGERS (\n    SCHED_NAME varchar(120) not null,\n    TRIGGER_NAME varchar(200) not null,\n    TRIGGER_GROUP varchar(200) not null,\n    CRON_EXPRESSION varchar(120) not null,\n    TIME_ZONE_ID varchar(80) null,\n    )')\nend\n\nIF OBJECT_ID('QRTZ_PAUSED_TRIGGER_GRPS') IS NULL\nbegin\n    execute('create table QRTZ_PAUSED_TRIGGER_GRPS (\n    SCHED_NAME varchar(120) not null,\n    TRIGGER_GROUP  varchar(200) not null,\n    )')\nend\n\nIF OBJECT_ID('QRTZ_FIRED_TRIGGERS') IS NULL\nbegin\n    execute('create table QRTZ_FIRED_TRIGGERS(\n    SCHED_NAME varchar(120) not null,\n    ENTRY_ID varchar(95) not null,\n    TRIGGER_NAME varchar(200) not null,\n    TRIGGER_GROUP varchar(200) not null,\n    INSTANCE_NAME varchar(200) not null,\n    FIRED_TIME numeric(13,0) not null,\n    SCHED_TIME numeric(13,0) not null,\n    PRIORITY int not null,\n    STATE varchar(16) not null,\n    JOB_NAME varchar(200) null,\n    JOB_GROUP varchar(200) null,\n    IS_NONCONCURRENT bit not null,\n    REQUESTS_RECOVERY bit not null,\n    )')\nend\n\nIF OBJECT_ID('QRTZ_SCHEDULER_STATE') IS NULL\nbegin\n    execute('create table QRTZ_SCHEDULER_STATE (\n    SCHED_NAME varchar(120) not null,\n    INSTANCE_NAME varchar(200) not null,\n    LAST_CHECKIN_TIME numeric(13,0) not null,\n    CHECKIN_INTERVAL numeric(13,0) not null,\n    )')\nend\n\nIF OBJECT_ID('QRTZ_LOCKS') IS NULL\nbegin\n    execute('create table QRTZ_LOCKS (\n    SCHED_NAME varchar(120) not null,\n    LOCK_NAME  varchar(40) not null,\n    )')\nend\n\nIF OBJECT_ID('QRTZ_JOB_DETAILS') IS NULL\nbegin\n    execute('create table QRTZ_JOB_DETAILS (\n    SCHED_NAME varchar(120) not null,\n    JOB_NAME varchar(200) not null,\n    JOB_GROUP varchar(200) not null,\n    DESCRIPTION varchar(250) null,\n    JOB_CLASS_NAME varchar(250) not null,\n    IS_DURABLE bit not null,\n    IS_NONCONCURRENT bit not null,\n    IS_UPDATE_DATA bit not null,\n    REQUESTS_RECOVERY bit not null,\n    JOB_DATA image null\n    )')\nend\n\nIF OBJECT_ID('QRTZ_SIMPLE_TRIGGERS') IS NULL\nbegin\n    execute('create table QRTZ_SIMPLE_TRIGGERS (\n    SCHED_NAME varchar(120) not null,\n    TRIGGER_NAME varchar(200) not null,\n    TRIGGER_GROUP varchar(200) not null,\n    REPEAT_COUNT numeric(13,0) not null,\n    REPEAT_INTERVAL numeric(13,0) not null,\n    TIMES_TRIGGERED numeric(13,0) not null\n    )')\nend\n\nIF OBJECT_ID('QRTZ_SIMPROP_TRIGGERS') IS NULL\nbegin\n    execute('CREATE TABLE QRTZ_SIMPROP_TRIGGERS (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    STR_PROP_1 VARCHAR(512) NULL,\n    STR_PROP_2 VARCHAR(512) NULL,\n    STR_PROP_3 VARCHAR(512) NULL,\n    INT_PROP_1 INT NULL,\n    INT_PROP_2 INT NULL,\n    LONG_PROP_1 NUMERIC(13,0) NULL,\n    LONG_PROP_2 NUMERIC(13,0) NULL,\n    DEC_PROP_1 NUMERIC(13,4) NULL,\n    DEC_PROP_2 NUMERIC(13,4) NULL,\n    BOOL_PROP_1 bit NOT NULL,\n    BOOL_PROP_2 bit NOT NULL\n    )')\nend\n\nIF OBJECT_ID('QRTZ_BLOB_TRIGGERS') IS NULL\nbegin\n    execute('create table QRTZ_BLOB_TRIGGERS (\n    SCHED_NAME varchar(120) not null,\n    TRIGGER_NAME varchar(200) not null,\n    TRIGGER_GROUP varchar(200) not null,\n    BLOB_DATA image null\n    )')\nend\n\nIF OBJECT_ID('QRTZ_TRIGGERS') IS NULL\nbegin\n    execute('create table QRTZ_TRIGGERS (\n    SCHED_NAME varchar(120) not null,\n    TRIGGER_NAME varchar(200) not null,\n    TRIGGER_GROUP varchar(200) not null,\n    JOB_NAME varchar(200) not null,\n    JOB_GROUP varchar(200) not null,\n    DESCRIPTION varchar(250) null,\n    NEXT_FIRE_TIME numeric(13,0) null,\n    PREV_FIRE_TIME numeric(13,0) null,\n    PRIORITY int null,\n    TRIGGER_STATE varchar(16) not null,\n    TRIGGER_TYPE varchar(8) not null,\n    START_TIME numeric(13,0) not null,\n    END_TIME numeric(13,0) null,\n    CALENDAR_NAME varchar(200) null,\n    MISFIRE_INSTR smallint null,\n    JOB_DATA image null\n    )')\nend\n\n/*==============================================================================*/\n/* Create primary key constraints: */\n/*==============================================================================*/\n\nIF OBJECT_ID('QRTZ_CALENDARS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_CALENDARS\n    add constraint PK_qrtz_calendars primary key clustered (SCHED_NAME,CALENDAR_NAME)')\nend\n\nIF OBJECT_ID('QRTZ_CRON_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_CRON_TRIGGERS\n    add constraint PK_qrtz_cron_triggers primary key clustered (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP)')\nend\n\nIF OBJECT_ID('QRTZ_FIRED_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_FIRED_TRIGGERS\n    add constraint PK_qrtz_fired_triggers primary key clustered (SCHED_NAME,ENTRY_ID)')\nend\n\nIF OBJECT_ID('QRTZ_PAUSED_TRIGGER_GRPS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_PAUSED_TRIGGER_GRPS\n    add constraint PK_qrtz_paused_trigger_grps primary key clustered (SCHED_NAME,TRIGGER_GROUP)')\nend\n\nIF OBJECT_ID('QRTZ_SCHEDULER_STATE') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_SCHEDULER_STATE\n    add constraint PK_qrtz_scheduler_state primary key clustered (SCHED_NAME,INSTANCE_NAME)')\nend\n\nIF OBJECT_ID('QRTZ_LOCKS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_LOCKS\n    add constraint PK_qrtz_locks primary key clustered (SCHED_NAME,LOCK_NAME)')\nend\n\nIF OBJECT_ID('QRTZ_JOB_DETAILS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_JOB_DETAILS\n    add constraint PK_qrtz_job_details primary key clustered (SCHED_NAME,JOB_NAME, JOB_GROUP)')\nend\n\nIF OBJECT_ID('QRTZ_SIMPLE_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_SIMPLE_TRIGGERS\n    add constraint PK_qrtz_simple_triggers primary key clustered (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP)')\nend\n\nIF OBJECT_ID('QRTZ_SIMPROP_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_SIMPROP_TRIGGERS\n    add constraint PK_qrtz_simprop_triggers primary key clustered (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP)')\nend\n\nIF OBJECT_ID('QRTZ_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_TRIGGERS\n    add constraint PK_qrtz_triggers primary key clustered (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP)')\nend\n\nIF OBJECT_ID('QRTZ_BLOB_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_BLOB_TRIGGERS\n    add constraint PK_qrtz_blob_triggers primary key clustered (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP)')\nend\n\n/*==============================================================================*/\n/* Create foreign key constraints: */\n/*==============================================================================*/\n\nIF OBJECT_ID('QRTZ_CRON_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_CRON_TRIGGERS\n    add constraint FK_cron_triggers_triggers foreign key (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n    references QRTZ_TRIGGERS (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)')\nend\n\nIF OBJECT_ID('QRTZ_SIMPLE_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_SIMPLE_TRIGGERS\n    add constraint FK_simple_triggers_triggers foreign key (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n    references QRTZ_TRIGGERS (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)')\nend\n\nIF OBJECT_ID('QRTZ_SIMPROP_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_SIMPROP_TRIGGERS\n    add constraint FK_simprop_triggers_triggers foreign key (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n    references QRTZ_TRIGGERS (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)')\nend\n\nIF OBJECT_ID('QRTZ_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_TRIGGERS\n    add constraint FK_triggers_job_details foreign key (SCHED_NAME,JOB_NAME,JOB_GROUP)\n    references QRTZ_JOB_DETAILS (SCHED_NAME,JOB_NAME,JOB_GROUP)')\nend\n\nIF OBJECT_ID('QRTZ_BLOB_TRIGGERS') IS NOT NULL\nbegin\n    execute ('alter table QRTZ_BLOB_TRIGGERS\n    add constraint FK_blob_triggers_triggers foreign key (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n    references QRTZ_TRIGGERS (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)')\nend\n/*==============================================================================*/\n/* End of script. */\n/*==============================================================================*/\n</code></pre>\n<p>I am running this script through DBeaver without issues against a sybase instance with details:</p>\n<pre><code>Server: Adaptive Server Enterprise 16.0.04.02\nDriver: jConnect (TM) for JDBC (TM) jConnect (TM) for JDBC(TM)/16.0 SP03 PL02 (Build 27403)/P/EBF27518/JDK 1.6.0/jdbcmain/OPT/Mon Aug 28 18:41:14 PDT 2017\n</code></pre>\n<p>My (relevant) spring application settings:</p>\n<pre><code>spring.datasource.url=jdbc:sybase:Tds:localhost:6000/Kustom\nspring.datasource.driverClassName=com.sybase.jdbc4.jdbc.SybDriver\nspring.datasource.username=user\nspring.datasource.password=pass\n\nspring.jpa.database-platform=org.hibernate.dialect.SybaseASE15Dialect\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SybaseASE15Dialect\nspring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\n\nspring.quartz.job-store-type=jdbc\nspring.quartz.jdbc.initialize-schema=always\nspring.quartz.jdbc.schema=classpath:jdbc/my_script.sql\n\nspring.quartz.properties.org.quartz.jobStore.tablePrefix=QRTZ_\nspring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.SybaseDelegate\n\n\nspring.jpa.show-sql=true\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nspring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\n\nlogging.level.org.hibernate.type=TRACE\n</code></pre>\n<p>My application keeps failing with the following stack trace:</p>\n<pre><code>2023-02-15 10:48:53.630  INFO 1 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.SybaseASE15Dialect\n2023-02-15 10:48:53.766 DEBUG 1 --- [           main] o.h.type.spi.TypeConfiguration$Scope     : Scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration@385ef531] to MetadataBuildingContext [org.hibernate.boot.internal.MetadataBuildingContextRootImpl@7fc645e4]\n2023-02-15 10:48:54.136 DEBUG 1 --- [           main] o.h.type.spi.TypeConfiguration$Scope     : Scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration@385ef531] to SessionFactoryImpl [org.hibernate.internal.SessionFactoryImpl@48284d0e]\n2023-02-15 10:48:54.303  WARN 1 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 911, SQLState: ZZZZZ\n2023-02-15 10:48:54.303 ERROR 1 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Attempt to locate entry in sysdatabases for database 'KUSTOM' by name failed - no entry found under that name. Make sure that name is entered properly.\n\n2023-02-15 10:48:54.307 TRACE 1 --- [           main] o.h.type.spi.TypeConfiguration$Scope     : Handling #sessionFactoryClosed from [org.hibernate.internal.SessionFactoryImpl@48284d0e] for TypeConfiguration\n2023-02-15 10:48:54.308 DEBUG 1 --- [           main] o.h.type.spi.TypeConfiguration$Scope     : Un-scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration$Scope@11e33bac] from SessionFactory [org.hibernate.internal.SessionFactoryImpl@48284d0e]\n2023-02-15 10:48:54.313 ERROR 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Error accessing table metadata\n2023-02-15 10:48:54.314  WARN 1 --- [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Error accessing table metadata\n2023-02-15 10:48:54.315  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-02-15 10:48:54.946  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-02-15 10:48:54.958  INFO 1 --- [           main] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@3dd69f5a{/,null,STOPPED}\n2023-02-15 10:48:54.999  INFO 1 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-02-15 10:48:55.098 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Error accessing table metadata\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar!/:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar!/:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar!/:5.3.23]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.6.12.jar!/:2.6.12]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.12.jar!/:2.6.12]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.12.jar!/:2.6.12]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.12.jar!/:2.6.12]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.12.jar!/:2.6.12]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.12.jar!/:2.6.12]\n    at com.finastra.fusionlimits.enquiries.scheduler.app.Application.main(Application.java:14) ~[classes!/:1.0.0-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:1.0.0-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[app.jar:1.0.0-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:1.0.0-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[app.jar:1.0.0-SNAPSHOT]\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Error accessing table metadata\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.23.jar!/:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar!/:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    ... 24 common frames omitted\nCaused by: org.hibernate.exception.GenericJDBCException: Error accessing table metadata\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.convertSQLException(AbstractInformationExtractorImpl.java:118) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:571) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:68) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar!/:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar!/:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar!/:5.3.23]\n    ... 28 common frames omitted\nCaused by: com.sybase.jdbc4.jdbc.SybSQLException: Attempt to locate entry in sysdatabases for database 'KUSTOM' by name failed - no entry found under that name. Make sure that name is entered properly.\n\n    at com.sybase.jdbc4.tds.Tds.processEed(Tds.java:4237) ~[jconnect-16.04.1.jar!/:na]\n    at com.sybase.jdbc4.tds.Tds.nextResult(Tds.java:3346) ~[jconnect-16.04.1.jar!/:na]\n    at com.sybase.jdbc4.jdbc.ResultGetter.nextResult(ResultGetter.java:78) ~[jconnect-16.04.1.jar!/:na]\n    at com.sybase.jdbc4.jdbc.SybStatement.nextResult(SybStatement.java:303) ~[jconnect-16.04.1.jar!/:na]\n    at com.sybase.jdbc4.jdbc.SybStatement.nextResult(SybStatement.java:285) ~[jconnect-16.04.1.jar!/:na]\n    at com.sybase.jdbc4.jdbc.SybStatement.queryLoop(SybStatement.java:2681) ~[jconnect-16.04.1.jar!/:na]\n    at com.sybase.jdbc4.jdbc.SybCallableStatement.executeQuery(SybCallableStatement.java:150) ~[jconnect-16.04.1.jar!/:na]\n    at com.sybase.jdbc4.jdbc.SybDatabaseMetaData.returnResults(SybDatabaseMetaData.java:5552) ~[jconnect-16.04.1.jar!/:na]\n    at com.sybase.jdbc4.jdbc.SybDatabaseMetaData.getTables(SybDatabaseMetaData.java:4022) ~[jconnect-16.04.1.jar!/:na]\n    at com.zaxxer.hikari.pool.ProxyDatabaseMetaData.getTables(ProxyDatabaseMetaData.java:68) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariProxyDatabaseMetaData.getTables(HikariProxyDatabaseMetaData.java) ~[HikariCP-4.0.3.jar!/:na]\n    at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:64) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:559) ~[hibernate-core-5.6.11.Final.jar!/:5.6.11.Final]\n    ... 40 common frames omitted\n</code></pre>\n<p>PS: Same issue using the included script with quartz (linked earlier).</p>\n<p>However if I am using the sourceforge driver with :</p>\n<pre><code>spring.datasource.url=jdbc:jtds:sybase://localhost:6000/Kustom\nspring.datasource.driverClassName=net.sourceforge.jtds.jdbc.Driver\n\n# Also need these just for the test connection which sourceforge driver is lacking\nspring.datasource.validationQuery=select 1\nspring.datasource.hikari.connectionTestQuery=select 1\n</code></pre>\n<p>then all seems to work as expected.</p>\n<p>How can I make it work using the more modern jconnect driver ?</p>\n<p>Thanks</p>\n"},{"tags":["java","regex","sonarqube"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1642769901,"post_id":70801620,"comment_id":125166427,"body_markdown":"All special chars (punctuation + whitespace) is `Pattern.compile(&quot;[\\\\p{P}\\\\p{S}\\\\p{Z}]&quot;)`. Maybe you just wanted all non-alphanumeric? `Pattern.compile(&quot;\\\\P{Alnum}&quot;)`?","body":"All special chars (punctuation + whitespace) is <code>Pattern.compile(&quot;[\\\\p{P}\\\\p{S}\\\\p{Z}]&quot;)</code>. Maybe you just wanted all non-alphanumeric? <code>Pattern.compile(&quot;\\\\P{Alnum}&quot;)</code>?"},{"owner":{"account_id":1646046,"reputation":505,"user_id":1517586,"display_name":"raj03"},"score":0,"creation_date":1642770123,"post_id":70801620,"comment_id":125166516,"body_markdown":"But this pattern does not replace the  \\n  and  \\t   characters from a string which I hv in my validation and working with previous regex expression","body":"But this pattern does not replace the  \\n  and  \\t   characters from a string which I hv in my validation and working with previous regex expression"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1663578321,"post_id":70801620,"comment_id":130264495,"body_markdown":"They do, just check the answer below with several solutions listed. Check them only in code, not at any online regex testers.","body":"They do, just check the answer below with several solutions listed. Check them only in code, not at any online regex testers."}],"answers":[{"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1642772604,"post_id":70801933,"comment_id":125167566,"body_markdown":"The problem is that `\\s` is a non-word char, `\\W`. Also the `+` in a `[.]` does not make sense. But I think the entire code needs some clearance.","body":"The problem is that <code>\\s</code> is a non-word char, <code>\\W</code>. Also the <code>+</code> in a <code>[.]</code> does not make sense. But I think the entire code needs some clearance."}],"tags":[],"owner":{"account_id":1646046,"reputation":505,"user_id":1517586,"display_name":"raj03"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642771104,"creation_date":1642771104,"answer_id":70801933,"question_id":70801620,"body_markdown":"As Wiktor Stribiżew mentioned in the comment section the solution to fix the SonarQube issue is \r\n\r\n    String c = &quot;test10101010test%79%% %%% $$$  \\t \\n $$$#$@^$%~`***c  33&quot;;\r\n    Pattern pt = Pattern.compile(&quot;\\\\P{Alnum}&quot;);\r\n    Matcher match= pt.matcher(c);\r\n    while(match.find())\r\n    {\r\n        c=c.replaceAll(&quot;\\\\&quot;+match.group(), &quot;&quot;).toLowerCase();\r\n    }\r\n     System.out.println(c);\r\n\r\n\r\n","title":"SonarQube issue: Remove duplicates in this character class","body":"<p>As Wiktor Stribiżew mentioned in the comment section the solution to fix the SonarQube issue is</p>\n<pre><code>String c = &quot;test10101010test%79%% %%% $$$  \\t \\n $$$#$@^$%~`***c  33&quot;;\nPattern pt = Pattern.compile(&quot;\\\\P{Alnum}&quot;);\nMatcher match= pt.matcher(c);\nwhile(match.find())\n{\n    c=c.replaceAll(&quot;\\\\&quot;+match.group(), &quot;&quot;).toLowerCase();\n}\n System.out.println(c);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677143464,"creation_date":1642776494,"answer_id":70803162,"question_id":70801620,"body_markdown":"Your regex is a character class, `[...]`. It matches `\\W` (chars other than letters, digits or connector punctuation (underscore in ASCII mode), `\\s` (a whitespace) and a `+` char. The error you get is related to the fact that both `+` and whitespace chars can already be matched with `\\W`.\r\n\r\nSo your pattern is basically `\\W`. Note it does not match underscores that are punctuation chars. If you want to remove all chars other than alphanumeric chars use `[\\W_]` or `\\P{Alnum}` pattern.\r\n\r\nMore, you usually do not need to check for a match before replacing, the following should be enough:\r\n```java\r\nc=c.replaceAll(&quot;\\\\W+&quot;, &quot;&quot;).toLowerCase();\r\n// or\r\nc=c.replaceAll(&quot;[\\\\W_]+&quot;, &quot;&quot;).toLowerCase();\r\n// or\r\nc=c.replaceAll(&quot;\\\\P{Alnum}+&quot;, &quot;&quot;).toLowerCase();\r\n```\r\n**Note** this warning will appear in cases where you specified a case insensitive flag `/i` and use character classes to match letters in either case like `[zZ]` (`/[zZ]/i`). This is clear you need to replace the character class with a single letter, `z` or `Z` here.","title":"SonarQube issue: Remove duplicates in this character class","body":"<p>Your regex is a character class, <code>[...]</code>. It matches <code>\\W</code> (chars other than letters, digits or connector punctuation (underscore in ASCII mode), <code>\\s</code> (a whitespace) and a <code>+</code> char. The error you get is related to the fact that both <code>+</code> and whitespace chars can already be matched with <code>\\W</code>.</p>\n<p>So your pattern is basically <code>\\W</code>. Note it does not match underscores that are punctuation chars. If you want to remove all chars other than alphanumeric chars use <code>[\\W_]</code> or <code>\\P{Alnum}</code> pattern.</p>\n<p>More, you usually do not need to check for a match before replacing, the following should be enough:</p>\n<pre class=\"lang-java prettyprint-override\"><code>c=c.replaceAll(&quot;\\\\W+&quot;, &quot;&quot;).toLowerCase();\n// or\nc=c.replaceAll(&quot;[\\\\W_]+&quot;, &quot;&quot;).toLowerCase();\n// or\nc=c.replaceAll(&quot;\\\\P{Alnum}+&quot;, &quot;&quot;).toLowerCase();\n</code></pre>\n<p><strong>Note</strong> this warning will appear in cases where you specified a case insensitive flag <code>/i</code> and use character classes to match letters in either case like <code>[zZ]</code> (<code>/[zZ]/i</code>). This is clear you need to replace the character class with a single letter, <code>z</code> or <code>Z</code> here.</p>\n"}],"owner":{"account_id":1646046,"reputation":505,"user_id":1517586,"display_name":"raj03"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677143464,"creation_date":1642769685,"question_id":70801620,"body_markdown":"I have implemented the regex expression to remove all the special characters with empty strings and remove space(if any), which is working fine in my code but sonarQUbe is complaining as this is non-compliant solution, Can anyone tell me how to fix this issue\r\n\r\n    String c = &quot;test10101010test%79%% %%% $$$  \\t \\n $$$#$@^$%~`***c  33&quot;;\r\n        Pattern pt = Pattern.compile(&quot;[\\\\W\\\\s+]&quot;);\r\n        Matcher match= pt.matcher(c);\r\n        while(match.find())\r\n        {\r\n            c=c.replaceAll(&quot;\\\\&quot;+match.group(), &quot;&quot;).toLowerCase();\r\n        }\r\n         System.out.println(c);\r\n\r\n\r\nI am getting error at `&quot;[\\\\W\\\\s+]&quot;`. Getting below error\r\nRemove duplicates in this character class.\r\n\r\n\r\nCan anyone suggest how to fix this issue?\r\n","title":"SonarQube issue: Remove duplicates in this character class","body":"<p>I have implemented the regex expression to remove all the special characters with empty strings and remove space(if any), which is working fine in my code but sonarQUbe is complaining as this is non-compliant solution, Can anyone tell me how to fix this issue</p>\n<pre><code>String c = &quot;test10101010test%79%% %%% $$$  \\t \\n $$$#$@^$%~`***c  33&quot;;\n    Pattern pt = Pattern.compile(&quot;[\\\\W\\\\s+]&quot;);\n    Matcher match= pt.matcher(c);\n    while(match.find())\n    {\n        c=c.replaceAll(&quot;\\\\&quot;+match.group(), &quot;&quot;).toLowerCase();\n    }\n     System.out.println(c);\n</code></pre>\n<p>I am getting error at <code>&quot;[\\\\W\\\\s+]&quot;</code>. Getting below error\nRemove duplicates in this character class.</p>\n<p>Can anyone suggest how to fix this issue?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"score":0,"creation_date":1506411840,"post_id":46420398,"comment_id":79798259,"body_markdown":"Please share the URL and HTML","body":"Please share the URL and HTML"},{"owner":{"account_id":11553861,"reputation":21,"user_id":8465566,"display_name":"Dheeraj Singh"},"score":0,"creation_date":1506412106,"post_id":46420398,"comment_id":79798438,"body_markdown":"&lt;input class=“title” value=“Mr”","body":"&lt;input class=“title” value=“Mr”"},{"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"score":0,"creation_date":1506412163,"post_id":46420398,"comment_id":79798465,"body_markdown":"You want to return Mr","body":"You want to return Mr"},{"owner":{"account_id":11553861,"reputation":21,"user_id":8465566,"display_name":"Dheeraj Singh"},"score":0,"creation_date":1506412185,"post_id":46420398,"comment_id":79798482,"body_markdown":"Yes i need that in a string","body":"Yes i need that in a string"},{"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"score":0,"creation_date":1506412253,"post_id":46420398,"comment_id":79798528,"body_markdown":"Okay i will give u code","body":"Okay i will give u code"},{"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"score":0,"creation_date":1506412268,"post_id":46420398,"comment_id":79798537,"body_markdown":"Can u paste complete HTML of that code","body":"Can u paste complete HTML of that code"}],"answers":[{"comments":[{"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"score":0,"creation_date":1506412910,"post_id":46420838,"comment_id":79798978,"body_markdown":"@dheeraj try this","body":"@dheeraj try this"}],"tags":[],"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506412724,"creation_date":1506412724,"answer_id":46420838,"question_id":46420398,"body_markdown":"As per your requirement you can try this\r\n\r\n\r\nit is your HTML code:\r\n\r\n     &lt;input class=&quot;title&quot; type=&quot;text&quot; value=&quot;Mr&quot;&gt;\r\n\r\nSelenium code:\r\n\r\n     String textvalue=driver.findElement(By.xpath(&quot;//input[@value=&#39;Mr&#39;]&quot;)).getAttribute(&quot;value&quot;);\r\n\r\n     System.out.println(textvalue);\r\n\t\r\n\r\n","title":"How to get the value from a tag in Selenium","body":"<p>As per your requirement you can try this</p>\n\n<p>it is your HTML code:</p>\n\n<pre><code> &lt;input class=\"title\" type=\"text\" value=\"Mr\"&gt;\n</code></pre>\n\n<p>Selenium code:</p>\n\n<pre><code> String textvalue=driver.findElement(By.xpath(\"//input[@value='Mr']\")).getAttribute(\"value\");\n\n System.out.println(textvalue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12945698,"reputation":399,"user_id":9360135,"display_name":"Kumar S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565333790,"creation_date":1565333790,"answer_id":57424851,"question_id":46420398,"body_markdown":"for python:\r\n\r\n    value=driver.find_element_by_id(&#39;tag ID&#39;)\r\n    print(value.text)\r\njava:\r\n\r\n    System.out.println(driver.findElement(By.id(&#39;tag ID&#39;)).getText());","title":"How to get the value from a tag in Selenium","body":"<p>for python:</p>\n\n<pre><code>value=driver.find_element_by_id('tag ID')\nprint(value.text)\n</code></pre>\n\n<p>java:</p>\n\n<pre><code>System.out.println(driver.findElement(By.id('tag ID')).getText());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17811066,"reputation":117,"user_id":12935670,"display_name":"sule mohammed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677142976,"creation_date":1677142976,"answer_id":75542587,"question_id":46420398,"body_markdown":"Use the get attribute method\r\n\r\n    value = driver.find_element(By.CLASS_NAME, &#39;title&#39;)\r\n    output = value.get_attribute(&quot;value&quot;)","title":"How to get the value from a tag in Selenium","body":"<p>Use the get attribute method</p>\n<pre><code>value = driver.find_element(By.CLASS_NAME, 'title')\noutput = value.get_attribute(&quot;value&quot;)\n</code></pre>\n"}],"owner":{"account_id":11553861,"reputation":21,"user_id":8465566,"display_name":"Dheeraj Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7704,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":46420838,"answer_count":3,"score":0,"last_activity_date":1677142976,"creation_date":1506411446,"question_id":46420398,"body_markdown":"How can we get the value inside the value section in selenium\r\n\r\n&lt;input class=“name” value=“Mr”&gt;\r\n\r\nI need to retrieve Mr in a string present under value using selenium.\r\n\r\nSince its not a free text so getText() is not working.","title":"How to get the value from a tag in Selenium","body":"<p>How can we get the value inside the value section in selenium</p>\n\n<p></p>\n\n<p>I need to retrieve Mr in a string present under value using selenium.</p>\n\n<p>Since its not a free text so getText() is not working.</p>\n"},{"tags":["java","optional-parameters"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1677140147,"post_id":75542094,"comment_id":133279813,"body_markdown":"Do you mean something like `requestBuilder.setSomeFieldId(myPlan.getSomeField().map(SomeFieldType::getId).orElse(null))`? Or does `setSomeFieldId()` take an `Optional` parameter in which case the `orElse(null)` wouldn&#39;t be necessary? Or yet better: `myPlan.getSomeField().map(SomeFieldType::getId).ifPresent(id -&gt; requestBuilder.setSomeFieldId(id))`","body":"Do you mean something like <code>requestBuilder.setSomeFieldId(myPlan.getSomeField().map(Some&zwnj;&#8203;FieldType::getId).or&zwnj;&#8203;Else(null))</code>? Or does <code>setSomeFieldId()</code> take an <code>Optional</code> parameter in which case the <code>orElse(null)</code> wouldn&#39;t be necessary? Or yet better: <code>myPlan.getSomeField().map(SomeFieldType::getId).ifPresent(id -&gt; requestBuilder.setSomeFieldId(id))</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1677141964,"post_id":75542094,"comment_id":133280270,"body_markdown":"BTW solution from @Thomas comment can be simplified even more: `id -&gt; requestBuilder.setSomeFieldId(id)` can be replaced by `requestBuilder::setSomeFieldId`","body":"BTW solution from @Thomas comment can be simplified even more: <code>id -&gt; requestBuilder.setSomeFieldId(id)</code> can be replaced by <code>requestBuilder::setSomeFieldId</code>"}],"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677142931,"creation_date":1677139812,"question_id":75542094,"body_markdown":"What is a simpler way to write the following:\r\n\r\n```\r\nBuilder requestBuilder = new Builder();\r\nif(myPlan.getSomeField().isPresent()){\r\n     requestBuilder.setSomeFieldId(Optional.of(\r\n                    NullableField.ofNullable(myPlan.getSomeField().get().getId())));\r\n}\r\n```\r\n\r\nI tried to use `orElse` but it doesn&#39;t seem to match my requirements.\r\n","title":"Simplify if condition to check of optional field attribute is present","body":"<p>What is a simpler way to write the following:</p>\n<pre><code>Builder requestBuilder = new Builder();\nif(myPlan.getSomeField().isPresent()){\n     requestBuilder.setSomeFieldId(Optional.of(\n                    NullableField.ofNullable(myPlan.getSomeField().get().getId())));\n}\n</code></pre>\n<p>I tried to use <code>orElse</code> but it doesn't seem to match my requirements.</p>\n"},{"tags":["java","tomcat","visual-studio-code"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1534248313,"post_id":51840625,"comment_id":90634969,"body_markdown":"I&#39;m guessing: putting the output folder in an auto-deploy folder would work, but it has been some time since I worked with Tomcat. In the documentation I read &quot;Deployment of exploded web applications which are copied into the Host appBase.&quot; and &quot;Re-loading of a web application if the /WEB-INF/web.xml file (or any other resource defined as a WatchedResource) is updated. &quot; under &quot;Deploying on a running Tomcat server&quot;; this may be what you are after.","body":"I&#39;m guessing: putting the output folder in an auto-deploy folder would work, but it has been some time since I worked with Tomcat. In the documentation I read &quot;Deployment of exploded web applications which are copied into the Host appBase.&quot; and &quot;Re-loading of a web application if the /WEB-INF/web.xml file (or any other resource defined as a WatchedResource) is updated. &quot; under &quot;Deploying on a running Tomcat server&quot;; this may be what you are after."},{"owner":{"account_id":2165012,"reputation":609,"user_id":1918308,"accept_rate":83,"display_name":"telle"},"score":0,"creation_date":1534254188,"post_id":51840625,"comment_id":90638930,"body_markdown":"Thanks for your suggestion. AFAIK Visual Studio Code executes building whenever I change a file of `src/main/java` or `src/main/resources`. So, as you say, I could change the ouput folder to copy the modified files to the exploded war. However, this might not work for `src/main/webapp` folder&#39;s file because VSCode doesn&#39;t trigger the building for these files. Let me know if I&#39;ve misunderstood something.","body":"Thanks for your suggestion. AFAIK Visual Studio Code executes building whenever I change a file of <code>src&#47;main&#47;java</code> or <code>src&#47;main&#47;resources</code>. So, as you say, I could change the ouput folder to copy the modified files to the exploded war. However, this might not work for <code>src&#47;main&#47;webapp</code> folder&#39;s file because VSCode doesn&#39;t trigger the building for these files. Let me know if I&#39;ve misunderstood something."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1682624274,"post_id":51840625,"comment_id":134249438,"body_markdown":"You can use the Visual Studio Code Live Server extension for this...","body":"You can use the Visual Studio Code Live Server extension for this..."}],"answers":[{"comments":[{"owner":{"account_id":319027,"reputation":12899,"user_id":636561,"display_name":"Luca Fagioli"},"score":0,"creation_date":1643303031,"post_id":60754233,"comment_id":125309568,"body_markdown":"Note: I do not care if this answer is downvoted by Spring haters. I know it can help Spring developers, hence I will leave it here at the cost of my SO reputation.","body":"Note: I do not care if this answer is downvoted by Spring haters. I know it can help Spring developers, hence I will leave it here at the cost of my SO reputation."}],"tags":[],"owner":{"account_id":319027,"reputation":12899,"user_id":636561,"display_name":"Luca Fagioli"},"comment_count":1,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1643302764,"creation_date":1584610036,"answer_id":60754233,"question_id":51840625,"body_markdown":"If you use Spring, there is an easy way.\r\n\r\nThe [Spring Initializr][1] extension comes with an embedded Tomcat installation, and hot reloading works out of the box.\r\n\r\nRely on the following guide to install it:\r\n\r\nhttps://code.visualstudio.com/docs/java/java-spring-boot\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-initializr","title":"Deploy java web application to Tomcat with Visual Studio Code","body":"<p>If you use Spring, there is an easy way.</p>\n<p>The <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-initializr\" rel=\"nofollow noreferrer\">Spring Initializr</a> extension comes with an embedded Tomcat installation, and hot reloading works out of the box.</p>\n<p>Rely on the following guide to install it:</p>\n<p><a href=\"https://code.visualstudio.com/docs/java/java-spring-boot\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-spring-boot</a></p>\n"}],"owner":{"account_id":2165012,"reputation":609,"user_id":1918308,"accept_rate":83,"display_name":"telle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16770,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":1,"score":18,"last_activity_date":1677142865,"creation_date":1534247043,"question_id":51840625,"body_markdown":"I&#39;m trying to deploy a java web application to Tomcat using Visual Studio Code and I&#39;m having some issues that I&#39;d like to share. \r\n\r\nAfter installing the extension [Tomcat for Java][1], I&#39;ve tried to deploy a Maven Java Web project. To do so, I&#39;ve clicked over project&#39;s folder and selected &quot;Run on Tomcat Server&quot; option. The result is an error with this message: `The folder is not a valid web app to run on Tomcat Server.`\r\n\r\nThen, I&#39;ve realized that maybe I should create a war file before running it on Tomcat. Therefore, I&#39;ve executed `mvn clean package` command and afterwards execute &quot;Run on Tomcat Server&quot; option over the war file. Doing this the project has been deployed correctly. \r\n\r\nHowever, compared to Eclipse&#39;s way to work with Tomcat, it seems to me a bit tedious. Particularly if I&#39;m working with static files, like css or js, because every time I modify a file I should execute `mvn clean package` and &quot;Run on Tomcat Server&quot;. Whereas, in Eclipse, these files are deployed automatically on Tomcat without restarting. \r\n\r\nI wonder if there is another way to work with VS Code and Tomcat for Java. \r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=adashen.vscode-tomcat","title":"Deploy java web application to Tomcat with Visual Studio Code","body":"<p>I'm trying to deploy a java web application to Tomcat using Visual Studio Code and I'm having some issues that I'd like to share. </p>\n\n<p>After installing the extension <a href=\"https://marketplace.visualstudio.com/items?itemName=adashen.vscode-tomcat\" rel=\"noreferrer\">Tomcat for Java</a>, I've tried to deploy a Maven Java Web project. To do so, I've clicked over project's folder and selected \"Run on Tomcat Server\" option. The result is an error with this message: <code>The folder is not a valid web app to run on Tomcat Server.</code></p>\n\n<p>Then, I've realized that maybe I should create a war file before running it on Tomcat. Therefore, I've executed <code>mvn clean package</code> command and afterwards execute \"Run on Tomcat Server\" option over the war file. Doing this the project has been deployed correctly. </p>\n\n<p>However, compared to Eclipse's way to work with Tomcat, it seems to me a bit tedious. Particularly if I'm working with static files, like css or js, because every time I modify a file I should execute <code>mvn clean package</code> and \"Run on Tomcat Server\". Whereas, in Eclipse, these files are deployed automatically on Tomcat without restarting. </p>\n\n<p>I wonder if there is another way to work with VS Code and Tomcat for Java. </p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":22711769,"reputation":11,"user_id":16877633,"display_name":"funeral of tech"},"score":0,"creation_date":1677175151,"post_id":75537245,"comment_id":133290789,"body_markdown":"Thank you for answering!\nI tried the way but it redirected to &#39;/todo&#39;. This means I can&#39;t get the user&#39;s information after login?","body":"Thank you for answering! I tried the way but it redirected to &#39;/todo&#39;. This means I can&#39;t get the user&#39;s information after login?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677177838,"post_id":75537245,"comment_id":133291567,"body_markdown":"You can get user in Spring with User user = (User)SecurityContextHolder.getContext().getAuthentication().getPrincipal() but there may be an issue in your code resulting in user not being stored as the authentication principal.","body":"You can get user in Spring with User user = (User)SecurityContextHolder.getContext().getAuthentication()&zwnj;&#8203;.getPrincipal() but there may be an issue in your code resulting in user not being stored as the authentication principal."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677093477,"creation_date":1677093477,"answer_id":75537245,"question_id":75536500,"body_markdown":"You need to change the argument of defaultSuccessUrl as follows\r\n\r\n    defaultSuccessUrl(&quot;/redirector&quot;)\r\n\r\nand add the following to your controller:\r\n\r\n    @GetMapping(&quot;/redirector&quot;)\r\n    public String redirector() {\r\n        // load the user from the session or SecurityContext\r\n        return &quot;redirect:/todo/&quot; + user.getId();\r\n    }","title":"redirecting to URL based on user&#39;s id (ex. /todo/{id})","body":"<p>You need to change the argument of defaultSuccessUrl as follows</p>\n<pre><code>defaultSuccessUrl(&quot;/redirector&quot;)\n</code></pre>\n<p>and add the following to your controller:</p>\n<pre><code>@GetMapping(&quot;/redirector&quot;)\npublic String redirector() {\n    // load the user from the session or SecurityContext\n    return &quot;redirect:/todo/&quot; + user.getId();\n}\n</code></pre>\n"}],"owner":{"account_id":22711769,"reputation":11,"user_id":16877633,"display_name":"funeral of tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677142632,"creation_date":1677088738,"question_id":75536500,"body_markdown":"I&#39;m making todo app with springboot.\r\n\r\n\r\n----------\r\n\r\n\r\n*What I want to solve*\r\n\r\nAfter login, **I want the user to redirect &#39;todolist&#39; page URL based on his user&#39;s id.**(ex, localhost:8080/todo/{id})\r\n\r\nI supposed to redirect to URL based on one&#39;s id, but page redirects not to localhost:8080/todo/{id}, but localhost:8080.\r\n\r\nOf course, there is a id column in user DB. \r\n\r\n----------\r\n\r\nUserController.java\r\n\r\n    @Controller\r\n    public class UserController {\r\n    @Autowired\r\n    @Lazy\r\n    private UserRegistrationService userRegistrationService;\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String showLoginPage() {\r\n        return &quot;login&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/signup&quot;)\r\n    public String showUserRegistration(@ModelAttribute(&quot;signupForm&quot;) SignupForm signupForm) {\r\n        return &quot;signup&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public String userRegistration(@Validated @ModelAttribute(&quot;signupForm&quot;) SignupForm signupForm, BindingResult result) {\r\n        if(result.hasErrors()) {\r\n            return &quot;signup&quot;;\r\n        }\r\n        userRegistrationService.userRegistration(signupForm.getEmail(), signupForm.getPassword());\r\n        return &quot;redirect:/login&quot;;\r\n    }\r\n    }\r\n\r\n----------\r\nSecurityConfig\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.formLogin(login -&gt; login\r\n                .loginPage(&quot;/login&quot;)\r\n                .loginProcessingUrl(&quot;/login&quot;)\r\n                .defaultSuccessUrl(&quot;/todo&quot;)\r\n                .failureUrl(&quot;/login?error&quot;)\r\n                .permitAll())\r\n                .authorizeHttpRequests(authz -&gt; authz\r\n                .mvcMatchers(&quot;/css/**&quot;).permitAll()\r\n                .mvcMatchers(&quot;/signup&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n        );\r\n        http.logout().permitAll();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    }\r\n\r\n----------\r\nUser.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;authority&quot;)\r\n    private String authority;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private List&lt;Todo&gt; todos = new ArrayList&lt;&gt;();\r\n\r\n    public User(String email, String password, String authority) {\r\n        this.email = email;\r\n        this.password = password;\r\n        this.authority = authority;\r\n    }\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getAuthority() {\r\n        return authority;\r\n    }\r\n\r\n    public void setAuthority(String authority) {\r\n        this.authority = authority;\r\n    }\r\n\r\n    public List&lt;Todo&gt; getTodos() {\r\n        return todos;\r\n    }\r\n\r\n    public void setTodos(List&lt;Todo&gt; todos) {\r\n        this.todos = todos;\r\n    }\r\n    }\r\n\r\n----------\r\n\r\n*What I tried*\r\nI added  &#39;/todo/{id}&#39; to defaultSeccessUrl, but nothing changed.\r\n\r\nTo sum up, **I want the user to redirect to todolist page URL based on user&#39;s id**\r\n\r\nDoes anyone help?\r\nI would appreciate　if you cloud answered to this question. Thanks!\r\n","title":"redirecting to URL based on user&#39;s id (ex. /todo/{id})","body":"<p>I'm making todo app with springboot.</p>\n<hr />\n<p><em>What I want to solve</em></p>\n<p>After login, <strong>I want the user to redirect 'todolist' page URL based on his user's id.</strong>(ex, localhost:8080/todo/{id})</p>\n<p>I supposed to redirect to URL based on one's id, but page redirects not to localhost:8080/todo/{id}, but localhost:8080.</p>\n<p>Of course, there is a id column in user DB.</p>\n<hr />\n<p>UserController.java</p>\n<pre><code>@Controller\npublic class UserController {\n@Autowired\n@Lazy\nprivate UserRegistrationService userRegistrationService;\n\n@GetMapping(&quot;/login&quot;)\npublic String showLoginPage() {\n    return &quot;login&quot;;\n}\n\n@GetMapping(&quot;/signup&quot;)\npublic String showUserRegistration(@ModelAttribute(&quot;signupForm&quot;) SignupForm signupForm) {\n    return &quot;signup&quot;;\n}\n\n@PostMapping(&quot;/signup&quot;)\npublic String userRegistration(@Validated @ModelAttribute(&quot;signupForm&quot;) SignupForm signupForm, BindingResult result) {\n    if(result.hasErrors()) {\n        return &quot;signup&quot;;\n    }\n    userRegistrationService.userRegistration(signupForm.getEmail(), signupForm.getPassword());\n    return &quot;redirect:/login&quot;;\n}\n}\n</code></pre>\n<hr />\n<p>SecurityConfig</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http.formLogin(login -&gt; login\n            .loginPage(&quot;/login&quot;)\n            .loginProcessingUrl(&quot;/login&quot;)\n            .defaultSuccessUrl(&quot;/todo&quot;)\n            .failureUrl(&quot;/login?error&quot;)\n            .permitAll())\n            .authorizeHttpRequests(authz -&gt; authz\n            .mvcMatchers(&quot;/css/**&quot;).permitAll()\n            .mvcMatchers(&quot;/signup&quot;).permitAll()\n            .anyRequest().authenticated()\n    );\n    http.logout().permitAll();\n    return http.build();\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n}\n</code></pre>\n<hr />\n<p>User.java</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n@Id\n@Column(name = &quot;id&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@Column(name = &quot;email&quot;)\nprivate String email;\n@Column(name = &quot;password&quot;)\nprivate String password;\n\n@Column(name = &quot;authority&quot;)\nprivate String authority;\n\n@OneToMany\n@JoinColumn(name = &quot;user_id&quot;)\nprivate List&lt;Todo&gt; todos = new ArrayList&lt;&gt;();\n\npublic User(String email, String password, String authority) {\n    this.email = email;\n    this.password = password;\n    this.authority = authority;\n}\n\npublic User() {\n\n}\n\npublic Integer getId() {\n    return id;\n}\n\npublic void setId(Integer id) {\n    this.id = id;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic String getAuthority() {\n    return authority;\n}\n\npublic void setAuthority(String authority) {\n    this.authority = authority;\n}\n\npublic List&lt;Todo&gt; getTodos() {\n    return todos;\n}\n\npublic void setTodos(List&lt;Todo&gt; todos) {\n    this.todos = todos;\n}\n}\n</code></pre>\n<hr />\n<p><em>What I tried</em>\nI added  '/todo/{id}' to defaultSeccessUrl, but nothing changed.</p>\n<p>To sum up, <strong>I want the user to redirect to todolist page URL based on user's id</strong></p>\n<p>Does anyone help?\nI would appreciate　if you cloud answered to this question. Thanks!</p>\n"},{"tags":["java","crash-dumps","jvm-crash"],"answers":[{"tags":[],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"comment_count":0,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1273230819,"creation_date":1273230819,"answer_id":2788059,"question_id":2787976,"body_markdown":"I don&#39;t think there is anything in java that would provide you with on-exit thread dumps. I tackle this when necessary by having a cronjob that does periodic `kill -3 pid`. Yes, it does clutter the logs a bit, but the footprint is still negligible.\r\n\r\nAnd if you are suffering from OOM, it might be be beneficial to see how the situation evolved thread-wise.","title":"how to generate thread dump java on out of memory error","body":"<p>I don't think there is anything in java that would provide you with on-exit thread dumps. I tackle this when necessary by having a cronjob that does periodic <code>kill -3 pid</code>. Yes, it does clutter the logs a bit, but the footprint is still negligible.</p>\n\n<p>And if you are suffering from OOM, it might be be beneficial to see how the situation evolved thread-wise.</p>\n"},{"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":7,"creation_date":1273234681,"post_id":2788423,"comment_id":2824144,"body_markdown":"Note that clueless commenters/naysayers may come up with non-sense like *&quot;you should never catch an OOM&quot;* but they&#39;ve probably never worked on Real-World [TM] Java applications being deployed on hundreds of systems.  I do this **all the time** and **it just works**.  This has allowed me to remotely debug and fix lots of very subtile memory leak that never ever showed up during testing.  Catching an OOM here makes perfect sense **because the whole point is to understand why the OOM is happening**.  But don&#39;t be surprise to see lots of naysayers here don&#39;t understanding that very basic **fact**.","body":"Note that clueless commenters/naysayers may come up with non-sense like <i>&quot;you should never catch an OOM&quot;</i> but they&#39;ve probably never worked on Real-World [TM] Java applications being deployed on hundreds of systems.  I do this <b>all the time</b> and <b>it just works</b>.  This has allowed me to remotely debug and fix lots of very subtile memory leak that never ever showed up during testing.  Catching an OOM here makes perfect sense <b>because the whole point is to understand why the OOM is happening</b>.  But don&#39;t be surprise to see lots of naysayers here don&#39;t understanding that very basic <b>fact</b>."},{"owner":{"account_id":416749,"reputation":3159,"user_id":792313,"accept_rate":85,"display_name":"snowindy"},"score":0,"creation_date":1418791056,"post_id":2788423,"comment_id":43466676,"body_markdown":"Based on this answer, I created utility class UncaughtExceptionLogger (http://pastebin.com/e30g9y66). This one you can define, say, as a Spring bean, and you&#39;re all set with extended logging.","body":"Based on this answer, I created utility class UncaughtExceptionLogger (<a href=\"http://pastebin.com/e30g9y66\" rel=\"nofollow noreferrer\">pastebin.com/e30g9y66</a>). This one you can define, say, as a Spring bean, and you&#39;re all set with extended logging."}],"tags":[],"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"comment_count":2,"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1273234512,"creation_date":1273234512,"answer_id":2788423,"question_id":2787976,"body_markdown":"&gt; How to generate thread dump java on\r\n&gt; out of memory error?\r\n\r\nYour question can be simplified into:\r\n\r\n- how to generate a thread dump\r\n\r\nand:\r\n\r\n- how to catch an out of memory error (don&#39;t pay attention to naysayer here, they&#39;re missing the bigger picture, see my comment)\r\n\r\n\r\nSo it&#39;s actually quite easy, you could do it like this:\r\n\r\n- install a default uncaught exception handler\r\n\r\n- upon catching an uncaught exception, check if you have an OutOfMemoryError\r\n\r\n- if you have an OutOfMemoryError, generate yourself a full thread dump and either ask the user to send it to you by email or offer to send it automatically\r\n\r\nBonus: it works fine on 1.5 too :)\r\n\r\n     Thread.setDefaultUncaughtExceptionHandler( new Thread.UncaughtExceptionHandler() {\r\n         public void uncaughtException( final Thread t, final Throwable e ) {\r\n             ...\r\n         }\r\n\r\nYou may want to look into this:\r\n\r\n     e.getMessage();\r\n\r\n\r\nand this:\r\n\r\n \r\n\r\n    Thread.getAllStackTraces();\r\n\r\n\r\nI&#39;m doing this all the time in an app that is shipped on hundreds of different 1.5 and 1.6 JVM (on different OSes).\r\n\r\n","title":"how to generate thread dump java on out of memory error","body":"<blockquote>\n  <p>How to generate thread dump java on\n  out of memory error?</p>\n</blockquote>\n\n<p>Your question can be simplified into:</p>\n\n<ul>\n<li>how to generate a thread dump</li>\n</ul>\n\n<p>and:</p>\n\n<ul>\n<li>how to catch an out of memory error (don't pay attention to naysayer here, they're missing the bigger picture, see my comment)</li>\n</ul>\n\n<p>So it's actually quite easy, you could do it like this:</p>\n\n<ul>\n<li><p>install a default uncaught exception handler</p></li>\n<li><p>upon catching an uncaught exception, check if you have an OutOfMemoryError</p></li>\n<li><p>if you have an OutOfMemoryError, generate yourself a full thread dump and either ask the user to send it to you by email or offer to send it automatically</p></li>\n</ul>\n\n<p>Bonus: it works fine on 1.5 too :)</p>\n\n<pre><code> Thread.setDefaultUncaughtExceptionHandler( new Thread.UncaughtExceptionHandler() {\n     public void uncaughtException( final Thread t, final Throwable e ) {\n         ...\n     }\n</code></pre>\n\n<p>You may want to look into this:</p>\n\n<pre><code> e.getMessage();\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>Thread.getAllStackTraces();\n</code></pre>\n\n<p>I'm doing this all the time in an app that is shipped on hundreds of different 1.5 and 1.6 JVM (on different OSes).</p>\n"},{"comments":[{"owner":{"account_id":140150,"reputation":1081,"user_id":346247,"display_name":"Jim Bethancourt"},"score":6,"creation_date":1274809728,"post_id":2875011,"comment_id":2957333,"body_markdown":"Actually, it turns out that you can just load your Heap Dump generated  on OOME into VisualVM and click on the &quot;Show Threads&quot; link under the &quot;Threads at the heap dump&quot; section title.","body":"Actually, it turns out that you can just load your Heap Dump generated  on OOME into VisualVM and click on the &quot;Show Threads&quot; link under the &quot;Threads at the heap dump&quot; section title."},{"owner":{"account_id":151653,"reputation":1689,"user_id":365675,"accept_rate":48,"display_name":"yetanothercoder"},"score":9,"creation_date":1361972970,"post_id":2875011,"comment_id":21266956,"body_markdown":"`-XX:OnOutOfMemoryError=&quot;kill -3 %p&quot;` - and you don&#39;t need to parse and specify the pid manually (https://forums.oracle.com/forums/thread.jspa?threadID=2374398&amp;tstart=60)","body":"<code>-XX:OnOutOfMemoryError=&quot;kill -3 %p&quot;</code> - and you don&#39;t need to parse and specify the pid manually (<a href=\"https://forums.oracle.com/forums/thread.jspa?threadID=2374398&amp;tstart=60\" rel=\"nofollow noreferrer\">forums.oracle.com/forums/&hellip;</a>)"},{"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"score":1,"creation_date":1528860891,"post_id":2875011,"comment_id":88661786,"body_markdown":"As to &quot;-XX:OnOutOfMemoryError=&quot;kill -3 %p&quot;  can I take the thread dump to a specified log file?","body":"As to &quot;-XX:OnOutOfMemoryError=&quot;kill -3 %p&quot;  can I take the thread dump to a specified log file?"}],"tags":[],"owner":{"account_id":140150,"reputation":1081,"user_id":346247,"display_name":"Jim Bethancourt"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1622563441,"creation_date":1274367919,"answer_id":2875011,"question_id":2787976,"body_markdown":"If you&#39;re in a Linux/Unix environment you can do this:\r\n\r\n    -XX:OnOutOfMemoryError=&quot;kill -3 %p&quot;\r\n\r\nThis way you don&#39;t have to have your application generate periodic thread dumps and you&#39;ll get a snapshot when it actually chokes.\r\n\r\nWith `%p`, you don&#39;t need to pass the PID, JVM will automatically pick the correct process id as [mentioned here][1].\r\n\r\n\r\n  [1]: https://community.oracle.com/tech/developers/discussion/2376398/onoutofmemoryerror","title":"how to generate thread dump java on out of memory error","body":"<p>If you're in a Linux/Unix environment you can do this:</p>\n<pre><code>-XX:OnOutOfMemoryError=&quot;kill -3 %p&quot;\n</code></pre>\n<p>This way you don't have to have your application generate periodic thread dumps and you'll get a snapshot when it actually chokes.</p>\n<p>With <code>%p</code>, you don't need to pass the PID, JVM will automatically pick the correct process id as <a href=\"https://community.oracle.com/tech/developers/discussion/2376398/onoutofmemoryerror\" rel=\"nofollow noreferrer\">mentioned here</a>.</p>\n"},{"tags":[],"owner":{"account_id":491438,"reputation":101,"user_id":1596137,"display_name":"gilesw"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405601977,"creation_date":1405601977,"answer_id":24804310,"question_id":2787976,"body_markdown":"It&#39;s possible to trigger a thread dump when OnOutOfMemoryError is triggered using jstack. e.g:-\r\n\r\n    jstack -F pid &gt; /var/tmp/&lt;identifier&gt;.dump","title":"how to generate thread dump java on out of memory error","body":"<p>It's possible to trigger a thread dump when OnOutOfMemoryError is triggered using jstack. e.g:-</p>\n\n<pre><code>jstack -F pid &gt; /var/tmp/&lt;identifier&gt;.dump\n</code></pre>\n"},{"tags":[],"owner":{"account_id":416749,"reputation":3159,"user_id":792313,"accept_rate":85,"display_name":"snowindy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418791904,"creation_date":1418791904,"answer_id":27518541,"question_id":2787976,"body_markdown":"Based on the accepted answer I created utility class. This one you can define as a Spring bean and you&#39;re all set with extended logging.\r\n\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n     \r\n    import javax.annotation.PostConstruct;\r\n     \r\n    import org.apache.commons.lang3.exception.ExceptionUtils;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n     \r\n    public class UncaughtExceptionLogger {\r\n     \r\n        private final static Logger logger = LoggerFactory.getLogger(UncaughtExceptionLogger.class);\r\n     \r\n        @PostConstruct\r\n        private void init() {\r\n            Thread.setDefaultUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\r\n                public void uncaughtException(final Thread t, final Throwable e) {\r\n                    String msg = ExceptionUtils.getRootCauseMessage(e);\r\n                    logger.error(String.format(&quot;Uncaght exception handler captured expcetion &#39;%s&#39;&quot;, msg), e);\r\n                    if (msg.contains(&quot;unable to create new native thread&quot;)) {\r\n                        String dump = captureThreadDump();\r\n                        logger.error(String.format(\r\n                                &quot;OutOfMemoryError has been captured for threads limit. Thread dump: \\n %s&quot;, dump), e);\r\n                    }\r\n                    if (ExceptionUtils.getRootCause(e) instanceof OutOfMemoryError) {\r\n                        String dump = captureThreadDump();\r\n                        logger.error(String.format(&quot;OutOfMemoryError has been captured. Thread dump: \\n %s&quot;, dump), e);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n     \r\n        public static String captureThreadDump() {\r\n            /**\r\n             * http://stackoverflow.com/questions/2787976/how-to-generate-thread-\r\n             * dump-java-on-out-of-memory-error\r\n             * http://henryranch.net/software/capturing-a-thread-dump-in-java/\r\n             */\r\n            Map&lt;Thread, StackTraceElement[]&gt; allThreads = Thread.getAllStackTraces();\r\n            Iterator&lt;Thread&gt; iterator = allThreads.keySet().iterator();\r\n            StringBuffer stringBuffer = new StringBuffer();\r\n            while (iterator.hasNext()) {\r\n                Thread key = (Thread) iterator.next();\r\n                StackTraceElement[] trace = (StackTraceElement[]) allThreads.get(key);\r\n                stringBuffer.append(key + &quot;\\r\\n&quot;);\r\n                for (int i = 0; i &lt; trace.length; i++) {\r\n                    stringBuffer.append(&quot; &quot; + trace[i] + &quot;\\r\\n&quot;);\r\n                }\r\n                stringBuffer.append(&quot;&quot;);\r\n            }\r\n            return stringBuffer.toString();\r\n        }\r\n    }","title":"how to generate thread dump java on out of memory error","body":"<p>Based on the accepted answer I created utility class. This one you can define as a Spring bean and you're all set with extended logging.</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.Map;\n\nimport javax.annotation.PostConstruct;\n\nimport org.apache.commons.lang3.exception.ExceptionUtils;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class UncaughtExceptionLogger {\n\n    private final static Logger logger = LoggerFactory.getLogger(UncaughtExceptionLogger.class);\n\n    @PostConstruct\n    private void init() {\n        Thread.setDefaultUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\n            public void uncaughtException(final Thread t, final Throwable e) {\n                String msg = ExceptionUtils.getRootCauseMessage(e);\n                logger.error(String.format(\"Uncaght exception handler captured expcetion '%s'\", msg), e);\n                if (msg.contains(\"unable to create new native thread\")) {\n                    String dump = captureThreadDump();\n                    logger.error(String.format(\n                            \"OutOfMemoryError has been captured for threads limit. Thread dump: \\n %s\", dump), e);\n                }\n                if (ExceptionUtils.getRootCause(e) instanceof OutOfMemoryError) {\n                    String dump = captureThreadDump();\n                    logger.error(String.format(\"OutOfMemoryError has been captured. Thread dump: \\n %s\", dump), e);\n                }\n            }\n        });\n    }\n\n    public static String captureThreadDump() {\n        /**\n         * http://stackoverflow.com/questions/2787976/how-to-generate-thread-\n         * dump-java-on-out-of-memory-error\n         * http://henryranch.net/software/capturing-a-thread-dump-in-java/\n         */\n        Map&lt;Thread, StackTraceElement[]&gt; allThreads = Thread.getAllStackTraces();\n        Iterator&lt;Thread&gt; iterator = allThreads.keySet().iterator();\n        StringBuffer stringBuffer = new StringBuffer();\n        while (iterator.hasNext()) {\n            Thread key = (Thread) iterator.next();\n            StackTraceElement[] trace = (StackTraceElement[]) allThreads.get(key);\n            stringBuffer.append(key + \"\\r\\n\");\n            for (int i = 0; i &lt; trace.length; i++) {\n                stringBuffer.append(\" \" + trace[i] + \"\\r\\n\");\n            }\n            stringBuffer.append(\"\");\n        }\n        return stringBuffer.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7105563,"reputation":325,"user_id":6200142,"display_name":"Himadri Mandal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524681174,"creation_date":1524681174,"answer_id":50029139,"question_id":2787976,"body_markdown":"&gt; `-XX:OnOutOfMemoryError=&quot;kill -3 %p&quot;`\r\n\r\nThe JVM argument to take thread dump sadly don&#39;t work.\r\nChild process cannot end SIGQUIT to parent.\r\n\r\nOracle has `-XX:CrashOnOutOfMemoryError` but this is available on Java 8. \r\n\r\n\r\n\r\n\r\n","title":"how to generate thread dump java on out of memory error","body":"<blockquote>\n  <p><code>-XX:OnOutOfMemoryError=\"kill -3 %p\"</code></p>\n</blockquote>\n\n<p>The JVM argument to take thread dump sadly don't work.\nChild process cannot end SIGQUIT to parent.</p>\n\n<p>Oracle has <code>-XX:CrashOnOutOfMemoryError</code> but this is available on Java 8. </p>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677142617,"creation_date":1677088259,"answer_id":75536417,"question_id":2787976,"body_markdown":"Assuming that you have a JDK (not a JRE) installed on your target server, you can rely on the command `jcmd` to generate your thread dump, this way it will work whatever the OS of your server.\r\n\r\nThe JVM option defining the command to execute on `OutOfMemoryError` is then:\r\n\r\n    -XX:OnOutOfMemoryError=&quot;jcmd %p Thread.print&quot;\r\n\r\nWhere `%p` designates the current process id\r\n\r\nMoreover, as we could want to have the thread dump into a file, it is possible to have it into the JVM log file by adding the JVM options `-XX:+UnlockDiagnosticVMOptions -XX:+LogVMOutput -XX:LogFile=jvm.log`, this way the heap dump will be available in the file `jvm.log` located in the working directory of the JVM along with other information intended for diagnosing the JVM.\r\n\r\nThe full list of JVM options to add is then:\r\n\r\n```\r\n-XX:OnOutOfMemoryError=&quot;jcmd %p Thread.print&quot; -XX:+UnlockDiagnosticVMOptions\r\n-XX:+LogVMOutput -XX:LogFile=jvm.log\r\n```\r\n\r\nBe aware that the file is always created even when no OOME happens, so on a server, if you want to avoid having the previous JVM file being replaced at the next startup, you should consider adding the process id in the name of the log file like for example `jvm_pid%p.log` but don&#39;t forget to remove the files regularly.\r\n\r\nIf the JVM option `-XX:LogFile` is not set, by default the name of the file is of type `hotspot_pid%p.log` where `%p` designates the current process id.\r\n\r\n---\r\n\r\nIn practice, the only JVM option that is needed is `-XX:+HeapDumpOnOutOfMemoryError` as it allows to generate an `hprof` file when an `OnOutOfMemoryError` occurs which already contains a thread dump.\r\n\r\nSee below how to get a thread dump from an `hprof` file using [VisualVM][1]:\r\n\r\n[![Get Thread Dump from hprof][2]][2]\r\n\r\n\r\n  [1]: https://visualvm.github.io/\r\n  [2]: https://i.stack.imgur.com/UkiZw.gif","title":"how to generate thread dump java on out of memory error","body":"<p>Assuming that you have a JDK (not a JRE) installed on your target server, you can rely on the command <code>jcmd</code> to generate your thread dump, this way it will work whatever the OS of your server.</p>\n<p>The JVM option defining the command to execute on <code>OutOfMemoryError</code> is then:</p>\n<pre><code>-XX:OnOutOfMemoryError=&quot;jcmd %p Thread.print&quot;\n</code></pre>\n<p>Where <code>%p</code> designates the current process id</p>\n<p>Moreover, as we could want to have the thread dump into a file, it is possible to have it into the JVM log file by adding the JVM options <code>-XX:+UnlockDiagnosticVMOptions -XX:+LogVMOutput -XX:LogFile=jvm.log</code>, this way the heap dump will be available in the file <code>jvm.log</code> located in the working directory of the JVM along with other information intended for diagnosing the JVM.</p>\n<p>The full list of JVM options to add is then:</p>\n<pre><code>-XX:OnOutOfMemoryError=&quot;jcmd %p Thread.print&quot; -XX:+UnlockDiagnosticVMOptions\n-XX:+LogVMOutput -XX:LogFile=jvm.log\n</code></pre>\n<p>Be aware that the file is always created even when no OOME happens, so on a server, if you want to avoid having the previous JVM file being replaced at the next startup, you should consider adding the process id in the name of the log file like for example <code>jvm_pid%p.log</code> but don't forget to remove the files regularly.</p>\n<p>If the JVM option <code>-XX:LogFile</code> is not set, by default the name of the file is of type <code>hotspot_pid%p.log</code> where <code>%p</code> designates the current process id.</p>\n<hr />\n<p>In practice, the only JVM option that is needed is <code>-XX:+HeapDumpOnOutOfMemoryError</code> as it allows to generate an <code>hprof</code> file when an <code>OnOutOfMemoryError</code> occurs which already contains a thread dump.</p>\n<p>See below how to get a thread dump from an <code>hprof</code> file using <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">VisualVM</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/UkiZw.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UkiZw.gif\" alt=\"Get Thread Dump from hprof\" /></a></p>\n"}],"owner":{"account_id":27280,"reputation":8951,"user_id":71858,"accept_rate":81,"display_name":"Jigar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23456,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":2788423,"answer_count":7,"score":15,"last_activity_date":1677142617,"creation_date":1273229864,"question_id":2787976,"body_markdown":"* does java 6 generate thread dump in addition to heap dump (java_pid14941.hprof) \r\n\r\n* this is what happened to one of my applications.\r\n\r\n    java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n    Dumping heap to java_pid14941.hprof ...\r\n\r\n* I did find ava_pid14941.hprof in working directory, but didn&#39;t find any file which contains thread dump. I need to know what all the threads were doing when I got this OutOfMemory error.\r\n\r\n* Is there any configuration option which will generate thread dump in addition to heap dump on out of memory exception?\r\n\r\n","title":"how to generate thread dump java on out of memory error","body":"<ul>\n<li><p>does java 6 generate thread dump in addition to heap dump (java_pid14941.hprof) </p></li>\n<li><p>this is what happened to one of my applications.</p>\n\n<p>java.lang.OutOfMemoryError: GC overhead limit exceeded\nDumping heap to java_pid14941.hprof ...</p></li>\n<li><p>I did find ava_pid14941.hprof in working directory, but didn't find any file which contains thread dump. I need to know what all the threads were doing when I got this OutOfMemory error.</p></li>\n<li><p>Is there any configuration option which will generate thread dump in addition to heap dump on out of memory exception?</p></li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1442386109,"post_id":32601392,"comment_id":53055327,"body_markdown":"A thread leak is a resource leak where the resource being leaked is a thread. A thread dump is a way to dump all the information of threads for analysis (such as finding thread leaks).","body":"A thread leak is a resource leak where the resource being leaked is a thread. A thread dump is a way to dump all the information of threads for analysis (such as finding thread leaks)."}],"answers":[{"comments":[{"owner":{"account_id":3626984,"reputation":138,"user_id":3024314,"display_name":"Mahendra Rathod"},"score":0,"creation_date":1442387573,"post_id":32601516,"comment_id":53056085,"body_markdown":"Thanks for answer, I am clear about thread leak, but still I am not clear about thread dump. Can you please give me some example?","body":"Thanks for answer, I am clear about thread leak, but still I am not clear about thread dump. Can you please give me some example?"},{"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"score":0,"creation_date":1442387663,"post_id":32601516,"comment_id":53056130,"body_markdown":"@user3024314:- Go through this doc: http://www.javacodegeeks.com/2012/03/jvm-how-to-analyze-thread-dump.html You will get the details about it","body":"@user3024314:- Go through this doc: <a href=\"http://www.javacodegeeks.com/2012/03/jvm-how-to-analyze-thread-dump.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2012/03/jvm-how-to-analyze-thread-dump.htm&zwnj;&#8203;l</a> You will get the details about it"},{"owner":{"account_id":3626984,"reputation":138,"user_id":3024314,"display_name":"Mahendra Rathod"},"score":1,"creation_date":1442409317,"post_id":32601516,"comment_id":53070219,"body_markdown":"Thanks @Rahul Tripathi","body":"Thanks @Rahul Tripathi"},{"owner":{"account_id":1844797,"reputation":57363,"user_id":1673391,"accept_rate":88,"display_name":"Grijesh Chauhan"},"score":0,"creation_date":1628683921,"post_id":32601516,"comment_id":121486041,"body_markdown":"We *do not need to close threads*, instead we may need to call `join()` in main-thread to wait for running threads. It is totally fine main exits without waiting for running thread....a thread can not exists without main thread (without a process). So the definition &quot;thread leak is when we dont close the thread properly&quot; is incorrect (even if picked from good book). If thread allocated some resource (say memory) and do not release that memory then it is not thread leak -- that would be memory leak. Thread leak happen when you create unbounded threads -- that is number of thread your needed.","body":"We <i>do not need to close threads</i>, instead we may need to call <code>join()</code> in main-thread to wait for running threads. It is totally fine main exits without waiting for running thread....a thread can not exists without main thread (without a process). So the definition &quot;thread leak is when we dont close the thread properly&quot; is incorrect (even if picked from good book). If thread allocated some resource (say memory) and do not release that memory then it is not thread leak -- that would be memory leak. Thread leak happen when you create unbounded threads -- that is number of thread your needed."}],"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1442386111,"creation_date":1442386111,"answer_id":32601516,"question_id":32601392,"body_markdown":"From the [docs][1]:\r\n\r\n&gt; The thread dump is a snapshot of exactly what&#39;s executing at a moment\r\n&gt; in time\r\n\r\nAnd thread leak is when we dont close the thread properly then the number of unused threads grows with time.\r\n\r\n\r\n  [1]: http://www.javasanity.org/understandingthreaddumps","title":"what is Thread Leak and Thread Dump in Java","body":"<p>From the <a href=\"http://www.javasanity.org/understandingthreaddumps\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>The thread dump is a snapshot of exactly what's executing at a moment\n  in time</p>\n</blockquote>\n\n<p>And thread leak is when we dont close the thread properly then the number of unused threads grows with time.</p>\n"}],"owner":{"account_id":3626984,"reputation":138,"user_id":3024314,"display_name":"Mahendra Rathod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11771,"favorite_count":0,"down_vote_count":3,"up_vote_count":7,"accepted_answer_id":32601516,"answer_count":1,"score":4,"last_activity_date":1677142490,"creation_date":1442385665,"question_id":32601392,"body_markdown":"**Can you please Explain me what is Thread Leak and Thread Dump in Java? \r\n I am just confuse about thread Dump.**\r\n\r\n Let me know the other way of creating thread except Thread class and runnable interface?","title":"what is Thread Leak and Thread Dump in Java","body":"<p><strong>Can you please Explain me what is Thread Leak and Thread Dump in Java? \n I am just confuse about thread Dump.</strong></p>\n\n<p>Let me know the other way of creating thread except Thread class and runnable interface?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":1955112,"reputation":1972,"user_id":1758274,"accept_rate":69,"display_name":"Vignesh Gopalakrishnan"},"score":0,"creation_date":1398792320,"post_id":23368176,"comment_id":35799231,"body_markdown":"Thanks.  I changed to `getS3Client().copyObject(getBucketName(), oldPhotoName, getBucketName(), &quot;vignesh&quot;);`  But now also I am getting same error.  `Status Code: 403, AWS Service: Amazon S3, AWS Request ID: 874B8E8905B026CC, AWS Error Code: AccessDenied, AWS Error Message: Access Denied` Can you please help.","body":"Thanks.  I changed to <code>getS3Client().copyObject(getBucketName(), oldPhotoName, getBucketName(), &quot;vignesh&quot;);</code>  But now also I am getting same error.  <code>Status Code: 403, AWS Service: Amazon S3, AWS Request ID: 874B8E8905B026CC, AWS Error Code: AccessDenied, AWS Error Message: Access Denied</code> Can you please help."},{"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"score":3,"creation_date":1589550095,"post_id":23368176,"comment_id":109346361,"body_markdown":"Does this answer your question? [How to rename files and folder in Amazon S3?](https://stackoverflow.com/questions/21184720/how-to-rename-files-and-folder-in-amazon-s3)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21184720/how-to-rename-files-and-folder-in-amazon-s3\">How to rename files and folder in Amazon S3?</a>"}],"answers":[{"comments":[{"owner":{"account_id":3802879,"reputation":1641,"user_id":3156006,"accept_rate":86,"display_name":"Mateen"},"score":0,"creation_date":1472488089,"post_id":32010957,"comment_id":65760619,"body_markdown":"the above code will only copy the files but not child folders.","body":"the above code will only copy the files but not child folders."}],"tags":[],"owner":{"account_id":143462,"reputation":31666,"user_id":419863,"accept_rate":92,"display_name":"H6_"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1444712017,"creation_date":1439557937,"answer_id":32010957,"question_id":23368176,"body_markdown":"Direct renaming of S3 objects [is not possible][1] \r\n\r\n&gt; Rename objects by copying them and deleting the original ones\r\n\r\nYou can copy and delete using e.g.\r\n\r\n\r\n    CopyObjectRequest copyObjRequest = new CopyObjectRequest(bucketName, \r\n               keyName, bucketName, destinationKeyName);\r\n    s3client.copyObject(copyObjRequest);\r\n    s3client.deleteObject(new DeleteObjectRequest(bucketName, keyName));\r\n\r\n  [1]: http://docs.aws.amazon.com/AmazonS3/latest/dev/CopyingObjectsExamples.html","title":"How to rename a file in Amazon S3 Bucket?","body":"<p>Direct renaming of S3 objects <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/CopyingObjectsExamples.html\" rel=\"noreferrer\">is not possible</a> </p>\n\n<blockquote>\n  <p>Rename objects by copying them and deleting the original ones</p>\n</blockquote>\n\n<p>You can copy and delete using e.g.</p>\n\n<pre><code>CopyObjectRequest copyObjRequest = new CopyObjectRequest(bucketName, \n           keyName, bucketName, destinationKeyName);\ns3client.copyObject(copyObjRequest);\ns3client.deleteObject(new DeleteObjectRequest(bucketName, keyName));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3802879,"reputation":1641,"user_id":3156006,"accept_rate":86,"display_name":"Mateen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472487916,"creation_date":1472487916,"answer_id":39210871,"question_id":23368176,"body_markdown":"As answered by High6 direct renaming of s3 is not possible, but his code will not copy all the contents\r\n\r\ni have attached a code snippet which will copy all the contents\r\n\r\ncode is working just add your aws access key and secret key\r\n\r\nhere&#39;s what i did in code\r\n\r\n-&gt; copy the source folder contents(nested child and folders) and pasted in the destination folder \r\n\r\n-&gt; when the copying is complete, delete the source folder\r\n\r\n    package com.bighalf.doc.amazon;\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.InputStream;\r\n    import java.util.List;\r\n\r\n    import com.amazonaws.auth.AWSCredentials;\r\n    import com.amazonaws.auth.BasicAWSCredentials;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3Client;\r\n    import com.amazonaws.services.s3.model.CopyObjectRequest;\r\n    import com.amazonaws.services.s3.model.ObjectMetadata;\r\n    import com.amazonaws.services.s3.model.PutObjectRequest;\r\n    import com.amazonaws.services.s3.model.S3ObjectSummary;\r\n\r\n    public class Test {\r\n\r\n\tpublic static boolean renameAwsFolder(String bucketName,String keyName,String newName) {\r\n\t\tboolean result = false;\r\n\t\ttry {\r\n\t\t\tAmazonS3 s3client = getAmazonS3ClientObject();\r\n\t\t\tList&lt;S3ObjectSummary&gt; fileList = s3client.listObjects(bucketName, keyName).getObjectSummaries();\r\n\t\t\t//some meta data to create empty folders start\r\n\t\t\tObjectMetadata metadata = new ObjectMetadata();\r\n\t\t\tmetadata.setContentLength(0);\r\n\t\t\tInputStream emptyContent = new ByteArrayInputStream(new byte[0]);\r\n\t\t\t//some meta data to create empty folders end\r\n\t\t\t\r\n\t\t\t//final location is the locaiton where the child folder contents of the existing folder should go\r\n\t\t\tString finalLocation = keyName.substring(0,keyName.lastIndexOf(&#39;/&#39;)+1)+newName;\r\n\t\t\tfor (S3ObjectSummary file : fileList) {\r\n\t\t\t\tString key = file.getKey();\r\n\t\t\t\t//updating child folder location with the newlocation\r\n\t\t\t\tString destinationKeyName = key.replace(keyName,finalLocation);\r\n\t\t\t\tif(key.charAt(key.length()-1)==&#39;/&#39;){\r\n\t\t\t\t\t//if name ends with suffix (/) means its a folders\r\n\t\t\t\t\tPutObjectRequest putObjectRequest = new PutObjectRequest(bucketName, destinationKeyName, emptyContent, metadata);\r\n\t\t\t\t\ts3client.putObject(putObjectRequest);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//if name doesnot ends with suffix (/) means its a file\r\n\t\t\t\t\tCopyObjectRequest copyObjRequest = new CopyObjectRequest(bucketName, \r\n\t\t\t\t\t\t\tfile.getKey(), bucketName, destinationKeyName);\r\n\t\t\t\t\ts3client.copyObject(copyObjRequest);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tboolean isFodlerDeleted = deleteFolderFromAws(bucketName, keyName);\r\n\t\t\treturn isFodlerDeleted;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic static boolean deleteFolderFromAws(String bucketName, String keyName) {\r\n\t\tboolean result = false;\r\n\t\ttry {\r\n\t\t\tAmazonS3 s3client = getAmazonS3ClientObject();\r\n\t\t\t//deleting folder children\r\n\t\t\tList&lt;S3ObjectSummary&gt; fileList = s3client.listObjects(bucketName, keyName).getObjectSummaries();\r\n\t\t\tfor (S3ObjectSummary file : fileList) {\r\n\t\t\t\ts3client.deleteObject(bucketName, file.getKey());\r\n\t\t\t}\r\n\t\t\t//deleting actual passed folder\r\n\t\t\ts3client.deleteObject(bucketName, keyName);\r\n\t\t\tresult = true;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tintializeAmazonObjects();\r\n\t\tboolean result = renameAwsFolder(bucketName, keyName, newName);\r\n\t\tSystem.out.println(result);\r\n\t}\r\n\t\r\n\tprivate static AWSCredentials credentials = null;\r\n\tprivate static AmazonS3 amazonS3Client = null;\r\n\tprivate static final String ACCESS_KEY = &quot;&quot;;\r\n\tprivate static final String SECRET_ACCESS_KEY = &quot;&quot;;\r\n\tprivate static final String bucketName = &quot;&quot;;\r\n\tprivate static final String keyName = &quot;&quot;;\r\n\t//renaming folder c to x from key name\r\n\tprivate static final String newName = &quot;&quot;;\r\n\t\r\n\tpublic static void intializeAmazonObjects() {\r\n\t\tcredentials = new BasicAWSCredentials(ACCESS_KEY, SECRET_ACCESS_KEY);\r\n\t\tamazonS3Client = new AmazonS3Client(credentials);\r\n\t}\r\n\r\n\tpublic static AmazonS3 getAmazonS3ClientObject() {\r\n\t\treturn amazonS3Client;\r\n\t}\r\n\r\n}\r\n","title":"How to rename a file in Amazon S3 Bucket?","body":"<p>As answered by High6 direct renaming of s3 is not possible, but his code will not copy all the contents</p>\n\n<p>i have attached a code snippet which will copy all the contents</p>\n\n<p>code is working just add your aws access key and secret key</p>\n\n<p>here's what i did in code</p>\n\n<p>-> copy the source folder contents(nested child and folders) and pasted in the destination folder </p>\n\n<p>-> when the copying is complete, delete the source folder</p>\n\n<pre><code>package com.bighalf.doc.amazon;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.InputStream;\nimport java.util.List;\n\nimport com.amazonaws.auth.AWSCredentials;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3Client;\nimport com.amazonaws.services.s3.model.CopyObjectRequest;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\nimport com.amazonaws.services.s3.model.PutObjectRequest;\nimport com.amazonaws.services.s3.model.S3ObjectSummary;\n\npublic class Test {\n\npublic static boolean renameAwsFolder(String bucketName,String keyName,String newName) {\n    boolean result = false;\n    try {\n        AmazonS3 s3client = getAmazonS3ClientObject();\n        List&lt;S3ObjectSummary&gt; fileList = s3client.listObjects(bucketName, keyName).getObjectSummaries();\n        //some meta data to create empty folders start\n        ObjectMetadata metadata = new ObjectMetadata();\n        metadata.setContentLength(0);\n        InputStream emptyContent = new ByteArrayInputStream(new byte[0]);\n        //some meta data to create empty folders end\n\n        //final location is the locaiton where the child folder contents of the existing folder should go\n        String finalLocation = keyName.substring(0,keyName.lastIndexOf('/')+1)+newName;\n        for (S3ObjectSummary file : fileList) {\n            String key = file.getKey();\n            //updating child folder location with the newlocation\n            String destinationKeyName = key.replace(keyName,finalLocation);\n            if(key.charAt(key.length()-1)=='/'){\n                //if name ends with suffix (/) means its a folders\n                PutObjectRequest putObjectRequest = new PutObjectRequest(bucketName, destinationKeyName, emptyContent, metadata);\n                s3client.putObject(putObjectRequest);\n            }else{\n                //if name doesnot ends with suffix (/) means its a file\n                CopyObjectRequest copyObjRequest = new CopyObjectRequest(bucketName, \n                        file.getKey(), bucketName, destinationKeyName);\n                s3client.copyObject(copyObjRequest);\n            }\n        }\n        boolean isFodlerDeleted = deleteFolderFromAws(bucketName, keyName);\n        return isFodlerDeleted;\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n\npublic static boolean deleteFolderFromAws(String bucketName, String keyName) {\n    boolean result = false;\n    try {\n        AmazonS3 s3client = getAmazonS3ClientObject();\n        //deleting folder children\n        List&lt;S3ObjectSummary&gt; fileList = s3client.listObjects(bucketName, keyName).getObjectSummaries();\n        for (S3ObjectSummary file : fileList) {\n            s3client.deleteObject(bucketName, file.getKey());\n        }\n        //deleting actual passed folder\n        s3client.deleteObject(bucketName, keyName);\n        result = true;\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n\npublic static void main(String[] args) {\n    intializeAmazonObjects();\n    boolean result = renameAwsFolder(bucketName, keyName, newName);\n    System.out.println(result);\n}\n\nprivate static AWSCredentials credentials = null;\nprivate static AmazonS3 amazonS3Client = null;\nprivate static final String ACCESS_KEY = \"\";\nprivate static final String SECRET_ACCESS_KEY = \"\";\nprivate static final String bucketName = \"\";\nprivate static final String keyName = \"\";\n//renaming folder c to x from key name\nprivate static final String newName = \"\";\n\npublic static void intializeAmazonObjects() {\n    credentials = new BasicAWSCredentials(ACCESS_KEY, SECRET_ACCESS_KEY);\n    amazonS3Client = new AmazonS3Client(credentials);\n}\n\npublic static AmazonS3 getAmazonS3ClientObject() {\n    return amazonS3Client;\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":1955112,"reputation":1972,"user_id":1758274,"accept_rate":69,"display_name":"Vignesh Gopalakrishnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24812,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"closed_date":1589577374,"answer_count":2,"score":17,"last_activity_date":1677142314,"creation_date":1398783221,"question_id":23368176,"body_markdown":"I am trying to rename a file in S3 Bucket.  Here is a code snippet\r\n\r\n        S3Object s3Obj  = getS3Client().getObject(new GetObjectRequest(getBucketName(), fileName));\t \r\n    //Error in Above Line itself\t\t\t\r\n        getS3Client().putObject(getBucketName(), newFileName, s3Obj.getObjectContent(), s3Obj.getObjectMetadata());\r\n\r\n    private AmazonS3 getS3Client(){\r\n    \t\tAWSCredentials myCredentials = new BasicAWSCredentials(AccessKey,SecretKey);\r\n    \t\tAmazonS3 s3client = new AmazonS3Client(myCredentials);\r\n    \t\treturn s3client;\r\n    }\r\nSo, I am getting this error,\r\n\r\nDEBUG [main] request.handleErrorResponse(748) | Received error response: com.amazonaws.services.s3.model.AmazonS3Exception: Status Code: 403, AWS Service: null, AWS Request ID: AD2F31F1133A650E, AWS Error Code: AccessDenied.\r\n\r\nI am unable to get the s3object itself.  Any suggestions or ideas how I will get S3 Object and rename it.\r\nThanks in Anticipation for you help.","title":"How to rename a file in Amazon S3 Bucket?","body":"<p>I am trying to rename a file in S3 Bucket.  Here is a code snippet</p>\n\n<pre><code>    S3Object s3Obj  = getS3Client().getObject(new GetObjectRequest(getBucketName(), fileName));  \n//Error in Above Line itself            \n    getS3Client().putObject(getBucketName(), newFileName, s3Obj.getObjectContent(), s3Obj.getObjectMetadata());\n\nprivate AmazonS3 getS3Client(){\n        AWSCredentials myCredentials = new BasicAWSCredentials(AccessKey,SecretKey);\n        AmazonS3 s3client = new AmazonS3Client(myCredentials);\n        return s3client;\n}\n</code></pre>\n\n<p>So, I am getting this error,</p>\n\n<p>DEBUG [main] request.handleErrorResponse(748) | Received error response: com.amazonaws.services.s3.model.AmazonS3Exception: Status Code: 403, AWS Service: null, AWS Request ID: AD2F31F1133A650E, AWS Error Code: AccessDenied.</p>\n\n<p>I am unable to get the s3object itself.  Any suggestions or ideas how I will get S3 Object and rename it.\nThanks in Anticipation for you help.</p>\n"},{"tags":["java","ubuntu","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1651388322,"post_id":72067909,"comment_id":127350005,"body_markdown":"It is not recommended to change JRE used by the IDE process. Please switch it to JBR (JetBrains Runtime) as per https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under .","body":"It is not recommended to change JRE used by the IDE process. Please switch it to JBR (JetBrains Runtime) as per <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a> ."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1651388355,"post_id":72067909,"comment_id":127350009,"body_markdown":"See https://www.jetbrains.com/help/idea/sdk.html#jdk. on how to set up a project JDK","body":"See <a href=\"https://www.jetbrains.com/help/idea/sdk.html#jdk\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/sdk.html#jdk</a>. on how to set up a project JDK"},{"owner":{"account_id":22646177,"reputation":129,"user_id":16821502,"display_name":"sb813322"},"score":0,"creation_date":1671524775,"post_id":72067909,"comment_id":132112256,"body_markdown":"For me, the solution was downloading the correct file. On installing, I clicked on `Download .tar.gz (Linux ARM64)` instead of `Download .tar.gz (Linux)`","body":"For me, the solution was downloading the correct file. On installing, I clicked on <code>Download .tar.gz (Linux ARM64)</code> instead of <code>Download .tar.gz (Linux)</code>"}],"answers":[{"tags":[],"owner":{"account_id":15923193,"reputation":96,"user_id":11489564,"display_name":"pkadavil"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1671528459,"creation_date":1659947435,"answer_id":73274948,"question_id":72067909,"body_markdown":"I&#39;ve had the same issue working on windows. \r\n\r\nWhen you check IntelliJ&#39;s log (idea.log file) you can find a entry for the change you&#39;ve made with its &#39;reset&#39; option.\r\n\r\nFor me it was: (emphasis is mine)\r\n\r\n&gt; 2022-08-08 09:47:47,906 [ 594730]   WARN -\r\n&gt; Downloader.RuntimeChooserPaths - Set custom boot runtime to:\r\n&gt; C:\\Data\\Java\\jdk-17.0.3.1 in the\r\n&gt; **C:\\Users\\\\*username*\\AppData\\Roaming\\JetBrains\\IntelliJIdea2021.3\\idea64.exe.jdk**.\r\n&gt; On errors, please **remove the .jdk file**\r\n\r\nYou find the log files are stored at:\r\n\r\nLinux: `~/.cache/JetBrains/IntelliJIdea2020.3/log`\r\n\r\nWindows: `%LOCALAPPDATA%\\JetBrains\\IntelliJIdea2020.3\\log`\r\n\r\nmacOS: `~/Library/Logs/JetBrains/IntelliJIdea2020.3`\r\n","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu after Change the boot Java runtime","body":"<p>I've had the same issue working on windows.</p>\n<p>When you check IntelliJ's log (idea.log file) you can find a entry for the change you've made with its 'reset' option.</p>\n<p>For me it was: (emphasis is mine)</p>\n<blockquote>\n<p>2022-08-08 09:47:47,906 [ 594730]   WARN -\nDownloader.RuntimeChooserPaths - Set custom boot runtime to:\nC:\\Data\\Java\\jdk-17.0.3.1 in the\n<strong>C:\\Users\\<em>username</em>\\AppData\\Roaming\\JetBrains\\IntelliJIdea2021.3\\idea64.exe.jdk</strong>.\nOn errors, please <strong>remove the .jdk file</strong></p>\n</blockquote>\n<p>You find the log files are stored at:</p>\n<p>Linux: <code>~/.cache/JetBrains/IntelliJIdea2020.3/log</code></p>\n<p>Windows: <code>%LOCALAPPDATA%\\JetBrains\\IntelliJIdea2020.3\\log</code></p>\n<p>macOS: <code>~/Library/Logs/JetBrains/IntelliJIdea2020.3</code></p>\n"},{"tags":[],"owner":{"account_id":22646177,"reputation":129,"user_id":16821502,"display_name":"sb813322"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671525441,"creation_date":1671525441,"answer_id":74860367,"question_id":72067909,"body_markdown":"Converting the comment by [the author][1] from May 2 at 4:22 to an answer.\r\n\r\nThe issue was resolved by changing the JRE path in this file: `/.config/JetBrains/IntelliJIdea2022.1/idea.jdk`\r\n\r\n  [1]: https://stackoverflow.com/users/18351457/ph%E1%BB%A5ng-ph%E1%BA%A1m-v%C4%83n","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu after Change the boot Java runtime","body":"<p>Converting the comment by <a href=\"https://stackoverflow.com/users/18351457/ph%E1%BB%A5ng-ph%E1%BA%A1m-v%C4%83n\">the author</a> from May 2 at 4:22 to an answer.</p>\n<p>The issue was resolved by changing the JRE path in this file: <code>/.config/JetBrains/IntelliJIdea2022.1/idea.jdk</code></p>\n"},{"tags":[],"owner":{"account_id":27858420,"reputation":21,"user_id":21271456,"display_name":"Abin Joseph"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677142220,"creation_date":1677141621,"answer_id":75542363,"question_id":72067909,"body_markdown":"This is because you are using a lower version of JRE for running the IntelliJ that is compiled in a higher version. to fix this you can change the JRE path in the following file(or you can delete the file also).\r\n\r\n    ~/.config/JetBrains/&lt;product&gt;&lt;version&gt;/idea.jdk\r\n\r\neg:`~/.config/JetBrains/IdeaIC2022.3/idea.jdk`\r\n\r\nRef: [IntelliJ Doc][1]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#e8793cb9","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu after Change the boot Java runtime","body":"<p>This is because you are using a lower version of JRE for running the IntelliJ that is compiled in a higher version. to fix this you can change the JRE path in the following file(or you can delete the file also).</p>\n<pre><code>~/.config/JetBrains/&lt;product&gt;&lt;version&gt;/idea.jdk\n</code></pre>\n<p>eg:<code>~/.config/JetBrains/IdeaIC2022.3/idea.jdk</code></p>\n<p>Ref: <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#e8793cb9\" rel=\"nofollow noreferrer\">IntelliJ Doc</a></p>\n"}],"owner":{"account_id":24200420,"reputation":53,"user_id":18351457,"display_name":"Phụng Phạm Văn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5916,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73274948,"answer_count":3,"score":5,"last_activity_date":1677142220,"creation_date":1651316336,"question_id":72067909,"body_markdown":"Before, my IntelliJ ran well. But I used java 6 , so my project could not run with gradle.\r\nI switched java to version 8 with the command ```sudo update-alternatives --config java``` . \r\nI checked ```java -version```  was ```1.8.0_312```. It&#39;s OK, but in IntelliJ, the Java still had version 6. Then, I changed java version  in IntelliJ with:\r\n\r\n&gt; *From the main menu, select Help | Find Action or press **&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;.***\r\n&gt; \r\n&gt; *Find and select the Choose Boot Java Runtime for the IDE action.*\r\n&gt; \r\n&gt; *Select the desired runtime and click OK.*\r\n\r\nAnd restarted IntelliJ, which could not be opened again. I tried to remove and install it again as well as removing java and installing it again too, but neither did work.\r\nWhen I run ```./idea.sh```, I get the following error: \r\n```\r\nOpenJDK 64-Bit Server VM warning: Archived non-system classes are disabled because the java.system.class.loader property is specified (value = &quot;com.intellij.util.lang.PathClassLoader&quot;). To use archived non-system classes, this property must not be set\r\nError: LinkageError occurred while loading main class com.intellij.idea.Main\r\n\tjava.lang.ExceptionInInitializerError: null\r\n```\r\n---\r\nNow, I&#39;m not even able to &quot;[change JRE in intelliJ][1]&quot; as [suggested in the comments][2] any more.\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\r\n  [2]: https://stackoverflow.com/questions/72067909/intellij-idea-doesnt-start-on-ubuntu-after-change-the-boot-java-runtime#comment127350005_72067909","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu after Change the boot Java runtime","body":"<p>Before, my IntelliJ ran well. But I used java 6 , so my project could not run with gradle.\nI switched java to version 8 with the command <code>sudo update-alternatives --config java</code> .\nI checked <code>java -version</code>  was <code>1.8.0_312</code>. It's OK, but in IntelliJ, the Java still had version 6. Then, I changed java version  in IntelliJ with:</p>\n<blockquote>\n<p><em>From the main menu, select Help | Find Action or press <strong><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>A</kbd>.</strong></em></p>\n<p><em>Find and select the Choose Boot Java Runtime for the IDE action.</em></p>\n<p><em>Select the desired runtime and click OK.</em></p>\n</blockquote>\n<p>And restarted IntelliJ, which could not be opened again. I tried to remove and install it again as well as removing java and installing it again too, but neither did work.\nWhen I run <code>./idea.sh</code>, I get the following error:</p>\n<pre><code>OpenJDK 64-Bit Server VM warning: Archived non-system classes are disabled because the java.system.class.loader property is specified (value = &quot;com.intellij.util.lang.PathClassLoader&quot;). To use archived non-system classes, this property must not be set\nError: LinkageError occurred while loading main class com.intellij.idea.Main\n    java.lang.ExceptionInInitializerError: null\n</code></pre>\n<hr />\n<p>Now, I'm not even able to &quot;<a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\" rel=\"nofollow noreferrer\">change JRE in intelliJ</a>&quot; as <a href=\"https://stackoverflow.com/questions/72067909/intellij-idea-doesnt-start-on-ubuntu-after-change-the-boot-java-runtime#comment127350005_72067909\">suggested in the comments</a> any more.</p>\n"},{"tags":["java","apache-spark","hadoop","hdfs"],"comments":[{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":0,"creation_date":1677146934,"post_id":75542443,"comment_id":133281685,"body_markdown":"after your last query do you write again to the same path (inputFile + &quot;.parquet&quot;) ?","body":"after your last query do you write again to the same path (inputFile + &quot;.parquet&quot;) ?"},{"owner":{"account_id":4430513,"reputation":545,"user_id":3607787,"accept_rate":50,"display_name":"Arjun"},"score":0,"creation_date":1677147204,"post_id":75542443,"comment_id":133281772,"body_markdown":"No. we don&#39;t write anything back to parquet file","body":"No. we don&#39;t write anything back to parquet file"},{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":0,"creation_date":1677155291,"post_id":75542443,"comment_id":133284038,"body_markdown":"Looks like the parquet file is being updated while you read it. Is it possible in your situation?","body":"Looks like the parquet file is being updated while you read it. Is it possible in your situation?"},{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":0,"creation_date":1677158450,"post_id":75542443,"comment_id":133285025,"body_markdown":"this could help https://stackoverflow.com/questions/42607591/filenotfoundexception-when-trying-to-save-dataframe-to-parquet-format-with-ove","body":"this could help <a href=\"https://stackoverflow.com/questions/42607591/filenotfoundexception-when-trying-to-save-dataframe-to-parquet-format-with-ove\" title=\"filenotfoundexception when trying to save dataframe to parquet format with ove\">stackoverflow.com/questions/42607591/&hellip;</a>"},{"owner":{"account_id":4430513,"reputation":545,"user_id":3607787,"accept_rate":50,"display_name":"Arjun"},"score":0,"creation_date":1677161842,"post_id":75542443,"comment_id":133286192,"body_markdown":"No.. we aren&#39;t updating parquet file once it is created. Also the same was working fine last 2 years and suddenly stopped working","body":"No.. we aren&#39;t updating parquet file once it is created. Also the same was working fine last 2 years and suddenly stopped working"}],"owner":{"account_id":4430513,"reputation":545,"user_id":3607787,"accept_rate":50,"display_name":"Arjun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677142141,"creation_date":1677142141,"question_id":75542443,"body_markdown":"When I run the job in spark cluster, it is throwing the below error. Tried multiple jobs, but all failed with the same reason. \r\n```\r\nCaused by: org.apache.spark.SparkException: Job aborted due to stage failure: \r\nTask 3 in stage 2.0 failed 4 times, most recent failure: Lost task 3.3 in stage 2.0 (TID 44, 172.0.0.0, executor 4): \r\njava.io.FileNotFoundException: File file:/home/user/spark-2.4.4-bin-hadoop2.7/work/driver-20230223072100-0000/CP712292-202302171800-23.0.0.0-312-1676688839-filter.parquet/part-00005-dd53c462-fc3b-4c76-b4b4-42afd8aedcca-c000.snappy.parquet does not exist\r\n```\r\n\r\nJob details: The job reads file from HDFS, convert it to DataSet, and push it to HDFS as parquet file for faster processing. Spark will fetch the parquet file from HDFS and starts aggregating the data as per logic. The issue is, it doesn&#39;t get part of parquet file while processing it.\r\n\r\n```         \r\nSystem.out.println(&quot;Creating parquet file from the created RDD...&quot;);\r\nDataset&lt;Row&gt; testDF = spark.createDataFrame(testRDD, Test.class);\r\n\r\nSystem.out.println(&quot;Writing to parquet file...&quot;);\r\ntestDF.write().mode(SaveMode.Overwrite).parquet(inputFile + &quot;.parquet&quot;);\r\n\r\nSystem.out.println(&quot;Loading parquet file to a Java Dataset...&quot;);\r\nDataset&lt;Row&gt; parquetFileDF = spark.read().parquet(inputFile + &quot;.parquet&quot;);\r\nparquetFileDF.createOrReplaceTempView(&quot;Test&quot;);\r\nDataset&lt;Row&gt; df1 = spark.sql(query);\r\n```\r\n\r\nCluster details: It&#39;s a 10 node Spark and Hadoop cluster running in cluster mode. Version 2.4.4\r\n\r\nCan&#39;t find any other error logs apart from it.","title":"SparkException part-00005 of parquet file not found","body":"<p>When I run the job in spark cluster, it is throwing the below error. Tried multiple jobs, but all failed with the same reason.</p>\n<pre><code>Caused by: org.apache.spark.SparkException: Job aborted due to stage failure: \nTask 3 in stage 2.0 failed 4 times, most recent failure: Lost task 3.3 in stage 2.0 (TID 44, 172.0.0.0, executor 4): \njava.io.FileNotFoundException: File file:/home/user/spark-2.4.4-bin-hadoop2.7/work/driver-20230223072100-0000/CP712292-202302171800-23.0.0.0-312-1676688839-filter.parquet/part-00005-dd53c462-fc3b-4c76-b4b4-42afd8aedcca-c000.snappy.parquet does not exist\n</code></pre>\n<p>Job details: The job reads file from HDFS, convert it to DataSet, and push it to HDFS as parquet file for faster processing. Spark will fetch the parquet file from HDFS and starts aggregating the data as per logic. The issue is, it doesn't get part of parquet file while processing it.</p>\n<pre><code>System.out.println(&quot;Creating parquet file from the created RDD...&quot;);\nDataset&lt;Row&gt; testDF = spark.createDataFrame(testRDD, Test.class);\n\nSystem.out.println(&quot;Writing to parquet file...&quot;);\ntestDF.write().mode(SaveMode.Overwrite).parquet(inputFile + &quot;.parquet&quot;);\n\nSystem.out.println(&quot;Loading parquet file to a Java Dataset...&quot;);\nDataset&lt;Row&gt; parquetFileDF = spark.read().parquet(inputFile + &quot;.parquet&quot;);\nparquetFileDF.createOrReplaceTempView(&quot;Test&quot;);\nDataset&lt;Row&gt; df1 = spark.sql(query);\n</code></pre>\n<p>Cluster details: It's a 10 node Spark and Hadoop cluster running in cluster mode. Version 2.4.4</p>\n<p>Can't find any other error logs apart from it.</p>\n"},{"tags":["java","replace"],"answers":[{"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677128214,"post_id":75540653,"comment_id":133277714,"body_markdown":"That regular expression in the last line could be as simple as `&quot;.*\\\\.&quot;`","body":"That regular expression in the last line could be as simple as <code>&quot;.*\\\\.&quot;</code>"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677128340,"post_id":75540653,"comment_id":133277730,"body_markdown":"@DawoodibnKareem It depends on what the output should be with multiple dots.","body":"@DawoodibnKareem It depends on what the output should be with multiple dots."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677127564,"creation_date":1677127564,"answer_id":75540653,"question_id":75540632,"body_markdown":"You can get the index of the dot and call `substring` if found.\r\n\r\n```java\r\nint idx = str.indexOf(&#39;.&#39;);\r\nif (idx != -1) str = str.substring(idx + 1);\r\n```\r\n\r\nYou could also use a regular expression with `String#replaceAll`.\r\n\r\n```java\r\nstr = str.replaceAll(&quot;^[^.]*\\\\.&quot;, &quot;&quot;);\r\n```","title":"How to replace string with Java","body":"<p>You can get the index of the dot and call <code>substring</code> if found.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int idx = str.indexOf('.');\nif (idx != -1) str = str.substring(idx + 1);\n</code></pre>\n<p>You could also use a regular expression with <code>String#replaceAll</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>str = str.replaceAll(&quot;^[^.]*\\\\.&quot;, &quot;&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677141616,"post_id":75541827,"comment_id":133280179,"body_markdown":"Please use real words, so use &quot;you&quot;, not &quot;U&quot;.","body":"Please use real words, so use &quot;you&quot;, not &quot;U&quot;."}],"tags":[],"owner":{"account_id":18135565,"reputation":21,"user_id":13190150,"display_name":"Ahmed Eldeeb"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677141599,"creation_date":1677137979,"answer_id":75541827,"question_id":75540632,"body_markdown":"First you can find the index of dot, then you can get substring from the next index below the index of dot until the end of string.\r\n\r\n   \r\n\r\n    String s1 = &quot;.ABCeee&quot;;\r\n    int index = s1.indexOf(&#39;.&#39;);\r\n    if(index != -1)\r\n        s1 = s1.substring(index + 1, s1.length());","title":"How to replace string with Java","body":"<p>First you can find the index of dot, then you can get substring from the next index below the index of dot until the end of string.</p>\n<pre><code>String s1 = &quot;.ABCeee&quot;;\nint index = s1.indexOf('.');\nif(index != -1)\n    s1 = s1.substring(index + 1, s1.length());\n</code></pre>\n"}],"owner":{"account_id":13745290,"reputation":3,"user_id":9919179,"display_name":"hong kun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677164188,"accepted_answer_id":75540653,"answer_count":2,"score":0,"last_activity_date":1677141599,"creation_date":1677127347,"question_id":75540632,"body_markdown":"I want to replace the string like ABC.eee -&gt; eee\r\n\r\nIt means that I want to erase string before dot if string has dot (.), if string doesn&#39;t have dot, nothing should happen.\r\n\r\nI tried regex compression, split etc.\r\n\r\n","title":"How to replace string with Java","body":"<p>I want to replace the string like ABC.eee -&gt; eee</p>\n<p>It means that I want to erase string before dot if string has dot (.), if string doesn't have dot, nothing should happen.</p>\n<p>I tried regex compression, split etc.</p>\n"},{"tags":["java","mysql","swing","jframe","jtable"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676371965,"post_id":75446763,"comment_id":133119452,"body_markdown":"[and it works just fine in MySql but it doesn&#39;t work in jframe.](https://technojeeves.com/index.php/aliasjava1/77-doesntwork)","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/77-doesntwork\" rel=\"nofollow noreferrer\">and it works just fine in MySql but it doesn&#39;t work in jframe.</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1676386703,"post_id":75446763,"comment_id":133124015,"body_markdown":"The default renderer for a JTable is a JLabel. A JLabel will not display multiple lines when using &quot;\\n&quot;. You can use HTML with the &lt;br&gt; tag to display multiple lines. However, you will also need to set the row height in the table.","body":"The default renderer for a JTable is a JLabel. A JLabel will not display multiple lines when using &quot;\\n&quot;. You can use HTML with the &lt;br&gt; tag to display multiple lines. However, you will also need to set the row height in the table."},{"owner":{"account_id":24235045,"reputation":17,"user_id":18188300,"display_name":"Yasmine El"},"score":0,"creation_date":1676470373,"post_id":75446763,"comment_id":133142917,"body_markdown":"@camickr  , I did try &lt;html&gt;&lt;br&gt;&lt;/html&gt; but it didn&#39;t work too, I might have done wrong","body":"@camickr  , I did try &lt;html&gt;&lt;br&gt;&lt;/html&gt; but it didn&#39;t work too, I might have done wrong"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1676473669,"post_id":75446763,"comment_id":133144150,"body_markdown":"You actually need to add text before and after the &lt;br&gt;.","body":"You actually need to add text before and after the &lt;br&gt;."}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1677225190,"post_id":75542344,"comment_id":133299349,"body_markdown":"repeating: java naming conventions please","body":"repeating: java naming conventions please"}],"tags":[],"owner":{"account_id":24235045,"reputation":17,"user_id":18188300,"display_name":"Yasmine El"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677141539,"creation_date":1677141479,"answer_id":75542344,"question_id":75446763,"body_markdown":"thanks to @camickr\r\ni know that i need to use &quot;br&quot; and have text before and after the &quot;br&quot;\r\n```\r\npublic void filltable_pr() {\r\ntry {\r\nconnectore.statement = connectore.connection.prepareStatement(&quot;SELECT i.*,GROUP_CONCAT(&#39;&lt;html&gt;&#39;,a.montant,&quot;\r\n+&quot; a.type_avance,a.date_avance,a.remark SEPARATOR &#39;&lt;br&gt;&lt;/html&gt;&#39;) as Avance &quot;\r\n+&quot; FROM info_impayee i LEFT JOIN avance a ON i.n_dossier = a.n_dossier GROUP by i.n_dossier,i.date_dossier&quot;);\r\nconnectore.resultSet = connectore.statement.executeQuery();\r\ntb_imp_pr.setModel(DbUtils.resultSetToTableModel(connectore.resultSet));\r\n} catch (Exception ex) {\r\n   System.out.println(ex);\r\n   }     \r\n}\r\n```","title":"how can I get jtable to show multiple lines in a row","body":"<p>thanks to @camickr\ni know that i need to use &quot;br&quot; and have text before and after the &quot;br&quot;</p>\n<pre><code>public void filltable_pr() {\ntry {\nconnectore.statement = connectore.connection.prepareStatement(&quot;SELECT i.*,GROUP_CONCAT('&lt;html&gt;',a.montant,&quot;\n+&quot; a.type_avance,a.date_avance,a.remark SEPARATOR '&lt;br&gt;&lt;/html&gt;') as Avance &quot;\n+&quot; FROM info_impayee i LEFT JOIN avance a ON i.n_dossier = a.n_dossier GROUP by i.n_dossier,i.date_dossier&quot;);\nconnectore.resultSet = connectore.statement.executeQuery();\ntb_imp_pr.setModel(DbUtils.resultSetToTableModel(connectore.resultSet));\n} catch (Exception ex) {\n   System.out.println(ex);\n   }     \n}\n</code></pre>\n"}],"owner":{"account_id":24235045,"reputation":17,"user_id":18188300,"display_name":"Yasmine El"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75542344,"answer_count":1,"score":0,"last_activity_date":1677141539,"creation_date":1676371763,"question_id":75446763,"body_markdown":"and i would like my data to show like this:\r\n[MySql table](https://i.stack.imgur.com/75hfr.png)\r\nbut i only get this: \r\n[java](https://i.stack.imgur.com/qGN4i.png)\r\n\r\nI used this query:\r\n`GROUP_CONCAT(a.montant, a.type_avance,a.date_avance,a.remark SEPARATOR &#39;\\n&#39;) as Avance`\r\n\r\nand it works just fine in MySql but it doesn&#39;t work in jframe.\r\n\r\nthis my java code:\r\n\r\n```\r\n//declaring the table\r\ntb_imp_pr = new JTable();\r\n\t\ttb_imp_pr.setRowHeight(50);\r\n\t\ttb_imp_pr.setBackground(Color.WHITE);\r\n\t\tscrollPane.setViewportView(tb_imp_pr);\r\n```\r\n```\r\n// filling the table\r\npublic void filltable_pr() {\r\n\t\ttry {\r\n\t\t\tconnectore.statement = connectore.connection.prepareStatement(&quot;SELECT i.*,GROUP_CONCAT(a.montant,&quot;\r\n+&quot; a.type_avance,a.date_avance,a.remark SEPARATOR &#39;\\n&#39;) as Avance &quot;\r\n+&quot; FROM info_impayee i LEFT JOIN avance a ON i.n_dossier = a.n_dossier GROUP by i.n_dossier,i.date_dossier&quot;);\r\n\t\t\tconnectore.resultSet = connectore.statement.executeQuery();\r\n\t\t\ttb_imp_pr.setModel(DbUtils.resultSetToTableModel(connectore.resultSet));\r\n\t\t} catch (Exception ex) {\r\n\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t\r\n\t}\r\n\r\n```\r\n","title":"how can I get jtable to show multiple lines in a row","body":"<p>and i would like my data to show like this:\n<a href=\"https://i.stack.imgur.com/75hfr.png\" rel=\"nofollow noreferrer\">MySql table</a>\nbut i only get this:\n<a href=\"https://i.stack.imgur.com/qGN4i.png\" rel=\"nofollow noreferrer\">java</a></p>\n<p>I used this query:\n<code>GROUP_CONCAT(a.montant, a.type_avance,a.date_avance,a.remark SEPARATOR '\\n') as Avance</code></p>\n<p>and it works just fine in MySql but it doesn't work in jframe.</p>\n<p>this my java code:</p>\n<pre><code>//declaring the table\ntb_imp_pr = new JTable();\n        tb_imp_pr.setRowHeight(50);\n        tb_imp_pr.setBackground(Color.WHITE);\n        scrollPane.setViewportView(tb_imp_pr);\n</code></pre>\n<pre><code>// filling the table\npublic void filltable_pr() {\n        try {\n            connectore.statement = connectore.connection.prepareStatement(&quot;SELECT i.*,GROUP_CONCAT(a.montant,&quot;\n+&quot; a.type_avance,a.date_avance,a.remark SEPARATOR '\\n') as Avance &quot;\n+&quot; FROM info_impayee i LEFT JOIN avance a ON i.n_dossier = a.n_dossier GROUP by i.n_dossier,i.date_dossier&quot;);\n            connectore.resultSet = connectore.statement.executeQuery();\n            tb_imp_pr.setModel(DbUtils.resultSetToTableModel(connectore.resultSet));\n        } catch (Exception ex) {\n            System.out.println();\n            }\n        \n    }\n\n</code></pre>\n"},{"tags":["java","packet","jnetpcap"],"owner":{"account_id":23046686,"reputation":1,"user_id":17164152,"display_name":"Boring Boring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677141502,"creation_date":1677141227,"question_id":75542298,"body_markdown":"I have this simple Java code that uses Jnetpcap to capture packets and print them.\r\n\r\n```\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        ArrayList&lt;PcapIf&gt; alldevs = new ArrayList&lt;PcapIf&gt;(); // Will be filled with NICs\r\n        StringBuilder errbuf = new StringBuilder(); // For any error msgs\r\n\r\n        int r = Pcap.findAllDevs(alldevs, errbuf);\r\n        \r\n        if (r == Pcap.NOT_OK || alldevs.isEmpty()) {\r\n            System.err.printf(&quot;Can&#39;t read list of devices, error is %s&quot;, errbuf.toString());\r\n            \r\n        }\r\n        \r\n        PcapIf device = alldevs.get(2);\r\n        System.out.println(device.getName());// We know we have at least 1 device\r\n        int snaplen = 64 * 1024;           // Capture all packets, no trucation\r\n        int flags = Pcap.MODE_PROMISCUOUS; // capture all packets\r\n        int timeout = 10 * 1000;           // 10 seconds in millis\r\n        Pcap pcap = Pcap.openLive(device.getName(), snaplen, flags, timeout, errbuf);\r\n\r\n        if (pcap == null) {\r\n            System.err.printf(&quot;Error while opening device for capture: &quot; + errbuf.toString());\r\n            return;\r\n        }\r\n\r\n        PcapPacketHandler&lt;String&gt; jpacketHandler = new PcapPacketHandler&lt;String&gt;() {\r\n            \r\n            @Override\r\n            public void nextPacket(PcapPacket packet, String user) {\r\n                System.out.println(packet.toString());\r\n                return;\r\n        }\r\n        };\r\n\r\n        try {\r\n            pcap.loop(-1, jpacketHandler, &quot;jNetPcap&quot;);\r\n        } finally {\r\n            pcap.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nas I said the code works like 1 out of 5 times when it doesn&#39;t it just keeps running and doesn&#39;t print anything. I tried in different devices and still the same weird result. can someone help me with this? ","title":"same JNetPcap code to capture packets works inconsistently","body":"<p>I have this simple Java code that uses Jnetpcap to capture packets and print them.</p>\n<pre><code>public class App {\n    public static void main(String[] args) throws Exception {\n        ArrayList&lt;PcapIf&gt; alldevs = new ArrayList&lt;PcapIf&gt;(); // Will be filled with NICs\n        StringBuilder errbuf = new StringBuilder(); // For any error msgs\n\n        int r = Pcap.findAllDevs(alldevs, errbuf);\n        \n        if (r == Pcap.NOT_OK || alldevs.isEmpty()) {\n            System.err.printf(&quot;Can't read list of devices, error is %s&quot;, errbuf.toString());\n            \n        }\n        \n        PcapIf device = alldevs.get(2);\n        System.out.println(device.getName());// We know we have at least 1 device\n        int snaplen = 64 * 1024;           // Capture all packets, no trucation\n        int flags = Pcap.MODE_PROMISCUOUS; // capture all packets\n        int timeout = 10 * 1000;           // 10 seconds in millis\n        Pcap pcap = Pcap.openLive(device.getName(), snaplen, flags, timeout, errbuf);\n\n        if (pcap == null) {\n            System.err.printf(&quot;Error while opening device for capture: &quot; + errbuf.toString());\n            return;\n        }\n\n        PcapPacketHandler&lt;String&gt; jpacketHandler = new PcapPacketHandler&lt;String&gt;() {\n            \n            @Override\n            public void nextPacket(PcapPacket packet, String user) {\n                System.out.println(packet.toString());\n                return;\n        }\n        };\n\n        try {\n            pcap.loop(-1, jpacketHandler, &quot;jNetPcap&quot;);\n        } finally {\n            pcap.close();\n        }\n    }\n}\n</code></pre>\n<p>as I said the code works like 1 out of 5 times when it doesn't it just keeps running and doesn't print anything. I tried in different devices and still the same weird result. can someone help me with this?</p>\n"},{"tags":["java","spring","oracle","xsd","liquibase"],"owner":{"account_id":18127469,"reputation":33,"user_id":13182882,"display_name":"Janny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677141385,"creation_date":1676893229,"question_id":75508809,"body_markdown":"I have a Spring project using an existing Oracle DB. \r\nTo set up Liquibase for my DB: I add liquibase in my pom.xml:\r\n\r\n```\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n     &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n     &lt;version&gt;4.18.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nA liquibase bean is declare in my application-context.xml:\r\n \r\n```\r\n&lt;bean id=&quot;liquibase&quot; class=&quot;liquibase.integration.spring.SpringLiquibase&quot;&gt;\r\n\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n \t&lt;property name=&quot;changeLog&quot; value=&quot;classpath:liquibase/master.xml&quot; /&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nMy liquibase.properties file is placed in main/src/ressources\r\n\r\n```\r\nchangeLogFile=liquibase/master.xml\r\nliquibase.command.url=jdbc:oracle:thin:@localhost:1521/orcl\r\nliquibase.command.username: admin\r\nliquibase.command.password: admin\r\nliquibase.command.referenceUrl: jdbc:oracle:thin:@localhost:1521/orcl\r\nliquibase.command.referenceUsername: admin\r\nliquibase.command.referencePassword: admin\r\nliquibase.licenseKey: &lt;my pro licence key&gt;\r\n```\r\nWhen I start my application with Tomcat, the liquibase.properties file is not loaded because I have an error of non valid liquibase license key. \r\n\r\nHow should I do to properly configure Liquibase for my Spring application?","title":"How to properly set up Liquibase pro licence key in Spring project","body":"<p>I have a Spring project using an existing Oracle DB.\nTo set up Liquibase for my DB: I add liquibase in my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n     &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n     &lt;version&gt;4.18.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>A liquibase bean is declare in my application-context.xml:</p>\n<pre><code>&lt;bean id=&quot;liquibase&quot; class=&quot;liquibase.integration.spring.SpringLiquibase&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n    &lt;property name=&quot;changeLog&quot; value=&quot;classpath:liquibase/master.xml&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>My liquibase.properties file is placed in main/src/ressources</p>\n<pre><code>changeLogFile=liquibase/master.xml\nliquibase.command.url=jdbc:oracle:thin:@localhost:1521/orcl\nliquibase.command.username: admin\nliquibase.command.password: admin\nliquibase.command.referenceUrl: jdbc:oracle:thin:@localhost:1521/orcl\nliquibase.command.referenceUsername: admin\nliquibase.command.referencePassword: admin\nliquibase.licenseKey: &lt;my pro licence key&gt;\n</code></pre>\n<p>When I start my application with Tomcat, the liquibase.properties file is not loaded because I have an error of non valid liquibase license key.</p>\n<p>How should I do to properly configure Liquibase for my Spring application?</p>\n"},{"tags":["java","sockets","error-handling","tcpclient","tcpserver"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677140178,"post_id":75542042,"comment_id":133279821,"body_markdown":"Are you sure you&#39;re connecting to the server and not to something else?","body":"Are you sure you&#39;re connecting to the server and not to something else?"},{"owner":{"account_id":10473243,"reputation":3,"user_id":7720541,"display_name":"Mladen Jovanovic"},"score":0,"creation_date":1677140483,"post_id":75542042,"comment_id":133279903,"body_markdown":"Yes, i&#39;m. Because i am getting random object for the first time, server is sending object, but when am asking randomobject for the second time error occurs","body":"Yes, i&#39;m. Because i am getting random object for the first time, server is sending object, but when am asking randomobject for the second time error occurs"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677140615,"post_id":75542042,"comment_id":133279931,"body_markdown":"Ah I overlooked the loop...","body":"Ah I overlooked the loop..."}],"answers":[{"comments":[{"owner":{"account_id":10473243,"reputation":3,"user_id":7720541,"display_name":"Mladen Jovanovic"},"score":0,"creation_date":1677145491,"post_id":75542223,"comment_id":133281244,"body_markdown":"Thanks for the answer, this was the mistake. I only put reference of the objectinputstream outside while loop and it worked...","body":"Thanks for the answer, this was the mistake. I only put reference of the objectinputstream outside while loop and it worked..."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677141015,"creation_date":1677140670,"answer_id":75542223,"question_id":75542042,"body_markdown":"You need to create the `ObjectInputStream` in both client and server **once**, **before** the loops. Also, I don&#39;t see an `ObjectOutputStream` in your client code, but if there is (judging by the use of an `ObjectInputStream` in the server there should be), it should also be created only **once**.\r\n\r\nThe problem is that the object input/output streams have a specific protocol, where the creation of the `ObjectOutputStream` sends a &quot;stream header&quot;, and the `ObjectInputStream` when created expects to read that header. If you create the object output stream once, but create a new object input stream for each iteration of the loop, then the second creation will fail, because there is no such stream header to read.\r\n\r\nAlso, to avoid mutual waiting, make sure to create `ObjectOutputStream` *before* `ObjectInputStream`.\r\n","title":"java.io.StreamCorruptedException: invalid stream header: 73720019","body":"<p>You need to create the <code>ObjectInputStream</code> in both client and server <strong>once</strong>, <strong>before</strong> the loops. Also, I don't see an <code>ObjectOutputStream</code> in your client code, but if there is (judging by the use of an <code>ObjectInputStream</code> in the server there should be), it should also be created only <strong>once</strong>.</p>\n<p>The problem is that the object input/output streams have a specific protocol, where the creation of the <code>ObjectOutputStream</code> sends a &quot;stream header&quot;, and the <code>ObjectInputStream</code> when created expects to read that header. If you create the object output stream once, but create a new object input stream for each iteration of the loop, then the second creation will fail, because there is no such stream header to read.</p>\n<p>Also, to avoid mutual waiting, make sure to create <code>ObjectOutputStream</code> <em>before</em> <code>ObjectInputStream</code>.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677141068,"post_id":75542269,"comment_id":133280046,"body_markdown":"It is the exact opposite, the OP is creating a new `ObjectInputStream` every iteration of the loop, and they should only create one per connection.","body":"It is the exact opposite, the OP is creating a new <code>ObjectInputStream</code> every iteration of the loop, and they should only create one per connection."}],"tags":[],"owner":{"account_id":27841485,"reputation":1,"user_id":21257875,"display_name":"Solomon Tomy"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677141067,"creation_date":1677141013,"answer_id":75542269,"question_id":75542042,"body_markdown":"It seems that the problem is related to the fact that the client is using a single ObjectInputStream instance to read multiple objects from the server. The ObjectInputStream reads objects in a stream and it might buffer some data internally. When the client sends a message asking the server to send the object again, the server sends a new object, but the client continues to read from the same.To fix this issue, you can create a new ObjectInputStream instance every time the client receives an object from the server. This will ensure that the stream is synchronized with the new object and any buffered data from the previous object is discarded. Here is an updated version of the client code that creates a new ObjectInputStream instance every time an object is received:// Create a new ObjectInputStream instance every time an object is received\r\n\r\n       `ObjectInputStream in = new ObjectInputStream(inputStream);\r\n        object = in.readObject();`","title":"java.io.StreamCorruptedException: invalid stream header: 73720019","body":"<p>It seems that the problem is related to the fact that the client is using a single ObjectInputStream instance to read multiple objects from the server. The ObjectInputStream reads objects in a stream and it might buffer some data internally. When the client sends a message asking the server to send the object again, the server sends a new object, but the client continues to read from the same.To fix this issue, you can create a new ObjectInputStream instance every time the client receives an object from the server. This will ensure that the stream is synchronized with the new object and any buffered data from the previous object is discarded. Here is an updated version of the client code that creates a new ObjectInputStream instance every time an object is received:// Create a new ObjectInputStream instance every time an object is received</p>\n<pre><code>   `ObjectInputStream in = new ObjectInputStream(inputStream);\n    object = in.readObject();`\n</code></pre>\n"}],"owner":{"account_id":10473243,"reputation":3,"user_id":7720541,"display_name":"Mladen Jovanovic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75542223,"answer_count":2,"score":0,"last_activity_date":1677141067,"creation_date":1677139411,"question_id":75542042,"body_markdown":"When random object sent from TCP Server to TCP Client first time everything works fine, but when TCP Server sends again random object this error happens. I have tried with flush() method after sending data, but did not work either. Please, help me...\r\n\r\nSending point of TCP Server\r\n\r\n```\r\ntry {\r\n    serverSocket = new ServerSocket(PORT);textArea.append(&quot;Server started, port : &quot; + PORT + &quot;\\n&quot;);\r\n    socket = serverSocket.accept();\r\n    textArea.append(&quot;Client connected...\\n&quot;);\r\n\r\n    Object object = randomObject();\r\n    out = new ObjectOutputStream(socket.getOutputStream());\r\n    out.writeObject(object);\r\n    textArea.append(&quot;Object sent...\\n&quot;);\r\n    String message = &quot;&quot;;\r\n\r\n    while(socket.isConnected()){\r\n        in = new ObjectInputStream(socket.getInputStream());\r\n        message = String.valueOf(in.readObject());\r\n        if(message.equals(&quot;Please, send me object again...&quot;)){\r\n            textArea.append(&quot;Message received : &quot; + message + &quot;\\n&quot;);\r\n            Object s = randomObject();\r\n            out.writeObject(s);\r\n            textArea.append(&quot;Object sent again...\\n&quot;);\r\n        }\r\n    }\r\n\r\n} catch (IOException e) {\r\n    throw new RuntimeException(e);\r\n} catch (ClassNotFoundException e) {\r\n    throw new RuntimeException(e);\r\n}\r\n```\r\n\r\nProblem is here in TCP Client, line breaks at new ObjectInputStream.\r\n```\r\ntry {\r\n    socket = new Socket(ADDRESS, PORT);\r\n    System.out.println(&quot;Connected...&quot;);\r\n\r\n    speedLbl.setText(&quot;Speed : &quot; + speed + &quot;px&quot;);\r\n\r\n    while(socket.isConnected()){\r\n        inputStream = socket.getInputStream();\r\n\r\n        in = new ObjectInputStream(inputStream);\r\n        object = in.readObject();\r\n\r\n        if(object instanceof Kvadrat){\r\n            kvadrat = (Kvadrat) object;\r\n            koordinatniSistem.add(kvadrat);\r\n            System.out.println(kvadrat.getName());\r\n            label.setText(&quot;X : &quot; + kvadrat.getX() + &quot; - Y: &quot; + kvadrat.getY());\r\n        } else if (object instanceof Pravougaonik) {\r\n            pravougaonik = (Pravougaonik) object;\r\n            koordinatniSistem.add(pravougaonik);\r\n            System.out.println(pravougaonik.getName());\r\n            label.setText(&quot;X : &quot; + pravougaonik.getX() + &quot; - Y: &quot; + pravougaonik.getY());\r\n        } else if (object instanceof Krug) {\r\n            krug = (Krug) object;\r\n            koordinatniSistem.add(krug);\r\n            System.out.println(krug.getName());\r\n            label.setText(&quot;X : &quot; + krug.getX() + &quot; - Y: &quot; + krug.getY());\r\n        }else if (object instanceof Trougao) {\r\n            trougao = (Trougao) object;\r\n            koordinatniSistem.add(trougao);\r\n            System.out.println(trougao.getName());\r\n            label.setText(&quot;X : &quot; + trougao.getX() + &quot; - Y: &quot; + trougao.getY());\r\n        } else {\r\n            System.out.println(object.getClass().getSimpleName());\r\n        }\r\n        koordinatniSistem.repaint();\r\n    }\r\n\r\n} catch (IOException | ClassNotFoundException e) {\r\n    throw new RuntimeException(e);\r\n}\r\n```","title":"java.io.StreamCorruptedException: invalid stream header: 73720019","body":"<p>When random object sent from TCP Server to TCP Client first time everything works fine, but when TCP Server sends again random object this error happens. I have tried with flush() method after sending data, but did not work either. Please, help me...</p>\n<p>Sending point of TCP Server</p>\n<pre><code>try {\n    serverSocket = new ServerSocket(PORT);textArea.append(&quot;Server started, port : &quot; + PORT + &quot;\\n&quot;);\n    socket = serverSocket.accept();\n    textArea.append(&quot;Client connected...\\n&quot;);\n\n    Object object = randomObject();\n    out = new ObjectOutputStream(socket.getOutputStream());\n    out.writeObject(object);\n    textArea.append(&quot;Object sent...\\n&quot;);\n    String message = &quot;&quot;;\n\n    while(socket.isConnected()){\n        in = new ObjectInputStream(socket.getInputStream());\n        message = String.valueOf(in.readObject());\n        if(message.equals(&quot;Please, send me object again...&quot;)){\n            textArea.append(&quot;Message received : &quot; + message + &quot;\\n&quot;);\n            Object s = randomObject();\n            out.writeObject(s);\n            textArea.append(&quot;Object sent again...\\n&quot;);\n        }\n    }\n\n} catch (IOException e) {\n    throw new RuntimeException(e);\n} catch (ClassNotFoundException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>Problem is here in TCP Client, line breaks at new ObjectInputStream.</p>\n<pre><code>try {\n    socket = new Socket(ADDRESS, PORT);\n    System.out.println(&quot;Connected...&quot;);\n\n    speedLbl.setText(&quot;Speed : &quot; + speed + &quot;px&quot;);\n\n    while(socket.isConnected()){\n        inputStream = socket.getInputStream();\n\n        in = new ObjectInputStream(inputStream);\n        object = in.readObject();\n\n        if(object instanceof Kvadrat){\n            kvadrat = (Kvadrat) object;\n            koordinatniSistem.add(kvadrat);\n            System.out.println(kvadrat.getName());\n            label.setText(&quot;X : &quot; + kvadrat.getX() + &quot; - Y: &quot; + kvadrat.getY());\n        } else if (object instanceof Pravougaonik) {\n            pravougaonik = (Pravougaonik) object;\n            koordinatniSistem.add(pravougaonik);\n            System.out.println(pravougaonik.getName());\n            label.setText(&quot;X : &quot; + pravougaonik.getX() + &quot; - Y: &quot; + pravougaonik.getY());\n        } else if (object instanceof Krug) {\n            krug = (Krug) object;\n            koordinatniSistem.add(krug);\n            System.out.println(krug.getName());\n            label.setText(&quot;X : &quot; + krug.getX() + &quot; - Y: &quot; + krug.getY());\n        }else if (object instanceof Trougao) {\n            trougao = (Trougao) object;\n            koordinatniSistem.add(trougao);\n            System.out.println(trougao.getName());\n            label.setText(&quot;X : &quot; + trougao.getX() + &quot; - Y: &quot; + trougao.getY());\n        } else {\n            System.out.println(object.getClass().getSimpleName());\n        }\n        koordinatniSistem.repaint();\n    }\n\n} catch (IOException | ClassNotFoundException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":27858344,"reputation":46,"user_id":21271391,"display_name":"Ch Saireddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677140771,"creation_date":1677140771,"answer_id":75542236,"question_id":75542151,"body_markdown":"The reason why the first code snippet you tried did not work is because setPackage method only takes one package name at a time, so you cannot specify multiple package names like you did.\r\n\r\nThe second code snippet you tried only specifies the second package name, so it will always open Business WhatsApp.\r\n\r\nOne way to allow the user to choose between WhatsApp and Business WhatsApp would be to present a chooser dialog that lets the user select which app to use. You can do this by using the Intent.createChooser() method, like this:\r\n\r\nIntent sendIntent = new Intent(Intent.ACTION_SENDTO, Uri.parse(&quot;smsto:&quot; + toNumber));\r\nsendIntent.setPackage(&quot;com.whatsapp&quot;);\r\n\r\nIntent businessSendIntent = new Intent(Intent.ACTION_SENDTO, Uri.parse(&quot;smsto:&quot; + toNumber));\r\nbusinessSendIntent.setPackage(&quot;com.whatsapp.w4b&quot;);\r\n\r\nIntent chooserIntent = Intent.createChooser(sendIntent, &quot;Choose app&quot;);\r\nchooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, new Intent[] { businessSendIntent });\r\nstartActivity(chooserIntent);\r\n\r\n\r\nIn this code, we create two separate intents, one for WhatsApp and one for Business WhatsApp. Then, we create a chooser intent using Intent.createChooser(), which will display a dialog that allows the user to choose which app to use. We set the main intent (sendIntent) as the initial option, and add the businessSendIntent as an additional option using the EXTRA_INITIAL_INTENTS extra.\r\n\r\nThis way, the user can choose which app to use, and the selected app will be used to send the message.","title":"How to set two packages to sendIntent in android?","body":"<p>The reason why the first code snippet you tried did not work is because setPackage method only takes one package name at a time, so you cannot specify multiple package names like you did.</p>\n<p>The second code snippet you tried only specifies the second package name, so it will always open Business WhatsApp.</p>\n<p>One way to allow the user to choose between WhatsApp and Business WhatsApp would be to present a chooser dialog that lets the user select which app to use. You can do this by using the Intent.createChooser() method, like this:</p>\n<p>Intent sendIntent = new Intent(Intent.ACTION_SENDTO, Uri.parse(&quot;smsto:&quot; + toNumber));\nsendIntent.setPackage(&quot;com.whatsapp&quot;);</p>\n<p>Intent businessSendIntent = new Intent(Intent.ACTION_SENDTO, Uri.parse(&quot;smsto:&quot; + toNumber));\nbusinessSendIntent.setPackage(&quot;com.whatsapp.w4b&quot;);</p>\n<p>Intent chooserIntent = Intent.createChooser(sendIntent, &quot;Choose app&quot;);\nchooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, new Intent[] { businessSendIntent });\nstartActivity(chooserIntent);</p>\n<p>In this code, we create two separate intents, one for WhatsApp and one for Business WhatsApp. Then, we create a chooser intent using Intent.createChooser(), which will display a dialog that allows the user to choose which app to use. We set the main intent (sendIntent) as the initial option, and add the businessSendIntent as an additional option using the EXTRA_INITIAL_INTENTS extra.</p>\n<p>This way, the user can choose which app to use, and the selected app will be used to send the message.</p>\n"}],"owner":{"account_id":19123704,"reputation":83,"user_id":18395575,"display_name":"VUELOVER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75542236,"answer_count":1,"score":0,"last_activity_date":1677140771,"creation_date":1677140214,"question_id":75542151,"body_markdown":"I&#39;m using sendIntent in my anroid project to send the user to whatsapp for sending the message. But i want both apps whatsapp and business whatsapp, so user can select according to there preference. Here is the code i tried : \r\n\r\n`````\r\nIntent sendIntent = new Intent(Intent.ACTION_SENDTO,Uri.parse(&quot;smsto:&quot; + toNumber));\r\nsendIntent.setPackage(&quot;com.whatsapp&quot;,&quot;com.whatsapp.w4b&quot;);\r\nstartActivity(sendIntent);\r\n`````\r\n\r\nThis doesn&#39;t work. I also tried this code \r\n\r\n`````\r\nIntent sendIntent = new Intent(Intent.ACTION_SENDTO,Uri.parse(&quot;smsto:&quot; + toNumber));\r\nsendIntent.setPackage(&quot;com.whatsapp&quot;);\r\nsendIntent.setPackage(&quot;com.whatsapp.w4b&quot;);\r\nstartActivity(sendIntent);\r\n`````\r\n\r\nThis works but this code autmatically open businesswhatsapp.\r\n\r\n","title":"How to set two packages to sendIntent in android?","body":"<p>I'm using sendIntent in my anroid project to send the user to whatsapp for sending the message. But i want both apps whatsapp and business whatsapp, so user can select according to there preference. Here is the code i tried :</p>\n<pre><code>Intent sendIntent = new Intent(Intent.ACTION_SENDTO,Uri.parse(&quot;smsto:&quot; + toNumber));\nsendIntent.setPackage(&quot;com.whatsapp&quot;,&quot;com.whatsapp.w4b&quot;);\nstartActivity(sendIntent);\n</code></pre>\n<p>This doesn't work. I also tried this code</p>\n<pre><code>Intent sendIntent = new Intent(Intent.ACTION_SENDTO,Uri.parse(&quot;smsto:&quot; + toNumber));\nsendIntent.setPackage(&quot;com.whatsapp&quot;);\nsendIntent.setPackage(&quot;com.whatsapp.w4b&quot;);\nstartActivity(sendIntent);\n</code></pre>\n<p>This works but this code autmatically open businesswhatsapp.</p>\n"},{"tags":["java","rest","class","swagger"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677142392,"post_id":75542137,"comment_id":133280374,"body_markdown":"Have you tried annotating the `inputs` parameter with `@RequestBody`?","body":"Have you tried annotating the <code>inputs</code> parameter with <code>@RequestBody</code>?"},{"owner":{"account_id":18295032,"reputation":53,"user_id":13321125,"display_name":"Amber Akkermans"},"score":0,"creation_date":1677143640,"post_id":75542137,"comment_id":133280719,"body_markdown":"That annotation is not available to me.. Annotations that I can use come from io.swagger.annotations, is there maybe an equivalent for this?","body":"That annotation is not available to me.. Annotations that I can use come from io.swagger.annotations, is there maybe an equivalent for this?"}],"owner":{"account_id":18295032,"reputation":53,"user_id":13321125,"display_name":"Amber Akkermans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677140123,"creation_date":1677140123,"question_id":75542137,"body_markdown":"I am trying to use a java class as post body type, but if I log its contents it gives null, although it seems to know what the size of the array is..\r\nThe logs I am getting from running this:\r\nFrom the service:\r\n   \r\n\r\n     size in Service: 1, null = null\r\n\r\nFrom the controller:\r\n\r\n    size: 1, null = null\r\n\r\nThe json I send as body (which is the default swagger gives):\r\n\r\n    {\r\n      &quot;records&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;string&quot;,\r\n          &quot;value&quot;: &quot;string&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nService: \r\n\r\n    @POST\r\n        @Path(&quot;/service/run/sequence/macless&quot;)\r\n        @ApiOperation(value = &quot;Run the install, validate or uninstall sequence for a service and get all the return parameters of that sequence&quot;)\r\n        @ApiResponses(value = {@ApiResponse(code = 200, message = &quot;OK&quot;)})\r\n        public ServiceProvisioningData runServiceSequenceMacless(\r\n                @ApiParam(value = &quot;The identifier, internally known as the lineID, that is configured on the device&quot;, required = true) @QueryParam(&quot;lineID&quot;) String lineID,\r\n                @ApiParam(value = &quot;The service name&quot;, required = true) @QueryParam(&quot;serviceName&quot;) String serviceName,\r\n                @ApiParam(value = &quot;The sequence you want to run&quot;, required = true) @QueryParam(&quot;sequenceName&quot;) Sequence sequenceName,\r\n                @ApiParam(value = &quot;The input parameters you want to overwrite for this sequence&quot;, required = false) ProvisioningData inputs\r\n        ) throws ServiceException {\r\n            LOG.error(&quot;size in Service: &quot; + inputs.getRecords().size() + &quot;, &quot; + inputs.toString());\r\n            return restApiController.runServiceSequenceMacless(lineID, serviceName, sequenceName.toString(), inputs);\r\n        }\r\n\r\ncontroller:\r\n\r\n    public ServiceProvisioningData runServiceSequenceMacless(String lineID, String serviceName, String sequenceName, ProvisioningData inputs) throws ServiceException {\r\n            // FIRST INSERT THE INPUT PARAMETERS FOR THE DEVICE\r\n            LOG.error(&quot;size: &quot; + inputs.getRecords().size() + &quot;, &quot; + inputs.toString());\r\n            inputs.getRecords().forEach(record -&gt; {\r\n                try {\r\n                    createInputParamValueForServiceForDeviceMacless(lineID, serviceName, record.getName(), record.getValue());\r\n                } catch (ServiceException e) {\r\n                    LOG.error(&quot;Exception in adding input parameters macless: &quot; + e.getMessage(), e);\r\n                }\r\n            });\r\n    ...\r\n\r\nProvisioningData: \r\n\r\n    @XmlRootElement(name = &quot;provisioningdata&quot;)\r\n    @XmlType(propOrder = { &quot;records&quot; })\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class ProvisioningData {\r\n    \r\n        public static void registerToContextProvider(){\r\n            try {\r\n                CustomContextProvider.registerClass(ProvisioningData.class);\r\n                CustomContextProvider.registerArray(&quot;records&quot;);\r\n            } catch (Exception e){\r\n                Log.error(&quot;Could not register ProvisioningData: &quot;+e.getMessage());\r\n            }\r\n        }\r\n    \r\n        /** The properties. */\r\n        private List&lt;ProvisioningRecord&gt; records = new ArrayList&lt;&gt;();\r\n    \r\n        /**\r\n         * Instantiates a new ProvisioningData.\r\n         */\r\n        public ProvisioningData(List&lt;ProvisioningRecord&gt; records) {\r\n            this.records = records;\r\n        }\r\n        /**\r\n         * Instantiates a new ProvisioningData.\r\n         */\r\n        public ProvisioningData() {\r\n        }\r\n    \r\n        /**\r\n         * Gets the records.\r\n         *\r\n         * @return the records\r\n         */\r\n        @XmlElement(name = &quot;records&quot;)\r\n        public List&lt;ProvisioningRecord&gt; getRecords() {\r\n            return records;\r\n        }\r\n    \r\n        public void setRecords(List&lt;ProvisioningRecord&gt; res) {\r\n            this.records = res;\r\n        }\r\n    \r\n        public void addEntry(ScriptVariableValueRecord rec) {\r\n            records.add(new ProvisioningRecord(rec));\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            StringBuilder recs = new StringBuilder();\r\n            for (ProvisioningRecord record : records){\r\n                recs.append(record.getName()).append(&quot; = &quot;).append(record.getValue()).append(&quot;, &quot;);\r\n            }\r\n            return recs.toString();\r\n        }\r\n    }\r\n\r\nProvisioningRecord:\r\n\r\n    @XmlRootElement(name = &quot;record&quot;)\r\n    @XmlType(propOrder = { &quot;name&quot;, &quot;value&quot; })\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class ProvisioningRecord {\r\n    \r\n        public static void registerToContextProvider(){\r\n            try {\r\n                CustomContextProvider.registerClass(ProvisioningRecord.class);\r\n            } catch (Exception e){\r\n                Log.error(&quot;Could not register ProvisioningRecord: &quot;+e.getMessage());\r\n            }\r\n        }\r\n    \r\n        /** The name. */\r\n        private String name;\r\n    \r\n        /** The value. */\r\n        private String value;\r\n    \r\n        public ProvisioningRecord() {\r\n        }\r\n    \r\n        public ProvisioningRecord(ScriptVariableValueRecord record) {\r\n            name = record.getName();\r\n            value = record.getValue();\r\n        }\r\n        public ProvisioningRecord(ScriptVariableValueModel model) {\r\n            name = model.getName();\r\n            value = model.getValue();\r\n        }\r\n    \r\n        /**\r\n         * Gets the variable name.\r\n         *\r\n         * @return the variable name\r\n         */\r\n        @XmlElement(name = &quot;name&quot;)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        /**\r\n         * Gets the variable value.\r\n         *\r\n         * @return the variable value\r\n         */\r\n        @XmlElement(name = &quot;value&quot;)\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    }","title":"Java Rest API doesn&#39;t parse request body into java entity","body":"<p>I am trying to use a java class as post body type, but if I log its contents it gives null, although it seems to know what the size of the array is..\nThe logs I am getting from running this:\nFrom the service:</p>\n<pre><code> size in Service: 1, null = null\n</code></pre>\n<p>From the controller:</p>\n<pre><code>size: 1, null = null\n</code></pre>\n<p>The json I send as body (which is the default swagger gives):</p>\n<pre><code>{\n  &quot;records&quot;: [\n    {\n      &quot;name&quot;: &quot;string&quot;,\n      &quot;value&quot;: &quot;string&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@POST\n    @Path(&quot;/service/run/sequence/macless&quot;)\n    @ApiOperation(value = &quot;Run the install, validate or uninstall sequence for a service and get all the return parameters of that sequence&quot;)\n    @ApiResponses(value = {@ApiResponse(code = 200, message = &quot;OK&quot;)})\n    public ServiceProvisioningData runServiceSequenceMacless(\n            @ApiParam(value = &quot;The identifier, internally known as the lineID, that is configured on the device&quot;, required = true) @QueryParam(&quot;lineID&quot;) String lineID,\n            @ApiParam(value = &quot;The service name&quot;, required = true) @QueryParam(&quot;serviceName&quot;) String serviceName,\n            @ApiParam(value = &quot;The sequence you want to run&quot;, required = true) @QueryParam(&quot;sequenceName&quot;) Sequence sequenceName,\n            @ApiParam(value = &quot;The input parameters you want to overwrite for this sequence&quot;, required = false) ProvisioningData inputs\n    ) throws ServiceException {\n        LOG.error(&quot;size in Service: &quot; + inputs.getRecords().size() + &quot;, &quot; + inputs.toString());\n        return restApiController.runServiceSequenceMacless(lineID, serviceName, sequenceName.toString(), inputs);\n    }\n</code></pre>\n<p>controller:</p>\n<pre><code>public ServiceProvisioningData runServiceSequenceMacless(String lineID, String serviceName, String sequenceName, ProvisioningData inputs) throws ServiceException {\n        // FIRST INSERT THE INPUT PARAMETERS FOR THE DEVICE\n        LOG.error(&quot;size: &quot; + inputs.getRecords().size() + &quot;, &quot; + inputs.toString());\n        inputs.getRecords().forEach(record -&gt; {\n            try {\n                createInputParamValueForServiceForDeviceMacless(lineID, serviceName, record.getName(), record.getValue());\n            } catch (ServiceException e) {\n                LOG.error(&quot;Exception in adding input parameters macless: &quot; + e.getMessage(), e);\n            }\n        });\n...\n</code></pre>\n<p>ProvisioningData:</p>\n<pre><code>@XmlRootElement(name = &quot;provisioningdata&quot;)\n@XmlType(propOrder = { &quot;records&quot; })\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class ProvisioningData {\n\n    public static void registerToContextProvider(){\n        try {\n            CustomContextProvider.registerClass(ProvisioningData.class);\n            CustomContextProvider.registerArray(&quot;records&quot;);\n        } catch (Exception e){\n            Log.error(&quot;Could not register ProvisioningData: &quot;+e.getMessage());\n        }\n    }\n\n    /** The properties. */\n    private List&lt;ProvisioningRecord&gt; records = new ArrayList&lt;&gt;();\n\n    /**\n     * Instantiates a new ProvisioningData.\n     */\n    public ProvisioningData(List&lt;ProvisioningRecord&gt; records) {\n        this.records = records;\n    }\n    /**\n     * Instantiates a new ProvisioningData.\n     */\n    public ProvisioningData() {\n    }\n\n    /**\n     * Gets the records.\n     *\n     * @return the records\n     */\n    @XmlElement(name = &quot;records&quot;)\n    public List&lt;ProvisioningRecord&gt; getRecords() {\n        return records;\n    }\n\n    public void setRecords(List&lt;ProvisioningRecord&gt; res) {\n        this.records = res;\n    }\n\n    public void addEntry(ScriptVariableValueRecord rec) {\n        records.add(new ProvisioningRecord(rec));\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder recs = new StringBuilder();\n        for (ProvisioningRecord record : records){\n            recs.append(record.getName()).append(&quot; = &quot;).append(record.getValue()).append(&quot;, &quot;);\n        }\n        return recs.toString();\n    }\n}\n</code></pre>\n<p>ProvisioningRecord:</p>\n<pre><code>@XmlRootElement(name = &quot;record&quot;)\n@XmlType(propOrder = { &quot;name&quot;, &quot;value&quot; })\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class ProvisioningRecord {\n\n    public static void registerToContextProvider(){\n        try {\n            CustomContextProvider.registerClass(ProvisioningRecord.class);\n        } catch (Exception e){\n            Log.error(&quot;Could not register ProvisioningRecord: &quot;+e.getMessage());\n        }\n    }\n\n    /** The name. */\n    private String name;\n\n    /** The value. */\n    private String value;\n\n    public ProvisioningRecord() {\n    }\n\n    public ProvisioningRecord(ScriptVariableValueRecord record) {\n        name = record.getName();\n        value = record.getValue();\n    }\n    public ProvisioningRecord(ScriptVariableValueModel model) {\n        name = model.getName();\n        value = model.getValue();\n    }\n\n    /**\n     * Gets the variable name.\n     *\n     * @return the variable name\n     */\n    @XmlElement(name = &quot;name&quot;)\n    public String getName() {\n        return name;\n    }\n\n    /**\n     * Gets the variable value.\n     *\n     * @return the variable value\n     */\n    @XmlElement(name = &quot;value&quot;)\n    public String getValue() {\n        return value;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting","input","store"],"comments":[{"owner":{"account_id":11180480,"reputation":7031,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1677139265,"post_id":75541937,"comment_id":133279627,"body_markdown":"Using your IDE&#39;s debugging features, single-step through your program and watch your variables, especially `row`. When going to the second student&#39;s data entry, does it have the value that you expect? Besides coding, the ability to debug a program is very important. If your course doesn&#39;t cover it, learn it on your own.","body":"Using your IDE&#39;s debugging features, single-step through your program and watch your variables, especially <code>row</code>. When going to the second student&#39;s data entry, does it have the value that you expect? Besides coding, the ability to debug a program is very important. If your course doesn&#39;t cover it, learn it on your own."}],"answers":[{"tags":[],"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677140056,"creation_date":1677139681,"answer_id":75542080,"question_id":75541937,"body_markdown":"Edit:\r\n\r\nI would strongly advise to follow @Ralf Kleberhoff suggestion in the comment. Debugging is a strong skill and tool and you must control it.\r\n\r\n---------\r\n\r\nIt seems you are not incrementing `row` after adding an additional student.\r\n```\r\nSystem.out.print(&quot;Do you want to add more? YES/NO &quot;);\r\ndecision=in.nextLine();\r\n            \r\nswitch(decision) \r\n{\r\n  case &quot;yes&quot;:\r\n  yn=true;\r\n  **row++**\r\n  System.out.println(&quot;Enter Student ID Number: &quot;);\r\n  while(in.hasNext()) {\r\n  students[row][0] = in.nextLine();\r\n```\r\n\r\nAfter you receive a ```no``` as an input - you should iterate and print all of the students the user had added - \r\n```\r\nfor(int i = 0; i &lt;= row; i++){\r\n  var output = String.format(&quot;Id: %s, fullname: %s, collage: %s, program: %s&quot;, students[row][0], students[row][1], students[row][2], students[row][3]);\r\n  System.out.println(output);\r\n}\r\n```\r\n\r\nIn addition, inside the ```switch``` in the ```yes``` case, in case I add an additional student and then select ```no```, the loop is not broken and another student will be asked to be added, and in case ```yes``` is selected - row is being initialized again to 0. I would suggest to initialize ```row``` outside of the ```while``` loop.","title":"How can i store the user inputs from repeating the same enter the information and then print all of them after typing &quot;no&quot;","body":"<p>Edit:</p>\n<p>I would strongly advise to follow @Ralf Kleberhoff suggestion in the comment. Debugging is a strong skill and tool and you must control it.</p>\n<hr />\n<p>It seems you are not incrementing <code>row</code> after adding an additional student.</p>\n<pre><code>System.out.print(&quot;Do you want to add more? YES/NO &quot;);\ndecision=in.nextLine();\n            \nswitch(decision) \n{\n  case &quot;yes&quot;:\n  yn=true;\n  **row++**\n  System.out.println(&quot;Enter Student ID Number: &quot;);\n  while(in.hasNext()) {\n  students[row][0] = in.nextLine();\n</code></pre>\n<p>After you receive a <code>no</code> as an input - you should iterate and print all of the students the user had added -</p>\n<pre><code>for(int i = 0; i &lt;= row; i++){\n  var output = String.format(&quot;Id: %s, fullname: %s, collage: %s, program: %s&quot;, students[row][0], students[row][1], students[row][2], students[row][3]);\n  System.out.println(output);\n}\n</code></pre>\n<p>In addition, inside the <code>switch</code> in the <code>yes</code> case, in case I add an additional student and then select <code>no</code>, the loop is not broken and another student will be asked to be added, and in case <code>yes</code> is selected - row is being initialized again to 0. I would suggest to initialize <code>row</code> outside of the <code>while</code> loop.</p>\n"}],"owner":{"account_id":23074069,"reputation":1,"user_id":17187273,"display_name":"Jericho Faustino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677140056,"creation_date":1677138780,"question_id":75541937,"body_markdown":"I was doing a student info listing which was input by a user.But i can&#39;t seem to breakthrough the problem  of adding another list of info after typing &quot;yes&quot; which indicates the code to add another student to be put on the list.\r\n\r\nI tried doing the switch cases within switch cases incase the user wants multiple student info to be listed.But i ran out of ideas.I expect it to repeat the whole enter the information and store it from  the line (Do you want to add more? YES OR NO),but it just repeats and i cant store it once i type &quot;no&quot;.\r\n\r\nHere is my code doing it:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class test3d {\r\n    \r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tString[][] students = new String[50][50]; \r\n    \r\n    \tScanner in = new Scanner(System.in);\r\n    \t\r\n    \tfinal String toUpperCase;\r\n    \tString decision =&quot;&quot;;\r\n    \tboolean yn = true;\r\n    \t\r\n        //loop to request to fill array   \r\n        while(yn){\r\n                System.out.println(&quot;Enter Student ID Number: &quot;);\r\n                while(in.hasNext()){\r\n                int row = 0;\r\n                students[row][0] = in.nextLine();\r\n                System.out.println(&quot;Enter Student Fullname: &quot;);\r\n                students[row][1] = in.nextLine();\r\n                System.out.println(&quot;Enter Student College: &quot;);\r\n                students[row][2] = in.nextLine();\r\n                System.out.println(&quot;Enter Student Program: &quot;);\r\n                students[row][3] = in.nextLine();\r\n                System.out.println(&quot;Record Successfully Saved&quot;);\r\n                System.out.print(&quot;Do you want to add more? YES/NO &quot;);\r\n                decision=in.nextLine();\r\n                \r\n                switch(decision) \r\n                {\r\n                case &quot;yes&quot;:\r\n                \tyn=true;\r\n                \tSystem.out.println(&quot;Enter Student ID Number: &quot;);\r\n                \twhile(in.hasNext()) {\r\n                    students[row][0] = in.nextLine();\r\n                    System.out.println(&quot;Enter Student Fullname: &quot;);\r\n                    students[row][1] = in.nextLine();\r\n                    System.out.println(&quot;Enter Student College: &quot;);\r\n                    students[row][2] = in.nextLine();\r\n                    System.out.println(&quot;Enter Student Program: &quot;);\r\n                    students[row][3] = in.nextLine();\r\n                    System.out.println(&quot;Do you want to add more? YES/NO &quot;);\r\n                \t}\r\n                    \r\n                case &quot;no&quot;:\r\n                \tyn=false;\r\n                \tSystem.out.println();\r\n                \tSystem.out.println(&quot;ID NUMBER     STUDENT NAME      COLLEGE      PROGRAM &quot;);\r\n                \tSystem.out.println(students[row][0]+&quot;       &quot;+students[row][1].toUpperCase()+&quot;       &quot;+students[row][2].toUpperCase()+&quot;          &quot;+students[row][3].toUpperCase());\r\n                \tbreak;\r\n                \t                    \r\n                }\r\n                }           \r\n        }\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How can i store the user inputs from repeating the same enter the information and then print all of them after typing &quot;no&quot;","body":"<p>I was doing a student info listing which was input by a user.But i can't seem to breakthrough the problem  of adding another list of info after typing &quot;yes&quot; which indicates the code to add another student to be put on the list.</p>\n<p>I tried doing the switch cases within switch cases incase the user wants multiple student info to be listed.But i ran out of ideas.I expect it to repeat the whole enter the information and store it from  the line (Do you want to add more? YES OR NO),but it just repeats and i cant store it once i type &quot;no&quot;.</p>\n<p>Here is my code doing it:</p>\n<pre><code>import java.util.Scanner;\n\npublic class test3d {\n\n    public static void main(String[] args) \n    {\n        String[][] students = new String[50][50]; \n\n    Scanner in = new Scanner(System.in);\n    \n    final String toUpperCase;\n    String decision =&quot;&quot;;\n    boolean yn = true;\n    \n    //loop to request to fill array   \n    while(yn){\n            System.out.println(&quot;Enter Student ID Number: &quot;);\n            while(in.hasNext()){\n            int row = 0;\n            students[row][0] = in.nextLine();\n            System.out.println(&quot;Enter Student Fullname: &quot;);\n            students[row][1] = in.nextLine();\n            System.out.println(&quot;Enter Student College: &quot;);\n            students[row][2] = in.nextLine();\n            System.out.println(&quot;Enter Student Program: &quot;);\n            students[row][3] = in.nextLine();\n            System.out.println(&quot;Record Successfully Saved&quot;);\n            System.out.print(&quot;Do you want to add more? YES/NO &quot;);\n            decision=in.nextLine();\n            \n            switch(decision) \n            {\n            case &quot;yes&quot;:\n                yn=true;\n                System.out.println(&quot;Enter Student ID Number: &quot;);\n                while(in.hasNext()) {\n                students[row][0] = in.nextLine();\n                System.out.println(&quot;Enter Student Fullname: &quot;);\n                students[row][1] = in.nextLine();\n                System.out.println(&quot;Enter Student College: &quot;);\n                students[row][2] = in.nextLine();\n                System.out.println(&quot;Enter Student Program: &quot;);\n                students[row][3] = in.nextLine();\n                System.out.println(&quot;Do you want to add more? YES/NO &quot;);\n                }\n                \n            case &quot;no&quot;:\n                yn=false;\n                System.out.println();\n                System.out.println(&quot;ID NUMBER     STUDENT NAME      COLLEGE      PROGRAM &quot;);\n                System.out.println(students[row][0]+&quot;       &quot;+students[row][1].toUpperCase()+&quot;       &quot;+students[row][2].toUpperCase()+&quot;          &quot;+students[row][3].toUpperCase());\n                break;\n                                    \n            }\n            }           \n    }\n    }\n}\n</code></pre>\n"},{"tags":["java","rest-assured","web-api-testing","proxy-authentication"],"answers":[{"comments":[{"owner":{"account_id":27856904,"reputation":1,"user_id":21270207,"display_name":"Lal"},"score":0,"creation_date":1677136502,"post_id":75540957,"comment_id":133279049,"body_markdown":"Thanks for the reply, I have tried the same as well but I&#39;m still getting 407 status code.\n\ngiven().proxy(&quot;hostname&quot;, 8080).auth().preemptive().basic(&quot;username&quot;, &quot;password&quot;)\t\t.relaxedHTTPSValidation().when().get(&quot;https://api.zippopotam.us/us/90210&quot;).then().assertThat().statusCode(200);","body":"Thanks for the reply, I have tried the same as well but I&#39;m still getting 407 status code.  given().proxy(&quot;hostname&quot;, 8080).auth().preemptive().basic(&quot;username&quot;, &quot;password&quot;)\t\t.relaxedHTTPSValidation().when().get(&quot;<a href=\"https://api.zippopotam.us/us/90210&quot;).then().assertThat().statusCode(200)\" rel=\"nofollow noreferrer\">api.zippo&zwnj;&#8203;potam.us/us/&hellip;</a>;"}],"tags":[],"owner":{"account_id":2849152,"reputation":6709,"user_id":2446698,"accept_rate":60,"display_name":"CodeCamper"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677139826,"creation_date":1677130716,"answer_id":75540957,"question_id":75540711,"body_markdown":"It appears that you are setting the proxy correctly but you are not passing the authentication details to the API endpoint.\r\n\r\nTo pass the authentication details to the API endpoint, you can use the auth() method of the RequestSpecification object, like you did in your first code snippet:\r\n\r\n    RequestSpecification httpRequest = RestAssured.given().relaxedHTTPSValidation()\r\n            .proxy(&quot;hostname&quot;, 8080).auth().preemptive().basic(&quot;username&quot;, &quot;password&quot;);\r\n    Response res = httpRequest.get(&quot;https://api.zippopotam.us/us/90210&quot;);\r\n\r\n\r\n","title":"Getting 407 Authorization error while executing RestAssured code after providing custom proxy details","body":"<p>It appears that you are setting the proxy correctly but you are not passing the authentication details to the API endpoint.</p>\n<p>To pass the authentication details to the API endpoint, you can use the auth() method of the RequestSpecification object, like you did in your first code snippet:</p>\n<pre><code>RequestSpecification httpRequest = RestAssured.given().relaxedHTTPSValidation()\n        .proxy(&quot;hostname&quot;, 8080).auth().preemptive().basic(&quot;username&quot;, &quot;password&quot;);\nResponse res = httpRequest.get(&quot;https://api.zippopotam.us/us/90210&quot;);\n</code></pre>\n"}],"owner":{"account_id":27856904,"reputation":1,"user_id":21270207,"display_name":"Lal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677139826,"creation_date":1677128406,"question_id":75540711,"body_markdown":"I&#39;m new to API testing using Rest Assured. \r\nAs I&#39;m working behind the proxy, I have used all the proxy details in the code. Below is the code I&#39;m trying to execute. Getting 407 error. \r\n\r\n```\r\nRequestSpecification httpRequest = RestAssured.given().relaxedHTTPSValidation()\r\n\t\t.proxy(&quot;hostname&quot;, 8080).auth().preemptive().basic(&quot;username&quot;, &quot;password&quot;);\r\nResponse res = httpRequest.get(&quot;https://api.zippopotam.us/us/90210&quot;);\r\nResponseBody body = res.body();\r\nres.statusCode();\r\n\r\nString rbdy = body.asString();\r\nSystem.out.println(&quot;Data from the GET API- &quot; + rbdy);\r\nSystem.out.println(&quot;Status code  : &quot; +  res.statusCode());\r\n```\r\nOutput:\r\n[enter image description here](https://i.stack.imgur.com/wohYb.png)\r\n\r\nIn postman with the same custom proxy setting, it is working fine. \r\n[enter image description here](https://i.stack.imgur.com/K5xFj.png)\r\n\r\n\r\nI have tried the code in other way as well, but getting the same out put.\r\n\r\n\t\t\r\n```\r\nRestAssured.proxy(&quot;host&quot;, 8080);\r\nRestAssured.basic(&quot;username&quot;, &quot;password&quot;);\r\n// Authentication API is outside network and requires proxy\r\n\r\ngiven().when().get(&quot;https://api.zippopotam.us/us/90210&quot;).then().statusCode(200);\r\n```\r\n\r\nOutput: \r\n[enter image description here](https://i.stack.imgur.com/dPqbU.png)\r\n\r\nCan someone please help me on it?\r\n\r\nI have also tried to set up the proxies in Eclipse itself, but it didn&#39;t work. I have changed propertied of &quot;java.net.useSystemProxies=true&quot; in the net.properties file inside jre (C:\\Program Files\\Java\\jre1.8.0_351\\lib), this didn&#39;t work either. \r\n\r\nI have also used setProperty methods as well as below but no luck .\r\n```\r\nSystem.setProperty(&quot;https.proxyHost&quot;, &quot;host&quot;);\r\nSystem.setProperty(&quot;https.proxyPort&quot;, 8080);\r\n```\r\nsame I did for username and password","title":"Getting 407 Authorization error while executing RestAssured code after providing custom proxy details","body":"<p>I'm new to API testing using Rest Assured.\nAs I'm working behind the proxy, I have used all the proxy details in the code. Below is the code I'm trying to execute. Getting 407 error.</p>\n<pre><code>RequestSpecification httpRequest = RestAssured.given().relaxedHTTPSValidation()\n        .proxy(&quot;hostname&quot;, 8080).auth().preemptive().basic(&quot;username&quot;, &quot;password&quot;);\nResponse res = httpRequest.get(&quot;https://api.zippopotam.us/us/90210&quot;);\nResponseBody body = res.body();\nres.statusCode();\n\nString rbdy = body.asString();\nSystem.out.println(&quot;Data from the GET API- &quot; + rbdy);\nSystem.out.println(&quot;Status code  : &quot; +  res.statusCode());\n</code></pre>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/wohYb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>In postman with the same custom proxy setting, it is working fine.\n<a href=\"https://i.stack.imgur.com/K5xFj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have tried the code in other way as well, but getting the same out put.</p>\n<pre><code>RestAssured.proxy(&quot;host&quot;, 8080);\nRestAssured.basic(&quot;username&quot;, &quot;password&quot;);\n// Authentication API is outside network and requires proxy\n\ngiven().when().get(&quot;https://api.zippopotam.us/us/90210&quot;).then().statusCode(200);\n</code></pre>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/dPqbU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Can someone please help me on it?</p>\n<p>I have also tried to set up the proxies in Eclipse itself, but it didn't work. I have changed propertied of &quot;java.net.useSystemProxies=true&quot; in the net.properties file inside jre (C:\\Program Files\\Java\\jre1.8.0_351\\lib), this didn't work either.</p>\n<p>I have also used setProperty methods as well as below but no luck .</p>\n<pre><code>System.setProperty(&quot;https.proxyHost&quot;, &quot;host&quot;);\nSystem.setProperty(&quot;https.proxyPort&quot;, 8080);\n</code></pre>\n<p>same I did for username and password</p>\n"},{"tags":["java","rest","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1677149395,"post_id":75542087,"comment_id":133282422,"body_markdown":"Do you use `quarkus-oidc` or `quarkus-smallrye-jwt` ? If you do then even if you send a token to the public endpoint, it will be verified and the request will fail if the token is invalid. So if you&#39;d like to access the public endpoint while sending a possibly invalid token, then you should disable the proactive authentication: `quarkus.http.auth.proactive=false`. Can you try it ?","body":"Do you use <code>quarkus-oidc</code> or <code>quarkus-smallrye-jwt</code> ? If you do then even if you send a token to the public endpoint, it will be verified and the request will fail if the token is invalid. So if you&#39;d like to access the public endpoint while sending a possibly invalid token, then you should disable the proactive authentication: <code>quarkus.http.auth.proactive=false</code>. Can you try it ?"},{"owner":{"account_id":3369311,"reputation":62,"user_id":2828995,"accept_rate":60,"display_name":"stg"},"score":0,"creation_date":1677232194,"post_id":75542087,"comment_id":133301186,"body_markdown":"Thanks your answer, I am using quarkus-smallrye-jwt and it continues not to work..\nanother solution I found is by adding group role that are allowed for the request on the token creation and then by using  @RolesAllowed({ &quot;Administrator&quot;, &quot;All&quot; }) \nit works..\nthis is  something that as ok for me at that moment..","body":"Thanks your answer, I am using quarkus-smallrye-jwt and it continues not to work.. another solution I found is by adding group role that are allowed for the request on the token creation and then by using  @RolesAllowed({ &quot;Administrator&quot;, &quot;All&quot; })  it works.. this is  something that as ok for me at that moment.."},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1677448044,"post_id":75542087,"comment_id":133335035,"body_markdown":"If you can create a reproducer then I can have a deeper look as I&#39;m not sure I understand what is actually going on, but glad you&#39;ve managed to have it working in any case","body":"If you can create a reproducer then I can have a deeper look as I&#39;m not sure I understand what is actually going on, but glad you&#39;ve managed to have it working in any case"}],"owner":{"account_id":3369311,"reputation":62,"user_id":2828995,"accept_rate":60,"display_name":"stg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677139760,"creation_date":1677139760,"question_id":75542087,"body_markdown":"I am using quarkus in a new project and on o GET request I want to get the bearer token from the request.\r\n\r\nwhile I am testing the request with postman (or talent api) it work perfect and retrieves the response data, but with I am trying to add authorization headers on request the request does not work. not even stops on break point and the response as 401 Unauthorized.\r\n\r\n    @GET\r\n    @Path(&quot;/all&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON + &quot;;charset=utf-8&quot;)\r\n    @Operation(summary = &quot;Retrieves all mailbox &quot;, description = &quot;Retrieves all mailbox using search &quot;)\r\n    public Response getAllMailbox(@DefaultValue(&quot;0&quot;) @QueryParam(&quot;page&quot;) int page,\r\n                                  @DefaultValue(&quot;20&quot;) @QueryParam(&quot;max&quot;) int max,\r\n                                  @DefaultValue(&quot;mail.receivedate&quot;) @QueryParam(&quot;orderby&quot;) String orderby,\r\n                                  @DefaultValue(&quot;&quot;) @QueryParam(&quot;search&quot;) String search) {\r\n        MailboxResponse mailboxResponse;\r\n        try {\r\n            mailboxResponse = mailboxManager.getAllMailbox(search, page, max, orderby, asc, headers);\r\n        } catch (Exception e) {\r\n            return Response.serverError().build();\r\n        }\r\n        return Response.status(Response.Status.OK).entity(mailboxResponse).build();\r\n    }\r\n\r\nin previous version using java ee with jaxs-rs I was using annotation \r\n\r\n        @Context HttpHeaders headers;\r\n\r\nand so I had access on token on request.\r\n\r\nany idea how I can do the same thing on quarkus?\r\n","title":"How to get authorization bearer token from rest request on Quarkus","body":"<p>I am using quarkus in a new project and on o GET request I want to get the bearer token from the request.</p>\n<p>while I am testing the request with postman (or talent api) it work perfect and retrieves the response data, but with I am trying to add authorization headers on request the request does not work. not even stops on break point and the response as 401 Unauthorized.</p>\n<pre><code>@GET\n@Path(&quot;/all&quot;)\n@Produces(MediaType.APPLICATION_JSON + &quot;;charset=utf-8&quot;)\n@Operation(summary = &quot;Retrieves all mailbox &quot;, description = &quot;Retrieves all mailbox using search &quot;)\npublic Response getAllMailbox(@DefaultValue(&quot;0&quot;) @QueryParam(&quot;page&quot;) int page,\n                              @DefaultValue(&quot;20&quot;) @QueryParam(&quot;max&quot;) int max,\n                              @DefaultValue(&quot;mail.receivedate&quot;) @QueryParam(&quot;orderby&quot;) String orderby,\n                              @DefaultValue(&quot;&quot;) @QueryParam(&quot;search&quot;) String search) {\n    MailboxResponse mailboxResponse;\n    try {\n        mailboxResponse = mailboxManager.getAllMailbox(search, page, max, orderby, asc, headers);\n    } catch (Exception e) {\n        return Response.serverError().build();\n    }\n    return Response.status(Response.Status.OK).entity(mailboxResponse).build();\n}\n</code></pre>\n<p>in previous version using java ee with jaxs-rs I was using annotation</p>\n<pre><code>    @Context HttpHeaders headers;\n</code></pre>\n<p>and so I had access on token on request.</p>\n<p>any idea how I can do the same thing on quarkus?</p>\n"},{"tags":["java","node.js","npm","webpack","vaadin"],"answers":[{"tags":[],"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677139011,"creation_date":1677139011,"answer_id":75541977,"question_id":75529629,"body_markdown":"Okay, I&#39;ve got it to work.\r\n\r\nIn addition to deleting all of the npm generated files (`node_modules` folder, `package-lock.json`, `webpack.config.js` and `webpack.generated.js`), it is necessary to delete the `.vaadin` folder which is placed in `C:\\Users\\&lt;username&gt;\\` folder. After that, I&#39;ve hit mvn clean install and the project ran fine.\r\n\r\nI believe that the problem was caused by the leftover files in the `.vaadin` folder from v23 that weren&#39;t properly cleaned.","title":"IllegalStateException: Webpack exited prematurely","body":"<p>Okay, I've got it to work.</p>\n<p>In addition to deleting all of the npm generated files (<code>node_modules</code> folder, <code>package-lock.json</code>, <code>webpack.config.js</code> and <code>webpack.generated.js</code>), it is necessary to delete the <code>.vaadin</code> folder which is placed in <code>C:\\Users\\&lt;username&gt;\\</code> folder. After that, I've hit mvn clean install and the project ran fine.</p>\n<p>I believe that the problem was caused by the leftover files in the <code>.vaadin</code> folder from v23 that weren't properly cleaned.</p>\n"}],"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75541977,"answer_count":1,"score":0,"last_activity_date":1677139011,"creation_date":1677052327,"question_id":75529629,"body_markdown":"I have a project I&#39;m working on with Vaadin 14.4.10, Node.js 14.16.1 and had no problems with it until now. The only difference is that I was playing around in a local branch with it and lifted the Vaadin version up to 23.3.6. \r\n\r\nSince new Vaadin versions build with Vite instead of Webpack, my only guess can be that it screwed up my system files, because upon returning to the develop branch where we use Vaadin 14, I can&#39;t start the frontend part of my app getting this error:\r\n\r\n    java.lang.IllegalStateException: Webpack exited prematurely\r\n    \tcom.vaadin.flow.server.DevModeHandler.doStartWebpack(DevModeHandler.java:657)\r\n    \tcom.vaadin.flow.server.DevModeHandler.doStartDevModeServer(DevModeHandler.java:583)\r\n    \tcom.vaadin.flow.server.DevModeHandler.runOnFutureComplete(DevModeHandler.java:530)\r\n    \tcom.vaadin.flow.server.DevModeHandler.lambda$new$0(DevModeHandler.java:146)\r\n    \tjava.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n    \tjava.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\r\n    \tjava.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:479)\r\n    \tjava.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290)\r\n    \tjava.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\r\n    \tjava.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n    \tjava.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n    \tjava.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n    \tjava.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n\r\nAny suggestions on what can I try to solve this?\r\n\r\nI&#39;m using IntelliJ and I&#39;ve already tried `mvn clean install`, `npm install`, `npm install webpack`, `mvn clean process-resources`, downloaded the latest LTS version of node.js and tried cleaning and reinstalling again, pulled the project in a new workspace and then tried cleaning and reinstalling again, deleted the `node_modules` folder along with `package.json`, `package-lock.json`, `webpack.config.js` and `webpack.generated.js` and then ran `npm install` but nothing I&#39;ve tried so far worked.\r\n\r\n**Edit:\r\nToday I&#39;ve tried running the Vaadin 14 tutorial from Vaadin official website, but it produced the same error - got whitelabel page with this:\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    java.lang.IllegalStateException: Webpack exited prematurely\r\n    com.vaadin.flow.server.ServiceException: java.lang.IllegalStateException: Webpack exited prematurely\r\n    \tat com.vaadin.flow.server.VaadinService.handleExceptionDuringRequest(VaadinService.java:1596)\r\n    \tat com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1559)\r\n    \tat com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:247)\r\n    \tat com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:111)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\r\n    \tat org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141)\r\n    \tat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177)\r\n    \tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.lang.IllegalStateException: Webpack exited prematurely\r\n    \tat com.vaadin.flow.server.DevModeHandler.doStartWebpack(DevModeHandler.java:657)\r\n    \tat com.vaadin.flow.server.DevModeHandler.doStartDevModeServer(DevModeHandler.java:583)\r\n    \tat com.vaadin.flow.server.DevModeHandler.runOnFutureComplete(DevModeHandler.java:530)\r\n    \tat com.vaadin.flow.server.DevModeHandler.lambda$new$0(DevModeHandler.java:146)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:478)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \t... 1 more\r\n\r\n","title":"IllegalStateException: Webpack exited prematurely","body":"<p>I have a project I'm working on with Vaadin 14.4.10, Node.js 14.16.1 and had no problems with it until now. The only difference is that I was playing around in a local branch with it and lifted the Vaadin version up to 23.3.6.</p>\n<p>Since new Vaadin versions build with Vite instead of Webpack, my only guess can be that it screwed up my system files, because upon returning to the develop branch where we use Vaadin 14, I can't start the frontend part of my app getting this error:</p>\n<pre><code>java.lang.IllegalStateException: Webpack exited prematurely\n    com.vaadin.flow.server.DevModeHandler.doStartWebpack(DevModeHandler.java:657)\n    com.vaadin.flow.server.DevModeHandler.doStartDevModeServer(DevModeHandler.java:583)\n    com.vaadin.flow.server.DevModeHandler.runOnFutureComplete(DevModeHandler.java:530)\n    com.vaadin.flow.server.DevModeHandler.lambda$new$0(DevModeHandler.java:146)\n    java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n    java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\n    java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:479)\n    java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290)\n    java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\n    java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\n</code></pre>\n<p>Any suggestions on what can I try to solve this?</p>\n<p>I'm using IntelliJ and I've already tried <code>mvn clean install</code>, <code>npm install</code>, <code>npm install webpack</code>, <code>mvn clean process-resources</code>, downloaded the latest LTS version of node.js and tried cleaning and reinstalling again, pulled the project in a new workspace and then tried cleaning and reinstalling again, deleted the <code>node_modules</code> folder along with <code>package.json</code>, <code>package-lock.json</code>, <code>webpack.config.js</code> and <code>webpack.generated.js</code> and then ran <code>npm install</code> but nothing I've tried so far worked.</p>\n<p>**Edit:\nToday I've tried running the Vaadin 14 tutorial from Vaadin official website, but it produced the same error - got whitelabel page with this:</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\njava.lang.IllegalStateException: Webpack exited prematurely\ncom.vaadin.flow.server.ServiceException: java.lang.IllegalStateException: Webpack exited prematurely\n    at com.vaadin.flow.server.VaadinService.handleExceptionDuringRequest(VaadinService.java:1596)\n    at com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1559)\n    at com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:247)\n    at com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:111)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\n    at org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141)\n    at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177)\n    at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.IllegalStateException: Webpack exited prematurely\n    at com.vaadin.flow.server.DevModeHandler.doStartWebpack(DevModeHandler.java:657)\n    at com.vaadin.flow.server.DevModeHandler.doStartDevModeServer(DevModeHandler.java:583)\n    at com.vaadin.flow.server.DevModeHandler.runOnFutureComplete(DevModeHandler.java:530)\n    at com.vaadin.flow.server.DevModeHandler.lambda$new$0(DevModeHandler.java:146)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\n    at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:478)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    ... 1 more\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677057383,"creation_date":1677057383,"answer_id":75530478,"question_id":75529876,"body_markdown":"Foreign keys are missing in the table `rating`. The ids of the tables have been renamed to make the relationship more &quot;visible&quot;.\r\n\r\n    user {user_id, name}\r\n    \r\n    movie { movie_id, movieName, description}\r\n    \r\n    rating { rating_id, rating, user_id, movie_id }\r\n\r\nA rating is given to a movie by a user, thus entity will look as such;\r\n\r\n    @Entity\r\n    public class Rating {\r\n    \r\n        @Id\r\n        private long id;\r\n    \r\n        private String rating;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n        private User user;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;movie_id&quot;, referencedColumnName = &quot;movie_id&quot;)\r\n        private Movie movie;\r\n    }\r\n\r\n","title":"How to map the relationship between entities?","body":"<p>Foreign keys are missing in the table <code>rating</code>. The ids of the tables have been renamed to make the relationship more &quot;visible&quot;.</p>\n<pre><code>user {user_id, name}\n\nmovie { movie_id, movieName, description}\n\nrating { rating_id, rating, user_id, movie_id }\n</code></pre>\n<p>A rating is given to a movie by a user, thus entity will look as such;</p>\n<pre><code>@Entity\npublic class Rating {\n\n    @Id\n    private long id;\n\n    private String rating;\n\n    @OneToOne\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\n    private User user;\n\n    @OneToOne\n    @JoinColumn(name = &quot;movie_id&quot;, referencedColumnName = &quot;movie_id&quot;)\n    private Movie movie;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677139007,"creation_date":1677139007,"answer_id":75541976,"question_id":75529876,"body_markdown":"There is a many to many relationship between User and Movie (a user can rate many movies and a movie can be rated by many users). Here is an example mapping below:\r\n\r\n\r\n***User:***\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    // other fields\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Rating&gt; ratings = new ArrayList&lt;&gt;();\r\n\r\n    public void addRating(Rating rating) {\r\n        ratings.add(rating);\r\n        rating.setUser(this);\r\n    }\r\n\r\n    public void removeRating(Rating rating) {\r\n        ratings.remove(rating);\r\n        rating.setUser(null);\r\n    }\r\n\r\n    // getter, setter, contsructors\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n\r\n\r\n***Rating:***\r\n\r\n```\r\n@Entity\r\npublic class Rating {\r\n\r\n    @EmbeddedId\r\n    private RatingId ratingId = new RatingId();\r\n\r\n    @Column(nullable = false)\r\n    private Integer rating;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;userId&quot;)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;movieId&quot;)\r\n    @JoinColumn(name = &quot;movie_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Movie movie;\r\n\r\n    // getter, setter, contsructors\r\n}\r\n\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***RatingId:***\r\n\r\n```\r\n@Embeddable\r\npublic class RatingId implements Serializable {\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;\r\n\r\n    @Column(name = &quot;movie_id&quot;, nullable = false)\r\n    private Long movieId;\r\n}\r\n\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***Movie:***\r\n\r\n```\r\n@Entity\r\npublic class Movie {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true, nullable = false, length = 50)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;movie&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;Rating&gt; ratings = new HashSet&lt;&gt;();\r\n\r\n    public void addRating(Rating rating) {\r\n        ratings.add(rating);\r\n        rating.setMovie(this);\r\n    }\r\n\r\n    public void removeRating(Rating rating) {\r\n        ratings.remove(rating);\r\n        rating.setMovie(null);\r\n    }\r\n\r\n    // getters, setters, constructors\r\n}\r\n```","title":"How to map the relationship between entities?","body":"<p>There is a many to many relationship between User and Movie (a user can rate many movies and a movie can be rated by many users). Here is an example mapping below:</p>\n<p><em><strong>User:</strong></em></p>\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    // other fields\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Rating&gt; ratings = new ArrayList&lt;&gt;();\n\n    public void addRating(Rating rating) {\n        ratings.add(rating);\n        rating.setUser(this);\n    }\n\n    public void removeRating(Rating rating) {\n        ratings.remove(rating);\n        rating.setUser(null);\n    }\n\n    // getter, setter, contsructors\n}\n</code></pre>\n<br/>\n<p><em><strong>Rating:</strong></em></p>\n<pre><code>@Entity\npublic class Rating {\n\n    @EmbeddedId\n    private RatingId ratingId = new RatingId();\n\n    @Column(nullable = false)\n    private Integer rating;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;userId&quot;)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;movieId&quot;)\n    @JoinColumn(name = &quot;movie_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Movie movie;\n\n    // getter, setter, contsructors\n}\n\n</code></pre>\n<br/>\n<p><em><strong>RatingId:</strong></em></p>\n<pre><code>@Embeddable\npublic class RatingId implements Serializable {\n\n    @Column(name = &quot;user_id&quot;, nullable = false)\n    private Long userId;\n\n    @Column(name = &quot;movie_id&quot;, nullable = false)\n    private Long movieId;\n}\n\n</code></pre>\n<br/>\n<p><em><strong>Movie:</strong></em></p>\n<pre><code>@Entity\npublic class Movie {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false, length = 50)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;movie&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Rating&gt; ratings = new HashSet&lt;&gt;();\n\n    public void addRating(Rating rating) {\n        ratings.add(rating);\n        rating.setMovie(this);\n    }\n\n    public void removeRating(Rating rating) {\n        ratings.remove(rating);\n        rating.setMovie(null);\n    }\n\n    // getters, setters, constructors\n}\n</code></pre>\n"}],"owner":{"account_id":10583094,"reputation":21,"user_id":7796273,"display_name":"rg04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677139007,"creation_date":1677053964,"question_id":75529876,"body_markdown":"I am trying to figure out how to correctly map the following relationship between entities\r\n\r\nuser {id, name}\r\n\r\nmovie { id, movieName, description}\r\n\r\nrating { id, rating }\r\n\r\nuser can perform the operation of rating a movie and retrieve all movies rated.\r\nCan someone please help regarding defining relationship between rating and other entities?\r\n\r\n```\r\n@Entity\r\npublic class Rating {\r\n\r\n    @Id\r\n    private long id;\r\n\r\n    private String rating;\r\n\r\n    ??? What goes here ????????\r\n    private User user;\r\n\r\n    ??? What goes here ????????\r\n    private Movie movie;\r\n}\r\n```\r\n","title":"How to map the relationship between entities?","body":"<p>I am trying to figure out how to correctly map the following relationship between entities</p>\n<p>user {id, name}</p>\n<p>movie { id, movieName, description}</p>\n<p>rating { id, rating }</p>\n<p>user can perform the operation of rating a movie and retrieve all movies rated.\nCan someone please help regarding defining relationship between rating and other entities?</p>\n<pre><code>@Entity\npublic class Rating {\n\n    @Id\n    private long id;\n\n    private String rating;\n\n    ??? What goes here ????????\n    private User user;\n\n    ??? What goes here ????????\n    private Movie movie;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1585197159,"post_id":28100986,"comment_id":107679495,"body_markdown":"I ran into same issue but resolved it using nz.net.ultraq.thymeleaf dependency and referring to latest layout principles from Thymeleaf.org. Take a look here at the sample template I created here  - https://github.com/ajkr195/SpringBootThymeleafTemplate","body":"I ran into same issue but resolved it using nz.net.ultraq.thymeleaf dependency and referring to latest layout principles from Thymeleaf.org. Take a look here at the sample template I created here  - <a href=\"https://github.com/ajkr195/SpringBootThymeleafTemplate\" rel=\"nofollow noreferrer\">github.com/ajkr195/SpringBootThymeleafTemplate</a>"}],"answers":[{"tags":[],"owner":{"account_id":3418593,"reputation":762,"user_id":2866849,"display_name":"Ostap Gonchar"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1422005715,"creation_date":1422005715,"answer_id":28106829,"question_id":28100986,"body_markdown":"According to Read.md in https://github.com/ultraq/thymeleaf-layout-dialect you need to specify file, not file name. So you should have (if they are in the same directory):\r\n\r\n    &lt;p layout:decorator=&quot;layout.html&quot; layout:fragment=&quot;content&quot;&gt;\r\n        asada\r\n    &lt;/p&gt;\r\n\r\nMoreover, Thymeleaf supports layouts that are also very usefull for including framents into code. More info can be found here: http://www.thymeleaf.org/doc/articles/layouts.html","title":"Spring and thymeleaf layout dialect not working","body":"<p>According to Read.md in <a href=\"https://github.com/ultraq/thymeleaf-layout-dialect\" rel=\"nofollow\">https://github.com/ultraq/thymeleaf-layout-dialect</a> you need to specify file, not file name. So you should have (if they are in the same directory):</p>\n\n<pre><code>&lt;p layout:decorator=\"layout.html\" layout:fragment=\"content\"&gt;\n    asada\n&lt;/p&gt;\n</code></pre>\n\n<p>Moreover, Thymeleaf supports layouts that are also very usefull for including framents into code. More info can be found here: <a href=\"http://www.thymeleaf.org/doc/articles/layouts.html\" rel=\"nofollow\">http://www.thymeleaf.org/doc/articles/layouts.html</a></p>\n"},{"tags":[],"owner":{"account_id":6498863,"reputation":81,"user_id":5030446,"display_name":"chuuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1539402157,"creation_date":1539402157,"answer_id":52789327,"question_id":28100986,"body_markdown":"Even using Spring Boot you have to include on your dependencies layout-dialect like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUse also the following dependency if you are using Spring Security:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;","title":"Spring and thymeleaf layout dialect not working","body":"<p>Even using Spring Boot you have to include on your dependencies layout-dialect like this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Use also the following dependency if you are using Spring Security:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3547959,"reputation":2574,"user_id":2963422,"display_name":"Procrastinator"},"score":0,"creation_date":1647932426,"post_id":71536489,"comment_id":126488979,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/31326025)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/31326025\">From Review</a>"}],"tags":[],"owner":{"account_id":11694614,"reputation":21,"user_id":8561649,"display_name":"hmh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652988936,"creation_date":1647677856,"answer_id":71536489,"question_id":28100986,"body_markdown":"Version 3.0.0: Deprecated *layout:decorator* processor has been deleted \r\n -&gt;*layout:decorate* (https://github.com/ultraq/thymeleaf-layout-dialect/blob/main/CHANGELOG.md\r\n)","title":"Spring and thymeleaf layout dialect not working","body":"<p>Version 3.0.0: Deprecated <em>layout:decorator</em> processor has been deleted\n-&gt;<em>layout:decorate</em> (<a href=\"https://github.com/ultraq/thymeleaf-layout-dialect/blob/main/CHANGELOG.md\" rel=\"nofollow noreferrer\">https://github.com/ultraq/thymeleaf-layout-dialect/blob/main/CHANGELOG.md</a>\n)</p>\n"},{"tags":[],"owner":{"account_id":25995551,"reputation":1,"user_id":19707002,"display_name":"Fofana M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677138926,"creation_date":1676821468,"answer_id":75501318,"question_id":28100986,"body_markdown":"I had a similar problem when i replace \r\n\r\n    templateEngine.setDialect(new LayoutDialect());\r\n\r\nby\r\n\r\n    templateEngine.addDialect(new LayoutDialect());\r\n\r\nthis solve it\r\n","title":"Spring and thymeleaf layout dialect not working","body":"<p>I had a similar problem when i replace</p>\n<pre><code>templateEngine.setDialect(new LayoutDialect());\n</code></pre>\n<p>by</p>\n<pre><code>templateEngine.addDialect(new LayoutDialect());\n</code></pre>\n<p>this solve it</p>\n"}],"owner":{"account_id":311124,"reputation":344,"user_id":624518,"accept_rate":70,"display_name":"John Gamarra Gonz&#225;lez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8958,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1677138926,"creation_date":1421971980,"question_id":28100986,"body_markdown":"I&#39;m new at Spring and thymeleaf, I was working with JSF + Facelets so the method I&#39;ve choosen thymeleaf layout dialect since it&#39;s very similar to Facelets, but, for some reason it&#39;s not working in my simple project.\r\n\r\nI have this in my config files\r\n\r\n    import javax.servlet.ServletContext;\r\n    import javax.servlet.ServletException;\r\n    import org.springframework.web.WebApplicationInitializer;\r\n    import org.springframework.web.context.support.AnnotationConfigWebApplicationContext;\r\n    \r\n    public class AppInitializer implements WebApplicationInitializer {\r\n    \r\n        @Override\r\n        public void onStartup(ServletContext sc) throws ServletException {\r\n    \r\n            AnnotationConfigWebApplicationContext applicationContext = new AnnotationConfigWebApplicationContext();\r\n            applicationContext.register(WebConfig.class);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nWebConfig.java\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Import;\r\n    import org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n    \r\n    \r\n    @Configuration\r\n    @EnableWebMvc\r\n    @Import(ThymeLeafConfig.class)\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\r\n            configurer.enable();\r\n        }\r\n    \r\n    }\r\n\r\nmy TyhmeLeafConfig\r\n\r\n    \r\n    import nz.net.ultraq.thymeleaf.LayoutDialect;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.thymeleaf.spring4.SpringTemplateEngine;\r\n    import org.thymeleaf.spring4.view.ThymeleafViewResolver;\r\n    import org.thymeleaf.templateresolver.ServletContextTemplateResolver;\r\n    \r\n    \r\n    public class ThymeLeafConfig {\r\n    \r\n        @Bean\r\n        public ServletContextTemplateResolver templateResolver() {\r\n            ServletContextTemplateResolver resolver = new ServletContextTemplateResolver();\r\n            resolver.setPrefix(&quot;/WEB-INF/&quot;);\r\n            resolver.setSuffix(&quot;.html&quot;);\r\n            resolver.setTemplateMode(&quot;HTML5&quot;);\r\n            resolver.setOrder(1);\r\n            resolver.setCacheable(false);\r\n            return resolver;\r\n        }\r\n    \r\n        @Bean\r\n        public SpringTemplateEngine templateEngine() {\r\n            SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n            templateEngine.setTemplateResolver(templateResolver());\r\n            templateEngine.setDialect(new LayoutDialect());\r\n            return templateEngine;\r\n        }\r\n    \r\n        @Bean\r\n        public ThymeleafViewResolver viewResolver() {\r\n            ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\r\n            viewResolver.setTemplateEngine(templateEngine());\r\n            viewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            return viewResolver;\r\n        }\r\n    }\r\n\r\nThe layout.html file\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;&gt;\r\n      &lt;head&gt;\r\n        &lt;title&gt;Layout page&lt;/title&gt;\r\n        &lt;script src=&quot;js/jquery.js&quot;&gt;&lt;/script&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n        &lt;header&gt;\r\n          &lt;h1&gt;MASTER!!!!&lt;/h1&gt;\r\n        &lt;/header&gt;\r\n        &lt;section layout:fragment=&quot;content&quot;&gt;\r\n          &lt;p&gt;MASTER CODE&lt;/p&gt;\r\n        &lt;/section&gt;\r\n        &lt;footer&gt;\r\n          &lt;p&gt;My footer&lt;/p&gt;\r\n          &lt;p layout:fragment=&quot;custom-footer&quot;&gt;Custom footer here&lt;/p&gt;\r\n        &lt;/footer&gt;  \r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThe index.html file\r\n\r\n    &lt;p layout:decorator=&quot;layout&quot; layout:fragment=&quot;content&quot;&gt;\r\n        asada\r\n    &lt;/p&gt;\r\n\r\nthe problem is that when I open the index.html, it doesn&#39;t include anything that it&#39;s in the layout.html file, files are next to other in root so no folders are in there, did I miss something in the configuration? thanks","title":"Spring and thymeleaf layout dialect not working","body":"<p>I'm new at Spring and thymeleaf, I was working with JSF + Facelets so the method I've choosen thymeleaf layout dialect since it's very similar to Facelets, but, for some reason it's not working in my simple project.</p>\n\n<p>I have this in my config files</p>\n\n<pre><code>import javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport org.springframework.web.WebApplicationInitializer;\nimport org.springframework.web.context.support.AnnotationConfigWebApplicationContext;\n\npublic class AppInitializer implements WebApplicationInitializer {\n\n    @Override\n    public void onStartup(ServletContext sc) throws ServletException {\n\n        AnnotationConfigWebApplicationContext applicationContext = new AnnotationConfigWebApplicationContext();\n        applicationContext.register(WebConfig.class);\n\n    }\n\n}\n</code></pre>\n\n<p>WebConfig.java</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\n\n\n@Configuration\n@EnableWebMvc\n@Import(ThymeLeafConfig.class)\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();\n    }\n\n}\n</code></pre>\n\n<p>my TyhmeLeafConfig</p>\n\n<pre><code>import nz.net.ultraq.thymeleaf.LayoutDialect;\nimport org.springframework.context.annotation.Bean;\nimport org.thymeleaf.spring4.SpringTemplateEngine;\nimport org.thymeleaf.spring4.view.ThymeleafViewResolver;\nimport org.thymeleaf.templateresolver.ServletContextTemplateResolver;\n\n\npublic class ThymeLeafConfig {\n\n    @Bean\n    public ServletContextTemplateResolver templateResolver() {\n        ServletContextTemplateResolver resolver = new ServletContextTemplateResolver();\n        resolver.setPrefix(\"/WEB-INF/\");\n        resolver.setSuffix(\".html\");\n        resolver.setTemplateMode(\"HTML5\");\n        resolver.setOrder(1);\n        resolver.setCacheable(false);\n        return resolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n        templateEngine.setDialect(new LayoutDialect());\n        return templateEngine;\n    }\n\n    @Bean\n    public ThymeleafViewResolver viewResolver() {\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n        viewResolver.setTemplateEngine(templateEngine());\n        viewResolver.setCharacterEncoding(\"UTF-8\");\n        return viewResolver;\n    }\n}\n</code></pre>\n\n<p>The layout.html file</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n  xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\"&gt;\n  &lt;head&gt;\n    &lt;title&gt;Layout page&lt;/title&gt;\n    &lt;script src=\"js/jquery.js\"&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;header&gt;\n      &lt;h1&gt;MASTER!!!!&lt;/h1&gt;\n    &lt;/header&gt;\n    &lt;section layout:fragment=\"content\"&gt;\n      &lt;p&gt;MASTER CODE&lt;/p&gt;\n    &lt;/section&gt;\n    &lt;footer&gt;\n      &lt;p&gt;My footer&lt;/p&gt;\n      &lt;p layout:fragment=\"custom-footer\"&gt;Custom footer here&lt;/p&gt;\n    &lt;/footer&gt;  \n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The index.html file</p>\n\n<pre><code>&lt;p layout:decorator=\"layout\" layout:fragment=\"content\"&gt;\n    asada\n&lt;/p&gt;\n</code></pre>\n\n<p>the problem is that when I open the index.html, it doesn't include anything that it's in the layout.html file, files are next to other in root so no folders are in there, did I miss something in the configuration? thanks</p>\n"},{"tags":["java","tls1.2"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1674497518,"post_id":75213344,"comment_id":132722077,"body_markdown":"What is the driver version?  What is the exact error message?  What is the connection string (with credentials/server name redacted)?","body":"What is the driver version?  What is the exact error message?  What is the connection string (with credentials/server name redacted)?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1674498044,"post_id":75213344,"comment_id":132722221,"body_markdown":"Like Andrew said: we need to confirm your &quot;assumptions&quot;.  Please [Edit] your post and tell us 1) the exact error message being returned from MSSQL (copy/paste the text), 2) Your Java SQL driver (exactly name and version) 3) Your MSSQL version.  I suspect that Java might not be the problem at all, and maybe your JDBC driver is *ALREADY* using TLS 1.2++","body":"Like Andrew said: we need to confirm your &quot;assumptions&quot;.  Please <a href=\"https://stackoverflow.com/posts/75213344/edit\">Edit</a> your post and tell us 1) the exact error message being returned from MSSQL (copy/paste the text), 2) Your Java SQL driver (exactly name and version) 3) Your MSSQL version.  I suspect that Java might not be the problem at all, and maybe your JDBC driver is <i>ALREADY</i> using TLS 1.2++"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1674498637,"post_id":75213344,"comment_id":132722401,"body_markdown":"BTW: Makato is 100% correct - you really need to upgrade your MSSQL infrastructure.  But this link might help - https://stackoverflow.com/questions/69623611/how-do-i-allow-java-client-tls10-connections","body":"BTW: Makato is 100% correct - you really need to upgrade your MSSQL infrastructure.  But this link might help - <a href=\"https://stackoverflow.com/questions/69623611/how-do-i-allow-java-client-tls10-connections\" title=\"how do i allow java client tls10 connections\">stackoverflow.com/questions/69623611/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":27602810,"reputation":21,"user_id":21067677,"display_name":"Lorne"},"score":0,"creation_date":1674512548,"post_id":75213430,"comment_id":132726269,"body_markdown":"Exported application works if we update java security file to allow the use of TLS10","body":"Exported application works if we update java security file to allow the use of TLS10"}],"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1674497710,"creation_date":1674497710,"answer_id":75213430,"question_id":75213344,"body_markdown":"You can&#39;t.\r\n\r\n[As of Java 16, TLS versions lower than 1.1 are disabled.](https://bugs.openjdk.org/browse/JDK-8202343)\r\n\r\nThe preferred option would be to update the server to a newer TLS technology.  &lt;s&gt;This might work in Java 11 as well but there is no guarantee that it will continue to work with new updates.&lt;/s&gt;  There are notes that suggest that [this was backported to LTS versions as well](https://bugs.openjdk.org/browse/JDK-8258597), so there&#39;s no good guarantee that TLS v1.1 or below will function.","title":"How do I force a Java (17) exported application to use TLS 1.2, not TLS 1.0?","body":"<p>You can't.</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8202343\" rel=\"nofollow noreferrer\">As of Java 16, TLS versions lower than 1.1 are disabled.</a></p>\n<p>The preferred option would be to update the server to a newer TLS technology.  <s>This might work in Java 11 as well but there is no guarantee that it will continue to work with new updates.</s>  There are notes that suggest that <a href=\"https://bugs.openjdk.org/browse/JDK-8258597\" rel=\"nofollow noreferrer\">this was backported to LTS versions as well</a>, so there's no good guarantee that TLS v1.1 or below will function.</p>\n"}],"owner":{"account_id":27602810,"reputation":21,"user_id":21067677,"display_name":"Lorne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1674498563,"answer_count":1,"score":1,"last_activity_date":1677138845,"creation_date":1674497148,"question_id":75213344,"body_markdown":"I have a Java (17) application that works inside [Eclipse][1], but it does not work when exported into a JAR file.  The exported JAR file tries to connect to the SQL server using [TLS&amp;nbsp;1.0][2] (`TLS10`).  Is there a way to force the exported file to use TLS 1.2? The exported JAR file has *mssql-jdbc-7.0.0.jre8.jar* as does Eclipse. JRE System Library - JavaSE-1.8\r\n\r\nI have tried multiple connection strings, and the current one is:\r\n&quot;jdbc:sqlserver://SERVERNAME\\\\sqlexpress;user=USERID;password=PASSWORD&quot;;\r\n\r\nThe error we get is:\r\n\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]&quot;. ClientConnectionId:00444b11-89ec-4bba-81d5-4d268e4afd68\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n  [2]: https://en.wikipedia.org/wiki/Transport_Layer_Security#TLS_1.0\r\n\r\n\r\n","title":"How do I force a Java (17) exported application to use TLS 1.2, not TLS 1.0?","body":"<p>I have a Java (17) application that works inside <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a>, but it does not work when exported into a JAR file.  The exported JAR file tries to connect to the SQL server using <a href=\"https://en.wikipedia.org/wiki/Transport_Layer_Security#TLS_1.0\" rel=\"nofollow noreferrer\">TLS 1.0</a> (<code>TLS10</code>).  Is there a way to force the exported file to use TLS 1.2? The exported JAR file has <em>mssql-jdbc-7.0.0.jre8.jar</em> as does Eclipse. JRE System Library - JavaSE-1.8</p>\n<p>I have tried multiple connection strings, and the current one is:\n&quot;jdbc:sqlserver://SERVERNAME\\sqlexpress;user=USERID;password=PASSWORD&quot;;</p>\n<p>The error we get is:</p>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]&quot;. ClientConnectionId:00444b11-89ec-4bba-81d5-4d268e4afd68</p>\n</blockquote>\n"},{"tags":["java","hibernate","jpa","hql"],"comments":[{"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"score":0,"creation_date":1554651147,"post_id":55560638,"comment_id":97821233,"body_markdown":"What is type of `persons` in Person class?","body":"What is type of <code>persons</code> in Person class?"},{"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"score":0,"creation_date":1554651258,"post_id":55560638,"comment_id":97821260,"body_markdown":"Typo, Corrected it","body":"Typo, Corrected it"}],"answers":[{"tags":[],"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1554651653,"creation_date":1554651653,"answer_id":55560758,"question_id":55560638,"body_markdown":"*You are facing the problem as `Person#toString` calls the `Company#toString` and `Company#toString` again calls the `Person#toSting`.*\r\n\r\nSo, what is happening is When Person#toString called it called the below toString definition:\r\n\r\n        @Override\r\n    public String toString() {\r\n        return &quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;, company=&quot; + company + &quot;]&quot;;\r\n    }\r\n\r\nNow can see that you have contaminated the company also that means your return statement actually becomes `&quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;, company=&quot; + company.toString() + &quot;]&quot;;` . So, it calls the Company#toString() now look the implementaion of `Company#toString()` it contains `persons` object in string concatination.Which again calls `Person#toString()` , and its goes on still the method stack is overflow.\r\n\r\n ","title":"PersistentBag.toString() stackoverflow error while querying the result of HQL query","body":"<p><em>You are facing the problem as <code>Person#toString</code> calls the <code>Company#toString</code> and <code>Company#toString</code> again calls the <code>Person#toSting</code>.</em></p>\n\n<p>So, what is happening is When Person#toString called it called the below toString definition:</p>\n\n<pre><code>    @Override\npublic String toString() {\n    return \"Person [id=\" + id + \", name=\" + name + \", company=\" + company + \"]\";\n}\n</code></pre>\n\n<p>Now can see that you have contaminated the company also that means your return statement actually becomes <code>\"Person [id=\" + id + \", name=\" + name + \", company=\" + company.toString() + \"]\";</code> . So, it calls the Company#toString() now look the implementaion of <code>Company#toString()</code> it contains <code>persons</code> object in string concatination.Which again calls <code>Person#toString()</code> , and its goes on still the method stack is overflow.</p>\n"},{"tags":[],"owner":{"account_id":19199849,"reputation":1,"user_id":14028014,"display_name":"Lavesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677138843,"creation_date":1676786220,"answer_id":75498275,"question_id":55560638,"body_markdown":"remove all tostrings\r\n\r\n`@data` also containe `@tostring`\r\n\r\nit will work ","title":"PersistentBag.toString() stackoverflow error while querying the result of HQL query","body":"<p>remove all tostrings</p>\n<p><code>@data</code> also containe <code>@tostring</code></p>\n<p>it will work</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55560758,"answer_count":2,"score":1,"last_activity_date":1677138843,"creation_date":1554651019,"question_id":55560638,"body_markdown":"I am a beginner in `Hibernate` and was trying to implement one of the `HQL` queries\r\n\r\n\r\n    Query q= em.createQuery(&quot;select p from Person p join p.company c&quot;);\r\n    \t\tList&lt;Person&gt; l = q.getResultList();\r\n    \t\tSystem.out.println(l.get(0));\r\n\r\nWhen I run the above code I get the below error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n    \tat java.lang.StringBuilder.append(Unknown Source)\r\n    \tat java.lang.StringBuilder.&lt;init&gt;(Unknown Source)\r\n    \tat hibernate5.testing.onetomany.Person.toString(Person.java:71)\r\n    \tat java.lang.String.valueOf(Unknown Source)\r\n    \tat java.lang.StringBuilder.append(Unknown Source)\r\n    \tat java.util.AbstractCollection.toString(Unknown Source)\r\n    \tat org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:527)\r\n    \tat java.lang.String.valueOf(Unknown Source)\r\n    \tat java.lang.StringBuilder.append(Unknown Source)\r\n    \tat hibernate5.testing.onetomany.Company.toString(Company.java:72)\r\n    \tat java.lang.String.valueOf(Unknown Source)\r\n    \tat java.lang.StringBuilder.append(Unknown Source)\r\n\r\nHowever when I comment out the `sysout` It runs as expected.As per the stack trace it seems to concern with the `toString` method but I am not sure what is the issue here. Below are the `POJOs` or the `entities` \r\n\r\n**Person**\r\n    \r\n    getters and setters\r\n    \r\n    \r\n    \t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;, company=&quot; + company + &quot;]&quot;;\r\n\t}\r\n**Company**\r\n\r\n     getters and setters\r\n        \r\n        \r\n        \t@Override\r\n        \tpublic String toString() {\r\n        \t\treturn &quot;Company [id=&quot; + id + &quot;, name=&quot; + name + &quot;, persons=&quot; + persons + &quot;]&quot;;\r\n        \t}\r\n\r\nCan someone please help.","title":"PersistentBag.toString() stackoverflow error while querying the result of HQL query","body":"<p>I am a beginner in <code>Hibernate</code> and was trying to implement one of the <code>HQL</code> queries</p>\n\n<pre><code>Query q= em.createQuery(\"select p from Person p join p.company c\");\n        List&lt;Person&gt; l = q.getResultList();\n        System.out.println(l.get(0));\n</code></pre>\n\n<p>When I run the above code I get the below error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.StackOverflowError\n    at java.lang.StringBuilder.append(Unknown Source)\n    at java.lang.StringBuilder.&lt;init&gt;(Unknown Source)\n    at hibernate5.testing.onetomany.Person.toString(Person.java:71)\n    at java.lang.String.valueOf(Unknown Source)\n    at java.lang.StringBuilder.append(Unknown Source)\n    at java.util.AbstractCollection.toString(Unknown Source)\n    at org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:527)\n    at java.lang.String.valueOf(Unknown Source)\n    at java.lang.StringBuilder.append(Unknown Source)\n    at hibernate5.testing.onetomany.Company.toString(Company.java:72)\n    at java.lang.String.valueOf(Unknown Source)\n    at java.lang.StringBuilder.append(Unknown Source)\n</code></pre>\n\n<p>However when I comment out the <code>sysout</code> It runs as expected.As per the stack trace it seems to concern with the <code>toString</code> method but I am not sure what is the issue here. Below are the <code>POJOs</code> or the <code>entities</code> </p>\n\n<p><strong>Person</strong></p>\n\n<pre><code>getters and setters\n\n\n    @Override\npublic String toString() {\n    return \"Person [id=\" + id + \", name=\" + name + \", company=\" + company + \"]\";\n}\n</code></pre>\n\n<p><strong>Company</strong></p>\n\n<pre><code> getters and setters\n\n\n        @Override\n        public String toString() {\n            return \"Company [id=\" + id + \", name=\" + name + \", persons=\" + persons + \"]\";\n        }\n</code></pre>\n\n<p>Can someone please help.</p>\n"},{"tags":["java","angular","rest","jax-rs","jax-ws"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1547109233,"post_id":54122766,"comment_id":95080644,"body_markdown":"What JAX-RS implementation are you using? Each implementation has their own MultiPart support. Just read the documentation. The `@FormDataParam` for Jersey handles MultiPart, so that&#39;s what you want, as that&#39;s the type of request that is being sent.","body":"What JAX-RS implementation are you using? Each implementation has their own MultiPart support. Just read the documentation. The <code>@FormDataParam</code> for Jersey handles MultiPart, so that&#39;s what you want, as that&#39;s the type of request that is being sent."},{"owner":{"account_id":7872998,"reputation":9,"user_id":5949631,"display_name":"Jitendra Saini"},"score":0,"creation_date":1547110082,"post_id":54122766,"comment_id":95081078,"body_markdown":"@PaulSamsotha I am not using Jersey framework, I am using core jax-rs api.","body":"@PaulSamsotha I am not using Jersey framework, I am using core jax-rs api."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1547166648,"post_id":54122766,"comment_id":95109166,"body_markdown":"Core JAX-RS APIs have no support for Multipart. You need to use an implementation&#39;s APIs.","body":"Core JAX-RS APIs have no support for Multipart. You need to use an implementation&#39;s APIs."}],"answers":[{"tags":[],"owner":{"account_id":9085189,"reputation":564,"user_id":6763487,"display_name":"CodeRider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547108128,"creation_date":1547108128,"answer_id":54124369,"question_id":54122766,"body_markdown":"Try with   *@Consumes(MediaType.APPLICATION_OCTET_STREAM)*","title":"I am sending form data which contains zip file as well as few other parameter from angular 2, but In Java back end I finding difficulties to consume","body":"<p>Try with   <em>@Consumes(MediaType.APPLICATION_OCTET_STREAM)</em></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676987770,"post_id":75483899,"comment_id":133244625,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75483899/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":8353739,"reputation":41,"user_id":6274858,"display_name":"Kolja"},"score":0,"creation_date":1677079038,"post_id":75483899,"comment_id":133267066,"body_markdown":"If nothing helps, you can also use the underlying Request directly. In Java Spring, simply use HttpServletRequest in your controller-method: public ResponseEntity&lt;?&gt; someMethod(HttpServletRequest request) { .. } ... with this, you prevent parsing-errors but you have to map yourself","body":"If nothing helps, you can also use the underlying Request directly. In Java Spring, simply use HttpServletRequest in your controller-method: public ResponseEntity&lt;?&gt; someMethod(HttpServletRequest request) { .. } ... with this, you prevent parsing-errors but you have to map yourself"}],"tags":[],"owner":{"account_id":8353739,"reputation":41,"user_id":6274858,"display_name":"Kolja"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677138561,"creation_date":1676634379,"answer_id":75483899,"question_id":54122766,"body_markdown":"In Backend, you receive a MultipartFile. In Java Spring it has to look looks as follows: \r\n```\r\n@PostMapping\r\npublic ResponseEntity&lt;?&gt; postData(@RequestParam(&quot;file&quot;) MultipartFile file, @RequestParam(&quot;agencyId&quot;) Long agencyId) {\r\n // your Business-Code here\r\n}\r\n```\r\n\r\nOn Frontend-Side, you can push the file and the other parameter as Formdata as following. The example uses a String-Value and a zip-file named &#39;file&#39;, both in FormData: \r\n\r\n```\r\n// Popup for fileupload\r\nlet inputElement = document.createElement(&quot;input&quot;);\r\ninputElement.type = &#39;file&#39;;\r\ninputElement.accept = &#39;zip&#39;;\r\n\r\n// get file, chosen by user in popup\r\nlet files = fileChosenEvent.target as HTMLInputElement;\r\n\r\n// create FormData\r\nconst formData = new FormData();\r\nformData.append(&#39;agencyId&#39;, agencyId.toString())\r\nformData.append(&#39;file&#39;, new Blob([files.files[0]], { type: application/octet-stream&quot; }), file.name);\r\n```","title":"I am sending form data which contains zip file as well as few other parameter from angular 2, but In Java back end I finding difficulties to consume","body":"<p>In Backend, you receive a MultipartFile. In Java Spring it has to look looks as follows:</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;?&gt; postData(@RequestParam(&quot;file&quot;) MultipartFile file, @RequestParam(&quot;agencyId&quot;) Long agencyId) {\n // your Business-Code here\n}\n</code></pre>\n<p>On Frontend-Side, you can push the file and the other parameter as Formdata as following. The example uses a String-Value and a zip-file named 'file', both in FormData:</p>\n<pre><code>// Popup for fileupload\nlet inputElement = document.createElement(&quot;input&quot;);\ninputElement.type = 'file';\ninputElement.accept = 'zip';\n\n// get file, chosen by user in popup\nlet files = fileChosenEvent.target as HTMLInputElement;\n\n// create FormData\nconst formData = new FormData();\nformData.append('agencyId', agencyId.toString())\nformData.append('file', new Blob([files.files[0]], { type: application/octet-stream&quot; }), file.name);\n</code></pre>\n"}],"owner":{"account_id":7872998,"reputation":9,"user_id":5949631,"display_name":"Jitendra Saini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677138561,"creation_date":1547100338,"question_id":54122766,"body_markdown":"the error which I am getting is 415 Unsupported media type.\r\n\r\nI am sending form data with zip file as well as few other parameters.\r\nIn angular2 I am setting content type as multipart/form-data.\r\n\r\nIn Java backend also consume as multipart/form data.\r\nI am using javax.ws.rs api.\r\nThe methods which I have tried.\r\nUsing @FormParam didn&#39;t work\r\nUsing FileInputStream didn&#39;t work\r\n\r\nI can&#39;t use FormDataParam because I am not using jersey. I need alternate of FormDataParam in jax-ws-rs.\r\n\r\n\r\n","title":"I am sending form data which contains zip file as well as few other parameter from angular 2, but In Java back end I finding difficulties to consume","body":"<p>the error which I am getting is 415 Unsupported media type.</p>\n\n<p>I am sending form data with zip file as well as few other parameters.\nIn angular2 I am setting content type as multipart/form-data.</p>\n\n<p>In Java backend also consume as multipart/form data.\nI am using javax.ws.rs api.\nThe methods which I have tried.\nUsing @FormParam didn't work\nUsing FileInputStream didn't work</p>\n\n<p>I can't use FormDataParam because I am not using jersey. I need alternate of FormDataParam in jax-ws-rs.</p>\n"},{"tags":["java","html","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":27856894,"reputation":3,"user_id":21270200,"display_name":"Kris"},"score":1,"creation_date":1677137514,"post_id":75541294,"comment_id":133279255,"body_markdown":"thanks @zakaria shahed, this solution worked for me, I used  //input[id=&quot;answer_check-true&quot;] to get the xpath  instead of //input[name=&#39;answer_check&#39;] (as it was not unique)","body":"thanks @zakaria shahed, this solution worked for me, I used  //input[id=&quot;answer_check-true&quot;] to get the xpath  instead of //input[name=&#39;answer_check&#39;] (as it was not unique)"}],"tags":[],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677133759,"creation_date":1677133759,"answer_id":75541294,"question_id":75540699,"body_markdown":"`isSelected()` will work only on the `input` tag\r\nYou need to take xpath like `//input[name=&#39;answer_check&#39;]`","title":"Radio button isSelected() returns false for Selenium Webdriver on Chrome browser","body":"<p><code>isSelected()</code> will work only on the <code>input</code> tag\nYou need to take xpath like <code>//input[name='answer_check']</code></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677138138,"creation_date":1677137453,"answer_id":75541765,"question_id":75540699,"body_markdown":"`isSelected()`\r\n--------------\r\n[`isSelected()`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isSelected()) returns a _boolean_ determining whether the element is selected or not. This operation only applies to `&lt;input&gt;` elements such as checkboxes, options in a select and radio buttons.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo validate if the `&lt;input&gt;` associated with **Yes** is selected or not you can use either of the following strategies:\r\n\r\n- Using _`id`_ attribute:\r\n\r\n\t  driver.findElement(By.xpath(&quot;//span[@class=&#39;tss-label&#39; and text()=&#39;Yes&#39;]//preceding-sibling::input[contains(@id, &#39;true&#39;)]&quot;));\r\n\r\n- Using _`value`_ attribute:\r\n\r\n\t  driver.findElement(By.xpath(&quot;//span[@class=&#39;tss-label&#39; and text()=&#39;Yes&#39;]//preceding-sibling::input[@value=&#39;true&#39;]&quot;));\r\n\r\n- Using _`checked`_ attribute:\r\n\r\n\t  driver.findElement(By.xpath(&quot;//span[@class=&#39;tss-label&#39; and text()=&#39;Yes&#39;]//preceding-sibling::input[checked]&quot;));","title":"Radio button isSelected() returns false for Selenium Webdriver on Chrome browser","body":"<h2><code>isSelected()</code></h2>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isSelected()\" rel=\"nofollow noreferrer\"><code>isSelected()</code></a> returns a <em>boolean</em> determining whether the element is selected or not. This operation only applies to <code>&lt;input&gt;</code> elements such as checkboxes, options in a select and radio buttons.</p>\n<hr />\n<h2>Solution</h2>\n<p>To validate if the <code>&lt;input&gt;</code> associated with <strong>Yes</strong> is selected or not you can use either of the following strategies:</p>\n<ul>\n<li><p>Using <em><code>id</code></em> attribute:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//span[@class='tss-label' and text()='Yes']//preceding-sibling::input[contains(@id, 'true')]&quot;));\n</code></pre>\n</li>\n<li><p>Using <em><code>value</code></em> attribute:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//span[@class='tss-label' and text()='Yes']//preceding-sibling::input[@value='true']&quot;));\n</code></pre>\n</li>\n<li><p>Using <em><code>checked</code></em> attribute:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//span[@class='tss-label' and text()='Yes']//preceding-sibling::input[checked]&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":27856894,"reputation":3,"user_id":21270200,"display_name":"Kris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75541294,"answer_count":2,"score":0,"last_activity_date":1677138138,"creation_date":1677128189,"question_id":75540699,"body_markdown":"I am trying to verify if my radio button is selected or not, but each time I am getting value as false even when I select the radio button.\r\n\r\n\r\nHTML page \r\n```\r\n&lt;div class=&quot;controls tss-radio-text-format&quot;&gt;\r\n   &lt;label class=&quot;tss-radio&quot;&gt;\r\n   &lt;input type=&quot;radio&quot; name=&quot;answer_check&quot; id=&quot;answer_check-true&quot; value=&quot;true&quot; checked=&quot;&quot;&gt;\r\n   &lt;span class=&quot;radiobutton&quot;&gt;\r\n   &lt;/span&gt;&lt;span class=&quot;tss-label&quot;&gt;Yes&lt;/span&gt;&lt;/label&gt;&lt;label class=&quot;tss-radio&quot;&gt;\r\n   &lt;input type=&quot;radio&quot; name=&quot;answer_check&quot; id=&quot;answer_check-false&quot; value=&quot;false&quot;&gt;\r\n   &lt;span class=&quot;radiobutton&quot;&gt;&lt;/span&gt;\r\n   &lt;span class=&quot;tss-label&quot;&gt;No&lt;/span&gt;&lt;/label&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n\r\n\r\nBelow is the code that I tried to click on radio button and verify if radio button Yes is selected.\r\nThe output I get is false but I was expecting true and I see Yes radio button was selected in the chrome browser I am using\r\n\r\n\r\n```\r\npublic void clickAndVerifySelection() throws InterruptedException {\r\n  driver.findElement(By.xpath(&quot;(//span[@class=&#39;radiobutton&#39;])[1] &quot;)).click();\r\n  Thread.sleep(2000);\r\n  boolean value = driver.findElement(By.xpath(&quot;(//span[@class=&#39;radiobutton&#39;])[1] &quot;)).isSelected();\r\n  System.out.println(value);\r\n}\r\n```","title":"Radio button isSelected() returns false for Selenium Webdriver on Chrome browser","body":"<p>I am trying to verify if my radio button is selected or not, but each time I am getting value as false even when I select the radio button.</p>\n<p>HTML page</p>\n<pre><code>&lt;div class=&quot;controls tss-radio-text-format&quot;&gt;\n   &lt;label class=&quot;tss-radio&quot;&gt;\n   &lt;input type=&quot;radio&quot; name=&quot;answer_check&quot; id=&quot;answer_check-true&quot; value=&quot;true&quot; checked=&quot;&quot;&gt;\n   &lt;span class=&quot;radiobutton&quot;&gt;\n   &lt;/span&gt;&lt;span class=&quot;tss-label&quot;&gt;Yes&lt;/span&gt;&lt;/label&gt;&lt;label class=&quot;tss-radio&quot;&gt;\n   &lt;input type=&quot;radio&quot; name=&quot;answer_check&quot; id=&quot;answer_check-false&quot; value=&quot;false&quot;&gt;\n   &lt;span class=&quot;radiobutton&quot;&gt;&lt;/span&gt;\n   &lt;span class=&quot;tss-label&quot;&gt;No&lt;/span&gt;&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Below is the code that I tried to click on radio button and verify if radio button Yes is selected.\nThe output I get is false but I was expecting true and I see Yes radio button was selected in the chrome browser I am using</p>\n<pre><code>public void clickAndVerifySelection() throws InterruptedException {\n  driver.findElement(By.xpath(&quot;(//span[@class='radiobutton'])[1] &quot;)).click();\n  Thread.sleep(2000);\n  boolean value = driver.findElement(By.xpath(&quot;(//span[@class='radiobutton'])[1] &quot;)).isSelected();\n  System.out.println(value);\n}\n</code></pre>\n"},{"tags":["java","build","compilation","teamcity","agent"],"owner":{"account_id":26361377,"reputation":41,"user_id":20017506,"display_name":"Mahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677138788,"answer_count":0,"score":0,"last_activity_date":1677138125,"creation_date":1677137942,"question_id":75541820,"body_markdown":"Why i am getting this compilation error.\r\n\r\n\r\nGoals:clean install -U\r\n\r\n```\r\n[Step 5/5] [ERROR] COMPILATION ERROR :\r\n\r\n[08:32:25][Step 5/5] [INFO] -------------------------------------------------------------\r\n\r\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[3,30] package com.google.common.base does not exist\r\n\r\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[6,32] package io.github.bonigarcia.wdm does not exist\r\n\r\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[7,23] package junit.framework does not exist\r\n\r\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[8,40] package org.apache.commons.configuration does not exist\r\n\r\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[9,40] package org.apache.commons.configuration does not exist\r\n```","title":"Teamcity: Why i am getting compilation erro","body":"<p>Why i am getting this compilation error.</p>\n<p>Goals:clean install -U</p>\n<pre><code>[Step 5/5] [ERROR] COMPILATION ERROR :\n\n[08:32:25][Step 5/5] [INFO] -------------------------------------------------------------\n\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[3,30] package com.google.common.base does not exist\n\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[6,32] package io.github.bonigarcia.wdm does not exist\n\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[7,23] package junit.framework does not exist\n\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[8,40] package org.apache.commons.configuration does not exist\n\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[9,40] package org.apache.commons.configuration does not exist\n</code></pre>\n"},{"tags":["java","jakarta-ee","jakarta-mail","java-17"],"owner":{"account_id":27857931,"reputation":11,"user_id":21271056,"display_name":"CreativeWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677138111,"creation_date":1677137484,"question_id":75541768,"body_markdown":"i get the following error message all at once when using Jakarta.Mail.\r\n\r\n```\r\n`Exception in thread &quot;Thread-7&quot; java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class jakarta.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and jakarta.activation.MailcapCommandMap are in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @3697186)\r\nat jakarta.activation.MailcapCommandMap.\\&lt;init\\&gt;(MailcapCommandMap.java:149)\r\nat jakarta.activation.CommandMap.getDefaultCommandMap(CommandMap.java:55)\r\nat jakarta.activation.DataHandler.getCommandMap(DataHandler.java:127)\r\nat jakarta.activation.DataHandler.getDataContentHandler(DataHandler.java:586)\r\nat jakarta.activation.DataHandler.getContent(DataHandler.java:514)\r\nat jakarta.mail.internet.MimeMessage.getContent(MimeMessage.java:1475)\r\n`\r\n```\r\nI use the following versions:\r\n\r\nJakarta-EE: 10.0.0\r\nJakarta.Mail: 2.1.1\r\nJDK: 17\r\n\r\nThe error comes when I call the function getContent() from jakarta.mail.internet.MimeMessage.\r\n\r\nDoes anyone have an idea to fix the error message without using an old version?\r\n\r\nThank you very much for your help\r\n\r\nI want to use the getContent() methods in MimeMessage in the latest version","title":"java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class jakarta.activation.MailcapCommand Map","body":"<p>i get the following error message all at once when using Jakarta.Mail.</p>\n<pre><code>`Exception in thread &quot;Thread-7&quot; java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class jakarta.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and jakarta.activation.MailcapCommandMap are in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @3697186)\nat jakarta.activation.MailcapCommandMap.\\&lt;init\\&gt;(MailcapCommandMap.java:149)\nat jakarta.activation.CommandMap.getDefaultCommandMap(CommandMap.java:55)\nat jakarta.activation.DataHandler.getCommandMap(DataHandler.java:127)\nat jakarta.activation.DataHandler.getDataContentHandler(DataHandler.java:586)\nat jakarta.activation.DataHandler.getContent(DataHandler.java:514)\nat jakarta.mail.internet.MimeMessage.getContent(MimeMessage.java:1475)\n`\n</code></pre>\n<p>I use the following versions:</p>\n<p>Jakarta-EE: 10.0.0\nJakarta.Mail: 2.1.1\nJDK: 17</p>\n<p>The error comes when I call the function getContent() from jakarta.mail.internet.MimeMessage.</p>\n<p>Does anyone have an idea to fix the error message without using an old version?</p>\n<p>Thank you very much for your help</p>\n<p>I want to use the getContent() methods in MimeMessage in the latest version</p>\n"},{"tags":["java","spring-boot","security","docker-compose","keystore"],"answers":[{"comments":[{"owner":{"account_id":16507750,"reputation":171,"user_id":11927366,"display_name":"alia"},"score":0,"creation_date":1619736573,"post_id":67310383,"comment_id":119002781,"body_markdown":"Thank you Philip. I resolve this problem by changing openJdk:8 to openjdk:8-jre-alpine3.9 in my Dockerfile.","body":"Thank you Philip. I resolve this problem by changing openJdk:8 to openjdk:8-jre-alpine3.9 in my Dockerfile."},{"owner":{"account_id":8423772,"reputation":366,"user_id":6321762,"display_name":"Ala Messaoudi"},"score":0,"creation_date":1632322224,"post_id":67310383,"comment_id":122461736,"body_markdown":"in my case i set the file java.security of the jvm. I added at the end of this file :  keystore.pkcs12.keyProtectionAlgorithm=PBEWithHmacSHA256AndAES_256","body":"in my case i set the file java.security of the jvm. I added at the end of this file :  keystore.pkcs12.keyProtectionAlgorithm=PBEWithHmacSHA256AndA&zwnj;&#8203;ES_256"}],"tags":[],"owner":{"account_id":21433821,"reputation":66,"user_id":15789651,"display_name":"Philip Pang"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1619664654,"creation_date":1619664654,"answer_id":67310383,"question_id":67302528,"body_markdown":"Recently got the same problem and found the following discussion saying it is a bug that happens on JDK 8u292 but not on 8u282:\r\nhttps://github.com/bcgit/bc-java/issues/941\r\n\r\nIn my case, I switched back to 8u282 and the error is gone.","title":"java.security.KeyStoreException when running my app with docker-compose","body":"<p>Recently got the same problem and found the following discussion saying it is a bug that happens on JDK 8u292 but not on 8u282:\n<a href=\"https://github.com/bcgit/bc-java/issues/941\" rel=\"noreferrer\">https://github.com/bcgit/bc-java/issues/941</a></p>\n<p>In my case, I switched back to 8u282 and the error is gone.</p>\n"},{"comments":[{"owner":{"account_id":4455231,"reputation":136,"user_id":3625752,"display_name":"rinilnath"},"score":0,"creation_date":1649943664,"post_id":69907344,"comment_id":127006088,"body_markdown":"Are we sure that this is only due to variation of versions of java","body":"Are we sure that this is only due to variation of versions of java"}],"tags":[],"owner":{"account_id":23290873,"reputation":41,"user_id":17372977,"display_name":"han wei"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636511643,"creation_date":1636511643,"answer_id":69907344,"question_id":67302528,"body_markdown":"It&#39;s a bug in openjdk 8u292. Update openjdk to 8u302 or higher version.\r\n\r\n8u292 -&gt; 8u312 I resolve this problem.\r\n```\r\nhanwei@hanweideMacBook-Air tt]$ java -version\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (Zulu 8.54.0.21-CA-macos-aarch64) (build 1.8.0_292-b10)\r\nOpenJDK 64-Bit Server VM (Zulu 8.54.0.21-CA-macos-aarch64) (build 25.292-b10, mixed mode)\r\nhanwei@hanweideMacBook-Air tt]$ java -version\r\nopenjdk version &quot;1.8.0_312&quot;\r\nOpenJDK Runtime Environment (Zulu 8.58.0.13-CA-macos-aarch64) (build 1.8.0_312-b07)\r\nOpenJDK 64-Bit Server VM (Zulu 8.58.0.13-CA-macos-aarch64) (build 25.312-b07, mixed mode)\r\n```\r\n\r\n&gt;https://bugs.openjdk.java.net/browse/JDK-8266261\r\n\r\n&gt;https://bugs.openjdk.java.net/browse/JDK-8242565\r\n\r\n\r\n","title":"java.security.KeyStoreException when running my app with docker-compose","body":"<p>It's a bug in openjdk 8u292. Update openjdk to 8u302 or higher version.</p>\n<p>8u292 -&gt; 8u312 I resolve this problem.</p>\n<pre><code>hanwei@hanweideMacBook-Air tt]$ java -version\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (Zulu 8.54.0.21-CA-macos-aarch64) (build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (Zulu 8.54.0.21-CA-macos-aarch64) (build 25.292-b10, mixed mode)\nhanwei@hanweideMacBook-Air tt]$ java -version\nopenjdk version &quot;1.8.0_312&quot;\nOpenJDK Runtime Environment (Zulu 8.58.0.13-CA-macos-aarch64) (build 1.8.0_312-b07)\nOpenJDK 64-Bit Server VM (Zulu 8.58.0.13-CA-macos-aarch64) (build 25.312-b07, mixed mode)\n</code></pre>\n<blockquote>\n<p>https://bugs.openjdk.java.net/browse/JDK-8266261</p>\n</blockquote>\n<blockquote>\n<p>https://bugs.openjdk.java.net/browse/JDK-8242565</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677138093,"creation_date":1677138093,"answer_id":75541848,"question_id":67302528,"body_markdown":"It was happening to me also during SpringBoot App Launch. This is due to openjdk version 1.8.0_292 and switching to Standard HotSpot Java version 1.8.0_202 resolved the problem. Probably bug in OpenJdk.","title":"java.security.KeyStoreException when running my app with docker-compose","body":"<p>It was happening to me also during SpringBoot App Launch. This is due to openjdk version 1.8.0_292 and switching to Standard HotSpot Java version 1.8.0_202 resolved the problem. Probably bug in OpenJdk.</p>\n"}],"owner":{"account_id":16507750,"reputation":171,"user_id":11927366,"display_name":"alia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4901,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67310383,"answer_count":3,"score":3,"last_activity_date":1677138093,"creation_date":1619621324,"question_id":67302528,"body_markdown":"I have my spring boot project connected to mysql and cassandra db.\r\nWhen I run it locally with spring boot, all went ok. I use docker-compose to run these three services.\r\nFor three weeks, my application runs without problems. But now an error occure :\r\nCaused by: java.security.KeyStoreException: Key protection  algorithm not found: java.security.UnrecoverableKeyException: Encrypt Private Key failed: unrecognized algorithm name: PBEWithSHA1AndDESede.\r\nCan someone help me please?","title":"java.security.KeyStoreException when running my app with docker-compose","body":"<p>I have my spring boot project connected to mysql and cassandra db.\nWhen I run it locally with spring boot, all went ok. I use docker-compose to run these three services.\nFor three weeks, my application runs without problems. But now an error occure :\nCaused by: java.security.KeyStoreException: Key protection  algorithm not found: java.security.UnrecoverableKeyException: Encrypt Private Key failed: unrecognized algorithm name: PBEWithSHA1AndDESede.\nCan someone help me please?</p>\n"},{"tags":["java","maven","dependencies","libraries","mvn-repo"],"comments":[{"owner":{"account_id":1811993,"reputation":888,"user_id":1647851,"accept_rate":85,"display_name":"null"},"score":1,"creation_date":1494049897,"post_id":4955635,"comment_id":74673253,"body_markdown":"Hi @Praneel PIDIKITI, Can you please change the accepted answer to the one with the most votes?","body":"Hi @Praneel PIDIKITI, Can you please change the accepted answer to the one with the most votes?"},{"owner":{"account_id":223484,"reputation":61196,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":2,"creation_date":1500992413,"post_id":4955635,"comment_id":77573932,"body_markdown":"@nslntmnx That won&#39;t be better solution, as all solution have drawbacks https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them","body":"@nslntmnx That won&#39;t be better solution, as all solution have drawbacks <a href=\"https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them\" title=\"can i add jars to maven 2 build classpath without installing them\">stackoverflow.com/questions/364114/&hellip;</a>"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":2,"creation_date":1518032726,"post_id":4955635,"comment_id":84342254,"body_markdown":"If your libs are updated or extended on occasion see [this answer](https://stackoverflow.com/a/48670812/1744774) to [I want to load all JARs from my libs project folder with maven](https://stackoverflow.com/q/48665906/1744774) for a &quot;pomified&quot; way and such avoiding an additional repo folder and cumbersome cmd lines or `install-file` scripts.","body":"If your libs are updated or extended on occasion see <a href=\"https://stackoverflow.com/a/48670812/1744774\">this answer</a> to <a href=\"https://stackoverflow.com/q/48665906/1744774\">I want to load all JARs from my libs project folder with maven</a> for a &quot;pomified&quot; way and such avoiding an additional repo folder and cumbersome cmd lines or <code>install-file</code> scripts."},{"owner":{"account_id":1864790,"reputation":681,"user_id":1688614,"display_name":"ltuska"},"score":0,"creation_date":1665161621,"post_id":4955635,"comment_id":130642863,"body_markdown":"I think adding local jars is at least a &quot;bad smell&quot;. Either you must push them in SCM, or others (or the build systems) might not have them locally. This just means possible build failures (and similar troubles). Take the time, push them to the artifact repository used by your team (e.g., as &quot;legacy&quot; libraries), and reference them from that repo in the project.","body":"I think adding local jars is at least a &quot;bad smell&quot;. Either you must push them in SCM, or others (or the build systems) might not have them locally. This just means possible build failures (and similar troubles). Take the time, push them to the artifact repository used by your team (e.g., as &quot;legacy&quot; libraries), and reference them from that repo in the project."}],"answers":[{"comments":[{"owner":{"account_id":3576183,"reputation":8143,"user_id":2985377,"accept_rate":75,"display_name":"Jason D"},"score":13,"creation_date":1405363387,"post_id":4955695,"comment_id":38386446,"body_markdown":"Instructions to install on my build had everything except the generatePom part. That appears to be crucial.","body":"Instructions to install on my build had everything except the generatePom part. That appears to be crucial."},{"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"score":23,"creation_date":1467070450,"post_id":4955695,"comment_id":63568440,"body_markdown":"The answer doesn&#39;t mention a README or that the jars are brought along. However, if the project brings the jars along then you might as well put the repo in the project as mentioned here http://stackoverflow.com/a/36602256/1000011 then you have no need for a README as the project will just work as if the jars were in maven central without any extra manual steps.","body":"The answer doesn&#39;t mention a README or that the jars are brought along. However, if the project brings the jars along then you might as well put the repo in the project as mentioned here <a href=\"http://stackoverflow.com/a/36602256/1000011\">stackoverflow.com/a/36602256/1000011</a> then you have no need for a README as the project will just work as if the jars were in maven central without any extra manual steps."},{"owner":{"account_id":1289402,"reputation":11379,"user_id":1241782,"accept_rate":83,"display_name":"Mike S"},"score":10,"creation_date":1469731215,"post_id":4955695,"comment_id":64671647,"body_markdown":"@opticyclic your comment needs more upvotes, or this answer needs to be edited. It is a recipe for disaster for novices who don&#39;t realize that installing to the local Maven repo would not include for everyone else.","body":"@opticyclic your comment needs more upvotes, or this answer needs to be edited. It is a recipe for disaster for novices who don&#39;t realize that installing to the local Maven repo would not include for everyone else."},{"owner":{"account_id":5556872,"reputation":930,"user_id":4557607,"accept_rate":65,"display_name":"Edv Beq"},"score":1,"creation_date":1550458249,"post_id":4955695,"comment_id":96262034,"body_markdown":"Is there a way to install the local java doc and sources?","body":"Is there a way to install the local java doc and sources?"},{"owner":{"account_id":370573,"reputation":1651,"user_id":718590,"accept_rate":43,"display_name":"pkalinow"},"score":1,"creation_date":1664278971,"post_id":4955695,"comment_id":130430133,"body_markdown":"If there is the pom.xml file available, the command is simpler: mvn install:install-file -Dfile=&lt;path-to-file&gt; -DpomFile=&lt;path-to-pomfile&gt; (https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html)","body":"If there is the pom.xml file available, the command is simpler: mvn install:install-file -Dfile=&lt;path-to-file&gt; -DpomFile=&lt;path-to-pomfile&gt; (<a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-3rd-party-jars-local.htm&zwnj;&#8203;l</a>)"},{"owner":{"account_id":4783898,"reputation":375,"user_id":5974641,"display_name":"Lars Marius Garshol"},"score":0,"creation_date":1695886809,"post_id":4955695,"comment_id":136084347,"body_markdown":"This is deprecated, and adding the jar in system scope leads to issues with producing fat jars. A far better solution is the answer from @0xCursor, which puts the jar in a Maven repo in version control. No downsides.","body":"This is deprecated, and adding the jar in system scope leads to issues with producing fat jars. A far better solution is the answer from @0xCursor, which puts the jar in a Maven repo in version control. No downsides."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1697098654,"post_id":4955695,"comment_id":136237506,"body_markdown":"On one jar I continually got the error `The artifact information is not valid: uses invalid characters.` Resolved it by removing a pom.xml that was inside the jar.","body":"On one jar I continually got the error <code>The artifact information is not valid: uses invalid characters.</code> Resolved it by removing a pom.xml that was inside the jar."},{"owner":{"account_id":57405,"reputation":3587,"user_id":171956,"accept_rate":19,"display_name":"99Sono"},"score":0,"creation_date":1700671207,"post_id":4955695,"comment_id":136684019,"body_markdown":"If you do not want to get the error that a pom.xml is required to run the command you can instead do something like: mvn deploy:deploy-file -e -DgroupId=%GROUP_ID% -DartifactId=%ARTIFACT_ID% -Dversion=%VERSION% -Dpackaging=jar -Dfile=&quot;%FULL_PATH_FILE_TO_UPLOAD%&quot;  -Dsources=%FULL_PATH_FILE_TO_UPLOAD_SOURCES% -DrepositoryId=thirdparty -Durl=%URL% and in this case the URL can be something like SET URL=file://%SCRIPT_DIRECTORY%/uploadTest  with the path to your local maven repo","body":"If you do not want to get the error that a pom.xml is required to run the command you can instead do something like: mvn deploy:deploy-file -e -DgroupId=%GROUP_ID% -DartifactId=%ARTIFACT_ID% -Dversion=%VERSION% -Dpackaging=jar -Dfile=&quot;%FULL_PATH_FILE_TO_UPLOAD%&quot;  -Dsources=%FULL_PATH_FILE_TO_UPLOAD_SOURCES% -DrepositoryId=thirdparty -Durl=%URL% and in this case the URL can be something like SET URL=file://%SCRIPT_DIRECTORY%/uploadTest  with the path to your local maven repo"}],"tags":[],"owner":{"account_id":156267,"reputation":12851,"user_id":373455,"accept_rate":94,"display_name":"user373455"},"comment_count":8,"down_vote_count":35,"up_vote_count":1120,"is_accepted":true,"score":1085,"last_activity_date":1624818913,"creation_date":1297332509,"answer_id":4955695,"question_id":4955635,"body_markdown":"Install the JAR into your local Maven repository (typically `.m2` in your home folder) as follows:\r\n\r\n    mvn install:install-file \\\r\n       -Dfile=&lt;path-to-file&gt; \\\r\n       -DgroupId=&lt;group-id&gt; \\\r\n       -DartifactId=&lt;artifact-id&gt; \\\r\n       -Dversion=&lt;version&gt; \\\r\n       -Dpackaging=&lt;packaging&gt; \\\r\n       -DgeneratePom=true\r\n\r\nWhere each refers to: \r\n\r\n`&lt;path-to-file&gt;`: the path to the file to load e.g → `c:\\kaptcha-2.3.jar`\r\n\r\n`&lt;group-id&gt;`: the group that the file should be registered under e.g → `com.google.code`\r\n\r\n`&lt;artifact-id&gt;`: the artifact name for the file e.g → `kaptcha`\r\n\r\n`&lt;version&gt;`: the version of the file e.g → `2.3`\r\n\r\n`&lt;packaging&gt;`: the packaging of the file e.g. → `jar`\r\n\r\n**Reference**\r\n\r\n* Maven FAQ: [I have a jar that I want to put into my local repository. How can I copy it in?][1]\r\n* Maven Install Plugin Usage: [The `install:install-file` goal][2]\r\n\r\n[1]: http://maven.apache.org/general.html#importing-jars\r\n[2]: https://maven.apache.org/plugins/maven-install-plugin/usage.html#The_install:install-file_goal","title":"How to add local jar files to a Maven project?","body":"<p>Install the JAR into your local Maven repository (typically <code>.m2</code> in your home folder) as follows:</p>\n<pre><code>mvn install:install-file \\\n   -Dfile=&lt;path-to-file&gt; \\\n   -DgroupId=&lt;group-id&gt; \\\n   -DartifactId=&lt;artifact-id&gt; \\\n   -Dversion=&lt;version&gt; \\\n   -Dpackaging=&lt;packaging&gt; \\\n   -DgeneratePom=true\n</code></pre>\n<p>Where each refers to:</p>\n<p><code>&lt;path-to-file&gt;</code>: the path to the file to load e.g → <code>c:\\kaptcha-2.3.jar</code></p>\n<p><code>&lt;group-id&gt;</code>: the group that the file should be registered under e.g → <code>com.google.code</code></p>\n<p><code>&lt;artifact-id&gt;</code>: the artifact name for the file e.g → <code>kaptcha</code></p>\n<p><code>&lt;version&gt;</code>: the version of the file e.g → <code>2.3</code></p>\n<p><code>&lt;packaging&gt;</code>: the packaging of the file e.g. → <code>jar</code></p>\n<p><strong>Reference</strong></p>\n<ul>\n<li>Maven FAQ: <a href=\"http://maven.apache.org/general.html#importing-jars\" rel=\"noreferrer\">I have a jar that I want to put into my local repository. How can I copy it in?</a></li>\n<li>Maven Install Plugin Usage: <a href=\"https://maven.apache.org/plugins/maven-install-plugin/usage.html#The_install:install-file_goal\" rel=\"noreferrer\">The <code>install:install-file</code> goal</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":102129,"reputation":7632,"user_id":274344,"accept_rate":82,"display_name":"Simeon"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1297334609,"creation_date":1297332563,"answer_id":4955709,"question_id":4955635,"body_markdown":"The preferred way would be to create your own remote repository.\r\n\r\nSee [here][1] for details on how to do it.\r\nHave a look at the &#39;**Uploading to a Remote Repository**&#39; section.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-repositories.html","title":"How to add local jar files to a Maven project?","body":"<p>The preferred way would be to create your own remote repository.</p>\n\n<p>See <a href=\"http://maven.apache.org/guides/introduction/introduction-to-repositories.html\" rel=\"nofollow\">here</a> for details on how to do it.\nHave a look at the '<strong>Uploading to a Remote Repository</strong>' section.</p>\n"},{"tags":[],"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1297332945,"creation_date":1297332945,"answer_id":4955789,"question_id":4955635,"body_markdown":"Of course you can add jars to that folder. But maybe it does not what you want to achieve...\r\n\r\nIf you need these jars for compilation, check this related question: https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them/\r\n\r\nAlso, before anyone suggests it, do NOT use the system scope.","title":"How to add local jar files to a Maven project?","body":"<p>Of course you can add jars to that folder. But maybe it does not what you want to achieve...</p>\n\n<p>If you need these jars for compilation, check this related question: <a href=\"https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them/\">Can I add jars to maven 2 build classpath without installing them?</a></p>\n\n<p>Also, before anyone suggests it, do NOT use the system scope.</p>\n"},{"comments":[{"owner":{"account_id":346185,"reputation":1460,"user_id":679563,"accept_rate":71,"display_name":"xinthink"},"score":4,"creation_date":1426435912,"post_id":4956037,"comment_id":46361837,"body_markdown":"End up with switching to gradle.\n\nIt doesn&#39;t work If the local jar is defined as dependencies, maven will not execute plugins before resolving the dependencies, a manual installation is unavoidable.\n\nfound a disscussion about this situation: http://stackoverflow.com/questions/5951999/is-there-are-way-to-install-maven-dependencies-before-maven-attempts-to-resolve","body":"End up with switching to gradle.  It doesn&#39;t work If the local jar is defined as dependencies, maven will not execute plugins before resolving the dependencies, a manual installation is unavoidable.  found a disscussion about this situation: <a href=\"http://stackoverflow.com/questions/5951999/is-there-are-way-to-install-maven-dependencies-before-maven-attempts-to-resolve\" title=\"is there are way to install maven dependencies before maven attempts to resolve\">stackoverflow.com/questions/5951999/&hellip;</a>"}],"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1490848850,"creation_date":1297334342,"answer_id":4956037,"question_id":4955635,"body_markdown":"One way is to upload it to your own Maven repository manager (such as Nexus). It&#39;s good practice to have an own repository manager anyway.\r\n\r\nAnother nice way I&#39;ve recently seen is to include the Maven Install Plugin in your build lifecycle: You declare in the POM to install the files to the local repository. It&#39;s a little but small overhead and no manual step involved.\r\n\r\nhttp://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html","title":"How to add local jar files to a Maven project?","body":"<p>One way is to upload it to your own Maven repository manager (such as Nexus). It's good practice to have an own repository manager anyway.</p>\n\n<p>Another nice way I've recently seen is to include the Maven Install Plugin in your build lifecycle: You declare in the POM to install the files to the local repository. It's a little but small overhead and no manual step involved.</p>\n\n<p><a href=\"http://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html\" rel=\"noreferrer\">http://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html</a></p>\n"},{"comments":[{"owner":{"account_id":54040,"reputation":3797,"user_id":161644,"accept_rate":30,"display_name":"John Lockwood"},"score":59,"creation_date":1414790349,"post_id":22300875,"comment_id":41965636,"body_markdown":"There are times when you want to specifically test an old jar for example, and I think this answer is a good fit for that.  It&#39;s the one I needed.   Upvoted","body":"There are times when you want to specifically test an old jar for example, and I think this answer is a good fit for that.  It&#39;s the one I needed.   Upvoted"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1433627370,"post_id":22300875,"comment_id":49435250,"body_markdown":"**External folder better?**  That example `&lt;systemPath&gt;` suggests a folder within the project. Would it make more sense to keep such jars in a folder external to the project? Sort of like a little pseudo-repository. I assume that Maven pulls a copy of the jar from such an external folder.","body":"<b>External folder better?</b>  That example <code>&lt;systemPath&gt;</code> suggests a folder within the project. Would it make more sense to keep such jars in a folder external to the project? Sort of like a little pseudo-repository. I assume that Maven pulls a copy of the jar from such an external folder."},{"owner":{"account_id":986239,"reputation":1789,"user_id":1004651,"accept_rate":67,"display_name":"Matthias"},"score":45,"creation_date":1438635515,"post_id":22300875,"comment_id":51521040,"body_markdown":"As nice and easy as it looks, this solution has the problem that yourJar.jar will not be included in a WAR file for your app.","body":"As nice and easy as it looks, this solution has the problem that yourJar.jar will not be included in a WAR file for your app."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":1,"creation_date":1441016136,"post_id":22300875,"comment_id":52492830,"body_markdown":"@Matthias why not? He placed it directly in the `/src/main/resources/` folder. That ought to be part of the project.","body":"@Matthias why not? He placed it directly in the <code>&#47;src&#47;main&#47;resources&#47;</code> folder. That ought to be part of the project."},{"owner":{"account_id":1885612,"reputation":556,"user_id":1704885,"display_name":"Jeremy Ninnes"},"score":0,"creation_date":1449273990,"post_id":22300875,"comment_id":55951229,"body_markdown":"@EpicPandaForce It will be included in the WAR under WEB-INF by default, not in the expected WEB-INF/lib directory.","body":"@EpicPandaForce It will be included in the WAR under WEB-INF by default, not in the expected WEB-INF/lib directory."},{"owner":{"account_id":2498224,"reputation":3197,"user_id":2174099,"accept_rate":42,"display_name":"sarah.ferguson"},"score":50,"creation_date":1449671474,"post_id":22300875,"comment_id":56108761,"body_markdown":"Above solution doesn&#39;t work anymore, it returns: &quot; &#39;dependencies.dependency.systemPath&#39; for xx.jar should not point at files within the project directory&quot; This has been already dealt in http://stackoverflow.com/questions/10935135/maven-and-adding-jars-to-system-scope","body":"Above solution doesn&#39;t work anymore, it returns: &quot; &#39;dependencies.dependency.systemPath&#39; for xx.jar should not point at files within the project directory&quot; This has been already dealt in <a href=\"http://stackoverflow.com/questions/10935135/maven-and-adding-jars-to-system-scope\" title=\"maven and adding jars to system scope\">stackoverflow.com/questions/10935135/&hellip;</a>"},{"owner":{"account_id":5460188,"reputation":1757,"user_id":4342532,"accept_rate":41,"display_name":"ROOT"},"score":0,"creation_date":1452329862,"post_id":22300875,"comment_id":57129273,"body_markdown":"any idea about how to create executable jar without including external dependencies(library files)?","body":"any idea about how to create executable jar without including external dependencies(library files)?"},{"owner":{"account_id":4651961,"reputation":179,"user_id":3768607,"display_name":"dangig"},"score":3,"creation_date":1478553909,"post_id":22300875,"comment_id":68194401,"body_markdown":"This post really helped me packaging a library within a jar using Spring Boot. To be available on the classpath (within the lib folder in the jar), I had to add &quot;lib&quot; as a subfolder:   &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/yourJar.jar&lt;/systemPath&gt; . That way, the library was packaged directly in the good destination folder.","body":"This post really helped me packaging a library within a jar using Spring Boot. To be available on the classpath (within the lib folder in the jar), I had to add &quot;lib&quot; as a subfolder:   &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/yourJa&zwnj;&#8203;r.jar&lt;/systemPath&gt; . That way, the library was packaged directly in the good destination folder."},{"owner":{"account_id":1640895,"reputation":359,"user_id":1578589,"display_name":"Tao Starbow"},"score":2,"creation_date":1481155585,"post_id":22300875,"comment_id":69266748,"body_markdown":"This explains why not to use the systemPath, and provides nice solution to automate installing the jar into the local repo: http://stackoverflow.com/questions/10935135/maven-and-adding-jars-to-system-scope","body":"This explains why not to use the systemPath, and provides nice solution to automate installing the jar into the local repo: <a href=\"http://stackoverflow.com/questions/10935135/maven-and-adding-jars-to-system-scope\" title=\"maven and adding jars to system scope\">stackoverflow.com/questions/10935135/&hellip;</a>"},{"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"score":9,"creation_date":1488961119,"post_id":22300875,"comment_id":72457437,"body_markdown":"In this answer, aren&#39;t the `artifactId` and `groupId` the wrong way around?","body":"In this answer, aren&#39;t the <code>artifactId</code> and <code>groupId</code> the wrong way around?"},{"owner":{"account_id":1358439,"reputation":689,"user_id":1296333,"accept_rate":71,"display_name":"agassner"},"score":5,"creation_date":1513721780,"post_id":22300875,"comment_id":82758770,"body_markdown":"According to Maven docu (https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies): Important note: This is marked deprecated.","body":"According to Maven docu (<a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>): Important note: This is marked deprecated."},{"owner":{"account_id":5561222,"reputation":107,"user_id":4410375,"accept_rate":100,"display_name":"hamdalaye"},"score":0,"creation_date":1519394428,"post_id":22300875,"comment_id":84905266,"body_markdown":"@theonlygusti yeah you&#39;re right it&#39;s the opposite way I think","body":"@theonlygusti yeah you&#39;re right it&#39;s the opposite way I think"},{"owner":{"account_id":2918600,"reputation":227,"user_id":2501323,"display_name":"user2501323"},"score":0,"creation_date":1582032161,"post_id":22300875,"comment_id":106630287,"body_markdown":"For me it still works. Jar placing - exactly as described, in /resources","body":"For me it still works. Jar placing - exactly as described, in /resources"},{"owner":{"account_id":8304881,"reputation":1165,"user_id":6242317,"accept_rate":100,"display_name":"Vicky"},"score":0,"creation_date":1590051966,"post_id":22300875,"comment_id":109535889,"body_markdown":"can I add a folder instead of a single jar file here?","body":"can I add a folder instead of a single jar file here?"},{"owner":{"account_id":3427015,"reputation":302,"user_id":2872536,"accept_rate":79,"display_name":"M&#225;ra Toner"},"score":0,"creation_date":1592604610,"post_id":22300875,"comment_id":110495350,"body_markdown":"Everytime I do this, all dependencies breaks.","body":"Everytime I do this, all dependencies breaks."},{"owner":{"account_id":8964938,"reputation":749,"user_id":6686007,"display_name":"Roberto Petrilli"},"score":0,"creation_date":1599237278,"post_id":22300875,"comment_id":112722446,"body_markdown":"Is there a best practice for the location of the library? I&#39;d lice to avoid src/main/resources/","body":"Is there a best practice for the location of the library? I&#39;d lice to avoid src/main/resources/"},{"owner":{"account_id":2307871,"reputation":193,"user_id":2499191,"accept_rate":0,"display_name":"Andrei"},"score":2,"creation_date":1612562916,"post_id":22300875,"comment_id":116815574,"body_markdown":"Wonder what&#39;s the best way to add multiple jar files to a maven project (speaking of ~50 jar files)? Checked out addjars-maven-plugin but it doesn&#39;t work for me in neither intellij nor vscode","body":"Wonder what&#39;s the best way to add multiple jar files to a maven project (speaking of ~50 jar files)? Checked out addjars-maven-plugin but it doesn&#39;t work for me in neither intellij nor vscode"},{"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"score":0,"creation_date":1626344258,"post_id":22300875,"comment_id":120870330,"body_markdown":"This is the best answer!","body":"This is the best answer!"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1635523743,"post_id":22300875,"comment_id":123330023,"body_markdown":"[`&lt;scope&gt;system`](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies) is deprecated.","body":"<a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies\" rel=\"nofollow noreferrer\"><code>&lt;scope&gt;system</code></a> is deprecated."}],"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":19,"down_vote_count":16,"up_vote_count":1800,"is_accepted":false,"score":1784,"last_activity_date":1567686891,"creation_date":1394456547,"answer_id":22300875,"question_id":4955635,"body_markdown":"You can add local dependencies directly (as mentioned in https://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343) like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sample&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sample&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${project.basedir}/src/main/resources/Name_Your_JAR.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Update**\r\n\r\nIn new releases this feature is marked as deprecated but still working and not removed yet ( You just see warning in the log during maven start). An issue is raised at maven group about this https://issues.apache.org/jira/browse/MNG-6523 ( You can participate and describe why this feature is helpful in some cases). I hope this feature remains there! \r\n\r\nIf you are asking me, as long as the feature is not removed, I use this to **make dependency to only *one* naughty jar file** in my project which is not fit in repository. If this feature is removed, well, there are lots of good answers here which I can chose from later!  ","title":"How to add local jar files to a Maven project?","body":"<p>You can add local dependencies directly (as mentioned in <a href=\"https://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343\">build maven project with propriatery libraries included</a>) like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sample&lt;/groupId&gt;\n    &lt;artifactId&gt;sample&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/src/main/resources/Name_Your_JAR.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>In new releases this feature is marked as deprecated but still working and not removed yet ( You just see warning in the log during maven start). An issue is raised at maven group about this <a href=\"https://issues.apache.org/jira/browse/MNG-6523\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/MNG-6523</a> ( You can participate and describe why this feature is helpful in some cases). I hope this feature remains there! </p>\n\n<p>If you are asking me, as long as the feature is not removed, I use this to <strong>make dependency to only <em>one</em> naughty jar file</strong> in my project which is not fit in repository. If this feature is removed, well, there are lots of good answers here which I can chose from later!  </p>\n"},{"comments":[{"owner":{"account_id":239393,"reputation":7415,"user_id":508957,"accept_rate":58,"display_name":"sura2k"},"score":0,"creation_date":1444124986,"post_id":28762617,"comment_id":53758339,"body_markdown":"Local relative directory as a maven repo... Helped a lot","body":"Local relative directory as a maven repo... Helped a lot"},{"owner":{"account_id":37229,"reputation":2521,"user_id":106402,"accept_rate":67,"display_name":"treehouse"},"score":6,"creation_date":1447876487,"post_id":28762617,"comment_id":55345244,"body_markdown":"If you want to do this in pom.xml, check out http://www.baeldung.com/install-local-jar-with-maven/","body":"If you want to do this in pom.xml, check out <a href=\"http://www.baeldung.com/install-local-jar-with-maven/\" rel=\"nofollow noreferrer\">baeldung.com/install-local-jar-with-maven</a>"},{"owner":{"account_id":1122610,"reputation":1471,"user_id":1110615,"accept_rate":36,"display_name":"lockwobr"},"score":0,"creation_date":1460566717,"post_id":28762617,"comment_id":60806873,"body_markdown":"@Kai Wang This solution works way better! you should maybe add this as an answer.","body":"@Kai Wang This solution works way better! you should maybe add this as an answer."},{"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"score":0,"creation_date":1461731651,"post_id":28762617,"comment_id":61326375,"body_markdown":"You should be using deploy and not install to create your repo correctly.","body":"You should be using deploy and not install to create your repo correctly."},{"owner":{"account_id":898371,"reputation":801,"user_id":935154,"accept_rate":100,"display_name":"jcadcell"},"score":0,"creation_date":1493087547,"post_id":28762617,"comment_id":74251202,"body_markdown":"Here&#39;s a way to build up the local repo: `mvn deploy -DaltDeploymentRepository=releaseRepository::default::file://${project.basedir}/repo`","body":"Here&#39;s a way to build up the local repo: <code>mvn deploy -DaltDeploymentRepository=releaseRepository::default::file:&#47;&zwnj;&#8203;&#47;${project.basedir}&#47;&zwnj;&#8203;repo</code>"},{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1505408341,"post_id":28762617,"comment_id":79412505,"body_markdown":"I tried that on a web project; it compiles the sources and packages the war with no errors, but the jar is not included inside the war.","body":"I tried that on a web project; it compiles the sources and packages the war with no errors, but the jar is not included inside the war."},{"owner":{"account_id":3263687,"reputation":755,"user_id":2748659,"accept_rate":50,"display_name":"Wallace Howery"},"score":0,"creation_date":1520377477,"post_id":28762617,"comment_id":85288365,"body_markdown":"Would this work with Bamboo Continuous Integration (CI)? I see how it would work on my workstation, wondering if it would work on the deployment (Bamboo) server, if the install-file commands have not been run there?","body":"Would this work with Bamboo Continuous Integration (CI)? I see how it would work on my workstation, wondering if it would work on the deployment (Bamboo) server, if the install-file commands have not been run there?"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":15,"creation_date":1541175004,"post_id":28762617,"comment_id":93138774,"body_markdown":"Since `${project.parent.basedir}` doesn&#39;t seem to resolve to anything nowadays I used `${project.basedir}/..` and worked perfectly.","body":"Since <code>${project.parent.basedir}</code> doesn&#39;t seem to resolve to anything nowadays I used <code>${project.basedir}&#47;..</code> and worked perfectly."},{"owner":{"account_id":5056,"reputation":4017,"user_id":7927,"accept_rate":84,"display_name":"Wouter Lievens"},"score":0,"creation_date":1558601744,"post_id":28762617,"comment_id":99157976,"body_markdown":"I think this approach is superior, because it creates a reproducible build if you commit the artifact.","body":"I think this approach is superior, because it creates a reproducible build if you commit the artifact."},{"owner":{"account_id":2566447,"reputation":4708,"user_id":2364405,"accept_rate":77,"display_name":"Mitch Talmadge"},"score":2,"creation_date":1566166964,"post_id":28762617,"comment_id":101560519,"body_markdown":"The stackoverflow answer that could not be found by OP is probably here: https://stackoverflow.com/a/19226672/2364405","body":"The stackoverflow answer that could not be found by OP is probably here: <a href=\"https://stackoverflow.com/a/19226672/2364405\">stackoverflow.com/a/19226672/2364405</a>"},{"owner":{"account_id":254135,"reputation":3720,"user_id":533317,"display_name":"btpka3"},"score":2,"creation_date":1576121675,"post_id":28762617,"comment_id":104798596,"body_markdown":"A tip: please check $HOME/.m2/settings.xml ， avoid  &quot;local-maven-repo&quot; is mirrored by  settings/mirrors/mirror  `&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;` .","body":"A tip: please check $HOME/.m2/settings.xml ， avoid  &quot;local-maven-repo&quot; is mirrored by  settings/mirrors/mirror  <code>&lt;mirrorOf&gt;*&lt;&#47;mirrorOf&gt;</code> ."},{"owner":{"account_id":292970,"reputation":639,"user_id":596048,"accept_rate":84,"display_name":"2sb"},"score":0,"creation_date":1584295765,"post_id":28762617,"comment_id":107386833,"body_markdown":"@jj-roman very helpful, please add README (the explanation you have put here) to the github project.","body":"@jj-roman very helpful, please add README (the explanation you have put here) to the github project."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1635524312,"post_id":28762617,"comment_id":123330245,"body_markdown":"Re &quot;_The best option for having local JAR files as a dependency is to create a local Maven repository._&quot; – Why create another one if there is already one by default: `~/.m2/repository`? Re &quot;_Such a repository is nothing more than a proper directory structure with pom files in it._&quot; – This isn&#39;t true. There&#39;s much more in a Maven repo than just POMs: metadata, hashes, ZIPs and of course JARs/WARs/EARs/etc. which are what all this is about.","body":"Re &quot;<i>The best option for having local JAR files as a dependency is to create a local Maven repository.</i>&quot; – Why create another one if there is already one by default: <code>~&#47;.m2&#47;repository</code>? Re &quot;<i>Such a repository is nothing more than a proper directory structure with pom files in it.</i>&quot; – This isn&#39;t true. There&#39;s much more in a Maven repo than just POMs: metadata, hashes, ZIPs and of course JARs/WARs/EARs/etc. which are what all this is about."},{"owner":{"account_id":3784583,"reputation":951,"user_id":3142960,"display_name":"BlakeTNC"},"score":0,"creation_date":1676399979,"post_id":28762617,"comment_id":133128193,"body_markdown":"This did not work for me. I had to replace the repository creation command with the deploy command that is specified in Vinay Veluri&#39;s answer. That way the pom file will be created correctly in the local repository.","body":"This did not work for me. I had to replace the repository creation command with the deploy command that is specified in Vinay Veluri&#39;s answer. That way the pom file will be created correctly in the local repository."}],"tags":[],"owner":{"account_id":74193,"reputation":4313,"user_id":213292,"accept_rate":40,"display_name":"JJ Roman"},"comment_count":14,"down_vote_count":1,"up_vote_count":213,"is_accepted":false,"score":212,"last_activity_date":1549777802,"creation_date":1425032223,"answer_id":28762617,"question_id":4955635,"body_markdown":"Firstly, I would like to give credit for this answer to an anonymous Stack Overflow user - I am pretty sure I&#39;ve seen a similar answer here before - but now I cannot find it. \r\n\r\nThe best option for having local JAR files as a dependency is to create a local Maven repository. Such a repository is nothing more than a proper directory structure with pom files in it. \r\n\r\nFor my example:\r\nI have my master project on `${master_project}` location and subproject1 is on `${master_project}/${subproject1}`.\r\n\r\nThen I create a Maven repository in:\r\n`${master_project}/local-maven-repo`.\r\n\r\nIn the pom file in subproject1 located at `${master_project}/${subproject1}/pom.xml`, the repository needs to be specified which would take file path as a URL parameter:\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;local-maven-repo&lt;/id&gt;\r\n            &lt;url&gt;file:///${project.parent.basedir}/local-maven-repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nThe dependency can be specified as for any other repository. This makes your pom repository independent. For instance, once the desired JAR is available in Maven central, you just need to delete it from your local repo and it will be pulled from the default repo. \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.apache.felix.servicebinder&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe last but not least thing to do is to add the JAR file to local repository using -DlocalRepositoryPath switch like so:\r\n\r\n\tmvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file  \\\r\n\t\t-Dfile=/some/path/on/my/local/filesystem/felix/servicebinder/target/org.apache.felix.servicebinder-0.9.0-SNAPSHOT.jar \\\r\n        -DgroupId=org.apache.felix -DartifactId=org.apache.felix.servicebinder \\\r\n        -Dversion=0.9.0-SNAPSHOT -Dpackaging=jar \\\r\n        -DlocalRepositoryPath=${master_project}/local-maven-repo\r\n\r\nOnce the JAR file is installed, your Maven repo can be committed to a code repository, and the whole set-up is system independent. ([Working example in GitHub][1]).\r\n\r\nI agree that having JARs committed to source code repo is not a good practice, but in real life, quick and dirty solutions are sometimes better than a full blown Nexus repo to host one JAR that you cannot publish. \r\n\r\n\r\n  [1]: https://github.com/jjromannet/apache-felix-tutorials","title":"How to add local jar files to a Maven project?","body":"<p>Firstly, I would like to give credit for this answer to an anonymous Stack Overflow user - I am pretty sure I've seen a similar answer here before - but now I cannot find it. </p>\n\n<p>The best option for having local JAR files as a dependency is to create a local Maven repository. Such a repository is nothing more than a proper directory structure with pom files in it. </p>\n\n<p>For my example:\nI have my master project on <code>${master_project}</code> location and subproject1 is on <code>${master_project}/${subproject1}</code>.</p>\n\n<p>Then I create a Maven repository in:\n<code>${master_project}/local-maven-repo</code>.</p>\n\n<p>In the pom file in subproject1 located at <code>${master_project}/${subproject1}/pom.xml</code>, the repository needs to be specified which would take file path as a URL parameter:</p>\n\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\n        &lt;url&gt;file:///${project.parent.basedir}/local-maven-repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p>The dependency can be specified as for any other repository. This makes your pom repository independent. For instance, once the desired JAR is available in Maven central, you just need to delete it from your local repo and it will be pulled from the default repo. </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n        &lt;artifactId&gt;org.apache.felix.servicebinder&lt;/artifactId&gt;\n        &lt;version&gt;0.9.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>The last but not least thing to do is to add the JAR file to local repository using -DlocalRepositoryPath switch like so:</p>\n\n<pre><code>mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file  \\\n    -Dfile=/some/path/on/my/local/filesystem/felix/servicebinder/target/org.apache.felix.servicebinder-0.9.0-SNAPSHOT.jar \\\n    -DgroupId=org.apache.felix -DartifactId=org.apache.felix.servicebinder \\\n    -Dversion=0.9.0-SNAPSHOT -Dpackaging=jar \\\n    -DlocalRepositoryPath=${master_project}/local-maven-repo\n</code></pre>\n\n<p>Once the JAR file is installed, your Maven repo can be committed to a code repository, and the whole set-up is system independent. (<a href=\"https://github.com/jjromannet/apache-felix-tutorials\" rel=\"noreferrer\">Working example in GitHub</a>).</p>\n\n<p>I agree that having JARs committed to source code repo is not a good practice, but in real life, quick and dirty solutions are sometimes better than a full blown Nexus repo to host one JAR that you cannot publish. </p>\n"},{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1426997997,"creation_date":1426997997,"answer_id":29190953,"question_id":4955635,"body_markdown":"Also take a look at...\r\n\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n\r\n[Maven Dependencies][1].  This is the default but I&#39;ve found in some cases explicitly setting that scope also Maven to find local libraries in the local repository.\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html","title":"How to add local jar files to a Maven project?","body":"<p>Also take a look at...</p>\n\n<pre><code>&lt;scope&gt;compile&lt;/scope&gt;\n</code></pre>\n\n<p><a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow\">Maven Dependencies</a>.  This is the default but I've found in some cases explicitly setting that scope also Maven to find local libraries in the local repository.</p>\n"},{"comments":[{"owner":{"account_id":2498224,"reputation":3197,"user_id":2174099,"accept_rate":42,"display_name":"sarah.ferguson"},"score":1,"creation_date":1449671642,"post_id":34028118,"comment_id":56108898,"body_markdown":"if you add the jars in the source control system the libraries will always be available together with the source. No source, No libraries. With maven instead the source might be ok but the repository unavailable.","body":"if you add the jars in the source control system the libraries will always be available together with the source. No source, No libraries. With maven instead the source might be ok but the repository unavailable."},{"owner":{"account_id":5460188,"reputation":1757,"user_id":4342532,"accept_rate":41,"display_name":"ROOT"},"score":0,"creation_date":1452329795,"post_id":34028118,"comment_id":57129253,"body_markdown":"@Frank... any idea about how to create executable jar without including external dependencies(library files)?","body":"@Frank... any idea about how to create executable jar without including external dependencies(library files)?"},{"owner":{"account_id":1680147,"reputation":870,"user_id":1544580,"display_name":"cdock"},"score":0,"creation_date":1486829387,"post_id":34028118,"comment_id":71519334,"body_markdown":"For someone new to maven, and looking for an answer to the original question, what does &quot;embedding the jar&quot; mean?","body":"For someone new to maven, and looking for an answer to the original question, what does &quot;embedding the jar&quot; mean?"}],"tags":[],"owner":{"account_id":6025632,"reputation":11,"user_id":4731435,"display_name":"Frank"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461652506,"creation_date":1448996756,"answer_id":34028118,"question_id":4955635,"body_markdown":"Note that it is NOT necessarily a good idea to use a local repo.\r\nIf this project is shared with others then everyone else will have problems and questions when it doesn&#39;t work, and the jar won&#39;t be available even in your source control system!\r\n\r\nAlthough the shared repo is the best answer, if you cannot do this for some reason then embedding the jar is better than a local repo. Local-only repo contents can cause lots of problems, especially over time.","title":"How to add local jar files to a Maven project?","body":"<p>Note that it is NOT necessarily a good idea to use a local repo.\nIf this project is shared with others then everyone else will have problems and questions when it doesn't work, and the jar won't be available even in your source control system!</p>\n\n<p>Although the shared repo is the best answer, if you cannot do this for some reason then embedding the jar is better than a local repo. Local-only repo contents can cause lots of problems, especially over time.</p>\n"},{"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":7,"creation_date":1518032168,"post_id":34691488,"comment_id":84341934,"body_markdown":"[`&lt;scope&gt;system`](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies) is deprecated now.","body":"<a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies\" rel=\"nofollow noreferrer\"><code>&lt;scope&gt;system</code></a> is deprecated now."},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1557436087,"post_id":34691488,"comment_id":98774888,"body_markdown":"@GeroldBroser - ok. what can we use instead of that ?","body":"@GeroldBroser - ok. what can we use instead of that ?"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":2,"creation_date":1557477224,"post_id":34691488,"comment_id":98785989,"body_markdown":"@MasterJoe2 As also mentioned in [the accepted answer](https://stackoverflow.com/a/4955695/1744774) [`install:install-file`](https://maven.apache.org/plugins/maven-install-plugin/usage.html#The_install:install-file_goal) the artifact to the local repo and use it as a &quot;normal&quot; dependency (with default scope `compile`) or use an [in-project repository solution](https://stackoverflow.com/a/7623805/1744774).","body":"@MasterJoe2 As also mentioned in <a href=\"https://stackoverflow.com/a/4955695/1744774\">the accepted answer</a> <a href=\"https://maven.apache.org/plugins/maven-install-plugin/usage.html#The_install:install-file_goal\" rel=\"nofollow noreferrer\"><code>install:install-file</code></a> the artifact to the local repo and use it as a &quot;normal&quot; dependency (with default scope <code>compile</code>) or use an <a href=\"https://stackoverflow.com/a/7623805/1744774\">in-project repository solution</a>."}],"tags":[],"owner":{"account_id":5460188,"reputation":1757,"user_id":4342532,"accept_rate":41,"display_name":"ROOT"},"comment_count":3,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1495570592,"creation_date":1452329285,"answer_id":34691488,"question_id":4955635,"body_markdown":"    &lt;dependency&gt;\r\n        &lt;groupId&gt;group id name&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artifact name&lt;/artifactId&gt;\r\n        &lt;version&gt;version number&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;jar location&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;","title":"How to add local jar files to a Maven project?","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;group id name&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact name&lt;/artifactId&gt;\n    &lt;version&gt;version number&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;jar location&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1480277039,"post_id":35349999,"comment_id":68884222,"body_markdown":"Your code `String symbolicName = attributes.getValue(&quot;Bundle-SymbolicName&quot;);  if(symbolicName!=null &amp;&amp;symbolicName.contains(&quot;com.yourCompany.yourProject&quot;))` seems to indicate that only *custom* jars will be supported. That&#39;s not what we need: instead a bunch of third party jars.  Do you have suggestions how to install *any* jar this way?","body":"Your code <code>String symbolicName = attributes.getValue(&quot;Bundle-SymbolicName&quot;);  if(symbolicName!=null &amp;&amp;symbolicName.contains(&quot;com.yourCompany.yourProject&quot;))</code> seems to indicate that only <i>custom</i> jars will be supported. That&#39;s not what we need: instead a bunch of third party jars.  Do you have suggestions how to install <i>any</i> jar this way?"},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1480277326,"post_id":35349999,"comment_id":68884319,"body_markdown":"I have *fixed* your code: i put an answer at the bottom.","body":"I have <i>fixed</i> your code: i put an answer at the bottom."}],"tags":[],"owner":{"account_id":6198322,"reputation":59,"user_id":4828984,"display_name":"Luis Muzikant"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1455224709,"creation_date":1455224709,"answer_id":35349999,"question_id":4955635,"body_markdown":"I want to share a code where you can upload a folder full of jars. It&#39;s useful when a provider doesn&#39;t have a public repository and you need to add lots of libraries  manually. I&#39;ve decided to build a .bat instead of call directly to maven because It could be Out of Memory errors. It was prepared for a windows environment but is easy to adapt it to linux OS:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.util.Date;\r\n    import java.util.jar.Attributes;\r\n    import java.util.jar.JarFile;\r\n    import java.util.jar.Manifest;\r\n\r\n    public class CreateMavenRepoApp {\r\n\r\n    \tprivate static final String OCB_PLUGIN_FOLDER = &quot;C://your_folder_with_jars&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n\r\n        File directory = new File();\r\n        //get all the files from a directory\r\n        PrintWriter writer = new PrintWriter(&quot;update_repo_maven.bat&quot;, &quot;UTF-8&quot;);\r\n        writer.println(&quot;rem &quot;+ new Date());  \r\n        File[] fList = directory.listFiles();\r\n        for (File file : fList){\r\n        \tif (file.isFile()){               \r\n            String absolutePath = file.getAbsolutePath() ;\r\n            Manifest  m = new JarFile(absolutePath).getManifest();\r\n            Attributes attributes = m.getMainAttributes();\r\n            String symbolicName = attributes.getValue(&quot;Bundle-SymbolicName&quot;);\r\n               \r\n            if(symbolicName!=null &amp;&amp;symbolicName.contains(&quot;com.yourCompany.yourProject&quot;)) {\r\n            \tString[] parts =symbolicName.split(&quot;\\\\.&quot;);\r\n            \tString artifactId = parts[parts.length-1];\r\n            \tString groupId = symbolicName.substring(0,symbolicName.length()-artifactId.length()-1);\r\n            \tString version = attributes.getValue(&quot;Bundle-Version&quot;);\r\n            \tString mavenLine= &quot;call mvn org.apache.maven.plugins:maven-install-plugin:2.5.1:install-file -Dfile=&quot;+ absolutePath+&quot; -DgroupId=&quot;+ groupId+&quot; -DartifactId=&quot;+ artifactId+&quot; -Dversion=&quot;+ version+&quot; -Dpackaging=jar &quot;;\r\n            \twriter.println(mavenLine);        \t\r\n            }\r\n            \r\n        \t}\r\n        }\r\n        writer.close();\r\n    \t}\r\n\r\n    }\r\n\r\nAfter run this main from any IDE, run the update_repo_maven.bat.\r\n","title":"How to add local jar files to a Maven project?","body":"<p>I want to share a code where you can upload a folder full of jars. It's useful when a provider doesn't have a public repository and you need to add lots of libraries  manually. I've decided to build a .bat instead of call directly to maven because It could be Out of Memory errors. It was prepared for a windows environment but is easy to adapt it to linux OS:</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.Date;\nimport java.util.jar.Attributes;\nimport java.util.jar.JarFile;\nimport java.util.jar.Manifest;\n\npublic class CreateMavenRepoApp {\n\n    private static final String OCB_PLUGIN_FOLDER = \"C://your_folder_with_jars\";\n\n    public static void main(String[] args) throws IOException {\n\n    File directory = new File();\n    //get all the files from a directory\n    PrintWriter writer = new PrintWriter(\"update_repo_maven.bat\", \"UTF-8\");\n    writer.println(\"rem \"+ new Date());  \n    File[] fList = directory.listFiles();\n    for (File file : fList){\n        if (file.isFile()){               \n        String absolutePath = file.getAbsolutePath() ;\n        Manifest  m = new JarFile(absolutePath).getManifest();\n        Attributes attributes = m.getMainAttributes();\n        String symbolicName = attributes.getValue(\"Bundle-SymbolicName\");\n\n        if(symbolicName!=null &amp;&amp;symbolicName.contains(\"com.yourCompany.yourProject\")) {\n            String[] parts =symbolicName.split(\"\\\\.\");\n            String artifactId = parts[parts.length-1];\n            String groupId = symbolicName.substring(0,symbolicName.length()-artifactId.length()-1);\n            String version = attributes.getValue(\"Bundle-Version\");\n            String mavenLine= \"call mvn org.apache.maven.plugins:maven-install-plugin:2.5.1:install-file -Dfile=\"+ absolutePath+\" -DgroupId=\"+ groupId+\" -DartifactId=\"+ artifactId+\" -Dversion=\"+ version+\" -Dpackaging=jar \";\n            writer.println(mavenLine);          \n        }\n\n        }\n    }\n    writer.close();\n    }\n\n}\n</code></pre>\n\n<p>After run this main from any IDE, run the update_repo_maven.bat.</p>\n"},{"comments":[{"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"score":27,"creation_date":1461731626,"post_id":36602256,"comment_id":61326364,"body_markdown":"This is the only correct answer on here as it will create your repo correctly when using deploy.","body":"This is the only correct answer on here as it will create your repo correctly when using deploy."},{"owner":{"account_id":3263687,"reputation":755,"user_id":2748659,"accept_rate":50,"display_name":"Wallace Howery"},"score":0,"creation_date":1520547228,"post_id":36602256,"comment_id":85372580,"body_markdown":"Would this approach work if the code is deployed using a CI build server? It looks like automated builds would not have access to the dependency.","body":"Would this approach work if the code is deployed using a CI build server? It looks like automated builds would not have access to the dependency."},{"owner":{"account_id":255268,"reputation":22641,"user_id":535203,"accept_rate":73,"display_name":"Anthony O."},"score":2,"creation_date":1520608533,"post_id":36602256,"comment_id":85398389,"body_markdown":"@user2748659 yes if in your CI build servers the folder `local-maven-repo` is included (as a child in this example) in your source folder","body":"@user2748659 yes if in your CI build servers the folder <code>local-maven-repo</code> is included (as a child in this example) in your source folder"},{"owner":{"account_id":1137318,"reputation":8962,"user_id":1150915,"display_name":"Aquarelle"},"score":4,"creation_date":1525494726,"post_id":36602256,"comment_id":87388374,"body_markdown":"This answer is what worked for me.  For a shared project, having the repo in the project directory and added to version control makes sure that anyone who checks out the project will not have missing dependencies.  If you have a lot of dependencies, then a shared, remote repo is probably a better solution, otherwise keeping the repo in the project&#39;s directory is perfectly fine.","body":"This answer is what worked for me.  For a shared project, having the repo in the project directory and added to version control makes sure that anyone who checks out the project will not have missing dependencies.  If you have a lot of dependencies, then a shared, remote repo is probably a better solution, otherwise keeping the repo in the project&#39;s directory is perfectly fine."},{"owner":{"account_id":6083443,"reputation":539,"user_id":5849955,"accept_rate":79,"display_name":"Ryan Fasching"},"score":0,"creation_date":1534296113,"post_id":36602256,"comment_id":90656296,"body_markdown":"How would you then import this library into your project? I did this command: `mvn deploy:deploy-file -DgroupId=com.yahoo.egads -DartifactId=egads -Dversion=0.4.0 -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=[MyJarFilePath]` and am trying to import like this: `import com.yahoo.egads.[package]` but it says none of these packages exist. I run my project with `./mvnw`","body":"How would you then import this library into your project? I did this command: <code>mvn deploy:deploy-file -DgroupId=com.yahoo.egads -DartifactId=egads -Dversion=0.4.0 -Durl=file:.&#47;local-maven-repo&#47; -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=[MyJarFilePath]</code> and am trying to import like this: <code>import com.yahoo.egads.[package]</code> but it says none of these packages exist. I run my project with <code>.&#47;mvnw</code>"},{"owner":{"account_id":6083443,"reputation":539,"user_id":5849955,"accept_rate":79,"display_name":"Ryan Fasching"},"score":4,"creation_date":1534301523,"post_id":36602256,"comment_id":90657282,"body_markdown":"do we still need to add it as a dependency?","body":"do we still need to add it as a dependency?"},{"owner":{"account_id":255268,"reputation":22641,"user_id":535203,"accept_rate":73,"display_name":"Anthony O."},"score":2,"creation_date":1535378654,"post_id":36602256,"comment_id":91032765,"body_markdown":"@RyanFasching yes you still have to add the dependency to your dependencies","body":"@RyanFasching yes you still have to add the dependency to your dependencies"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":4,"creation_date":1552873843,"post_id":36602256,"comment_id":97163214,"body_markdown":"Note that to do this you may need to add -Dpackaging=jar. Otherwise you get &quot;artifact info is incomplete or invalid: packaging is missing&quot;.","body":"Note that to do this you may need to add -Dpackaging=jar. Otherwise you get &quot;artifact info is incomplete or invalid: packaging is missing&quot;."},{"owner":{"account_id":166480,"reputation":510,"user_id":390628,"accept_rate":50,"display_name":"TimeHorse"},"score":1,"creation_date":1650308175,"post_id":36602256,"comment_id":127079550,"body_markdown":"That only works on a UNIX platform. On Windows, the file://C:\\.../libs is mangled.","body":"That only works on a UNIX platform. On Windows, the file://C:\\.../libs is mangled."},{"owner":{"account_id":3784583,"reputation":951,"user_id":3142960,"display_name":"BlakeTNC"},"score":2,"creation_date":1676399713,"post_id":36602256,"comment_id":133128112,"body_markdown":"Note that you will still need to add a dependency for the jar. Use the group id, artifact id, and version number that you used in the deploy command. Note that you can make up any group id, artifact id, and version number you wish, as long as they match each other in the deploy command and in the pom dependency section. (This answer worked well for me.)","body":"Note that you will still need to add a dependency for the jar. Use the group id, artifact id, and version number that you used in the deploy command. Note that you can make up any group id, artifact id, and version number you wish, as long as they match each other in the deploy command and in the pom dependency section. (This answer worked well for me.)"}],"tags":[],"owner":{"account_id":255268,"reputation":22641,"user_id":535203,"accept_rate":73,"display_name":"Anthony O."},"comment_count":10,"down_vote_count":2,"up_vote_count":196,"is_accepted":false,"score":194,"last_activity_date":1487652849,"creation_date":1460559336,"answer_id":36602256,"question_id":4955635,"body_markdown":"Create a new folder, let&#39;s say `local-maven-repo` at the root of your Maven project.\r\n\r\nJust add a local repo inside your `&lt;project&gt;` of your `pom.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;local-maven-repo&lt;/id&gt;\r\n\t\t\t&lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\nThen for each external jar you want to install, go at the root of your project and execute:\r\n\r\n    mvn deploy:deploy-file -DgroupId=[GROUP] -DartifactId=[ARTIFACT] -Dversion=[VERS] -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=[FILE_PATH]","title":"How to add local jar files to a Maven project?","body":"<p>Create a new folder, let's say <code>local-maven-repo</code> at the root of your Maven project.</p>\n\n<p>Just add a local repo inside your <code>&lt;project&gt;</code> of your <code>pom.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\n        &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p>Then for each external jar you want to install, go at the root of your project and execute:</p>\n\n<pre><code>mvn deploy:deploy-file -DgroupId=[GROUP] -DartifactId=[ARTIFACT] -Dversion=[VERS] -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=[FILE_PATH]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":69386,"reputation":5102,"user_id":201891,"accept_rate":85,"display_name":"DavidS"},"score":4,"creation_date":1484685110,"post_id":38339518,"comment_id":70608380,"body_markdown":"This works well for me, but only if I run `mvn initialize` before `mvn package`: I cannot `mvn initialize package` or else it tries to download the JAR from the central repo. Why is this? I thought it would run this goals/phases in order.","body":"This works well for me, but only if I run <code>mvn initialize</code> before <code>mvn package</code>: I cannot <code>mvn initialize package</code> or else it tries to download the JAR from the central repo. Why is this? I thought it would run this goals/phases in order."},{"owner":{"account_id":1421238,"reputation":3078,"user_id":1345788,"accept_rate":70,"display_name":"sphinks"},"score":1,"creation_date":1484722050,"post_id":38339518,"comment_id":70620860,"body_markdown":"Actually, they should be run in order. Take a look at the list of default lifecycle: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html You can use another step to bind.","body":"Actually, they should be run in order. Take a look at the list of default lifecycle: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a> You can use another step to bind."},{"owner":{"account_id":700,"reputation":16953,"user_id":917,"accept_rate":44,"display_name":"Mauli"},"score":2,"creation_date":1512386837,"post_id":38339518,"comment_id":82222223,"body_markdown":"I tried every method, but in the end I had to resort to this solution. The main reason is, I wanted to be able to locally build the packages in offline mode. If I declared it as a dependency with a locally defined repository, this was always considered as just another online repo and the maven build complained about not fining the artifact. This solution works fine for every case.","body":"I tried every method, but in the end I had to resort to this solution. The main reason is, I wanted to be able to locally build the packages in offline mode. If I declared it as a dependency with a locally defined repository, this was always considered as just another online repo and the maven build complained about not fining the artifact. This solution works fine for every case."},{"owner":{"account_id":3145330,"reputation":1359,"user_id":2659915,"accept_rate":50,"display_name":"Deoxyseia"},"score":2,"creation_date":1517616461,"post_id":38339518,"comment_id":84182494,"body_markdown":"I think is better to use **clean phase** because initialize will be executed each time when we use mvn package when Its unnecessary. Finally if we only need generate the jar/war we can use directly **mvn clean package**.","body":"I think is better to use <b>clean phase</b> because initialize will be executed each time when we use mvn package when Its unnecessary. Finally if we only need generate the jar/war we can use directly <b>mvn clean package</b>."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":1,"creation_date":1518032517,"post_id":38339518,"comment_id":84342128,"body_markdown":"&quot;_It is also possible to bind jar install not to initialize step, but any other step you like._&quot; is not necessarily true. If the dependency isn&#39;t in the repo yet and a phase is used that comes after a phase that resolves dependencies (e.g. `compile`) the build will fail.","body":"&quot;<i>It is also possible to bind jar install not to initialize step, but any other step you like.</i>&quot; is not necessarily true. If the dependency isn&#39;t in the repo yet and a phase is used that comes after a phase that resolves dependencies (e.g. <code>compile</code>) the build will fail."},{"owner":{"account_id":16735694,"reputation":2370,"user_id":12096922,"display_name":"testing_22"},"score":0,"creation_date":1653232762,"post_id":38339518,"comment_id":127795910,"body_markdown":"GOTCHA! Putting flags in `configurations` instead of in `mvn install-file...` is what I needed","body":"GOTCHA! Putting flags in <code>configurations</code> instead of in <code>mvn install-file...</code> is what I needed"}],"tags":[],"owner":{"account_id":1421238,"reputation":3078,"user_id":1345788,"accept_rate":70,"display_name":"sphinks"},"comment_count":6,"down_vote_count":2,"up_vote_count":79,"is_accepted":false,"score":77,"last_activity_date":1576162607,"creation_date":1468360690,"answer_id":38339518,"question_id":4955635,"body_markdown":"I&#39;d like such solution - use `maven-install-plugin` in pom file:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5.2&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;initialize&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;install-file&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;file&gt;lib/yourJar.jar&lt;/file&gt;\r\n                &lt;groupId&gt;com.somegroup.id&lt;/groupId&gt;\r\n                &lt;artifactId&gt;artefact-id&lt;/artifactId&gt;\r\n                &lt;version&gt;x.y.z&lt;/version&gt;\r\n                &lt;packaging&gt;jar&lt;/packaging&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nIn this case you can perform `mvn initialize` and jar will be installed in local maven repo. Now this jar is available during any maven step on this machine (do not forget to include this dependency as any other maven dependency in pom with `&lt;dependency&gt;&lt;/dependency&gt;` tag). It is also possible to bind jar install not to `initialize` step, but any other step you like.","title":"How to add local jar files to a Maven project?","body":"<p>I'd like such solution - use <code>maven-install-plugin</code> in pom file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;initialize&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;file&gt;lib/yourJar.jar&lt;/file&gt;\n                &lt;groupId&gt;com.somegroup.id&lt;/groupId&gt;\n                &lt;artifactId&gt;artefact-id&lt;/artifactId&gt;\n                &lt;version&gt;x.y.z&lt;/version&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>In this case you can perform <code>mvn initialize</code> and jar will be installed in local maven repo. Now this jar is available during any maven step on this machine (do not forget to include this dependency as any other maven dependency in pom with <code>&lt;dependency&gt;&lt;/dependency&gt;</code> tag). It is also possible to bind jar install not to <code>initialize</code> step, but any other step you like.</p>\n"},{"tags":[],"owner":{"account_id":2628230,"reputation":1572,"user_id":2274819,"accept_rate":60,"display_name":"JRr"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1478276700,"creation_date":1478276700,"answer_id":40427472,"question_id":4955635,"body_markdown":"This is a short syntax for newer versions:\r\n\r\n    mvn install:install-file -Dfile=&lt;path-to-file&gt;\r\n\r\nIt works when the JAR was built by Apache Maven - the most common case. Then it&#39;ll contain a pom.xml in a subfolder of the META-INF directory, which will be read by default.\r\n\r\nSource: http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\r\n","title":"How to add local jar files to a Maven project?","body":"<p>This is a short syntax for newer versions:</p>\n\n<pre><code>mvn install:install-file -Dfile=&lt;path-to-file&gt;\n</code></pre>\n\n<p>It works when the JAR was built by Apache Maven - the most common case. Then it'll contain a pom.xml in a subfolder of the META-INF directory, which will be read by default.</p>\n\n<p>Source: <a href=\"http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"noreferrer\">http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a></p>\n"},{"tags":[],"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486231743,"creation_date":1486231743,"answer_id":42043770,"question_id":4955635,"body_markdown":"On your local repository you can install your jar by issuing the commands\r\n\r\n     mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; \\\r\n    -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt;\r\n\r\nFollow this useful  [link][1] to do the same from mkyoung&#39;s website. You can also check [maven guide for the same][2]\r\n\r\n\r\n  [1]: https://www.mkyong.com/maven/how-to-include-library-manully-into-maven-local-repository/\r\n  [2]: https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html","title":"How to add local jar files to a Maven project?","body":"<p>On your local repository you can install your jar by issuing the commands</p>\n\n<pre><code> mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; \\\n-DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt;\n</code></pre>\n\n<p>Follow this useful  <a href=\"https://www.mkyong.com/maven/how-to-include-library-manully-into-maven-local-repository/\" rel=\"nofollow noreferrer\">link</a> to do the same from mkyoung's website. You can also check <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">maven guide for the same</a></p>\n"},{"tags":[],"owner":{"account_id":8412898,"reputation":2565,"user_id":6314219,"display_name":"Ravikiran Reddy Kotapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489566205,"creation_date":1489564889,"answer_id":42804029,"question_id":4955635,"body_markdown":"To install third party jar, Please call the command like below\r\n\r\n    mvn install:install-file -DgroupId= -DartifactId= -Dversion= -Dpackaging=jar -Dfile=path","title":"How to add local jar files to a Maven project?","body":"<p>To install third party jar, Please call the command like below</p>\n\n<pre><code>mvn install:install-file -DgroupId= -DartifactId= -Dversion= -Dpackaging=jar -Dfile=path\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"comment_count":0,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1504466284,"creation_date":1497854765,"answer_id":44623865,"question_id":4955635,"body_markdown":"Another interesting case is when you want to have in your project private maven jars. You may want to keep the capabilities of Maven to resolve transitive dependencies. The solution is fairly easy.\r\n\r\n 1. Create a folder **libs** in your project\r\n 2. Add the following lines in your pom.xml file\r\n\r\n        &lt;properties&gt;&lt;local.repository.folder&gt;${pom.basedir}/libs/&lt;/local.repository.folder&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;repositories&gt;\r\n           &lt;repository&gt;\r\n    \t\t\t&lt;id&gt;local-maven-repository&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;file://${local.repository.folder}&lt;/url&gt;\r\n                &lt;releases&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/releases&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n           &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n\r\n 3. Open the **.m2/repository** folder and copy the directory structure of the project you want to import into the **libs** folder. \r\n\r\nE.g. suppose you want to import the dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mycompany.myproject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nJust go on **.m2/repository** and you will see the following folder\r\n \r\n  **com/mycompany/myproject/1.2.3**\r\n\r\nCopy everything in your libs folder (again, including the folders under **.m2/repository**) and you are done.\r\n  \r\n\r\n\r\n\r\n","title":"How to add local jar files to a Maven project?","body":"<p>Another interesting case is when you want to have in your project private maven jars. You may want to keep the capabilities of Maven to resolve transitive dependencies. The solution is fairly easy.</p>\n\n<ol>\n<li>Create a folder <strong>libs</strong> in your project</li>\n<li><p>Add the following lines in your pom.xml file</p>\n\n<pre><code>&lt;properties&gt;&lt;local.repository.folder&gt;${pom.basedir}/libs/&lt;/local.repository.folder&gt;\n&lt;/properties&gt;\n\n&lt;repositories&gt;\n   &lt;repository&gt;\n        &lt;id&gt;local-maven-repository&lt;/id&gt;\n        &lt;url&gt;file://${local.repository.folder}&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/releases&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n   &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre></li>\n<li><p>Open the <strong>.m2/repository</strong> folder and copy the directory structure of the project you want to import into the <strong>libs</strong> folder. </p></li>\n</ol>\n\n<p>E.g. suppose you want to import the dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mycompany.myproject&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Just go on <strong>.m2/repository</strong> and you will see the following folder</p>\n\n<p><strong>com/mycompany/myproject/1.2.3</strong></p>\n\n<p>Copy everything in your libs folder (again, including the folders under <strong>.m2/repository</strong>) and you are done.</p>\n"},{"comments":[{"owner":{"account_id":9772521,"reputation":184,"user_id":7243848,"accept_rate":62,"display_name":"Ramzah Rehman"},"score":0,"creation_date":1501828506,"post_id":44918407,"comment_id":77960196,"body_markdown":"I get an error Failed to install artifact (access denied). How can I solve this? @Aurasphere","body":"I get an error Failed to install artifact (access denied). How can I solve this? @Aurasphere"},{"owner":{"account_id":6338472,"reputation":3901,"user_id":4921205,"accept_rate":88,"display_name":"Aurasphere"},"score":1,"creation_date":1501832643,"post_id":44918407,"comment_id":77962710,"body_markdown":"@RamzahRehman try opening the command prompt with admi privileges by right clicking it and then choosing &quot;Run as administrator&quot;","body":"@RamzahRehman try opening the command prompt with admi privileges by right clicking it and then choosing &quot;Run as administrator&quot;"}],"tags":[],"owner":{"account_id":11258099,"reputation":209,"user_id":8257171,"display_name":"Tummidi Phani Kumar"},"comment_count":2,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1499237092,"creation_date":1499235756,"answer_id":44918407,"question_id":4955635,"body_markdown":"Add your own local JAR in POM file and use that in maven build.\r\n\r\n    mvn install:install-file -Dfile=path-to-jar -DgroupId=owngroupid -DartifactId=ownartifactid -Dversion=ownversion -Dpackaging=jar\r\n\r\nFor example:\r\n\r\n    mvn install:install-file -Dfile=path-to-jar -DgroupId=com.decompiler -DartifactId=jd-core-java -Dversion=1.2 -Dpackaging=jar\r\n\r\n\r\nThen add it to the POM like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ywD6y.png","title":"How to add local jar files to a Maven project?","body":"<p>Add your own local JAR in POM file and use that in maven build.</p>\n\n<pre><code>mvn install:install-file -Dfile=path-to-jar -DgroupId=owngroupid -DartifactId=ownartifactid -Dversion=ownversion -Dpackaging=jar\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>mvn install:install-file -Dfile=path-to-jar -DgroupId=com.decompiler -DartifactId=jd-core-java -Dversion=1.2 -Dpackaging=jar\n</code></pre>\n\n<p>Then add it to the POM like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ywD6y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ywD6y.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505409963,"creation_date":1505409963,"answer_id":46225079,"question_id":4955635,"body_markdown":"For some reason, in the web application I&#39;m giving maintenance to, neither [Alireza Fattahi&#39;s solution](https://stackoverflow.com/a/22300875/679240) nor [JJ Roman&#39;s solution](https://stackoverflow.com/a/28762617/679240) worked correctly. In both cases, the compilation goes okay (it sees the jar), but the packaging fails to include the jar inside the war.\r\n\r\nThe only way I managed to make it work was by putting the jar on `/src/main/webapp/WEB-INF/lib/` and then combining it with either Fattahis&#39;s or Roman&#39;s solution.","title":"How to add local jar files to a Maven project?","body":"<p>For some reason, in the web application I'm giving maintenance to, neither <a href=\"https://stackoverflow.com/a/22300875/679240\">Alireza Fattahi's solution</a> nor <a href=\"https://stackoverflow.com/a/28762617/679240\">JJ Roman's solution</a> worked correctly. In both cases, the compilation goes okay (it sees the jar), but the packaging fails to include the jar inside the war.</p>\n\n<p>The only way I managed to make it work was by putting the jar on <code>/src/main/webapp/WEB-INF/lib/</code> and then combining it with either Fattahis's or Roman's solution.</p>\n"},{"tags":[],"owner":{"account_id":12339219,"reputation":131,"user_id":9003072,"display_name":"Hassani"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1512054252,"creation_date":1512054252,"answer_id":47576477,"question_id":4955635,"body_markdown":"command line :\r\n\r\n    mvn install:install-file -Dfile=c:\\kaptcha-{version}.jar -DgroupId=com.google.code\r\n    -DartifactId=kaptcha -Dversion={version} -Dpackaging=jar","title":"How to add local jar files to a Maven project?","body":"<p>command line :</p>\n\n<pre><code>mvn install:install-file -Dfile=c:\\kaptcha-{version}.jar -DgroupId=com.google.code\n-DartifactId=kaptcha -Dversion={version} -Dpackaging=jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12943425,"reputation":11,"user_id":9358476,"display_name":"Ranjan Rozario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519205941,"creation_date":1519204661,"answer_id":48902073,"question_id":4955635,"body_markdown":"I had the same error for a set of dependencies in my pom.xml turns out the versions of the dependencies was not specified in the pom.xml and was mentioned in the parent repository. For some reason the version details was not syncing with this repo. Hence i manually entered the versions using the &lt;version&gt; tag and it worked like a charm. Little bit of time needed to look up the versions in the parent and specify here. But this can be done just for the jars that are showing the artifactid error and it works. Hope this helps someone.","title":"How to add local jar files to a Maven project?","body":"<p>I had the same error for a set of dependencies in my pom.xml turns out the versions of the dependencies was not specified in the pom.xml and was mentioned in the parent repository. For some reason the version details was not syncing with this repo. Hence i manually entered the versions using the  tag and it worked like a charm. Little bit of time needed to look up the versions in the parent and specify here. But this can be done just for the jars that are showing the artifactid error and it works. Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":3074032,"reputation":4789,"user_id":2603900,"accept_rate":90,"display_name":"Sudara"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1528669480,"creation_date":1528669172,"answer_id":50788552,"question_id":4955635,"body_markdown":"I think a better solution for this problem is to use [maven-install-plugin][1] to automatically install the files at install time. This is how I set it up for my project. \r\n\r\nFirst, add the path (where you store the local .jars) as a property.\r\n\r\n    &lt;properties&gt;\r\n        &lt;local.sdk&gt;/path/to/jar&lt;/local.sdk&gt;\r\n\t&lt;/properties&gt;\r\n\r\nThen, under `plugins` add a plugin to install the jars when compiling.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;1&lt;/id&gt;\r\n                &lt;phase&gt;initialize&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;install-file&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;groupId&gt;com.local.jar&lt;/groupId&gt; \r\n                    &lt;artifactId&gt;appengine-api&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                    &lt;file&gt;${local.sdk}/lib/impl/appengine-api.jar&lt;/file&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;appengine-api-stubs&lt;/id&gt;\r\n                &lt;phase&gt;initialize&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;install-file&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;appengine-api-stubs&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                    &lt;file&gt;${local.sdk}/lib/impl/appengine-api-stubs.jar&lt;/file&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nFinally, in dependencies, you can add the jars\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\r\n        &lt;artifactId&gt;appengine-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\r\n        &lt;artifactId&gt;appengine-api-stubs&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBy Setting up your project like this, the project will continue to build even when you take it to another computer (given that it has all the jar files in the path specified by the property `local.sdk`).\r\n\r\nFor `groupId` use a unique name just to make sure that there are no conflicts.\r\n\r\nNow when you `mvn install` or `mvn test` local jars will be added automatically.\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-install-plugin/","title":"How to add local jar files to a Maven project?","body":"<p>I think a better solution for this problem is to use <a href=\"http://maven.apache.org/plugins/maven-install-plugin/\" rel=\"noreferrer\">maven-install-plugin</a> to automatically install the files at install time. This is how I set it up for my project. </p>\n\n<p>First, add the path (where you store the local .jars) as a property.</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;local.sdk&gt;/path/to/jar&lt;/local.sdk&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>Then, under <code>plugins</code> add a plugin to install the jars when compiling.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;1&lt;/id&gt;\n            &lt;phase&gt;initialize&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;groupId&gt;com.local.jar&lt;/groupId&gt; \n                &lt;artifactId&gt;appengine-api&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;file&gt;${local.sdk}/lib/impl/appengine-api.jar&lt;/file&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;appengine-api-stubs&lt;/id&gt;\n            &lt;phase&gt;initialize&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-api-stubs&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;file&gt;${local.sdk}/lib/impl/appengine-api-stubs.jar&lt;/file&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Finally, in dependencies, you can add the jars</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\n    &lt;artifactId&gt;appengine-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\n    &lt;artifactId&gt;appengine-api-stubs&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>By Setting up your project like this, the project will continue to build even when you take it to another computer (given that it has all the jar files in the path specified by the property <code>local.sdk</code>).</p>\n\n<p>For <code>groupId</code> use a unique name just to make sure that there are no conflicts.</p>\n\n<p>Now when you <code>mvn install</code> or <code>mvn test</code> local jars will be added automatically.</p>\n"},{"tags":[],"owner":{"account_id":10766816,"reputation":1303,"user_id":7921521,"display_name":"Mazen Embaby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533057215,"creation_date":1533054903,"answer_id":51618158,"question_id":4955635,"body_markdown":"&gt; 1. mvn install \r\n\r\nYou can write code below in command line or if you&#39;re using eclipse builtin maven right click on project -&gt; Run As -&gt; run configurations... -&gt; in left panel right click on Maven Build -&gt; new configuration -&gt; write the code in Goals &amp; in base directory :${project_loc:NameOfYourProject} -&gt; Run  \r\n\r\n    mvn install:install-file\r\n       -Dfile=&lt;path-to-file&gt;\r\n       -DgroupId=&lt;group-id&gt;\r\n       -DartifactId=&lt;artifact-id&gt;\r\n       -Dversion=&lt;version&gt;\r\n       -Dpackaging=&lt;packaging&gt;\r\n       -DgeneratePom=true\r\n\r\n **Where each refers to:**\r\n\r\n&lt; path-to-file &gt;: the path to the file to load e.g -&gt; c:\\kaptcha-2.3.jar\r\n\r\n&lt; group-id &gt;: the group that the file should be registered under e.g -&gt; com.google.code\r\n\r\n&lt; artifact-id &gt;: the artifact name for the file e.g -&gt; kaptcha\r\n\r\n&lt; version &gt;: the version of the file e.g -&gt; 2.3\r\n\r\n&lt; packaging &gt;: the packaging of the file e.g. -&gt; jar\r\n\r\n&gt; 2.After installed, just declares jar in pom.xml.\r\n\r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.code&lt;/groupId&gt;\r\n          &lt;artifactId&gt;kaptcha&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3&lt;/version&gt;\r\n     &lt;/dependency&gt;","title":"How to add local jar files to a Maven project?","body":"<blockquote>\n  <ol>\n  <li>mvn install </li>\n  </ol>\n</blockquote>\n\n<p>You can write code below in command line or if you're using eclipse builtin maven right click on project -> Run As -> run configurations... -> in left panel right click on Maven Build -> new configuration -> write the code in Goals &amp; in base directory :${project_loc:NameOfYourProject} -> Run  </p>\n\n<pre><code>mvn install:install-file\n   -Dfile=&lt;path-to-file&gt;\n   -DgroupId=&lt;group-id&gt;\n   -DartifactId=&lt;artifact-id&gt;\n   -Dversion=&lt;version&gt;\n   -Dpackaging=&lt;packaging&gt;\n   -DgeneratePom=true\n</code></pre>\n\n<p><strong>Where each refers to:</strong></p>\n\n<p>&lt; path-to-file >: the path to the file to load e.g -> c:\\kaptcha-2.3.jar</p>\n\n<p>&lt; group-id >: the group that the file should be registered under e.g -> com.google.code</p>\n\n<p>&lt; artifact-id >: the artifact name for the file e.g -> kaptcha</p>\n\n<p>&lt; version >: the version of the file e.g -> 2.3</p>\n\n<p>&lt; packaging >: the packaging of the file e.g. -> jar</p>\n\n<blockquote>\n  <p>2.After installed, just declares jar in pom.xml.</p>\n</blockquote>\n\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code&lt;/groupId&gt;\n      &lt;artifactId&gt;kaptcha&lt;/artifactId&gt;\n      &lt;version&gt;2.3&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":0,"creation_date":1538983206,"post_id":51647143,"comment_id":92320823,"body_markdown":"For local repository URLs, can they be relative or must they be absolute?","body":"For local repository URLs, can they be relative or must they be absolute?"},{"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"score":0,"creation_date":1538984076,"post_id":51647143,"comment_id":92321234,"body_markdown":"@Dragas I haven&#39;t tried, please let us know if you did.","body":"@Dragas I haven&#39;t tried, please let us know if you did."},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":1,"creation_date":1538987423,"post_id":51647143,"comment_id":92322948,"body_markdown":"Yeah, apparently you need to use `&lt;url&gt;file:${basedir}&lt;/url&gt;` as base url instead.","body":"Yeah, apparently you need to use <code>&lt;url&gt;file:${basedir}&lt;&#47;url&gt;</code> as base url instead."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1635523491,"post_id":51647143,"comment_id":123329947,"body_markdown":"[`&lt;scope&gt;system`](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies) is deprecated.","body":"<a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies\" rel=\"nofollow noreferrer\"><code>&lt;scope&gt;system</code></a> is deprecated."},{"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"score":0,"creation_date":1635835565,"post_id":51647143,"comment_id":123391771,"body_markdown":"@GeroldBroser Thank you for the input, i added a note. Cheers!","body":"@GeroldBroser Thank you for the input, i added a note. Cheers!"}],"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"comment_count":5,"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1637571176,"creation_date":1533192423,"answer_id":51647143,"question_id":4955635,"body_markdown":"The really quick and dirty way is to point to a local file, please note &quot;&lt;scope&gt;system&quot; is deprecated by now:\r\n\r\n\t\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sample&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;samplifact&lt;/artifactId&gt;  \r\n    &lt;version&gt;1.0&lt;/version&gt; \r\n    &lt;scope&gt;system&lt;/scope&gt;\r\n    &lt;systemPath&gt;C:\\DEV\\myfunnylib\\yourJar.jar&lt;/systemPath&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHowever this will only live on your machine (obviously), for sharing it usually makes sense to use a proper m2 archive (nexus/artifactory) or if you do not have any of these or don&#39;t want to set one up a local maven structured archive and configure a &quot;repository&quot; in your pom:\r\n\r\nlocal:\r\n```xml\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;my-local-repo&lt;/id&gt;\r\n        &lt;url&gt;file://C:/DEV//mymvnrepo&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n\r\nremote:\r\n```xml\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;my-remote-repo&lt;/id&gt;\r\n        &lt;url&gt;http://192.168.0.1/whatever/mavenserver/youwant/repo&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\nfor this solution, a relative path is also possible using the basedir variable:\r\n\r\n    &lt;url&gt;file:${basedir}&lt;/url&gt;","title":"How to add local jar files to a Maven project?","body":"<p>The really quick and dirty way is to point to a local file, please note &quot;system&quot; is deprecated by now:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sample&lt;/groupId&gt;  \n    &lt;artifactId&gt;samplifact&lt;/artifactId&gt;  \n    &lt;version&gt;1.0&lt;/version&gt; \n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;C:\\DEV\\myfunnylib\\yourJar.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However this will only live on your machine (obviously), for sharing it usually makes sense to use a proper m2 archive (nexus/artifactory) or if you do not have any of these or don't want to set one up a local maven structured archive and configure a &quot;repository&quot; in your pom:</p>\n<p>local:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;my-local-repo&lt;/id&gt;\n        &lt;url&gt;file://C:/DEV//mymvnrepo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>remote:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;my-remote-repo&lt;/id&gt;\n        &lt;url&gt;http://192.168.0.1/whatever/mavenserver/youwant/repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>for this solution, a relative path is also possible using the basedir variable:</p>\n<pre><code>&lt;url&gt;file:${basedir}&lt;/url&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7700422,"reputation":362,"user_id":5833218,"accept_rate":100,"display_name":"Kavindu Gayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536144862,"creation_date":1536144862,"answer_id":52183392,"question_id":4955635,"body_markdown":"In Apache Maven 3.5.4, I had to add double quotation. Without double quotation it wasn&#39;t worked for me.\r\n\r\nexample:\r\n    mvn install:install-file &quot;-Dfile=location to the jar file&quot; &quot;-DgroupId=group id&quot; &quot;-DartifactId=artifact id&quot; &quot;-Dversion=version&quot; &quot;-Dpackaging=package type&quot;\r\n\r\n","title":"How to add local jar files to a Maven project?","body":"<p>In Apache Maven 3.5.4, I had to add double quotation. Without double quotation it wasn't worked for me.</p>\n\n<p>example:\n    mvn install:install-file \"-Dfile=location to the jar file\" \"-DgroupId=group id\" \"-DartifactId=artifact id\" \"-Dversion=version\" \"-Dpackaging=package type\"</p>\n"},{"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1635523134,"post_id":59002753,"comment_id":123329824,"body_markdown":"[`&lt;scope&gt;system`](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies) is deprecated.","body":"<a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies\" rel=\"nofollow noreferrer\"><code>&lt;scope&gt;system</code></a> is deprecated."}],"tags":[],"owner":{"account_id":4117104,"reputation":377,"user_id":3378417,"display_name":"kolle_86"},"comment_count":1,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1574462922,"creation_date":1574462922,"answer_id":59002753,"question_id":4955635,"body_markdown":"Important part in dependency is:\r\n**${pom.basedir}** (instead of just ${basedir})\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;example&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t&lt;systemPath&gt;${pom.basedir}/src/lib/example.jar&lt;/systemPath&gt;\r\n\t&lt;/dependency&gt;","title":"How to add local jar files to a Maven project?","body":"<p>Important part in dependency is:\n<strong>${pom.basedir}</strong> (instead of just ${basedir})</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${pom.basedir}/src/lib/example.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7006182,"reputation":2025,"user_id":5370480,"display_name":"Dean Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585707281,"creation_date":1585707281,"answer_id":60962632,"question_id":4955635,"body_markdown":"1. Create a local Maven repository directory, Your project root should look something like this to start with:\r\n\r\n```yaml\r\nyourproject\r\n+- pom.xml\r\n+- src\r\n```\r\n\r\n2. Add a standard Maven repository directory called repo for the group com.example and version 1.0:\r\n\r\n```yaml\r\nyourproject\r\n+- pom.xml\r\n+- src\r\n+- repo\r\n```\r\n\r\n3. Deploy the Artifact Into the Repo, Maven can deploy the artifact for you using the mvn deploy:deploy-file goal:\r\n```yaml\r\nmvn deploy:deploy-file -Durl=file:///pathtoyour/repo -Dfile=your.jar -DgroupId=your.group.id -DartifactId=yourid -Dpackaging=jar -Dversion=1.0\r\n```\r\n\r\n4. install pom file corresponding to your jar so that your project can find jar during maven build from local repo:\r\n```yaml\r\nmvn install:install-file -Dfile=/path-to-your-jar-1.0.jar -DpomFile=/path-to-your-pom-1.0.pom\r\n```\r\n5. add repo in your pom file:\r\n```yaml\r\n&lt;repositories&gt;\r\n    &lt;!--other repositories if any--&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;project.local&lt;/id&gt;\r\n        &lt;name&gt;project&lt;/name&gt;\r\n        &lt;url&gt;file:${project.basedir}/repo&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n6. add the dependency in your pom:\r\n```yaml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.groupid&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myid&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"How to add local jar files to a Maven project?","body":"<ol>\n<li>Create a local Maven repository directory, Your project root should look something like this to start with:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>yourproject\n+- pom.xml\n+- src\n</code></pre>\n\n<ol start=\"2\">\n<li>Add a standard Maven repository directory called repo for the group com.example and version 1.0:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>yourproject\n+- pom.xml\n+- src\n+- repo\n</code></pre>\n\n<ol start=\"3\">\n<li>Deploy the Artifact Into the Repo, Maven can deploy the artifact for you using the mvn deploy:deploy-file goal:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>mvn deploy:deploy-file -Durl=file:///pathtoyour/repo -Dfile=your.jar -DgroupId=your.group.id -DartifactId=yourid -Dpackaging=jar -Dversion=1.0\n</code></pre>\n\n<ol start=\"4\">\n<li>install pom file corresponding to your jar so that your project can find jar during maven build from local repo:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>mvn install:install-file -Dfile=/path-to-your-jar-1.0.jar -DpomFile=/path-to-your-pom-1.0.pom\n</code></pre>\n\n<ol start=\"5\">\n<li>add repo in your pom file:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;!--other repositories if any--&gt;\n    &lt;repository&gt;\n        &lt;id&gt;project.local&lt;/id&gt;\n        &lt;name&gt;project&lt;/name&gt;\n        &lt;url&gt;file:${project.basedir}/repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<ol start=\"6\">\n<li>add the dependency in your pom:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.groupid&lt;/groupId&gt;\n    &lt;artifactId&gt;myid&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1635523371,"post_id":61576687,"comment_id":123329897,"body_markdown":"There is no `&lt;phase&gt;clean`  if you run e.g. `mvn compile` and if there wasn&#39;t a `mvn clean` before the build will fail.","body":"There is no <code>&lt;phase&gt;clean</code>  if you run e.g. <code>mvn compile</code> and if there wasn&#39;t a <code>mvn clean</code> before the build will fail."}],"tags":[],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1588518316,"creation_date":1588518316,"answer_id":61576687,"question_id":4955635,"body_markdown":"&lt;execution&gt;**Step 1:** Configure the `maven-install-plugin` with the goal `install-file` in your `pom.xml`\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;install-external-non-maven-jar-MWS-Client-into-local-maven-repo&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;clean&lt;/phase&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.amazonservices.mws&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mws-client&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;file&gt;${project.basedir}/lib/MWSClientJavaRuntime-1.0.jar&lt;/file&gt;\r\n\t\t\t\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t\t\t        &lt;generatePom&gt;true&lt;/generatePom&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;install-file&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n   Make sure to edit the `file` path based on your actual file path (recommended is to place these external non-maven jars inside some folder, let&#39;s say `lib`, and place this `lib` folder inside your project so as to use project-specific relative path and avoid adding system specific absolute path.\r\n\r\n   If you have multiple external jars, just repeat the `&lt;execution&gt;` for other jars within the same `maven-install-plugin`.\r\n\r\n**Step 2:** Once you have configured the `maven-install-plugin` as shown above in your `pom.xml` file, you have to use these jars in your `pom.xml` as usual:\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonservices.mws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mws-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n   Note that the `maven-install-plugin` only copies your external jars to your local `.m2` maven repository. That&#39;s it. It doesn&#39;t automatically include these jars as maven dependencies to your project.\r\n\r\n   It&#39;s a minor point, but sometimes easy to miss. ","title":"How to add local jar files to a Maven project?","body":"<p><strong>Step 1:</strong> Configure the <code>maven-install-plugin</code> with the goal <code>install-file</code> in your <code>pom.xml</code></p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;install-external-non-maven-jar-MWS-Client-into-local-maven-repo&lt;/id&gt;\n            &lt;phase&gt;clean&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\n                &lt;groupId&gt;com.amazonservices.mws&lt;/groupId&gt;\n                &lt;artifactId&gt;mws-client&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n                &lt;file&gt;${project.basedir}/lib/MWSClientJavaRuntime-1.0.jar&lt;/file&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;generatePom&gt;true&lt;/generatePom&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Make sure to edit the <code>file</code> path based on your actual file path (recommended is to place these external non-maven jars inside some folder, let's say <code>lib</code>, and place this <code>lib</code> folder inside your project so as to use project-specific relative path and avoid adding system specific absolute path.</p>\n\n<p>If you have multiple external jars, just repeat the <code>&lt;execution&gt;</code> for other jars within the same <code>maven-install-plugin</code>.</p>\n\n<p><strong>Step 2:</strong> Once you have configured the <code>maven-install-plugin</code> as shown above in your <code>pom.xml</code> file, you have to use these jars in your <code>pom.xml</code> as usual:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonservices.mws&lt;/groupId&gt;\n        &lt;artifactId&gt;mws-client&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Note that the <code>maven-install-plugin</code> only copies your external jars to your local <code>.m2</code> maven repository. That's it. It doesn't automatically include these jars as maven dependencies to your project.</p>\n\n<p>It's a minor point, but sometimes easy to miss. </p>\n"},{"tags":[],"owner":{"account_id":1109311,"reputation":5891,"user_id":1100081,"accept_rate":44,"display_name":"Anton"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1595541425,"creation_date":1595541425,"answer_id":63063695,"question_id":4955635,"body_markdown":"Not an answer to the original question, however it might be useful for someone\r\n\r\nThere is no proper way to add multiple jar libraries from the folder using Maven. If there are only few dependencies, it is probably easier to configure `maven-install-plugin` as mentioned in the answers above.\r\n\r\nHowever for my particular case, I had a `lib` folder with more than 100 proprietary jar files which I had to add somehow. And for me it was much easier for me to convert my `Maven` project to `Gradle`. \r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.2.2.RELEASE&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        flatDir {\r\n           dirs &#39;libs&#39; // local libs folder\r\n       }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n        \r\n        implementation &#39;io.grpc:grpc-netty-shaded:1.29.0&#39;\r\n        implementation &#39;io.grpc:grpc-protobuf:1.29.0&#39;\r\n        implementation &#39;io.grpc:grpc-stub:1.29.0&#39; // dependecies from maven central\r\n    \r\n        implementation name: &#39;akka-actor_2.12-2.6.1&#39; // dependecies from lib folder\r\n        implementation name: &#39;akka-protobuf-v3_2.12-2.6.1&#39;\r\n        implementation name: &#39;akka-stream_2.12-2.6.1&#39;\r\n    \r\n     }","title":"How to add local jar files to a Maven project?","body":"<p>Not an answer to the original question, however it might be useful for someone</p>\n<p>There is no proper way to add multiple jar libraries from the folder using Maven. If there are only few dependencies, it is probably easier to configure <code>maven-install-plugin</code> as mentioned in the answers above.</p>\n<p>However for my particular case, I had a <code>lib</code> folder with more than 100 proprietary jar files which I had to add somehow. And for me it was much easier for me to convert my <code>Maven</code> project to <code>Gradle</code>.</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.2.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n    flatDir {\n       dirs 'libs' // local libs folder\n   }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    \n    implementation 'io.grpc:grpc-netty-shaded:1.29.0'\n    implementation 'io.grpc:grpc-protobuf:1.29.0'\n    implementation 'io.grpc:grpc-stub:1.29.0' // dependecies from maven central\n\n    implementation name: 'akka-actor_2.12-2.6.1' // dependecies from lib folder\n    implementation name: 'akka-protobuf-v3_2.12-2.6.1'\n    implementation name: 'akka-stream_2.12-2.6.1'\n\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"score":0,"creation_date":1678836821,"post_id":63258571,"comment_id":133610233,"body_markdown":"If you are using Windows&#39;s powershell, you will need to escape the `.` character not part of a file by enclosing the string between quotation marks.  For instance :\t`-DgroupId=&quot;org.primefaces&quot;`\n`-Dversion=&quot;12.0.3&quot; `","body":"If you are using Windows&#39;s powershell, you will need to escape the <code>.</code> character not part of a file by enclosing the string between quotation marks.  For instance :\t<code>-DgroupId=&quot;org.primefaces&quot;</code> <code>-Dversion=&quot;12.0.3&quot; </code>"}],"tags":[],"owner":{"display_name":"user11141611"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1601619633,"creation_date":1596602783,"answer_id":63258571,"question_id":4955635,"body_markdown":"### Add local `jar` libraries, their `sources` and `javadoc` to a Maven project\r\n\r\nIf you have pre-compiled `jar` files with libraries, their `sources` and `javadoc`, then you can `install` them to your local Maven repository like this:\r\n\r\n&lt;pre&gt;\r\nmvn install:install-file\r\n    -Dfile=awesomeapp-1.0.1.jar \\\r\n    -DpomFile=awesomeapp-1.0.1.pom \\\r\n    &lt;b&gt;-Dsources=awesomeapp-1.0.1-sources.jar \\&lt;/b&gt;\r\n    &lt;b&gt;-Djavadoc=awesomeapp-1.0.1-javadoc.jar \\&lt;/b&gt;\r\n    -DgroupId=com.example \\\r\n    -DartifactId=awesomeapp \\\r\n    -Dversion=1.0.1 \\\r\n    -Dpackaging=jar\r\n&lt;/pre&gt;\r\n\r\nThen in your project you can use this libraries:\r\n```xml\r\n&lt;!-- com.example --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSee: [maven-install-plugin][1] usage.\r\n\r\n---\r\n\r\nOr you can `build` these libraries yourself with their `sources` and `javadoc` using [maven-source-plugin][2] and [maven-javadoc-plugin][3], and then `install` them.\r\n\r\n**Example project:** library\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n         http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;url&gt;https://example.com/awesomeapp&lt;/url&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\r\n    &lt;name&gt;awesomeapp&lt;/name&gt;\r\n    &lt;version&gt;1.0.1&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;12&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;awesomeapp&lt;/finalName&gt;\r\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-sources&lt;/id&gt;\r\n                        &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nExecute maven `install` goal:\r\n```none\r\nmvn install\r\n```\r\n\r\nCheck your local Maven repository:\r\n```none\r\n~/.m2/repository/com/example/awesomeapp/1.0.1/\r\n ├─ _remote.repositories\r\n ├─ awesomeapp-1.0.1.jar\r\n ├─ awesomeapp-1.0.1.pom\r\n ├─ awesomeapp-1.0.1-javadoc.jar\r\n └─ awesomeapp-1.0.1-sources.jar\r\n```\r\n\r\nThen you can use this library:\r\n```xml\r\n&lt;!-- com.example --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-install-plugin/usage.html\r\n  [2]: https://maven.apache.org/plugins/maven-source-plugin/usage.html\r\n  [3]: https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html","title":"How to add local jar files to a Maven project?","body":"<h3>Add local <code>jar</code> libraries, their <code>sources</code> and <code>javadoc</code> to a Maven project</h3>\n<p>If you have pre-compiled <code>jar</code> files with libraries, their <code>sources</code> and <code>javadoc</code>, then you can <code>install</code> them to your local Maven repository like this:</p>\n<pre>\nmvn install:install-file\n    -Dfile=awesomeapp-1.0.1.jar \\\n    -DpomFile=awesomeapp-1.0.1.pom \\\n    <b>-Dsources=awesomeapp-1.0.1-sources.jar \\</b>\n    <b>-Djavadoc=awesomeapp-1.0.1-javadoc.jar \\</b>\n    -DgroupId=com.example \\\n    -DartifactId=awesomeapp \\\n    -Dversion=1.0.1 \\\n    -Dpackaging=jar\n</pre>\n<p>Then in your project you can use this libraries:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- com.example --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See: <a href=\"https://maven.apache.org/plugins/maven-install-plugin/usage.html\" rel=\"noreferrer\">maven-install-plugin</a> usage.</p>\n<hr />\n<p>Or you can <code>build</code> these libraries yourself with their <code>sources</code> and <code>javadoc</code> using <a href=\"https://maven.apache.org/plugins/maven-source-plugin/usage.html\" rel=\"noreferrer\">maven-source-plugin</a> and <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html\" rel=\"noreferrer\">maven-javadoc-plugin</a>, and then <code>install</code> them.</p>\n<p><strong>Example project:</strong> library</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n         http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;url&gt;https://example.com/awesomeapp&lt;/url&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\n    &lt;name&gt;awesomeapp&lt;/name&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;12&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;awesomeapp&lt;/finalName&gt;\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Execute maven <code>install</code> goal:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mvn install\n</code></pre>\n<p>Check your local Maven repository:</p>\n<pre class=\"lang-none prettyprint-override\"><code>~/.m2/repository/com/example/awesomeapp/1.0.1/\n ├─ _remote.repositories\n ├─ awesomeapp-1.0.1.jar\n ├─ awesomeapp-1.0.1.pom\n ├─ awesomeapp-1.0.1-javadoc.jar\n └─ awesomeapp-1.0.1-sources.jar\n</code></pre>\n<p>Then you can use this library:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- com.example --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2451099,"reputation":911,"user_id":2137378,"display_name":"Amin Heydari Alashti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605448240,"creation_date":1605448240,"answer_id":64845157,"question_id":4955635,"body_markdown":"My shaded jar file did not contain the third-party library using AlirezaFattahi&#39;s solution. however, I remeber that it was working once I had tried it for the same project last time. So, I tried my own solution: \r\n1. mkdir the project&#39;s path under .m2/repositories directory (similar to other maven dependencies directory at that directory)\r\n2. put the third-party jar file in it. \r\n3. add the dependency as like as the libraries on a maven repository. \r\n\r\nFinally, It worked for me. :)","title":"How to add local jar files to a Maven project?","body":"<p>My shaded jar file did not contain the third-party library using AlirezaFattahi's solution. however, I remeber that it was working once I had tried it for the same project last time. So, I tried my own solution:</p>\n<ol>\n<li>mkdir the project's path under .m2/repositories directory (similar to other maven dependencies directory at that directory)</li>\n<li>put the third-party jar file in it.</li>\n<li>add the dependency as like as the libraries on a maven repository.</li>\n</ol>\n<p>Finally, It worked for me. :)</p>\n"},{"tags":[],"owner":{"account_id":7417054,"reputation":140,"user_id":5642475,"display_name":"Kamil Tomasz Jarmusik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606398602,"creation_date":1606395216,"answer_id":65022448,"question_id":4955635,"body_markdown":"Perhaps someone will be interested in:\r\nhttps://github.com/Limraj/maven-artifact-generator\r\n\r\nConsole program to generate maven artifacts in the local repository, and configure dependencies for pom.xml, based on the path to the jars.\r\nYou can do this for one file, but it&#39;s most useful if you have multiple jar files.\r\n\r\npath jars:\r\njava -jar maven-artifact-generator-X.X.X.jar -p path_to_jars -g com.test -V 1.2.3 -P jar\r\n\r\njar:\r\njava -jar maven-artifact-generator-X.X.X.jar -f file_jar -g com.test -V 1.2.3 -P jar\r\n\r\nThis will generate an artifact in the local maven repository, and generate dependecies for pom.xml in gen.log. ArtifactId is the name of the jar file.\r\n\r\nRequires an installed maven.\r\nTesting on widnows 7 and macOS X (unix/linux).\r\n","title":"How to add local jar files to a Maven project?","body":"<p>Perhaps someone will be interested in:\n<a href=\"https://github.com/Limraj/maven-artifact-generator\" rel=\"nofollow noreferrer\">https://github.com/Limraj/maven-artifact-generator</a></p>\n<p>Console program to generate maven artifacts in the local repository, and configure dependencies for pom.xml, based on the path to the jars.\nYou can do this for one file, but it's most useful if you have multiple jar files.</p>\n<p>path jars:\njava -jar maven-artifact-generator-X.X.X.jar -p path_to_jars -g com.test -V 1.2.3 -P jar</p>\n<p>jar:\njava -jar maven-artifact-generator-X.X.X.jar -f file_jar -g com.test -V 1.2.3 -P jar</p>\n<p>This will generate an artifact in the local maven repository, and generate dependecies for pom.xml in gen.log. ArtifactId is the name of the jar file.</p>\n<p>Requires an installed maven.\nTesting on widnows 7 and macOS X (unix/linux).</p>\n"},{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627576996,"creation_date":1627576996,"answer_id":68579885,"question_id":4955635,"body_markdown":"In my case, it turned out my existing maven build was already installing the jar file in question into my local repository, but I wasn&#39;t seeing the expected results because local builds produce artifacts with suffix &#39;-SNAPSHOT&#39; in them. The very simple solution for me was to update the pom.xml file of the projects that make use of the locally build jar file, to match the name.\r\n\r\n    &lt;myproject.foo.version&gt;1.88-SNAPSHOT&lt;/myproject.foo.version&gt;\r\n\r\ninstead of\r\n\r\n    &lt;myproject.foo.version&gt;1.88&lt;/myproject.foo.version&gt;\r\n\r\nThe takeaway is that if it seems like your jar file should already be in your local .m2/maven repo, it very well may be, and you just need to update your dependency accordingly.\r\n","title":"How to add local jar files to a Maven project?","body":"<p>In my case, it turned out my existing maven build was already installing the jar file in question into my local repository, but I wasn't seeing the expected results because local builds produce artifacts with suffix '-SNAPSHOT' in them. The very simple solution for me was to update the pom.xml file of the projects that make use of the locally build jar file, to match the name.</p>\n<pre><code>&lt;myproject.foo.version&gt;1.88-SNAPSHOT&lt;/myproject.foo.version&gt;\n</code></pre>\n<p>instead of</p>\n<pre><code>&lt;myproject.foo.version&gt;1.88&lt;/myproject.foo.version&gt;\n</code></pre>\n<p>The takeaway is that if it seems like your jar file should already be in your local .m2/maven repo, it very well may be, and you just need to update your dependency accordingly.</p>\n"},{"tags":[],"owner":{"account_id":4676090,"reputation":459,"user_id":3786383,"display_name":"Bonaparte"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639685567,"creation_date":1639685567,"answer_id":70385076,"question_id":4955635,"body_markdown":"If you are a Spring developer, you will find that the JAR you produce from a Spring Boot build will not work as a dependency JAR in another build. Check if your POM has this:\r\n\r\n    &lt;plugin&gt;\r\n\t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd also check, if you run `mvn package` whether you see a .jar.original file as well as the .jar in the `target/` directory. If so, you need to use that .jar.original file for any local development (putting it into a lib/ or something.)\r\n\r\nYou can work around this of course; see the original [post][1] which references the plugin manual at Spring. I think, you would need the `&lt;configuration&gt; &lt;attach&gt;false&lt;/attach&gt; &lt;configuration&gt;` and then you would have to deploy and Maven should use the .jar.original file. I have not tried this myself so do let me know!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53138576/maven-generating-actual-jar-as-jar-original-instead-of-jar-file","title":"How to add local jar files to a Maven project?","body":"<p>If you are a Spring developer, you will find that the JAR you produce from a Spring Boot build will not work as a dependency JAR in another build. Check if your POM has this:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And also check, if you run <code>mvn package</code> whether you see a .jar.original file as well as the .jar in the <code>target/</code> directory. If so, you need to use that .jar.original file for any local development (putting it into a lib/ or something.)</p>\n<p>You can work around this of course; see the original <a href=\"https://stackoverflow.com/questions/53138576/maven-generating-actual-jar-as-jar-original-instead-of-jar-file\">post</a> which references the plugin manual at Spring. I think, you would need the <code>&lt;configuration&gt; &lt;attach&gt;false&lt;/attach&gt; &lt;configuration&gt;</code> and then you would have to deploy and Maven should use the .jar.original file. I have not tried this myself so do let me know!</p>\n"},{"tags":[],"owner":{"account_id":172977,"reputation":23,"user_id":1577005,"display_name":"jnorthrup"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657721637,"creation_date":1657721637,"answer_id":72967805,"question_id":4955635,"body_markdown":"\r\na pom repository pointing to `${project.directory}/repo/` or a file:// uri can work with source-resident jarfiles for a trivial project&#39;s deps frozen in time.  these will not leak into the system ~/.m2 repo but will affect the choice of maven version selection against the (typically more recent) top-level when unspecified.\r\n\r\n\r\nfor existing deps being bundled at distribution-time similar to shade but more direct, if you can run with &quot;target&quot; being your favorite structure or maven&#39;s default:\r\n\r\n`-cp &quot;$PWD/target/classes:$PWD/target/lib/*&quot; pkg.random.ClassWithMain`\r\n\r\nthen \r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n```","title":"How to add local jar files to a Maven project?","body":"<p>a pom repository pointing to <code>${project.directory}/repo/</code> or a file:// uri can work with source-resident jarfiles for a trivial project's deps frozen in time.  these will not leak into the system ~/.m2 repo but will affect the choice of maven version selection against the (typically more recent) top-level when unspecified.</p>\n<p>for existing deps being bundled at distribution-time similar to shade but more direct, if you can run with &quot;target&quot; being your favorite structure or maven's default:</p>\n<p><code>-cp &quot;$PWD/target/classes:$PWD/target/lib/*&quot; pkg.random.ClassWithMain</code></p>\n<p>then</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9005111,"reputation":574,"user_id":6712167,"display_name":"Ranushka Lakmal Sankalpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669958027,"creation_date":1669958027,"answer_id":74651168,"question_id":4955635,"body_markdown":" 1. Download jar file\r\n 2. copy jar file to the project folder\r\n 3. get inteliJ idea Maven command area\r\n 4. type below command\r\n\r\n**mvn install:install-file -Dfile=*YOUR_JAR_FILE_LOCATION*\\*JARNAME*.jar -DgroupId=org.primefaces.themes -DartifactId=iMetro -Dversion=1.0.1 -Dpackaging=jar**\r\n\r\n----------\r\n\r\nexample : \r\n\r\n&gt; mvn install:install-file\r\n&gt; -Dfile=C:\\Users\\ranushka.l\\Desktop\\test\\spring-web-1.0.2.jar -DgroupId=org.primefaces.themes -DartifactId=iMetro -Dversion=1.0.1 -Dpackaging=jar\r\n\r\n","title":"How to add local jar files to a Maven project?","body":"<ol>\n<li>Download jar file</li>\n<li>copy jar file to the project folder</li>\n<li>get inteliJ idea Maven command area</li>\n<li>type below command</li>\n</ol>\n<p><em><em>mvn install:install-file -Dfile=<em>YOUR_JAR_FILE_LOCATION</em>*JARNAME</em>.jar -DgroupId=org.primefaces.themes -DartifactId=iMetro -Dversion=1.0.1 -Dpackaging=jar</em>*</p>\n<hr />\n<p>example :</p>\n<blockquote>\n<p>mvn install:install-file\n-Dfile=C:\\Users\\ranushka.l\\Desktop\\test\\spring-web-1.0.2.jar -DgroupId=org.primefaces.themes -DartifactId=iMetro -Dversion=1.0.1 -Dpackaging=jar</p>\n</blockquote>\n"}],"owner":{"account_id":178608,"reputation":18897,"user_id":410693,"accept_rate":84,"display_name":"Praneel PIDIKITI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1650310,"favorite_count":0,"down_vote_count":2,"up_vote_count":1617,"accepted_answer_id":4955695,"answer_count":35,"score":1615,"last_activity_date":1677137997,"creation_date":1297332206,"question_id":4955635,"body_markdown":"How do I add local jar files (not yet part of the Maven repository) directly in my project&#39;s library sources?","title":"How to add local jar files to a Maven project?","body":"<p>How do I add local jar files (not yet part of the Maven repository) directly in my project's library sources?</p>\n"},{"tags":["java","spring","aop","instantiation","proxy-object"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1677137154,"post_id":75501292,"comment_id":133279185,"body_markdown":"Follow-up question after having written my second answer: What is the rationale behind using a non-singleton aspect here in the first place? Your code example does not explain it. I do see any context objects or anything else which would require or be made easier by multiple aspect instances. Was trying a different instantiation model merely an experiment, or is there an actual use case?","body":"Follow-up question after having written my second answer: What is the rationale behind using a non-singleton aspect here in the first place? Your code example does not explain it. I do see any context objects or anything else which would require or be made easier by multiple aspect instances. Was trying a different instantiation model merely an experiment, or is there an actual use case?"},{"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigņejevs"},"score":0,"creation_date":1677139972,"post_id":75501292,"comment_id":133279772,"body_markdown":"It was an experiment to test multiple instance model of aspects.","body":"It was an experiment to test multiple instance model of aspects."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1677142005,"post_id":75501292,"comment_id":133280279,"body_markdown":"You should have chosen to experiment with a use case that can profit from such a model. Otherwise, you know how to do it, but not why you would actually use it. &#128521;","body":"You should have chosen to experiment with a use case that can profit from such a model. Otherwise, you know how to do it, but not why you would actually use it. 😉"}],"answers":[{"comments":[{"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigņejevs"},"score":0,"creation_date":1676894865,"post_id":75506704,"comment_id":133223266,"body_markdown":"It still doesn&#39;t work: the error refers to ```@Pointcut(&quot;execution(* com.sj.utilities.Example.*(..)) &amp;&amp; this(bean)&quot;)``` **bean** variable name part:  ```warning no match for this type name: bean [Xlint:invalidAbsoluteTypeName]```. Through ```this(com.sj.MyInterface)``` you are getting proxies which have specified interfaces, however I doesn&#39;t need it. I just need proxy object that doesn&#39;t have interfaces, nothing else, but it can&#39;t understand what **bean** means if I use perthis() instantiation model. In singleton it perfectly understands what **bean** variable name means.","body":"It still doesn&#39;t work: the error refers to <code>@Pointcut(&quot;execution(* com.sj.utilities.Example.*(..)) &amp;&amp; this(bean)&quot;)</code> <b>bean</b> variable name part:  <code>warning no match for this type name: bean [Xlint:invalidAbsoluteTypeName]</code>. Through <code>this(com.sj.MyInterface)</code> you are getting proxies which have specified interfaces, however I doesn&#39;t need it. I just need proxy object that doesn&#39;t have interfaces, nothing else, but it can&#39;t understand what <b>bean</b> means if I use perthis() instantiation model. In singleton it perfectly understands what <b>bean</b> variable name means."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1676899554,"post_id":75506704,"comment_id":133224554,"body_markdown":"The `bean` variable only makes sense if you bind it to a method parameter, i.e. the advice method has a parameter like `MyClass bean`, `MyInterface bean` or `Object bean`. If you do not need the `this` instance in the advice method, you would rather write `this(org.acme.MyType)` to limit the type or omit the `this()` specifier completely, like I said in my answer. Why don&#39;t you start simple like I suggested in my answer, before trying the next more complicated step of binding parameters? Don&#39;t just copy &amp; paste code you don&#39;t understand.","body":"The <code>bean</code> variable only makes sense if you bind it to a method parameter, i.e. the advice method has a parameter like <code>MyClass bean</code>, <code>MyInterface bean</code> or <code>Object bean</code>. If you do not need the <code>this</code> instance in the advice method, you would rather write <code>this(org.acme.MyType)</code> to limit the type or omit the <code>this()</code> specifier completely, like I said in my answer. Why don&#39;t you start simple like I suggested in my answer, before trying the next more complicated step of binding parameters? Don&#39;t just copy &amp; paste code you don&#39;t understand."},{"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigņejevs"},"score":0,"creation_date":1676902895,"post_id":75506704,"comment_id":133225587,"body_markdown":"Well, if you have read definition of aspect that I provided in the question, then you would have seen that there is named pointcut ```@Pointcut(&quot;execution(*com.sj.utilities.Example.*(..)) &amp;&amp; this(bean)&quot;) public void exampleOperations(Object bean){};``` which collects proxy object context and as a first parameter has ```Object bean```. Then this named pointcut is used in the before advice ```@Before(value = &quot;exampleOperations(bean)&quot;, argNames = &quot;jp,bean&quot;) public void beforeExampleMethodsExecution(JoinPoint jp, Object bean){...}``` which has second parameter as ```Object bean```.","body":"Well, if you have read definition of aspect that I provided in the question, then you would have seen that there is named pointcut <code>@Pointcut(&quot;execution(*com.sj.utilities.Example.*(..)) &amp;&amp; this(bean)&quot;) public void exampleOperations(Object bean){};</code> which collects proxy object context and as a first parameter has <code>Object bean</code>. Then this named pointcut is used in the before advice <code>@Before(value = &quot;exampleOperations(bean)&quot;, argNames = &quot;jp,bean&quot;) public void beforeExampleMethodsExecution(JoinPoint jp, Object bean){...}</code> which has second parameter as <code>Object bean</code>."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1676965186,"post_id":75506704,"comment_id":133237819,"body_markdown":"I am sorry to have missed that. I have rarely seen users refer to fully qualified pointcut names, which are only necessary when using pointcuts defined in classes other than the current aspect class itself. So usually, they just make mistakes when using that kind of syntax, trying to refer to target methods in a wrong way. I can look into this further after work. Would you mind providing a minimal reproducer project on GitHub? That would save me time and also provide me with a full picture. I do not need your company-confidential code, just an abstracted version of it reproducing the issue.","body":"I am sorry to have missed that. I have rarely seen users refer to fully qualified pointcut names, which are only necessary when using pointcuts defined in classes other than the current aspect class itself. So usually, they just make mistakes when using that kind of syntax, trying to refer to target methods in a wrong way. I can look into this further after work. Would you mind providing a minimal reproducer project on GitHub? That would save me time and also provide me with a full picture. I do not need your company-confidential code, just an abstracted version of it reproducing the issue."},{"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigņejevs"},"score":0,"creation_date":1676978442,"post_id":75506704,"comment_id":133241641,"body_markdown":"Ok. [This is the link to GitHub](https://github.com/SergejsJevstignejevs/spring-aop-associations).","body":"Ok. <a href=\"https://github.com/SergejsJevstignejevs/spring-aop-associations\" rel=\"nofollow noreferrer\">This is the link to GitHub</a>."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677137837,"creation_date":1676880625,"answer_id":75506704,"question_id":75501292,"body_markdown":"_This answer is incorrect in this particular context, but maybe valuable for other readers, because it describes a frequently made mistake by readers of the Spring manual who do not realise that the code snippets in the manual refer to **pointcut methods** with fully qualified name rather than to **target methods**._\r\n\r\n---\r\n\r\nI am assuming that you got the syntax example for `perthis()` from [this part of the Spring manual](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-instantiation-models). Unfortunately, the example is somewhat misleading, because it uses fully qualified pointcut method names, expecting the user to have read another manual section describing how to use shared pointcut definitions from a separate class, which is a rather exotic use case.\r\n\r\nInside `perthis()`, when not referencing a poincut method name but defining an inline pointcut targeting a specific application method, you need to specify a full pointcut, not just a method name without even a return type. Examples for valid clauses would be:\r\n\r\n* `perthis(myPointcut())`, if `myPointcut` is specified as a separate, named pointcut\r\n* `perthis(this(org.acme.MyClass))`\r\n* `perthis(execution(* doCommand(..))`\r\n* `perthis(execution(* doCommand(..)) &amp;&amp; this(org.acme.MyClass))`\r\n\r\nSee also the AspectJ documentation [here](https://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-aspects.html) and [there](https://www.eclipse.org/aspectj/doc/released/progguide/semantics-aspects.html#d0e7119). Unfortunately, documentation is sparse.\r\n\r\nIn your particular case, you might want:\r\n\r\n```java\r\nperthis(execution(* com.sj.utilities.Example.*(..)))\r\n```\r\n\r\nBut of course, referring to an external pointcut like\r\n```java\r\nperthis(exampleBeans())\r\n```\r\nfor pointcuts in the same class or super class or\r\n```java\r\nperthis(com.sj.aspects.AssociationsAspect.exampleBeans())\r\n```\r\nfor poinctuts in a shared pointcut class is also OK.\r\n\r\n---\r\n\r\n**Update:** I created [Spring pull request # 29998](https://github.com/spring-projects/spring-framework/pull/29998) in order to improve the documentation, because I also misunderstood the brief examples out of context there.","title":"Spring AOP this() PCD context binder doesn&#39;t work with aspect instantiation model perthis()","body":"<p><em>This answer is incorrect in this particular context, but maybe valuable for other readers, because it describes a frequently made mistake by readers of the Spring manual who do not realise that the code snippets in the manual refer to <strong>pointcut methods</strong> with fully qualified name rather than to <strong>target methods</strong>.</em></p>\n<hr />\n<p>I am assuming that you got the syntax example for <code>perthis()</code> from <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-instantiation-models\" rel=\"nofollow noreferrer\">this part of the Spring manual</a>. Unfortunately, the example is somewhat misleading, because it uses fully qualified pointcut method names, expecting the user to have read another manual section describing how to use shared pointcut definitions from a separate class, which is a rather exotic use case.</p>\n<p>Inside <code>perthis()</code>, when not referencing a poincut method name but defining an inline pointcut targeting a specific application method, you need to specify a full pointcut, not just a method name without even a return type. Examples for valid clauses would be:</p>\n<ul>\n<li><code>perthis(myPointcut())</code>, if <code>myPointcut</code> is specified as a separate, named pointcut</li>\n<li><code>perthis(this(org.acme.MyClass))</code></li>\n<li><code>perthis(execution(* doCommand(..))</code></li>\n<li><code>perthis(execution(* doCommand(..)) &amp;&amp; this(org.acme.MyClass))</code></li>\n</ul>\n<p>See also the AspectJ documentation <a href=\"https://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-aspects.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.eclipse.org/aspectj/doc/released/progguide/semantics-aspects.html#d0e7119\" rel=\"nofollow noreferrer\">there</a>. Unfortunately, documentation is sparse.</p>\n<p>In your particular case, you might want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>perthis(execution(* com.sj.utilities.Example.*(..)))\n</code></pre>\n<p>But of course, referring to an external pointcut like</p>\n<pre class=\"lang-java prettyprint-override\"><code>perthis(exampleBeans())\n</code></pre>\n<p>for pointcuts in the same class or super class or</p>\n<pre class=\"lang-java prettyprint-override\"><code>perthis(com.sj.aspects.AssociationsAspect.exampleBeans())\n</code></pre>\n<p>for poinctuts in a shared pointcut class is also OK.</p>\n<hr />\n<p><strong>Update:</strong> I created <a href=\"https://github.com/spring-projects/spring-framework/pull/29998\" rel=\"nofollow noreferrer\">Spring pull request # 29998</a> in order to improve the documentation, because I also misunderstood the brief examples out of context there.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677136926,"creation_date":1677135964,"answer_id":75541558,"question_id":75501292,"body_markdown":"_Adding another answer, leaving the previous one there for reference, even though it is false in this case, because the OP did **not** make the common mistake to refer to method calls in a wrong way, but actually his `perthis` clause as such is correct, referring to a pointcut with a fully qualified name._\r\n\r\n---\r\n\r\nThanks for your [GitHub sample project](https://github.com/SergejsJevstignejevs/spring-aop-associations).\r\n\r\nThe problem seems to be a limitation of Spring AOP for your particular use case. Maybe you can open an issue and ask if this restriction can somehow be lifted configuratively. I guess it might be a chicken-vs-egg problem during bootstrapping, i.e. what is instantiated first and available for context binding.\r\n\r\nThe problem is also not limited to `perthis` instantiation, but also happens for `pertarget` in combination with advice pointcuts using `this(myProxy)` or `target(myProxyTarget)`.\r\n\r\nIf you, as you found out already, simply use `jp.getThis()` or `jp.getTarget()` instead of binding the objects to an advice method parameter directly, you are fine. If you use singleton instantiation, you can use `this(myProxy)` or `target(myProxyTarget)` without problems, too. According to your example, you found out about that already, I am just summarising for other readers.\r\n\r\nBTW: Good digging, nice research for this edge case. &#128578;\r\n\r\nP.S.: If you would use native AspectJ in your Spring application instead of Spring AOP, probably it would just work the way you want.\r\n\r\n---\r\n\r\nWith regard to `this(com.xyz.service.AccountService)` leading to a subsequent `error at ::0 formal unbound in pointcut`, there you are actually making a mistake. When not referring to a method parameter name but to a class, you cannot bind the parameter and need to remove `Object bean` from your pointcut and from the advice method using it.","title":"Spring AOP this() PCD context binder doesn&#39;t work with aspect instantiation model perthis()","body":"<p><em>Adding another answer, leaving the previous one there for reference, even though it is false in this case, because the OP did <strong>not</strong> make the common mistake to refer to method calls in a wrong way, but actually his <code>perthis</code> clause as such is correct, referring to a pointcut with a fully qualified name.</em></p>\n<hr />\n<p>Thanks for your <a href=\"https://github.com/SergejsJevstignejevs/spring-aop-associations\" rel=\"nofollow noreferrer\">GitHub sample project</a>.</p>\n<p>The problem seems to be a limitation of Spring AOP for your particular use case. Maybe you can open an issue and ask if this restriction can somehow be lifted configuratively. I guess it might be a chicken-vs-egg problem during bootstrapping, i.e. what is instantiated first and available for context binding.</p>\n<p>The problem is also not limited to <code>perthis</code> instantiation, but also happens for <code>pertarget</code> in combination with advice pointcuts using <code>this(myProxy)</code> or <code>target(myProxyTarget)</code>.</p>\n<p>If you, as you found out already, simply use <code>jp.getThis()</code> or <code>jp.getTarget()</code> instead of binding the objects to an advice method parameter directly, you are fine. If you use singleton instantiation, you can use <code>this(myProxy)</code> or <code>target(myProxyTarget)</code> without problems, too. According to your example, you found out about that already, I am just summarising for other readers.</p>\n<p>BTW: Good digging, nice research for this edge case. 🙂</p>\n<p>P.S.: If you would use native AspectJ in your Spring application instead of Spring AOP, probably it would just work the way you want.</p>\n<hr />\n<p>With regard to <code>this(com.xyz.service.AccountService)</code> leading to a subsequent <code>error at ::0 formal unbound in pointcut</code>, there you are actually making a mistake. When not referring to a method parameter name but to a class, you cannot bind the parameter and need to remove <code>Object bean</code> from your pointcut and from the advice method using it.</p>\n"}],"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigņejevs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677137837,"creation_date":1676821234,"question_id":75501292,"body_markdown":"I&#39;m trying to log which aspect instance is responsible for which proxied object. However, when I&#39;m collecting proxy object context through this() PCD and using perthis() instantiation model I&#39;m getting an error related to the variable name of proxy object that I use in the pointcut expression:\r\n\r\n```\r\nwarning no match for this type name: bean [Xlint:invalidAbsoluteTypeName]\r\n```\r\n\r\nMaven dependencies that I use:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\nThis is an aspect that I use to implement that I needed:\r\n\r\n```\r\n@Aspect(&quot;perthis(com.sj.aspects.AssociationsAspect.exampleBeans())&quot;)\r\n@Component\r\n@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\npublic class AssociationsAspect {\r\n    public AssociationsAspect(){\r\n        System.out.println(&quot;Creating aspect instance!&quot;);\r\n    }\r\n\r\n    @Pointcut(&quot;execution(* com.sj.utilities.Example.*(..))&quot;)\r\n    public void exampleBeans(){};\r\n\r\n    @Pointcut(&quot;execution(* com.sj.utilities.Example.*(..)) &amp;&amp; this(bean)&quot;)\r\n    public void exampleOperations(Object bean){};\r\n\r\n    @Before(value = &quot;exampleOperations(bean)&quot;, argNames = &quot;jp,bean&quot;)\r\n    public void beforeExampleMethodsExecution(JoinPoint jp, Object bean){\r\n        System.out.println(\r\n                &quot;JoinPoint: &quot; + jp.getStaticPart() +\r\n                        &quot;\\n\\taspect: &quot; + this +\r\n                        &quot;\\n\\tobject: &quot; + bean\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nI tried to change *bean* as variable name to concrete type, but from documentation it will give different from binding result:\r\n\r\n&gt; Any join point (method execution only in Spring AOP) where the proxy implements the AccountService interface:\r\n&gt; ```\r\n&gt;   this(com.xyz.service.AccountService)\r\n&gt; ```\r\nAs well as it will be changing exiting error to another:\r\n\r\n```\r\nerror at ::0 formal unbound in pointcut \r\n```\r\n\r\nFunny enough, if you put away `(&quot;perthis(com.sj.aspects.AssociationsAspect.exampleBeans())&quot;)` then everything will work fine and Spring container will create a separate aspect instance for every proxy object in it. However that is not desirable and most likely a bug, because through `@Scope()` annotation I only say that there can be multiple instances of same aspect and that Spring container will need to create new instance when I told it to do, but not that it need to create them when it wants to.\r\n\r\nThe final solution to which I came was to use JoinPoint reflection API instead of collecting context through *this()* PCD. And it works fine, however I have preconceptions related to how *@Scope()* works without *perthis()* instantiation model and with it.\r\n\r\nIn the end I want to know, &#39;Is there a solution for collecting proxy object context with *this()* PCD and using *perthis()* instantiation model at the same time?&#39;. As well as what are mistakes in the aspect that I described earlier, that give such an error.\r\n\r\n","title":"Spring AOP this() PCD context binder doesn&#39;t work with aspect instantiation model perthis()","body":"<p>I'm trying to log which aspect instance is responsible for which proxied object. However, when I'm collecting proxy object context through this() PCD and using perthis() instantiation model I'm getting an error related to the variable name of proxy object that I use in the pointcut expression:</p>\n<pre><code>warning no match for this type name: bean [Xlint:invalidAbsoluteTypeName]\n</code></pre>\n<p>Maven dependencies that I use:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.9.19&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>This is an aspect that I use to implement that I needed:</p>\n<pre><code>@Aspect(&quot;perthis(com.sj.aspects.AssociationsAspect.exampleBeans())&quot;)\n@Component\n@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic class AssociationsAspect {\n    public AssociationsAspect(){\n        System.out.println(&quot;Creating aspect instance!&quot;);\n    }\n\n    @Pointcut(&quot;execution(* com.sj.utilities.Example.*(..))&quot;)\n    public void exampleBeans(){};\n\n    @Pointcut(&quot;execution(* com.sj.utilities.Example.*(..)) &amp;&amp; this(bean)&quot;)\n    public void exampleOperations(Object bean){};\n\n    @Before(value = &quot;exampleOperations(bean)&quot;, argNames = &quot;jp,bean&quot;)\n    public void beforeExampleMethodsExecution(JoinPoint jp, Object bean){\n        System.out.println(\n                &quot;JoinPoint: &quot; + jp.getStaticPart() +\n                        &quot;\\n\\taspect: &quot; + this +\n                        &quot;\\n\\tobject: &quot; + bean\n        );\n    }\n}\n</code></pre>\n<p>I tried to change <em>bean</em> as variable name to concrete type, but from documentation it will give different from binding result:</p>\n<blockquote>\n<p>Any join point (method execution only in Spring AOP) where the proxy implements the AccountService interface:</p>\n<pre><code>  this(com.xyz.service.AccountService)\n</code></pre>\n</blockquote>\n<p>As well as it will be changing exiting error to another:</p>\n<pre><code>error at ::0 formal unbound in pointcut \n</code></pre>\n<p>Funny enough, if you put away <code>(&quot;perthis(com.sj.aspects.AssociationsAspect.exampleBeans())&quot;)</code> then everything will work fine and Spring container will create a separate aspect instance for every proxy object in it. However that is not desirable and most likely a bug, because through <code>@Scope()</code> annotation I only say that there can be multiple instances of same aspect and that Spring container will need to create new instance when I told it to do, but not that it need to create them when it wants to.</p>\n<p>The final solution to which I came was to use JoinPoint reflection API instead of collecting context through <em>this()</em> PCD. And it works fine, however I have preconceptions related to how <em>@Scope()</em> works without <em>perthis()</em> instantiation model and with it.</p>\n<p>In the end I want to know, 'Is there a solution for collecting proxy object context with <em>this()</em> PCD and using <em>perthis()</em> instantiation model at the same time?'. As well as what are mistakes in the aspect that I described earlier, that give such an error.</p>\n"},{"tags":["java","java-8","grouping","java-stream"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":4,"creation_date":1513601546,"post_id":47868865,"comment_id":82702785,"body_markdown":"how about filtering the nulls first?","body":"how about filtering the nulls first?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1513601603,"post_id":47868865,"comment_id":82702821,"body_markdown":"@Eugene it is not allowable for my case. I must not lose the data. This approach described in the linked topic","body":"@Eugene it is not allowable for my case. I must not lose the data. This approach described in the linked topic"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1513601633,"post_id":47868865,"comment_id":82702832,"body_markdown":"@gstackoverflow what about applying a default key for all `null` keys?","body":"@gstackoverflow what about applying a default key for all <code>null</code> keys?"},{"owner":{"account_id":5860066,"reputation":13485,"user_id":4616087,"display_name":"Marvin"},"score":0,"creation_date":1513601645,"post_id":47868865,"comment_id":82702840,"body_markdown":"Use the oldschool way instead of streams?","body":"Use the oldschool way instead of streams?"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1513601696,"post_id":47868865,"comment_id":82702870,"body_markdown":"Also `Collectors.mapping(e -&gt; e, Collectors.toList())` can be simplified to `Collectors.toList()`","body":"Also <code>Collectors.mapping(e -&gt; e, Collectors.toList())</code> can be simplified to <code>Collectors.toList()</code>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1513601882,"post_id":47868865,"comment_id":82702983,"body_markdown":"@Lino, it is correct","body":"@Lino, it is correct"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1513601961,"post_id":47868865,"comment_id":82703031,"body_markdown":"@Marvin, I undetstand, that I can, but i prefere to use streams. And it looks like stream should have this option","body":"@Marvin, I undetstand, that I can, but i prefere to use streams. And it looks like stream should have this option"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1513677625,"post_id":47868865,"comment_id":82734384,"body_markdown":"@Lino … and `Collectors.toList()` can be omitted when using `Collectors.groupingBy`.","body":"@Lino … and <code>Collectors.toList()</code> can be omitted when using <code>Collectors.groupingBy</code>."},{"owner":{"account_id":11793786,"reputation":373,"user_id":8629025,"display_name":"Mateusz"},"score":0,"creation_date":1636113567,"post_id":47868865,"comment_id":123476145,"body_markdown":"Please checking my answer, solution using Optional instead of raw nulls","body":"Please checking my answer, solution using Optional instead of raw nulls"}],"answers":[{"comments":[{"owner":{"account_id":3276671,"reputation":6852,"user_id":2758467,"accept_rate":57,"display_name":"Rajesh Paul"},"score":0,"creation_date":1621840453,"post_id":47869142,"comment_id":119606150,"body_markdown":"Not a beautiful solution. You changed the data structure as well as the logic. Doesn&#39;t deserve to be the best answer.","body":"Not a beautiful solution. You changed the data structure as well as the logic. Doesn&#39;t deserve to be the best answer."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1621848656,"post_id":47869142,"comment_id":119609131,"body_markdown":"@RajeshPaul there are al least 17 people that disagree with you.","body":"@RajeshPaul there are al least 17 people that disagree with you."},{"owner":{"account_id":10562878,"reputation":124,"user_id":10803691,"display_name":"Борат Сагдиев"},"score":0,"creation_date":1695746032,"post_id":47869142,"comment_id":136064496,"body_markdown":"@RajeshPaul The data structure is still `Map&lt;String, List&lt;MappingEntry&gt;&gt;` and the logic is the same.","body":"@RajeshPaul The data structure is still <code>Map&lt;String, List&lt;MappingEntry&gt;&gt;</code> and the logic is the same."}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":3,"down_vote_count":2,"up_vote_count":25,"is_accepted":true,"score":23,"last_activity_date":1513602296,"creation_date":1513602296,"answer_id":47869142,"question_id":47868865,"body_markdown":"Use `Collectors.toMap` instead and specify that a `HashMap` is used (as it allows one null key)\r\n\r\n\r\n     Collectors.toMap(\r\n           MappingEntry::getMilestone,\r\n           x -&gt; {\r\n               List&lt;MappingEntry&gt; list = new ArrayList&lt;&gt;();\r\n               list.add(x);\r\n               return list;\r\n           },\r\n           (left, right) -&gt; {\r\n                left.addAll(right);\r\n                return left;\r\n           },\r\n           HashMap::new\r\n            \r\n    )","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>Use <code>Collectors.toMap</code> instead and specify that a <code>HashMap</code> is used (as it allows one null key)</p>\n\n<pre><code> Collectors.toMap(\n       MappingEntry::getMilestone,\n       x -&gt; {\n           List&lt;MappingEntry&gt; list = new ArrayList&lt;&gt;();\n           list.add(x);\n           return list;\n       },\n       (left, right) -&gt; {\n            left.addAll(right);\n            return left;\n       },\n       HashMap::new\n\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1513603128,"creation_date":1513602589,"answer_id":47869223,"question_id":47868865,"body_markdown":"You can use the `Collector.of` method for this to specify a custom collector and use a `HashMap` for the resulting map because according to the `Java-8` docs of `HashMap`\r\n\r\n&gt; [...] permits null values and the null key. [...]\r\n\r\n\r\n    Collector.of(\r\n        HashMap::new, \r\n        (map, e) -&gt; map.computeIfAbsent(e.getMileStone(), k -&gt; new ArrayList&lt;&gt;()).add(e), \r\n        (left, right) -&gt; {\r\n             right.forEach((key,list) -&gt; left.computeIfAbsent(key, k -&gt; new ArrayList&lt;&gt;()).addAll(list));\r\n             return left;\r\n         })\r\n    )","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>You can use the <code>Collector.of</code> method for this to specify a custom collector and use a <code>HashMap</code> for the resulting map because according to the <code>Java-8</code> docs of <code>HashMap</code></p>\n\n<blockquote>\n  <p>[...] permits null values and the null key. [...]</p>\n</blockquote>\n\n<pre><code>Collector.of(\n    HashMap::new, \n    (map, e) -&gt; map.computeIfAbsent(e.getMileStone(), k -&gt; new ArrayList&lt;&gt;()).add(e), \n    (left, right) -&gt; {\n         right.forEach((key,list) -&gt; left.computeIfAbsent(key, k -&gt; new ArrayList&lt;&gt;()).addAll(list));\n         return left;\n     })\n)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3276671,"reputation":6852,"user_id":2758467,"accept_rate":57,"display_name":"Rajesh Paul"},"score":1,"creation_date":1621840395,"post_id":47869642,"comment_id":119606133,"body_markdown":"This is absolutely correct answer and deserves to be chosen as the best answer. Thanks @Ousmane D.","body":"This is absolutely correct answer and deserves to be chosen as the best answer. Thanks @Ousmane D."},{"owner":{"account_id":10562878,"reputation":124,"user_id":10803691,"display_name":"Борат Сагдиев"},"score":0,"creation_date":1695746296,"post_id":47869642,"comment_id":136064551,"body_markdown":"@RajeshPaul This is absolutely not a correct answer. It changes the behavior of the original code in case `getMilestone()` returns `&quot;absentMilestone&quot;` -- in that case, both the objects for which `&quot;absentMilestone&quot;` is returned by `getMilestone()` and the ones for which `getMilestone()` returns null will end up in the same bucket.","body":"@RajeshPaul This is absolutely not a correct answer. It changes the behavior of the original code in case <code>getMilestone()</code> returns <code>&quot;absentMilestone&quot;</code> -- in that case, both the objects for which <code>&quot;absentMilestone&quot;</code> is returned by <code>getMilestone()</code> and the ones for which <code>getMilestone()</code> returns null will end up in the same bucket."}],"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"comment_count":2,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1513609289,"creation_date":1513603988,"answer_id":47869642,"question_id":47868865,"body_markdown":"Given that you want to retain the `MappingEntry` objects regardless of when `getMilestone()` is *null* or *non-null* and knowing that a `NullPointerException` will be thrown when a particular contract in not met then we can avoid that by using a replacement key to group the `MappingEntry` objects which have a *null* milestone and yet group the other `MappingEntry` objects as they&#39;re supposed to be.\r\n\r\n    Map&lt;String, List&lt;MappingEntry&gt;&gt; mappingEntryMap = \r\n                 mapping.getMappingEntries()\r\n                        .stream()\r\n                        .collect(groupingBy(m -&gt; m.getMilestone() == null ?\r\n                                      &quot;absentMilestone&quot; : m.getMilestone()));\r\n\r\nThe trick here is to use a ternary operator which provides a key to group all the `MappingEntry` objects that have a _absent_ milestone into a single group and if the milestone is not absent then we can group by its value as you&#39;d expect.","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>Given that you want to retain the <code>MappingEntry</code> objects regardless of when <code>getMilestone()</code> is <em>null</em> or <em>non-null</em> and knowing that a <code>NullPointerException</code> will be thrown when a particular contract in not met then we can avoid that by using a replacement key to group the <code>MappingEntry</code> objects which have a <em>null</em> milestone and yet group the other <code>MappingEntry</code> objects as they're supposed to be.</p>\n\n<pre><code>Map&lt;String, List&lt;MappingEntry&gt;&gt; mappingEntryMap = \n             mapping.getMappingEntries()\n                    .stream()\n                    .collect(groupingBy(m -&gt; m.getMilestone() == null ?\n                                  \"absentMilestone\" : m.getMilestone()));\n</code></pre>\n\n<p>The trick here is to use a ternary operator which provides a key to group all the <code>MappingEntry</code> objects that have a <em>absent</em> milestone into a single group and if the milestone is not absent then we can group by its value as you'd expect.</p>\n"},{"comments":[{"owner":{"account_id":10562878,"reputation":124,"user_id":10803691,"display_name":"Борат Сагдиев"},"score":0,"creation_date":1695746673,"post_id":69851600,"comment_id":136064612,"body_markdown":"Ugh... What&#39;s the point of using `HashMap`, which supports null keys, if we still have to use `Optional&lt;X&gt;` keys because the stupid `groupingBy` throws NPE if classifier returns null? That check may as well have been omitted, it would have made everything easier with no loss of safety (NPE would still be thrown upon putting the null key in the map, _if and only if_ the map doesn&#39;t support null keys). But unfortunately, this seems to be the best solution, followed by promptly converting the `Map&lt;Optional&lt;X&gt;&gt;` into a `Map&lt;X&gt;` with null keys.","body":"Ugh... What&#39;s the point of using <code>HashMap</code>, which supports null keys, if we still have to use <code>Optional&lt;X&gt;</code> keys because the stupid <code>groupingBy</code> throws NPE if classifier returns null? That check may as well have been omitted, it would have made everything easier with no loss of safety (NPE would still be thrown upon putting the null key in the map, <i>if and only if</i> the map doesn&#39;t support null keys). But unfortunately, this seems to be the best solution, followed by promptly converting the <code>Map&lt;Optional&lt;X&gt;&gt;</code> into a <code>Map&lt;X&gt;</code> with null keys."}],"tags":[],"owner":{"account_id":11793786,"reputation":373,"user_id":8629025,"display_name":"Mateusz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636107043,"creation_date":1636107043,"answer_id":69851600,"question_id":47868865,"body_markdown":"**In my opinion the best solution:**\r\n\r\nUse Optional.empty() instead of pasing null value.\r\n\r\n    Map&lt;Optional&lt;String&gt;, List&lt;MappingEntry&gt;&gt; mappingEntryMap = mapping.getMappingEntries()\r\n                .stream()\r\n                .collect(Collectors.groupingBy(Optional::ofNullable, Collectors.mapping(e -&gt; e, Collectors.toList())));","title":"NullPointerException: element cannot be mapped to a null key","body":"<p><strong>In my opinion the best solution:</strong></p>\n<p>Use Optional.empty() instead of pasing null value.</p>\n<pre><code>Map&lt;Optional&lt;String&gt;, List&lt;MappingEntry&gt;&gt; mappingEntryMap = mapping.getMappingEntries()\n            .stream()\n            .collect(Collectors.groupingBy(Optional::ofNullable, Collectors.mapping(e -&gt; e, Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23391910,"reputation":1,"user_id":17456453,"display_name":"Dark Prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637323822,"creation_date":1637323822,"answer_id":70034636,"question_id":47868865,"body_markdown":"use filter and get only not null data.\r\n\r\nlike \r\n\r\n    \t\t\tMap&lt;String, List&lt;Entity&gt;&gt; map = list\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.filter(entity -&gt; entity.getZoneRefId()!=null)\r\n\t\t\t\t\t.collect(\r\n\t\t\t\t\t\t\tCollectors.\r\n\t\t\t\t\t\t\t\t\tgroupingBy(\r\n\t\t\t\t\t\t\t\t\t\t\tEntity::getZoneName));\r\n\t\t\t","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>use filter and get only not null data.</p>\n<p>like</p>\n<pre><code>            Map&lt;String, List&lt;Entity&gt;&gt; map = list\n                .stream()\n                .filter(entity -&gt; entity.getZoneRefId()!=null)\n                .collect(\n                        Collectors.\n                                groupingBy(\n                                        Entity::getZoneName));\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26899489,"reputation":11,"user_id":20476874,"display_name":"Andrew Daraskou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668162422,"creation_date":1668162422,"answer_id":74401126,"question_id":47868865,"body_markdown":"Please use Optional for that:\r\n\r\n    var mappingEntryMap = mapping.getMappingEntries().stream()\r\n        .collect(groupingBy(entry -&gt; ofNullable(entry.getMilestone());\r\n\r\nAnd then: \r\n\r\n    var emptyMilestoneList = mappingEntryMap.get(Optional.empty());\r\n\r\n","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>Please use Optional for that:</p>\n<pre><code>var mappingEntryMap = mapping.getMappingEntries().stream()\n    .collect(groupingBy(entry -&gt; ofNullable(entry.getMilestone());\n</code></pre>\n<p>And then:</p>\n<pre><code>var emptyMilestoneList = mappingEntryMap.get(Optional.empty());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27097686,"reputation":21,"user_id":20644697,"display_name":"Ilya Posypkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670065395,"creation_date":1669807450,"answer_id":74626985,"question_id":47868865,"body_markdown":"Better to use `Stream.collect()`:\r\n\r\n```\r\nmapping.getMappingEntries().stream()\r\n  .collect(\r\n    HashMap::new,\r\n    (m,v) -&gt; m.computeIfAbsent(v.getMilestone, tmp -&gt; new ArrayList&lt;&gt;()).add(v),\r\n    (m1, m2) -&gt; {}\r\n  );","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>Better to use <code>Stream.collect()</code>:</p>\n<pre><code>mapping.getMappingEntries().stream()\n  .collect(\n    HashMap::new,\n    (m,v) -&gt; m.computeIfAbsent(v.getMilestone, tmp -&gt; new ArrayList&lt;&gt;()).add(v),\n    (m1, m2) -&gt; {}\n  );\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31715,"favorite_count":0,"down_vote_count":3,"up_vote_count":30,"accepted_answer_id":47869142,"answer_count":7,"score":27,"last_activity_date":1677137502,"creation_date":1513601277,"question_id":47868865,"body_markdown":"I have read the topic:\r\n\r\n[Collectors.groupingBy doesn&#39;t accept null keys][1]\r\n\r\nBut I don&#39;t understand how can I apply it for my issue:\r\n\r\n\r\nmy code:  \r\n\r\n    Map&lt;String, List&lt;MappingEntry&gt;&gt; mappingEntryMap = mapping.getMappingEntries()\r\n                    .stream()\r\n                    .collect(Collectors.groupingBy(MappingEntry::getMilestone, Collectors.mapping(e -&gt; e, Collectors.toList())));\r\n\r\n\r\nFor me `MappingEntry::getMilestone` sometimes can return null. It is ok for my situation but I see:\r\n\r\n    Caused by: java.lang.NullPointerException: element cannot be mapped to a null key\r\n    \tat java.util.Objects.requireNonNull(Objects.java:228)\r\n    \tat java.util.stream.Collectors.lambda$groupingBy$45(Collectors.java:907)\r\n    \tat java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)\r\n    \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n    \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n    \r\nHow can I avoid this exception?  \r\n\r\n  [1]: https://stackoverflow.com/questions/22625065/collectors-groupingby-doesnt-accept-null-keys\r\n","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>I have read the topic:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/22625065/collectors-groupingby-doesnt-accept-null-keys\">Collectors.groupingBy doesn't accept null keys</a></p>\n\n<p>But I don't understand how can I apply it for my issue:</p>\n\n<p>my code:  </p>\n\n<pre><code>Map&lt;String, List&lt;MappingEntry&gt;&gt; mappingEntryMap = mapping.getMappingEntries()\n                .stream()\n                .collect(Collectors.groupingBy(MappingEntry::getMilestone, Collectors.mapping(e -&gt; e, Collectors.toList())));\n</code></pre>\n\n<p>For me <code>MappingEntry::getMilestone</code> sometimes can return null. It is ok for my situation but I see:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException: element cannot be mapped to a null key\n    at java.util.Objects.requireNonNull(Objects.java:228)\n    at java.util.stream.Collectors.lambda$groupingBy$45(Collectors.java:907)\n    at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n</code></pre>\n\n<p>How can I avoid this exception?  </p>\n"},{"tags":["java","visual-studio-code","plugins"],"comments":[{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1649080272,"post_id":71706754,"comment_id":126778785,"body_markdown":"I can not reproduce your problem, could you please try to clean the workspace through `java: Clean Java Language Server Workspace` in the command palette. And could you have a look at the Java-related channel on the `OUTPUT` panel? such as `Language Support for Java`, `Java` and so on.","body":"I can not reproduce your problem, could you please try to clean the workspace through <code>java: Clean Java Language Server Workspace</code> in the command palette. And could you have a look at the Java-related channel on the <code>OUTPUT</code> panel? such as <code>Language Support for Java</code>, <code>Java</code> and so on."},{"owner":{"account_id":14664737,"reputation":333,"user_id":10590895,"display_name":"shin"},"score":0,"creation_date":1649244120,"post_id":71706754,"comment_id":126825367,"body_markdown":"I did the clean but the problem still happens. In the output console for &quot;Language Support for Java (Syntax Server)&quot; there are these logs:\n[Trace - 1:17:37 PM] Sending response &#39;client/registerCapability - (7)&#39;. Processing request took 1ms\nNo result returned.\n\n[Trace - 1:17:54 PM] Sending request &#39;shutdown - (1)&#39;.\n[Error - 1:17:55 PM] Connection to server got closed. Server will not be restarted.","body":"I did the clean but the problem still happens. In the output console for &quot;Language Support for Java (Syntax Server)&quot; there are these logs: [Trace - 1:17:37 PM] Sending response &#39;client/registerCapability - (7)&#39;. Processing request took 1ms No result returned.  [Trace - 1:17:54 PM] Sending request &#39;shutdown - (1)&#39;. [Error - 1:17:55 PM] Connection to server got closed. Server will not be restarted."},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1649297753,"post_id":71706754,"comment_id":126842220,"body_markdown":"Have you configured `&quot;java.jdt.ls.vmargs&quot;` in the settings.json? And could you try to comment out all the settings in the settings.json file and then reopen the VSCode?","body":"Have you configured <code>&quot;java.jdt.ls.vmargs&quot;</code> in the settings.json? And could you try to comment out all the settings in the settings.json file and then reopen the VSCode?"}],"answers":[{"comments":[{"owner":{"account_id":14664737,"reputation":333,"user_id":10590895,"display_name":"shin"},"score":0,"creation_date":1649320990,"post_id":71775619,"comment_id":126847463,"body_markdown":"Yes, I&#39;m using that Lombok extension. I&#39;ll give it a try, thank you. In case that&#39;s the problem, is there a way to keep using that extension without encountering this problem?","body":"Yes, I&#39;m using that Lombok extension. I&#39;ll give it a try, thank you. In case that&#39;s the problem, is there a way to keep using that extension without encountering this problem?"},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1649321167,"post_id":71775619,"comment_id":126847522,"body_markdown":"@antonio This is caused by some extensions, we only can pay attention to the configuration in the settings.json or remember to disable not related extensions when run across some weird problems.","body":"@antonio This is caused by some extensions, we only can pay attention to the configuration in the settings.json or remember to disable not related extensions when run across some weird problems."},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1649812864,"post_id":71775619,"comment_id":126968996,"body_markdown":"@antonio The problem has been solved?","body":"@antonio The problem has been solved?"},{"owner":{"account_id":14664737,"reputation":333,"user_id":10590895,"display_name":"shin"},"score":1,"creation_date":1649852336,"post_id":71775619,"comment_id":126979929,"body_markdown":"No, &quot;java.jdt.ls.vmargs&quot; doesn&#39;t seem to be the problem. I have uninstalled the lombok extension, deleted that setting from settings.json and cleaned java language server workspace. Like before, go to references worked for a while and then stopped working. Not to mention that I can&#39;t work without lombok support. It&#39;s really weird because this happens the same on multiple computers. I don&#39;t know if having more than one vscode instance open may be involved in the problem.","body":"No, &quot;java.jdt.ls.vmargs&quot; doesn&#39;t seem to be the problem. I have uninstalled the lombok extension, deleted that setting from settings.json and cleaned java language server workspace. Like before, go to references worked for a while and then stopped working. Not to mention that I can&#39;t work without lombok support. It&#39;s really weird because this happens the same on multiple computers. I don&#39;t know if having more than one vscode instance open may be involved in the problem."}],"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649298176,"creation_date":1649298176,"answer_id":71775619,"question_id":71706754,"body_markdown":"Have you installed the extension `Lombok Annotations Support for VS Code`? It can modify your `&quot;java.jdt.ls.vmargs&quot;` in the settings.json. Although you have uninstalled it, [this configuration will not be removed][1]. \r\n\r\nPlease check whether you have modified `&quot;java.jdt.ls.vmargs&quot;` in the settings.json. \r\n\r\nIf it still does not work please disable all the extensions and only enable the Java-related extensions, and clear the settings.json then to reopen the VSCode.\r\n\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/issues/112#issuecomment-659133813","title":"Visual Studio Code CTRL+Click with Java stops working after a while","body":"<p>Have you installed the extension <code>Lombok Annotations Support for VS Code</code>? It can modify your <code>&quot;java.jdt.ls.vmargs&quot;</code> in the settings.json. Although you have uninstalled it, <a href=\"https://github.com/redhat-developer/vscode-java/issues/112#issuecomment-659133813\" rel=\"nofollow noreferrer\">this configuration will not be removed</a>.</p>\n<p>Please check whether you have modified <code>&quot;java.jdt.ls.vmargs&quot;</code> in the settings.json.</p>\n<p>If it still does not work please disable all the extensions and only enable the Java-related extensions, and clear the settings.json then to reopen the VSCode.</p>\n"},{"comments":[{"owner":{"account_id":10483179,"reputation":1423,"user_id":7727575,"display_name":"S&#233;bastien Temprado"},"score":0,"creation_date":1693292860,"post_id":74197724,"comment_id":135737742,"body_markdown":"Setting JAVA_HOME wasn&#39;t enough for me.\nMy default JDK in vscode was java8 but java11 was required.\nI had to set \n`java.configuration.runtimes` in `settings.json`. Example here : https://stackoverflow.com/a/73146672/7727575","body":"Setting JAVA_HOME wasn&#39;t enough for me. My default JDK in vscode was java8 but java11 was required. I had to set  <code>java.configuration.runtimes</code> in <code>settings.json</code>. Example here : <a href=\"https://stackoverflow.com/a/73146672/7727575\">stackoverflow.com/a/73146672/7727575</a>"}],"tags":[],"owner":{"account_id":13327795,"reputation":41,"user_id":9620213,"display_name":"SmolRise"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666717153,"creation_date":1666717153,"answer_id":74197724,"question_id":71706754,"body_markdown":"I had the same problem in the past! So it was because VS Code can&#39;t use OpenJDK for its own work. More precisely, it works, but not all plugins work correctly. For VS Code you have to install Oracle JDK particular version and make configured JAVA_HOME environment variable as path to this Oracle JDK. After that you need to restart your VS Code. So, OracleJDK will be used only for VSCode, but if you need, inside your project you can use OpenJDK without any problems.","title":"Visual Studio Code CTRL+Click with Java stops working after a while","body":"<p>I had the same problem in the past! So it was because VS Code can't use OpenJDK for its own work. More precisely, it works, but not all plugins work correctly. For VS Code you have to install Oracle JDK particular version and make configured JAVA_HOME environment variable as path to this Oracle JDK. After that you need to restart your VS Code. So, OracleJDK will be used only for VSCode, but if you need, inside your project you can use OpenJDK without any problems.</p>\n"},{"tags":[],"owner":{"account_id":18822702,"reputation":365,"user_id":13728341,"display_name":"Kritarth Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677137485,"creation_date":1677137485,"answer_id":75541769,"question_id":71706754,"body_markdown":"[https://stackoverflow.com/questions/37341849/vscode-go-to-definition-not-working][1]\r\nI had a the same issue: F12 and Ctrl + Click and Right Click &quot;Go To Definition&quot; wasn&#39;t working. The fix for me was:\r\n\r\nGo to Extensions\r\nClick &quot;Disable All Installed Extensions&quot;\r\nClose and Reopen VS Code\r\nBack to Extensions and &quot;Enable All Extensions&quot;\r\nEssentially enable/disable all extensions fixed the issue.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37341849/vscode-go-to-definition-not-working","title":"Visual Studio Code CTRL+Click with Java stops working after a while","body":"<p><a href=\"https://stackoverflow.com/questions/37341849/vscode-go-to-definition-not-working\">VSCode &quot;go to definition&quot; not working</a>\nI had a the same issue: F12 and Ctrl + Click and Right Click &quot;Go To Definition&quot; wasn't working. The fix for me was:</p>\n<p>Go to Extensions\nClick &quot;Disable All Installed Extensions&quot;\nClose and Reopen VS Code\nBack to Extensions and &quot;Enable All Extensions&quot;\nEssentially enable/disable all extensions fixed the issue.</p>\n"}],"owner":{"account_id":14664737,"reputation":333,"user_id":10590895,"display_name":"shin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3999,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1677137485,"creation_date":1648815133,"question_id":71706754,"body_markdown":"For some reason after having a Java project open for more than 20 minutes, maybe a little more, the CTRL+Click shortcut to inspect classes/methods stops working. When clicking it only appears a loading indicator on the tabs section that keeps going forever without actually loading anything.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnother problem is that when hovering on a method it will stay on &quot;Loading...&quot; forever.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ajgpG.png\r\n  [2]: https://i.stack.imgur.com/Wbd1E.jpg\r\n\r\nStrangely enough IntelliSense keeps working, so it will still give suggestions while writing.\r\n\r\nI am using &quot;Extension Pack for Java&quot; latest version and latest version of VSCode. I am also using JavaSE-11.\r\n\r\nEdit: maybe it&#39;s worth pointing out that I&#39;m encountering this problem on a Spring Boot project.","title":"Visual Studio Code CTRL+Click with Java stops working after a while","body":"<p>For some reason after having a Java project open for more than 20 minutes, maybe a little more, the CTRL+Click shortcut to inspect classes/methods stops working. When clicking it only appears a loading indicator on the tabs section that keeps going forever without actually loading anything.</p>\n<p><a href=\"https://i.stack.imgur.com/ajgpG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ajgpG.png\" alt=\"enter image description here\" /></a></p>\n<p>Another problem is that when hovering on a method it will stay on &quot;Loading...&quot; forever.</p>\n<p><a href=\"https://i.stack.imgur.com/Wbd1E.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wbd1E.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Strangely enough IntelliSense keeps working, so it will still give suggestions while writing.</p>\n<p>I am using &quot;Extension Pack for Java&quot; latest version and latest version of VSCode. I am also using JavaSE-11.</p>\n<p>Edit: maybe it's worth pointing out that I'm encountering this problem on a Spring Boot project.</p>\n"},{"tags":["java","spring","spring-boot","docker"],"comments":[{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1677091643,"post_id":75536727,"comment_id":133271037,"body_markdown":"Inside docker network you have to use the maria_db docker port (3306). If you wish to maintain the config separately use application-docker.properties and configure your docker port and url(maria_db:3306) there.","body":"Inside docker network you have to use the maria_db docker port (3306). If you wish to maintain the config separately use application-docker.properties and configure your docker port and url(maria_db:3306) there."},{"owner":{"account_id":13664659,"reputation":5,"user_id":9858852,"display_name":"MilanJ"},"score":0,"creation_date":1677096108,"post_id":75536727,"comment_id":133272251,"body_markdown":"@mallikarjun Thank you for the comment. I have tried that, but it throws the same exception...","body":"@mallikarjun Thank you for the comment. I have tried that, but it throws the same exception..."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1677112720,"post_id":75536727,"comment_id":133275862,"body_markdown":"You&#39;re trying to `RUN` the application as part of the image build.  This is the wrong point in time.  Mechanically, the image build doesn&#39;t run on the Compose network, and that&#39;s why you&#39;re getting that specific error.  Change this to the `CMD` the container will run when it starts up.","body":"You&#39;re trying to <code>RUN</code> the application as part of the image build.  This is the wrong point in time.  Mechanically, the image build doesn&#39;t run on the Compose network, and that&#39;s why you&#39;re getting that specific error.  Change this to the <code>CMD</code> the container will run when it starts up."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1677112841,"post_id":75536727,"comment_id":133275878,"body_markdown":"(Also see [Difference between RUN and CMD in a Dockerfile](https://stackoverflow.com/questions/37461868/difference-between-run-and-cmd-in-a-dockerfile).)","body":"(Also see <a href=\"https://stackoverflow.com/questions/37461868/difference-between-run-and-cmd-in-a-dockerfile\">Difference between RUN and CMD in a Dockerfile</a>.)"}],"answers":[{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677137098,"creation_date":1677137098,"answer_id":75541715,"question_id":75536727,"body_markdown":"You may need to add `networks` property, try this:\r\n\r\n```\r\nversion: &quot;3.7&quot;\r\nservices:\r\n  api_service:\r\n    build: .\r\n    restart: always\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - maria_db\r\n    networks:\r\n      - docker-net\r\n  maria_db:\r\n    image: &quot;mariadb:10.5.8&quot;\r\n    restart: always\r\n    ports:\r\n      - &quot;10000:3306&quot;\r\n    networks:\r\n      - docker-net\r\n    environment:\r\n      MYSQL_DATABASE: app_db\r\n      MYSQL_USER: exampleuser\r\n      MYSQL_PASSWORD: examplepass\r\n      MYSQL_ROOT_PASSWORD: examplepass\r\n\r\nnetworks:\r\n  docker-net:\r\n    driver: bridge\r\n```","title":"My Spring Boot application container won&#39;t connect to another docker container using it&#39;s name in the URL","body":"<p>You may need to add <code>networks</code> property, try this:</p>\n<pre><code>version: &quot;3.7&quot;\nservices:\n  api_service:\n    build: .\n    restart: always\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - maria_db\n    networks:\n      - docker-net\n  maria_db:\n    image: &quot;mariadb:10.5.8&quot;\n    restart: always\n    ports:\n      - &quot;10000:3306&quot;\n    networks:\n      - docker-net\n    environment:\n      MYSQL_DATABASE: app_db\n      MYSQL_USER: exampleuser\n      MYSQL_PASSWORD: examplepass\n      MYSQL_ROOT_PASSWORD: examplepass\n\nnetworks:\n  docker-net:\n    driver: bridge\n</code></pre>\n"}],"owner":{"account_id":13664659,"reputation":5,"user_id":9858852,"display_name":"MilanJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677137098,"creation_date":1677090148,"question_id":75536727,"body_markdown":"I have a Spring Boot application which connects to a MariaDB database. I am trying to run docker-compose for those two services but I get the following error:\r\n```\r\njava.sql.SQLNonTransientConnectionException: Socket fail to connect to host:address=(host=maria_db)(port=10000)\r\n(type=primary). maria_db\r\n...\r\nCaused by: java.net.UnknownHostException: maria_db\r\n```\r\nHere is my docker-compose.yml file:\r\n```\r\nversion: &quot;3.7&quot;\r\nservices:\r\n  api_service:\r\n    build: .\r\n    restart: always\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - maria_db\r\n  maria_db:\r\n    image: &quot;mariadb:10.5.8&quot;\r\n    restart: always\r\n    ports:\r\n      - &quot;10000:3306&quot;\r\n    environment:\r\n      MYSQL_DATABASE: app_db\r\n      MYSQL_USER: exampleuser\r\n      MYSQL_PASSWORD: examplepass\r\n      MYSQL_ROOT_PASSWORD: examplepass\r\n\r\n```\r\nHere is my Dockerfile for the Spring app:\r\n```\r\nFROM openjdk:17-oracle\r\nCOPY target/app-0.0.1.jar app-0.0.1.jar\r\nRUN [&quot;java&quot;,&quot;-jar&quot;,&quot;/app-0.0.1.jar&quot;]\r\n```\r\nHere is my application.properties file:\r\n```\r\nspring.datasource.url=jdbc:mariadb://maria_db:10000/app_db\r\nspring.datasource.username=exampleuser\r\nspring.datasource.password=examplepass\r\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspringdoc.api-docs.path = /javainuse-openapi\r\n\r\n```\r\n\r\nI am new to docker, but every resource on the topic I have found so far seems to suggest this setup. What am I doing wrong?\r\n\r\nI am using:\r\n\r\n - Spring Boot 3.0.2,\r\n - Java 17,\r\n - Docker Engine v20.10.22 (Docker Windows)\r\n","title":"My Spring Boot application container won&#39;t connect to another docker container using it&#39;s name in the URL","body":"<p>I have a Spring Boot application which connects to a MariaDB database. I am trying to run docker-compose for those two services but I get the following error:</p>\n<pre><code>java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:address=(host=maria_db)(port=10000)\n(type=primary). maria_db\n...\nCaused by: java.net.UnknownHostException: maria_db\n</code></pre>\n<p>Here is my docker-compose.yml file:</p>\n<pre><code>version: &quot;3.7&quot;\nservices:\n  api_service:\n    build: .\n    restart: always\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - maria_db\n  maria_db:\n    image: &quot;mariadb:10.5.8&quot;\n    restart: always\n    ports:\n      - &quot;10000:3306&quot;\n    environment:\n      MYSQL_DATABASE: app_db\n      MYSQL_USER: exampleuser\n      MYSQL_PASSWORD: examplepass\n      MYSQL_ROOT_PASSWORD: examplepass\n\n</code></pre>\n<p>Here is my Dockerfile for the Spring app:</p>\n<pre><code>FROM openjdk:17-oracle\nCOPY target/app-0.0.1.jar app-0.0.1.jar\nRUN [&quot;java&quot;,&quot;-jar&quot;,&quot;/app-0.0.1.jar&quot;]\n</code></pre>\n<p>Here is my application.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:mariadb://maria_db:10000/app_db\nspring.datasource.username=exampleuser\nspring.datasource.password=examplepass\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspringdoc.api-docs.path = /javainuse-openapi\n\n</code></pre>\n<p>I am new to docker, but every resource on the topic I have found so far seems to suggest this setup. What am I doing wrong?</p>\n<p>I am using:</p>\n<ul>\n<li>Spring Boot 3.0.2,</li>\n<li>Java 17,</li>\n<li>Docker Engine v20.10.22 (Docker Windows)</li>\n</ul>\n"},{"tags":["java","spring","azure","oauth-2.0","nimbus"],"answers":[{"comments":[{"owner":{"account_id":7279219,"reputation":211,"user_id":5549520,"accept_rate":100,"display_name":"Turik Mirash"},"score":0,"creation_date":1677147450,"post_id":75541678,"comment_id":133281842,"body_markdown":"I did the same, and I added the scope in my yaml file where I configure azure oauth2 , but I still get the access token with a nonce.","body":"I did the same, and I added the scope in my yaml file where I configure azure oauth2 , but I still get the access token with a nonce."},{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1677147530,"post_id":75541678,"comment_id":133281868,"body_markdown":"What you got in in `scp` claim after changing scope?","body":"What you got in in <code>scp</code> claim after changing scope?"},{"owner":{"account_id":7279219,"reputation":211,"user_id":5549520,"accept_rate":100,"display_name":"Turik Mirash"},"score":0,"creation_date":1677148009,"post_id":75541678,"comment_id":133282019,"body_markdown":"I don&#39;t get the custom scope in `scp`, I only see the GraphAPI ones there","body":"I don&#39;t get the custom scope in <code>scp</code>, I only see the GraphAPI ones there"},{"owner":{"account_id":7279219,"reputation":211,"user_id":5549520,"accept_rate":100,"display_name":"Turik Mirash"},"score":0,"creation_date":1677148017,"post_id":75541678,"comment_id":133282021,"body_markdown":"Can&#39;t figure out why","body":"Can&#39;t figure out why"},{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1677148191,"post_id":75541678,"comment_id":133282067,"body_markdown":"Could you try removing Microsoft Graph API scopes and include only custom scope like this `api://&lt;appID&gt;/.default`?","body":"Could you try removing Microsoft Graph API scopes and include only custom scope like this <code>api:&#47;&#47;&lt;appID&gt;&#47;.default</code>?"},{"owner":{"account_id":7279219,"reputation":211,"user_id":5549520,"accept_rate":100,"display_name":"Turik Mirash"},"score":0,"creation_date":1677148346,"post_id":75541678,"comment_id":133282115,"body_markdown":"Is `.default` where my custom scope should go?","body":"Is <code>.default</code> where my custom scope should go?"},{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1677148518,"post_id":75541678,"comment_id":133282162,"body_markdown":"You can try both. For now, try giving the same `api://&lt;appID&gt;/.default`","body":"You can try both. For now, try giving the same <code>api:&#47;&#47;&lt;appID&gt;&#47;.default</code>"},{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1677148668,"post_id":75541678,"comment_id":133282192,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/252079/discussion-between-sridevi-and-turik-mirash).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/252079/discussion-between-sridevi-and-turik-mirash\">continue this discussion in chat</a>."},{"owner":{"account_id":7279219,"reputation":211,"user_id":5549520,"accept_rate":100,"display_name":"Turik Mirash"},"score":1,"creation_date":1677656834,"post_id":75541678,"comment_id":133378918,"body_markdown":"It worked after I specified the custom scope under `cloud.azure.active-directory.authorization-clients.graph.scopes`","body":"It worked after I specified the custom scope under <code>cloud.azure.active-directory.authorization-clients.graph.sco&zwnj;&#8203;pes</code>"}],"tags":[],"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677136898,"creation_date":1677136898,"answer_id":75541678,"question_id":75535497,"body_markdown":"&gt; Note that, if you validate access token generated with **Microsoft\r\n&gt; Graph** APIs as scope, you will get &quot;Invalid Signature&quot; error as it\r\n&gt; has **`nonce`** claim\r\n&gt; \r\n***I tried to reproduce the same in my environment and got below results:***\r\n\r\nI registered one Azure AD application and added **Microsoft** Graph `API permissions` as below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/48xbo.png)\r\n\r\nNow I generated **access token** and **id token** using authorization code flow via Postman with below parameters:\r\n\r\n```http\r\nPOST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\r\nclient_id:&lt;appID&gt;\r\ngrant_type:authorization_code\r\nscope: https://graph.microsoft.com/User.Read openid\r\ncode:code\r\nredirect_uri: https://jwt.ms\r\nclient_secret: &lt;secret&gt;\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/ZNEJh.png)\r\n\r\nWhen I decoded the above access token in [jwt.io](https://jwt.io/) website, I too got **Invalid Signature** error as it has **`nonce`** claim like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/bBK2b.png)\r\n![enter image description here](https://i.stack.imgur.com/NrTon.png)\r\n\r\nTo get access token without nonce claim, change **`scope`** value to **custom API** instead of Microsoft APIs.\r\n\r\nI added Application ID URI and new scope named **`Custom.Read`** by selecting **Expose an API** in my application like this:\r\n\r\n![enter image description here](https://i.stack.imgur.com/9kyn9.png)\r\n\r\nYou can find above scope in **My APIs** of your application with same name like this:\r\n\r\n![enter image description here](https://i.stack.imgur.com/YgliU.png)\r\n\r\nNow, add that scope in **API permissions** of your application like this:\r\n\r\n![enter image description here](https://i.stack.imgur.com/wa3NE.png)\r\n\r\nMake sure to grant **admin consent** to the added permission like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/FZ3NX.png)\r\n\r\nTo get **code**, I ran below authorization request in browser like this:\r\n```\r\nhttps://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/authorize\r\n?client_id= &lt;appID&gt;\r\n&amp;response_type=code\r\n&amp;redirect_uri= https://jwt.ms\r\n&amp;response_mode=query\r\n&amp;scope=api://&lt;appID&gt;/.default\r\n&amp;state=12345\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/tq5Jr.png)\r\n\r\nNow, I generated access token by changing scope to **custom API** using authorization code flow via Postman like below:\r\n\r\n```http\r\nPOST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\r\nclient_id:&lt;appID&gt;\r\ngrant_type:authorization_code\r\nscope: api://&lt;appID&gt;/Custom.Read openid\r\ncode:code\r\nredirect_uri: https://jwt.ms\r\nclient_secret: &lt;secret&gt;\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/ul0bv.png)\r\n\r\nWhen I decoded the above access token in [jwt.io](https://jwt.io/) website, it does not have **`nonce`** claim and signature **verified** successfully like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/OwLT2.png)\r\n![enter image description here](https://i.stack.imgur.com/svdL8.png)","title":"Azure OAuth2: can&#39;t validate access token","body":"<blockquote>\n<p>Note that, if you validate access token generated with <strong>Microsoft\nGraph</strong> APIs as scope, you will get &quot;Invalid Signature&quot; error as it\nhas <strong><code>nonce</code></strong> claim</p>\n</blockquote>\n<p><em><strong>I tried to reproduce the same in my environment and got below results:</strong></em></p>\n<p>I registered one Azure AD application and added <strong>Microsoft</strong> Graph <code>API permissions</code> as below:</p>\n<p><img src=\"https://i.stack.imgur.com/48xbo.png\" alt=\"enter image description here\" /></p>\n<p>Now I generated <strong>access token</strong> and <strong>id token</strong> using authorization code flow via Postman with below parameters:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\nclient_id:&lt;appID&gt;\ngrant_type:authorization_code\nscope: https://graph.microsoft.com/User.Read openid\ncode:code\nredirect_uri: https://jwt.ms\nclient_secret: &lt;secret&gt;\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/ZNEJh.png\" alt=\"enter image description here\" /></p>\n<p>When I decoded the above access token in <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> website, I too got <strong>Invalid Signature</strong> error as it has <strong><code>nonce</code></strong> claim like below:</p>\n<p><img src=\"https://i.stack.imgur.com/bBK2b.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/NrTon.png\" alt=\"enter image description here\" /></p>\n<p>To get access token without nonce claim, change <strong><code>scope</code></strong> value to <strong>custom API</strong> instead of Microsoft APIs.</p>\n<p>I added Application ID URI and new scope named <strong><code>Custom.Read</code></strong> by selecting <strong>Expose an API</strong> in my application like this:</p>\n<p><img src=\"https://i.stack.imgur.com/9kyn9.png\" alt=\"enter image description here\" /></p>\n<p>You can find above scope in <strong>My APIs</strong> of your application with same name like this:</p>\n<p><img src=\"https://i.stack.imgur.com/YgliU.png\" alt=\"enter image description here\" /></p>\n<p>Now, add that scope in <strong>API permissions</strong> of your application like this:</p>\n<p><img src=\"https://i.stack.imgur.com/wa3NE.png\" alt=\"enter image description here\" /></p>\n<p>Make sure to grant <strong>admin consent</strong> to the added permission like below:</p>\n<p><img src=\"https://i.stack.imgur.com/FZ3NX.png\" alt=\"enter image description here\" /></p>\n<p>To get <strong>code</strong>, I ran below authorization request in browser like this:</p>\n<pre><code>https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/authorize\n?client_id= &lt;appID&gt;\n&amp;response_type=code\n&amp;redirect_uri= https://jwt.ms\n&amp;response_mode=query\n&amp;scope=api://&lt;appID&gt;/.default\n&amp;state=12345\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/tq5Jr.png\" alt=\"enter image description here\" /></p>\n<p>Now, I generated access token by changing scope to <strong>custom API</strong> using authorization code flow via Postman like below:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\nclient_id:&lt;appID&gt;\ngrant_type:authorization_code\nscope: api://&lt;appID&gt;/Custom.Read openid\ncode:code\nredirect_uri: https://jwt.ms\nclient_secret: &lt;secret&gt;\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/ul0bv.png\" alt=\"enter image description here\" /></p>\n<p>When I decoded the above access token in <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> website, it does not have <strong><code>nonce</code></strong> claim and signature <strong>verified</strong> successfully like below:</p>\n<p><img src=\"https://i.stack.imgur.com/OwLT2.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/svdL8.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":7279219,"reputation":211,"user_id":5549520,"accept_rate":100,"display_name":"Turik Mirash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75541678,"answer_count":1,"score":0,"last_activity_date":1677136898,"creation_date":1677082919,"question_id":75535497,"body_markdown":"I am trying to validate the access token provided by Azure OAuth2. I am using nimbus to validate the token, however I keep getting the &quot;invalid signature&quot; error. \r\n\r\nI read on some pages that if the access token contains a nonce, then I won&#39;t be able to validate it since it&#39;s meant to be used internally by Microsoft only. \r\nI followed the instructions on this page (https://authguidance.com/azure-ad-troubleshooting/) to get the acecss token without a nonce, but it doesn&#39;t work. \r\n\r\nI can see that the ID token doesn&#39;t contain a nonce, but the access token does. \r\n\r\nDoes anyone know how I can get an access token (withouth a nonce) that I can validate using nimbus? ","title":"Azure OAuth2: can&#39;t validate access token","body":"<p>I am trying to validate the access token provided by Azure OAuth2. I am using nimbus to validate the token, however I keep getting the &quot;invalid signature&quot; error.</p>\n<p>I read on some pages that if the access token contains a nonce, then I won't be able to validate it since it's meant to be used internally by Microsoft only.\nI followed the instructions on this page (<a href=\"https://authguidance.com/azure-ad-troubleshooting/\" rel=\"nofollow noreferrer\">https://authguidance.com/azure-ad-troubleshooting/</a>) to get the acecss token without a nonce, but it doesn't work.</p>\n<p>I can see that the ID token doesn't contain a nonce, but the access token does.</p>\n<p>Does anyone know how I can get an access token (withouth a nonce) that I can validate using nimbus?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1677134765,"post_id":75540471,"comment_id":133278693,"body_markdown":"do You need this disc save for any reason ? if not try saving file to database without saving it to disc","body":"do You need this disc save for any reason ? if not try saving file to database without saving it to disc"}],"owner":{"account_id":27663207,"reputation":5,"user_id":21115931,"display_name":"david_23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677136325,"creation_date":1677125196,"question_id":75540471,"body_markdown":"I developed an endpoint for importing the CSV file and inserting data to a database that details included in the CSV file.\r\nFor importing CSV, I used the multipart file method, and the importing file will be saved to the folder.\r\nI want to know how I delete the file after saving data to the database. \r\n\r\nBellow code I used to a multipart file saved to a directory.\r\n\r\nBellow code I used to a multipart file saved to a directory.\r\n\r\n    String fileName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\r\n    fileUploadUtil.saveFiles(fileName ,multipartFile, folderCreatePath + experimentDirectory);\r\n    String path = folderCreatePath + experimentDirectory + fileName;\r\n\r\nThis code is used to read the CSV file \r\n\r\n    List&lt;CsvUser&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    BufferedReader lineReader = new BufferedReader(new FileReader(path));\r\n\r\nMy question is, after I save the file details to the database I want to delete the file from the directory?\r\nHow do I delete that after getting the API status code:200 \r\n\r\n","title":"How to delete imported file after get status:200 successful message","body":"<p>I developed an endpoint for importing the CSV file and inserting data to a database that details included in the CSV file.\nFor importing CSV, I used the multipart file method, and the importing file will be saved to the folder.\nI want to know how I delete the file after saving data to the database.</p>\n<p>Bellow code I used to a multipart file saved to a directory.</p>\n<p>Bellow code I used to a multipart file saved to a directory.</p>\n<pre><code>String fileName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\nfileUploadUtil.saveFiles(fileName ,multipartFile, folderCreatePath + experimentDirectory);\nString path = folderCreatePath + experimentDirectory + fileName;\n</code></pre>\n<p>This code is used to read the CSV file</p>\n<pre><code>List&lt;CsvUser&gt; users = new ArrayList&lt;&gt;();\n\nBufferedReader lineReader = new BufferedReader(new FileReader(path));\n</code></pre>\n<p>My question is, after I save the file details to the database I want to delete the file from the directory?\nHow do I delete that after getting the API status code:200</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677088233,"post_id":75536225,"comment_id":133270125,"body_markdown":"You&#39;re not supposed to explain the whole problem in the title, but give a short summary for people to get *an idea* what kind of problem your question is about ... For example you basically want to know how to fix your ArrayIndexOutOfBoundsException so something like &quot;ArrayIndexOutOfBoundsException while looking for specific number in array&quot; would work ...","body":"You&#39;re not supposed to explain the whole problem in the title, but give a short summary for people to get <i>an idea</i> what kind of problem your question is about ... For example you basically want to know how to fix your ArrayIndexOutOfBoundsException so something like &quot;ArrayIndexOutOfBoundsException while looking for specific number in array&quot; would work ..."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1677099383,"post_id":75536225,"comment_id":133273165,"body_markdown":"You said &quot;in the previous example `i` was equal to `n` . both of them are 9.&quot;  \n\nNo it&#39;s not.  `n` is equal to 4.  It&#39;s always equal to 4.  Do you mean `height[i]  == 9` when `i` == `n`?","body":"You said &quot;in the previous example <code>i</code> was equal to <code>n</code> . both of them are 9.&quot;    No it&#39;s not.  <code>n</code> is equal to 4.  It&#39;s always equal to 4.  Do you mean <code>height[i]  == 9</code> when <code>i</code> == <code>n</code>?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1677102220,"post_id":75536225,"comment_id":133273929,"body_markdown":"Please explain how the first and last examples yield the the shown outputs.","body":"Please explain how the first and last examples yield the the shown outputs."},{"owner":{"account_id":27811666,"reputation":1,"user_id":21233942,"display_name":"Linda"},"score":0,"creation_date":1677134875,"post_id":75536225,"comment_id":133278713,"body_markdown":"yes yes you are right i made a mistake there the true form was &quot;i equals n equals 4&quot; i just edited that. thanks for mentioning it","body":"yes yes you are right i made a mistake there the true form was &quot;i equals n equals 4&quot; i just edited that. thanks for mentioning it"}],"answers":[{"comments":[{"owner":{"account_id":27811666,"reputation":1,"user_id":21233942,"display_name":"Linda"},"score":0,"creation_date":1677088947,"post_id":75536440,"comment_id":133270330,"body_markdown":"thanks i eliminated &quot;=&quot; and it does not give me that error but now it gives me the wrong answer that i have no idea why now i update my code above","body":"thanks i eliminated &quot;=&quot; and it does not give me that error but now it gives me the wrong answer that i have no idea why now i update my code above"}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677088408,"creation_date":1677088408,"answer_id":75536440,"question_id":75536225,"body_markdown":"Your last loop starts like this:\r\n\r\n    for ( int k = i ; k &lt;=n ; k++){\r\n\r\nThis will loop up to **an including** the value `n` (3 in the case that you mention). An array of 3 elements **does not have an index 3**, the valid indices are 0, 1 and 2.\r\n\r\nNote how your first two loops use `i &lt; n` as the end condition? That&#39;s the correct way, because you have to stop when executing the loop body when you reach `n`.","title":"in java check if in a array there is a number which is greater than every numbers before it and smaller than all after it, the numbers are in order","body":"<p>Your last loop starts like this:</p>\n<pre><code>for ( int k = i ; k &lt;=n ; k++){\n</code></pre>\n<p>This will loop up to <strong>an including</strong> the value <code>n</code> (3 in the case that you mention). An array of 3 elements <strong>does not have an index 3</strong>, the valid indices are 0, 1 and 2.</p>\n<p>Note how your first two loops use <code>i &lt; n</code> as the end condition? That's the correct way, because you have to stop when executing the loop body when you reach <code>n</code>.</p>\n"}],"owner":{"account_id":27811666,"reputation":1,"user_id":21233942,"display_name":"Linda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677136106,"creation_date":1677086972,"question_id":75536225,"body_markdown":"First i wanted to apologize if i could not say all the details in the title because the number of characters i needed to express my problem were beyond the limited range.\r\n here you can see the details:\r\n\r\nI want to write a program in java that first gets the integer  n and then gets n integer numbers ( x1,x2, …,xn) and in the output tells if any i exists such that : (i can be equal to n)\r\n X1&lt;=x2&lt;=x3&lt;=…&lt;= xi &gt; …&gt; xn     or    X1=&gt;x2&gt;=x3&gt;=…&gt;= xi &lt; …&lt; xn     \r\nFor example:\r\n```\r\nInput:\r\n5\r\n1 \r\n2 \r\n5\r\n3\r\n1 \r\nOutput:\r\nYes\r\n```\r\nabove n is equal to 5 which is the first number and the next 5 numbers are elements of the array. in this example the following condition is met :\r\nx1 &lt; x2 &lt; x3 &gt; x4 &gt; x5 because 1 &lt; 2 &lt; 5 &gt; 3 &gt; 1 and it is obvious that i is 3 \r\n```\r\nInput:\r\n4\r\n1\r\n2\r\n5\r\n9\r\nOutput:\r\nYes\r\n```\r\nin the previous example i was equal to n . both of them are 4. and\r\n\r\nx1 &lt; x2 &lt; x3 &lt;x4 \r\n```\r\nInput:\r\n7\r\n1\r\n8\r\n5\r\n6\r\n7\r\n2\r\n6 \r\noutput:\r\nNo\r\n```                                         \r\n here n is 7 but the conditions ( X1&lt;=x2&lt;=x3&lt;=…&lt;= xi &gt; …&gt; xn     or    X1=&gt;x2&gt;=x3&gt;=…&gt;= xi &lt; …&lt; xn) are not met  because: 1 &lt; 8 &gt; 5 &lt; 6 &lt; 7 &gt; 2 &lt; 6                                            \r\nso the output must be No\r\n\r\nthe following code is what i expected to work but i  do not get the right answer ( it keeps showing No in the output even when it should be showing Yes)\r\n\r\n```\r\n import java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner  input = new Scanner(System.in);\r\n\r\n        System.out.println(&quot; enter n &quot;);\r\n\r\n        byte n = input.nextByte();\r\n\r\n        boolean isConditionMet = true;\r\n\r\n        int[] heights = new int[n];\r\n\r\n        System.out.println(&quot;enter elements of your array &quot;);\r\n\r\n        for (int i = 0 ; i &lt; n ; i++){\r\n\r\n            heights[i] = input.nextInt();\r\n        }\r\n\r\n        for (int i = 0 ; i &lt; n ; i++){\r\n\r\n            for ( int j = 1 ; j &lt;= i ; j++){\r\n\r\n                if ( heights[j-1] &lt;= heights[j]) {\r\n\r\n                    for (int k = i; k &lt; n; k++) {\r\n\r\n\r\n                        if (heights[k - 1] &gt; heights[k]) {\r\n\r\n                            isConditionMet = true;\r\n                        } else {\r\n\r\n                            isConditionMet = false;\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n                else {\r\n\r\n                    for ( int k = i ; k &lt;n ; k++){\r\n\r\n                        if ( heights[k-1] &lt; heights[k] ){\r\n\r\n                            isConditionMet = true;\r\n                        }\r\n\r\n                        else {\r\n\r\n                            isConditionMet = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if ( isConditionMet ){\r\n\r\n            System.out.println(&quot;Yes&quot;);\r\n        }\r\n\r\n        else{\r\n\r\n            System.out.println(&quot;No&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"in java check if in a array there is a number which is greater than every numbers before it and smaller than all after it, the numbers are in order","body":"<p>First i wanted to apologize if i could not say all the details in the title because the number of characters i needed to express my problem were beyond the limited range.\nhere you can see the details:</p>\n<p>I want to write a program in java that first gets the integer  n and then gets n integer numbers ( x1,x2, …,xn) and in the output tells if any i exists such that : (i can be equal to n)\nX1&lt;=x2&lt;=x3&lt;=…&lt;= xi &gt; …&gt; xn     or    X1=&gt;x2&gt;=x3&gt;=…&gt;= xi &lt; …&lt; xn<br />\nFor example:</p>\n<pre><code>Input:\n5\n1 \n2 \n5\n3\n1 \nOutput:\nYes\n</code></pre>\n<p>above n is equal to 5 which is the first number and the next 5 numbers are elements of the array. in this example the following condition is met :\nx1 &lt; x2 &lt; x3 &gt; x4 &gt; x5 because 1 &lt; 2 &lt; 5 &gt; 3 &gt; 1 and it is obvious that i is 3</p>\n<pre><code>Input:\n4\n1\n2\n5\n9\nOutput:\nYes\n</code></pre>\n<p>in the previous example i was equal to n . both of them are 4. and</p>\n<p>x1 &lt; x2 &lt; x3 &lt;x4</p>\n<pre><code>Input:\n7\n1\n8\n5\n6\n7\n2\n6 \noutput:\nNo\n</code></pre>\n<p>here n is 7 but the conditions ( X1&lt;=x2&lt;=x3&lt;=…&lt;= xi &gt; …&gt; xn     or    X1=&gt;x2&gt;=x3&gt;=…&gt;= xi &lt; …&lt; xn) are not met  because: 1 &lt; 8 &gt; 5 &lt; 6 &lt; 7 &gt; 2 &lt; 6<br />\nso the output must be No</p>\n<p>the following code is what i expected to work but i  do not get the right answer ( it keeps showing No in the output even when it should be showing Yes)</p>\n<pre><code> import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Scanner  input = new Scanner(System.in);\n\n        System.out.println(&quot; enter n &quot;);\n\n        byte n = input.nextByte();\n\n        boolean isConditionMet = true;\n\n        int[] heights = new int[n];\n\n        System.out.println(&quot;enter elements of your array &quot;);\n\n        for (int i = 0 ; i &lt; n ; i++){\n\n            heights[i] = input.nextInt();\n        }\n\n        for (int i = 0 ; i &lt; n ; i++){\n\n            for ( int j = 1 ; j &lt;= i ; j++){\n\n                if ( heights[j-1] &lt;= heights[j]) {\n\n                    for (int k = i; k &lt; n; k++) {\n\n\n                        if (heights[k - 1] &gt; heights[k]) {\n\n                            isConditionMet = true;\n                        } else {\n\n                            isConditionMet = false;\n                        }\n\n                    }\n                }\n\n                else {\n\n                    for ( int k = i ; k &lt;n ; k++){\n\n                        if ( heights[k-1] &lt; heights[k] ){\n\n                            isConditionMet = true;\n                        }\n\n                        else {\n\n                            isConditionMet = false;\n                        }\n                    }\n                }\n            }\n        }\n\n        if ( isConditionMet ){\n\n            System.out.println(&quot;Yes&quot;);\n        }\n\n        else{\n\n            System.out.println(&quot;No&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","amazon-s3","sdk","minio"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655279942,"post_id":72626422,"comment_id":128292305,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72626422/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18718450,"reputation":175,"user_id":13646924,"display_name":"TaeXtreme"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1655307793,"creation_date":1655272066,"answer_id":72626422,"question_id":72611255,"body_markdown":"After digging through MinIO Java SDK for a while. I found that if you call statObject function in the minioClient, it will only be successful when object exist in the bucket. And throw an ErrorResponseException when object doesn&#39;t exist.\r\n\r\nSo I came up with this function.\r\n```\r\npublic boolean isObjectExist(String name) {\r\n        try {\r\n            minioClient.statObject(StatObjectArgs.builder()\r\n                    .bucket(defaultBucketName)\r\n                    .object(name).build());\r\n            return true;\r\n        } catch (ErrorResponseException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e.getMessage());\r\n        }\r\n    }\r\n```","title":"How to check if object exist in MinIO bucket using MinIO Java SDK?","body":"<p>After digging through MinIO Java SDK for a while. I found that if you call statObject function in the minioClient, it will only be successful when object exist in the bucket. And throw an ErrorResponseException when object doesn't exist.</p>\n<p>So I came up with this function.</p>\n<pre><code>public boolean isObjectExist(String name) {\n        try {\n            minioClient.statObject(StatObjectArgs.builder()\n                    .bucket(defaultBucketName)\n                    .object(name).build());\n            return true;\n        } catch (ErrorResponseException e) {\n            e.printStackTrace();\n            return false;\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new RuntimeException(e.getMessage());\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14008994,"reputation":1841,"user_id":10118222,"display_name":"Aamir Kalimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677135567,"creation_date":1677135567,"answer_id":75541515,"question_id":72611255,"body_markdown":"In Javascript and Node js I have did the following \r\n\r\n    exports.isObjectExistInMinio = async(bucketName, fileName)=&gt; {\r\n        try {\r\n            await Minio.minioClient.statObject(bucketName, fileName);\r\n            return true;\r\n        } catch (error) {\r\n            console.error(error);\r\n            return false;\r\n        }\r\n    }","title":"How to check if object exist in MinIO bucket using MinIO Java SDK?","body":"<p>In Javascript and Node js I have did the following</p>\n<pre><code>exports.isObjectExistInMinio = async(bucketName, fileName)=&gt; {\n    try {\n        await Minio.minioClient.statObject(bucketName, fileName);\n        return true;\n    } catch (error) {\n        console.error(error);\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18718450,"reputation":175,"user_id":13646924,"display_name":"TaeXtreme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7918,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72626422,"answer_count":2,"score":2,"last_activity_date":1677135567,"creation_date":1655177960,"question_id":72611255,"body_markdown":"I currently working on a Spring web app with MinIO object storage. And i need to implement a function that check if upload file is successfully upload or not or check if the file exist in the bucket.\r\n\r\nAnd from my research every information I found are outdated and cannot be use with latest MinIO Java SDK. That why I decide to ask this question here.","title":"How to check if object exist in MinIO bucket using MinIO Java SDK?","body":"<p>I currently working on a Spring web app with MinIO object storage. And i need to implement a function that check if upload file is successfully upload or not or check if the file exist in the bucket.</p>\n<p>And from my research every information I found are outdated and cannot be use with latest MinIO Java SDK. That why I decide to ask this question here.</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":1,"creation_date":1677134799,"post_id":75541286,"comment_id":133278701,"body_markdown":"Sounds like `LocalDate` would be more appropriate type for you.","body":"Sounds like <code>LocalDate</code> would be more appropriate type for you."},{"owner":{"account_id":17121303,"reputation":3,"user_id":12389449,"display_name":"Quốc Kiệt"},"score":0,"creation_date":1677137311,"post_id":75541286,"comment_id":133279216,"body_markdown":"LocalDate is ok, but I has been using type Date, and too much to change this type.","body":"LocalDate is ok, but I has been using type Date, and too much to change this type."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1677137406,"post_id":75541286,"comment_id":133279230,"body_markdown":"Well, switching from an old problematic construct like `java.util.Date` to a newer and more robust like `java.time.LocalDate` shouldn&#39;t be too much effort in the long run as you&#39;ll save yourself a lot of headaches.","body":"Well, switching from an old problematic construct like <code>java.util.Date</code> to a newer and more robust like <code>java.time.LocalDate</code> shouldn&#39;t be too much effort in the long run as you&#39;ll save yourself a lot of headaches."}],"owner":{"account_id":17121303,"reputation":3,"user_id":12389449,"display_name":"Quốc Kiệt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677134983,"creation_date":1677133675,"question_id":75541286,"body_markdown":"In my Class, I have many variable with type is Date, and this class using with `@RequestBody`.\r\nI want the value that I receive at variable with type `Date` is format `dd-mm-yyy 00:00:00`, \r\nwhen I don&#39;t using annotation `@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, timezone = &quot;Asia/Tokyo&quot;)`\r\nthe format I received is `2022-05-02 09:00:00`.\r\n\r\n\r\nIs there any way I can achieve this without the need of using annotation `@JsonFormat(pattern = yyyy-MM-dd, timezone = &quot;Asia/Tokyo&quot;)` at each separate variable ?","title":"How to setting annotation for each variable with type is Date in spring boot","body":"<p>In my Class, I have many variable with type is Date, and this class using with <code>@RequestBody</code>.\nI want the value that I receive at variable with type <code>Date</code> is format <code>dd-mm-yyy 00:00:00</code>,\nwhen I don't using annotation <code>@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, timezone = &quot;Asia/Tokyo&quot;)</code>\nthe format I received is <code>2022-05-02 09:00:00</code>.</p>\n<p>Is there any way I can achieve this without the need of using annotation <code>@JsonFormat(pattern = yyyy-MM-dd, timezone = &quot;Asia/Tokyo&quot;)</code> at each separate variable ?</p>\n"},{"tags":["java","out-of-memory","executorservice","runnable"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1676999474,"post_id":75523358,"comment_id":133248724,"body_markdown":"Wait resp. Look into project loom.","body":"Wait resp. Look into project loom."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677006815,"post_id":75523358,"comment_id":133250936,"body_markdown":"@JoopEggen Given the title, the concern is running out of memory for instantiating a zillion `Runnable` objects. How does [Project Loom](https://wiki.openjdk.org/display/loom/Main) address memory management of pending runnables?","body":"@JoopEggen Given the title, the concern is running out of memory for instantiating a zillion <code>Runnable</code> objects. How does <a href=\"https://wiki.openjdk.org/display/loom/Main\" rel=\"nofollow noreferrer\">Project Loom</a> address memory management of pending runnables?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1677025860,"post_id":75523358,"comment_id":133255194,"body_markdown":"@BasilBourque right, and thanks for providing the link.","body":"@BasilBourque right, and thanks for providing the link."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677131353,"creation_date":1677007135,"answer_id":75524977,"question_id":75523358,"body_markdown":"You seem to be concerned that too many pending `Runnable` task objects could take more memory than you will have available on your deployment machine. You want to avoid out-of-memory errors or virtual memory thrashing. \r\n\r\nTo avoid too many tasks, wait to instantiate the next task until the current one is done. \r\n\r\n# End each task with submission of another task\r\n\r\nAdd a second duty to each instance of your `Runnable` objects: *Pull the next pending parameter from your database, and submit a task to the executor service.* \r\n\r\nThe task can be either a new instance of your `Runnable` implementation, or the task can be the same currently-executing `Runnable` instance. I prefer the first approach if the second approach would mean writing code to clean “dirty” state. \r\n\r\nWhen no more input parameters remain, the last running instance of your `Runnable` simply completes, after shutting down the executor service. The executor service remains with no further work to be done.\r\n\r\nBe sure to eventually shutdown your executor service. Otherwise its backing thread pool may continue running indefinitely, even after your app ends, like a zombie &#129503;‍♂️.\r\n\r\n\r\n# Example code\r\n\r\n## Task\r\n\r\nLet&#39;s define a task that multiplies a number, then reports on the console.\r\n\r\nThis task’s constructor takes a thread-safe `Queue` of integers which it uses as input. Each task object draws one element, an `Integer` object, from that queue. \r\n\r\nThis task’s constructor also takes a reference to the existing `ExecutorService`. When this task finishes its work, it then instantiates another task. The old task submits the new task to that passed executor service. The executor service will execute the new task in the future, likely the very near future. \r\n\r\n```java\r\npackage work.basil.example.bogus;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Objects;\r\nimport java.util.Queue;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.RejectedExecutionException;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class Multiplier implements Runnable\r\n{\r\n    private final Queue &lt; Integer &gt; queue;\r\n    private final ExecutorService executorService;\r\n\r\n    public Multiplier ( final Queue &lt; Integer &gt; queue , final ExecutorService executorService )\r\n    {\r\n        this.queue = queue;\r\n        this.executorService = executorService;\r\n    }\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        try\r\n        {\r\n            this.doRun();\r\n        }\r\n        catch ( Exception e )\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void doRun ( )\r\n    {\r\n        Integer input = queue.poll();\r\n        if ( Objects.nonNull( input ) )  // If we have another input to process.\r\n        {\r\n            // Business logic.\r\n            // Simulate doing much work by sleeping this thread.\r\n            try { Thread.sleep( Duration.ofMillis( ThreadLocalRandom.current().nextInt( 500 , 2_000 ) ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n            int result = Math.multiplyExact( input , 2 );\r\n            System.out.println( &quot;INFO - input = &quot; + input + &quot; | result = &quot; + result + &quot; at &quot; + Instant.now() );\r\n\r\n            // Schedule another task.\r\n            // Try to avoid needlessly submitting unnecessary tasks. But still may happen because of the interleaving of concurrent threads.\r\n            if ( ! this.queue.isEmpty() )\r\n            {\r\n                Multiplier task = new Multiplier( this.queue , this.executorService );\r\n                try { executorService.submit( task ); } catch ( RejectedExecutionException e ) { System.out.println( &quot;e = &quot; + e ); }\r\n                System.out.println( &quot;DEBUG - Submitted a subsequent task to executor service. &quot; + Instant.now() );\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## App\r\n\r\nLet&#39;s write an app to run a few of those tasks.\r\n\r\nThis app instantiates an executor service backed by a thread pool of a certain size. The app instantiates and summits as many tasks as there are threads, to get the ball rolling. \r\n\r\nFrom there, each executing task instantiates another task, then submits it for later execution. \r\n\r\nThis rolling work-instantiate-submit/work-instantiate-submit cycle continues until we exhaust the queue of inputs.\r\n\r\n```java\r\npackage work.basil.example.bogus;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.List;\r\nimport java.util.Queue;\r\nimport java.util.concurrent.ArrayBlockingQueue;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.RejectedExecutionException;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println( &quot;INFO - Demo starting. &quot; + Instant.now() );\r\n\r\n        final List &lt; Integer &gt; data = List.of( 10 , 20 , 30 , 40 , 50 , 60 , 70 );\r\n        final Queue &lt; Integer &gt; queue = new ArrayBlockingQueue &lt;&gt;( data.size() , false , data );\r\n        final int countThreads = 3;\r\n        ExecutorService executorService = Executors.newFixedThreadPool( countThreads );\r\n\r\n        // Te get the ball rolling, start as many tasks as we have threads.\r\n        // From there, those initial tasks will instantiate and submit further tasks.\r\n        for ( int index = 0 ; index &lt; countThreads ; index++ )\r\n        {\r\n            Multiplier task = new Multiplier( queue , executorService );\r\n            try { executorService.submit( task ); } catch ( RejectedExecutionException e ) { System.out.println( &quot;e = &quot; + e ); }\r\n        }\r\n\r\n        Duration wait = Duration.ofSeconds( 20 );\r\n        System.out.println( &quot;DEBUG - Main thread will sleep for &quot; + wait + &quot; at &quot; + Instant.now() );\r\n        try { Thread.sleep( wait ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        System.out.println( &quot;DEBUG - Main thread waking after waiting &quot; + wait + &quot; at &quot; + Instant.now() );\r\n\r\n        executorService.close();\r\n        if ( ! executorService.isTerminated() )\r\n        {\r\n            System.out.println( &quot;ERROR - Executor service STILL not yet terminated after waiting for &quot; + wait + &quot; at &quot; + Instant.now() );\r\n        }\r\n\r\n        System.out.println( &quot;INFO - Demo ending. &quot; + Instant.now() );\r\n    }\r\n}\r\n```\r\n\r\n## Execution\r\n\r\nWhen run, we expect to see output similar to this:\r\n\r\n```none\r\nINFO - Demo starting. 2023-02-23T05:51:19.584253Z\r\nDEBUG - Main thread will sleep for PT20S at 2023-02-23T05:51:19.592739Z\r\nINFO - input = 30 | result = 60 at 2023-02-23T05:51:20.542284Z\r\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:20.549764Z\r\nINFO - input = 20 | result = 40 at 2023-02-23T05:51:20.571571Z\r\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:20.571752Z\r\nINFO - input = 40 | result = 80 at 2023-02-23T05:51:21.180109Z\r\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:21.180650Z\r\nINFO - input = 10 | result = 20 at 2023-02-23T05:51:21.220425Z\r\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:21.221124Z\r\nINFO - input = 50 | result = 100 at 2023-02-23T05:51:21.753899Z\r\nINFO - input = 70 | result = 140 at 2023-02-23T05:51:22.215306Z\r\nINFO - input = 60 | result = 120 at 2023-02-23T05:51:23.023050Z\r\nDEBUG - Main thread waking after waiting PT20S at 2023-02-23T05:51:39.588413Z\r\nINFO - Demo ending. 2023-02-23T05:51:39.592896Z\r\n```\r\n","title":"how to prevent Out Of Memory because of many Runnables","body":"<p>You seem to be concerned that too many pending <code>Runnable</code> task objects could take more memory than you will have available on your deployment machine. You want to avoid out-of-memory errors or virtual memory thrashing.</p>\n<p>To avoid too many tasks, wait to instantiate the next task until the current one is done.</p>\n<h1>End each task with submission of another task</h1>\n<p>Add a second duty to each instance of your <code>Runnable</code> objects: <em>Pull the next pending parameter from your database, and submit a task to the executor service.</em></p>\n<p>The task can be either a new instance of your <code>Runnable</code> implementation, or the task can be the same currently-executing <code>Runnable</code> instance. I prefer the first approach if the second approach would mean writing code to clean “dirty” state.</p>\n<p>When no more input parameters remain, the last running instance of your <code>Runnable</code> simply completes, after shutting down the executor service. The executor service remains with no further work to be done.</p>\n<p>Be sure to eventually shutdown your executor service. Otherwise its backing thread pool may continue running indefinitely, even after your app ends, like a zombie 🧟‍♂️.</p>\n<h1>Example code</h1>\n<h2>Task</h2>\n<p>Let's define a task that multiplies a number, then reports on the console.</p>\n<p>This task’s constructor takes a thread-safe <code>Queue</code> of integers which it uses as input. Each task object draws one element, an <code>Integer</code> object, from that queue.</p>\n<p>This task’s constructor also takes a reference to the existing <code>ExecutorService</code>. When this task finishes its work, it then instantiates another task. The old task submits the new task to that passed executor service. The executor service will execute the new task in the future, likely the very near future.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.bogus;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Objects;\nimport java.util.Queue;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.RejectedExecutionException;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class Multiplier implements Runnable\n{\n    private final Queue &lt; Integer &gt; queue;\n    private final ExecutorService executorService;\n\n    public Multiplier ( final Queue &lt; Integer &gt; queue , final ExecutorService executorService )\n    {\n        this.queue = queue;\n        this.executorService = executorService;\n    }\n\n    @Override\n    public void run ( )\n    {\n        try\n        {\n            this.doRun();\n        }\n        catch ( Exception e )\n        {\n            e.printStackTrace();\n        }\n    }\n\n    private void doRun ( )\n    {\n        Integer input = queue.poll();\n        if ( Objects.nonNull( input ) )  // If we have another input to process.\n        {\n            // Business logic.\n            // Simulate doing much work by sleeping this thread.\n            try { Thread.sleep( Duration.ofMillis( ThreadLocalRandom.current().nextInt( 500 , 2_000 ) ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n            int result = Math.multiplyExact( input , 2 );\n            System.out.println( &quot;INFO - input = &quot; + input + &quot; | result = &quot; + result + &quot; at &quot; + Instant.now() );\n\n            // Schedule another task.\n            // Try to avoid needlessly submitting unnecessary tasks. But still may happen because of the interleaving of concurrent threads.\n            if ( ! this.queue.isEmpty() )\n            {\n                Multiplier task = new Multiplier( this.queue , this.executorService );\n                try { executorService.submit( task ); } catch ( RejectedExecutionException e ) { System.out.println( &quot;e = &quot; + e ); }\n                System.out.println( &quot;DEBUG - Submitted a subsequent task to executor service. &quot; + Instant.now() );\n            }\n        }\n    }\n}\n</code></pre>\n<h2>App</h2>\n<p>Let's write an app to run a few of those tasks.</p>\n<p>This app instantiates an executor service backed by a thread pool of a certain size. The app instantiates and summits as many tasks as there are threads, to get the ball rolling.</p>\n<p>From there, each executing task instantiates another task, then submits it for later execution.</p>\n<p>This rolling work-instantiate-submit/work-instantiate-submit cycle continues until we exhaust the queue of inputs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.bogus;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.List;\nimport java.util.Queue;\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.RejectedExecutionException;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        System.out.println( &quot;INFO - Demo starting. &quot; + Instant.now() );\n\n        final List &lt; Integer &gt; data = List.of( 10 , 20 , 30 , 40 , 50 , 60 , 70 );\n        final Queue &lt; Integer &gt; queue = new ArrayBlockingQueue &lt;&gt;( data.size() , false , data );\n        final int countThreads = 3;\n        ExecutorService executorService = Executors.newFixedThreadPool( countThreads );\n\n        // Te get the ball rolling, start as many tasks as we have threads.\n        // From there, those initial tasks will instantiate and submit further tasks.\n        for ( int index = 0 ; index &lt; countThreads ; index++ )\n        {\n            Multiplier task = new Multiplier( queue , executorService );\n            try { executorService.submit( task ); } catch ( RejectedExecutionException e ) { System.out.println( &quot;e = &quot; + e ); }\n        }\n\n        Duration wait = Duration.ofSeconds( 20 );\n        System.out.println( &quot;DEBUG - Main thread will sleep for &quot; + wait + &quot; at &quot; + Instant.now() );\n        try { Thread.sleep( wait ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        System.out.println( &quot;DEBUG - Main thread waking after waiting &quot; + wait + &quot; at &quot; + Instant.now() );\n\n        executorService.close();\n        if ( ! executorService.isTerminated() )\n        {\n            System.out.println( &quot;ERROR - Executor service STILL not yet terminated after waiting for &quot; + wait + &quot; at &quot; + Instant.now() );\n        }\n\n        System.out.println( &quot;INFO - Demo ending. &quot; + Instant.now() );\n    }\n}\n</code></pre>\n<h2>Execution</h2>\n<p>When run, we expect to see output similar to this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Demo starting. 2023-02-23T05:51:19.584253Z\nDEBUG - Main thread will sleep for PT20S at 2023-02-23T05:51:19.592739Z\nINFO - input = 30 | result = 60 at 2023-02-23T05:51:20.542284Z\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:20.549764Z\nINFO - input = 20 | result = 40 at 2023-02-23T05:51:20.571571Z\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:20.571752Z\nINFO - input = 40 | result = 80 at 2023-02-23T05:51:21.180109Z\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:21.180650Z\nINFO - input = 10 | result = 20 at 2023-02-23T05:51:21.220425Z\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:21.221124Z\nINFO - input = 50 | result = 100 at 2023-02-23T05:51:21.753899Z\nINFO - input = 70 | result = 140 at 2023-02-23T05:51:22.215306Z\nINFO - input = 60 | result = 120 at 2023-02-23T05:51:23.023050Z\nDEBUG - Main thread waking after waiting PT20S at 2023-02-23T05:51:39.588413Z\nINFO - Demo ending. 2023-02-23T05:51:39.592896Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677090468,"creation_date":1677090468,"answer_id":75536785,"question_id":75523358,"body_markdown":"IMHO you are chasing ghosts.\r\n\r\nThose tasks normally don&#39;t exist in isolation:\r\n\r\n* there is something (another process, a user, a connection over the network) the causes the creation of new tasks\r\n* the tasks need some finite time to execute\r\n* normally there is also something that has an interest in the outcome of the task (if no one cares: why do you execute the task?)\r\n\r\nSome problems are:\r\n\r\n* if the something that causes task creation can do so faster than you can process the tasks then your system will sooner or later be overwhelmed with tasks - even a database has not unlimited capacity\r\n* if every task needs only one second and you can handle 10 tasks parallel means that you need more than 100 days to process 100_000_000 tasks - if no other tasks arrive in the mean time. Even with 100_000 tasks you will need around 3 hours\r\n* if you need 100 days to process the tasks: how can you make sure that your application can run this long uninterrupted?\r\n* if every task needs only a few milliseconds then the round trip to the database could become your bottleneck\r\n    * if a new task is created you then need to store that into the database\r\n    * you need then to read that task from database\r\n    * if the task is completed you need to remove it from the database\r\n* what do you do with the results of the tasks?\r\n    * Print them to the console? Who is going to read that?\r\n    * store them in some file? This file is going to grow big very soon\r\n    * store them in a database?\r\n    * send them back over the network to the requester?\r\n\r\nFrom the listed points you can see that the memory usage of all those task instances is only one of several related problems.","title":"how to prevent Out Of Memory because of many Runnables","body":"<p>IMHO you are chasing ghosts.</p>\n<p>Those tasks normally don't exist in isolation:</p>\n<ul>\n<li>there is something (another process, a user, a connection over the network) the causes the creation of new tasks</li>\n<li>the tasks need some finite time to execute</li>\n<li>normally there is also something that has an interest in the outcome of the task (if no one cares: why do you execute the task?)</li>\n</ul>\n<p>Some problems are:</p>\n<ul>\n<li>if the something that causes task creation can do so faster than you can process the tasks then your system will sooner or later be overwhelmed with tasks - even a database has not unlimited capacity</li>\n<li>if every task needs only one second and you can handle 10 tasks parallel means that you need more than 100 days to process 100_000_000 tasks - if no other tasks arrive in the mean time. Even with 100_000 tasks you will need around 3 hours</li>\n<li>if you need 100 days to process the tasks: how can you make sure that your application can run this long uninterrupted?</li>\n<li>if every task needs only a few milliseconds then the round trip to the database could become your bottleneck\n<ul>\n<li>if a new task is created you then need to store that into the database</li>\n<li>you need then to read that task from database</li>\n<li>if the task is completed you need to remove it from the database</li>\n</ul>\n</li>\n<li>what do you do with the results of the tasks?\n<ul>\n<li>Print them to the console? Who is going to read that?</li>\n<li>store them in some file? This file is going to grow big very soon</li>\n<li>store them in a database?</li>\n<li>send them back over the network to the requester?</li>\n</ul>\n</li>\n</ul>\n<p>From the listed points you can see that the memory usage of all those task instances is only one of several related problems.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677134682,"creation_date":1677134682,"answer_id":75541400,"question_id":75523358,"body_markdown":"There are a few options here:\r\n\r\n - You can use a fixed length task queue. In this case, when the queue is full, the submit method blocks until a slot is released.\r\n - You can store your tasks in a database as you mentionned\r\n - You can use a messaging system such as JMS or Kafka with a persistently stored queue","title":"how to prevent Out Of Memory because of many Runnables","body":"<p>There are a few options here:</p>\n<ul>\n<li>You can use a fixed length task queue. In this case, when the queue is full, the submit method blocks until a slot is released.</li>\n<li>You can store your tasks in a database as you mentionned</li>\n<li>You can use a messaging system such as JMS or Kafka with a persistently stored queue</li>\n</ul>\n"}],"owner":{"account_id":6672699,"reputation":379,"user_id":5148363,"accept_rate":82,"display_name":"nik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677174860,"accepted_answer_id":75524977,"answer_count":3,"score":-1,"last_activity_date":1677134682,"creation_date":1676997358,"question_id":75523358,"body_markdown":"\r\nI need to run 100 tasks. I want to run them in parallel, but only 10 simultaneously. I can use for it simple \r\n\r\n    ExecutorService service = Executors.newFixedThreadPool(10);\r\n\r\nthen create 10 Runnables and sumbmit them to ExecutorService.\r\n\r\nBut what if there are 100_000 tasks or 100_000_000 tasks? At some point It would cause Out Of Memory because of so many Runnables in Memory.\r\n\r\nSo I wanted something like that: I store parameters of all task in database, then take another one of them from database when one thread became free and start new task with this parameters. I come up with something like this\r\n\r\n    package com.company;\r\n    \r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    public class Main {\r\n    \r\n        private static ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n    \r\n        private static class MyRunnable implements Runnable {\r\n    \r\n            private int i;  /* there would by actually parameters for task*/\r\n    \r\n            public MyRunnable(int i) {\r\n                this.i = i;\r\n            }\r\n    \r\n            public void run() {\r\n                try {\r\n                    System.out.println(i); // there would by actually some code\r\n                    Thread.sleep(1_000);   // there would by actually some code\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                } finally {\r\n                    executorService.execute(new MyRunnable(i + 10 /* there would by actually taking parameters from database for new task*/));\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                executorService.submit(new MyRunnable(i /* there would by actually taking parameters from database for new task*/));\r\n            }\r\n        }\r\n    }\r\n\r\nIs it good or bad solution? What is the best solution?\r\n","title":"how to prevent Out Of Memory because of many Runnables","body":"<p>I need to run 100 tasks. I want to run them in parallel, but only 10 simultaneously. I can use for it simple</p>\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(10);\n</code></pre>\n<p>then create 10 Runnables and sumbmit them to ExecutorService.</p>\n<p>But what if there are 100_000 tasks or 100_000_000 tasks? At some point It would cause Out Of Memory because of so many Runnables in Memory.</p>\n<p>So I wanted something like that: I store parameters of all task in database, then take another one of them from database when one thread became free and start new task with this parameters. I come up with something like this</p>\n<pre><code>package com.company;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class Main {\n\n    private static ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n    private static class MyRunnable implements Runnable {\n\n        private int i;  /* there would by actually parameters for task*/\n\n        public MyRunnable(int i) {\n            this.i = i;\n        }\n\n        public void run() {\n            try {\n                System.out.println(i); // there would by actually some code\n                Thread.sleep(1_000);   // there would by actually some code\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            } finally {\n                executorService.execute(new MyRunnable(i + 10 /* there would by actually taking parameters from database for new task*/));\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 10; i++) {\n            executorService.submit(new MyRunnable(i /* there would by actually taking parameters from database for new task*/));\n        }\n    }\n}\n</code></pre>\n<p>Is it good or bad solution? What is the best solution?</p>\n"},{"tags":["java","apache-kafka","properties","consumer"],"comments":[{"owner":{"account_id":1222246,"reputation":495,"user_id":1188659,"display_name":"Nic Pegg"},"score":0,"creation_date":1673307749,"post_id":74996523,"comment_id":132465580,"body_markdown":"When TestConsumer is instantiated there is a consumer.poll(Duration.ofMillis(0)), this may be consuming the record before the test is called.","body":"When TestConsumer is instantiated there is a consumer.poll(Duration.ofMillis(0)), this may be consuming the record before the test is called."}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677134289,"creation_date":1672765962,"question_id":74996523,"body_markdown":"I have an external topic.\r\nAnd an application under test which sends messages to that topic.\r\n\r\nMy goal is to consume sent event from that topic.\r\n\r\n**What I do**:\r\n\r\n 1. Call an API of application that triggers a message to get sent to the topic.\r\n 2. Use my consumer to poll the message and ensure it posted.\r\n\r\n**Problem**: When I poll messages - nothing is polled and test fails with timeout.\r\n\r\nConsumer config:\r\n\r\n    public Properties consumerProperties() {\r\n        Properties properties = new Properties();\r\n\r\n        properties.setProperty(&quot;group.id&quot;, &quot;test-consumer-group&quot;);\r\n        properties.setProperty(&quot;bootstrap.servers&quot;, &quot;my_server&quot;);\r\n        properties.setProperty(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        properties.setProperty(&quot;value.deserializer&quot;, &quot;io.confluent.kafka.serializers.KafkaAvroDeserializer&quot;);\r\n        properties.setProperty(&quot;schema.registry.url&quot;, &quot;my_url&quot;);\r\n        properties.setProperty(&quot;max.poll.records&quot;, &quot;1000&quot;);\r\n        properties.setProperty(&quot;retries&quot;, &quot;5&quot;);\r\n        properties.setProperty(&quot;default.api.timeout.ms&quot;, &quot;240000&quot;);\r\n        properties.setProperty(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\r\n        properties.setProperty(&quot;auto.commit&quot;, &quot;false&quot;);\r\n        properties.setProperty(&quot;specific.avro.reader&quot;, &quot;true&quot;);\r\n        properties.setProperty(&quot;ssl.endpoint.identification.algorithm&quot;, &quot;&quot;);\r\n        properties.setProperty(&quot;basic.auth.credentials.source&quot;, &quot;SASL_INHERIT&quot;);\r\n        properties.setProperty(&quot;sasl.mechanism&quot;, &quot;SCRAM-SHA-512&quot;);\r\n        properties.setProperty(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\r\n        properties.setProperty(\r\n                &quot;sasl.jaas.config&quot;,\r\n                &quot;org.apache.kafka.common.security.scram.ScramLoginModule required username=\\&quot;&quot;\r\n                        + user\r\n                        + &quot;\\&quot; password=\\&quot;&quot;\r\n                        + password\r\n                        + &quot;\\&quot;;&quot;);\r\n\r\n        return properties;\r\n    }\r\n\r\n\r\nTestConsumer:\r\n\r\n\r\n    public class TestConsumer&lt;T&gt; {\r\n\r\n    private final String topic;\r\n    private final Consumer&lt;String, T&gt; consumer;\r\n\r\n    public TestConsumer(String topic, Properties properties) {\r\n        this.topic = topic;\r\n        this.consumer = new KafkaConsumer&lt;&gt;(properties);\r\n        consumer.subscribe(List.of(topic));\r\n        consumer.poll(Duration.ofMillis(0));\r\n    }\r\n\r\n    public T consumeEvent(Predicate&lt;T&gt; expectedEvent) {\r\n        ConsumerRecords&lt;String, T&gt; records = consumer.poll(Duration.ofMillis(100000));\r\n        consumer.commitSync();\r\n        for (ConsumerRecord&lt;String, T&gt; record : records.records(topic)) {\r\n            if (expectedEvent.test(record.value()))\r\n                return record.value();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nUsage:\r\n\r\n    T message = new TestConsumer&lt;&gt;(&quot;my_topic&quot;, consumerProperties).consumeEvent(m -&gt; m != null);\r\n\r\n\r\nAnd I always get null because nothing is polled. What can be a reason?\r\n\r\n\r\nI have tried to change properties with different combinations including *auto.offset.reset*, *max.poll.records*, *group.id* and others however nothing helped.\r\n\r\nAppreciate any solutions!","title":"Kafka Consumer doesn&#39;t poll any messages","body":"<p>I have an external topic.\nAnd an application under test which sends messages to that topic.</p>\n<p>My goal is to consume sent event from that topic.</p>\n<p><strong>What I do</strong>:</p>\n<ol>\n<li>Call an API of application that triggers a message to get sent to the topic.</li>\n<li>Use my consumer to poll the message and ensure it posted.</li>\n</ol>\n<p><strong>Problem</strong>: When I poll messages - nothing is polled and test fails with timeout.</p>\n<p>Consumer config:</p>\n<pre><code>public Properties consumerProperties() {\n    Properties properties = new Properties();\n\n    properties.setProperty(&quot;group.id&quot;, &quot;test-consumer-group&quot;);\n    properties.setProperty(&quot;bootstrap.servers&quot;, &quot;my_server&quot;);\n    properties.setProperty(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n    properties.setProperty(&quot;value.deserializer&quot;, &quot;io.confluent.kafka.serializers.KafkaAvroDeserializer&quot;);\n    properties.setProperty(&quot;schema.registry.url&quot;, &quot;my_url&quot;);\n    properties.setProperty(&quot;max.poll.records&quot;, &quot;1000&quot;);\n    properties.setProperty(&quot;retries&quot;, &quot;5&quot;);\n    properties.setProperty(&quot;default.api.timeout.ms&quot;, &quot;240000&quot;);\n    properties.setProperty(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\n    properties.setProperty(&quot;auto.commit&quot;, &quot;false&quot;);\n    properties.setProperty(&quot;specific.avro.reader&quot;, &quot;true&quot;);\n    properties.setProperty(&quot;ssl.endpoint.identification.algorithm&quot;, &quot;&quot;);\n    properties.setProperty(&quot;basic.auth.credentials.source&quot;, &quot;SASL_INHERIT&quot;);\n    properties.setProperty(&quot;sasl.mechanism&quot;, &quot;SCRAM-SHA-512&quot;);\n    properties.setProperty(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\n    properties.setProperty(\n            &quot;sasl.jaas.config&quot;,\n            &quot;org.apache.kafka.common.security.scram.ScramLoginModule required username=\\&quot;&quot;\n                    + user\n                    + &quot;\\&quot; password=\\&quot;&quot;\n                    + password\n                    + &quot;\\&quot;;&quot;);\n\n    return properties;\n}\n</code></pre>\n<p>TestConsumer:</p>\n<pre><code>public class TestConsumer&lt;T&gt; {\n\nprivate final String topic;\nprivate final Consumer&lt;String, T&gt; consumer;\n\npublic TestConsumer(String topic, Properties properties) {\n    this.topic = topic;\n    this.consumer = new KafkaConsumer&lt;&gt;(properties);\n    consumer.subscribe(List.of(topic));\n    consumer.poll(Duration.ofMillis(0));\n}\n\npublic T consumeEvent(Predicate&lt;T&gt; expectedEvent) {\n    ConsumerRecords&lt;String, T&gt; records = consumer.poll(Duration.ofMillis(100000));\n    consumer.commitSync();\n    for (ConsumerRecord&lt;String, T&gt; record : records.records(topic)) {\n        if (expectedEvent.test(record.value()))\n            return record.value();\n    }\n    return null;\n}\n</code></pre>\n<p>}</p>\n<p>Usage:</p>\n<pre><code>T message = new TestConsumer&lt;&gt;(&quot;my_topic&quot;, consumerProperties).consumeEvent(m -&gt; m != null);\n</code></pre>\n<p>And I always get null because nothing is polled. What can be a reason?</p>\n<p>I have tried to change properties with different combinations including <em>auto.offset.reset</em>, <em>max.poll.records</em>, <em>group.id</em> and others however nothing helped.</p>\n<p>Appreciate any solutions!</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2162507,"reputation":10281,"user_id":1916362,"accept_rate":89,"display_name":"James Monger"},"score":2,"creation_date":1476467277,"post_id":40049145,"comment_id":67374303,"body_markdown":"Please give an example input, and the example output.","body":"Please give an example input, and the example output."},{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":1,"creation_date":1476467568,"post_id":40049145,"comment_id":67374469,"body_markdown":"You are adding the numbers from the left to the right instead of vice versa. You are not adding the carry from the previous stage. You use `int` for sum, but your input can be &gt; 5000 digits?","body":"You are adding the numbers from the left to the right instead of vice versa. You are not adding the carry from the previous stage. You use <code>int</code> for sum, but your input can be &gt; 5000 digits?"}],"answers":[{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1476467874,"post_id":40049219,"comment_id":67374652,"body_markdown":"*&quot;You must not [...] convert the inputs to integer directly&quot;* means that `Integer.parseInt(string)` is not allowed. Besides, that method will crash and burn if given an input of more than 10 digits, and input can be up to **5100 digits long**: *&quot;The **length** of both num1 and num2 is &lt; 5100.&quot;*","body":"<i>&quot;You must not [...] convert the inputs to integer directly&quot;</i> means that <code>Integer.parseInt(string)</code> is not allowed. Besides, that method will crash and burn if given an input of more than 10 digits, and input can be up to <b>5100 digits long</b>: <i>&quot;The <b>length</b> of both num1 and num2 is &lt; 5100.&quot;</i>"}],"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1476467446,"creation_date":1476467446,"answer_id":40049219,"question_id":40049145,"body_markdown":"For the sake of comprehension of the question\r\n\r\nyour method&#39;s name is **addition**\r\n\r\nyou are trying to do a **power operation** but the result is stored in a variable named **multiplication**...\r\n\r\nthere is more than one reason why that code doesnt work...\r\n\r\n\r\nYou need to do something like \r\n\r\n    Integer.parseInt(string)\r\n\r\nin order to parse strings to integers \r\n\r\nhere the [oficial doc][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-","title":"Adding numbers which are stored in string variables","body":"<p>For the sake of comprehension of the question</p>\n\n<p>your method's name is <strong>addition</strong></p>\n\n<p>you are trying to do a <strong>power operation</strong> but the result is stored in a variable named <strong>multiplication</strong>...</p>\n\n<p>there is more than one reason why that code doesnt work...</p>\n\n<p>You need to do something like </p>\n\n<pre><code>Integer.parseInt(string)\n</code></pre>\n\n<p>in order to parse strings to integers </p>\n\n<p>here the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\" rel=\"nofollow\">oficial doc</a></p>\n"},{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1476468114,"post_id":40049290,"comment_id":67374785,"body_markdown":"Great minds think alike: We both advised doing it the way you do it on paper. :-)","body":"Great minds think alike: We both advised doing it the way you do it on paper. :-)"},{"owner":{"account_id":1032580,"reputation":4177,"user_id":1040597,"accept_rate":91,"display_name":"Saeid"},"score":0,"creation_date":1476468726,"post_id":40049290,"comment_id":67375082,"body_markdown":"@Andreas I advised the last guy to do it on paper too :) [link](http://stackoverflow.com/questions/39948155/explaining-c-code-for-adding-two-strings#comment67177268_39948155)","body":"@Andreas I advised the last guy to do it on paper too :) <a href=\"http://stackoverflow.com/questions/39948155/explaining-c-code-for-adding-two-strings#comment67177268_39948155\">link</a>"},{"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"score":0,"creation_date":1476471142,"post_id":40049290,"comment_id":67376335,"body_markdown":"@Tempux I always wondered can `double` be used to store and retrieve 128 bit integer? As there is no container to store 128 bit integer in traditional language. It would be useful to store IPv6 in `double` then :)","body":"@Tempux I always wondered can <code>double</code> be used to store and retrieve 128 bit integer? As there is no container to store 128 bit integer in traditional language. It would be useful to store IPv6 in <code>double</code> then :)"},{"owner":{"account_id":1032580,"reputation":4177,"user_id":1040597,"accept_rate":91,"display_name":"Saeid"},"score":0,"creation_date":1476471484,"post_id":40049290,"comment_id":67376515,"body_markdown":"@KaidulIslam Maybe it can but you will lose the precision for sure.","body":"@KaidulIslam Maybe it can but you will lose the precision for sure."}],"tags":[],"owner":{"account_id":1032580,"reputation":4177,"user_id":1040597,"accept_rate":91,"display_name":"Saeid"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476469749,"creation_date":1476467684,"answer_id":40049290,"question_id":40049145,"body_markdown":"The purpose of this question is to add the numbers in the string form. You should not try to convert the strings to integers. The description says the length of the numbers could be up to 5100 digits. So the numbers are simply too big to be stored in integers and doubles. For instance In the following line:\r\n\r\n    double multiplier = Math.pow(10, num1.length() - 1);\r\n\r\nYou are trying to store 10^5100 in a `double`. In [IEEE 754 binary floating point standard][1] a `double` can a store number from `&#177;4.94065645841246544e-324` to `&#177;1.79769313486231570e+308`. So your number won&#39;t fit. It will instead turn into `Infinity`. Even if it fits in `double` it won&#39;t be exact and you will encounter some errors in your follow up calculations.\r\n\r\nBecause the question specifies not to use BigInteger or similar libraries you should try and implement string addition yourself.\r\n\r\nThis is pretty straightforward just implement the exact algorithm you follow when you add two numbers on paper.\r\n\r\n\r\n  [1]: http://754r.ucbtest.org/standards/754xml.html","title":"Adding numbers which are stored in string variables","body":"<p>The purpose of this question is to add the numbers in the string form. You should not try to convert the strings to integers. The description says the length of the numbers could be up to 5100 digits. So the numbers are simply too big to be stored in integers and doubles. For instance In the following line:</p>\n\n<pre><code>double multiplier = Math.pow(10, num1.length() - 1);\n</code></pre>\n\n<p>You are trying to store 10^5100 in a <code>double</code>. In <a href=\"http://754r.ucbtest.org/standards/754xml.html\" rel=\"nofollow\">IEEE 754 binary floating point standard</a> a <code>double</code> can a store number from <code>±4.94065645841246544e-324</code> to <code>±1.79769313486231570e+308</code>. So your number won't fit. It will instead turn into <code>Infinity</code>. Even if it fits in <code>double</code> it won't be exact and you will encounter some errors in your follow up calculations.</p>\n\n<p>Because the question specifies not to use BigInteger or similar libraries you should try and implement string addition yourself.</p>\n\n<p>This is pretty straightforward just implement the exact algorithm you follow when you add two numbers on paper.</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1476644352,"creation_date":1476467769,"answer_id":40049314,"question_id":40049145,"body_markdown":" &gt; **You must not** use any built-in BigInteger library or **convert the inputs to integer** directly.\r\n\r\nNote that you are adding two integers of **up to 5100** digits each. That is not that max *value*, but the max *number of digits*.\r\n\r\nAn `int` (your `sum` variable) cannot hold values like that. `BigInteger` can, but you&#39;re not allowed to use it.\r\n\r\nSo, **add the numbers like you would on paper**: Add last digits, write lower digit of the sum as last digit of result, and carry-over a one if needed. Repeat for second-last digit, third-last digit, etc. until done.\r\n\r\nSince the sum will be at least the number of digits of the longest input value, and *may* be one longer, you should allocate a `char[]` of length of longest input plus one. When done, construct final string using [`String(char[] value, int offset, int count)`][1], with an offset of 0 or 1 as needed.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-char:A-int-int-","title":"Adding numbers which are stored in string variables","body":"<blockquote>\n  <p><strong>You must not</strong> use any built-in BigInteger library or <strong>convert the inputs to integer</strong> directly.</p>\n</blockquote>\n\n<p>Note that you are adding two integers of <strong>up to 5100</strong> digits each. That is not that max <em>value</em>, but the max <em>number of digits</em>.</p>\n\n<p>An <code>int</code> (your <code>sum</code> variable) cannot hold values like that. <code>BigInteger</code> can, but you're not allowed to use it.</p>\n\n<p>So, <strong>add the numbers like you would on paper</strong>: Add last digits, write lower digit of the sum as last digit of result, and carry-over a one if needed. Repeat for second-last digit, third-last digit, etc. until done.</p>\n\n<p>Since the sum will be at least the number of digits of the longest input value, and <em>may</em> be one longer, you should allocate a <code>char[]</code> of length of longest input plus one. When done, construct final string using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-char:A-int-int-\" rel=\"nofollow\"><code>String(char[] value, int offset, int count)</code></a>, with an offset of 0 or 1 as needed.</p>\n"},{"tags":[],"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476470865,"creation_date":1476469311,"answer_id":40049737,"question_id":40049145,"body_markdown":"Here is working example of adding two strings without using `BigInteger` using char array as intermediate container. The point why `double` can&#39;t be used has been explained on @Tempux answer. Here the logic is similar to how adding two numbers on paper works. \r\n\r\n    public String addStrings(String num1, String num2) {\r\n        int carry = 0;\r\n        int m = num1.length(), n = num2.length();\r\n        int len = m &lt; n ? n : m;\r\n        char[] res = new char[len + 1]; // length is maxLen + 1 incase of carry in adding most significant digits\r\n        for(int i = 0; i &lt;= len ; i++) {\r\n            int a = i &lt; m ? (num1.charAt(m - i - 1) - &#39;0&#39;) : 0;\r\n            int b = i &lt; n ? (num2.charAt(n - i - 1) - &#39;0&#39;) : 0;\r\n            res[len - i] = (char)((a + b + carry) % 10 + &#39;0&#39;);\r\n            carry = (a + b + carry) / 10;\r\n        }\r\n        return res[0] == &#39;0&#39; ? new String(res, 1, len) : new String(res, 0, len + 1);\r\n    }\r\n\r\nThis snippet is relatively small and precise because here I didn&#39;t play with immutable `String` which is complicated/messy and yield larger code. Also one intuition is - there is no way of getting larger output than `max(num1_length, num2_length) + 1` which makes the implementation simple.","title":"Adding numbers which are stored in string variables","body":"<p>Here is working example of adding two strings without using <code>BigInteger</code> using char array as intermediate container. The point why <code>double</code> can't be used has been explained on @Tempux answer. Here the logic is similar to how adding two numbers on paper works. </p>\n\n<pre><code>public String addStrings(String num1, String num2) {\n    int carry = 0;\n    int m = num1.length(), n = num2.length();\n    int len = m &lt; n ? n : m;\n    char[] res = new char[len + 1]; // length is maxLen + 1 incase of carry in adding most significant digits\n    for(int i = 0; i &lt;= len ; i++) {\n        int a = i &lt; m ? (num1.charAt(m - i - 1) - '0') : 0;\n        int b = i &lt; n ? (num2.charAt(n - i - 1) - '0') : 0;\n        res[len - i] = (char)((a + b + carry) % 10 + '0');\n        carry = (a + b + carry) / 10;\n    }\n    return res[0] == '0' ? new String(res, 1, len) : new String(res, 0, len + 1);\n}\n</code></pre>\n\n<p>This snippet is relatively small and precise because here I didn't play with immutable <code>String</code> which is complicated/messy and yield larger code. Also one intuition is - there is no way of getting larger output than <code>max(num1_length, num2_length) + 1</code> which makes the implementation simple.</p>\n"},{"tags":[],"owner":{"account_id":7023181,"reputation":381,"user_id":5381656,"display_name":"Saurabh Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476472441,"creation_date":1476470282,"answer_id":40049993,"question_id":40049145,"body_markdown":"&gt; You have to addition as you do on paper\r\n\r\nyou can&#39;t use BigInteger and the String Length is 5100, so you can not use int or long for addition.\r\nYou have to use simple addition as we do on paper.\r\n\r\n    class AddString\r\n    {\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tString s1 = &quot;98799932345&quot;;\r\n\t\tString s2 = &quot;99998783456&quot;;\r\n\t\t//long n1 = Long.parseLong(s1);\r\n\t\t//long n2 = Long.parseLong(s2);\r\n\t\tSystem.out.println(addStrings(s1,s2));\r\n\t\t//System.out.println(n1+n2);\r\n\t}\r\n\tpublic static String addStrings(String num1, String num2) {\r\n        StringBuilder ans = new StringBuilder(&quot;&quot;);\r\n        int n = num1.length();\r\n        int m = num2.length();\r\n        int carry = 0,sum;\r\n        int i, j;\r\n        for(i = n-1,j=m-1; i&gt;=0&amp;&amp;j&gt;=0;i--,j--){\r\n        \tint a = Integer.parseInt(&quot;&quot;+num1.charAt(i));\r\n        \tint b = Integer.parseInt(&quot;&quot;+num2.charAt(j));\r\n        \t//System.out.println(a+&quot; &quot;+b);\r\n        \tsum = carry + a + b;\r\n        \tans.append(&quot;&quot;+(sum%10));\r\n        \tcarry = sum/10;\r\n        }\r\n        if(i&gt;=0){\r\n        \tfor(;i&gt;=0;i--){\r\n        \t\tint a = Integer.parseInt(&quot;&quot;+num1.charAt(i));\r\n        \t\tsum = carry + a;\r\n        \t\tans.append(&quot;&quot;+(sum%10));\r\n        \t    carry = sum/10;\r\n        \t}\r\n        }\r\n        if(j&gt;=0){\r\n        \tfor(;j&gt;=0;j--){\r\n        \t\tint a = Integer.parseInt(&quot;&quot;+num2.charAt(j));\r\n        \t\tsum = carry + a;\r\n        \t\tans.append(&quot;&quot;+(sum%10));\r\n        \t    carry = sum/10;\r\n        \t}\r\n        }\r\n        if(carry!=0)ans.append(&quot;&quot;+carry);\r\n        return ans.reverse().toString();\r\n    }   \r\n    }\r\n\r\nYou can run the above code and see it works in all cases, this could be written in more compact way, but that would have been difficult  to understand for you.\r\n\r\nHope it helps!","title":"Adding numbers which are stored in string variables","body":"<blockquote>\n  <p>You have to addition as you do on paper</p>\n</blockquote>\n\n<p>you can't use BigInteger and the String Length is 5100, so you can not use int or long for addition.\nYou have to use simple addition as we do on paper.</p>\n\n<pre><code>class AddString\n{\npublic static void main (String[] args) throws java.lang.Exception\n{\n    String s1 = \"98799932345\";\n    String s2 = \"99998783456\";\n    //long n1 = Long.parseLong(s1);\n    //long n2 = Long.parseLong(s2);\n    System.out.println(addStrings(s1,s2));\n    //System.out.println(n1+n2);\n}\npublic static String addStrings(String num1, String num2) {\n    StringBuilder ans = new StringBuilder(\"\");\n    int n = num1.length();\n    int m = num2.length();\n    int carry = 0,sum;\n    int i, j;\n    for(i = n-1,j=m-1; i&gt;=0&amp;&amp;j&gt;=0;i--,j--){\n        int a = Integer.parseInt(\"\"+num1.charAt(i));\n        int b = Integer.parseInt(\"\"+num2.charAt(j));\n        //System.out.println(a+\" \"+b);\n        sum = carry + a + b;\n        ans.append(\"\"+(sum%10));\n        carry = sum/10;\n    }\n    if(i&gt;=0){\n        for(;i&gt;=0;i--){\n            int a = Integer.parseInt(\"\"+num1.charAt(i));\n            sum = carry + a;\n            ans.append(\"\"+(sum%10));\n            carry = sum/10;\n        }\n    }\n    if(j&gt;=0){\n        for(;j&gt;=0;j--){\n            int a = Integer.parseInt(\"\"+num2.charAt(j));\n            sum = carry + a;\n            ans.append(\"\"+(sum%10));\n            carry = sum/10;\n        }\n    }\n    if(carry!=0)ans.append(\"\"+carry);\n    return ans.reverse().toString();\n}   \n}\n</code></pre>\n\n<p>You can run the above code and see it works in all cases, this could be written in more compact way, but that would have been difficult  to understand for you.</p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":9439696,"reputation":51,"user_id":7020611,"display_name":"Behnam Nikbakht"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476475094,"creation_date":1476475094,"answer_id":40051082,"question_id":40049145,"body_markdown":"you can use this one that is independent of Integer or BigInteger methods\r\n\r\n    public String addStrings(String num1, String num2) {\r\n    \tint l1 = num1.length();\r\n    \tint l2 = num2.length();\r\n    \tif(l1==0){\r\n    \t\treturn num2;\r\n    \t}\r\n    \tif(l2==0){\r\n    \t\treturn num1;\r\n    \t}\r\n    \tStringBuffer sb = new StringBuffer();\r\n    \tint minLen = Math.min(l1, l2);\r\n    \tint carry = 0;\r\n    \tfor(int i=0;i&lt;minLen;i++){\r\n    \t\tint ind = l1-i-1;\r\n    \t\tint c1 = num1.charAt(ind)-48;\r\n    \t\tind = l2-i-1;\r\n    \t\tint c2 = num2.charAt(ind)-48;\r\n    \t\tint add = c1+c2+carry;\r\n    \t\tcarry = add/10;\r\n    \t\tadd = add%10;\r\n    \t\tsb.append(add);\r\n    \t}\r\n    \t\r\n    \tString longer = null;\r\n    \tif(l1&lt;l2){\r\n    \t\tlonger = num2;\r\n    \t}\r\n    \telse if(l1&gt;l2){\r\n    \t\tlonger = num1;\r\n    \t}\r\n    \tif(longer!=null){\r\n    \t\tint l = longer.length();\r\n    \t\tfor(int i=minLen;i&lt;l;i++){\r\n    \t\t\tint c1 = longer.charAt(l-i-1)-48;\r\n    \t\t\tint add = c1+carry;\r\n    \t\t\tcarry = add/10;\r\n    \t\t\tadd = add%10;\r\n    \t\t\tsb.append(add);\r\n    \t\t}\r\n    \t}\r\n    \treturn sb.reverse().toString();\r\n    }","title":"Adding numbers which are stored in string variables","body":"<p>you can use this one that is independent of Integer or BigInteger methods</p>\n\n<pre><code>public String addStrings(String num1, String num2) {\n    int l1 = num1.length();\n    int l2 = num2.length();\n    if(l1==0){\n        return num2;\n    }\n    if(l2==0){\n        return num1;\n    }\n    StringBuffer sb = new StringBuffer();\n    int minLen = Math.min(l1, l2);\n    int carry = 0;\n    for(int i=0;i&lt;minLen;i++){\n        int ind = l1-i-1;\n        int c1 = num1.charAt(ind)-48;\n        ind = l2-i-1;\n        int c2 = num2.charAt(ind)-48;\n        int add = c1+c2+carry;\n        carry = add/10;\n        add = add%10;\n        sb.append(add);\n    }\n\n    String longer = null;\n    if(l1&lt;l2){\n        longer = num2;\n    }\n    else if(l1&gt;l2){\n        longer = num1;\n    }\n    if(longer!=null){\n        int l = longer.length();\n        for(int i=minLen;i&lt;l;i++){\n            int c1 = longer.charAt(l-i-1)-48;\n            int add = c1+carry;\n            carry = add/10;\n            add = add%10;\n            sb.append(add);\n        }\n    }\n    return sb.reverse().toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":0,"creation_date":1476516331,"post_id":40051173,"comment_id":67387539,"body_markdown":"The question states that the numbers can have over 5000 digits. Your program will fail for much smaller input.","body":"The question states that the numbers can have over 5000 digits. Your program will fail for much smaller input."},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1476564435,"post_id":40051173,"comment_id":67402056,"body_markdown":"Ok, I amended the answer to account for long strings.  It is still less code than other answers.","body":"Ok, I amended the answer to account for long strings.  It is still less code than other answers."}],"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476564741,"creation_date":1476475459,"answer_id":40051173,"question_id":40049145,"body_markdown":"Previous solutions have excess code.  This is all you need.\r\n\r\n\tclass ShortStringSolution {\r\n\t\tstatic String add(String num1Str, String num2Str) {\r\n\t\t\treturn Long.toString(convert(num1Str) + convert(num2Str));\r\n\t\t}\r\n\t\r\n\t\tstatic long convert(String numStr) {\r\n\t\t\tlong num = 0;\r\n\t\t\tfor(int i = 0; i &lt; numStr.length(); i++) {\r\n\t\t\t\tnum = num * 10 + (numStr.charAt(i) - &#39;0&#39;);\r\n\t\t\t}\r\n\t\t\treturn num;\r\n\t\t}\r\n\t}\r\n\r\n\tclass LongStringSolution {\r\n\t\r\n\t\tstatic String add(String numStr1, String numStr2) {\r\n\t\t\tStringBuilder result = new StringBuilder();\r\n\t\t\tint i = numStr1.length() - 1, j = numStr2.length() - 1, carry = 0;\r\n\t\t\twhile(i &gt;= 0 || j &gt;= 0) {\r\n\t\t\t\tif(i &gt;= 0) {\r\n\t\t\t\t\tcarry += numStr1.charAt(i--) - &#39;0&#39;;\r\n\t\t\t\t}\r\n\t\t\t\tif(j &gt;= 0) {\r\n\t\t\t\t\tcarry += numStr2.charAt(j--) - &#39;0&#39;;\r\n\t\t\t\t}\r\n\t\t\t\tif(carry &gt; 9) {\r\n\t\t\t\t\tresult.append(carry - 10);\r\n\t\t\t\t\tcarry = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.append(carry);\r\n\t\t\t\t\tcarry = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(carry &gt; 0) {\r\n\t\t\t\tresult.append(carry);\r\n\t\t\t}\r\n\t\t\treturn result.reverse().toString();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class Solution {\r\n\t\r\n\t\tstatic String add(String numStr1, String numStr2) {\r\n\t\t\tif(numStr1.length() &lt; 19 &amp;&amp; numStr2.length() &lt; 19) {\r\n\t\t\t\treturn ShortStringSolution.add(numStr1, numStr2);\r\n\t\t\t}\r\n\t\t\treturn LongStringSolution.add(numStr1, numStr2);\r\n\t\t}\r\n\t}","title":"Adding numbers which are stored in string variables","body":"<p>Previous solutions have excess code.  This is all you need.</p>\n\n<pre><code>class ShortStringSolution {\n    static String add(String num1Str, String num2Str) {\n        return Long.toString(convert(num1Str) + convert(num2Str));\n    }\n\n    static long convert(String numStr) {\n        long num = 0;\n        for(int i = 0; i &lt; numStr.length(); i++) {\n            num = num * 10 + (numStr.charAt(i) - '0');\n        }\n        return num;\n    }\n}\n\nclass LongStringSolution {\n\n    static String add(String numStr1, String numStr2) {\n        StringBuilder result = new StringBuilder();\n        int i = numStr1.length() - 1, j = numStr2.length() - 1, carry = 0;\n        while(i &gt;= 0 || j &gt;= 0) {\n            if(i &gt;= 0) {\n                carry += numStr1.charAt(i--) - '0';\n            }\n            if(j &gt;= 0) {\n                carry += numStr2.charAt(j--) - '0';\n            }\n            if(carry &gt; 9) {\n                result.append(carry - 10);\n                carry = 1;\n            } else {\n                result.append(carry);\n                carry = 0;\n            }\n        }\n        if(carry &gt; 0) {\n            result.append(carry);\n        }\n        return result.reverse().toString();\n    }\n}\n\npublic class Solution {\n\n    static String add(String numStr1, String numStr2) {\n        if(numStr1.length() &lt; 19 &amp;&amp; numStr2.length() &lt; 19) {\n            return ShortStringSolution.add(numStr1, numStr2);\n        }\n        return LongStringSolution.add(numStr1, numStr2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6595121,"reputation":1,"user_id":5095176,"display_name":"Nirav Ravani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677134283,"creation_date":1677134283,"answer_id":75541358,"question_id":40049145,"body_markdown":"The method takes two string inputs representing non-negative integers and returns the sum of the integers as a string. The algorithm works by iterating through the digits of the input strings from right to left, adding each digit and any carryover from the previous addition, and appending the resulting sum to a `StringBuilder`. Once both input strings have been fully processed, any remaining carryover is appended to the output string. Finally, the string is reversed to produce the correct output order.\r\n\r\nHope this will solve the issue.! \r\n\r\n    public string AddStrings(string num1, string num2) \r\n    {\r\n        int i = num1.Length - 1, j = num2.Length - 1, carry = 0;\r\n        StringBuilder sb = new StringBuilder();\r\n        while (i &gt;= 0 || j &gt;= 0 || carry != 0) {\r\n            int x = i &gt;= 0 ? num1[i--] - &#39;0&#39; : 0;\r\n            int y = j &gt;= 0 ? num2[j--] - &#39;0&#39; : 0;\r\n            int sum = x + y + carry;\r\n            sb.Append(sum % 10);\r\n            carry = sum / 10;\r\n        }\r\n        char[] chars = sb.ToString().ToCharArray();\r\n        Array.Reverse(chars);\r\n        return new string(chars);\r\n    }\r\n\r\n","title":"Adding numbers which are stored in string variables","body":"<p>The method takes two string inputs representing non-negative integers and returns the sum of the integers as a string. The algorithm works by iterating through the digits of the input strings from right to left, adding each digit and any carryover from the previous addition, and appending the resulting sum to a <code>StringBuilder</code>. Once both input strings have been fully processed, any remaining carryover is appended to the output string. Finally, the string is reversed to produce the correct output order.</p>\n<p>Hope this will solve the issue.!</p>\n<pre><code>public string AddStrings(string num1, string num2) \n{\n    int i = num1.Length - 1, j = num2.Length - 1, carry = 0;\n    StringBuilder sb = new StringBuilder();\n    while (i &gt;= 0 || j &gt;= 0 || carry != 0) {\n        int x = i &gt;= 0 ? num1[i--] - '0' : 0;\n        int y = j &gt;= 0 ? num2[j--] - '0' : 0;\n        int sum = x + y + carry;\n        sb.Append(sum % 10);\n        carry = sum / 10;\n    }\n    char[] chars = sb.ToString().ToCharArray();\n    Array.Reverse(chars);\n    return new string(chars);\n}\n</code></pre>\n"}],"owner":{"account_id":7472487,"reputation":1202,"user_id":5679985,"accept_rate":46,"display_name":"Human Cyborg Relations"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40049314,"answer_count":8,"score":1,"last_activity_date":1677134283,"creation_date":1476467185,"question_id":40049145,"body_markdown":"Given two non-negative numbers num1 and num2 represented as strings, return the sum of num1 and num2.\r\n\r\nThe length of both num1 and num2 is less than 5100.\r\n\r\nBoth num1 and num2 contain only digits 0-9.\r\n\r\nBoth num1 and num2 do not contain any leading zeros.\r\n\r\nYou must not use any built-in BigInteger library or convert the inputs to integer directly.\r\n\r\nI tried my solution but it doesn&#39;t work. Suggestions?\r\n\r\n    public class Solution {\r\n        public String addStrings(String num1, String num2) {\r\n            double multiplier = Math.pow(10, num1.length() - 1);\r\n            int sum = 0;\r\n        \r\n            for (int i = 0; i &lt; num1.length(); i++){\r\n                sum += ((((int) num1.charAt(i)) - 48) * multiplier);\r\n                multiplier /= 10;\r\n            }\r\n        \r\n            multiplier = Math.pow(10, num2.length() - 1);\r\n        \r\n            for (int i = 0; i &lt; num2.length(); i++){\r\n                sum += ((((int) num2.charAt(i)) - 48) * multiplier);\r\n                multiplier /= 10;\r\n            }\r\n        \r\n            return &quot;&quot; + sum;\r\n        }    \r\n    }","title":"Adding numbers which are stored in string variables","body":"<p>Given two non-negative numbers num1 and num2 represented as strings, return the sum of num1 and num2.</p>\n\n<p>The length of both num1 and num2 is less than 5100.</p>\n\n<p>Both num1 and num2 contain only digits 0-9.</p>\n\n<p>Both num1 and num2 do not contain any leading zeros.</p>\n\n<p>You must not use any built-in BigInteger library or convert the inputs to integer directly.</p>\n\n<p>I tried my solution but it doesn't work. Suggestions?</p>\n\n<pre><code>public class Solution {\n    public String addStrings(String num1, String num2) {\n        double multiplier = Math.pow(10, num1.length() - 1);\n        int sum = 0;\n\n        for (int i = 0; i &lt; num1.length(); i++){\n            sum += ((((int) num1.charAt(i)) - 48) * multiplier);\n            multiplier /= 10;\n        }\n\n        multiplier = Math.pow(10, num2.length() - 1);\n\n        for (int i = 0; i &lt; num2.length(); i++){\n            sum += ((((int) num2.charAt(i)) - 48) * multiplier);\n            multiplier /= 10;\n        }\n\n        return \"\" + sum;\n    }    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677133964,"creation_date":1677133964,"answer_id":75541315,"question_id":75518582,"body_markdown":"ObjectMapper scan your set and get methods. So you should not use method like getCards and getGameCards. Because of these methods your json is generated not correct. You must change your GameCards class like that.\r\n\r\n    public class GameCards implements Serializable {\r\n\r\n    private List&lt;Card&gt; gameDeck = new ArrayList&lt;&gt;();  \r\n    \r\n    public GameCards() {\r\n    }\r\n    \r\n    public GameCards(int numberOfDecks) {  \r\n        \r\n        this.gameDeck = GameCards.initiateDeck(numberOfDecks);\r\n    }\r\n    \r\n    \r\n    public static List&lt;Card&gt; initiateDeck(int numberOfDecks) {\r\n        \r\n        \r\n        int loop =numberOfDecks;\r\n        Kleur kleuren[] = Kleur.values();\r\n        Waarde waarden[] = Waarde.values();\r\n        List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n        \r\n        while (loop &gt; 0) {\r\n            \r\n            for(Kleur kleur: kleuren) {\r\n                if (kleur == Kleur.achterkant) {\r\n                    continue;\r\n                }\r\n                for( Waarde waarde: waarden) {\r\n                    if (waarde == Waarde.achterkant) {\r\n                        continue;\r\n                    }\r\n                    Card card = new Card(kleur, waarde);\r\n                    cards.add(card);\r\n                }\r\n            }\r\n            loop--;   // loop met &#233;&#233;n verlagen als er &#233;&#233;n compleet deck is toegevoegd\r\n        }\r\n        Collections.shuffle(cards);\r\n        return cards;\r\n        \r\n        \r\n    }\r\n\r\n    public  List&lt;Card&gt; getGameDeck(){\r\n        return this.gameDeck;\r\n    }\r\n\r\n    public  void setGameDeck(){\r\n        return this.gameDeck;\r\n    }\r\n\r\n    public Card pullCard() {\r\n        \r\n        Card card = null; ;\r\n        \r\n        card = this.gameDeck.get(1); // kies de bovenste kaart van het geschudde deck\r\n        this.gameDeck.remove(1);     //en verwijder deze uit de deck\r\n        return card;                 //geef deze kaart aan bv een speler of dealer\r\n\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;GameCards [gameDeck=&quot; + gameDeck + &quot;]&quot;;\r\n    }\r\n}","title":"Bug? Jackson Object mapper adds object at the end of Objectlist","body":"<p>ObjectMapper scan your set and get methods. So you should not use method like getCards and getGameCards. Because of these methods your json is generated not correct. You must change your GameCards class like that.</p>\n<pre><code>public class GameCards implements Serializable {\n\nprivate List&lt;Card&gt; gameDeck = new ArrayList&lt;&gt;();  \n\npublic GameCards() {\n}\n\npublic GameCards(int numberOfDecks) {  \n    \n    this.gameDeck = GameCards.initiateDeck(numberOfDecks);\n}\n\n\npublic static List&lt;Card&gt; initiateDeck(int numberOfDecks) {\n    \n    \n    int loop =numberOfDecks;\n    Kleur kleuren[] = Kleur.values();\n    Waarde waarden[] = Waarde.values();\n    List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\n    \n    while (loop &gt; 0) {\n        \n        for(Kleur kleur: kleuren) {\n            if (kleur == Kleur.achterkant) {\n                continue;\n            }\n            for( Waarde waarde: waarden) {\n                if (waarde == Waarde.achterkant) {\n                    continue;\n                }\n                Card card = new Card(kleur, waarde);\n                cards.add(card);\n            }\n        }\n        loop--;   // loop met één verlagen als er één compleet deck is toegevoegd\n    }\n    Collections.shuffle(cards);\n    return cards;\n    \n    \n}\n\npublic  List&lt;Card&gt; getGameDeck(){\n    return this.gameDeck;\n}\n\npublic  void setGameDeck(){\n    return this.gameDeck;\n}\n\npublic Card pullCard() {\n    \n    Card card = null; ;\n    \n    card = this.gameDeck.get(1); // kies de bovenste kaart van het geschudde deck\n    this.gameDeck.remove(1);     //en verwijder deze uit de deck\n    return card;                 //geef deze kaart aan bv een speler of dealer\n\n}\n\n@Override\npublic String toString() {\n    return &quot;GameCards [gameDeck=&quot; + gameDeck + &quot;]&quot;;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":12138588,"reputation":155,"user_id":8863254,"display_name":"M.Koops"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75541315,"answer_count":1,"score":0,"last_activity_date":1677133964,"creation_date":1676972003,"question_id":75518582,"body_markdown":"My application has an object GameCards, that contains a card-deck ( shuffled, based on two normal card decks).\r\nI store it as a string, via a converter that calls jackson objectMapper.\r\n\r\nThe object before I store it looks like this:\r\n```\r\n[gameDeck=[Card [kleur=harten, waarde=_8], Card [kleur=schoppen, waarde=vrouw], Card [kleur=harten, waarde=heer], Card [kleur=harten, waarde=_5], Card [kleur=schoppen, waarde=_9], Card [kleur=harten, waarde=boer], Card [kleur=harten, waarde=_3], Card [kleur=klaver, waarde=_4], Card [kleur=ruiten, waarde=aas], Card [kleur=ruiten, waarde=_4], Card [kleur=schoppen, waarde=_3], Card [kleur=ruiten, waarde=heer], Card [kleur=ruiten, waarde=_5], Card [kleur=harten, waarde=_4], Card [kleur=schoppen, waarde=_9], Card [kleur=klaver, waarde=_5], Card [kleur=ruiten, waarde=_5], Card [kleur=klaver, waarde=_9], Card [kleur=schoppen, waarde=_8], Card [kleur=harten, waarde=aas], Card [kleur=ruiten, waarde=aas], Card [kleur=harten, waarde=vrouw], Card [kleur=ruiten, waarde=_2], Card [kleur=ruiten, waarde=vrouw], Card [kleur=schoppen, waarde=_7], Card [kleur=schoppen, waarde=_7], Card [kleur=harten, waarde=_6], Card [kleur=schoppen, waarde=_4], Card [kleur=schoppen, waarde=vrouw], Card [kleur=schoppen, waarde=boer], Card [kleur=harten, waarde=vrouw], Card [kleur=klaver, waarde=boer], Card [kleur=klaver, waarde=_6], Card [kleur=ruiten, waarde=_6], Card [kleur=harten, waarde=_9], Card [kleur=schoppen, waarde=heer], Card [kleur=ruiten, waarde=_7], Card [kleur=schoppen, waarde=_2], Card [kleur=ruiten, waarde=boer], Card [kleur=schoppen, waarde=_5], Card [kleur=schoppen, waarde=heer], Card [kleur=schoppen, waarde=aas], Card [kleur=harten, waarde=_3], Card [kleur=ruiten, waarde=_2], Card [kleur=ruiten, waarde=_8], Card [kleur=schoppen, waarde=_6], Card [kleur=ruiten, waarde=_4], Card [kleur=harten, waarde=boer], Card [kleur=harten, waarde=_8], Card [kleur=klaver, waarde=_8], Card [kleur=klaver, waarde=_3], Card [kleur=klaver, waarde=_7], Card [kleur=ruiten, waarde=_7], Card [kleur=ruiten, waarde=vrouw], Card [kleur=schoppen, waarde=boer], Card [kleur=harten, waarde=_5], Card [kleur=schoppen, waarde=_6], Card [kleur=klaver, waarde=_2], Card [kleur=harten, waarde=_4], Card [kleur=schoppen, waarde=_2], Card [kleur=klaver, waarde=vrouw], Card [kleur=klaver, waarde=_2], Card [kleur=harten, waarde=_2], Card [kleur=klaver, waarde=heer], Card [kleur=klaver, waarde=_7], Card [kleur=harten, waarde=_9], Card [kleur=ruiten, waarde=_6], Card [kleur=klaver, waarde=aas], Card [kleur=klaver, waarde=_4], Card [kleur=ruiten, waarde=heer], Card [kleur=schoppen, waarde=_3], Card [kleur=klaver, waarde=aas], Card [kleur=ruiten, waarde=_3], Card [kleur=klaver, waarde=_6], Card [kleur=klaver, waarde=_5], Card [kleur=schoppen, waarde=_8], Card [kleur=harten, waarde=aas], Card [kleur=harten, waarde=heer], Card [kleur=klaver, waarde=_8], Card [kleur=ruiten, waarde=_8], Card [kleur=schoppen, waarde=_5], Card [kleur=ruiten, waarde=_3], Card [kleur=klaver, waarde=_9], Card [kleur=ruiten, waarde=boer], Card [kleur=schoppen, waarde=_4]]]\r\n```\r\nit is converted into this json ( Note that an Object Card is added at the beginning ( actually the second card from the gameCards object is placed as a separste card before the gameCards Object... that should not be there ....):\r\n```\r\n{&quot;card&quot;:{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},&quot;gameCards&quot;:[{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_4&quot;}]}\r\n```\r\nI use this converter. ( The println output is what I showed above.)\r\n```\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\nimport nl.hu.bep2.casino.blackjack.domain.GameCards;\r\n\r\nimport javax.persistence.AttributeConverter;\r\nimport javax.persistence.Converter;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n@Converter\r\npublic class CardListConverter implements AttributeConverter&lt;GameCards, String&gt; {\r\n\t\r\n\tGameCards gameCards = new GameCards();\r\n\t@Override\r\n\tpublic String convertToDatabaseColumn(GameCards gameCards) {\r\n\t\tSystem.out.println(&quot;%%%%$$$$$%%%%%###############$$$$$$$$$$$$$$$&quot;);\r\n\t\tSystem.out.println(&quot;CardListConverter to db is aangeroepen!!! voor gameCards &quot; + gameCards);\r\n\t  \tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t   \r\n\t    String gameCardsJson = null;\r\n\t    try {\r\n\t        gameCardsJson = mapper.writeValueAsString(gameCards);\r\n\t        \r\n\t        System.out.println(&quot;dit maakt de mapper er van:&quot; + gameCardsJson);\r\n\t    } catch (final JsonProcessingException e) {\r\n\t    \tSystem.out.println(&quot;CardListConverter To DB Kolom geeft error&quot;+ e);\r\n\t    }\r\n\t    return gameCardsJson;\r\n\t}\r\n\t  \r\n\t@Override\r\n\tpublic GameCards convertToEntityAttribute(String gameCardsJson) {\r\n\t\r\n\t\t// System.out.println(&quot;CardListConverter to Entity is aangeroepen!!! voor gameCardsJson &quot; + gameCardsJson);\r\n\t\tif (gameCardsJson == null) {\r\n\t        System.out.println(&quot;gameCardsJson is empty!!!&quot;);\r\n\t    }\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t   \r\n\t    try {\r\n\t    \t\r\n\t        return  mapper.readValue(gameCardsJson, GameCards.class );\r\n\t        \t\r\n\t    } catch (final IOException e) {\r\n\t    \tSystem.out.println(&quot;CardListConverter To Entity (from json) geeft error&quot;+ e);\r\n\t       \r\n\t    }\r\n\t\r\n\t    return null;\r\n\t}\r\n}\r\n\t\r\n```\r\n\r\nDoes anyone what goes wrong here?\r\n\r\nThe GameCards object:\r\n```\r\npublic class GameCards implements Serializable {\r\n\r\n\tprivate List&lt;Card&gt; gameDeck = new ArrayList&lt;&gt;();  \r\n\t\r\n\tpublic GameCards() {\r\n\t}\r\n\t\r\n\tpublic GameCards(int numberOfDecks) {  \r\n\t\t\r\n\t\tthis.gameDeck = GameCards.initiateDeck(numberOfDecks);\r\n\t}\r\n\t\r\n\t\r\n\tpublic static List&lt;Card&gt; initiateDeck(int numberOfDecks) {\r\n\t\t\r\n\t\t\r\n\t\tint loop =numberOfDecks;\r\n\t\tKleur kleuren[] = Kleur.values();\r\n\t\tWaarde waarden[] = Waarde.values();\r\n\t\tList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\twhile (loop &gt; 0) {\r\n\t\t\t\r\n\t\t\tfor(Kleur kleur: kleuren) {\r\n\t\t\t\tif (kleur == Kleur.achterkant) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tfor( Waarde waarde: waarden) {\r\n\t\t\t\t\tif (waarde == Waarde.achterkant) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tCard card = new Card(kleur, waarde);\r\n\t\t\t\t\tcards.add(card);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tloop--;   // loop met &#233;&#233;n verlagen als er &#233;&#233;n compleet deck is toegevoegd\r\n\t\t}\r\n\t\tCollections.shuffle(cards);\r\n\t\treturn cards;\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tpublic  List&lt;Card&gt; getGameCards(){\r\n\t\treturn this.gameDeck;\r\n\t}\r\n\r\n\tpublic Card getCard() {\r\n\t\t\r\n\t\tCard card = null; ;\r\n\t\t\r\n\t\tcard = this.gameDeck.get(1); // kies de bovenste kaart van het geschudde deck\r\n\t\tthis.gameDeck.remove(1);     //en verwijder deze uit de deck\r\n\t\treturn card;\t\t\t\t //geef deze kaart aan bv een speler of dealer\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;GameCards [gameDeck=&quot; + gameDeck + &quot;]&quot;;\r\n\t}\r\n```\r\nThe card:\r\n ```\r\npublic class Card implements Serializable  {\r\n\tprivate Kleur kleur;\r\n\tprivate Waarde waarde;\r\n\t\r\n\tpublic Card() {\r\n\t}\r\n\t\r\n\t\r\n\tpublic Card(Kleur kleur, Waarde waarde) {\r\n\t\tthis.kleur = kleur;\r\n\t\tthis.waarde = waarde;\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic Kleur getKleur() {\r\n\t\treturn kleur;\r\n\t}\r\n\r\n\tpublic void setKleur(Kleur kleur) {\r\n\t\tthis.kleur = kleur;\r\n\t}\r\n\r\n\tpublic Waarde getWaarde() {\r\n\t\treturn waarde;\r\n\t}\r\n\r\n\tpublic void setWaarde(Waarde waarde) {\r\n\t\tthis.waarde = waarde;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Card [kleur=&quot; + kleur + &quot;, waarde=&quot; + waarde + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Bug? Jackson Object mapper adds object at the end of Objectlist","body":"<p>My application has an object GameCards, that contains a card-deck ( shuffled, based on two normal card decks).\nI store it as a string, via a converter that calls jackson objectMapper.</p>\n<p>The object before I store it looks like this:</p>\n<pre><code>[gameDeck=[Card [kleur=harten, waarde=_8], Card [kleur=schoppen, waarde=vrouw], Card [kleur=harten, waarde=heer], Card [kleur=harten, waarde=_5], Card [kleur=schoppen, waarde=_9], Card [kleur=harten, waarde=boer], Card [kleur=harten, waarde=_3], Card [kleur=klaver, waarde=_4], Card [kleur=ruiten, waarde=aas], Card [kleur=ruiten, waarde=_4], Card [kleur=schoppen, waarde=_3], Card [kleur=ruiten, waarde=heer], Card [kleur=ruiten, waarde=_5], Card [kleur=harten, waarde=_4], Card [kleur=schoppen, waarde=_9], Card [kleur=klaver, waarde=_5], Card [kleur=ruiten, waarde=_5], Card [kleur=klaver, waarde=_9], Card [kleur=schoppen, waarde=_8], Card [kleur=harten, waarde=aas], Card [kleur=ruiten, waarde=aas], Card [kleur=harten, waarde=vrouw], Card [kleur=ruiten, waarde=_2], Card [kleur=ruiten, waarde=vrouw], Card [kleur=schoppen, waarde=_7], Card [kleur=schoppen, waarde=_7], Card [kleur=harten, waarde=_6], Card [kleur=schoppen, waarde=_4], Card [kleur=schoppen, waarde=vrouw], Card [kleur=schoppen, waarde=boer], Card [kleur=harten, waarde=vrouw], Card [kleur=klaver, waarde=boer], Card [kleur=klaver, waarde=_6], Card [kleur=ruiten, waarde=_6], Card [kleur=harten, waarde=_9], Card [kleur=schoppen, waarde=heer], Card [kleur=ruiten, waarde=_7], Card [kleur=schoppen, waarde=_2], Card [kleur=ruiten, waarde=boer], Card [kleur=schoppen, waarde=_5], Card [kleur=schoppen, waarde=heer], Card [kleur=schoppen, waarde=aas], Card [kleur=harten, waarde=_3], Card [kleur=ruiten, waarde=_2], Card [kleur=ruiten, waarde=_8], Card [kleur=schoppen, waarde=_6], Card [kleur=ruiten, waarde=_4], Card [kleur=harten, waarde=boer], Card [kleur=harten, waarde=_8], Card [kleur=klaver, waarde=_8], Card [kleur=klaver, waarde=_3], Card [kleur=klaver, waarde=_7], Card [kleur=ruiten, waarde=_7], Card [kleur=ruiten, waarde=vrouw], Card [kleur=schoppen, waarde=boer], Card [kleur=harten, waarde=_5], Card [kleur=schoppen, waarde=_6], Card [kleur=klaver, waarde=_2], Card [kleur=harten, waarde=_4], Card [kleur=schoppen, waarde=_2], Card [kleur=klaver, waarde=vrouw], Card [kleur=klaver, waarde=_2], Card [kleur=harten, waarde=_2], Card [kleur=klaver, waarde=heer], Card [kleur=klaver, waarde=_7], Card [kleur=harten, waarde=_9], Card [kleur=ruiten, waarde=_6], Card [kleur=klaver, waarde=aas], Card [kleur=klaver, waarde=_4], Card [kleur=ruiten, waarde=heer], Card [kleur=schoppen, waarde=_3], Card [kleur=klaver, waarde=aas], Card [kleur=ruiten, waarde=_3], Card [kleur=klaver, waarde=_6], Card [kleur=klaver, waarde=_5], Card [kleur=schoppen, waarde=_8], Card [kleur=harten, waarde=aas], Card [kleur=harten, waarde=heer], Card [kleur=klaver, waarde=_8], Card [kleur=ruiten, waarde=_8], Card [kleur=schoppen, waarde=_5], Card [kleur=ruiten, waarde=_3], Card [kleur=klaver, waarde=_9], Card [kleur=ruiten, waarde=boer], Card [kleur=schoppen, waarde=_4]]]\n</code></pre>\n<p>it is converted into this json ( Note that an Object Card is added at the beginning ( actually the second card from the gameCards object is placed as a separste card before the gameCards Object... that should not be there ....):</p>\n<pre><code>{&quot;card&quot;:{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},&quot;gameCards&quot;:[{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_4&quot;}]}\n</code></pre>\n<p>I use this converter. ( The println output is what I showed above.)</p>\n<pre><code>import java.io.IOException;\nimport java.util.List;\n\nimport nl.hu.bep2.casino.blackjack.domain.GameCards;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Converter\npublic class CardListConverter implements AttributeConverter&lt;GameCards, String&gt; {\n    \n    GameCards gameCards = new GameCards();\n    @Override\n    public String convertToDatabaseColumn(GameCards gameCards) {\n        System.out.println(&quot;%%%%$$$$$%%%%%###############$$$$$$$$$$$$$$$&quot;);\n        System.out.println(&quot;CardListConverter to db is aangeroepen!!! voor gameCards &quot; + gameCards);\n        final ObjectMapper mapper = new ObjectMapper();\n       \n        String gameCardsJson = null;\n        try {\n            gameCardsJson = mapper.writeValueAsString(gameCards);\n            \n            System.out.println(&quot;dit maakt de mapper er van:&quot; + gameCardsJson);\n        } catch (final JsonProcessingException e) {\n            System.out.println(&quot;CardListConverter To DB Kolom geeft error&quot;+ e);\n        }\n        return gameCardsJson;\n    }\n      \n    @Override\n    public GameCards convertToEntityAttribute(String gameCardsJson) {\n    \n        // System.out.println(&quot;CardListConverter to Entity is aangeroepen!!! voor gameCardsJson &quot; + gameCardsJson);\n        if (gameCardsJson == null) {\n            System.out.println(&quot;gameCardsJson is empty!!!&quot;);\n        }\n        final ObjectMapper mapper = new ObjectMapper();\n       \n        try {\n            \n            return  mapper.readValue(gameCardsJson, GameCards.class );\n                \n        } catch (final IOException e) {\n            System.out.println(&quot;CardListConverter To Entity (from json) geeft error&quot;+ e);\n           \n        }\n    \n        return null;\n    }\n}\n    \n</code></pre>\n<p>Does anyone what goes wrong here?</p>\n<p>The GameCards object:</p>\n<pre><code>public class GameCards implements Serializable {\n\n    private List&lt;Card&gt; gameDeck = new ArrayList&lt;&gt;();  \n    \n    public GameCards() {\n    }\n    \n    public GameCards(int numberOfDecks) {  \n        \n        this.gameDeck = GameCards.initiateDeck(numberOfDecks);\n    }\n    \n    \n    public static List&lt;Card&gt; initiateDeck(int numberOfDecks) {\n        \n        \n        int loop =numberOfDecks;\n        Kleur kleuren[] = Kleur.values();\n        Waarde waarden[] = Waarde.values();\n        List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\n        \n        while (loop &gt; 0) {\n            \n            for(Kleur kleur: kleuren) {\n                if (kleur == Kleur.achterkant) {\n                    continue;\n                }\n                for( Waarde waarde: waarden) {\n                    if (waarde == Waarde.achterkant) {\n                        continue;\n                    }\n                    Card card = new Card(kleur, waarde);\n                    cards.add(card);\n                }\n            }\n            loop--;   // loop met één verlagen als er één compleet deck is toegevoegd\n        }\n        Collections.shuffle(cards);\n        return cards;\n        \n        \n    }\n\n    public  List&lt;Card&gt; getGameCards(){\n        return this.gameDeck;\n    }\n\n    public Card getCard() {\n        \n        Card card = null; ;\n        \n        card = this.gameDeck.get(1); // kies de bovenste kaart van het geschudde deck\n        this.gameDeck.remove(1);     //en verwijder deze uit de deck\n        return card;                 //geef deze kaart aan bv een speler of dealer\n\n    }\n\n    @Override\n    public String toString() {\n        return &quot;GameCards [gameDeck=&quot; + gameDeck + &quot;]&quot;;\n    }\n</code></pre>\n<p>The card:</p>\n<pre><code>public class Card implements Serializable  {\n   private Kleur kleur;\n   private Waarde waarde;\n   \n   public Card() {\n   }\n   \n   \n   public Card(Kleur kleur, Waarde waarde) {\n       this.kleur = kleur;\n       this.waarde = waarde;\n       // TODO Auto-generated constructor stub\n   }\n\n   public Kleur getKleur() {\n       return kleur;\n   }\n\n   public void setKleur(Kleur kleur) {\n       this.kleur = kleur;\n   }\n\n   public Waarde getWaarde() {\n       return waarde;\n   }\n\n   public void setWaarde(Waarde waarde) {\n       this.waarde = waarde;\n   }\n\n   @Override\n   public String toString() {\n       return &quot;Card [kleur=&quot; + kleur + &quot;, waarde=&quot; + waarde + &quot;]&quot;;\n   }\n   \n   \n\n}\n</code></pre>\n"},{"tags":["java","android","android-external-storage","android-internal-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677152263,"post_id":75541309,"comment_id":133283188,"body_markdown":"`File exportDir = new File(des, &quot;&quot;);` What is des? You should add the code that calls your asynctask and make very clear which path you use. Also: which operation is not allowed? Dont let us gues!","body":"<code>File exportDir = new File(des, &quot;&quot;);</code> What is des? You should add the code that calls your asynctask and make very clear which path you use. Also: which operation is not allowed? Dont let us gues!"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677152384,"post_id":75541309,"comment_id":133283221,"body_markdown":"`if (!exportDir.exists()) {\n            exportDir.mkdirs();\n        }` Do not blindly believe that the directory will be created. Better: `if (!exportDir.exists()) {\n            if ( !exportDir.mkdirs()) return false;\n        }` And better do that before you call the asynctask.","body":"<code>if (!exportDir.exists()) {             exportDir.mkdirs();         }</code> Do not blindly believe that the directory will be created. Better: <code>if (!exportDir.exists()) {             if ( !exportDir.mkdirs()) return false;         }</code> And better do that before you call the asynctask."}],"owner":{"account_id":27857591,"reputation":1,"user_id":21270779,"display_name":"TPCODL ODISHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677133911,"creation_date":1677133911,"question_id":75541309,"body_markdown":"I try to copy Sqlite DB of an application to external storage. In android below 10 it is working perfectly but in android 11 and above it is not working. Getting error **operation not allowed**  Any suggestion will be helpful for me.  \r\n\r\nI have tried below sample.\r\n\r\nprivate class ExportDatabaseFileTask extends AsyncTask&lt;File, Void, Boolean&gt; {\r\n        private final ProgressDialog dialog = new ProgressDialog(MainDashBoard.this);\r\n\r\n        protected void onPreExecute() {\r\n            this.dialog.setMessage(&quot;Exporting database...&quot;);\r\n            this.dialog.show();\r\n        }\r\n\r\n        // automatically done on worker thread (separate from UI thread)\r\n        protected Boolean doInBackground(final File... args) {\r\n            File des=args[0];\r\n            File dbFile;\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\r\n                dbFile = new File(db.getDbPath(MainDashBoard.this)+&quot;/&quot;+&quot;MOC.db&quot;);\r\n\r\n            }else {\r\n                dbFile = new File(db.getDbPath(MainDashBoard.this)+&quot;/&quot;+&quot;MOC.db&quot;);\r\n            }\r\n            File exportDir = new File(des, &quot;&quot;);\r\n\r\n            if (!exportDir.exists()) {\r\n                exportDir.mkdirs();\r\n            }\r\n            SimpleDateFormat s = new SimpleDateFormat(&quot;dd-MM-yyy_hh:mm:ss&quot;);\r\n            String format = s.format(new Date());\r\n\r\n            String localDBName = &quot;SMRD_&quot; + &quot;Rishi&quot; + &quot;_&quot; + format + &quot;.db&quot;;\r\n            File file = new File(exportDir, localDBName.trim());\r\n\r\n            try {\r\n                //file.createNewFile();\r\n                this.copyFile(dbFile, file);\r\n                return true;\r\n            } catch (IOException e) {\r\n                Log.e(&quot;mypck&quot;, e.getMessage(), e);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // can use UI thread here\r\n        protected void onPostExecute(final Boolean success) {\r\n            if (this.dialog.isShowing()) {\r\n                this.dialog.dismiss();\r\n            }\r\n            if (success) {\r\n                Toast.makeText(MainDashBoard.this, &quot;Export successful!&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(MainDashBoard.this, &quot;Export failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n        void copyFile(File src, File dst) throws IOException {\r\n            FileChannel inChannel = new FileInputStream(src).getChannel();\r\n            FileChannel outChannel = new FileOutputStream(dst).getChannel();\r\n            try {\r\n                inChannel.transferTo(0, inChannel.size(), outChannel);\r\n            } finally {\r\n                if (inChannel != null)\r\n                    inChannel.close();\r\n                if (outChannel != null)\r\n                    outChannel.close();\r\n            }\r\n        }\r\n    }","title":"How to copy Sqlite Db of an application to external storage in android 11","body":"<p>I try to copy Sqlite DB of an application to external storage. In android below 10 it is working perfectly but in android 11 and above it is not working. Getting error <strong>operation not allowed</strong>  Any suggestion will be helpful for me.</p>\n<p>I have tried below sample.</p>\n<p>private class ExportDatabaseFileTask extends AsyncTask&lt;File, Void, Boolean&gt; {\nprivate final ProgressDialog dialog = new ProgressDialog(MainDashBoard.this);</p>\n<pre><code>    protected void onPreExecute() {\n        this.dialog.setMessage(&quot;Exporting database...&quot;);\n        this.dialog.show();\n    }\n\n    // automatically done on worker thread (separate from UI thread)\n    protected Boolean doInBackground(final File... args) {\n        File des=args[0];\n        File dbFile;\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\n            dbFile = new File(db.getDbPath(MainDashBoard.this)+&quot;/&quot;+&quot;MOC.db&quot;);\n\n        }else {\n            dbFile = new File(db.getDbPath(MainDashBoard.this)+&quot;/&quot;+&quot;MOC.db&quot;);\n        }\n        File exportDir = new File(des, &quot;&quot;);\n\n        if (!exportDir.exists()) {\n            exportDir.mkdirs();\n        }\n        SimpleDateFormat s = new SimpleDateFormat(&quot;dd-MM-yyy_hh:mm:ss&quot;);\n        String format = s.format(new Date());\n\n        String localDBName = &quot;SMRD_&quot; + &quot;Rishi&quot; + &quot;_&quot; + format + &quot;.db&quot;;\n        File file = new File(exportDir, localDBName.trim());\n\n        try {\n            //file.createNewFile();\n            this.copyFile(dbFile, file);\n            return true;\n        } catch (IOException e) {\n            Log.e(&quot;mypck&quot;, e.getMessage(), e);\n            return false;\n        }\n    }\n\n    // can use UI thread here\n    protected void onPostExecute(final Boolean success) {\n        if (this.dialog.isShowing()) {\n            this.dialog.dismiss();\n        }\n        if (success) {\n            Toast.makeText(MainDashBoard.this, &quot;Export successful!&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(MainDashBoard.this, &quot;Export failed&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    void copyFile(File src, File dst) throws IOException {\n        FileChannel inChannel = new FileInputStream(src).getChannel();\n        FileChannel outChannel = new FileOutputStream(dst).getChannel();\n        try {\n            inChannel.transferTo(0, inChannel.size(), outChannel);\n        } finally {\n            if (inChannel != null)\n                inChannel.close();\n            if (outChannel != null)\n                outChannel.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676970322,"post_id":75517805,"comment_id":133239179,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":12849024,"reputation":1,"user_id":17650222,"display_name":"Viktor Kondratsiuk"},"score":0,"creation_date":1676970854,"post_id":75517805,"comment_id":133239329,"body_markdown":"@Alex Mamo This code works well. Its just an example how im sending notifications and here i want to implement functionality of deleting messages from device by timeout.","body":"@Alex Mamo This code works well. Its just an example how im sending notifications and here i want to implement functionality of deleting messages from device by timeout."},{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1676971509,"post_id":75517805,"comment_id":133239579,"body_markdown":"The description of your question is vague. Please state what exactly is the problem you are facing and what you have tried","body":"The description of your question is vague. Please state what exactly is the problem you are facing and what you have tried"},{"owner":{"account_id":12849024,"reputation":1,"user_id":17650222,"display_name":"Viktor Kondratsiuk"},"score":0,"creation_date":1676982046,"post_id":75517805,"comment_id":133242754,"body_markdown":"@Noah I&#39;ve tried to add `tag` or/and `collapse-key` in `setNotification(Android Notification.builder()`, but it works not the way i need: it removes previous message, when the newer is sent and i need to remove all sent messages from device by timeout.","body":"@Noah I&#39;ve tried to add <code>tag</code> or/and <code>collapse-key</code> in <code>setNotification(Android Notification.builder()</code>, but it works not the way i need: it removes previous message, when the newer is sent and i need to remove all sent messages from device by timeout."},{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1677008131,"post_id":75517805,"comment_id":133251267,"body_markdown":"Now, edit your question with more detail so that people can help you","body":"Now, edit your question with more detail so that people can help you"},{"owner":{"account_id":12849024,"reputation":1,"user_id":17650222,"display_name":"Viktor Kondratsiuk"},"score":0,"creation_date":1677053282,"post_id":75517805,"comment_id":133259316,"body_markdown":"@Noah Witch details do you need? I really don&#39;t uderstand.. I wrote detailed question with code and what i&#39;ve tried to solve this problem.. I will be glad to add more info, but tell me please, what else do you need? I need to delete push messages from device from server side by timeout, like `collapse_id` do (as i wrote before), but not replacing message with another, i need just delete all messages if time comes.","body":"@Noah Witch details do you need? I really don&#39;t uderstand.. I wrote detailed question with code and what i&#39;ve tried to solve this problem.. I will be glad to add more info, but tell me please, what else do you need? I need to delete push messages from device from server side by timeout, like <code>collapse_id</code> do (as i wrote before), but not replacing message with another, i need just delete all messages if time comes."},{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1677068955,"post_id":75517805,"comment_id":133263635,"body_markdown":"@ViktorKondratsiuk, I can&#39;t solve the problem because the code should only include a well-formatted code, of only the parts that is giving you issue, remove the rest","body":"@ViktorKondratsiuk, I can&#39;t solve the problem because the code should only include a well-formatted code, of only the parts that is giving you issue, remove the rest"}],"owner":{"account_id":12849024,"reputation":1,"user_id":17650222,"display_name":"Viktor Kondratsiuk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677133854,"creation_date":1676967330,"question_id":75517805,"body_markdown":"Have written service, witch sends push messages on IOS and Android devices and delete messages(after 1 hour), if device is switched off. But i need also to delete messages, if its already shown on device (in case, when user, for example, haven`t unlocked device for a long time and to prevent showing too many messages). How i build push message:\r\n\r\n```\r\nNotification notify = Notification.builder()\r\n        .setTitle(folder.getName())\r\n        .setBody(&quot;Открыть поступивший документ&quot;)\r\n        .build();\r\nMessage msg = Message.builder()\r\n        .setToken(device.getDevice_id())\r\n        .setNotification(notify)\r\n        .putData(&quot;folderOid&quot;, folder.name())\r\n        .putData(&quot;documentOid&quot;, documentOid)\r\n        .setAndroidConfig(AndroidConfig.builder()\r\n                .setTtl(3600000)\r\n                .build())\r\n        /* настройки для ios */\r\n        .setApnsConfig(ApnsConfig.builder()\r\n                .putHeader(&quot;apns-priority&quot;, &quot;5&quot;)\r\n                .putHeader(&quot;apns-expiration&quot;, &quot;3600000&quot;)\r\n                .setAps(Aps.builder()\r\n                        .setMutableContent(true)\r\n                        .setBadge(1)\r\n                        .build())\r\n                .build())\r\n        .build();            \r\n```\r\n\r\nI expect the messages to be deleted from device by time out of 1 hour.\r\nI&#39;ve tried to add `tag` or/and `collapse-key` in `setNotification(Android Notification.builder()`, but it works not the way i need: it removes previous message, when the newer is sent and i need to remove all sent messages from device by timeout.\r\n\r\nAs i&#39;ve read here https://documentation.onesignal.com/docs/remove-notifications-and-ttl there is no other way to remove(not replacing) notification without using for Android: `Service Extension` from Android API or `setting Badge Count to 0`, for IOS: Apple native `removeDeliveredNotifications(withIdentifiers:) method and getDeliveredNotifications(completionHandler:) method` to target the expired notifications and remove them.\r\n","title":"Delete push message (Firebase) from device (Android and IOS) if already shown","body":"<p>Have written service, witch sends push messages on IOS and Android devices and delete messages(after 1 hour), if device is switched off. But i need also to delete messages, if its already shown on device (in case, when user, for example, haven`t unlocked device for a long time and to prevent showing too many messages). How i build push message:</p>\n<pre><code>Notification notify = Notification.builder()\n        .setTitle(folder.getName())\n        .setBody(&quot;Открыть поступивший документ&quot;)\n        .build();\nMessage msg = Message.builder()\n        .setToken(device.getDevice_id())\n        .setNotification(notify)\n        .putData(&quot;folderOid&quot;, folder.name())\n        .putData(&quot;documentOid&quot;, documentOid)\n        .setAndroidConfig(AndroidConfig.builder()\n                .setTtl(3600000)\n                .build())\n        /* настройки для ios */\n        .setApnsConfig(ApnsConfig.builder()\n                .putHeader(&quot;apns-priority&quot;, &quot;5&quot;)\n                .putHeader(&quot;apns-expiration&quot;, &quot;3600000&quot;)\n                .setAps(Aps.builder()\n                        .setMutableContent(true)\n                        .setBadge(1)\n                        .build())\n                .build())\n        .build();            \n</code></pre>\n<p>I expect the messages to be deleted from device by time out of 1 hour.\nI've tried to add <code>tag</code> or/and <code>collapse-key</code> in <code>setNotification(Android Notification.builder()</code>, but it works not the way i need: it removes previous message, when the newer is sent and i need to remove all sent messages from device by timeout.</p>\n<p>As i've read here <a href=\"https://documentation.onesignal.com/docs/remove-notifications-and-ttl\" rel=\"nofollow noreferrer\">https://documentation.onesignal.com/docs/remove-notifications-and-ttl</a> there is no other way to remove(not replacing) notification without using for Android: <code>Service Extension</code> from Android API or <code>setting Badge Count to 0</code>, for IOS: Apple native <code>removeDeliveredNotifications(withIdentifiers:) method and getDeliveredNotifications(completionHandler:) method</code> to target the expired notifications and remove them.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6685637,"reputation":739,"user_id":5156999,"display_name":"Santosh b"},"score":0,"creation_date":1677133021,"post_id":75541190,"comment_id":133278423,"body_markdown":"Its a good practise to declare them private but its not mandatory though.","body":"Its a good practise to declare them private but its not mandatory though."},{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1677134181,"post_id":75541190,"comment_id":133278598,"body_markdown":"_&quot;I would like to know if any difference is there between default and private dependent field except the access modifier differences&quot;_ - default is package private, so any class in the same package can modify the field if it&#39;s not private.","body":"<i>&quot;I would like to know if any difference is there between default and private dependent field except the access modifier differences&quot;</i> - default is package private, so any class in the same package can modify the field if it&#39;s not private."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677133134,"creation_date":1677133134,"answer_id":75541224,"question_id":75541190,"body_markdown":"Either. There is no requirement from Spring creators to make it `private` or not. The autowiring works regardless of the visibility modifiers.\r\n\r\nThere is though a good practice to [encapsulate][1] the fields. The framework choice is not relevant. It is a common practice to define the autowired fields as `private`, though it is not mandatory.\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/java_encapsulation.htm","title":"Should dependent objects be private in spring boot?","body":"<p>Either. There is no requirement from Spring creators to make it <code>private</code> or not. The autowiring works regardless of the visibility modifiers.</p>\n<p>There is though a good practice to <a href=\"https://www.tutorialspoint.com/java/java_encapsulation.htm\" rel=\"nofollow noreferrer\">encapsulate</a> the fields. The framework choice is not relevant. It is a common practice to define the autowired fields as <code>private</code>, though it is not mandatory.</p>\n"},{"tags":[],"owner":{"account_id":27786104,"reputation":41,"user_id":21213520,"display_name":"Bikathi Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677133543,"creation_date":1677133543,"answer_id":75541274,"question_id":75541190,"body_markdown":"No it&#39;s not mandatory at all. It&#39;s just good practice to make them private. Though at times you may get scope errors when you annotate private methods with the `@Bean` annotation.\r\nBut for the injection, encapsulation is optional.","title":"Should dependent objects be private in spring boot?","body":"<p>No it's not mandatory at all. It's just good practice to make them private. Though at times you may get scope errors when you annotate private methods with the <code>@Bean</code> annotation.\nBut for the injection, encapsulation is optional.</p>\n"}],"owner":{"account_id":27789258,"reputation":11,"user_id":21216024,"display_name":"Kumarasamy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677164151,"answer_count":2,"score":0,"last_activity_date":1677133543,"creation_date":1677132875,"question_id":75541190,"body_markdown":"Is it mandatory to declare the dependent fields *private* in spring boot?\r\nFor example :\r\n\r\n```\r\nclass MyClass {\r\n\r\n    @Autowired\r\n    EmpService empService\r\n}\r\n```\r\n```\r\nclass MyClass {\r\n\r\n    @Autowired\r\n    private EmpService empService  \r\n}\r\n```\r\n\r\nWhich one is correct and why?\r\n\r\nBoth are working fine and I would like to know if any difference is there between default and private dependent field except the access modifier differences","title":"Should dependent objects be private in spring boot?","body":"<p>Is it mandatory to declare the dependent fields <em>private</em> in spring boot?\nFor example :</p>\n<pre><code>class MyClass {\n\n    @Autowired\n    EmpService empService\n}\n</code></pre>\n<pre><code>class MyClass {\n\n    @Autowired\n    private EmpService empService  \n}\n</code></pre>\n<p>Which one is correct and why?</p>\n<p>Both are working fine and I would like to know if any difference is there between default and private dependent field except the access modifier differences</p>\n"},{"tags":["java","jakarta-ee","open-liberty","microprofile"],"owner":{"account_id":10902579,"reputation":129,"user_id":8014445,"accept_rate":100,"display_name":"Vinagy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677133253,"creation_date":1676964513,"question_id":75517401,"body_markdown":"Microprofile allows you to expose metrics for your application, but common logic is placed in a separate repository which is added as a dependency to the POM.\r\n\r\nHow can I get the metrics for this common library which is included in all of our microservices?\r\n\r\nThe metrics for the microservice itself work and show up at the endpoint. I verified the code from the common library is actually called. It has the same annotation as used in the microservice (@Timed). It has the same dependency on microprofile metrics in the POM.\r\n\r\nFor the microservice, the metrics are enabled in the server.xml like so:\r\n```&lt;feature&gt;mpMetrics-3.0&lt;/feature&gt;```\r\nBut the common library does not have a server.xml since it is only ever used as a dependency and never deployed separately.\r\n\r\nEdit:\r\n\r\nI&#39;m thinking it has to do with creating the object in a Produces method. This does work however for my own custom interceptor, but it doesn&#39;t seem to pick up the @Timed from microprofile metrics.\r\n\r\n    @Produces\r\n    public RedisStore produceRedisStore(InterceptionFactory&lt;RedisStore&gt; factory) {\r\n    \treturn factory.createInterceptedInstance(\r\n    \t\t\tnew RedisStore(...));\r\n    }\r\n\r\nWhen making the RedisStore @ApplicationScoped, the metrics do show up. This verifies that it most likely has something to do with the @Produces method.","title":"Microprofile metrics on openliberty, how to get metrics for dependency which you control","body":"<p>Microprofile allows you to expose metrics for your application, but common logic is placed in a separate repository which is added as a dependency to the POM.</p>\n<p>How can I get the metrics for this common library which is included in all of our microservices?</p>\n<p>The metrics for the microservice itself work and show up at the endpoint. I verified the code from the common library is actually called. It has the same annotation as used in the microservice (@Timed). It has the same dependency on microprofile metrics in the POM.</p>\n<p>For the microservice, the metrics are enabled in the server.xml like so:\n<code>&lt;feature&gt;mpMetrics-3.0&lt;/feature&gt;</code>\nBut the common library does not have a server.xml since it is only ever used as a dependency and never deployed separately.</p>\n<p>Edit:</p>\n<p>I'm thinking it has to do with creating the object in a Produces method. This does work however for my own custom interceptor, but it doesn't seem to pick up the @Timed from microprofile metrics.</p>\n<pre><code>@Produces\npublic RedisStore produceRedisStore(InterceptionFactory&lt;RedisStore&gt; factory) {\n    return factory.createInterceptedInstance(\n            new RedisStore(...));\n}\n</code></pre>\n<p>When making the RedisStore @ApplicationScoped, the metrics do show up. This verifies that it most likely has something to do with the @Produces method.</p>\n"},{"tags":["java","rest","resttemplate"],"comments":[{"owner":{"account_id":876647,"reputation":1405,"user_id":44605,"accept_rate":75,"display_name":"AlexC"},"score":0,"creation_date":1549628531,"post_id":54592291,"comment_id":95980859,"body_markdown":"Add a logging/System.out before the new RestTemplate(...) call and output the URL generated.  Are you sure the dynamically generated URL is exactly the same as the URL you are testing with postman?","body":"Add a logging/System.out before the new RestTemplate(...) call and output the URL generated.  Are you sure the dynamically generated URL is exactly the same as the URL you are testing with postman?"},{"owner":{"account_id":12218581,"reputation":188,"user_id":8918241,"display_name":"MDDCoder25"},"score":0,"creation_date":1549628806,"post_id":54592291,"comment_id":95981034,"body_markdown":"Yes, that is what I did. I copied the URL from there to Postman and with the exact same URL it is working in Postman","body":"Yes, that is what I did. I copied the URL from there to Postman and with the exact same URL it is working in Postman"},{"owner":{"account_id":11097130,"reputation":514,"user_id":8146873,"display_name":"Dinesh Shekhawat"},"score":0,"creation_date":1549629495,"post_id":54592291,"comment_id":95981396,"body_markdown":"Can you show your API Code?","body":"Can you show your API Code?"},{"owner":{"account_id":14501361,"reputation":103,"user_id":10474434,"display_name":"MuCh"},"score":0,"creation_date":1662981742,"post_id":54592291,"comment_id":130124091,"body_markdown":"@MDDCoder25 Did you find out the solution for this issue? I am facing the same.","body":"@MDDCoder25 Did you find out the solution for this issue? I am facing the same."}],"answers":[{"tags":[],"owner":{"account_id":14833360,"reputation":803,"user_id":10712233,"display_name":"Victor Calatramas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549631698,"creation_date":1549631698,"answer_id":54593235,"question_id":54592291,"body_markdown":"Code `405 Method Not Allowed` means the HTTP verb (GET, POST, PUT, etc.) you use against this end-point is known but not accepted by the API.\r\n\r\nIf you can&#39;t post the details of your API as @Dinesh Singh Shekhawat suggested, I will first try to use Postman Code feature and get an automatically generated code for Java (OkHTTP or UniRest) of the request. You can find this option on the right part below the **Send** button. Copy this code and try to perform the request.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/354ZR.png\r\n\r\nThen compare this request with yours.\r\n\r\nYou can always use `HttpPut` instead of RestTemplate if it&#39;s not a requirement:\r\n\r\n```(java)\r\nHttpClient client = HttpClientBuilder.create().build();\r\nString url = &quot;http://fake/foobar/c/123&quot;;\r\n\r\nHttpHeaders headers = createHeader();\r\nHttpEntity&lt;Offer&gt; httpEntity = new HttpEntity&lt;&gt;(bodyEntity, headers);\r\nHttpPut httpPut = new HttpPut(url);\r\nhttpPut.setEntity(httpEntity);\r\n\r\nHttpResponse response = client.execute(httpPut);\r\n\r\n```","title":"Java - RestTemplate 405 Method Not Allowed Although Postman Call Works","body":"<p>Code <code>405 Method Not Allowed</code> means the HTTP verb (GET, POST, PUT, etc.) you use against this end-point is known but not accepted by the API.</p>\n\n<p>If you can't post the details of your API as @Dinesh Singh Shekhawat suggested, I will first try to use Postman Code feature and get an automatically generated code for Java (OkHTTP or UniRest) of the request. You can find this option on the right part below the <strong>Send</strong> button. Copy this code and try to perform the request.</p>\n\n<p><a href=\"https://i.stack.imgur.com/354ZR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/354ZR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then compare this request with yours.</p>\n\n<p>You can always use <code>HttpPut</code> instead of RestTemplate if it's not a requirement:</p>\n\n<pre><code>HttpClient client = HttpClientBuilder.create().build();\nString url = \"http://fake/foobar/c/123\";\n\nHttpHeaders headers = createHeader();\nHttpEntity&lt;Offer&gt; httpEntity = new HttpEntity&lt;&gt;(bodyEntity, headers);\nHttpPut httpPut = new HttpPut(url);\nhttpPut.setEntity(httpEntity);\n\nHttpResponse response = client.execute(httpPut);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4236032,"reputation":1546,"user_id":3467146,"display_name":"Ifta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622594380,"creation_date":1622594380,"answer_id":67797565,"question_id":54592291,"body_markdown":"I was facing the same problem. Later I printed the request and URL in the logs.\r\nI found that I was using a wrong endpoint. \r\nCan you please try to print the URL and the request in the logs and check if those are expected and correct?","title":"Java - RestTemplate 405 Method Not Allowed Although Postman Call Works","body":"<p>I was facing the same problem. Later I printed the request and URL in the logs.\nI found that I was using a wrong endpoint.\nCan you please try to print the URL and the request in the logs and check if those are expected and correct?</p>\n"},{"tags":[],"owner":{"account_id":431163,"reputation":486,"user_id":815052,"accept_rate":91,"display_name":"JPProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677133185,"creation_date":1677131308,"answer_id":75541021,"question_id":54592291,"body_markdown":"Just in case it helps someone else: I was encountering the same issue and for me it was just the issue of a trailing slash `/` on the URL. In insomnia (similar to postman) I had a trailing slash, in code I didn&#39;t. When I added the slash to my code everything worked.\r\n\r\nfailure: `http://localhost:8080/api/files`   \r\nsuccess: `http://localhost:8080/api/files/`\r\n\r\nOf course it could also be the other way around, so just double check the actual api definition.","title":"Java - RestTemplate 405 Method Not Allowed Although Postman Call Works","body":"<p>Just in case it helps someone else: I was encountering the same issue and for me it was just the issue of a trailing slash <code>/</code> on the URL. In insomnia (similar to postman) I had a trailing slash, in code I didn't. When I added the slash to my code everything worked.</p>\n<p>failure: <code>http://localhost:8080/api/files</code><br />\nsuccess: <code>http://localhost:8080/api/files/</code></p>\n<p>Of course it could also be the other way around, so just double check the actual api definition.</p>\n"}],"owner":{"account_id":12218581,"reputation":188,"user_id":8918241,"display_name":"MDDCoder25"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5386,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1677133185,"creation_date":1549628174,"question_id":54592291,"body_markdown":"I am experiencing a weird issue when working with RestTemplate. I&#39;m using a certain REST API and there I want to update something using PUT.\r\nThus, in e.g. Postman I am sending this request:\r\n\r\n    PUT http://fake/foobar/c/123 with a certain body\r\n\r\nThis update via Postman is successful. If I now execute the same call in Java via a `RestTemplate`, I am getting a 405 Method Not Allowed:\r\n\r\n\tHttpHeaders headers = createHeader();\r\n\tHttpEntity&lt;Offer&gt; httpEntity = new HttpEntity&lt;&gt;(bodyEntity, headers);\r\n\tString url = &quot;http://fake/foobar/c/123&quot;; //Created dynamically, but here pasted for sake of simplicity\r\n\tRestTemplate restTemplate = new RestTemplate(...);\r\n\tResponseEntity&lt;OfferResponse&gt; response = restTemplate.exchange(url, HttpMethod.PUT, httpEntity, OfferResponse.class);\r\n\t...\r\n\r\nI compared the URL again and again. If I copy the URL logged in the console and copy it to Postman, I can do the update successfully. I also compared the headers and everything. Everything is equal to how it is done via Postman.\r\n\r\nIs there any potential other reason for such a behavior (another reason than I am too stupid comparing the headers etc. and missing something)? Other PUT, POST calls etc. against this API are working fine, otherwise I would have assumed that there is a general problem with my usage of `RestTemplate`\r\n\r\n","title":"Java - RestTemplate 405 Method Not Allowed Although Postman Call Works","body":"<p>I am experiencing a weird issue when working with RestTemplate. I'm using a certain REST API and there I want to update something using PUT.\nThus, in e.g. Postman I am sending this request:</p>\n\n<pre><code>PUT http://fake/foobar/c/123 with a certain body\n</code></pre>\n\n<p>This update via Postman is successful. If I now execute the same call in Java via a <code>RestTemplate</code>, I am getting a 405 Method Not Allowed:</p>\n\n<pre><code>HttpHeaders headers = createHeader();\nHttpEntity&lt;Offer&gt; httpEntity = new HttpEntity&lt;&gt;(bodyEntity, headers);\nString url = \"http://fake/foobar/c/123\"; //Created dynamically, but here pasted for sake of simplicity\nRestTemplate restTemplate = new RestTemplate(...);\nResponseEntity&lt;OfferResponse&gt; response = restTemplate.exchange(url, HttpMethod.PUT, httpEntity, OfferResponse.class);\n...\n</code></pre>\n\n<p>I compared the URL again and again. If I copy the URL logged in the console and copy it to Postman, I can do the update successfully. I also compared the headers and everything. Everything is equal to how it is done via Postman.</p>\n\n<p>Is there any potential other reason for such a behavior (another reason than I am too stupid comparing the headers etc. and missing something)? Other PUT, POST calls etc. against this API are working fine, otherwise I would have assumed that there is a general problem with my usage of <code>RestTemplate</code></p>\n"},{"tags":["java","jpa","spring-data-jpa","properties","apache-commons-beanutils"],"owner":{"account_id":3705593,"reputation":2582,"user_id":3084228,"accept_rate":49,"display_name":"Junaid S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677133115,"creation_date":1676975344,"question_id":75519177,"body_markdown":"I have DB tables like below\r\n\r\n[![Composite Primary Key][1]][1]\r\n\r\n**Phone.java**\r\n\r\n    @Entity(name = &quot;Phone&quot;)\r\n    @Table(name = &quot;phone&quot;)\r\n    public class Phone {\r\n     \r\n        @Id\r\n        @Column(name = &quot;`number`&quot;)\r\n        private String number;\r\n     \r\n        @ManyToOne\r\n        @JoinColumns({\r\n            @JoinColumn(\r\n                name = &quot;company_id&quot;,\r\n                referencedColumnName = &quot;company_id&quot;),\r\n            @JoinColumn(\r\n                name = &quot;employee_number&quot;,\r\n                referencedColumnName = &quot;employee_number&quot;)\r\n        })\r\n        private Employee employee;\r\n     \r\n        // Getters and setters\r\n    }\r\n\r\nAnd for each table, we have a respective history table where we store history (create, update, and delete).\r\n\r\n**PhoneHistory.java**\r\n\r\n    @Entity(name = &quot;PhoneHistory&quot;)\r\n    @Table(name = &quot;phone_hst&quot;)\r\n    public class PhoneHistory {\r\n        @Id\r\n        @Column(name = &quot;history_key&quot;)\r\n        private long historyKey;\r\n     \r\n        @Basic\r\n        @Column(name = &quot;reason&quot;)\r\n        private String reason;\r\n     \r\n        @Basic\r\n        @Column(name = &quot;`number`&quot;)\r\n        private String number;\r\n     \r\n        @Basic\r\n        @Column(name = &quot;company_id&quot;)\r\n        private long companyId;\r\n\r\n        @Basic\r\n        @Column(name = &quot;employee_number&quot;)\r\n        private long employeeNumber;\r\n     \r\n        // Getters and setters\r\n    }\r\n\r\nNow on saving, updating, and deleting phone record(s), I am copying phone entities to respective history entities using `BeanUtils#copyProperties`. How can I use `BeanUtils` to copy the `employee` property of `Phone` to `companyId` and `employeeNumber` fields of `PhoneHistory`?\r\n\r\nI am using Spring Data JPA for entities and relationships.\r\n\r\n*Note*: This is a very simplified relationship and use-case. I have a more complex coding structure where were are using generics and other stuff. This is the simplified version of what I am looking for.\r\n\r\n  [1]: https://i.stack.imgur.com/tyc61.png","title":"Can BeanUtils.copyProperties copy object to properties?","body":"<p>I have DB tables like below</p>\n<p><a href=\"https://i.stack.imgur.com/tyc61.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tyc61.png\" alt=\"Composite Primary Key\" /></a></p>\n<p><strong>Phone.java</strong></p>\n<pre><code>@Entity(name = &quot;Phone&quot;)\n@Table(name = &quot;phone&quot;)\npublic class Phone {\n \n    @Id\n    @Column(name = &quot;`number`&quot;)\n    private String number;\n \n    @ManyToOne\n    @JoinColumns({\n        @JoinColumn(\n            name = &quot;company_id&quot;,\n            referencedColumnName = &quot;company_id&quot;),\n        @JoinColumn(\n            name = &quot;employee_number&quot;,\n            referencedColumnName = &quot;employee_number&quot;)\n    })\n    private Employee employee;\n \n    // Getters and setters\n}\n</code></pre>\n<p>And for each table, we have a respective history table where we store history (create, update, and delete).</p>\n<p><strong>PhoneHistory.java</strong></p>\n<pre><code>@Entity(name = &quot;PhoneHistory&quot;)\n@Table(name = &quot;phone_hst&quot;)\npublic class PhoneHistory {\n    @Id\n    @Column(name = &quot;history_key&quot;)\n    private long historyKey;\n \n    @Basic\n    @Column(name = &quot;reason&quot;)\n    private String reason;\n \n    @Basic\n    @Column(name = &quot;`number`&quot;)\n    private String number;\n \n    @Basic\n    @Column(name = &quot;company_id&quot;)\n    private long companyId;\n\n    @Basic\n    @Column(name = &quot;employee_number&quot;)\n    private long employeeNumber;\n \n    // Getters and setters\n}\n</code></pre>\n<p>Now on saving, updating, and deleting phone record(s), I am copying phone entities to respective history entities using <code>BeanUtils#copyProperties</code>. How can I use <code>BeanUtils</code> to copy the <code>employee</code> property of <code>Phone</code> to <code>companyId</code> and <code>employeeNumber</code> fields of <code>PhoneHistory</code>?</p>\n<p>I am using Spring Data JPA for entities and relationships.</p>\n<p><em>Note</em>: This is a very simplified relationship and use-case. I have a more complex coding structure where were are using generics and other stuff. This is the simplified version of what I am looking for.</p>\n"},{"tags":["java","mongodb","spring-boot","apache-poi"],"owner":{"account_id":27857407,"reputation":11,"user_id":21270624,"display_name":"Lazy Techie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677132691,"creation_date":1677132633,"question_id":75541159,"body_markdown":"Problem Statement:I have to save the uploaded excel xlsx sheet file in to MongoDB Binary Format as one of the property of mongodb collection document, so that later whenever i want, i can hit the db and get/fetch the saved xlsx excel binary file and convert to again my excel using java spring boot? \r\n\r\nI tried to convert the uploaded file to byte array and then converted to MongoDb binary and stored as a property of a mongodb collection/document but when retrieving it says stream not supported error","title":"Save Uploaded Excel file to MongoDB Binary format and Read back Mongodb binary to Excel in SpringBoot Java","body":"<p>Problem Statement:I have to save the uploaded excel xlsx sheet file in to MongoDB Binary Format as one of the property of mongodb collection document, so that later whenever i want, i can hit the db and get/fetch the saved xlsx excel binary file and convert to again my excel using java spring boot?</p>\n<p>I tried to convert the uploaded file to byte array and then converted to MongoDb binary and stored as a property of a mongodb collection/document but when retrieving it says stream not supported error</p>\n"},{"tags":["java","html","tags","jakarta-mail"],"comments":[{"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"score":1,"creation_date":1677132373,"post_id":75541079,"comment_id":133278318,"body_markdown":"Some characters are reserved in HTML.\nIf you use the less than (&lt;) or greater than (&gt;) signs in your text, the browser might mix them with tags. \nSo to display the email along with tags you must use : \n`&lt;br&gt; &amp;#60;test1@test.in&amp;#62; ` \nFor more reference you can refer the link https://www.w3schools.com/html/html_entities.asp","body":"Some characters are reserved in HTML. If you use the less than (&lt;) or greater than (&gt;) signs in your text, the browser might mix them with tags.  So to display the email along with tags you must use :  <code>&lt;br&gt; &amp;#60;test1@test.in&amp;#62; </code>  For more reference you can refer the link <a href=\"https://www.w3schools.com/html/html_entities.asp\" rel=\"nofollow noreferrer\">w3schools.com/html/html_entities.asp</a>"}],"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677131947,"creation_date":1677131947,"question_id":75541079,"body_markdown":"While getting bounced email to inbox, the email address comes inside open and close tags &lt;&gt; and this I am unable to display in html page because it considers as html tag. How can I display the email address within tags?\r\n\r\n**In html I have an email address inside tag which I get from backend, but this is not getting displayed in Front end**\r\n```\r\n&lt;html&gt;\r\n &lt;head&gt;&lt;/head&gt;\r\n &lt;body&gt;\r\n  Reporting-MTA: dns; cloud-17.test.net \r\n  &lt;br&gt; X-Postfix-Queue-ID: 67A54900A01 \r\n  &lt;br&gt; X-Postfix-Sender: rfc822; test@test.in \r\n  &lt;br&gt; Arrival-Date: Wed, 22 Feb 2023 12:31:12 +0530 (IST) \r\n  &lt;br&gt; \r\n  &lt;br&gt; Final-Recipient: rfc822; test1@test.in \r\n  &lt;br&gt; Original-Recipient: rfc822;test1@test.in \r\n  &lt;br&gt; Action: failed \r\n  &lt;br&gt; Status: 5.2.2 \r\n  &lt;br&gt; Remote-MTA: dns; 127.0.0.1 \r\n  &lt;br&gt; Diagnostic-Code: smtp; 552 5.2.2 &lt;test1@test.in&gt;\r\n    Quota exceeded \r\n   &lt;br&gt; &lt;test1@test.in&gt; (mailbox for user is full) \r\n   &lt;br&gt; \r\n  \r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**Image - &lt;test1@test.in&gt; is not displayed**\r\n\r\n[![Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iv8Yf.png","title":"How to check if an email address exists between &lt;&gt; tags in java and display it in html page with tags?","body":"<p>While getting bounced email to inbox, the email address comes inside open and close tags &lt;&gt; and this I am unable to display in html page because it considers as html tag. How can I display the email address within tags?</p>\n<p><strong>In html I have an email address inside tag which I get from backend, but this is not getting displayed in Front end</strong></p>\n<pre><code>&lt;html&gt;\n &lt;head&gt;&lt;/head&gt;\n &lt;body&gt;\n  Reporting-MTA: dns; cloud-17.test.net \n  &lt;br&gt; X-Postfix-Queue-ID: 67A54900A01 \n  &lt;br&gt; X-Postfix-Sender: rfc822; test@test.in \n  &lt;br&gt; Arrival-Date: Wed, 22 Feb 2023 12:31:12 +0530 (IST) \n  &lt;br&gt; \n  &lt;br&gt; Final-Recipient: rfc822; test1@test.in \n  &lt;br&gt; Original-Recipient: rfc822;test1@test.in \n  &lt;br&gt; Action: failed \n  &lt;br&gt; Status: 5.2.2 \n  &lt;br&gt; Remote-MTA: dns; 127.0.0.1 \n  &lt;br&gt; Diagnostic-Code: smtp; 552 5.2.2 &lt;test1@test.in&gt;\n    Quota exceeded \n   &lt;br&gt; &lt;test1@test.in&gt; (mailbox for user is full) \n   &lt;br&gt; \n  \n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>Image - test1@test.in is not displayed</strong></p>\n<p><a href=\"https://i.stack.imgur.com/iv8Yf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iv8Yf.png\" alt=\"Image\" /></a></p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1673881106,"post_id":75135513,"comment_id":132590224,"body_markdown":"Surely your real data isn&#39;t ASCII? Otherwise, you simply use `(char) 97`, for example","body":"Surely your real data isn&#39;t ASCII? Otherwise, you simply use <code>(char) 97</code>, for example"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673881212,"post_id":75135513,"comment_id":132590262,"body_markdown":"In any case, without a secondary, reversed table, or joining. Your only other option is a full table scan over the values","body":"In any case, without a secondary, reversed table, or joining. Your only other option is a full table scan over the values"},{"owner":{"account_id":13939350,"reputation":273,"user_id":10065681,"display_name":"simon"},"score":0,"creation_date":1673882611,"post_id":75135513,"comment_id":132590714,"body_markdown":"@OneCricketeer thank you for your comment. Real data is not ASCII :)\n\nI don&#39;t understand the second comment. Are you saying: If I (for whatever reason) don&#39;t want a secondary table, then I need to perform a full table scan?\n\nFull table scan is in fact an option in my case (few records in table plus low event rate on the &quot;response&quot; topic). But it does not scale and therefore sounds like doing it wrongly.\n\nIf I went with a reversed table, how could I populate it? Do I need a second topic? Or is it possible to change the key before ingesting to GlobalKTable (without other side effects)?","body":"@OneCricketeer thank you for your comment. Real data is not ASCII :)  I don&#39;t understand the second comment. Are you saying: If I (for whatever reason) don&#39;t want a secondary table, then I need to perform a full table scan?  Full table scan is in fact an option in my case (few records in table plus low event rate on the &quot;response&quot; topic). But it does not scale and therefore sounds like doing it wrongly.  If I went with a reversed table, how could I populate it? Do I need a second topic? Or is it possible to change the key before ingesting to GlobalKTable (without other side effects)?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1673882724,"post_id":75135513,"comment_id":132590745,"body_markdown":"You can do something like `table.toStream().map((k,v) =&gt; (v, k)).groupByKey().toTable()`","body":"You can do something like <code>table.toStream().map((k,v) =&gt; (v, k)).groupByKey().toTable()</code>"},{"owner":{"account_id":13939350,"reputation":273,"user_id":10065681,"display_name":"simon"},"score":0,"creation_date":1673883941,"post_id":75135513,"comment_id":132591142,"body_markdown":"@OneCricketeer Thank you. This only works when using a KTable, not on a GlobalKTable. (Or am I missing something?) And using a KTable implies that I need to manually deal with co-partitioning and waiting for initialization at startup. When going &quot;manually&quot; anyway, I would rather implement the whole materialization thing by hand, so that I also get memory efficient reverse lookup. Not convinced yet - maybe I am overcomplicating things though &#175;\\_(ツ)_/&#175;","body":"@OneCricketeer Thank you. This only works when using a KTable, not on a GlobalKTable. (Or am I missing something?) And using a KTable implies that I need to manually deal with co-partitioning and waiting for initialization at startup. When going &quot;manually&quot; anyway, I would rather implement the whole materialization thing by hand, so that I also get memory efficient reverse lookup. Not convinced yet - maybe I am overcomplicating things though &#175;_(ツ)_/&#175;"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673902463,"post_id":75135513,"comment_id":132596606,"body_markdown":"I&#39;m not sure I understand the requirements for your partitions. I&#39;m just saying that&#39;s how you&#39;d invert a table","body":"I&#39;m not sure I understand the requirements for your partitions. I&#39;m just saying that&#39;s how you&#39;d invert a table"}],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677131722,"creation_date":1677131722,"answer_id":75541059,"question_id":75135513,"body_markdown":"Using the DSL, you provided your answer already. You would need two topics and two global-tables.\r\n\r\nIf you are willing to accept some per-hit, you could fall back to the Processor API and use a &quot;global store&quot; though (it&#39;s basically the same thing as a global-table, but the API is more flexible). Instead of using `join()` you implement a custom `Processor` (or `Transformer`; depending what version of Kafka Streams you are using), and inside the `process()` function, you can do a full table scan on the global store (instead of just a key-lookup) to find the right entry. -- Given that you don&#39;t store a lot of data, you could even cache a reverse mapping in-memory to avoid scanning the full store all the time (of course, you get a cache invalidation problem if the global store gets an update...)","title":"How to perform &quot;reverse lookup&quot; on GlobalKTable?","body":"<p>Using the DSL, you provided your answer already. You would need two topics and two global-tables.</p>\n<p>If you are willing to accept some per-hit, you could fall back to the Processor API and use a &quot;global store&quot; though (it's basically the same thing as a global-table, but the API is more flexible). Instead of using <code>join()</code> you implement a custom <code>Processor</code> (or <code>Transformer</code>; depending what version of Kafka Streams you are using), and inside the <code>process()</code> function, you can do a full table scan on the global store (instead of just a key-lookup) to find the right entry. -- Given that you don't store a lot of data, you could even cache a reverse mapping in-memory to avoid scanning the full store all the time (of course, you get a cache invalidation problem if the global store gets an update...)</p>\n"}],"owner":{"account_id":13939350,"reputation":273,"user_id":10065681,"display_name":"simon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75541059,"answer_count":1,"score":0,"last_activity_date":1677131722,"creation_date":1673878695,"question_id":75135513,"body_markdown":"## Setup\r\n\r\nI have worked with kafka for some time, but I am rather new to the concept of Kafka Streams API and streams processing in general. \r\n\r\nImagine a kafka streams application that performs encoding and decoding by using a lookup table which is provided by an additional kafka topic. The business topics are all co-partitioned and have 5 partitions. The *Lookup mapping* stream is a change data stream - it is compacted and has only one partition.\r\n\r\n```\r\n+------------------------+        /-------\\       +--------------------------+\r\n| &quot;Plain request&quot; stream |   -&gt;  | Encoder |  -&gt;  | &quot;Encoded request&quot; stream |     -----+\r\n+------------------------+        \\-------/       +--------------------------+          |\r\n                                                                                        |\r\n                                      ^                                                 |\r\n                                      |                                                 v\r\n+-------------------------+\r\n| &quot;Lookup mapping&quot; stream |  -&gt;    (Cache)                               (Some other app)\r\n+-------------------------+\r\n                                      |                                                 |\r\n                                      v                                                 |\r\n                                                                                        |\r\n+-------------------------+       /-------\\       +---------------------------+         |\r\n| &quot;Plain response&quot; stream |  &lt;-  | Decoder |  &lt;-  | &quot;Encoded response&quot; stream |     &lt;---+\r\n+-------------------------+       \\-------/       +---------------------------+\r\n```\r\n\r\nLet&#39;s assume that the encoding is ASCII (`&#39;a&#39;` -&gt; `97`, `&#39;b&#39;` -&gt; `98`, etc.) and that the _Lookup mapping_ topic uses the letter as key and that the same topic contains both letter and code in the payload.\r\n\r\nMy current draft is to use LeftJoin on a GlobalKTable (which materializes the *Lookup mapping* stream):\r\n\r\n```java\r\nfinal var mappingTable = streamsBuilder.globalTable(LOOKUP_MAPPINGS, ...);\r\n\r\nstreamsBuilder.stream(PLAIN_REQUESTS, ...)\r\n  .leftJoin(mappingTable, (key, value) -&gt; value.getPlain(), EncoderHelper::encode)\r\n  .to(ENCODED_REQUESTS, ...);\r\n```\r\n\r\n## Problem\r\n\r\nEncoding works as expected. But what about decoding? \r\n\r\nThe materialized GlobalKTable contains data like this:\r\n\r\n| key | value   |\r\n|-----|---------|\r\n| &#39;a&#39; | &#39;a&#39;, 97 |\r\n| &#39;b&#39; | &#39;b&#39;, 98 |\r\n| ... | ...     |\r\n\r\nFor encoding, the LeftJoin operation could perform a lookup based on the plain value - which is used as the key for the table. But for decoding, the LeftJoin operation needs to perform a lookup based on the encoded value (i.e. 97) which is not the key in the table.\r\n\r\nI don&#39;t see how the decoding should be designed.\r\n\r\n## Alternatives / Ideas\r\n\r\nConsume the topic via kafka consumer API, store data and perform encoding / decoding &quot;manually&quot;. This works but has some pitfalls (need to make sure that all data is read before stream processing starts). I don&#39;t like this solution very much as it feels like reinventing the wheel.\r\n\r\nI realize that I could create another topic (outside my program) which uses the encoded value as the key and then replicate the solution above. But this implies two topics with strong coupling and feels generally wrong.\r\n\r\nI also thought about repartitioning the topic in my program before materializing it into a GlobalKTable. Essentially the same concept as the one before but this time, the additional topic only needs to live within my program. This would still lead to duplicated mappings and therefore an increased memory footprint. I could live with that as there is only a small amount of mappings in my use case (~1000 or so). This still feels suboptimal (and I also don&#39;t think that it is an intended use case for the GlobalKTable).\r\n\r\nI could do repartitioning and use a KTable. But this seems complex due to co-partitioning requirements and also feels wrong.\r\n\r\n## Question\r\n\r\nI am looking for a hint on how such a bidirectional lookup system could/should be implemented in accordance to kafka streams API design principles. How would more experienced streams-people solve this?\r\n\r\n## NOT my question\r\n\r\nSimilar but not the same:\r\n\r\nhttps://stackoverflow.com/questions/55101495/data-enrichment-using-kafka-streams-kstream-globalktable-join: Imagine that I wanted to make a lookup from `&quot;john&quot;` to `XDFER` in their scenario. \r\n\r\nhttps://stackoverflow.com/questions/61506676/kstream-join-with-globalktable-over-non-key-values: The plain value (`&#39;a&#39;`) is not present in the encoded response stream. So it cannot be used as key.","title":"How to perform &quot;reverse lookup&quot; on GlobalKTable?","body":"<h2>Setup</h2>\n<p>I have worked with kafka for some time, but I am rather new to the concept of Kafka Streams API and streams processing in general.</p>\n<p>Imagine a kafka streams application that performs encoding and decoding by using a lookup table which is provided by an additional kafka topic. The business topics are all co-partitioned and have 5 partitions. The <em>Lookup mapping</em> stream is a change data stream - it is compacted and has only one partition.</p>\n<pre><code>+------------------------+        /-------\\       +--------------------------+\n| &quot;Plain request&quot; stream |   -&gt;  | Encoder |  -&gt;  | &quot;Encoded request&quot; stream |     -----+\n+------------------------+        \\-------/       +--------------------------+          |\n                                                                                        |\n                                      ^                                                 |\n                                      |                                                 v\n+-------------------------+\n| &quot;Lookup mapping&quot; stream |  -&gt;    (Cache)                               (Some other app)\n+-------------------------+\n                                      |                                                 |\n                                      v                                                 |\n                                                                                        |\n+-------------------------+       /-------\\       +---------------------------+         |\n| &quot;Plain response&quot; stream |  &lt;-  | Decoder |  &lt;-  | &quot;Encoded response&quot; stream |     &lt;---+\n+-------------------------+       \\-------/       +---------------------------+\n</code></pre>\n<p>Let's assume that the encoding is ASCII (<code>'a'</code> -&gt; <code>97</code>, <code>'b'</code> -&gt; <code>98</code>, etc.) and that the <em>Lookup mapping</em> topic uses the letter as key and that the same topic contains both letter and code in the payload.</p>\n<p>My current draft is to use LeftJoin on a GlobalKTable (which materializes the <em>Lookup mapping</em> stream):</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var mappingTable = streamsBuilder.globalTable(LOOKUP_MAPPINGS, ...);\n\nstreamsBuilder.stream(PLAIN_REQUESTS, ...)\n  .leftJoin(mappingTable, (key, value) -&gt; value.getPlain(), EncoderHelper::encode)\n  .to(ENCODED_REQUESTS, ...);\n</code></pre>\n<h2>Problem</h2>\n<p>Encoding works as expected. But what about decoding?</p>\n<p>The materialized GlobalKTable contains data like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>key</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>'a'</td>\n<td>'a', 97</td>\n</tr>\n<tr>\n<td>'b'</td>\n<td>'b', 98</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>For encoding, the LeftJoin operation could perform a lookup based on the plain value - which is used as the key for the table. But for decoding, the LeftJoin operation needs to perform a lookup based on the encoded value (i.e. 97) which is not the key in the table.</p>\n<p>I don't see how the decoding should be designed.</p>\n<h2>Alternatives / Ideas</h2>\n<p>Consume the topic via kafka consumer API, store data and perform encoding / decoding &quot;manually&quot;. This works but has some pitfalls (need to make sure that all data is read before stream processing starts). I don't like this solution very much as it feels like reinventing the wheel.</p>\n<p>I realize that I could create another topic (outside my program) which uses the encoded value as the key and then replicate the solution above. But this implies two topics with strong coupling and feels generally wrong.</p>\n<p>I also thought about repartitioning the topic in my program before materializing it into a GlobalKTable. Essentially the same concept as the one before but this time, the additional topic only needs to live within my program. This would still lead to duplicated mappings and therefore an increased memory footprint. I could live with that as there is only a small amount of mappings in my use case (~1000 or so). This still feels suboptimal (and I also don't think that it is an intended use case for the GlobalKTable).</p>\n<p>I could do repartitioning and use a KTable. But this seems complex due to co-partitioning requirements and also feels wrong.</p>\n<h2>Question</h2>\n<p>I am looking for a hint on how such a bidirectional lookup system could/should be implemented in accordance to kafka streams API design principles. How would more experienced streams-people solve this?</p>\n<h2>NOT my question</h2>\n<p>Similar but not the same:</p>\n<p><a href=\"https://stackoverflow.com/questions/55101495/data-enrichment-using-kafka-streams-kstream-globalktable-join\">Data Enrichment using kafka streams, KStream-GlobalKtable Join</a>: Imagine that I wanted to make a lookup from <code>&quot;john&quot;</code> to <code>XDFER</code> in their scenario.</p>\n<p><a href=\"https://stackoverflow.com/questions/61506676/kstream-join-with-globalktable-over-non-key-values\">KStream Join with GlobalKTable over non-key values</a>: The plain value (<code>'a'</code>) is not present in the encoded response stream. So it cannot be used as key.</p>\n"},{"tags":["java","string","hashcode"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1253708502,"post_id":1465621,"comment_id":1314398,"body_markdown":"Your answer lies in the documentation on the `equals()` and `hashcode()` methods.","body":"Your answer lies in the documentation on the <code>equals()</code> and <code>hashcode()</code> methods."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":9,"creation_date":1253709054,"post_id":1465621,"comment_id":1314437,"body_markdown":"And regarding efficiency: take a close look at the strings that you&#39;re comparing. I&#39;ll be willing to bet that &gt; 50% differ in their first character, and &gt; 66% differ in their first two characters. So you actually have a very efficient comparison versus hashCode(), which has to walk the entire string. Plus, if you&#39;re using strings in the constant pool, equals() first checks identity, which will kick those out right away.","body":"And regarding efficiency: take a close look at the strings that you&#39;re comparing. I&#39;ll be willing to bet that &gt; 50% differ in their first character, and &gt; 66% differ in their first two characters. So you actually have a very efficient comparison versus hashCode(), which has to walk the entire string. Plus, if you&#39;re using strings in the constant pool, equals() first checks identity, which will kick those out right away."},{"owner":{"display_name":"Andy"},"score":0,"creation_date":1253710072,"post_id":1465621,"comment_id":1314521,"body_markdown":"@kdgregory It&#39;s true that the worst case scenario is that the strings actually match, which might also be the most common scenario.  You&#39;ve also answered my underlying string performance question, any gains being made by a pooled hashcode is being made already be performing an instance check.  Cheers!","body":"@kdgregory It&#39;s true that the worst case scenario is that the strings actually match, which might also be the most common scenario.  You&#39;ve also answered my underlying string performance question, any gains being made by a pooled hashcode is being made already be performing an instance check.  Cheers!"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":4,"creation_date":1253711734,"post_id":1465621,"comment_id":1314696,"body_markdown":"What I find strange is that the current String implementation caches the hashCode, but does not use it in equals(), even though it would be a quick way to eliminate unequal strings in many cases - a big gain in the (admittedly rare) case where you compare strings with long identical prefixes.","body":"What I find strange is that the current String implementation caches the hashCode, but does not use it in equals(), even though it would be a quick way to eliminate unequal strings in many cases - a big gain in the (admittedly rare) case where you compare strings with long identical prefixes."}],"answers":[{"comments":[{"owner":{"account_id":16817,"reputation":73843,"user_id":37020,"accept_rate":86,"display_name":"orip"},"score":5,"creation_date":1253708352,"post_id":1465639,"comment_id":1314380,"body_markdown":"+1, hashcodes don&#39;t guarantee uniqueness - they only try and provide low collisions","body":"+1, hashcodes don&#39;t guarantee uniqueness - they only try and provide low collisions"},{"owner":{"account_id":45681,"reputation":6645,"user_id":134772,"display_name":"Falaina"},"score":4,"creation_date":1253708780,"post_id":1465639,"comment_id":1314415,"body_markdown":"+1, however one small ammendment. hashCodes of two objects MUST be equal if the objects are equal, this is specified in the contract of hashCode.","body":"+1, however one small ammendment. hashCodes of two objects MUST be equal if the objects are equal, this is specified in the contract of hashCode."},{"owner":{"account_id":57984,"reputation":5167,"user_id":173670,"display_name":"NickDK"},"score":2,"creation_date":1253709056,"post_id":1465639,"comment_id":1314438,"body_markdown":"Short and correct answer. Also doing something like that just to be as efficient as possible sounds a bit like premature optimization to me.","body":"Short and correct answer. Also doing something like that just to be as efficient as possible sounds a bit like premature optimization to me."},{"owner":{"display_name":"Andy"},"score":0,"creation_date":1253710451,"post_id":1465639,"comment_id":1314556,"body_markdown":"This would be a problem if you were testing against user input for example.  If you were testing strings in a controlled environment and could guarantee no collisions (unit tests) then it would be worth it if it gave marked performance improvements but as kdgregory pointed out above it would not.\n\nCheers!","body":"This would be a problem if you were testing against user input for example.  If you were testing strings in a controlled environment and could guarantee no collisions (unit tests) then it would be worth it if it gave marked performance improvements but as kdgregory pointed out above it would not.  Cheers!"},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1394207615,"post_id":1465639,"comment_id":33800130,"body_markdown":"@andy Theoretically, I guess. But you&#39;d have to verify that your strings did not give hash collisions. And then if later someone changes the program and adds a new string, they&#39;d have to know to check if that creates a hash collision, and if so, they would then have to change all the comparisons. You&#39;d be far better off to create an Enum or otherwise assign your own unique identifier to each string, rather than relying on the hashcodes not having collisions basically out of luck.","body":"@andy Theoretically, I guess. But you&#39;d have to verify that your strings did not give hash collisions. And then if later someone changes the program and adds a new string, they&#39;d have to know to check if that creates a hash collision, and if so, they would then have to change all the comparisons. You&#39;d be far better off to create an Enum or otherwise assign your own unique identifier to each string, rather than relying on the hashcodes not having collisions basically out of luck."}],"tags":[],"owner":{"account_id":41028,"reputation":1596,"user_id":119151,"accept_rate":77,"display_name":"dstibbe"},"comment_count":5,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1253708970,"creation_date":1253708277,"answer_id":1465639,"question_id":1465621,"body_markdown":"because: hashCodes of two objects must be equal  if the objects are equal, however, if two objects are unequal, the hashCode can still be equal.\r\n\r\n(modified after comment)","title":"Testing string equality using hashCode()","body":"<p>because: hashCodes of two objects must be equal  if the objects are equal, however, if two objects are unequal, the hashCode can still be equal.</p>\n\n<p>(modified after comment)</p>\n"},{"tags":[],"owner":{"account_id":36646,"reputation":4143,"user_id":104564,"accept_rate":100,"display_name":"Jim Rush"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1253708309,"creation_date":1253708309,"answer_id":1465643,"question_id":1465621,"body_markdown":"The hashCode value isn&#39;t unique, which means the Strings may not actually match.  To improve performance, often implementations of equals will perform a hashCode check before performing more laborious checks.","title":"Testing string equality using hashCode()","body":"<p>The hashCode value isn't unique, which means the Strings may not actually match.  To improve performance, often implementations of equals will perform a hashCode check before performing more laborious checks.</p>\n"},{"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1253709921,"post_id":1465648,"comment_id":1314507,"body_markdown":"So in other words, there is a reason to not use hashcode as he describes?","body":"So in other words, there is a reason to not use hashcode as he describes?"},{"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"score":0,"creation_date":1253711376,"post_id":1465648,"comment_id":1314654,"body_markdown":"so there&#39;s no reason to dismiss it out of hand, only a warning to do additional checks in some circumstances","body":"so there&#39;s no reason to dismiss it out of hand, only a warning to do additional checks in some circumstances"},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":1,"creation_date":1253711520,"post_id":1465648,"comment_id":1314671,"body_markdown":"So if you still have to do the equals test, why bother? You&#39;ve just written twice as much code to get to the same place.","body":"So if you still have to do the equals test, why bother? You&#39;ve just written twice as much code to get to the same place."},{"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"score":0,"creation_date":1253717665,"post_id":1465648,"comment_id":1315413,"body_markdown":"if the assumption is that the strings are unlikely to be similiar, you&#39;d get the efficiency that the asker queried.","body":"if the assumption is that the strings are unlikely to be similiar, you&#39;d get the efficiency that the asker queried."},{"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"score":0,"creation_date":1253717790,"post_id":1465648,"comment_id":1315429,"body_markdown":"I should say that back when I was writing demo apps for early j2me phones, for the manufacturers, and performance even of this kind of thing really mattered, using hashCode() to cheapen comparisons is the kind of thing we did all the time.  You need profiling to back it up, but its worth exploring in the most performance-critical code.","body":"I should say that back when I was writing demo apps for early j2me phones, for the manufacturers, and performance even of this kind of thing really mattered, using hashCode() to cheapen comparisons is the kind of thing we did all the time.  You need profiling to back it up, but its worth exploring in the most performance-critical code."}],"tags":[],"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"comment_count":5,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1253708366,"creation_date":1253708366,"answer_id":1465648,"question_id":1465621,"body_markdown":"There is no reason not to use hashCode as you describe.\r\n\r\nHowever, you must be aware of collisions.  There is a chance - a small chance admittedly - that two different strings do hash to the same value.  Consider doing a hashCode at first, and if equal also do the full comparison using the equals().","title":"Testing string equality using hashCode()","body":"<p>There is no reason not to use hashCode as you describe.</p>\n\n<p>However, you must be aware of collisions.  There is a chance - a small chance admittedly - that two different strings do hash to the same value.  Consider doing a hashCode at first, and if equal also do the full comparison using the equals().</p>\n"},{"comments":[{"owner":{"account_id":39902,"reputation":26052,"user_id":115305,"accept_rate":99,"display_name":"Wim ten Brink"},"score":0,"creation_date":1253708836,"post_id":1465661,"comment_id":1314418,"body_markdown":"zzzda would also equal 177. (1x26, 2x26, 3x26, 4x4, 5x1)","body":"zzzda would also equal 177. (1x26, 2x26, 3x26, 4x4, 5x1)"}],"tags":[],"owner":{"account_id":39902,"reputation":26052,"user_id":115305,"accept_rate":99,"display_name":"Wim ten Brink"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1253708589,"creation_date":1253708589,"answer_id":1465661,"question_id":1465621,"body_markdown":"Very simple reason: risk of collisions...\r\nA hash code will have a lot less possible values than a string. It depends a bit of the kind of hash you generate but let&#39;s take a very simple example, where you would add the ordinal values of letters, multiplied with it&#39;s position: a=1, b=2, etc. Thus, &#39;hello&#39; would translate to:\r\nh: 8x1=8, e: 5x2=10, l: 12x3=36, l: 12x4=48, o: 15x5=75. 8+10+36+48+75=177.\r\n\r\nAre there other string values that could end as 177 hashed? Of course! Plenty of options. Feel free to calculate a few.\r\n\r\nStill, this hashing method used a simple method. Java and .NET use a more complex hashing algorithm with a lot smaller chance of such collisions. But still, there&#39;s a chance that two different strings will result in the same hash value, thus this method is less reliable.","title":"Testing string equality using hashCode()","body":"<p>Very simple reason: risk of collisions...\nA hash code will have a lot less possible values than a string. It depends a bit of the kind of hash you generate but let's take a very simple example, where you would add the ordinal values of letters, multiplied with it's position: a=1, b=2, etc. Thus, 'hello' would translate to:\nh: 8x1=8, e: 5x2=10, l: 12x3=36, l: 12x4=48, o: 15x5=75. 8+10+36+48+75=177.</p>\n\n<p>Are there other string values that could end as 177 hashed? Of course! Plenty of options. Feel free to calculate a few.</p>\n\n<p>Still, this hashing method used a simple method. Java and .NET use a more complex hashing algorithm with a lot smaller chance of such collisions. But still, there's a chance that two different strings will result in the same hash value, thus this method is less reliable.</p>\n"},{"comments":[{"owner":{"account_id":17555,"reputation":2345,"user_id":39398,"accept_rate":56,"display_name":"ep4169"},"score":0,"creation_date":1462838347,"post_id":1465719,"comment_id":61795075,"body_markdown":"Is it a coincidence that these two strings with the hash code collision are so similar? (i.e., the first three characters are the same.) Or are two similar strings also more likely to have a hash code collision?","body":"Is it a coincidence that these two strings with the hash code collision are so similar? (i.e., the first three characters are the same.) Or are two similar strings also more likely to have a hash code collision?"}],"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1253709504,"creation_date":1253709504,"answer_id":1465719,"question_id":1465621,"body_markdown":"Let me give you a counter example. Try this,\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString str1 = &quot;0-42L&quot;;\r\n\t\tString str2 = &quot;0-43-&quot;;\r\n\t\t\r\n\t\tSystem.out.println(&quot;String equality: &quot; + str1.equals(str2));\r\n\t\tSystem.out.println(&quot;HashCode eqauality: &quot; + (str1.hashCode() == str2.hashCode()));\r\n\t}\r\n\r\nThe result on my Java,\r\n\r\n    String equality: false\r\n    HashCode eqauality: true\r\n\r\n","title":"Testing string equality using hashCode()","body":"<p>Let me give you a counter example. Try this,</p>\n\n<pre><code>public static void main(String[] args) {\n    String str1 = \"0-42L\";\n    String str2 = \"0-43-\";\n\n    System.out.println(\"String equality: \" + str1.equals(str2));\n    System.out.println(\"HashCode eqauality: \" + (str1.hashCode() == str2.hashCode()));\n}\n</code></pre>\n\n<p>The result on my Java,</p>\n\n<pre><code>String equality: false\nHashCode eqauality: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1253710018,"creation_date":1253710018,"answer_id":1465761,"question_id":1465621,"body_markdown":"You can get the effect you want using &lt;code&gt;String.intern()&lt;/code&gt; (which is implemented using a hash table.)\r\n\r\nYou can compare the return values of &lt;code&gt;intern()&lt;/code&gt; using the &lt;code&gt;==&lt;/code&gt; operator.  If they refer to the same string then the original strings were equivalent (i.e. &lt;code&gt;equals()&lt;/code&gt; would have returned &lt;code&gt;true&lt;/code&gt;), and it requires only a pointer comparison (which has the same cost as an &lt;code&gt;int&lt;/code&gt; comparison.)\r\n\r\n    String a = &quot;Hello&quot;;\r\n    String b = &quot;Hel&quot; + &quot;lo&quot;;\r\n\r\n    System.out.println(a.equals(b));\r\n    System.out.println(a == b);\r\n\r\n    String a2 = a.intern();\r\n    String b2 = b.intern();\r\n\r\n    System.out.println(a2.equals(b2));\r\n    System.out.println(a2 == b2);\r\n\r\nOutput:\r\n\r\n    true\r\n    false\r\n    true\r\n    true","title":"Testing string equality using hashCode()","body":"<p>You can get the effect you want using <code>String.intern()</code> (which is implemented using a hash table.)</p>\n\n<p>You can compare the return values of <code>intern()</code> using the <code>==</code> operator.  If they refer to the same string then the original strings were equivalent (i.e. <code>equals()</code> would have returned <code>true</code>), and it requires only a pointer comparison (which has the same cost as an <code>int</code> comparison.)</p>\n\n<pre><code>String a = \"Hello\";\nString b = \"Hel\" + \"lo\";\n\nSystem.out.println(a.equals(b));\nSystem.out.println(a == b);\n\nString a2 = a.intern();\nString b2 = b.intern();\n\nSystem.out.println(a2.equals(b2));\nSystem.out.println(a2 == b2);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>true\nfalse\ntrue\ntrue\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19056,"reputation":2927,"user_id":44313,"accept_rate":100,"display_name":"Karl"},"score":0,"creation_date":1255899896,"post_id":1465784,"comment_id":1448671,"body_markdown":"good answer, could have done with knowing about pigeonhole principle in a recent interview","body":"good answer, could have done with knowing about pigeonhole principle in a recent interview"},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1350919884,"post_id":1465784,"comment_id":17661640,"body_markdown":"Way more than two, if you think about it. If the max length of a string is Integer.MAX_VALUE, i.e. about 2 billion, and there are 2^32 ~= 64k possible char values, then there are (2^32)^(2^31) possible strings vs 2^32 hash values, means there are (2^32)^(2^31) / (2^32) = (2^32)^(2^30) strings for any given hash code. Which comes out to about 10 ^ 9 billion. i.e. a Very Big Number.","body":"Way more than two, if you think about it. If the max length of a string is Integer.MAX_VALUE, i.e. about 2 billion, and there are 2^32 ~= 64k possible char values, then there are (2^32)^(2^31) possible strings vs 2^32 hash values, means there are (2^32)^(2^31) / (2^32) = (2^32)^(2^30) strings for any given hash code. Which comes out to about 10 ^ 9 billion. i.e. a Very Big Number."},{"owner":{"account_id":17101,"reputation":9861,"user_id":37941,"accept_rate":70,"display_name":"bacar"},"score":0,"creation_date":1356171820,"post_id":1465784,"comment_id":19329360,"body_markdown":"@Jay: &quot;2^32 ~= 64k&quot;? What does ~= mean here?","body":"@Jay: &quot;2^32 ~= 64k&quot;? What does ~= mean here?"},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1356412637,"post_id":1465784,"comment_id":19375491,"body_markdown":"&quot;Approximately equal to&quot;. The conventional math symbol for that isnot readily entered on most keyboards.","body":"&quot;Approximately equal to&quot;. The conventional math symbol for that isnot readily entered on most keyboards."},{"owner":{"account_id":22241,"reputation":31755,"user_id":1930838,"accept_rate":96,"display_name":"Omry Yadan"},"score":0,"creation_date":1374394953,"post_id":1465784,"comment_id":25917374,"body_markdown":"Two is all you need to demonstrate that it cannot guaranty uniqueness.\nobviously the number of possible hash collisions for strings is too long to fit into this comment.","body":"Two is all you need to demonstrate that it cannot guaranty uniqueness. obviously the number of possible hash collisions for strings is too long to fit into this comment."},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1519410078,"post_id":1465784,"comment_id":84914667,"body_markdown":"@OmryYadan Quite true. I just found it amusing to beat the subject to death.","body":"@OmryYadan Quite true. I just found it amusing to beat the subject to death."}],"tags":[],"owner":{"account_id":22241,"reputation":31755,"user_id":1930838,"accept_rate":96,"display_name":"Omry Yadan"},"comment_count":6,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1253710213,"creation_date":1253710213,"answer_id":1465784,"question_id":1465621,"body_markdown":"as many said hashCode does not guaranty uniqueness.\r\nin fact, it cannot do that for a very simple reason.\r\n\r\nhashCode returns an int, which means there are 2^32 possible values (around 4,000,000,000), but there are surely more than 2^32 possible strings, which means at least two strings have the same hashcode value.\r\n\r\nthis is called [Pigeonhole principle][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Pigeonhole_principle","title":"Testing string equality using hashCode()","body":"<p>as many said hashCode does not guaranty uniqueness.\nin fact, it cannot do that for a very simple reason.</p>\n\n<p>hashCode returns an int, which means there are 2^32 possible values (around 4,000,000,000), but there are surely more than 2^32 possible strings, which means at least two strings have the same hashcode value.</p>\n\n<p>this is called <a href=\"http://en.wikipedia.org/wiki/Pigeonhole_principle\" rel=\"noreferrer\">Pigeonhole principle</a>.</p>\n"},{"comments":[{"owner":{"account_id":56959,"reputation":9026,"user_id":170587,"accept_rate":79,"display_name":"Spina"},"score":0,"creation_date":1350913658,"post_id":1465899,"comment_id":17658520,"body_markdown":"Good answer. This would have benefitted from mention of the intern method which makes the strict equality check more likely to matter.","body":"Good answer. This would have benefitted from mention of the intern method which makes the strict equality check more likely to matter."},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1350920113,"post_id":1465899,"comment_id":17661763,"body_markdown":"@Spina Valid point. If both strings are String literals, then yes, their objects will compare equal. If they are read from a database or user input, then you could intern them so their objects would compare equal. Whether this is of value depends how often you compare the strings.","body":"@Spina Valid point. If both strings are String literals, then yes, their objects will compare equal. If they are read from a database or user input, then you could intern them so their objects would compare equal. Whether this is of value depends how often you compare the strings."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1384223807,"post_id":1465899,"comment_id":29640929,"body_markdown":"There are some cases where one would be likely to perform many comparisons against long strings that may be almost identical, and in such cases, pre-checking hash codes may be useful.  In such cases, however, the code using the strings is free to check the hash code before testing equality.","body":"There are some cases where one would be likely to perform many comparisons against long strings that may be almost identical, and in such cases, pre-checking hash codes may be useful.  In such cases, however, the code using the strings is free to check the hash code before testing equality."},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1384461891,"post_id":1465899,"comment_id":29757838,"body_markdown":"@supercat For this to help, you would have to calculate the hash codes once and cache them, and you would have to be doing comparisons against the same string multiple times. It&#39;s more work to calculate the hash codes for two string than to compare two strings: you have to examine every character in a string to compute the hash code, and do some arithmetic on top of that. So if you only compare a given string once, you&#39;d be doing more work to calculate the hash than it would take to just do the compare, and then if the hash comes out equal, you still have to do the compare, so it&#39;s ...","body":"@supercat For this to help, you would have to calculate the hash codes once and cache them, and you would have to be doing comparisons against the same string multiple times. It&#39;s more work to calculate the hash codes for two string than to compare two strings: you have to examine every character in a string to compute the hash code, and do some arithmetic on top of that. So if you only compare a given string once, you&#39;d be doing more work to calculate the hash than it would take to just do the compare, and then if the hash comes out equal, you still have to do the compare, so it&#39;s ..."},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1384462089,"post_id":1465899,"comment_id":29757932,"body_markdown":"... lose/lose. If you do compare the same string multiple times, and you are comparing it against other strings of equal length that are the same for the first some-number of characters, then calculating the hash could help. Frankly, that&#39;s the sort of optimization that is highly dependent on implementation details and the combination of data that you happen to have. You&#39;d really have to study the details to see if it would help or hurt. BTW the current implementation of java.lang.String does cache hash-codes the first time they are requested, so you wouldn&#39;t need to cache them yourself.","body":"... lose/lose. If you do compare the same string multiple times, and you are comparing it against other strings of equal length that are the same for the first some-number of characters, then calculating the hash could help. Frankly, that&#39;s the sort of optimization that is highly dependent on implementation details and the combination of data that you happen to have. You&#39;d really have to study the details to see if it would help or hurt. BTW the current implementation of java.lang.String does cache hash-codes the first time they are requested, so you wouldn&#39;t need to cache them yourself."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1384462766,"post_id":1465899,"comment_id":29758293,"body_markdown":"@Jay: My point was that sometimes the code which is using strings will have specialized knowledge about the content of other strings against which they&#39;re going to be compared, and code *with such knowledge* may sometimes find pre-comparisons of hash codes useful.  It is entirely reasonable for code with such knowledge to compare string hash codes as a prelude to comparing their values.  Such hash-based comparisons belong in the code which *uses* the strings, though, rather than in the `String` class itself.","body":"@Jay: My point was that sometimes the code which is using strings will have specialized knowledge about the content of other strings against which they&#39;re going to be compared, and code <i>with such knowledge</i> may sometimes find pre-comparisons of hash codes useful.  It is entirely reasonable for code with such knowledge to compare string hash codes as a prelude to comparing their values.  Such hash-based comparisons belong in the code which <i>uses</i> the strings, though, rather than in the <code>String</code> class itself."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1384463186,"post_id":1465899,"comment_id":29758550,"body_markdown":"@Jay: Incidentally, unless near matches are going to be more common than matches, caching hash codes isn&#39;t apt to be as useful as wrapping the strings in a class which builds equivalence sets.  If each instance holds an &quot;age&quot; value [a `long` that gets incremented each time one is created], a `string`, and a reference to an older instance which is known to match, then when two wrapper objects find that distinct string instances match, whichever one holds a reference to a &quot;newer&quot; string can be updated to hold the oldest string instance that&#39;s known to be equal.","body":"@Jay: Incidentally, unless near matches are going to be more common than matches, caching hash codes isn&#39;t apt to be as useful as wrapping the strings in a class which builds equivalence sets.  If each instance holds an &quot;age&quot; value [a <code>long</code> that gets incremented each time one is created], a <code>string</code>, and a reference to an older instance which is known to match, then when two wrapper objects find that distinct string instances match, whichever one holds a reference to a &quot;newer&quot; string can be updated to hold the oldest string instance that&#39;s known to be equal."},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1386277715,"post_id":1465899,"comment_id":30482418,"body_markdown":"@supercat Sure. Given sufficient knowledge of your data, I&#39;m sure they&#39;re are all sorts of optimizations once could do. Like if the strings are some sort of code and you know that the only possible string values are &quot;aasdopfu&quot;, &quot;aasdopfv&quot;, and &quot;aasdoxfu&quot;, you might well be better off to just example each one as it arrives and translate it to a standard integer value, like 1, 2, and 3 respectively. If you know your strings all tend to begin the same but end differently, you might want to write your own compare that checks from the end backwards. Etc. It all depends on the nature of the ...","body":"@supercat Sure. Given sufficient knowledge of your data, I&#39;m sure they&#39;re are all sorts of optimizations once could do. Like if the strings are some sort of code and you know that the only possible string values are &quot;aasdopfu&quot;, &quot;aasdopfv&quot;, and &quot;aasdoxfu&quot;, you might well be better off to just example each one as it arrives and translate it to a standard integer value, like 1, 2, and 3 respectively. If you know your strings all tend to begin the same but end differently, you might want to write your own compare that checks from the end backwards. Etc. It all depends on the nature of the ..."},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1386277734,"post_id":1465899,"comment_id":30482431,"body_markdown":"... data, and on how big an issue performance is and how much work you&#39;re willing to do.","body":"... data, and on how big an issue performance is and how much work you&#39;re willing to do."}],"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"comment_count":9,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1253711408,"creation_date":1253711408,"answer_id":1465899,"question_id":1465621,"body_markdown":"Others have pointed out why it won&#39;t work. So I&#39;ll just add the addendum that the gain would be minimal anyway.\r\n\r\nWhen you compare two strings in Java, the String equals function first checks if they are two references to the same object. If so, it immediately returns true. Then it checks if the lengths are equal. If not, it returns false. Only then does it start comparing character-by-character.\r\n\r\nIf you&#39;re manipulating data in memory, the same-object compare may quickly handle the &quot;same&quot; case, and that&#39;s a quick, umm, 4-byte integer compare I think. (Someone correct me if I have the length of an object handle wrong.)\r\n\r\nFor most unequal strings, I&#39;d bet the length compare quickly finds them not equal. If you&#39;re comparing two names of things -- customers, cities, products, whatever -- they&#39;ll usually have unequal length. So a simple int compare quickly disposes of them.\r\n\r\nThe worst case for performance is going to be two long, identical, but not the same object strings. Then it has to do the object handle compare, false, keep checking. The length compare, true, keep checking. Then character by character through the entire length of the string to verify that yes indeed they are equal all the way to the end.","title":"Testing string equality using hashCode()","body":"<p>Others have pointed out why it won't work. So I'll just add the addendum that the gain would be minimal anyway.</p>\n\n<p>When you compare two strings in Java, the String equals function first checks if they are two references to the same object. If so, it immediately returns true. Then it checks if the lengths are equal. If not, it returns false. Only then does it start comparing character-by-character.</p>\n\n<p>If you're manipulating data in memory, the same-object compare may quickly handle the \"same\" case, and that's a quick, umm, 4-byte integer compare I think. (Someone correct me if I have the length of an object handle wrong.)</p>\n\n<p>For most unequal strings, I'd bet the length compare quickly finds them not equal. If you're comparing two names of things -- customers, cities, products, whatever -- they'll usually have unequal length. So a simple int compare quickly disposes of them.</p>\n\n<p>The worst case for performance is going to be two long, identical, but not the same object strings. Then it has to do the object handle compare, false, keep checking. The length compare, true, keep checking. Then character by character through the entire length of the string to verify that yes indeed they are equal all the way to the end.</p>\n"},{"tags":[],"owner":{"account_id":11131917,"reputation":1,"user_id":8171651,"display_name":"Shegufa Taranjum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504010197,"creation_date":1504010197,"answer_id":45939357,"question_id":1465621,"body_markdown":"Two different String can easily generate same hash Code or different hash Code.\r\nIf u want a equality test hash Code won&#39;t give an unique result. When we use String class it will return different value of hash Code. So String buffer class should be apply to have same hash Code for every concated  object.","title":"Testing string equality using hashCode()","body":"<p>Two different String can easily generate same hash Code or different hash Code.\nIf u want a equality test hash Code won't give an unique result. When we use String class it will return different value of hash Code. So String buffer class should be apply to have same hash Code for every concated  object.</p>\n"},{"tags":[],"owner":{"account_id":416901,"reputation":4877,"user_id":792580,"accept_rate":74,"display_name":"srk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677131582,"creation_date":1677131582,"answer_id":75541046,"question_id":1465621,"body_markdown":"&gt; Is there any reason why a Java string cannot be tested for equality\r\n&gt; using its hashCode method?\r\n\r\nEquality check is never done with `hashCode()` method be it String or any other object in Java.\r\n\r\nThe purpose of `hashCode()` is totally different and certainly not related to equality checks. \r\n\r\nHere is the excerpt from the [java.lang.Object&#39;s equals() Javadoc](https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object))\r\n&gt; Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.\r\n\r\nThe real essence of overridden `hashCode()` can be experienced when you are dealing with Hash based collections like HashSet, HashMap or HashTable in Java.\r\n\r\nFor strings always use `equals()` method to check if two strings are equal. Why? Because `java.lang.String` has overridden `java.lang.Object`&#39;s equals() to compare strings by value instead of referential equality using `==` operator.\r\n\r\n**Note:** Referential equality check using `==` is not same as hashCode() comparison.","title":"Testing string equality using hashCode()","body":"<blockquote>\n<p>Is there any reason why a Java string cannot be tested for equality\nusing its hashCode method?</p>\n</blockquote>\n<p>Equality check is never done with <code>hashCode()</code> method be it String or any other object in Java.</p>\n<p>The purpose of <code>hashCode()</code> is totally different and certainly not related to equality checks.</p>\n<p>Here is the excerpt from the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">java.lang.Object's equals() Javadoc</a></p>\n<blockquote>\n<p>Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.</p>\n</blockquote>\n<p>The real essence of overridden <code>hashCode()</code> can be experienced when you are dealing with Hash based collections like HashSet, HashMap or HashTable in Java.</p>\n<p>For strings always use <code>equals()</code> method to check if two strings are equal. Why? Because <code>java.lang.String</code> has overridden <code>java.lang.Object</code>'s equals() to compare strings by value instead of referential equality using <code>==</code> operator.</p>\n<p><strong>Note:</strong> Referential equality check using <code>==</code> is not same as hashCode() comparison.</p>\n"}],"owner":{"display_name":"Andy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27714,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":1465639,"answer_count":10,"score":23,"last_activity_date":1677131629,"creation_date":1253708079,"question_id":1465621,"body_markdown":"Is there any reason why a Java string cannot be tested for equality using its hashCode method?  So basically, instead of....\r\n\r\n    &quot;hello&quot;. Equals(&quot;hello&quot;)\r\n\r\nYou could use...\r\n\r\n    &quot;hello&quot;.hashCode() == &quot;hello&quot;.hashCode()\r\n\r\nThis would be useful because once a string has calculated it&#39;s hashcode then comparing a string would be as efficient as comparing an int as the string caches the hashcode and it is quite likely that the string is in the string pool anyway, if you designed it that way.","title":"Testing string equality using hashCode()","body":"<p>Is there any reason why a Java string cannot be tested for equality using its hashCode method?  So basically, instead of....</p>\n<pre><code>&quot;hello&quot;. Equals(&quot;hello&quot;)\n</code></pre>\n<p>You could use...</p>\n<pre><code>&quot;hello&quot;.hashCode() == &quot;hello&quot;.hashCode()\n</code></pre>\n<p>This would be useful because once a string has calculated it's hashcode then comparing a string would be as efficient as comparing an int as the string caches the hashcode and it is quite likely that the string is in the string pool anyway, if you designed it that way.</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":12036691,"reputation":1,"user_id":8804930,"display_name":"ProwtProject"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677130549,"creation_date":1677130277,"question_id":75540912,"body_markdown":"I am updating the compileSdkVersion in my android app from 30 to 31.\r\nBut this problem appears when clicking on an item on my listview:\r\n[Error Image](https://i.stack.imgur.com/uXNvq.png)\r\n\r\nI have tried to put \r\n```\r\n&lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot; /&gt;\r\n```\r\nin my manifest but the problem still appears\r\n","title":"(NoClassDefFoundError: Failed resolution of) when using setOnItemClickListener in Android Studio","body":"<p>I am updating the compileSdkVersion in my android app from 30 to 31.\nBut this problem appears when clicking on an item on my listview:\n<a href=\"https://i.stack.imgur.com/uXNvq.png\" rel=\"nofollow noreferrer\">Error Image</a></p>\n<p>I have tried to put</p>\n<pre><code>&lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot; /&gt;\n</code></pre>\n<p>in my manifest but the problem still appears</p>\n"},{"tags":["java","api","android-studio","class","methods"],"comments":[{"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"score":0,"creation_date":1676959815,"post_id":75516690,"comment_id":133236748,"body_markdown":"Does this help https://stackoverflow.com/questions/1559955/host-xxx-xx-xxx-xxx-is-not-allowed-to-connect-to-this-mysql-server ?","body":"Does this help <a href=\"https://stackoverflow.com/questions/1559955/host-xxx-xx-xxx-xxx-is-not-allowed-to-connect-to-this-mysql-server\" title=\"host xxx xx xxx xxx is not allowed to connect to this mysql server\">stackoverflow.com/questions/1559955/&hellip;</a> ?"}],"owner":{"account_id":23467803,"reputation":23,"user_id":17521706,"display_name":"NewbieMF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676960373,"answer_count":0,"score":0,"last_activity_date":1677130124,"creation_date":1676958259,"question_id":75516690,"body_markdown":"I created an onclick condition to login, when I run the application it exits itself and raises an error, I suspect the error is in the following code section\r\n\r\n```\r\n Intent intent = new Intent(context, MainActivity.class);\r\n        startActivity(intent);\r\n        getActivity().finish();\r\n```\r\n\r\nhow to make the code executable?\r\n\r\nThe error : \r\n\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.abiapp.androidukk, PID: 28347\r\n    java.lang.IllegalStateException: Fragment LoginFragment{4981b94} (f7c99ef6-7be5-4ff5-9105-180cd015a38f) not attached to Activity\r\n        at androidx.fragment.app.Fragment.startActivity(Fragment.java:1443)\r\n        at androidx.fragment.app.Fragment.startActivity(Fragment.java:1433)\r\n        at com.abiapp.androidukk.ui.login.LoginFragment.onLoginSuccess(LoginFragment.java:89)\r\n        at com.abiapp.androidukk.helper.Helper$4.onResponse(Helper.java:94)\r\n        at com.abiapp.androidukk.helper.Helper$4.onResponse(Helper.java:74)\r\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:82)\r\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:29)\r\n        at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:102)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:257)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8218)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1015)\r\n\r\n```\r\nHere is my LoginFragment, in code Helper.loginUser(getContext(),username,password); I also included getContext() because if I didn&#39;t include getContext(), the method that uses getContext() in the LoginFragment class will be null.\r\n\r\nI suspect for MainActivity.class to have the same case, but I don&#39;t know how to fix it\r\n\r\nThe LoginFragment class :\r\n\r\n```\r\npublic class LoginFragment extends Fragment {\r\n\r\n    private FragmentLoginBinding binding;\r\n\r\n    private EditText usernameEditText,passwordEditText;\r\n\r\n    private MainActivity mainActivity;\r\n    \r\n    public View onCreateView(LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_login,container,false);\r\n        Button button = view.findViewById(R.id.btnSubmit);\r\n\r\n        usernameEditText = view.findViewById(R.id.edit_textUsername);\r\n        passwordEditText = view.findViewById(R.id.edit_textPassword);\r\n\r\n        // menambahkan event setOnClickListener() pada tombol btnSubmit\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // memanggil method untuk login\r\n                String username = usernameEditText.getText().toString().trim();\r\n                String password = passwordEditText.getText().toString().trim();\r\n\r\n                if (mainActivity != null){\r\n                    System.out.println(&quot;ada kok&quot;);\r\n                }\r\n\r\n                Helper.loginUser(getContext(),username,password);\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    public void onLoginSuccess(Context context, String nik, String nama, String username, String password, String telp, String sessionId) {\r\n        // Login berhasil, simpan data user ke shared preferences\r\n        if (context != null){\r\n            System.out.println(&quot;ada kok 4&quot;);\r\n        }\r\n        SharedPreferences sharedPref = context.getSharedPreferences(&quot;USER_DATA&quot;, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPref.edit();\r\n        editor.putString(&quot;nik&quot;, nik);\r\n        editor.putString(&quot;nama&quot;, nama);\r\n        editor.putString(&quot;username&quot;, username);\r\n        editor.putString(&quot;password&quot;, password);\r\n        editor.putString(&quot;telp&quot;, telp);\r\n        editor.putString(&quot;session_id&quot;, sessionId);\r\n        editor.apply();\r\n\r\n        // Tampilkan pesan sukses dan pindah ke halaman berikutnya\r\n        Toast.makeText(context, &quot;Login berhasil&quot;, Toast.LENGTH_SHORT).show();\r\n        Intent intent = new Intent(context, StartActivity.class);\r\n        startActivity(intent);\r\n        getActivity().finish();\r\n    }\r\n\r\n    public void onLoginFailed(Context context, String message) {\r\n        // Login gagal, tampilkan pesan error\r\n        Toast.makeText(context, &quot;Login gagal: &quot; + message, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;ve tried a few things and also asked the AI, but it still doesn&#39;t work","title":"Cannot switch to MainActivity from FragmentLogin class via Method","body":"<p>I created an onclick condition to login, when I run the application it exits itself and raises an error, I suspect the error is in the following code section</p>\n<pre><code> Intent intent = new Intent(context, MainActivity.class);\n        startActivity(intent);\n        getActivity().finish();\n</code></pre>\n<p>how to make the code executable?</p>\n<p>The error :</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.abiapp.androidukk, PID: 28347\n    java.lang.IllegalStateException: Fragment LoginFragment{4981b94} (f7c99ef6-7be5-4ff5-9105-180cd015a38f) not attached to Activity\n        at androidx.fragment.app.Fragment.startActivity(Fragment.java:1443)\n        at androidx.fragment.app.Fragment.startActivity(Fragment.java:1433)\n        at com.abiapp.androidukk.ui.login.LoginFragment.onLoginSuccess(LoginFragment.java:89)\n        at com.abiapp.androidukk.helper.Helper$4.onResponse(Helper.java:94)\n        at com.abiapp.androidukk.helper.Helper$4.onResponse(Helper.java:74)\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:82)\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:29)\n        at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:102)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:257)\n        at android.app.ActivityThread.main(ActivityThread.java:8218)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1015)\n\n</code></pre>\n<p>Here is my LoginFragment, in code Helper.loginUser(getContext(),username,password); I also included getContext() because if I didn't include getContext(), the method that uses getContext() in the LoginFragment class will be null.</p>\n<p>I suspect for MainActivity.class to have the same case, but I don't know how to fix it</p>\n<p>The LoginFragment class :</p>\n<pre><code>public class LoginFragment extends Fragment {\n\n    private FragmentLoginBinding binding;\n\n    private EditText usernameEditText,passwordEditText;\n\n    private MainActivity mainActivity;\n    \n    public View onCreateView(LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.fragment_login,container,false);\n        Button button = view.findViewById(R.id.btnSubmit);\n\n        usernameEditText = view.findViewById(R.id.edit_textUsername);\n        passwordEditText = view.findViewById(R.id.edit_textPassword);\n\n        // menambahkan event setOnClickListener() pada tombol btnSubmit\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // memanggil method untuk login\n                String username = usernameEditText.getText().toString().trim();\n                String password = passwordEditText.getText().toString().trim();\n\n                if (mainActivity != null){\n                    System.out.println(&quot;ada kok&quot;);\n                }\n\n                Helper.loginUser(getContext(),username,password);\n            }\n        });\n\n        return view;\n    }\n\n    public void onLoginSuccess(Context context, String nik, String nama, String username, String password, String telp, String sessionId) {\n        // Login berhasil, simpan data user ke shared preferences\n        if (context != null){\n            System.out.println(&quot;ada kok 4&quot;);\n        }\n        SharedPreferences sharedPref = context.getSharedPreferences(&quot;USER_DATA&quot;, MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPref.edit();\n        editor.putString(&quot;nik&quot;, nik);\n        editor.putString(&quot;nama&quot;, nama);\n        editor.putString(&quot;username&quot;, username);\n        editor.putString(&quot;password&quot;, password);\n        editor.putString(&quot;telp&quot;, telp);\n        editor.putString(&quot;session_id&quot;, sessionId);\n        editor.apply();\n\n        // Tampilkan pesan sukses dan pindah ke halaman berikutnya\n        Toast.makeText(context, &quot;Login berhasil&quot;, Toast.LENGTH_SHORT).show();\n        Intent intent = new Intent(context, StartActivity.class);\n        startActivity(intent);\n        getActivity().finish();\n    }\n\n    public void onLoginFailed(Context context, String message) {\n        // Login gagal, tampilkan pesan error\n        Toast.makeText(context, &quot;Login gagal: &quot; + message, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n\n</code></pre>\n<p>I've tried a few things and also asked the AI, but it still doesn't work</p>\n"},{"tags":["java","string-concatenation","apache-commons"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1677125546,"post_id":75540485,"comment_id":133277400,"body_markdown":"Just use the `+` operator. `StringBuilder` is really only helpful when concatenating inside a loop. Making a `Pair` object is needless overhead also.","body":"Just use the <code>+</code> operator. <code>StringBuilder</code> is really only helpful when concatenating inside a loop. Making a <code>Pair</code> object is needless overhead also."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1677126064,"post_id":75540485,"comment_id":133277454,"body_markdown":"Note if you use Java 9 and later, the compilers do a better job of optimizing string concatenations.  So if you are concerned in performance your best option is to upgrade to Java 11 or Java 17 ... so that you don&#39;t need to mess up your code-base with micro-optimizations ... that may then need to be undone.  (Java 8 is obsolete, and in some contexts it is &quot;end of life&quot;.)","body":"Note if you use Java 9 and later, the compilers do a better job of optimizing string concatenations.  So if you are concerned in performance your best option is to upgrade to Java 11 or Java 17 ... so that you don&#39;t need to mess up your code-base with micro-optimizations ... that may then need to be undone.  (Java 8 is obsolete, and in some contexts it is &quot;end of life&quot;.)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677128823,"post_id":75540485,"comment_id":133277790,"body_markdown":"You don&#39;t provide enough context. Is this a one-off operation? Is it in a loop? Of-course, a [mcve] would help provide that context. Usually, however, using the `+` operator is the best (in terms of performance).","body":"You don&#39;t provide enough context. Is this a one-off operation? Is it in a loop? Of-course, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help provide that context. Usually, however, using the <code>+</code> operator is the best (in terms of performance)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677139927,"post_id":75540485,"comment_id":133279762,"body_markdown":"I&#39;m curious to know why you would even consider the third option, that makes no sense, and is identical to the second option, except you needlessly create an additional object (a `Pair`).","body":"I&#39;m curious to know why you would even consider the third option, that makes no sense, and is identical to the second option, except you needlessly create an additional object (a <code>Pair</code>)."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677128891,"creation_date":1677128891,"answer_id":75540758,"question_id":75540485,"body_markdown":"The + operator is always going to be better than the other options you&#39;ve shown.  Depending on context, it might still be appropriate to use `StringBuilder`, but not in the way you&#39;ve shown.","title":"Which string concatenation is best for performance Pair&lt;String, String&gt; vs StringBuilder vs + operator","body":"<p>The + operator is always going to be better than the other options you've shown.  Depending on context, it might still be appropriate to use <code>StringBuilder</code>, but not in the way you've shown.</p>\n"}],"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1677130063,"creation_date":1677125430,"question_id":75540485,"body_markdown":"I am new to using Apache Commons pair. I need some advice what the best approach is when performance and optimization is priority.\r\n\r\nIf I want to concatenate str1 and str2, I can choose from the following approaches\r\n\r\n**StringBuilder**\r\n\r\n    String newStr = (new StringBuilder()).append(str1).append(str2).toString();\r\n\r\n**+ operator**\r\n\r\n    String newStr = str1 + str2;\r\n\r\n**Apache Commons Pair&lt;String, String&gt;**\r\n\r\n    Pair&lt;String, String&gt; key = Pair.of(str1, str2);\r\n    key.getLeft() + key.getRight() // this just ends up needing to use a concatenation operator\r\n\r\nSo I thought, maybe `StringBuilder` would be best?\r\n\r\nThe newStr is not within a loop. A colleague told me about possible HeapMemory issue when Strings are stored at runtime.","title":"Which string concatenation is best for performance Pair&lt;String, String&gt; vs StringBuilder vs + operator","body":"<p>I am new to using Apache Commons pair. I need some advice what the best approach is when performance and optimization is priority.</p>\n<p>If I want to concatenate str1 and str2, I can choose from the following approaches</p>\n<p><strong>StringBuilder</strong></p>\n<pre><code>String newStr = (new StringBuilder()).append(str1).append(str2).toString();\n</code></pre>\n<p><strong>+ operator</strong></p>\n<pre><code>String newStr = str1 + str2;\n</code></pre>\n<p><strong>Apache Commons Pair&lt;String, String&gt;</strong></p>\n<pre><code>Pair&lt;String, String&gt; key = Pair.of(str1, str2);\nkey.getLeft() + key.getRight() // this just ends up needing to use a concatenation operator\n</code></pre>\n<p>So I thought, maybe <code>StringBuilder</code> would be best?</p>\n<p>The newStr is not within a loop. A colleague told me about possible HeapMemory issue when Strings are stored at runtime.</p>\n"},{"tags":["java","image-processing","deep-learning"],"comments":[{"owner":{"account_id":5320286,"reputation":4281,"user_id":4243927,"display_name":"Aerials"},"score":0,"creation_date":1580385885,"post_id":59985403,"comment_id":106084788,"body_markdown":"please provide links and references. You do  want to be thorough in detailing your question, otherwise people will not bother. trying to figure out what it is you are trying to do.","body":"please provide links and references. You do  want to be thorough in detailing your question, otherwise people will not bother. trying to figure out what it is you are trying to do."},{"owner":{"account_id":5320286,"reputation":4281,"user_id":4243927,"display_name":"Aerials"},"score":0,"creation_date":1580386025,"post_id":59985403,"comment_id":106084858,"body_markdown":"you have an classifying model built in one server or app, and want to ask it questions from your java Application??","body":"you have an classifying model built in one server or app, and want to ask it questions from your java Application??"},{"owner":{"account_id":14124435,"reputation":95,"user_id":10204181,"display_name":"Helyon"},"score":1,"creation_date":1580386462,"post_id":59985403,"comment_id":106085095,"body_markdown":"Sorry, I tried to clearify the question. \nMy primary question is if there is a way to integrate the generated model in a java application, but I&#39;m open to other approaches to this problem If someone knows one.","body":"Sorry, I tried to clearify the question.  My primary question is if there is a way to integrate the generated model in a java application, but I&#39;m open to other approaches to this problem If someone knows one."}],"answers":[{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677130019,"creation_date":1677130019,"answer_id":75540889,"question_id":59985403,"body_markdown":"First Export your model as `SavedModel`.\r\n[![enter image description here][1]][1]\r\n\r\nThen you can use ML Libraries to read it.\r\n\r\nFor Example:-\r\n\r\n - [DLJ][2]\r\n\r\nExample code (Taken from [here][3]):-\r\n\r\n    Criteria&lt;Image, Classifications&gt; criteria =\r\n        Criteria.builder()\r\n            .setTypes(Image.class, Classifications.class)\r\n            .optModelUrls(&quot;https://example.com/squeezenet.zip&quot;)\r\n            .optTranslator(ImageClassificationTranslator\r\n                   .builder().addTransform(new ToTensor()).build())\r\n            .build();\r\n    \r\n    try (ZooModel&lt;Image, Classification&gt; model = ModelZoo.load(criteria);\r\n            Predictor&lt;Image, Classification&gt; predictor = model.newPredictor()) {\r\n        Image image = ImageFactory.getInstance().fromUrl(&quot;https://myimage.jpg&quot;);\r\n        Classification result = predictor.predict(image);\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/44Q2R.png\r\n  [2]: https://djl.ai/\r\n  [3]: https://stackoverflow.com/a/62419161/17022570","title":"Integrate Google Teachable Machine Model to Java application","body":"<p>First Export your model as <code>SavedModel</code>.\n<a href=\"https://i.stack.imgur.com/44Q2R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/44Q2R.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you can use ML Libraries to read it.</p>\n<p>For Example:-</p>\n<ul>\n<li><a href=\"https://djl.ai/\" rel=\"nofollow noreferrer\">DLJ</a></li>\n</ul>\n<p>Example code (Taken from <a href=\"https://stackoverflow.com/a/62419161/17022570\">here</a>):-</p>\n<pre><code>Criteria&lt;Image, Classifications&gt; criteria =\n    Criteria.builder()\n        .setTypes(Image.class, Classifications.class)\n        .optModelUrls(&quot;https://example.com/squeezenet.zip&quot;)\n        .optTranslator(ImageClassificationTranslator\n               .builder().addTransform(new ToTensor()).build())\n        .build();\n\ntry (ZooModel&lt;Image, Classification&gt; model = ModelZoo.load(criteria);\n        Predictor&lt;Image, Classification&gt; predictor = model.newPredictor()) {\n    Image image = ImageFactory.getInstance().fromUrl(&quot;https://myimage.jpg&quot;);\n    Classification result = predictor.predict(image);\n}\n</code></pre>\n"}],"owner":{"account_id":14124435,"reputation":95,"user_id":10204181,"display_name":"Helyon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1677130019,"creation_date":1580384944,"question_id":59985403,"body_markdown":"I made an image model with https://teachablemachine.withgoogle.com, which classifies simple \r\nstandardized pictograms as I need this in my application but I didn&#39;t manage to import it to my java application. I tried everything from .h5 import via Deeplearning4j (unsupported) to fighting around with Tensorflow and savedModel. Other export-formats are Tensorflow.js and Tensorflow Lite.\r\n\r\nMy attempt to train a model manually in python was too complex for my current deeplearning skills and never worked as good as the teachable machine.\r\n\r\nMy program has to classify the known GHS-pictograms from images (https://en.wikipedia.org/wiki/Globally_Harmonized_System_of_Classification_and_Labelling_of_Chemicals)\r\n\r\nWhat should I do? Is there another way to integrate the model or maybe is there a simpler way than deeplearning for this simple thing?","title":"Integrate Google Teachable Machine Model to Java application","body":"<p>I made an image model with <a href=\"https://teachablemachine.withgoogle.com\" rel=\"nofollow noreferrer\">https://teachablemachine.withgoogle.com</a>, which classifies simple \nstandardized pictograms as I need this in my application but I didn't manage to import it to my java application. I tried everything from .h5 import via Deeplearning4j (unsupported) to fighting around with Tensorflow and savedModel. Other export-formats are Tensorflow.js and Tensorflow Lite.</p>\n\n<p>My attempt to train a model manually in python was too complex for my current deeplearning skills and never worked as good as the teachable machine.</p>\n\n<p>My program has to classify the known GHS-pictograms from images (<a href=\"https://en.wikipedia.org/wiki/Globally_Harmonized_System_of_Classification_and_Labelling_of_Chemicals\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Globally_Harmonized_System_of_Classification_and_Labelling_of_Chemicals</a>)</p>\n\n<p>What should I do? Is there another way to integrate the model or maybe is there a simpler way than deeplearning for this simple thing?</p>\n"},{"tags":["java","json","b4j"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677129914,"post_id":75540376,"comment_id":133277934,"body_markdown":"The code in your question does not look like Java to me. Are you sure that it is? Maybe you added the &quot;java&quot; tag by mistake?","body":"The code in your question does not look like Java to me. Are you sure that it is? Maybe you added the &quot;java&quot; tag by mistake?"},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1677132711,"post_id":75540376,"comment_id":133278374,"body_markdown":"Looks like VB rather than Java","body":"Looks like VB rather than Java"},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1677133250,"post_id":75540376,"comment_id":133278464,"body_markdown":"You tried to use ReadList then parse each line separately. However, `[` by itself is not valid. I think you should load the entire thing using ReadString and then parse it.","body":"You tried to use ReadList then parse each line separately. However, <code>[</code> by itself is not valid. I think you should load the entire thing using ReadString and then parse it."}],"owner":{"account_id":27856701,"reputation":11,"user_id":21270037,"display_name":"Ardean Angkasa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677129775,"creation_date":1677123805,"question_id":75540376,"body_markdown":"This is my JSON fromat on _endpoints.txt_\r\n```none\r\n[\r\n    {\r\n        &quot;host&quot;: &quot;https://xxx.xxx.xxx.xxx:8443/api/v1/namespaces/sf7dev/pods&quot;,\r\n        &quot;name&quot;: &quot;OKD 1&quot;,\r\n        &quot;token&quot;: &quot;My token&quot;\r\n    }\r\n]\r\n```\r\nThis is my code:\r\n```\r\nSub tickInterval_tick\r\n\ttime.Enabled= False\r\n\tDim endpointList As List\r\n\tendpointList = File.ReadList(File.DirApp, &quot;endpoints.txt&quot;)\r\n\tDim parser As JSONParser\r\n\r\n\tFor t = 0 To endpointList.Size - 1\r\n\t\tparser.Initialize(endpointList.Get(t))\r\n\t\tDim endpointMap As Map = parser.NextObject\r\n\t\tContainerReady(endpointMap.Get(&quot;name&quot;), endpointMap.Get(&quot;host&quot;), endpointMap.Get(&quot;token&quot;))\r\n\tNext\r\n\ttime.Enabled= True\r\nEnd Sub\r\n```\r\nError occured on this line:\r\n```\r\nDim endpointMap As Map = parser.NextObject\r\n```\r\nIt says:\r\n&gt;org.json.JSONException: Unterminated array at character 1 of [&quot;\r\n\r\nCan you guys help me? I don&#39;t get it what was wrong with my JSON format.\r\n\r\nThanks a lot.\r\n\r\n\r\nI tried to execute this code:\r\n```\r\nSub tickInterval_tick\r\n\ttime.Enabled= False\r\n\tDim endpointList As List\r\n\tendpointList = File.ReadList(File.DirApp, &quot;endpoints.txt&quot;)\r\n\tDim parser As JSONParser\r\n\r\n\tFor t = 0 To endpointList.Size - 1\r\n\t\tparser.Initialize(endpointList.Get(t))\r\n\t\tDim endpointMap As Map = parser.NextObject\r\n\t\tContainerReady(endpointMap.Get(&quot;name&quot;), endpointMap.Get(&quot;host&quot;), endpointMap.Get(&quot;token&quot;))\r\n\tNext\r\n\ttime.Enabled= True\r\nEnd Sub\r\n```\r\nand my expecatation it can read and process my _endpoints.txt_","title":"wrong Json format B4J","body":"<p>This is my JSON fromat on <em>endpoints.txt</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>[\n    {\n        &quot;host&quot;: &quot;https://xxx.xxx.xxx.xxx:8443/api/v1/namespaces/sf7dev/pods&quot;,\n        &quot;name&quot;: &quot;OKD 1&quot;,\n        &quot;token&quot;: &quot;My token&quot;\n    }\n]\n</code></pre>\n<p>This is my code:</p>\n<pre><code>Sub tickInterval_tick\n    time.Enabled= False\n    Dim endpointList As List\n    endpointList = File.ReadList(File.DirApp, &quot;endpoints.txt&quot;)\n    Dim parser As JSONParser\n\n    For t = 0 To endpointList.Size - 1\n        parser.Initialize(endpointList.Get(t))\n        Dim endpointMap As Map = parser.NextObject\n        ContainerReady(endpointMap.Get(&quot;name&quot;), endpointMap.Get(&quot;host&quot;), endpointMap.Get(&quot;token&quot;))\n    Next\n    time.Enabled= True\nEnd Sub\n</code></pre>\n<p>Error occured on this line:</p>\n<pre><code>Dim endpointMap As Map = parser.NextObject\n</code></pre>\n<p>It says:</p>\n<blockquote>\n<p>org.json.JSONException: Unterminated array at character 1 of [&quot;</p>\n</blockquote>\n<p>Can you guys help me? I don't get it what was wrong with my JSON format.</p>\n<p>Thanks a lot.</p>\n<p>I tried to execute this code:</p>\n<pre><code>Sub tickInterval_tick\n    time.Enabled= False\n    Dim endpointList As List\n    endpointList = File.ReadList(File.DirApp, &quot;endpoints.txt&quot;)\n    Dim parser As JSONParser\n\n    For t = 0 To endpointList.Size - 1\n        parser.Initialize(endpointList.Get(t))\n        Dim endpointMap As Map = parser.NextObject\n        ContainerReady(endpointMap.Get(&quot;name&quot;), endpointMap.Get(&quot;host&quot;), endpointMap.Get(&quot;token&quot;))\n    Next\n    time.Enabled= True\nEnd Sub\n</code></pre>\n<p>and my expecatation it can read and process my <em>endpoints.txt</em></p>\n"},{"tags":["java","xml","jaxb","marshalling"],"owner":{"account_id":2505799,"reputation":191,"user_id":2179564,"accept_rate":58,"display_name":"ifti24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677129366,"creation_date":1677129027,"question_id":75540778,"body_markdown":"Want to remove a parent tag but keep the content of the parent tag in the output XML.\r\nMy current code producing the ***actual output*** right now. But I&#39;m trying to produce the ***Expected Output*** XML.\r\n\r\n\r\n**Actual Output - That I&#39;m getting now:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-XML --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;EFT&gt;\r\n        &lt;FHR&gt;\r\n            &lt;fhrA&gt;FHR_A-1&lt;/fhrA&gt;\r\n            &lt;fhrB&gt;FHR_B-1&lt;/fhrB&gt;\r\n        &lt;/FHR&gt;\r\n        &lt;recordList&gt;\r\n            &lt;BHR&gt;\r\n                &lt;bhrA&gt;BHR_A-1&lt;/bhrA&gt;\r\n                &lt;bhrB&gt;BHR_B-1&lt;/bhrB&gt;\r\n            &lt;/BHR&gt;            \r\n        &lt;/recordList&gt;\r\n        &lt;recordList&gt;\r\n            &lt;BHR&gt;\r\n                &lt;bhrA&gt;BHR_A-2&lt;/bhrA&gt;\r\n                &lt;bhrB&gt;BHR_B-2&lt;/bhrB&gt;\r\n            &lt;/BHR&gt;            \r\n        &lt;/recordList&gt;\r\n    &lt;/EFT&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Expected Output**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n        &lt;EFT&gt;\r\n            &lt;FHR&gt;\r\n                &lt;fhrA&gt;FHR_A-1&lt;/fhrA&gt;\r\n                &lt;fhrB&gt;FHR_B-1&lt;/fhrB&gt;\r\n            &lt;/FHR&gt;           \r\n                &lt;BHR&gt;\r\n                    &lt;bhrA&gt;BHR_A-1&lt;/bhrA&gt;\r\n                    &lt;bhrB&gt;BHR_B-1&lt;/bhrB&gt;\r\n                &lt;/BHR&gt;\r\n                \r\n\r\n                &lt;BHR&gt;\r\n                    &lt;bhrA&gt;BHR_A-2&lt;/bhrA&gt;\r\n                    &lt;bhrB&gt;BHR_B-2&lt;/bhrB&gt;\r\n                &lt;/BHR&gt;               \r\n        &lt;/EFT&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Supporting Java Classes**\r\n\r\n```\r\n    @XmlRootElement(name = &quot;EFT&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlSeeAlso({BHR.class, EDR.class, ADR.class, BCR.class})\r\n    public class EFT {\r\n      @XmlElement(name = &quot;FHR&quot;)\r\n      private FHR fhr;\r\n\r\n      private List&lt;Record&gt; recordList = new ArrayList&lt;&gt;();\r\n\r\n\r\n      public FHR getFhr() {\r\n        return fhr;\r\n      }\r\n\r\n      public void setFhr(FHR fhr) {\r\n        this.fhr = fhr;\r\n      }\r\n\r\n      public List&lt;Record&gt; getRecordList() {\r\n        return recordList;\r\n      }\r\n\r\n      public void setRecordList(List&lt;Record&gt; recordList) {\r\n        this.recordList = recordList;\r\n      }\r\n    }\r\n```\r\n\r\n**Record.java**\r\n\r\n```\r\n  @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Record {\r\n\r\n      @XmlElement(name = &quot;BHR&quot;)\r\n      private BHR bhr;\r\n\r\n      Record() {\r\n      }\r\n\r\n      Record(int i) {\r\n        this.bhr = new BHR(i);\r\n      }\r\n\r\n      public BHR getBhr() {\r\n        return bhr;\r\n      }\r\n\r\n      public void setBhr(BHR bhr) {\r\n        this.bhr = bhr;\r\n      }\r\n\r\n    }\r\n```\r\n\r\n**FHR.java**\r\n\r\n```\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class FHR {\r\n\r\n      private String fhrA;\r\n      private String fhrB;\r\n\r\n      FHR() {\r\n      }\r\n\r\n      FHR(int serial) {\r\n        this.fhrA = &quot;FHR_A-&quot; + serial;\r\n        this.fhrB = &quot;FHR_B-&quot; + serial;\r\n      }\r\n\r\n      public String getFhrA() {\r\n        return fhrA;\r\n      }\r\n\r\n      public void setFhrA(String fhrA) {\r\n        this.fhrA = fhrA;\r\n      }\r\n\r\n      public String getFhrB() {\r\n        return fhrB;\r\n      }\r\n\r\n      public void setFhrB(String fhrB) {\r\n        this.fhrB = fhrB;\r\n      }\r\n    }\r\n```\r\n\r\n**BHR.java**\r\n\r\n```\r\n @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class BHR {\r\n\r\n\r\n      private String bhrA;\r\n      private String bhrB;\r\n\r\n      BHR() {\r\n      }\r\n\r\n      BHR(int serial) {\r\n        this.bhrA = &quot;BHR_A-&quot; + serial;\r\n        this.bhrB = &quot;BHR_B-&quot; + serial;\r\n      }\r\n\r\n      public String getBhrA() {\r\n        return bhrA;\r\n      }\r\n\r\n      public void setBhrA(String bhrA) {\r\n        this.bhrA = bhrA;\r\n      }\r\n\r\n      public String getBhrB() {\r\n        return bhrB;\r\n      }\r\n\r\n      public void setBhrB(String bhrB) {\r\n        this.bhrB = bhrB;\r\n      }\r\n    }\r\n```\r\n\r\n**Main Class**\r\n\r\n```\r\npublic class TestXMLGenerator {\r\n\r\n      public static void main(String[] args) throws SQLException, InterruptedException {\r\n\r\n        EFT eft = new EFT();\r\n        eft.setFhr(new FHR(1));\r\n        eft.setFcr(new FCR(1));\r\n        List&lt;Object&gt; recordList = new ArrayList&lt;&gt;();\r\n        for (int i = 1; i &lt;= 2; i++) {\r\n          Record r = new Record(i);\r\n          eft.getRecordList().add(r);\r\n        }\r\n\r\n        try {\r\n          JAXBContext jaxbContext = JAXBContext.newInstance(EFT.class, Record.class, BHR.class, ADR.class, BCR.class, EDR.class);\r\n          Marshaller marshaller = jaxbContext.createMarshaller();\r\n          marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\r\n          System.out.println(new Date());\r\n          marshaller.marshal(eft, new File(&quot;eft.xml&quot;));\r\n\r\n          System.out.println(new Date());\r\n        } catch (JAXBException e) {\r\n          e.printStackTrace();\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n```","title":"JAXB : How to skip the collection root tag in xml marshalling","body":"<p>Want to remove a parent tag but keep the content of the parent tag in the output XML.\nMy current code producing the <em><strong>actual output</strong></em> right now. But I'm trying to produce the <em><strong>Expected Output</strong></em> XML.</p>\n<p><strong>Actual Output - That I'm getting now:</strong></p>\n<pre class=\"lang-XML prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;EFT&gt;\n    &lt;FHR&gt;\n        &lt;fhrA&gt;FHR_A-1&lt;/fhrA&gt;\n        &lt;fhrB&gt;FHR_B-1&lt;/fhrB&gt;\n    &lt;/FHR&gt;\n    &lt;recordList&gt;\n        &lt;BHR&gt;\n            &lt;bhrA&gt;BHR_A-1&lt;/bhrA&gt;\n            &lt;bhrB&gt;BHR_B-1&lt;/bhrB&gt;\n        &lt;/BHR&gt;            \n    &lt;/recordList&gt;\n    &lt;recordList&gt;\n        &lt;BHR&gt;\n            &lt;bhrA&gt;BHR_A-2&lt;/bhrA&gt;\n            &lt;bhrB&gt;BHR_B-2&lt;/bhrB&gt;\n        &lt;/BHR&gt;            \n    &lt;/recordList&gt;\n&lt;/EFT&gt;\n</code></pre>\n<p><strong>Expected Output</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n    &lt;EFT&gt;\n        &lt;FHR&gt;\n            &lt;fhrA&gt;FHR_A-1&lt;/fhrA&gt;\n            &lt;fhrB&gt;FHR_B-1&lt;/fhrB&gt;\n        &lt;/FHR&gt;           \n            &lt;BHR&gt;\n                &lt;bhrA&gt;BHR_A-1&lt;/bhrA&gt;\n                &lt;bhrB&gt;BHR_B-1&lt;/bhrB&gt;\n            &lt;/BHR&gt;\n            \n\n            &lt;BHR&gt;\n                &lt;bhrA&gt;BHR_A-2&lt;/bhrA&gt;\n                &lt;bhrB&gt;BHR_B-2&lt;/bhrB&gt;\n            &lt;/BHR&gt;               \n    &lt;/EFT&gt;\n</code></pre>\n<p><strong>Supporting Java Classes</strong></p>\n<pre><code>    @XmlRootElement(name = &quot;EFT&quot;)\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlSeeAlso({BHR.class, EDR.class, ADR.class, BCR.class})\n    public class EFT {\n      @XmlElement(name = &quot;FHR&quot;)\n      private FHR fhr;\n\n      private List&lt;Record&gt; recordList = new ArrayList&lt;&gt;();\n\n\n      public FHR getFhr() {\n        return fhr;\n      }\n\n      public void setFhr(FHR fhr) {\n        this.fhr = fhr;\n      }\n\n      public List&lt;Record&gt; getRecordList() {\n        return recordList;\n      }\n\n      public void setRecordList(List&lt;Record&gt; recordList) {\n        this.recordList = recordList;\n      }\n    }\n</code></pre>\n<p><strong>Record.java</strong></p>\n<pre><code>  @XmlAccessorType(XmlAccessType.FIELD)\n    public class Record {\n\n      @XmlElement(name = &quot;BHR&quot;)\n      private BHR bhr;\n\n      Record() {\n      }\n\n      Record(int i) {\n        this.bhr = new BHR(i);\n      }\n\n      public BHR getBhr() {\n        return bhr;\n      }\n\n      public void setBhr(BHR bhr) {\n        this.bhr = bhr;\n      }\n\n    }\n</code></pre>\n<p><strong>FHR.java</strong></p>\n<pre><code>    @XmlAccessorType(XmlAccessType.FIELD)\n    public class FHR {\n\n      private String fhrA;\n      private String fhrB;\n\n      FHR() {\n      }\n\n      FHR(int serial) {\n        this.fhrA = &quot;FHR_A-&quot; + serial;\n        this.fhrB = &quot;FHR_B-&quot; + serial;\n      }\n\n      public String getFhrA() {\n        return fhrA;\n      }\n\n      public void setFhrA(String fhrA) {\n        this.fhrA = fhrA;\n      }\n\n      public String getFhrB() {\n        return fhrB;\n      }\n\n      public void setFhrB(String fhrB) {\n        this.fhrB = fhrB;\n      }\n    }\n</code></pre>\n<p><strong>BHR.java</strong></p>\n<pre><code> @XmlAccessorType(XmlAccessType.FIELD)\n    public class BHR {\n\n\n      private String bhrA;\n      private String bhrB;\n\n      BHR() {\n      }\n\n      BHR(int serial) {\n        this.bhrA = &quot;BHR_A-&quot; + serial;\n        this.bhrB = &quot;BHR_B-&quot; + serial;\n      }\n\n      public String getBhrA() {\n        return bhrA;\n      }\n\n      public void setBhrA(String bhrA) {\n        this.bhrA = bhrA;\n      }\n\n      public String getBhrB() {\n        return bhrB;\n      }\n\n      public void setBhrB(String bhrB) {\n        this.bhrB = bhrB;\n      }\n    }\n</code></pre>\n<p><strong>Main Class</strong></p>\n<pre><code>public class TestXMLGenerator {\n\n      public static void main(String[] args) throws SQLException, InterruptedException {\n\n        EFT eft = new EFT();\n        eft.setFhr(new FHR(1));\n        eft.setFcr(new FCR(1));\n        List&lt;Object&gt; recordList = new ArrayList&lt;&gt;();\n        for (int i = 1; i &lt;= 2; i++) {\n          Record r = new Record(i);\n          eft.getRecordList().add(r);\n        }\n\n        try {\n          JAXBContext jaxbContext = JAXBContext.newInstance(EFT.class, Record.class, BHR.class, ADR.class, BCR.class, EDR.class);\n          Marshaller marshaller = jaxbContext.createMarshaller();\n          marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\n          System.out.println(new Date());\n          marshaller.marshal(eft, new File(&quot;eft.xml&quot;));\n\n          System.out.println(new Date());\n        } catch (JAXBException e) {\n          e.printStackTrace();\n        }\n\n      }\n\n    }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webdriver","chromium"],"comments":[{"owner":{"account_id":6929975,"reputation":2454,"user_id":5319738,"display_name":"Kamal"},"score":0,"creation_date":1549524302,"post_id":54567901,"comment_id":95934453,"body_markdown":"As per docs [here](https://www.seleniumhq.org/docs/01_introducing_selenium.jsp#supported-browsers-and-platforms), chromium is not supported.","body":"As per docs <a href=\"https://www.seleniumhq.org/docs/01_introducing_selenium.jsp#supported-browsers-and-platforms\" rel=\"nofollow noreferrer\">here</a>, chromium is not supported."},{"owner":{"account_id":14893430,"reputation":131,"user_id":11026797,"display_name":"Nikita Milaserdov"},"score":0,"creation_date":1549524794,"post_id":54567901,"comment_id":95934621,"body_markdown":"@Kamal by the way recently I saw programmers run autotests on Chromium using JavaScript and Selenium. I can&#39;t remember where I saw it","body":"@Kamal by the way recently I saw programmers run autotests on Chromium using JavaScript and Selenium. I can&#39;t remember where I saw it"},{"owner":{"account_id":6929975,"reputation":2454,"user_id":5319738,"display_name":"Kamal"},"score":0,"creation_date":1549525185,"post_id":54567901,"comment_id":95934789,"body_markdown":"Please check https://stackoverflow.com/questions/5731953/use-selenium-with-chromium-browser","body":"Please check <a href=\"https://stackoverflow.com/questions/5731953/use-selenium-with-chromium-browser\" title=\"use selenium with chromium browser\">stackoverflow.com/questions/5731953/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":14893430,"reputation":131,"user_id":11026797,"display_name":"Nikita Milaserdov"},"score":1,"creation_date":1549527592,"post_id":54568535,"comment_id":95935826,"body_markdown":"yeap, everything is working fine for now. I am just edited your code and Chromium started to run","body":"yeap, everything is working fine for now. I am just edited your code and Chromium started to run"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1580039038,"creation_date":1549525585,"answer_id":54568535,"question_id":54567901,"body_markdown":"_Chromium Browser_ have different version as follows:\r\n\r\n- _Chrome Canary_\r\n- Chrome from _Dev Channel_\r\n- Raw build of _Chromium for Windows x64_\r\n\r\nNot sure which _Chromium Browser_ version you are trying to use.\r\n\r\nHowever to use _Chrome Canary_ version you can use the _ChromeOptions_ and `setBinary()` method to set the _absolute path_ of the _Chrome Canary_ binary and you can use the following solution:\r\n\r\n- Code Block:\r\n\r\n\t\timport org.openqa.selenium.WebDriver;\r\n\t\timport org.openqa.selenium.chrome.ChromeDriver;\r\n\t\timport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\n\t\tpublic class A_Chrome_Canary {\r\n\r\n\t\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\t    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Utility\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\r\n\t\t\t    ChromeOptions opt = new ChromeOptions();\r\n\t\t\t    opt.setBinary(&quot;C:\\\\Users\\\\AtechM_03\\\\AppData\\\\Local\\\\Google\\\\Chrome SxS\\\\Application\\\\chrome.exe&quot;);\r\n\t\t\t    WebDriver driver = new ChromeDriver(opt);\r\n\t\t\t    driver.get(&quot;https://www.google.com/&quot;);\r\n\t\t\t    System.out.println(driver.getTitle());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n- Console Output:\r\n\r\n        Google\r\n\r\n- Browser Snapshot:\r\n\r\n![Chrome_Canary](https://i.stack.imgur.com/KEziL.png)\r\n\r\n\r\n----------\r\n\r\n\r\nUpdate\r\n------\r\nNot clear from your comments but you need to download the latest _Chromium_ binary from either of the official repositories:\r\n\r\n- [The Chromium Projects](https://www.chromium.org/getting-involved/download-chromium)\r\n- [chromium.appspot](https://download-chromium.appspot.com/)\r\n- [Chrome Canary - Nightly build for developers](https://www.google.com/intl/en/chrome/canary/)","title":"How to run a Chromium Browser with Selenium?","body":"<p><em>Chromium Browser</em> have different version as follows:</p>\n\n<ul>\n<li><em>Chrome Canary</em></li>\n<li>Chrome from <em>Dev Channel</em></li>\n<li>Raw build of <em>Chromium for Windows x64</em></li>\n</ul>\n\n<p>Not sure which <em>Chromium Browser</em> version you are trying to use.</p>\n\n<p>However to use <em>Chrome Canary</em> version you can use the <em>ChromeOptions</em> and <code>setBinary()</code> method to set the <em>absolute path</em> of the <em>Chrome Canary</em> binary and you can use the following solution:</p>\n\n<ul>\n<li><p>Code Block:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class A_Chrome_Canary {\n\n    public static void main(String[] args) {\n\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Utility\\\\BrowserDrivers\\\\chromedriver.exe\");\n        ChromeOptions opt = new ChromeOptions();\n        opt.setBinary(\"C:\\\\Users\\\\AtechM_03\\\\AppData\\\\Local\\\\Google\\\\Chrome SxS\\\\Application\\\\chrome.exe\");\n        WebDriver driver = new ChromeDriver(opt);\n        driver.get(\"https://www.google.com/\");\n        System.out.println(driver.getTitle());\n    }\n}\n</code></pre></li>\n<li><p>Console Output:</p>\n\n<pre><code>Google\n</code></pre></li>\n<li><p>Browser Snapshot:</p></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/KEziL.png\" alt=\"Chrome_Canary\"></p>\n\n<hr>\n\n<h2>Update</h2>\n\n<p>Not clear from your comments but you need to download the latest <em>Chromium</em> binary from either of the official repositories:</p>\n\n<ul>\n<li><a href=\"https://www.chromium.org/getting-involved/download-chromium\" rel=\"nofollow noreferrer\">The Chromium Projects</a></li>\n<li><a href=\"https://download-chromium.appspot.com/\" rel=\"nofollow noreferrer\">chromium.appspot</a></li>\n<li><a href=\"https://www.google.com/intl/en/chrome/canary/\" rel=\"nofollow noreferrer\">Chrome Canary - Nightly build for developers</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14893430,"reputation":131,"user_id":11026797,"display_name":"Nikita Milaserdov"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1549527587,"creation_date":1549527290,"answer_id":54568928,"question_id":54567901,"body_markdown":"With the help of [DebanjanB&#39;s answer](https://stackoverflow.com/a/54568535), I developed the following code that can run on Chromium:\r\n\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n\r\n    public class A_Chrome_Canary {\r\n\r\n        public static void main (String[] args){\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\chromedriver.exe&quot;);\r\n\r\n        ChromeOptions opt = new ChromeOptions();\r\n\r\n        opt.setBinary(&quot;C:\\\\Users\\\\User\\\\Downloads\\\\chrome-win\\\\chrome-win\\\\chrome.exe&quot;);\r\n\r\n        WebDriver driver = new ChromeDriver(opt);\r\n\r\n        driver.get(&quot;https://www.google.com/&quot;);\r\n\r\n        System.out.println(driver.getTitle());\r\n\r\n        }\r\n    }","title":"How to run a Chromium Browser with Selenium?","body":"<p>With the help of <a href=\"https://stackoverflow.com/a/54568535\">DebanjanB's answer</a>, I developed the following code that can run on Chromium:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class A_Chrome_Canary {\n\n    public static void main (String[] args){\n\n    System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\chromedriver.exe\");\n\n    ChromeOptions opt = new ChromeOptions();\n\n    opt.setBinary(\"C:\\\\Users\\\\User\\\\Downloads\\\\chrome-win\\\\chrome-win\\\\chrome.exe\");\n\n    WebDriver driver = new ChromeDriver(opt);\n\n    driver.get(\"https://www.google.com/\");\n\n    System.out.println(driver.getTitle());\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14893430,"reputation":131,"user_id":11026797,"display_name":"Nikita Milaserdov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21737,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1677129319,"creation_date":1549522827,"question_id":54567901,"body_markdown":"Is it possible to run a Selenium test in Chromium Browser (not Google Chrome Browser)?\r\n\r\nMy [Google Drive][1] location:\r\n\r\n![Google Drive location](https://i.stack.imgur.com/VmjtD.jpg)\r\n\r\nMy Chromium location:\r\n\r\n![Chromium location](https://i.stack.imgur.com/eCn5D.jpg)\r\n\r\nFYI: I am using Java\r\n\r\nMy code (at the moment I am running FirefoxDriver (gecko):\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n\r\n    public class MainClass {\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\geckodriver.exe&quot;);\r\n        WebDriver driver = new FirefoxDriver();\r\n        driver.get(&quot;https://www.seleniumhq.org/&quot;);\r\n       }\r\n    }\r\n\r\nI thought that this code would help, but it was without success. It runs Google Chrome, not Chromium:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n    public class Chromium {\r\n\r\n        public static void main(String[] args) {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\chromedriver.exe&quot;);\r\n            System.setProperty(&quot;webdriver.chrome.binary&quot;, &quot;C:\\\\Users\\\\User\\\\Downloads\\\\chrome-win\\\\chrome-win\\\\chrome.exe&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            driver.get(&quot;https://www.seleniumhq.org/&quot;);\r\n        }\r\n    }\r\n\r\nWhat could be the problem? How can this question be resolved?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Google_Drive\r\n\r\n","title":"How to run a Chromium Browser with Selenium?","body":"<p>Is it possible to run a Selenium test in Chromium Browser (not Google Chrome Browser)?</p>\n<p>My <a href=\"https://en.wikipedia.org/wiki/Google_Drive\" rel=\"nofollow noreferrer\">Google Drive</a> location:</p>\n<p><img src=\"https://i.stack.imgur.com/VmjtD.jpg\" alt=\"Google Drive location\" /></p>\n<p>My Chromium location:</p>\n<p><img src=\"https://i.stack.imgur.com/eCn5D.jpg\" alt=\"Chromium location\" /></p>\n<p>FYI: I am using Java</p>\n<p>My code (at the moment I am running FirefoxDriver (gecko):</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class MainClass {\n\npublic static void main(String[] args) {\n    System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\geckodriver.exe&quot;);\n    WebDriver driver = new FirefoxDriver();\n    driver.get(&quot;https://www.seleniumhq.org/&quot;);\n   }\n}\n</code></pre>\n<p>I thought that this code would help, but it was without success. It runs Google Chrome, not Chromium:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Chromium {\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\chromedriver.exe&quot;);\n        System.setProperty(&quot;webdriver.chrome.binary&quot;, &quot;C:\\\\Users\\\\User\\\\Downloads\\\\chrome-win\\\\chrome-win\\\\chrome.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.seleniumhq.org/&quot;);\n    }\n}\n</code></pre>\n<p>What could be the problem? How can this question be resolved?</p>\n"},{"tags":["java","swing","jtextpane","text-coloring"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1676705510,"post_id":75491751,"comment_id":133195007,"body_markdown":"An IDE requires you to type the text before it can &quot;color&quot; it.  A [JTextPane](https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html) uses a [StyledDocument](https://docs.oracle.com/javase/8/docs/api/javax/swing/text/StyledDocument.html).  You have to modify the `StyledDocument` as the user types.","body":"An IDE requires you to type the text before it can &quot;color&quot; it.  A <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html\" rel=\"nofollow noreferrer\">JTextPane</a> uses a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/StyledDocument.html\" rel=\"nofollow noreferrer\">StyledDocument</a>.  You have to modify the <code>StyledDocument</code> as the user types."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1676705703,"post_id":75491751,"comment_id":133195026,"body_markdown":"You&#39;re going to need to take deep dive into the `StyledDocment`, for [example](https://stackoverflow.com/questions/15916249/colorpane-grab-strings-of-different-character-possible/15916621#15916621) and [example](https://stackoverflow.com/questions/18948148/jeditorpane-set-foreground-color-for-different-words/18948340#18948340) but I just want to point out that syntax highlight is VERY complex","body":"You&#39;re going to need to take deep dive into the <code>StyledDocment</code>, for <a href=\"https://stackoverflow.com/questions/15916249/colorpane-grab-strings-of-different-character-possible/15916621#15916621\">example</a> and <a href=\"https://stackoverflow.com/questions/18948148/jeditorpane-set-foreground-color-for-different-words/18948340#18948340\">example</a> but I just want to point out that syntax highlight is VERY complex"},{"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"score":0,"creation_date":1676733232,"post_id":75491751,"comment_id":133198553,"body_markdown":"I will try viewing IntelliJ and webstorm&#39;s source code.","body":"I will try viewing IntelliJ and webstorm&#39;s source code."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1676741383,"post_id":75491751,"comment_id":133200081,"body_markdown":"Highlighting is the easy part. Parsing the text to find the tokens to highlight is the hard part as you need to consider things like multi-line comments, keywords within quotes etc. You can check out my old attempt at a Java syntax highlighter: https://stackoverflow.com/a/27338679/131872","body":"Highlighting is the easy part. Parsing the text to find the tokens to highlight is the hard part as you need to consider things like multi-line comments, keywords within quotes etc. You can check out my old attempt at a Java syntax highlighter: <a href=\"https://stackoverflow.com/a/27338679/131872\">stackoverflow.com/a/27338679/131872</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676759209,"post_id":75491751,"comment_id":133203105,"body_markdown":"Then maybe have a look at [RSyntaxTextArea](https://bobbylight.github.io/RSyntaxTextArea/)","body":"Then maybe have a look at <a href=\"https://bobbylight.github.io/RSyntaxTextArea/\" rel=\"nofollow noreferrer\">RSyntaxTextArea</a>"},{"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"score":0,"creation_date":1676876316,"post_id":75491751,"comment_id":133218464,"body_markdown":"@MadProgrammer Thanks, ill look at it.Gilbert Le Blanc Thank you too, now I get it...","body":"@MadProgrammer Thanks, ill look at it.Gilbert Le Blanc Thank you too, now I get it..."}],"answers":[{"comments":[{"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"score":0,"creation_date":1677164862,"post_id":75540792,"comment_id":133287329,"body_markdown":"Is there any &quot;TextPane&quot; alternative","body":"Is there any &quot;TextPane&quot; alternative"},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":1,"creation_date":1677210875,"post_id":75540792,"comment_id":133297319,"body_markdown":"@RishonJR you cannot do this with `JTextPane` instead use a `jeditorpane`.  See https://stackoverflow.com/a/64057567/17022570","body":"@RishonJR you cannot do this with <code>JTextPane</code> instead use a <code>jeditorpane</code>.  See <a href=\"https://stackoverflow.com/a/64057567/17022570\">stackoverflow.com/a/64057567/17022570</a>"},{"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"score":0,"creation_date":1677231982,"post_id":75540792,"comment_id":133301119,"body_markdown":"Okay, I will see both Solutions. Let me see if I can migrate to JTextPane.","body":"Okay, I will see both Solutions. Let me see if I can migrate to JTextPane."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1677240890,"post_id":75540792,"comment_id":133303536,"body_markdown":"@RishonJR ok let me know if you find a solution","body":"@RishonJR ok let me know if you find a solution"},{"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"score":0,"creation_date":1677243159,"post_id":75540792,"comment_id":133304197,"body_markdown":"Whoops, a typo there... I meant JTextArea lol. I Can Safely migrate to it without any problems.","body":"Whoops, a typo there... I meant JTextArea lol. I Can Safely migrate to it without any problems."}],"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677129183,"creation_date":1677129183,"answer_id":75540792,"question_id":75491751,"body_markdown":"Like [@MadProgrammer][1] mentioned, you can use [RSyntaxTextArea][2]. \r\n\r\nFrom its README:\r\n\r\n&gt; RSyntaxTextArea is a customizable, syntax highlighting text component\r\n&gt; for Java Swing applications. Out of the box, it supports syntax\r\n&gt; highlighting for 50+ programming languages, code folding, search and\r\n&gt; replace, and has add-on libraries for code completion and spell\r\n&gt; checking. Syntax highlighting for additional languages can be added\r\n&gt; via tools such as JFlex.\r\n\r\nExample Usage:- \r\n\r\n    import javax.swing.*;\r\n    import java.awt.BorderLayout;\r\n    \r\n    import org.fife.ui.rtextarea.*;\r\n    import org.fife.ui.rsyntaxtextarea.*;\r\n    \r\n    public class TextEditorDemo extends JFrame {\r\n    \r\n        public TextEditorDemo() {\r\n    \r\n            JPanel cp = new JPanel(new BorderLayout());\r\n    \r\n            RSyntaxTextArea textArea = new RSyntaxTextArea(20, 60);\r\n            textArea.setSyntaxEditingStyle(SyntaxConstants.SYNTAX_STYLE_JAVA);\r\n            textArea.setCodeFoldingEnabled(true);\r\n            RTextScrollPane sp = new RTextScrollPane(textArea);\r\n            cp.add(sp);\r\n    \r\n            setContentPane(cp);\r\n            setTitle(&quot;Text Editor Demo&quot;);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            pack();\r\n            setLocationRelativeTo(null);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            // Start all Swing applications on the EDT.\r\n            SwingUtilities.invokeLater(() -&gt; new TextEditorDemo().setVisible(true));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/992484/madprogrammer\r\n  [2]: https://github.com/bobbylight/RSyntaxTextArea","title":"How do I colorise certain words in JTextPane?","body":"<p>Like <a href=\"https://stackoverflow.com/users/992484/madprogrammer\">@MadProgrammer</a> mentioned, you can use <a href=\"https://github.com/bobbylight/RSyntaxTextArea\" rel=\"nofollow noreferrer\">RSyntaxTextArea</a>.</p>\n<p>From its README:</p>\n<blockquote>\n<p>RSyntaxTextArea is a customizable, syntax highlighting text component\nfor Java Swing applications. Out of the box, it supports syntax\nhighlighting for 50+ programming languages, code folding, search and\nreplace, and has add-on libraries for code completion and spell\nchecking. Syntax highlighting for additional languages can be added\nvia tools such as JFlex.</p>\n</blockquote>\n<p>Example Usage:-</p>\n<pre><code>import javax.swing.*;\nimport java.awt.BorderLayout;\n\nimport org.fife.ui.rtextarea.*;\nimport org.fife.ui.rsyntaxtextarea.*;\n\npublic class TextEditorDemo extends JFrame {\n\n    public TextEditorDemo() {\n\n        JPanel cp = new JPanel(new BorderLayout());\n\n        RSyntaxTextArea textArea = new RSyntaxTextArea(20, 60);\n        textArea.setSyntaxEditingStyle(SyntaxConstants.SYNTAX_STYLE_JAVA);\n        textArea.setCodeFoldingEnabled(true);\n        RTextScrollPane sp = new RTextScrollPane(textArea);\n        cp.add(sp);\n\n        setContentPane(cp);\n        setTitle(&quot;Text Editor Demo&quot;);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        pack();\n        setLocationRelativeTo(null);\n\n    }\n\n    public static void main(String[] args) {\n        // Start all Swing applications on the EDT.\n        SwingUtilities.invokeLater(() -&gt; new TextEditorDemo().setVisible(true));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1677361606,"accepted_answer_id":75540792,"answer_count":1,"score":-1,"last_activity_date":1677129183,"creation_date":1676704063,"question_id":75491751,"body_markdown":"I have a simple HTML text Editor which I&#39;m trying to convert into an IDE. I&#39;m finished with the basics (Like adding a file browser and running the project). The next obstacle I&#39;m facing is adding themes.\r\n\r\n I googled and found this [question](https://stackoverflow.com/questions/9650992/how-to-change-text-color-in-the-jtextarea) but it requires adding the text before changing its color. \\\r\nWhat behaviour I want is similar to JetBrains Webstorm (Or IntelliJ IDE):\r\n[![enter image description here][1]][1]\r\n\r\nThis is what it looks like as of now:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yfAvR.png\r\n  [2]: https://i.stack.imgur.com/VYXYK.png","title":"How do I colorise certain words in JTextPane?","body":"<p>I have a simple HTML text Editor which I'm trying to convert into an IDE. I'm finished with the basics (Like adding a file browser and running the project). The next obstacle I'm facing is adding themes.</p>\n<p>I googled and found this <a href=\"https://stackoverflow.com/questions/9650992/how-to-change-text-color-in-the-jtextarea\">question</a> but it requires adding the text before changing its color. <br />\nWhat behaviour I want is similar to JetBrains Webstorm (Or IntelliJ IDE):\n<a href=\"https://i.stack.imgur.com/yfAvR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yfAvR.png\" alt=\"enter image description here\" /></a></p>\n<p>This is what it looks like as of now:\n<a href=\"https://i.stack.imgur.com/VYXYK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VYXYK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","terminal","compilation","vscode-code-runner","coderunner"],"answers":[{"tags":[],"owner":{"account_id":26266664,"reputation":58,"user_id":19937103,"display_name":"BaoTranHero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669879353,"creation_date":1669879353,"answer_id":74638221,"question_id":74637828,"body_markdown":"You should use different IDE to run your Java Code because VS Code doesn&#39;t support many features, try: intellij, eclipse,...\r\n\r\nOtherwise, please follow the instruction in: https://code.visualstudio.com/docs/languages/java\r\n\r\n&lt;em&gt;Check current JDK in your computer by typing following command in cmd:\r\n```\r\njava --version\r\n```","title":"Couldn&#39;t compile java in vs code","body":"<p>You should use different IDE to run your Java Code because VS Code doesn't support many features, try: intellij, eclipse,...</p>\n<p>Otherwise, please follow the instruction in: <a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/languages/java</a></p>\n<p>Check current JDK in your computer by typing following command in cmd:</p>\n<pre><code>java --version\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670174985,"post_id":74638240,"comment_id":131809018,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74638240/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24610857,"reputation":21,"user_id":18512463,"display_name":"Tarun Pansotra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669879474,"creation_date":1669879474,"answer_id":74638240,"question_id":74637828,"body_markdown":"Intellij is also good or try to install plugin for java then you will able to run java on vs code.","title":"Couldn&#39;t compile java in vs code","body":"<p>Intellij is also good or try to install plugin for java then you will able to run java on vs code.</p>\n"}],"owner":{"account_id":27107411,"reputation":1,"user_id":20653060,"display_name":"Faris A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":770,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1677129006,"creation_date":1669876773,"question_id":74637828,"body_markdown":"I am not able to run java in vs code [my code]\r\n\r\n```\r\npublic class hello {\r\n\r\n    public static void main(String args[]) {\r\n        System.out.print(&quot;Hello World&quot;)\r\n    }\r\n}\r\n```\r\n\r\n. I don&#39;t even have an option of run code in terminal in my settings..It is not showing any error or anything too![erased the semi-colon; but not showing any error].JDK-19 is installed and working.\r\n\r\nI watched vids on youtube for a solution everyone is saying check &quot;run code in terminal&quot; option. I also downloaded an extention named code runner by which finally  &quot;run code in terminal&quot; option was there I checked it and it still didn&#39;t work.","title":"Couldn&#39;t compile java in vs code","body":"<p>I am not able to run java in vs code [my code]</p>\n<pre><code>public class hello {\n\n    public static void main(String args[]) {\n        System.out.print(&quot;Hello World&quot;)\n    }\n}\n</code></pre>\n<p>. I don't even have an option of run code in terminal in my settings..It is not showing any error or anything too![erased the semi-colon; but not showing any error].JDK-19 is installed and working.</p>\n<p>I watched vids on youtube for a solution everyone is saying check &quot;run code in terminal&quot; option. I also downloaded an extention named code runner by which finally  &quot;run code in terminal&quot; option was there I checked it and it still didn't work.</p>\n"},{"tags":["java","vscode-code-runner","coderunner"],"answers":[{"comments":[{"owner":{"account_id":24766666,"reputation":193,"user_id":18650474,"display_name":"Peek0"},"score":0,"creation_date":1670289604,"post_id":74683558,"comment_id":131837334,"body_markdown":"Thank you so much! I was following a tutorial that glossed over this and used a Code Runner, but I missed the part where he was not CD into the folder. Really appreciate entertaining such a basic question!","body":"Thank you so much! I was following a tutorial that glossed over this and used a Code Runner, but I missed the part where he was not CD into the folder. Really appreciate entertaining such a basic question!"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670216389,"creation_date":1670216389,"answer_id":74683558,"question_id":74682683,"body_markdown":"You don&#39;t `cd` to the package directory, i.e. `CommandLineApp`. You `cd` to the parent directory of the package directory. And you give the fully qualified name when you launch the class, i.e:\r\n```none\r\njava CommandLineApp.HelloWorld\r\n```\r\nAlternatively, you use the `-classpath` option in the `java` command, i.e:\r\n```none\r\njava -cp dir CommandLineApp.HelloWorld\r\n```\r\nwhere `dir` is the path to the parent directory of `CommandLineApp`.\r\n\r\nPerhaps this [tutorial](https://docs.oracle.com/javase/tutorial/getStarted/index.html) will help.\r\n\r\nNote that, since JDK 11, you can also launch a Java source code file. Refer to the [documentation](https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html).\r\n\r\nBy the way, according to Java [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html), the package name should be something like `commandlineapp` or `commandline.app`","title":"Able to run Java code using Code Runner but not CLI","body":"<p>You don't <code>cd</code> to the package directory, i.e. <code>CommandLineApp</code>. You <code>cd</code> to the parent directory of the package directory. And you give the fully qualified name when you launch the class, i.e:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java CommandLineApp.HelloWorld\n</code></pre>\n<p>Alternatively, you use the <code>-classpath</code> option in the <code>java</code> command, i.e:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp dir CommandLineApp.HelloWorld\n</code></pre>\n<p>where <code>dir</code> is the path to the parent directory of <code>CommandLineApp</code>.</p>\n<p>Perhaps this <a href=\"https://docs.oracle.com/javase/tutorial/getStarted/index.html\" rel=\"nofollow noreferrer\">tutorial</a> will help.</p>\n<p>Note that, since JDK 11, you can also launch a Java source code file. Refer to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>By the way, according to Java <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>, the package name should be something like <code>commandlineapp</code> or <code>commandline.app</code></p>\n"}],"owner":{"account_id":24766666,"reputation":193,"user_id":18650474,"display_name":"Peek0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74683558,"answer_count":1,"score":0,"last_activity_date":1677128981,"creation_date":1670206641,"question_id":74682683,"body_markdown":"Currently a beginner to `Java` and I have the extension `Code Runner` installed. I am able to run my code within the window via the `Run | Debug` options provided by `Code Runner`. However, after compiling the file with `javac`, I am unable to run the file. This is the basic code inside a filepath `CommandLineApp/HelloWorld.java`. \r\n\r\n```\r\npackage CommandLineApp;\r\npublic class HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello world..!!!&quot;);\r\n    }    \r\n}\r\n\r\n```\r\n\r\nAfter I `cd` into CommandLineApp, I ran\r\n```\r\njavac HelloWorld.java\r\njava HelloWorld\r\n```\r\n\r\nwhich gives me this error\r\n```\r\nError: Could not find or load main class HelloWorld\r\nCaused by: java.lang.NoClassDefFoundError: CommandLineApp/HelloWorld (wrong name: HelloWorld)\r\n```\r\n\r\nApologies if this is a really simple question!","title":"Able to run Java code using Code Runner but not CLI","body":"<p>Currently a beginner to <code>Java</code> and I have the extension <code>Code Runner</code> installed. I am able to run my code within the window via the <code>Run | Debug</code> options provided by <code>Code Runner</code>. However, after compiling the file with <code>javac</code>, I am unable to run the file. This is the basic code inside a filepath <code>CommandLineApp/HelloWorld.java</code>.</p>\n<pre><code>package CommandLineApp;\npublic class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world..!!!&quot;);\n    }    \n}\n\n</code></pre>\n<p>After I <code>cd</code> into CommandLineApp, I ran</p>\n<pre><code>javac HelloWorld.java\njava HelloWorld\n</code></pre>\n<p>which gives me this error</p>\n<pre><code>Error: Could not find or load main class HelloWorld\nCaused by: java.lang.NoClassDefFoundError: CommandLineApp/HelloWorld (wrong name: HelloWorld)\n</code></pre>\n<p>Apologies if this is a really simple question!</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677128817,"creation_date":1677128817,"answer_id":75540749,"question_id":75363325,"body_markdown":"If you use a windowed aggregation, the corresponding store is actually multiple RocksDBs (so-called segments), each storing all windows for a particular time-slice. IIRC, the minimum segment size is 60 seconds.\r\n\r\nWhile time progressed, new segment-stores are created (resulting in the log line you see), while older segments are cleaned up. It&#39;s nothing to worry about in general. Note, it&#39;s just an INFO log.","title":"Kafka Streams Opening StateStore log loop","body":"<p>If you use a windowed aggregation, the corresponding store is actually multiple RocksDBs (so-called segments), each storing all windows for a particular time-slice. IIRC, the minimum segment size is 60 seconds.</p>\n<p>While time progressed, new segment-stores are created (resulting in the log line you see), while older segments are cleaned up. It's nothing to worry about in general. Note, it's just an INFO log.</p>\n"}],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75540749,"answer_count":1,"score":1,"last_activity_date":1677128817,"creation_date":1675697419,"question_id":75363325,"body_markdown":"I have the following topology definition and there are two application instances on the environment:\r\n\r\n        KStream&lt;String, ObjectMessage&gt; stream = kStreamBuilder.stream(inputTopic);\r\n        stream.mapValues(new ProtobufObjectConverter())\r\n                .groupByKey()\r\n                .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofMillis(100)))\r\n                .aggregate(AggregatedObject::new, new ObjectAggregator(), buildStateStore(storeName))\r\n                .suppress(Suppressed.untilWindowCloses(Suppressed.BufferConfig.unbounded().withMaxRecords(config.suppressionBufferSize())))\r\n                .mapValues(new AggregatedObjectProtobufConverter())\r\n                .toStream((key, value) -&gt; key.key())\r\n                .to(outputTopic);\r\n\r\n    private Materialized&lt;String, AggregatedObject, WindowStore&lt;Bytes, byte[]&gt;&gt; buildStateStore(String storeName) {\r\n        return Materialized.&lt;String, AggregatedObject, WindowStore&lt;Bytes, byte[]&gt;&gt;as(storeName)\r\n                .withKeySerde(Serdes.String())\r\n                .withValueSerde(new JsonSerde&lt;&gt;(AggregatedObject.class));\r\n    }\r\n\r\nThis topology is created for multiple input topics in a `for` loop so once application instance has multiple topologies. Every toplogy has a state store created from the pattern `KSTREAM-AGGREGATE-%s-STATE-STORE-0000000001` like `Opening store KSTREAM-AGGREGATE-my.topic.name-STATE-STORE-0000000001`.\r\n\r\nNow, **until recently** we didn&#39;t have configured `state-dir` directory and since we used K8S stateful-set, the store wasn&#39;t persisted between restarts, so application had to rebuild the state as far as I understand how `kafka-streams` work.\r\n\r\nOur logs were full of logs like below, but only with changing time (the suffix after last dot).\r\n\r\n    INFO 1 --- [-StreamThread-1] o.a.k.s.s.i.RocksDBTimestampedStore Opening store KSTREAM-AGGREGATE-my.topic.name-STATE-STORE-0000000001.1675576920000 in regular mode\r\n\r\nHowever the time in millis `1675576920000` is one day ago and some are even from 3 days ago. Today I added the `state-dir` to the app, but this log is still being shown all the time. Should we simply wait some time until everything be processed or we are doing something wrong?\r\n\r\nCan someone explain to me why `RocksDBTimestampedStore` is logging so much? Also, the time that is being logged from those stores is not `100 ms` as defined by windowed operation, why?","title":"Kafka Streams Opening StateStore log loop","body":"<p>I have the following topology definition and there are two application instances on the environment:</p>\n<pre><code>    KStream&lt;String, ObjectMessage&gt; stream = kStreamBuilder.stream(inputTopic);\n    stream.mapValues(new ProtobufObjectConverter())\n            .groupByKey()\n            .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofMillis(100)))\n            .aggregate(AggregatedObject::new, new ObjectAggregator(), buildStateStore(storeName))\n            .suppress(Suppressed.untilWindowCloses(Suppressed.BufferConfig.unbounded().withMaxRecords(config.suppressionBufferSize())))\n            .mapValues(new AggregatedObjectProtobufConverter())\n            .toStream((key, value) -&gt; key.key())\n            .to(outputTopic);\n\nprivate Materialized&lt;String, AggregatedObject, WindowStore&lt;Bytes, byte[]&gt;&gt; buildStateStore(String storeName) {\n    return Materialized.&lt;String, AggregatedObject, WindowStore&lt;Bytes, byte[]&gt;&gt;as(storeName)\n            .withKeySerde(Serdes.String())\n            .withValueSerde(new JsonSerde&lt;&gt;(AggregatedObject.class));\n}\n</code></pre>\n<p>This topology is created for multiple input topics in a <code>for</code> loop so once application instance has multiple topologies. Every toplogy has a state store created from the pattern <code>KSTREAM-AGGREGATE-%s-STATE-STORE-0000000001</code> like <code>Opening store KSTREAM-AGGREGATE-my.topic.name-STATE-STORE-0000000001</code>.</p>\n<p>Now, <strong>until recently</strong> we didn't have configured <code>state-dir</code> directory and since we used K8S stateful-set, the store wasn't persisted between restarts, so application had to rebuild the state as far as I understand how <code>kafka-streams</code> work.</p>\n<p>Our logs were full of logs like below, but only with changing time (the suffix after last dot).</p>\n<pre><code>INFO 1 --- [-StreamThread-1] o.a.k.s.s.i.RocksDBTimestampedStore Opening store KSTREAM-AGGREGATE-my.topic.name-STATE-STORE-0000000001.1675576920000 in regular mode\n</code></pre>\n<p>However the time in millis <code>1675576920000</code> is one day ago and some are even from 3 days ago. Today I added the <code>state-dir</code> to the app, but this log is still being shown all the time. Should we simply wait some time until everything be processed or we are doing something wrong?</p>\n<p>Can someone explain to me why <code>RocksDBTimestampedStore</code> is logging so much? Also, the time that is being logged from those stores is not <code>100 ms</code> as defined by windowed operation, why?</p>\n"},{"tags":["java","maven","apache-phoenix","azure-artifacts"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1677153210,"post_id":75540718,"comment_id":133283448,"body_markdown":"Why not add the Cloudera repository as additional `&lt;repository&gt;` to your `settings.xml`? Or otherwise, add it to Azure DevOps, if possible.","body":"Why not add the Cloudera repository as additional <code>&lt;repository&gt;</code> to your <code>settings.xml</code>? Or otherwise, add it to Azure DevOps, if possible."},{"owner":{"account_id":1491871,"reputation":615,"user_id":1398786,"display_name":"vmaroli"},"score":0,"creation_date":1677153403,"post_id":75540718,"comment_id":133283515,"body_markdown":"I am looking for ways to add Cloudera repository as an upstream repository to Azure Artifacts (which is the Maven repository in Azure DevOps). From the Azure DevOps portal, there is an option to add new upstream but only allows npm repositories not Maven repositories.","body":"I am looking for ways to add Cloudera repository as an upstream repository to Azure Artifacts (which is the Maven repository in Azure DevOps). From the Azure DevOps portal, there is an option to add new upstream but only allows npm repositories not Maven repositories."},{"owner":{"account_id":1491871,"reputation":615,"user_id":1398786,"display_name":"vmaroli"},"score":0,"creation_date":1677690302,"post_id":75540718,"comment_id":133389040,"body_markdown":"According to Microsoft support, Azure Artifacts support Maven Central, Google Maven Repository, Gradle Plugins, and JitPack as upstream sources for Maven. So as suggested added additional &lt;repository&gt; to get the build working.","body":"According to Microsoft support, Azure Artifacts support Maven Central, Google Maven Repository, Gradle Plugins, and JitPack as upstream sources for Maven. So as suggested added additional &lt;repository&gt; to get the build working."}],"owner":{"account_id":1491871,"reputation":615,"user_id":1398786,"display_name":"vmaroli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677128454,"creation_date":1677128454,"question_id":75540718,"body_markdown":"I am starting to use Azure artifacts from Azure DevOps services as Maven repository for our Java projects. We have an application with following dependency for which build is failing as the dependency is not resolved. \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\r\n        &lt;artifactId&gt;phoenix-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0.7.2.8.5-5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n This artifact is located at Cloudera repository (https://repository.cloudera.com/artifactory/cloudera-repos/)\r\n\r\nI am not finding a way to add a new Maven upstream in Azure artifacts. Documentation says it supports certain upstream maven repositories only. \r\n\r\nI also tried with following version of the dependency, which available in maven central\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\r\n        &lt;artifactId&gt;phoenix-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0-HBase-2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nVersion 5.0.0-HBase-2.0 also resulted in error with following error\r\n\r\n    Failed to collect dependencies at org.apache.phoenix:phoenix-core:jar:5.0.0-HBase-2.0 -&gt; org.apache.hbase:hbase-mapreduce:jar:2.0.0 -&gt; org.apache.hbase:hbase-server:jar:2.0.0 -&gt; org.glassfish.web:javax.servlet.jsp:jar:2.3.2 -&gt; org.glassfish:javax.el:jar:3.0.1-b06-SNAPSHOT: Failed to read artifact descriptor for org.glassfish:javax.el:jar:3.0.1-b06-SNAPSHOT: Could not transfer artifact org.glassfish:javax.el:pom:3.0.1-b06-SNAPSHOT from/to maven-default-http-blocker (http://0.0.0.0/): Blocked mirror for repositories: [apache.snapshots (http://repository.apache.org/snapshots, default, snapshots)]\r\n\r\nAny suggestions to circumvent this?","title":"Azure artifacts - How to add additional Maven repositories as upstream","body":"<p>I am starting to use Azure artifacts from Azure DevOps services as Maven repository for our Java projects. We have an application with following dependency for which build is failing as the dependency is not resolved.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\n    &lt;artifactId&gt;phoenix-core&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0.7.2.8.5-5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This artifact is located at Cloudera repository (<a href=\"https://repository.cloudera.com/artifactory/cloudera-repos/\" rel=\"nofollow noreferrer\">https://repository.cloudera.com/artifactory/cloudera-repos/</a>)</p>\n<p>I am not finding a way to add a new Maven upstream in Azure artifacts. Documentation says it supports certain upstream maven repositories only.</p>\n<p>I also tried with following version of the dependency, which available in maven central</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\n    &lt;artifactId&gt;phoenix-core&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0-HBase-2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Version 5.0.0-HBase-2.0 also resulted in error with following error</p>\n<pre><code>Failed to collect dependencies at org.apache.phoenix:phoenix-core:jar:5.0.0-HBase-2.0 -&gt; org.apache.hbase:hbase-mapreduce:jar:2.0.0 -&gt; org.apache.hbase:hbase-server:jar:2.0.0 -&gt; org.glassfish.web:javax.servlet.jsp:jar:2.3.2 -&gt; org.glassfish:javax.el:jar:3.0.1-b06-SNAPSHOT: Failed to read artifact descriptor for org.glassfish:javax.el:jar:3.0.1-b06-SNAPSHOT: Could not transfer artifact org.glassfish:javax.el:pom:3.0.1-b06-SNAPSHOT from/to maven-default-http-blocker (http://0.0.0.0/): Blocked mirror for repositories: [apache.snapshots (http://repository.apache.org/snapshots, default, snapshots)]\n</code></pre>\n<p>Any suggestions to circumvent this?</p>\n"},{"tags":["java","apache-commons-vfs","apache-vfs"],"owner":{"account_id":1590496,"reputation":1304,"user_id":1473907,"accept_rate":73,"display_name":"mcacorner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677128189,"creation_date":1676985835,"question_id":75521115,"body_markdown":"I am using apache VFS to perform file system operations for S3 using: https://github.com/abashev/vfs-s3\r\n\r\nIn case of version enabled bucket need to implement some of custom operation like: *delete files with all versions* (need to pass versionId along with S3 path)\r\n \r\n\r\nSo basically I need to add those function/signature in `org.apache.commons.vfs2.provider.AbstractFileObject&lt;AFS&gt;` and add implementation in `S3FileObject`\r\n\r\nIs this right way to achieve/handle my scenario?\r\nIs there any other thing to check?\r\n\r\n","title":"java: apache VFS implement custom function","body":"<p>I am using apache VFS to perform file system operations for S3 using: <a href=\"https://github.com/abashev/vfs-s3\" rel=\"nofollow noreferrer\">https://github.com/abashev/vfs-s3</a></p>\n<p>In case of version enabled bucket need to implement some of custom operation like: <em>delete files with all versions</em> (need to pass versionId along with S3 path)</p>\n<p>So basically I need to add those function/signature in <code>org.apache.commons.vfs2.provider.AbstractFileObject&lt;AFS&gt;</code> and add implementation in <code>S3FileObject</code></p>\n<p>Is this right way to achieve/handle my scenario?\nIs there any other thing to check?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":3412605,"reputation":704,"user_id":2862221,"display_name":"ahmed.ettoumi"},"score":0,"creation_date":1675772998,"post_id":75367881,"comment_id":132996917,"body_markdown":"Hi @Deepack, I see that you deactivated the auto-commit, could you please share your consumer (subscribe/assign, poll and commit) code ?","body":"Hi @Deepack, I see that you deactivated the auto-commit, could you please share your consumer (subscribe/assign, poll and commit) code ?"},{"owner":{"account_id":2038203,"reputation":1330,"user_id":1820013,"display_name":"bbejeck"},"score":0,"creation_date":1675784233,"post_id":75367881,"comment_id":133000953,"body_markdown":"Hi @Deepack I see you&#39;re using a `KafkaAvroDeserializer` in that case you&#39;ll need to provide the consumer with `schema.registry.url` configuration.","body":"Hi @Deepack I see you&#39;re using a <code>KafkaAvroDeserializer</code> in that case you&#39;ll need to provide the consumer with <code>schema.registry.url</code> configuration."},{"owner":{"account_id":11921322,"reputation":7,"user_id":8723776,"display_name":"Deepak Dhaka"},"score":0,"creation_date":1675872305,"post_id":75367881,"comment_id":133022274,"body_markdown":"@bbejeck `schema.registry.url` configuration is already provided.","body":"@bbejeck <code>schema.registry.url</code> configuration is already provided."}],"owner":{"account_id":11921322,"reputation":7,"user_id":8723776,"display_name":"Deepak Dhaka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677128048,"creation_date":1675729740,"question_id":75367881,"body_markdown":"I&#39;m working on project, which uses Kafka. Getting Below \r\n\r\n`org.apache.kafka.clients.consumer.CommitFailedException: Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group.\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.sendOffsetCommitRequest(ConsumerCoordinator.java:1246)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.commitOffsetsSync(ConsumerCoordinator.java:1105)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1501)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1448)\r\n\tat com.central.aggregation.engine.consumer.RecordProcessorBuilder$Acknowledger.acknowledge(RecordProcessorBuilder.java:112)\r\n\tat com.central.data.streams.commons.kafka.consumer.MessageProcessingTask.lambda$acknowledge$2(MessageProcessingTask.java:352)\r\n\tat org. spring framework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287)\r\n\tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:164)\r\n\tat com.central.data.streams.commons.kafka.consumer.MessageProcessingTask.acknowledge(MessageProcessingTask.java:344)\r\n\tat com.central.data.streams.commons.kafka.consumer.RecordProcessor.acknowledgeCompletedTasks(RecordProcessor.java:224)\r\n\tat com.central.data.streams.commons.kafka.consumer.TopicProcessor.acknowledgeCompletedTasks(TopicProcessor.java:520)\r\n\tat com.central.data.streams.commons.kafka.consumer.TopicProcessor.processTasks(TopicProcessor.java:368)\r\n\tat com.central.data.streams.commons.kafka.consumer.TopicProcessor.run(TopicProcessor.java:270)\r\n\tat java.lang.Thread.run(Thread.java:750)`\r\n\r\n\r\n\r\nMy understanding was, consumer get kicked out because processing is taking more time, but this part is also checked, that processing does not go beyond 2sec.\r\n\r\nKafka Config used : \r\n\r\n\r\n    Map&lt;String, Object&gt; properties = new KafkaConsumerConfigsBuilder(GROUP_ID)\r\n            .withConnectionConfigs(kafkaCredsStore)\r\n            .withEnableAutoCommit(false)\r\n            .build();\r\n\r\n        properties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class.getName());\r\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class.getName());\r\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, GROUP_ID);\r\n        properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n\r\n        properties.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 300000);\r\n        properties.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 1);\r\n\r\n        properties.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 60000);\r\n        properties.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, 20000);\r\n\r\n        return new KafkaConsumerFactory&lt;&gt;(topicName, properties);\r\n\r\n\r\nConsumer Code - \r\n\r\n     @Override\r\n    @Timed(name = &quot;timed.RecordProcessor.run&quot;, absolute = true)\r\n    public void run(MessageProcessingTask&lt;KafkaRecord&gt; task)\r\n    {\r\n        List&lt;MessageInfo&gt; messageInfoList = new ArrayList&lt;&gt;();\r\n        Map&lt;String, Long&gt; times = new HashMap&lt;&gt;();\r\n\r\n        List&lt;AggregationRecord&gt; aggregationRecords = null;\r\n        final List&lt;CompletionNotification&gt; notifications = new ArrayList&lt;&gt;();\r\n\r\n        final Counter counter = this.meterRegistry.counter(&quot;counted.RecordProcessor.recordLength&quot;);\r\n\r\n        List&lt;String&gt; commandAndTargetId = new ArrayList&lt;&gt;();\r\n        Stopwatch stopwatch = Stopwatch.createStarted();\r\n        times.put(&quot;messageReceiptInstant&quot;, Date.from(Instant.now()).getTime());\r\n        log.info(&quot;No. of messages picked from kafka broker: {}&quot;, task.getProcessableMessageContainers().size());\r\n\r\n        for (KafkaMessageContainer&lt;KafkaRecord&gt; messageContainer : task.getProcessableMessageContainers())\r\n        {\r\n            final KafkaRecord kafkaRecord = messageContainer.getMessage();\r\n\r\n            log.info(&quot;Received kafka record with commandId {}, targetId {}&quot;,\r\n                kafkaRecord.getCommandId(), kafkaRecord.getTargetId());\r\n\r\n            commandAndTargetId.add(String.join(&quot; : &quot;, kafkaRecord.getCommandId(), kafkaRecord.getTargetId()));\r\n            counter.increment(gsonConfig.gson().toJson(kafkaRecord).length());\r\n\r\n            Map&lt;String, Integer&gt; totalCounts = new HashMap&lt;&gt;();\r\n            aggregationRecords = createAggregationRecords(kafkaRecord, totalCounts);\r\n\r\n            MessageInfo messageInfo = new MessageInfo();\r\n            messageInfo.setCommandId(kafkaRecord.getCommandId());\r\n            messageInfo.setTargetId(kafkaRecord.getTargetId()); ...\r\n\r\nI&#39;m not sure where I&#39;m getting wrong, please help me in understanding this issue and suggest what can be done here.","title":"Kafka Issue - CommitFailedException [it is likely that the consumer was kicked out of the group]","body":"<p>I'm working on project, which uses Kafka. Getting Below</p>\n<p><code>org.apache.kafka.clients.consumer.CommitFailedException: Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group. at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.sendOffsetCommitRequest(ConsumerCoordinator.java:1246) at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.commitOffsetsSync(ConsumerCoordinator.java:1105) at org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1501) at org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1448) at com.central.aggregation.engine.consumer.RecordProcessorBuilder$Acknowledger.acknowledge(RecordProcessorBuilder.java:112) at com.central.data.streams.commons.kafka.consumer.MessageProcessingTask.lambda$acknowledge$2(MessageProcessingTask.java:352) at org. spring framework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287) at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:164) at com.central.data.streams.commons.kafka.consumer.MessageProcessingTask.acknowledge(MessageProcessingTask.java:344) at com.central.data.streams.commons.kafka.consumer.RecordProcessor.acknowledgeCompletedTasks(RecordProcessor.java:224) at com.central.data.streams.commons.kafka.consumer.TopicProcessor.acknowledgeCompletedTasks(TopicProcessor.java:520) at com.central.data.streams.commons.kafka.consumer.TopicProcessor.processTasks(TopicProcessor.java:368) at com.central.data.streams.commons.kafka.consumer.TopicProcessor.run(TopicProcessor.java:270) at java.lang.Thread.run(Thread.java:750)</code></p>\n<p>My understanding was, consumer get kicked out because processing is taking more time, but this part is also checked, that processing does not go beyond 2sec.</p>\n<p>Kafka Config used :</p>\n<pre><code>Map&lt;String, Object&gt; properties = new KafkaConsumerConfigsBuilder(GROUP_ID)\n        .withConnectionConfigs(kafkaCredsStore)\n        .withEnableAutoCommit(false)\n        .build();\n\n    properties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n    properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class.getName());\n    properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class.getName());\n    properties.put(ConsumerConfig.GROUP_ID_CONFIG, GROUP_ID);\n    properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n\n    properties.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 300000);\n    properties.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 1);\n\n    properties.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 60000);\n    properties.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, 20000);\n\n    return new KafkaConsumerFactory&lt;&gt;(topicName, properties);\n</code></pre>\n<p>Consumer Code -</p>\n<pre><code> @Override\n@Timed(name = &quot;timed.RecordProcessor.run&quot;, absolute = true)\npublic void run(MessageProcessingTask&lt;KafkaRecord&gt; task)\n{\n    List&lt;MessageInfo&gt; messageInfoList = new ArrayList&lt;&gt;();\n    Map&lt;String, Long&gt; times = new HashMap&lt;&gt;();\n\n    List&lt;AggregationRecord&gt; aggregationRecords = null;\n    final List&lt;CompletionNotification&gt; notifications = new ArrayList&lt;&gt;();\n\n    final Counter counter = this.meterRegistry.counter(&quot;counted.RecordProcessor.recordLength&quot;);\n\n    List&lt;String&gt; commandAndTargetId = new ArrayList&lt;&gt;();\n    Stopwatch stopwatch = Stopwatch.createStarted();\n    times.put(&quot;messageReceiptInstant&quot;, Date.from(Instant.now()).getTime());\n    log.info(&quot;No. of messages picked from kafka broker: {}&quot;, task.getProcessableMessageContainers().size());\n\n    for (KafkaMessageContainer&lt;KafkaRecord&gt; messageContainer : task.getProcessableMessageContainers())\n    {\n        final KafkaRecord kafkaRecord = messageContainer.getMessage();\n\n        log.info(&quot;Received kafka record with commandId {}, targetId {}&quot;,\n            kafkaRecord.getCommandId(), kafkaRecord.getTargetId());\n\n        commandAndTargetId.add(String.join(&quot; : &quot;, kafkaRecord.getCommandId(), kafkaRecord.getTargetId()));\n        counter.increment(gsonConfig.gson().toJson(kafkaRecord).length());\n\n        Map&lt;String, Integer&gt; totalCounts = new HashMap&lt;&gt;();\n        aggregationRecords = createAggregationRecords(kafkaRecord, totalCounts);\n\n        MessageInfo messageInfo = new MessageInfo();\n        messageInfo.setCommandId(kafkaRecord.getCommandId());\n        messageInfo.setTargetId(kafkaRecord.getTargetId()); ...\n</code></pre>\n<p>I'm not sure where I'm getting wrong, please help me in understanding this issue and suggest what can be done here.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"score":0,"creation_date":1677126914,"post_id":75540415,"comment_id":133277555,"body_markdown":"Possible duplicates: https://stackoverflow.com/q/10373077/12715723 &amp; https://stackoverflow.com/q/28753473/12715723","body":"Possible duplicates: <a href=\"https://stackoverflow.com/q/10373077/12715723\">stackoverflow.com/q/10373077/12715723</a> &amp; <a href=\"https://stackoverflow.com/q/28753473/12715723\">stackoverflow.com/q/28753473/12715723</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677137611,"post_id":75540415,"comment_id":133279280,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677148711,"post_id":75540415,"comment_id":133282205,"body_markdown":"Not many details provided, but it looks like you&#39;re using a newer Java version that isn&#39;t supported by the version of Spring Boot you&#39;re using.","body":"Not many details provided, but it looks like you&#39;re using a newer Java version that isn&#39;t supported by the version of Spring Boot you&#39;re using."}],"owner":{"account_id":27856766,"reputation":1,"user_id":21270092,"display_name":"iniya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677127885,"creation_date":1677124333,"question_id":75540415,"body_markdown":"```\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to stop component [WebappLoader[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1007) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.StandardService.stopInternal(StandardService.java:474) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:791) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.startup.Tomcat.stop(Tomcat.java:380) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:250) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopSilently(TomcatWebServer.java:238) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:124) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:414) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat com.itgig.api.Application.main(Application.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\nCaused by: org.apache.catalina.LifecycleException: Failed to stop component [WebappLoader[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:267) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5367) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\t... 34 common frames omitted\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field static final java.util.concurrent.ConcurrentMap java.io.ObjectStreamClass$Caches.localDescs accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7ff2a664\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.clearCache(WebappClassLoaderBase.java:2206) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches(WebappClassLoaderBase.java:2194) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.clearReferences(WebappClassLoaderBase.java:1567) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.stop(WebappClassLoaderBase.java:1497) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.loader.WebappLoader.stopInternal(WebappLoader.java:442) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\t... 42 common frames omitted\r\n\r\n2023-02-23 09:15:26.405 ERROR 34040 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during stop\r\n\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during stop\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1007) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.StandardService.stopInternal(StandardService.java:474) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:791) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.startup.Tomcat.stop(Tomcat.java:380) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:250) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopSilently(TomcatWebServer.java:238) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:124) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:414) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat com.itgig.api.Application.main(Application.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during stop\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1015) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\t... 27 common frames omitted\r\n```\r\n\r\nI can&#39;t resolve how to setup intellij ","title":"while setup my intellij the following errors occurred","body":"<pre><code>java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to stop component [WebappLoader[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1007) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:474) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:791) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:380) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:250) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopSilently(TomcatWebServer.java:238) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:124) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:414) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at com.itgig.api.Application.main(Application.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.1.0.RELEASE.jar:2.1.0.RELEASE]\nCaused by: org.apache.catalina.LifecycleException: Failed to stop component [WebappLoader[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:267) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5367) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    ... 34 common frames omitted\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field static final java.util.concurrent.ConcurrentMap java.io.ObjectStreamClass$Caches.localDescs accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7ff2a664\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\n    at org.apache.catalina.loader.WebappClassLoaderBase.clearCache(WebappClassLoaderBase.java:2206) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches(WebappClassLoaderBase.java:2194) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.loader.WebappClassLoaderBase.clearReferences(WebappClassLoaderBase.java:1567) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.loader.WebappClassLoaderBase.stop(WebappClassLoaderBase.java:1497) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.loader.WebappLoader.stopInternal(WebappLoader.java:442) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    ... 42 common frames omitted\n\n2023-02-23 09:15:26.405 ERROR 34040 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during stop\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during stop\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1007) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:474) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:791) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:380) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:250) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopSilently(TomcatWebServer.java:238) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:124) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:414) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at com.itgig.api.Application.main(Application.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.1.0.RELEASE.jar:2.1.0.RELEASE]\nCaused by: org.apache.catalina.LifecycleException: A child container failed during stop\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1015) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    ... 27 common frames omitted\n</code></pre>\n<p>I can't resolve how to setup intellij</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9597,"page":626,"page_size":100}
