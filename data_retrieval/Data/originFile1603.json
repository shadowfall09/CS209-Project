{"items":[{"tags":["java","sockets","server","network-programming","client"],"answers":[{"tags":[],"owner":{"account_id":3500132,"reputation":182,"user_id":2927067,"display_name":"Seralahthan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643777707,"creation_date":1643770312,"answer_id":70950018,"question_id":70949831,"body_markdown":"In order for the server to send a message back to the client, you have to respond from the server (**ServerDemo**) to the client using `mySocket.getOutputStream()`\r\n\r\nThere are multiple ways of doing it, \r\n\r\nUsing **[OutputStreamWriter][1]**\r\n\r\n```String stringToSend = &quot;String to be send&quot;;\r\nBufferedWriter buffer = new BufferedWriter(new OutputStreamWriter(mySocket.getOutputStream(), &quot;UTF8&quot;));\r\nbuffer.append(stringToSend).append(&quot;\\n&quot;);\r\nbuffer.append(&quot;Over&quot;).append(&quot;\\n&quot;);\r\nbuffer.flush();\r\n```\r\n\r\nUsing **[PrintWriter][2]**\r\n\r\n```\r\nPrintWriter out = new PrintWriter(mySocket.getOutputStream());\r\nString response = &quot;Data received successfully&quot;;\r\nout.print(response);\r\n```\r\n\r\nTo print the response from the server following code snippet can be used in the **ClientDemo** ***try/catch block*** where the socket is closed.\r\n\r\n```\r\nBufferedReader bufferIn=new BufferedReader(new InputStreamReader(mySocket.getInputStream()));\r\nString message;\r\nwhile(!(message = bufferIn.readLine()).equals(&quot;Over&quot;)){\r\n    System.out.println(message);\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/OutputStreamWriter.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/PrintWriter.html","title":"Java Two-Way Socket Connection","body":"<p>In order for the server to send a message back to the client, you have to respond from the server (<strong>ServerDemo</strong>) to the client using <code>mySocket.getOutputStream()</code></p>\n<p>There are multiple ways of doing it,</p>\n<p>Using <strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/OutputStreamWriter.html\" rel=\"nofollow noreferrer\">OutputStreamWriter</a></strong></p>\n<pre><code>BufferedWriter buffer = new BufferedWriter(new OutputStreamWriter(mySocket.getOutputStream(), &quot;UTF8&quot;));\nbuffer.append(stringToSend).append(&quot;\\n&quot;);\nbuffer.append(&quot;Over&quot;).append(&quot;\\n&quot;);\nbuffer.flush();\n</code></pre>\n<p>Using <strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintWriter.html\" rel=\"nofollow noreferrer\">PrintWriter</a></strong></p>\n<pre><code>PrintWriter out = new PrintWriter(mySocket.getOutputStream());\nString response = &quot;Data received successfully&quot;;\nout.print(response);\n</code></pre>\n<p>To print the response from the server following code snippet can be used in the <strong>ClientDemo</strong> <em><strong>try/catch block</strong></em> where the socket is closed.</p>\n<pre><code>BufferedReader bufferIn=new BufferedReader(new InputStreamReader(mySocket.getInputStream()));\nString message;\nwhile(!(message = bufferIn.readLine()).equals(&quot;Over&quot;)){\n    System.out.println(message);\n}\n</code></pre>\n"}],"owner":{"account_id":23068885,"reputation":3,"user_id":17182970,"display_name":"Crheadrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70950018,"answer_count":1,"score":0,"last_activity_date":1644514432,"creation_date":1643767908,"question_id":70949831,"body_markdown":"I&#39;m working on producing a basic two-way socket connection between a client and server in Java. Following some guides I found elsewhere online, I have it working one way, with the server receiving messages from the client, but I was curious on how I would go about making it so the client and server can send messages to each other. I&#39;m also working on implementing a payload, but I&#39;m not worrying about that until after I manage to get the two-way connection working.\r\n\r\nThis is my code for the server:\r\n```\r\nimport java.net.*;\r\nimport java.io.*;\r\npublic class ServerDemo {\r\n    private Socket mySocket = null;\r\n    private ServerSocket server = null;\r\n    private DataInputStream input = null;\r\n    \r\n    public ServerDemo(int port)\r\n    {\r\n    \t try\r\n    \t {\r\n    \t       server = new ServerSocket(port);\r\n    \t       System.out.println(&quot;Server started&quot;);\r\n    \t       System.out.println(&quot;Waiting for a client ...&quot;);\r\n    \t       mySocket = server.accept();\r\n    \t       System.out.println(&quot;Client accepted&quot;);\r\n    \t       input = new DataInputStream(\r\n    \t                new BufferedInputStream(mySocket.getInputStream()));\r\n    \t       String newLine = &quot;&quot;;\r\n    \t       while (!newLine.equals(&quot;Over&quot;))\r\n    \t       {\r\n    \t            try\r\n    \t            {\r\n    \t                newLine = input.readUTF();\r\n    \t                System.out.println(newLine);\r\n    \t            }\r\n    \t            catch(IOException i)\r\n    \t            {\r\n    \t                System.out.println(i);\r\n    \t            }\r\n    \t       }\r\n    \t       System.out.println(&quot;Closing connection&quot;);\r\n    \t       mySocket.close();\r\n    \t       input.close();\r\n    \t }\r\n    \t catch(IOException i)\r\n    \t {\r\n    \t      System.out.println(i);\r\n    \t }\r\n    }\r\n \r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n        ServerDemo server = new ServerDemo(5000);\r\n\t}\r\n\r\n}\r\n```\r\nThis is the code for the client:\r\n```\r\nimport java.net.*;\r\nimport java.util.Scanner;\r\nimport java.io.*;\r\npublic class ClientDemo {\r\n\tprivate Socket mySocket = null;\r\n    private BufferedReader input= null;\r\n    private DataOutputStream output = null;\r\n\r\n    public ClientDemo(String address, int port)\r\n    {\r\n        try\r\n        {\r\n            mySocket = new Socket(address, port);\r\n            System.out.println(&quot;Connected&quot;);\r\n            input = new BufferedReader(new InputStreamReader(System.in));\r\n            output = new DataOutputStream(mySocket.getOutputStream());\r\n        }\r\n        catch(UnknownHostException u)\r\n        {\r\n            System.out.println(u);\r\n        }\r\n        catch(IOException i)\r\n        {\r\n            System.out.println(i);\r\n        }\r\n        String newLine = &quot;&quot;;\r\n        while (!newLine.equals(&quot;Over&quot;))\r\n        {\r\n            try\r\n            {\r\n                newLine = input.readLine();\r\n                output.writeUTF(newLine);\r\n            }\r\n            catch(IOException i)\r\n            {\r\n                System.out.println(i);\r\n            }\r\n        }\r\n        try\r\n        {\r\n            input.close();\r\n            output.close();\r\n            mySocket.close();\r\n        }\r\n        catch(IOException i)\r\n        {\r\n            System.out.println(i);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n    \tString response=&quot;&quot;;\r\n        Scanner myScanner = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter a server to connect to.&quot;);\r\n        response=myScanner.next();\r\n\t\tClientDemo client = new ClientDemo(response, 5000);\r\n    }\r\n}\r\n```\r\nI would appreciate any advice on how to convert this into two-way communication.","title":"Java Two-Way Socket Connection","body":"<p>I'm working on producing a basic two-way socket connection between a client and server in Java. Following some guides I found elsewhere online, I have it working one way, with the server receiving messages from the client, but I was curious on how I would go about making it so the client and server can send messages to each other. I'm also working on implementing a payload, but I'm not worrying about that until after I manage to get the two-way connection working.</p>\n<p>This is my code for the server:</p>\n<pre><code>import java.net.*;\nimport java.io.*;\npublic class ServerDemo {\n    private Socket mySocket = null;\n    private ServerSocket server = null;\n    private DataInputStream input = null;\n    \n    public ServerDemo(int port)\n    {\n         try\n         {\n               server = new ServerSocket(port);\n               System.out.println(&quot;Server started&quot;);\n               System.out.println(&quot;Waiting for a client ...&quot;);\n               mySocket = server.accept();\n               System.out.println(&quot;Client accepted&quot;);\n               input = new DataInputStream(\n                        new BufferedInputStream(mySocket.getInputStream()));\n               String newLine = &quot;&quot;;\n               while (!newLine.equals(&quot;Over&quot;))\n               {\n                    try\n                    {\n                        newLine = input.readUTF();\n                        System.out.println(newLine);\n                    }\n                    catch(IOException i)\n                    {\n                        System.out.println(i);\n                    }\n               }\n               System.out.println(&quot;Closing connection&quot;);\n               mySocket.close();\n               input.close();\n         }\n         catch(IOException i)\n         {\n              System.out.println(i);\n         }\n    }\n \n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        ServerDemo server = new ServerDemo(5000);\n    }\n\n}\n</code></pre>\n<p>This is the code for the client:</p>\n<pre><code>import java.net.*;\nimport java.util.Scanner;\nimport java.io.*;\npublic class ClientDemo {\n    private Socket mySocket = null;\n    private BufferedReader input= null;\n    private DataOutputStream output = null;\n\n    public ClientDemo(String address, int port)\n    {\n        try\n        {\n            mySocket = new Socket(address, port);\n            System.out.println(&quot;Connected&quot;);\n            input = new BufferedReader(new InputStreamReader(System.in));\n            output = new DataOutputStream(mySocket.getOutputStream());\n        }\n        catch(UnknownHostException u)\n        {\n            System.out.println(u);\n        }\n        catch(IOException i)\n        {\n            System.out.println(i);\n        }\n        String newLine = &quot;&quot;;\n        while (!newLine.equals(&quot;Over&quot;))\n        {\n            try\n            {\n                newLine = input.readLine();\n                output.writeUTF(newLine);\n            }\n            catch(IOException i)\n            {\n                System.out.println(i);\n            }\n        }\n        try\n        {\n            input.close();\n            output.close();\n            mySocket.close();\n        }\n        catch(IOException i)\n        {\n            System.out.println(i);\n        }\n    }\n\n    public static void main(String[] args) {\n        String response=&quot;&quot;;\n        Scanner myScanner = new Scanner(System.in);\n        System.out.println(&quot;Please enter a server to connect to.&quot;);\n        response=myScanner.next();\n        ClientDemo client = new ClientDemo(response, 5000);\n    }\n}\n</code></pre>\n<p>I would appreciate any advice on how to convert this into two-way communication.</p>\n"},{"tags":["java","android","kotlin","google-play-services","huawei-mobile-services"],"comments":[{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":0,"creation_date":1591944125,"post_id":62319899,"comment_id":110251711,"body_markdown":"Please look at this comment: https://stackoverflow.com/a/60587678/619673","body":"Please look at this comment: <a href=\"https://stackoverflow.com/a/60587678/619673\">stackoverflow.com/a/60587678/619673</a>"}],"answers":[{"tags":[],"owner":{"account_id":14272617,"reputation":73,"user_id":10309704,"display_name":"Bilawal muzaffar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591863475,"creation_date":1591863475,"answer_id":62320004,"question_id":62319899,"body_markdown":"    final int status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\r\n        if (status != ConnectionResult.SUCCESS) {\r\n            Log.e(TAG, GooglePlayServicesUtil.getErrorString(status));\r\n                      return false;\r\n        } else {\r\n            Log.i(TAG, GooglePlayServicesUtil.getErrorString(status));\r\n                       return true;\r\n        }\r\n\r\n\r\n\r\n    ","title":"How to check Google Mobile Services enable in device or not?","body":"<pre><code>final int status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\n    if (status != ConnectionResult.SUCCESS) {\n        Log.e(TAG, GooglePlayServicesUtil.getErrorString(status));\n                  return false;\n    } else {\n        Log.i(TAG, GooglePlayServicesUtil.getErrorString(status));\n                   return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11246800,"reputation":1282,"user_id":13600868,"display_name":"Javad Dehban"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591863669,"creation_date":1591863669,"answer_id":62320047,"question_id":62319899,"body_markdown":"I think this code will help you\r\n\r\n    final int status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\r\n        if (status != ConnectionResult.SUCCESS) {\r\n            Log.e(TAG, GooglePlayServicesUtil.getErrorString(status));\r\n                      return false;\r\n        } else {\r\n            Log.i(TAG, GooglePlayServicesUtil.getErrorString(status));\r\n                       return true;\r\n        }\r\n\r\n\r\n.\r\n\r\n\r\n    public static final int SUCCESS = 0;\r\n    public static final int SERVICE_MISSING = 1;\r\n    public static final int SERVICE_VERSION_UPDATE_REQUIRED = 2;\r\n    public static final int SERVICE_DISABLED = 3;\r\n    public static final int SIGN_IN_REQUIRED = 4;\r\n    public static final int INVALID_ACCOUNT = 5;\r\n    public static final int RESOLUTION_REQUIRED = 6;\r\n    public static final int NETWORK_ERROR = 7;\r\n    public static final int INTERNAL_ERROR = 8;\r\n    public static final int SERVICE_INVALID = 9;\r\n    public static final int DEVELOPER_ERROR = 10;\r\n    public static final int LICENSE_CHECK_FAILED = 11;\r\n    public static final int CANCELED = 13;\r\n    public static final int TIMEOUT = 14;\r\n    public static final int INTERRUPTED = 15;\r\n    public static final int API_UNAVAILABLE = 16;\r\n    public static final int SIGN_IN_FAILED = 17;\r\n\r\n","title":"How to check Google Mobile Services enable in device or not?","body":"<p>I think this code will help you</p>\n\n<pre><code>final int status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\n    if (status != ConnectionResult.SUCCESS) {\n        Log.e(TAG, GooglePlayServicesUtil.getErrorString(status));\n                  return false;\n    } else {\n        Log.i(TAG, GooglePlayServicesUtil.getErrorString(status));\n                   return true;\n    }\n</code></pre>\n\n<p>.</p>\n\n<pre><code>public static final int SUCCESS = 0;\npublic static final int SERVICE_MISSING = 1;\npublic static final int SERVICE_VERSION_UPDATE_REQUIRED = 2;\npublic static final int SERVICE_DISABLED = 3;\npublic static final int SIGN_IN_REQUIRED = 4;\npublic static final int INVALID_ACCOUNT = 5;\npublic static final int RESOLUTION_REQUIRED = 6;\npublic static final int NETWORK_ERROR = 7;\npublic static final int INTERNAL_ERROR = 8;\npublic static final int SERVICE_INVALID = 9;\npublic static final int DEVELOPER_ERROR = 10;\npublic static final int LICENSE_CHECK_FAILED = 11;\npublic static final int CANCELED = 13;\npublic static final int TIMEOUT = 14;\npublic static final int INTERRUPTED = 15;\npublic static final int API_UNAVAILABLE = 16;\npublic static final int SIGN_IN_FAILED = 17;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591899669,"creation_date":1591864054,"answer_id":62320157,"question_id":62319899,"body_markdown":"You should use `GoogleApiAvailability` API. `GooglePlayServicesUtil` API is deprecated, don&#39;t use it.\r\n\r\nJava:\r\n\r\n    public boolean isGooglePlayServicesAvailable(final Context context) {\r\n        return GoogleApiAvailability.getInstance().isGooglePlayServicesAvailable(context) == ConnectionResult.SUCCESS;\r\n    }\r\n\r\n\r\nKotlin:\r\n\r\n    fun Context.isGooglePlayServicesAvailable(): Boolean =\r\n        GoogleApiAvailability.getInstance().isGooglePlayServicesAvailable(this) == ConnectionResult.SUCCESS\r\n\r\n    ","title":"How to check Google Mobile Services enable in device or not?","body":"<p>You should use <code>GoogleApiAvailability</code> API. <code>GooglePlayServicesUtil</code> API is deprecated, don't use it.</p>\n\n<p>Java:</p>\n\n<pre><code>public boolean isGooglePlayServicesAvailable(final Context context) {\n    return GoogleApiAvailability.getInstance().isGooglePlayServicesAvailable(context) == ConnectionResult.SUCCESS;\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>fun Context.isGooglePlayServicesAvailable(): Boolean =\n    GoogleApiAvailability.getInstance().isGooglePlayServicesAvailable(this) == ConnectionResult.SUCCESS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591922614,"creation_date":1591877696,"answer_id":62324175,"question_id":62319899,"body_markdown":"You can use these codes to check:\r\n\r\n    boolean flag = GoogleApiAvailability.getInstance().isGooglePlayServicesAvailable(this) == com.google.android.gms.common.ConnectionResult.SUCCESS\r\n\r\nIf `flag == true`, then GMS is enable in device.\r\n\r\nIf `flag == false`, then GMS is disable in device.\r\n","title":"How to check Google Mobile Services enable in device or not?","body":"<p>You can use these codes to check:</p>\n\n<pre><code>boolean flag = GoogleApiAvailability.getInstance().isGooglePlayServicesAvailable(this) == com.google.android.gms.common.ConnectionResult.SUCCESS\n</code></pre>\n\n<p>If <code>flag == true</code>, then GMS is enable in device.</p>\n\n<p>If <code>flag == false</code>, then GMS is disable in device.</p>\n"},{"tags":[],"owner":{"account_id":11450008,"reputation":1948,"user_id":8392648,"display_name":"S. Gissel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644514359,"creation_date":1644514359,"answer_id":71069708,"question_id":62319899,"body_markdown":"The latest solution for 2022 is **GoogleApiAvailabilityLight** from package **com.google.android.gms.common** which is contained in dependency \r\n\r\n&gt; com.google.android.gms:play-services-basement:18.0.0@aar\r\n\r\n    \r\n    public static boolean isGooglePlayServicesAvailable(final Context context) {\r\n      return GoogleApiAvailabilityLight.getInstance().isGooglePlayServicesAvailable(context) == ConnectionResult.SUCCESS;\r\n   }","title":"How to check Google Mobile Services enable in device or not?","body":"<p>The latest solution for 2022 is <strong>GoogleApiAvailabilityLight</strong> from package <strong>com.google.android.gms.common</strong> which is contained in dependency</p>\n<blockquote>\n<p>com.google.android.gms:play-services-basement:18.0.0@aar</p>\n</blockquote>\n<pre><code>public static boolean isGooglePlayServicesAvailable(final Context context) {\n  return GoogleApiAvailabilityLight.getInstance().isGooglePlayServicesAvailable(context) == ConnectionResult.SUCCESS;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":9879944,"reputation":440,"user_id":7316379,"display_name":"elify"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3006,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1644514359,"creation_date":1591863169,"question_id":62319899,"body_markdown":"I have to check if google services are active on the device. How can I check it? Looking just play services is enough? \r\n\r\nI need this check for Huawei services. ","title":"How to check Google Mobile Services enable in device or not?","body":"<p>I have to check if google services are active on the device. How can I check it? Looking just play services is enough? </p>\n\n<p>I need this check for Huawei services. </p>\n"},{"tags":["java","rest-assured","web-api-testing"],"answers":[{"tags":[],"owner":{"account_id":2296899,"reputation":491,"user_id":2018134,"display_name":"Mihir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564354915,"creation_date":1564354915,"answer_id":57245577,"question_id":57162969,"body_markdown":"I ran your exact test on my eclipse and it worked as expected. Here&#39;s the output:\r\n\r\n    [RemoteTestNG] detected TestNG version 6.14.3\r\n    Response sent =&gt;  io.restassured.internal.RestAssuredResponseImpl@21526f6c\r\n    Response Body is =&gt;  &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot;&gt;\r\n    &lt;meta http-equiv=&quot;Content-Script-Type&quot; content=&quot;text/javascript&quot;&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    function getCookie(c_name) { // Local function for getting a cookie value\r\n        if (document.cookie.length &gt; 0) {\r\n            c_start = document.cookie.indexOf(c_name + &quot;=&quot;);\r\n            if (c_start!=-1) {\r\n            c_start=c_start + c_name.length + 1;\r\n            c_end=document.cookie.indexOf(&quot;;&quot;, c_start);\r\n    \r\n            if (c_end==-1) \r\n                c_end = document.cookie.length;\r\n    \r\n            return unescape(document.cookie.substring(c_start,c_end));\r\n            }\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n    function setCookie(c_name, value, expiredays) { // Local function for setting a value of a cookie\r\n        var exdate = new Date();\r\n        exdate.setDate(exdate.getDate()+expiredays);\r\n        document.cookie = c_name + &quot;=&quot; + escape(value) + ((expiredays==null) ? &quot;&quot; : &quot;;expires=&quot; + exdate.toGMTString()) + &quot;;path=/&quot;;\r\n    }\r\n    function getHostUri() {\r\n        var loc = document.location;\r\n        return loc.toString();\r\n    }\r\n    setCookie(&#39;YPF8827340282Jdskjhfiw_928937459182JAX666&#39;, &#39;86.172.130.153&#39;, 10);\r\n    try {  \r\n        location.reload(true);  \r\n    } catch (err1) {  \r\n        try {  \r\n            location.reload();  \r\n        } catch (err2) {  \r\n        \tlocation.href = getHostUri();  \r\n        }  \r\n    }\r\n    &lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;noscript&gt;This site requires JavaScript and Cookies to be enabled. Please change your browser settings or upgrade your browser.&lt;/noscript&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n    Actual Status Code is : 200\r\n    Expected : Status code coming correct\r\n    PASSED: GetWeatherDetails\r\n    \r\n    ===============================================\r\n        Default test\r\n        Tests run: 1, Failures: 0, Skips: 0\r\n    ===============================================\r\n    \r\n    \r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 1, Failures: 0, Skips: 0\r\n    ===============================================\r\n\r\nMake sure you have the right dependencies and check with the TestNG version you are using.\r\n","title":"How to pass Headers in rest assured test in java","body":"<p>I ran your exact test on my eclipse and it worked as expected. Here's the output:</p>\n\n<pre><code>[RemoteTestNG] detected TestNG version 6.14.3\nResponse sent =&gt;  io.restassured.internal.RestAssuredResponseImpl@21526f6c\nResponse Body is =&gt;  &lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\"&gt;\n&lt;meta http-equiv=\"Content-Script-Type\" content=\"text/javascript\"&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction getCookie(c_name) { // Local function for getting a cookie value\n    if (document.cookie.length &gt; 0) {\n        c_start = document.cookie.indexOf(c_name + \"=\");\n        if (c_start!=-1) {\n        c_start=c_start + c_name.length + 1;\n        c_end=document.cookie.indexOf(\";\", c_start);\n\n        if (c_end==-1) \n            c_end = document.cookie.length;\n\n        return unescape(document.cookie.substring(c_start,c_end));\n        }\n    }\n    return \"\";\n}\nfunction setCookie(c_name, value, expiredays) { // Local function for setting a value of a cookie\n    var exdate = new Date();\n    exdate.setDate(exdate.getDate()+expiredays);\n    document.cookie = c_name + \"=\" + escape(value) + ((expiredays==null) ? \"\" : \";expires=\" + exdate.toGMTString()) + \";path=/\";\n}\nfunction getHostUri() {\n    var loc = document.location;\n    return loc.toString();\n}\nsetCookie('YPF8827340282Jdskjhfiw_928937459182JAX666', '86.172.130.153', 10);\ntry {  \n    location.reload(true);  \n} catch (err1) {  \n    try {  \n        location.reload();  \n    } catch (err2) {  \n        location.href = getHostUri();  \n    }  \n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;noscript&gt;This site requires JavaScript and Cookies to be enabled. Please change your browser settings or upgrade your browser.&lt;/noscript&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\nActual Status Code is : 200\nExpected : Status code coming correct\nPASSED: GetWeatherDetails\n\n===============================================\n    Default test\n    Tests run: 1, Failures: 0, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Failures: 0, Skips: 0\n===============================================\n</code></pre>\n\n<p>Make sure you have the right dependencies and check with the TestNG version you are using.</p>\n"},{"tags":[],"owner":{"account_id":11400245,"reputation":305,"user_id":8357417,"display_name":"Vasista TVN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583781131,"creation_date":1583781131,"answer_id":60606943,"question_id":57162969,"body_markdown":"**try below code will work**\r\n\r\nMap headers = new HashMap&lt;&gt;(); headers.put(&quot;Auth-Service-Id&quot;, &quot;my-app&quot;); headers.put(&quot;Auth-Identifier&quot;, &quot;blaBlaBlabla&quot;);\r\n\r\nResponse response = RestAssured.given(this.requestSpecification) .headers(headers) .when() .get(&quot;http=://xyz.com&quot;);","title":"How to pass Headers in rest assured test in java","body":"<p><strong>try below code will work</strong></p>\n\n<p>Map headers = new HashMap&lt;>(); headers.put(\"Auth-Service-Id\", \"my-app\"); headers.put(\"Auth-Identifier\", \"blaBlaBlabla\");</p>\n\n<p>Response response = RestAssured.given(this.requestSpecification) .headers(headers) .when() .get(\"http=://xyz.com\");</p>\n"},{"tags":[],"owner":{"account_id":19145000,"reputation":3,"user_id":13984196,"display_name":"Gunaselvi J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644514318,"creation_date":1644514318,"answer_id":71069698,"question_id":57162969,"body_markdown":"With **io.rest-assured:rest-assured:4.2.1** dependency below code can be acheived.\r\n\r\n    RequestSpecification httpRequest = RestAssured.given();\r\n    Response response = httpRequest\r\n                       .contentType(&quot;application/json&quot;)\r\n                       .header(&quot;x-api-key&quot;, &quot;123456&quot;)\r\n                       .request(Method.GET, &quot;/hello&quot;);\r\n\r\n(OR)\r\nIncase if you need to pass other custom headers below code will help\r\n\r\n**EG:**\r\n\r\n    Header languageHeader = new Header(&quot;Accept-Language&quot;, en);\r\n    Header keytHeader = new Header(&quot;x-api-key&quot;, &quot;123456&quot;);\r\n    Header secretHeader = new Header(&quot;x-api-secret&quot;, &quot;123456&quot;);\r\n    Headers headers = new Headers(languageHeader, keytHeader, secretHeader);\r\n    \r\n    Response response = RestAssured.given()\r\n                       .contentType(&quot;application/json&quot;)\r\n                       .headers(headers)\r\n                       .request(Method.GET, &quot;/hello&quot;);","title":"How to pass Headers in rest assured test in java","body":"<p>With <strong>io.rest-assured:rest-assured:4.2.1</strong> dependency below code can be acheived.</p>\n<pre><code>RequestSpecification httpRequest = RestAssured.given();\nResponse response = httpRequest\n                   .contentType(&quot;application/json&quot;)\n                   .header(&quot;x-api-key&quot;, &quot;123456&quot;)\n                   .request(Method.GET, &quot;/hello&quot;);\n</code></pre>\n<p>(OR)\nIncase if you need to pass other custom headers below code will help</p>\n<p><strong>EG:</strong></p>\n<pre><code>Header languageHeader = new Header(&quot;Accept-Language&quot;, en);\nHeader keytHeader = new Header(&quot;x-api-key&quot;, &quot;123456&quot;);\nHeader secretHeader = new Header(&quot;x-api-secret&quot;, &quot;123456&quot;);\nHeaders headers = new Headers(languageHeader, keytHeader, secretHeader);\n\nResponse response = RestAssured.given()\n                   .contentType(&quot;application/json&quot;)\n                   .headers(headers)\n                   .request(Method.GET, &quot;/hello&quot;);\n</code></pre>\n"}],"owner":{"account_id":14178310,"reputation":65,"user_id":10242818,"display_name":"chirag25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1644514318,"creation_date":1563880670,"question_id":57162969,"body_markdown":"I am new to rest assured,I am trying to do a very basic test of checking the response body and status.I am passing the headers as required in this API call\r\nbut when I run the test I am getting 401 unauthorized message instead of showing me the result in response body.when I am running the same API using Postman then its working fine\r\n\r\nBelow is the code that I have tried but its not working\r\nI am including the sample url and headers value as cant share real ones\r\n\r\n    package test;\r\n    \r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import io.restassured.RestAssured;\r\n    import io.restassured.http.Method;\r\n    import io.restassured.response.Response;\r\n    import io.restassured.specification.RequestSpecification;\r\n    \r\n    public class SimpleGetTest {\r\n    \r\n    \t@Test\r\n    \tpublic void GetWeatherDetails() {\r\n    \t\t\r\n    \t\tRestAssured.baseURI = &quot;https://test.com&quot;;\r\n    \r\n    \t\t\r\n    \t\tRequestSpecification httpRequest = RestAssured.given();\r\n    \t\t\r\n    \t\tResponse response = httpRequest.given().header(&quot;Content-Type&quot;, &quot;application/json&quot;).given()\r\n    \t\t\t\t.header(&quot;x-api-key&quot;, &quot;123456&quot;).\r\n    \t\t\t\trequest(Method.GET, &quot;/hello&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;Response sent =&gt;  &quot; + response);\r\n    \r\n    \t\t\r\n    \t\tString responseBody = response.getBody().asString();\r\n    \t\tSystem.out.println(&quot;Response Body is =&gt;  &quot; + responseBody);\r\n    \r\n    \t\t\r\n    \t\tint statusCode = response.getStatusCode();\r\n    \t\tSystem.out.println(&quot;Actual Status Code is : &quot; + statusCode);\r\n    \r\n    \t\tAssert.assertEquals(statusCode, 200,\r\n    \t\t\t\t&quot;BUG : Status code is coming as different&quot;);\r\n    \t\tSystem.out.println(&quot;Expected : Status code coming correct&quot;);\r\n    \r\n    \t}\r\n    }\r\n\r\nbelow is the console message that I am getting,in which its showing 401\r\n\r\nResponse sent =&gt;  io.restassured.internal.RestAssuredResponseImpl@18cebaa5\r\nResponse Body is =&gt;  &quot;message&quot;:&quot;UNAUTHORIZED_ACCESS&quot;,&quot;code&quot;:&quot;401&quot;,&quot;data&quot;:null}\r\nActual Status Code is : 200\r\nExpected : Status code coming correct\r\nPASSED: GetWeatherDetails","title":"How to pass Headers in rest assured test in java","body":"<p>I am new to rest assured,I am trying to do a very basic test of checking the response body and status.I am passing the headers as required in this API call\nbut when I run the test I am getting 401 unauthorized message instead of showing me the result in response body.when I am running the same API using Postman then its working fine</p>\n\n<p>Below is the code that I have tried but its not working\nI am including the sample url and headers value as cant share real ones</p>\n\n<pre><code>package test;\n\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\n\nimport io.restassured.RestAssured;\nimport io.restassured.http.Method;\nimport io.restassured.response.Response;\nimport io.restassured.specification.RequestSpecification;\n\npublic class SimpleGetTest {\n\n    @Test\n    public void GetWeatherDetails() {\n\n        RestAssured.baseURI = \"https://test.com\";\n\n\n        RequestSpecification httpRequest = RestAssured.given();\n\n        Response response = httpRequest.given().header(\"Content-Type\", \"application/json\").given()\n                .header(\"x-api-key\", \"123456\").\n                request(Method.GET, \"/hello\");\n\n        System.out.println(\"Response sent =&gt;  \" + response);\n\n\n        String responseBody = response.getBody().asString();\n        System.out.println(\"Response Body is =&gt;  \" + responseBody);\n\n\n        int statusCode = response.getStatusCode();\n        System.out.println(\"Actual Status Code is : \" + statusCode);\n\n        Assert.assertEquals(statusCode, 200,\n                \"BUG : Status code is coming as different\");\n        System.out.println(\"Expected : Status code coming correct\");\n\n    }\n}\n</code></pre>\n\n<p>below is the console message that I am getting,in which its showing 401</p>\n\n<p>Response sent =>  io.restassured.internal.RestAssuredResponseImpl@18cebaa5\nResponse Body is =>  \"message\":\"UNAUTHORIZED_ACCESS\",\"code\":\"401\",\"data\":null}\nActual Status Code is : 200\nExpected : Status code coming correct\nPASSED: GetWeatherDetails</p>\n"},{"tags":["java","html","aem"],"answers":[{"tags":[],"owner":{"account_id":4224263,"reputation":1699,"user_id":3458164,"accept_rate":75,"display_name":"R.A.Munna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644514239,"creation_date":1644514239,"answer_id":71069680,"question_id":70891046,"body_markdown":"Let me share the way, it may help you. \r\n\r\nWrite a helper class:\r\n\r\n    import com.adobe.cq.sightly.WCMUsePojo;\r\n    import com.day.cq.wcm.api.Page;\r\n    \r\n    public class PageNavigationHelper extends WCMUsePojo {\r\n        private String locale;\r\n        @Override\r\n        public void activate() throws Exception {\r\n            this.locale = get(&quot;locale&quot;, String.class);\r\n        }\r\n        public String getNotFoundUrl(){\r\n            Page currentPage = getCurrentPage();\r\n            String currentLocale = currentPage.getLanguage(true).getLanguage();\r\n    \r\n            // you can built more language specific url here.\r\n            if(currentLocale.equalIgnoreCase(&quot;en&quot;)){\r\n                return &quot;/content/emc/en-us/errorhandler/404&quot;;\r\n            }else{\r\n                return &quot;/content/emc/zh-cn/errorhandler/404&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\nThen into your HTML:\r\n\r\n    &lt;div data-sly-use.langHelper=&quot;${&#39;com.service.helper.PageNavigationHelper&#39;}&quot; data-sly-unwrap&gt;\r\n        &lt;div data-sly-resource=&quot;${langHelper.getNotFoundUrl}&quot; data-sly-unwrap&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n","title":"How to pass the url dynamically in the data-sly-resource?","body":"<p>Let me share the way, it may help you.</p>\n<p>Write a helper class:</p>\n<pre><code>import com.adobe.cq.sightly.WCMUsePojo;\nimport com.day.cq.wcm.api.Page;\n\npublic class PageNavigationHelper extends WCMUsePojo {\n    private String locale;\n    @Override\n    public void activate() throws Exception {\n        this.locale = get(&quot;locale&quot;, String.class);\n    }\n    public String getNotFoundUrl(){\n        Page currentPage = getCurrentPage();\n        String currentLocale = currentPage.getLanguage(true).getLanguage();\n\n        // you can built more language specific url here.\n        if(currentLocale.equalIgnoreCase(&quot;en&quot;)){\n            return &quot;/content/emc/en-us/errorhandler/404&quot;;\n        }else{\n            return &quot;/content/emc/zh-cn/errorhandler/404&quot;;\n        }\n    }\n}\n</code></pre>\n<p>Then into your HTML:</p>\n<pre><code>&lt;div data-sly-use.langHelper=&quot;${'com.service.helper.PageNavigationHelper'}&quot; data-sly-unwrap&gt;\n    &lt;div data-sly-resource=&quot;${langHelper.getNotFoundUrl}&quot; data-sly-unwrap&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":19636276,"reputation":29,"user_id":14373493,"display_name":"Variable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644514239,"creation_date":1643360042,"question_id":70891046,"body_markdown":"I have 404.html page which has below:\r\n\r\n```\r\n&lt;div data-sly-resource=&quot;/content/emc/en-us/errorhandler/404&quot; data-sly-unwrap&gt;&lt;/div&gt;\r\n```\r\n\r\nAlso have a java class as below:\r\n\r\n```\r\npackage apps.sling.servlet.errorhandler;\r\n\r\nimport com.adobe.cq.sightly.WCMUse;\r\n\r\npublic class ResponseStatus extends WCMUse {\r\n    \r\n    @Override\r\n    public void activate() throws Exception {\r\n        getResponse().setStatus(404);\r\n    }\r\n}\r\n```\r\n\r\nOn status 404, it takes to 404 page (/content/emc/en-us/errorhandler/404). My requirement here is when the user is on en-us url, it should take to /content/emc/en-us/errorhandler/404. And if the user is on zh-cn url, it should take to /content/emc/zh-cn/errorhandler/404. I need to pass the urls dynamically in the data-sly-resource by reading the locale on the url. Can anyone help me with the script?","title":"How to pass the url dynamically in the data-sly-resource?","body":"<p>I have 404.html page which has below:</p>\n<pre><code>&lt;div data-sly-resource=&quot;/content/emc/en-us/errorhandler/404&quot; data-sly-unwrap&gt;&lt;/div&gt;\n</code></pre>\n<p>Also have a java class as below:</p>\n<pre><code>package apps.sling.servlet.errorhandler;\n\nimport com.adobe.cq.sightly.WCMUse;\n\npublic class ResponseStatus extends WCMUse {\n    \n    @Override\n    public void activate() throws Exception {\n        getResponse().setStatus(404);\n    }\n}\n</code></pre>\n<p>On status 404, it takes to 404 page (/content/emc/en-us/errorhandler/404). My requirement here is when the user is on en-us url, it should take to /content/emc/en-us/errorhandler/404. And if the user is on zh-cn url, it should take to /content/emc/zh-cn/errorhandler/404. I need to pass the urls dynamically in the data-sly-resource by reading the locale on the url. Can anyone help me with the script?</p>\n"},{"tags":["java","security","google-api","google-workspace"],"answers":[{"tags":[],"owner":{"account_id":10510865,"reputation":13,"user_id":7746624,"display_name":"Giuliano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644514099,"creation_date":1644514099,"answer_id":71069640,"question_id":61815099,"body_markdown":"Hope you don&#39;t mind the late reply. I was having the same issue and did some research.\r\n\r\nAccording to the [Java Docs of Google API](https://googleapis.dev/java/google-api-client/latest/com/google/api/client/googleapis/javanet/GoogleNetHttpTransport.html) the `GoogleNetHttpTransport.newTrustedTransport()` takes into account website certificates to use for Google APIs. However: \r\n\r\n&gt; This helper method doesn&#39;t provide for customization of the NetHttpTransport, such as the ability to specify a proxy. \r\n\r\nThis confirms what you were saying about the certificates errors you are getting being caused by your proxy.\r\n\r\nIt is recommended, security wise, that instead of `new NetHttpTransport()` to use the  `NetHttpTransport.Builder` in order to get a Trusted Transport for a specified proxy, as show on the link&#39;s example:\r\n\r\n```\r\n static HttpTransport newProxyTransport() throws GeneralSecurityException, IOException {\r\n   NetHttpTransport.Builder builder = new NetHttpTransport.Builder();\r\n   builder.trustCertificates(GoogleUtils.getCertificateTrustStore());\r\n   builder.setProxy(new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;127.0.0.1&quot;, 3128)));\r\n   return builder.build();\r\n }\r\n```\r\n","title":"Implications of using NetHttpTransport() over GoogleNetHttpTransport.newTrustedTransport()","body":"<p>Hope you don't mind the late reply. I was having the same issue and did some research.</p>\n<p>According to the <a href=\"https://googleapis.dev/java/google-api-client/latest/com/google/api/client/googleapis/javanet/GoogleNetHttpTransport.html\" rel=\"nofollow noreferrer\">Java Docs of Google API</a> the <code>GoogleNetHttpTransport.newTrustedTransport()</code> takes into account website certificates to use for Google APIs. However:</p>\n<blockquote>\n<p>This helper method doesn't provide for customization of the NetHttpTransport, such as the ability to specify a proxy.</p>\n</blockquote>\n<p>This confirms what you were saying about the certificates errors you are getting being caused by your proxy.</p>\n<p>It is recommended, security wise, that instead of <code>new NetHttpTransport()</code> to use the  <code>NetHttpTransport.Builder</code> in order to get a Trusted Transport for a specified proxy, as show on the link's example:</p>\n<pre><code> static HttpTransport newProxyTransport() throws GeneralSecurityException, IOException {\n   NetHttpTransport.Builder builder = new NetHttpTransport.Builder();\n   builder.trustCertificates(GoogleUtils.getCertificateTrustStore());\n   builder.setProxy(new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;127.0.0.1&quot;, 3128)));\n   return builder.build();\n }\n</code></pre>\n"}],"owner":{"account_id":3015510,"reputation":426,"user_id":2557797,"accept_rate":87,"display_name":"ggle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644514099,"creation_date":1589531809,"question_id":61815099,"body_markdown":"I&#39;m using `google-api-services-admin-directory` in a project, and the docs recommend using `GoogleNetHttpTransport.newTrustedTransport()` as the HTTP transport, but I kept getting certificate errors that I think were cause by my proxy. I switched over to `new NetHttpTransport()` instead, and everything now works fine, but I just want to make sure I&#39;m not compromising on security by doing so.\r\n\r\nAny thoughts?\r\n\r\nThanks,\r\nRhys","title":"Implications of using NetHttpTransport() over GoogleNetHttpTransport.newTrustedTransport()","body":"<p>I'm using <code>google-api-services-admin-directory</code> in a project, and the docs recommend using <code>GoogleNetHttpTransport.newTrustedTransport()</code> as the HTTP transport, but I kept getting certificate errors that I think were cause by my proxy. I switched over to <code>new NetHttpTransport()</code> instead, and everything now works fine, but I just want to make sure I'm not compromising on security by doing so.</p>\n\n<p>Any thoughts?</p>\n\n<p>Thanks,\nRhys</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"score":1,"creation_date":1298110951,"post_id":5050170,"comment_id":5652915,"body_markdown":"Efficient? Do you need more efficiency than what&#39;s provided e.g., by method1?","body":"Efficient? Do you need more efficiency than what&#39;s provided e.g., by method1?"},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":2,"creation_date":1298112381,"post_id":5050170,"comment_id":5653076,"body_markdown":"What do you mean by &quot;efficient&quot;? A date is basically a typed long, you can&#39;t really do this in less memory than that. If you mean &quot;convenient&quot;, JODA time is the way to go.","body":"What do you mean by &quot;efficient&quot;? A date is basically a typed long, you can&#39;t really do this in less memory than that. If you mean &quot;convenient&quot;, JODA time is the way to go."},{"owner":{"account_id":42082,"reputation":583,"user_id":122472,"display_name":"Wilson Freitas"},"score":1,"creation_date":1326380268,"post_id":5050170,"comment_id":11034496,"body_markdown":"I like method 2. Create a static method in an utility class and just use it. I&#39;ve been this approach for years.","body":"I like method 2. Create a static method in an utility class and just use it. I&#39;ve been this approach for years."},{"owner":{"account_id":100406,"reputation":2215,"user_id":1138058,"accept_rate":82,"display_name":"Roberto Linares"},"score":0,"creation_date":1360793954,"post_id":5050170,"comment_id":20837422,"body_markdown":"Method 2 is not that short. You also have to catch the java.text.ParseException or throw it away.","body":"Method 2 is not that short. You also have to catch the java.text.ParseException or throw it away."},{"owner":{"account_id":191029,"reputation":163,"user_id":431345,"display_name":"Fl&#225;vio Etrusco"},"score":1,"creation_date":1378333101,"post_id":5050170,"comment_id":27417951,"body_markdown":"Nitpicking on your &quot;update 1&quot;: if it was &quot;such a simple task&quot;, I guess Sun wouldn&#39;t have come to such horrendous and inefficient API, and you (and a lot of other people) wouldn&#39;t be asking that question at all ;-)","body":"Nitpicking on your &quot;update 1&quot;: if it was &quot;such a simple task&quot;, I guess Sun wouldn&#39;t have come to such horrendous and inefficient API, and you (and a lot of other people) wouldn&#39;t be asking that question at all ;-)"},{"owner":{"account_id":68306,"reputation":19133,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":1,"creation_date":1441568971,"post_id":5050170,"comment_id":52720428,"body_markdown":"@RobertoLinares: Why does it matter that it is &quot;not short&quot;? Each line is  **efficient**. I&#39;m certain it is **much** faster than method 1, which involves formatting and parsing.","body":"@RobertoLinares: Why does it matter that it is &quot;not short&quot;? Each line is  <b>efficient</b>. I&#39;m certain it is <b>much</b> faster than method 1, which involves formatting and parsing."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1501610797,"post_id":5050170,"comment_id":77850514,"body_markdown":"There is no such thing as a date without time. At best a date is a 24-hour period bounded (&quot;at midnight in some timezone&quot;).","body":"There is no such thing as a date without time. At best a date is a 24-hour period bounded (&quot;at midnight in some timezone&quot;)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1534543855,"post_id":5050170,"comment_id":90757875,"body_markdown":"FYI, the troublesome old date-time classes such as `java.util.Date`, `java.util.Calendar`, and `java.text.SimpleDateFormat` are now legacy, supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes. Much of the *java.time*&#160;functionality is back-ported to Java 6 &amp; Java 7 in the [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) project. Further adapted for earlier Android in the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project. See [*How to use ThreeTenABPâ€¦*](http://stackoverflow.com/q/38922754/642706).","body":"FYI, the troublesome old date-time classes such as <code>java.util.Date</code>, <code>java.util.Calendar</code>, and <code>java.text.SimpleDateFormat</code> are now legacy, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes. Much of the <i>java.time</i> functionality is back-ported to Java 6 &amp; Java 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b><i>ThreeTen-Backport</i></b></a> project. Further adapted for earlier Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><b><i>ThreeTenABP</i></b></a> project. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><i>How to use ThreeTenABPâ€¦</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":3,"up_vote_count":28,"is_accepted":false,"score":25,"last_activity_date":1298111332,"creation_date":1298111332,"answer_id":5050225,"question_id":5050170,"body_markdown":"The most straightforward way:\r\n\r\n    long millisInDay = 60 * 60 * 24 * 1000;\r\n    long currentTime = new Date().getTime();\r\n    long dateOnly = (currentTime / millisInDay) * millisInDay;\r\n    Date clearDate = new Date(dateOnly);","title":"How do I get a Date without time in Java?","body":"<p>The most straightforward way:</p>\n\n<pre><code>long millisInDay = 60 * 60 * 24 * 1000;\nlong currentTime = new Date().getTime();\nlong dateOnly = (currentTime / millisInDay) * millisInDay;\nDate clearDate = new Date(dateOnly);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":15,"up_vote_count":133,"is_accepted":true,"score":118,"last_activity_date":1472400640,"creation_date":1298111747,"answer_id":5050259,"question_id":5050170,"body_markdown":"Do you absolutely *have* to use `java.util.Date`? I would *thoroughly* recommend that you use [Joda Time][1] or the `java.time` package from Java 8 instead. In particular, while Date and Calendar *always* represent a particular instant in time, with no such concept as &quot;just a date&quot;, Joda Time *does* have a type representing this (`LocalDate`). Your code will be much clearer if you&#39;re able to use types which represent what you&#39;re actually trying to do.\r\n\r\nThere are many, many other reasons to use Joda Time or `java.time` instead of the built-in `java.util` types - they&#39;re generally far better APIs. You can always convert to/from a `java.util.Date` at the boundaries of your own code if you need to, e.g. for database interaction.\r\n\r\n  [1]: http://joda-time.sf.net","title":"How do I get a Date without time in Java?","body":"<p>Do you absolutely <em>have</em> to use <code>java.util.Date</code>? I would <em>thoroughly</em> recommend that you use <a href=\"http://joda-time.sf.net\" rel=\"noreferrer\">Joda Time</a> or the <code>java.time</code> package from Java 8 instead. In particular, while Date and Calendar <em>always</em> represent a particular instant in time, with no such concept as \"just a date\", Joda Time <em>does</em> have a type representing this (<code>LocalDate</code>). Your code will be much clearer if you're able to use types which represent what you're actually trying to do.</p>\n\n<p>There are many, many other reasons to use Joda Time or <code>java.time</code> instead of the built-in <code>java.util</code> types - they're generally far better APIs. You can always convert to/from a <code>java.util.Date</code> at the boundaries of your own code if you need to, e.g. for database interaction.</p>\n"},{"tags":[],"owner":{"account_id":310223,"reputation":111,"user_id":623094,"display_name":"Enduriel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381222179,"creation_date":1298111766,"answer_id":5050260,"question_id":5050170,"body_markdown":"Well, as far as I know there is no easier way to achieve this if you only use the standard JDK.\r\n\r\nYou can, of course, put that logic in method2 into a static function in a helper class, like done [here in the toBeginningOfTheDay-method](https://github.com/cosmocode/cosmocode-commons/blob/master/src/main/java/de/cosmocode/commons/Calendars.java)\r\n\r\nThen you can shorten the second method to:\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    Calendars.toBeginningOfTheDay(cal);\r\n    dateWithoutTime = cal.getTime();\r\n\r\nOr, if you really need the current day in this format so often, then you can just wrap it up in another static helper method, thereby making it a one-liner.","title":"How do I get a Date without time in Java?","body":"<p>Well, as far as I know there is no easier way to achieve this if you only use the standard JDK.</p>\n\n<p>You can, of course, put that logic in method2 into a static function in a helper class, like done <a href=\"https://github.com/cosmocode/cosmocode-commons/blob/master/src/main/java/de/cosmocode/commons/Calendars.java\" rel=\"nofollow\">here in the toBeginningOfTheDay-method</a></p>\n\n<p>Then you can shorten the second method to:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\nCalendars.toBeginningOfTheDay(cal);\ndateWithoutTime = cal.getTime();\n</code></pre>\n\n<p>Or, if you really need the current day in this format so often, then you can just wrap it up in another static helper method, thereby making it a one-liner.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1466457447,"creation_date":1298111776,"answer_id":5050262,"question_id":5050170,"body_markdown":"It does not make sense to talk about a date without a timestamp with regards to the Date routines in the standard java runtime, as it essentially maps down to a specific millisecond and not a date.  Said millisecond intrinsically has a time of day attached to it which makes it vulnerable to timezone problems like Daylight Savings Time and other calendar adjustments.    See https://stackoverflow.com/q/6841333/53897 for an interesting example.\r\n\r\nIf you want to work with dates instead of milliseconds, you need to use something else.  For Java 8 there is a new set of methods providing exactly what you ask for.  For Java 7 and earlier use http://www.joda.org/joda-time/\r\n","title":"How do I get a Date without time in Java?","body":"<p>It does not make sense to talk about a date without a timestamp with regards to the Date routines in the standard java runtime, as it essentially maps down to a specific millisecond and not a date.  Said millisecond intrinsically has a time of day attached to it which makes it vulnerable to timezone problems like Daylight Savings Time and other calendar adjustments.    See <a href=\"https://stackoverflow.com/q/6841333/53897\">Why is subtracting these two times (in 1927) giving a strange result?</a> for an interesting example.</p>\n\n<p>If you want to work with dates instead of milliseconds, you need to use something else.  For Java 8 there is a new set of methods providing exactly what you ask for.  For Java 7 and earlier use <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">http://www.joda.org/joda-time/</a></p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1469049537,"creation_date":1298120736,"answer_id":5050929,"question_id":5050170,"body_markdown":"The standard answer to these questions is to use [Joda Time][1]. The API is better and if you&#39;re using the formatters and parsers you can avoid the non-intuitive lack of thread safety of `SimpleDateFormat`. \r\n\r\nUsing Joda means you can simply do:\r\n\r\n    LocalDate d = new LocalDate();\r\n\r\n**Update::** Using java 8 this can be acheived using \r\n\r\n    LocalDate date = LocalDate.now();\r\n\r\n  [1]: http://joda-time.sourceforge.net/","title":"How do I get a Date without time in Java?","body":"<p>The standard answer to these questions is to use <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda Time</a>. The API is better and if you're using the formatters and parsers you can avoid the non-intuitive lack of thread safety of <code>SimpleDateFormat</code>. </p>\n\n<p>Using Joda means you can simply do:</p>\n\n<pre><code>LocalDate d = new LocalDate();\n</code></pre>\n\n<p><strong>Update::</strong> Using java 8 this can be acheived using </p>\n\n<pre><code>LocalDate date = LocalDate.now();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":382525,"reputation":99,"user_id":737803,"display_name":"lonerook"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317485798,"creation_date":1317485798,"answer_id":7621420,"question_id":5050170,"body_markdown":"Check out [Veyder-time](http://veyder-time.enblom.org). It is a simple and efficient alternative to both java.util and Joda-time. It has an intuitive API and classes that represent dates alone, without timestamps.","title":"How do I get a Date without time in Java?","body":"<p>Check out <a href=\"http://veyder-time.enblom.org\" rel=\"nofollow\">Veyder-time</a>. It is a simple and efficient alternative to both java.util and Joda-time. It has an intuitive API and classes that represent dates alone, without timestamps.</p>\n"},{"tags":[],"owner":{"account_id":1190274,"reputation":907,"user_id":1163242,"accept_rate":20,"display_name":"Shobbi"},"down_vote_count":8,"up_vote_count":88,"is_accepted":false,"score":80,"last_activity_date":1448891914,"creation_date":1329291436,"answer_id":9289526,"question_id":5050170,"body_markdown":"Here is what I used to get today&#39;s date with time set to `00:00:00`:\r\n\r\n    DateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \r\n    Date today = new Date();\r\n    \r\n    Date todayWithZeroTime = formatter.parse(formatter.format(today));\r\n\r\n","title":"How do I get a Date without time in Java?","body":"<p>Here is what I used to get today's date with time set to <code>00:00:00</code>:</p>\n\n<pre><code>DateFormat formatter = new SimpleDateFormat(\"dd/MM/yyyy\");\n\nDate today = new Date();\n\nDate todayWithZeroTime = formatter.parse(formatter.format(today));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":245153,"reputation":5918,"user_id":518493,"display_name":"Manish Singh"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1349418893,"creation_date":1349418893,"answer_id":12740808,"question_id":5050170,"body_markdown":"If you need the date part just for echoing purpose, then\r\n\r\n    Date d = new Date(); \r\n    String dateWithoutTime = d.toString().substring(0, 10);","title":"How do I get a Date without time in Java?","body":"<p>If you need the date part just for echoing purpose, then</p>\n\n<pre><code>Date d = new Date(); \nString dateWithoutTime = d.toString().substring(0, 10);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2554229,"reputation":227,"user_id":2216600,"accept_rate":89,"display_name":"hehe"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1481999758,"creation_date":1377012188,"answer_id":18338949,"question_id":5050170,"body_markdown":"Prefer not to use third-party libraries as much as possible. I know that this way is mentioned before, but here is a nice clean way:\r\n\r\n      /*\r\n        Return values:\r\n        -1:    Date1 &lt; Date2\r\n         0:    Date1 == Date2\r\n         1:    Date1 &gt; Date2\r\n\r\n        -2:    Error\r\n    */\r\n    public int compareDates(Date date1, Date date2)\r\n    {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;ddMMyyyy&quot;);\r\n\r\n        try\r\n        {\r\n            date1 = sdf.parse(sdf.format(date1));\r\n            date2 = sdf.parse(sdf.format(date2));\r\n        }\r\n        catch (ParseException e) {\r\n            e.printStackTrace();\r\n            return -2;\r\n        }\r\n\r\n        Calendar cal1 = new GregorianCalendar();\r\n        Calendar cal2 = new GregorianCalendar();\r\n\r\n        cal1.setTime(date1);\r\n        cal2.setTime(date2);\r\n\r\n        if(cal1.equals(cal2))\r\n        {\r\n            return 0;\r\n        }\r\n        else if(cal1.after(cal2))\r\n        {\r\n            return 1;\r\n        }\r\n        else if(cal1.before(cal2))\r\n        {\r\n            return -1;\r\n        }\r\n\r\n        return -2;\r\n    }\r\n\r\nWell, not using GregorianCalendar is maybe an option!\r\n\r\n","title":"How do I get a Date without time in Java?","body":"<p>Prefer not to use third-party libraries as much as possible. I know that this way is mentioned before, but here is a nice clean way:</p>\n\n<pre><code>  /*\n    Return values:\n    -1:    Date1 &lt; Date2\n     0:    Date1 == Date2\n     1:    Date1 &gt; Date2\n\n    -2:    Error\n*/\npublic int compareDates(Date date1, Date date2)\n{\n    SimpleDateFormat sdf = new SimpleDateFormat(\"ddMMyyyy\");\n\n    try\n    {\n        date1 = sdf.parse(sdf.format(date1));\n        date2 = sdf.parse(sdf.format(date2));\n    }\n    catch (ParseException e) {\n        e.printStackTrace();\n        return -2;\n    }\n\n    Calendar cal1 = new GregorianCalendar();\n    Calendar cal2 = new GregorianCalendar();\n\n    cal1.setTime(date1);\n    cal2.setTime(date2);\n\n    if(cal1.equals(cal2))\n    {\n        return 0;\n    }\n    else if(cal1.after(cal2))\n    {\n        return 1;\n    }\n    else if(cal1.before(cal2))\n    {\n        return -1;\n    }\n\n    return -2;\n}\n</code></pre>\n\n<p>Well, not using GregorianCalendar is maybe an option!</p>\n"},{"tags":[],"owner":{"account_id":2602172,"reputation":796,"user_id":2254247,"display_name":"JoGo"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1481999744,"creation_date":1381516724,"answer_id":19325072,"question_id":5050170,"body_markdown":"You can use the [DateUtils.truncate][1] from Apache Commons library.\r\n\r\nExample: \r\n\r\n    DateUtils.truncate(new Date(), java.util.Calendar.DAY_OF_MONTH)\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html#truncate%28java.util.Date%2C+int%29","title":"How do I get a Date without time in Java?","body":"<p>You can use the <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html#truncate%28java.util.Date%2C+int%29\" rel=\"noreferrer\">DateUtils.truncate</a> from Apache Commons library.</p>\n\n<p>Example: </p>\n\n<pre><code>DateUtils.truncate(new Date(), java.util.Calendar.DAY_OF_MONTH)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4426118,"reputation":136,"user_id":3604562,"display_name":"Bamz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401115763,"creation_date":1401115763,"answer_id":23872750,"question_id":5050170,"body_markdown":"Definitely not the most correct way, but if you just need a quick solution to get the date without the time and you do not wish to use a third party library this should do\r\n\r\n\t\tDate db = db.substring(0, 10) + db.substring(23,28);\r\n\r\nI only needed the date for visual purposes and couldn&#39;t Joda so I substringed.","title":"How do I get a Date without time in Java?","body":"<p>Definitely not the most correct way, but if you just need a quick solution to get the date without the time and you do not wish to use a third party library this should do</p>\n\n<pre><code>    Date db = db.substring(0, 10) + db.substring(23,28);\n</code></pre>\n\n<p>I only needed the date for visual purposes and couldn't Joda so I substringed.</p>\n"},{"tags":[],"owner":{"account_id":4880066,"reputation":155,"user_id":3934126,"accept_rate":80,"display_name":"Glen"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1481999861,"creation_date":1409068836,"answer_id":25510249,"question_id":5050170,"body_markdown":"This is a simple way of doing it:\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    SimpleDateFormat dateOnly = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    System.out.println(dateOnly.format(cal.getTime()));\r\n","title":"How do I get a Date without time in Java?","body":"<p>This is a simple way of doing it:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\nSimpleDateFormat dateOnly = new SimpleDateFormat(\"MM/dd/yyyy\");\nSystem.out.println(dateOnly.format(cal.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":193947,"reputation":1538,"user_id":435978,"accept_rate":88,"display_name":"BigMac66"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1432227028,"creation_date":1432227028,"answer_id":30379820,"question_id":5050170,"body_markdown":"If all you want is to see the date like so &quot;YYYY-MM-DD&quot; without all the other clutter e.g. &quot;Thu May 21 12:08:18 EDT 2015&quot; then just use `java.sql.Date`.  This example gets the current date:\r\n\r\n    new java.sql.Date(System.currentTimeMillis());\r\n\r\nAlso `java.sql.Date` is a subclass of `java.util.Date`.","title":"How do I get a Date without time in Java?","body":"<p>If all you want is to see the date like so \"YYYY-MM-DD\" without all the other clutter e.g. \"Thu May 21 12:08:18 EDT 2015\" then just use <code>java.sql.Date</code>.  This example gets the current date:</p>\n\n<pre><code>new java.sql.Date(System.currentTimeMillis());\n</code></pre>\n\n<p>Also <code>java.sql.Date</code> is a subclass of <code>java.util.Date</code>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1644513956,"creation_date":1432250793,"answer_id":30386004,"question_id":5050170,"body_markdown":"# tl;dr\r\n\r\n&gt; Is there any other way than these two?\r\n\r\nYes, there is: [`LocalDate.now`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#now())\r\n\r\n    LocalDate.now( \r\n        ZoneId.of( &quot;Pacific/Auckland&quot; ) \r\n    )\r\n\r\n# java.time\r\n\r\nJava 8 and later comes with the new [java.time package][1] built-in. See [Tutorial][2]. Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to Android in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP).\r\n\r\nSimilar to [Joda-Time][3], java.time offers a [`LocalDate`][4] class to represent a date-only value without time-of-day and without time zone.\r\n\r\nNote that **time zone is critical** to determining a particular date. At the stroke of midnight in Paris, for example, the date is still â€œyesterdayâ€ in Montr&#233;al. \r\n\r\n    LocalDate today = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ) ;\r\n\r\nBy default, java.time uses the [ISO 8601][5] standard in generating a string representation of a date or date-time value. (Another similarity with Joda-Time.) So simply call [`toString()`][6] to generate text like `2015-05-21`.\r\n\r\n    String output = today.toString() ; \r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABPâ€¦*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/datetime/index.html\r\n  [3]: http://www.joda.org/joda-time/\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [5]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--","title":"How do I get a Date without time in Java?","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>Is there any other way than these two?</p>\n</blockquote>\n<p>Yes, there is: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#now()\" rel=\"nofollow noreferrer\"><code>LocalDate.now</code></a></p>\n<pre><code>LocalDate.now( \n    ZoneId.of( &quot;Pacific/Auckland&quot; ) \n)\n</code></pre>\n<h1>java.time</h1>\n<p>Java 8 and later comes with the new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time package</a> built-in. See <a href=\"http://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Tutorial</a>. Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to Android in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>.</p>\n<p>Similar to <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a>, java.time offers a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class to represent a date-only value without time-of-day and without time zone.</p>\n<p>Note that <strong>time zone is critical</strong> to determining a particular date. At the stroke of midnight in Paris, for example, the date is still â€œyesterdayâ€ in MontrÃ©al.</p>\n<pre><code>LocalDate today = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ) ;\n</code></pre>\n<p>By default, java.time uses the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard in generating a string representation of a date or date-time value. (Another similarity with Joda-Time.) So simply call <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--\" rel=\"nofollow noreferrer\"><code>toString()</code></a> to generate text like <code>2015-05-21</code>.</p>\n<pre><code>String output = today.toString() ; \n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, and later</li>\n<li>Built-in.</li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABPâ€¦</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":1028702,"reputation":968,"user_id":1037439,"display_name":"TomWolk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442568054,"creation_date":1442568054,"answer_id":32648384,"question_id":5050170,"body_markdown":"The most straigthforward way that makes full use of the huge TimeZone Database of Java and is correct:\r\n\r\n    long currentTime = new Date().getTime();\r\n    long dateOnly = currentTime + TimeZone.getDefault().getOffset(currentTime);","title":"How do I get a Date without time in Java?","body":"<p>The most straigthforward way that makes full use of the huge TimeZone Database of Java and is correct:</p>\n\n<pre><code>long currentTime = new Date().getTime();\nlong dateOnly = currentTime + TimeZone.getDefault().getOffset(currentTime);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3672667,"reputation":3747,"user_id":3059453,"display_name":"blueberry0xff"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1443452280,"creation_date":1443451970,"answer_id":32825970,"question_id":5050170,"body_markdown":"    // 09/28/2015\r\n    System.out.println(new SimpleDateFormat(&quot;MM/dd/yyyy&quot;).format(Calendar.getInstance().getTime()));\r\n\r\n    // Mon Sep 28\r\n    System.out.println( new Date().toString().substring(0, 10) );\r\n\r\n    // 2015-09-28\r\n    System.out.println(new java.sql.Date(System.currentTimeMillis()));\r\n\r\n    // 2015-09-28\r\n    // java 8\r\n    System.out.println( LocalDate.now(ZoneId.of(&quot;Europe/Paris&quot;)) ); // rest zones id in ZoneId class","title":"How do I get a Date without time in Java?","body":"<pre><code>// 09/28/2015\nSystem.out.println(new SimpleDateFormat(\"MM/dd/yyyy\").format(Calendar.getInstance().getTime()));\n\n// Mon Sep 28\nSystem.out.println( new Date().toString().substring(0, 10) );\n\n// 2015-09-28\nSystem.out.println(new java.sql.Date(System.currentTimeMillis()));\n\n// 2015-09-28\n// java 8\nSystem.out.println( LocalDate.now(ZoneId.of(\"Europe/Paris\")) ); // rest zones id in ZoneId class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3644315,"reputation":76,"user_id":3037726,"display_name":"user3037726"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471902422,"creation_date":1471902422,"answer_id":39089227,"question_id":5050170,"body_markdown":"If you just need the current date, without time, another option is:\r\n\r\n    DateTime.now().withTimeAtStartOfDay()","title":"How do I get a Date without time in Java?","body":"<p>If you just need the current date, without time, another option is:</p>\n\n<pre><code>DateTime.now().withTimeAtStartOfDay()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1480803,"reputation":1052,"user_id":1390259,"display_name":"Brent Larsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482014330,"creation_date":1473797249,"answer_id":39478196,"question_id":5050170,"body_markdown":"Here is a clean solution with no conversion to string and back, and also it doesn&#39;t re-calculate time several times as you reset each component of the time to zero. It also uses `%` (modulus) rather than divide followed by multiply to avoid the double operation.\r\n\r\nIt requires no third-party dependencies, and it RESPECTS THE TIMEZONE OF THE Calender object passed in. This function returns the moment in time at 12 AM in the timezone of the date (Calendar) you pass in.\r\n\r\n    public static Calendar date_only(Calendar datetime) {\r\n        final long LENGTH_OF_DAY = 24*60*60*1000;\r\n        long millis = datetime.getTimeInMillis();\r\n        long offset = datetime.getTimeZone().getOffset(millis);\r\n        millis = millis - ((millis + offset) % LENGTH_OF_DAY);\r\n        datetime.setTimeInMillis(millis);\r\n        return datetime;\r\n    }\r\n","title":"How do I get a Date without time in Java?","body":"<p>Here is a clean solution with no conversion to string and back, and also it doesn't re-calculate time several times as you reset each component of the time to zero. It also uses <code>%</code> (modulus) rather than divide followed by multiply to avoid the double operation.</p>\n\n<p>It requires no third-party dependencies, and it RESPECTS THE TIMEZONE OF THE Calender object passed in. This function returns the moment in time at 12 AM in the timezone of the date (Calendar) you pass in.</p>\n\n<pre><code>public static Calendar date_only(Calendar datetime) {\n    final long LENGTH_OF_DAY = 24*60*60*1000;\n    long millis = datetime.getTimeInMillis();\n    long offset = datetime.getTimeZone().getOffset(millis);\n    millis = millis - ((millis + offset) % LENGTH_OF_DAY);\n    datetime.setTimeInMillis(millis);\n    return datetime;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1517763334,"creation_date":1517763334,"answer_id":48610647,"question_id":5050170,"body_markdown":"Use `LocalDate.now()` and convert into `Date` like below:\r\n\r\n    Date.from(LocalDate.now().atStartOfDay(ZoneId.systemDefault()).toInstant());","title":"How do I get a Date without time in Java?","body":"<p>Use <code>LocalDate.now()</code> and convert into <code>Date</code> like below:</p>\n\n<pre><code>Date.from(LocalDate.now().atStartOfDay(ZoneId.systemDefault()).toInstant());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7015841,"reputation":713,"user_id":5377223,"display_name":"Jes&#250;s S&#225;nchez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553188211,"creation_date":1519147692,"answer_id":48891002,"question_id":5050170,"body_markdown":"Yo can use joda time.\r\n\r\n    private Date dateWitoutTime(Date date){\r\n     return new LocalDate(date).toDate()\r\n    }\r\n\r\nand you call with:\r\n\r\n    Date date = new Date();\r\n\tSystem.out.println(&quot;Without Time = &quot; + dateWitoutTime(date) + &quot;/n  With time = &quot; + date);\r\n\r\n","title":"How do I get a Date without time in Java?","body":"<p>Yo can use joda time.</p>\n\n<pre><code>private Date dateWitoutTime(Date date){\n return new LocalDate(date).toDate()\n}\n</code></pre>\n\n<p>and you call with:</p>\n\n<pre><code>Date date = new Date();\nSystem.out.println(\"Without Time = \" + dateWitoutTime(date) + \"/n  With time = \" + date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12221959,"reputation":353,"user_id":8920835,"display_name":"vitiello.antonio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531409107,"creation_date":1531409107,"answer_id":51309405,"question_id":5050170,"body_markdown":"What about this?\r\n\r\n    public static Date formatStrictDate(int year, int month, int dayOfMonth) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.set(year, month, dayOfMonth, 0, 0, 0);\r\n        calendar.set(Calendar.MILLISECOND, 0);\r\n        return calendar.getTime();\r\n    }\r\n\r\n","title":"How do I get a Date without time in Java?","body":"<p>What about this?</p>\n\n<pre><code>public static Date formatStrictDate(int year, int month, int dayOfMonth) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.set(year, month, dayOfMonth, 0, 0, 0);\n    calendar.set(Calendar.MILLISECOND, 0);\n    return calendar.getTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7214686,"reputation":235,"user_id":5507608,"display_name":"Elloco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534929161,"creation_date":1534535708,"answer_id":51902075,"question_id":5050170,"body_markdown":"I just made this for my app :\r\n\r\n    public static Date getDatePart(Date dateTime) {\r\n        TimeZone tz = TimeZone.getDefault();\r\n        long rawOffset=tz.getRawOffset();\r\n        long dst=(tz.inDaylightTime(dateTime)?tz.getDSTSavings():0);\r\n        long dt=dateTime.getTime()+rawOffset+dst; // add offseet and dst to dateTime\r\n        long modDt=dt % (60*60*24*1000) ;\r\n                \r\n        return new Date( dt\r\n                        - modDt // substract the rest of the division by a day in milliseconds\r\n                        - rawOffset // substract the time offset (Paris = GMT +1h for example)\r\n                        - dst // If dayLight, substract hours (Paris = +1h in dayLight)\r\n        );\r\n    }\r\n\r\n\r\nAndroid API level 1, no external library.\r\nIt respects daylight and default timeZone. No String manipulation so I think this way is more CPU efficient than yours but I haven&#39;t made any tests.\r\n","title":"How do I get a Date without time in Java?","body":"<p>I just made this for my app :</p>\n\n<pre><code>public static Date getDatePart(Date dateTime) {\n    TimeZone tz = TimeZone.getDefault();\n    long rawOffset=tz.getRawOffset();\n    long dst=(tz.inDaylightTime(dateTime)?tz.getDSTSavings():0);\n    long dt=dateTime.getTime()+rawOffset+dst; // add offseet and dst to dateTime\n    long modDt=dt % (60*60*24*1000) ;\n\n    return new Date( dt\n                    - modDt // substract the rest of the division by a day in milliseconds\n                    - rawOffset // substract the time offset (Paris = GMT +1h for example)\n                    - dst // If dayLight, substract hours (Paris = +1h in dayLight)\n    );\n}\n</code></pre>\n\n<p>Android API level 1, no external library.\nIt respects daylight and default timeZone. No String manipulation so I think this way is more CPU efficient than yours but I haven't made any tests.</p>\n"},{"tags":[],"owner":{"account_id":8977481,"reputation":1141,"user_id":6693783,"display_name":"Bathri Nathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623747666,"creation_date":1623747666,"answer_id":67983173,"question_id":5050170,"body_markdown":"We can use **SimpleDateFormat** to format the date as we like. here is a working example below:-\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    System.out.println(dateFormat.format(new Date())); //data can be inserted in this format function\r\n\r\nOutput:\r\n\r\n    15/06/2021\r\n\r\n","title":"How do I get a Date without time in Java?","body":"<p>We can use <strong>SimpleDateFormat</strong> to format the date as we like. here is a working example below:-</p>\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\nSystem.out.println(dateFormat.format(new Date())); //data can be inserted in this format function\n</code></pre>\n<p>Output:</p>\n<pre><code>15/06/2021\n</code></pre>\n"}],"owner":{"account_id":65900,"reputation":24648,"user_id":193634,"accept_rate":84,"display_name":"Rosdi Kasim"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583567,"favorite_count":0,"down_vote_count":1,"up_vote_count":280,"accepted_answer_id":5050259,"answer_count":23,"score":279,"last_activity_date":1644513956,"creation_date":1298110532,"question_id":5050170,"body_markdown":"Continuing from Stack Overflow question *https://stackoverflow.com/questions/2806360*:\r\n\r\nWhat is the most efficient way to get a Date object without the time? Is there any other way than these two?\r\n\r\n    // Method 1\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Date dateWithoutTime = sdf.parse(sdf.format(new Date()));\r\n\r\n    // Method 2\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.set(Calendar.HOUR_OF_DAY, 0);\r\n    cal.set(Calendar.MINUTE, 0);\r\n    cal.set(Calendar.SECOND, 0);\r\n    cal.set(Calendar.MILLISECOND, 0);\r\n    dateWithoutTime = cal.getTime();\r\n\r\n**Update**:\r\n\r\n1. I knew about [Joda-Time][1]; I am just trying to avoid additional library for such a simple (I think) task. But based on the answers so far Joda-Time seems extremely popular, so I might consider it.\r\n\r\n2. By _efficient_, I mean I want to avoid temporary object `String` creation as used by `method 1`, meanwhile `method 2` seems like a hack instead of a solution.\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n","title":"How do I get a Date without time in Java?","body":"<p>Continuing from Stack Overflow question <em><a href=\"https://stackoverflow.com/questions/2806360\">Java program to get the current date without timestamp</a></em>:</p>\n\n<p>What is the most efficient way to get a Date object without the time? Is there any other way than these two?</p>\n\n<pre><code>// Method 1\nSimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nDate dateWithoutTime = sdf.parse(sdf.format(new Date()));\n\n// Method 2\nCalendar cal = Calendar.getInstance();\ncal.set(Calendar.HOUR_OF_DAY, 0);\ncal.set(Calendar.MINUTE, 0);\ncal.set(Calendar.SECOND, 0);\ncal.set(Calendar.MILLISECOND, 0);\ndateWithoutTime = cal.getTime();\n</code></pre>\n\n<p><strong>Update</strong>:</p>\n\n<ol>\n<li><p>I knew about <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a>; I am just trying to avoid additional library for such a simple (I think) task. But based on the answers so far Joda-Time seems extremely popular, so I might consider it.</p></li>\n<li><p>By <em>efficient</em>, I mean I want to avoid temporary object <code>String</code> creation as used by <code>method 1</code>, meanwhile <code>method 2</code> seems like a hack instead of a solution.</p></li>\n</ol>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"score":0,"creation_date":1644509349,"post_id":71068406,"comment_id":125631056,"body_markdown":"Need to see your dao + error msg. This looks off","body":"Need to see your dao + error msg. This looks off"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":1,"creation_date":1644509811,"post_id":71068406,"comment_id":125631274,"body_markdown":"It&#39;s at least not good to do the read and the update in different Transactions.\nTry to remove the Annotations in the Service and put int on `updatePfm`","body":"It&#39;s at least not good to do the read and the update in different Transactions. Try to remove the Annotations in the Service and put int on <code>updatePfm</code>"},{"owner":{"account_id":9703968,"reputation":29,"user_id":7197967,"display_name":"jonathan gonzalez"},"score":0,"creation_date":1644510201,"post_id":71068406,"comment_id":125631431,"body_markdown":"Sorry @Llama I dont receive any error","body":"Sorry @Llama I dont receive any error"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1644510582,"post_id":71068406,"comment_id":125631582,"body_markdown":"@jonathangonzalez, so how do you know it doesn&#39;t do anything? How do you check that? Can you show _that_ code too?","body":"@jonathangonzalez, so how do you know it doesn&#39;t do anything? How do you check that? Can you show <i>that</i> code too?"},{"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"score":0,"creation_date":1644510641,"post_id":71068406,"comment_id":125631612,"body_markdown":"there should be if something is failing so you need to look more carefully. Additionally, your save method is built into your @Repository you shouldnt need to create a new save method in your service. You need to look at a tutorial bc your architecture is way off","body":"there should be if something is failing so you need to look more carefully. Additionally, your save method is built into your @Repository you shouldnt need to create a new save method in your service. You need to look at a tutorial bc your architecture is way off"},{"owner":{"account_id":9703968,"reputation":29,"user_id":7197967,"display_name":"jonathan gonzalez"},"score":0,"creation_date":1644512029,"post_id":71068406,"comment_id":125632231,"body_markdown":"@StanislavBashkyrtsev, I know it because in the database the record is not modified.","body":"@StanislavBashkyrtsev, I know it because in the database the record is not modified."},{"owner":{"account_id":9703968,"reputation":29,"user_id":7197967,"display_name":"jonathan gonzalez"},"score":0,"creation_date":1644512074,"post_id":71068406,"comment_id":125632248,"body_markdown":"@Llama I am using another service for saving because they are 2 different services and each one has its own business rules, right now you see it with nothing because there are still several more functionalities to implement.","body":"@Llama I am using another service for saving because they are 2 different services and each one has its own business rules, right now you see it with nothing because there are still several more functionalities to implement."},{"owner":{"account_id":9703968,"reputation":29,"user_id":7197967,"display_name":"jonathan gonzalez"},"score":0,"creation_date":1644512235,"post_id":71068406,"comment_id":125632313,"body_markdown":"I just add a screenshot of my console, how you can see I dont receive an error, I just receive the last select that it made with the findById. the strange thing is that when I create a new instance, if it does an insert, only the update is the problem.","body":"I just add a screenshot of my console, how you can see I dont receive an error, I just receive the last select that it made with the findById. the strange thing is that when I create a new instance, if it does an insert, only the update is the problem."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1644514871,"post_id":71068406,"comment_id":125633340,"body_markdown":"Have you tried marking the updatePfm method as transactional? I seem to recall calling something with Transactional(readOnly = true) will start a transaction that may continue on your pfmSelectionService. if the entity exists, it will be &#39;managed&#39; by the context likely being reused by the later save call. Read-only isn&#39;t a great option IMO in spring except where absolutely necessary for performance. Try it - if changing the transaction demarcation points works, we can help find a solution that better fits your requirements.","body":"Have you tried marking the updatePfm method as transactional? I seem to recall calling something with Transactional(readOnly = true) will start a transaction that may continue on your pfmSelectionService. if the entity exists, it will be &#39;managed&#39; by the context likely being reused by the later save call. Read-only isn&#39;t a great option IMO in spring except where absolutely necessary for performance. Try it - if changing the transaction demarcation points works, we can help find a solution that better fits your requirements."}],"answers":[{"tags":[],"owner":{"account_id":9910073,"reputation":290,"user_id":16781656,"display_name":"Yogesh Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644513421,"creation_date":1644513421,"answer_id":71069485,"question_id":71068406,"body_markdown":"You need to take a few steps to know what the problem is\r\n1. Take the return of pfmSelectionService.save(pfm) and print the saved instance returned like below:\r\n    \r\n       private void updatePfm(PushModel pushModel) {\r\n           PfmSelection pfm = this.pfmSelectionService.findById(167427);\r\n           pfm.setPreparedBy(&quot;Rodrige&quot;);\r\n           PfmSelection pfm2 = pfmSelectionService.save(pfm);\r\n           System.out.println(pfm2.getPreparedBy());\r\n       }\r\n\r\n2. Put logger/debugger inside the save method, before and after the save method and check for the entry/exit sop/logger statements in log/console like\r\n\r\n       @Override\r\n       @Transactional\r\n       public PfmSelection save(PfmSelection pfmSelection) {\r\n            System.out.println(&quot;Inside save method&quot;);\r\n            PfmSelection pfmSelectionSaved = \r\n                              this.pfmSelectionDao.save(pfmSelection);\r\n            System.out.println(&quot;Exits save method&quot;);\r\n            return pfmSelectionSaved; \r\n       }\r\n3. Check for any Aop around advice or any place where the exception is being caught but eaten/not thrown further.\r\n4. Check if there is any update query fired in the logs at the time of save call.\r\n5. Also check if the setter method `pfm.setPreparedBy(&quot;Rodrige&quot;);` is Empty?","title":"Spring CrudRepository Update doesn&#39;t work","body":"<p>You need to take a few steps to know what the problem is</p>\n<ol>\n<li><p>Take the return of pfmSelectionService.save(pfm) and print the saved instance returned like below:</p>\n<pre><code>private void updatePfm(PushModel pushModel) {\n    PfmSelection pfm = this.pfmSelectionService.findById(167427);\n    pfm.setPreparedBy(&quot;Rodrige&quot;);\n    PfmSelection pfm2 = pfmSelectionService.save(pfm);\n    System.out.println(pfm2.getPreparedBy());\n}\n</code></pre>\n</li>\n<li><p>Put logger/debugger inside the save method, before and after the save method and check for the entry/exit sop/logger statements in log/console like</p>\n<pre><code>@Override\n@Transactional\npublic PfmSelection save(PfmSelection pfmSelection) {\n     System.out.println(&quot;Inside save method&quot;);\n     PfmSelection pfmSelectionSaved = \n                       this.pfmSelectionDao.save(pfmSelection);\n     System.out.println(&quot;Exits save method&quot;);\n     return pfmSelectionSaved; \n}\n</code></pre>\n</li>\n<li><p>Check for any Aop around advice or any place where the exception is being caught but eaten/not thrown further.</p>\n</li>\n<li><p>Check if there is any update query fired in the logs at the time of save call.</p>\n</li>\n<li><p>Also check if the setter method <code>pfm.setPreparedBy(&quot;Rodrige&quot;);</code> is Empty?</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9703968,"reputation":29,"user_id":7197967,"display_name":"jonathan gonzalez"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71069485,"answer_count":1,"score":1,"last_activity_date":1644513421,"creation_date":1644509230,"question_id":71068406,"body_markdown":"I have a project in spring boot and I&#39;m using CrudRepository, but when I try to update, it doesn&#39;t do anything.\r\n\r\n    @Entity\r\n    public class PfmSelection implements Serializable{\r\n        \r\n        @Id\r\n        private Integer releaseId; \r\n        private String preparedBy;\r\n    }\r\n\r\nRepositiry\r\n\r\n\r\n\r\n    @Repository\r\n    public interface IPfmSelectionDao extends CrudRepository&lt;PfmSelection, Integer&gt; {\r\n\r\n    }\r\n\r\nService\r\n\r\n    public interface IPfmSelectionService {\r\n    \r\n        public PfmSelection save(PfmSelection pfmSelection);\r\n    \r\n        public PfmSelection findById(Integer id);\r\n    \r\n    }\r\n\r\nService Impl\r\n\r\n    @Service\r\n    public class PfmSelectionService implements IPfmSelectionService {\r\n    \r\n        @Autowired\r\n        private IPfmSelectionDao pfmSelectionDao;\r\n    \r\n        @Override\r\n        @Transactional\r\n        public PfmSelection save(PfmSelection pfmSelection) {\r\n            return this.pfmSelectionDao.save(pfmSelection); \r\n        }\r\n    \r\n        @Override\r\n        @Transactional(readOnly = true)\r\n        public PfmSelection findById(Integer id) {\r\n            return this.pfmSelectionDao.findById(id).orElse(null);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nService where I use the other Service\r\n\r\n\r\n    @Autowired\r\n        private IPfmSelectionService pfmSelectionService;\r\n\r\n    private void updatePfm(PushModel pushModel) {\r\n        PfmSelection pfm = this.pfmSelectionService.findById(167427);\r\n        \r\n         pfm.setPreparedBy(&quot;Rodrige&quot;);\r\n         pfmSelectionService.save(pfm);\r\n\r\n    }\r\n\r\n\r\nI don&#39;t receive any error in the console.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/py7pP.png","title":"Spring CrudRepository Update doesn&#39;t work","body":"<p>I have a project in spring boot and I'm using CrudRepository, but when I try to update, it doesn't do anything.</p>\n<pre><code>@Entity\npublic class PfmSelection implements Serializable{\n    \n    @Id\n    private Integer releaseId; \n    private String preparedBy;\n}\n</code></pre>\n<p>Repositiry</p>\n<pre><code>@Repository\npublic interface IPfmSelectionDao extends CrudRepository&lt;PfmSelection, Integer&gt; {\n\n}\n</code></pre>\n<p>Service</p>\n<pre><code>public interface IPfmSelectionService {\n\n    public PfmSelection save(PfmSelection pfmSelection);\n\n    public PfmSelection findById(Integer id);\n\n}\n</code></pre>\n<p>Service Impl</p>\n<pre><code>@Service\npublic class PfmSelectionService implements IPfmSelectionService {\n\n    @Autowired\n    private IPfmSelectionDao pfmSelectionDao;\n\n    @Override\n    @Transactional\n    public PfmSelection save(PfmSelection pfmSelection) {\n        return this.pfmSelectionDao.save(pfmSelection); \n    }\n\n    @Override\n    @Transactional(readOnly = true)\n    public PfmSelection findById(Integer id) {\n        return this.pfmSelectionDao.findById(id).orElse(null);\n    }\n\n}\n</code></pre>\n<p>Service where I use the other Service</p>\n<pre><code>@Autowired\n    private IPfmSelectionService pfmSelectionService;\n\nprivate void updatePfm(PushModel pushModel) {\n    PfmSelection pfm = this.pfmSelectionService.findById(167427);\n    \n     pfm.setPreparedBy(&quot;Rodrige&quot;);\n     pfmSelectionService.save(pfm);\n\n}\n</code></pre>\n<p>I don't receive any error in the console.</p>\n<p><a href=\"https://i.stack.imgur.com/py7pP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/py7pP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","jar","package"],"comments":[{"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"score":0,"creation_date":1503040660,"post_id":45750670,"comment_id":78458631,"body_markdown":"I think the `metron-rest-xxxx.jar` JAR itself must be uncompressed.","body":"I think the <code>metron-rest-xxxx.jar</code> JAR itself must be uncompressed."},{"owner":{"account_id":1871720,"reputation":743,"user_id":1693782,"accept_rate":78,"display_name":"Tim Raynor"},"score":0,"creation_date":1503040924,"post_id":45750670,"comment_id":78458804,"body_markdown":"What I am trying to do is update what&#39;s inside the `metron-rest-xxx.jar`, so can&#39;t uncompress this jar. I just change the `metron-rest-xxx.jar` to `rest-xxxx.jar` to avoid confusion.","body":"What I am trying to do is update what&#39;s inside the <code>metron-rest-xxx.jar</code>, so can&#39;t uncompress this jar. I just change the <code>metron-rest-xxx.jar</code> to <code>rest-xxxx.jar</code> to avoid confusion."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1503041885,"post_id":45750670,"comment_id":78459349,"body_markdown":"Why can&#39;t you just update the dependencies in the pom.xml and rebuild the Spring Boot application?","body":"Why can&#39;t you just update the dependencies in the pom.xml and rebuild the Spring Boot application?"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1503041925,"post_id":45750670,"comment_id":78459374,"body_markdown":"this is worst practice.","body":"this is worst practice."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1503041940,"post_id":45750670,"comment_id":78459383,"body_markdown":"*What should I do when I need to replace the dependencies with a given springboot jar?* I would update the dependencies in the build.gradle/pom.xml of the project (i.e. in the sources), recompile and reexecute all the unit and integration tests to make sure the new dependency doesn&#39;t break anything, and use the jar produced by the official, carefully crafted build procedure of the project.","body":"<i>What should I do when I need to replace the dependencies with a given springboot jar?</i> I would update the dependencies in the build.gradle/pom.xml of the project (i.e. in the sources), recompile and reexecute all the unit and integration tests to make sure the new dependency doesn&#39;t break anything, and use the jar produced by the official, carefully crafted build procedure of the project."},{"owner":{"account_id":1871720,"reputation":743,"user_id":1693782,"accept_rate":78,"display_name":"Tim Raynor"},"score":2,"creation_date":1503043904,"post_id":45750670,"comment_id":78460461,"body_markdown":"guys, I understanding this will be way easier if I could rebuild from src code and put thing into maven pom.xml. But the problem I have is that now I only have a jar file that I need to patch, so you could talk about best practise but I need to patch this jar.","body":"guys, I understanding this will be way easier if I could rebuild from src code and put thing into maven pom.xml. But the problem I have is that now I only have a jar file that I need to patch, so you could talk about best practise but I need to patch this jar."},{"owner":{"account_id":1871720,"reputation":743,"user_id":1693782,"accept_rate":78,"display_name":"Tim Raynor"},"score":0,"creation_date":1503044034,"post_id":45750670,"comment_id":78460530,"body_markdown":"I do want to chase up the src code with correct changesets but unfortunately I can&#39;t have it at the moment, that is why I need to patch it instead of rebuilding it. Can we focus on the scenario when we need to patch this?","body":"I do want to chase up the src code with correct changesets but unfortunately I can&#39;t have it at the moment, that is why I need to patch it instead of rebuilding it. Can we focus on the scenario when we need to patch this?"},{"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"score":0,"creation_date":1503047805,"post_id":45750670,"comment_id":78462875,"body_markdown":"I would try this: unjar the &quot;new&quot; jar -&gt; re-jar it without compression -&gt; update it (without compression) inside the Spring Boot app JAR.","body":"I would try this: unjar the &quot;new&quot; jar -&gt; re-jar it without compression -&gt; update it (without compression) inside the Spring Boot app JAR."},{"owner":{"account_id":1871720,"reputation":743,"user_id":1693782,"accept_rate":78,"display_name":"Tim Raynor"},"score":0,"creation_date":1503048210,"post_id":45750670,"comment_id":78463152,"body_markdown":"Tried it but not working same error","body":"Tried it but not working same error"},{"owner":{"account_id":479498,"reputation":2088,"user_id":892200,"display_name":"Sid Malani"},"score":0,"creation_date":1542077069,"post_id":45750670,"comment_id":93429081,"body_markdown":"You simply cannot do this (or is very hard to do) because the packing format of Springboot is different. If you open up the jar in text editor you will see meta data on top and all libs in binary format inline. So it will be very hard to repackage it.","body":"You simply cannot do this (or is very hard to do) because the packing format of Springboot is different. If you open up the jar in text editor you will see meta data on top and all libs in binary format inline. So it will be very hard to repackage it."}],"answers":[{"tags":[],"owner":{"account_id":167793,"reputation":91,"user_id":392827,"display_name":"shirel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622417916,"creation_date":1622417916,"answer_id":67766577,"question_id":45750670,"body_markdown":"Use the jar command to decompress the jar package, replace the jar package outside the compressed package, and compress it.\r\n\r\n\r\nhttps://www.programmersought.com/article/48535890080/","title":"update Spring BOOT-INF/lib jars","body":"<p>Use the jar command to decompress the jar package, replace the jar package outside the compressed package, and compress it.</p>\n<p><a href=\"https://www.programmersought.com/article/48535890080/\" rel=\"nofollow noreferrer\">https://www.programmersought.com/article/48535890080/</a></p>\n"},{"tags":[],"owner":{"account_id":304339,"reputation":1,"user_id":5497891,"display_name":"denizk0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644513007,"creation_date":1644511754,"answer_id":71069087,"question_id":45750670,"body_markdown":"My initial answer was deleted, so I&#39;m following recommendations and updating my answer.\r\n\r\nRegarding comments, sometimes it&#39;s faster to cut corners and just patch jar/zip file directly instead of rebuilding the whole thing that can take a lot of time on large projects.\r\n\r\nThere is nothing wrong with the Spring Boot file layout unless jar names and compression methods are retained, the nested .jars are only &quot;indexed&quot; by their names, and OP means replacing .jar with the same name.\r\n\r\nI&#39;ve faced the very same question as OP and haven&#39;t found a solution, so this is my attempt to solve it with utility https://github.com/denizk0/cpzip\r\n\r\nThis utility 1. Updates a file in the zip/jar, if it&#39;s a nested archive, it&#39;s expanded to a temp file, then GOTO 1. Nesting may be of any depth. Eventually, all nested archives are wrapped back together, temp files are cleaned. Compression methods are preserved.\r\n\r\nHere&#39;s an example:\r\n\r\n`cpzip ~/.m2/repository/joda-time/joda-time/2.9.9/joda-time-2.9.9.jar camunda-bpm-run-7.16.0.zip internal/camunda-bpm-run-core.jar/BOOT-INF/lib -v`\r\n\r\nwill copy or replace `joda-time-2.9.9.jar` from local maven repo in `camunda-bpm-run-7.16.0.zip` from current directory in nested `internal/camunda-bpm-run-core.jar`\r\n\r\nPS: It is even possible to replace .js files in webjars","title":"update Spring BOOT-INF/lib jars","body":"<p>My initial answer was deleted, so I'm following recommendations and updating my answer.</p>\n<p>Regarding comments, sometimes it's faster to cut corners and just patch jar/zip file directly instead of rebuilding the whole thing that can take a lot of time on large projects.</p>\n<p>There is nothing wrong with the Spring Boot file layout unless jar names and compression methods are retained, the nested .jars are only &quot;indexed&quot; by their names, and OP means replacing .jar with the same name.</p>\n<p>I've faced the very same question as OP and haven't found a solution, so this is my attempt to solve it with utility <a href=\"https://github.com/denizk0/cpzip\" rel=\"nofollow noreferrer\">https://github.com/denizk0/cpzip</a></p>\n<p>This utility 1. Updates a file in the zip/jar, if it's a nested archive, it's expanded to a temp file, then GOTO 1. Nesting may be of any depth. Eventually, all nested archives are wrapped back together, temp files are cleaned. Compression methods are preserved.</p>\n<p>Here's an example:</p>\n<p><code>cpzip ~/.m2/repository/joda-time/joda-time/2.9.9/joda-time-2.9.9.jar camunda-bpm-run-7.16.0.zip internal/camunda-bpm-run-core.jar/BOOT-INF/lib -v</code></p>\n<p>will copy or replace <code>joda-time-2.9.9.jar</code> from local maven repo in <code>camunda-bpm-run-7.16.0.zip</code> from current directory in nested <code>internal/camunda-bpm-run-core.jar</code></p>\n<p>PS: It is even possible to replace .js files in webjars</p>\n"}],"owner":{"account_id":1871720,"reputation":743,"user_id":1693782,"accept_rate":78,"display_name":"Tim Raynor"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4201,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1644513007,"creation_date":1503040525,"question_id":45750670,"body_markdown":"I am trying to update a jar in `rest-xxxx.jar `, this rest jar is basically a SpringBoot Jar and has the folder structure of `BOOT-INF/lib/&lt;dependencies.jars&gt;` when you unpack it.\r\n\r\nNow I want to replace a dependency jar within this `rest-xxxx.jar`, so I used the command:\r\n\r\n    jar uf rest-xxxx.jar BOOT-INF/lib/new-version-jar-same-name.jar\r\n\r\nHow ever I got errors during booting process:\r\n\r\n &gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: Unable to open nested entry &#39;BOOT-INF/lib/new-version-jar-same-name.jar&#39;. It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file\r\n\r\nI noticed that there&#39;s a `0` option for jar command to avoid compression, so I did:\r\n\r\n    jar u0f rest-xxxx.jar BOOT-INF/lib/new-version-jar-same-name.jar\r\n\r\nBut then I got a similar compression issue like below:\r\n\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: Unable to open nested entry &#39;BOOT-INF/lib/new-version-jar-same-name.jar/META-INF/MANIFEST.MF&#39;. It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file\r\n\r\nWhat should I do when I need to replace the dependency jars within a given springboot jar?\r\n\r\n**please note:** I understand the best practise is to build from updated pom.xml, the limitations we have is that we cannot get the right version source code at the moment, hence we are trying to patch the existing springboot jar instead of rebuilding it.\r\n\r\n\r\n","title":"update Spring BOOT-INF/lib jars","body":"<p>I am trying to update a jar in <code>rest-xxxx.jar</code>, this rest jar is basically a SpringBoot Jar and has the folder structure of <code>BOOT-INF/lib/&lt;dependencies.jars&gt;</code> when you unpack it.</p>\n\n<p>Now I want to replace a dependency jar within this <code>rest-xxxx.jar</code>, so I used the command:</p>\n\n<pre><code>jar uf rest-xxxx.jar BOOT-INF/lib/new-version-jar-same-name.jar\n</code></pre>\n\n<p>How ever I got errors during booting process:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalStateException: Unable to open nested entry 'BOOT-INF/lib/new-version-jar-same-name.jar'. It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file</p>\n</blockquote>\n\n<p>I noticed that there's a <code>0</code> option for jar command to avoid compression, so I did:</p>\n\n<pre><code>jar u0f rest-xxxx.jar BOOT-INF/lib/new-version-jar-same-name.jar\n</code></pre>\n\n<p>But then I got a similar compression issue like below:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalStateException: Unable to open nested entry 'BOOT-INF/lib/new-version-jar-same-name.jar/META-INF/MANIFEST.MF'. It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file</p>\n</blockquote>\n\n<p>What should I do when I need to replace the dependency jars within a given springboot jar?</p>\n\n<p><strong>please note:</strong> I understand the best practise is to build from updated pom.xml, the limitations we have is that we cannot get the right version source code at the moment, hence we are trying to patch the existing springboot jar instead of rebuilding it.</p>\n"},{"tags":["java","methods","static","duplicates","refactoring"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644512983,"creation_date":1644512983,"answer_id":71069375,"question_id":71068756,"body_markdown":"You don&#39;t need multiple while loops. Just check for equality and put your if-else-block into the while loop. If you guessed the number correct just break out of the loop.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        int min = 0;\r\n        int max = 100;\r\n        int midrange = Math.round((min + max) / 2);\r\n        String strInput = &quot;&quot;;\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Guess a number from 0 to 100: I&#39;ll guess it in 7 attempts! Enter 1 to continue:&quot;);\r\n        strInput = scan.nextLine();\r\n\r\n        while (!strInput.equals(&quot;=&quot;)) {\r\n            System.out.println(&quot;Is this number greater than, less than or equal to &quot; + midrange + &quot;? &quot; +\r\n                    &quot;Enter &#39;+&#39;, if it&#39;s greater, &#39;-&#39; if it&#39;s less and &#39;=&#39; if it&#39;s equal:&quot;);\r\n            strInput = scan.nextLine();\r\n            if (strInput.equals(&quot;=&quot;)) {\r\n                System.out.println(&quot;Great! Thank you for the game.&quot;);\r\n                break;\r\n            } else if (strInput.equals(&quot;+&quot;)) {\r\n                min = midrange;\r\n                midrange = Math.round((min + max) / 2);\r\n            } else if (strInput.equals(&quot;-&quot;)) {\r\n                max = midrange;\r\n                midrange = Math.round((min + max) / 2);\r\n            }\r\n        }\r\n    }","title":"How to remove repetitive operations in a separate method?","body":"<p>You don't need multiple while loops. Just check for equality and put your if-else-block into the while loop. If you guessed the number correct just break out of the loop.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n\n    int min = 0;\n    int max = 100;\n    int midrange = Math.round((min + max) / 2);\n    String strInput = &quot;&quot;;\n    Scanner scan = new Scanner(System.in);\n\n    System.out.println(&quot;Guess a number from 0 to 100: I'll guess it in 7 attempts! Enter 1 to continue:&quot;);\n    strInput = scan.nextLine();\n\n    while (!strInput.equals(&quot;=&quot;)) {\n        System.out.println(&quot;Is this number greater than, less than or equal to &quot; + midrange + &quot;? &quot; +\n                &quot;Enter '+', if it's greater, '-' if it's less and '=' if it's equal:&quot;);\n        strInput = scan.nextLine();\n        if (strInput.equals(&quot;=&quot;)) {\n            System.out.println(&quot;Great! Thank you for the game.&quot;);\n            break;\n        } else if (strInput.equals(&quot;+&quot;)) {\n            min = midrange;\n            midrange = Math.round((min + max) / 2);\n        } else if (strInput.equals(&quot;-&quot;)) {\n            max = midrange;\n            midrange = Math.round((min + max) / 2);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13028790,"reputation":15,"user_id":15903727,"display_name":"Monte Cristo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71069375,"answer_count":1,"score":0,"last_activity_date":1644512983,"creation_date":1644510560,"question_id":71068756,"body_markdown":"My code has to guess the hidden number from 0 to 100 in 7 attempts. And every time I need to call the same operations again. How can I move these operations into a separate method and call them from there?\r\n\r\n    public class Main {\r\n      public static void main(String[] args) throws IOException {\r\n        int min = 0;\r\n        int max = 100;\r\n        int midrange = Math.round((min + max)/2);\r\n        String strInput = &quot;&quot;;\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        while (!strInput.equals(&quot;1&quot;)){\r\n            System.out.println(&quot;Guess a number from 0 to 100: I&#39;ll guess it in 7 attempts! Enter 1 to continue:&quot;);\r\n            strInput = scan.nextLine();\r\n        }\r\n\r\n        while (!strInput.equals(&quot;+&quot;) &amp;&amp; !strInput.equals(&quot;-&quot;) &amp;&amp; !strInput.equals(&quot;=&quot;)){\r\n            System.out.println(&quot;Is this number greater than, less than or equal to &quot; + midrange + &quot;? &quot; +\r\n                    &quot;Enter &#39;+&#39;, if it&#39;s greater, &#39;-&#39; if it&#39;s less and &#39;=&#39; if it&#39;s equal:&quot;);\r\n            strInput = scan.nextLine();\r\n        }\r\n\r\n        if (strInput.equals(&quot;=&quot;)) System.out.println(&quot;Great! Thank you for the game.&quot;);\r\n        else if (strInput.equals(&quot;+&quot;)){\r\n            // reduce the range\r\n            min = midrange;\r\n\r\n            // find a new midrange\r\n            midrange = Math.round((min + max)/2);\r\n        } else if (strInput.equals(&quot;-&quot;)){\r\n            max = midrange;\r\n            midrange = Math.round((min + max)/2);\r\n        }\r\n\r\n        strInput = &quot;&quot;;\r\n\r\n        while (!strInput.equals(&quot;+&quot;) &amp;&amp; !strInput.equals(&quot;-&quot;) &amp;&amp; !strInput.equals(&quot;=&quot;)){\r\n            System.out.println(&quot;Is this number greater than, less than or equal to &quot; + midrange + &quot;? &quot;);\r\n            strInput = scan.nextLine();\r\n        }\r\n\r\n        // ... and so on until the correct number is found.\r\n\r\n      }\r\n    }","title":"How to remove repetitive operations in a separate method?","body":"<p>My code has to guess the hidden number from 0 to 100 in 7 attempts. And every time I need to call the same operations again. How can I move these operations into a separate method and call them from there?</p>\n<pre><code>public class Main {\n  public static void main(String[] args) throws IOException {\n    int min = 0;\n    int max = 100;\n    int midrange = Math.round((min + max)/2);\n    String strInput = &quot;&quot;;\n    Scanner scan = new Scanner(System.in);\n\n    while (!strInput.equals(&quot;1&quot;)){\n        System.out.println(&quot;Guess a number from 0 to 100: I'll guess it in 7 attempts! Enter 1 to continue:&quot;);\n        strInput = scan.nextLine();\n    }\n\n    while (!strInput.equals(&quot;+&quot;) &amp;&amp; !strInput.equals(&quot;-&quot;) &amp;&amp; !strInput.equals(&quot;=&quot;)){\n        System.out.println(&quot;Is this number greater than, less than or equal to &quot; + midrange + &quot;? &quot; +\n                &quot;Enter '+', if it's greater, '-' if it's less and '=' if it's equal:&quot;);\n        strInput = scan.nextLine();\n    }\n\n    if (strInput.equals(&quot;=&quot;)) System.out.println(&quot;Great! Thank you for the game.&quot;);\n    else if (strInput.equals(&quot;+&quot;)){\n        // reduce the range\n        min = midrange;\n\n        // find a new midrange\n        midrange = Math.round((min + max)/2);\n    } else if (strInput.equals(&quot;-&quot;)){\n        max = midrange;\n        midrange = Math.round((min + max)/2);\n    }\n\n    strInput = &quot;&quot;;\n\n    while (!strInput.equals(&quot;+&quot;) &amp;&amp; !strInput.equals(&quot;-&quot;) &amp;&amp; !strInput.equals(&quot;=&quot;)){\n        System.out.println(&quot;Is this number greater than, less than or equal to &quot; + midrange + &quot;? &quot;);\n        strInput = scan.nextLine();\n    }\n\n    // ... and so on until the correct number is found.\n\n  }\n}\n</code></pre>\n"},{"tags":["java","singleton"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644512170,"post_id":71069058,"comment_id":125632285,"body_markdown":"Why would you think it would not be safe?","body":"Why would you think it would not be safe?"},{"owner":{"account_id":14665911,"reputation":13,"user_id":10591778,"display_name":"user10591778"},"score":0,"creation_date":1644512670,"post_id":71069058,"comment_id":125632489,"body_markdown":"I just want to make sure if it correct and it will still be a singleton class","body":"I just want to make sure if it correct and it will still be a singleton class"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644512784,"post_id":71069058,"comment_id":125632524,"body_markdown":"To invoke msg you must have an instance o Singleton. What is the problem exactly?","body":"To invoke msg you must have an instance o Singleton. What is the problem exactly?"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644512826,"post_id":71069058,"comment_id":125632538,"body_markdown":"Does this answer your question? [Java Singleton Design Pattern : Questions](https://stackoverflow.com/questions/3428615/java-singleton-design-pattern-questions)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3428615/java-singleton-design-pattern-questions\">Java Singleton Design Pattern : Questions</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644513108,"post_id":71069058,"comment_id":125632628,"body_markdown":"@pringi No, that does not answer the OP question. Did you even read your suggested question? Nowhere there it directly addresses the the OP question about being OK or not to have other methods in the Singleton class.","body":"@pringi No, that does not answer the OP question. Did you even read your suggested question? Nowhere there it directly addresses the the OP question about being OK or not to have other methods in the Singleton class."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644513349,"post_id":71069058,"comment_id":125632722,"body_markdown":"It explains what is the singleton pattern. If one understands the pattern then it can answer this question.","body":"It explains what is the singleton pattern. If one understands the pattern then it can answer this question."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644512804,"creation_date":1644512804,"answer_id":71069338,"question_id":71069058,"body_markdown":"***Singleton*** is a *Creational Design Pattern*, which ensures that only one object of its kind exists and provides a single point of access to it for any other code. Aside from that, it is just an ordinary class that can have as many public methods as will need to satisfy the requirements for which it was designed.\r\n\r\nSingleton objects can mutate (change the value of its internal attributes - variables), or can be immutable (for example, Java `enums` can be used to create Singleton instances).\r\n\r\nUsing your class as an example, you can do something like this and be perfectly legal:\r\n```\r\npublic class Singleton {\r\n    private static Singleton single_instance = null;\r\n    private String message = &quot;none&quot;;\r\n    private Singleton() {\r\n       \r\n    }\r\n\r\n    public void showCurrentMessage(){  \r\n        System.out.println(msg);\r\n    }\r\n    public void updateMessage(String msg) {\r\n        this.msg = msg;\r\n    }\r\n\r\n    public static Singleton getInstance() {\r\n        if (single_instance == null) {\r\n            single_instance = new Singleton();\r\n        }\r\n\r\n        return single_instance;\r\n    }\r\n}\r\n````\r\n\r\nMind you that we are **strictly** speaking of the *legality* of this approach. Another discussion to be had is regarding the *practicality* of the approach where you need to consider many things like: \r\n\r\n 1. Testability of the code - one of the reasons why Singleton are not liked very much\r\n 2. Usability in multithreaded applications - Many safeguards are needed when objects mutate in multithreaded context.\r\n\r\nThere could be many others; albeit some of those (if not all) apply to non-Singleton objects as well.","title":"can i add an extra public method in singleton class in java","body":"<p><em><strong>Singleton</strong></em> is a <em>Creational Design Pattern</em>, which ensures that only one object of its kind exists and provides a single point of access to it for any other code. Aside from that, it is just an ordinary class that can have as many public methods as will need to satisfy the requirements for which it was designed.</p>\n<p>Singleton objects can mutate (change the value of its internal attributes - variables), or can be immutable (for example, Java <code>enums</code> can be used to create Singleton instances).</p>\n<p>Using your class as an example, you can do something like this and be perfectly legal:</p>\n<pre><code>public class Singleton {\n    private static Singleton single_instance = null;\n    private String message = &quot;none&quot;;\n    private Singleton() {\n       \n    }\n\n    public void showCurrentMessage(){  \n        System.out.println(msg);\n    }\n    public void updateMessage(String msg) {\n        this.msg = msg;\n    }\n\n    public static Singleton getInstance() {\n        if (single_instance == null) {\n            single_instance = new Singleton();\n        }\n\n        return single_instance;\n    }\n}\n</code></pre>\n<p>Mind you that we are <strong>strictly</strong> speaking of the <em>legality</em> of this approach. Another discussion to be had is regarding the <em>practicality</em> of the approach where you need to consider many things like:</p>\n<ol>\n<li>Testability of the code - one of the reasons why Singleton are not liked very much</li>\n<li>Usability in multithreaded applications - Many safeguards are needed when objects mutate in multithreaded context.</li>\n</ol>\n<p>There could be many others; albeit some of those (if not all) apply to non-Singleton objects as well.</p>\n"}],"owner":{"account_id":14665911,"reputation":13,"user_id":10591778,"display_name":"user10591778"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71069338,"answer_count":1,"score":0,"last_activity_date":1644512804,"creation_date":1644511675,"question_id":71069058,"body_markdown":"I have a singleton class and I added the msg method but I&#39;m not sure if is okay to add it to the singleton class or not \r\n\r\n```\r\npublic class Singleton {\r\n    private static Singleton single_instance = null;\r\n    private Singleton() {\r\n       \r\n    }\r\n\r\n    public void msg(String msg){  \r\n        System.out.println(msg);\r\n    } \r\n\r\n    public static Singleton getInstance() {\r\n        if (single_instance == null) {\r\n            single_instance = new Singleton();\r\n        }\r\n\r\n        return single_instance;\r\n    }\r\n}\r\n``` ","title":"can i add an extra public method in singleton class in java","body":"<p>I have a singleton class and I added the msg method but I'm not sure if is okay to add it to the singleton class or not</p>\n<pre><code>public class Singleton {\n    private static Singleton single_instance = null;\n    private Singleton() {\n       \n    }\n\n    public void msg(String msg){  \n        System.out.println(msg);\n    } \n\n    public static Singleton getInstance() {\n        if (single_instance == null) {\n            single_instance = new Singleton();\n        }\n\n        return single_instance;\n    }\n}\n</code></pre>\n"},{"tags":["java","optional-chaining"],"answers":[{"tags":[],"owner":{"account_id":2747887,"reputation":1764,"user_id":2367906,"accept_rate":73,"display_name":"adnan_e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644510250,"creation_date":1644509871,"answer_id":71068560,"question_id":71068454,"body_markdown":"Use `Optional.map` and `Optional.orElseGet`, like this:\r\n\r\n    var responseEntity = repoService.findById(inId)\r\n      .map(record -&gt; {\r\n        record .setStatus(inStatus);\r\n        repoService.save(record);\r\n        return ResponseEntity.ok().body(record);\r\n      }).orElseGet(() -&gt; {\r\n        LOG.error(&quot;Object not available&quot;);\r\n        return ResponseEntity.notFound().build();\r\n      });\r\n\r\n","title":"Java Optional with multiple commands and return object","body":"<p>Use <code>Optional.map</code> and <code>Optional.orElseGet</code>, like this:</p>\n<pre><code>var responseEntity = repoService.findById(inId)\n  .map(record -&gt; {\n    record .setStatus(inStatus);\n    repoService.save(record);\n    return ResponseEntity.ok().body(record);\n  }).orElseGet(() -&gt; {\n    LOG.error(&quot;Object not available&quot;);\n    return ResponseEntity.notFound().build();\n  });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12593956,"reputation":279,"user_id":9159407,"display_name":"omer blechman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644512669,"creation_date":1644512669,"answer_id":71069300,"question_id":71068454,"body_markdown":"Firstly, the signature of `ifPresentOrElse` is:\r\n\r\n`public void ifPresentOrElse(Consumer&lt;T&gt; action, Runnable emptyAction)`\r\n\r\nmeans that you can&#39;t return the value of this function.\r\n\r\nSo you are not retuning anything when you call `ResponseEntity.ok().body(i)` or `ResponseEntity.notFound().build()`,\r\nthey are just rvalues.\r\n\r\nOn the other side, the signiture of `map` function is:\r\n\r\n`public &lt;U&gt; Optional&lt;U&gt; map(Function&lt;? super T,? extends U&gt; mapper)`\r\n\r\nmeans that you can return the invocation of the mapper function.","title":"Java Optional with multiple commands and return object","body":"<p>Firstly, the signature of <code>ifPresentOrElse</code> is:</p>\n<p><code>public void ifPresentOrElse(Consumer&lt;T&gt; action, Runnable emptyAction)</code></p>\n<p>means that you can't return the value of this function.</p>\n<p>So you are not retuning anything when you call <code>ResponseEntity.ok().body(i)</code> or <code>ResponseEntity.notFound().build()</code>,\nthey are just rvalues.</p>\n<p>On the other side, the signiture of <code>map</code> function is:</p>\n<p><code>public &lt;U&gt; Optional&lt;U&gt; map(Function&lt;? super T,? extends U&gt; mapper)</code></p>\n<p>means that you can return the invocation of the mapper function.</p>\n"}],"owner":{"account_id":5661669,"reputation":13,"user_id":4479129,"display_name":"zzDevzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71068560,"answer_count":2,"score":0,"last_activity_date":1644512669,"creation_date":1644509430,"question_id":71068454,"body_markdown":"Attempting to execute multiple commands and return an Object (ResponseEntity) using Optional.ifPresentOrElse\r\n\r\nMore complex does not work:\r\n\r\n\r\n\r\n```\r\nreturn ifPresentOrElse(\r\n           repoService.findById(inId),\r\n           i -&gt; {\r\n               i.setStatus(inStatus);\r\n\t\t\t   repoService.save(i);\r\n               ResponseEntity.ok().body(i);\r\n           }, \r\n           () -&gt; {\r\n               LOG.error(&quot;Object not available&quot;);\r\n               ResponseEntity.notFound().build();\r\n           });\r\n```\r\n\r\nSimpler works but doesn&#39;t execute all the commands required:\r\n\r\n```\r\nOptional&lt;I&gt; iOptional = repoService.findById(inId);\r\n\t\t\r\nreturn iOptional.map(i -&gt; ResponseEntity.ok().body(i))\r\n                .orElse(ResponseEntity.notFound().build());\r\n```\r\n\r\nIs there away to achieve this using Optional functions?","title":"Java Optional with multiple commands and return object","body":"<p>Attempting to execute multiple commands and return an Object (ResponseEntity) using Optional.ifPresentOrElse</p>\n<p>More complex does not work:</p>\n<pre><code>return ifPresentOrElse(\n           repoService.findById(inId),\n           i -&gt; {\n               i.setStatus(inStatus);\n               repoService.save(i);\n               ResponseEntity.ok().body(i);\n           }, \n           () -&gt; {\n               LOG.error(&quot;Object not available&quot;);\n               ResponseEntity.notFound().build();\n           });\n</code></pre>\n<p>Simpler works but doesn't execute all the commands required:</p>\n<pre><code>Optional&lt;I&gt; iOptional = repoService.findById(inId);\n        \nreturn iOptional.map(i -&gt; ResponseEntity.ok().body(i))\n                .orElse(ResponseEntity.notFound().build());\n</code></pre>\n<p>Is there away to achieve this using Optional functions?</p>\n"},{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1644554824,"post_id":71068958,"comment_id":125643223,"body_markdown":"The docs you&#39;ve linked have both Kotlin and Java examples for a reason :)","body":"The docs you&#39;ve linked have both Kotlin and Java examples for a reason :)"},{"owner":{"account_id":2219150,"reputation":13274,"user_id":1959054,"accept_rate":79,"display_name":"TKoL"},"score":0,"creation_date":1644584532,"post_id":71068958,"comment_id":125651592,"body_markdown":"The ones I mentioned in my edit, where I mentioned that my problems were solved? Yeah, good catch.","body":"The ones I mentioned in my edit, where I mentioned that my problems were solved? Yeah, good catch."}],"owner":{"account_id":2219150,"reputation":13274,"user_id":1959054,"accept_rate":79,"display_name":"TKoL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644512300,"creation_date":1644511330,"question_id":71068958,"body_markdown":"I have been desperately searching throughout the internet of a semi-complete example of how to use this in Java. Nearly all the examples I can find are in Kotlin, eg \r\n\r\n```registerForActivityResult(GetContent()) { uri: Uri? -&gt;```\r\n\r\nBut I can&#39;t use that syntax in Java. The closest I&#39;ve found is this: https://stackoverflow.com/questions/61941959/activityresultcontracts-takepicture, but this isn&#39;t for the `GetContent()` contract, it&#39;s for `TakePicture()` and it&#39;s not working for me.\r\n\r\nHow can I register for the GetContent activity result using Java?\r\n\r\n[edit] seems all my problems may have been solved by adding `implementation &#39;androidx.appcompat:appcompat:1.3.1` and using the examples [here](https://developer.android.com/training/basics/intents/result)","title":"Android Java - how to use ActivityResultContracts.GetContent","body":"<p>I have been desperately searching throughout the internet of a semi-complete example of how to use this in Java. Nearly all the examples I can find are in Kotlin, eg</p>\n<p><code>registerForActivityResult(GetContent()) { uri: Uri? -&gt;</code></p>\n<p>But I can't use that syntax in Java. The closest I've found is this: <a href=\"https://stackoverflow.com/questions/61941959/activityresultcontracts-takepicture\">ActivityResultContracts.TakePicture()</a>, but this isn't for the <code>GetContent()</code> contract, it's for <code>TakePicture()</code> and it's not working for me.</p>\n<p>How can I register for the GetContent activity result using Java?</p>\n<p>[edit] seems all my problems may have been solved by adding <code>implementation 'androidx.appcompat:appcompat:1.3.1</code> and using the examples <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","debugging","logging","utility"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644502025,"post_id":71066451,"comment_id":125627669,"body_markdown":"How do you expect you invoke `_method()` without using a reference (object) to call the function?","body":"How do you expect you invoke <code>_method()</code> without using a reference (object) to call the function?"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1644502224,"post_id":71066451,"comment_id":125627755,"body_markdown":"Does this answer your question? [Getting the name of the currently executing method](https://stackoverflow.com/questions/442747/getting-the-name-of-the-currently-executing-method)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/442747/getting-the-name-of-the-currently-executing-method\">Getting the name of the currently executing method</a>"},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1644503192,"post_id":71066451,"comment_id":125628252,"body_markdown":"@hfontanez Using &quot;static import&quot; on the class containing all these utility methods. Otherwise it&#39;d be more like &quot;DebugUtil._method()&quot; instead.","body":"@hfontanez Using &quot;static import&quot; on the class containing all these utility methods. Otherwise it&#39;d be more like &quot;DebugUtil._method()&quot; instead."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644503285,"post_id":71066451,"comment_id":125628299,"body_markdown":"You are still referencing &quot;some class&quot;, don&#39;t you?","body":"You are still referencing &quot;some class&quot;, don&#39;t you?"},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1644503291,"post_id":71066451,"comment_id":125628304,"body_markdown":"@Nexevis No, that is the method I&#39;m currently using and it requires you to create that &quot;new Object() {}&quot; within the method you&#39;re currently inside. I want to be able to call a different, static, method that doesn&#39;t require any arguments.","body":"@Nexevis No, that is the method I&#39;m currently using and it requires you to create that &quot;new Object() {}&quot; within the method you&#39;re currently inside. I want to be able to call a different, static, method that doesn&#39;t require any arguments."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1644503362,"post_id":71066451,"comment_id":125628333,"body_markdown":"@Anju Maaka There are many other answers in that link than just the top answer, not just the one you are currently using.","body":"@Anju Maaka There are many other answers in that link than just the top answer, not just the one you are currently using."},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1644503484,"post_id":71066451,"comment_id":125628391,"body_markdown":"@hfontanez I suppose so? I&#39;m not quite understanding what you&#39;re trying to say. Imagine you have one java class called UtilityMethods which contains a number of static methods. Any OTHER class can do a static import (or just a normal import) to use those methods. I want one of those methods to be able to return a Method instance that points to the method that called it","body":"@hfontanez I suppose so? I&#39;m not quite understanding what you&#39;re trying to say. Imagine you have one java class called UtilityMethods which contains a number of static methods. Any OTHER class can do a static import (or just a normal import) to use those methods. I want one of those methods to be able to return a Method instance that points to the method that called it"},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1644503589,"post_id":71066451,"comment_id":125628429,"body_markdown":"@Nexevis Yes, there are many other answers, but I&#39;ve already looked through the site earlier and all answers seem to either not provide a java.lang.reflect.Method OR they require third party libraries (which I&#39;m trying to avoid)","body":"@Nexevis Yes, there are many other answers, but I&#39;ve already looked through the site earlier and all answers seem to either not provide a java.lang.reflect.Method OR they require third party libraries (which I&#39;m trying to avoid)"},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1644503890,"post_id":71066451,"comment_id":125628565,"body_markdown":"@hfontanez Simple you say? The whole question is about how your suggestion _does not work_ since if I did &quot;create [my] own private method that [creates the new Object() {}] and call [that] method&quot; then I would get a Method object that points to this &#39;private method&#39; when I want it to point _to the method that CALLS this &#39;private method&#39; instead_","body":"@hfontanez Simple you say? The whole question is about how your suggestion <i>does not work</i> since if I did &quot;create [my] own private method that [creates the new Object() {}] and call [that] method&quot; then I would get a Method object that points to this &#39;private method&#39; when I want it to point <i>to the method that CALLS this &#39;private method&#39; instead</i>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644504264,"post_id":71066451,"comment_id":125628747,"body_markdown":"@AnjuMaaka are you sure about that? Run my answer","body":"@AnjuMaaka are you sure about that? Run my answer"},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1644504528,"post_id":71066451,"comment_id":125628876,"body_markdown":"@hfontanez Already did. Received the _method Method, not the one that called it","body":"@hfontanez Already did. Received the _method Method, not the one that called it"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1644504641,"post_id":71066451,"comment_id":125628932,"body_markdown":"So your question isn&#39;t really &quot;Finding your &quot;current method&quot; in Java during runtime&quot; it is more &quot;Finding the calling method in Java during runtime&quot;?","body":"So your question isn&#39;t really &quot;Finding your &quot;current method&quot; in Java during runtime&quot; it is more &quot;Finding the calling method in Java during runtime&quot;?"},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1644504714,"post_id":71066451,"comment_id":125628971,"body_markdown":"@Nexevis That sounds fairly correct. Maybe it&#39;s more like &quot;I want a method that can identify which method it is called by&quot;","body":"@Nexevis That sounds fairly correct. Maybe it&#39;s more like &quot;I want a method that can identify which method it is called by&quot;"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1644504752,"post_id":71066451,"comment_id":125628984,"body_markdown":"@Anju Maaka I think your title is a bit confusing then, because that is pretty different than finding current method.","body":"@Anju Maaka I think your title is a bit confusing then, because that is pretty different than finding current method."},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1644504841,"post_id":71066451,"comment_id":125629029,"body_markdown":"@Nexevis Fair point. I edited it to something I hope is clearer","body":"@Nexevis Fair point. I edited it to something I hope is clearer"}],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644511403,"creation_date":1644511403,"answer_id":71068989,"question_id":71066451,"body_markdown":"This can be done using a `StackWalker` (since Java 9). It does not directly \r\nprovide a `Method` but enough information to create one. \r\nHere the basic idea, can be improved (e.g. better Exception(s)):\r\n\r\n````\r\nimport java.lang.StackWalker.Option;\r\nimport java.lang.StackWalker.StackFrame;\r\nimport java.lang.reflect.Method;\r\n\r\npublic class MethodFinder {\r\n\r\n    public static Method method() {\r\n        return StackWalker.getInstance(Option.RETAIN_CLASS_REFERENCE).walk(stream -&gt; \r\n            stream\r\n            .filter(MethodFinder::notThisClass)\r\n            .findFirst()\r\n            .map(MethodFinder::frameToMethod))\r\n            .orElseThrow();\r\n    }\r\n    \r\n    private static boolean notThisClass(StackFrame frame) {\r\n        return frame.getDeclaringClass() != MethodFinder.class;\r\n    }\r\n    \r\n    private static Method frameToMethod(StackFrame frame) {\r\n        var cl = frame.getDeclaringClass();\r\n        try {\r\n            return cl.getDeclaredMethod(frame.getMethodName(), frame.getMethodType().parameterArray());\r\n        } catch (NoSuchMethodException | SecurityException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nTo be used like `Method myself = MethodFinder.method()`.","title":"Looking for Java method capable of identifying which method it is called by","body":"<p>This can be done using a <code>StackWalker</code> (since Java 9). It does not directly\nprovide a <code>Method</code> but enough information to create one.\nHere the basic idea, can be improved (e.g. better Exception(s)):</p>\n<pre><code>import java.lang.StackWalker.Option;\nimport java.lang.StackWalker.StackFrame;\nimport java.lang.reflect.Method;\n\npublic class MethodFinder {\n\n    public static Method method() {\n        return StackWalker.getInstance(Option.RETAIN_CLASS_REFERENCE).walk(stream -&gt; \n            stream\n            .filter(MethodFinder::notThisClass)\n            .findFirst()\n            .map(MethodFinder::frameToMethod))\n            .orElseThrow();\n    }\n    \n    private static boolean notThisClass(StackFrame frame) {\n        return frame.getDeclaringClass() != MethodFinder.class;\n    }\n    \n    private static Method frameToMethod(StackFrame frame) {\n        var cl = frame.getDeclaringClass();\n        try {\n            return cl.getDeclaredMethod(frame.getMethodName(), frame.getMethodType().parameterArray());\n        } catch (NoSuchMethodException | SecurityException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n}\n</code></pre>\n<p>To be used like <code>Method myself = MethodFinder.method()</code>.</p>\n"}],"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71068989,"answer_count":1,"score":1,"last_activity_date":1644511403,"creation_date":1644501600,"question_id":71066451,"body_markdown":"I have been working on a small logging/debug library for my Java projects. I know there are many good ones already out there but I want to learn from doing one myself.\r\n\r\nOne method I want to have as part of this library is the ability to find out which method you are in at any one time, similar to *\\_\\_func__* in C++. Most of the time it&#39;d be fine to just use the StackTrace to find this, since you often don&#39;t need more than the name (and/or declaring class) of the method, but I want to have the ability to get the method as an instance of the java.lang.reflect.Method\r\n\r\nThe easiest way of doing this is by simply doing \r\n\r\n    Method currentMethod = new Object() {}.getClass().getEnclosingMethod();\r\n\r\nwhich will work just fine, but I can&#39;t figure out a way to do the same without creating that &#39;new Object() {}&#39; within the method itself. Ideally I&#39;d prefer if I could make a simple \r\n\r\n    Method currentMethod = _method();\r\n\r\n to get the same result but with my current approach it&#39;d just get me the Method-instance of _method itself.\r\n\r\nIs there any known method to achieve this? If there isn&#39;t that&#39;s fine, but it&#39;d be nice to have one.\r\n\r\n**EDIT:** A lot of suggestions I receive, such as [this][1] post, provide mostly answers that provide you with the NAME of the method. It would be possible to use that (and the Class info gained in the same way) to find the Method, but only if the class in question has only one method with that name. Methods with the same name but different arguments cannot be identified with this!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/442747/getting-the-name-of-the-currently-executing-method","title":"Looking for Java method capable of identifying which method it is called by","body":"<p>I have been working on a small logging/debug library for my Java projects. I know there are many good ones already out there but I want to learn from doing one myself.</p>\n<p>One method I want to have as part of this library is the ability to find out which method you are in at any one time, similar to <em>__func__</em> in C++. Most of the time it'd be fine to just use the StackTrace to find this, since you often don't need more than the name (and/or declaring class) of the method, but I want to have the ability to get the method as an instance of the java.lang.reflect.Method</p>\n<p>The easiest way of doing this is by simply doing</p>\n<pre><code>Method currentMethod = new Object() {}.getClass().getEnclosingMethod();\n</code></pre>\n<p>which will work just fine, but I can't figure out a way to do the same without creating that 'new Object() {}' within the method itself. Ideally I'd prefer if I could make a simple</p>\n<pre><code>Method currentMethod = _method();\n</code></pre>\n<p>to get the same result but with my current approach it'd just get me the Method-instance of _method itself.</p>\n<p>Is there any known method to achieve this? If there isn't that's fine, but it'd be nice to have one.</p>\n<p><strong>EDIT:</strong> A lot of suggestions I receive, such as <a href=\"https://stackoverflow.com/questions/442747/getting-the-name-of-the-currently-executing-method\">this</a> post, provide mostly answers that provide you with the NAME of the method. It would be possible to use that (and the Class info gained in the same way) to find the Method, but only if the class in question has only one method with that name. Methods with the same name but different arguments cannot be identified with this!</p>\n"},{"tags":["java","jsp","server"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":1,"creation_date":1644509682,"post_id":71066084,"comment_id":125631201,"body_markdown":"You could try using the JSP include directive. It is used to include a file during the translation phase. For example,   &lt;%@ include file = &quot;menu.jsp&quot; &gt;","body":"You could try using the JSP include directive. It is used to include a file during the translation phase. For example,   &lt;%@ include file = &quot;menu.jsp&quot; &gt;"},{"owner":{"account_id":61204,"reputation":4352,"user_id":182551,"accept_rate":78,"display_name":"Ondrej Rafaj"},"score":0,"creation_date":1644510790,"post_id":71066084,"comment_id":125631670,"body_markdown":"@rickz would you like to post this as a correct answer? Works a treat :))) thanks bud","body":"@rickz would you like to post this as a correct answer? Works a treat :))) thanks bud"}],"answers":[{"tags":[],"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644510893,"creation_date":1644510893,"answer_id":71068844,"question_id":71066084,"body_markdown":"\r\nYou could try using the JSP include directive. It is used to include a file during the translation phase. For example,\r\n\r\n    &lt;%@ include file = &quot;menu.jsp&quot; &gt;","title":"Using ArrayList in a sub-template on .jsp page","body":"<p>You could try using the JSP include directive. It is used to include a file during the translation phase. For example,</p>\n<pre><code>&lt;%@ include file = &quot;menu.jsp&quot; &gt;\n</code></pre>\n"}],"owner":{"account_id":61204,"reputation":4352,"user_id":182551,"accept_rate":78,"display_name":"Ondrej Rafaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71068844,"answer_count":1,"score":0,"last_activity_date":1644510893,"creation_date":1644500209,"question_id":71066084,"body_markdown":"I have a JSP home page with a menu. I want that menu to be on multiple pages so I created a `menu.jsp` template. I imported, all static source code appears but the `&lt;c:forEach /&gt;` tag is not picking it up. When I print (just put it plainly in the html) out my `${allCategories}` variable I get all the data correctly.\r\n\r\nIn a controller, I set `model.addAttribute(&quot;allCategories&quot;, categoryService.getPrimaryCategories());`\r\n\r\n`home.jsp` where the categories were before is importing `&lt;jsp:include page=&quot;menu.jsp&quot;/&gt;`\r\n\r\nin `menu.jsp` I am unable to get `&lt;c:forEach items=&quot;${allCategories}&quot; var=&quot;category&quot;&gt;` to work but when I just put `&lt;p&gt;${allCategories}&lt;/p&gt;` at the beginning of the file it shows stuff like ` [Category(id=1281, name=Bundles, image=https://images...`\r\nHow do I get the data correctly in the sub-template so it works like directly on the page?\r\n","title":"Using ArrayList in a sub-template on .jsp page","body":"<p>I have a JSP home page with a menu. I want that menu to be on multiple pages so I created a <code>menu.jsp</code> template. I imported, all static source code appears but the <code>&lt;c:forEach /&gt;</code> tag is not picking it up. When I print (just put it plainly in the html) out my <code>${allCategories}</code> variable I get all the data correctly.</p>\n<p>In a controller, I set <code>model.addAttribute(&quot;allCategories&quot;, categoryService.getPrimaryCategories());</code></p>\n<p><code>home.jsp</code> where the categories were before is importing <code>&lt;jsp:include page=&quot;menu.jsp&quot;/&gt;</code></p>\n<p>in <code>menu.jsp</code> I am unable to get <code>&lt;c:forEach items=&quot;${allCategories}&quot; var=&quot;category&quot;&gt;</code> to work but when I just put <code>&lt;p&gt;${allCategories}&lt;/p&gt;</code> at the beginning of the file it shows stuff like <code> [Category(id=1281, name=Bundles, image=https://images...</code>\nHow do I get the data correctly in the sub-template so it works like directly on the page?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1644504336,"post_id":71067146,"comment_id":125628793,"body_markdown":"`BufferedWriter` can&#39;t do any of those things by itself: it literally just writes the chars it is given. You have to decide on widths and send the appropriate terminal control sequences for colors yourself.","body":"<code>BufferedWriter</code> can&#39;t do any of those things by itself: it literally just writes the chars it is given. You have to decide on widths and send the appropriate terminal control sequences for colors yourself."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1644504485,"post_id":71067146,"comment_id":125628855,"body_markdown":"Also: use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).","body":"Also: use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>."},{"owner":{"account_id":23564598,"reputation":35,"user_id":17605512,"display_name":"userwithquestions"},"score":0,"creation_date":1644504525,"post_id":71067146,"comment_id":125628875,"body_markdown":"@AndyTurner Do you have any recommendations for which java classes can do all this?","body":"@AndyTurner Do you have any recommendations for which java classes can do all this?"}],"answers":[{"tags":[],"owner":{"account_id":13795447,"reputation":1007,"user_id":9956773,"display_name":"frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644510855,"creation_date":1644510855,"answer_id":71068832,"question_id":71067146,"body_markdown":"A CSV is just a simple plain textfile, so there is no formatting for CSV-Files.  \r\nBut there are APIs for writing Excel-Files.  \r\n[Apache POI][1] is one of them.  \r\n  \r\nBaeldung has also written about [Working with Microsoft Excel in Java][2]   \r\nBesides Apache POI he mentions a JExcel API there.\r\n\r\n\r\n  [1]: https://poi.apache.org/\r\n  [2]: https://www.baeldung.com/java-microsoft-excel","title":"Can Java BufferedWriter autosize columns before writing and write colored rows?","body":"<p>A CSV is just a simple plain textfile, so there is no formatting for CSV-Files.<br />\nBut there are APIs for writing Excel-Files.<br />\n<a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a> is one of them.</p>\n<p>Baeldung has also written about <a href=\"https://www.baeldung.com/java-microsoft-excel\" rel=\"nofollow noreferrer\">Working with Microsoft Excel in Java</a><br />\nBesides Apache POI he mentions a JExcel API there.</p>\n"}],"owner":{"account_id":23564598,"reputation":35,"user_id":17605512,"display_name":"userwithquestions"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644510855,"creation_date":1644504217,"question_id":71067146,"body_markdown":"Currently, I have a method that writes out CSV files from a list of models:\r\n```java\r\nFile file = null;\r\nWriter rw = null;\r\nBufferedWriter bw = null;\r\n\r\ntry {\r\n    file = new File(outPath + filename);\r\n    rw = new FileWriter(reportFile);\r\n    bw = new BufferedWriter(reportWriter);\r\n\r\n    bw.write(&quot;HeaderCell1,HeaderCell2&quot;);\r\n    \r\n    for (Model model : models) {\r\n    \tString line = quote(String.valueOf(modelclass.getField1())) + &quot;,&quot;;\r\n    \tline += quote(String.valueOf(modelclass.getField2())) + &quot;,&quot;;\r\n    \tline += &quot;/n&quot;;\r\n    \t\r\n    \tbw.write(line);\r\n\t}\r\n    \r\n    \r\n} catch (Exception e) {\r\n\te.printStackTrace();\r\n}\r\nfinally {\r\n\tif (bw != null) {\r\n\t\ttry {\r\n\t\t\tbw.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tLOGGER.error(&quot;Error closing buffered writer&quot;, e);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\npublic String quotes(String toQuote) {\r\n\treturn &quot;\\&quot;&quot; + outStr + &quot;\\&quot;&quot;;\r\n}\r\n```\r\n\r\nWhen this writes out, it looks like this in a CSV:\r\n```none\r\n|Header1    |Header2    |\r\n|-----------|-----------|\r\n|field1Value|field2Value|\r\n```\r\nThere is no formatting or anything or autosizing, and I was wondering if there are methods in BufferedWriter that allow you to color the cells &quot;Header1&quot; and &quot;Header2&quot; and to autosize them and center it? Or is that something outside of BufferedWriter","title":"Can Java BufferedWriter autosize columns before writing and write colored rows?","body":"<p>Currently, I have a method that writes out CSV files from a list of models:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = null;\nWriter rw = null;\nBufferedWriter bw = null;\n\ntry {\n    file = new File(outPath + filename);\n    rw = new FileWriter(reportFile);\n    bw = new BufferedWriter(reportWriter);\n\n    bw.write(&quot;HeaderCell1,HeaderCell2&quot;);\n    \n    for (Model model : models) {\n        String line = quote(String.valueOf(modelclass.getField1())) + &quot;,&quot;;\n        line += quote(String.valueOf(modelclass.getField2())) + &quot;,&quot;;\n        line += &quot;/n&quot;;\n        \n        bw.write(line);\n    }\n    \n    \n} catch (Exception e) {\n    e.printStackTrace();\n}\nfinally {\n    if (bw != null) {\n        try {\n            bw.close();\n        } catch (IOException e) {\n            LOGGER.error(&quot;Error closing buffered writer&quot;, e);\n            e.printStackTrace();\n        }\n    }\n}\n\npublic String quotes(String toQuote) {\n    return &quot;\\&quot;&quot; + outStr + &quot;\\&quot;&quot;;\n}\n</code></pre>\n<p>When this writes out, it looks like this in a CSV:</p>\n<pre class=\"lang-none prettyprint-override\"><code>|Header1    |Header2    |\n|-----------|-----------|\n|field1Value|field2Value|\n</code></pre>\n<p>There is no formatting or anything or autosizing, and I was wondering if there are methods in BufferedWriter that allow you to color the cells &quot;Header1&quot; and &quot;Header2&quot; and to autosize them and center it? Or is that something outside of BufferedWriter</p>\n"},{"tags":["java","multithreading","volatile"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1644527177,"post_id":71068196,"comment_id":125637594,"body_markdown":"Re, &quot;Thread safe if only one thread...&quot; That means the same as &quot;_NOT_ thread safe.&quot; We call a class/module/procedure/etc. &quot;thread safe&quot; if it behaves in a reasonable and well-documented way when _multiple_ threads are allowed to use it at the same time. Your `get()` operation is &quot;thread safe&quot; because if threads call it while one other thread calls `increment()` one time, then all of the `get()` callers are guaranteed either to get the value before or the value after. Your `increment()` method is not thread safe because you can&#39;t predict what will happen if more than one thread calls it.","body":"Re, &quot;Thread safe if only one thread...&quot; That means the same as &quot;<i>NOT</i> thread safe.&quot; We call a class/module/procedure/etc. &quot;thread safe&quot; if it behaves in a reasonable and well-documented way when <i>multiple</i> threads are allowed to use it at the same time. Your <code>get()</code> operation is &quot;thread safe&quot; because if threads call it while one other thread calls <code>increment()</code> one time, then all of the <code>get()</code> callers are guaranteed either to get the value before or the value after. Your <code>increment()</code> method is not thread safe because you can&#39;t predict what will happen if more than one thread calls it."}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644508683,"creation_date":1644508683,"answer_id":71068261,"question_id":71068196,"body_markdown":"Normally problems come from needing atomicity for the read-modify-write that is `value++;`. Since a single thread is doing it, it&#39;s just one thread writing value, other threads reading value.\r\n\r\nThat&#39;s what `volatile` provides (visibility from changes done by threads) and that&#39;s all what is required.\r\n\r\nOf course everyone knows that it&#39;s still not safe to design code like that. Someone adds another thread and \\*bam\\* your code is broken without you noticing anything.","title":"Is declaring a field volatile enough in case of a single writing thread?","body":"<p>Normally problems come from needing atomicity for the read-modify-write that is <code>value++;</code>. Since a single thread is doing it, it's just one thread writing value, other threads reading value.</p>\n<p>That's what <code>volatile</code> provides (visibility from changes done by threads) and that's all what is required.</p>\n<p>Of course everyone knows that it's still not safe to design code like that. Someone adds another thread and *bam* your code is broken without you noticing anything.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644510416,"creation_date":1644509723,"answer_id":71068520,"question_id":71068196,"body_markdown":"It is sufficient to have only volatile.\r\n\r\nWhat is required is that a happens-before edge needs to exist between the read and the write. Otherwise, there is a data race. And a volatile generates such happens before edges. \r\n\r\nThese happens-before edges prevent reading an older value after you read a newer value. A correctly synchronized program in Java is only allowed to have sequential consistent executions. Every sequential consistent execution is automatically coherent because coherence is a relaxation of sequential consistency. And coherence prevents reading an older value after a newer value is read.\r\n\r\n\r\n[note]\r\nIf you would have concurrent increments, with a volatile variable you will not have a data race, but you will have a race condition.","title":"Is declaring a field volatile enough in case of a single writing thread?","body":"<p>It is sufficient to have only volatile.</p>\n<p>What is required is that a happens-before edge needs to exist between the read and the write. Otherwise, there is a data race. And a volatile generates such happens before edges.</p>\n<p>These happens-before edges prevent reading an older value after you read a newer value. A correctly synchronized program in Java is only allowed to have sequential consistent executions. Every sequential consistent execution is automatically coherent because coherence is a relaxation of sequential consistency. And coherence prevents reading an older value after a newer value is read.</p>\n<p>[note]\nIf you would have concurrent increments, with a volatile variable you will not have a data race, but you will have a race condition.</p>\n"}],"owner":{"account_id":9537002,"reputation":59,"user_id":7086829,"display_name":"rgolchin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1644510416,"creation_date":1644508462,"question_id":71068196,"body_markdown":"Consider the following code:\r\n\r\n```\r\npublic class MyAtomicInteger {\r\n    private volatile int value;\r\n\r\n    public int get() {\r\n        return value;\r\n    }\r\n\r\n    public void increment() {\r\n        value++;\r\n    }\r\n\r\n}\r\n```\r\nI was asked the following question during an interview: is this code thread-safe if only one thread calls `increment()` and multiple threads can call `get()`?\r\n\r\nI understand that if we have multiple writing threads, race conditions can occur. However, when there is a single writing thread in each reading thread we will get the values in order, i.e. we won&#39;t read `0` after `1` because write of `1` happens before the first read of `1` and, consequently, all subsequent reads in the same thread. Is this reasoning correct, or I am missing something?","title":"Is declaring a field volatile enough in case of a single writing thread?","body":"<p>Consider the following code:</p>\n<pre><code>public class MyAtomicInteger {\n    private volatile int value;\n\n    public int get() {\n        return value;\n    }\n\n    public void increment() {\n        value++;\n    }\n\n}\n</code></pre>\n<p>I was asked the following question during an interview: is this code thread-safe if only one thread calls <code>increment()</code> and multiple threads can call <code>get()</code>?</p>\n<p>I understand that if we have multiple writing threads, race conditions can occur. However, when there is a single writing thread in each reading thread we will get the values in order, i.e. we won't read <code>0</code> after <code>1</code> because write of <code>1</code> happens before the first read of <code>1</code> and, consequently, all subsequent reads in the same thread. Is this reasoning correct, or I am missing something?</p>\n"},{"tags":["java","mysql","jdbc","mybatis"],"comments":[{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":2,"creation_date":1563169852,"post_id":57033814,"comment_id":100596275,"body_markdown":"This sounds like an issue between your server and your database instead of a code issue.  The exception is not even from the mybatis library its from the underlying jdbc lib.","body":"This sounds like an issue between your server and your database instead of a code issue.  The exception is not even from the mybatis library its from the underlying jdbc lib."},{"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"score":0,"creation_date":1563170511,"post_id":57033814,"comment_id":100596438,"body_markdown":"Refer to [this](https://stackoverflow.com/questions/2983248/com-mysql-jdbc-exceptions-jdbc4-communicationsexception-communications-link-fai)","body":"Refer to <a href=\"https://stackoverflow.com/questions/2983248/com-mysql-jdbc-exceptions-jdbc4-communicationsexception-communications-link-fai\">this</a>"},{"owner":{"account_id":16318181,"reputation":1,"user_id":11784660,"display_name":"suncsf"},"score":0,"creation_date":1563174988,"post_id":57033814,"comment_id":100598126,"body_markdown":"@Deadron, You are right,my database is MariaDB,but,the driver file is mysql&#39;s, driver-class-name: com.mysql.jdbc.Driver -&gt; org.mariadb.jdbc.Driver,but,I&#39;m confused, I used to use it no problem.","body":"@Deadron, You are right,my database is MariaDB,but,the driver file is mysql&#39;s, driver-class-name: com.mysql.jdbc.Driver -&gt; org.mariadb.jdbc.Driver,but,I&#39;m confused, I used to use it no problem."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1563183805,"post_id":57033814,"comment_id":100602254,"body_markdown":"Please post the full exception stacktrace. The error with a non-zero &#39;milliseconds ago&#39; usually means that the connection broke for some reason (network problem/disconnect, connection lifetime exceeded on database server or other things that break the TCP/IP connection between the JDBC driver and the server). However using the MySQL driver with MariaDB could prossibly result in problems as well because although MariaDB was forked from MySQL, they are no longer the same.","body":"Please post the full exception stacktrace. The error with a non-zero &#39;milliseconds ago&#39; usually means that the connection broke for some reason (network problem/disconnect, connection lifetime exceeded on database server or other things that break the TCP/IP connection between the JDBC driver and the server). However using the MySQL driver with MariaDB could prossibly result in problems as well because although MariaDB was forked from MySQL, they are no longer the same."}],"answers":[{"tags":[],"owner":{"account_id":18738999,"reputation":33,"user_id":13662639,"display_name":"Justin Shi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644510374,"creation_date":1644510374,"answer_id":71068709,"question_id":57033814,"body_markdown":"The database version maybe have the influence. For me, when mysql version is 5.1.14, the error is like yours. But I change the mysql verison to 8.0.17, and all the problems solved! ","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure ,about mybatis","body":"<p>The database version maybe have the influence. For me, when mysql version is 5.1.14, the error is like yours. But I change the mysql verison to 8.0.17, and all the problems solved!</p>\n"}],"owner":{"account_id":16318181,"reputation":1,"user_id":11784660,"display_name":"suncsf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644510374,"creation_date":1563169636,"question_id":57033814,"body_markdown":"I&#39;m using java&#39;s mybatis,I&#39;ve implemented interface IBaseBusinessQuery, maping file set method -&gt; T findOne(K var1).\r\n\r\nI suspect the reason for the name of the variable,so,I rewrote this method -&gt; @Override T_Permission findOne(String key);,but,the result is so.\r\n\r\nimplemented interface\r\n```\r\npublic interface IBaseBusinessQuery&lt;T, K&gt; {\r\n    T findOne(K var1);\r\n\r\n    List&lt;T&gt; findAll();\r\n}\r\n```\r\ndao layer\r\n```\r\n@Repository(&quot;permissionDao&quot;)\r\npublic interface PermissionDao extends IBaseDao&lt;T_Permission, String&gt;, IBaseBusinessQuery&lt;T_Permission,String&gt; {\r\n}\r\n```\r\n\r\ndao layer After modification\r\n```\r\n\r\n@Repository(&quot;permissionDao&quot;)\r\npublic interface PermissionDao extends IBaseDao&lt;T_Permission, String&gt;, IBaseBusinessQuery&lt;T_Permission,String&gt; {\r\n\r\n    @Override\r\n    T_Permission findOne(String key);\r\n}\r\n\r\n```\r\n\r\nmybatis mapping file\r\n```\r\n  &lt;select id=&quot;findOne&quot; resultType=&quot;T_Permission&quot;&gt;\r\n        select * from t_permission where `ps_id` = #{key}\r\n    &lt;/select&gt;\r\n```\r\n\r\ncom.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\nThe last packet successfully received from the server was 6,464 milliseconds ago.  The last packet sent successfully to the server was 22 milliseconds ago.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure ,about mybatis","body":"<p>I'm using java's mybatis,I've implemented interface IBaseBusinessQuery, maping file set method -> T findOne(K var1).</p>\n\n<p>I suspect the reason for the name of the variable,so,I rewrote this method -> @Override T_Permission findOne(String key);,but,the result is so.</p>\n\n<p>implemented interface</p>\n\n<pre><code>public interface IBaseBusinessQuery&lt;T, K&gt; {\n    T findOne(K var1);\n\n    List&lt;T&gt; findAll();\n}\n</code></pre>\n\n<p>dao layer</p>\n\n<pre><code>@Repository(\"permissionDao\")\npublic interface PermissionDao extends IBaseDao&lt;T_Permission, String&gt;, IBaseBusinessQuery&lt;T_Permission,String&gt; {\n}\n</code></pre>\n\n<p>dao layer After modification</p>\n\n<pre><code>\n@Repository(\"permissionDao\")\npublic interface PermissionDao extends IBaseDao&lt;T_Permission, String&gt;, IBaseBusinessQuery&lt;T_Permission,String&gt; {\n\n    @Override\n    T_Permission findOne(String key);\n}\n\n</code></pre>\n\n<p>mybatis mapping file</p>\n\n<pre><code>  &lt;select id=\"findOne\" resultType=\"T_Permission\"&gt;\n        select * from t_permission where `ps_id` = #{key}\n    &lt;/select&gt;\n</code></pre>\n\n<p>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\nThe last packet successfully received from the server was 6,464 milliseconds ago.  The last packet sent successfully to the server was 22 milliseconds ago.</p>\n"},{"tags":["java","opencv"],"answers":[{"tags":[],"owner":{"account_id":2640101,"reputation":6586,"user_id":2283946,"accept_rate":73,"display_name":"GPPK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422603605,"creation_date":1422603605,"answer_id":28231341,"question_id":28231066,"body_markdown":"OpenCV has region of interest functions which you may find useful. If you are using the cv::Mat then you could use something like the following.\r\n\r\n    // Take your Final Detected Image\r\n    image;\r\n    \r\n    // These values need to be your determined face rect values\r\n    cv::Rect myROI(x, y,width, height);\r\n    \r\n    // Crop the full image to that image contained by the rectangle myROI\r\n    // Note that this doesn&#39;t copy the data\r\n    cv::Mat croppedImage = image(myROI);\r\n\r\n","title":"how to crop the detected face image in opencv java","body":"<p>OpenCV has region of interest functions which you may find useful. If you are using the cv::Mat then you could use something like the following.</p>\n\n<pre><code>// Take your Final Detected Image\nimage;\n\n// These values need to be your determined face rect values\ncv::Rect myROI(x, y,width, height);\n\n// Crop the full image to that image contained by the rectangle myROI\n// Note that this doesn't copy the data\ncv::Mat croppedImage = image(myROI);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5855879,"reputation":156,"user_id":4613142,"display_name":"dhvani"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1644509651,"creation_date":1425014668,"answer_id":28758102,"question_id":28231066,"body_markdown":"    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfRect;\r\n    import org.opencv.core.Point;\r\n    import org.opencv.core.Rect;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.core.Size;\r\n    import org.opencv.highgui.Highgui;\r\n    import static org.opencv.highgui.Highgui.imwrite;\r\n    import org.opencv.imgproc.Imgproc;\r\n    import org.opencv.objdetect.CascadeClassifier;\r\n\r\n    public class FaceDetector {\r\n        private static Mat cropImage;\r\n\r\n    public static void main(String[] args)throws Exception {\r\n        int x = 0,y = 0,height = 0,width = 0;\r\n\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n            System.out.println(&quot;\\nRunning FaceDetector&quot;);\r\n\r\n    //CascadeClassifier faceDetector = new CascadeClassifier(FaceDetector.class.getResource(&quot;haarcascade_frontalface_alt.xm    l&quot;).getPath());\r\n    CascadeClassifier faceDetector = new CascadeClassifier(Snapshot.class.getResource(&quot;haarcascade_frontalface_alt.xml&quot;).getPath().substring(1));\r\n    Mat image = Highgui.imread(&quot;C:\\\\image.jpg&quot;);\r\n    \r\n    faceDetector.detectMultiScale(image, face_Detections);\r\n    System.out.println(String.format(&quot;Detected %s faces&quot;,  face_Detections.toArray().length));\r\n\r\n    Rect rect_Crop=null;\r\n    for (Rect rect : face_Detections.toArray()) {\r\n        Core.rectangle(image, new Point(rect.x, rect.y), new Point(rect.x + rect.width, rect.y + rect.height),\r\n                new Scalar(0, 255, 0));\r\n        rectCrop = new Rect(rect.x, rect.y, rect.width, rect.height);\r\n    }\r\n           \r\n     Mat image_roi = new Mat(image,rectCrop);\r\n      Highgui.imwrite(&quot;C:\\\\cropimage_912.jpg&quot;,image_roi);\r\n\r\n    }}\r\n","title":"how to crop the detected face image in opencv java","body":"<pre><code>import org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfRect;\nimport org.opencv.core.Point;\nimport org.opencv.core.Rect;\nimport org.opencv.core.Scalar;\nimport org.opencv.core.Size;\nimport org.opencv.highgui.Highgui;\nimport static org.opencv.highgui.Highgui.imwrite;\nimport org.opencv.imgproc.Imgproc;\nimport org.opencv.objdetect.CascadeClassifier;\n\npublic class FaceDetector {\n    private static Mat cropImage;\n\npublic static void main(String[] args)throws Exception {\n    int x = 0,y = 0,height = 0,width = 0;\n\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        System.out.println(&quot;\\nRunning FaceDetector&quot;);\n\n//CascadeClassifier faceDetector = new CascadeClassifier(FaceDetector.class.getResource(&quot;haarcascade_frontalface_alt.xm    l&quot;).getPath());\nCascadeClassifier faceDetector = new CascadeClassifier(Snapshot.class.getResource(&quot;haarcascade_frontalface_alt.xml&quot;).getPath().substring(1));\nMat image = Highgui.imread(&quot;C:\\\\image.jpg&quot;);\n\nfaceDetector.detectMultiScale(image, face_Detections);\nSystem.out.println(String.format(&quot;Detected %s faces&quot;,  face_Detections.toArray().length));\n\nRect rect_Crop=null;\nfor (Rect rect : face_Detections.toArray()) {\n    Core.rectangle(image, new Point(rect.x, rect.y), new Point(rect.x + rect.width, rect.y + rect.height),\n            new Scalar(0, 255, 0));\n    rectCrop = new Rect(rect.x, rect.y, rect.width, rect.height);\n}\n       \n Mat image_roi = new Mat(image,rectCrop);\n  Highgui.imwrite(&quot;C:\\\\cropimage_912.jpg&quot;,image_roi);\n\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6111789,"reputation":21,"user_id":4767932,"display_name":"Amirul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428568153,"creation_date":1428567019,"answer_id":29533170,"question_id":28231066,"body_markdown":"how to crop multiple faces? dhvani. \r\n\r\n    for (Rect rect : face_Detections.toArray()) {\r\n        Core.rectangle(\r\n            image,\r\n            new Point(rect.x, rect.y),\r\n            new Point(rect.x + rect.width, rect.y + rect.height),\r\n            new Scalar(0, 255, 0));\r\n        rectCrop = new Rect(rect.x, rect.y, rect.width, rect.height);\r\n    }\r\n\r\n    Mat image_roi = new Mat(image,rectCrop);\r\n        Highgui.imwrite(&quot;C:\\\\cropimage_912.jpg&quot;,image_roi);\r\n    }}","title":"how to crop the detected face image in opencv java","body":"<p>how to crop multiple faces? dhvani. </p>\n\n<pre><code>for (Rect rect : face_Detections.toArray()) {\n    Core.rectangle(\n        image,\n        new Point(rect.x, rect.y),\n        new Point(rect.x + rect.width, rect.y + rect.height),\n        new Scalar(0, 255, 0));\n    rectCrop = new Rect(rect.x, rect.y, rect.width, rect.height);\n}\n\nMat image_roi = new Mat(image,rectCrop);\n    Highgui.imwrite(\"C:\\\\cropimage_912.jpg\",image_roi);\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4887936,"reputation":3927,"user_id":3939807,"accept_rate":100,"display_name":"Rubaiyat Jahan Mumu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505332028,"creation_date":1505332028,"answer_id":46205709,"question_id":28231066,"body_markdown":"**Try this. This one works just fine.** \r\n\r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfRect;\r\n    import org.opencv.core.Point;\r\n    import org.opencv.core.Rect;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n    import org.opencv.imgproc.Imgproc;\r\n    import org.opencv.objdetect.CascadeClassifier;\r\n    \r\n    public class FaceDetection\r\n    {\r\n    \r\n    \tpublic static void main(String[] args)\r\n        {\r\n    \r\n            System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n     \r\n            \r\n            CascadeClassifier faceDetector = new CascadeClassifier();\r\n            \r\n     faceDetector.load(&quot;D:\\\\OpenCv\\\\opencv\\\\sources\\\\data\\\\haarcascades\\\\haarcascade_frontalface_alt.xml&quot;);\r\n            System.out.println ( &quot;Working&quot; );\r\n            // Input image\r\n            Mat image = Imgcodecs.imread(&quot;D:\\\\input.jpg&quot;);\r\n     \r\n            // Detecting faces\r\n            MatOfRect faceDetections = new MatOfRect();\r\n            faceDetector.detectMultiScale(image, faceDetections);\r\n            \r\n            // Creating a rectangular box showing faces detected\r\n            Rect rectCrop=null;\r\n            for (Rect rect : faceDetections.toArray())\r\n            {\r\n                Imgproc.rectangle(image, new Point(rect.x, rect.y),\r\n                 new Point(rect.x + rect.width, rect.y + rect.height),\r\n                                               new Scalar(0, 255, 0));\r\n                rectCrop = new Rect(rect.x, rect.y, rect.width, rect.height);\r\n            }\r\n     \r\n            // Saving the output image\r\n            String filename = &quot;Ouput.jpg&quot;;\r\n            Imgcodecs.imwrite(&quot;D:\\\\&quot;+filename, image);\r\n            \r\n            Mat markedImage = new Mat(image,rectCrop);\r\n            Imgcodecs.imwrite(&quot;D:\\\\cropimage.jpg&quot;,markedImage );\r\n        }\r\n    }\r\n\r\n","title":"how to crop the detected face image in opencv java","body":"<p><strong>Try this. This one works just fine.</strong> </p>\n\n<pre><code>import org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfRect;\nimport org.opencv.core.Point;\nimport org.opencv.core.Rect;\nimport org.opencv.core.Scalar;\nimport org.opencv.imgcodecs.Imgcodecs;\nimport org.opencv.imgproc.Imgproc;\nimport org.opencv.objdetect.CascadeClassifier;\n\npublic class FaceDetection\n{\n\n    public static void main(String[] args)\n    {\n\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n\n\n        CascadeClassifier faceDetector = new CascadeClassifier();\n\n faceDetector.load(\"D:\\\\OpenCv\\\\opencv\\\\sources\\\\data\\\\haarcascades\\\\haarcascade_frontalface_alt.xml\");\n        System.out.println ( \"Working\" );\n        // Input image\n        Mat image = Imgcodecs.imread(\"D:\\\\input.jpg\");\n\n        // Detecting faces\n        MatOfRect faceDetections = new MatOfRect();\n        faceDetector.detectMultiScale(image, faceDetections);\n\n        // Creating a rectangular box showing faces detected\n        Rect rectCrop=null;\n        for (Rect rect : faceDetections.toArray())\n        {\n            Imgproc.rectangle(image, new Point(rect.x, rect.y),\n             new Point(rect.x + rect.width, rect.y + rect.height),\n                                           new Scalar(0, 255, 0));\n            rectCrop = new Rect(rect.x, rect.y, rect.width, rect.height);\n        }\n\n        // Saving the output image\n        String filename = \"Ouput.jpg\";\n        Imgcodecs.imwrite(\"D:\\\\\"+filename, image);\n\n        Mat markedImage = new Mat(image,rectCrop);\n        Imgcodecs.imwrite(\"D:\\\\cropimage.jpg\",markedImage );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13161507,"reputation":41,"user_id":9506859,"display_name":"itsfreeandtakesminute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532619243,"creation_date":1532619243,"answer_id":51542616,"question_id":28231066,"body_markdown":"     int detectedFaces = faceDetections.toArray().length;\r\n            Rect rect_Crop=null;\r\n    \r\n            // Draw a bounding box around each face.\r\n            for (Rect rect : faceDetections.toArray()) {\r\n                Imgproc.rectangle(image, new Point(rect.x, rect.y), new Point(rect.x\r\n                        + rect.width, rect.y + rect.height), new Scalar(0, 255, 0));\r\n                rect_Crop = new Rect(rect.x, rect.y, rect.width, rect.height);\r\n    \r\n    \r\n                Mat image_roi = new Mat(image,rect_Crop);\r\n                StringBuilder sb = new StringBuilder(&quot;outputimage&quot;);\r\n                sb.append(detectedFaces).append(&quot;.jpg&quot;);\r\n                Imgcodecs.imwrite(sb.toString(),image_roi);\r\n                detectedFaces--;\r\n            }\r\n    \r\nThis is for people asking how to crop multiple faces with openCV java.\r\n\r\n","title":"how to crop the detected face image in opencv java","body":"<pre><code> int detectedFaces = faceDetections.toArray().length;\n        Rect rect_Crop=null;\n\n        // Draw a bounding box around each face.\n        for (Rect rect : faceDetections.toArray()) {\n            Imgproc.rectangle(image, new Point(rect.x, rect.y), new Point(rect.x\n                    + rect.width, rect.y + rect.height), new Scalar(0, 255, 0));\n            rect_Crop = new Rect(rect.x, rect.y, rect.width, rect.height);\n\n\n            Mat image_roi = new Mat(image,rect_Crop);\n            StringBuilder sb = new StringBuilder(\"outputimage\");\n            sb.append(detectedFaces).append(\".jpg\");\n            Imgcodecs.imwrite(sb.toString(),image_roi);\n            detectedFaces--;\n        }\n</code></pre>\n\n<p>This is for people asking how to crop multiple faces with openCV java.</p>\n"},{"tags":[],"owner":{"account_id":1761760,"reputation":745,"user_id":1608682,"accept_rate":20,"display_name":"I.Tyger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550611329,"creation_date":1550610968,"answer_id":54775033,"question_id":28231066,"body_markdown":"     Rect[] facesArray = faces.toArray();\r\n        for (int i = 0; i &lt; facesArray.length; i++) {\r\n            Rect rect = facesArray[i];\r\n            Imgproc.rectangle(frame, rect.tl(), rect.br(), new Scalar(0, 255, 0), 2);\r\n            Mat submat = frame.submat(facesArray[i]);\r\n            imwrite(&quot;./face&quot; + i + &quot;.jpg&quot;, submat);\r\n        }\r\n\r\nThis looks like the smartest way to do it .","title":"how to crop the detected face image in opencv java","body":"<pre><code> Rect[] facesArray = faces.toArray();\n    for (int i = 0; i &lt; facesArray.length; i++) {\n        Rect rect = facesArray[i];\n        Imgproc.rectangle(frame, rect.tl(), rect.br(), new Scalar(0, 255, 0), 2);\n        Mat submat = frame.submat(facesArray[i]);\n        imwrite(\"./face\" + i + \".jpg\", submat);\n    }\n</code></pre>\n\n<p>This looks like the smartest way to do it .</p>\n"}],"owner":{"account_id":5670953,"reputation":760,"user_id":4485587,"accept_rate":64,"display_name":"Asha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26813,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":28758102,"answer_count":6,"score":11,"last_activity_date":1644509651,"creation_date":1422602333,"question_id":28231066,"body_markdown":"I detected the face in the image using opencv 2.4.10 in java\r\n\r\nI put my face detection code.\r\n\r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfRect;\r\n    import org.opencv.core.Point;\r\n    import org.opencv.core.Rect;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.core.Size;\r\n    import org.opencv.highgui.Highgui;\r\n    import org.opencv.imgproc.Imgproc;\r\n    import org.opencv.objdetect.CascadeClassifier;\r\n     \r\n    public class FaceDetector {\r\n     \r\n    public static void main(String[] args)throws Exception {\r\n    \tint x,y,height,width;\r\n \r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n        System.out.println(&quot;\\nRunning FaceDetector&quot;);\r\n \r\n        //CascadeClassifier faceDetector = new CascadeClassifier(FaceDetector.class.getResource(&quot;haarcascade_frontalface_alt.xml&quot;).getPath());\r\n        CascadeClassifier faceDetector=new CascadeClassifier();\r\n        faceDetector.load(&quot;C:/opencv-2.4.10/opencv/sources/data/haarcascades/haarcascade_frontalface_alt.xml&quot;);\r\n        //System.out.println(&quot;&quot;+faceDetector);\r\n       // Mat image = Highgui .imread(FaceDetector.class.getResource(&quot;D:/shekar.jpg&quot;).getPath());\r\n        Mat image = Highgui .imread(&quot;D:/Eclipse - New Juno/New Juno Projects/detectface/man1.jpg&quot;);\r\n        MatOfRect faceDetections = new MatOfRect();\r\n        faceDetector.detectMultiScale(image, faceDetections);\r\n \r\n        System.out.println(String.format(&quot;Detected %s faces&quot;, faceDetections.toArray().length));\r\n \r\n        for (Rect rect : faceDetections.toArray()) {\r\n            Core.rectangle(image, new Point(rect.x, rect.y), new Point(rect.x + rect.width, rect.y + rect.height),\r\n                    new Scalar(0, 255, 0));\r\n        }\r\n        String filename = &quot;china.jpg&quot;;\r\n        System.out.println(String.format(&quot;Writing %s&quot;, filename));\r\n        Highgui.imwrite(filename, image);\r\n       \r\n        \r\n    }\r\n}\r\n\r\n\r\nNow i want to crop the detected face and save it as new jpg image in opencv java.\r\n\r\nCrop code is\r\n\r\n     Rect rectCrop = new Rect(x, y, width, height);\r\n     Mat image_roi = image(rectCrop);\r\n            image_roi.copyTo(cropimage);\r\n            imwrite(&quot;cropimage.jpg&quot;,image_roi);\r\n\r\nThe error is \r\n\r\nThe method image(Rect) is undefined for the type FaceDetector\r\nThe method imwrite(String, Mat) is undefined for the type FaceDetector\r\n\r\n\r\nPlease anyone help me to solve this.\r\n\r\nThanks","title":"how to crop the detected face image in opencv java","body":"<p>I detected the face in the image using opencv 2.4.10 in java</p>\n\n<p>I put my face detection code.</p>\n\n<pre><code>import org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfRect;\nimport org.opencv.core.Point;\nimport org.opencv.core.Rect;\nimport org.opencv.core.Scalar;\nimport org.opencv.core.Size;\nimport org.opencv.highgui.Highgui;\nimport org.opencv.imgproc.Imgproc;\nimport org.opencv.objdetect.CascadeClassifier;\n\npublic class FaceDetector {\n\npublic static void main(String[] args)throws Exception {\n    int x,y,height,width;\n\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n    System.out.println(\"\\nRunning FaceDetector\");\n\n    //CascadeClassifier faceDetector = new CascadeClassifier(FaceDetector.class.getResource(\"haarcascade_frontalface_alt.xml\").getPath());\n    CascadeClassifier faceDetector=new CascadeClassifier();\n    faceDetector.load(\"C:/opencv-2.4.10/opencv/sources/data/haarcascades/haarcascade_frontalface_alt.xml\");\n    //System.out.println(\"\"+faceDetector);\n   // Mat image = Highgui .imread(FaceDetector.class.getResource(\"D:/shekar.jpg\").getPath());\n    Mat image = Highgui .imread(\"D:/Eclipse - New Juno/New Juno Projects/detectface/man1.jpg\");\n    MatOfRect faceDetections = new MatOfRect();\n    faceDetector.detectMultiScale(image, faceDetections);\n\n    System.out.println(String.format(\"Detected %s faces\", faceDetections.toArray().length));\n\n    for (Rect rect : faceDetections.toArray()) {\n        Core.rectangle(image, new Point(rect.x, rect.y), new Point(rect.x + rect.width, rect.y + rect.height),\n                new Scalar(0, 255, 0));\n    }\n    String filename = \"china.jpg\";\n    System.out.println(String.format(\"Writing %s\", filename));\n    Highgui.imwrite(filename, image);\n\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Now i want to crop the detected face and save it as new jpg image in opencv java.</p>\n\n<p>Crop code is</p>\n\n<pre><code> Rect rectCrop = new Rect(x, y, width, height);\n Mat image_roi = image(rectCrop);\n        image_roi.copyTo(cropimage);\n        imwrite(\"cropimage.jpg\",image_roi);\n</code></pre>\n\n<p>The error is </p>\n\n<p>The method image(Rect) is undefined for the type FaceDetector\nThe method imwrite(String, Mat) is undefined for the type FaceDetector</p>\n\n<p>Please anyone help me to solve this.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","sonarqube","reactive-programming","cyclomatic-complexity","webflux"],"owner":{"account_id":24123221,"reputation":31,"user_id":18092013,"display_name":"David Carracedo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1644509414,"creation_date":1643731391,"question_id":70943643,"body_markdown":"I have a microservice using Spring Webflux that makes some requests to another services. The code looks like this:\r\n\r\n```@Service\r\npublic class ExampleService {\r\n\t\r\n\t@Autowired\r\n\tprivate WebClient webClient;\r\n\t\r\n\t@Value(&quot;${microservices.address-data.baseUrl}&quot;)\r\n\tprivate String exampleBaseUrl;\r\n\t\r\n\t@Value(&quot;${microservices.address-data.endpoints.get}&quot;)\r\n\tprivate String exampleGetEndpoint;\r\n\t\r\n\t@Value(&quot;${microservices.address-data.endpoints.post}&quot;)\r\n\tprivate String examplePostEndpoint;\r\n\t\r\n\t@Value(&quot;${microservices.address-data.endpoints.patch}&quot;)\r\n\tprivate String examplePatchEndpoint;\r\n\t\r\n\tpublic Flux&lt;exampleBO&gt; getexample(String customerId) {\r\n\t\treturn webClient.mutate().baseUrl(exampleBaseUrl).build().get()\r\n\t\t\t\t.uri(uriBuilder -&gt; uriBuilder.path(exampleGetEndpoint).build(customerId))\r\n\t\t\t\t.retrieve().bodyToFlux(exampleBO.class);\r\n\t\t\r\n\t}\r\n\tpublic Mono&lt;Long&gt; saveexample(String customerId, Mono&lt;exampleBO&gt; personalData) {\r\n\t\treturn webClient.mutate().baseUrl(exampleBaseUrl).build().post()\r\n\t\t\t\t.uri(uriBuilder -&gt; uriBuilder.path(examplePostEndpoint).build(customerId))\r\n\t\t\t\t.body(personalData, exampleBO.class).retrieve().bodyToMono(Long.class);\r\n\t}\r\n\tpublic Mono&lt;Long&gt; updateexample(String leadId, String addressId, Mono&lt;exampleBO&gt; example) {\r\n\t\treturn webClient.mutate().baseUrl(exampleBaseUrl).build().patch()\r\n\t\t\t\t.uri(uriBuilder -&gt; uriBuilder.path(examplePatchEndpoint).build(leadId, addressId))\r\n\t\t\t\t.body(example, exampleBO.class).retrieve().bodyToMono(Long.class);\r\n\t}\r\n}\r\n```\r\n\r\nWhen Sonar analyzes this code, the measure of Cyclomatic Complexity has a value of 6 I don&#39;t know how to reduce this values, because I haven&#39;t any block with conditionals (if/else/switch). If in this service I have many classes like this, the final complexity will be high and I can pass the Sonar analysis.","title":"How to reduce cyclomatic complexity on a reactive code?","body":"<p>I have a microservice using Spring Webflux that makes some requests to another services. The code looks like this:</p>\n<pre><code>public class ExampleService {\n    \n    @Autowired\n    private WebClient webClient;\n    \n    @Value(&quot;${microservices.address-data.baseUrl}&quot;)\n    private String exampleBaseUrl;\n    \n    @Value(&quot;${microservices.address-data.endpoints.get}&quot;)\n    private String exampleGetEndpoint;\n    \n    @Value(&quot;${microservices.address-data.endpoints.post}&quot;)\n    private String examplePostEndpoint;\n    \n    @Value(&quot;${microservices.address-data.endpoints.patch}&quot;)\n    private String examplePatchEndpoint;\n    \n    public Flux&lt;exampleBO&gt; getexample(String customerId) {\n        return webClient.mutate().baseUrl(exampleBaseUrl).build().get()\n                .uri(uriBuilder -&gt; uriBuilder.path(exampleGetEndpoint).build(customerId))\n                .retrieve().bodyToFlux(exampleBO.class);\n        \n    }\n    public Mono&lt;Long&gt; saveexample(String customerId, Mono&lt;exampleBO&gt; personalData) {\n        return webClient.mutate().baseUrl(exampleBaseUrl).build().post()\n                .uri(uriBuilder -&gt; uriBuilder.path(examplePostEndpoint).build(customerId))\n                .body(personalData, exampleBO.class).retrieve().bodyToMono(Long.class);\n    }\n    public Mono&lt;Long&gt; updateexample(String leadId, String addressId, Mono&lt;exampleBO&gt; example) {\n        return webClient.mutate().baseUrl(exampleBaseUrl).build().patch()\n                .uri(uriBuilder -&gt; uriBuilder.path(examplePatchEndpoint).build(leadId, addressId))\n                .body(example, exampleBO.class).retrieve().bodyToMono(Long.class);\n    }\n}\n</code></pre>\n<p>When Sonar analyzes this code, the measure of Cyclomatic Complexity has a value of 6 I don't know how to reduce this values, because I haven't any block with conditionals (if/else/switch). If in this service I have many classes like this, the final complexity will be high and I can pass the Sonar analysis.</p>\n"},{"tags":["java","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644509216,"creation_date":1644509216,"answer_id":71068401,"question_id":71068321,"body_markdown":"Your root element specifies two aliases for the same namespace:\r\n\r\n- `xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;`\r\n- `xmlns:anddroid=&quot;http://schemas.android.com/apk/res/android&quot;`\r\n\r\nThen in the `ListView` with an ID of `@+id/lst_view` you specify `layout_height` and `layout_width` twice, once with each alias:\r\n\r\n```xml\r\n        anddroid:layout_width=&quot;409dp&quot;\r\n        android:layout_width=&quot;396dp&quot;\r\n        anddroid:layout_height=&quot;328dp&quot;\r\n        android:layout_height=&quot;244dp&quot;\r\n```\r\n\r\nThat means you&#39;re specifying the same namespace-qualified attribute twice for each of width and height. That&#39;s not allowed.\r\n\r\nJust remove the `anddroid` typo-alias, and remove the two attributes using it.\r\n","title":"xml won&#39;t build, how other possible way","body":"<p>Your root element specifies two aliases for the same namespace:</p>\n<ul>\n<li><code>xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</code></li>\n<li><code>xmlns:anddroid=&quot;http://schemas.android.com/apk/res/android&quot;</code></li>\n</ul>\n<p>Then in the <code>ListView</code> with an ID of <code>@+id/lst_view</code> you specify <code>layout_height</code> and <code>layout_width</code> twice, once with each alias:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        anddroid:layout_width=&quot;409dp&quot;\n        android:layout_width=&quot;396dp&quot;\n        anddroid:layout_height=&quot;328dp&quot;\n        android:layout_height=&quot;244dp&quot;\n</code></pre>\n<p>That means you're specifying the same namespace-qualified attribute twice for each of width and height. That's not allowed.</p>\n<p>Just remove the <code>anddroid</code> typo-alias, and remove the two attributes using it.</p>\n"}],"owner":{"account_id":16442401,"reputation":7,"user_id":11878269,"display_name":"Moussa Gabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71068401,"answer_count":1,"score":0,"last_activity_date":1644509226,"creation_date":1644508898,"question_id":71068321,"body_markdown":"I could not build my project due to this xml code, but cannot figure out where exactly lays the problem. I first used scrollView, I did delete it, and used ListView instead. Since then could not run my project.\r\n the error I am getting is this:\r\n* &gt;ParseError at [row,col]:[118,54]\r\nMessage: http://www.w3.org/TR/1999/REC-xml-names-19990114#AttributeNSNotUnique?ListView&amp;layout_width&amp;http://schemas.android.com/apk/res/android*\r\n\r\n**here is the code**\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:anddroid=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:background=&quot;#FFFCEC&quot;&gt;\r\n\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tab_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#0BA811&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/pager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginBottom=&quot;48dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layoutDirection=&quot;rtl&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/tab_layout&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;310dp&quot;\r\n        android:layout_height=&quot;49dp&quot;\r\n        android:text=&quot;Here where your friends are!&quot;\r\n        android:textColor=&quot;#127A00&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:textStyle=&quot;italic&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.495&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.832&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView4&quot;\r\n        android:layout_width=&quot;270dp&quot;\r\n        android:layout_height=&quot;88dp&quot;\r\n        android:text=&quot;theFinder&quot;\r\n        android:textColor=&quot;#127A00&quot;\r\n        android:textSize=&quot;60sp&quot;\r\n        android:textStyle=&quot;bold|italic&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.729&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnscan&quot;\r\n        android:layout_width=&quot;408dp&quot;\r\n        android:layout_height=&quot;75dp&quot;\r\n        android:backgroundTint=&quot;#127A00&quot;\r\n        android:text=&quot;press to Scan&quot;\r\n        android:textColor=&quot;#EDFFFFFF&quot;\r\n        android:textColorHighlight=&quot;#FFFFFFFF&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.996&quot; /&gt;\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/pBar&quot;\r\n        style=&quot;@android:style/Widget.ProgressBar.Large&quot;\r\n        android:layout_width=&quot;113dp&quot;\r\n        android:layout_height=&quot;77dp&quot;\r\n        android:indeterminate=&quot;true&quot;\r\n        android:indeterminateOnly=&quot;true&quot;\r\n        android:max=&quot;100&quot;\r\n        android:progress=&quot;10&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.578&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;&quot;\r\n        android:textColor=&quot;#1E7822&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.566&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/lst_view&quot;\r\n        anddroid:layout_width=&quot;409dp&quot;\r\n        android:layout_width=&quot;396dp&quot;\r\n        anddroid:layout_height=&quot;328dp&quot;\r\n        android:layout_height=&quot;244dp&quot;\r\n        android:background=&quot;#D80E1127&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.141&quot; /&gt;``` \r\n","title":"xml won&#39;t build, how other possible way","body":"<p>I could not build my project due to this xml code, but cannot figure out where exactly lays the problem. I first used scrollView, I did delete it, and used ListView instead. Since then could not run my project.\nthe error I am getting is this:</p>\n<ul>\n<li>\n<blockquote>\n<p>ParseError at [row,col]:[118,54]\nMessage: <a href=\"http://www.w3.org/TR/1999/REC-xml-names-19990114#AttributeNSNotUnique?ListView&amp;layout_width&amp;http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">http://www.w3.org/TR/1999/REC-xml-names-19990114#AttributeNSNotUnique?ListView&amp;layout_width&amp;http://schemas.android.com/apk/res/android</a>*</p>\n</blockquote>\n</li>\n</ul>\n<p><strong>here is the code</strong></p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:anddroid=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:background=&quot;#FFFCEC&quot;&gt;\n\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/tab_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#0BA811&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/pager&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginBottom=&quot;48dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layoutDirection=&quot;rtl&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/tab_layout&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;310dp&quot;\n        android:layout_height=&quot;49dp&quot;\n        android:text=&quot;Here where your friends are!&quot;\n        android:textColor=&quot;#127A00&quot;\n        android:textSize=&quot;24sp&quot;\n        android:textStyle=&quot;italic&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.495&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.832&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView4&quot;\n        android:layout_width=&quot;270dp&quot;\n        android:layout_height=&quot;88dp&quot;\n        android:text=&quot;theFinder&quot;\n        android:textColor=&quot;#127A00&quot;\n        android:textSize=&quot;60sp&quot;\n        android:textStyle=&quot;bold|italic&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.729&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnscan&quot;\n        android:layout_width=&quot;408dp&quot;\n        android:layout_height=&quot;75dp&quot;\n        android:backgroundTint=&quot;#127A00&quot;\n        android:text=&quot;press to Scan&quot;\n        android:textColor=&quot;#EDFFFFFF&quot;\n        android:textColorHighlight=&quot;#FFFFFFFF&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.996&quot; /&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/pBar&quot;\n        style=&quot;@android:style/Widget.ProgressBar.Large&quot;\n        android:layout_width=&quot;113dp&quot;\n        android:layout_height=&quot;77dp&quot;\n        android:indeterminate=&quot;true&quot;\n        android:indeterminateOnly=&quot;true&quot;\n        android:max=&quot;100&quot;\n        android:progress=&quot;10&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.578&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;&quot;\n        android:textColor=&quot;#1E7822&quot;\n        android:textSize=&quot;16sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.566&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/lst_view&quot;\n        anddroid:layout_width=&quot;409dp&quot;\n        android:layout_width=&quot;396dp&quot;\n        anddroid:layout_height=&quot;328dp&quot;\n        android:layout_height=&quot;244dp&quot;\n        android:background=&quot;#D80E1127&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.141&quot; /&gt;``` \n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-neo4j"],"owner":{"account_id":1751488,"reputation":818,"user_id":1600472,"accept_rate":60,"display_name":"Crazy Dino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644508813,"creation_date":1644507616,"question_id":71067997,"body_markdown":"I have just started experimenting with Neo4J/Java and expect this is an easy one I&#39;m missing, and probably phrasing my queries wrong.\r\n\r\nI have some model classes as follows:\r\n\r\n```\r\n@Node\r\npublic class Garment {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @Relationship(type = &quot;DESIGNED_BY&quot;)\r\n    private Entity designer;\r\n\r\n    // Other properties getters/setters removed for readibility\r\n\r\n    public Entity getDesigner() {\r\n        return designer;\r\n    }\r\n\r\n    public void setDesigner(Entity designer) {\r\n        this.designer = designer;\r\n    }\r\n}\r\n\r\npublic abstract class Entity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    Long id;\r\n\r\n    private String name;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\n@Node\r\npublic class Person extends Entity {\r\n}\r\n\r\n@Node\r\npublic class Company extends Entity {\r\n}\r\n\r\n```\r\nAnd a corresponding repository\r\n\r\n```\r\npublic interface Garment extends Neo4jRepository&lt;Garment, Long&gt; {\r\n\r\n    Garment findByName(String name);\r\n}\r\n```\r\n\r\nI have no problem inserting, using repository.save(), this correctly adds everything; nodes, relationships. Fine. It gives Designers of type Person labels of Person, and Designers of type Company the label Company.\r\n\r\nHowever, when I do a find, e.g. findByName(), findAll(). it is not matching the designer and just saying designer is null, according to the cipher being executed/logged it looks like it&#39;s trying to build a relationship there with nodes with an Entity label, which there are none.\r\n\r\n**How can I get my repository to return Garments with designers of Person and Companys. I expect this is going to be as simple as an annotation, in order to fix.**\r\n\r\n(Note I&#39;ve tried adding a @Node on the entity type with Person and Company as labels, however it just results in every node being added as both a Person and a Company).","title":"Java Spring Neo4jRepository unable to read a property of abstract type","body":"<p>I have just started experimenting with Neo4J/Java and expect this is an easy one I'm missing, and probably phrasing my queries wrong.</p>\n<p>I have some model classes as follows:</p>\n<pre><code>@Node\npublic class Garment {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    @Relationship(type = &quot;DESIGNED_BY&quot;)\n    private Entity designer;\n\n    // Other properties getters/setters removed for readibility\n\n    public Entity getDesigner() {\n        return designer;\n    }\n\n    public void setDesigner(Entity designer) {\n        this.designer = designer;\n    }\n}\n\npublic abstract class Entity {\n\n    @Id\n    @GeneratedValue\n    Long id;\n\n    private String name;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\n@Node\npublic class Person extends Entity {\n}\n\n@Node\npublic class Company extends Entity {\n}\n\n</code></pre>\n<p>And a corresponding repository</p>\n<pre><code>public interface Garment extends Neo4jRepository&lt;Garment, Long&gt; {\n\n    Garment findByName(String name);\n}\n</code></pre>\n<p>I have no problem inserting, using repository.save(), this correctly adds everything; nodes, relationships. Fine. It gives Designers of type Person labels of Person, and Designers of type Company the label Company.</p>\n<p>However, when I do a find, e.g. findByName(), findAll(). it is not matching the designer and just saying designer is null, according to the cipher being executed/logged it looks like it's trying to build a relationship there with nodes with an Entity label, which there are none.</p>\n<p><strong>How can I get my repository to return Garments with designers of Person and Companys. I expect this is going to be as simple as an annotation, in order to fix.</strong></p>\n<p>(Note I've tried adding a @Node on the entity type with Person and Company as labels, however it just results in every node being added as both a Person and a Company).</p>\n"},{"tags":["java","spring-jms","datadog"],"answers":[{"tags":[],"owner":{"account_id":10450488,"reputation":85,"user_id":8839342,"display_name":"Toniotti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644508777,"creation_date":1644508777,"answer_id":71068296,"question_id":71021939,"body_markdown":"Datadog will not do this automaticly using @Trace.\r\nWhat i had to do is create a span by hand on the JMS annotated method and set the tag &quot;service.name&quot;.\r\n\r\n    @JmsListerner(...)\r\n    @Trace\r\n    public void receiveMessage(Message message) {\r\n        var span = GlobalTracer.get().activeSpan();\r\n\r\n        if (span != null) {\r\n            span.setTag(DDTags.SERVICE_NAME, &quot;servie-name&quot;); // this is the same as &quot;service.name&quot;\r\n        }\r\n\r\n        try {\r\n            ...\r\n        } finally {\r\n            if (span != null)  span.finish();\r\n        }\r\n        \r\n    }","title":"DataDog trace JMS","body":"<p>Datadog will not do this automaticly using @Trace.\nWhat i had to do is create a span by hand on the JMS annotated method and set the tag &quot;service.name&quot;.</p>\n<pre><code>@JmsListerner(...)\n@Trace\npublic void receiveMessage(Message message) {\n    var span = GlobalTracer.get().activeSpan();\n\n    if (span != null) {\n        span.setTag(DDTags.SERVICE_NAME, &quot;servie-name&quot;); // this is the same as &quot;service.name&quot;\n    }\n\n    try {\n        ...\n    } finally {\n        if (span != null)  span.finish();\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":10450488,"reputation":85,"user_id":8839342,"display_name":"Toniotti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644508777,"creation_date":1644251298,"question_id":71021939,"body_markdown":"I&#39;am using the &quot;dd-trace-ot&quot; version 0.93.0 lib to trace my methods using DataDog.\r\n\r\nI&#39;am using spring JMS to consume messages. What i want is to search for the service in DataDog and see the JMS message consume as a trace, but i can only see HTTP requests.\r\n\r\nI have a serice that from a HTTP request posts a message in the queue so another service can consume it. In this case, as the trace is started from the HTTP request i&#39;am able to see the entire chain, the start of the request and the message consume. But if i go the service that consume the message i can&#39;t see a trace from the JMS.\r\n\r\nAnother thing is that in the case above, in the flame graph the service that consumes has the subtitle &quot;jms&quot; and not the service name (the service names i correct in the span tags).\r\n\r\nHow can i make DataDog shows the span as a trace in the service?","title":"DataDog trace JMS","body":"<p>I'am using the &quot;dd-trace-ot&quot; version 0.93.0 lib to trace my methods using DataDog.</p>\n<p>I'am using spring JMS to consume messages. What i want is to search for the service in DataDog and see the JMS message consume as a trace, but i can only see HTTP requests.</p>\n<p>I have a serice that from a HTTP request posts a message in the queue so another service can consume it. In this case, as the trace is started from the HTTP request i'am able to see the entire chain, the start of the request and the message consume. But if i go the service that consume the message i can't see a trace from the JMS.</p>\n<p>Another thing is that in the case above, in the flame graph the service that consumes has the subtitle &quot;jms&quot; and not the service name (the service names i correct in the span tags).</p>\n<p>How can i make DataDog shows the span as a trace in the service?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16859483,"reputation":116,"user_id":12190613,"display_name":"blafoo"},"score":4,"creation_date":1644500944,"post_id":71066211,"comment_id":125627185,"body_markdown":"Your increment is wrong. Change it to `first += 5;`","body":"Your increment is wrong. Change it to <code>first += 5;</code>"},{"owner":{"account_id":24215710,"reputation":11,"user_id":18171640,"display_name":"Tara S."},"score":0,"creation_date":1644501222,"post_id":71066211,"comment_id":125627310,"body_markdown":"Thank you so much! It blows my mind how I manage to reread these things and still dont catch them!","body":"Thank you so much! It blows my mind how I manage to reread these things and still dont catch them!"}],"answers":[{"tags":[],"owner":{"account_id":22759692,"reputation":152,"user_id":16918715,"display_name":"Orijhins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644508752,"creation_date":1644501140,"answer_id":71066343,"question_id":71066211,"body_markdown":"You can use the `range` function from `IntStream`:\r\n\r\n```\r\nIntStream.range(-15, 10).filter(x -&gt; x % 5 == 0);\r\n```\r\n\r\nAs suggested by MC Emperor, there also is a faster solution:\r\n\r\n```\r\nIntStream.iterate(-15, i -&gt; i + 5).limit((10+15)/5);\r\n\r\n/**\r\n * The algorithm is as follows:\r\n * iterate(start, i -&gt; i + step).limit((stop-start)/step)\r\n */\r\n```","title":"Java help - Output range with increment of 5","body":"<p>You can use the <code>range</code> function from <code>IntStream</code>:</p>\n<pre><code>IntStream.range(-15, 10).filter(x -&gt; x % 5 == 0);\n</code></pre>\n<p>As suggested by MC Emperor, there also is a faster solution:</p>\n<pre><code>IntStream.iterate(-15, i -&gt; i + 5).limit((10+15)/5);\n\n/**\n * The algorithm is as follows:\n * iterate(start, i -&gt; i + step).limit((stop-start)/step)\n */\n</code></pre>\n"}],"owner":{"account_id":24215710,"reputation":11,"user_id":18171640,"display_name":"Tara S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1171,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1644508752,"creation_date":1644500688,"question_id":71066211,"body_markdown":"Write a program whose input is two integers, and whose output is the first integer and subsequent increments of 5 as long as the value is less than or equal to the second integer.\r\n\r\n    -15 10\r\n\r\nthe output is:\r\n\r\n    -15 -10 -5 0 5 10\r\n\r\n&gt; Ex: If the second integer is less than the first as in:\r\n\r\n    20 5\r\n\r\nthe output is:\r\n\r\n&gt; Second integer can&#39;t be less than the first. For coding simplicity,\r\n&gt; output a space after every integer, including the last.\r\n\r\nHere is the code I have gotten so far, however, it is producing an error at the bottom I have an example of the input, my output and what was expected. If anyone has any pointers or can show me updated code it would be appreciated.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n       Scanner in = new Scanner(System.in);\r\n        int first = in.nextInt(), second = in.nextInt();\r\n        if (first &gt; second) {\r\n            System.out.println(&quot;Second integer can&#39;t be less than the first.&quot;);\r\n        } else {\r\n            while (first &lt;= second) {\r\n                System.out.print(first + &quot; &quot;);\r\n                first += 10;\r\n            }\r\n            System.out.println();\r\n        }\r\n   }\r\n}\r\n\r\n```\r\n\r\nHere&#39;s what kind of error it is showing:\r\n\r\nInput\r\n\r\n    -15 10\r\n\r\nYour output\r\n\r\n    -15 -5 5 \r\n\r\nExpected output\r\n\r\n    -15 -10 -5 0 5 10 \r\n\r\n","title":"Java help - Output range with increment of 5","body":"<p>Write a program whose input is two integers, and whose output is the first integer and subsequent increments of 5 as long as the value is less than or equal to the second integer.</p>\n<pre><code>-15 10\n</code></pre>\n<p>the output is:</p>\n<pre><code>-15 -10 -5 0 5 10\n</code></pre>\n<blockquote>\n<p>Ex: If the second integer is less than the first as in:</p>\n</blockquote>\n<pre><code>20 5\n</code></pre>\n<p>the output is:</p>\n<blockquote>\n<p>Second integer can't be less than the first. For coding simplicity,\noutput a space after every integer, including the last.</p>\n</blockquote>\n<p>Here is the code I have gotten so far, however, it is producing an error at the bottom I have an example of the input, my output and what was expected. If anyone has any pointers or can show me updated code it would be appreciated.</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n   public static void main(String[] args) {\n       Scanner in = new Scanner(System.in);\n        int first = in.nextInt(), second = in.nextInt();\n        if (first &gt; second) {\n            System.out.println(&quot;Second integer can't be less than the first.&quot;);\n        } else {\n            while (first &lt;= second) {\n                System.out.print(first + &quot; &quot;);\n                first += 10;\n            }\n            System.out.println();\n        }\n   }\n}\n\n</code></pre>\n<p>Here's what kind of error it is showing:</p>\n<p>Input</p>\n<pre><code>-15 10\n</code></pre>\n<p>Your output</p>\n<pre><code>-15 -5 5 \n</code></pre>\n<p>Expected output</p>\n<pre><code>-15 -10 -5 0 5 10 \n</code></pre>\n"},{"tags":["java","maven","junit5"],"answers":[{"tags":[],"owner":{"account_id":318399,"reputation":7256,"user_id":635610,"accept_rate":95,"display_name":"MeIr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644508574,"creation_date":1644508574,"answer_id":71068228,"question_id":70977556,"body_markdown":"One solution is to introduce your own conditions using following annotations:\r\n`@EnabledIf` or `@DisabledIf`. \r\n    \r\n    @EnabledIf(&quot;EnabledIfAnnotationUtils#shouldRun&quot;)\r\n    class ApplicationTest {\r\n    \r\n        @Test\r\n        void renameMe() {\r\n            assertThat(false).isTrue();\r\n        }\r\n    }\r\n\r\nWhere `EnabledIfAnnotationUtils` - is external class (in case you have multiple tests under same condition) and `#shouldRun` - name of static method. Example:\r\n\r\n\r\n    public class EnabledIfAnnotationUtils {\r\n    \r\n    \tstatic boolean shouldRun() {\r\n    \t\tboolean override = getPropertySafely(&quot;run-long-tests&quot;).equalsIgnoreCase(&quot;true&quot;);\r\n    \t\tif(override) return true;\r\n    \r\n    \t\tString user = getEnvSafely(&quot;USER&quot;);\r\n    \t\tboolean isOnJenkins = user.toLowerCase().contains(&quot;jenkins&quot;) || user.toLowerCase().contains(&quot;tomcat&quot;);\r\n    \r\n    \t\treturn !isOnJenkins;\r\n    \t}\r\n    \r\n    \tprivate static String getPropertySafely(String name) {\r\n    \t\treturn &quot;&quot; + System.getProperty(name);\r\n    \t}\r\n    \r\n    \tprivate static String getEnvSafely(String name) {\r\n    \t\treturn &quot;&quot; + System.getenv(name);\r\n    \t}\r\n    }\r\n\r\n\r\nNow tests will NOT run on Jenkins unless override parameter passed, example:\r\n\r\n    mvn test -Drun-long-tests=true","title":"Is it possible to override @DisabledIfEnvironmentVariable in jUnit 5?","body":"<p>One solution is to introduce your own conditions using following annotations:\n<code>@EnabledIf</code> or <code>@DisabledIf</code>.</p>\n<pre><code>@EnabledIf(&quot;EnabledIfAnnotationUtils#shouldRun&quot;)\nclass ApplicationTest {\n\n    @Test\n    void renameMe() {\n        assertThat(false).isTrue();\n    }\n}\n</code></pre>\n<p>Where <code>EnabledIfAnnotationUtils</code> - is external class (in case you have multiple tests under same condition) and <code>#shouldRun</code> - name of static method. Example:</p>\n<pre><code>public class EnabledIfAnnotationUtils {\n\n    static boolean shouldRun() {\n        boolean override = getPropertySafely(&quot;run-long-tests&quot;).equalsIgnoreCase(&quot;true&quot;);\n        if(override) return true;\n\n        String user = getEnvSafely(&quot;USER&quot;);\n        boolean isOnJenkins = user.toLowerCase().contains(&quot;jenkins&quot;) || user.toLowerCase().contains(&quot;tomcat&quot;);\n\n        return !isOnJenkins;\n    }\n\n    private static String getPropertySafely(String name) {\n        return &quot;&quot; + System.getProperty(name);\n    }\n\n    private static String getEnvSafely(String name) {\n        return &quot;&quot; + System.getenv(name);\n    }\n}\n</code></pre>\n<p>Now tests will NOT run on Jenkins unless override parameter passed, example:</p>\n<pre><code>mvn test -Drun-long-tests=true\n</code></pre>\n"}],"owner":{"account_id":318399,"reputation":7256,"user_id":635610,"accept_rate":95,"display_name":"MeIr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1644508574,"creation_date":1643918470,"question_id":70977556,"body_markdown":"I have a class of jUnit 5 tests that is not allowed to run in the main pipeline (for multiple reasons). In order to disabled those tests in the pipeline but work on a developer machine I introduced `@DisabledIfEnvironmentVariable` for the test class (and it works great):\r\n\r\n    @DisabledIfEnvironmentVariable(named = &quot;USER&quot;, matches = &quot;(.*jenkins.*|.*tomcat.*)&quot;)\r\n    @SpringBootTest(classes = {BigApplication.class}, webEnvironment = RANDOM_PORT)\r\n    class LongRunningApplicationTest { ... }\r\n\r\nHow can I override `@DisabledIfEnvironmentVariable` if I want to run the test class on an occasion?\r\n\r\nI tried adding `@EnabledIfEnvironmentVariable` hoping that it will override `@DisabledIfEnvironmentVariable` annotation, therefore providing me with a convenient way to run the test in the pipeline on occasion:\r\n\r\n    @EnabledIfEnvironmentVariable(named = &quot;applicationTest&quot;, matches = &quot;true&quot;)\r\n    @DisabledIfEnvironmentVariable(named = &quot;USER&quot;, matches = &quot;(.*jenkins.*|.*tomcat.*)&quot;)\r\n    @SpringBootTest(classes = {BigApplication.class}, webEnvironment = RANDOM_PORT)\r\n    class LongRunningApplicationTest { ... }\r\n\r\nHowever the above approach doesn&#39;t work. Is there a way to override `@DisabledIf...` ?","title":"Is it possible to override @DisabledIfEnvironmentVariable in jUnit 5?","body":"<p>I have a class of jUnit 5 tests that is not allowed to run in the main pipeline (for multiple reasons). In order to disabled those tests in the pipeline but work on a developer machine I introduced <code>@DisabledIfEnvironmentVariable</code> for the test class (and it works great):</p>\n<pre><code>@DisabledIfEnvironmentVariable(named = &quot;USER&quot;, matches = &quot;(.*jenkins.*|.*tomcat.*)&quot;)\n@SpringBootTest(classes = {BigApplication.class}, webEnvironment = RANDOM_PORT)\nclass LongRunningApplicationTest { ... }\n</code></pre>\n<p>How can I override <code>@DisabledIfEnvironmentVariable</code> if I want to run the test class on an occasion?</p>\n<p>I tried adding <code>@EnabledIfEnvironmentVariable</code> hoping that it will override <code>@DisabledIfEnvironmentVariable</code> annotation, therefore providing me with a convenient way to run the test in the pipeline on occasion:</p>\n<pre><code>@EnabledIfEnvironmentVariable(named = &quot;applicationTest&quot;, matches = &quot;true&quot;)\n@DisabledIfEnvironmentVariable(named = &quot;USER&quot;, matches = &quot;(.*jenkins.*|.*tomcat.*)&quot;)\n@SpringBootTest(classes = {BigApplication.class}, webEnvironment = RANDOM_PORT)\nclass LongRunningApplicationTest { ... }\n</code></pre>\n<p>However the above approach doesn't work. Is there a way to override <code>@DisabledIf...</code> ?</p>\n"},{"tags":["java","postgresql","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":2877989,"reputation":400,"user_id":2469484,"display_name":"Srinivas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1508440188,"creation_date":1508440188,"answer_id":46837154,"question_id":46800964,"body_markdown":"The data type for the column should be **bytea**. Simple way to confirm\r\n\r\n 1. Go to http://www.quartz-scheduler.org/downloads/ \r\n 2. download your version of quartz and extract it\r\n 3. go to docs/dbTables and look for tables_postgres.sql\r\n\r\nThere you will find the data type of job_data as **bytea**\r\n\r\nNow to the second issue you are facing after modifying the data type to **bytea** check out this link to see whether it solves the problem?\r\nhttps://stackoverflow.com/questions/32936429/postgresql-quartz-jdbc-jobstoretx-gettriggersforjob-arrayindexoutofboundse\r\n","title":"Quartz, setting up postgres schema, what should JOB_DATA be?","body":"<p>The data type for the column should be <strong>bytea</strong>. Simple way to confirm</p>\n\n<ol>\n<li>Go to <a href=\"http://www.quartz-scheduler.org/downloads/\" rel=\"nofollow noreferrer\">http://www.quartz-scheduler.org/downloads/</a> </li>\n<li>download your version of quartz and extract it</li>\n<li>go to docs/dbTables and look for tables_postgres.sql</li>\n</ol>\n\n<p>There you will find the data type of job_data as <strong>bytea</strong></p>\n\n<p>Now to the second issue you are facing after modifying the data type to <strong>bytea</strong> check out this link to see whether it solves the problem?\n<a href=\"https://stackoverflow.com/questions/32936429/postgresql-quartz-jdbc-jobstoretx-gettriggersforjob-arrayindexoutofboundse\">PostgreSQL - Quartz JDBC-JobStoreTX - getTriggersForJob - ArrayIndexOutOfBoundsException</a></p>\n"},{"tags":[],"owner":{"account_id":19753052,"reputation":11,"user_id":14463985,"display_name":"Jhon L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644508260,"creation_date":1644508260,"answer_id":71068140,"question_id":46800964,"body_markdown":"For those like me who struggled to find the quartz db creation schema, you can also find in the [github repo][1] under *main/resources/org/quartz/impl/jdbcjobstore/*.\r\n\r\n\r\n  [1]: https://github.com/quartz-scheduler/quartz/tree/d42fb7770f287afbf91f6629d90e7698761ad7d8/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore","title":"Quartz, setting up postgres schema, what should JOB_DATA be?","body":"<p>For those like me who struggled to find the quartz db creation schema, you can also find in the <a href=\"https://github.com/quartz-scheduler/quartz/tree/d42fb7770f287afbf91f6629d90e7698761ad7d8/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">github repo</a> under <em>main/resources/org/quartz/impl/jdbcjobstore/</em>.</p>\n"}],"owner":{"account_id":1109019,"reputation":5318,"user_id":1099823,"accept_rate":86,"display_name":"Interlated"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7962,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46837154,"answer_count":2,"score":1,"last_activity_date":1644508260,"creation_date":1508285300,"question_id":46800964,"body_markdown":"I&#39;m using liquibase to setup the database tables for quartz as per [Bert R recipe][1]. \r\n\r\nWhat is the correct type for the JOB_DATA columns for postgres?\r\n   \r\nThe raw error is\r\n\r\n    Caused by: org.quartz.JobPersistenceException: Couldn&#39;t retrieve trigger: 2\r\n\tat org.quartz.impl.jdbcjobstore.JobStoreSupport.retrieveTrigger(JobStoreSupport.java:1538)\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: 2\r\n\tat org.postgresql.util.PGbytea.toBytes(PGbytea.java:76)\r\n\r\nThe base error is in PostgreSQlDelegate.java trying to read the JOB_DATA column from the qrtz_triggers table. This column does have just \\x in it. \r\n\r\nI have changed the above liquibase file to change the type from BLOB to BYTEA as I was getting an error \r\n\r\n    column &quot;job_data&quot; is of type oid but expression is of type bytea\r\n\r\nThe quartz properties file includes the following settings for the Job Store\r\n\r\n    # Job Store\r\n    org.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\r\n    org.quartz.jobStore.driverDelegateClass = \r\n    org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\n\r\n  [1]: https://raw.githubusercontent.com/Bert-R/quartz-repro/master/src/main/resources/db/changelog/db.changelog-master.yaml","title":"Quartz, setting up postgres schema, what should JOB_DATA be?","body":"<p>I'm using liquibase to setup the database tables for quartz as per <a href=\"https://raw.githubusercontent.com/Bert-R/quartz-repro/master/src/main/resources/db/changelog/db.changelog-master.yaml\" rel=\"nofollow noreferrer\">Bert R recipe</a>. </p>\n\n<p>What is the correct type for the JOB_DATA columns for postgres?</p>\n\n<p>The raw error is</p>\n\n<pre><code>Caused by: org.quartz.JobPersistenceException: Couldn't retrieve trigger: 2\nat org.quartz.impl.jdbcjobstore.JobStoreSupport.retrieveTrigger(JobStoreSupport.java:1538)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 2\nat org.postgresql.util.PGbytea.toBytes(PGbytea.java:76)\n</code></pre>\n\n<p>The base error is in PostgreSQlDelegate.java trying to read the JOB_DATA column from the qrtz_triggers table. This column does have just \\x in it. </p>\n\n<p>I have changed the above liquibase file to change the type from BLOB to BYTEA as I was getting an error </p>\n\n<pre><code>column \"job_data\" is of type oid but expression is of type bytea\n</code></pre>\n\n<p>The quartz properties file includes the following settings for the Job Store</p>\n\n<pre><code># Job Store\norg.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\norg.quartz.jobStore.driverDelegateClass = \norg.quartz.impl.jdbcjobstore.PostgreSQLDelegate\n</code></pre>\n"},{"tags":["java","networking","network-programming","ip-address","external"],"comments":[{"owner":{"account_id":114848,"reputation":134179,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":14,"creation_date":1275233528,"post_id":2939218,"comment_id":2994131,"body_markdown":"You are aware that a machine can have many public addresses at once? They&#39;re really associated with a network interface, not a machine.","body":"You are aware that a machine can have many public addresses at once? They&#39;re really associated with a network interface, not a machine."}],"answers":[{"tags":[],"owner":{"account_id":85644,"reputation":54700,"user_id":238639,"display_name":"bakkal"},"down_vote_count":0,"up_vote_count":186,"is_accepted":true,"score":186,"last_activity_date":1421660035,"creation_date":1275233411,"answer_id":2939223,"question_id":2939218,"body_markdown":"I am not sure if you can grab that IP from code that runs on the local machine.\r\n\r\nYou can however build code that runs on a website, say in JSP, and then use something that returns the IP of where the request came from:\r\n\r\n`request.getRemoteAddr()`\r\n\r\nOr simply use already-existing services that do this, then parse the answer from the service to find out the IP.\r\n\r\n**Use a webservice like AWS and others**\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    URL whatismyip = new URL(&quot;http://checkip.amazonaws.com&quot;);\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\twhatismyip.openStream()));\r\n    \r\n    String ip = in.readLine(); //you get the IP as a String\r\n    System.out.println(ip);\r\n\r\n","title":"Getting the &#39;external&#39; IP address in Java","body":"<p>I am not sure if you can grab that IP from code that runs on the local machine.</p>\n\n<p>You can however build code that runs on a website, say in JSP, and then use something that returns the IP of where the request came from:</p>\n\n<p><code>request.getRemoteAddr()</code></p>\n\n<p>Or simply use already-existing services that do this, then parse the answer from the service to find out the IP.</p>\n\n<p><strong>Use a webservice like AWS and others</strong></p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\n\nURL whatismyip = new URL(\"http://checkip.amazonaws.com\");\nBufferedReader in = new BufferedReader(new InputStreamReader(\n                whatismyip.openStream()));\n\nString ip = in.readLine(); //you get the IP as a String\nSystem.out.println(ip);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":79902,"reputation":15692,"user_id":226266,"accept_rate":95,"display_name":"nc3b"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1275233493,"creation_date":1275233493,"answer_id":2939226,"question_id":2939218,"body_markdown":"Make a HttpURLConnection to some site like www.whatismyip.com and parse that :-)","title":"Getting the &#39;external&#39; IP address in Java","body":"<p>Make a HttpURLConnection to some site like www.whatismyip.com and parse that :-)</p>\n"},{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1275233503,"creation_date":1275233503,"answer_id":2939227,"question_id":2939218,"body_markdown":"It&#39;s not that easy since a machine inside a LAN usually doesn&#39;t care about the external IP of its router to the internet.. it simply doesn&#39;t need it!\r\n\r\nI would suggest you to exploit this by opening a site like http://www.whatismyip.com/ and getting the IP number by parsing the html results.. it shouldn&#39;t be that hard!","title":"Getting the &#39;external&#39; IP address in Java","body":"<p>It's not that easy since a machine inside a LAN usually doesn't care about the external IP of its router to the internet.. it simply doesn't need it!</p>\n\n<p>I would suggest you to exploit this by opening a site like <a href=\"http://www.whatismyip.com/\" rel=\"nofollow noreferrer\">http://www.whatismyip.com/</a> and getting the IP number by parsing the html results.. it shouldn't be that hard!</p>\n"},{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1575623669,"creation_date":1275233604,"answer_id":2939232,"question_id":2939218,"body_markdown":"The truth is: &#39;you can&#39;t&#39; in the sense that you posed the question. NAT happens outside of the protocol. There is no way for your machine&#39;s kernel to know how your NAT box is mapping from external to internal IP addresses. Other answers here offer tricks involving methods of talking to outside web sites.","title":"Getting the &#39;external&#39; IP address in Java","body":"<p>The truth is: 'you can't' in the sense that you posed the question. NAT happens outside of the protocol. There is no way for your machine's kernel to know how your NAT box is mapping from external to internal IP addresses. Other answers here offer tricks involving methods of talking to outside web sites.</p>\n"},{"tags":[],"owner":{"account_id":210062,"reputation":41,"user_id":461467,"display_name":"user461467"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1285747320,"creation_date":1285747320,"answer_id":3819757,"question_id":2939218,"body_markdown":"http://jstun.javawi.de/ will do it - provided your gateway device does STUN )most do)","title":"Getting the &#39;external&#39; IP address in Java","body":"<p><a href=\"http://jstun.javawi.de/\" rel=\"nofollow\">http://jstun.javawi.de/</a> will do it - provided your gateway device does STUN )most do)</p>\n"},{"tags":[],"owner":{"account_id":39356,"reputation":701,"user_id":113453,"accept_rate":20,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291161846,"creation_date":1291157662,"answer_id":4319560,"question_id":2939218,"body_markdown":"If you are using JAVA based webapp and if you want to grab the client&#39;s (One who makes the request via a browser) external ip try deploying the app in a **public domain** and use request.getRemoteAddr() to read the external IP address. \r\n\r\n\r\n\r\n   ","title":"Getting the &#39;external&#39; IP address in Java","body":"<p>If you are using JAVA based webapp and if you want to grab the client's (One who makes the request via a browser) external ip try deploying the app in a <strong>public domain</strong> and use request.getRemoteAddr() to read the external IP address. </p>\n"},{"tags":[],"owner":{"account_id":1028535,"reputation":1500,"user_id":1037303,"display_name":"domih"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1343650173,"creation_date":1343650173,"answer_id":11721253,"question_id":2939218,"body_markdown":"As @Donal Fellows wrote, you have to query the network interface instead of the machine. This code from the javadocs worked for me:\r\n\r\nThe following example program lists all the network interfaces and their addresses on a machine:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.util.*;\r\n    import static java.lang.System.out;\r\n    \r\n    public class ListNets {\r\n    \r\n        public static void main(String args[]) throws SocketException {\r\n            Enumeration&lt;NetworkInterface&gt; nets = NetworkInterface.getNetworkInterfaces();\r\n            for (NetworkInterface netint : Collections.list(nets))\r\n                displayInterfaceInformation(netint);\r\n        }\r\n    \r\n        static void displayInterfaceInformation(NetworkInterface netint) throws SocketException {\r\n            out.printf(&quot;Display name: %s\\n&quot;, netint.getDisplayName());\r\n            out.printf(&quot;Name: %s\\n&quot;, netint.getName());\r\n            Enumeration&lt;InetAddress&gt; inetAddresses = netint.getInetAddresses();\r\n            for (InetAddress inetAddress : Collections.list(inetAddresses)) {\r\n                out.printf(&quot;InetAddress: %s\\n&quot;, inetAddress);\r\n            }\r\n            out.printf(&quot;\\n&quot;);\r\n         }\r\n    } \r\n\r\n \r\n\r\nThe following is sample output from the example program:\r\n\r\n    Display name: TCP Loopback interface\r\n    Name: lo\r\n    InetAddress: /127.0.0.1\r\n    \r\n    Display name: Wireless Network Connection\r\n    Name: eth0\r\n    InetAddress: /192.0.2.0\r\n\r\nFrom [docs.oracle.com][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/networking/nifs/listing.html","title":"Getting the &#39;external&#39; IP address in Java","body":"<p>As @Donal Fellows wrote, you have to query the network interface instead of the machine. This code from the javadocs worked for me:</p>\n\n<p>The following example program lists all the network interfaces and their addresses on a machine:</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\nimport static java.lang.System.out;\n\npublic class ListNets {\n\n    public static void main(String args[]) throws SocketException {\n        Enumeration&lt;NetworkInterface&gt; nets = NetworkInterface.getNetworkInterfaces();\n        for (NetworkInterface netint : Collections.list(nets))\n            displayInterfaceInformation(netint);\n    }\n\n    static void displayInterfaceInformation(NetworkInterface netint) throws SocketException {\n        out.printf(\"Display name: %s\\n\", netint.getDisplayName());\n        out.printf(\"Name: %s\\n\", netint.getName());\n        Enumeration&lt;InetAddress&gt; inetAddresses = netint.getInetAddresses();\n        for (InetAddress inetAddress : Collections.list(inetAddresses)) {\n            out.printf(\"InetAddress: %s\\n\", inetAddress);\n        }\n        out.printf(\"\\n\");\n     }\n} \n</code></pre>\n\n<p>The following is sample output from the example program:</p>\n\n<pre><code>Display name: TCP Loopback interface\nName: lo\nInetAddress: /127.0.0.1\n\nDisplay name: Wireless Network Connection\nName: eth0\nInetAddress: /192.0.2.0\n</code></pre>\n\n<p>From <a href=\"http://docs.oracle.com/javase/tutorial/networking/nifs/listing.html\" rel=\"noreferrer\">docs.oracle.com</a></p>\n"},{"tags":[],"owner":{"account_id":268386,"reputation":6188,"user_id":557117,"accept_rate":92,"display_name":"Will"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1365018634,"creation_date":1359232917,"answer_id":14541376,"question_id":2939218,"body_markdown":"One of the comments by @stivlo deserves to be an answer:\r\n\r\nYou can use the Amazon service http://checkip.amazonaws.com\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    \r\n    public class IpChecker {\r\n    \r\n    \tpublic static String getIp() throws Exception {\r\n    \t\tURL whatismyip = new URL(&quot;http://checkip.amazonaws.com&quot;);\r\n    \t\tBufferedReader in = null;\r\n    \t\ttry {\r\n    \t\t\tin = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\t\twhatismyip.openStream()));\r\n    \t\t\tString ip = in.readLine();\r\n    \t\t\treturn ip;\r\n    \t\t} finally {\r\n    \t\t\tif (in != null) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tin.close();\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"Getting the &#39;external&#39; IP address in Java","body":"<p>One of the comments by @stivlo deserves to be an answer:</p>\n\n<p>You can use the Amazon service <a href=\"http://checkip.amazonaws.com\">http://checkip.amazonaws.com</a></p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class IpChecker {\n\n    public static String getIp() throws Exception {\n        URL whatismyip = new URL(\"http://checkip.amazonaws.com\");\n        BufferedReader in = null;\n        try {\n            in = new BufferedReader(new InputStreamReader(\n                    whatismyip.openStream()));\n            String ip = in.readLine();\n            return ip;\n        } finally {\n            if (in != null) {\n                try {\n                    in.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1867193,"reputation":590,"user_id":1764416,"accept_rate":80,"display_name":"FranciscoBouza"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1644508177,"creation_date":1396633174,"answer_id":22869462,"question_id":2939218,"body_markdown":"All this are still up and working smoothly! *(as of 10 Feb 2022)*\r\n\r\n+ http://checkip.amazonaws.com/\r\n+ https://ipv4.icanhazip.com/\r\n+ http://myexternalip.com/raw\r\n+ http://ipecho.net/plain\r\n+ http://www.trackip.net/ip\r\n+ &lt;s&gt;http://bot.whatismyipaddress.com&lt;/s&gt; (10 Feb 2022)\r\n+ &lt;s&gt;http://curlmyip.com/&lt;/s&gt; (17 Dec 2016)\r\n\r\nPiece of advice: Do not direcly depend only on one of them; try to use one but have a contigency plan considering others! The more you use, the better!\r\n\r\nGood luck!","title":"Getting the &#39;external&#39; IP address in Java","body":"<p>All this are still up and working smoothly! <em>(as of 10 Feb 2022)</em></p>\n<ul>\n<li><a href=\"http://checkip.amazonaws.com/\" rel=\"nofollow noreferrer\">http://checkip.amazonaws.com/</a></li>\n<li><a href=\"https://ipv4.icanhazip.com/\" rel=\"nofollow noreferrer\">https://ipv4.icanhazip.com/</a></li>\n<li><a href=\"http://myexternalip.com/raw\" rel=\"nofollow noreferrer\">http://myexternalip.com/raw</a></li>\n<li><a href=\"http://ipecho.net/plain\" rel=\"nofollow noreferrer\">http://ipecho.net/plain</a></li>\n<li><a href=\"http://www.trackip.net/ip\" rel=\"nofollow noreferrer\">http://www.trackip.net/ip</a></li>\n<li><s>http://bot.whatismyipaddress.com</s> (10 Feb 2022)</li>\n<li><s>http://curlmyip.com/</s> (17 Dec 2016)</li>\n</ul>\n<p>Piece of advice: Do not direcly depend only on one of them; try to use one but have a contigency plan considering others! The more you use, the better!</p>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":333285,"reputation":2127,"user_id":659077,"accept_rate":0,"display_name":"Mohsen Abasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397556737,"creation_date":1397556737,"answer_id":23080731,"question_id":2939218,"body_markdown":"    System.out.println(pageCrawling.getHtmlFromURL(&quot;http://ipecho.net/plain&quot;));","title":"Getting the &#39;external&#39; IP address in Java","body":"<pre><code>System.out.println(pageCrawling.getHtmlFromURL(\"http://ipecho.net/plain\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5423112,"reputation":91,"user_id":4316218,"accept_rate":60,"display_name":"Sparkoenig"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1418397805,"creation_date":1418397805,"answer_id":27446753,"question_id":2939218,"body_markdown":"How about this? It&#39;s simple and worked the best for me :)\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n\r\n\r\n    public class IP {\r\n        public static void main(String args[]) {\r\n\t        new IP();\r\n        }\r\n    \r\n        public IP() {\r\n\t        URL ipAdress;\r\n\r\n\t        try {\r\n\t            ipAdress = new URL(&quot;http://myexternalip.com/raw&quot;);\r\n\t    \r\n\t            BufferedReader in = new BufferedReader(new InputStreamReader(ipAdress.openStream()));\r\n\r\n\t            String ip = in.readLine();\r\n\t            System.out.println(ip);\r\n\t        } catch (MalformedURLException e) {\r\n\t            e.printStackTrace();\r\n\t        } catch (IOException e) {\r\n\t            e.printStackTrace();\r\n\t        }\r\n        }\r\n    }\r\n","title":"Getting the &#39;external&#39; IP address in Java","body":"<p>How about this? It's simple and worked the best for me :)</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n\npublic class IP {\n    public static void main(String args[]) {\n        new IP();\n    }\n\n    public IP() {\n        URL ipAdress;\n\n        try {\n            ipAdress = new URL(\"http://myexternalip.com/raw\");\n\n            BufferedReader in = new BufferedReader(new InputStreamReader(ipAdress.openStream()));\n\n            String ip = in.readLine();\n            System.out.println(ip);\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118532,"reputation":51,"user_id":1792123,"display_name":"Carlos Alma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602852405,"creation_date":1602852405,"answer_id":64389474,"question_id":2939218,"body_markdown":"&lt;p&gt;\r\nAn alternative solution is to execute an external command, obviously, this solution limits the portability of the application.\r\n&lt;/p&gt;\r\n&lt;p&gt;\r\nFor example, for an application that runs on Windows, a PowerShell command can be executed through jPowershell, as shown in the following code:\r\n&lt;/P&gt;\r\n\r\n    public String getMyPublicIp() {\r\n        // PowerShell command\r\n        String command = &quot;(Invoke-WebRequest ifconfig.me/ip).Content.Trim()&quot;;\r\n        String powerShellOut = PowerShell.executeSingleCommand(command).getCommandOutput();\r\n\r\n        // Connection failed\r\n        if (powerShellOut.contains(&quot;InvalidOperation&quot;)) {\r\n            powerShellOut = null;\r\n        }\r\n        return powerShellOut;\r\n    }","title":"Getting the &#39;external&#39; IP address in Java","body":"<p>\nAn alternative solution is to execute an external command, obviously, this solution limits the portability of the application.\n</p>\n<p>\nFor example, for an application that runs on Windows, a PowerShell command can be executed through jPowershell, as shown in the following code:\n</P>\n<pre><code>public String getMyPublicIp() {\n    // PowerShell command\n    String command = &quot;(Invoke-WebRequest ifconfig.me/ip).Content.Trim()&quot;;\n    String powerShellOut = PowerShell.executeSingleCommand(command).getCommandOutput();\n\n    // Connection failed\n    if (powerShellOut.contains(&quot;InvalidOperation&quot;)) {\n        powerShellOut = null;\n    }\n    return powerShellOut;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6886654,"reputation":2078,"user_id":5291494,"display_name":"xxg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632667849,"creation_date":1632667849,"answer_id":69336057,"question_id":2939218,"body_markdown":"    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.*;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class ExternalIPUtil {\r\n    \r\n        private static final Pattern IPV4_PATTERN = Pattern.compile(&quot;^(([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.){3}([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])$&quot;);\r\n    \r\n        private static final String[] IPV4_SERVICES = {\r\n                &quot;http://checkip.amazonaws.com/&quot;,\r\n                &quot;https://ipv4.icanhazip.com/&quot;,\r\n                &quot;http://bot.whatismyipaddress.com/&quot;\r\n                // and so on ...\r\n        };\r\n    \r\n        public static String get() throws ExecutionException, InterruptedException {\r\n            List&lt;Callable&lt;String&gt;&gt; callables = new ArrayList&lt;&gt;();\r\n            for (String ipService : IPV4_SERVICES) {\r\n                callables.add(() -&gt; get(ipService));\r\n            }\r\n    \r\n            ExecutorService executorService = Executors.newCachedThreadPool();\r\n            try {\r\n                return executorService.invokeAny(callables);\r\n            } finally {\r\n                executorService.shutdown();\r\n            }\r\n        }\r\n    \r\n        private static String get(String url) throws IOException {\r\n            try (BufferedReader in = new BufferedReader(new InputStreamReader(new URL(url).openStream()))) {\r\n                String ip = in.readLine();\r\n                if (IPV4_PATTERN.matcher(ip).matches()) {\r\n                    return ip;\r\n                } else {\r\n                    throw new IOException(&quot;invalid IPv4 address: &quot; + ip);\r\n                }\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n            System.out.println(&quot;IP: &quot; + get());\r\n        }\r\n    }\r\n\r\nGet from multiple IP services concurrently such as:\r\n- http://checkip.amazonaws.com/\r\n- https://ipv4.icanhazip.com/\r\n- http://bot.whatismyipaddress.com/\r\n- and so on ...\r\n\r\nand `ExecutorService.invokeAny(tasks)` return the result of the first successfully thread. Other tasks that have not completed will be cancelled.","title":"Getting the &#39;external&#39; IP address in Java","body":"<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.*;\nimport java.util.regex.Pattern;\n\npublic class ExternalIPUtil {\n\n    private static final Pattern IPV4_PATTERN = Pattern.compile(&quot;^(([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.){3}([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])$&quot;);\n\n    private static final String[] IPV4_SERVICES = {\n            &quot;http://checkip.amazonaws.com/&quot;,\n            &quot;https://ipv4.icanhazip.com/&quot;,\n            &quot;http://bot.whatismyipaddress.com/&quot;\n            // and so on ...\n    };\n\n    public static String get() throws ExecutionException, InterruptedException {\n        List&lt;Callable&lt;String&gt;&gt; callables = new ArrayList&lt;&gt;();\n        for (String ipService : IPV4_SERVICES) {\n            callables.add(() -&gt; get(ipService));\n        }\n\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        try {\n            return executorService.invokeAny(callables);\n        } finally {\n            executorService.shutdown();\n        }\n    }\n\n    private static String get(String url) throws IOException {\n        try (BufferedReader in = new BufferedReader(new InputStreamReader(new URL(url).openStream()))) {\n            String ip = in.readLine();\n            if (IPV4_PATTERN.matcher(ip).matches()) {\n                return ip;\n            } else {\n                throw new IOException(&quot;invalid IPv4 address: &quot; + ip);\n            }\n        }\n    }\n\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        System.out.println(&quot;IP: &quot; + get());\n    }\n}\n</code></pre>\n<p>Get from multiple IP services concurrently such as:</p>\n<ul>\n<li><a href=\"http://checkip.amazonaws.com/\" rel=\"nofollow noreferrer\">http://checkip.amazonaws.com/</a></li>\n<li><a href=\"https://ipv4.icanhazip.com/\" rel=\"nofollow noreferrer\">https://ipv4.icanhazip.com/</a></li>\n<li><a href=\"http://bot.whatismyipaddress.com/\" rel=\"nofollow noreferrer\">http://bot.whatismyipaddress.com/</a></li>\n<li>and so on ...</li>\n</ul>\n<p>and <code>ExecutorService.invokeAny(tasks)</code> return the result of the first successfully thread. Other tasks that have not completed will be cancelled.</p>\n"}],"owner":{"account_id":118831,"reputation":6222,"user_id":310133,"accept_rate":67,"display_name":"Julio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131707,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":2939223,"answer_count":13,"score":91,"last_activity_date":1644508177,"creation_date":1275233237,"question_id":2939218,"body_markdown":"I&#39;m not too sure how to go about getting the external IP address of the machine as a computer outside of a network would see it.\r\n\r\nMy following IPAddress class only gets the local IP address of the machine.\r\n\r\n    public class IPAddress {\r\n    \r\n        private InetAddress thisIp;\r\n    \r\n        private String thisIpAddress;\r\n    \r\n        private void setIpAdd() {\r\n            try {\r\n                InetAddress thisIp = InetAddress.getLocalHost();\r\n                thisIpAddress = thisIp.getHostAddress().toString();\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n    \r\n        protected String getIpAddress() {\r\n            setIpAdd();\r\n            return thisIpAddress;\r\n        }\r\n    }\r\n\r\n","title":"Getting the &#39;external&#39; IP address in Java","body":"<p>I'm not too sure how to go about getting the external IP address of the machine as a computer outside of a network would see it.</p>\n\n<p>My following IPAddress class only gets the local IP address of the machine.</p>\n\n<pre><code>public class IPAddress {\n\n    private InetAddress thisIp;\n\n    private String thisIpAddress;\n\n    private void setIpAdd() {\n        try {\n            InetAddress thisIp = InetAddress.getLocalHost();\n            thisIpAddress = thisIp.getHostAddress().toString();\n        } catch (Exception e) {\n        }\n    }\n\n    protected String getIpAddress() {\n        setIpAdd();\n        return thisIpAddress;\n    }\n}\n</code></pre>\n"},{"tags":["java","angular","azure","oauth-2.0","jwt"],"comments":[{"owner":{"account_id":5564109,"reputation":1573,"user_id":4412032,"display_name":"Harshitha Veeramalla"},"score":0,"creation_date":1644233315,"post_id":70957923,"comment_id":125542067,"body_markdown":"Please refer [SO thread](https://stackoverflow.com/questions/59520785/authenticating-with-azure-directory-and-fetch-the-valid-user-roles-from-database)","body":"Please refer <a href=\"https://stackoverflow.com/questions/59520785/authenticating-with-azure-directory-and-fetch-the-valid-user-roles-from-database\">SO thread</a>"},{"owner":{"account_id":2680679,"reputation":980,"user_id":2316129,"display_name":"Mark Homer"},"score":0,"creation_date":1644236869,"post_id":70957923,"comment_id":125543393,"body_markdown":"you need to authenticate against the backend as well as the frontend","body":"you need to authenticate against the backend as well as the frontend"},{"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"score":0,"creation_date":1644371623,"post_id":70957923,"comment_id":125587785,"body_markdown":"With OAuth2 (Authorization Code Flow + PKCE), you should be getting an access token that needs to be sent to the backend. With your backend, you don&#39;t need to store the user information but can use another API to validate if the user token is valid or not, i.e., make a call to the userinfo_endpoint with the token to see if it is still valid.  like ```GET /oidc/userinfo HTTP/1.1\nHost: graph.microsoft.com\nAuthorization: Bearer &lt;access token&gt;``` -- Is this what you are looking for?","body":"With OAuth2 (Authorization Code Flow + PKCE), you should be getting an access token that needs to be sent to the backend. With your backend, you don&#39;t need to store the user information but can use another API to validate if the user token is valid or not, i.e., make a call to the userinfo_endpoint with the token to see if it is still valid.  like <code>GET &#47;oidc&#47;userinfo HTTP&#47;1.1 Host: graph.microsoft.com Authorization: Bearer &lt;access token&gt;</code> -- Is this what you are looking for?"},{"owner":{"account_id":17151936,"reputation":111,"user_id":13802851,"display_name":"Aleksandar"},"score":0,"creation_date":1644454645,"post_id":70957923,"comment_id":125614304,"body_markdown":"@NagarajTantri, thanks for the reply. My backend already validates token with azure AD, and I am aware of the /userinfo endpoint that I can ping to get more information about the user. However, I only need basic info like email, name and surname and that information is already in the access token itself. So my question is, is my only option to check database on every request to see if the user exists and create him if he doesn&#39;t. Having a database read action on every request that comes in seems slow...","body":"@NagarajTantri, thanks for the reply. My backend already validates token with azure AD, and I am aware of the /userinfo endpoint that I can ping to get more information about the user. However, I only need basic info like email, name and surname and that information is already in the access token itself. So my question is, is my only option to check database on every request to see if the user exists and create him if he doesn&#39;t. Having a database read action on every request that comes in seems slow..."},{"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"score":0,"creation_date":1644477842,"post_id":70957923,"comment_id":125618567,"body_markdown":"@Aleksandar if the question is only related to checking in a database or not, I believe, the real question to understand is: - How many requests/sec do you see for your app? - How huge is your User Database? Based on this, one can answer multiple things, like whether to use a cache of users and validate the cache rather than DB and so on.","body":"@Aleksandar if the question is only related to checking in a database or not, I believe, the real question to understand is: - How many requests/sec do you see for your app? - How huge is your User Database? Based on this, one can answer multiple things, like whether to use a cache of users and validate the cache rather than DB and so on."},{"owner":{"account_id":17151936,"reputation":111,"user_id":13802851,"display_name":"Aleksandar"},"score":0,"creation_date":1644494039,"post_id":70957923,"comment_id":125624418,"body_markdown":"@NagarajTantri like I said in the post, this app is only for learning purposes. To make things clear, I&#39;m not trying to authenticate the users with my database, I&#39;m trying to save the users to the database. My app doesn&#39;t have any info about the users initially, only after they&#39;ve been authenticated via Azure AD, get an access and ping my backend will my app will know something about the users (through the access token). I want to save the information about the user from the access token (name surname email).","body":"@NagarajTantri like I said in the post, this app is only for learning purposes. To make things clear, I&#39;m not trying to authenticate the users with my database, I&#39;m trying to save the users to the database. My app doesn&#39;t have any info about the users initially, only after they&#39;ve been authenticated via Azure AD, get an access and ping my backend will my app will know something about the users (through the access token). I want to save the information about the user from the access token (name surname email)."},{"owner":{"account_id":17151936,"reputation":111,"user_id":13802851,"display_name":"Aleksandar"},"score":0,"creation_date":1644498665,"post_id":70957923,"comment_id":125626236,"body_markdown":"@NagarajTantri Continued: The only mechanism I am aware of to accomplish this is query my user table with the information from the access token for every HTTP request that comes in (through a web filter) but I think it is bad for performance. Is there a different way to do this that won&#39;t require me to query the database with the information from the access token for every HTTP request that comes in. How else will I know if a given authenticated user is known (saved to the database) or a new user (first time that he accessed the app)","body":"@NagarajTantri Continued: The only mechanism I am aware of to accomplish this is query my user table with the information from the access token for every HTTP request that comes in (through a web filter) but I think it is bad for performance. Is there a different way to do this that won&#39;t require me to query the database with the information from the access token for every HTTP request that comes in. How else will I know if a given authenticated user is known (saved to the database) or a new user (first time that he accessed the app)"},{"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"score":1,"creation_date":1644506145,"post_id":70957923,"comment_id":125629687,"body_markdown":"@Aleksandar That is where you use a Cache. What you can do is, implement a custom web filter that can listen for incoming HTTP Requests, check the valid access token, get the user details and check your cache if the user exists. If not, then create an entry into the DB and then save it into the cache. You can implement a simple `CacheService` and invoke that in the custom web filter to check if the user is available (like https://stackoverflow.com/a/27091020/308565). This cache can be prefilled from the Database table of users on start of the app.","body":"@Aleksandar That is where you use a Cache. What you can do is, implement a custom web filter that can listen for incoming HTTP Requests, check the valid access token, get the user details and check your cache if the user exists. If not, then create an entry into the DB and then save it into the cache. You can implement a simple <code>CacheService</code> and invoke that in the custom web filter to check if the user is available (like <a href=\"https://stackoverflow.com/a/27091020/308565\">stackoverflow.com/a/27091020/308565</a>). This cache can be prefilled from the Database table of users on start of the app."},{"owner":{"account_id":17151936,"reputation":111,"user_id":13802851,"display_name":"Aleksandar"},"score":1,"creation_date":1644506519,"post_id":70957923,"comment_id":125629873,"body_markdown":"@NagarajTantri I think this will definitely solve my problem (and it&#39;s a good solution to learn). Would you mind posting this as an answer so that I can accept it?","body":"@NagarajTantri I think this will definitely solve my problem (and it&#39;s a good solution to learn). Would you mind posting this as an answer so that I can accept it?"},{"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"score":0,"creation_date":1644508045,"post_id":70957923,"comment_id":125630488,"body_markdown":"@Aleksandar, definitely. Please check the answer","body":"@Aleksandar, definitely. Please check the answer"}],"answers":[{"tags":[],"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644508020,"creation_date":1644508020,"answer_id":71068091,"question_id":70957923,"body_markdown":"Post the discussion with clarity on the requirements. If you want to use have the following:\r\n\r\n - Accept an Azure AD logged in user to consumer your web service\r\n - You would want to check if the user exists in your application database with minimal network latency.\r\n\r\nWith the requirement of not always hitting your Database, one option is to use a cache. \r\n\r\n**The ideal solution** for this cache to work is:\r\n\r\n - Ensure the cache is checked for every HTTP Request using Web Filter\r\n - Make sure the cache is always updated with the latest users being logged in via Azure AD\r\n\r\nExample:\r\n\r\nImplement a `CacheService.java`\r\n\r\n    package com.example.springboot;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    import org.apache.catalina.User;\r\n    import org.springframework.cache.CacheManager;\r\n    import org.springframework.cache.annotation.Cacheable;\r\n    import org.springframework.cache.concurrent.ConcurrentMapCache;\r\n    import org.springframework.cache.support.SimpleCacheManager;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class CacheService {\r\n    \r\n      @Bean\r\n      public CacheManager cacheManager() {\r\n        SimpleCacheManager cacheManager = new SimpleCacheManager();\r\n        cacheManager.setCaches(Collections.singletonList(new ConcurrentMapCache(&quot;users&quot;)));\r\n        return cacheManager;\r\n      }\r\n    \r\n    \r\n      @Cacheable(cacheNames = &quot;users&quot;)\r\n      public User getUser(String username) {\r\n        // Code below will not execute after the first calling for the given username. \r\n        // So if one username is already cached, it would not invoke for the same user again from the DB.\r\n    \r\n        // Get or Create a new user based on the Database call\r\n        return null;\r\n      }\r\n    }\r\n\r\nThen implement a web filter like:\r\n\r\n    package com.example.springboot;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.GenericFilterBean;\r\n    \r\n    @Component\r\n    public class CredentialsInjectionFilter extends GenericFilterBean {\r\n    \r\n      @Autowired\r\n      private CacheService cacheService;\r\n    \r\n      @Override\r\n      public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse,\r\n          FilterChain filterChain) throws IOException, ServletException {\r\n    \r\n        cacheService.getUser(&quot;my_username&quot;);\r\n    \r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n      }\r\n    }\r\n\r\nMore on Caching with Springboot: https://www.javadevjournal.com/spring/spring-caching/\r\n","title":"Save authenticated users to database coming from Azure AD","body":"<p>Post the discussion with clarity on the requirements. If you want to use have the following:</p>\n<ul>\n<li>Accept an Azure AD logged in user to consumer your web service</li>\n<li>You would want to check if the user exists in your application database with minimal network latency.</li>\n</ul>\n<p>With the requirement of not always hitting your Database, one option is to use a cache.</p>\n<p><strong>The ideal solution</strong> for this cache to work is:</p>\n<ul>\n<li>Ensure the cache is checked for every HTTP Request using Web Filter</li>\n<li>Make sure the cache is always updated with the latest users being logged in via Azure AD</li>\n</ul>\n<p>Example:</p>\n<p>Implement a <code>CacheService.java</code></p>\n<pre><code>package com.example.springboot;\n\nimport java.util.Collections;\n\nimport org.apache.catalina.User;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.cache.concurrent.ConcurrentMapCache;\nimport org.springframework.cache.support.SimpleCacheManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CacheService {\n\n  @Bean\n  public CacheManager cacheManager() {\n    SimpleCacheManager cacheManager = new SimpleCacheManager();\n    cacheManager.setCaches(Collections.singletonList(new ConcurrentMapCache(&quot;users&quot;)));\n    return cacheManager;\n  }\n\n\n  @Cacheable(cacheNames = &quot;users&quot;)\n  public User getUser(String username) {\n    // Code below will not execute after the first calling for the given username. \n    // So if one username is already cached, it would not invoke for the same user again from the DB.\n\n    // Get or Create a new user based on the Database call\n    return null;\n  }\n}\n</code></pre>\n<p>Then implement a web filter like:</p>\n<pre><code>package com.example.springboot;\n\nimport java.io.IOException;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.GenericFilterBean;\n\n@Component\npublic class CredentialsInjectionFilter extends GenericFilterBean {\n\n  @Autowired\n  private CacheService cacheService;\n\n  @Override\n  public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse,\n      FilterChain filterChain) throws IOException, ServletException {\n\n    cacheService.getUser(&quot;my_username&quot;);\n\n    filterChain.doFilter(servletRequest, servletResponse);\n  }\n}\n</code></pre>\n<p>More on Caching with Springboot: <a href=\"https://www.javadevjournal.com/spring/spring-caching/\" rel=\"nofollow noreferrer\">https://www.javadevjournal.com/spring/spring-caching/</a></p>\n"}],"owner":{"account_id":17151936,"reputation":111,"user_id":13802851,"display_name":"Aleksandar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":71068091,"answer_count":1,"score":6,"last_activity_date":1644508020,"creation_date":1643814176,"question_id":70957923,"body_markdown":"I am working on a simple web app for learning purposes using Angular for the frontend and Java Spring for the backend. I don&#39;t have a particular problem that I want you guys to help me out with, instead I have a question about OAuth2 authentication. \r\n\r\nI have registered my Angular SPA in Azure AD (Authorization Code Flow + PKCE), I set up roles and everything is working okay. My question is what do I do when authenticated users ping my backend? My backend has no information about the users. \r\n\r\nI thought of a solution to make a web filter, and every time an authenticated user pings any endpoint requiring the user to be authenticated, to check the database if the user exists (through the username), and save him if he does not exist. I&#39;m pretty sure this will work, but I don&#39;t think this is the best solution, considering my web filter will have to read from the databases for every single HTTP request that comes in, and write to the database occasionally (if the user logs in for the first time).\r\n\r\nI shouldn&#39;t be worried about performance issues because I&#39;m building this strictly for learning purposes, but nevertheless I want to do this the right way. I tried googling this in multiple ways, but I guess I&#39;m not using the right keywords to find what I&#39;m looking for. Any opinion or advice would be much appreciated! Thanks!\r\n\r\nEDIT: I followed this article to achieve the OAuth2 + OIDC authentication and authorization, my security config in the backend is the same: https://ordina-jworks.github.io/security/2020/08/18/Securing-Applications-Azure-AD.html","title":"Save authenticated users to database coming from Azure AD","body":"<p>I am working on a simple web app for learning purposes using Angular for the frontend and Java Spring for the backend. I don't have a particular problem that I want you guys to help me out with, instead I have a question about OAuth2 authentication.</p>\n<p>I have registered my Angular SPA in Azure AD (Authorization Code Flow + PKCE), I set up roles and everything is working okay. My question is what do I do when authenticated users ping my backend? My backend has no information about the users.</p>\n<p>I thought of a solution to make a web filter, and every time an authenticated user pings any endpoint requiring the user to be authenticated, to check the database if the user exists (through the username), and save him if he does not exist. I'm pretty sure this will work, but I don't think this is the best solution, considering my web filter will have to read from the databases for every single HTTP request that comes in, and write to the database occasionally (if the user logs in for the first time).</p>\n<p>I shouldn't be worried about performance issues because I'm building this strictly for learning purposes, but nevertheless I want to do this the right way. I tried googling this in multiple ways, but I guess I'm not using the right keywords to find what I'm looking for. Any opinion or advice would be much appreciated! Thanks!</p>\n<p>EDIT: I followed this article to achieve the OAuth2 + OIDC authentication and authorization, my security config in the backend is the same: <a href=\"https://ordina-jworks.github.io/security/2020/08/18/Securing-Applications-Azure-AD.html\" rel=\"noreferrer\">https://ordina-jworks.github.io/security/2020/08/18/Securing-Applications-Azure-AD.html</a></p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":13496762,"reputation":356,"user_id":9737384,"display_name":"Muhammad Junaid Khalid"},"score":0,"creation_date":1644506529,"post_id":71067689,"comment_id":125629879,"body_markdown":"use setText() Function for this purpose","body":"use setText() Function for this purpose"}],"answers":[{"tags":[],"owner":{"account_id":19193743,"reputation":264,"user_id":14022951,"display_name":"A Sarshar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644507711,"creation_date":1644507711,"answer_id":71068025,"question_id":71067689,"body_markdown":"        Button btnFirst = findViewById(R.id.btnFirst);\r\n        //change height\r\n        btnFirst.setLayoutParams(new LinearLayout.LayoutParams(5, 5));\r\n        //change text\r\n        btnFirst.setText(&quot;your text&quot;);","title":"sending variables from java to xml in android stodio","body":"<pre><code>    Button btnFirst = findViewById(R.id.btnFirst);\n    //change height\n    btnFirst.setLayoutParams(new LinearLayout.LayoutParams(5, 5));\n    //change text\n    btnFirst.setText(&quot;your text&quot;);\n</code></pre>\n"}],"owner":{"account_id":24216735,"reputation":1,"user_id":18172511,"display_name":"× ×¤×ª×œ×™ ×§×¨×¡× ×™×§×¨"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644507711,"creation_date":1644506339,"question_id":71067689,"body_markdown":"I want to make Column graph, that each Column is in fact int variable from my java.\r\nI made all the buttons and Ijust have to put somehow the variables in the buttons&#39;s layout_height.\r\n\r\nso anyone know how to do it?\r\n","title":"sending variables from java to xml in android stodio","body":"<p>I want to make Column graph, that each Column is in fact int variable from my java.\nI made all the buttons and Ijust have to put somehow the variables in the buttons's layout_height.</p>\n<p>so anyone know how to do it?</p>\n"},{"tags":["java","jax-rs","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":5926985,"reputation":767,"user_id":4662593,"display_name":"MichaÅ‚ Szynkiewicz"},"score":0,"creation_date":1648106155,"post_id":71066187,"comment_id":126541131,"body_markdown":"is limit parameter a collection or a single value in your method declaration?","body":"is limit parameter a collection or a single value in your method declaration?"},{"owner":{"account_id":9528689,"reputation":25,"user_id":7084386,"display_name":"mrtopgun"},"score":0,"creation_date":1648125731,"post_id":71066187,"comment_id":126548187,"body_markdown":"limit parameter is a single value","body":"limit parameter is a single value"},{"owner":{"account_id":5926985,"reputation":767,"user_id":4662593,"display_name":"MichaÅ‚ Szynkiewicz"},"score":1,"creation_date":1648636936,"post_id":71066187,"comment_id":126673353,"body_markdown":"based on your question I added an issue to Quarkus: https://github.com/quarkusio/quarkus/issues/24631 If you have a simple reproducer you coudl attach to the issue it would help a lot in resolving it quickly","body":"based on your question I added an issue to Quarkus: <a href=\"https://github.com/quarkusio/quarkus/issues/24631\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/24631</a> If you have a simple reproducer you coudl attach to the issue it would help a lot in resolving it quickly"}],"owner":{"account_id":9528689,"reputation":25,"user_id":7084386,"display_name":"mrtopgun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644507555,"creation_date":1644500617,"question_id":71066187,"body_markdown":"I have a service that accepts requests with the following query parameters:\r\n```\r\nlimit=1\r\nparam[117]=3345\r\n```\r\nparameters `param[117]` are `List&lt;String&gt;`, and parameter limit is a `string`\r\n\r\nThe service expects to receive these parameters in the following form:\r\n\r\n`.../sevice-name?param[117][]=2233&amp;param[117][]=3344&amp;param[117][]=5566&amp;limit=1`\r\n\r\nfor this I enable the setting on the client in the quarkus options\r\n\r\n```\r\nquarkus.rest-client.&quot;sevice-name&quot;.query-param-style=ARRAY_PAIRS\r\n```\r\nand get a query string like this `limit[]=1`but expected `limit=1`:\r\n\r\n`.../sevice-name?param[117][]=2233&amp;param[117][]=3344&amp;param[117][]=5566&amp;limit[]=1`\r\n\r\nhow can *quarkus-rest-client-reactive-jackson* be configured to get the expected behavior?\r\n\r\n\r\n","title":"Different query parameter styles for multivalued parameters and regular ones","body":"<p>I have a service that accepts requests with the following query parameters:</p>\n<pre><code>limit=1\nparam[117]=3345\n</code></pre>\n<p>parameters <code>param[117]</code> are <code>List&lt;String&gt;</code>, and parameter limit is a <code>string</code></p>\n<p>The service expects to receive these parameters in the following form:</p>\n<p><code>.../sevice-name?param[117][]=2233&amp;param[117][]=3344&amp;param[117][]=5566&amp;limit=1</code></p>\n<p>for this I enable the setting on the client in the quarkus options</p>\n<pre><code>quarkus.rest-client.&quot;sevice-name&quot;.query-param-style=ARRAY_PAIRS\n</code></pre>\n<p>and get a query string like this <code>limit[]=1</code>but expected <code>limit=1</code>:</p>\n<p><code>.../sevice-name?param[117][]=2233&amp;param[117][]=3344&amp;param[117][]=5566&amp;limit[]=1</code></p>\n<p>how can <em>quarkus-rest-client-reactive-jackson</em> be configured to get the expected behavior?</p>\n"},{"tags":["java","grpc"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":1,"creation_date":1644472023,"post_id":71059894,"comment_id":125617245,"body_markdown":"are you doing unit or integration test? [InProcessServerBuilder maybe helps](https://github.com/grpc/grpc-java/blob/master/examples/src/test/java/io/grpc/examples/helloworld/HelloWorldServerTest.java)","body":"are you doing unit or integration test? <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/test/java/io/grpc/examples/helloworld/HelloWorldServerTest.java\" rel=\"nofollow noreferrer\">InProcessServerBuilder maybe helps</a>"},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1644473400,"post_id":71059894,"comment_id":125617504,"body_markdown":"yup that&#39;s what I needed. you want to write a full answer or shall I?","body":"yup that&#39;s what I needed. you want to write a full answer or shall I?"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1644473439,"post_id":71059894,"comment_id":125617508,"body_markdown":"i think you&#39;re the right one to write it. i&#39;m just seaching something.","body":"i think you&#39;re the right one to write it. i&#39;m just seaching something."}],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644507420,"creation_date":1644507420,"answer_id":71067949,"question_id":71059894,"body_markdown":"The InProcess transport is what you want. It is a full-fledged transport, but uses method calls and some tricks to avoid message serialization. It is ideally suited to testing, but is also production-worthy. When used with `directExecutor()`, tests can be deterministic. InProcess transport is used in the examples. See [HelloWorldServerTest](https://github.com/grpc/grpc-java/blob/master/examples/src/test/java/io/grpc/examples/helloworld/HelloWorldServerTest.java) for one usage.\r\n\r\n```java\r\nprivate static Server server;\r\nprivate static Channel channel;\r\n\r\n@BeforeAll\r\n@SneakyThrows\r\nstatic void setupServer() {\r\n    // This code, except for the server.start(),\r\n    // could be moved to the declarations above.\r\n    server = InProcessServerBuilder.forName(&quot;test-name&quot;)\r\n            .directExecutor()\r\n            .addService(new MySystemImpl())\r\n            .build()\r\n            .start();\r\n    channel = InProcessChannelBuilder.forName(&quot;test-name&quot;)\r\n            .directExecutor()\r\n            .build();\r\n}\r\n\r\n@AfterAll\r\n@SneakyThrows\r\nstatic void teardownServer() {\r\n    server.shutdownNow();\r\n    channel.shutdownNow();\r\n\r\n    // Useful if you are worried about test\r\n    // code continuing to run after the test is\r\n    // considered complete. For a static usage,\r\n    // probably not necessary.\r\n    server.awaitTermination(1, SECONDS);\r\n    channel.awaitTermination(1, SECONDS);\r\n}\r\n```","title":"Does GRPC have a Channel that can be used for testing?","body":"<p>The InProcess transport is what you want. It is a full-fledged transport, but uses method calls and some tricks to avoid message serialization. It is ideally suited to testing, but is also production-worthy. When used with <code>directExecutor()</code>, tests can be deterministic. InProcess transport is used in the examples. See <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/test/java/io/grpc/examples/helloworld/HelloWorldServerTest.java\" rel=\"nofollow noreferrer\">HelloWorldServerTest</a> for one usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Server server;\nprivate static Channel channel;\n\n@BeforeAll\n@SneakyThrows\nstatic void setupServer() {\n    // This code, except for the server.start(),\n    // could be moved to the declarations above.\n    server = InProcessServerBuilder.forName(&quot;test-name&quot;)\n            .directExecutor()\n            .addService(new MySystemImpl())\n            .build()\n            .start();\n    channel = InProcessChannelBuilder.forName(&quot;test-name&quot;)\n            .directExecutor()\n            .build();\n}\n\n@AfterAll\n@SneakyThrows\nstatic void teardownServer() {\n    server.shutdownNow();\n    channel.shutdownNow();\n\n    // Useful if you are worried about test\n    // code continuing to run after the test is\n    // considered complete. For a static usage,\n    // probably not necessary.\n    server.awaitTermination(1, SECONDS);\n    channel.awaitTermination(1, SECONDS);\n}\n</code></pre>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71067949,"answer_count":1,"score":1,"last_activity_date":1644507420,"creation_date":1644467906,"question_id":71059894,"body_markdown":"I&#39;d like to create a simple test but with RPC within the same JVM.\r\n\r\nWhat I was thinking was something like\r\n\r\n```java\r\n@Test\r\nvoid foo() {\r\n    Channel channel = new SomeMagicalObject(new MySystemImpl());\r\n    SystemStub stub =  SystemGrpc.newStub(channel);\r\n\r\n    var ret = stub.doSomething(...)\r\n    assertThat(ret).isTrue();\r\n}\r\n```\r\n\r\nI was wondering if there&#39;s something already built that implements `Channel` that takes in a GRPC server implementation.  That way I avoid having to run Netty and manage ports etc. Like this...\r\n\r\n\r\n    private static Server server;\r\n    private static Channel channel;\r\n\r\n    @BeforeAll\r\n    @SneakyThrows\r\n    static void setupServer() {\r\n        server = ServerBuilder.forPort(0)\r\n                .addService(new MySystemImpl())\r\n                .build()\r\n                .start();\r\n        channel = ManagedChannelBuilder.forAddress(&quot;localhost&quot;, server.getPort())\r\n                .usePlaintext()\r\n                .build();\r\n\r\n    }\r\n\r\n    @AfterAll\r\n    @SneakyThrows\r\n    static void teardownServer() {\r\n        server\r\n                .shutdown()\r\n                .awaitTermination();\r\n    }\r\n","title":"Does GRPC have a Channel that can be used for testing?","body":"<p>I'd like to create a simple test but with RPC within the same JVM.</p>\n<p>What I was thinking was something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid foo() {\n    Channel channel = new SomeMagicalObject(new MySystemImpl());\n    SystemStub stub =  SystemGrpc.newStub(channel);\n\n    var ret = stub.doSomething(...)\n    assertThat(ret).isTrue();\n}\n</code></pre>\n<p>I was wondering if there's something already built that implements <code>Channel</code> that takes in a GRPC server implementation.  That way I avoid having to run Netty and manage ports etc. Like this...</p>\n<pre><code>private static Server server;\nprivate static Channel channel;\n\n@BeforeAll\n@SneakyThrows\nstatic void setupServer() {\n    server = ServerBuilder.forPort(0)\n            .addService(new MySystemImpl())\n            .build()\n            .start();\n    channel = ManagedChannelBuilder.forAddress(&quot;localhost&quot;, server.getPort())\n            .usePlaintext()\n            .build();\n\n}\n\n@AfterAll\n@SneakyThrows\nstatic void teardownServer() {\n    server\n            .shutdown()\n            .awaitTermination();\n}\n</code></pre>\n"},{"tags":["java","queue","throughput"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1644502761,"post_id":71066528,"comment_id":125628054,"body_markdown":"Suppose _everyone_ is 1,000 users, and they all send a request at nearly the same time. The majority of those users are going to be frustrated.  If possible, send the request to an asynchronous queue, and have a single listener process those requests.  The queue depth needs to be large enough to handle a back log of waiting requests.  The listener can do the throttling through a semaphore or some other throttling method.","body":"Suppose <i>everyone</i> is 1,000 users, and they all send a request at nearly the same time. The majority of those users are going to be frustrated.  If possible, send the request to an asynchronous queue, and have a single listener process those requests.  The queue depth needs to be large enough to handle a back log of waiting requests.  The listener can do the throttling through a semaphore or some other throttling method."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644505886,"post_id":71066528,"comment_id":125629553,"body_markdown":"Don&#39;t you have an API Gateway for that? If not, I guess if you handle each request in a thread, you can use an Executor to control the total number of available threads, and each thread only works once per second (like thread sleep). An example for Executor: https://www.baeldung.com/java-executor-service-tutorial.","body":"Don&#39;t you have an API Gateway for that? If not, I guess if you handle each request in a thread, you can use an Executor to control the total number of available threads, and each thread only works once per second (like thread sleep). An example for Executor: <a href=\"https://www.baeldung.com/java-executor-service-tutorial\" rel=\"nofollow noreferrer\">baeldung.com/java-executor-service-tutorial</a>."}],"answers":[{"tags":[],"owner":{"account_id":181490,"reputation":706,"user_id":415522,"display_name":"hidralisk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644507325,"creation_date":1644506660,"answer_id":71067764,"question_id":71066528,"body_markdown":"If I am not mistaken, what you are looking for is throttling or rate limiting.\r\n\r\nAs Andrew S pointed out, you will need a Queue, to hold the extra requests and a sender algorithm.\r\n\r\nThe main point is that because you are not sending the data right away, the callers need to be aware that the data is not necessarily sent when their call returns. Usually senders will not be happy, if their call returns, they assume data is sent, and then the data is lost. There are many reasons why data can be lost in this scenario. As Andrew S pointed out, making senders aware that it will be an asynchronous send queue, maybe with confirmations upon successful send, will be a safer or proper approach.\r\n\r\nYou will need to decide on the size of the queue, you have to limit the size or you can run out of memory. And you need to decide what happens with the request when queue is full. Also what happens when the end point is not accessible (server down, network issues, solar flares), keep accepting data to queue or reject / throw exception.\r\n\r\nHint : if you have 50 requests limit, don&#39;t blast 50 requests and then sleep for 1 second. Figure out the interval between sends, send one request, make a short interval sleep.\r\n\r\nPro hint : if new data sent invalidates the data that was previously requested to be sent, but not sent yet, you can optimize the data sent by removing the invalidated data from the queue. This is called Conflation. Usual example is stock market prices. Say you got price of ACME 100 ten seconds ago and for whatever reason that data was not sent. If you get a new price for ACME 101 now, it is usually not useful to send the 100 price record, just send the 101 price.","title":"Control throughput per second","body":"<p>If I am not mistaken, what you are looking for is throttling or rate limiting.</p>\n<p>As Andrew S pointed out, you will need a Queue, to hold the extra requests and a sender algorithm.</p>\n<p>The main point is that because you are not sending the data right away, the callers need to be aware that the data is not necessarily sent when their call returns. Usually senders will not be happy, if their call returns, they assume data is sent, and then the data is lost. There are many reasons why data can be lost in this scenario. As Andrew S pointed out, making senders aware that it will be an asynchronous send queue, maybe with confirmations upon successful send, will be a safer or proper approach.</p>\n<p>You will need to decide on the size of the queue, you have to limit the size or you can run out of memory. And you need to decide what happens with the request when queue is full. Also what happens when the end point is not accessible (server down, network issues, solar flares), keep accepting data to queue or reject / throw exception.</p>\n<p>Hint : if you have 50 requests limit, don't blast 50 requests and then sleep for 1 second. Figure out the interval between sends, send one request, make a short interval sleep.</p>\n<p>Pro hint : if new data sent invalidates the data that was previously requested to be sent, but not sent yet, you can optimize the data sent by removing the invalidated data from the queue. This is called Conflation. Usual example is stock market prices. Say you got price of ACME 100 ten seconds ago and for whatever reason that data was not sent. If you get a new price for ACME 101 now, it is usually not useful to send the 100 price record, just send the 101 price.</p>\n"}],"owner":{"account_id":12197139,"reputation":31,"user_id":8902405,"display_name":"Ronaldo Sabin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644507325,"creation_date":1644501885,"question_id":71066528,"body_markdown":"I have a class witch is responsible for sending data to a client and all others classes use this when they need to send data. Let&#39;s call it &#39;DataSender.class&#39;.\r\n\r\nNow the client is asking us to control the throughput to a maximum of 50 calls per second.\r\n\r\nI need to create an algoritm on this class (if possible) to keep the number of calls in the current second and if it reaches the maximum of 50, hold the process either with a sleep or something and continue without losing data.\r\nMaybe I have to implement a queue or something better than a simple sleep. I need sugestions or a direction to follow.\r\n\r\nFor the sake of simplicity, just imagine that everyone is using something like this and I cannot change how they call me now. post() return is syncronous but that maybe I can possibly change (not sure yet):\r\n\r\n```\r\nDataSender ds = new DataSender();\r\nds.setdata(mydata);\r\nif (ds.post()) {\r\n   //data send succesfull\r\n}\r\n```","title":"Control throughput per second","body":"<p>I have a class witch is responsible for sending data to a client and all others classes use this when they need to send data. Let's call it 'DataSender.class'.</p>\n<p>Now the client is asking us to control the throughput to a maximum of 50 calls per second.</p>\n<p>I need to create an algoritm on this class (if possible) to keep the number of calls in the current second and if it reaches the maximum of 50, hold the process either with a sleep or something and continue without losing data.\nMaybe I have to implement a queue or something better than a simple sleep. I need sugestions or a direction to follow.</p>\n<p>For the sake of simplicity, just imagine that everyone is using something like this and I cannot change how they call me now. post() return is syncronous but that maybe I can possibly change (not sure yet):</p>\n<pre><code>DataSender ds = new DataSender();\nds.setdata(mydata);\nif (ds.post()) {\n   //data send succesfull\n}\n</code></pre>\n"},{"tags":["java","tomcat","jdbc","tomcat8"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1617714606,"post_id":66964558,"comment_id":118376863,"body_markdown":"Before you roll back the tag edit again: Please explain what this question has to do with [tag:apache]. [Tag Info](https://stackoverflow.com/tags/apache/info)","body":"Before you roll back the tag edit again: Please explain what this question has to do with <a href=\"https://stackoverflow.com/questions/tagged/apache\">apache</a>. <a href=\"https://stackoverflow.com/tags/apache/info\">Tag Info</a>"},{"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"score":0,"creation_date":1617714681,"post_id":66964558,"comment_id":118376890,"body_markdown":"@OlafKock: why you are trying to remove &quot;apache&quot; tag from my question.. this issue is specific to Apache as you can see I have mentioned the class - org.apache.tomcat.jdbc.pool.DataSourceFactory... please leave it be...","body":"@OlafKock: why you are trying to remove &quot;apache&quot; tag from my question.. this issue is specific to Apache as you can see I have mentioned the class - org.apache.tomcat.jdbc.pool.DataSourceFactory... please leave it be..."},{"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"score":0,"creation_date":1617714714,"post_id":66964558,"comment_id":118376906,"body_markdown":"@OlafKock please check my above comment","body":"@OlafKock please check my above comment"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1617714772,"post_id":66964558,"comment_id":118376938,"body_markdown":"well, read the &quot;Tag Info&quot; that I&#39;ve linked above, please.","body":"well, read the &quot;Tag Info&quot; that I&#39;ve linked above, please."},{"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"score":0,"creation_date":1617714930,"post_id":66964558,"comment_id":118377013,"body_markdown":"@OlafKock: ok understood, won&#39;t rollback.. but still I feel if we had this then my question would have got better visibility.. going by with a rule book in hand doesn&#39;t always help..","body":"@OlafKock: ok understood, won&#39;t rollback.. but still I feel if we had this then my question would have got better visibility.. going by with a rule book in hand doesn&#39;t always help.."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1617715099,"post_id":66964558,"comment_id":118377105,"body_markdown":"With the tag, your question would have better visibility _among people who care about the Apache httpd server_, but not at all about your topic. With the same reason you could also tag it &quot;PHP&quot;: Better visibility, but simply irrelevant. Feel free to find other relevant topics that might be prefixed with &quot;apache&quot; though. There are plenty","body":"With the tag, your question would have better visibility <i>among people who care about the Apache httpd server</i>, but not at all about your topic. With the same reason you could also tag it &quot;PHP&quot;: Better visibility, but simply irrelevant. Feel free to find other relevant topics that might be prefixed with &quot;apache&quot; though. There are plenty"},{"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"score":1,"creation_date":1617715707,"post_id":66964558,"comment_id":118377424,"body_markdown":"@OlafKock: can&#39;t argue on the logic... added Tomcat because this is specific to Tomcat server as well..","body":"@OlafKock: can&#39;t argue on the logic... added Tomcat because this is specific to Tomcat server as well.."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1617716428,"post_id":66964558,"comment_id":118377845,"body_markdown":"good choice. Without answering: Have you tried doubling or quadrupling `maxAge` and check if it indeed has an effect on your long running operations? I&#39;d have expected the value to be relevant for handing out connections from the pool as well, but I&#39;m not aware if there&#39;s a background clean-up job going on, for example. You might also want to add which _exact_ version of Tomcat you&#39;re working on (there are also tags for it, but the complete version number is welcome)","body":"good choice. Without answering: Have you tried doubling or quadrupling <code>maxAge</code> and check if it indeed has an effect on your long running operations? I&#39;d have expected the value to be relevant for handing out connections from the pool as well, but I&#39;m not aware if there&#39;s a background clean-up job going on, for example. You might also want to add which <i>exact</i> version of Tomcat you&#39;re working on (there are also tags for it, but the complete version number is welcome)"},{"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"score":0,"creation_date":1617717458,"post_id":66964558,"comment_id":118378385,"body_markdown":"@OlafKock: till now I have tried to reproduce in the local environment by reducing `maxAge` to 1 minutes and I can see ~1 minute I start getting database connection closed exception.. so I am inclined to believe that `maxAge` has impact on active database connection, but it is hard to believe because nowhere in the official docs this is mentioned, so want experts to look into it and comment.. let me check which Tomcat version we are using..","body":"@OlafKock: till now I have tried to reproduce in the local environment by reducing <code>maxAge</code> to 1 minutes and I can see ~1 minute I start getting database connection closed exception.. so I am inclined to believe that <code>maxAge</code> has impact on active database connection, but it is hard to believe because nowhere in the official docs this is mentioned, so want experts to look into it and comment.. let me check which Tomcat version we are using.."}],"answers":[{"tags":[],"owner":{"account_id":6902864,"reputation":53,"user_id":5651832,"display_name":"Chintan Barad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644507311,"creation_date":1644506950,"answer_id":71067832,"question_id":66964558,"body_markdown":"According to [this][1] it will not close your connection that&#39;s already in use. It rather checks for the age before returning it to the pool - after you released the connection. And closes if max age has elapsed.\r\nWe went from no-max-age to 10 minutes and didn&#39;t see the issue you&#39;re reporting.\r\n\r\nFrom the documentation, \r\n\r\n&gt; When a connection is returned to the pool, the pool will check to see\r\n&gt; if the now - time-when-connected &gt; maxAge has been reached, and if so,\r\n&gt; it closes the connection rather than returning it to the pool.\r\n\r\n  [1]: http://people.apache.org/~fhanik/jdbc-pool/jdbc-pool.html","title":"Can &quot;maxAge&quot; of &quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot; impact active database connection","body":"<p>According to <a href=\"http://people.apache.org/%7Efhanik/jdbc-pool/jdbc-pool.html\" rel=\"nofollow noreferrer\">this</a> it will not close your connection that's already in use. It rather checks for the age before returning it to the pool - after you released the connection. And closes if max age has elapsed.\nWe went from no-max-age to 10 minutes and didn't see the issue you're reporting.</p>\n<p>From the documentation,</p>\n<blockquote>\n<p>When a connection is returned to the pool, the pool will check to see\nif the now - time-when-connected &gt; maxAge has been reached, and if so,\nit closes the connection rather than returning it to the pool.</p>\n</blockquote>\n"}],"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1644507311,"creation_date":1617694867,"question_id":66964558,"body_markdown":"This is what is our PROD scenario:\r\n\r\n - We are using `org.apache.tomcat.jdbc.pool.DataSourceFactory` and having maxAge of `900000` and `maxActive` of `100`.\r\n - We have long database operation and it is failing because of database connection closed exception. \r\n - When I checked the logs then I found that this exception is occurring after ~15 minutes.\r\n\r\nSo, this makes me wonder if this is because of `maxAge` of `900000`. I read the docs of Apache and other blogs but no where I could find a clear answer whether `maxAge` will impact an active database connection or not.\r\n\r\nFrom the docs only thing I am 100% sure of is that `maxAge` is checked when moving a database connection in or out of the pool, but I not sure on what happens once database connection is in use...\r\n\r\nHas anyone having similar experience with this or knows if `maxAge` impacts an active connection or not? \r\n\r\n\r\n----------\r\nUPDATE 1:\r\n\r\nI am using Tomcat 8.5","title":"Can &quot;maxAge&quot; of &quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot; impact active database connection","body":"<p>This is what is our PROD scenario:</p>\n<ul>\n<li>We are using <code>org.apache.tomcat.jdbc.pool.DataSourceFactory</code> and having maxAge of <code>900000</code> and <code>maxActive</code> of <code>100</code>.</li>\n<li>We have long database operation and it is failing because of database connection closed exception.</li>\n<li>When I checked the logs then I found that this exception is occurring after ~15 minutes.</li>\n</ul>\n<p>So, this makes me wonder if this is because of <code>maxAge</code> of <code>900000</code>. I read the docs of Apache and other blogs but no where I could find a clear answer whether <code>maxAge</code> will impact an active database connection or not.</p>\n<p>From the docs only thing I am 100% sure of is that <code>maxAge</code> is checked when moving a database connection in or out of the pool, but I not sure on what happens once database connection is in use...</p>\n<p>Has anyone having similar experience with this or knows if <code>maxAge</code> impacts an active connection or not?</p>\n<hr />\n<p>UPDATE 1:</p>\n<p>I am using Tomcat 8.5</p>\n"},{"tags":["java","cucumber","gherkin"],"comments":[{"owner":{"account_id":1305189,"reputation":506,"user_id":1254299,"display_name":"Szabo Peter"},"score":0,"creation_date":1473926712,"post_id":39495582,"comment_id":66328514,"body_markdown":"Why would you insist on the wording &quot;with the properties&quot; when you are not setting any properties? You could just use &quot;When a &#39;notify&#39; message is sent to the green box&quot; when you don&#39;t need the data table, and reserve the existing step for the cases when you do have a data table.","body":"Why would you insist on the wording &quot;with the properties&quot; when you are not setting any properties? You could just use &quot;When a &#39;notify&#39; message is sent to the green box&quot; when you don&#39;t need the data table, and reserve the existing step for the cases when you do have a data table."},{"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"score":0,"creation_date":1474354172,"post_id":39495582,"comment_id":66484221,"body_markdown":"@SzaboPeter, I create a PR for resolve this problem: https://github.com/cucumber/cucumber-jvm/pull/1056 you can post a smal message on github and vote +1.","body":"@SzaboPeter, I create a PR for resolve this problem: <a href=\"https://github.com/cucumber/cucumber-jvm/pull/1056\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/pull/1056</a> you can post a smal message on github and vote +1."},{"owner":{"account_id":5847772,"reputation":8057,"user_id":5361412,"accept_rate":83,"display_name":"Kellen Stuart"},"score":0,"creation_date":1649109896,"post_id":39495582,"comment_id":126788696,"body_markdown":"You spelled parameter wrong","body":"You spelled parameter wrong"}],"answers":[{"tags":[],"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1473881475,"creation_date":1473881475,"answer_id":39498267,"question_id":39495582,"body_markdown":"Cucumber step definitions do not support optional parameters.\r\n\r\nEither you write two different step definitions or you can give an empty datatable for the second case.\r\n\r\n    When a &#39;notify&#39; message is sent to the green box with the properties.\r\n     |type|message|\r\n\r\nor even\r\n\r\n    When a &#39;notify&#39; message is sent to the green box with the properties.\r\n         |||","title":"how use optional parameters in cucumber","body":"<p>Cucumber step definitions do not support optional parameters.</p>\n\n<p>Either you write two different step definitions or you can give an empty datatable for the second case.</p>\n\n<pre><code>When a 'notify' message is sent to the green box with the properties.\n |type|message|\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>When a 'notify' message is sent to the green box with the properties.\n     |||\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1535383083,"creation_date":1474314229,"answer_id":39580900,"question_id":39495582,"body_markdown":"I create a PR for resolve this problem: [https://github.com/cucumber/cucumber-jvm/pull/1056][1]\r\n\r\n**Gherkin script test:**\r\n\r\n    @hello \r\n    Feature: hello (Function to validate the environment.) \r\n    \r\n        Scenario Outline: Function to validate the environment.\r\n            Given me a hello, please. Best Regards &#39;&lt;author&gt;&#39;.\r\n            Given me a hello, please. Best Regards &#39;&lt;author&gt;&#39;.\r\n                |key|expected|actual|\r\n            Given me a hello, please. Best Regards &#39;&lt;author&gt;&#39;.\r\n                |key|expected|actual|\r\n                |zip|35000|&lt;zip&gt;|\r\n                |city|Rennes|&lt;city&gt;|\r\n    \r\n            Given me a bye, please. Best Regards &#39;&lt;author&gt;&#39;.\r\n            Given me a bye, please. Best Regards &#39;&lt;author&gt;&#39;.\r\n                |zip|&lt;zip&gt;|\r\n                |city|&lt;city&gt;|\r\n    \r\n            Given me a cat, please. Best Regards &#39;&lt;author&gt;&#39;.\r\n    \r\n        Examples:\r\n        #Begin Examples#\r\n        |author|zip|city|\r\n        |Jenkins Q1|35000|Rennes|\r\n        |Jenkins Q2|35000|Rennes|\r\n        #End Examples#\r\n\r\n**Java Cucumber code:**\r\n\r\n        @Given(&quot;^me a hello, please. Best Regards &#39;(.*)&#39;.$&quot;)\r\n        public void hello(String name, List&lt;GherkinCondition&gt; conditions) {\r\n            int i = 0;\r\n            for (GherkinCondition gherkinCondition : conditions) {\r\n                i++;\r\n                logger.info(String.format(&quot;  expected contition N&#176;%d=%s&quot;, i, gherkinCondition.getExpected()));\r\n                logger.info(String.format(&quot;  actual   contition N&#176;%d=%s&quot;, i, gherkinCondition.getActual()));\r\n            }\r\n            logger.info(&quot;Hello &quot; + name + &quot;!&quot;);\r\n        }\r\n    \r\n        @Given(&quot;^me a cat, please. Best Regards &#39;(.*)&#39;.$&quot;)\r\n        public void hello(String name) {\r\n            logger.info(&quot;Take my cat &quot; + name + &quot;!&quot;);\r\n        }\r\n    \r\n        @Given(&quot;^me a bye, please. Best Regards &#39;(.*)&#39;.$&quot;)\r\n        public void bye(String name, Map&lt;String, String&gt; params) {\r\n            int i = 0;\r\n            for (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {\r\n                i++;\r\n                logger.info(String.format(&quot;  Key N&#176;%d: %s   Value:%s&quot;, i, entry.getKey(), entry.getValue()));\r\n            }\r\n            logger.info(&quot;Bye &quot; + name + &quot;!&quot;);\r\n        }\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/pull/1056\r\n","title":"how use optional parameters in cucumber","body":"<p>I create a PR for resolve this problem: <a href=\"https://github.com/cucumber/cucumber-jvm/pull/1056\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/pull/1056</a></p>\n\n<p><strong>Gherkin script test:</strong></p>\n\n<pre><code>@hello \nFeature: hello (Function to validate the environment.) \n\n    Scenario Outline: Function to validate the environment.\n        Given me a hello, please. Best Regards '&lt;author&gt;'.\n        Given me a hello, please. Best Regards '&lt;author&gt;'.\n            |key|expected|actual|\n        Given me a hello, please. Best Regards '&lt;author&gt;'.\n            |key|expected|actual|\n            |zip|35000|&lt;zip&gt;|\n            |city|Rennes|&lt;city&gt;|\n\n        Given me a bye, please. Best Regards '&lt;author&gt;'.\n        Given me a bye, please. Best Regards '&lt;author&gt;'.\n            |zip|&lt;zip&gt;|\n            |city|&lt;city&gt;|\n\n        Given me a cat, please. Best Regards '&lt;author&gt;'.\n\n    Examples:\n    #Begin Examples#\n    |author|zip|city|\n    |Jenkins Q1|35000|Rennes|\n    |Jenkins Q2|35000|Rennes|\n    #End Examples#\n</code></pre>\n\n<p><strong>Java Cucumber code:</strong></p>\n\n<pre><code>    @Given(\"^me a hello, please. Best Regards '(.*)'.$\")\n    public void hello(String name, List&lt;GherkinCondition&gt; conditions) {\n        int i = 0;\n        for (GherkinCondition gherkinCondition : conditions) {\n            i++;\n            logger.info(String.format(\"  expected contition NÂ°%d=%s\", i, gherkinCondition.getExpected()));\n            logger.info(String.format(\"  actual   contition NÂ°%d=%s\", i, gherkinCondition.getActual()));\n        }\n        logger.info(\"Hello \" + name + \"!\");\n    }\n\n    @Given(\"^me a cat, please. Best Regards '(.*)'.$\")\n    public void hello(String name) {\n        logger.info(\"Take my cat \" + name + \"!\");\n    }\n\n    @Given(\"^me a bye, please. Best Regards '(.*)'.$\")\n    public void bye(String name, Map&lt;String, String&gt; params) {\n        int i = 0;\n        for (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {\n            i++;\n            logger.info(String.format(\"  Key NÂ°%d: %s   Value:%s\", i, entry.getKey(), entry.getValue()));\n        }\n        logger.info(\"Bye \" + name + \"!\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2927589,"reputation":3,"user_id":2508594,"display_name":"Kripal Singh Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502994685,"creation_date":1502994114,"answer_id":45742463,"question_id":39495582,"body_markdown":"This works for me. I can pass either IND or USA. Note: this would not work if you don&#39;t pass any IND,USA. \r\n\r\n    @When(&quot;^I search (.*) (IND|USA)? in Database$&quot;)\r\n    public void searchInDatabase(String name, String country){\r\n \t    if(country.equals(&quot;IND&quot;))\r\n\t\t    dbObj.searchDatabase(name, true);\r\n\t    else if(country.equals(&quot;USA&quot;))\r\n\t\t    dbObj.searchDatabase(name, false);\r\n\t    else\r\n\t\t    dbObj.searchDatabase(name, true); \r\n    }\r\n","title":"how use optional parameters in cucumber","body":"<p>This works for me. I can pass either IND or USA. Note: this would not work if you don't pass any IND,USA. </p>\n\n<pre><code>@When(\"^I search (.*) (IND|USA)? in Database$\")\npublic void searchInDatabase(String name, String country){\n    if(country.equals(\"IND\"))\n        dbObj.searchDatabase(name, true);\n    else if(country.equals(\"USA\"))\n        dbObj.searchDatabase(name, false);\n    else\n        dbObj.searchDatabase(name, true); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2927589,"reputation":3,"user_id":2508594,"display_name":"Kripal Singh Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503612395,"creation_date":1503612395,"answer_id":45871648,"question_id":39495582,"body_markdown":"I got the ans of my problem:-\r\n\r\n @When(&quot;^I search (.*) in( IND| USA)? Database$&quot;)\r\n\r\nI was looking for optional parameter either USA or IND. above line fix my problem. spaces are needed after ( and |","title":"how use optional parameters in cucumber","body":"<p>I got the ans of my problem:-</p>\n\n<p>@When(\"^I search (.*) in( IND| USA)? Database$\")</p>\n\n<p>I was looking for optional parameter either USA or IND. above line fix my problem. spaces are needed after ( and |</p>\n"},{"tags":[],"owner":{"account_id":13171368,"reputation":21,"user_id":9513620,"display_name":"Robert Van-Vas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543833162,"creation_date":1543833162,"answer_id":53591900,"question_id":39495582,"body_markdown":"I`m doing it this way: \r\n\r\n    @Then(&quot;^Something is (not )?counted$&quot;)\r\n    public void somethingCounted(String optional) {\r\n        //\r\n    }\r\nRegex matches both &quot;Something is counted&quot; and &quot;Something is not counted&quot;\r\n\r\nFor the first case, you&#39;ll get &quot;not&quot; value, for the second case you`ll get null. ","title":"how use optional parameters in cucumber","body":"<p>I`m doing it this way: </p>\n\n<pre><code>@Then(\"^Something is (not )?counted$\")\npublic void somethingCounted(String optional) {\n    //\n}\n</code></pre>\n\n<p>Regex matches both \"Something is counted\" and \"Something is not counted\"</p>\n\n<p>For the first case, you'll get \"not\" value, for the second case you`ll get null. </p>\n"},{"tags":[],"owner":{"account_id":16905272,"reputation":591,"user_id":12225720,"display_name":"V&#237;ctor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631634303,"creation_date":1631634303,"answer_id":69180845,"question_id":39495582,"body_markdown":"Can&#39;t say how to solve this problem specifically in Java, but when using PHP I think you can achieve what you aim at by setting your param to NULL, i.e.:\r\n\r\nImagine you want to check colors, and your Gherkin states something like:\r\n\r\n    Given I want to check colors &quot;red&quot; and &quot;green&quot;\r\n\r\nYou&#39;d have a function such as this one:\r\n\r\n    public function iCheckColors($arg1, $arg2) {\r\n        // do stuff here;\r\n    }\r\n\r\nThen you might want to check three colors in your Gherkin line, such as:\r\n\r\n    Given I want to check colors &quot;red&quot; and &quot;green&quot; and &quot;blue&quot;\r\n\r\nIn this case, you&#39;d need to add this third param to your function:\r\n\r\n    public function iCheckColors($arg1, $arg2, $arg3) {\r\n        // do stuff here;\r\n    }\r\n\r\nThe problem here is, if you were to use the first Gherkin line again, your function would throw an error, since she expects the third param, but if you set this param to NULL:\r\n\r\n    public function iCheckColors($arg1, $arg2, $arg3 = NULL) {\r\n        // do stuff here;\r\n    }\r\nThen both Gherkin lines added to the function should work. It still expects two params and, in case you&#39;ll add a third param to your Gherkin line, it&#39;d override the NULL value.\r\n\r\nHope this is what you&#39;re trying to achieve.\r\n\r\n","title":"how use optional parameters in cucumber","body":"<p>Can't say how to solve this problem specifically in Java, but when using PHP I think you can achieve what you aim at by setting your param to NULL, i.e.:</p>\n<p>Imagine you want to check colors, and your Gherkin states something like:</p>\n<pre><code>Given I want to check colors &quot;red&quot; and &quot;green&quot;\n</code></pre>\n<p>You'd have a function such as this one:</p>\n<pre><code>public function iCheckColors($arg1, $arg2) {\n    // do stuff here;\n}\n</code></pre>\n<p>Then you might want to check three colors in your Gherkin line, such as:</p>\n<pre><code>Given I want to check colors &quot;red&quot; and &quot;green&quot; and &quot;blue&quot;\n</code></pre>\n<p>In this case, you'd need to add this third param to your function:</p>\n<pre><code>public function iCheckColors($arg1, $arg2, $arg3) {\n    // do stuff here;\n}\n</code></pre>\n<p>The problem here is, if you were to use the first Gherkin line again, your function would throw an error, since she expects the third param, but if you set this param to NULL:</p>\n<pre><code>public function iCheckColors($arg1, $arg2, $arg3 = NULL) {\n    // do stuff here;\n}\n</code></pre>\n<p>Then both Gherkin lines added to the function should work. It still expects two params and, in case you'll add a third param to your Gherkin line, it'd override the NULL value.</p>\n<p>Hope this is what you're trying to achieve.</p>\n"},{"tags":[],"owner":{"account_id":21070805,"reputation":31,"user_id":15487077,"display_name":"Yub Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644507308,"creation_date":1644507308,"answer_id":71067914,"question_id":39495582,"body_markdown":"Till now, there is no solution for this;\r\n\r\n&gt; Alternative text only works when there is no whitespace between the\r\n&gt; alternative parts.\r\n\r\nHence your way of using () -&gt; optional is the best we have now.","title":"how use optional parameters in cucumber","body":"<p>Till now, there is no solution for this;</p>\n<blockquote>\n<p>Alternative text only works when there is no whitespace between the\nalternative parts.</p>\n</blockquote>\n<p>Hence your way of using () -&gt; optional is the best we have now.</p>\n"}],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19865,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39580900,"answer_count":7,"score":4,"last_activity_date":1644507308,"creation_date":1473870927,"question_id":39495582,"body_markdown":"I want the same Gherkin sentence (with paramaters and without paramaters):\r\n\r\n**Gherkin with paramaters:**\r\n\r\n    When a &#39;notify&#39; message is sent to the green box with the properties.\r\n     |type|message|\r\n     |error|The error message|\r\n\r\n**Gherkin without paramaters:**\r\n\r\n    When a &#39;notify&#39; message is sent to the green box with the properties.\r\n\r\n**Java (cucumber):**\r\n\r\n    @When(&quot;^a &#39;(.*)&#39; message is sent to the green box with the properties.$&quot;)\r\n    public void hello(String name, List&lt;GherkinCondition&gt; conditions) {\r\n        ...\r\n    }\r\n\r\nI have a error because java method is is declared with 2 parameters and in the case &quot;without paramaters&quot; I have only one.\r\n\r\n**stack trace:**\r\n\r\n    cucumber.runtime.CucumberException: Arity mismatch: Step Definition &#39;steps.CommonSteps.hello(String,GherkinCondition&gt;) in file:/C:/workspace/xxxxx/java/target/classes/&#39; with pattern [^a &#39;(.*)&#39; message is sent to the green box with the properties.$] is declared with 2 parameters. However, the gherkin step has 1 arguments [notify]. ","title":"how use optional parameters in cucumber","body":"<p>I want the same Gherkin sentence (with paramaters and without paramaters):</p>\n\n<p><strong>Gherkin with paramaters:</strong></p>\n\n<pre><code>When a 'notify' message is sent to the green box with the properties.\n |type|message|\n |error|The error message|\n</code></pre>\n\n<p><strong>Gherkin without paramaters:</strong></p>\n\n<pre><code>When a 'notify' message is sent to the green box with the properties.\n</code></pre>\n\n<p><strong>Java (cucumber):</strong></p>\n\n<pre><code>@When(\"^a '(.*)' message is sent to the green box with the properties.$\")\npublic void hello(String name, List&lt;GherkinCondition&gt; conditions) {\n    ...\n}\n</code></pre>\n\n<p>I have a error because java method is is declared with 2 parameters and in the case \"without paramaters\" I have only one.</p>\n\n<p><strong>stack trace:</strong></p>\n\n<pre><code>cucumber.runtime.CucumberException: Arity mismatch: Step Definition 'steps.CommonSteps.hello(String,GherkinCondition&gt;) in file:/C:/workspace/xxxxx/java/target/classes/' with pattern [^a '(.*)' message is sent to the green box with the properties.$] is declared with 2 parameters. However, the gherkin step has 1 arguments [notify]. \n</code></pre>\n"},{"tags":["java","apache-plc4x","plc4x"],"comments":[{"owner":{"account_id":5846311,"reputation":317,"user_id":4606342,"display_name":"otluk"},"score":0,"creation_date":1647872741,"post_id":71067906,"comment_id":126473784,"body_markdown":"Can you bring this to our mailinglist dev@plc4x.apache.org?  (an mention this question in the mail) Thank you! -&gt; Additionally we have a https://issues.apache.org/jira/projects/PLC4X/issues/PLC4X-338?filter=allopenissues","body":"Can you bring this to our mailinglist dev@plc4x.apache.org?  (an mention this question in the mail) Thank you! -&gt; Additionally we have a <a href=\"https://issues.apache.org/jira/projects/PLC4X/issues/PLC4X-338?filter=allopenissues\" rel=\"nofollow noreferrer\">issues.apache.org/jira/projects/PLC4X/issues/&hellip;</a>"}],"owner":{"account_id":24201412,"reputation":11,"user_id":18159193,"display_name":"digga106"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644507276,"creation_date":1644507276,"question_id":71067906,"body_markdown":"I want to read out a single DB Value from a S7-300 with PLC4X in Java with this code:\r\n\r\n```lang-java \r\nimport java.util.concurrent.TimeUnit;\r\nimport org.apache.plc4x.java.PlcDriverManager;\r\nimport org.apache.plc4x.java.api.PlcConnection;\r\nimport org.apache.plc4x.java.api.messages.PlcReadRequest;\r\nimport org.apache.plc4x.java.api.messages.PlcReadResponse;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\n\r\npublic class S7Com {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(S7Com.class);\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String connectionString = &quot;s7://192.168.1.102?remote-rack:0&amp;remote-slot:2&amp;controller-type:S7_300&quot;;\r\n\r\n        try (PlcConnection plcConnection = new PlcDriverManager().getConnection(connectionString)) {\r\n            \r\n            // Check if this connection support reading of data.\r\n            if (!plcConnection.getMetadata().canRead()) {\r\n                logger.error(&quot;This connection doesn&#39;t support reading.&quot;);\r\n                return;\r\n            }\r\n            \r\n            // Create a new read request:\r\n            PlcReadRequest.Builder builder = plcConnection.readRequestBuilder();\r\n            builder.addItem(&quot;value&quot;, &quot;%DB100:16.0:REAL&quot;);\r\n            PlcReadRequest readRequest = builder.build();\r\n            \r\n            //////////////////////////////////////////////////////////\r\n            // Read synchronously ...\r\n            // NOTICE: the &quot;.get()&quot; immediately lets this thread pause until\r\n            // the response is processed and available.\r\n            logger.info(&quot;Synchronous request ...&quot;);\r\n            PlcReadResponse syncResponse = readRequest.execute().get();\r\n\r\n            // Simply iterating over the field names returned in the response.\r\n            logger.info(&quot;Value[{}]: {}&quot;, &quot;value&quot;, syncResponse.getObject(&quot;value&quot;));\r\n            \r\n            TimeUnit.MILLISECONDS.sleep(1000);\r\n            plcConnection.close();\r\n            System.exit(0);\r\n            \r\n        } catch (Exception e) {\r\n            logger.info(&quot;ERROR: {}&quot;, e.getMessage());\r\n        }\r\n    }\r\n\r\n}  \r\n```\r\n\r\n\r\nBut my code runs in some issues. First of all i have set the options for Remote Rack ,Remote Slot and Controller Type , but when i run the code, stants following in the message in the console:\r\n\r\n``` \r\n[main] INFO org.apache.plc4x.java.transport.tcp.TcpChannelFactory - Configuring Bootstrap with Configuration{local-rack=1, local-slot=1, remote-rack=0, remot-slot=0, pduSize=1024, maxAmqCaller=8, maxAmqCallee=8, controllerType=&#39;null&#39;} \r\n```\r\nThe second issue resp. error comes, when the program try to read the DB Value:\r\n``` \r\n[main] INFO org.test.plx4j.example.S7Com - ERROR: java.lang.NullPointerException\r\n```\r\n\r\nThe content of the pom.xml looks like this:\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.test&lt;/groupId&gt;\r\n    &lt;artifactId&gt;plx4j-example&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.plc4x&lt;/groupId&gt;\r\n            &lt;artifactId&gt;plc4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.plc4x&lt;/groupId&gt;\r\n            &lt;artifactId&gt;plc4j-driver-s7&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.32&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.23&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\nI have changed the version from plc4j to some other versions, but the issue remains the same.\r\n\r\nAt last the complete output of the console:\r\n``` \r\n[main] INFO org.apache.plc4x.java.PlcDriverManager - Instantiating new PLC Driver Manager with class loader jdk.internal.loader.ClassLoaders$AppClassLoader@2cdf8d8a\r\n[main] INFO org.apache.plc4x.java.PlcDriverManager - Registering available drivers...\r\n[main] INFO org.apache.plc4x.java.PlcDriverManager - Registering driver for Protocol s7 (Siemens S7 (Basic))\r\n[main] INFO org.apache.plc4x.java.transport.tcp.TcpChannelFactory - Configuring Bootstrap with Configuration{local-rack=1, local-slot=1, remote-rack=0, remot-slot=0, pduSize=1024, maxAmqCaller=8, maxAmqCallee=8, controllerType=&#39;null&#39;}\r\n[nioEventLoopGroup-2-1] INFO org.apache.plc4x.java.s7.readwrite.protocol.S7ProtocolLogic - S7 Driver running in ACTIVE mode.\r\n[main] INFO org.test.plx4j.example.S7Com - Synchronous request ...\r\n[main] INFO org.test.plx4j.example.S7Com - ERROR: java.lang.NullPointerException\r\nObjectProcessor Bye!\r\nEventDispacher Bye!\r\n```\r\nI use Netbeans 12.6 on Windows 10. The java version is 11.0.12.\r\n","title":"PLC4X: S7 Connection NullPointerException","body":"<p>I want to read out a single DB Value from a S7-300 with PLC4X in Java with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.TimeUnit;\nimport org.apache.plc4x.java.PlcDriverManager;\nimport org.apache.plc4x.java.api.PlcConnection;\nimport org.apache.plc4x.java.api.messages.PlcReadRequest;\nimport org.apache.plc4x.java.api.messages.PlcReadResponse;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n\npublic class S7Com {\n\n    private static final Logger logger = LoggerFactory.getLogger(S7Com.class);\n\n    public static void main(String[] args) {\n\n        String connectionString = &quot;s7://192.168.1.102?remote-rack:0&amp;remote-slot:2&amp;controller-type:S7_300&quot;;\n\n        try (PlcConnection plcConnection = new PlcDriverManager().getConnection(connectionString)) {\n            \n            // Check if this connection support reading of data.\n            if (!plcConnection.getMetadata().canRead()) {\n                logger.error(&quot;This connection doesn't support reading.&quot;);\n                return;\n            }\n            \n            // Create a new read request:\n            PlcReadRequest.Builder builder = plcConnection.readRequestBuilder();\n            builder.addItem(&quot;value&quot;, &quot;%DB100:16.0:REAL&quot;);\n            PlcReadRequest readRequest = builder.build();\n            \n            //////////////////////////////////////////////////////////\n            // Read synchronously ...\n            // NOTICE: the &quot;.get()&quot; immediately lets this thread pause until\n            // the response is processed and available.\n            logger.info(&quot;Synchronous request ...&quot;);\n            PlcReadResponse syncResponse = readRequest.execute().get();\n\n            // Simply iterating over the field names returned in the response.\n            logger.info(&quot;Value[{}]: {}&quot;, &quot;value&quot;, syncResponse.getObject(&quot;value&quot;));\n            \n            TimeUnit.MILLISECONDS.sleep(1000);\n            plcConnection.close();\n            System.exit(0);\n            \n        } catch (Exception e) {\n            logger.info(&quot;ERROR: {}&quot;, e.getMessage());\n        }\n    }\n\n}  \n</code></pre>\n<p>But my code runs in some issues. First of all i have set the options for Remote Rack ,Remote Slot and Controller Type , but when i run the code, stants following in the message in the console:</p>\n<pre><code>[main] INFO org.apache.plc4x.java.transport.tcp.TcpChannelFactory - Configuring Bootstrap with Configuration{local-rack=1, local-slot=1, remote-rack=0, remot-slot=0, pduSize=1024, maxAmqCaller=8, maxAmqCallee=8, controllerType='null'} \n</code></pre>\n<p>The second issue resp. error comes, when the program try to read the DB Value:</p>\n<pre><code>[main] INFO org.test.plx4j.example.S7Com - ERROR: java.lang.NullPointerException\n</code></pre>\n<p>The content of the pom.xml looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.test&lt;/groupId&gt;\n    &lt;artifactId&gt;plx4j-example&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.plc4x&lt;/groupId&gt;\n            &lt;artifactId&gt;plc4j-api&lt;/artifactId&gt;\n            &lt;version&gt;0.9.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.plc4x&lt;/groupId&gt;\n            &lt;artifactId&gt;plc4j-driver-s7&lt;/artifactId&gt;\n            &lt;version&gt;0.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.32&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.23&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have changed the version from plc4j to some other versions, but the issue remains the same.</p>\n<p>At last the complete output of the console:</p>\n<pre><code>[main] INFO org.apache.plc4x.java.PlcDriverManager - Instantiating new PLC Driver Manager with class loader jdk.internal.loader.ClassLoaders$AppClassLoader@2cdf8d8a\n[main] INFO org.apache.plc4x.java.PlcDriverManager - Registering available drivers...\n[main] INFO org.apache.plc4x.java.PlcDriverManager - Registering driver for Protocol s7 (Siemens S7 (Basic))\n[main] INFO org.apache.plc4x.java.transport.tcp.TcpChannelFactory - Configuring Bootstrap with Configuration{local-rack=1, local-slot=1, remote-rack=0, remot-slot=0, pduSize=1024, maxAmqCaller=8, maxAmqCallee=8, controllerType='null'}\n[nioEventLoopGroup-2-1] INFO org.apache.plc4x.java.s7.readwrite.protocol.S7ProtocolLogic - S7 Driver running in ACTIVE mode.\n[main] INFO org.test.plx4j.example.S7Com - Synchronous request ...\n[main] INFO org.test.plx4j.example.S7Com - ERROR: java.lang.NullPointerException\nObjectProcessor Bye!\nEventDispacher Bye!\n</code></pre>\n<p>I use Netbeans 12.6 on Windows 10. The java version is 11.0.12.</p>\n"},{"tags":["java","aem"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1644504729,"post_id":71067123,"comment_id":125628978,"body_markdown":"Looks like you work with AEM or Magnolia.","body":"Looks like you work with AEM or Magnolia."},{"owner":{"account_id":24216315,"reputation":1,"user_id":18172141,"display_name":"alex"},"score":0,"creation_date":1644505296,"post_id":71067123,"comment_id":125629227,"body_markdown":"@Reporter with aem","body":"@Reporter with aem"}],"answers":[{"tags":[],"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644507139,"creation_date":1644507139,"answer_id":71067875,"question_id":71067123,"body_markdown":"This is a classical case for recursion, like reading directoy tree on filesystem. My suggestion is as follows:\r\n\r\nFirst step: Change the scope of variable `JSONArray pagesArray = new JSONArray();` from function to class scope.\r\n\r\n    public MyClass {\r\n      private JSONArray pagesArray = new JSONArray();\r\n      ...\r\n    }\r\n\r\nStep two: Change return value to `void` and the modifier of your function by removing `static`.\r\n\r\n    private void getListOfChildPagesAsJSON(Page page) { }\r\n\r\nStep three add the missing recusion to your its body.\r\n\r\n    //JSONArray pagesArray = new JSONArray();\r\n\ttry {\r\n        Iterator&lt;Page&gt; childPages = page.listChildren();\r\n        while (childPages.hasNext()) {\r\n            Page childPage = childPages.next();\r\n            JSONObject pageObject = new JSONObject();\r\n            pageObject.put(childPage.getTitle(), childPage.getPath());\r\n            \r\n\t\t\t//Add the created object to your array which is class variable \r\n            this.pagesArray.put(pageObject);\r\n            \r\n            //--Check for each single page for child pages again\r\n            Iterator&lt;Page&gt; childPagesOfChildpage = childPage.listChildren();\r\n            while (childPagesOfChildpage.hasNext()) {\r\n                getListOfChildPagesAsJSON(childPagesOfChildpage.next());\r\n            }\r\n            //--\r\n        }\r\n    } catch (JSONException e) {\r\n        LOG.error(e.getMessage(), e);\r\n    }\r\n\r\n\r\nNote: The check `childPage.hasChild()` does not work here, because the node `jcr:content` is a valid child of passed page.","title":"How to put in array the children of the children","body":"<p>This is a classical case for recursion, like reading directoy tree on filesystem. My suggestion is as follows:</p>\n<p>First step: Change the scope of variable <code>JSONArray pagesArray = new JSONArray();</code> from function to class scope.</p>\n<pre><code>public MyClass {\n  private JSONArray pagesArray = new JSONArray();\n  ...\n}\n</code></pre>\n<p>Step two: Change return value to <code>void</code> and the modifier of your function by removing <code>static</code>.</p>\n<pre><code>private void getListOfChildPagesAsJSON(Page page) { }\n</code></pre>\n<p>Step three add the missing recusion to your its body.</p>\n<pre><code>//JSONArray pagesArray = new JSONArray();\ntry {\n    Iterator&lt;Page&gt; childPages = page.listChildren();\n    while (childPages.hasNext()) {\n        Page childPage = childPages.next();\n        JSONObject pageObject = new JSONObject();\n        pageObject.put(childPage.getTitle(), childPage.getPath());\n        \n        //Add the created object to your array which is class variable \n        this.pagesArray.put(pageObject);\n        \n        //--Check for each single page for child pages again\n        Iterator&lt;Page&gt; childPagesOfChildpage = childPage.listChildren();\n        while (childPagesOfChildpage.hasNext()) {\n            getListOfChildPagesAsJSON(childPagesOfChildpage.next());\n        }\n        //--\n    }\n} catch (JSONException e) {\n    LOG.error(e.getMessage(), e);\n}\n</code></pre>\n<p>Note: The check <code>childPage.hasChild()</code> does not work here, because the node <code>jcr:content</code> is a valid child of passed page.</p>\n"}],"owner":{"account_id":24216315,"reputation":1,"user_id":18172141,"display_name":"alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1644507139,"creation_date":1644504159,"question_id":71067123,"body_markdown":"    private static JSONArray getListOfChildPagesAsJSON(Page page) {\r\n        JSONArray pagesArray = new JSONArray();\r\n        try {\r\n            Iterator&lt;Page&gt; childPages = page.listChildren();\r\n            while (childPages.hasNext()) {\r\n                Page childPage = childPages.next();\r\n                JSONObject pageObject = new JSONObject();\r\n                pageObject.put(childPage.getTitle(), childPage.getPath());\r\n                pagesArray.put(pageObject);\r\n            }\r\n        } catch (JSONException e) {\r\n            LOG.error(e.getMessage(), e);\r\n        }\r\n        return pagesArray;\r\n    }\r\n\r\nSo that not only the children of the transferred page put into array, but also the children of the children.","title":"How to put in array the children of the children","body":"<pre><code>private static JSONArray getListOfChildPagesAsJSON(Page page) {\n    JSONArray pagesArray = new JSONArray();\n    try {\n        Iterator&lt;Page&gt; childPages = page.listChildren();\n        while (childPages.hasNext()) {\n            Page childPage = childPages.next();\n            JSONObject pageObject = new JSONObject();\n            pageObject.put(childPage.getTitle(), childPage.getPath());\n            pagesArray.put(pageObject);\n        }\n    } catch (JSONException e) {\n        LOG.error(e.getMessage(), e);\n    }\n    return pagesArray;\n}\n</code></pre>\n<p>So that not only the children of the transferred page put into array, but also the children of the children.</p>\n"},{"tags":["java","activemq","stomp","amazon-mq"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644417275,"creation_date":1644416361,"answer_id":71051214,"question_id":71050378,"body_markdown":"JMS over STOMP is not supported.\r\n\r\nKeep in mind that JMS is just an API. The underlying wire protocol is different between most brokers. In ActiveMQ &quot;Classic&quot; (which is what Amazon MQ uses) you can use JMS via the OpenWire protocol or via AMQP (which requires using Qpid JMS library). There is no support for JMS over STOMP.\r\n\r\nIn this case, you&#39;re using the OpenWire JMS client since you&#39;re using `org.apache.activemq.ActiveMQConnectionFactory`. It doesn&#39;t matter what you specify in the connection string, the client will use the OpenWire protocol. \r\n\r\nSTOMP just doesn&#39;t support much of the functionality exposed by JMS. Queue browsers in particular are not supported by STOMP.","title":"Java ActiveMQ + STOMP + SSH: illegal reflective access operation to method sun.security.ssl.SSLSocketImpl.setHost","body":"<p>JMS over STOMP is not supported.</p>\n<p>Keep in mind that JMS is just an API. The underlying wire protocol is different between most brokers. In ActiveMQ &quot;Classic&quot; (which is what Amazon MQ uses) you can use JMS via the OpenWire protocol or via AMQP (which requires using Qpid JMS library). There is no support for JMS over STOMP.</p>\n<p>In this case, you're using the OpenWire JMS client since you're using <code>org.apache.activemq.ActiveMQConnectionFactory</code>. It doesn't matter what you specify in the connection string, the client will use the OpenWire protocol.</p>\n<p>STOMP just doesn't support much of the functionality exposed by JMS. Queue browsers in particular are not supported by STOMP.</p>\n"}],"owner":{"account_id":395733,"reputation":15823,"user_id":758836,"accept_rate":51,"display_name":"loretoparisi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71051214,"answer_count":1,"score":1,"last_activity_date":1644506984,"creation_date":1644413044,"question_id":71050378,"body_markdown":"I&#39;m writing a simple Java JMS QueueBrowser client to **AmazonMQ**, that runs **ActiveMQ** with `stomp` protocol over `ssh` (hence he transport is `stomp+ssl`:\r\n\r\n\r\n    // java\r\n    import java.util.Enumeration;\r\n    \r\n    // jms\r\n    import javax.jms.IllegalStateException;\r\n    import javax.jms.JMSException;\r\n    import javax.jms.Queue;\r\n    import javax.jms.QueueBrowser;\r\n    import javax.jms.QueueSession;\r\n    import javax.jms.Session;\r\n    import javax.jms.ConnectionFactory;\r\n    import javax.jms.Connection;\r\n    \r\n    // activemq\r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n    \r\n    public class QueueBrowserExample {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            System.out.println(&quot;init&quot;);\r\n            try {\r\n    \r\n                final String PORT = &quot;61616&quot;;\r\n                final String PROTOCOL = &quot;stomp+ssl&quot;;\r\n                final String HOST = &quot;xxx.mq.us-east-1.amazonaws.com&quot;;\r\n                final String connectionString = PROTOCOL + &quot;://&quot; + HOST + &quot;:&quot; + PORT;\r\n    \r\n                System.out.println(&quot;attempt to connect to &quot; + connectionString);\r\n    \r\n                ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(connectionString);\r\n                Connection connection = connectionFactory.createConnection(&quot;admin&quot;, &quot;admin&quot;);\r\n                connection.start();\r\n                Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n                Queue queue = session.createQueue(&quot;Test&quot;);\r\n                QueueBrowser queueBrowser = session.createBrowser(queue);\r\n                Enumeration msgs = queueBrowser.getEnumeration();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI&#39;m getting then a `javax.jms.JMSException` execepion due to the Transport used (`stomp+ssl` I assume)\r\n\r\n    javax.jms.JMSException: Could not create Transport. Reason: java.lang.IllegalArgumentException: Invalid connect parameters: {wireFormat.host=b-02b566af-1f0d-4d48-ad24-229a813a53fb-1.mq.us-east-1.amazonaws.com}\r\n            at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:36)\r\n            at org.apache.activemq.ActiveMQConnectionFactory.createTransport(ActiveMQConnectionFactory.java:319)\r\n            at org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:332)\r\n            at org.apache.activemq.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:253)\r\n            at QueueBrowserExample.main(QueueBrowserExample.java:37)\r\n    Caused by: java.lang.IllegalArgumentException: Invalid connect parameters: {wireFormat.host=b-02b566af-1f0d-4d48-ad24-229a813a53fb-1.mq.us-east-1.amazonaws.com}\r\n            at org.apache.activemq.transport.TransportFactory.doConnect(TransportFactory.java:122)\r\n            at org.apache.activemq.transport.TransportFactory.connect(TransportFactory.java:64)\r\n            at org.apache.activemq.ActiveMQConnectionFactory.createTransport(ActiveMQConnectionFactory.java:317)\r\n            ... 3 more\r\n\r\nThe ActiveMQ back-end is using STOMP, and I do not have any access to it. Hence I have to figure how to &quot;manage&quot; the queue (watching messages only, not processing), and I came to QueueBrowser and JMS.","title":"Java ActiveMQ + STOMP + SSH: illegal reflective access operation to method sun.security.ssl.SSLSocketImpl.setHost","body":"<p>I'm writing a simple Java JMS QueueBrowser client to <strong>AmazonMQ</strong>, that runs <strong>ActiveMQ</strong> with <code>stomp</code> protocol over <code>ssh</code> (hence he transport is <code>stomp+ssl</code>:</p>\n<pre><code>// java\nimport java.util.Enumeration;\n\n// jms\nimport javax.jms.IllegalStateException;\nimport javax.jms.JMSException;\nimport javax.jms.Queue;\nimport javax.jms.QueueBrowser;\nimport javax.jms.QueueSession;\nimport javax.jms.Session;\nimport javax.jms.ConnectionFactory;\nimport javax.jms.Connection;\n\n// activemq\nimport org.apache.activemq.ActiveMQConnectionFactory;\n\npublic class QueueBrowserExample {\n    public static void main(String[] args) throws Exception {\n\n        System.out.println(&quot;init&quot;);\n        try {\n\n            final String PORT = &quot;61616&quot;;\n            final String PROTOCOL = &quot;stomp+ssl&quot;;\n            final String HOST = &quot;xxx.mq.us-east-1.amazonaws.com&quot;;\n            final String connectionString = PROTOCOL + &quot;://&quot; + HOST + &quot;:&quot; + PORT;\n\n            System.out.println(&quot;attempt to connect to &quot; + connectionString);\n\n            ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(connectionString);\n            Connection connection = connectionFactory.createConnection(&quot;admin&quot;, &quot;admin&quot;);\n            connection.start();\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n            Queue queue = session.createQueue(&quot;Test&quot;);\n            QueueBrowser queueBrowser = session.createBrowser(queue);\n            Enumeration msgs = queueBrowser.getEnumeration();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I'm getting then a <code>javax.jms.JMSException</code> execepion due to the Transport used (<code>stomp+ssl</code> I assume)</p>\n<pre><code>javax.jms.JMSException: Could not create Transport. Reason: java.lang.IllegalArgumentException: Invalid connect parameters: {wireFormat.host=b-02b566af-1f0d-4d48-ad24-229a813a53fb-1.mq.us-east-1.amazonaws.com}\n        at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:36)\n        at org.apache.activemq.ActiveMQConnectionFactory.createTransport(ActiveMQConnectionFactory.java:319)\n        at org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:332)\n        at org.apache.activemq.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:253)\n        at QueueBrowserExample.main(QueueBrowserExample.java:37)\nCaused by: java.lang.IllegalArgumentException: Invalid connect parameters: {wireFormat.host=b-02b566af-1f0d-4d48-ad24-229a813a53fb-1.mq.us-east-1.amazonaws.com}\n        at org.apache.activemq.transport.TransportFactory.doConnect(TransportFactory.java:122)\n        at org.apache.activemq.transport.TransportFactory.connect(TransportFactory.java:64)\n        at org.apache.activemq.ActiveMQConnectionFactory.createTransport(ActiveMQConnectionFactory.java:317)\n        ... 3 more\n</code></pre>\n<p>The ActiveMQ back-end is using STOMP, and I do not have any access to it. Hence I have to figure how to &quot;manage&quot; the queue (watching messages only, not processing), and I came to QueueBrowser and JMS.</p>\n"},{"tags":["java","spring","eclipselink","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":304608,"reputation":1506,"user_id":614219,"accept_rate":82,"display_name":"dimi"},"score":2,"creation_date":1420820786,"post_id":26820539,"comment_id":44132242,"body_markdown":"Have you checked this sample project: https://github.com/dsyer/spring-boot-sample-data-eclipselink ?","body":"Have you checked this sample project: <a href=\"https://github.com/dsyer/spring-boot-sample-data-eclipselink\" rel=\"nofollow noreferrer\">github.com/dsyer/spring-boot-sample-data-eclipselink</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":932274,"reputation":31,"user_id":961903,"display_name":"Eric Hall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644506390,"creation_date":1644506390,"answer_id":71067702,"question_id":26820539,"body_markdown":"I ran into a similar issue where I received the same No bean named &#39;entityManagerFactory&#39; is defined exception.  My fix was to define the bean in my configuration class.\r\n\r\n````\r\n@Configuration\r\npublic class JpaConfiguration extends JpaBaseConfiguration {\r\n...\r\n    @Bean\r\n    public EntityManagerFactory entityManagerFactory() {\r\n        return Persistence.createEntityManagerFactory(&quot;my-persistence-unit&quot;);\r\n    }\r\n}\r\n````\r\n\r\n","title":"How can I get Eclipselink working in a Spring Boot application","body":"<p>I ran into a similar issue where I received the same No bean named 'entityManagerFactory' is defined exception.  My fix was to define the bean in my configuration class.</p>\n<pre><code>@Configuration\npublic class JpaConfiguration extends JpaBaseConfiguration {\n...\n    @Bean\n    public EntityManagerFactory entityManagerFactory() {\n        return Persistence.createEntityManagerFactory(&quot;my-persistence-unit&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4072,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1644506390,"creation_date":1415471119,"question_id":26820539,"body_markdown":"copied [my boot log](https://gist.github.com/xenoterracide/bc777b24ad7475c616dc) to a gist because it&#39;s too long for SE.\r\n\r\nhere&#39;s what I suspect is the important part of the message.\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; is defined\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:641)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1157)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:280)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)\r\n\t... 145 more\r\n\r\n\r\nalso here&#39;s my `pom.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.xenoterracide&lt;/groupId&gt;\r\n    &lt;artifactId&gt;rpf&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.0&lt;/version&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.8.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;9.3-1102-jdbc41&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;!-- use UTF-8 for everything --&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;start-class&gt;com.xenoterracide.rpf.Application&lt;/start-class&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;eclipselink-staticweave-maven-plugin&lt;/artifactId&gt;\r\n                &lt;groupId&gt;au.com.alderaan&lt;/groupId&gt;\r\n                &lt;version&gt;1.0.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;weave&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;logLevel&gt;ALL&lt;/logLevel&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.5.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;http://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;http://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;http://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\nI&#39;m using IDEA with it&#39;s built in &quot;make&quot; to compile and start the app.\r\n\r\nI tried adding this class, but it didn&#39;t appear to help\r\n\r\n    class EntityManagerFactoryProducer {\r\n\r\n    @Produces\r\n    @ApplicationScoped\r\n    public EntityManagerFactory createEntityManagerFactory() {\r\n      return Persistence.createEntityManagerFactory(&quot;my-presistence-unit&quot;);\r\n    }\r\n\r\n    public void close(@Disposes EntityManagerFactory entityManagerFactory) {\r\n      entityManagerFactory.close();\r\n    }\r\n\r\n    @Produces\r\n    @RequestScoped\r\n    public EntityManager createEntityManager(EntityManagerFactory entityManagerFactory) {\r\n      return entityManagerFactory.createEntityManager();\r\n    }\r\n\r\n    public void close(@Disposes EntityManager entityManager) {\r\n      entityManager.close();\r\n    }\r\n    }","title":"How can I get Eclipselink working in a Spring Boot application","body":"<p>copied <a href=\"https://gist.github.com/xenoterracide/bc777b24ad7475c616dc\" rel=\"noreferrer\">my boot log</a> to a gist because it's too long for SE.</p>\n\n<p>here's what I suspect is the important part of the message.</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' is defined\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:641)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1157)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:280)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)\n... 145 more\n</code></pre>\n\n<p>also here's my <code>pom.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.xenoterracide&lt;/groupId&gt;\n&lt;artifactId&gt;rpf&lt;/artifactId&gt;\n&lt;version&gt;0.1.0&lt;/version&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.1.8.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;9.3-1102-jdbc41&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n        &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;properties&gt;\n    &lt;!-- use UTF-8 for everything --&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;start-class&gt;com.xenoterracide.rpf.Application&lt;/start-class&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;eclipselink-staticweave-maven-plugin&lt;/artifactId&gt;\n            &lt;groupId&gt;au.com.alderaan&lt;/groupId&gt;\n            &lt;version&gt;1.0.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;weave&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;logLevel&gt;ALL&lt;/logLevel&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                    &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;http://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;http://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;http://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I'm using IDEA with it's built in \"make\" to compile and start the app.</p>\n\n<p>I tried adding this class, but it didn't appear to help</p>\n\n<pre><code>class EntityManagerFactoryProducer {\n\n@Produces\n@ApplicationScoped\npublic EntityManagerFactory createEntityManagerFactory() {\n  return Persistence.createEntityManagerFactory(\"my-presistence-unit\");\n}\n\npublic void close(@Disposes EntityManagerFactory entityManagerFactory) {\n  entityManagerFactory.close();\n}\n\n@Produces\n@RequestScoped\npublic EntityManager createEntityManager(EntityManagerFactory entityManagerFactory) {\n  return entityManagerFactory.createEntityManager();\n}\n\npublic void close(@Disposes EntityManager entityManager) {\n  entityManager.close();\n}\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1644505194,"post_id":71067358,"comment_id":125629179,"body_markdown":"Is this the code you are running? Nothing is writting to `myarray`. Also because of how the for loop is set up, when a number is entered, then you will skip that entry.","body":"Is this the code you are running? Nothing is writting to <code>myarray</code>. Also because of how the for loop is set up, when a number is entered, then you will skip that entry."},{"owner":{"account_id":15508885,"reputation":1854,"user_id":11188210,"display_name":"Phaelax z"},"score":0,"creation_date":1644505366,"post_id":71067358,"comment_id":125629260,"body_markdown":"where did the &quot;info&quot; array come from?","body":"where did the &quot;info&quot; array come from?"},{"owner":{"account_id":21170859,"reputation":77,"user_id":15567204,"display_name":"brian.p"},"score":0,"creation_date":1644505444,"post_id":71067358,"comment_id":125629314,"body_markdown":"Sorry I renamed the info to myarray","body":"Sorry I renamed the info to myarray"},{"owner":{"account_id":21170859,"reputation":77,"user_id":15567204,"display_name":"brian.p"},"score":0,"creation_date":1644505653,"post_id":71067358,"comment_id":125629423,"body_markdown":"Augusto I&#39;m not sure what you mean nothing is written to the array because after the prompt to enter names I enter 10 names and they are printed afterwards ..the issue is that when I enter a number to start with that number is stored in an Array,(then I enter names after the error prompt) but the first element of the array is the number i Just entered before the error check.","body":"Augusto I&#39;m not sure what you mean nothing is written to the array because after the prompt to enter names I enter 10 names and they are printed afterwards ..the issue is that when I enter a number to start with that number is stored in an Array,(then I enter names after the error prompt) but the first element of the array is the number i Just entered before the error check."},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1644505882,"post_id":71067358,"comment_id":125629552,"body_markdown":"Instead of adding `br.readLine()` to the array, check whether it is valid and then either add it to the array or discard it accordingly. In the latter case, don&#39;t increment `i`.","body":"Instead of adding <code>br.readLine()</code> to the array, check whether it is valid and then either add it to the array or discard it accordingly. In the latter case, don&#39;t increment <code>i</code>."},{"owner":{"account_id":21170859,"reputation":77,"user_id":15567204,"display_name":"brian.p"},"score":0,"creation_date":1644505972,"post_id":71067358,"comment_id":125629606,"body_markdown":"I forgot to mention this isn&#39;t homework.jsheeran could you just me a quick example?Thanks","body":"I forgot to mention this isn&#39;t homework.jsheeran could you just me a quick example?Thanks"}],"answers":[{"tags":[],"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644506293,"creation_date":1644506293,"answer_id":71067681,"question_id":71067358,"body_markdown":"The problem is that when you&#39;re rejecting a value you&#39;re incrementing the loop counter as if you&#39;d accepted it.\r\n\r\nInstead of writing the input to the array, check whether it is valid first:\r\n\r\n    int i = 0;\r\n    while (i &lt; 10) {\r\n      String line = br.readLine();\r\n      if (line.matches(&quot;[a-zA-Z_]+&quot;) {\r\n        myarray[i++] = line;\r\n      } else {\r\n        System.out.println(&quot;Invalid name&quot;);\r\n      }\r\n    }\r\n\r\nNote that `i` is only incremented when a value is written to the array, and `while` is used in preference to `for` since the number of iterations is unknown.","title":"How would I validate User input (names only / no numbers) using an if statement","body":"<p>The problem is that when you're rejecting a value you're incrementing the loop counter as if you'd accepted it.</p>\n<p>Instead of writing the input to the array, check whether it is valid first:</p>\n<pre><code>int i = 0;\nwhile (i &lt; 10) {\n  String line = br.readLine();\n  if (line.matches(&quot;[a-zA-Z_]+&quot;) {\n    myarray[i++] = line;\n  } else {\n    System.out.println(&quot;Invalid name&quot;);\n  }\n}\n</code></pre>\n<p>Note that <code>i</code> is only incremented when a value is written to the array, and <code>while</code> is used in preference to <code>for</code> since the number of iterations is unknown.</p>\n"}],"owner":{"account_id":21170859,"reputation":77,"user_id":15567204,"display_name":"brian.p"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71067681,"answer_count":1,"score":0,"last_activity_date":1644506293,"creation_date":1644505004,"question_id":71067358,"body_markdown":"The following takes in 10 names and then prints them using `System.out.println` later. I have an if statement below when I enter a number it warns me &quot;do no enter numbers&quot;.\r\n\r\nThe problem is that after the warning prompt I enter 10 names but the number prints off as the first item in the Array? Then the names print afterwards? \r\n\r\n```\r\nimport java.io.*;\r\n\r\n\r\npublic class Input {\r\n\r\n    public static void main(String args[]) throws IOException {\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        String[] myarray = new String[10];\r\n\r\n\r\n        System.out.println(&quot;Enter a 10 names&quot;);\r\n\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n\r\n\r\n            myarray[i] = br.readLine();\r\n            if (!myarray[i].matches(&quot;[a-zA-Z_]+&quot;)) {\r\n                System.out.println(&quot;Invalid name,please do not enter numbers&quot;);\r\n            }\r\n        }\r\n        System.out.println(&quot;Here are your names&quot;);\r\n\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n\r\n            System.out.println(myarray[i]);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"How would I validate User input (names only / no numbers) using an if statement","body":"<p>The following takes in 10 names and then prints them using <code>System.out.println</code> later. I have an if statement below when I enter a number it warns me &quot;do no enter numbers&quot;.</p>\n<p>The problem is that after the warning prompt I enter 10 names but the number prints off as the first item in the Array? Then the names print afterwards?</p>\n<pre><code>import java.io.*;\n\n\npublic class Input {\n\n    public static void main(String args[]) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String[] myarray = new String[10];\n\n\n        System.out.println(&quot;Enter a 10 names&quot;);\n\n\n        for (int i = 0; i &lt; 10; i++) {\n\n\n            myarray[i] = br.readLine();\n            if (!myarray[i].matches(&quot;[a-zA-Z_]+&quot;)) {\n                System.out.println(&quot;Invalid name,please do not enter numbers&quot;);\n            }\n        }\n        System.out.println(&quot;Here are your names&quot;);\n\n\n        for (int i = 0; i &lt; 10; i++) {\n\n            System.out.println(myarray[i]);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","string","null","equals"],"comments":[{"owner":{"account_id":37259,"reputation":3236,"user_id":106494,"accept_rate":78,"display_name":"Chip"},"score":36,"creation_date":1339557700,"post_id":11007781,"comment_id":14386281,"body_markdown":"Why don&#39;t you try?","body":"Why don&#39;t you try?"},{"owner":{"account_id":1288521,"reputation":993,"user_id":1241097,"accept_rate":69,"display_name":"&#201;rik Desjardins"},"score":3,"creation_date":1339557713,"post_id":11007781,"comment_id":14386284,"body_markdown":"I&#39;m not sure about case #2, but case 1 and 3 will trigger a Null Exception since you are trycing to call a methond of a null object.","body":"I&#39;m not sure about case #2, but case 1 and 3 will trigger a Null Exception since you are trycing to call a methond of a null object."},{"owner":{"account_id":385369,"reputation":28737,"user_id":742469,"accept_rate":92,"display_name":"Op De Cirkel"},"score":1,"creation_date":1339557721,"post_id":11007781,"comment_id":14386289,"body_markdown":"You can try and answer your own question.","body":"You can try and answer your own question."},{"owner":{"account_id":1106480,"reputation":3529,"user_id":1097772,"accept_rate":62,"display_name":"user1097772"},"score":0,"creation_date":1339558252,"post_id":11007781,"comment_id":14386406,"body_markdown":"@ChrisThompson not exactly what happens in this case but I compare a lot of strings in my work for school so I needed know behaviour of this cases and I don&#39;t want to miss something ..","body":"@ChrisThompson not exactly what happens in this case but I compare a lot of strings in my work for school so I needed know behaviour of this cases and I don&#39;t want to miss something .."}],"answers":[{"tags":[],"owner":{"account_id":156391,"reputation":9819,"user_id":373653,"display_name":"sjr"},"down_vote_count":1,"up_vote_count":57,"is_accepted":true,"score":56,"last_activity_date":1339559450,"creation_date":1339557776,"answer_id":11007798,"question_id":11007781,"body_markdown":"You cannot use the dereference (dot, &#39;.&#39;) operator to access instance variables or call methods on an instance if that instance is `null`. Doing so will yield a `NullPointerException`.\r\n\r\nIt is common practice to use something you know to be non-null for string comparison. For example, `&quot;something&quot;.equals(stringThatMayBeNull)`.","title":"Java null String equals result","body":"<p>You cannot use the dereference (dot, '.') operator to access instance variables or call methods on an instance if that instance is <code>null</code>. Doing so will yield a <code>NullPointerException</code>.</p>\n\n<p>It is common practice to use something you know to be non-null for string comparison. For example, <code>\"something\".equals(stringThatMayBeNull)</code>.</p>\n"},{"tags":[],"owner":{"account_id":37259,"reputation":3236,"user_id":106494,"accept_rate":78,"display_name":"Chip"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1339557844,"creation_date":1339557844,"answer_id":11007803,"question_id":11007781,"body_markdown":"You will get a NullPointerException in case 1 and case 3.  \r\n\r\nYou cannot call any methods (like `equals()`) on a null object. ","title":"Java null String equals result","body":"<p>You will get a NullPointerException in case 1 and case 3.  </p>\n\n<p>You cannot call any methods (like <code>equals()</code>) on a null object. </p>\n"},{"tags":[],"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1339557858,"creation_date":1339557858,"answer_id":11007804,"question_id":11007781,"body_markdown":"That piece of code will throw a `NullPointerException` whenever string1 is null and you invoke `equals` on it, as is the case when a method is implicitly invoked on any null object.\r\n\r\nTo check if a string is null, use `==` rather than `equals`.\r\n\r\nAlthough `result1` and `result3` will not be set due to NullPointerExceptions, result2 would be false (if you ran it outside the context of the other results).","title":"Java null String equals result","body":"<p>That piece of code will throw a <code>NullPointerException</code> whenever string1 is null and you invoke <code>equals</code> on it, as is the case when a method is implicitly invoked on any null object.</p>\n\n<p>To check if a string is null, use <code>==</code> rather than <code>equals</code>.</p>\n\n<p>Although <code>result1</code> and <code>result3</code> will not be set due to NullPointerExceptions, result2 would be false (if you ran it outside the context of the other results).</p>\n"},{"tags":[],"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1487792396,"creation_date":1339558365,"answer_id":11007859,"question_id":11007781,"body_markdown":"Indeed, you cannot use the dot operator on a `null` variable to call a non static method.\r\n\r\nDespite this, all depends on overriding the `equals()` method of the `Object` class. In the case of the `String` class, is:\r\n\r\n    public boolean equals(Object anObject) {\r\n        if (this == anObject) {\r\n            return true;\r\n        }\r\n        if (anObject instanceof String) {\r\n            String anotherString = (String)anObject;\r\n            int n = count;\r\n            if (n == anotherString.count) {\r\n                char v1[] = value;\r\n                char v2[] = anotherString.value;\r\n                int i = offset;\r\n                int j = anotherString.offset;\r\n                while (n-- != 0) {\r\n                    if (v1[i++] != v2[j++])\r\n                        return false;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nIf you pass `null` as parameter, both &quot;if&quot; will fail, returning `false`;\r\n\r\nAn alternative for your case is to build a method for your requirements:\r\n\r\n    public static boolean myEquals(String s1, String s2){\r\n        if(s1 == null)\r\n            return s2 == null;\r\n        return s1.equals(s2);\r\n    }","title":"Java null String equals result","body":"<p>Indeed, you cannot use the dot operator on a <code>null</code> variable to call a non static method.</p>\n\n<p>Despite this, all depends on overriding the <code>equals()</code> method of the <code>Object</code> class. In the case of the <code>String</code> class, is:</p>\n\n<pre><code>public boolean equals(Object anObject) {\n    if (this == anObject) {\n        return true;\n    }\n    if (anObject instanceof String) {\n        String anotherString = (String)anObject;\n        int n = count;\n        if (n == anotherString.count) {\n            char v1[] = value;\n            char v2[] = anotherString.value;\n            int i = offset;\n            int j = anotherString.offset;\n            while (n-- != 0) {\n                if (v1[i++] != v2[j++])\n                    return false;\n            }\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>If you pass <code>null</code> as parameter, both \"if\" will fail, returning <code>false</code>;</p>\n\n<p>An alternative for your case is to build a method for your requirements:</p>\n\n<pre><code>public static boolean myEquals(String s1, String s2){\n    if(s1 == null)\n        return s2 == null;\n    return s1.equals(s2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5874167,"reputation":254,"user_id":4625567,"display_name":"AniaG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461668484,"creation_date":1461668484,"answer_id":36863014,"question_id":11007781,"body_markdown":"To prevent NPE while comparing Strings if at least one of them can be null, use StringUtils.equals method which is null-safe. ","title":"Java null String equals result","body":"<p>To prevent NPE while comparing Strings if at least one of them can be null, use StringUtils.equals method which is null-safe. </p>\n"},{"tags":[],"owner":{"account_id":4162458,"reputation":139,"user_id":3412238,"accept_rate":67,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487656514,"creation_date":1487656514,"answer_id":42359708,"question_id":11007781,"body_markdown":"We cannot use dot operator with null since doing so will give NullPointerException. Therefore we can take advantage of try..catch block in our program. This is a very crude way of solving your problem, but you will get desired output.\r\n\r\n    try {\r\n       result = string1.equals(string2);\r\n    } catch (NullPointerException ex) {\r\n       result = string2 == null; //This code will be executed only when string 1 is null\r\n    }","title":"Java null String equals result","body":"<p>We cannot use dot operator with null since doing so will give NullPointerException. Therefore we can take advantage of try..catch block in our program. This is a very crude way of solving your problem, but you will get desired output.</p>\n\n<pre><code>try {\n   result = string1.equals(string2);\n} catch (NullPointerException ex) {\n   result = string2 == null; //This code will be executed only when string 1 is null\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1635032640,"creation_date":1529183181,"answer_id":50891742,"question_id":11007781,"body_markdown":"Use `Objects.equals()` to compare strings, or any other objects if you&#39;re using JDK 7 or later. It will handle nulls without throwing exceptions. See more here: [how-do-i-compare-strings-in-java][1]\r\n\r\nAnd if you&#39;re not running JDK 7 or later you can copy the `equals` method from `Objects` like this:\r\n\r\n    public static boolean equals(Object a, Object b) {\r\n        return (a == b) || (a != null &amp;&amp; a.equals(b));\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java","title":"Java null String equals result","body":"<p>Use <code>Objects.equals()</code> to compare strings, or any other objects if you're using JDK 7 or later. It will handle nulls without throwing exceptions. See more here: <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">how-do-i-compare-strings-in-java</a></p>\n<p>And if you're not running JDK 7 or later you can copy the <code>equals</code> method from <code>Objects</code> like this:</p>\n<pre><code>public static boolean equals(Object a, Object b) {\n    return (a == b) || (a != null &amp;&amp; a.equals(b));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14706153,"reputation":46,"user_id":10620823,"display_name":"ESR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607454253,"creation_date":1607454253,"answer_id":65205231,"question_id":11007781,"body_markdown":"Our most common use-case of this type of thing is when we have a database field that contains &quot;Y&quot; or &quot;N&quot; to represent a Boolean (it&#39;s an old system, don&#39;t ask).\r\n\r\nThus, we do this:\r\n\r\n```if (&quot;Y&quot;.equals(stringObjectThatMayBeNull) ? result : otherResult);```\r\n\r\nInstead of this:\r\n\r\n```if (stringObjectThatMayBeNull.equals(&quot;Y&quot;) ? result : otherResult);```\r\n\r\n... which avoids a NullPointerException when executing the .equals method.","title":"Java null String equals result","body":"<p>Our most common use-case of this type of thing is when we have a database field that contains &quot;Y&quot; or &quot;N&quot; to represent a Boolean (it's an old system, don't ask).</p>\n<p>Thus, we do this:</p>\n<p><code>if (&quot;Y&quot;.equals(stringObjectThatMayBeNull) ? result : otherResult);</code></p>\n<p>Instead of this:</p>\n<p><code>if (stringObjectThatMayBeNull.equals(&quot;Y&quot;) ? result : otherResult);</code></p>\n<p>... which avoids a NullPointerException when executing the .equals method.</p>\n"},{"tags":[],"owner":{"account_id":6176492,"reputation":21,"user_id":4813205,"display_name":"Ankur Bansal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644505242,"creation_date":1644505242,"answer_id":71067432,"question_id":11007781,"body_markdown":"I am late to answer this, but you can use \r\n\r\n    StringUtils.equals(str1, str2)\r\n\r\nif you are using spring\r\n","title":"Java null String equals result","body":"<p>I am late to answer this, but you can use</p>\n<pre><code>StringUtils.equals(str1, str2)\n</code></pre>\n<p>if you are using spring</p>\n"}],"owner":{"account_id":1106480,"reputation":3529,"user_id":1097772,"accept_rate":62,"display_name":"user1097772"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129749,"favorite_count":0,"down_vote_count":2,"up_vote_count":28,"accepted_answer_id":11007798,"answer_count":9,"score":26,"last_activity_date":1644505242,"creation_date":1339557593,"question_id":11007781,"body_markdown":"Please help me how does the string.equals in java work with null value? Is there some problem with exceptions?\r\nThree cases:\r\n\r\n    boolean result1,result2, result3;\r\n    \r\n        //1st case\r\n        String string1 = null;\r\n        String string2 = null;\r\n        result = string1.equals(string2);\r\n        //2nd case\r\n        String string1 = &quot;something&quot;;\r\n        String string2 = null;\r\n        result2 = string1.equals(string2);\r\n        //3rd case \r\n        String string1 = null;\r\n        String string2 = &quot;something&quot;;\r\n        result3 = string1.equals(string2);\r\n\r\nWhat the values of results are? I expect this values:\r\n\r\n&gt; result1 is true;  \r\n&gt; result2 is false;  \r\n&gt; result3 is false;\r\n\r\n","title":"Java null String equals result","body":"<p>Please help me how does the string.equals in java work with null value? Is there some problem with exceptions?\nThree cases:</p>\n\n<pre><code>boolean result1,result2, result3;\n\n    //1st case\n    String string1 = null;\n    String string2 = null;\n    result = string1.equals(string2);\n    //2nd case\n    String string1 = \"something\";\n    String string2 = null;\n    result2 = string1.equals(string2);\n    //3rd case \n    String string1 = null;\n    String string2 = \"something\";\n    result3 = string1.equals(string2);\n</code></pre>\n\n<p>What the values of results are? I expect this values:</p>\n\n<blockquote>\n  <p>result1 is true;<br>\n  result2 is false;<br>\n  result3 is false;</p>\n</blockquote>\n"},{"tags":["java","spring","spring-security","thymeleaf","xss"],"owner":{"account_id":4177544,"reputation":246,"user_id":3423611,"display_name":"jkasper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644505079,"creation_date":1624947427,"question_id":68173520,"body_markdown":"I am using a java springboot application with thymeleaf and I want protect my app from non persistent xss by content security policy in spring security. Now, in my front end, none of the buttons work because I have put javascript to make rest call on them. Below is my security config:\r\n\r\n    \t\t\r\n    \r\n        @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n        http.requiresChannel().anyRequest().requiresSecure().and().authorizeRequests().antMatchers(&quot;/login&quot;,&quot;/css_general/**&quot;,&quot;/css_page_specific/**&quot;,&quot;/**/*.js&quot;,&quot;/**/*.css&quot;)\r\n            .permitAll()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and().formLogin(form -&gt; form\r\n                .loginPage(&quot;/login&quot;)\r\n                .defaultSuccessUrl(&quot;/index.html&quot;)\r\n                .failureUrl(&quot;/login?error=true&quot;)\r\n            )\r\n            .sessionManagement().invalidSessionUrl(&quot;/login&quot;)\r\n            .and()\r\n            .httpBasic()\r\n           .and()\r\n        .logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/login&quot;).invalidateHttpSession(true).deleteCookies(&quot;JSESSIONID&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .cors().disable()\r\n                .headers()\r\n                .xssProtection()\r\n                .and()\r\n                .contentSecurityPolicy(&quot;default-src &#39;self&#39;&quot;);\r\n\r\nAnd I get the following:\r\n\r\n    Refused to apply inline style because it violates the following Content Security Policy directive: &quot;default-src &#39;self&#39;&quot;. Either the &#39;unsafe-inline&#39; keyword, a hash (&#39;sha256-bzTE78wYOlzPtHKiZ2sKJr4A09DavGERaFsjDU2pdq8=&#39;), or a nonce (&#39;nonce-...&#39;) is required to enable inline execution. Note that hashes do not apply to event handlers, style attributes and javascript: navigations unless the &#39;unsafe-hashes&#39; keyword is present. Note also that &#39;style-src&#39; was not explicitly set, so &#39;default-src&#39; is used as a fallback.\r\n\r\n\r\n\r\nIf I use script-src then I don&#39;t see the above error, but I can&#39;t still login either. \r\nHow can I add encryption/sha-256 so that thymeleaf and the subsequent inline scripts on my page work but I&quot;m still protected with XSS? \r\nI would like to get best of both worlds: Be protected from XSS as well as not having to make changes to thymeleaf/my javascript.\r\nDo I need to create a helper function that does the sha-256, and I put that function inside the content security policy? Can someone give an example?","title":"How to specify content security policy with hash in spring security","body":"<p>I am using a java springboot application with thymeleaf and I want protect my app from non persistent xss by content security policy in spring security. Now, in my front end, none of the buttons work because I have put javascript to make rest call on them. Below is my security config:</p>\n<pre><code>    @Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    http.requiresChannel().anyRequest().requiresSecure().and().authorizeRequests().antMatchers(&quot;/login&quot;,&quot;/css_general/**&quot;,&quot;/css_page_specific/**&quot;,&quot;/**/*.js&quot;,&quot;/**/*.css&quot;)\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and().formLogin(form -&gt; form\n            .loginPage(&quot;/login&quot;)\n            .defaultSuccessUrl(&quot;/index.html&quot;)\n            .failureUrl(&quot;/login?error=true&quot;)\n        )\n        .sessionManagement().invalidSessionUrl(&quot;/login&quot;)\n        .and()\n        .httpBasic()\n       .and()\n    .logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/login&quot;).invalidateHttpSession(true).deleteCookies(&quot;JSESSIONID&quot;)\n            .permitAll()\n            .and()\n            .cors().disable()\n            .headers()\n            .xssProtection()\n            .and()\n            .contentSecurityPolicy(&quot;default-src 'self'&quot;);\n</code></pre>\n<p>And I get the following:</p>\n<pre><code>Refused to apply inline style because it violates the following Content Security Policy directive: &quot;default-src 'self'&quot;. Either the 'unsafe-inline' keyword, a hash ('sha256-bzTE78wYOlzPtHKiZ2sKJr4A09DavGERaFsjDU2pdq8='), or a nonce ('nonce-...') is required to enable inline execution. Note that hashes do not apply to event handlers, style attributes and javascript: navigations unless the 'unsafe-hashes' keyword is present. Note also that 'style-src' was not explicitly set, so 'default-src' is used as a fallback.\n</code></pre>\n<p>If I use script-src then I don't see the above error, but I can't still login either.\nHow can I add encryption/sha-256 so that thymeleaf and the subsequent inline scripts on my page work but I&quot;m still protected with XSS?\nI would like to get best of both worlds: Be protected from XSS as well as not having to make changes to thymeleaf/my javascript.\nDo I need to create a helper function that does the sha-256, and I put that function inside the content security policy? Can someone give an example?</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1644389980,"post_id":71045170,"comment_id":125590904,"body_markdown":"have you tried doing that ? what problems are you having ?","body":"have you tried doing that ? what problems are you having ?"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1644445765,"post_id":71045170,"comment_id":125612438,"body_markdown":"Does this answer your question? [How to make a new thread, Android Studio?](https://stackoverflow.com/questions/57697796/how-to-make-a-new-thread-android-studio)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57697796/how-to-make-a-new-thread-android-studio\">How to make a new thread, Android Studio?</a>"}],"answers":[{"tags":[],"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644505074,"creation_date":1644505074,"answer_id":71067381,"question_id":71045170,"body_markdown":"You could simply create a Thread object and put your method into it.&lt;br&gt;\r\nHere the code that should work for your case:\r\n\r\n    public class MainActivity extends WebView {\r\n        public PrinterManager printerManager;\r\n        public final int REQUEST_COARSE_LOCATION_PERMISSIONS = 52;\r\n        private JSPlugin plugin;\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            IntentFilter filter = new IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED);\r\n            registerReceiver(mBluetoothReceiver, filter);\r\n        }\r\n        \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n            switch (requestCode) {\r\n                case REQUEST_COARSE_LOCATION_PERMISSIONS: {\r\n                    if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        ConnectingThread connectingThread = new ConnectingThread();\r\n                        connectingThread.start();\r\n                    } else {\r\n                        Toast.makeText(this, &quot;NO Bluetooth RIGHTS&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        private class ConnectingThread extends Thread {\r\n        \r\n            public ConnectingThread() {\r\n            }\r\n        \r\n            public void run() {\r\n                // You can set a low priority, if you want, using:\r\n                //Thread.currentThread().setPriority(Thread.MIN_PRIORITY);\r\n                printerManager.connectAll();\r\n            }\r\n        }\r\n    }\r\n\r\nBasing on your management needs, you can decide to place the definition of your connectingThread in a different position.","title":"Is there any chance to simply call method in new thread?","body":"<p>You could simply create a Thread object and put your method into it.<br>\nHere the code that should work for your case:</p>\n<pre><code>public class MainActivity extends WebView {\n    public PrinterManager printerManager;\n    public final int REQUEST_COARSE_LOCATION_PERMISSIONS = 52;\n    private JSPlugin plugin;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        IntentFilter filter = new IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED);\n        registerReceiver(mBluetoothReceiver, filter);\n    }\n    \n    @Override\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n        switch (requestCode) {\n            case REQUEST_COARSE_LOCATION_PERMISSIONS: {\n                if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    ConnectingThread connectingThread = new ConnectingThread();\n                    connectingThread.start();\n                } else {\n                    Toast.makeText(this, &quot;NO Bluetooth RIGHTS&quot;, Toast.LENGTH_LONG).show();\n                }\n                return;\n            }\n        }\n    }\n\n    private class ConnectingThread extends Thread {\n    \n        public ConnectingThread() {\n        }\n    \n        public void run() {\n            // You can set a low priority, if you want, using:\n            //Thread.currentThread().setPriority(Thread.MIN_PRIORITY);\n            printerManager.connectAll();\n        }\n    }\n}\n</code></pre>\n<p>Basing on your management needs, you can decide to place the definition of your connectingThread in a different position.</p>\n"}],"owner":{"account_id":18571377,"reputation":157,"user_id":13533140,"display_name":"Dan Rais"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71067381,"answer_count":1,"score":0,"last_activity_date":1644505074,"creation_date":1644389710,"question_id":71045170,"body_markdown":"my problem is that when I run the android app, it takes a minute for this method to run if the printer is offline. I would like to run it on another thread in the background and the original thread could run uninterrupted. Thanks for any advice, happy codding!\r\n\r\n    public class MainActivity extends WebView {\r\n    public PrinterManager printerManager;\r\n    public final int REQUEST_COARSE_LOCATION_PERMISSIONS = 52;\r\n    private JSPlugin plugin;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        IntentFilter filter = new IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED);\r\n        registerReceiver(mBluetoothReceiver, filter);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case REQUEST_COARSE_LOCATION_PERMISSIONS: {\r\n                if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    //printerManager.connectDefaultPrinter(0);\r\n                    //printerManager.connectDefaultPrinter(1);\r\n\r\n                    printerManager.connectAll(); &lt;----- This method call i want to do in new thread\r\n                } else {\r\n                    Toast.makeText(this,\r\n                            &quot;NO Bluetooth RIGHTS&quot;,\r\n                            Toast.LENGTH_LONG).show();\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }","title":"Is there any chance to simply call method in new thread?","body":"<p>my problem is that when I run the android app, it takes a minute for this method to run if the printer is offline. I would like to run it on another thread in the background and the original thread could run uninterrupted. Thanks for any advice, happy codding!</p>\n<pre><code>public class MainActivity extends WebView {\npublic PrinterManager printerManager;\npublic final int REQUEST_COARSE_LOCATION_PERMISSIONS = 52;\nprivate JSPlugin plugin;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    IntentFilter filter = new IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED);\n    registerReceiver(mBluetoothReceiver, filter);\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case REQUEST_COARSE_LOCATION_PERMISSIONS: {\n            if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                //printerManager.connectDefaultPrinter(0);\n                //printerManager.connectDefaultPrinter(1);\n\n                printerManager.connectAll(); &lt;----- This method call i want to do in new thread\n            } else {\n                Toast.makeText(this,\n                        &quot;NO Bluetooth RIGHTS&quot;,\n                        Toast.LENGTH_LONG).show();\n            }\n            return;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1644504944,"post_id":71067227,"comment_id":125629080,"body_markdown":"Sounds like 1) you have Hibernate auto-ddl enabled, and 2) you&#39;re using the wrong column naming strategy.","body":"Sounds like 1) you have Hibernate auto-ddl enabled, and 2) you&#39;re using the wrong column naming strategy."},{"owner":{"account_id":23988436,"reputation":37,"user_id":17974956,"display_name":"EM1LJAN"},"score":0,"creation_date":1644505386,"post_id":71067227,"comment_id":125629274,"body_markdown":"yes, I have hibernate ddl-auto = update, renaming the column the problem was solved. Thanks!","body":"yes, I have hibernate ddl-auto = update, renaming the column the problem was solved. Thanks!"}],"owner":{"account_id":23988436,"reputation":37,"user_id":17974956,"display_name":"EM1LJAN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644504906,"creation_date":1644504484,"question_id":71067227,"body_markdown":"I can&#39;t bind a variable in the model to a column in the database, when creating a variable in the model, spring creates a new column. I need this to implement locking using spring security. How to solve such a problem?\r\n\r\nMySQL query: \r\n\r\n```sql\r\nCREATE TABLE users(\r\n  id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n  nickname VARCHAR(255) NOT NULL UNIQUE,\r\n  email VARCHAR(255) NOT NULL UNIQUE,\r\n  phone VARCHAR(255) NOT NULL UNIQUE,\r\n  password VARCHAR(255) NOT NULL,\r\n  accountNonLocked BIT NOT NULL DEFAULT 1\r\n)\r\nENGINE=InnoDB;\r\n```\r\n\r\nModel:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;nickname&quot;)\r\n    @Length(min = 5, max = 12,\r\n            message = &quot;Ð˜Ð¼Ñ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð½Ðµ Ð¼ÐµÐ½ÑŒÑˆÐµ 5 Ð¸ Ð½Ðµ Ð±Ð¾Ð»ÐµÐµ 12 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²&quot;)\r\n    private String nickname;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    @Pattern(regexp = &quot;^(?=.*[0-9])(?=.*[a-z])(?=\\\\S+$).{6,}$&quot;,\r\n            message = &quot;ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ 1 Ñ†Ð¸Ñ„Ñ€Ñƒ Ð¸ 1 ÑÐ¸Ð¼Ð²Ð¾Ð» Ð¸ Ð±Ñ‹Ñ‚ÑŒ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ 6 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;phone&quot;)\r\n    @Pattern(regexp = &quot;^((8|\\\\+7)[\\\\- ]?)?(\\\\(?\\\\d{3}\\\\)?[\\\\- ]?)?[\\\\d\\\\- ]{7,10}$&quot;,\r\n            message = &quot;Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°&quot;)\r\n    private String phone;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    @NotBlank(message = &quot;Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð°Ð´Ñ€ÐµÑ Ð²Ð°ÑˆÐµÐ¹ Ð¿Ð¾Ñ‡Ñ‚Ñ‹&quot;)\r\n    @Email(message = &quot;Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ Ð°Ð´Ñ€ÐµÑ Ð¿Ð¾Ñ‡Ñ‚Ñ‹&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;accountNonLocked&quot;)\r\n    private boolean accountNonLocked;\r\n\r\n    @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles;\r\n\r\n    @OneToMany(mappedBy=&quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    private List&lt;Order&gt; orders;\r\n\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n    \r\n        \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Kt0n.png","title":"duplicated bit columns in table mysql","body":"<p>I can't bind a variable in the model to a column in the database, when creating a variable in the model, spring creates a new column. I need this to implement locking using spring security. How to solve such a problem?</p>\n<p>MySQL query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE users(\n  id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,\n  nickname VARCHAR(255) NOT NULL UNIQUE,\n  email VARCHAR(255) NOT NULL UNIQUE,\n  phone VARCHAR(255) NOT NULL UNIQUE,\n  password VARCHAR(255) NOT NULL,\n  accountNonLocked BIT NOT NULL DEFAULT 1\n)\nENGINE=InnoDB;\n</code></pre>\n<p>Model:</p>\n<pre><code>@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;nickname&quot;)\n    @Length(min = 5, max = 12,\n            message = &quot;Ð˜Ð¼Ñ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð½Ðµ Ð¼ÐµÐ½ÑŒÑˆÐµ 5 Ð¸ Ð½Ðµ Ð±Ð¾Ð»ÐµÐµ 12 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²&quot;)\n    private String nickname;\n\n    @Column(name = &quot;password&quot;)\n    @Pattern(regexp = &quot;^(?=.*[0-9])(?=.*[a-z])(?=\\\\S+$).{6,}$&quot;,\n            message = &quot;ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ 1 Ñ†Ð¸Ñ„Ñ€Ñƒ Ð¸ 1 ÑÐ¸Ð¼Ð²Ð¾Ð» Ð¸ Ð±Ñ‹Ñ‚ÑŒ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ 6 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²&quot;)\n    private String password;\n\n    @Column(name = &quot;phone&quot;)\n    @Pattern(regexp = &quot;^((8|\\\\+7)[\\\\- ]?)?(\\\\(?\\\\d{3}\\\\)?[\\\\- ]?)?[\\\\d\\\\- ]{7,10}$&quot;,\n            message = &quot;Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°&quot;)\n    private String phone;\n\n    @Column(name = &quot;email&quot;)\n    @NotBlank(message = &quot;Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð°Ð´Ñ€ÐµÑ Ð²Ð°ÑˆÐµÐ¹ Ð¿Ð¾Ñ‡Ñ‚Ñ‹&quot;)\n    @Email(message = &quot;Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ Ð°Ð´Ñ€ÐµÑ Ð¿Ð¾Ñ‡Ñ‚Ñ‹&quot;)\n    private String email;\n\n    @Column(name = &quot;accountNonLocked&quot;)\n    private boolean accountNonLocked;\n\n    @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles;\n\n    @OneToMany(mappedBy=&quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private List&lt;Order&gt; orders;\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7Kt0n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Kt0n.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","concurrency","completable-future"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":5,"creation_date":1644501261,"post_id":71066330,"comment_id":125627328,"body_markdown":"From the documentation: &quot;All worker threads are initialized Thread.isDaemon() set true.&quot;","body":"From the documentation: &quot;All worker threads are initialized Thread.isDaemon() set true.&quot;"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1644503339,"post_id":71066330,"comment_id":125628325,"body_markdown":"To rephrase the comment from Rob: in the first case, as soon as `main()` exits all threads in the `ForkJoin` pool are immediately terminated (because all thread are daemon threads.) In the second case the created thread is not a daemon thread and therefore the ThreadPool only terminates after the currently running task has completed.","body":"To rephrase the comment from Rob: in the first case, as soon as <code>main()</code> exits all threads in the <code>ForkJoin</code> pool are immediately terminated (because all thread are daemon threads.) In the second case the created thread is not a daemon thread and therefore the ThreadPool only terminates after the currently running task has completed."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1644504208,"post_id":71066330,"comment_id":125628719,"body_markdown":"Also, `shutdown()` waits afaik for all tasks to complete.","body":"Also, <code>shutdown()</code> waits afaik for all tasks to complete."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1644504508,"creation_date":1644504508,"answer_id":71067231,"question_id":71066330,"body_markdown":"From [`ForkJoinPool`][1]\r\n&gt;...All worker threads are initialized with **Thread.isDaemon() set true**.\r\n\r\nFrom [`Executors.defaultThreadFactory`][3]\r\n\r\n&gt;...Each new thread is created as a non-daemon thread. \r\n\r\nFrom [`Thread.setDaemon`][2]\r\n&gt;...The Java Virtual Machine exits when **the only threads running are all daemon threads**.\r\n\r\n\r\nIn the first case, the thread is coming from `ForkJoinPool.commonPool` and hence it is daemon.  \r\nAnd in the second case, the thread is created using `Executors.defaultThreadFactory`, so is non-daemon.\r\n\r\nThis explain the different behaviour.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\r\n  [2]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Thread.html#setDaemon(boolean)\r\n  [3]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/Executors.html#defaultThreadFactory()","title":"The Strange behavior of CompletableFuture","body":"<p>From <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\"><code>ForkJoinPool</code></a></p>\n<blockquote>\n<p>...All worker threads are initialized with <strong>Thread.isDaemon() set true</strong>.</p>\n</blockquote>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/Executors.html#defaultThreadFactory()\" rel=\"nofollow noreferrer\"><code>Executors.defaultThreadFactory</code></a></p>\n<blockquote>\n<p>...Each new thread is created as a non-daemon thread.</p>\n</blockquote>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Thread.html#setDaemon(boolean)\" rel=\"nofollow noreferrer\"><code>Thread.setDaemon</code></a></p>\n<blockquote>\n<p>...The Java Virtual Machine exits when <strong>the only threads running are all daemon threads</strong>.</p>\n</blockquote>\n<p>In the first case, the thread is coming from <code>ForkJoinPool.commonPool</code> and hence it is daemon.<br />\nAnd in the second case, the thread is created using <code>Executors.defaultThreadFactory</code>, so is non-daemon.</p>\n<p>This explain the different behaviour.</p>\n"}],"owner":{"account_id":9910073,"reputation":290,"user_id":16781656,"display_name":"Yogesh Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1644578486,"accepted_answer_id":71067231,"answer_count":1,"score":2,"last_activity_date":1644504508,"creation_date":1644501093,"question_id":71066330,"body_markdown":"Why the below code does not print `I just woke up`\r\n\r\n        import java.util.concurrent.CompletableFuture;\r\n        public class CompletableFutureTest {\r\n            public static void main(String[] args) {\r\n                CompletableFuture completableFuture = CompletableFuture.runAsync(()-&gt;{\r\n                    try {\r\n                        Thread.sleep(4000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    System.out.println(&quot;I just woke up.&quot;);\r\n                });\r\n                System.out.println(&quot;I am main&quot;);\r\n            }\r\n        }\r\n\r\nAnd the code given below prints `I just woke up`\r\n\r\n    import java.util.concurrent.CompletableFuture;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    public class CompletableFutureTest {\r\n        public static void main(String[] args) {\r\n            ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n            CompletableFuture completableFuture = CompletableFuture.runAsync(()-&gt;{\r\n                try {\r\n                    Thread.sleep(4000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(&quot;I just woke up.&quot;);\r\n            }, executorService);\r\n            executorService.shutdown();\r\n            System.out.println(&quot;I am main&quot;);\r\n        }\r\n    }\r\n\r\nThe possible noticeable difference between both the codes is that the second sample of code takes Single Thread pool into runAsync method, while the first one does not take any argument that is It uses ForkJoin pool.\r\nPlease help me get the reason why is `I just woke up` not printed in first program\r\n","title":"The Strange behavior of CompletableFuture","body":"<p>Why the below code does not print <code>I just woke up</code></p>\n<pre><code>    import java.util.concurrent.CompletableFuture;\n    public class CompletableFutureTest {\n        public static void main(String[] args) {\n            CompletableFuture completableFuture = CompletableFuture.runAsync(()-&gt;{\n                try {\n                    Thread.sleep(4000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(&quot;I just woke up.&quot;);\n            });\n            System.out.println(&quot;I am main&quot;);\n        }\n    }\n</code></pre>\n<p>And the code given below prints <code>I just woke up</code></p>\n<pre><code>import java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\npublic class CompletableFutureTest {\n    public static void main(String[] args) {\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\n        CompletableFuture completableFuture = CompletableFuture.runAsync(()-&gt;{\n            try {\n                Thread.sleep(4000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(&quot;I just woke up.&quot;);\n        }, executorService);\n        executorService.shutdown();\n        System.out.println(&quot;I am main&quot;);\n    }\n}\n</code></pre>\n<p>The possible noticeable difference between both the codes is that the second sample of code takes Single Thread pool into runAsync method, while the first one does not take any argument that is It uses ForkJoin pool.\nPlease help me get the reason why is <code>I just woke up</code> not printed in first program</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1644088404,"post_id":71001152,"comment_id":125514678,"body_markdown":"&quot;I need to use this String inside ImageView like image&quot; -- either use a `TextView`, or draw text into your `ImageView` (or just a plain `View`) using a `Canvas`.","body":"&quot;I need to use this String inside ImageView like image&quot; -- either use a <code>TextView</code>, or draw text into your <code>ImageView</code> (or just a plain <code>View</code>) using a <code>Canvas</code>."},{"owner":{"account_id":21772821,"reputation":1,"user_id":16075712,"display_name":"Ð’Ñ–ÐºÑ‚Ð¾Ñ€Ñ–Ñ .ÐŸÐ°Ð»Ð¸Ñ…Ð°Ñ‚Ð°"},"score":0,"creation_date":1644101433,"post_id":71001152,"comment_id":125517388,"body_markdown":"@CommonsWare  This String contains vector drawable code. I need to show this vector image(or raster). I don&#39;t need to show code of image like text &#128517;","body":"@CommonsWare  This String contains vector drawable code. I need to show this vector image(or raster). I don&#39;t need to show code of image like text ðŸ˜…"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1644101595,"post_id":71001152,"comment_id":125517419,"body_markdown":"If the string is an SVG, or could be converted into an SVG, there are SVG rendering libraries available. Or, perhaps [try `VectorDrawableCompat`](https://developer.android.com/reference/kotlin/androidx/vectordrawable/graphics/drawable/VectorDrawableCompat#createfromxmlinner).","body":"If the string is an SVG, or could be converted into an SVG, there are SVG rendering libraries available. Or, perhaps <a href=\"https://developer.android.com/reference/kotlin/androidx/vectordrawable/graphics/drawable/VectorDrawableCompat#createfromxmlinner\" rel=\"nofollow noreferrer\">try <code>VectorDrawableCompat</code></a>."},{"owner":{"account_id":21772821,"reputation":1,"user_id":16075712,"display_name":"Ð’Ñ–ÐºÑ‚Ð¾Ñ€Ñ–Ñ .ÐŸÐ°Ð»Ð¸Ñ…Ð°Ñ‚Ð°"},"score":0,"creation_date":1644486606,"post_id":71001152,"comment_id":125621612,"body_markdown":"@CommonsWare   VectorDrawableCompat as a Drawable need this string parsed with XmlPullParser but I get an error when i&#39;m trying to parse.","body":"@CommonsWare   VectorDrawableCompat as a Drawable need this string parsed with XmlPullParser but I get an error when i&#39;m trying to parse."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1644497265,"post_id":71001152,"comment_id":125625665,"body_markdown":"@Ð’Ñ–ÐºÑ‚Ð¾Ñ€Ñ–Ñ.ÐŸÐ°Ð»Ð¸Ñ…Ð°Ñ‚Ð° Is the drawable string what you would see in a text editor? In other words, are you trying to compile and display a drawable from a string as you would see it in the &quot;/res/drawable&quot; folder in Android Studio? What is the source of the string? Is it coming over a network?","body":"@Ð’Ñ–ÐºÑ‚Ð¾Ñ€Ñ–Ñ.ÐŸÐ°Ð»Ð¸Ñ…Ð°Ñ‚Ð° Is the drawable string what you would see in a text editor? In other words, are you trying to compile and display a drawable from a string as you would see it in the &quot;/res/drawable&quot; folder in Android Studio? What is the source of the string? Is it coming over a network?"},{"owner":{"account_id":21772821,"reputation":1,"user_id":16075712,"display_name":"Ð’Ñ–ÐºÑ‚Ð¾Ñ€Ñ–Ñ .ÐŸÐ°Ð»Ð¸Ñ…Ð°Ñ‚Ð°"},"score":0,"creation_date":1644502487,"post_id":71001152,"comment_id":125627880,"body_markdown":"@Cheticamp This string is coming over a network. I get it from xml file in cloud storage.","body":"@Cheticamp This string is coming over a network. I get it from xml file in cloud storage."}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644504438,"creation_date":1644504438,"answer_id":71067217,"question_id":71001152,"body_markdown":"The Android framework works with binary (compiled) XML files for drawables. If you are trying to work with with drawable XML source directly, you have some work to do. First you will have to compile the source XML into the binary format. [This answer](https://stackoverflow.com/a/49920860/6287910) from Nicolas explains how to do that. It doesn&#39;t appear to be a complete answer, though, since it looks like it just compiles &quot;Path&quot; statements, but it&#39;s a start. This type of compilation is what the [AAPT](https://developer.android.com/studio/command-line/aapt2) tool does for you through the regular tool chain. Other than AAPT, I don&#39;t know of another library that will do the compilation, but one may exist. I haven&#39;t tried Nicolas&#39;s code, but it looks right.\r\n\r\nOnce you have the compilation done, [this answer](https://stackoverflow.com/a/59023594/6287910), also from Nicolas, explains how to get the binary XML you create into a format that Android can use.\r\n\r\nIf your source refers to just Android resources (resource id = 0x01xxxxxx) then you will be able to match them within your app since Android resource ids are stable across releases. If your source refers to application resources (resource id = 0x7fxxxxxx), you will have trouble if the resource id doesn&#39;t exist in your app or is otherwise different.\r\n\r\n(If this sounds like a little too much, you should consider an SVG converting library as CommonsWare suggests.)\r\n\r\nIf you can influence what comes over the network, you can precompile the drawables in the binary format within an app, extract the compiled XML and send that over the network. This will save you the first step since AAPT will do the compilation for you and leave you with just the second step. You will still need to ensure that there is no resource mismatch.\r\n\r\n","title":"XML String in ImageView","body":"<p>The Android framework works with binary (compiled) XML files for drawables. If you are trying to work with with drawable XML source directly, you have some work to do. First you will have to compile the source XML into the binary format. <a href=\"https://stackoverflow.com/a/49920860/6287910\">This answer</a> from Nicolas explains how to do that. It doesn't appear to be a complete answer, though, since it looks like it just compiles &quot;Path&quot; statements, but it's a start. This type of compilation is what the <a href=\"https://developer.android.com/studio/command-line/aapt2\" rel=\"nofollow noreferrer\">AAPT</a> tool does for you through the regular tool chain. Other than AAPT, I don't know of another library that will do the compilation, but one may exist. I haven't tried Nicolas's code, but it looks right.</p>\n<p>Once you have the compilation done, <a href=\"https://stackoverflow.com/a/59023594/6287910\">this answer</a>, also from Nicolas, explains how to get the binary XML you create into a format that Android can use.</p>\n<p>If your source refers to just Android resources (resource id = 0x01xxxxxx) then you will be able to match them within your app since Android resource ids are stable across releases. If your source refers to application resources (resource id = 0x7fxxxxxx), you will have trouble if the resource id doesn't exist in your app or is otherwise different.</p>\n<p>(If this sounds like a little too much, you should consider an SVG converting library as CommonsWare suggests.)</p>\n<p>If you can influence what comes over the network, you can precompile the drawables in the binary format within an app, extract the compiled XML and send that over the network. This will save you the first step since AAPT will do the compilation for you and leave you with just the second step. You will still need to ensure that there is no resource mismatch.</p>\n"}],"owner":{"account_id":21772821,"reputation":1,"user_id":16075712,"display_name":"Ð’Ñ–ÐºÑ‚Ð¾Ñ€Ñ–Ñ .ÐŸÐ°Ð»Ð¸Ñ…Ð°Ñ‚Ð°"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644504438,"creation_date":1644087201,"question_id":71001152,"body_markdown":"I have a String with xml&#39;s drawable code. I need to use this String inside ImageView like image. And I need to create many such images in activity using kotlin/java code.\r\n\r\nI tried to write data to xml file and then convert file to Drawable\r\n```\r\n     /**\r\n     * Write text to file \r\n     */\r\n    fun stringToDom(xmlSource : String, filePath: String) {\r\n        val fw = FileWriter(filePath)\r\n        fw.write(xmlSource)\r\n        fw.close()\r\n    }\r\n\r\n    //...\r\n    val uri : Uri = Uri.parse(&quot;android.resource://com.example.package/&quot; + R.drawable.temp)\r\n    stringToDom(i, uri.toString())\r\n    val d : Drawable = Drawable.createFromXml(context.resources, context.resources.getXml(R.drawable.temp))\r\n    //...\r\n```\r\n\r\nAnd parse xml string with XmlPullParser\r\n```\r\n     val parser : XmlPullParser = Xml.newPullParser();\r\n     parser.setInput(StringReader(myXmlString));\r\n     val d : Drawable = Drawable.createFromXml(resources, parser)\r\n```\r\nBut all of this doesn&#39;t work.","title":"XML String in ImageView","body":"<p>I have a String with xml's drawable code. I need to use this String inside ImageView like image. And I need to create many such images in activity using kotlin/java code.</p>\n<p>I tried to write data to xml file and then convert file to Drawable</p>\n<pre><code>     /**\n     * Write text to file \n     */\n    fun stringToDom(xmlSource : String, filePath: String) {\n        val fw = FileWriter(filePath)\n        fw.write(xmlSource)\n        fw.close()\n    }\n\n    //...\n    val uri : Uri = Uri.parse(&quot;android.resource://com.example.package/&quot; + R.drawable.temp)\n    stringToDom(i, uri.toString())\n    val d : Drawable = Drawable.createFromXml(context.resources, context.resources.getXml(R.drawable.temp))\n    //...\n</code></pre>\n<p>And parse xml string with XmlPullParser</p>\n<pre><code>     val parser : XmlPullParser = Xml.newPullParser();\n     parser.setInput(StringReader(myXmlString));\n     val d : Drawable = Drawable.createFromXml(resources, parser)\n</code></pre>\n<p>But all of this doesn't work.</p>\n"},{"tags":["java","android","android-recyclerview","android-filterable","android-filter"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1644492481,"post_id":71064048,"comment_id":125623817,"body_markdown":"Where did you call `performFiltering`?","body":"Where did you call <code>performFiltering</code>?"},{"owner":{"account_id":24214316,"reputation":1,"user_id":18170421,"display_name":"Kamelion"},"score":0,"creation_date":1644496262,"post_id":71064048,"comment_id":125625269,"body_markdown":"everytime i filter which happens on the &quot;OnQueryChanged&quot; - basically the getFilter returns the &quot;myFilter&quot;","body":"everytime i filter which happens on the &quot;OnQueryChanged&quot; - basically the getFilter returns the &quot;myFilter&quot;"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1644497755,"post_id":71064048,"comment_id":125625857,"body_markdown":"Can you edit your question with more details about `OnQueryChanged`?","body":"Can you edit your question with more details about <code>OnQueryChanged</code>?"},{"owner":{"account_id":24214316,"reputation":1,"user_id":18170421,"display_name":"Kamelion"},"score":0,"creation_date":1644504486,"post_id":71064048,"comment_id":125628858,"body_markdown":"OnQueryTextChanged i meant. not onQueryChanged. But all it does is triggering the adapter.getFilter","body":"OnQueryTextChanged i meant. not onQueryChanged. But all it does is triggering the adapter.getFilter"}],"answers":[{"tags":[],"owner":{"account_id":19577002,"reputation":1,"user_id":14326884,"display_name":"dongnez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644504150,"creation_date":1644497071,"answer_id":71065333,"question_id":71064048,"body_markdown":"On publish Result you are clearing the List, i think that is wrong:\r\n\r\n     @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n            //stellplaetze.clear();\r\n            stellplaetze.addAll((ArrayList) results.values);\r\n            notifyDataSetChanged();\r\n        }\r\n\r\nI have an example of my code i think this will help:\r\n\r\nFirst i create 2 list:\r\n\r\n    private ArrayList&lt;CountryPhone&gt; objects;\r\n    private ArrayList&lt;CountryPhone&gt; filteredData;\r\n\r\n     @Override\r\n    public int getCount() {\r\n        return filteredData.size();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public CountryPhone getItem(int position) {\r\n        return filteredData.get(position);\r\n    }\r\n\r\nOn Filter Results: \r\n\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n\r\n            String filterString = constraint.toString().toLowerCase();\r\n            FilterResults filterResults = new FilterResults();\r\n            ArrayList&lt;CountryPhone&gt; filterlist = new ArrayList&lt;&gt;();\r\n\r\n                String name, code;\r\n                for (int i = 0; i &lt; objects.size(); i++) {\r\n                    CountryPhone item = objects.get(i);\r\n                    name = item.getName().toLowerCase();\r\n\r\n                    code = item.getCode();\r\n\r\n                    if (name.contains(filterString) || code.contains(filterString)){\r\n                        filterlist.add(item);\r\n                    }\r\n                }\r\n\r\n                filterResults.values = filterlist;\r\n                filterResults.count = filterlist.size();\r\n\r\n            return filterResults;\r\n        }\r\n\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n            filteredData = (ArrayList&lt;CountryPhone&gt;) results.values;\r\n\r\n                notifyDataSetChanged();\r\n\r\n        }\r\n\r\n    };\r\n","title":"Filtering causes both lists to delete their Items - Android RecyclerView Filtering Java","body":"<p>On publish Result you are clearing the List, i think that is wrong:</p>\n<pre><code> @Override\n    protected void publishResults(CharSequence constraint, FilterResults results) {\n        //stellplaetze.clear();\n        stellplaetze.addAll((ArrayList) results.values);\n        notifyDataSetChanged();\n    }\n</code></pre>\n<p>I have an example of my code i think this will help:</p>\n<p>First i create 2 list:</p>\n<pre><code>private ArrayList&lt;CountryPhone&gt; objects;\nprivate ArrayList&lt;CountryPhone&gt; filteredData;\n\n @Override\npublic int getCount() {\n    return filteredData.size();\n}\n\n@Nullable\n@Override\npublic CountryPhone getItem(int position) {\n    return filteredData.get(position);\n}\n</code></pre>\n<p>On Filter Results:</p>\n<pre><code>    @Override\n    protected FilterResults performFiltering(CharSequence constraint) {\n\n        String filterString = constraint.toString().toLowerCase();\n        FilterResults filterResults = new FilterResults();\n        ArrayList&lt;CountryPhone&gt; filterlist = new ArrayList&lt;&gt;();\n\n            String name, code;\n            for (int i = 0; i &lt; objects.size(); i++) {\n                CountryPhone item = objects.get(i);\n                name = item.getName().toLowerCase();\n\n                code = item.getCode();\n\n                if (name.contains(filterString) || code.contains(filterString)){\n                    filterlist.add(item);\n                }\n            }\n\n            filterResults.values = filterlist;\n            filterResults.count = filterlist.size();\n\n        return filterResults;\n    }\n\n    @Override\n    protected void publishResults(CharSequence constraint, FilterResults results) {\n        filteredData = (ArrayList&lt;CountryPhone&gt;) results.values;\n\n            notifyDataSetChanged();\n\n    }\n\n};\n</code></pre>\n"}],"owner":{"account_id":24214316,"reputation":1,"user_id":18170421,"display_name":"Kamelion"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644504150,"creation_date":1644491431,"question_id":71064048,"body_markdown":"So what i want to do is simply filter all of my entries according to a searchString. This works fine but for some reason everytime i filter both lists delete the items. i will only include the (i think) important parts of code here.\r\n\r\nAdapter.java:\r\n\r\n```\r\n@Override\r\n    public Filter getFilter() {\r\n        return myFilter;\r\n    }\r\n\r\n    private Filter myFilter = new Filter() {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n            List&lt;Stellplatz&gt; filteredList = new ArrayList&lt;&gt;();\r\n            Log.d(&quot;TEst&quot;,&quot;Size stellplaetzeall:&quot;+ stellplaetzeall.size());\r\n\r\n            Log.d(&quot;TEst&quot;,&quot;Size Stellplaeztze:&quot;+ stellplaetze.size());\r\n\r\n            if (constraint == null || constraint.length() == 0) {\r\n                filteredList.addAll(stellplaetzeall);\r\n            } else {\r\n                String filterPattern = constraint.toString().toLowerCase().trim();\r\n                for (Stellplatz item : stellplaetzeall) {\r\n                    if (item.getAnbieter().toLowerCase().contains(filterPattern)) {\r\n                        filteredList.add(item);\r\n                    }\r\n                }\r\n            }\r\n            FilterResults results = new FilterResults();\r\n            results.values = filteredList;\r\n            return results;\r\n        }\r\n\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n            stellplaetze.clear();\r\n            stellplaetze.addAll((ArrayList) results.values);\r\n            notifyDataSetChanged();\r\n        }\r\n    };\r\n```\r\n\r\nFragment.java\r\n```\r\n@Override\r\n     public void onCreateOptionsMenu(Menu menu, @NonNull MenuInflater inflater){\r\n        inflater.inflate(R.menu.menu_itemlist, menu);\r\n        MenuItem searchItem = menu.findItem(R.id.action_search);\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n        searchView.setImeOptions(EditorInfo.IME_ACTION_DONE);\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                adapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n        });\r\n     }\r\n```\r\n\r\nI cant see why this would happen. Every example i found is basically the same as my code but for some reason it happens. i would really appreciate any answer that helps me understand this. also im not very good at android programming, first time doing this so an explanation why would be really helpful!","title":"Filtering causes both lists to delete their Items - Android RecyclerView Filtering Java","body":"<p>So what i want to do is simply filter all of my entries according to a searchString. This works fine but for some reason everytime i filter both lists delete the items. i will only include the (i think) important parts of code here.</p>\n<p>Adapter.java:</p>\n<pre><code>@Override\n    public Filter getFilter() {\n        return myFilter;\n    }\n\n    private Filter myFilter = new Filter() {\n        @Override\n        protected FilterResults performFiltering(CharSequence constraint) {\n            List&lt;Stellplatz&gt; filteredList = new ArrayList&lt;&gt;();\n            Log.d(&quot;TEst&quot;,&quot;Size stellplaetzeall:&quot;+ stellplaetzeall.size());\n\n            Log.d(&quot;TEst&quot;,&quot;Size Stellplaeztze:&quot;+ stellplaetze.size());\n\n            if (constraint == null || constraint.length() == 0) {\n                filteredList.addAll(stellplaetzeall);\n            } else {\n                String filterPattern = constraint.toString().toLowerCase().trim();\n                for (Stellplatz item : stellplaetzeall) {\n                    if (item.getAnbieter().toLowerCase().contains(filterPattern)) {\n                        filteredList.add(item);\n                    }\n                }\n            }\n            FilterResults results = new FilterResults();\n            results.values = filteredList;\n            return results;\n        }\n\n        @Override\n        protected void publishResults(CharSequence constraint, FilterResults results) {\n            stellplaetze.clear();\n            stellplaetze.addAll((ArrayList) results.values);\n            notifyDataSetChanged();\n        }\n    };\n</code></pre>\n<p>Fragment.java</p>\n<pre><code>@Override\n     public void onCreateOptionsMenu(Menu menu, @NonNull MenuInflater inflater){\n        inflater.inflate(R.menu.menu_itemlist, menu);\n        MenuItem searchItem = menu.findItem(R.id.action_search);\n        SearchView searchView = (SearchView) searchItem.getActionView();\n        searchView.setImeOptions(EditorInfo.IME_ACTION_DONE);\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                return false;\n            }\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                adapter.getFilter().filter(newText);\n                return false;\n            }\n        });\n     }\n</code></pre>\n<p>I cant see why this would happen. Every example i found is basically the same as my code but for some reason it happens. i would really appreciate any answer that helps me understand this. also im not very good at android programming, first time doing this so an explanation why would be really helpful!</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1644499330,"post_id":71065553,"comment_id":125626494,"body_markdown":"Why you want to add first arraylist data into second arraylist? It&#39;s meaningless. You consume more memory area if add first arraylist data into second arraylist","body":"Why you want to add first arraylist data into second arraylist? It&#39;s meaningless. You consume more memory area if add first arraylist data into second arraylist"},{"owner":{"account_id":5037087,"reputation":33,"user_id":4045556,"display_name":"Kumar"},"score":0,"creation_date":1644499675,"post_id":71065553,"comment_id":125626642,"body_markdown":"@FaeemazazBhanej Actually this is only snipped of code of my current project logic my first Arraylist is huge which i do the filter first then I want final list which have only 7 records but I want to looped in 10 times.  May be possible for second loop i do the filter first then i want final list which have only 5 records then so this case also i want looped 10 times with and add all 5 object and rest empty value to newArraylist","body":"@FaeemazazBhanej Actually this is only snipped of code of my current project logic my first Arraylist is huge which i do the filter first then I want final list which have only 7 records but I want to looped in 10 times.  May be possible for second loop i do the filter first then i want final list which have only 5 records then so this case also i want looped 10 times with and add all 5 object and rest empty value to newArraylist"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1644500414,"post_id":71065553,"comment_id":125626953,"body_markdown":"What if the fruit list is not sorted and the ids are not sequential?","body":"What if the fruit list is not sorted and the ids are not sequential?"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644501175,"creation_date":1644500658,"answer_id":71066202,"question_id":71065553,"body_markdown":"Streams might not be the right tool for this task. Why not just add all elments from original list to new list and calculate how many new entries to add after finding the largest id? Something like:\r\n\r\n    \r\n    List&lt;Fruit&gt; newFruits =  new ArrayList&lt;&gt;();\r\n    newFruits.addAll(fruits);\r\n\r\n    int N = 10;\r\n    int toAdd = N - fruits.size();\r\n    int maxId = fruits.stream().mapToInt(Fruit::getId).max().orElse(0);\r\n\r\n    IntStream.rangeClosed(1,toAdd).forEach(i -&gt; newFruits.add(new Fruit(maxId + i, &quot;&quot;)));\r\n\r\nOr take a look at @Holger&#39;s comment.\r\n","title":"Copy All the elements/object of one list N times to new list. Using java 8 stream","body":"<p>Streams might not be the right tool for this task. Why not just add all elments from original list to new list and calculate how many new entries to add after finding the largest id? Something like:</p>\n<pre><code>List&lt;Fruit&gt; newFruits =  new ArrayList&lt;&gt;();\nnewFruits.addAll(fruits);\n\nint N = 10;\nint toAdd = N - fruits.size();\nint maxId = fruits.stream().mapToInt(Fruit::getId).max().orElse(0);\n\nIntStream.rangeClosed(1,toAdd).forEach(i -&gt; newFruits.add(new Fruit(maxId + i, &quot;&quot;)));\n</code></pre>\n<p>Or take a look at @Holger's comment.</p>\n"}],"owner":{"account_id":5037087,"reputation":33,"user_id":4045556,"display_name":"Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"accepted_answer_id":71066202,"answer_count":1,"score":-7,"last_activity_date":1644504094,"creation_date":1644497947,"question_id":71065553,"body_markdown":"Copy all the elements of one list N times in a new list.\r\n\r\nI have list of Fruits which i want to iterate to N times and add all the value to new list but the in the list we have less then my iteration so i want to add Empty fruits with incremental id. how to do using java 8 and stream programming.\r\nI have total 7 fruits in my current list but i want to looped in 10 time copied all data to new list and if data is not available in the index then i want to add empty object with incremental ids.\r\n I tried but not getting expected result.\r\n\r\n    @Data\r\n    @AllArgsConstructor \r\n    public class Fruit {\r\n       int id;\r\n       String type;\r\n    }\r\n\r\n    List&lt;Fruit&gt; fruits = new ArrayList&lt;&gt;();\r\n        fruits.add(new Fruit(1, &quot;mango&quot;));\r\n        fruits.add(new Fruit(2, &quot;grapes&quot;));\r\n        fruits.add(new Fruit(3, &quot;apple&quot;));\r\n        fruits.add(new Fruit(4, &quot;banana&quot;));\r\n        fruits.add(new Fruit(5, &quot;papaya&quot;));\r\n        fruits.add(new Fruit(6, &quot;jack fruit&quot;));\r\n        fruits.add(new Fruit(7, &quot;dragon fruit&quot;));\r\n    List&lt;Fruit&gt; newFruits = new ArrayList&lt;&gt;();\r\n\r\n        fruits.stream().map(value -&gt; {\r\n            IntStream.rangeClosed(1, 10).forEach(index -&gt; {\r\n                if (value.equals(null))\r\n                    newFruits.add(new Fruit(index, &quot;&quot;));\r\n                else\r\n                    newFruits.add(value);\r\n            });\r\n            return null;\r\n        });\r\n\r\nExpected OP: for newFruits \r\n\r\n    newFruits :\r\n    [Fruit(id=1, type=mango), \r\n     Fruit(id=2, type=grapes), \r\n     Fruit(id=3, type=apple), \r\n     Fruit(id=4, type=banana), \r\n     Fruit(id=5, type=papaya), \r\n     Fruit(id=6, type=jack fruit), \r\n     Fruit(id=7, type=dragon fruit),\r\n     Fruit(id=8, type=&quot;&quot;).\r\n     Fruit(id=9, type=&quot;)\r\n     Fruit(id=10, type=&quot;&quot;)]\r\n    ","title":"Copy All the elements/object of one list N times to new list. Using java 8 stream","body":"<p>Copy all the elements of one list N times in a new list.</p>\n<p>I have list of Fruits which i want to iterate to N times and add all the value to new list but the in the list we have less then my iteration so i want to add Empty fruits with incremental id. how to do using java 8 and stream programming.\nI have total 7 fruits in my current list but i want to looped in 10 time copied all data to new list and if data is not available in the index then i want to add empty object with incremental ids.\nI tried but not getting expected result.</p>\n<pre><code>@Data\n@AllArgsConstructor \npublic class Fruit {\n   int id;\n   String type;\n}\n\nList&lt;Fruit&gt; fruits = new ArrayList&lt;&gt;();\n    fruits.add(new Fruit(1, &quot;mango&quot;));\n    fruits.add(new Fruit(2, &quot;grapes&quot;));\n    fruits.add(new Fruit(3, &quot;apple&quot;));\n    fruits.add(new Fruit(4, &quot;banana&quot;));\n    fruits.add(new Fruit(5, &quot;papaya&quot;));\n    fruits.add(new Fruit(6, &quot;jack fruit&quot;));\n    fruits.add(new Fruit(7, &quot;dragon fruit&quot;));\nList&lt;Fruit&gt; newFruits = new ArrayList&lt;&gt;();\n\n    fruits.stream().map(value -&gt; {\n        IntStream.rangeClosed(1, 10).forEach(index -&gt; {\n            if (value.equals(null))\n                newFruits.add(new Fruit(index, &quot;&quot;));\n            else\n                newFruits.add(value);\n        });\n        return null;\n    });\n</code></pre>\n<p>Expected OP: for newFruits</p>\n<pre><code>newFruits :\n[Fruit(id=1, type=mango), \n Fruit(id=2, type=grapes), \n Fruit(id=3, type=apple), \n Fruit(id=4, type=banana), \n Fruit(id=5, type=papaya), \n Fruit(id=6, type=jack fruit), \n Fruit(id=7, type=dragon fruit),\n Fruit(id=8, type=&quot;&quot;).\n Fruit(id=9, type=&quot;)\n Fruit(id=10, type=&quot;&quot;)]\n</code></pre>\n"},{"tags":["java","selenium","testing","automation","automated-tests"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1644497295,"post_id":71065327,"comment_id":125625676,"body_markdown":"Update the question with the text based HTML and your code trials.","body":"Update the question with the text based HTML and your code trials."}],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644503691,"creation_date":1644503691,"answer_id":71066994,"question_id":71065327,"body_markdown":"Try to click on the cancel button:\r\n\r\n    WebElement cancelBtn = driver.findElementByXpath(&quot;//button[contains(text(),&#39;cancel&#39;)]&quot;);\r\n    cancelBtn.click();\r\n\r\nIf this doesn&#39;t work, see if the pop-up is inside an Iframe. If so switch to the Iframe and then look for the cancel button.\r\n\r\n    driver.switchToIframe(0);\r\n    // or\r\n    driver.switchToIfrmae(&quot;IDOfTheIframe&quot;);\r\n\r\n","title":"Is there any way to handle java Script based Pop up in selenium (Java) without using alert.dismiss method?","body":"<p>Try to click on the cancel button:</p>\n<pre><code>WebElement cancelBtn = driver.findElementByXpath(&quot;//button[contains(text(),'cancel')]&quot;);\ncancelBtn.click();\n</code></pre>\n<p>If this doesn't work, see if the pop-up is inside an Iframe. If so switch to the Iframe and then look for the cancel button.</p>\n<pre><code>driver.switchToIframe(0);\n// or\ndriver.switchToIfrmae(&quot;IDOfTheIframe&quot;);\n</code></pre>\n"}],"owner":{"account_id":24201430,"reputation":1,"user_id":18159210,"display_name":"Arjun Tyagi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644503691,"creation_date":1644497051,"question_id":71065327,"body_markdown":"[Image attached][1] I have used Alert.dismiss(); but it is not working. I want to click on cancel button. Is there any other way to handle. I have tried considering this pop up as window.\r\n\r\n\r\nPlease find image in attachment.\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wr8nK.png","title":"Is there any way to handle java Script based Pop up in selenium (Java) without using alert.dismiss method?","body":"<p><a href=\"https://i.stack.imgur.com/Wr8nK.png\" rel=\"nofollow noreferrer\">Image attached</a> I have used Alert.dismiss(); but it is not working. I want to click on cancel button. Is there any other way to handle. I have tried considering this pop up as window.</p>\n<p>Please find image in attachment.</p>\n"},{"tags":["java","spring-boot","lombok"],"comments":[{"owner":{"account_id":16859483,"reputation":116,"user_id":12190613,"display_name":"blafoo"},"score":0,"creation_date":1644494314,"post_id":71064547,"comment_id":125624524,"body_markdown":"Jackson needs a default constructor without parameters or annotations on the constructor paramterts to find out which field in the JSON object should be mapped to the parameter.  Maybe this helps: https://stackoverflow.com/questions/57204802/jackson-invaliddefinitionexception-cannot-construct-instance-because-no-default","body":"Jackson needs a default constructor without parameters or annotations on the constructor paramterts to find out which field in the JSON object should be mapped to the parameter.  Maybe this helps: <a href=\"https://stackoverflow.com/questions/57204802/jackson-invaliddefinitionexception-cannot-construct-instance-because-no-default\" title=\"jackson invaliddefinitionexception cannot construct instance because no default\">stackoverflow.com/questions/57204802/&hellip;</a>"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1644494453,"post_id":71064547,"comment_id":125624578,"body_markdown":"Does this answer your question? [Using Jackson to deserialize with Lombok builder](https://stackoverflow.com/questions/66399749/using-jackson-to-deserialize-with-lombok-builder)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66399749/using-jackson-to-deserialize-with-lombok-builder\">Using Jackson to deserialize with Lombok builder</a>"},{"owner":{"account_id":20104422,"reputation":33,"user_id":14742269,"display_name":"igor"},"score":0,"creation_date":1644499239,"post_id":71064547,"comment_id":125626455,"body_markdown":"@Turo\nIt doesn&#39;t - Jacksonized works for me usually. It&#39;s not really a jackson question, more like a spring boot question - i want to find a way for it to initiate my dto from request parameters by using lombok builder","body":"@Turo It doesn&#39;t - Jacksonized works for me usually. It&#39;s not really a jackson question, more like a spring boot question - i want to find a way for it to initiate my dto from request parameters by using lombok builder"},{"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"score":0,"creation_date":1644504508,"post_id":71064547,"comment_id":125628868,"body_markdown":"I&#39;ve reproduce the code and it worked fine for me. Please provide the full `GetStuffParameters` class or link to repository","body":"I&#39;ve reproduce the code and it worked fine for me. Please provide the full <code>GetStuffParameters</code> class or link to repository"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1644505444,"post_id":71064547,"comment_id":125629315,"body_markdown":"Are you trying to put the request parameters in a &#39;Jackson&#39; object? If this is the case, you are confusing how web apps work. Jackson is used to deserialise the **body** of PUT/POST/etc requests, not the request parameters. Spring has a feature to map request parameters to the controller method as answered [here](https://stackoverflow.com/questions/13213061/springmvc-requestmapping-for-get-parameters)","body":"Are you trying to put the request parameters in a &#39;Jackson&#39; object? If this is the case, you are confusing how web apps work. Jackson is used to deserialise the <b>body</b> of PUT/POST/etc requests, not the request parameters. Spring has a feature to map request parameters to the controller method as answered <a href=\"https://stackoverflow.com/questions/13213061/springmvc-requestmapping-for-get-parameters\">here</a>"}],"owner":{"account_id":20104422,"reputation":33,"user_id":14742269,"display_name":"igor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644503644,"creation_date":1644493547,"question_id":71064547,"body_markdown":"I&#39;m using a very convenient set of lombok annotations for my DTOs:\r\n```\r\n\t@Value\r\n\t@Builder\r\n\t@Jacksonized\r\n\tpublic class Stuff {\r\n\t\tString a;\r\n\t\tString b;\r\n\t\t...\r\n\t}\r\n```\r\n\r\nJackson is able to deserialize my objects from request body:\r\n```\r\n    @PostMapping(&quot;/stuff&quot;)\r\n    public void postStuff(\r\n        @RequestBody Stuff stuff        \r\n    ) {\r\n        ...\r\n    }\r\n```\r\n\r\nHowever if I use such object in a GET request (**GET /stuff?a=xxx&amp;b=yyy**) spring is unable to assemble it from request parameters and I get the &quot;No primary or default constructor found for class&quot; Exception.\r\n\r\n```\r\n\t@Value\r\n\t@Builder\r\n\t@Jacksonized\r\n\tpublic class GetStuffParameters {\r\n\t\tString a;\r\n\t\tString b;\r\n\t\t...\r\n\t}\r\n\r\n    @GetMapping(&quot;/stuff&quot;)\r\n    public List&lt;Stuff&gt; getStuff(\r\n        GetStuffParameters parameters\r\n    ) {\r\n        ...\r\n    }\r\n```\t\r\n\r\nHow do I force Spring Boot to use lombok builders while assembling DTO from request parameters?","title":"How to force Spring Boot to use lombok builders while assembling DTO from request parameters?","body":"<p>I'm using a very convenient set of lombok annotations for my DTOs:</p>\n<pre><code>    @Value\n    @Builder\n    @Jacksonized\n    public class Stuff {\n        String a;\n        String b;\n        ...\n    }\n</code></pre>\n<p>Jackson is able to deserialize my objects from request body:</p>\n<pre><code>    @PostMapping(&quot;/stuff&quot;)\n    public void postStuff(\n        @RequestBody Stuff stuff        \n    ) {\n        ...\n    }\n</code></pre>\n<p>However if I use such object in a GET request (<strong>GET /stuff?a=xxx&amp;b=yyy</strong>) spring is unable to assemble it from request parameters and I get the &quot;No primary or default constructor found for class&quot; Exception.</p>\n<pre><code>    @Value\n    @Builder\n    @Jacksonized\n    public class GetStuffParameters {\n        String a;\n        String b;\n        ...\n    }\n\n    @GetMapping(&quot;/stuff&quot;)\n    public List&lt;Stuff&gt; getStuff(\n        GetStuffParameters parameters\n    ) {\n        ...\n    }\n</code></pre>\n<p>How do I force Spring Boot to use lombok builders while assembling DTO from request parameters?</p>\n"},{"tags":["java","android","toolbar","android-drawer"],"answers":[{"tags":[],"owner":{"account_id":7139664,"reputation":50276,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644502996,"creation_date":1644502996,"answer_id":71066822,"question_id":71066731,"body_markdown":"\r\nIf you check constructor signature as you can see it accepts string resource, `int`, not `String`\r\n\r\n    public ActionBarDrawerToggle(Activity activity, DrawerLayout drawerLayout,\r\n            Toolbar toolbar, @StringRes int openDrawerContentDescRes,\r\n            @StringRes int closeDrawerContentDescRes) {\r\n        this(activity, toolbar, drawerLayout, null, openDrawerContentDescRes,\r\n                closeDrawerContentDescRes);\r\n    }\r\n\r\nYou need to change both from `String` to string resource such as `R.string.YOUR_STRING` that located in strings.xml file.","title":"ActionBarDrawerToggle doesn&#39;t accept String as parameter","body":"<p>If you check constructor signature as you can see it accepts string resource, <code>int</code>, not <code>String</code></p>\n<pre><code>public ActionBarDrawerToggle(Activity activity, DrawerLayout drawerLayout,\n        Toolbar toolbar, @StringRes int openDrawerContentDescRes,\n        @StringRes int closeDrawerContentDescRes) {\n    this(activity, toolbar, drawerLayout, null, openDrawerContentDescRes,\n            closeDrawerContentDescRes);\n}\n</code></pre>\n<p>You need to change both from <code>String</code> to string resource such as <code>R.string.YOUR_STRING</code> that located in strings.xml file.</p>\n"},{"tags":[],"owner":{"account_id":22829921,"reputation":111,"user_id":16978574,"display_name":"Priyanshu "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644503445,"creation_date":1644503445,"answer_id":71066923,"question_id":71066731,"body_markdown":"&gt; According to Android official [docs][1] openDrawerContentDescRes and closeDrawerContentDescRes are of int datatype.\r\n\r\n    ActionBarDrawerToggle (Activity activity, \r\n                DrawerLayout drawerLayout, \r\n                int openDrawerContentDescRes, \r\n                int closeDrawerContentDescRes)\r\n\r\nSo you need to change your string to string resource id ( ``` R.string.YOUR_STRING ```) to describe the &quot;open drawer&quot; and &quot;close drawer&quot; action for accessibility.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v7/app/ActionBarDrawerToggle#ActionBarDrawerToggle(android.app.Activity,%20android.support.v4.widget.DrawerLayout,%20int,%20int)","title":"ActionBarDrawerToggle doesn&#39;t accept String as parameter","body":"<blockquote>\n<p>According to Android official <a href=\"https://developer.android.com/reference/android/support/v7/app/ActionBarDrawerToggle#ActionBarDrawerToggle(android.app.Activity,%20android.support.v4.widget.DrawerLayout,%20int,%20int)\" rel=\"nofollow noreferrer\">docs</a> openDrawerContentDescRes and closeDrawerContentDescRes are of int datatype.</p>\n</blockquote>\n<pre><code>ActionBarDrawerToggle (Activity activity, \n            DrawerLayout drawerLayout, \n            int openDrawerContentDescRes, \n            int closeDrawerContentDescRes)\n</code></pre>\n<p>So you need to change your string to string resource id ( <code>R.string.YOUR_STRING</code>) to describe the &quot;open drawer&quot; and &quot;close drawer&quot; action for accessibility.</p>\n"}],"owner":{"account_id":22894137,"reputation":285,"user_id":17033887,"display_name":"saad tabban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71066822,"answer_count":2,"score":-1,"last_activity_date":1644503445,"creation_date":1644502671,"question_id":71066731,"body_markdown":"the Red line is under &quot;Open navigation drawer&quot; and &quot;Close navigation drawer&quot;\r\n\r\n    import androidx.appcompat.app.ActionBarDrawerToggle;\r\n    setContentView(R.layout.activity_home);\r\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n        toolbar.setTitle(&quot;Menu&quot;);\r\n        setSupportActionBar(toolbar);\r\n    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            ActionBarDrawerToggle toogle = new ActionBarDrawerToggle(this,\r\n                    drawer,\r\n                    toolbar ,\r\n                    &quot;Open navigation drawer&quot;,\r\n                    &quot;Close navigation drawer&quot;\r\n    \r\n                    );\r\n            drawer.setDrawerListener(toogle);\r\n            toogle.syncState();\r\n\r\n[This picture shows the problem][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gDPLR.png","title":"ActionBarDrawerToggle doesn&#39;t accept String as parameter","body":"<p>the Red line is under &quot;Open navigation drawer&quot; and &quot;Close navigation drawer&quot;</p>\n<pre><code>import androidx.appcompat.app.ActionBarDrawerToggle;\nsetContentView(R.layout.activity_home);\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n    toolbar.setTitle(&quot;Menu&quot;);\n    setSupportActionBar(toolbar);\nDrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        ActionBarDrawerToggle toogle = new ActionBarDrawerToggle(this,\n                drawer,\n                toolbar ,\n                &quot;Open navigation drawer&quot;,\n                &quot;Close navigation drawer&quot;\n\n                );\n        drawer.setDrawerListener(toogle);\n        toogle.syncState();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gDPLR.png\" rel=\"nofollow noreferrer\">This picture shows the problem</a></p>\n"},{"tags":["java","intellij-idea","process","coap"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644504034,"post_id":71066851,"comment_id":125628630,"body_markdown":"The purpose of that option is to allow running the same &quot;class&quot; multiple times. You have to handle the logic, like in this case, to make that happen. IntelliJ will not handle it by itself. I suggest you creating a test class that creates several threads, each one with a different port, or, having a &quot;Session&quot; class that is responsible to create a new port that is not in use, or use Unit/Integration tests for that.","body":"The purpose of that option is to allow running the same &quot;class&quot; multiple times. You have to handle the logic, like in this case, to make that happen. IntelliJ will not handle it by itself. I suggest you creating a test class that creates several threads, each one with a different port, or, having a &quot;Session&quot; class that is responsible to create a new port that is not in use, or use Unit/Integration tests for that."},{"owner":{"account_id":13903028,"reputation":11,"user_id":18066322,"display_name":"Mo0oon9898"},"score":0,"creation_date":1644507505,"post_id":71066851,"comment_id":125630277,"body_markdown":"Thank you for your answer. It helped me solve the problem.","body":"Thank you for your answer. It helped me solve the problem."},{"owner":{"account_id":15153537,"reputation":729,"user_id":10935137,"display_name":"Achim Kraus"},"score":0,"creation_date":1644574977,"post_id":71066851,"comment_id":125648178,"body_markdown":"I&#39;m not sure, what you really want to do. Maybe it&#39;s more mixing up terms as devices, clients, and servers. Anyway, you may start a CoapServer using &quot;CoapServer(final int... ports)&quot; in order to use different ports. Or provide more information and create a issue in https://github.com/eclipse/californium/issues/new/choose","body":"I&#39;m not sure, what you really want to do. Maybe it&#39;s more mixing up terms as devices, clients, and servers. Anyway, you may start a CoapServer using &quot;CoapServer(final int... ports)&quot; in order to use different ports. Or provide more information and create a issue in <a href=\"https://github.com/eclipse/californium/issues/new/choose\" rel=\"nofollow noreferrer\">github.com/eclipse/californium/issues/new/choose</a>"}],"owner":{"account_id":13903028,"reputation":11,"user_id":18066322,"display_name":"Mo0oon9898"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644503081,"creation_date":1644503081,"question_id":71066851,"body_markdown":"I am doing a university project with IntelliJ Idea using the CoAP protocol and I need to emulate the presence of *n* devices (to be precise, I need to emulate the fact that the same sensor is present several times in a given environment).\r\n\r\nSince in my project sensors are servers, I turned on &quot;Allow multiple instances&quot; in IntelliJ&#39;s Run/Debug Configurations and if I run the same server twice, the first server works fine but in the terminal of the second server I get this:\r\n```\r\n[main] INFO org.eclipse.californium.core.CoapServer - Starting server\r\n[main] INFO org.eclipse.californium.core.network.CoapEndpoint - coap Endpoint at coap://0.0.0.0:5685 is already stopped\r\n[main] ERROR org.eclipse.californium.core.CoapServer - cannot start server endpoint [0.0.0.0/0.0.0.0:5685]\r\njava.net.BindException: Address already in use: bind\r\n\tat java.base/sun.nio.ch.Net.bind0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.bind(Net.java:555)\r\n\tat java.base/sun.nio.ch.DatagramChannelImpl.bindInternal(DatagramChannelImpl.java:1194)\r\n\tat java.base/sun.nio.ch.DatagramChannelImpl.bind(DatagramChannelImpl.java:1164)\r\n\tat java.base/sun.nio.ch.DatagramSocketAdaptor.bind(DatagramSocketAdaptor.java:107)\r\n\tat java.base/java.net.DatagramSocket.bind(DatagramSocket.java:408)\r\n\tat org.eclipse.californium.elements.UDPConnector.start(UDPConnector.java:180)\r\n\tat org.eclipse.californium.core.network.CoapEndpoint.start(CoapEndpoint.java:608)\r\n\tat org.eclipse.californium.core.CoapServer.start(CoapServer.java:263)\r\n\tat it.unimore.fum.iot.server.EnvironmentMonitoringCoapProcess.main(EnvironmentMonitoringCoapProcess.java:54)\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: None of the server endpoints could be started\r\n\tat org.eclipse.californium.core.CoapServer.start(CoapServer.java:271)\r\n\tat it.unimore.fum.iot.server.EnvironmentMonitoringCoapProcess.main(EnvironmentMonitoringCoapProcess.java:54)\r\n\r\n```\r\n\r\nI know the address is already in use, as the first server is already using it.\r\nBut then how can I emulate the *n* devices?\r\n\r\n\r\n\r\n*Note: with n devices, I mean at least 3/4 devices, in order to show the correct functioning of the developed system.*","title":"How to run a server n times on IntelliJ Idea?","body":"<p>I am doing a university project with IntelliJ Idea using the CoAP protocol and I need to emulate the presence of <em>n</em> devices (to be precise, I need to emulate the fact that the same sensor is present several times in a given environment).</p>\n<p>Since in my project sensors are servers, I turned on &quot;Allow multiple instances&quot; in IntelliJ's Run/Debug Configurations and if I run the same server twice, the first server works fine but in the terminal of the second server I get this:</p>\n<pre><code>[main] INFO org.eclipse.californium.core.CoapServer - Starting server\n[main] INFO org.eclipse.californium.core.network.CoapEndpoint - coap Endpoint at coap://0.0.0.0:5685 is already stopped\n[main] ERROR org.eclipse.californium.core.CoapServer - cannot start server endpoint [0.0.0.0/0.0.0.0:5685]\njava.net.BindException: Address already in use: bind\n    at java.base/sun.nio.ch.Net.bind0(Native Method)\n    at java.base/sun.nio.ch.Net.bind(Net.java:555)\n    at java.base/sun.nio.ch.DatagramChannelImpl.bindInternal(DatagramChannelImpl.java:1194)\n    at java.base/sun.nio.ch.DatagramChannelImpl.bind(DatagramChannelImpl.java:1164)\n    at java.base/sun.nio.ch.DatagramSocketAdaptor.bind(DatagramSocketAdaptor.java:107)\n    at java.base/java.net.DatagramSocket.bind(DatagramSocket.java:408)\n    at org.eclipse.californium.elements.UDPConnector.start(UDPConnector.java:180)\n    at org.eclipse.californium.core.network.CoapEndpoint.start(CoapEndpoint.java:608)\n    at org.eclipse.californium.core.CoapServer.start(CoapServer.java:263)\n    at it.unimore.fum.iot.server.EnvironmentMonitoringCoapProcess.main(EnvironmentMonitoringCoapProcess.java:54)\nException in thread &quot;main&quot; java.lang.IllegalStateException: None of the server endpoints could be started\n    at org.eclipse.californium.core.CoapServer.start(CoapServer.java:271)\n    at it.unimore.fum.iot.server.EnvironmentMonitoringCoapProcess.main(EnvironmentMonitoringCoapProcess.java:54)\n\n</code></pre>\n<p>I know the address is already in use, as the first server is already using it.\nBut then how can I emulate the <em>n</em> devices?</p>\n<p><em>Note: with n devices, I mean at least 3/4 devices, in order to show the correct functioning of the developed system.</em></p>\n"},{"tags":["java","active-directory","azure-active-directory","ldap","unboundid-ldap-sdk"],"comments":[{"owner":{"account_id":1239958,"reputation":39014,"user_id":1202807,"display_name":"Gabriel Luci"},"score":0,"creation_date":1644418685,"post_id":71051665,"comment_id":125602159,"body_markdown":"Would you share the code you&#39;re using?","body":"Would you share the code you&#39;re using?"},{"owner":{"account_id":24204816,"reputation":21,"user_id":18162169,"display_name":"abcabc"},"score":0,"creation_date":1644419355,"post_id":71051665,"comment_id":125602455,"body_markdown":"I wont be able to as its part of a huge repo, and there are lot of files involved. But I would be grateful if you can help me out here.","body":"I wont be able to as its part of a huge repo, and there are lot of files involved. But I would be grateful if you can help me out here."},{"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"score":0,"creation_date":1644491941,"post_id":71051665,"comment_id":125623626,"body_markdown":"I suggest you provide an example of simple code you are using. Tell us what you have tried and show logs or results and Read:\nhttps://stackoverflow.com/help/how-to-ask","body":"I suggest you provide an example of simple code you are using. Tell us what you have tried and show logs or results and Read: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":24204816,"reputation":21,"user_id":18162169,"display_name":"abcabc"},"score":0,"creation_date":1644502649,"post_id":71051665,"comment_id":125627991,"body_markdown":"This is my first question on this forum:) Have added simplified code. Please take a look now.","body":"This is my first question on this forum:) Have added simplified code. Please take a look now."},{"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"score":0,"creation_date":1647349049,"post_id":71051665,"comment_id":126344278,"body_markdown":"How large is your Microsoft Active Directory tree (Number of objects)?\n\nHow many groups would a user be a memberOf?\n\nHow many Groups are in your tree?\n\nTry it without paged search.","body":"How large is your Microsoft Active Directory tree (Number of objects)?  How many groups would a user be a memberOf?  How many Groups are in your tree?  Try it without paged search."},{"owner":{"account_id":24204816,"reputation":21,"user_id":18162169,"display_name":"abcabc"},"score":0,"creation_date":1647356214,"post_id":71051665,"comment_id":126347435,"body_markdown":"I have tested this behaviour in a small setup with 4 groups with 5 user members each. But practically this can be very high too, so a paged search is necessary","body":"I have tested this behaviour in a small setup with 4 groups with 5 user members each. But practically this can be very high too, so a paged search is necessary"}],"owner":{"account_id":24204816,"reputation":21,"user_id":18162169,"display_name":"abcabc"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644503046,"creation_date":1644418040,"question_id":71051665,"body_markdown":"I want to make paginated LDAP queries to my Active Directory, and I am using `SimplePagedResultsControl` of UnboundID SDK. As per my use cases, I have 2 types of filters -\r\n1. Querying users: ```(&amp;(objectClass=user)(memberof=cn=group1,dc=a,dc=com)(memberof=cn=group2,dc=a,dc=com)(...)...)```\r\n2. Querying groups: ```(&amp;(objectclass=group)(cn=group1)(cn=group2)(...)...)```\r\n\r\nSimplified code -\r\n```\r\n   private SearchResponse makeQuery(\r\n    SearchRequest request, ConnectionMetadata metadata) {\r\n      FullLDAPInterface connection = \r\n         ConnectionConstructor.getConnection(metadata);\r\n\r\n      return connection.search(request);\r\n   }\r\n```\r\n\r\n```\r\n// Calling above method in another class.\r\n\r\n   private SearchResponse ldapQuery(String baseDn, LdapScope scope, String ldapFilter, String[] attributes, ASN1OctetString cookie) {\r\n      // metadata consists of server IP, host, port, certificate.\r\n      ConnectionMetadata connectionMetadata = getMetadata();\r\n      SearchRequest request = \r\n         new SearchRequest(\r\n            baseDn,\r\n            scope,\r\n            ldapFilter,\r\n            attributes\r\n         );\r\n\r\n      Control pageControl = \r\n         new SimplePagedResultsControl(\r\n            100 /*pagesize*/,\r\n            cookie,\r\n            true /*criticality*/ \r\n         );\r\n\r\n       request.addControl(pageControl);\r\n       return makeQuery(request, connectionMetadata);\r\n   }\r\n\r\n   public void pagedLdapQuery(String baseDn, LdapScope scope, String ldapFilter, String[] attributes) {\r\n       SearchResponse response = ldapQuery(baseDn, scope, ldapFilter, attributes, new ASN1OctetString(&quot;&quot;));\r\n       \r\n        ASN1OctetString cookie = SimplePagedResultsControl.get(response).getCookie();\r\n        while (cookie.getSize() &gt; 0) {\r\n            response = ldapQuery(baseDn, scope, ldapFilter, attributes, new cookie);\r\n            cookie = SimplePagedResultsControl.get(response).getCookie();\r\n        }\r\n}\r\n```\r\n\r\n\r\nHave been seeing some strange behaviour where the first page has the expected number of objects, but with a page cookie of 4 bytes only. Generally I have seen it to be several hundred bytes.\r\n\r\nOn querying for the second page using the same query as before and the 4 byte cookie, the response consists of all the objects that match the filter(which are lot more than page size, but less than 1000 (size limit)). As per my understanding, AD is acting as if the cookie was not provided (I have confirmed that the cookie is valid, but does not work).\r\n\r\nMy hunch is that this is happening because we are opening a new connection for querying EACH page of the query, and probably the cookies are not valid across connections. But it seems strange that the cookie is not valid across multiple connections, and I have not been able to find any supporting documentation for this.\r\n\r\nI have tried setting `MaxResultSetsPerConn = 10` (was 0 earlier) and `MinResultSets = 4` (was 0 earlier) ([Ref][1]). But pagination is still not working correctly for me. \r\n\r\nAnother observation: The LDAP query does not always return non-paginated responses. It changes with the number of `memberof` or `cn` components in the query. For example: \\\r\n```(&amp;(objectClass=user)(memberof=cn=group1,dc=a,dc=com)(memberof=cn=group2,dc=a,dc=com)``` works correctly, and a cookie of several hundred bytes is returned.\r\n\r\nbut ```(&amp;(objectClass=user)(memberof=cn=group,dc=a,dc=com)(memberof=cn=group2,dc=a,dc=com)(memberof=cn=group3,dc=a,dc=com))``` behaves as if the page cookie was not provided at all from the second page onwards.\r\n\r\nHow can I make this work? Are there any other AD settings that can be tuned?\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/manage/how-ldap-server-cookies-are-handled#how-the-cookie-pool-is-managed","title":"Error while using paged query with Active Directory","body":"<p>I want to make paginated LDAP queries to my Active Directory, and I am using <code>SimplePagedResultsControl</code> of UnboundID SDK. As per my use cases, I have 2 types of filters -</p>\n<ol>\n<li>Querying users: <code>(&amp;(objectClass=user)(memberof=cn=group1,dc=a,dc=com)(memberof=cn=group2,dc=a,dc=com)(...)...)</code></li>\n<li>Querying groups: <code>(&amp;(objectclass=group)(cn=group1)(cn=group2)(...)...)</code></li>\n</ol>\n<p>Simplified code -</p>\n<pre><code>   private SearchResponse makeQuery(\n    SearchRequest request, ConnectionMetadata metadata) {\n      FullLDAPInterface connection = \n         ConnectionConstructor.getConnection(metadata);\n\n      return connection.search(request);\n   }\n</code></pre>\n<pre><code>// Calling above method in another class.\n\n   private SearchResponse ldapQuery(String baseDn, LdapScope scope, String ldapFilter, String[] attributes, ASN1OctetString cookie) {\n      // metadata consists of server IP, host, port, certificate.\n      ConnectionMetadata connectionMetadata = getMetadata();\n      SearchRequest request = \n         new SearchRequest(\n            baseDn,\n            scope,\n            ldapFilter,\n            attributes\n         );\n\n      Control pageControl = \n         new SimplePagedResultsControl(\n            100 /*pagesize*/,\n            cookie,\n            true /*criticality*/ \n         );\n\n       request.addControl(pageControl);\n       return makeQuery(request, connectionMetadata);\n   }\n\n   public void pagedLdapQuery(String baseDn, LdapScope scope, String ldapFilter, String[] attributes) {\n       SearchResponse response = ldapQuery(baseDn, scope, ldapFilter, attributes, new ASN1OctetString(&quot;&quot;));\n       \n        ASN1OctetString cookie = SimplePagedResultsControl.get(response).getCookie();\n        while (cookie.getSize() &gt; 0) {\n            response = ldapQuery(baseDn, scope, ldapFilter, attributes, new cookie);\n            cookie = SimplePagedResultsControl.get(response).getCookie();\n        }\n}\n</code></pre>\n<p>Have been seeing some strange behaviour where the first page has the expected number of objects, but with a page cookie of 4 bytes only. Generally I have seen it to be several hundred bytes.</p>\n<p>On querying for the second page using the same query as before and the 4 byte cookie, the response consists of all the objects that match the filter(which are lot more than page size, but less than 1000 (size limit)). As per my understanding, AD is acting as if the cookie was not provided (I have confirmed that the cookie is valid, but does not work).</p>\n<p>My hunch is that this is happening because we are opening a new connection for querying EACH page of the query, and probably the cookies are not valid across connections. But it seems strange that the cookie is not valid across multiple connections, and I have not been able to find any supporting documentation for this.</p>\n<p>I have tried setting <code>MaxResultSetsPerConn = 10</code> (was 0 earlier) and <code>MinResultSets = 4</code> (was 0 earlier) (<a href=\"https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/manage/how-ldap-server-cookies-are-handled#how-the-cookie-pool-is-managed\" rel=\"nofollow noreferrer\">Ref</a>). But pagination is still not working correctly for me.</p>\n<p>Another observation: The LDAP query does not always return non-paginated responses. It changes with the number of <code>memberof</code> or <code>cn</code> components in the query. For example: <br />\n<code>(&amp;(objectClass=user)(memberof=cn=group1,dc=a,dc=com)(memberof=cn=group2,dc=a,dc=com)</code> works correctly, and a cookie of several hundred bytes is returned.</p>\n<p>but <code>(&amp;(objectClass=user)(memberof=cn=group,dc=a,dc=com)(memberof=cn=group2,dc=a,dc=com)(memberof=cn=group3,dc=a,dc=com))</code> behaves as if the page cookie was not provided at all from the second page onwards.</p>\n<p>How can I make this work? Are there any other AD settings that can be tuned?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1644429607,"post_id":71054479,"comment_id":125606817,"body_markdown":"No, because you might receive, say, `434324322343432310.13`, which is not a number that can be accurately represented as a float: https://ideone.com/Ms41xI","body":"No, because you might receive, say, <code>434324322343432310.13</code>, which is not a number that can be accurately represented as a float: <a href=\"https://ideone.com/Ms41xI\" rel=\"nofollow noreferrer\">ideone.com/Ms41xI</a>"},{"owner":{"account_id":3596675,"reputation":3616,"user_id":3001150,"accept_rate":57,"display_name":"Raildex"},"score":0,"creation_date":1644430513,"post_id":71054479,"comment_id":125607170,"body_markdown":"I&#39;d always use some scaled integer (storing cents or microcents)","body":"I&#39;d always use some scaled integer (storing cents or microcents)"}],"answers":[{"tags":[],"owner":{"account_id":8955318,"reputation":375,"user_id":6897369,"accept_rate":100,"display_name":"Ivan  Silkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644429669,"creation_date":1644429669,"answer_id":71054506,"question_id":71054479,"body_markdown":"I know a commercial company that uses some kind of double variables in their database to represent money count, and I even know cases where their values differ by 245,20 -&gt; 245,1999999999999999999999 because of that so that should be fine for a learning purpose at least. Just use math.round(value, precision(2)) or whatever math functions / methods for rounding a value java has.","title":"Using float type to represent money amount without arithmetic operations","body":"<p>I know a commercial company that uses some kind of double variables in their database to represent money count, and I even know cases where their values differ by 245,20 -&gt; 245,1999999999999999999999 because of that so that should be fine for a learning purpose at least. Just use math.round(value, precision(2)) or whatever math functions / methods for rounding a value java has.</p>\n"},{"tags":[],"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644502711,"creation_date":1644429784,"answer_id":71054538,"question_id":71054479,"body_markdown":"Not necessarily. Most numbers that &quot;look nice&quot; in base-10 representation, such as 0.1, can not be represented exactly as a binary floating-point number. For example, even when using `double`, the base-10 number 0.1 will be represented as a number that is approximately 0.1000000000000000055511151231257827021181583404541015625.\r\n\r\nOnly numbers where the decimal part can be written as a finite sum of inverse powers of two (1/2, 1/4, 1/8, 1/16, and so on) can be represented exactly as a finite binary decimal number (for example: 0.9375, which is the sum of those four numbers). And among those numbers, only the ones that have few enough binary digits can be represented exactly as a floating-point number (at most 24 binary digits for `float` and 53 binary digits for `double`, as per the [IEEE 754 standard](https://en.wikipedia.org/wiki/IEEE_754)). This is similar to the situation with base-10 numbers; it just happens for more numbers in binary. For example, 1/3 cannot be represented with a finite number of decimals in either base-10 or binary.\r\n\r\nHowever, if you&#39;re just storing the number and printing it at some point, you&#39;ll probably be fine, because most functions for printing floating-point numbers will round the number off nicely for you.","title":"Using float type to represent money amount without arithmetic operations","body":"<p>Not necessarily. Most numbers that &quot;look nice&quot; in base-10 representation, such as 0.1, can not be represented exactly as a binary floating-point number. For example, even when using <code>double</code>, the base-10 number 0.1 will be represented as a number that is approximately 0.1000000000000000055511151231257827021181583404541015625.</p>\n<p>Only numbers where the decimal part can be written as a finite sum of inverse powers of two (1/2, 1/4, 1/8, 1/16, and so on) can be represented exactly as a finite binary decimal number (for example: 0.9375, which is the sum of those four numbers). And among those numbers, only the ones that have few enough binary digits can be represented exactly as a floating-point number (at most 24 binary digits for <code>float</code> and 53 binary digits for <code>double</code>, as per the <a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"nofollow noreferrer\">IEEE 754 standard</a>). This is similar to the situation with base-10 numbers; it just happens for more numbers in binary. For example, 1/3 cannot be represented with a finite number of decimals in either base-10 or binary.</p>\n<p>However, if you're just storing the number and printing it at some point, you'll probably be fine, because most functions for printing floating-point numbers will round the number off nicely for you.</p>\n"}],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1644459702,"answer_count":2,"score":-1,"last_activity_date":1644502711,"creation_date":1644429503,"question_id":71054479,"body_markdown":"I understand float/double are bad choices for storing money amounts. When you do some arithmetic operations, you may lose precision.\r\n\r\nIs it safe to use float just to represent the amount when arithmetic operations are not performed on that number? For example, mapping amount from API to `float` type.","title":"Using float type to represent money amount without arithmetic operations","body":"<p>I understand float/double are bad choices for storing money amounts. When you do some arithmetic operations, you may lose precision.</p>\n<p>Is it safe to use float just to represent the amount when arithmetic operations are not performed on that number? For example, mapping amount from API to <code>float</code> type.</p>\n"},{"tags":["java","docker","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1449754330,"post_id":34203179,"comment_id":56150870,"body_markdown":"For the plugin i would suggest to use `mvn dependency:resolve-plugins` see https://maven.apache.org/plugins/maven-dependency-plugin/resolve-plugins-mojo.html","body":"For the plugin i would suggest to use <code>mvn dependency:resolve-plugins</code> see <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/resolve-plugins-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/&hellip;</a>"},{"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"score":0,"creation_date":1449755448,"post_id":34203179,"comment_id":56151577,"body_markdown":"Thanks, that solves the problem.","body":"Thanks, that solves the problem."},{"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"score":0,"creation_date":1644502668,"post_id":34203179,"comment_id":125628002,"body_markdown":"Please look at my solution at  https://stackoverflow.com/a/71066133/418599 .","body":"Please look at my solution at  <a href=\"https://stackoverflow.com/a/71066133/418599\">stackoverflow.com/a/71066133/418599</a> ."},{"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"score":0,"creation_date":1644694292,"post_id":34203179,"comment_id":125676295,"body_markdown":"Thanks but I&#39;ve long stopped using maven; I&#39;m now using Gradle. Which of course has its own set of challenges regarding offline usage.","body":"Thanks but I&#39;ve long stopped using maven; I&#39;m now using Gradle. Which of course has its own set of challenges regarding offline usage."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1449764406,"creation_date":1449764406,"answer_id":34206777,"question_id":34203179,"body_markdown":"For the plugin i would suggest to use `mvn dependency:resolve-plugins`\r\n\r\nSee the documentation: https://maven.apache.org/plugins/maven-dependency-plugin/","title":"fetch all maven dependencies including plugin dependencies","body":"<p>For the plugin i would suggest to use <code>mvn dependency:resolve-plugins</code></p>\n\n<p>See the documentation: <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/\" rel=\"nofollow\">https://maven.apache.org/plugins/maven-dependency-plugin/</a></p>\n"},{"tags":[],"owner":{"account_id":7613099,"reputation":193,"user_id":7592949,"display_name":"DET66"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532524747,"creation_date":1532524747,"answer_id":51519923,"question_id":34203179,"body_markdown":"I almost resolve with this:\r\n\r\n    RUN mvn install -DskipTests dependency:resolve dependency:resolve-plugins\r\n\r\n","title":"fetch all maven dependencies including plugin dependencies","body":"<p>I almost resolve with this:</p>\n\n<pre><code>RUN mvn install -DskipTests dependency:resolve dependency:resolve-plugins\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14189051,"reputation":51,"user_id":10250251,"display_name":"Pavel Sklenar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544561478,"creation_date":1544561478,"answer_id":53732160,"question_id":34203179,"body_markdown":"This works for me, no other dependencies to download:\r\n\r\n    RUN mvn -B dependency:resolve dependency:resolve-plugins","title":"fetch all maven dependencies including plugin dependencies","body":"<p>This works for me, no other dependencies to download:</p>\n\n<pre><code>RUN mvn -B dependency:resolve dependency:resolve-plugins\n</code></pre>\n"}],"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8400,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1644502659,"creation_date":1449754130,"question_id":34203179,"body_markdown":"I&#39;m trying to get maven to download all dependencies (compile, test, plugins, etc.) so that I can avoid having our dockerized builds waste unnecessary time downloading them over and over again.\r\n\r\nWe have dockerized our maven build so that we can run it from our jenkins without having a lot of build specific dependencies installed on the jenkins machine (Java, redis, maven dependencies, etc.). Our build relies on incremental docker builds that only executes steps that actually need re-running.\r\n\r\nOur main build is a DockerFile that has several steps to install the jdk, maven, etc. Then it does a \r\n\r\n```\r\nCOPY ./pom.xml /opt/inbot-api/pom.xml\r\nRUN mvn dependency:copy-dependencies clean\r\n``` \r\n\r\nThis will download dependencies to the local maven repository and then cleans out the target directory.\r\n\r\nThen we copy the source tree to the image and run the full build. \r\n\r\n```\r\nCOPY ./src /opt/inbot-api/src\r\nRUN mvn -e clean install\r\n```\r\n\r\nThe general idea is that on a clean machine, docker will execute all the RUN steps but on incremental builds it will only rerun things that need re-running. After each run step, it stores an intermediary image. So, if the pom file doesn&#39;t change, there&#39;s no need to rerun the dependency fetching step because it would produce the exact same outcome. So, instead it loads the cached intermediary image with all the dependencies already downloaded. This is exactly what we want.\r\n\r\nThere&#39;s a lot more to our DockerFile that is not so relevant here but ultimately it produces a docker file with our compiled artifacts, an nginx config and all our runtime dependencies that we can deploy to ECS.\r\n\r\n\r\nThis nearly works except the `mvn clean install` still downloads additional plugin dependencies on every build. So, these are dependencies that the copy-dependencies step does not cover.\r\n\r\nMy question, how do I get `RUN mvn dependency:copy-dependencies clean` to download all dependencies including the plugin dependencies. I&#39;ve seen people actually do a `mvn verify clean` instead of `mvn dependency:copy-dependencies clean` but that is kind of slow in our case. I was wondering if there was a better way to do this.\r\n\r\nI&#39;d appreciate any feedback on how to improve this.\r\n\r\n**Update**\r\n\r\nI now do a \r\n\r\n```\r\nRUN mvn -B -T 4 dependency:copy-dependencies dependency:resolve-plugins dependency:go-offline  clean\r\n```\r\n\r\nAnd it still downloads more stuff with the `mvn clean install` after that. A `mvn -o clean install` still fails, despite the `dependency:go-offline`. So, it seems this plugin is broken.\r\n","title":"fetch all maven dependencies including plugin dependencies","body":"<p>I'm trying to get maven to download all dependencies (compile, test, plugins, etc.) so that I can avoid having our dockerized builds waste unnecessary time downloading them over and over again.</p>\n\n<p>We have dockerized our maven build so that we can run it from our jenkins without having a lot of build specific dependencies installed on the jenkins machine (Java, redis, maven dependencies, etc.). Our build relies on incremental docker builds that only executes steps that actually need re-running.</p>\n\n<p>Our main build is a DockerFile that has several steps to install the jdk, maven, etc. Then it does a </p>\n\n<p><code>\nCOPY ./pom.xml /opt/inbot-api/pom.xml\nRUN mvn dependency:copy-dependencies clean\n</code> </p>\n\n<p>This will download dependencies to the local maven repository and then cleans out the target directory.</p>\n\n<p>Then we copy the source tree to the image and run the full build. </p>\n\n<p><code>\nCOPY ./src /opt/inbot-api/src\nRUN mvn -e clean install\n</code></p>\n\n<p>The general idea is that on a clean machine, docker will execute all the RUN steps but on incremental builds it will only rerun things that need re-running. After each run step, it stores an intermediary image. So, if the pom file doesn't change, there's no need to rerun the dependency fetching step because it would produce the exact same outcome. So, instead it loads the cached intermediary image with all the dependencies already downloaded. This is exactly what we want.</p>\n\n<p>There's a lot more to our DockerFile that is not so relevant here but ultimately it produces a docker file with our compiled artifacts, an nginx config and all our runtime dependencies that we can deploy to ECS.</p>\n\n<p>This nearly works except the <code>mvn clean install</code> still downloads additional plugin dependencies on every build. So, these are dependencies that the copy-dependencies step does not cover.</p>\n\n<p>My question, how do I get <code>RUN mvn dependency:copy-dependencies clean</code> to download all dependencies including the plugin dependencies. I've seen people actually do a <code>mvn verify clean</code> instead of <code>mvn dependency:copy-dependencies clean</code> but that is kind of slow in our case. I was wondering if there was a better way to do this.</p>\n\n<p>I'd appreciate any feedback on how to improve this.</p>\n\n<p><strong>Update</strong></p>\n\n<p>I now do a </p>\n\n<p><code>\nRUN mvn -B -T 4 dependency:copy-dependencies dependency:resolve-plugins dependency:go-offline  clean\n</code></p>\n\n<p>And it still downloads more stuff with the <code>mvn clean install</code> after that. A <code>mvn -o clean install</code> still fails, despite the <code>dependency:go-offline</code>. So, it seems this plugin is broken.</p>\n"},{"tags":["java","c#","interface","abstract-class"],"comments":[{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1644499102,"post_id":71065203,"comment_id":125626402,"body_markdown":"_&quot;making sure everything is mapped 1-to-1&quot;_ when &quot;translating&quot; code from language A to language B is not the smartest of ideas to begin with ...","body":"<i>&quot;making sure everything is mapped 1-to-1&quot;</i> when &quot;translating&quot; code from language A to language B is not the smartest of ideas to begin with ..."},{"owner":{"account_id":22647437,"reputation":11,"user_id":16822597,"display_name":"Jonas Rasmussen"},"score":0,"creation_date":1644504069,"post_id":71065203,"comment_id":125628653,"body_markdown":"@Fildor I agree, but as the java code might change in the future, I (or someone else) will have to reflect the same changes to the C# version which can be tedious if the code is too different","body":"@Fildor I agree, but as the java code might change in the future, I (or someone else) will have to reflect the same changes to the C# version which can be tedious if the code is too different"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":2,"creation_date":1644506802,"post_id":71065203,"comment_id":125629996,"body_markdown":"Then don&#39;t ... why maintain a software in 2 languages?","body":"Then don&#39;t ... why maintain a software in 2 languages?"},{"owner":{"account_id":22647437,"reputation":11,"user_id":16822597,"display_name":"Jonas Rasmussen"},"score":0,"creation_date":1644565611,"post_id":71065203,"comment_id":125645087,"body_markdown":"Because there isn&#39;t a C# version of the library, which I need in my case. So when the developers of the Java library pushes an update in 1 year I&#39;ll be able to reflect that in my C# version without having to spent extra time to figure out how/what I changed it to","body":"Because there isn&#39;t a C# version of the library, which I need in my case. So when the developers of the Java library pushes an update in 1 year I&#39;ll be able to reflect that in my C# version without having to spent extra time to figure out how/what I changed it to"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1644568250,"post_id":71065203,"comment_id":125645781,"body_markdown":"The problem with &quot;1:1&quot; translations between specifically Java and C# is: There are certain things that are done differently - basically speaking. You **cannot** _always_ code things 1:1 the same in both languages. They have different feature sets, different core library implemenations, even different concepts sometimes.","body":"The problem with &quot;1:1&quot; translations between specifically Java and C# is: There are certain things that are done differently - basically speaking. You <b>cannot</b> <i>always</i> code things 1:1 the same in both languages. They have different feature sets, different core library implemenations, even different concepts sometimes."},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1644568458,"post_id":71065203,"comment_id":125645869,"body_markdown":"... and by the way: If this library is so important for your codebase - why not switch to Java for the whole project? Wouldn&#39;t that make our life easier? That would rid you off the need to maintain a &quot;whatever-lib-in-java&quot; clone.","body":"... and by the way: If this library is so important for your codebase - why not switch to Java for the whole project? Wouldn&#39;t that make our life easier? That would rid you off the need to maintain a &quot;whatever-lib-in-java&quot; clone."},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1644568745,"post_id":71065203,"comment_id":125645973,"body_markdown":"... or another way out of this would be to &quot;simply&quot; create an API (Rest for example) for that lib and use it like a micro-service. That would mean you&#39;d need to run a Java-Service, yes, and I don&#39;t know how that would fit in with your project, but if I had to do this, I&#39;d prefer it over maintaining a C# clone of 3rd party Java lib. Especially if this is a commercial project which could end up in legal trouble for exactly cloning that lib (maybe that&#39;s that&#39;s a non-issue, but who knows...).","body":"... or another way out of this would be to &quot;simply&quot; create an API (Rest for example) for that lib and use it like a micro-service. That would mean you&#39;d need to run a Java-Service, yes, and I don&#39;t know how that would fit in with your project, but if I had to do this, I&#39;d prefer it over maintaining a C# clone of 3rd party Java lib. Especially if this is a commercial project which could end up in legal trouble for exactly cloning that lib (maybe that&#39;s that&#39;s a non-issue, but who knows...)."},{"owner":{"account_id":22647437,"reputation":11,"user_id":16822597,"display_name":"Jonas Rasmussen"},"score":1,"creation_date":1644573788,"post_id":71065203,"comment_id":125647751,"body_markdown":"I get your points and that what I&#39;m doing is weird. \nBut we are already using lots of C# specific libraries and everything else is C# (not feasible converting that to Java). I&#39;m not entirely sure about the micro-service, but I think it would be too costly to have a Java-service running on each server (I can&#39;t answer why we aren&#39;t doing that). The only legal problem is that we have to publish my conversion when it is up and running. Lastly, I&#39;m aware that I cannot always code thigs 1:1, which is why I also wrote &quot;I would like to avoid&quot; not &quot;I have to avoid&quot;","body":"I get your points and that what I&#39;m doing is weird.  But we are already using lots of C# specific libraries and everything else is C# (not feasible converting that to Java). I&#39;m not entirely sure about the micro-service, but I think it would be too costly to have a Java-service running on each server (I can&#39;t answer why we aren&#39;t doing that). The only legal problem is that we have to publish my conversion when it is up and running. Lastly, I&#39;m aware that I cannot always code thigs 1:1, which is why I also wrote &quot;I would like to avoid&quot; not &quot;I have to avoid&quot;"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1644574341,"post_id":71065203,"comment_id":125647943,"body_markdown":"I guess I&#39;d also try and find a library that is native to C# that has the same functionality. Unless this is very very very niche stuff, there is probably already something on nuget. Or maybe a sophisticated open soure github project that could profit from your expertise and pull requests? I mean, if you are willing to put effort into porting the whole library ...","body":"I guess I&#39;d also try and find a library that is native to C# that has the same functionality. Unless this is very very very niche stuff, there is probably already something on nuget. Or maybe a sophisticated open soure github project that could profit from your expertise and pull requests? I mean, if you are willing to put effort into porting the whole library ..."}],"answers":[{"tags":[],"owner":{"account_id":16356473,"reputation":354,"user_id":11987791,"display_name":"Julian Silden Langlo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644502351,"creation_date":1644502351,"answer_id":71066648,"question_id":71065203,"body_markdown":"This is accomplishable in C#, but as far as I know there&#39;s no smart way to do it as interfaces should in general be kept simple and this would mostly just make the code harder to read and debug.\r\n\r\n\r\n    public interface IAnInterface\r\n    {\r\n        public string MethodOne();\r\n        public int MethodTwo();\r\n    }\r\n\r\n    public interface IAnotherInterface : IAnInterface\r\n    {\r\n        public static new int MethodTwo()\r\n        {\r\n            return 2;\r\n        }\r\n    }\r\n\r\n    public abstract class AnAbstractClass : IAnInterface\r\n    {\r\n        public string MethodOne()\r\n        {\r\n            return &quot;1&quot;;\r\n        }\r\n        public abstract int MethodTwo();\r\n    }\r\n\r\n    public class Combiner : AnAbstractClass, IAnotherInterface\r\n    {\r\n        public override int MethodTwo()\r\n        {\r\n            return IAnotherInterface.MethodTwo();\r\n        }\r\n    }\r\n\r\nSo I implore you to not do this!","title":"Java can combine default implementation from an abstract class and interface in a class. Is there a way to achieve this in C#?","body":"<p>This is accomplishable in C#, but as far as I know there's no smart way to do it as interfaces should in general be kept simple and this would mostly just make the code harder to read and debug.</p>\n<pre><code>public interface IAnInterface\n{\n    public string MethodOne();\n    public int MethodTwo();\n}\n\npublic interface IAnotherInterface : IAnInterface\n{\n    public static new int MethodTwo()\n    {\n        return 2;\n    }\n}\n\npublic abstract class AnAbstractClass : IAnInterface\n{\n    public string MethodOne()\n    {\n        return &quot;1&quot;;\n    }\n    public abstract int MethodTwo();\n}\n\npublic class Combiner : AnAbstractClass, IAnotherInterface\n{\n    public override int MethodTwo()\n    {\n        return IAnotherInterface.MethodTwo();\n    }\n}\n</code></pre>\n<p>So I implore you to not do this!</p>\n"}],"owner":{"account_id":22647437,"reputation":11,"user_id":16822597,"display_name":"Jonas Rasmussen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644502351,"creation_date":1644496477,"question_id":71065203,"body_markdown":"Is there a &quot;smart&quot; way to achieve the same result as in Java when using an interface and abstract class which both implements their own half of a shared interface?\r\n\r\nIn Java, I&#39;m able to extend an abstract class (`AnAbstractClass`) and implement an interface (`AnotherInterface`) which each have a default implementation of their part of an interface (`AnInterface`), such that I don&#39;t have to implement any methods in the class that combines these (See code).\r\n\r\nI&#39;m trying to convert Java code to C# while making sure everything is mapped 1-to-1. So I would like to avoid creating new classes as much as possible and that my &quot;Combiner&quot; class doesn&#39;t contain any methods.\r\n```\r\npublic class Test{\r\n\t\r\n\tpublic interface AnInterface\r\n\t{\r\n\t\tString methodOne();\r\n\t\tint methodTwo();\r\n\t}\r\n\t\r\n\tpublic interface AnotherInterface extends AnInterface\r\n\t{\r\n\t\tdefault int methodTwo() \r\n\t\t{\r\n\t\t\treturn 2;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic abstract class AnAbstractClass implements AnInterface\r\n\t{\r\n\t\tpublic String methodOne() \r\n\t\t{\r\n\t\t\treturn &quot;1&quot;;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class Combiner extends AnAbstractClass implements AnotherInterface\r\n\t{\r\n\t\t\r\n\t}\r\n}\r\n```","title":"Java can combine default implementation from an abstract class and interface in a class. Is there a way to achieve this in C#?","body":"<p>Is there a &quot;smart&quot; way to achieve the same result as in Java when using an interface and abstract class which both implements their own half of a shared interface?</p>\n<p>In Java, I'm able to extend an abstract class (<code>AnAbstractClass</code>) and implement an interface (<code>AnotherInterface</code>) which each have a default implementation of their part of an interface (<code>AnInterface</code>), such that I don't have to implement any methods in the class that combines these (See code).</p>\n<p>I'm trying to convert Java code to C# while making sure everything is mapped 1-to-1. So I would like to avoid creating new classes as much as possible and that my &quot;Combiner&quot; class doesn't contain any methods.</p>\n<pre><code>public class Test{\n    \n    public interface AnInterface\n    {\n        String methodOne();\n        int methodTwo();\n    }\n    \n    public interface AnotherInterface extends AnInterface\n    {\n        default int methodTwo() \n        {\n            return 2;\n        }\n    }\n    \n    public abstract class AnAbstractClass implements AnInterface\n    {\n        public String methodOne() \n        {\n            return &quot;1&quot;;\n        }\n    }\n    \n    public class Combiner extends AnAbstractClass implements AnotherInterface\n    {\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","maven-2","testing","surefire"],"comments":[{"owner":{"account_id":3128021,"reputation":19974,"user_id":2646526,"display_name":"heenenee"},"score":4,"creation_date":1449782156,"post_id":1399240,"comment_id":56167984,"body_markdown":"Kief&#39;s answer should be the accepted one, as it is the current standard for defining integration tests in Maven.","body":"Kief&#39;s answer should be the accepted one, as it is the current standard for defining integration tests in Maven."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1492069458,"post_id":1399240,"comment_id":73834087,"body_markdown":"http://maven.apache.org/surefire/maven-failsafe-plugin/","body":"<a href=\"http://maven.apache.org/surefire/maven-failsafe-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-failsafe-plugin</a>"}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1593952561,"creation_date":1252497515,"answer_id":1399254,"question_id":1399240,"body_markdown":"By default, Maven only runs tests that have Test somewhere in the class name.\r\n\r\nRename to IntegrationTest and it&#39;ll probably work.\r\n\r\nAlternatively you can change the Maven config to include that file but it&#39;s probably easier and better just to name your tests SomethingTest.\r\n\r\nFrom [Inclusions and Exclusions of Tests][1]:\r\n\r\n&gt; By default, the Surefire Plugin will\r\n&gt; automatically include all test classes\r\n&gt; with the following wildcard patterns:\r\n&gt; \r\n&gt; - `\\*\\*/Test\\*.java` - includes all of its subdirectory and all java\r\n&gt; filenames that start with &quot;Test&quot;.\r\n&gt; - `\\*\\*/\\*Test.java` - includes all of its subdirectory and all java\r\n&gt; filenames that end with &quot;Test&quot;.\r\n&gt; - `\\*\\*/\\*TestCase.java` - includes all of its subdirectory and all java\r\n&gt; filenames that end with &quot;TestCase&quot;.\r\n&gt; \r\n&gt; If the test classes does not go with\r\n&gt; the naming convention, then configure\r\n&gt; Surefire Plugin and specify the tests\r\n&gt; you want to include.\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-surefire-plugin/examples/inclusion-exclusion.html","title":"How do I get my Maven Integration tests to run","body":"<p>By default, Maven only runs tests that have Test somewhere in the class name.</p>\n<p>Rename to IntegrationTest and it'll probably work.</p>\n<p>Alternatively you can change the Maven config to include that file but it's probably easier and better just to name your tests SomethingTest.</p>\n<p>From <a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"noreferrer\">Inclusions and Exclusions of Tests</a>:</p>\n<blockquote>\n<p>By default, the Surefire Plugin will\nautomatically include all test classes\nwith the following wildcard patterns:</p>\n<ul>\n<li><code>\\*\\*/Test\\*.java</code> - includes all of its subdirectory and all java\nfilenames that start with &quot;Test&quot;.</li>\n<li><code>\\*\\*/\\*Test.java</code> - includes all of its subdirectory and all java\nfilenames that end with &quot;Test&quot;.</li>\n<li><code>\\*\\*/\\*TestCase.java</code> - includes all of its subdirectory and all java\nfilenames that end with &quot;TestCase&quot;.</li>\n</ul>\n<p>If the test classes does not go with\nthe naming convention, then configure\nSurefire Plugin and specify the tests\nyou want to include.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1387,"reputation":32183,"user_id":1853,"accept_rate":94,"display_name":"serg10"},"down_vote_count":11,"up_vote_count":141,"is_accepted":true,"score":130,"last_activity_date":1377268427,"creation_date":1252497895,"answer_id":1399277,"question_id":1399240,"body_markdown":"You can set up Maven&#39;s Surefire to run unit tests and integration tests separately.  In the standard unit test phase you run everything that does not pattern match an integration test.  You then **create a second test phase** that runs just the integration tests.\r\n\r\nHere is an example:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;excludes&gt;\r\n              &lt;exclude&gt;**/*IntegrationTest.java&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;integration-test&lt;/id&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;test&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;phase&gt;integration-test&lt;/phase&gt;\r\n              &lt;configuration&gt;\r\n                &lt;excludes&gt;\r\n                  &lt;exclude&gt;none&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n                &lt;includes&gt;\r\n                  &lt;include&gt;**/*IntegrationTest.java&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n","title":"How do I get my Maven Integration tests to run","body":"<p>You can set up Maven's Surefire to run unit tests and integration tests separately.  In the standard unit test phase you run everything that does not pattern match an integration test.  You then <strong>create a second test phase</strong> that runs just the integration tests.</p>\n\n<p>Here is an example:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;**/*IntegrationTest.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/configuration&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;integration-test&lt;/id&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;test&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;phase&gt;integration-test&lt;/phase&gt;\n          &lt;configuration&gt;\n            &lt;excludes&gt;\n              &lt;exclude&gt;none&lt;/exclude&gt;\n            &lt;/excludes&gt;\n            &lt;includes&gt;\n              &lt;include&gt;**/*IntegrationTest.java&lt;/include&gt;\n            &lt;/includes&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27569,"reputation":7306,"user_id":72908,"accept_rate":84,"display_name":"James Kingsbery"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1274207351,"creation_date":1274207351,"answer_id":2859940,"question_id":1399240,"body_markdown":"You should try using [maven failsafe plugin][1]. You can tell it to include a certain set of tests.\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-failsafe-plugin/","title":"How do I get my Maven Integration tests to run","body":"<p>You should try using <a href=\"http://maven.apache.org/plugins/maven-failsafe-plugin/\" rel=\"noreferrer\">maven failsafe plugin</a>. You can tell it to include a certain set of tests.</p>\n"},{"tags":[],"owner":{"account_id":76076,"reputation":21604,"user_id":218028,"accept_rate":84,"display_name":"Dave"},"down_vote_count":1,"up_vote_count":72,"is_accepted":false,"score":71,"last_activity_date":1483538070,"creation_date":1278644351,"answer_id":3209506,"question_id":1399240,"body_markdown":"I have done EXACTLY what you want to do and it works great.  Unit tests &quot;*Tests&quot; always run, and &quot;*IntegrationTests&quot; only run when you do a mvn verify or mvn install.  Here it the snippet from my POM.  serg10 almost had it right....but not quite.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;!-- Separates the unit tests from the integration tests. --&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n      \t   &lt;!-- Skip the default running of this plug-in (or everything is run twice...see below) --&gt;\r\n           &lt;skip&gt;true&lt;/skip&gt;\r\n      \t   &lt;!-- Show 100% of the lines from the stack trace (doesn&#39;t work) --&gt;\r\n           &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n           &lt;execution&gt;\r\n              &lt;id&gt;unit-tests&lt;/id&gt;\r\n              &lt;phase&gt;test&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                 &lt;goal&gt;test&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n    \t      \t    &lt;!-- Never skip running the tests when the test phase is invoked --&gt;\r\n    \t            &lt;skip&gt;false&lt;/skip&gt;\r\n                 &lt;includes&gt;\r\n    \t               &lt;!-- Include unit tests within integration-test phase. --&gt;\r\n                  \t&lt;include&gt;**/*Tests.java&lt;/include&gt;\r\n                 &lt;/includes&gt;\r\n                 &lt;excludes&gt;\r\n               \t   &lt;!-- Exclude integration tests within (unit) test phase. --&gt;\r\n                    &lt;exclude&gt;**/*IntegrationTests.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n              &lt;/configuration&gt;\r\n           &lt;/execution&gt;\r\n           &lt;execution&gt;\r\n              &lt;id&gt;integration-tests&lt;/id&gt;\r\n              &lt;phase&gt;integration-test&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                 &lt;goal&gt;test&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n    \t        &lt;!-- Never skip running the tests when the integration-test phase is invoked --&gt;\r\n    \t         &lt;skip&gt;false&lt;/skip&gt;\r\n                 &lt;includes&gt;\r\n    \t           &lt;!-- Include integration tests within integration-test phase. --&gt;\r\n                   &lt;include&gt;**/*IntegrationTests.java&lt;/include&gt;\r\n                 &lt;/includes&gt;\r\n              &lt;/configuration&gt;\r\n           &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nGood luck!\r\n\r\n\r\n\r\n","title":"How do I get my Maven Integration tests to run","body":"<p>I have done EXACTLY what you want to do and it works great.  Unit tests \"*Tests\" always run, and \"*IntegrationTests\" only run when you do a mvn verify or mvn install.  Here it the snippet from my POM.  serg10 almost had it right....but not quite.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;plugin&gt;\n    &lt;!-- Separates the unit tests from the integration tests. --&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n       &lt;!-- Skip the default running of this plug-in (or everything is run twice...see below) --&gt;\n       &lt;skip&gt;true&lt;/skip&gt;\n       &lt;!-- Show 100% of the lines from the stack trace (doesn't work) --&gt;\n       &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n       &lt;execution&gt;\n          &lt;id&gt;unit-tests&lt;/id&gt;\n          &lt;phase&gt;test&lt;/phase&gt;\n          &lt;goals&gt;\n             &lt;goal&gt;test&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n                &lt;!-- Never skip running the tests when the test phase is invoked --&gt;\n                &lt;skip&gt;false&lt;/skip&gt;\n             &lt;includes&gt;\n                   &lt;!-- Include unit tests within integration-test phase. --&gt;\n                &lt;include&gt;**/*Tests.java&lt;/include&gt;\n             &lt;/includes&gt;\n             &lt;excludes&gt;\n               &lt;!-- Exclude integration tests within (unit) test phase. --&gt;\n                &lt;exclude&gt;**/*IntegrationTests.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n          &lt;/configuration&gt;\n       &lt;/execution&gt;\n       &lt;execution&gt;\n          &lt;id&gt;integration-tests&lt;/id&gt;\n          &lt;phase&gt;integration-test&lt;/phase&gt;\n          &lt;goals&gt;\n             &lt;goal&gt;test&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;!-- Never skip running the tests when the integration-test phase is invoked --&gt;\n             &lt;skip&gt;false&lt;/skip&gt;\n             &lt;includes&gt;\n               &lt;!-- Include integration tests within integration-test phase. --&gt;\n               &lt;include&gt;**/*IntegrationTests.java&lt;/include&gt;\n             &lt;/includes&gt;\n          &lt;/configuration&gt;\n       &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":3739,"reputation":4393,"user_id":5432,"accept_rate":56,"display_name":"Kief"},"down_vote_count":0,"up_vote_count":294,"is_accepted":false,"score":294,"last_activity_date":1298460863,"creation_date":1298460863,"answer_id":5090311,"question_id":1399240,"body_markdown":"The [Maven build lifecycle][1] now includes the &quot;integration-test&quot; phase for running integration tests, which are run separately from the unit tests run during the &quot;test&quot; phase. It runs after &quot;package&quot;, so if you run &quot;mvn verify&quot;, &quot;mvn install&quot;, or &quot;mvn deploy&quot;, integration tests will be run along the way.\r\n\r\nBy default, integration-test runs test classes named `**/IT*.java`, `**/*IT.java`, and `**/*ITCase.java`, but this can be configured.\r\n\r\nFor details on how to wire this all up, see the [Failsafe plugin][2], the [Failsafe usage page][3] (not correctly linked from the previous page as I write this), and also check out [this Sonatype blog post][4].\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\r\n  [2]: http://maven.apache.org/plugins/maven-failsafe-plugin/index.html\r\n  [3]: http://maven.apache.org/plugins/maven-failsafe-plugin/usage.html\r\n  [4]: http://www.sonatype.com/people/2009/06/integration-tests-with-maven-part-1-failsafe-plugin/","title":"How do I get my Maven Integration tests to run","body":"<p>The <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">Maven build lifecycle</a> now includes the \"integration-test\" phase for running integration tests, which are run separately from the unit tests run during the \"test\" phase. It runs after \"package\", so if you run \"mvn verify\", \"mvn install\", or \"mvn deploy\", integration tests will be run along the way.</p>\n\n<p>By default, integration-test runs test classes named <code>**/IT*.java</code>, <code>**/*IT.java</code>, and <code>**/*ITCase.java</code>, but this can be configured.</p>\n\n<p>For details on how to wire this all up, see the <a href=\"http://maven.apache.org/plugins/maven-failsafe-plugin/index.html\" rel=\"noreferrer\">Failsafe plugin</a>, the <a href=\"http://maven.apache.org/plugins/maven-failsafe-plugin/usage.html\" rel=\"noreferrer\">Failsafe usage page</a> (not correctly linked from the previous page as I write this), and also check out <a href=\"http://www.sonatype.com/people/2009/06/integration-tests-with-maven-part-1-failsafe-plugin/\" rel=\"noreferrer\">this Sonatype blog post</a>.</p>\n"},{"tags":[],"owner":{"account_id":322395,"reputation":1924,"user_id":641785,"display_name":"Jorge"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1413473302,"creation_date":1307048650,"answer_id":6220379,"question_id":1399240,"body_markdown":"Another way of running integration tests with Maven is to make use of the profile feature:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    ...\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*IntegrationTest.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;integration-tests&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/*IntegrationTest.java&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/*StagingIntegrationTest.java&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    ...\r\n\r\nRunning *&#39;mvn clean install&#39;* will run the default build. As specified above integration tests will be ignored. Running *&#39;mvn clean install -P integration-tests&#39;* will include the integration tests (I also ignore my staging integration tests). Furthermore, I have a CI server that runs my integration tests every night and for that I issue the command *&#39;mvn test -P integration-tests&#39;*.","title":"How do I get my Maven Integration tests to run","body":"<p>Another way of running integration tests with Maven is to make use of the profile feature:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Test.java&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*IntegrationTest.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;integration-tests&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**/*IntegrationTest.java&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;**/*StagingIntegrationTest.java&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n...\n</code></pre>\n\n<p>Running <em>'mvn clean install'</em> will run the default build. As specified above integration tests will be ignored. Running <em>'mvn clean install -P integration-tests'</em> will include the integration tests (I also ignore my staging integration tests). Furthermore, I have a CI server that runs my integration tests every night and for that I issue the command <em>'mvn test -P integration-tests'</em>.</p>\n"},{"tags":[],"owner":{"account_id":667652,"reputation":2344,"user_id":1365383,"display_name":"John Dobie"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1564407767,"creation_date":1335779785,"answer_id":10381706,"question_id":1399240,"body_markdown":"You can split them very easily using JUnit categories and Maven.&lt;br&gt;\r\nThis is shown very, very briefly below by splitting unit and integration tests.\r\n\r\n**&lt;h3&gt;Define A Marker Interface&lt;/h3&gt;**\r\nThe first step in grouping a test using categories is to create a marker interface.  &lt;br /&gt;\r\nThis interface will be used to mark all of the tests that you want to be run as integration tests.  &lt;br /&gt;\r\n\r\n    public interface IntegrationTest {}\r\n\r\n**&lt;h3&gt;Mark your test classes&lt;/h3&gt;**\r\n\r\nAdd the category annotation to the top of your test class.  It takes the name of your new interface.&lt;br /&gt;\r\n\r\n    import org.junit.experimental.categories.Category;\r\n    \r\n    @Category(IntegrationTest.class)\r\n    public class ExampleIntegrationTest{\r\n    \r\n        @Test\r\n        public void longRunningServiceTest() throws Exception {\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**&lt;h3&gt;Configure Maven Unit Tests&lt;/h3&gt;**\r\nThe beauty of this solution is that nothing really changes for the unit test side of things.&lt;br /&gt;\r\nWe simply add some configuration to the maven surefire plugin to make it to ignore any integration tests.&lt;br /&gt;\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*.class&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;excludedGroups&gt;\r\n                com.test.annotation.type.IntegrationTest\r\n            &lt;/excludedGroups&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nWhen you do a `mvn clean test`, only your unmarked unit tests will run.\r\n\r\n**&lt;h3&gt;Configure Maven Integration Tests&lt;/h3&gt;**\r\nAgain the configuration for this is very simple.&lt;br /&gt;\r\nWe use the standard failsafe plugin and configure it to only run the integration tests.&lt;br /&gt;\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.19.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*.class&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;groups&gt;\r\n                com.test.annotation.type.IntegrationTest\r\n            &lt;/groups&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThe configuration uses a standard execution goal to run the failsafe plugin during the integration-test phase of the build.&lt;br /&gt;\r\n\r\nYou can now do a `mvn clean install`.&lt;br&gt;\r\nThis time as well as the unit tests running,  the integration tests are run during the integration-test phase.","title":"How do I get my Maven Integration tests to run","body":"<p>You can split them very easily using JUnit categories and Maven.<br>\nThis is shown very, very briefly below by splitting unit and integration tests.</p>\n\n<p><strong><h3>Define A Marker Interface</h3></strong>\nThe first step in grouping a test using categories is to create a marker interface.  <br />\nThis interface will be used to mark all of the tests that you want to be run as integration tests.  <br /></p>\n\n<pre><code>public interface IntegrationTest {}\n</code></pre>\n\n<p><strong><h3>Mark your test classes</h3></strong></p>\n\n<p>Add the category annotation to the top of your test class.  It takes the name of your new interface.<br /></p>\n\n<pre><code>import org.junit.experimental.categories.Category;\n\n@Category(IntegrationTest.class)\npublic class ExampleIntegrationTest{\n\n    @Test\n    public void longRunningServiceTest() throws Exception {\n    }\n\n}\n</code></pre>\n\n<p><strong><h3>Configure Maven Unit Tests</h3></strong>\nThe beauty of this solution is that nothing really changes for the unit test side of things.<br />\nWe simply add some configuration to the maven surefire plugin to make it to ignore any integration tests.<br /></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.11&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*.class&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;excludedGroups&gt;\n            com.test.annotation.type.IntegrationTest\n        &lt;/excludedGroups&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>When you do a <code>mvn clean test</code>, only your unmarked unit tests will run.</p>\n\n<p><strong><h3>Configure Maven Integration Tests</h3></strong>\nAgain the configuration for this is very simple.<br />\nWe use the standard failsafe plugin and configure it to only run the integration tests.<br /></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.19.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*.class&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;groups&gt;\n            com.test.annotation.type.IntegrationTest\n        &lt;/groups&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The configuration uses a standard execution goal to run the failsafe plugin during the integration-test phase of the build.<br /></p>\n\n<p>You can now do a <code>mvn clean install</code>.<br>\nThis time as well as the unit tests running,  the integration tests are run during the integration-test phase.</p>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518212900,"creation_date":1518212571,"answer_id":48714518,"question_id":1399240,"body_markdown":"You can follow the [maven documentation][1] to run the unit tests with the build and run the integration tests separately.\r\n\r\n    &lt;project&gt;\r\n        &lt;properties&gt;\r\n            &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n        &lt;/properties&gt;\r\n        [...]\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.20.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skipITs&gt;${skipTests}&lt;/skipITs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        [...]\r\n    &lt;/project&gt;\r\n\r\nThis will allow you to run with all integration tests disabled by default. To run them, you use this command:\r\n\r\n    mvn install -DskipTests=false\r\n\r\n\r\n  [1]: http://maven.apache.org/components/surefire/maven-failsafe-plugin/examples/skipping-tests.html","title":"How do I get my Maven Integration tests to run","body":"<p>You can follow the <a href=\"http://maven.apache.org/components/surefire/maven-failsafe-plugin/examples/skipping-tests.html\" rel=\"nofollow noreferrer\">maven documentation</a> to run the unit tests with the build and run the integration tests separately.</p>\n\n<pre><code>&lt;project&gt;\n    &lt;properties&gt;\n        &lt;skipTests&gt;true&lt;/skipTests&gt;\n    &lt;/properties&gt;\n    [...]\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.20.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipITs&gt;${skipTests}&lt;/skipITs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    [...]\n&lt;/project&gt;\n</code></pre>\n\n<p>This will allow you to run with all integration tests disabled by default. To run them, you use this command:</p>\n\n<pre><code>mvn install -DskipTests=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3064909,"reputation":1619,"user_id":2596827,"accept_rate":60,"display_name":"Liquidpie"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1593955970,"creation_date":1593955970,"answer_id":62741369,"question_id":1399240,"body_markdown":"You should use [maven surefire plugin][1] to run unit tests and [maven failsafe plugin][2] to run integration tests.\r\n\r\nPlease follow below if you wish to toggle the execution of these tests using flags.\r\n\r\n### Maven Configuration\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*IT.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;skipTests&gt;${skipIntegrationTests}&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;properties&gt;\r\n                &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                &lt;skipUnitTests&gt;${skipTests}&lt;/skipUnitTests&gt;\r\n                &lt;skipIntegrationTests&gt;${skipTests}&lt;/skipIntegrationTests&gt;\r\n            &lt;/properties&gt;\r\n\r\nSo, tests will be skipped or switched according to below flag rules:\r\n\r\nTests can be skipped by below flags:\r\n\r\n* `-DskipTests` skips both unit and integration tests\r\n* `-DskipUnitTests` skips unit tests but executes integration tests\r\n* `-DskipIntegrationTests` skips integration tests but executes unit tests\r\n\r\n### Running Tests\r\n\r\nRun below to execute *only* Unit Tests\r\n\r\n```bash\r\nmvn clean test\r\n```\r\n\r\nYou can execute below command to run the tests (both unit and integration)\r\n\r\n```bash\r\nmvn clean verify\r\n```\r\n\r\nIn order to run *only* Integration Tests, follow\r\n\r\n```bash\r\nmvn failsafe:integration-test\r\n```\r\n\r\nOr skip unit tests\r\n\r\n```bash\r\nmvn clean install -DskipUnitTests\r\n```\r\n\r\nAlso, in order to skip integration tests during `mvn install`, follow\r\n\r\n```bash\r\nmvn clean install -DskipIntegrationTests\r\n```\r\n\r\nYou can skip all tests using\r\n\r\n```bash\r\nmvn clean install -DskipTests\r\n```\r\n\r\n  [1]: http://maven.apache.org/surefire/maven-surefire-plugin/\r\n  [2]: https://maven.apache.org/surefire/maven-failsafe-plugin/","title":"How do I get my Maven Integration tests to run","body":"<p>You should use <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/\" rel=\"noreferrer\">maven surefire plugin</a> to run unit tests and <a href=\"https://maven.apache.org/surefire/maven-failsafe-plugin/\" rel=\"noreferrer\">maven failsafe plugin</a> to run integration tests.</p>\n<p>Please follow below if you wish to toggle the execution of these tests using flags.</p>\n<h3>Maven Configuration</h3>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*IT.java&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;skipTests&gt;${skipIntegrationTests}&lt;/skipTests&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;goal&gt;verify&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;properties&gt;\n            &lt;skipTests&gt;false&lt;/skipTests&gt;\n            &lt;skipUnitTests&gt;${skipTests}&lt;/skipUnitTests&gt;\n            &lt;skipIntegrationTests&gt;${skipTests}&lt;/skipIntegrationTests&gt;\n        &lt;/properties&gt;\n</code></pre>\n<p>So, tests will be skipped or switched according to below flag rules:</p>\n<p>Tests can be skipped by below flags:</p>\n<ul>\n<li><code>-DskipTests</code> skips both unit and integration tests</li>\n<li><code>-DskipUnitTests</code> skips unit tests but executes integration tests</li>\n<li><code>-DskipIntegrationTests</code> skips integration tests but executes unit tests</li>\n</ul>\n<h3>Running Tests</h3>\n<p>Run below to execute <em>only</em> Unit Tests</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn clean test\n</code></pre>\n<p>You can execute below command to run the tests (both unit and integration)</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn clean verify\n</code></pre>\n<p>In order to run <em>only</em> Integration Tests, follow</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn failsafe:integration-test\n</code></pre>\n<p>Or skip unit tests</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn clean install -DskipUnitTests\n</code></pre>\n<p>Also, in order to skip integration tests during <code>mvn install</code>, follow</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn clean install -DskipIntegrationTests\n</code></pre>\n<p>You can skip all tests using</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn clean install -DskipTests\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632169317,"creation_date":1632169317,"answer_id":69260368,"question_id":1399240,"body_markdown":"I didn&#39;t need to do all those setups suggested in other answers and I can run unit tests or integration tests separately.\r\n\r\nWhat I did was:\r\n\r\n1. add the config bellow to **pom.xml** in order to instruct maven where are the integration tests files (the java code and the resources files):\r\n\r\n```\r\n&lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;add-integration-test-source&lt;/id&gt;\r\n                &lt;phase&gt;generate-test-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;add-test-source&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sources&gt;\r\n                        &lt;source&gt;src/integration-test/java&lt;/source&gt;\r\n                    &lt;/sources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;add-integration-test-resource&lt;/id&gt;\r\n                &lt;phase&gt;generate-test-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;add-test-resource&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;resources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;src/integration-test/resources&lt;/directory&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/resources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n\r\n 2. Name the integration test files with the &quot;IT&quot; suffix, like &quot;MyTestIT.java&quot;\r\n\r\n 3. Execute only the integration tests with this command:\r\n\r\n    `mvn failsafe:integration-test failsafe:verify`\r\n\r\nIn the command above &quot;failsafe:integration-test&quot; will execute the *IT.java files and &quot;failsafe:verify&quot; will tell maven to check if any of the integration tests ran previously have failed. If you don&#39;t use &#39;failsafe:verify&#39; the *mvn* command will exit with success even if one test has failed.\r\n\r\n 4. To run only the unit tests, run:\r\n\r\n    `mvn test`\r\n\r\n","title":"How do I get my Maven Integration tests to run","body":"<p>I didn't need to do all those setups suggested in other answers and I can run unit tests or integration tests separately.</p>\n<p>What I did was:</p>\n<ol>\n<li>add the config bellow to <strong>pom.xml</strong> in order to instruct maven where are the integration tests files (the java code and the resources files):</li>\n</ol>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;add-integration-test-source&lt;/id&gt;\n                &lt;phase&gt;generate-test-sources&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;add-test-source&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;src/integration-test/java&lt;/source&gt;\n                    &lt;/sources&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;add-integration-test-resource&lt;/id&gt;\n                &lt;phase&gt;generate-test-resources&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;add-test-resource&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;resources&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;src/integration-test/resources&lt;/directory&gt;\n                        &lt;/resource&gt;\n                    &lt;/resources&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<ol start=\"2\">\n<li><p>Name the integration test files with the &quot;IT&quot; suffix, like &quot;MyTestIT.java&quot;</p>\n</li>\n<li><p>Execute only the integration tests with this command:</p>\n<p><code>mvn failsafe:integration-test failsafe:verify</code></p>\n</li>\n</ol>\n<p>In the command above &quot;failsafe:integration-test&quot; will execute the *IT.java files and &quot;failsafe:verify&quot; will tell maven to check if any of the integration tests ran previously have failed. If you don't use 'failsafe:verify' the <em>mvn</em> command will exit with success even if one test has failed.</p>\n<ol start=\"4\">\n<li><p>To run only the unit tests, run:</p>\n<p><code>mvn test</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":35270,"reputation":5298,"user_id":99863,"accept_rate":14,"display_name":"Peter Delaney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297954,"favorite_count":0,"down_vote_count":0,"up_vote_count":207,"accepted_answer_id":1399277,"answer_count":10,"score":207,"last_activity_date":1644502293,"creation_date":1252497380,"question_id":1399240,"body_markdown":"I have a maven2 multi-module project and in each of my child modules I have JUnit tests that are named `Test.java` and `Integration.java` for unit tests and integration tests respectively.  When I execute:  \r\n\r\n`mvn test` \r\n\r\nall of the JUnit tests `*Test.java` within the child modules are executed.   When I execute  \r\n\r\n`mvn test -Dtest=**/*Integration`  \r\n\r\nnone of the `Integration.java` tests get execute within the child modules.\r\n\r\nThese seem like the exact same command to me but the one with the **-Dtest=**/*Integration** does not work it displays 0 tests being run at the parent level, which there are not any tests","title":"How do I get my Maven Integration tests to run","body":"<p>I have a maven2 multi-module project and in each of my child modules I have JUnit tests that are named <code>Test.java</code> and <code>Integration.java</code> for unit tests and integration tests respectively.  When I execute:  </p>\n\n<p><code>mvn test</code> </p>\n\n<p>all of the JUnit tests <code>*Test.java</code> within the child modules are executed.   When I execute  </p>\n\n<p><code>mvn test -Dtest=**/*Integration</code>  </p>\n\n<p>none of the <code>Integration.java</code> tests get execute within the child modules.</p>\n\n<p>These seem like the exact same command to me but the one with the <strong>-Dtest=</strong>/*Integration** does not work it displays 0 tests being run at the parent level, which there are not any tests</p>\n"},{"tags":["java","android","flutter","native"],"answers":[{"tags":[],"owner":{"account_id":23392407,"reputation":134,"user_id":17456899,"display_name":"Julian Modlinski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644501785,"creation_date":1644501785,"answer_id":71066505,"question_id":71051878,"body_markdown":"Could you just create a Flutter project and add your native part in MainActivity.java?","title":"How to launch Flutter App from MainActivity.java","body":"<p>Could you just create a Flutter project and add your native part in MainActivity.java?</p>\n"}],"owner":{"account_id":21753718,"reputation":484,"user_id":16059355,"display_name":"Zilaid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644501785,"creation_date":1644418700,"question_id":71051878,"body_markdown":"I have created app. I want to run app when device is restart\\turned on. So I implemented the functionality in native code. Now the native code is calling the MainActivity class when device is restarted. Now I want to make a function in MainActivity which will launch my app. Something Like I call *main()* method of **main.dart** file from MainActivity.java.\r\n\r\n If anybody know then kindly answer this question.","title":"How to launch Flutter App from MainActivity.java","body":"<p>I have created app. I want to run app when device is restart\\turned on. So I implemented the functionality in native code. Now the native code is calling the MainActivity class when device is restarted. Now I want to make a function in MainActivity which will launch my app. Something Like I call <em>main()</em> method of <strong>main.dart</strong> file from MainActivity.java.</p>\n<p>If anybody know then kindly answer this question.</p>\n"},{"tags":["java","arrays","user-interface","listener","actionlistener"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1644497438,"post_id":71065351,"comment_id":125625738,"body_markdown":"each time you click your button, the code in the actionPerformed is executed. Of course will that re-create a random array. the array you create in your actionperformed is also a local variable, which is not related to the other one","body":"each time you click your button, the code in the actionPerformed is executed. Of course will that re-create a random array. the array you create in your actionperformed is also a local variable, which is not related to the other one"},{"owner":{"account_id":22641305,"reputation":111,"user_id":16817370,"display_name":"YUNG FOOK YONG"},"score":0,"creation_date":1644497499,"post_id":71065351,"comment_id":125625757,"body_markdown":"@Stultuske yep thats the exact problem I&#39;m trying to solve, can you guide me where should I put the loop so that it won&#39;t re-create the array?","body":"@Stultuske yep thats the exact problem I&#39;m trying to solve, can you guide me where should I put the loop so that it won&#39;t re-create the array?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1644497552,"post_id":71065351,"comment_id":125625772,"body_markdown":"You already create an array in your constructor. Why do you need to create another one, if you don&#39;t intend to?","body":"You already create an array in your constructor. Why do you need to create another one, if you don&#39;t intend to?"},{"owner":{"account_id":22641305,"reputation":111,"user_id":16817370,"display_name":"YUNG FOOK YONG"},"score":0,"creation_date":1644497753,"post_id":71065351,"comment_id":125625856,"body_markdown":"@Stultuske My apologies I didn&#39;t post the updated code, I edited the code you can check it now. I removed the loop in the constructor part as if I place it there the listener cannot access the array and it shows the NullPointerException error.","body":"@Stultuske My apologies I didn&#39;t post the updated code, I edited the code you can check it now. I removed the loop in the constructor part as if I place it there the listener cannot access the array and it shows the NullPointerException error."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1644498035,"post_id":71065351,"comment_id":125625971,"body_markdown":"I don&#39;t see why the listener&#39;s method should throw a NPE, because in both you use a local variable arr, not the actual instance variable","body":"I don&#39;t see why the listener&#39;s method should throw a NPE, because in both you use a local variable arr, not the actual instance variable"},{"owner":{"account_id":22641305,"reputation":111,"user_id":16817370,"display_name":"YUNG FOOK YONG"},"score":0,"creation_date":1644498151,"post_id":71065351,"comment_id":125626021,"body_markdown":"@Stultuske the solution below actually solved my problem, I believe it is because I overridden the arr declaration as I already declared it as private int arr[]; but on the array part I declared it again. Anyways I truly appreciate your time and help, please have a good day m8 !","body":"@Stultuske the solution below actually solved my problem, I believe it is because I overridden the arr declaration as I already declared it as private int arr[]; but on the array part I declared it again. Anyways I truly appreciate your time and help, please have a good day m8 !"}],"answers":[{"tags":[],"owner":{"account_id":2708323,"reputation":156,"user_id":2337430,"display_name":"VagnerPl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644497973,"creation_date":1644497973,"answer_id":71065561,"question_id":71065351,"body_markdown":"In the constructor you are assigning the random numbers to a **local variable arr** that is overriding the **private attribute arr** with the same name\r\n\r\nTry changing it to:\r\n \r\n\r\n    Random rd = new Random(); // creating Random object\r\n    arr = new int[100];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        arr[i] = rd.nextInt(); // storing random integers in an array\r\n    }","title":"How to create an array with random numbers and send it to listener without randomizing it again?","body":"<p>In the constructor you are assigning the random numbers to a <strong>local variable arr</strong> that is overriding the <strong>private attribute arr</strong> with the same name</p>\n<p>Try changing it to:</p>\n<pre><code>Random rd = new Random(); // creating Random object\narr = new int[100];\nfor (int i = 0; i &lt; arr.length; i++) {\n    arr[i] = rd.nextInt(); // storing random integers in an array\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644501300,"creation_date":1644500598,"answer_id":71066181,"question_id":71065351,"body_markdown":"Although you are shadowing your `arr` field you are still creating a new array each time an event is processed which is something you said you didn&#39;t want to do.\r\n\r\nDoing significant processing in the Event Dispatch Thread is not a good idea.  It can tie up the GUI.  Even though you&#39;re only generating 100 random numbers I recommend initializing the array and then just reusing it.\r\n\r\nYou can do that by having an initialization block in your `ButtonListener` class.  Then subsequent events will simply use that array without recreating it. The array will be created upon instantiation of your `ButtonListener`.\r\n```\r\nprivate class ButtonListener implements ActionListener {\r\n\tprivate int arr[] = new int[100];\r\n\t{\r\n\t\tRandom rd = new Random();\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tarr[i] = rd.nextInt(); // storing random integers in an array\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\ttry {\r\n\t\t\tif (e.getSource() == jbtShow) {\r\n\t\t\t\tint num = Integer.parseInt(text1.getText());\r\n\t\t\t\tint result = arr[num];\r\n\t\t\t\ttext2.setText(&quot;&quot; + result);\r\n\t\t\t}\r\n\t\t} catch (ArrayIndexOutOfBoundsException ex) {\r\n\t\t\ttext2.setText(&quot;Out of bound!&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nIf you need to access `arr` outside of the listener you can use your existing array declaration of `private int[] arr;` and simply use that in the `ButtonListener` class.\r\n\r\nAnother observation.  Catching an exception would be a good idea for `parseInt` since the value might not be a number.  But if the parsing is acceptable, why not just check to ensure it is between `0 and arr.length-1` inclusive?","title":"How to create an array with random numbers and send it to listener without randomizing it again?","body":"<p>Although you are shadowing your <code>arr</code> field you are still creating a new array each time an event is processed which is something you said you didn't want to do.</p>\n<p>Doing significant processing in the Event Dispatch Thread is not a good idea.  It can tie up the GUI.  Even though you're only generating 100 random numbers I recommend initializing the array and then just reusing it.</p>\n<p>You can do that by having an initialization block in your <code>ButtonListener</code> class.  Then subsequent events will simply use that array without recreating it. The array will be created upon instantiation of your <code>ButtonListener</code>.</p>\n<pre><code>private class ButtonListener implements ActionListener {\n    private int arr[] = new int[100];\n    {\n        Random rd = new Random();\n        for (int i = 0; i &lt; arr.length; i++) {\n            arr[i] = rd.nextInt(); // storing random integers in an array\n            \n        }\n    }\n    \n    public void actionPerformed(ActionEvent e) {\n        try {\n            if (e.getSource() == jbtShow) {\n                int num = Integer.parseInt(text1.getText());\n                int result = arr[num];\n                text2.setText(&quot;&quot; + result);\n            }\n        } catch (ArrayIndexOutOfBoundsException ex) {\n            text2.setText(&quot;Out of bound!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>If you need to access <code>arr</code> outside of the listener you can use your existing array declaration of <code>private int[] arr;</code> and simply use that in the <code>ButtonListener</code> class.</p>\n<p>Another observation.  Catching an exception would be a good idea for <code>parseInt</code> since the value might not be a number.  But if the parsing is acceptable, why not just check to ensure it is between <code>0 and arr.length-1</code> inclusive?</p>\n"}],"owner":{"account_id":22641305,"reputation":111,"user_id":16817370,"display_name":"YUNG FOOK YONG"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71065561,"answer_count":2,"score":0,"last_activity_date":1644501300,"creation_date":1644497145,"question_id":71065351,"body_markdown":"So i&#39;m trying to create a program that create an array of 100 random numbers (without changing everytime user reacts to it), and allow users to check the numbers by entering the index of it. However, the array keep randomizing everytime the user pressed the Show Element button. \r\n\r\nI also tried to create the array on the main program, but I then faced the error because the listener can&#39;t access the array. Please enlighten me as I&#39;m new to this Java GUI Programming. Any help is much appreciated.\r\n\r\n```\r\nimport java.util.Random;\r\nimport javax.swing.*;\r\nimport java.awt.GridLayout;\r\nimport java.awt.*;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.event.*;\r\n\r\npublic class P3Q2 extends JFrame {\r\n\r\n    private JTextField text1 = new JTextField(10);\r\n    private JTextField text2 = new JTextField(10);\r\n    private int arr[];\r\n\r\n    private JButton jbtShow = new JButton(&quot;Show Element&quot;);\r\n\r\n    public P3Q2() {\r\n        JPanel jpTextField = new JPanel();\r\n        jpTextField.setLayout(new GridLayout(3, 2));\r\n        jpTextField.add(new JLabel(&quot;Array Index&quot;));\r\n        jpTextField.add(text1);\r\n        jpTextField.add(new JLabel(&quot;Array Element&quot;));\r\n        jpTextField.add(text2);\r\n        text2.setEditable(false);\r\n\r\n        JPanel jpButtons = new JPanel();\r\n        jpButtons.add(jbtShow);\r\n\r\n        add(jpTextField);\r\n        add(jpButtons, BorderLayout.SOUTH);\r\n\r\n        jbtShow.addActionListener(new ButtonListener());\r\n\r\n        setTitle(&quot;Display: Show Bounds Error&quot;);\r\n        setSize(400, 150);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n    }\r\n\r\n    private class ButtonListener implements ActionListener {\r\n\r\n        public void actionPerformed(ActionEvent e) {\r\n            try {\r\n                Random rd = new Random(); // creating Random object\r\n                int[] arr = new int[100];\r\n                for (int i = 0; i &lt; arr.length; i++) {\r\n                    arr[i] = rd.nextInt(); // storing random integers in an array\r\n                }\r\n\r\n                if (e.getSource() == jbtShow) {\r\n                    int num = Integer.parseInt(text1.getText());\r\n                    int result = arr[num];\r\n                    text2.setText(&quot;&quot; + result);\r\n                }\r\n            } catch (ArrayIndexOutOfBoundsException ex) {\r\n                text2.setText(&quot;Out of bound!&quot;);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        P3Q2 test = new P3Q2();\r\n    }\r\n}","title":"How to create an array with random numbers and send it to listener without randomizing it again?","body":"<p>So i'm trying to create a program that create an array of 100 random numbers (without changing everytime user reacts to it), and allow users to check the numbers by entering the index of it. However, the array keep randomizing everytime the user pressed the Show Element button.</p>\n<p>I also tried to create the array on the main program, but I then faced the error because the listener can't access the array. Please enlighten me as I'm new to this Java GUI Programming. Any help is much appreciated.</p>\n<pre><code>import java.util.Random;\nimport javax.swing.*;\nimport java.awt.GridLayout;\nimport java.awt.*;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.event.*;\n\npublic class P3Q2 extends JFrame {\n\n    private JTextField text1 = new JTextField(10);\n    private JTextField text2 = new JTextField(10);\n    private int arr[];\n\n    private JButton jbtShow = new JButton(&quot;Show Element&quot;);\n\n    public P3Q2() {\n        JPanel jpTextField = new JPanel();\n        jpTextField.setLayout(new GridLayout(3, 2));\n        jpTextField.add(new JLabel(&quot;Array Index&quot;));\n        jpTextField.add(text1);\n        jpTextField.add(new JLabel(&quot;Array Element&quot;));\n        jpTextField.add(text2);\n        text2.setEditable(false);\n\n        JPanel jpButtons = new JPanel();\n        jpButtons.add(jbtShow);\n\n        add(jpTextField);\n        add(jpButtons, BorderLayout.SOUTH);\n\n        jbtShow.addActionListener(new ButtonListener());\n\n        setTitle(&quot;Display: Show Bounds Error&quot;);\n        setSize(400, 150);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    private class ButtonListener implements ActionListener {\n\n        public void actionPerformed(ActionEvent e) {\n            try {\n                Random rd = new Random(); // creating Random object\n                int[] arr = new int[100];\n                for (int i = 0; i &lt; arr.length; i++) {\n                    arr[i] = rd.nextInt(); // storing random integers in an array\n                }\n\n                if (e.getSource() == jbtShow) {\n                    int num = Integer.parseInt(text1.getText());\n                    int result = arr[num];\n                    text2.setText(&quot;&quot; + result);\n                }\n            } catch (ArrayIndexOutOfBoundsException ex) {\n                text2.setText(&quot;Out of bound!&quot;);\n            }\n\n        }\n    }\n\n    public static void main(String[] args) {\n        P3Q2 test = new P3Q2();\n    }\n}\n</code></pre>\n"},{"tags":["java","exception","lambda"],"comments":[{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1644500598,"post_id":71066148,"comment_id":125627037,"body_markdown":"What is `todoItems`? Some kind of list? And what&#39;s the error?","body":"What is <code>todoItems</code>? Some kind of list? And what&#39;s the error?"},{"owner":{"account_id":24215690,"reputation":15,"user_id":18171623,"display_name":"vorxd"},"score":0,"creation_date":1644500675,"post_id":71066148,"comment_id":125627072,"body_markdown":"@byxor yes it is an array list and the compiler error is: Unhandled exception: java.io.IOException","body":"@byxor yes it is an array list and the compiler error is: Unhandled exception: java.io.IOException"},{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":3,"creation_date":1644500825,"post_id":71066148,"comment_id":125627134,"body_markdown":"`IOException` is a &quot;checked exception&quot;. Whatever interface you&#39;ve implemented with your lambda, it doesn&#39;t declare that the method will throw an IOException. You probably need a try/catch inside your lambda","body":"<code>IOException</code> is a &quot;checked exception&quot;. Whatever interface you&#39;ve implemented with your lambda, it doesn&#39;t declare that the method will throw an IOException. You probably need a try/catch inside your lambda"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1644501097,"post_id":71066148,"comment_id":125627253,"body_markdown":"@byxor &quot;*Whatever interface you&#39;ve implemented*&quot; it&#39;s forEach of Iterable, so it&#39;s just java.util.function.Consumer.","body":"@byxor &quot;<i>Whatever interface you&#39;ve implemented</i>&quot; it&#39;s forEach of Iterable, so it&#39;s just java.util.function.Consumer."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1644501170,"post_id":71066148,"comment_id":125627293,"body_markdown":"Just use a regular for-loop here.","body":"Just use a regular for-loop here."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644501280,"creation_date":1644501280,"answer_id":71066379,"question_id":71066148,"body_markdown":"Remember that lambdas are supposed to be implementations of functional interfaces. In this case, [`forEach`][1] takes the functional interface [`Consumer&lt;T&gt;`][2] as a parameter.\r\n\r\n    void forEach(Consumer&lt;? super T&gt; action)\r\n\r\nSo your lambda is actually implementing the single abstract method in the `Consumer` interface - [`accept`][3]. This method is not declared to throw any exceptions:\r\n\r\n    void accept(T t); // no throws clause here at all!\r\n\r\nTherefore, the `IOException` that the `write` call could throw is considered to be unhandled. The fact that you have added a `throws` clause to your `saveTodoItems` method is irrelevant.\r\n\r\nOn the other hand, if you have declared your own functional interface that does have a `throws` clause in its single abstract method:\r\n\r\n    interface IOConsumer&lt;T&gt; {\r\n        void accept(T t) throws IOException;\r\n    }\r\n\r\nIt is possible to write:\r\n\r\n    IOConsumer&lt;TodoItem&gt; consumer = todoItem -&gt; {\r\n        outputStream.write(todoItem.getShortDescription() + &quot;\\t&quot;\r\n                        + todoItem.getDetail() + &quot;\\t&quot;\r\n                        + todoItem.getDeadLine()+&quot;\\n&quot;);\r\n    };\r\n\r\nOf course, you would not be able to use this in `forEach`, because it only accepts a `Consumer`, not an `IOConsumer`. You should surround the `write` with a try...catch, or see [here](https://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception) for more alternatives.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html#accept(T)","title":"Why doesn&#39;t Lambda understand throws in method signature?","body":"<p>Remember that lambdas are supposed to be implementations of functional interfaces. In this case, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>forEach</code></a> takes the functional interface <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\"><code>Consumer&lt;T&gt;</code></a> as a parameter.</p>\n<pre><code>void forEach(Consumer&lt;? super T&gt; action)\n</code></pre>\n<p>So your lambda is actually implementing the single abstract method in the <code>Consumer</code> interface - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html#accept(T)\" rel=\"nofollow noreferrer\"><code>accept</code></a>. This method is not declared to throw any exceptions:</p>\n<pre><code>void accept(T t); // no throws clause here at all!\n</code></pre>\n<p>Therefore, the <code>IOException</code> that the <code>write</code> call could throw is considered to be unhandled. The fact that you have added a <code>throws</code> clause to your <code>saveTodoItems</code> method is irrelevant.</p>\n<p>On the other hand, if you have declared your own functional interface that does have a <code>throws</code> clause in its single abstract method:</p>\n<pre><code>interface IOConsumer&lt;T&gt; {\n    void accept(T t) throws IOException;\n}\n</code></pre>\n<p>It is possible to write:</p>\n<pre><code>IOConsumer&lt;TodoItem&gt; consumer = todoItem -&gt; {\n    outputStream.write(todoItem.getShortDescription() + &quot;\\t&quot;\n                    + todoItem.getDetail() + &quot;\\t&quot;\n                    + todoItem.getDeadLine()+&quot;\\n&quot;);\n};\n</code></pre>\n<p>Of course, you would not be able to use this in <code>forEach</code>, because it only accepts a <code>Consumer</code>, not an <code>IOConsumer</code>. You should surround the <code>write</code> with a try...catch, or see <a href=\"https://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception\">here</a> for more alternatives.</p>\n"}],"owner":{"account_id":24215690,"reputation":15,"user_id":18171623,"display_name":"vorxd"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1644521840,"accepted_answer_id":71066379,"answer_count":1,"score":0,"last_activity_date":1644501280,"creation_date":1644500491,"question_id":71066148,"body_markdown":"In the following code, I wrote throws in the method signature, but again in Lambda for **write**, the compiler gives an error. Why? \r\n\r\ncompiler error: Unhandled exception: java.io.IOException \r\n\r\n     public void saveTodoItems() throws IOException {\r\n\r\n        try (BufferedWriter outputStream = new BufferedWriter(new OutputStreamWriter(\r\n                new FileOutputStream(&quot;TodoItems.txt&quot;), StandardCharsets.UTF_8))) {\r\n\r\n            todoItems.forEach(todoItem -&gt; {\r\n                    outputStream.write(todoItem.getShortDescription() + &quot;\\t&quot; //compile error on write\r\n                            + todoItem.getDetail() + &quot;\\t&quot;\r\n                            + todoItem.getDeadLine()+&quot;\\n&quot;);\r\n\r\n            });\r\n        }\r\n    }","title":"Why doesn&#39;t Lambda understand throws in method signature?","body":"<p>In the following code, I wrote throws in the method signature, but again in Lambda for <strong>write</strong>, the compiler gives an error. Why?</p>\n<p>compiler error: Unhandled exception: java.io.IOException</p>\n<pre><code> public void saveTodoItems() throws IOException {\n\n    try (BufferedWriter outputStream = new BufferedWriter(new OutputStreamWriter(\n            new FileOutputStream(&quot;TodoItems.txt&quot;), StandardCharsets.UTF_8))) {\n\n        todoItems.forEach(todoItem -&gt; {\n                outputStream.write(todoItem.getShortDescription() + &quot;\\t&quot; //compile error on write\n                        + todoItem.getDetail() + &quot;\\t&quot;\n                        + todoItem.getDeadLine()+&quot;\\n&quot;);\n\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"score":2,"creation_date":1644501583,"post_id":71066378,"comment_id":125627493,"body_markdown":"have you tried with [this](https://stackoverflow.com/a/4865350/3789527)?","body":"have you tried with <a href=\"https://stackoverflow.com/a/4865350/3789527\">this</a>?"},{"owner":{"account_id":23782726,"reputation":441,"user_id":17795208,"display_name":"Display name"},"score":0,"creation_date":1644538855,"post_id":71066378,"comment_id":125640581,"body_markdown":"I&#39;ll work on adding that. It looks like it&#39;s exactly what I wanted. If you can add this as an answer instead of a comment, I can mark it as correct.","body":"I&#39;ll work on adding that. It looks like it&#39;s exactly what I wanted. If you can add this as an answer instead of a comment, I can mark it as correct."},{"owner":{"account_id":23782726,"reputation":441,"user_id":17795208,"display_name":"Display name"},"score":0,"creation_date":1644633192,"post_id":71066378,"comment_id":125665818,"body_markdown":"@BrianTompsett-æ±¤èŽ±æ© Yes, that seems to be the same link that LS_ shared and it worked well. If you could add that as an answer I can mark it as correct and close this question.","body":"@BrianTompsett-æ±¤èŽ±æ© Yes, that seems to be the same link that LS_ shared and it worked well. If you could add that as an answer I can mark it as correct and close this question."}],"owner":{"account_id":23782726,"reputation":441,"user_id":17795208,"display_name":"Display name"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1644633215,"answer_count":0,"score":0,"last_activity_date":1644501278,"creation_date":1644501278,"question_id":71066378,"body_markdown":"In my activity_main.xml, I have 26 buttons (one for each letter of the alphabet). They are labeled btn_a, btn_b... btn_z.\r\n\r\nThese buttons will play a sound file on click (the pronunciation of their letter). Therefore, I want to grab a reference to their button to add the onClickListener.\r\n\r\nThis would be troublesome to do 26 times especially if I adapt this to handle other languages. So I want to do something like \r\n\r\n    Button alphaButton=new Button[26];\r\n    char[] alphabet=[&#39;a&#39;,&#39;b&#39;... &#39;z&#39;];\r\n    for(int i=0;i&lt;26;i++){\r\n        alphaButton[i]=(button) findViewById(R.id.btn_+alphavet[i]);\r\n        alphaButton[i].setOnClickListener(listener);\r\n    }\r\n\r\nI know this might work with JavaScript (given some tweaks) but I can&#39;t think of a way to programmatically grab id&#39;s in Android Studio (**Java** not Kotlin).","title":"Android Studio find element id with loop","body":"<p>In my activity_main.xml, I have 26 buttons (one for each letter of the alphabet). They are labeled btn_a, btn_b... btn_z.</p>\n<p>These buttons will play a sound file on click (the pronunciation of their letter). Therefore, I want to grab a reference to their button to add the onClickListener.</p>\n<p>This would be troublesome to do 26 times especially if I adapt this to handle other languages. So I want to do something like</p>\n<pre><code>Button alphaButton=new Button[26];\nchar[] alphabet=['a','b'... 'z'];\nfor(int i=0;i&lt;26;i++){\n    alphaButton[i]=(button) findViewById(R.id.btn_+alphavet[i]);\n    alphaButton[i].setOnClickListener(listener);\n}\n</code></pre>\n<p>I know this might work with JavaScript (given some tweaks) but I can't think of a way to programmatically grab id's in Android Studio (<strong>Java</strong> not Kotlin).</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1644500353,"post_id":71066074,"comment_id":125626931,"body_markdown":"Use `ACTION_CREATE_DOCUMENT` / `ActivityResultContracts.CreateDocument()`. [This sample Java app](https://gitlab.com/commonsguy/cw-jetpack-java/-/tree/vFINAL/ContentEditor) (and [its Kotlin counterpart](https://gitlab.com/commonsguy/cw-jetpack-kotlin/-/tree/vFINAL/ContentEditor)) demonstrate the use of `CreateDocument()`. They are covered in [this section](https://commonsware.com/Jetpack/pages/chap-files-004.html) of [this free book](https://commonsware.com/Jetpack).","body":"Use <code>ACTION_CREATE_DOCUMENT</code> / <code>ActivityResultContracts.CreateDocument()</code>. <a href=\"https://gitlab.com/commonsguy/cw-jetpack-java/-/tree/vFINAL/ContentEditor\" rel=\"nofollow noreferrer\">This sample Java app</a> (and <a href=\"https://gitlab.com/commonsguy/cw-jetpack-kotlin/-/tree/vFINAL/ContentEditor\" rel=\"nofollow noreferrer\">its Kotlin counterpart</a>) demonstrate the use of <code>CreateDocument()</code>. They are covered in <a href=\"https://commonsware.com/Jetpack/pages/chap-files-004.html\" rel=\"nofollow noreferrer\">this section</a> of <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644500890,"post_id":71066074,"comment_id":125627161,"body_markdown":"`fos = openFileOutput(&quot;test.txt&quot;, MODE_APPEND);` You only have to change that to `fos = openFileOutput(&quot;My bookt.txt&quot;, MODE_APPEND);`","body":"<code>fos = openFileOutput(&quot;test.txt&quot;, MODE_APPEND);</code> You only have to change that to <code>fos = openFileOutput(&quot;My bookt.txt&quot;, MODE_APPEND);</code>"}],"owner":{"account_id":17389481,"reputation":99,"user_id":12600254,"display_name":"Varkame"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644501238,"creation_date":1644500174,"question_id":71066074,"body_markdown":"I am trying to save text received after OCR to a file. This is the function that I use to write everything that there is in EditText &#39;Wynik&#39; to a file &quot;test.txt&quot;. I cannot find any solution to save received text to a file specified by app user f.e. &#39;My book.txt&#39;\r\n\r\n```\r\n private void SaveText() {\r\n        String TekstDoOdczytu = Wynik.getText().toString();\r\n        FileOutputStream fos = null;\r\n\r\n\r\n        try{\r\n            \r\n            fos = openFileOutput(&quot;test.txt&quot;, MODE_APPEND);\r\n            fos.write(TekstDoOdczytu.getBytes());\r\n            Wynik.getText().clear();    //Czyszczenie edittexta z tesktu\r\n            Toast.makeText(this, &quot;Text written to file test.txt&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        catch (IOException e){\r\n            Log.e(&quot;Exception&quot;, &quot;Error: File write failed: &quot; + e.toString());\r\n            e.fillInStackTrace();\r\n        }\r\n        finally {\r\n            if(fos != null){\r\n                try {\r\n                    fos.close();\r\n                }\r\n                catch (IOException e){\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```","title":"How to write string to file specified by a user in Java","body":"<p>I am trying to save text received after OCR to a file. This is the function that I use to write everything that there is in EditText 'Wynik' to a file &quot;test.txt&quot;. I cannot find any solution to save received text to a file specified by app user f.e. 'My book.txt'</p>\n<pre><code> private void SaveText() {\n        String TekstDoOdczytu = Wynik.getText().toString();\n        FileOutputStream fos = null;\n\n\n        try{\n            \n            fos = openFileOutput(&quot;test.txt&quot;, MODE_APPEND);\n            fos.write(TekstDoOdczytu.getBytes());\n            Wynik.getText().clear();    //Czyszczenie edittexta z tesktu\n            Toast.makeText(this, &quot;Text written to file test.txt&quot;, Toast.LENGTH_SHORT).show();\n        }\n        catch (IOException e){\n            Log.e(&quot;Exception&quot;, &quot;Error: File write failed: &quot; + e.toString());\n            e.fillInStackTrace();\n        }\n        finally {\n            if(fos != null){\n                try {\n                    fos.close();\n                }\n                catch (IOException e){\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jpa","java-8"],"comments":[{"owner":{"account_id":10472421,"reputation":61,"user_id":7719903,"display_name":"Barefooter"},"score":0,"creation_date":1644497700,"post_id":71064933,"comment_id":125625835,"body_markdown":"As you&#39;re referring to the same table &#39;Cidade&#39; in both the queries, you can use the combination of &#39;or&#39; and &#39;and&#39; conditions in the where clause to fetch it.","body":"As you&#39;re referring to the same table &#39;Cidade&#39; in both the queries, you can use the combination of &#39;or&#39; and &#39;and&#39; conditions in the where clause to fetch it."},{"owner":{"display_name":"user17154913"},"score":0,"creation_date":1644500477,"post_id":71064933,"comment_id":125626985,"body_markdown":"Hi @Barefooter, i did this but it didnt work properly because my like stopped working","body":"Hi @Barefooter, i did this but it didnt work properly because my like stopped working"}],"answers":[{"tags":[],"owner":{"account_id":12932920,"reputation":29,"user_id":9985125,"display_name":"ÐœÐ°ÐºÑÐ¸Ð¼"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644501072,"creation_date":1644501072,"answer_id":71066324,"question_id":71064933,"body_markdown":"If you have the same `Pageable` on this methods try this  \r\n```\r\n    @Query(&quot;&quot;&quot;\r\n        select c from Cidade c \r\n        where (c.estado is null or (c.estado = :estado))\r\n        and (c.nome is null or (c.nome like :nome))\r\n     &quot;&quot;&quot;\r\n    )\r\n    Page&lt;Cidade&gt; listarEntries(\r\n        @Param(&quot;estado&quot;) estado: String,\r\n        @Param(&quot;nome&quot;) nome: String,\r\n        pageable: Pageable\r\n    )\r\n```","title":"Can i do two jpa queries in one?","body":"<p>If you have the same <code>Pageable</code> on this methods try this</p>\n<pre><code>    @Query(&quot;&quot;&quot;\n        select c from Cidade c \n        where (c.estado is null or (c.estado = :estado))\n        and (c.nome is null or (c.nome like :nome))\n     &quot;&quot;&quot;\n    )\n    Page&lt;Cidade&gt; listarEntries(\n        @Param(&quot;estado&quot;) estado: String,\n        @Param(&quot;nome&quot;) nome: String,\n        pageable: Pageable\n    )\n</code></pre>\n"}],"owner":{"display_name":"user17154913"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644501072,"creation_date":1644495299,"question_id":71064933,"body_markdown":"Im devloping a crud application in spring-boot and i was wondering if i can do these two queries and methods in one:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.celulaweb.crud.repository;\r\n\r\n    import com.celulaweb.crud.domain.Cidade;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public interface CidadeRepository extends JpaRepository&lt;Cidade, Long&gt; {\r\n\r\n        @Query(&quot;select c from Cidade c where c.estado is null or c.estado = :estado&quot;)\r\n        Page&lt;Cidade&gt; listarPorEstado(@Param(&quot;estado&quot;) String estado, Pageable pageable);\r\n\r\n        @Query(&quot;select c from Cidade c where c.nome is null or c.nome like :nome&quot;)\r\n        Page&lt;Cidade&gt; listarPorNomeTendo(@Param(&quot;nome&quot;) String nome, Pageable pageable);\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThese are queries from `org.springframework.data.jpa.repository.Query`\r\nHow can i merge these two?\r\n","title":"Can i do two jpa queries in one?","body":"<p>Im devloping a crud application in spring-boot and i was wondering if i can do these two queries and methods in one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.celulaweb.crud.repository;\n\nimport com.celulaweb.crud.domain.Cidade;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface CidadeRepository extends JpaRepository&lt;Cidade, Long&gt; {\n\n    @Query(&quot;select c from Cidade c where c.estado is null or c.estado = :estado&quot;)\n    Page&lt;Cidade&gt; listarPorEstado(@Param(&quot;estado&quot;) String estado, Pageable pageable);\n\n    @Query(&quot;select c from Cidade c where c.nome is null or c.nome like :nome&quot;)\n    Page&lt;Cidade&gt; listarPorNomeTendo(@Param(&quot;nome&quot;) String nome, Pageable pageable);\n\n}\n</code></pre>\n\n<p>These are queries from <code>org.springframework.data.jpa.repository.Query</code>\nHow can i merge these two?</p>\n"},{"tags":["java","spring","multithreading","tomcat","websocket"],"owner":{"account_id":3575276,"reputation":2943,"user_id":2984693,"display_name":"Xarvalus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644500898,"creation_date":1644500898,"question_id":71066279,"body_markdown":"Websocket connection works on Springâ€™s WebSocket 4.1.6â€™s `TextWebSocketHandler`. For connection establishment we have `HandshakeInterceptor`, which in its `beforeHandshake()` method sets the user context: \r\n\r\n    AuthenticatedUser authUser = (AuthenticatedUser) httpServletRequest\r\n        .getSession().getAttribute(WEB_SOCKET_USER);\r\n \r\n    UserContextHolder.setUserContext(new UserContext(authUser)); \r\n\r\nThe `UserContextHolder` class is modeled like Springâ€™s `org.springframework.context.i18n.LocaleContextHolder` - a class to hold the current `UserContext` in thread local storage: \r\n\r\n    private static ThreadLocal&lt;UserContext&gt; userContextHolder = new InheritableThreadLocal&lt;UserContext&gt;(); \r\n    \r\n    public static void setUserContext(UserContext userContext) { \r\n        userContextHolder.set(userContext); \r\n        if (userContext != null) { \r\n            LocaleContextHolder.setLocaleContext(userContext); \r\n        } else { \r\n            LocaleContextHolder.setLocaleContext(new LocaleContext() { \r\n                public Locale getLocale() { \r\n                    return UserContext.getDefaultLocale(); \r\n                } \r\n            }); \r\n        } \r\n    } \r\n\r\nThis `UserContext` holds the threadâ€™s authenticated `User` information for entire app, not only Spring (we also use another software, like Quartz, coexisting on this codebase on JVM, so we need to communicate between them). \r\n\r\nEverything works okay when we run on the previous Tomcat 7 with standard BIO Connector. The problem arises with the upgrade to Tomcat 8 with the new NIO Connector being enabled by default. \r\n\r\nWhen the WebSocketâ€™s messages arrive they are processed in a call to Service methods which is validated in `@SecurityValidation` annotation, the `MethodInterceptor` checks if given thread has the User Context set: \r\n\r\n    AuthenticatedUser user = UserContextHolder.getUser(); \r\n    \r\n    if (user == null) { \r\n       throw new Exception(/* ... */); \r\n    } \r\n\r\nBut itâ€™s `null`, so `Exception` gets thrown. \r\n\r\nWe believe that the problem is in threading change after the switch from BIO to NIO Connector. \r\n\r\n&gt; BIO Scenario â€“ we have one thread per one WebSocket model, so one\r\n&gt; Handshake sets one `UserContext` and it works on this exact thread. It\r\n&gt; works okay, even when there are more sockets, because i.e., when we\r\n&gt; have 4 different WebSockets open, there are 4 different threads\r\n&gt; handling them, thatâ€™s why `ThreadLocal` usage is working well.\r\n\r\n&gt; NIO Scenario â€“ the Non-Blocking IO concept is for reducing the threads\r\n&gt; number (simplifying for our case), internally in 3rd party NIO\r\n&gt; Connector there is used NIOâ€™s Selector to manage the workload on a\r\n&gt; single thread (with an Event Loop I guess, need to confirm). As we now\r\n&gt; have just one single thread to handle all the WebSockets (or at least,\r\n&gt; some part of them) the unexpected exception is thrown.\r\n\r\nIâ€™m not sure why once set `UserContext` gets nullified later, the code investigation brings us no clues, thatâ€™s why we think that might be a bug (or something). \r\n\r\nThe `UserContext`â€™s `ThreadLocal` being null in NIO seems to be the cause of the exception. Has anyone used `ThreadLocal` with NIO Connector? What is the best way to migrate Tomcat 7 BIO implementation to Tomcat 8 NIO implementation when using `ThreadLocal` in WebSocket communiction? Thanks!\r\n\r\n","title":"WebSocket breaks after Tomcat 7 to 8 upgrade, using NIO Connector, while having ThreadLocal in code along with Springâ€™s TextWebSocketHandler","body":"<p>Websocket connection works on Springâ€™s WebSocket 4.1.6â€™s <code>TextWebSocketHandler</code>. For connection establishment we have <code>HandshakeInterceptor</code>, which in its <code>beforeHandshake()</code> method sets the user context:</p>\n<pre><code>AuthenticatedUser authUser = (AuthenticatedUser) httpServletRequest\n    .getSession().getAttribute(WEB_SOCKET_USER);\n\nUserContextHolder.setUserContext(new UserContext(authUser)); \n</code></pre>\n<p>The <code>UserContextHolder</code> class is modeled like Springâ€™s <code>org.springframework.context.i18n.LocaleContextHolder</code> - a class to hold the current <code>UserContext</code> in thread local storage:</p>\n<pre><code>private static ThreadLocal&lt;UserContext&gt; userContextHolder = new InheritableThreadLocal&lt;UserContext&gt;(); \n\npublic static void setUserContext(UserContext userContext) { \n    userContextHolder.set(userContext); \n    if (userContext != null) { \n        LocaleContextHolder.setLocaleContext(userContext); \n    } else { \n        LocaleContextHolder.setLocaleContext(new LocaleContext() { \n            public Locale getLocale() { \n                return UserContext.getDefaultLocale(); \n            } \n        }); \n    } \n} \n</code></pre>\n<p>This <code>UserContext</code> holds the threadâ€™s authenticated <code>User</code> information for entire app, not only Spring (we also use another software, like Quartz, coexisting on this codebase on JVM, so we need to communicate between them).</p>\n<p>Everything works okay when we run on the previous Tomcat 7 with standard BIO Connector. The problem arises with the upgrade to Tomcat 8 with the new NIO Connector being enabled by default.</p>\n<p>When the WebSocketâ€™s messages arrive they are processed in a call to Service methods which is validated in <code>@SecurityValidation</code> annotation, the <code>MethodInterceptor</code> checks if given thread has the User Context set:</p>\n<pre><code>AuthenticatedUser user = UserContextHolder.getUser(); \n\nif (user == null) { \n   throw new Exception(/* ... */); \n} \n</code></pre>\n<p>But itâ€™s <code>null</code>, so <code>Exception</code> gets thrown.</p>\n<p>We believe that the problem is in threading change after the switch from BIO to NIO Connector.</p>\n<blockquote>\n<p>BIO Scenario â€“ we have one thread per one WebSocket model, so one\nHandshake sets one <code>UserContext</code> and it works on this exact thread. It\nworks okay, even when there are more sockets, because i.e., when we\nhave 4 different WebSockets open, there are 4 different threads\nhandling them, thatâ€™s why <code>ThreadLocal</code> usage is working well.</p>\n</blockquote>\n<blockquote>\n<p>NIO Scenario â€“ the Non-Blocking IO concept is for reducing the threads\nnumber (simplifying for our case), internally in 3rd party NIO\nConnector there is used NIOâ€™s Selector to manage the workload on a\nsingle thread (with an Event Loop I guess, need to confirm). As we now\nhave just one single thread to handle all the WebSockets (or at least,\nsome part of them) the unexpected exception is thrown.</p>\n</blockquote>\n<p>Iâ€™m not sure why once set <code>UserContext</code> gets nullified later, the code investigation brings us no clues, thatâ€™s why we think that might be a bug (or something).</p>\n<p>The <code>UserContext</code>â€™s <code>ThreadLocal</code> being null in NIO seems to be the cause of the exception. Has anyone used <code>ThreadLocal</code> with NIO Connector? What is the best way to migrate Tomcat 7 BIO implementation to Tomcat 8 NIO implementation when using <code>ThreadLocal</code> in WebSocket communiction? Thanks!</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1645017128,"post_id":71066179,"comment_id":125757816,"body_markdown":"You want to have functionality that multiple items can be selected at a time right?\nWhen a selected item is clicked again than it should de-selected all of the selected ones?","body":"You want to have functionality that multiple items can be selected at a time right? When a selected item is clicked again than it should de-selected all of the selected ones?"},{"owner":{"account_id":9655192,"reputation":196,"user_id":7164993,"display_name":"Handelika"},"score":0,"creation_date":1645080593,"post_id":71066179,"comment_id":125776741,"body_markdown":"@mohammedahmed actually, i want to deselect all others when selecting first an last one. I tried notify data set change. but my custom view is not giving me right solution. i am using different backgrounds and custom selector color for click event. deselecting gives me different solutions every time. :(","body":"@mohammedahmed actually, i want to deselect all others when selecting first an last one. I tried notify data set change. but my custom view is not giving me right solution. i am using different backgrounds and custom selector color for click event. deselecting gives me different solutions every time. :("},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1645090282,"post_id":71066179,"comment_id":125779922,"body_markdown":"With first and last you mean the index of item in the list ?","body":"With first and last you mean the index of item in the list ?"},{"owner":{"account_id":9655192,"reputation":196,"user_id":7164993,"display_name":"Handelika"},"score":0,"creation_date":1645093294,"post_id":71066179,"comment_id":125781246,"body_markdown":"@mohammedahmed yes. recyclerview&#39;s first and last item. think like items: 1,2,3,4, select all and select nothing","body":"@mohammedahmed yes. recyclerview&#39;s first and last item. think like items: 1,2,3,4, select all and select nothing"},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1645098418,"post_id":71066179,"comment_id":125783286,"body_markdown":"Why don&#39;t you use select/de-select all toggle button?","body":"Why don&#39;t you use select/de-select all toggle button?"},{"owner":{"account_id":9655192,"reputation":196,"user_id":7164993,"display_name":"Handelika"},"score":0,"creation_date":1645180340,"post_id":71066179,"comment_id":125808117,"body_markdown":"@mohammedahmed toggle mean radio button?","body":"@mohammedahmed toggle mean radio button?"},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1647443390,"post_id":71066179,"comment_id":126373309,"body_markdown":"Yeap, Radio buttons with radio group.","body":"Yeap, Radio buttons with radio group."},{"owner":{"account_id":9655192,"reputation":196,"user_id":7164993,"display_name":"Handelika"},"score":0,"creation_date":1650523492,"post_id":71066179,"comment_id":127138588,"body_markdown":"Thanks for your help. I am using flutter anymore. So i don&#39;t need that anymore :) But i am going to use radio button instead ;)","body":"Thanks for your help. I am using flutter anymore. So i don&#39;t need that anymore :) But i am going to use radio button instead ;)"}],"owner":{"account_id":9655192,"reputation":196,"user_id":7164993,"display_name":"Handelika"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644500595,"creation_date":1644500595,"question_id":71066179,"body_markdown":"Iam developing a filter for search. And i have an custom recyclerview. I have multiple choice as default. But when last one selected i want to deselect other rows in recyclerview. How can i change the selection?\r\n\r\n```java\r\npublic class HorizontalFilterItemsAdapter extends RecyclerView.Adapter&lt;HorizontalFilterItemsAdapter.HorizontalFilterItemsAdapterViewHolder&gt; {\r\n\r\n    private Context context;\r\n    private List&lt;StringModel&gt; stringModelList;\r\n    private HorizontalFilterItemClick horizontalFilterItemClick;\r\n    private String dataType = &quot;&quot;;\r\n    private int selectedPos= 0;\r\n\r\n    public HorizontalFilterItemsAdapter(Context context, List&lt;StringModel&gt; stringModelList, HorizontalFilterItemClick horizontalFilterItemClick, String dataType) {\r\n        this.context = context;\r\n        this.stringModelList = stringModelList;\r\n        this.horizontalFilterItemClick = horizontalFilterItemClick;\r\n        this.dataType = dataType;\r\n    }\r\n\r\n    public interface HorizontalFilterItemClick{\r\n        void onHorizontalItemAddClick(int id, int position, String dataType);\r\n        void onHorizontalItemRemoveClick(int id, int position, String dataType);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public HorizontalFilterItemsAdapterViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(context).inflate(R.layout.item_horizontal_filter, parent, false);\r\n        return new HorizontalFilterItemsAdapterViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull HorizontalFilterItemsAdapterViewHolder holder, int position) {\r\n\r\n        StringModel stringModel = stringModelList.get(position);\r\n\r\n        holder.textView.setText(stringModel.stringData);\r\n\r\n        getItemShape(position, holder.itemView);\r\n\r\n        if (stringModel.isChecked) {\r\n            holder.itemView.setBackgroundTintList(ColorStateList.valueOf(context.getColor(R.color.blue_kk_700)));\r\n            holder.textView.setTextColor(context.getColor(R.color.white));\r\n        }else{\r\n            holder.textView.setTextColor(context.getColor(R.color.text_sub_header));\r\n\r\n        }\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n            @Override\r\n            public void onClick(View view) {\r\n                selectedPos = holder.getAdapterPosition();\r\n                if (!stringModel.isChecked){\r\n\r\n                    stringModel.isChecked = true;\r\n                    horizontalFilterItemClick.onHorizontalItemAddClick(stringModel.id, holder.getAdapterPosition(), dataType);\r\n                    holder.itemView.setBackgroundColor(context.getColor(R.color.blue_kk_700));\r\n                    holder.textView.setTextColor(context.getColor(R.color.white));\r\n\r\n                }else{\r\n                    stringModel.isChecked = false;\r\n\r\n                    holder.itemView.setBackgroundColor(context.getColor(R.color.white));\r\n                    holder.textView.setTextColor(context.getColor(R.color.text_sub_header));\r\n                    horizontalFilterItemClick.onHorizontalItemRemoveClick(stringModel.id, holder.getAdapterPosition(), dataType);\r\n\r\n                    getItemShape(holder.getAdapterPosition(), holder.itemView);\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @SuppressLint(&quot;UseCompatLoadingForDrawables&quot;)\r\n    private void  getItemShape(int position, View view){\r\n        switch (position) {\r\n            case 0:\r\n                view.setBackground(context.getDrawable(R.drawable.custom_item_left_corner_radius));\r\n\r\n                break;\r\n            case 1:\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n            case 5:\r\n                view.setBackground(context.getDrawable(R.drawable.custom_item_shape_rectangle));\r\n                break;\r\n            case 6:\r\n                view.setBackground(context.getDrawable(R.drawable.custom_item_right_corner_radius));\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return stringModelList == null ? 0 : stringModelList.size();\r\n    }\r\n\r\n    public class HorizontalFilterItemsAdapterViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView textView;\r\n\r\n        public HorizontalFilterItemsAdapterViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            textView = itemView.findViewById(R.id.textView);\r\n        }\r\n    }\r\n\r\n```\r\n\r\n```xml\r\n\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;@color/button_click_background_selector&quot;\r\n    &gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;55dp&quot;\r\n        android:textAppearance=&quot;@style/TextView.TextViewHeaderMedium14&quot;\r\n        android:translationZ=&quot;1dp&quot;\r\n        android:textColor=&quot;@color/custom_item_click_selector&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:gravity=&quot;center&quot;\r\n        /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nI have custom backgrounds as well. Because of this reason, i can&#39;t deselect other rows. How can i deselect other rows when i click only last one? Thanks in advance","title":"how can i combine single and multi selection for a recyclerview in android","body":"<p>Iam developing a filter for search. And i have an custom recyclerview. I have multiple choice as default. But when last one selected i want to deselect other rows in recyclerview. How can i change the selection?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HorizontalFilterItemsAdapter extends RecyclerView.Adapter&lt;HorizontalFilterItemsAdapter.HorizontalFilterItemsAdapterViewHolder&gt; {\n\n    private Context context;\n    private List&lt;StringModel&gt; stringModelList;\n    private HorizontalFilterItemClick horizontalFilterItemClick;\n    private String dataType = &quot;&quot;;\n    private int selectedPos= 0;\n\n    public HorizontalFilterItemsAdapter(Context context, List&lt;StringModel&gt; stringModelList, HorizontalFilterItemClick horizontalFilterItemClick, String dataType) {\n        this.context = context;\n        this.stringModelList = stringModelList;\n        this.horizontalFilterItemClick = horizontalFilterItemClick;\n        this.dataType = dataType;\n    }\n\n    public interface HorizontalFilterItemClick{\n        void onHorizontalItemAddClick(int id, int position, String dataType);\n        void onHorizontalItemRemoveClick(int id, int position, String dataType);\n    }\n\n    @NonNull\n    @Override\n    public HorizontalFilterItemsAdapterViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = LayoutInflater.from(context).inflate(R.layout.item_horizontal_filter, parent, false);\n        return new HorizontalFilterItemsAdapterViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull HorizontalFilterItemsAdapterViewHolder holder, int position) {\n\n        StringModel stringModel = stringModelList.get(position);\n\n        holder.textView.setText(stringModel.stringData);\n\n        getItemShape(position, holder.itemView);\n\n        if (stringModel.isChecked) {\n            holder.itemView.setBackgroundTintList(ColorStateList.valueOf(context.getColor(R.color.blue_kk_700)));\n            holder.textView.setTextColor(context.getColor(R.color.white));\n        }else{\n            holder.textView.setTextColor(context.getColor(R.color.text_sub_header));\n\n        }\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n            @Override\n            public void onClick(View view) {\n                selectedPos = holder.getAdapterPosition();\n                if (!stringModel.isChecked){\n\n                    stringModel.isChecked = true;\n                    horizontalFilterItemClick.onHorizontalItemAddClick(stringModel.id, holder.getAdapterPosition(), dataType);\n                    holder.itemView.setBackgroundColor(context.getColor(R.color.blue_kk_700));\n                    holder.textView.setTextColor(context.getColor(R.color.white));\n\n                }else{\n                    stringModel.isChecked = false;\n\n                    holder.itemView.setBackgroundColor(context.getColor(R.color.white));\n                    holder.textView.setTextColor(context.getColor(R.color.text_sub_header));\n                    horizontalFilterItemClick.onHorizontalItemRemoveClick(stringModel.id, holder.getAdapterPosition(), dataType);\n\n                    getItemShape(holder.getAdapterPosition(), holder.itemView);\n\n                }\n            }\n        });\n\n    }\n\n    @SuppressLint(&quot;UseCompatLoadingForDrawables&quot;)\n    private void  getItemShape(int position, View view){\n        switch (position) {\n            case 0:\n                view.setBackground(context.getDrawable(R.drawable.custom_item_left_corner_radius));\n\n                break;\n            case 1:\n            case 2:\n            case 3:\n            case 4:\n            case 5:\n                view.setBackground(context.getDrawable(R.drawable.custom_item_shape_rectangle));\n                break;\n            case 6:\n                view.setBackground(context.getDrawable(R.drawable.custom_item_right_corner_radius));\n                break;\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return stringModelList == null ? 0 : stringModelList.size();\n    }\n\n    public class HorizontalFilterItemsAdapterViewHolder extends RecyclerView.ViewHolder {\n\n        private TextView textView;\n\n        public HorizontalFilterItemsAdapterViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            textView = itemView.findViewById(R.id.textView);\n        }\n    }\n\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@color/button_click_background_selector&quot;\n    &gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;55dp&quot;\n        android:textAppearance=&quot;@style/TextView.TextViewHeaderMedium14&quot;\n        android:translationZ=&quot;1dp&quot;\n        android:textColor=&quot;@color/custom_item_click_selector&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:gravity=&quot;center&quot;\n        /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I have custom backgrounds as well. Because of this reason, i can't deselect other rows. How can i deselect other rows when i click only last one? Thanks in advance</p>\n"},{"tags":["java","arrays","type-conversion","integer","converters"],"comments":[{"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":3,"creation_date":1602535204,"post_id":64324978,"comment_id":113746106,"body_markdown":"Hint: %10 extracts the last digit, /10 removes the last digit. Also think about what should happen if the number is negative.","body":"Hint: %10 extracts the last digit, /10 removes the last digit. Also think about what should happen if the number is negative."}],"answers":[{"tags":[],"owner":{"account_id":1625750,"reputation":5627,"user_id":1501345,"accept_rate":60,"display_name":"Amit Kumar Lal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602536043,"creation_date":1602535238,"answer_id":64325071,"question_id":64324978,"body_markdown":"    public static void main(String[] args) {\r\n    \tint myInt = 4821;\r\n        int size = 0;\r\n        int temp = myInt;\r\n        while(temp &gt; 0) {\r\n        \ttemp = temp/10;\r\n        \tsize++;\r\n        }\r\n    \tint[] numbers = new int[size];\r\n    \t\r\n    \tint index = 0;\r\n    \twhile(myInt &gt; 0) {\r\n    \t\tnumbers[index] = myInt % 10;\r\n    \t\tmyInt = myInt / 10;\r\n    \t\tindex++;\r\n    \t}\r\n    \tfor (int i : numbers) {\r\n    \t\tSystem.out.println(&quot;Number : &quot;+i);\r\n    \t}\r\n    }\r\n\r\noutput\r\n\r\n    Number : 1\r\n    Number : 2\r\n    Number : 8\r\n    Number : 4\r\n","title":"How do I convert an Int to an Int[] in java?","body":"<pre><code>public static void main(String[] args) {\n    int myInt = 4821;\n    int size = 0;\n    int temp = myInt;\n    while(temp &gt; 0) {\n        temp = temp/10;\n        size++;\n    }\n    int[] numbers = new int[size];\n    \n    int index = 0;\n    while(myInt &gt; 0) {\n        numbers[index] = myInt % 10;\n        myInt = myInt / 10;\n        index++;\n    }\n    for (int i : numbers) {\n        System.out.println(&quot;Number : &quot;+i);\n    }\n}\n</code></pre>\n<p>output</p>\n<pre><code>Number : 1\nNumber : 2\nNumber : 8\nNumber : 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5693677,"reputation":334,"user_id":4500872,"display_name":"Simone Casamassa"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1602536089,"creation_date":1602536089,"answer_id":64325223,"question_id":64324978,"body_markdown":"    int myInt = 4821;\r\n\tString myIntText = myInt+ &quot;&quot;; //Implicit cast to String\r\n\t\t\r\n\tInteger[] numberArray = new Integer[myIntText.length()]; //Create Array for result\r\n\tfor(int i=0; i&lt;myIntText.length(); i++) {\r\n\t\tString number = myIntText.substring(i, i+1);  //Extract every number from left to right\r\n\t\tnumberArray[i] = Integer.valueOf(number); //save the number in the array\r\n\t}\r\n\tfor(int i = 0; i&lt;myIntText.length(); i++) \r\n\t\tSystem.out.println(numberArray[i]);","title":"How do I convert an Int to an Int[] in java?","body":"<pre><code>int myInt = 4821;\nString myIntText = myInt+ &quot;&quot;; //Implicit cast to String\n    \nInteger[] numberArray = new Integer[myIntText.length()]; //Create Array for result\nfor(int i=0; i&lt;myIntText.length(); i++) {\n    String number = myIntText.substring(i, i+1);  //Extract every number from left to right\n    numberArray[i] = Integer.valueOf(number); //save the number in the array\n}\nfor(int i = 0; i&lt;myIntText.length(); i++) \n    System.out.println(numberArray[i]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1644500591,"creation_date":1602538678,"answer_id":64325659,"question_id":64324978,"body_markdown":"There can be so many ways to do it. A concise way of doing it&#39;s using `Stream` API as shown below:\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint myInt = 4821;\r\n    \t\tint[] arr = \r\n    \t\t\tString.valueOf(Math.abs(myInt))\t// Convert the absolute value to String\r\n    \t\t\t.chars()\t\t\t\t\t\t// Get IntStream out of the String\r\n    \t\t\t.map(c -&gt; c - 48)\t\t\t\t// Convert each char into numeric value\r\n    \t\t\t.toArray();\t\t\t\t\t\t// Convert the stream into array\r\n    \r\n    \t\t// Display the array\r\n    \t\tSystem.out.println(Arrays.toString(arr));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    [4, 8, 2, 1]\r\n\r\n**Notes:**\r\n\r\n 1. [ASCII value of][1] `&#39;0&#39;` is `48`, that of `&#39;1&#39;` is `49` and so on.\r\n 2. [`Math#abs`][2] returns the absolute value of an `int` value \r\n    - e.g. `Math.abs(-5) = 5` and `Math.abs(5) = 5`\r\n\r\n\r\n  [1]: http://www.asciitable.com/\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#abs-int-","title":"How do I convert an Int to an Int[] in java?","body":"<p>There can be so many ways to do it. A concise way of doing it's using <code>Stream</code> API as shown below:</p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        int myInt = 4821;\n        int[] arr = \n            String.valueOf(Math.abs(myInt)) // Convert the absolute value to String\n            .chars()                        // Get IntStream out of the String\n            .map(c -&gt; c - 48)               // Convert each char into numeric value\n            .toArray();                     // Convert the stream into array\n\n        // Display the array\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[4, 8, 2, 1]\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ol>\n<li><a href=\"http://www.asciitable.com/\" rel=\"nofollow noreferrer\">ASCII value of</a> <code>'0'</code> is <code>48</code>, that of <code>'1'</code> is <code>49</code> and so on.</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#abs-int-\" rel=\"nofollow noreferrer\"><code>Math#abs</code></a> returns the absolute value of an <code>int</code> value\n<ul>\n<li>e.g. <code>Math.abs(-5) = 5</code> and <code>Math.abs(5) = 5</code></li>\n</ul>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"â„›É‘Æ’&#230;Ä¿á´¿á´¹á´¿"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644500375,"creation_date":1602546536,"answer_id":64326742,"question_id":64324978,"body_markdown":"Following code for a **simple one line solution** using **Java 8+** with `Stream` and `mapToInt`:\r\n\r\n    Stream.of(String.valueOf(myInt).split(&quot;&quot;)).mapToInt(Integer::parseInt).toArray();\r\n\r\nGeneric solution:\r\n\r\n    import java.util.stream.Stream;\r\n\r\n    public static int[] convertValueToIntegerArray(int value) {\r\n        return Stream.of(String.valueOf(value).split(&quot;&quot;))\r\n                     .mapToInt(Integer::parseInt)\r\n                     .toArray();\r\n    }\r\n\r\nExample:\r\n\r\n    import java.util.Arrays;\r\n\r\n    public void testIntegerArray() {\r\n        int myInt = 4821;\r\n        int[] myIntArr = convertValueToIntegerArray(myInt);\r\n        System.out.println(&quot;Converted: &quot; + Arrays.toString(myIntArr));\r\n    }\r\n","title":"How do I convert an Int to an Int[] in java?","body":"<p>Following code for a <strong>simple one line solution</strong> using <strong>Java 8+</strong> with <code>Stream</code> and <code>mapToInt</code>:</p>\n<pre><code>Stream.of(String.valueOf(myInt).split(&quot;&quot;)).mapToInt(Integer::parseInt).toArray();\n</code></pre>\n<p>Generic solution:</p>\n<pre><code>import java.util.stream.Stream;\n\npublic static int[] convertValueToIntegerArray(int value) {\n    return Stream.of(String.valueOf(value).split(&quot;&quot;))\n                 .mapToInt(Integer::parseInt)\n                 .toArray();\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>import java.util.Arrays;\n\npublic void testIntegerArray() {\n    int myInt = 4821;\n    int[] myIntArr = convertValueToIntegerArray(myInt);\n    System.out.println(&quot;Converted: &quot; + Arrays.toString(myIntArr));\n}\n</code></pre>\n"}],"owner":{"account_id":16680604,"reputation":322,"user_id":12055789,"display_name":"Zeeen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1043,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":64325659,"answer_count":4,"score":2,"last_activity_date":1644500591,"creation_date":1602534712,"question_id":64324978,"body_markdown":"I want to convert a primitive Java integer value:\r\n\r\n    int myInt = 4821;\r\n\r\nTo an integer array:\r\n\r\n    int[] myInt = {4, 8, 2, 1};\r\n\r\n\r\n","title":"How do I convert an Int to an Int[] in java?","body":"<p>I want to convert a primitive Java integer value:</p>\n<pre><code>int myInt = 4821;\n</code></pre>\n<p>To an integer array:</p>\n<pre><code>int[] myInt = {4, 8, 2, 1};\n</code></pre>\n"},{"tags":["java","caching","datagrid","infinispan","hot-rod"],"answers":[{"tags":[],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644500421,"creation_date":1643385138,"answer_id":70896482,"question_id":70879775,"body_markdown":"I resolved the issue changing the server Data grid configuration\r\n\r\ndistributed-cache from **SYNC** to **ASYNC** mode.\r\n\r\nThe exceeding remote-timeout server side was caused from the time spent for Sync replication key in subset nodes of the cluster Data Grid.\r\n\r\n\r\nFrom the Data Grid document ( [doc SYNC and ASYNC replication][1] ):\r\n\r\n&gt; **Replication mode can be synchronous or asynchronous depending on the\r\n&gt; problem being addressed.**\r\n&gt; \r\n&gt; Synchronous replication blocks a thread or caller (for example on a\r\n&gt; put() operation) until the modifications are replicated across all\r\n&gt; nodes in the cluster. By waiting for acknowledgments, synchronous\r\n&gt; replication ensures that all replications are successfully applied\r\n&gt; before the operation is concluded.\r\n&gt; \r\n&gt; Asynchronous replication operates significantly faster than\r\n&gt; synchronous replication because it does not need to wait for responses\r\n&gt; from nodes. Asynchronous replication performs the replication in the\r\n&gt; background and the call returns immediately. Errors that occur during\r\n&gt; asynchronous replication are written to a log. As a result, a\r\n&gt; transaction can be successfully completed despite the fact that\r\n&gt; replication of the transaction may not have succeeded on all the cache\r\n&gt; instances in the cluster.\r\n\r\n\r\nMy last server conf:\r\n\r\n    {\r\n      &quot;distributed-cache&quot;: {\r\n        &quot;mode&quot;: &quot;ASYNC&quot;,\r\n        &quot;remote-timeout&quot;: 17500,\r\n        &quot;state-transfer&quot;: {\r\n          &quot;timeout&quot;: 60000\r\n        },\r\n        &quot;encoding&quot;: {\r\n          &quot;key&quot;: {\r\n            &quot;media-type&quot;: &quot;text/plain&quot;\r\n          },\r\n          &quot;value&quot;: {\r\n            &quot;media-type&quot;: &quot;application/x-protostream&quot;\r\n          }\r\n        },\r\n        &quot;locking&quot;: {\r\n          &quot;concurrency-level&quot;: 1000,\r\n          &quot;acquire-timeout&quot;: 15000,\r\n          &quot;striping&quot;: false\r\n        },\r\n        &quot;statistics&quot;: true\r\n      }\r\n    }\r\n\r\n\r\nFurthermore always in server conf ( /opt/redhat/redhat-datagrid-8.2-server/bin/server.conf ) \r\n\r\nI set *Xms* the same size of *Xmx* to avoid the performance degradation when the GC starts up.\r\n\r\nI found performance tuning link: [performance tuning cache link][2]\r\n\r\n\r\n  [1]: https://access.redhat.com/documentation/en-us/red_hat_data_grid/6.6/html/administration_and_configuration_guide/sect-synchronous_and_asynchronous_replication\r\n  [2]: https://infinispan.org/docs/stable/titles/tuning/tuning.html","title":"infinispan client HOTROD massive put data ISPN000476: Timed out waiting for responses for request","body":"<p>I resolved the issue changing the server Data grid configuration</p>\n<p>distributed-cache from <strong>SYNC</strong> to <strong>ASYNC</strong> mode.</p>\n<p>The exceeding remote-timeout server side was caused from the time spent for Sync replication key in subset nodes of the cluster Data Grid.</p>\n<p>From the Data Grid document ( <a href=\"https://access.redhat.com/documentation/en-us/red_hat_data_grid/6.6/html/administration_and_configuration_guide/sect-synchronous_and_asynchronous_replication\" rel=\"nofollow noreferrer\">doc SYNC and ASYNC replication</a> ):</p>\n<blockquote>\n<p><strong>Replication mode can be synchronous or asynchronous depending on the\nproblem being addressed.</strong></p>\n<p>Synchronous replication blocks a thread or caller (for example on a\nput() operation) until the modifications are replicated across all\nnodes in the cluster. By waiting for acknowledgments, synchronous\nreplication ensures that all replications are successfully applied\nbefore the operation is concluded.</p>\n<p>Asynchronous replication operates significantly faster than\nsynchronous replication because it does not need to wait for responses\nfrom nodes. Asynchronous replication performs the replication in the\nbackground and the call returns immediately. Errors that occur during\nasynchronous replication are written to a log. As a result, a\ntransaction can be successfully completed despite the fact that\nreplication of the transaction may not have succeeded on all the cache\ninstances in the cluster.</p>\n</blockquote>\n<p>My last server conf:</p>\n<pre><code>{\n  &quot;distributed-cache&quot;: {\n    &quot;mode&quot;: &quot;ASYNC&quot;,\n    &quot;remote-timeout&quot;: 17500,\n    &quot;state-transfer&quot;: {\n      &quot;timeout&quot;: 60000\n    },\n    &quot;encoding&quot;: {\n      &quot;key&quot;: {\n        &quot;media-type&quot;: &quot;text/plain&quot;\n      },\n      &quot;value&quot;: {\n        &quot;media-type&quot;: &quot;application/x-protostream&quot;\n      }\n    },\n    &quot;locking&quot;: {\n      &quot;concurrency-level&quot;: 1000,\n      &quot;acquire-timeout&quot;: 15000,\n      &quot;striping&quot;: false\n    },\n    &quot;statistics&quot;: true\n  }\n}\n</code></pre>\n<p>Furthermore always in server conf ( /opt/redhat/redhat-datagrid-8.2-server/bin/server.conf )</p>\n<p>I set <em>Xms</em> the same size of <em>Xmx</em> to avoid the performance degradation when the GC starts up.</p>\n<p>I found performance tuning link: <a href=\"https://infinispan.org/docs/stable/titles/tuning/tuning.html\" rel=\"nofollow noreferrer\">performance tuning cache link</a></p>\n"}],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644500421,"creation_date":1643291790,"question_id":70879775,"body_markdown":"I found other responses to the issue, but I would want to explain my use case if someone have the configuration solutions side or in other case is the Distribuited Cache service limit.\r\n\r\n**DATA GRID Server** *8.2.3* in a cluster 4 VM with the followed config\r\n\r\n    {\r\n          &quot;distributed-cache&quot;: {\r\n            &quot;mode&quot;: &quot;SYNC&quot;,\r\n            &quot;remote-timeout&quot;: 17500,\r\n            &quot;state-transfer&quot;: {\r\n              &quot;timeout&quot;: 60000\r\n            },\r\n            &quot;encoding&quot;: {\r\n              &quot;key&quot;: {\r\n                &quot;media-type&quot;: &quot;text/plain&quot;\r\n              },\r\n              &quot;value&quot;: {\r\n                &quot;media-type&quot;: &quot;application/x-protostream&quot;\r\n              }\r\n            },\r\n            &quot;locking&quot;: {\r\n              &quot;concurrency-level&quot;: 1000,\r\n              &quot;acquire-timeout&quot;: 15000,\r\n              &quot;striping&quot;: false\r\n            },\r\n            &quot;statistics&quot;: true\r\n          }\r\n        }\r\n\r\nApplication side **client HOT-ROD** version with standard Jcache lib version*12.1.11.Final-redhat-00001*\r\n\r\n    @PostConstruct\r\n      private void setUp() {\r\n    \t  LOGGER.info(&quot;START [setUp] CACHE&quot;);\r\n    \t \r\n    \t  File conf = new File(System.getenv(&quot;CLIENT_HOTROD_FILE_PATH&quot;));\r\n    \t \r\n    \t  URI uri = conf.toURI();\r\n    \t\r\n    \t  // Retrieve the system wide cache manager via org.infinispan.jcache.remote.JCachingProvider\r\n    \t  javax.cache.CacheManager cacheManager = Caching.getCachingProvider(&quot;org.infinispan.jcache.remote.JCachingProvider&quot;)\r\n    \t        .getCacheManager(uri, this.getClass().getClassLoader(), null);\r\n    \t  \r\n    \t  this.cache = cacheManager.getCache(DATAGRIDKEY);\r\n    \t \r\n    \t  LOGGER.info(&quot;END [setUp] cache &quot; + this.cache.getName() );\r\n      }\r\n\r\n\r\nThe client config is default.\r\n\r\nMy test performed is the: **Massive put data on distribuited Cache infinispan on the cluster**\r\nFrequently the app receive the responses timeout from the server as followed:\r\n\r\n  \r\n\r\n    [1/26/22 14:58:02:767 CET] 00001ffd HOTROD W org.infinispan.client.hotrod.impl.protocol.Codec20 checkForErrorsInResponseStatus ISPN004005: Error received from the server: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 1770 from DM10RH08\r\n\r\nIs there the way to optimize the performance server side and client side via configuration ?\r\n","title":"infinispan client HOTROD massive put data ISPN000476: Timed out waiting for responses for request","body":"<p>I found other responses to the issue, but I would want to explain my use case if someone have the configuration solutions side or in other case is the Distribuited Cache service limit.</p>\n<p><strong>DATA GRID Server</strong> <em>8.2.3</em> in a cluster 4 VM with the followed config</p>\n<pre><code>{\n      &quot;distributed-cache&quot;: {\n        &quot;mode&quot;: &quot;SYNC&quot;,\n        &quot;remote-timeout&quot;: 17500,\n        &quot;state-transfer&quot;: {\n          &quot;timeout&quot;: 60000\n        },\n        &quot;encoding&quot;: {\n          &quot;key&quot;: {\n            &quot;media-type&quot;: &quot;text/plain&quot;\n          },\n          &quot;value&quot;: {\n            &quot;media-type&quot;: &quot;application/x-protostream&quot;\n          }\n        },\n        &quot;locking&quot;: {\n          &quot;concurrency-level&quot;: 1000,\n          &quot;acquire-timeout&quot;: 15000,\n          &quot;striping&quot;: false\n        },\n        &quot;statistics&quot;: true\n      }\n    }\n</code></pre>\n<p>Application side <strong>client HOT-ROD</strong> version with standard Jcache lib version<em>12.1.11.Final-redhat-00001</em></p>\n<pre><code>@PostConstruct\n  private void setUp() {\n      LOGGER.info(&quot;START [setUp] CACHE&quot;);\n     \n      File conf = new File(System.getenv(&quot;CLIENT_HOTROD_FILE_PATH&quot;));\n     \n      URI uri = conf.toURI();\n    \n      // Retrieve the system wide cache manager via org.infinispan.jcache.remote.JCachingProvider\n      javax.cache.CacheManager cacheManager = Caching.getCachingProvider(&quot;org.infinispan.jcache.remote.JCachingProvider&quot;)\n            .getCacheManager(uri, this.getClass().getClassLoader(), null);\n      \n      this.cache = cacheManager.getCache(DATAGRIDKEY);\n     \n      LOGGER.info(&quot;END [setUp] cache &quot; + this.cache.getName() );\n  }\n</code></pre>\n<p>The client config is default.</p>\n<p>My test performed is the: <strong>Massive put data on distribuited Cache infinispan on the cluster</strong>\nFrequently the app receive the responses timeout from the server as followed:</p>\n<pre><code>[1/26/22 14:58:02:767 CET] 00001ffd HOTROD W org.infinispan.client.hotrod.impl.protocol.Codec20 checkForErrorsInResponseStatus ISPN004005: Error received from the server: org.infinispan.util.concurrent.TimeoutException: ISPN000476: Timed out waiting for responses for request 1770 from DM10RH08\n</code></pre>\n<p>Is there the way to optimize the performance server side and client side via configuration ?</p>\n"},{"tags":["java","oauth-2.0","keycloak","vert.x"],"answers":[{"tags":[],"owner":{"account_id":5093880,"reputation":2449,"user_id":4085968,"display_name":"Yogendra Mishra"},"down_vote_count":1,"up_vote_count":158,"is_accepted":true,"score":157,"last_activity_date":1575234709,"creation_date":1531849212,"answer_id":51387379,"question_id":51386337,"body_markdown":"keycloak has REST API for creating an `access_token` using `refresh_token`. It is a `POST endpoint with application/x-www-form-urlencoded`\r\n\r\nHere is how it looks: \r\n\r\n    Method: POST\r\n    URL: https://keycloak.example.com/auth/realms/myrealm/protocol/openid-connect/token\r\n    Body type: x-www-form-urlencoded\r\n    Form fields:\t\r\n    client_id : &lt;my-client-name&gt;\r\n    grant_type : refresh_token\r\n    refresh_token: &lt;my-refresh-token&gt;\r\n\r\nThis will give you new access token using refresh token.\r\n\r\n**NOTE:** if your refresh token is expired it will throw 400 exception in that you can make user login again. \r\n\r\nCheck out a sample in Postman, you can develop and corresponding API using this.\r\n\r\n[![Sample in Postman][1]][1]\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3cvvt.png","title":"Refresh access_token via refresh_token in Keycloak","body":"<p>keycloak has REST API for creating an <code>access_token</code> using <code>refresh_token</code>. It is a <code>POST endpoint with application/x-www-form-urlencoded</code></p>\n\n<p>Here is how it looks: </p>\n\n<pre><code>Method: POST\nURL: https://keycloak.example.com/auth/realms/myrealm/protocol/openid-connect/token\nBody type: x-www-form-urlencoded\nForm fields:    \nclient_id : &lt;my-client-name&gt;\ngrant_type : refresh_token\nrefresh_token: &lt;my-refresh-token&gt;\n</code></pre>\n\n<p>This will give you new access token using refresh token.</p>\n\n<p><strong>NOTE:</strong> if your refresh token is expired it will throw 400 exception in that you can make user login again. </p>\n\n<p>Check out a sample in Postman, you can develop and corresponding API using this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3cvvt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3cvvt.png\" alt=\"Sample in Postman\"></a></p>\n"},{"tags":[],"owner":{"account_id":7766326,"reputation":11,"user_id":5877405,"display_name":"Sampath Nawgala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548653936,"creation_date":1548653936,"answer_id":54396096,"question_id":51386337,"body_markdown":"I tried with 4.8.2.Final, it gives following `unauthorized_client` even with previous access token as &#39;Bearer&#39;.\r\nThen I tried with `Basic YXBwLXByb3h5OnNlY3JldA==` in Authorization header.\r\nThen it worked, But still I&#39;m not sure that I am doing right thing. \r\n","title":"Refresh access_token via refresh_token in Keycloak","body":"<p>I tried with 4.8.2.Final, it gives following <code>unauthorized_client</code> even with previous access token as 'Bearer'.\nThen I tried with <code>Basic YXBwLXByb3h5OnNlY3JldA==</code> in Authorization header.\nThen it worked, But still I'm not sure that I am doing right thing. </p>\n"},{"tags":[],"owner":{"account_id":2215562,"reputation":115,"user_id":1956279,"display_name":"Khalifa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1625313376,"creation_date":1625313376,"answer_id":68236043,"question_id":51386337,"body_markdown":"@[maslick][1] is correct you have to supply the client secret too, no need for authorization header in this case:\r\n\r\nhttp://localhost:8080/auth/realms/{realm}/protocol/openid-connect/token\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIn case of expired refresh token it returns: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nIf you don&#39;t add the secret you get 401 unauthorized even though the refresh token is correct\r\n\r\n[![enter image description here][4]][4] \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2996867/maslick\r\n  [2]: https://i.stack.imgur.com/NRQUT.png\r\n  [3]: https://i.stack.imgur.com/LSFn7.png\r\n  [4]: https://i.stack.imgur.com/xbF9a.png","title":"Refresh access_token via refresh_token in Keycloak","body":"<p>@<a href=\"https://stackoverflow.com/users/2996867/maslick\">maslick</a> is correct you have to supply the client secret too, no need for authorization header in this case:</p>\n<p>http://localhost:8080/auth/realms/{realm}/protocol/openid-connect/token</p>\n<p><a href=\"https://i.stack.imgur.com/NRQUT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NRQUT.png\" alt=\"enter image description here\" /></a></p>\n<p>In case of expired refresh token it returns:</p>\n<p><a href=\"https://i.stack.imgur.com/LSFn7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LSFn7.png\" alt=\"enter image description here\" /></a></p>\n<p>If you don't add the secret you get 401 unauthorized even though the refresh token is correct</p>\n<p><a href=\"https://i.stack.imgur.com/xbF9a.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xbF9a.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2368788,"reputation":5928,"user_id":2073920,"accept_rate":100,"display_name":"Abdul Rauf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644500373,"creation_date":1644500373,"answer_id":71066116,"question_id":51386337,"body_markdown":"Extending Yogendra Mishra&#39;s answer. Note that\r\n`client_id` and `client_secret` can also be sent in Authorization header. \r\n\r\n    Authorization: Basic ${Base64(&lt;client_id&gt;:&lt;client_secret&gt;)}\r\nThis works for both initial token call (without refresh token) and refresh token call to `/openid-connect/token` endpoint\r\n\r\n![Basic auth[1]][1]\r\n\r\n[![don&#39;t need to send clientid and secret in body after setting auth headers][2]][2]\r\n\r\nReference:\r\nhttps://developer.okta.com/docs/reference/api/oidc/#client-secret\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FAMpm.png\r\n  [2]: https://i.stack.imgur.com/Syqf6.png","title":"Refresh access_token via refresh_token in Keycloak","body":"<p>Extending Yogendra Mishra's answer. Note that\n<code>client_id</code> and <code>client_secret</code> can also be sent in Authorization header.</p>\n<pre><code>Authorization: Basic ${Base64(&lt;client_id&gt;:&lt;client_secret&gt;)}\n</code></pre>\n<p>This works for both initial token call (without refresh token) and refresh token call to <code>/openid-connect/token</code> endpoint</p>\n<p><img src=\"https://i.stack.imgur.com/FAMpm.png\" alt=\"Basic auth1\" /></p>\n<p><a href=\"https://i.stack.imgur.com/Syqf6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Syqf6.png\" alt=\"don't need to send clientid and secret in body after setting auth headers\" /></a></p>\n<p>Reference:\n<a href=\"https://developer.okta.com/docs/reference/api/oidc/#client-secret\" rel=\"nofollow noreferrer\">https://developer.okta.com/docs/reference/api/oidc/#client-secret</a></p>\n"}],"owner":{"account_id":3881727,"reputation":2201,"user_id":3214029,"accept_rate":37,"display_name":"RaiBnod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118437,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":51387379,"answer_count":4,"score":71,"last_activity_date":1644500373,"creation_date":1531845201,"question_id":51386337,"body_markdown":"I need to make the user keep login in the system if the user&#39;s `access_token` get expired and user want to keep login. How can I get newly updated `access_token` with the use of `refresh_token` on [Keycloak][1]?\r\n\r\nI am using [vertx-auth][2] for the auth implementation with [Keycloak][1] on [vert.x][3]. Is it possible to refresh `access_token` with [vertx-auth][2] or [Keycloak][1]&#39;s REST API itself? Or what will be another implementation of this?\r\n\r\n\r\n  [1]: https://www.keycloak.org\r\n  [2]: https://github.com/vert-x3/vertx-auth\r\n  [3]: http://vertx.io","title":"Refresh access_token via refresh_token in Keycloak","body":"<p>I need to make the user keep login in the system if the user's <code>access_token</code> get expired and user want to keep login. How can I get newly updated <code>access_token</code> with the use of <code>refresh_token</code> on <a href=\"https://www.keycloak.org\" rel=\"noreferrer\">Keycloak</a>?</p>\n\n<p>I am using <a href=\"https://github.com/vert-x3/vertx-auth\" rel=\"noreferrer\">vertx-auth</a> for the auth implementation with <a href=\"https://www.keycloak.org\" rel=\"noreferrer\">Keycloak</a> on <a href=\"http://vertx.io\" rel=\"noreferrer\">vert.x</a>. Is it possible to refresh <code>access_token</code> with <a href=\"https://github.com/vert-x3/vertx-auth\" rel=\"noreferrer\">vertx-auth</a> or <a href=\"https://www.keycloak.org\" rel=\"noreferrer\">Keycloak</a>'s REST API itself? Or what will be another implementation of this?</p>\n"},{"tags":["java","jackson-databind"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1644499458,"post_id":71065860,"comment_id":125626544,"body_markdown":"Is there a reason your Jackson version is so old? The latest version is 2.13.1. If you update the version, make sure that all Jackson dependencies use the same version, otherwise you may get (other) errors.","body":"Is there a reason your Jackson version is so old? The latest version is 2.13.1. If you update the version, make sure that all Jackson dependencies use the same version, otherwise you may get (other) errors."},{"owner":{"account_id":24204533,"reputation":1,"user_id":18161930,"display_name":"Anand Mahuli"},"score":0,"creation_date":1644499628,"post_id":71065860,"comment_id":125626616,"body_markdown":"Changing the jackson version is the last option we have kept as this has a bigger impact for us right now. All the related spring, spark versions will also be impacted.","body":"Changing the jackson version is the last option we have kept as this has a bigger impact for us right now. All the related spring, spark versions will also be impacted."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644500302,"post_id":71065860,"comment_id":125626906,"body_markdown":"Try updating at least to version 2.4.6.1","body":"Try updating at least to version 2.4.6.1"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644500247,"creation_date":1644500247,"answer_id":71066095,"question_id":71065860,"body_markdown":"I don&#39;t know if this will resolve your specific problem, but whether it may or may or may not it might simplify your serializing to Json issue. There is an open source library called MgntUtils that has a class JsonUtils with methods: \r\n\r\n    writeObjectToJsonString(java.lang.Object object)\r\n\r\nand\r\n\r\n    readObjectFromJsonString(java.lang.String jsonString, java.lang.Class&lt;T&gt; type)\r\nIt uses jackson library under the hood anyway. So those are just a wrapper methods for simplifying use for standard and simple cases which usually is the majority of uses. Here is the JavaDoc for the [JsonUtils][1] class. The library could be found as [Maven artifact][2] and on [Github][3] (including source code and Javadoc). Also, it uses newer version of jackson - 2.12.3\r\n\r\n \r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Jackson writeValueAsString() throws JsonMappingException randomly","body":"<p>I don't know if this will resolve your specific problem, but whether it may or may or may not it might simplify your serializing to Json issue. There is an open source library called MgntUtils that has a class JsonUtils with methods:</p>\n<pre><code>writeObjectToJsonString(java.lang.Object object)\n</code></pre>\n<p>and</p>\n<pre><code>readObjectFromJsonString(java.lang.String jsonString, java.lang.Class&lt;T&gt; type)\n</code></pre>\n<p>It uses jackson library under the hood anyway. So those are just a wrapper methods for simplifying use for standard and simple cases which usually is the majority of uses. Here is the JavaDoc for the <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils</a> class. The library could be found as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact</a> and on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc). Also, it uses newer version of jackson - 2.12.3</p>\n"}],"owner":{"account_id":24204533,"reputation":1,"user_id":18161930,"display_name":"Anand Mahuli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644500247,"creation_date":1644499186,"question_id":71065860,"body_markdown":"Getting random &#39;com.fasterxml.jackson.databind.JsonMappingException&#39; during serialization of an object. The caused by exception is &#39;Caused by: java.lang.IndexOutOfBoundsException: Index: 3, Size: 2&#39;\r\n\r\nWhen re-running with same object again multiple times it passes properly without any exception.\r\n\r\n        com.fasterxml.jackson.databind.JsonMappingException: Index: 3, Size: 2 (through reference chain: com.model.DefOperation[&quot;arguments&quot;]-&gt;java.util.ArrayList[0]-&gt;com.model.DefOperation[&quot;arguments&quot;]-&gt;java.util.ArrayList[0]-&gt;com.model.Def[&quot;input&quot;]-&gt;com.model.DefInput[&quot;filter&quot;]-&gt;com.model.DefInputExpression[&quot;DefInput&quot;]-&gt;com.model.DefInput[&quot;filter&quot;]-&gt;com.model.OperationExpression[&quot;operation&quot;]-&gt;com.model.ProducerOperation[&quot;arguments&quot;]-&gt;java.util.ArrayList[3])\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:232)\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:211)\r\n    \tat com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:210)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:105)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:21)\r\n    \tat com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:186)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:142)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:142)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:142)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:142)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:142)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:492)\r\n    \tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:119)\r\n    \tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:23)\r\n    \tat com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:186)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:492)\r\n    \tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:119)\r\n    \tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:23)\r\n    \tat com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:186)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:492)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:35)\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:118)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._configAndWriteValue(ObjectMapper.java:2718)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:2210)\r\n    \tat com.model.Executor.copyDatasetDefOperation(Executor.java:235)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 3, Size: 2\r\n    \tat java.util.ArrayList.rangeCheck(ArrayList.java:659)\r\n    \tat java.util.ArrayList.get(ArrayList.java:435)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:84)\r\n    \t... 44 more\r\n\r\nHave not used any custom serializer \r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        String op = mapper.writeValueAsString(operation);\r\n\r\njackson-databind version is 2.4.5\r\n\r\nChecked the similar issue: https://stackoverflow.com/questions/38064283/jackson-writevalueasstring-throws-jsonmappingexception-periodically \r\nBut there are no date/timestamp attributes in our input object.","title":"Jackson writeValueAsString() throws JsonMappingException randomly","body":"<p>Getting random 'com.fasterxml.jackson.databind.JsonMappingException' during serialization of an object. The caused by exception is 'Caused by: java.lang.IndexOutOfBoundsException: Index: 3, Size: 2'</p>\n<p>When re-running with same object again multiple times it passes properly without any exception.</p>\n<pre><code>    com.fasterxml.jackson.databind.JsonMappingException: Index: 3, Size: 2 (through reference chain: com.model.DefOperation[&quot;arguments&quot;]-&gt;java.util.ArrayList[0]-&gt;com.model.DefOperation[&quot;arguments&quot;]-&gt;java.util.ArrayList[0]-&gt;com.model.Def[&quot;input&quot;]-&gt;com.model.DefInput[&quot;filter&quot;]-&gt;com.model.DefInputExpression[&quot;DefInput&quot;]-&gt;com.model.DefInput[&quot;filter&quot;]-&gt;com.model.OperationExpression[&quot;operation&quot;]-&gt;com.model.ProducerOperation[&quot;arguments&quot;]-&gt;java.util.ArrayList[3])\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:232)\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:211)\n    at com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:210)\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:105)\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:21)\n    at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:186)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:142)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:142)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:142)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:142)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:142)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:492)\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:119)\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:23)\n    at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:186)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:492)\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:119)\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:23)\n    at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:186)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:569)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:597)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:492)\n    at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:35)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:118)\n    at com.fasterxml.jackson.databind.ObjectMapper._configAndWriteValue(ObjectMapper.java:2718)\n    at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:2210)\n    at com.model.Executor.copyDatasetDefOperation(Executor.java:235)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 3, Size: 2\n    at java.util.ArrayList.rangeCheck(ArrayList.java:659)\n    at java.util.ArrayList.get(ArrayList.java:435)\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:84)\n    ... 44 more\n</code></pre>\n<p>Have not used any custom serializer</p>\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    String op = mapper.writeValueAsString(operation);\n</code></pre>\n<p>jackson-databind version is 2.4.5</p>\n<p>Checked the similar issue: <a href=\"https://stackoverflow.com/questions/38064283/jackson-writevalueasstring-throws-jsonmappingexception-periodically\">Jackson writeValueAsString() throws JsonMappingException periodically</a>\nBut there are no date/timestamp attributes in our input object.</p>\n"},{"tags":["java","android","file","outputstream","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1644493575,"post_id":71064340,"comment_id":125624231,"body_markdown":"`I want to save this file` ? You want to make a copy?","body":"<code>I want to save this file</code> ? You want to make a copy?"},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1644493781,"post_id":71064340,"comment_id":125624317,"body_markdown":"Is there any reason why you won&#39;t let the user choose the filename (or use a suggested name you provide), as `ACTION_CREATE_DOCUMENT` would probably be better than `ACTION_OPEN_DOCUMENT_TREE` for copying out a single zip file. And why do you use a convoluted route of try to create a URL from a File when your InputStream can be created direct from the file as `getCacheDir()` is private to your app and does not have any access restrictions for using a `File` object","body":"Is there any reason why you won&#39;t let the user choose the filename (or use a suggested name you provide), as <code>ACTION_CREATE_DOCUMENT</code> would probably be better than <code>ACTION_OPEN_DOCUMENT_TREE</code> for copying out a single zip file. And why do you use a convoluted route of try to create a URL from a File when your InputStream can be created direct from the file as <code>getCacheDir()</code> is private to your app and does not have any access restrictions for using a <code>File</code> object"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644494013,"post_id":71064340,"comment_id":125624410,"body_markdown":"i&#39;m already use Uri = data.getdata();","body":"i&#39;m already use Uri = data.getdata();"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644494049,"post_id":71064340,"comment_id":125624422,"body_markdown":"@blackapps yes,i want to make a copy in external storage from cache folder.","body":"@blackapps yes,i want to make a copy in external storage from cache folder."},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1644494231,"post_id":71064340,"comment_id":125624490,"body_markdown":"As per my previous comment, it seems you are trying to write a &quot;File&quot; in to a &quot;Directory&quot; Object Uri without creating a file in the directory first, Get the user to select a &quot;File&quot; to save it to or create a file in the directory first","body":"As per my previous comment, it seems you are trying to write a &quot;File&quot; in to a &quot;Directory&quot; Object Uri without creating a file in the directory first, Get the user to select a &quot;File&quot; to save it to or create a file in the directory first"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644494293,"post_id":71064340,"comment_id":125624519,"body_markdown":"`PDFTools.this,selectedFile, Uri);` What is Uri? This will not compile. Use the uri obtained from DocumentFile.createFile().","body":"<code>PDFTools.this,selectedFile, Uri);</code> What is Uri? This will not compile. Use the uri obtained from DocumentFile.createFile()."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644494618,"post_id":71064340,"comment_id":125624644,"body_markdown":"@Andrew (1) i want to create a zip file in to app cache  directory for sharing to third party apps,and\n(2) save it  in external storage where user select a path using ACTIOB_OPEN_DOCUMENT_TREE","body":"@Andrew (1) i want to create a zip file in to app cache  directory for sharing to third party apps,and (2) save it  in external storage where user select a path using ACTIOB_OPEN_DOCUMENT_TREE"},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1644494982,"post_id":71064340,"comment_id":125624776,"body_markdown":"To create the zip in the documents directory you don&#39;t need to request access for that directory, you just need to request a file Uri from the user, as you don&#39;t have code to handle filenames already existing in that directory by the name you would like to use and then have to handle if it is already used and the fact that the user wants to keep the existing file.","body":"To create the zip in the documents directory you don&#39;t need to request access for that directory, you just need to request a file Uri from the user, as you don&#39;t have code to handle filenames already existing in that directory by the name you would like to use and then have to handle if it is already used and the fact that the user wants to keep the existing file."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644495283,"post_id":71064340,"comment_id":125624875,"body_markdown":"but zip file created by me(not user) and then I will save it in cache dir and after user want to save it in a selected path,I want to save it in that path but I can&#39;t save it.","body":"but zip file created by me(not user) and then I will save it in cache dir and after user want to save it in a selected path,I want to save it in that path but I can&#39;t save it."},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1644495821,"post_id":71064340,"comment_id":125625085,"body_markdown":"Trying to save it to a &quot;public&quot; external location with a static name (without give the user a choice on the name) creates additional problems and code you need to do handle if that static name already exists (i.e. don&#39;t write the file unless the user confirms they want to overwrite the existing file), Much better to allow the user to choose the name or accept your suggestion.","body":"Trying to save it to a &quot;public&quot; external location with a static name (without give the user a choice on the name) creates additional problems and code you need to do handle if that static name already exists (i.e. don&#39;t write the file unless the user confirms they want to overwrite the existing file), Much better to allow the user to choose the name or accept your suggestion."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644495951,"post_id":71064340,"comment_id":125625132,"body_markdown":"ok, ok. in that case I enter and edit file name by the user in-app interface,so is it ok to go with this?","body":"ok, ok. in that case I enter and edit file name by the user in-app interface,so is it ok to go with this?"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644493723,"creation_date":1644493723,"answer_id":71064606,"question_id":71064340,"body_markdown":"&gt;&gt;String path = uri.getPath();\r\n\r\nNo no no.\r\n\r\nYou got a nice uri. Use it.\r\n\r\nCreate a DocumentFile instance for this tree uri.\r\n\r\nThen use DocumentFile.createFile().","title":"How to save Tempfile to External storage using ACTION_OPEN_DOCUMENT_TREE?","body":"<blockquote>\n<blockquote>\n<p>String path = uri.getPath();</p>\n</blockquote>\n</blockquote>\n<p>No no no.</p>\n<p>You got a nice uri. Use it.</p>\n<p>Create a DocumentFile instance for this tree uri.</p>\n<p>Then use DocumentFile.createFile().</p>\n"},{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644500052,"creation_date":1644497186,"answer_id":71065361,"question_id":71064340,"body_markdown":"So Asking for a file instead of directory to be nicer to the user and lessen overwriting issues.\r\n\r\n``` lang-java\r\n\r\nIntent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\r\nintent.addCategory(Intent.CATEGORY_OPENABLE);\r\n\r\n// Create a file with the requested MIME type.\r\nintent.setType(mimeType);\r\n// Suggest a filename\r\nintent.putExtra(Intent.EXTRA_TITLE, &quot;abc.zip&quot;);\r\n// You can suggest a starting directory here see note about this later\r\n//intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, pickerInitialUri);\r\n// OK, this is deprecated and user probably has set their own request code\r\nstartActivityForResult(intent, 601);\r\n\r\n\r\n\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent resultData) {\r\n        super.onActivityResult(requestCode, resultCode, resultData);\r\n\r\n        if (requestCode == 601 &amp;&amp; resultCode == RESULT_OK) {\r\n            // The document selected by the user won&#39;t be returned in the intent.\r\n            // Instead, a URI to that document will be contained in the return intent\r\n            // provided to this method as a parameter.\r\n            // Pull that URI using resultData.getData().\r\n            Uri uri;\r\n            if (resultData != null) {\r\n                uri = resultData.getData();\r\n                new BgExecuter().execute(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n // Now that the Uri returned is for a file not a directory, your exist &quot;saveFile&quot; method should work\r\n                            copyFileOut(PDFTools.this, selectedFile, Uri);\r\n//selectedFile is that file that is saved by default in the Temp directory\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nprivate Boolean copyFileOut(Context context,File copyFile, Uri uri){\r\n\r\n        BufferedInputStream bis;\r\n        BufferedOutputStream bos = null;\r\n\r\n        // Now read the file\r\n        try{\r\n            InputStream input = new FileInputStream(copyFile);\r\n            int originalSize = input.available();\r\n\r\n            bis = new BufferedInputStream(input);\r\n            bos = new BufferedOutputStream(context.getContentResolver().openOutputStream(uri));\r\n            byte[] buf = new byte[originalSize];\r\n            //noinspection ResultOfMethodCallIgnored\r\n            bis.read(buf);\r\n            do {\r\n                bos.write(buf);\r\n            } while (bis.read(buf) != -1);\r\n            bis.close();\r\n\r\n        } catch (Exception e) {\r\n            if (BuildConfig.LOG) {\r\n                Log.e(Constants.TAG, &quot;copyFileOut:&quot; + e);\r\n            }\r\n            // Notify User of fail\r\n            return false;\r\n        } finally {\r\n            try {\r\n                if (bos != null) {\r\n                    bos.flush();\r\n                    bos.close();\r\n                }\r\n            } catch (Exception ignored) {\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n```\r\n\r\nNote for initial start directory see https://stackoverflow.com/questions/67509218/how-i-set-the-action-open-document-tree-start-path-the-first-time-a-user-uses-my\r\n\r\nAlso note that in your &quot;saveFile&quot; method \r\n\r\n```\r\nInputStream inputStream = context.getContentResolver().openInputStream(Uri.fromFile(selectedFile));\r\n```\r\n\r\ncould be replaced with\r\n\r\n```\r\nInputStream inputStream = new FileInputStream(selectedFile);\r\n```\r\nAs you say that this file is in your Apps private Cache directory, so won&#39;t have any permissions problems.","title":"How to save Tempfile to External storage using ACTION_OPEN_DOCUMENT_TREE?","body":"<p>So Asking for a file instead of directory to be nicer to the user and lessen overwriting issues.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nIntent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\nintent.addCategory(Intent.CATEGORY_OPENABLE);\n\n// Create a file with the requested MIME type.\nintent.setType(mimeType);\n// Suggest a filename\nintent.putExtra(Intent.EXTRA_TITLE, &quot;abc.zip&quot;);\n// You can suggest a starting directory here see note about this later\n//intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, pickerInitialUri);\n// OK, this is deprecated and user probably has set their own request code\nstartActivityForResult(intent, 601);\n\n\n\n@Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent resultData) {\n        super.onActivityResult(requestCode, resultCode, resultData);\n\n        if (requestCode == 601 &amp;&amp; resultCode == RESULT_OK) {\n            // The document selected by the user won't be returned in the intent.\n            // Instead, a URI to that document will be contained in the return intent\n            // provided to this method as a parameter.\n            // Pull that URI using resultData.getData().\n            Uri uri;\n            if (resultData != null) {\n                uri = resultData.getData();\n                new BgExecuter().execute(new Runnable() {\n                        @Override\n                        public void run() {\n // Now that the Uri returned is for a file not a directory, your exist &quot;saveFile&quot; method should work\n                            copyFileOut(PDFTools.this, selectedFile, Uri);\n//selectedFile is that file that is saved by default in the Temp directory\n                        }\n                    });\n            }\n        }\n    }\n\n\nprivate Boolean copyFileOut(Context context,File copyFile, Uri uri){\n\n        BufferedInputStream bis;\n        BufferedOutputStream bos = null;\n\n        // Now read the file\n        try{\n            InputStream input = new FileInputStream(copyFile);\n            int originalSize = input.available();\n\n            bis = new BufferedInputStream(input);\n            bos = new BufferedOutputStream(context.getContentResolver().openOutputStream(uri));\n            byte[] buf = new byte[originalSize];\n            //noinspection ResultOfMethodCallIgnored\n            bis.read(buf);\n            do {\n                bos.write(buf);\n            } while (bis.read(buf) != -1);\n            bis.close();\n\n        } catch (Exception e) {\n            if (BuildConfig.LOG) {\n                Log.e(Constants.TAG, &quot;copyFileOut:&quot; + e);\n            }\n            // Notify User of fail\n            return false;\n        } finally {\n            try {\n                if (bos != null) {\n                    bos.flush();\n                    bos.close();\n                }\n            } catch (Exception ignored) {\n            }\n        }\n        return true;\n    }\n\n</code></pre>\n<p>Note for initial start directory see <a href=\"https://stackoverflow.com/questions/67509218/how-i-set-the-action-open-document-tree-start-path-the-first-time-a-user-uses-my\">How I set the ACTION_OPEN_DOCUMENT_TREE start path the first time a user uses my app?</a></p>\n<p>Also note that in your &quot;saveFile&quot; method</p>\n<pre><code>InputStream inputStream = context.getContentResolver().openInputStream(Uri.fromFile(selectedFile));\n</code></pre>\n<p>could be replaced with</p>\n<pre><code>InputStream inputStream = new FileInputStream(selectedFile);\n</code></pre>\n<p>As you say that this file is in your Apps private Cache directory, so won't have any permissions problems.</p>\n"}],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71065361,"answer_count":2,"score":1,"last_activity_date":1644500052,"creation_date":1644492674,"question_id":71064340,"body_markdown":"unable to save the zip file to external storage after picking a folder using ACTION_OPEN_DOCUMENT_TREE.\r\n\r\nI&#39;m creating a project which creates and manipulate files and document, in that task I want to save that stuff in external storage but I can&#39;t do that with android developer documentation, so please explain additionally.\r\n\r\n\r\n\r\n**I want to save this file** \r\n\r\n    /data/user/0/com.mobilix.docscanner/cache/abc.zip\r\n\r\n**to** \r\n\r\n    content://com.android.externalstorage.documents/tree/primary%3ADocument\r\n\r\nwhat should I do?\r\n\r\nhere is my code,\r\n\r\n **- code for picking a directory to save a file into.**\r\n\r\n    saveBinding.btnInternalStorage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n    \r\n    \r\n                    startActivityForResult(intent, PICKER_RESULT);\r\n                }\r\n            });\r\n\r\n\r\n**- Code to be executed after selecting a directory,**\r\n\r\n \r\n\r\n    @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (resultCode == RESULT_OK) {\r\n    \r\n                if (requestCode == PICKER_RESULT) {\r\n    \r\n                    if (data != null) {\r\n                        Uri uri = data.getData();\r\n                        String path = uri.getPath();\r\n                        Log.d(TAG, &quot;onActivityResult: uri -&gt; &quot; + uri);\r\n                        Log.d(TAG, &quot;onActivityResult: path -&gt; &quot; + path);\r\n    \r\n                        getContentResolver().takePersistableUriPermission(\r\n                                uri,\r\n                                Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n                        );\r\n    \r\n    \r\n                        new BgExecuter().execute(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                FileManager.saveFile(PDFTools.this,selectedFile, Uri); //selectedFile is that file that is saved by default in the Temp directory\r\n                            }\r\n                        });\r\n                    }\r\n                }else {\r\n                    Toast.makeText(PDFTools.this, &quot;dome thing happen great&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n\r\nmethod **saveFile**\r\n\r\n    public static void saveFile(Activity context, File selectedFile, Uri uri) {\r\n            context.getContentResolver().getPersistedUriPermissions();\r\n    \r\n            try {\r\n                InputStream inputStream = context.getContentResolver().openInputStream(Uri.fromFile(selectedFile));\r\n                OutputStream outputStream = context.getContentResolver().openOutputStream(uri);\r\n    \r\n                // get the content in bytes\r\n                BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(outputStream);\r\n                byte[] byteArray = new byte[1024];\r\n                BufferedInputStream bufferedInputStream = new BufferedInputStream(inputStream);\r\n                try {\r\n                    byte bytes = (byte) bufferedInputStream.read(byteArray);\r\n                    if (bytes &gt;= 0) {\r\n                        bufferedOutputStream.write(byteArray, 0, bytes);\r\n                        bufferedOutputStream.flush();\r\n                    }\r\n                    inputStream.close();\r\n                    outputStream.close();\r\n                    bufferedOutputStream.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n","title":"How to save Tempfile to External storage using ACTION_OPEN_DOCUMENT_TREE?","body":"<p>unable to save the zip file to external storage after picking a folder using ACTION_OPEN_DOCUMENT_TREE.</p>\n<p>I'm creating a project which creates and manipulate files and document, in that task I want to save that stuff in external storage but I can't do that with android developer documentation, so please explain additionally.</p>\n<p><strong>I want to save this file</strong></p>\n<pre><code>/data/user/0/com.mobilix.docscanner/cache/abc.zip\n</code></pre>\n<p><strong>to</strong></p>\n<pre><code>content://com.android.externalstorage.documents/tree/primary%3ADocument\n</code></pre>\n<p>what should I do?</p>\n<p>here is my code,</p>\n<p><strong>- code for picking a directory to save a file into.</strong></p>\n<pre><code>saveBinding.btnInternalStorage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n\n\n                startActivityForResult(intent, PICKER_RESULT);\n            }\n        });\n</code></pre>\n<p><strong>- Code to be executed after selecting a directory,</strong></p>\n<pre><code>@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (resultCode == RESULT_OK) {\n\n            if (requestCode == PICKER_RESULT) {\n\n                if (data != null) {\n                    Uri uri = data.getData();\n                    String path = uri.getPath();\n                    Log.d(TAG, &quot;onActivityResult: uri -&gt; &quot; + uri);\n                    Log.d(TAG, &quot;onActivityResult: path -&gt; &quot; + path);\n\n                    getContentResolver().takePersistableUriPermission(\n                            uri,\n                            Intent.FLAG_GRANT_READ_URI_PERMISSION\n                    );\n\n\n                    new BgExecuter().execute(new Runnable() {\n                        @Override\n                        public void run() {\n                            FileManager.saveFile(PDFTools.this,selectedFile, Uri); //selectedFile is that file that is saved by default in the Temp directory\n                        }\n                    });\n                }\n            }else {\n                Toast.makeText(PDFTools.this, &quot;dome thing happen great&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n<p>method <strong>saveFile</strong></p>\n<pre><code>public static void saveFile(Activity context, File selectedFile, Uri uri) {\n        context.getContentResolver().getPersistedUriPermissions();\n\n        try {\n            InputStream inputStream = context.getContentResolver().openInputStream(Uri.fromFile(selectedFile));\n            OutputStream outputStream = context.getContentResolver().openOutputStream(uri);\n\n            // get the content in bytes\n            BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(outputStream);\n            byte[] byteArray = new byte[1024];\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(inputStream);\n            try {\n                byte bytes = (byte) bufferedInputStream.read(byteArray);\n                if (bytes &gt;= 0) {\n                    bufferedOutputStream.write(byteArray, 0, bytes);\n                    bufferedOutputStream.flush();\n                }\n                inputStream.close();\n                outputStream.close();\n                bufferedOutputStream.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","rest","testing","mocking"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644494509,"post_id":71064612,"comment_id":125624605,"body_markdown":"Why wouldn&#39;t you be able to create an embedded one for a test? IF you really want you can run an `@WebMvcTest` and use an `@MockBean` for the `UserRepository` you need.","body":"Why wouldn&#39;t you be able to create an embedded one for a test? IF you really want you can run an <code>@WebMvcTest</code> and use an <code>@MockBean</code> for the <code>UserRepository</code> you need."},{"owner":{"account_id":16933191,"reputation":11,"user_id":12246911,"display_name":"heck20112356"},"score":0,"creation_date":1644771112,"post_id":71064612,"comment_id":125688943,"body_markdown":"@M.Deinum thanks for the WebMvcTest advice, really helped","body":"@M.Deinum thanks for the WebMvcTest advice, really helped"}],"answers":[{"tags":[],"owner":{"account_id":14015074,"reputation":524,"user_id":11135849,"display_name":"Arpit Jindal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644499934,"creation_date":1644499934,"answer_id":71066016,"question_id":71064612,"body_markdown":"Either you can use `@MockBean` annotation to mock the `UserRepository` or you can create an embedded in-memory H2 DB for the test by adding following properties in `application-test.properties`:\r\n\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\n\r\nYou can follow [this link][1] to understand it in detail.\r\n\r\n\r\n  [1]: https://programmingtechie.com/2020/10/21/spring-boot-testing-tutorial-database-testing-with-test-containers/","title":"How to mock a DB connection in RestController Test?","body":"<p>Either you can use <code>@MockBean</code> annotation to mock the <code>UserRepository</code> or you can create an embedded in-memory H2 DB for the test by adding following properties in <code>application-test.properties</code>:</p>\n<pre><code>spring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>You can follow <a href=\"https://programmingtechie.com/2020/10/21/spring-boot-testing-tutorial-database-testing-with-test-containers/\" rel=\"nofollow noreferrer\">this link</a> to understand it in detail.</p>\n"}],"owner":{"account_id":16933191,"reputation":11,"user_id":12246911,"display_name":"heck20112356"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644499934,"creation_date":1644493753,"question_id":71064612,"body_markdown":"I have a Rest controller GET method\r\n```\r\n@GetMapping(&quot;/users&quot;)\r\npublic List&lt;Users&gt; getAllUsers() {\r\n    return userRepo.findAll()\r\n}\r\n```\r\nI need to test it, but I get the &quot;Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured&quot;. The problem is that the nature of production does not allow me to use real connection or change it to embedded one. Is there a way to mock the DB somehow? \r\n&lt;br&gt; The project is almost the same to the one in this article: \r\n[https://dzone.com/articles/how-to-create-rest-api-with-spring-boot][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/how-to-create-rest-api-with-spring-boot","title":"How to mock a DB connection in RestController Test?","body":"<p>I have a Rest controller GET method</p>\n<pre><code>@GetMapping(&quot;/users&quot;)\npublic List&lt;Users&gt; getAllUsers() {\n    return userRepo.findAll()\n}\n</code></pre>\n<p>I need to test it, but I get the &quot;Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured&quot;. The problem is that the nature of production does not allow me to use real connection or change it to embedded one. Is there a way to mock the DB somehow?\n<br> The project is almost the same to the one in this article:\n<a href=\"https://dzone.com/articles/how-to-create-rest-api-with-spring-boot\" rel=\"nofollow noreferrer\">https://dzone.com/articles/how-to-create-rest-api-with-spring-boot</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":2,"creation_date":1644497114,"post_id":71065298,"comment_id":125625607,"body_markdown":"Does this answer your question? [How can I add to List&lt;? extends Number&gt; data structures?](https://stackoverflow.com/questions/2776975/how-can-i-add-to-list-extends-number-data-structures)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2776975/how-can-i-add-to-list-extends-number-data-structures\">How can I add to List&lt;? extends Number&gt; data structures?</a>"},{"owner":{"account_id":4210124,"reputation":812,"user_id":3448078,"display_name":"Florian Metzger-Noel"},"score":1,"creation_date":1644497590,"post_id":71065298,"comment_id":125625788,"body_markdown":"Yes and no. I understand, why it doesn&#39;t work in the way I wrote it. What I want, though, should be possible: A priority queue instance is to hold only one clearly defined type of objects (that&#39;s the difference to the example you gave). The queue interface defines it like that. The question is: how to I write the `Queueable` class, so when extended by another class it works with a priority queue of the specific type of the extending class?","body":"Yes and no. I understand, why it doesn&#39;t work in the way I wrote it. What I want, though, should be possible: A priority queue instance is to hold only one clearly defined type of objects (that&#39;s the difference to the example you gave). The queue interface defines it like that. The question is: how to I write the <code>Queueable</code> class, so when extended by another class it works with a priority queue of the specific type of the extending class?"},{"owner":{"account_id":4210124,"reputation":812,"user_id":3448078,"display_name":"Florian Metzger-Noel"},"score":0,"creation_date":1644497787,"post_id":71065298,"comment_id":125625865,"body_markdown":"When I change `Queueable` to `private PriorityQueueInterface&lt;Queueable&gt; queue;` then `Queueable` works - but then `QueueableTestItem` has a type error.","body":"When I change <code>Queueable</code> to <code>private PriorityQueueInterface&lt;Queueable&gt; queue;</code> then <code>Queueable</code> works - but then <code>QueueableTestItem</code> has a type error."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1644500426,"post_id":71065298,"comment_id":125626966,"body_markdown":"It is very rare that you really need to use a `? extends` clause in your own code. In this case I think the solution is to make `Queueable&lt;T extends Queueable&lt;T&gt;&gt;` generic, and then the queue is of type `PriorityQueueInterface&lt;T&gt;` and subclasses are declared like `class Foo extends Queueable&lt;Foo&gt;`. If that solves your problem, then I can write it up as an answer.","body":"It is very rare that you really need to use a <code>? extends</code> clause in your own code. In this case I think the solution is to make <code>Queueable&lt;T extends Queueable&lt;T&gt;&gt;</code> generic, and then the queue is of type <code>PriorityQueueInterface&lt;T&gt;</code> and subclasses are declared like <code>class Foo extends Queueable&lt;Foo&gt;</code>. If that solves your problem, then I can write it up as an answer."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1644500825,"post_id":71065298,"comment_id":125627135,"body_markdown":"There&#39;s no way to do exactly what you want without casting, because there&#39;s no way in Java to require a `PriorityQueueInterface&lt;typeof this&gt;`.   `PriorityQueueInterface&lt;Queueable&gt;` is probably the appropriate type.","body":"There&#39;s no way to do exactly what you want without casting, because there&#39;s no way in Java to require a <code>PriorityQueueInterface&lt;typeof this&gt;</code>.   <code>PriorityQueueInterface&lt;Queueable&gt;</code> is probably the appropriate type."},{"owner":{"account_id":4210124,"reputation":812,"user_id":3448078,"display_name":"Florian Metzger-Noel"},"score":0,"creation_date":1644500852,"post_id":71065298,"comment_id":125627147,"body_markdown":"@kaya3: I&#39;ve already tried something along this line but couldn&#39;t make it work. You&#39;re proposition results in error `Required type: T, Provided: Queueable &lt;T&gt;` for `queue.add(this)` in `Queueable`.","body":"@kaya3: I&#39;ve already tried something along this line but couldn&#39;t make it work. You&#39;re proposition results in error <code>Required type: T, Provided: Queueable &lt;T&gt;</code> for <code>queue.add(this)</code> in <code>Queueable</code>."},{"owner":{"account_id":4210124,"reputation":812,"user_id":3448078,"display_name":"Florian Metzger-Noel"},"score":0,"creation_date":1644501053,"post_id":71065298,"comment_id":125627232,"body_markdown":"@MattTimmermans I have a working version using casting - but my IDE as well as SonarQube hate that solution and keep asking me to improve it. If it&#39;s not possible without casting, I will live with it. It just seems as there must be a clean solution as all types are known.","body":"@MattTimmermans I have a working version using casting - but my IDE as well as SonarQube hate that solution and keep asking me to improve it. If it&#39;s not possible without casting, I will live with it. It just seems as there must be a clean solution as all types are known."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1644501452,"post_id":71065298,"comment_id":125627432,"body_markdown":"You can actually make it compile using [Self Type with generics](https://www.sitepoint.com/self-types-with-javas-generics/), but the reader will be crazy. I think cast make sense if you don&#39;t want to redesign. The main problem is your solution has circular type reference.","body":"You can actually make it compile using <a href=\"https://www.sitepoint.com/self-types-with-javas-generics/\" rel=\"nofollow noreferrer\">Self Type with generics</a>, but the reader will be crazy. I think cast make sense if you don&#39;t want to redesign. The main problem is your solution has circular type reference."},{"owner":{"account_id":4210124,"reputation":812,"user_id":3448078,"display_name":"Florian Metzger-Noel"},"score":0,"creation_date":1644509430,"post_id":71065298,"comment_id":125631096,"body_markdown":"I&#39;m getting the impression, that I should use a simple type cast or rethink my architecture if the implementation would force me to such esoteric means - my concept is obviously not in line with &quot;the java way&quot; of doing this.","body":"I&#39;m getting the impression, that I should use a simple type cast or rethink my architecture if the implementation would force me to such esoteric means - my concept is obviously not in line with &quot;the java way&quot; of doing this."}],"owner":{"account_id":4210124,"reputation":812,"user_id":3448078,"display_name":"Florian Metzger-Noel"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1644499719,"creation_date":1644496956,"question_id":71065298,"body_markdown":"I&#39;m implementing a special priority queue. The implementation protects the value of queued items from being changed while being queued. It&#39;s a priority queue optimized for a certain use case which needs that invariant. Doing that, I ran into a problem concerning java inheritance and type.\r\n\r\nThe implementation consists of an interface defining the queue and a class defining a queued item. The latter should be extended by a class for concrete objects to be put into the queue.\r\n\r\nThe queue interface:\r\n\r\n    public interface PriorityQueueInterface&lt;T extends Queueable&gt; {\r\n        void add(T elem);\r\n        boolean remove(T element);\r\n        T poll();\r\n    }\r\n\r\nThe queueable item class:\r\n\r\n    public class Queueable {\r\n        private PriorityQueueInterface&lt;? extends Queueable&gt; queue;\r\n        private boolean queued = false;\r\n        private double value;\r\n        public Queueable(PriorityQueueInterface&lt;Queueable&gt; queue) { this.queue = queue; }\r\n    \r\n        public void setValue(double value) {\r\n            if (queued) throw new RuntimeException(&quot;can&#39;t set value while queued&quot;);\r\n            this.value = value;\r\n        }\r\n    \r\n        public double getValue() { return value; }\r\n    \r\n        public boolean queue() {\r\n            if (queued) return false;\r\n            queue.add(this);\r\n            queued = true;\r\n            return true;\r\n        }\r\n    \r\n        public boolean unqueue() {\r\n            if(!queued) return false;\r\n            queue.remove(this);\r\n            queued = false;\r\n            return true;\r\n        }\r\n    }\r\n\r\nSample use of `Queueable`:\r\n\r\n    public class QueueableTestItem extends Queueable {\r\n        public QueueableTestItem(PriorityQueueInterface&lt;QueueableTestItem&gt; queue) {\r\n            super(queue);\r\n        }\r\n    }\r\n\r\nI&#39;m obviously doing something wrong here, the error is:\r\n\r\nThe call `queue.add(this)` in `Queueable.queue` is invalid, as type `? extends Queueable` is expected while `Queueable` is provided.\r\n\r\nI want to define the controlled queueing and unqueueing into the `Queueable` class though - how do I set the types correctly to make this work?\r\n\r\nIf the reasons for choosing this way are not obvious from the example, it&#39;s because I simplified it for providing a minimal example. It&#39;s a cutout from a much bigger context.\r\n\r\n**UPDATE**\r\n \r\nThis is why I think, that https://stackoverflow.com/questions/2776975/how-can-i-add-to-list-extends-number-data-structures doesn&#39;t answer my question:\r\n\r\nI understand, that I cannot add to a collection of a generic type (as described in that post). \r\n\r\nWhen extending `Queueable` to e.g. `QueueableTestItem` then `QueueableTestItem.queue` is supposed to hold _only_ elements of type `QueueableTestItem`. \r\n\r\nThe class `Queueable` exists to define the mechanics of using the queue, but it&#39;s not meant to be used as is - it&#39;s meant to be extended.\r\n\r\nSo the question is: what&#39;s the correct java syntax for that concept?","title":"Java inheritance: &quot;? extends T&quot; vs &quot;T&quot;","body":"<p>I'm implementing a special priority queue. The implementation protects the value of queued items from being changed while being queued. It's a priority queue optimized for a certain use case which needs that invariant. Doing that, I ran into a problem concerning java inheritance and type.</p>\n<p>The implementation consists of an interface defining the queue and a class defining a queued item. The latter should be extended by a class for concrete objects to be put into the queue.</p>\n<p>The queue interface:</p>\n<pre><code>public interface PriorityQueueInterface&lt;T extends Queueable&gt; {\n    void add(T elem);\n    boolean remove(T element);\n    T poll();\n}\n</code></pre>\n<p>The queueable item class:</p>\n<pre><code>public class Queueable {\n    private PriorityQueueInterface&lt;? extends Queueable&gt; queue;\n    private boolean queued = false;\n    private double value;\n    public Queueable(PriorityQueueInterface&lt;Queueable&gt; queue) { this.queue = queue; }\n\n    public void setValue(double value) {\n        if (queued) throw new RuntimeException(&quot;can't set value while queued&quot;);\n        this.value = value;\n    }\n\n    public double getValue() { return value; }\n\n    public boolean queue() {\n        if (queued) return false;\n        queue.add(this);\n        queued = true;\n        return true;\n    }\n\n    public boolean unqueue() {\n        if(!queued) return false;\n        queue.remove(this);\n        queued = false;\n        return true;\n    }\n}\n</code></pre>\n<p>Sample use of <code>Queueable</code>:</p>\n<pre><code>public class QueueableTestItem extends Queueable {\n    public QueueableTestItem(PriorityQueueInterface&lt;QueueableTestItem&gt; queue) {\n        super(queue);\n    }\n}\n</code></pre>\n<p>I'm obviously doing something wrong here, the error is:</p>\n<p>The call <code>queue.add(this)</code> in <code>Queueable.queue</code> is invalid, as type <code>? extends Queueable</code> is expected while <code>Queueable</code> is provided.</p>\n<p>I want to define the controlled queueing and unqueueing into the <code>Queueable</code> class though - how do I set the types correctly to make this work?</p>\n<p>If the reasons for choosing this way are not obvious from the example, it's because I simplified it for providing a minimal example. It's a cutout from a much bigger context.</p>\n<p><strong>UPDATE</strong></p>\n<p>This is why I think, that <a href=\"https://stackoverflow.com/questions/2776975/how-can-i-add-to-list-extends-number-data-structures\">How can I add to List&lt;? extends Number&gt; data structures?</a> doesn't answer my question:</p>\n<p>I understand, that I cannot add to a collection of a generic type (as described in that post).</p>\n<p>When extending <code>Queueable</code> to e.g. <code>QueueableTestItem</code> then <code>QueueableTestItem.queue</code> is supposed to hold <em>only</em> elements of type <code>QueueableTestItem</code>.</p>\n<p>The class <code>Queueable</code> exists to define the mechanics of using the queue, but it's not meant to be used as is - it's meant to be extended.</p>\n<p>So the question is: what's the correct java syntax for that concept?</p>\n"},{"tags":["java","openoffice.org"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644499849,"post_id":71065911,"comment_id":125626712,"body_markdown":"Does this answer your question? [Apache POI Word tutorial.](https://stackoverflow.com/questions/10266844/apache-poi-word-tutorial)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10266844/apache-poi-word-tutorial\">Apache POI Word tutorial.</a>"},{"owner":{"account_id":16530602,"reputation":131,"user_id":11943962,"display_name":"Ben"},"score":0,"creation_date":1644502119,"post_id":71065911,"comment_id":125627704,"body_markdown":"Not really, because I don&#39;t search and replace I need juste to search and extract to save it in a String list","body":"Not really, because I don&#39;t search and replace I need juste to search and extract to save it in a String list"},{"owner":{"account_id":16530602,"reputation":131,"user_id":11943962,"display_name":"Ben"},"score":0,"creation_date":1644503933,"post_id":71065911,"comment_id":125628590,"body_markdown":"In your link I see I can replace word but not how extract the word only like in the file there is &lt;%%WordToExtract%%&gt; and when I use this librairy the method return WordToExtract who is put in a list. It&#39;s for search all word between tags","body":"In your link I see I can replace word but not how extract the word only like in the file there is &lt;%%WordToExtract%%&gt; and when I use this librairy the method return WordToExtract who is put in a list. It&#39;s for search all word between tags"}],"owner":{"account_id":16530602,"reputation":131,"user_id":11943962,"display_name":"Ben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644499704,"creation_date":1644499462,"question_id":71065911,"body_markdown":"How can I extract word in binary file or .doc file with open office library in Java? \r\n\r\nI can&#39;t find good documentation or example of how to do it.\r\n\r\n","title":"How extract word between tag with open office library?","body":"<p>How can I extract word in binary file or .doc file with open office library in Java?</p>\n<p>I can't find good documentation or example of how to do it.</p>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":73701,"reputation":17468,"user_id":212107,"accept_rate":100,"display_name":"Gerald Schneider"},"score":5,"creation_date":1444916047,"post_id":33149935,"comment_id":54109242,"body_markdown":"Tried the [official examples](http://developer.android.com/guide/topics/data/data-storage.html#db)?","body":"Tried the <a href=\"http://developer.android.com/guide/topics/data/data-storage.html#db\" rel=\"nofollow noreferrer\">official examples</a>?"},{"owner":{"account_id":3781549,"reputation":934,"user_id":4130107,"accept_rate":64,"display_name":"Tobi"},"score":1,"creation_date":1444916100,"post_id":33149935,"comment_id":54109290,"body_markdown":"Try this: http://www.vogella.com/tutorials/AndroidSQLite/article.html","body":"Try this: <a href=\"http://www.vogella.com/tutorials/AndroidSQLite/article.html\" rel=\"nofollow noreferrer\">vogella.com/tutorials/AndroidSQLite/article.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":6808081,"reputation":584,"user_id":5242883,"accept_rate":50,"display_name":"Karthick"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1444916615,"creation_date":1444916185,"answer_id":33150072,"question_id":33149935,"body_markdown":"    public class Sqlhelper extends SQLiteOpenHelper {\r\n    private SQLiteDatabase db;\r\n    public static final String KEY_ROWID = &quot;_id&quot;;\r\n    public static final String KEY_FNAME = &quot;firstname&quot;;\r\n    \r\n    Sqlhelper DB = null;\r\n    private static final String DATABASE_NAME = &quot;dbname.db&quot;;\r\n    private static final int DATABASE_VERSION = 2;\r\n    public static final String DATABASE_TABLE_NAME = &quot;db&quot;;\r\n\r\n    private static final String DATABASE_TABLE_CREATE =\r\n            &quot;CREATE TABLE &quot; + DATABASE_TABLE_NAME + &quot;(&quot; +\r\n                    &quot;_id INTEGER PRIMARY KEY AUTOINCREMENT,&quot;+\r\n                    &quot;firstname TEXT NOT NULL);&quot;;\r\n\r\n\r\n\r\n    public Sqlhelper(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        try{\r\n\r\n            db.execSQL(DATABASE_TABLE_CREATE);\r\n            Log.d(&quot;DATABASE&quot;, &quot;Table Was Created&quot;);\r\n\r\n\r\n        }catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n    }\r\n    public void open() {\r\n\r\n        getWritableDatabase();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n\r\n        onCreate(db);\r\n        Log.d(&quot;DATABASE&quot;, &quot;Table Was UPDATED&quot;);\r\n\r\n    }","title":"How do I use SQLite in android?","body":"<pre><code>public class Sqlhelper extends SQLiteOpenHelper {\nprivate SQLiteDatabase db;\npublic static final String KEY_ROWID = \"_id\";\npublic static final String KEY_FNAME = \"firstname\";\n\nSqlhelper DB = null;\nprivate static final String DATABASE_NAME = \"dbname.db\";\nprivate static final int DATABASE_VERSION = 2;\npublic static final String DATABASE_TABLE_NAME = \"db\";\n\nprivate static final String DATABASE_TABLE_CREATE =\n        \"CREATE TABLE \" + DATABASE_TABLE_NAME + \"(\" +\n                \"_id INTEGER PRIMARY KEY AUTOINCREMENT,\"+\n                \"firstname TEXT NOT NULL);\";\n\n\n\npublic Sqlhelper(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    try{\n\n        db.execSQL(DATABASE_TABLE_CREATE);\n        Log.d(\"DATABASE\", \"Table Was Created\");\n\n\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n\n\n}\npublic void open() {\n\n    getWritableDatabase();\n}\n\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    onCreate(db);\n    Log.d(\"DATABASE\", \"Table Was UPDATED\");\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1444916536,"creation_date":1444916536,"answer_id":33150192,"question_id":33149935,"body_markdown":"[SQLite][1] is a opensource SQL database that stores data to a text file on a device. Android comes in with built in SQLite database implementation.\r\n\r\nPlease check below links\r\n\r\n 1. [Android SQLite Database Tutorial][2]\r\n \r\n 2. [SQLite Database Tutorial][3]\r\n \r\n 3. [SQLite and Android][4]\r\n\r\n**Structure**\r\n\r\n   \r\n\r\n     public class MySQLiteHelper extends SQLiteOpenHelper {\r\n    \r\n      public static final String TABLE_COMMENTS = &quot;comments&quot;;\r\n      public static final String COLUMN_ID = &quot;_id&quot;;\r\n      public static final String COLUMN_COMMENT = &quot;comment&quot;;\r\n    \r\n      private static final String DATABASE_NAME = &quot;commments.db&quot;;\r\n      private static final int DATABASE_VERSION = 1;\r\n    \r\n      // Database creation sql statement\r\n      private static final String DATABASE_CREATE = &quot;create table &quot;\r\n          + TABLE_COMMENTS + &quot;(&quot; + COLUMN_ID\r\n          + &quot; integer primary key autoincrement, &quot; + COLUMN_COMMENT\r\n          + &quot; text not null);&quot;;\r\n    \r\n      public MySQLiteHelper(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n      }\r\n    \r\n      @Override\r\n      public void onCreate(SQLiteDatabase database) {\r\n        database.execSQL(DATABASE_CREATE);\r\n      }\r\n    \r\n      @Override\r\n      public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        Log.w(MySQLiteHelper.class.getName(),\r\n            &quot;Upgrading database from version &quot; + oldVersion + &quot; to &quot;\r\n                + newVersion + &quot;, which will destroy all old data&quot;);\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_COMMENTS);\r\n        onCreate(db);\r\n      }\r\n    \r\n    } \r\n\r\n\r\n  [1]: http://developer.android.com/intl/es/reference/android/database/sqlite/package-summary.html\r\n  [2]: http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/\r\n  [3]: http://www.tutorialspoint.com/android/android_sqlite_database.htm\r\n  [4]: http://www.vogella.com/tutorials/AndroidSQLite/article.html","title":"How do I use SQLite in android?","body":"<p><a href=\"http://developer.android.com/intl/es/reference/android/database/sqlite/package-summary.html\" rel=\"noreferrer\">SQLite</a> is a opensource SQL database that stores data to a text file on a device. Android comes in with built in SQLite database implementation.</p>\n\n<p>Please check below links</p>\n\n<ol>\n<li><p><a href=\"http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/\" rel=\"noreferrer\">Android SQLite Database Tutorial</a></p></li>\n<li><p><a href=\"http://www.tutorialspoint.com/android/android_sqlite_database.htm\" rel=\"noreferrer\">SQLite Database Tutorial</a></p></li>\n<li><p><a href=\"http://www.vogella.com/tutorials/AndroidSQLite/article.html\" rel=\"noreferrer\">SQLite and Android</a></p></li>\n</ol>\n\n<p><strong>Structure</strong></p>\n\n<pre><code> public class MySQLiteHelper extends SQLiteOpenHelper {\n\n  public static final String TABLE_COMMENTS = \"comments\";\n  public static final String COLUMN_ID = \"_id\";\n  public static final String COLUMN_COMMENT = \"comment\";\n\n  private static final String DATABASE_NAME = \"commments.db\";\n  private static final int DATABASE_VERSION = 1;\n\n  // Database creation sql statement\n  private static final String DATABASE_CREATE = \"create table \"\n      + TABLE_COMMENTS + \"(\" + COLUMN_ID\n      + \" integer primary key autoincrement, \" + COLUMN_COMMENT\n      + \" text not null);\";\n\n  public MySQLiteHelper(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n  }\n\n  @Override\n  public void onCreate(SQLiteDatabase database) {\n    database.execSQL(DATABASE_CREATE);\n  }\n\n  @Override\n  public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    Log.w(MySQLiteHelper.class.getName(),\n        \"Upgrading database from version \" + oldVersion + \" to \"\n            + newVersion + \", which will destroy all old data\");\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_COMMENTS);\n    onCreate(db);\n  }\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5706046,"reputation":245,"user_id":4509537,"accept_rate":75,"display_name":"ParekhAbhishekN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644499271,"creation_date":1444917009,"answer_id":33150347,"question_id":33149935,"body_markdown":"As the commenter has given you the example, you will need to create a subclass of `SQLiteOpenHelper` class and override the `onCreate` and `onUpgrade` methods which will create your database and tables. Then you can use the method `getReadableDatabase( )` or `getWritableDatabase()` of this helper class to get copy of a SQLite database. You can execute the queries on this object.\r\nThe code snippet below demonstrates it.\r\n\r\n\r\n\r\n\r\n~~~\r\npublic class DBAdapter {\r\n    private SQLiteDatabase database;\r\n    private Context context;\r\n    private DatabaseHelper dbHelper;\r\n\r\n\r\n    private class DatabaseHelper extends SQLiteOpenHelper {\r\n\r\n        public DatabaseHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) {\r\n            super(context, name, factory, version);\r\n        }\r\n\r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(CREATE_TABLES_QUERY);\r\n        }\r\n\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            db.execSQL(&quot;DROP TABLE IF EXIST &quot;+TABLE_QUERY);\r\n        }\r\n    }\r\n\r\n    public DBAdapter(Context ctx) {\r\n        this.context = ctx;\r\n\r\n    }\r\n\r\n    public DBAdapter open() throws SQLException {\r\n        dbHelper = new DatabaseHelper(context, DBNAME, null,DBVERSION);\r\n        database = dbHelper.getWritableDatabase();\r\n        return this;\r\n    }\r\n\r\n    public Cursor executeQuery() {\r\n        Cursor result = database.rawQuery(YOUR_QUERY, null);\r\n        return result;\r\n    }\r\n}\r\n~~~\r\n\r\nUse &lt;a href=&quot;http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html&quot;&gt;SQLite Open Helper developers guide&lt;/a&gt; for more help.","title":"How do I use SQLite in android?","body":"<p>As the commenter has given you the example, you will need to create a subclass of <code>SQLiteOpenHelper</code> class and override the <code>onCreate</code> and <code>onUpgrade</code> methods which will create your database and tables. Then you can use the method <code>getReadableDatabase( )</code> or <code>getWritableDatabase()</code> of this helper class to get copy of a SQLite database. You can execute the queries on this object.\nThe code snippet below demonstrates it.</p>\n<pre><code>public class DBAdapter {\n    private SQLiteDatabase database;\n    private Context context;\n    private DatabaseHelper dbHelper;\n\n\n    private class DatabaseHelper extends SQLiteOpenHelper {\n\n        public DatabaseHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) {\n            super(context, name, factory, version);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            db.execSQL(CREATE_TABLES_QUERY);\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            db.execSQL(&quot;DROP TABLE IF EXIST &quot;+TABLE_QUERY);\n        }\n    }\n\n    public DBAdapter(Context ctx) {\n        this.context = ctx;\n\n    }\n\n    public DBAdapter open() throws SQLException {\n        dbHelper = new DatabaseHelper(context, DBNAME, null,DBVERSION);\n        database = dbHelper.getWritableDatabase();\n        return this;\n    }\n\n    public Cursor executeQuery() {\n        Cursor result = database.rawQuery(YOUR_QUERY, null);\n        return result;\n    }\n}\n</code></pre>\n<p>Use <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html\" rel=\"nofollow noreferrer\">SQLite Open Helper developers guide</a> for more help.</p>\n"},{"tags":[],"owner":{"account_id":4834459,"reputation":2108,"user_id":3901630,"display_name":"Amol Suryawanshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461747595,"creation_date":1461747595,"answer_id":36885044,"question_id":33149935,"body_markdown":"use below example to create database\r\n    \r\n   \r\n\r\n     import android.content.ContentValues;\r\n            import android.content.Context;\r\n            import android.database.sqlite.SQLiteDatabase;\r\n            import android.database.sqlite.SQLiteOpenHelper;\r\n            import android.util.Log;\r\n            \r\n            import com.ayconsultancy.sumeshmedicals.SumeshMedicalContext;\r\n            import com.ayconsultancy.sumeshmedicals.model.PlaceModel;\r\n            import com.ayconsultancy.sumeshmedicals.utils.Utils;\r\n            \r\n            import org.json.JSONArray;\r\n            import org.json.JSONException;\r\n            import org.json.JSONObject;\r\n            \r\n            import java.util.ArrayList;\r\n            \r\n            /**\r\n             * Created by Admin33 on 16-02-2016.\r\n             */\r\n            public class DBHelper extends SQLiteOpenHelper {\r\n                static String DATABASE_NAME = &quot;sumesh_medicals&quot;;\r\n                static int DATABASE_VERSION = 1;\r\n                static DBHelper dbHelperInstance;\r\n                static SQLiteDatabase db;\r\n            \r\n                public DBHelper(Context context) {\r\n                    super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n                }\r\n            \r\n                public static DBHelper getInstance() {\r\n                    if (dbHelperInstance == null) {\r\n                        dbHelperInstance = new DBHelper(SumeshMedicalContext.getContext());\r\n                    }\r\n                    return dbHelperInstance;\r\n                }\r\n            \r\n                @Override\r\n                public void onCreate(SQLiteDatabase db) {\r\n                    Utils.ShowLogD(&quot;in sqlite oncreate&quot;);\r\n                    try {\r\n                        db.execSQL(DBQueries.CREATE_OTC_TABLE);\r\n                        db.execSQL(DBQueries.CREATE_SHOP_DETAILS_TABLE);\r\n                        db.execSQL(DBQueries.CREATE_USER_DETAILS_TABLE);\r\n                        db.execSQL(DBQueries.CREATE_CITY_TABLE);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n            \r\n                   // insertIntoShopDetails(db);\r\n                    //  insertIntoOTcPrescrion(db);\r\n            \r\n                }\r\n            \r\n                public synchronized SQLiteDatabase getDababase() {\r\n                    if (db == null || (db != null &amp;&amp; !db.isOpen())) {\r\n                        db = this.getWritableDatabase();\r\n                    }\r\n                    return db;\r\n                }\r\n            \r\n                public synchronized void close() {\r\n                    super.close();\r\n                    if (db != null)\r\n                        db.close();\r\n                }\r\n            \r\n                @Override\r\n                public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            \r\n                }\r\n    }","title":"How do I use SQLite in android?","body":"<p>use below example to create database</p>\n\n<pre><code> import android.content.ContentValues;\n        import android.content.Context;\n        import android.database.sqlite.SQLiteDatabase;\n        import android.database.sqlite.SQLiteOpenHelper;\n        import android.util.Log;\n\n        import com.ayconsultancy.sumeshmedicals.SumeshMedicalContext;\n        import com.ayconsultancy.sumeshmedicals.model.PlaceModel;\n        import com.ayconsultancy.sumeshmedicals.utils.Utils;\n\n        import org.json.JSONArray;\n        import org.json.JSONException;\n        import org.json.JSONObject;\n\n        import java.util.ArrayList;\n\n        /**\n         * Created by Admin33 on 16-02-2016.\n         */\n        public class DBHelper extends SQLiteOpenHelper {\n            static String DATABASE_NAME = \"sumesh_medicals\";\n            static int DATABASE_VERSION = 1;\n            static DBHelper dbHelperInstance;\n            static SQLiteDatabase db;\n\n            public DBHelper(Context context) {\n                super(context, DATABASE_NAME, null, DATABASE_VERSION);\n            }\n\n            public static DBHelper getInstance() {\n                if (dbHelperInstance == null) {\n                    dbHelperInstance = new DBHelper(SumeshMedicalContext.getContext());\n                }\n                return dbHelperInstance;\n            }\n\n            @Override\n            public void onCreate(SQLiteDatabase db) {\n                Utils.ShowLogD(\"in sqlite oncreate\");\n                try {\n                    db.execSQL(DBQueries.CREATE_OTC_TABLE);\n                    db.execSQL(DBQueries.CREATE_SHOP_DETAILS_TABLE);\n                    db.execSQL(DBQueries.CREATE_USER_DETAILS_TABLE);\n                    db.execSQL(DBQueries.CREATE_CITY_TABLE);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n               // insertIntoShopDetails(db);\n                //  insertIntoOTcPrescrion(db);\n\n            }\n\n            public synchronized SQLiteDatabase getDababase() {\n                if (db == null || (db != null &amp;&amp; !db.isOpen())) {\n                    db = this.getWritableDatabase();\n                }\n                return db;\n            }\n\n            public synchronized void close() {\n                super.close();\n                if (db != null)\n                    db.close();\n            }\n\n            @Override\n            public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n            }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3439160,"reputation":348,"user_id":2881495,"display_name":"Mahesh Pandit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503975822,"creation_date":1503975822,"answer_id":45930080,"question_id":33149935,"body_markdown":"to save data into sqlite use following first in main\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    String one,two;\r\n    EditText name,phone;\r\n    Button saveButton;\r\n    List&lt;StudentModel&gt; list = new ArrayList&lt;StudentModel&gt;();\r\n    DatabaseHelper db;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        db = new DatabaseHelper(getApplicationContext());\r\n\r\n        saveButton=(Button)findViewById(R.id.submit);\r\n        name=(EditText)findViewById(R.id.textName);\r\n        phone=(EditText)findViewById(R.id.textPhone);\r\n\r\n        saveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                StudentModel student = new StudentModel();\r\n                student.name = name.getText().toString();\r\n                student.phone_number = phone.getText().toString();\r\n                db.addStudentDetail(student);\r\n\r\n                list = db.getAllStudentsList();\r\n                print(list);\r\n\r\n\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n    private void print(List&lt;StudentModel&gt; list) {\r\n     \r\n        String value = &quot;&quot;;\r\n        for(StudentModel sm : list){\r\n            value = value+&quot;id: &quot;+sm.id+&quot;, name: &quot;+sm.name+&quot; Ph_no: &quot;+sm.phone_number+&quot;\\n&quot;;\r\n        }\r\n\r\n        Log.i(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;,value);\r\n\r\n    }\r\n\r\n\r\n    }\r\n\r\nthen create handler class\r\n\r\n\r\n    public class DatabaseHelper extends SQLiteOpenHelper {\r\n\r\n    // Database Name\r\n    public static String DATABASE_NAME = &quot;student_database&quot;;\r\n\r\n   \r\n    private static final int DATABASE_VERSION = 1;\r\n\r\n    \r\n    private static final String TABLE_STUDENTS = &quot;students&quot;;\r\n\r\n    \r\n    private static final String KEY_ID = &quot;id&quot;;\r\n    private static final String KEY_NAME = &quot;name&quot;;\r\n    private static final String KEY_PHONENUMBER = &quot;phone_number&quot;;\r\n\r\n    public static String TAG = &quot;tag&quot;;\r\n\r\n  \r\n\r\n    private static final String CREATE_TABLE_STUDENTS = &quot;CREATE TABLE &quot;\r\n            + TABLE_STUDENTS + &quot;(&quot; + KEY_ID\r\n            + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot; + KEY_NAME + &quot; TEXT,&quot;\r\n            + KEY_PHONENUMBER + &quot; TEXT );&quot;;\r\n\r\n    public DatabaseHelper(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n\r\n        db.execSQL(CREATE_TABLE_STUDENTS); \r\n\r\n    }\r\n\r\n  \r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + CREATE_TABLE_STUDENTS);\r\n\r\n        onCreate(db);\r\n    }\r\n\r\n\r\n    public long addStudentDetail(StudentModel student) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        // Creating content values\r\n        ContentValues values = new ContentValues();\r\n        values.put(KEY_NAME, student.name);\r\n        values.put(KEY_PHONENUMBER, student.phone_number);\r\n\r\n        // insert row in students table\r\n\r\n        long insert = db.insert(TABLE_STUDENTS, null, values);\r\n\r\n        return insert;\r\n    }\r\n\r\n   \r\n    public int updateEntry(StudentModel student) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        // Creating content values\r\n        ContentValues values = new ContentValues();\r\n        values.put(KEY_NAME, student.name);\r\n        values.put(KEY_PHONENUMBER, student.phone_number);\r\n\r\n        return db.update(TABLE_STUDENTS, values, KEY_ID + &quot; = ?&quot;,\r\n                new String[] { String.valueOf(student.id) });\r\n    }\r\n\r\n \r\n    public void deleteEntry(long id) {\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        db.delete(TABLE_STUDENTS, KEY_ID + &quot; = ?&quot;,\r\n                new String[] { String.valueOf(id) });\r\n    }\r\n\r\n    public StudentModel getStudent(long id) {\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n       \r\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_STUDENTS + &quot; WHERE &quot;\r\n                + KEY_ID + &quot; = &quot; + id;\r\n        Log.d(TAG, selectQuery);\r\n\r\n        Cursor c = db.rawQuery(selectQuery, null);\r\n\r\n        if (c != null)\r\n            c.moveToFirst();\r\n\r\n        StudentModel students = new StudentModel();\r\n        students.id = c.getInt(c.getColumnIndex(KEY_ID));\r\n        students.phone_number = c.getString(c.getColumnIndex(KEY_PHONENUMBER));\r\n        students.name = c.getString(c.getColumnIndex(KEY_NAME));\r\n\r\n        return students;\r\n    }\r\n\r\n\r\n    public List&lt;StudentModel&gt; getAllStudentsList() {\r\n        List&lt;StudentModel&gt; studentsArrayList = new ArrayList&lt;StudentModel&gt;();\r\n\r\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_STUDENTS;\r\n        Log.d(TAG, selectQuery);\r\n\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        Cursor c = db.rawQuery(selectQuery, null);\r\n\r\n   \r\n        if (c.moveToFirst()) {\r\n            do {\r\n\r\n                StudentModel students = new StudentModel();\r\n                students.id = c.getInt(c.getColumnIndex(KEY_ID));\r\n                students.phone_number = c.getString(c\r\n                        .getColumnIndex(KEY_PHONENUMBER));\r\n                students.name = c.getString(c.getColumnIndex(KEY_NAME));\r\n\r\n               \r\n                studentsArrayList.add(students);\r\n            } while (c.moveToNext());\r\n        }\r\n\r\n        return studentsArrayList;\r\n    }\r\n    }\r\n\r\nthen set and get the values\r\n\r\n    public class StudentModel {\r\n\r\n    public int id;\r\n    public String name;\r\n    public String phone_number;\r\n\r\n    public StudentModel(int id, String name, String phone_number) {\r\n        // TODO Auto-generated constructor stub\r\n        this.id = id;\r\n        this.name = name;\r\n        this.phone_number = phone_number;\r\n    }\r\n    public StudentModel(){\r\n\r\n    }\r\n    }\r\n\r\n\r\ntry it\r\n\r\n","title":"How do I use SQLite in android?","body":"<p>to save data into sqlite use following first in main</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nString one,two;\nEditText name,phone;\nButton saveButton;\nList&lt;StudentModel&gt; list = new ArrayList&lt;StudentModel&gt;();\nDatabaseHelper db;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    db = new DatabaseHelper(getApplicationContext());\n\n    saveButton=(Button)findViewById(R.id.submit);\n    name=(EditText)findViewById(R.id.textName);\n    phone=(EditText)findViewById(R.id.textPhone);\n\n    saveButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            StudentModel student = new StudentModel();\n            student.name = name.getText().toString();\n            student.phone_number = phone.getText().toString();\n            db.addStudentDetail(student);\n\n            list = db.getAllStudentsList();\n            print(list);\n\n\n\n\n        }\n    });\n}\nprivate void print(List&lt;StudentModel&gt; list) {\n\n    String value = \"\";\n    for(StudentModel sm : list){\n        value = value+\"id: \"+sm.id+\", name: \"+sm.name+\" Ph_no: \"+sm.phone_number+\"\\n\";\n    }\n\n    Log.i(\"&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\",value);\n\n}\n\n\n}\n</code></pre>\n\n<p>then create handler class</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n\n// Database Name\npublic static String DATABASE_NAME = \"student_database\";\n\n\nprivate static final int DATABASE_VERSION = 1;\n\n\nprivate static final String TABLE_STUDENTS = \"students\";\n\n\nprivate static final String KEY_ID = \"id\";\nprivate static final String KEY_NAME = \"name\";\nprivate static final String KEY_PHONENUMBER = \"phone_number\";\n\npublic static String TAG = \"tag\";\n\n\n\nprivate static final String CREATE_TABLE_STUDENTS = \"CREATE TABLE \"\n        + TABLE_STUDENTS + \"(\" + KEY_ID\n        + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" + KEY_NAME + \" TEXT,\"\n        + KEY_PHONENUMBER + \" TEXT );\";\n\npublic DatabaseHelper(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n\n    db.execSQL(CREATE_TABLE_STUDENTS); \n\n}\n\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    db.execSQL(\"DROP TABLE IF EXISTS \" + CREATE_TABLE_STUDENTS);\n\n    onCreate(db);\n}\n\n\npublic long addStudentDetail(StudentModel student) {\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    // Creating content values\n    ContentValues values = new ContentValues();\n    values.put(KEY_NAME, student.name);\n    values.put(KEY_PHONENUMBER, student.phone_number);\n\n    // insert row in students table\n\n    long insert = db.insert(TABLE_STUDENTS, null, values);\n\n    return insert;\n}\n\n\npublic int updateEntry(StudentModel student) {\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    // Creating content values\n    ContentValues values = new ContentValues();\n    values.put(KEY_NAME, student.name);\n    values.put(KEY_PHONENUMBER, student.phone_number);\n\n    return db.update(TABLE_STUDENTS, values, KEY_ID + \" = ?\",\n            new String[] { String.valueOf(student.id) });\n}\n\n\npublic void deleteEntry(long id) {\n\n    SQLiteDatabase db = this.getWritableDatabase();\n    db.delete(TABLE_STUDENTS, KEY_ID + \" = ?\",\n            new String[] { String.valueOf(id) });\n}\n\npublic StudentModel getStudent(long id) {\n    SQLiteDatabase db = this.getReadableDatabase();\n\n\n    String selectQuery = \"SELECT  * FROM \" + TABLE_STUDENTS + \" WHERE \"\n            + KEY_ID + \" = \" + id;\n    Log.d(TAG, selectQuery);\n\n    Cursor c = db.rawQuery(selectQuery, null);\n\n    if (c != null)\n        c.moveToFirst();\n\n    StudentModel students = new StudentModel();\n    students.id = c.getInt(c.getColumnIndex(KEY_ID));\n    students.phone_number = c.getString(c.getColumnIndex(KEY_PHONENUMBER));\n    students.name = c.getString(c.getColumnIndex(KEY_NAME));\n\n    return students;\n}\n\n\npublic List&lt;StudentModel&gt; getAllStudentsList() {\n    List&lt;StudentModel&gt; studentsArrayList = new ArrayList&lt;StudentModel&gt;();\n\n    String selectQuery = \"SELECT  * FROM \" + TABLE_STUDENTS;\n    Log.d(TAG, selectQuery);\n\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor c = db.rawQuery(selectQuery, null);\n\n\n    if (c.moveToFirst()) {\n        do {\n\n            StudentModel students = new StudentModel();\n            students.id = c.getInt(c.getColumnIndex(KEY_ID));\n            students.phone_number = c.getString(c\n                    .getColumnIndex(KEY_PHONENUMBER));\n            students.name = c.getString(c.getColumnIndex(KEY_NAME));\n\n\n            studentsArrayList.add(students);\n        } while (c.moveToNext());\n    }\n\n    return studentsArrayList;\n}\n}\n</code></pre>\n\n<p>then set and get the values</p>\n\n<pre><code>public class StudentModel {\n\npublic int id;\npublic String name;\npublic String phone_number;\n\npublic StudentModel(int id, String name, String phone_number) {\n    // TODO Auto-generated constructor stub\n    this.id = id;\n    this.name = name;\n    this.phone_number = phone_number;\n}\npublic StudentModel(){\n\n}\n}\n</code></pre>\n\n<p>try it</p>\n"},{"tags":[],"owner":{"account_id":9742298,"reputation":352,"user_id":7223435,"display_name":"Firdosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510749873,"creation_date":1510318671,"answer_id":47223317,"question_id":33149935,"body_markdown":"Here is my code how to use sqlite database\r\n\r\n**DatabaseHelper.java**\r\n\r\n                public class DatabaseHelper extends SQLiteOpenHelper {\r\n                    \r\n                        public DatabaseHelper(Context context) {\r\n                            super(context, &quot;loginDB.db&quot;, null, 1);\r\n                            getWritableDatabase();\r\n                        }\r\n                    \r\n                        @Override\r\n                        public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n                            String query = &quot;create table registration (id INTEGER,Image BLOB,firstname VARCHAR,Lastname VARCHAR,DateOfBirth VARCHAR,Phone VARCHAR,Gender VARCHAR, Email VARCHAR primary key,Password VARCHAR);&quot;;\r\n                            sqLiteDatabase.execSQL(query);\r\n                        }\r\n                    \r\n                        @Override\r\n                        public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n                    \r\n                        }\r\n                //method for insert data\r\n                public boolean insertRecord(byte[] imageInByte,String fn) {\r\n                    SQLiteDatabase db = this.getWritableDatabase();\r\n                    ContentValues contentValues = new ContentValues();\r\n                    contentValues.put(&quot;Image&quot;, imageInByte);\r\n                    contentValues.put(&quot;Firstname&quot;, fn);\r\n                    db.insert(&quot;signup&quot;, null, contentValues);\r\n                    return true;\r\n                }\r\n                \r\n           public boolean updaterecord(String fn,String ln,String unme){\r\n                    SQLiteDatabase db = this.getWritableDatabase();\r\n                    ContentValues contentValues = new ContentValues();\r\n                    contentValues.put(&quot;Firstname&quot;, fn);\r\n                    contentValues.put(&quot;Lastname&quot;, ln);\r\n                    contentValues.put(&quot;Username&quot;, unme);\r\n                    return db.update(TABLE_NAME, contentValues, &quot;Username = ?&quot;, new String[]{(unme)}) &gt; 0;\r\n                }\r\n    \r\n    public boolean deleterecord(String FirstName) {\r\n    \r\n                SQLiteDatabase db = this.getWritableDatabase();\r\n                return db.delete(TABLE_NAME, &quot;Firstname = ?&quot;, new String[]{FirstName}) &gt; 0;\r\n            }\r\n             \r\n                 public int displayDetail(String email, String password) {\r\n                        SQLiteDatabase db = this.getWritableDatabase();\r\n                        Cursor cursor = db.rawQuery(&quot;select * from registration where Email=&#39;&quot; + email + &quot;&#39;AND Password=&#39;&quot; + password + &quot;&#39;&quot;, null);\r\n                \r\n                        return cursor.getCount();\r\n                    }\r\n                \r\n                    public ArrayList displayDetails(String email, String password) {\r\n                        SQLiteDatabase db = this.getWritableDatabase();\r\n                        Cursor cursor = db.rawQuery(&quot;select * from registration where Email=&#39;&quot; + email + &quot;&#39;AND Password=&#39;&quot; + password + &quot;&#39;&quot;, null);\r\n                \r\n                        ArrayList&lt;ModelClass&gt; arrayList = new ArrayList();\r\n                        ModelClass model;\r\n                        if (cursor != null) {\r\n                            if (cursor.getCount() &gt; 0) {\r\n                                while (cursor.moveToNext()) {\r\n                                    model = new Model();\r\n                                    model.setFirstname(cursor.getString(cursor.getColumnIndex(&quot;Firstname&quot;)));\r\n                                    model.setLastname(cursor.getString(cursor.getColumnIndex(&quot;Lastname&quot;)));\r\n                                    arrayList.add(model);\r\n                                }\r\n                            }\r\n                        }\r\n                        return arrayList;\r\n                    }\r\n                    }\r\n\r\n","title":"How do I use SQLite in android?","body":"<p>Here is my code how to use sqlite database</p>\n\n<p><strong>DatabaseHelper.java</strong></p>\n\n<pre><code>            public class DatabaseHelper extends SQLiteOpenHelper {\n\n                    public DatabaseHelper(Context context) {\n                        super(context, \"loginDB.db\", null, 1);\n                        getWritableDatabase();\n                    }\n\n                    @Override\n                    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n                        String query = \"create table registration (id INTEGER,Image BLOB,firstname VARCHAR,Lastname VARCHAR,DateOfBirth VARCHAR,Phone VARCHAR,Gender VARCHAR, Email VARCHAR primary key,Password VARCHAR);\";\n                        sqLiteDatabase.execSQL(query);\n                    }\n\n                    @Override\n                    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n\n                    }\n            //method for insert data\n            public boolean insertRecord(byte[] imageInByte,String fn) {\n                SQLiteDatabase db = this.getWritableDatabase();\n                ContentValues contentValues = new ContentValues();\n                contentValues.put(\"Image\", imageInByte);\n                contentValues.put(\"Firstname\", fn);\n                db.insert(\"signup\", null, contentValues);\n                return true;\n            }\n\n       public boolean updaterecord(String fn,String ln,String unme){\n                SQLiteDatabase db = this.getWritableDatabase();\n                ContentValues contentValues = new ContentValues();\n                contentValues.put(\"Firstname\", fn);\n                contentValues.put(\"Lastname\", ln);\n                contentValues.put(\"Username\", unme);\n                return db.update(TABLE_NAME, contentValues, \"Username = ?\", new String[]{(unme)}) &gt; 0;\n            }\n\npublic boolean deleterecord(String FirstName) {\n\n            SQLiteDatabase db = this.getWritableDatabase();\n            return db.delete(TABLE_NAME, \"Firstname = ?\", new String[]{FirstName}) &gt; 0;\n        }\n\n             public int displayDetail(String email, String password) {\n                    SQLiteDatabase db = this.getWritableDatabase();\n                    Cursor cursor = db.rawQuery(\"select * from registration where Email='\" + email + \"'AND Password='\" + password + \"'\", null);\n\n                    return cursor.getCount();\n                }\n\n                public ArrayList displayDetails(String email, String password) {\n                    SQLiteDatabase db = this.getWritableDatabase();\n                    Cursor cursor = db.rawQuery(\"select * from registration where Email='\" + email + \"'AND Password='\" + password + \"'\", null);\n\n                    ArrayList&lt;ModelClass&gt; arrayList = new ArrayList();\n                    ModelClass model;\n                    if (cursor != null) {\n                        if (cursor.getCount() &gt; 0) {\n                            while (cursor.moveToNext()) {\n                                model = new Model();\n                                model.setFirstname(cursor.getString(cursor.getColumnIndex(\"Firstname\")));\n                                model.setLastname(cursor.getString(cursor.getColumnIndex(\"Lastname\")));\n                                arrayList.add(model);\n                            }\n                        }\n                    }\n                    return arrayList;\n                }\n                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10926937,"reputation":41,"user_id":8031385,"display_name":"Ranjit Barve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515070811,"creation_date":1515070811,"answer_id":48095901,"question_id":33149935,"body_markdown":"**Create &quot;database&quot; name package and include it**\r\n\r\n**Create SQLitHelper name class**\r\n\r\n    import android.content.Context;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    public class SQLitHelper extends SQLiteOpenHelper {\r\n        public static final String DataBase_Name = &quot;ABC&quot;;\r\n        public static final int Version = 1;\r\n        public static final String TblUser = &quot;TblUser&quot;;\r\n        public static final String TblClassList = &quot;TblClassList&quot;;\r\n        public static final String TblStudentList = &quot;TblStudentList&quot;;\r\n    \r\n        public SQLitHelper(Context context) {\r\n            super(context, DataBase_Name, null, Version);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(&quot;Create table &quot; + TblUser +\r\n                    &quot;(id INTEGER PRIMARY KEY,&quot; +\r\n                    &quot;uid INTEGER,&quot; +\r\n                    &quot;fname TEXT,&quot; +\r\n                    &quot;lname TEXT,&quot; +\r\n                    &quot;email TEXT,&quot; +\r\n                    &quot;password TEXT,&quot; +\r\n                    &quot;teacher TEXT,&quot; +\r\n                    &quot;student TEXT,&quot; +\r\n                    &quot;parent TEXT,&quot; +\r\n                    &quot;status TEXT,&quot; +\r\n                    &quot;landing_page TEXT,&quot; +\r\n                    &quot;createdate TEXT,&quot; +\r\n                    &quot;birthdate TEXT,&quot; +\r\n                    &quot;profilepic TEXT,&quot; +\r\n                    &quot;phone TEXT,&quot; +\r\n                    &quot;address TEXT,&quot; +\r\n                    &quot;gender TEXT,&quot; +\r\n                    &quot;age TEXT,&quot; +\r\n                    &quot;googleid TEXT,&quot; +\r\n                    &quot;facebookid TEXT,&quot; +\r\n                    &quot;alert_time TEXT,&quot; +\r\n                    &quot;sch_name TEXT,&quot;+\r\n                    &quot;login_with TEXT,&quot;+\r\n                    &quot;default_zone TEXT)&quot;);\r\n    \r\n            db.execSQL(&quot;Create table &quot; + TblClassList +\r\n                    &quot;(id INTEGER PRIMARY KEY,&quot; +\r\n                    &quot;cid INTEGER,&quot; +\r\n                    &quot;uid INTEGER,&quot; +\r\n                    &quot;title TEXT,&quot; +\r\n                    &quot;color TEXT,&quot; +\r\n                    &quot;startdate TEXT,&quot; +\r\n                    &quot;enddate TEXT,&quot; +\r\n                    &quot;qrcode TEXT,&quot; +\r\n                    &quot;createdate TEXT,&quot; +\r\n                    &quot;not_submitted_count TEXT,&quot; +\r\n                    &quot;status TEXT,&quot; +\r\n                    &quot;extra1 TEXT,&quot; +\r\n                    &quot;extra2 TEXT)&quot;);\r\n    \r\n            db.execSQL(&quot;Create table &quot; + TblStudentList +\r\n                    &quot;(id INTEGER PRIMARY KEY,&quot; +\r\n                    &quot;uid INTEGER,&quot; +\r\n                    &quot;cid INTEGER,&quot; +\r\n                    &quot;fname TEXT,&quot; +\r\n                    &quot;lname TEXT,&quot; +\r\n                    &quot;email TEXT,&quot; +\r\n                    &quot;profilepic TEXT,&quot; +\r\n                    &quot;student_name TEXT,&quot; +\r\n                    &quot;isleader TEXT,&quot; +\r\n                    &quot;add_homework TEXT,&quot; +\r\n                    &quot;track_submission TEXT,&quot; +\r\n                    &quot;status TEXT,&quot; +\r\n                    &quot;edit_homework TEXT,&quot; +\r\n                    &quot;del_homework TEXT,&quot; +\r\n                    &quot;last_access TEXT)&quot;);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**Create DataHelper class**\r\n\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.util.Log;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    \r\n    public class DataHelper {\r\n        SQLitHelper sqLitHelper;\r\n        SQLiteDatabase sqLiteDatabase;\r\n        Context context;\r\n        final String TAG = &quot;DataHelper&quot;;\r\n    \r\n        public DataHelper(Context context) {\r\n            sqLitHelper = new SQLitHelper(context);\r\n            this.context = context;\r\n            sqLiteDatabase = sqLitHelper.getWritableDatabase();\r\n        }\r\n    \r\n    \r\n     public void open() {\r\n            try {\r\n                sqLiteDatabase = sqLitHelper.getWritableDatabase();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void close() {\r\n            try {\r\n                sqLiteDatabase.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void insertUser(HashMap&lt;String, String&gt; list) {\r\n            ContentValues values = new ContentValues();\r\n            open();\r\n            try {\r\n                for (String str : list.keySet())\r\n                    values.put(str, list.get(str));\r\n                long rowId = sqLiteDatabase.insert(SQLitHelper.TblUser, null, values);\r\n            } catch (Exception e) {\r\n                Log.e(TAG, &quot;insertUser &quot; + e.toString());\r\n            } finally {\r\n                close();\r\n            }\r\n        }\r\n    \r\n        public void updateUser(HashMap&lt;String, String&gt; list, int uid) {\r\n            ContentValues values = new ContentValues();\r\n            open();\r\n            try {\r\n                for (String str : list.keySet())\r\n                    values.put(str, list.get(str));\r\n                long rows = sqLiteDatabase.update(SQLitHelper.TblUser, values, &quot;uid=&quot; + uid, null);\r\n            } catch (Exception e) {\r\n                Log.e(TAG, &quot;insertUser &quot; + e.toString());\r\n            } finally {\r\n                close();\r\n            }\r\n        }\r\n    \r\n        public int getUserRecordCount() {\r\n            int count = 0;\r\n            try {\r\n                open();\r\n                Cursor cursor = sqLiteDatabase.rawQuery(&quot;Select * from &quot; + SQLitHelper.TblUser, null);\r\n                count = cursor.getCount();\r\n                cursor.close();\r\n            } catch (Exception e) {\r\n                Logger.debugLog(TAG, &quot;userCount : &quot; + e.toString());\r\n            } finally {\r\n                close();\r\n            }\r\n            return count;\r\n        }\r\n    \r\n    \r\n        public HashMap&lt;String,String&gt; getUserDetail(){\r\n            HashMap&lt;String, String&gt; list = new HashMap&lt;&gt;();\r\n            Cursor cursor = null;\r\n            try {\r\n                open();\r\n                cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM &quot; + SQLitHelper.TblUser, null);\r\n                if (cursor.getColumnCount() &gt; 0) {\r\n                    while (cursor.moveToNext()) {\r\n    \r\n                        list.put(&quot;uid&quot;, cursor.getString(cursor.getColumnIndex(&quot;uid&quot;)));\r\n                        list.put(&quot;fname&quot;, cursor.getString(cursor.getColumnIndex(&quot;fname&quot;)));\r\n                        list.put(&quot;lname&quot;, cursor.getString(cursor.getColumnIndex(&quot;lname&quot;)));\r\n                        list.put(&quot;default_zone&quot;, cursor.getString(cursor.getColumnIndex(&quot;default_zone&quot;)));\r\n                        list.put(&quot;teacher&quot;, cursor.getString(cursor.getColumnIndex(&quot;teacher&quot;)));\r\n                        list.put(&quot;student&quot;, cursor.getString(cursor.getColumnIndex(&quot;student&quot;)));\r\n                        list.put(&quot;parent&quot;, cursor.getString(cursor.getColumnIndex(&quot;parent&quot;)));\r\n                        list.put(&quot;email&quot;, cursor.getString(cursor.getColumnIndex(&quot;email&quot;)));\r\n                        list.put(&quot;gender&quot;, cursor.getString(cursor.getColumnIndex(&quot;gender&quot;)));\r\n                        list.put(&quot;birthdate&quot;, cursor.getString(cursor.getColumnIndex(&quot;birthdate&quot;)));\r\n                        list.put(&quot;profilepic&quot;, cursor.getString(cursor.getColumnIndex(&quot;profilepic&quot;)));\r\n                        list.put(&quot;sch_name&quot;, cursor.getString(cursor.getColumnIndex(&quot;sch_name&quot;)));\r\n                        list.put(&quot;login_with&quot;, cursor.getString(cursor.getColumnIndex(&quot;login_with&quot;)));\r\n    \r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                Logger.debugLog(TAG, &quot;getUserDetail : &quot; + e.toString());\r\n            } finally {\r\n                close();\r\n                if (cursor != null)\r\n                    if (!cursor.isClosed())\r\n                        cursor.close();\r\n            }\r\n            return list;\r\n        }\r\n    \r\n        public boolean deleteUserList() {\r\n            try {\r\n                open();\r\n                if (sqLiteDatabase.delete(SQLitHelper.TblUser, null, null) &gt; 0){\r\n                    return true;\r\n                }else {\r\n                    return false;\r\n                }\r\n            } catch (Exception e) {\r\n                Logger.debugLog(TAG, &quot;deleteUserList : &quot; + e.toString());\r\n            } finally {\r\n                close();\r\n            }\r\n            return false;\r\n        }\r\n    \r\n   \r\n        public boolean insertClassList(MClassList mClassList) {\r\n            try {\r\n                open();\r\n                ContentValues contentValues = new ContentValues();\r\n                contentValues.put(&quot;cid&quot;, mClassList.getId());\r\n                contentValues.put(&quot;uid&quot;, mClassList.getUid());\r\n                contentValues.put(&quot;title&quot;, mClassList.getTitle());\r\n                contentValues.put(&quot;color&quot;, mClassList.getColor());\r\n                contentValues.put(&quot;startdate&quot;, mClassList.getStartdate());\r\n                contentValues.put(&quot;enddate&quot;, mClassList.getEnddate());\r\n                contentValues.put(&quot;qrcode&quot;, mClassList.getQrcode());\r\n                contentValues.put(&quot;createdate&quot;, mClassList.getCreatedate());\r\n                contentValues.put(&quot;status&quot;, mClassList.getStatus());\r\n                contentValues.put(&quot;not_submitted_count&quot;, mClassList.getNot_sub_count());\r\n                long id = sqLiteDatabase.insert(SQLitHelper.TblClassList, null, contentValues);\r\n                Logger.debugLog(TAG, &quot;insertClassList : Sus&quot;);\r\n                return true;\r\n            } catch (Exception e) {\r\n                Logger.debugLog(TAG, &quot;insertClassList : &quot; + e.toString());\r\n            } finally {\r\n                close();\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public ArrayList&lt;MClassList&gt; getClassList() {\r\n            ArrayList&lt;MClassList&gt; clssArrayList = new ArrayList&lt;&gt;();\r\n            Cursor cursor = null;\r\n            try {\r\n                open();\r\n                String Query = QueryBuilder.classListQuery();\r\n                cursor = sqLiteDatabase.rawQuery(Query, null);\r\n                if (cursor.getColumnCount() &gt; 0) {\r\n                    while (cursor.moveToNext()) {\r\n                        MClassList mClassList = new MClassList();\r\n    \r\n                        mClassList.setId(cursor.getInt(cursor.getColumnIndex(&quot;cid&quot;)));\r\n                        mClassList.setUid(cursor.getInt(cursor.getColumnIndex(&quot;uid&quot;)));\r\n                        mClassList.setTitle(cursor.getString(cursor.getColumnIndex(&quot;title&quot;)));\r\n                        mClassList.setColor(cursor.getString(cursor.getColumnIndex(&quot;color&quot;)));\r\n                        mClassList.setStartdate(cursor.getString(cursor.getColumnIndex(&quot;startdate&quot;)));\r\n                        mClassList.setEnddate(cursor.getString(cursor.getColumnIndex(&quot;enddate&quot;)));\r\n                        mClassList.setQrcode(cursor.getString(cursor.getColumnIndex(&quot;qrcode&quot;)));\r\n                        mClassList.setCreatedate(cursor.getString(cursor.getColumnIndex(&quot;createdate&quot;)));\r\n                        mClassList.setStatus(cursor.getString(cursor.getColumnIndex(&quot;status&quot;)));\r\n                        mClassList.setNot_sub_count(cursor.getString(cursor.getColumnIndex(&quot;not_submitted_count&quot;)));\r\n    \r\n                        clssArrayList.add(mClassList);\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                Logger.debugLog(TAG, &quot;getClassList : &quot; + e.toString());\r\n            } finally {\r\n                close();\r\n                if (cursor != null)\r\n                    if (!cursor.isClosed())\r\n                        cursor.close();\r\n            }\r\n            return clssArrayList;\r\n        }\r\n    \r\n        public boolean deleteClassList() {\r\n            try {\r\n                open();\r\n                if (sqLiteDatabase.delete(SQLitHelper.TblClassList, null, null) &gt; 0){\r\n                    return true;\r\n                }else {\r\n                    return false;\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                Logger.debugLog(TAG, &quot;deleteClassList : &quot; + e.toString());\r\n            } finally {\r\n                close();\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public boolean deleteStudentList() {\r\n            try {\r\n                open();\r\n                if (sqLiteDatabase.delete(SQLitHelper.TblStudentList, null, null) &gt; 0){\r\n                    return true;\r\n                }\r\n                else{\r\n                    return false;\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                Logger.debugLog(TAG, &quot;deleteStudentList : &quot; + e.toString());\r\n            } finally {\r\n                close();\r\n            }\r\n            return false;\r\n        }\r\n    \r\n       public void deleteStudent(int cid,int uid) {\r\n            try {\r\n                open();\r\n                sqLiteDatabase.delete(SQLitHelper.TblStudentList, &quot;uid=&quot; + uid + &quot; AND cid=&quot; + cid, null);\r\n            } catch (Exception e) {\r\n                Logger.debugLog(TAG, &quot;deleteStudent : &quot; + e.toString());\r\n            } finally {\r\n                close();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**Create class QueryBuilder**\r\n\r\n    public class QueryBuilder {\r\n    \r\n        public static String teacherABCList(int cid) {\r\n            Calendar c = Calendar.getInstance();\r\n            SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String formatDate = df.format(c.getTime()).toString();\r\n    \r\n            String Query = &quot;SELECT * FROM &quot; + SQLitHelper.TblTeacherHomeworkAll + &quot; WHERE cid=&#39;&quot; + cid + &quot;&#39;&quot; + &quot; AND duedate&gt;= &quot; +&quot;&#39;&quot;+ formatDate+&quot;&#39;&quot; + &quot; ORDER BY duedate DESC &quot;;\r\n            return Query;\r\n        }\r\n    \r\n    ==============================\r\n    \r\n      public static String studentXXXListQuery(int uid,String status) {\r\n            Calendar c = Calendar.getInstance();\r\n            SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String formatDate = df.format(c.getTime()).toString();\r\n    \r\n    \r\n            String Query = &quot;SELECT * FROM &quot; + SQLitHelper.TblStudentHomeworkAll + &quot; WHERE uid=&#39;&quot; + uid + &quot;&#39;&quot; + &quot; AND status= &quot; +&quot;&#39;&quot;+ status+&quot;&#39;&quot;+&quot; AND isDone=&#39;N&#39;&quot; + &quot; ORDER BY duedate DESC &quot;;\r\n            return Query;\r\n        }\r\n    \r\n    ===========================================\r\n    \r\n     public static String studentListQuery(String questionID) {\r\n            String query = &quot;SELECT * FROM &quot; + SQLitHelper.TblStudentCheckAnswer + &quot; WHERE qid=&quot; + questionID;\r\n            return query;\r\n        }\r\n    \r\n    }","title":"How do I use SQLite in android?","body":"<p><strong>Create \"database\" name package and include it</strong></p>\n\n<p><strong>Create SQLitHelper name class</strong></p>\n\n<pre><code>import android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\npublic class SQLitHelper extends SQLiteOpenHelper {\n    public static final String DataBase_Name = \"ABC\";\n    public static final int Version = 1;\n    public static final String TblUser = \"TblUser\";\n    public static final String TblClassList = \"TblClassList\";\n    public static final String TblStudentList = \"TblStudentList\";\n\n    public SQLitHelper(Context context) {\n        super(context, DataBase_Name, null, Version);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(\"Create table \" + TblUser +\n                \"(id INTEGER PRIMARY KEY,\" +\n                \"uid INTEGER,\" +\n                \"fname TEXT,\" +\n                \"lname TEXT,\" +\n                \"email TEXT,\" +\n                \"password TEXT,\" +\n                \"teacher TEXT,\" +\n                \"student TEXT,\" +\n                \"parent TEXT,\" +\n                \"status TEXT,\" +\n                \"landing_page TEXT,\" +\n                \"createdate TEXT,\" +\n                \"birthdate TEXT,\" +\n                \"profilepic TEXT,\" +\n                \"phone TEXT,\" +\n                \"address TEXT,\" +\n                \"gender TEXT,\" +\n                \"age TEXT,\" +\n                \"googleid TEXT,\" +\n                \"facebookid TEXT,\" +\n                \"alert_time TEXT,\" +\n                \"sch_name TEXT,\"+\n                \"login_with TEXT,\"+\n                \"default_zone TEXT)\");\n\n        db.execSQL(\"Create table \" + TblClassList +\n                \"(id INTEGER PRIMARY KEY,\" +\n                \"cid INTEGER,\" +\n                \"uid INTEGER,\" +\n                \"title TEXT,\" +\n                \"color TEXT,\" +\n                \"startdate TEXT,\" +\n                \"enddate TEXT,\" +\n                \"qrcode TEXT,\" +\n                \"createdate TEXT,\" +\n                \"not_submitted_count TEXT,\" +\n                \"status TEXT,\" +\n                \"extra1 TEXT,\" +\n                \"extra2 TEXT)\");\n\n        db.execSQL(\"Create table \" + TblStudentList +\n                \"(id INTEGER PRIMARY KEY,\" +\n                \"uid INTEGER,\" +\n                \"cid INTEGER,\" +\n                \"fname TEXT,\" +\n                \"lname TEXT,\" +\n                \"email TEXT,\" +\n                \"profilepic TEXT,\" +\n                \"student_name TEXT,\" +\n                \"isleader TEXT,\" +\n                \"add_homework TEXT,\" +\n                \"track_submission TEXT,\" +\n                \"status TEXT,\" +\n                \"edit_homework TEXT,\" +\n                \"del_homework TEXT,\" +\n                \"last_access TEXT)\");\n    }\n\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    }\n\n}\n</code></pre>\n\n<p><strong>Create DataHelper class</strong></p>\n\n<pre><code>import android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.util.Log;\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\npublic class DataHelper {\n    SQLitHelper sqLitHelper;\n    SQLiteDatabase sqLiteDatabase;\n    Context context;\n    final String TAG = \"DataHelper\";\n\n    public DataHelper(Context context) {\n        sqLitHelper = new SQLitHelper(context);\n        this.context = context;\n        sqLiteDatabase = sqLitHelper.getWritableDatabase();\n    }\n\n\n public void open() {\n        try {\n            sqLiteDatabase = sqLitHelper.getWritableDatabase();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void close() {\n        try {\n            sqLiteDatabase.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void insertUser(HashMap&lt;String, String&gt; list) {\n        ContentValues values = new ContentValues();\n        open();\n        try {\n            for (String str : list.keySet())\n                values.put(str, list.get(str));\n            long rowId = sqLiteDatabase.insert(SQLitHelper.TblUser, null, values);\n        } catch (Exception e) {\n            Log.e(TAG, \"insertUser \" + e.toString());\n        } finally {\n            close();\n        }\n    }\n\n    public void updateUser(HashMap&lt;String, String&gt; list, int uid) {\n        ContentValues values = new ContentValues();\n        open();\n        try {\n            for (String str : list.keySet())\n                values.put(str, list.get(str));\n            long rows = sqLiteDatabase.update(SQLitHelper.TblUser, values, \"uid=\" + uid, null);\n        } catch (Exception e) {\n            Log.e(TAG, \"insertUser \" + e.toString());\n        } finally {\n            close();\n        }\n    }\n\n    public int getUserRecordCount() {\n        int count = 0;\n        try {\n            open();\n            Cursor cursor = sqLiteDatabase.rawQuery(\"Select * from \" + SQLitHelper.TblUser, null);\n            count = cursor.getCount();\n            cursor.close();\n        } catch (Exception e) {\n            Logger.debugLog(TAG, \"userCount : \" + e.toString());\n        } finally {\n            close();\n        }\n        return count;\n    }\n\n\n    public HashMap&lt;String,String&gt; getUserDetail(){\n        HashMap&lt;String, String&gt; list = new HashMap&lt;&gt;();\n        Cursor cursor = null;\n        try {\n            open();\n            cursor = sqLiteDatabase.rawQuery(\"SELECT * FROM \" + SQLitHelper.TblUser, null);\n            if (cursor.getColumnCount() &gt; 0) {\n                while (cursor.moveToNext()) {\n\n                    list.put(\"uid\", cursor.getString(cursor.getColumnIndex(\"uid\")));\n                    list.put(\"fname\", cursor.getString(cursor.getColumnIndex(\"fname\")));\n                    list.put(\"lname\", cursor.getString(cursor.getColumnIndex(\"lname\")));\n                    list.put(\"default_zone\", cursor.getString(cursor.getColumnIndex(\"default_zone\")));\n                    list.put(\"teacher\", cursor.getString(cursor.getColumnIndex(\"teacher\")));\n                    list.put(\"student\", cursor.getString(cursor.getColumnIndex(\"student\")));\n                    list.put(\"parent\", cursor.getString(cursor.getColumnIndex(\"parent\")));\n                    list.put(\"email\", cursor.getString(cursor.getColumnIndex(\"email\")));\n                    list.put(\"gender\", cursor.getString(cursor.getColumnIndex(\"gender\")));\n                    list.put(\"birthdate\", cursor.getString(cursor.getColumnIndex(\"birthdate\")));\n                    list.put(\"profilepic\", cursor.getString(cursor.getColumnIndex(\"profilepic\")));\n                    list.put(\"sch_name\", cursor.getString(cursor.getColumnIndex(\"sch_name\")));\n                    list.put(\"login_with\", cursor.getString(cursor.getColumnIndex(\"login_with\")));\n\n                }\n            }\n        } catch (Exception e) {\n            Logger.debugLog(TAG, \"getUserDetail : \" + e.toString());\n        } finally {\n            close();\n            if (cursor != null)\n                if (!cursor.isClosed())\n                    cursor.close();\n        }\n        return list;\n    }\n\n    public boolean deleteUserList() {\n        try {\n            open();\n            if (sqLiteDatabase.delete(SQLitHelper.TblUser, null, null) &gt; 0){\n                return true;\n            }else {\n                return false;\n            }\n        } catch (Exception e) {\n            Logger.debugLog(TAG, \"deleteUserList : \" + e.toString());\n        } finally {\n            close();\n        }\n        return false;\n    }\n\n\n    public boolean insertClassList(MClassList mClassList) {\n        try {\n            open();\n            ContentValues contentValues = new ContentValues();\n            contentValues.put(\"cid\", mClassList.getId());\n            contentValues.put(\"uid\", mClassList.getUid());\n            contentValues.put(\"title\", mClassList.getTitle());\n            contentValues.put(\"color\", mClassList.getColor());\n            contentValues.put(\"startdate\", mClassList.getStartdate());\n            contentValues.put(\"enddate\", mClassList.getEnddate());\n            contentValues.put(\"qrcode\", mClassList.getQrcode());\n            contentValues.put(\"createdate\", mClassList.getCreatedate());\n            contentValues.put(\"status\", mClassList.getStatus());\n            contentValues.put(\"not_submitted_count\", mClassList.getNot_sub_count());\n            long id = sqLiteDatabase.insert(SQLitHelper.TblClassList, null, contentValues);\n            Logger.debugLog(TAG, \"insertClassList : Sus\");\n            return true;\n        } catch (Exception e) {\n            Logger.debugLog(TAG, \"insertClassList : \" + e.toString());\n        } finally {\n            close();\n        }\n        return false;\n    }\n\n    public ArrayList&lt;MClassList&gt; getClassList() {\n        ArrayList&lt;MClassList&gt; clssArrayList = new ArrayList&lt;&gt;();\n        Cursor cursor = null;\n        try {\n            open();\n            String Query = QueryBuilder.classListQuery();\n            cursor = sqLiteDatabase.rawQuery(Query, null);\n            if (cursor.getColumnCount() &gt; 0) {\n                while (cursor.moveToNext()) {\n                    MClassList mClassList = new MClassList();\n\n                    mClassList.setId(cursor.getInt(cursor.getColumnIndex(\"cid\")));\n                    mClassList.setUid(cursor.getInt(cursor.getColumnIndex(\"uid\")));\n                    mClassList.setTitle(cursor.getString(cursor.getColumnIndex(\"title\")));\n                    mClassList.setColor(cursor.getString(cursor.getColumnIndex(\"color\")));\n                    mClassList.setStartdate(cursor.getString(cursor.getColumnIndex(\"startdate\")));\n                    mClassList.setEnddate(cursor.getString(cursor.getColumnIndex(\"enddate\")));\n                    mClassList.setQrcode(cursor.getString(cursor.getColumnIndex(\"qrcode\")));\n                    mClassList.setCreatedate(cursor.getString(cursor.getColumnIndex(\"createdate\")));\n                    mClassList.setStatus(cursor.getString(cursor.getColumnIndex(\"status\")));\n                    mClassList.setNot_sub_count(cursor.getString(cursor.getColumnIndex(\"not_submitted_count\")));\n\n                    clssArrayList.add(mClassList);\n                }\n            }\n        } catch (Exception e) {\n            Logger.debugLog(TAG, \"getClassList : \" + e.toString());\n        } finally {\n            close();\n            if (cursor != null)\n                if (!cursor.isClosed())\n                    cursor.close();\n        }\n        return clssArrayList;\n    }\n\n    public boolean deleteClassList() {\n        try {\n            open();\n            if (sqLiteDatabase.delete(SQLitHelper.TblClassList, null, null) &gt; 0){\n                return true;\n            }else {\n                return false;\n            }\n\n        } catch (Exception e) {\n            Logger.debugLog(TAG, \"deleteClassList : \" + e.toString());\n        } finally {\n            close();\n        }\n        return false;\n    }\n\n    public boolean deleteStudentList() {\n        try {\n            open();\n            if (sqLiteDatabase.delete(SQLitHelper.TblStudentList, null, null) &gt; 0){\n                return true;\n            }\n            else{\n                return false;\n            }\n\n        } catch (Exception e) {\n            Logger.debugLog(TAG, \"deleteStudentList : \" + e.toString());\n        } finally {\n            close();\n        }\n        return false;\n    }\n\n   public void deleteStudent(int cid,int uid) {\n        try {\n            open();\n            sqLiteDatabase.delete(SQLitHelper.TblStudentList, \"uid=\" + uid + \" AND cid=\" + cid, null);\n        } catch (Exception e) {\n            Logger.debugLog(TAG, \"deleteStudent : \" + e.toString());\n        } finally {\n            close();\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Create class QueryBuilder</strong></p>\n\n<pre><code>public class QueryBuilder {\n\n    public static String teacherABCList(int cid) {\n        Calendar c = Calendar.getInstance();\n        SimpleDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\n        String formatDate = df.format(c.getTime()).toString();\n\n        String Query = \"SELECT * FROM \" + SQLitHelper.TblTeacherHomeworkAll + \" WHERE cid='\" + cid + \"'\" + \" AND duedate&gt;= \" +\"'\"+ formatDate+\"'\" + \" ORDER BY duedate DESC \";\n        return Query;\n    }\n\n==============================\n\n  public static String studentXXXListQuery(int uid,String status) {\n        Calendar c = Calendar.getInstance();\n        SimpleDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\n        String formatDate = df.format(c.getTime()).toString();\n\n\n        String Query = \"SELECT * FROM \" + SQLitHelper.TblStudentHomeworkAll + \" WHERE uid='\" + uid + \"'\" + \" AND status= \" +\"'\"+ status+\"'\"+\" AND isDone='N'\" + \" ORDER BY duedate DESC \";\n        return Query;\n    }\n\n===========================================\n\n public static String studentListQuery(String questionID) {\n        String query = \"SELECT * FROM \" + SQLitHelper.TblStudentCheckAnswer + \" WHERE qid=\" + questionID;\n        return query;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6623035,"reputation":41,"user_id":5114072,"display_name":"brandy embedded"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609318972,"creation_date":1609310417,"answer_id":65503056,"question_id":33149935,"body_markdown":"Here is complete code for SQLite database and basic query.\r\n\r\n```\r\npublic class SqliteHelper extends SQLiteOpenHelper {\r\n\r\n    private SQLiteDatabase db;\r\n    private Context mContext;\r\n\r\n    public static final String DATABASE_NAME = &quot;DemoDB&quot;;\r\n    public static final int DATABASE_VERSION = 1;\r\n    public static final String TABLE_USERS = &quot;users&quot;;\r\n    public static final String USER_ID = &quot;id&quot;;\r\n    public static final String USER_NAME = &quot;username&quot;;\r\n    public static final String USER_EMAIL = &quot;email&quot;;\r\n    public static final String USER_PASSWORD = &quot;password&quot;;\r\n\r\n    public static final String CREATE_QUERY_USER_TABLE = &quot; CREATE TABLE &quot; + TABLE_USERS\r\n            + &quot; ( &quot;\r\n            + USER_ID + &quot; INTEGER PRIMARY KEY, &quot;\r\n            + USER_NAME + &quot; TEXT, &quot;\r\n            + USER_EMAIL + &quot; TEXT, &quot;\r\n            + USER_PASSWORD + &quot; TEXT&quot;\r\n            + &quot; ) &quot;;\r\n\r\n    public SqliteHelper(@Nullable Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        mContext = context;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        db.execSQL(CREATE_QUERY_USER_TABLE);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot; DROP TABLE IF EXISTS &quot; + TABLE_USERS);\r\n    }\r\n\r\n    // Method to openthe Database\r\n    public void openDataBase() throws SQLException {\r\n        db = getWritableDatabase();\r\n    }\r\n\r\n    // Method to close the Database\r\n    public void close() {\r\n        if (db != null &amp;&amp; db.isOpen()) {\r\n            db.close();\r\n        }\r\n    }\r\n\r\n    public boolean isEmailExists(String email) {\r\n        boolean isUserFound = false;\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        Cursor cursor = db.rawQuery(&quot;SELECT * FROM users WHERE email = ?&quot;, new String[]{email.trim()});\r\n        if (cursor != null) {\r\n             if(cursor.getCount() &gt; 0) {\r\n                 isUserFound = true;\r\n             }\r\n            cursor.close();\r\n        }\r\n\r\n         return isUserFound;\r\n    }\r\n\r\n    public void addUser(User user) {\r\n        ContentValues values = new ContentValues();\r\n        values.put(USER_NAME, user.userName);\r\n        values.put(USER_EMAIL, user.email);\r\n        values.put(USER_PASSWORD, user.password);\r\n\r\n        long todo_id = db.insert(TABLE_USERS, null, values);\r\n    }\r\n\r\n    public boolean login(User user) {\r\n        boolean isLogin = false;\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        Cursor cursor = db.rawQuery(&quot;SELECT * FROM users WHERE email = ?&quot;, new String[]{user.email.trim()});\r\n        if (cursor != null) {\r\n            if (cursor.getCount() &gt; 0 &amp;&amp; cursor.moveToFirst()) {\r\n                String pass = cursor.getString(cursor.getColumnIndex(USER_PASSWORD));\r\n                if (pass != null &amp;&amp; user.password.equalsIgnoreCase(pass.trim())) {\r\n                    isLogin = true;\r\n                }\r\n            }\r\n            cursor.close();\r\n        }\r\n        return isLogin;\r\n    }\r\n}\r\n```","title":"How do I use SQLite in android?","body":"<p>Here is complete code for SQLite database and basic query.</p>\n<pre><code>public class SqliteHelper extends SQLiteOpenHelper {\n\n    private SQLiteDatabase db;\n    private Context mContext;\n\n    public static final String DATABASE_NAME = &quot;DemoDB&quot;;\n    public static final int DATABASE_VERSION = 1;\n    public static final String TABLE_USERS = &quot;users&quot;;\n    public static final String USER_ID = &quot;id&quot;;\n    public static final String USER_NAME = &quot;username&quot;;\n    public static final String USER_EMAIL = &quot;email&quot;;\n    public static final String USER_PASSWORD = &quot;password&quot;;\n\n    public static final String CREATE_QUERY_USER_TABLE = &quot; CREATE TABLE &quot; + TABLE_USERS\n            + &quot; ( &quot;\n            + USER_ID + &quot; INTEGER PRIMARY KEY, &quot;\n            + USER_NAME + &quot; TEXT, &quot;\n            + USER_EMAIL + &quot; TEXT, &quot;\n            + USER_PASSWORD + &quot; TEXT&quot;\n            + &quot; ) &quot;;\n\n    public SqliteHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        mContext = context;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(CREATE_QUERY_USER_TABLE);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot; DROP TABLE IF EXISTS &quot; + TABLE_USERS);\n    }\n\n    // Method to openthe Database\n    public void openDataBase() throws SQLException {\n        db = getWritableDatabase();\n    }\n\n    // Method to close the Database\n    public void close() {\n        if (db != null &amp;&amp; db.isOpen()) {\n            db.close();\n        }\n    }\n\n    public boolean isEmailExists(String email) {\n        boolean isUserFound = false;\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(&quot;SELECT * FROM users WHERE email = ?&quot;, new String[]{email.trim()});\n        if (cursor != null) {\n             if(cursor.getCount() &gt; 0) {\n                 isUserFound = true;\n             }\n            cursor.close();\n        }\n\n         return isUserFound;\n    }\n\n    public void addUser(User user) {\n        ContentValues values = new ContentValues();\n        values.put(USER_NAME, user.userName);\n        values.put(USER_EMAIL, user.email);\n        values.put(USER_PASSWORD, user.password);\n\n        long todo_id = db.insert(TABLE_USERS, null, values);\n    }\n\n    public boolean login(User user) {\n        boolean isLogin = false;\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(&quot;SELECT * FROM users WHERE email = ?&quot;, new String[]{user.email.trim()});\n        if (cursor != null) {\n            if (cursor.getCount() &gt; 0 &amp;&amp; cursor.moveToFirst()) {\n                String pass = cursor.getString(cursor.getColumnIndex(USER_PASSWORD));\n                if (pass != null &amp;&amp; user.password.equalsIgnoreCase(pass.trim())) {\n                    isLogin = true;\n                }\n            }\n            cursor.close();\n        }\n        return isLogin;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2237355,"reputation":487,"user_id":2261403,"accept_rate":75,"display_name":"Sven Niehus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8070,"favorite_count":0,"down_vote_count":4,"up_vote_count":6,"accepted_answer_id":33150192,"answer_count":8,"score":2,"last_activity_date":1644499271,"creation_date":1444915875,"question_id":33149935,"body_markdown":"I&#39;ve founde already a few answers to this topic (for example [this][1]), but it is not working. I only get the warning, that it cannot resolve the method &#39;openOrCreateDatabase(java.lang.String, int, null)&#39;. \r\n\r\nHere is my sourcecode:\r\n\r\n    public class DBHandler\r\n    {\r\n        SQLiteDatabase database;\r\n        DBHandler()\r\n        {\r\n            database = openOrCreateDatabase(&quot;DatabaseName&quot;, Context.MODE_PRIVATE, null);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3037767/create-sqlite-database-in-android","title":"How do I use SQLite in android?","body":"<p>I've founde already a few answers to this topic (for example <a href=\"https://stackoverflow.com/questions/3037767/create-sqlite-database-in-android\">this</a>), but it is not working. I only get the warning, that it cannot resolve the method 'openOrCreateDatabase(java.lang.String, int, null)'. </p>\n\n<p>Here is my sourcecode:</p>\n\n<pre><code>public class DBHandler\n{\n    SQLiteDatabase database;\n    DBHandler()\n    {\n        database = openOrCreateDatabase(\"DatabaseName\", Context.MODE_PRIVATE, null);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","docker","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570034044,"creation_date":1570032120,"answer_id":58205224,"question_id":58205141,"body_markdown":"You service is not a &quot;headless&quot; service. Set the IP to None:\r\n\r\n```\r\nspec:\r\n  clusterIP: None\r\n  ports:\r\n   - port: 3306\r\n     targetPort: 3306\r\n```\r\n\r\nhttps://kubernetes.io/docs/concepts/services-networking/service/#headless-services","title":"Cannot connecto to external database from inside kubernetes pod","body":"<p>You service is not a \"headless\" service. Set the IP to None:</p>\n\n<pre><code>spec:\n  clusterIP: None\n  ports:\n   - port: 3306\n     targetPort: 3306\n</code></pre>\n\n<p><a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#headless-services\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/services-networking/service/#headless-services</a></p>\n"},{"tags":[],"owner":{"account_id":16018961,"reputation":12000,"user_id":11560878,"display_name":"WytrzymaÅ‚y Wiktor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570093048,"creation_date":1570093048,"answer_id":58215624,"question_id":58205141,"body_markdown":"If I understand you correctly you need a ExternalName [service type][1].\r\n\r\n\r\n&gt; [ExternalName][2]: Maps the Service to the contents of the\r\n&gt; externalName field (e.g. foo.bar.example.com), by returning a CNAME\r\n&gt; record with its value. No proxying of any kind is set up.\r\n\r\nHere is an example:\r\n```\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: my-service\r\n  namespace: prod\r\nspec:\r\n  type: ExternalName\r\n  externalName: my.database.example.com\r\n```\r\n\r\n&gt; When looking up the host `my-service.prod.svc.cluster.local`, the\r\n&gt; cluster DNS Service returns a CNAME record with the value\r\n&gt; `my.database.example.com`. Accessing my-service works in the same way as\r\n&gt; other Services but with the crucial difference that redirection\r\n&gt; happens at the DNS level rather than via proxying or forwarding.\r\n\r\n\r\nPlease let me know if that helped. \r\n\r\n\r\n  [1]: https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types\r\n  [2]: https://kubernetes.io/docs/concepts/services-networking/service/#externalname","title":"Cannot connecto to external database from inside kubernetes pod","body":"<p>If I understand you correctly you need a ExternalName <a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types\" rel=\"nofollow noreferrer\">service type</a>.</p>\n\n<blockquote>\n  <p><a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#externalname\" rel=\"nofollow noreferrer\">ExternalName</a>: Maps the Service to the contents of the\n  externalName field (e.g. foo.bar.example.com), by returning a CNAME\n  record with its value. No proxying of any kind is set up.</p>\n</blockquote>\n\n<p>Here is an example:</p>\n\n<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: my-service\n  namespace: prod\nspec:\n  type: ExternalName\n  externalName: my.database.example.com\n</code></pre>\n\n<blockquote>\n  <p>When looking up the host <code>my-service.prod.svc.cluster.local</code>, the\n  cluster DNS Service returns a CNAME record with the value\n  <code>my.database.example.com</code>. Accessing my-service works in the same way as\n  other Services but with the crucial difference that redirection\n  happens at the DNS level rather than via proxying or forwarding.</p>\n</blockquote>\n\n<p>Please let me know if that helped. </p>\n"},{"tags":[],"owner":{"account_id":9631462,"reputation":77,"user_id":7149177,"accept_rate":100,"display_name":"Anthony"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570202890,"creation_date":1570202890,"answer_id":58239353,"question_id":58205141,"body_markdown":"After hours of digging and reconfiguring, I finally get it to work, thanks to Xenwar from kubernetes group for pointing out the externalIP property, it turns out that i need to point my app to an external ip, in this case the database, here is the service object:\r\n\r\n```\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: db-con\r\nspec:\r\n  selector:\r\n    app: api2\r\n  ports:\r\n    - name: http\r\n      protocol: TCP\r\n      port: 3306\r\n      targetPort: 3306\r\n  externalIPs:\r\n    - 10.0.123.28","title":"Cannot connecto to external database from inside kubernetes pod","body":"<p>After hours of digging and reconfiguring, I finally get it to work, thanks to Xenwar from kubernetes group for pointing out the externalIP property, it turns out that i need to point my app to an external ip, in this case the database, here is the service object:</p>\n\n<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: db-con\nspec:\n  selector:\n    app: api2\n  ports:\n    - name: http\n      protocol: TCP\n      port: 3306\n      targetPort: 3306\n  externalIPs:\n    - 10.0.123.28\n</code></pre>\n"}],"owner":{"account_id":9631462,"reputation":77,"user_id":7149177,"accept_rate":100,"display_name":"Anthony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8738,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1644499183,"creation_date":1570031813,"question_id":58205141,"body_markdown":"I am trying to connect my spring-boot api inside a kubernetes pod to an external database (a separate machine but within the local network), however when running, I get SQLNonTransientConnectionException, UknownHostException: mysql-svc, the api cannot connect to the database but whenever I ping the database address from inside the pod using kubectl exec -it, I can ping it successfully, anybody who has experienced the same error as mine?\r\n\r\nhere is my application.properties connection uri and kubernetes objects:\r\n```\r\nspring.datasource.url=jdbc:mysql://mysql-svc/test?autoReconnect=true\r\n\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n name: mysql-svc\r\nspec:\r\n type: ClusterIP\r\n ports:\r\n - port: 3306\r\n   targetPort: 3306\r\n---\r\napiVersion: v1\r\nkind: Endpoints\r\nmetadata:\r\n name: mysql-svc\r\nsubsets:\r\n - addresses:\r\n   - ip: 10.0.123.28\r\n   ports:\r\n   - port: 3306\r\n     name: mysql-svc\r\n```","title":"Cannot connecto to external database from inside kubernetes pod","body":"<p>I am trying to connect my spring-boot api inside a kubernetes pod to an external database (a separate machine but within the local network), however when running, I get SQLNonTransientConnectionException, UknownHostException: mysql-svc, the api cannot connect to the database but whenever I ping the database address from inside the pod using kubectl exec -it, I can ping it successfully, anybody who has experienced the same error as mine?</p>\n\n<p>here is my application.properties connection uri and kubernetes objects:</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://mysql-svc/test?autoReconnect=true\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n name: mysql-svc\nspec:\n type: ClusterIP\n ports:\n - port: 3306\n   targetPort: 3306\n---\napiVersion: v1\nkind: Endpoints\nmetadata:\n name: mysql-svc\nsubsets:\n - addresses:\n   - ip: 10.0.123.28\n   ports:\n   - port: 3306\n     name: mysql-svc\n</code></pre>\n"},{"tags":["java","arrays","data-structures","linked-list","doubly-linked-list"],"comments":[{"owner":{"account_id":9293314,"reputation":2267,"user_id":6901081,"display_name":"jsotola"},"score":0,"creation_date":1644474669,"post_id":71060665,"comment_id":125617769,"body_markdown":"try posting at https://codereview.stackexchange.com/","body":"try posting at <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1644475722,"post_id":71060665,"comment_id":125618008,"body_markdown":"How long does this take to run when you run it locally?","body":"How long does this take to run when you run it locally?"},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1644480676,"post_id":71060665,"comment_id":125619444,"body_markdown":"For completeness sake, you should add the `Node` class definition (although probably our guesses about its content might be correct). And a desrciption of your algorithm would be helpful, as your abbreviated variable naming degrades code readability.","body":"For completeness sake, you should add the <code>Node</code> class definition (although probably our guesses about its content might be correct). And a desrciption of your algorithm would be helpful, as your abbreviated variable naming degrades code readability."},{"owner":{"account_id":16927789,"reputation":1,"user_id":17071653,"display_name":"Adarsh Goutam"},"score":0,"creation_date":1644562078,"post_id":71060665,"comment_id":125644260,"body_markdown":"for size 4 for it takes 18900 nano sec","body":"for size 4 for it takes 18900 nano sec"}],"answers":[{"tags":[],"owner":{"account_id":6044318,"reputation":1,"user_id":5726303,"display_name":"harj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644475544,"creation_date":1644475544,"answer_id":71060818,"question_id":71060665,"body_markdown":"this is classic solution for O(N) time, so I guess time constraint for this task is required to. solve it for O(1).\r\nTake a look for this thread: https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://discuss.codechef.com/t/reverse-a-doubly-linked-list-in-o-1/72850&amp;ved=2ahUKEwjipdrQw_T1AhVYLTQIHahIDx8QFnoECBQQAQ&amp;usg=AOvVaw1c0BDUotM0suEK7I4B9pQs","title":"Program took more time than expected error","body":"<p>this is classic solution for O(N) time, so I guess time constraint for this task is required to. solve it for O(1).\nTake a look for this thread: <a href=\"https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://discuss.codechef.com/t/reverse-a-doubly-linked-list-in-o-1/72850&amp;ved=2ahUKEwjipdrQw_T1AhVYLTQIHahIDx8QFnoECBQQAQ&amp;usg=AOvVaw1c0BDUotM0suEK7I4B9pQs\" rel=\"nofollow noreferrer\">https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://discuss.codechef.com/t/reverse-a-doubly-linked-list-in-o-1/72850&amp;ved=2ahUKEwjipdrQw_T1AhVYLTQIHahIDx8QFnoECBQQAQ&amp;usg=AOvVaw1c0BDUotM0suEK7I4B9pQs</a></p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644478903,"creation_date":1644478903,"answer_id":71061357,"question_id":71060665,"body_markdown":"Your code is not correct:\r\n\r\nThe `prev` member of the (original) tail node is not set correctly. It is not set in the `if` block, but in the previous iteration, where it got its value with `cur.next.prev=p`, which is setting it to the (original) head node. This creates an infinite loop in the data structure. In the end, none of the `prev` links is `null`. It might be that the testing framework keeps following those `prev` links in circles until a time out happens.\r\n\r\nAlso, the function assumes that `head` is not `null`. This may not be guaranteed.\r\n\r\nThere are also too many assignments happening. With a doubly linked list it is quite simple: just swap the value of `next` and `prev` in every node:\r\n\r\n```\r\npublic static Node reverseDLL(Node  head)\r\n{\r\n    if (head == null) {\r\n        return null;\r\n    }\r\n    Node next = head.next;\r\n    while (next != null) {\r\n        head.next = head.prev;\r\n        head.prev = next;\r\n        head = next;\r\n        next = head.next;\r\n    }\r\n    head.next = head.prev;\r\n    head.prev = null;\r\n    return head;\r\n}\r\n```","title":"Program took more time than expected error","body":"<p>Your code is not correct:</p>\n<p>The <code>prev</code> member of the (original) tail node is not set correctly. It is not set in the <code>if</code> block, but in the previous iteration, where it got its value with <code>cur.next.prev=p</code>, which is setting it to the (original) head node. This creates an infinite loop in the data structure. In the end, none of the <code>prev</code> links is <code>null</code>. It might be that the testing framework keeps following those <code>prev</code> links in circles until a time out happens.</p>\n<p>Also, the function assumes that <code>head</code> is not <code>null</code>. This may not be guaranteed.</p>\n<p>There are also too many assignments happening. With a doubly linked list it is quite simple: just swap the value of <code>next</code> and <code>prev</code> in every node:</p>\n<pre><code>public static Node reverseDLL(Node  head)\n{\n    if (head == null) {\n        return null;\n    }\n    Node next = head.next;\n    while (next != null) {\n        head.next = head.prev;\n        head.prev = next;\n        head = next;\n        next = head.next;\n    }\n    head.next = head.prev;\n    head.prev = null;\n    return head;\n}\n</code></pre>\n"}],"owner":{"account_id":16927789,"reputation":1,"user_id":17071653,"display_name":"Adarsh Goutam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1644499024,"creation_date":1644474491,"question_id":71060665,"body_markdown":"Below is a program to reverse a doubly linked list in gfg.\r\n\r\nWhen I try to submit, I get the following error\r\n\r\n&gt; Your program took more time than expected. Time Limit Exceeded\r\nExpected Time Limit 0.00sec. \r\n\r\nCan anyone tell me how to decrease my program&#39;s time?\r\n\r\n**Code**\r\n\r\n    public static Node reverseDLL(Node  head)\r\n    {\r\n       Node p,cur;\r\n       p=head;\r\n       cur=head.next;\r\n   \r\n       while(cur!=null)\r\n       {\r\n           if(cur.next==null)\r\n           {\r\n               p.next=cur.next;\r\n               cur.next=head;\r\n               head.prev=cur;\r\n           \r\n               head=cur;\r\n               break;\r\n           }\r\n       \r\n           p.next=cur.next;\r\n           cur.next.prev=p;\r\n       \r\n           cur.next=head;\r\n           head.prev=cur;\r\n       \r\n           head=cur;\r\n           cur=p.next;\r\n       }\r\n       return head;\r\n   \r\n    }\r\n","title":"Program took more time than expected error","body":"<p>Below is a program to reverse a doubly linked list in gfg.</p>\n<p>When I try to submit, I get the following error</p>\n<blockquote>\n<p>Your program took more time than expected. Time Limit Exceeded\nExpected Time Limit 0.00sec.</p>\n</blockquote>\n<p>Can anyone tell me how to decrease my program's time?</p>\n<p><strong>Code</strong></p>\n<pre><code>public static Node reverseDLL(Node  head)\n{\n   Node p,cur;\n   p=head;\n   cur=head.next;\n\n   while(cur!=null)\n   {\n       if(cur.next==null)\n       {\n           p.next=cur.next;\n           cur.next=head;\n           head.prev=cur;\n       \n           head=cur;\n           break;\n       }\n   \n       p.next=cur.next;\n       cur.next.prev=p;\n   \n       cur.next=head;\n       head.prev=cur;\n   \n       head=cur;\n       cur=p.next;\n   }\n   return head;\n\n}\n</code></pre>\n"},{"tags":["java","reference","thread-safety","runnable"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1644422303,"post_id":71052764,"comment_id":125603713,"body_markdown":"The `_i1` and `_i2` variables inside `Swapper` are not the same variables as the `_i1` and `_i2` variables inside `main`. Reassigning the swapper ones does not affect the main ones.","body":"The <code>_i1</code> and <code>_i2</code> variables inside <code>Swapper</code> are not the same variables as the <code>_i1</code> and <code>_i2</code> variables inside <code>main</code>. Reassigning the swapper ones does not affect the main ones."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1644422435,"post_id":71052764,"comment_id":125603779,"body_markdown":"Since you&#39;re using mutable objects (StringBuffers), you could alter the contents of the two buffers instead of just reassigning the variables. That is presumably what you are supposed to do for this exercise.","body":"Since you&#39;re using mutable objects (StringBuffers), you could alter the contents of the two buffers instead of just reassigning the variables. That is presumably what you are supposed to do for this exercise."}],"answers":[{"tags":[],"owner":{"account_id":24090824,"reputation":11,"user_id":18162693,"display_name":"Kyu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644425233,"creation_date":1644422784,"answer_id":71052923,"question_id":71052764,"body_markdown":"Your logic is correct however there is an error in the scope.\r\nThere are `_i1` &amp; `_i2` in both `main(){}` scope and `Swapper{}` scope.\r\n\r\nThe changed values of `_i1` &amp; `_i2` in main scope are not assigned from the calculations.\r\nInstead, try printing the values under `Swapper` class, after swapping the variables.","title":"Calling a method of Runnable object doesn&#39;t affect objects outside of it JAVA","body":"<p>Your logic is correct however there is an error in the scope.\nThere are <code>_i1</code> &amp; <code>_i2</code> in both <code>main(){}</code> scope and <code>Swapper{}</code> scope.</p>\n<p>The changed values of <code>_i1</code> &amp; <code>_i2</code> in main scope are not assigned from the calculations.\nInstead, try printing the values under <code>Swapper</code> class, after swapping the variables.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644432913,"creation_date":1644424488,"answer_id":71053333,"question_id":71052764,"body_markdown":"Firstly, I encourage you to get familiar with a [naming convention](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html), use **only camel-case**, no `_i1` or anything along these lines.\r\n\r\nThe reason why your code isn&#39;t working is because you are confusing an **object** and a **reference to the object**. \r\n\r\nYou have two reference variables inside the `main()` method, and  two reference variables in the `Swapper`. Since in the method `run()` you are juggling with references but not changing the objects, the reference variables in `main()` stay unaffected because they still point to the same objects.\r\n\r\nTo change `i1` and `i2` you need to **change the objects** they are pointing to.\r\n\r\n**Side notes:**\r\n* The generic parameter `&lt;Static&gt;` is unused in your code and its name doesn&#39;t make any sense (it the same as `Swapper&lt;T&gt;` where `&lt;T&gt;` is just a placeholder for a type);\r\n* don&#39;t synchronize your code against references that are being changed.\r\n```\r\npublic static void main(String[] args) throws InterruptedException {\r\n    StringBuffer i1 = new StringBuffer(&quot;1&quot;);\r\n    StringBuffer i2 = new StringBuffer(&quot;2&quot;);\r\n\r\n    Thread t = new Thread(new Swapper(i1, i2));\r\n    System.out.println(i1 + &quot;, &quot; + i2);\r\n    t.start();\r\n    t.join();\r\n    System.out.println(i1 + &quot;, &quot; + i2);\r\n}\r\n\r\nclass Swapper implements  Runnable {\r\n    private final StringBuffer i1;\r\n    private final StringBuffer i2;\r\n\r\n    Swapper(StringBuffer i1, StringBuffer i2) {\r\n        this.i1 = i1;\r\n        this.i2 = i2;\r\n    }\r\n\r\n    public void run(){\r\n        synchronized (i1){\r\n            try {\r\n                Thread.sleep(50);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            synchronized (i2){\r\n                StringBuffer tmp = new StringBuffer(i1);\r\n                i1.replace(0, i1.length(), i2.toString());\r\n                i2.replace(0, i2.length(), tmp.toString());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nOutput:\r\n```none\r\n1, 2\r\n2, 1\r\n```","title":"Calling a method of Runnable object doesn&#39;t affect objects outside of it JAVA","body":"<p>Firstly, I encourage you to get familiar with a <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming convention</a>, use <strong>only camel-case</strong>, no <code>_i1</code> or anything along these lines.</p>\n<p>The reason why your code isn't working is because you are confusing an <strong>object</strong> and a <strong>reference to the object</strong>.</p>\n<p>You have two reference variables inside the <code>main()</code> method, and  two reference variables in the <code>Swapper</code>. Since in the method <code>run()</code> you are juggling with references but not changing the objects, the reference variables in <code>main()</code> stay unaffected because they still point to the same objects.</p>\n<p>To change <code>i1</code> and <code>i2</code> you need to <strong>change the objects</strong> they are pointing to.</p>\n<p><strong>Side notes:</strong></p>\n<ul>\n<li>The generic parameter <code>&lt;Static&gt;</code> is unused in your code and its name doesn't make any sense (it the same as <code>Swapper&lt;T&gt;</code> where <code>&lt;T&gt;</code> is just a placeholder for a type);</li>\n<li>don't synchronize your code against references that are being changed.</li>\n</ul>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    StringBuffer i1 = new StringBuffer(&quot;1&quot;);\n    StringBuffer i2 = new StringBuffer(&quot;2&quot;);\n\n    Thread t = new Thread(new Swapper(i1, i2));\n    System.out.println(i1 + &quot;, &quot; + i2);\n    t.start();\n    t.join();\n    System.out.println(i1 + &quot;, &quot; + i2);\n}\n\nclass Swapper implements  Runnable {\n    private final StringBuffer i1;\n    private final StringBuffer i2;\n\n    Swapper(StringBuffer i1, StringBuffer i2) {\n        this.i1 = i1;\n        this.i2 = i2;\n    }\n\n    public void run(){\n        synchronized (i1){\n            try {\n                Thread.sleep(50);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            synchronized (i2){\n                StringBuffer tmp = new StringBuffer(i1);\n                i1.replace(0, i1.length(), i2.toString());\n                i2.replace(0, i2.length(), tmp.toString());\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1, 2\n2, 1\n</code></pre>\n"}],"owner":{"account_id":21297174,"reputation":19,"user_id":16187552,"display_name":"Aaron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1644499008,"creation_date":1644422204,"question_id":71052764,"body_markdown":"Given the code bellow, I Create two objects and ask the Swapper to swap between them.\r\nTherefore the outcome should look like this:\r\n\r\n    1, 2\r\n    2, 1\r\n\r\nbut it appears to not work, and the outcome is two lines of &quot;1,2&quot;.\r\n\r\nThe example we were given did swap between them, with the only difference of using an object that has a &quot;get, set&quot; function for the data inside it.\r\n\r\nIs this not working because of the &quot;set, get&quot; functions not present, or would this not work either way?\r\n\r\n     public static void main(String[] args) throws InterruptedException {\r\n        StringBuffer _i1 , _i2;\r\n        _i1 = new StringBuffer(&quot;1&quot;);\r\n        _i2 = new StringBuffer(&quot;2&quot;);\r\n        Thread t = new Thread(new Swapper(_i1, _i2));\r\n        System.out.println(_i1 + &quot;, &quot; + _i2);\r\n        System.out.println(_i1 + &quot;, &quot; + _i2);\r\n        t.start();\r\n        t.join();\r\n        System.out.println(_i1 + &quot;, &quot; + _i2);\r\n       }\r\n    }\r\n    class Swapper&lt;Static&gt; implements  Runnable {\r\n    StringBuffer _i1 , _i2;\r\n    Swapper(StringBuffer i1, StringBuffer i2) { _i1 = i1; _i2=i2;}\r\n    public void run(){\r\n        synchronized (_i1){\r\n            try {\r\n                Thread.sleep(50);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            synchronized (_i2){\r\n                StringBuffer tmp = _i1;\r\n                _i1 = _i2;\r\n                _i2 = tmp;\r\n            }\r\n        }\r\n    }","title":"Calling a method of Runnable object doesn&#39;t affect objects outside of it JAVA","body":"<p>Given the code bellow, I Create two objects and ask the Swapper to swap between them.\nTherefore the outcome should look like this:</p>\n<pre><code>1, 2\n2, 1\n</code></pre>\n<p>but it appears to not work, and the outcome is two lines of &quot;1,2&quot;.</p>\n<p>The example we were given did swap between them, with the only difference of using an object that has a &quot;get, set&quot; function for the data inside it.</p>\n<p>Is this not working because of the &quot;set, get&quot; functions not present, or would this not work either way?</p>\n<pre><code> public static void main(String[] args) throws InterruptedException {\n    StringBuffer _i1 , _i2;\n    _i1 = new StringBuffer(&quot;1&quot;);\n    _i2 = new StringBuffer(&quot;2&quot;);\n    Thread t = new Thread(new Swapper(_i1, _i2));\n    System.out.println(_i1 + &quot;, &quot; + _i2);\n    System.out.println(_i1 + &quot;, &quot; + _i2);\n    t.start();\n    t.join();\n    System.out.println(_i1 + &quot;, &quot; + _i2);\n   }\n}\nclass Swapper&lt;Static&gt; implements  Runnable {\nStringBuffer _i1 , _i2;\nSwapper(StringBuffer i1, StringBuffer i2) { _i1 = i1; _i2=i2;}\npublic void run(){\n    synchronized (_i1){\n        try {\n            Thread.sleep(50);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        synchronized (_i2){\n            StringBuffer tmp = _i1;\n            _i1 = _i2;\n            _i2 = tmp;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","android","react-native","module"],"answers":[{"tags":[],"owner":{"account_id":10474596,"reputation":1169,"user_id":7721497,"display_name":"sidverma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644476567,"creation_date":1644476567,"answer_id":71060975,"question_id":71060886,"body_markdown":"This can be due to multiple things going wrong into code. Some areas which needs to look are:\r\n\r\n- use `boolean` instead of `Boolean` in your Java code.\r\n- try checking if your `getIntent()` function is not returning `null` intent , just before receiving intent from bundle.\r\n- You are trying to check `Boolean` with `null` , that&#39;s why it&#39;s throwing `java.lang.Boolean` on a null object reference.","title":"How can I pass null from react native to java when I develop a module","body":"<p>This can be due to multiple things going wrong into code. Some areas which needs to look are:</p>\n<ul>\n<li>use <code>boolean</code> instead of <code>Boolean</code> in your Java code.</li>\n<li>try checking if your <code>getIntent()</code> function is not returning <code>null</code> intent , just before receiving intent from bundle.</li>\n<li>You are trying to check <code>Boolean</code> with <code>null</code> , that's why it's throwing <code>java.lang.Boolean</code> on a null object reference.</li>\n</ul>\n"}],"owner":{"account_id":21069454,"reputation":143,"user_id":15485996,"display_name":"I2mNew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644498930,"creation_date":1644475991,"question_id":71060886,"body_markdown":"I&#39;m developing a native module for Android in React Native. I have two method with the same name but I can&#39;t use them in React Native because Java Script has not overloading directly. So I write a function which can get null as a paramater in React Native and try to handle it in Java.\r\n\r\nReact Native side:\r\n\r\n        function a(arg=null){\r\n           moduleName.b(arg)\r\n        }\r\nJava side:\r\n\r\n    public void b(@Nullable Boolean arg, final Promise promise){\r\n      if(arg == null){\r\n        c()\r\n      }else{\r\n        c(arg)\r\n      }\r\n    }\r\nThen I have not problem when I pass true or false to function a but when I pass nothing to funtion a I get an error on my phone like that:\r\n\r\n[![error][1]][1]\r\n\r\nWhat is the problem?\r\n\r\n  [1]: https://i.stack.imgur.com/mBGd7.png","title":"How can I pass null from react native to java when I develop a module","body":"<p>I'm developing a native module for Android in React Native. I have two method with the same name but I can't use them in React Native because Java Script has not overloading directly. So I write a function which can get null as a paramater in React Native and try to handle it in Java.</p>\n<p>React Native side:</p>\n<pre><code>    function a(arg=null){\n       moduleName.b(arg)\n    }\n</code></pre>\n<p>Java side:</p>\n<pre><code>public void b(@Nullable Boolean arg, final Promise promise){\n  if(arg == null){\n    c()\n  }else{\n    c(arg)\n  }\n}\n</code></pre>\n<p>Then I have not problem when I pass true or false to function a but when I pass nothing to funtion a I get an error on my phone like that:</p>\n<p><a href=\"https://i.stack.imgur.com/mBGd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mBGd7.png\" alt=\"error\" /></a></p>\n<p>What is the problem?</p>\n"},{"tags":["java","android","firebase-realtime-database","admob","firebaseui"],"comments":[{"owner":{"account_id":11454040,"reputation":1228,"user_id":8395653,"display_name":"Vishal Nagvadiya"},"score":0,"creation_date":1591155419,"post_id":62149731,"comment_id":109944900,"body_markdown":"https://codelabs.developers.google.com/codelabs/admob-native-advanced-feed-android/  chek this you can use native ads for put ads in Recycler view","body":"<a href=\"https://codelabs.developers.google.com/codelabs/admob-native-advanced-feed-android/\" rel=\"nofollow noreferrer\">codelabs.developers.google.com/codelabs/&hellip;</a>  chek this you can use native ads for put ads in Recycler view"},{"owner":{"account_id":15989183,"reputation":11,"user_id":11538798,"display_name":"Kishan Nath"},"score":0,"creation_date":1591161978,"post_id":62149731,"comment_id":109946533,"body_markdown":"can you explain ?","body":"can you explain ?"}],"owner":{"account_id":15989183,"reputation":11,"user_id":11538798,"display_name":"Kishan Nath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644498614,"creation_date":1591092981,"question_id":62149731,"body_markdown":"I am working on an android app where I am showing some text coming through the firebase database, now I want to show AdMob Banner AD after 5 CardView in the RecyclarView but I am not understand how to do that because I am beginner in Java and Android Programming language. Can anyone help me to do this implementation.\r\n\r\n**MY JAVA CODE**\r\n\r\n**POJO CLASS**\r\n\r\n```public class Model {\r\n\r\n    private String shaData;\r\n\r\n    public Model(){\r\n\r\n    }\r\n\r\n    public Model(String sha) {\r\n        this.shaData = sha;\r\n    }\r\n\r\n    public String getShaData() {\r\n        return shaData;\r\n    }\r\n\r\n    public void setShaData(String shaData) {\r\n        this.shaData = shaData;\r\n    }\r\n}\r\n```\r\n**MY VIEW HOLDER CLASS**\r\n\r\n```\r\npublic class Holder extends RecyclerView.ViewHolder{\r\n\r\n    public TextView txtShayari;\r\n    public Button copyButton, shareButton, whatsappButton;\r\n\r\n    public Holder(@NonNull View itemView) {\r\n        super(itemView);\r\n\r\n        txtShayari = (TextView)itemView.findViewById(R.id.textView);\r\n        copyButton = (Button) itemView.findViewById(R.id.copyBtn);\r\n        shareButton = (Button) itemView.findViewById(R.id.shBtn);\r\n        whatsappButton = (Button) itemView.findViewById(R.id.waBtn);\r\n    }\r\n}\r\n```\r\n**MY MAIN ACTIVITY**\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    ProgressBar progressBar;\r\n    ImageView imageView;\r\n    FirebaseRecyclerAdapter&lt;Model, Holder&gt; recyclerAdapter;\r\n    RecyclerView.LayoutManager layoutManager;\r\n    FirebaseDatabase database;\r\n    DatabaseReference databaseReference;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        database = FirebaseDatabase.getInstance();\r\n        databaseReference = database.getReference(&quot;MyQuotes&quot;);\r\n\r\n        recyclerView = (RecyclerView)findViewById(R.id.recyclerView);\r\n        recyclerView.setHasFixedSize(true);\r\n        layoutManager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n\r\n        progressBar = findViewById(R.id.progress);\r\n\r\n        loadData();\r\n    }\r\n\r\n    private void loadData()\r\n    {\r\n        FirebaseRecyclerOptions options =\r\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\r\n                        .setQuery(databaseReference,Model.class)\r\n                        .build();\r\n\r\n        recyclerAdapter = new FirebaseRecyclerAdapter&lt;Model, Holder&gt;(options) {\r\n\r\n            int AD_TYPE = 0;\r\n            int CONTENT_TYPE = 1;\r\n\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull final Holder holder, int position, @NonNull final Model model) {\r\n\r\n                holder.txtShayari.setText(model.getShaData());\r\n                progressBar.setVisibility(View.GONE);\r\n\r\n                holder.copyButton.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n\r\n                        ClipboardManager clipboard = (ClipboardManager)holder.itemView.getContext().getSystemService(CLIPBOARD_SERVICE);\r\n                        ClipData clip = ClipData.newPlainText(Intent.EXTRA_TEXT, model.getShaData());\r\n                        clipboard.setPrimaryClip(clip);\r\n\r\n                        Toast.makeText(holder.itemView.getContext(), &quot;Shayari Copied&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n                holder.whatsappButton.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n\r\n                        Intent whatsappIntent = new Intent(Intent.ACTION_SEND);\r\n                        whatsappIntent.setType(&quot;text/plain&quot;);\r\n                        whatsappIntent.setPackage(&quot;com.whatsapp&quot;);\r\n                        whatsappIntent.putExtra(Intent.EXTRA_TEXT, model.getShaData());\r\n                        try {\r\n                            holder.itemView.getContext().startActivity(whatsappIntent);\r\n                        } catch (android.content.ActivityNotFoundException ex) {\r\n                            Toast.makeText(holder.itemView.getContext(), &quot;Whatsapp have not been installed&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                holder.shareButton.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n\r\n                        Intent intent = new Intent();\r\n                        intent .setAction(Intent.ACTION_SEND);\r\n                        intent.putExtra(Intent.EXTRA_TEXT, model.getShaData());\r\n                        intent.setType(&quot;text/plain&quot;);\r\n                        intent = Intent.createChooser(intent, &quot;Share With&quot;);\r\n                        holder.itemView.getContext().startActivity(intent);\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public Holder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\r\n                View view = LayoutInflater.from(viewGroup.getContext())\r\n                        .inflate(R.layout.item_view,viewGroup,false);\r\n                return new Holder(view);\r\n            }\r\n        };\r\n        recyclerAdapter.notifyDataSetChanged();\r\n        recyclerAdapter.startListening();\r\n        recyclerView.setAdapter(recyclerAdapter);\r\n    }\r\n\r\n}\r\n```\r\nThis is my whole code too fetch text data from the Firebase server and it is working very well, Simply now I am want too show AdMob banner ads after 5 cardviews on the recyclarview, So please anyone guide me.","title":"How to add AdMob Banner AD in RecyclarView after 5 or 10 CardView using FirebaseRecyclerAdapter","body":"<p>I am working on an android app where I am showing some text coming through the firebase database, now I want to show AdMob Banner AD after 5 CardView in the RecyclarView but I am not understand how to do that because I am beginner in Java and Android Programming language. Can anyone help me to do this implementation.</p>\n\n<p><strong>MY JAVA CODE</strong></p>\n\n<p><strong>POJO CLASS</strong></p>\n\n<pre><code>\n    private String shaData;\n\n    public Model(){\n\n    }\n\n    public Model(String sha) {\n        this.shaData = sha;\n    }\n\n    public String getShaData() {\n        return shaData;\n    }\n\n    public void setShaData(String shaData) {\n        this.shaData = shaData;\n    }\n}\n</code></pre>\n\n<p><strong>MY VIEW HOLDER CLASS</strong></p>\n\n<pre><code>public class Holder extends RecyclerView.ViewHolder{\n\n    public TextView txtShayari;\n    public Button copyButton, shareButton, whatsappButton;\n\n    public Holder(@NonNull View itemView) {\n        super(itemView);\n\n        txtShayari = (TextView)itemView.findViewById(R.id.textView);\n        copyButton = (Button) itemView.findViewById(R.id.copyBtn);\n        shareButton = (Button) itemView.findViewById(R.id.shBtn);\n        whatsappButton = (Button) itemView.findViewById(R.id.waBtn);\n    }\n}\n</code></pre>\n\n<p><strong>MY MAIN ACTIVITY</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    ProgressBar progressBar;\n    ImageView imageView;\n    FirebaseRecyclerAdapter&lt;Model, Holder&gt; recyclerAdapter;\n    RecyclerView.LayoutManager layoutManager;\n    FirebaseDatabase database;\n    DatabaseReference databaseReference;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        database = FirebaseDatabase.getInstance();\n        databaseReference = database.getReference(\"MyQuotes\");\n\n        recyclerView = (RecyclerView)findViewById(R.id.recyclerView);\n        recyclerView.setHasFixedSize(true);\n        layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);\n\n        progressBar = findViewById(R.id.progress);\n\n        loadData();\n    }\n\n    private void loadData()\n    {\n        FirebaseRecyclerOptions options =\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\n                        .setQuery(databaseReference,Model.class)\n                        .build();\n\n        recyclerAdapter = new FirebaseRecyclerAdapter&lt;Model, Holder&gt;(options) {\n\n            int AD_TYPE = 0;\n            int CONTENT_TYPE = 1;\n\n            @Override\n            protected void onBindViewHolder(@NonNull final Holder holder, int position, @NonNull final Model model) {\n\n                holder.txtShayari.setText(model.getShaData());\n                progressBar.setVisibility(View.GONE);\n\n                holder.copyButton.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n\n                        ClipboardManager clipboard = (ClipboardManager)holder.itemView.getContext().getSystemService(CLIPBOARD_SERVICE);\n                        ClipData clip = ClipData.newPlainText(Intent.EXTRA_TEXT, model.getShaData());\n                        clipboard.setPrimaryClip(clip);\n\n                        Toast.makeText(holder.itemView.getContext(), \"Shayari Copied\", Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n                holder.whatsappButton.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n\n                        Intent whatsappIntent = new Intent(Intent.ACTION_SEND);\n                        whatsappIntent.setType(\"text/plain\");\n                        whatsappIntent.setPackage(\"com.whatsapp\");\n                        whatsappIntent.putExtra(Intent.EXTRA_TEXT, model.getShaData());\n                        try {\n                            holder.itemView.getContext().startActivity(whatsappIntent);\n                        } catch (android.content.ActivityNotFoundException ex) {\n                            Toast.makeText(holder.itemView.getContext(), \"Whatsapp have not been installed\", Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n\n                holder.shareButton.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n\n                        Intent intent = new Intent();\n                        intent .setAction(Intent.ACTION_SEND);\n                        intent.putExtra(Intent.EXTRA_TEXT, model.getShaData());\n                        intent.setType(\"text/plain\");\n                        intent = Intent.createChooser(intent, \"Share With\");\n                        holder.itemView.getContext().startActivity(intent);\n                    }\n                });\n\n            }\n\n            @NonNull\n            @Override\n            public Holder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\n                View view = LayoutInflater.from(viewGroup.getContext())\n                        .inflate(R.layout.item_view,viewGroup,false);\n                return new Holder(view);\n            }\n        };\n        recyclerAdapter.notifyDataSetChanged();\n        recyclerAdapter.startListening();\n        recyclerView.setAdapter(recyclerAdapter);\n    }\n\n}\n</code></pre>\n\n<p>This is my whole code too fetch text data from the Firebase server and it is working very well, Simply now I am want too show AdMob banner ads after 5 cardviews on the recyclarview, So please anyone guide me.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":24215340,"reputation":1,"user_id":18171314,"display_name":"james"},"score":0,"creation_date":1644498419,"post_id":71065624,"comment_id":125626136,"body_markdown":"i try this code\n\n&lt;favorites xmlns:launcher=&quot;http://schemas.android.com/apk/res-auto/com.android.launcher3&quot;&gt;\n\n    &lt;!-- Hotseat --&gt;\n    &lt;include launcher:workspace=&quot;@xml/dw_tablet_hotseat&quot; /&gt;\n\n    &lt;!-- Bottom row --&gt;\n\n    &lt;AnalogClock\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n            launcher:screen=&quot;0&quot;\n            launcher:x=&quot;0&quot;\n            launcher:y=&quot;-1&quot;\n    /&gt;\n    &lt;com.android.launcher3.ClockWidget\n&lt;/favorites&gt;","body":"i try this code  &lt;favorites xmlns:launcher=&quot;<a href=\"http://schemas.android.com/apk/res-auto/com.android.launcher3\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res-auto/com.android&zwnj;&#8203;.launcher3</a>&quot;&gt;      &lt;!-- Hotseat --&gt;     &lt;include launcher:workspace=&quot;@xml/dw_tablet_hotseat&quot; /&gt;      &lt;!-- Bottom row --&gt;      &lt;AnalogClock xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;             xmlns:tools=&quot;<a href=\"http://schemas.android.com/tools\" rel=\"nofollow noreferrer\">schemas.android.com/tools</a>&quot;             launcher:screen=&quot;0&quot;             launcher:x=&quot;0&quot;             launcher:y=&quot;-1&quot;     /&gt;     &lt;com.android.launcher3.ClockWidget &lt;/favorites&gt;"},{"owner":{"account_id":19087570,"reputation":780,"user_id":13938503,"display_name":"Anurag Sharma"},"score":0,"creation_date":1645421824,"post_id":71065624,"comment_id":125858202,"body_markdown":"Welcome to stackoverflow. Please check (https://stackoverflow.com/help/how-to-ask)how to ask a good question. you should include what have you trid in your question itself","body":"Welcome to stackoverflow. Please check (<a href=\"https://stackoverflow.com/help/how-to-ask)how\">stackoverflow.com/help/how-to-ask)how</a> to ask a good question. you should include what have you trid in your question itself"}],"owner":{"account_id":24215340,"reputation":1,"user_id":18171314,"display_name":"james"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644498569,"creation_date":1644498250,"question_id":71065624,"body_markdown":"I&#39;m developing android java Launcher...\r\ni want add AnalogClock widget into my default_workspace.xml\r\nhow can I add widget??\r\n[code imAGE][1] [i try IMAGE][2]\r\n\r\n    &lt;favorites xmlns:launcher=&quot;http://schemas.android.com/apk/res-auto/com.android.launcher3&quot;&gt;\r\n    \r\n        &lt;!-- Hotseat --&gt;\r\n        &lt;include launcher:workspace=&quot;@xml/dw_tablet_hotseat&quot; /&gt;\r\n    \r\n        &lt;!-- Bottom row --&gt;\r\n    \r\n    &lt;/favorites&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/Yk3nC.png\r\n  [2]: https://i.stack.imgur.com/9ThyU.png\r\n","title":"How can I add AnalogClock Widget on Launcher3?","body":"<p>I'm developing android java Launcher...\ni want add AnalogClock widget into my default_workspace.xml\nhow can I add widget??\n<a href=\"https://i.stack.imgur.com/Yk3nC.png\" rel=\"nofollow noreferrer\">code imAGE</a> <a href=\"https://i.stack.imgur.com/9ThyU.png\" rel=\"nofollow noreferrer\">i try IMAGE</a></p>\n<pre><code>&lt;favorites xmlns:launcher=&quot;http://schemas.android.com/apk/res-auto/com.android.launcher3&quot;&gt;\n\n    &lt;!-- Hotseat --&gt;\n    &lt;include launcher:workspace=&quot;@xml/dw_tablet_hotseat&quot; /&gt;\n\n    &lt;!-- Bottom row --&gt;\n\n&lt;/favorites&gt;\n</code></pre>\n"},{"tags":["java","rest","here-api"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1644245256,"post_id":71020023,"comment_id":125546791,"body_markdown":"there should be some api to get gps cordinates given the city name.","body":"there should be some api to get gps cordinates given the city name."},{"owner":{"account_id":11916015,"reputation":1,"user_id":8719893,"display_name":"ahmed mohsen"},"score":0,"creation_date":1644333821,"post_id":71020023,"comment_id":125575741,"body_markdown":"I think there is an API to get gps coordinates but how to get the nearest location from coordinate detail?","body":"I think there is an API to get gps coordinates but how to get the nearest location from coordinate detail?"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1644334019,"post_id":71020023,"comment_id":125575827,"body_markdown":"just calculate the distance with each other location, with some formula(again, there must be exsisting algorithms).","body":"just calculate the distance with each other location, with some formula(again, there must be exsisting algorithms)."}],"answers":[{"tags":[],"owner":{"account_id":22701193,"reputation":11,"user_id":16868589,"display_name":"Shambhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644498349,"creation_date":1644498349,"answer_id":71065649,"question_id":71020023,"body_markdown":"you can do something like geocoordinate1.distanceTo(geocoordinate2) to get the distance between any two geocoordinates and do this for a list of geocoordinates and take the least one.","title":"Get the nearest location from start location","body":"<p>you can do something like geocoordinate1.distanceTo(geocoordinate2) to get the distance between any two geocoordinates and do this for a list of geocoordinates and take the least one.</p>\n"}],"owner":{"account_id":11916015,"reputation":1,"user_id":8719893,"display_name":"ahmed mohsen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644498349,"creation_date":1644243277,"question_id":71020023,"body_markdown":"I want to get the nearest location of predefined locations to the start location.\r\n\r\nfor example :\r\nPost https://geocode.search.hereapi.com/v1/\r\n    geocode\r\n\r\nBody:\r\n\r\n    {\r\n    from:{\r\n    counrtyCode:&quot;US&quot;,\r\n    city:&quot;NewYouk&quot;,\r\n    Postcode:&quot;55555&quot;\r\n    },\r\n    to:[\r\n    {\r\n    counrtyCode:&quot;US&quot;,\r\n    city:&quot;NewYouk&quot;,\r\n    Postcode:&quot;66666&quot;\r\n    },\r\n    {\r\n    counrtyCode:&quot;US&quot;,\r\n    city:&quot;NewYouk&quot;,\r\n    Postcode:&quot;77777&quot;\r\n    }\r\n    ]\r\n\r\nI want to check which one in the TO List is the nearest to The FROM location. \r\nDo we have something like this in HERE Rest API ?\r\n","title":"Get the nearest location from start location","body":"<p>I want to get the nearest location of predefined locations to the start location.</p>\n<p>for example :\nPost <a href=\"https://geocode.search.hereapi.com/v1/\" rel=\"nofollow noreferrer\">https://geocode.search.hereapi.com/v1/</a>\ngeocode</p>\n<p>Body:</p>\n<pre><code>{\nfrom:{\ncounrtyCode:&quot;US&quot;,\ncity:&quot;NewYouk&quot;,\nPostcode:&quot;55555&quot;\n},\nto:[\n{\ncounrtyCode:&quot;US&quot;,\ncity:&quot;NewYouk&quot;,\nPostcode:&quot;66666&quot;\n},\n{\ncounrtyCode:&quot;US&quot;,\ncity:&quot;NewYouk&quot;,\nPostcode:&quot;77777&quot;\n}\n]\n</code></pre>\n<p>I want to check which one in the TO List is the nearest to The FROM location.\nDo we have something like this in HERE Rest API ?</p>\n"},{"tags":["java","cumulocity"],"answers":[{"tags":[],"owner":{"account_id":2983012,"reputation":2039,"user_id":2532578,"display_name":"TyrManuZ"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1644406135,"creation_date":1644402591,"answer_id":71047917,"question_id":71047273,"body_markdown":"You need to create a POST on /event/events/{{eventId}}/binaries with the appropriate Content-Type and body.\r\n\r\nHere is a code snippet in python where a binary (log file) is attached to an event. It just POSTs the file content (bytes) as application/octet-stream\r\n\r\n    # Create event\r\n    logfileEvent = {\r\n        &#39;type&#39;: &#39;c8y_Logfile&#39;,\r\n        &#39;text&#39;: &#39;See attached logfile&#39;,\r\n        &#39;time&#39;: datetime.utcnow().strftime(&#39;%Y-%m-%dT%H:%M:%S.%f&#39;)[:-3] + &#39;Z&#39;,\r\n        &#39;source&#39;: {\r\n            &#39;id&#39;: DEVICE_ID\r\n        }\r\n    }\r\n    res = client.post(C8Y_BASE + &#39;/event/events/&#39;, data=json.dumps(logfileEvent))\r\n    eventId = res.json()[&#39;id&#39;]\r\n\r\n    # Attach Binary\r\n    res = client.post(C8Y_BASE + &#39;/event/events/&#39; + eventId + &#39;/binaries&#39;, data=bytes(FILE_CONTENT, &#39;utf-8&#39;), headers={&#39;Content-Type&#39;: &#39;application/octet-stream&#39;})\r\n    binaryRef = res.json()[&#39;self&#39;]\r\n\r\n    # Update operation\r\n    logfileFragment = logfileOperation[&#39;c8y_LogfileRequest&#39;]\r\n    logfileFragment[&#39;file&#39;] = binaryRef\r\n    updatedOperation = {\r\n        &#39;status&#39;: &#39;SUCCESSFUL&#39;,\r\n        &#39;c8y_LogfileRequest&#39;: logfileFragment\r\n    }\r\n    client.put(C8Y_BASE + &#39;/devicecontrol/operations/&#39; + logfileOperation[&#39;id&#39;], data=json.dumps(updatedOperation))","title":"attaching binary file to an event in cumulocity","body":"<p>You need to create a POST on /event/events/{{eventId}}/binaries with the appropriate Content-Type and body.</p>\n<p>Here is a code snippet in python where a binary (log file) is attached to an event. It just POSTs the file content (bytes) as application/octet-stream</p>\n<pre><code># Create event\nlogfileEvent = {\n    'type': 'c8y_Logfile',\n    'text': 'See attached logfile',\n    'time': datetime.utcnow().strftime('%Y-%m-%dT%H:%M:%S.%f')[:-3] + 'Z',\n    'source': {\n        'id': DEVICE_ID\n    }\n}\nres = client.post(C8Y_BASE + '/event/events/', data=json.dumps(logfileEvent))\neventId = res.json()['id']\n\n# Attach Binary\nres = client.post(C8Y_BASE + '/event/events/' + eventId + '/binaries', data=bytes(FILE_CONTENT, 'utf-8'), headers={'Content-Type': 'application/octet-stream'})\nbinaryRef = res.json()['self']\n\n# Update operation\nlogfileFragment = logfileOperation['c8y_LogfileRequest']\nlogfileFragment['file'] = binaryRef\nupdatedOperation = {\n    'status': 'SUCCESSFUL',\n    'c8y_LogfileRequest': logfileFragment\n}\nclient.put(C8Y_BASE + '/devicecontrol/operations/' + logfileOperation['id'], data=json.dumps(updatedOperation))\n</code></pre>\n"}],"owner":{"account_id":14638583,"reputation":387,"user_id":10571898,"display_name":"Rakshan Premsagar Kapikad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71047917,"answer_count":1,"score":0,"last_activity_date":1644498018,"creation_date":1644400053,"question_id":71047273,"body_markdown":"I have a scenario where in my code creates a file and an event in cumulocity as well. I need to attach the binary file to the event, however none of the API&#39;s provide me the functionality, any guidance as to how to go ahead please?\r\n\r\n________________________________________________\r\nUpdate:\r\n\r\nOn having a look at the documentation https://cumulocity.com/api/10.11.0/#tag/Attachments , the binaryElement has a following structure \r\n[![BinaryElement][1]][1]\r\n\r\nI have modified my JAVA code in the following manner: \r\n```\r\nString pathEvent = platform.getUrl().get()+&quot;/event/events/{{eventId}}/binaries&quot;;\r\n    String pathEventAttachment = pathEvent.replace(&quot;{{eventId}}&quot;, event.getId().getValue());\r\n    \r\n    HttpHeaders headers = RequestAuthenticationEncoder.encode(getCredentials());\r\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    MultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n    map.add(&quot;file&quot;,new ByteArrayResource(FileUtils.readFileToByteArray(file)));//anychanges here fails the code\r\n    map.add(&quot;filename&quot;, file.getName().getBytes());\r\n\r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = new HttpEntity&lt;&gt;(map,headers);\r\n    restTemplate.postForObject(pathEventAttachment, request, String.class);\r\n    log.info(&quot;Binary file added to the event {}&quot;, event.getId().getValue());\r\n```\r\nBinary is created for the event, however the filename is incorrect: \r\n[![Output structure][2]][2]\r\n\r\nPlease let me know some insights as to why the name is not changing?\r\n\r\n  [1]: https://i.stack.imgur.com/PSESV.png\r\n  [2]: https://i.stack.imgur.com/HE0E0.png","title":"attaching binary file to an event in cumulocity","body":"<p>I have a scenario where in my code creates a file and an event in cumulocity as well. I need to attach the binary file to the event, however none of the API's provide me the functionality, any guidance as to how to go ahead please?</p>\n<hr />\n<p>Update:</p>\n<p>On having a look at the documentation <a href=\"https://cumulocity.com/api/10.11.0/#tag/Attachments\" rel=\"nofollow noreferrer\">https://cumulocity.com/api/10.11.0/#tag/Attachments</a> , the binaryElement has a following structure\n<a href=\"https://i.stack.imgur.com/PSESV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PSESV.png\" alt=\"BinaryElement\" /></a></p>\n<p>I have modified my JAVA code in the following manner:</p>\n<pre><code>String pathEvent = platform.getUrl().get()+&quot;/event/events/{{eventId}}/binaries&quot;;\n    String pathEventAttachment = pathEvent.replace(&quot;{{eventId}}&quot;, event.getId().getValue());\n    \n    HttpHeaders headers = RequestAuthenticationEncoder.encode(getCredentials());\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n    MultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\n    map.add(&quot;file&quot;,new ByteArrayResource(FileUtils.readFileToByteArray(file)));//anychanges here fails the code\n    map.add(&quot;filename&quot;, file.getName().getBytes());\n\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = new HttpEntity&lt;&gt;(map,headers);\n    restTemplate.postForObject(pathEventAttachment, request, String.class);\n    log.info(&quot;Binary file added to the event {}&quot;, event.getId().getValue());\n</code></pre>\n<p>Binary is created for the event, however the filename is incorrect:\n<a href=\"https://i.stack.imgur.com/HE0E0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HE0E0.png\" alt=\"Output structure\" /></a></p>\n<p>Please let me know some insights as to why the name is not changing?</p>\n"},{"tags":["java","while-loop","do-while"],"comments":[{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1475260678,"post_id":39797900,"comment_id":66888797,"body_markdown":"First, are you sure you want your passwords to be `Double`s? That is, numbers like `2.71828`? Secondly, consider putting the password entry inside your `do` loop. Third, change the `==` to `!=` (you want to loop as long as they are *not* equal).","body":"First, are you sure you want your passwords to be <code>Double</code>s? That is, numbers like <code>2.71828</code>? Secondly, consider putting the password entry inside your <code>do</code> loop. Third, change the <code>==</code> to <code>!=</code> (you want to loop as long as they are <i>not</i> equal)."},{"owner":{"account_id":9264854,"reputation":841,"user_id":6880585,"display_name":"olsli"},"score":1,"creation_date":1475260740,"post_id":39797900,"comment_id":66888836,"body_markdown":"It is suggested to use Console.readPassword() method istead of using System.in.","body":"It is suggested to use Console.readPassword() method istead of using System.in."},{"owner":{"account_id":2979050,"reputation":133,"user_id":2529465,"accept_rate":57,"display_name":"bss36504"},"score":0,"creation_date":1475260807,"post_id":39797900,"comment_id":66888861,"body_markdown":"Generally you would use a for-loop when you need to repeat something a particular amount of times, and a do-while when you unconditionally need to do something once, then repeat as necessary. Do you need to keep asking for the password until they match or do you need the while loop to handle both password requests?","body":"Generally you would use a for-loop when you need to repeat something a particular amount of times, and a do-while when you unconditionally need to do something once, then repeat as necessary. Do you need to keep asking for the password until they match or do you need the while loop to handle both password requests?"}],"answers":[{"tags":[],"owner":{"account_id":3180787,"reputation":1935,"user_id":2687547,"accept_rate":71,"display_name":"dganesh2002"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475261989,"creation_date":1475260676,"answer_id":39798035,"question_id":39797900,"body_markdown":"You can use below code which fulfills your requirement. There might be syntax errors as I didn&#39;t use the eclipse.\r\n\r\n    import java.util.*;\r\n    \r\n    public class Lab4Exercise1{\r\n        public static void main(String[] args){\r\n            Scanner sc = new Scanner(System.in);\r\n            double password, reentered;\r\n            do {\r\n               System.out.println(&quot;Enter Your password&quot;);\r\n               password = sc.nextDouble();\r\n               double reentered = sc.nextDouble();\r\n               if(!password.equals(reentered)) {\r\n                   System.out.println(&quot;Passwords do not match. Please retry&quot;);\r\n               } else {\r\n                   break;\r\n               }\r\n            }while (True);\r\n        }\r\n    }","title":"Password Checker in java with do while","body":"<p>You can use below code which fulfills your requirement. There might be syntax errors as I didn't use the eclipse.</p>\n\n<pre><code>import java.util.*;\n\npublic class Lab4Exercise1{\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        double password, reentered;\n        do {\n           System.out.println(\"Enter Your password\");\n           password = sc.nextDouble();\n           double reentered = sc.nextDouble();\n           if(!password.equals(reentered)) {\n               System.out.println(\"Passwords do not match. Please retry\");\n           } else {\n               break;\n           }\n        }while (True);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1849887,"reputation":1583,"user_id":1676634,"display_name":"Naga Srinu Kapusetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1475301763,"creation_date":1475260917,"answer_id":39798099,"question_id":39797900,"body_markdown":"Try this\r\n\r\n    import java.util.*;\r\n    \r\n    public class Lab4Exercise1{\r\n    public static void main(String[] args){\r\n    \r\n        Scanner sc = new Scanner(System.in);\r\n        double password;\r\n        double reentered;\r\n        do {\r\n            System.out.println(&quot;(Re)Enter Password:&quot;);\r\n            password = sc.nextDouble();\r\n            System.out.println(&quot;Confirm Password:&quot;);\r\n            reentered = sc.nextDouble();\r\n        } while (password != reentered);\r\n    \r\n        }\r\n    }","title":"Password Checker in java with do while","body":"<p>Try this</p>\n\n<pre><code>import java.util.*;\n\npublic class Lab4Exercise1{\npublic static void main(String[] args){\n\n    Scanner sc = new Scanner(System.in);\n    double password;\n    double reentered;\n    do {\n        System.out.println(\"(Re)Enter Password:\");\n        password = sc.nextDouble();\n        System.out.println(\"Confirm Password:\");\n        reentered = sc.nextDouble();\n    } while (password != reentered);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14095128,"reputation":1,"user_id":18161655,"display_name":"kishore kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644497788,"creation_date":1644497788,"answer_id":71065515,"question_id":39797900,"body_markdown":"    import java.util.*;\r\n    import java.io.*;\r\n\r\n    class PasswordChecker\r\n    {\r\n\t    public static void main(String[] args) throws IOException\r\n\t{\r\n\t\tScanner scr = new Scanner(System.in);\r\n\t\tString s1;\r\n\t\tString s2;\r\n\t\t\r\n\t\tdo{ System.out.println(&quot;Create a Password&quot;);\r\n\t\t\ts1=scr.next();\r\n\t\t\tSystem.out.println(&quot;Re-enter to confirm the Password&quot;);\r\n\t\t\ts2=scr.next();\r\n\t\t\tif(!s1.equals(s2))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Password did not match&quot;);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tSystem.out.println(&quot;Registration Success&quot;);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t} while(!s1.equals(s2));\r\n\t}\t\t\r\n    }","title":"Password Checker in java with do while","body":"<pre><code>import java.util.*;\nimport java.io.*;\n\nclass PasswordChecker\n{\n    public static void main(String[] args) throws IOException\n{\n    Scanner scr = new Scanner(System.in);\n    String s1;\n    String s2;\n    \n    do{ System.out.println(&quot;Create a Password&quot;);\n        s1=scr.next();\n        System.out.println(&quot;Re-enter to confirm the Password&quot;);\n        s2=scr.next();\n        if(!s1.equals(s2))\n        {\n            System.out.println(&quot;Password did not match&quot;);\n        }\n        else{\n            System.out.println(&quot;Registration Success&quot;);\n        }\n            \n    } while(!s1.equals(s2));\n}       \n}\n</code></pre>\n"}],"owner":{"display_name":"user5616863"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3657,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39798099,"answer_count":3,"score":1,"last_activity_date":1644497788,"creation_date":1475260201,"question_id":39797900,"body_markdown":"I need to write a password checker which ensures that password correct.\r\n\r\nFirstly I prompt the user enter the password\r\n\r\nSecondly, I prompt the user to reenter the password\r\n\r\nthirdly, I need to check that the passwords are identical\r\n\r\nBut this steps need to repeat 1 through 3 until password is correctly entered twice.\r\n\r\nHere is my code. But i cant understand the logic of repeat 1 through 3\r\n\r\n    import java.util.*;\r\n    \r\n    public class Lab4Exercise1{\r\n    \tpublic static void main(String[] args){\r\n\r\n    \t\tSystem.out.print(&quot;Enter Your password&quot;);\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tdouble password = sc.nextDouble;\r\n    \t\tdouble reentered = sc.nextDouble;\r\n    \t\t\r\n    \t\tdo {\r\n    \t\t\t\r\n            }while (password==reentered);\r\n    \t}\r\n    }","title":"Password Checker in java with do while","body":"<p>I need to write a password checker which ensures that password correct.</p>\n\n<p>Firstly I prompt the user enter the password</p>\n\n<p>Secondly, I prompt the user to reenter the password</p>\n\n<p>thirdly, I need to check that the passwords are identical</p>\n\n<p>But this steps need to repeat 1 through 3 until password is correctly entered twice.</p>\n\n<p>Here is my code. But i cant understand the logic of repeat 1 through 3</p>\n\n<pre><code>import java.util.*;\n\npublic class Lab4Exercise1{\n    public static void main(String[] args){\n\n        System.out.print(\"Enter Your password\");\n        Scanner sc = new Scanner(System.in);\n        double password = sc.nextDouble;\n        double reentered = sc.nextDouble;\n\n        do {\n\n        }while (password==reentered);\n    }\n}\n</code></pre>\n"},{"tags":["java","computer-vision","bufferedimage"],"comments":[{"owner":{"account_id":1375478,"reputation":1848,"user_id":1309552,"display_name":"Rosa Gronchi"},"score":1,"creation_date":1422367099,"post_id":28162488,"comment_id":44713561,"body_markdown":"You may want to consider using integral images: http://en.wikipedia.org/wiki/Summed_area_table","body":"You may want to consider using integral images: <a href=\"http://en.wikipedia.org/wiki/Summed_area_table\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Summed_area_table</a>"},{"owner":{"account_id":300331,"reputation":50767,"user_id":607407,"accept_rate":71,"display_name":"Tom&#225;Å¡ Zato"},"score":0,"creation_date":1422369166,"post_id":28162488,"comment_id":44714907,"body_markdown":"Man that&#39;s smart! Every time I start programming I sooner or later must admit that math is genial.","body":"Man that&#39;s smart! Every time I start programming I sooner or later must admit that math is genial."}],"answers":[{"tags":[],"owner":{"account_id":1686251,"reputation":4392,"user_id":1549476,"accept_rate":88,"display_name":"k_g"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1422329150,"creation_date":1422329150,"answer_id":28162725,"question_id":28162488,"body_markdown":"I think that no matter what you do, you are going to have an `O(wh)` operation, where `w` is your width and `h` is your height.\r\n\r\nTherefore, I&#39;m going to post this (naive) solution to fulfil the first part of your question as I do not believe there is a faster solution.\r\n\r\n\t/*\r\n\t * Where bi is your image, (x0,y0) is your upper left coordinate, and (w,h)\r\n\t * are your width and height respectively\r\n\t */\r\n\tpublic static Color averageColor(BufferedImage bi, int x0, int y0, int w,\r\n\t\t\tint h) {\r\n\t\tint x1 = x0 + w;\r\n\t\tint y1 = y0 + h;\r\n\t\tlong sumr = 0, sumg = 0, sumb = 0;\r\n\t\tfor (int x = x0; x &lt; x1; x++) {\r\n\t\t\tfor (int y = y0; y &lt; y1; y++) {\r\n\t\t\t\tColor pixel = new Color(bi.getRGB(x, y));\r\n\t\t\t\tsumr += pixel.getRed();\r\n\t\t\t\tsumg += pixel.getGreen();\r\n\t\t\t\tsumb += pixel.getBlue();\r\n\t\t\t}\r\n\t\t}\r\n\t\tint num = w * h;\r\n\t\treturn new Color(sumr / num, sumg / num, sumb / num);\r\n\t}","title":"Get average color on bufferedimage and bufferedimage portion as fast as possible","body":"<p>I think that no matter what you do, you are going to have an <code>O(wh)</code> operation, where <code>w</code> is your width and <code>h</code> is your height.</p>\n\n<p>Therefore, I'm going to post this (naive) solution to fulfil the first part of your question as I do not believe there is a faster solution.</p>\n\n<pre><code>/*\n * Where bi is your image, (x0,y0) is your upper left coordinate, and (w,h)\n * are your width and height respectively\n */\npublic static Color averageColor(BufferedImage bi, int x0, int y0, int w,\n        int h) {\n    int x1 = x0 + w;\n    int y1 = y0 + h;\n    long sumr = 0, sumg = 0, sumb = 0;\n    for (int x = x0; x &lt; x1; x++) {\n        for (int y = y0; y &lt; y1; y++) {\n            Color pixel = new Color(bi.getRGB(x, y));\n            sumr += pixel.getRed();\n            sumg += pixel.getGreen();\n            sumb += pixel.getBlue();\n        }\n    }\n    int num = w * h;\n    return new Color(sumr / num, sumg / num, sumb / num);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8845377,"reputation":399,"user_id":6606312,"display_name":"Khan Maxfield"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534403671,"creation_date":1470287064,"answer_id":38758823,"question_id":28162488,"body_markdown":"There is a constant time method for finding the mean colour of a rectangular section of an image but it requires a linear preprocess. This should be fine in your case. This method can also be used to find the mean value of a rectangular prism in a 3d array or any higher dimensional analog of the problem. I will be using a gray scale example but this can be easily extended to 3 or more channels simply by repeating the process.\r\n\r\nLets say we have a 2 dimensional array of numbers we will call &quot;`img`&quot;.\r\n\r\nThe first step is to generate a new array of the same dimensions where each element contains the sum of all values in the original image that lie within the rectangle that bounds that element and the top left element of the image.\r\n\r\nYou can use the following method to construct such an image in linear time:\r\n\r\n    int width = 1920;\r\n    int height = 1080;\r\n    \r\n    //source data\r\n    int[] img = GrayScaleScreenCapture();\r\n    int[] helperImg = int[width * height]\r\n    \r\n    for(int y = 0; y &lt; height; ++y)\r\n    {\r\n    \tfor(int x = 0; x &lt; width; ++x)\r\n    \t{\r\n    \t\tint total = img[y * width + x];\r\n    \t\t\r\n    \t\tif(x &gt; 0)\r\n    \t\t{\r\n    \t\t\t//Add value from the pixel to the left in helperImg\r\n    \t\t\ttotal += helperImg[y * width + (x - 1)];\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(y &gt; 0)\r\n    \t\t{\r\n    \t\t\t//Add value from the pixel above in helperImg\r\n    \t\t\ttotal += helperImg[(y - 1) * width + x];\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(x &gt; 0 &amp;&amp; y &gt; 0)\r\n    \t\t{\r\n    \t\t\t//Subtract value from the pixel above and to the left in helperImg\r\n    \t\t\ttotal -= helperImg[(y - 1) * width + (x - 1)];\r\n    \t\t}\r\n    \t\t\r\n    \t\thelperImg[y * width + x] = total;\r\n    \t}\r\n    }\r\n\r\nNow we can use `helperImg` to find the total of all values within a given rectangle of `img` in constant time:\r\n\r\n    //Some Rectangle with corners (x0, y0), (x1, y0) , (x0, y1), (x1, y1)\r\n    int x0 = 50;\r\n    int x1 = 150;\r\n    int y0 = 25;\r\n    int y1 = 200;\r\n    \r\n    int totalOfRect = helperImg[y1 * width + x1];\r\n    \r\n    if(x0 &gt; 0)\r\n    {\r\n    \ttotalOfRect -= helperImg[y1 * width + (x0 - 1)];\r\n    }\r\n    \r\n    if(y0 &gt; 0)\r\n    {\r\n    \ttotalOfRect -= helperImg[(y0 - 1) * width + x1];\r\n    }\r\n    \r\n    if(x0 &gt; 0 &amp;&amp; y0 &gt; 0)\r\n    {\r\n    \ttotalOfRect += helperImg[(y0 - 1) * width + (x0 - 1)];\r\n    }\r\n\r\nFinally, we simply divide `totalOfRect` by the area of the rectangle to get the mean value:\r\n\r\n    int rWidth = x1 - x0 + 1;\r\n    int rheight = y1 - y0 + 1;\r\n    \r\n    int meanOfRect = totalOfRect / (rWidth * rHeight);\r\n\r\n\r\n\r\n","title":"Get average color on bufferedimage and bufferedimage portion as fast as possible","body":"<p>There is a constant time method for finding the mean colour of a rectangular section of an image but it requires a linear preprocess. This should be fine in your case. This method can also be used to find the mean value of a rectangular prism in a 3d array or any higher dimensional analog of the problem. I will be using a gray scale example but this can be easily extended to 3 or more channels simply by repeating the process.</p>\n\n<p>Lets say we have a 2 dimensional array of numbers we will call \"<code>img</code>\".</p>\n\n<p>The first step is to generate a new array of the same dimensions where each element contains the sum of all values in the original image that lie within the rectangle that bounds that element and the top left element of the image.</p>\n\n<p>You can use the following method to construct such an image in linear time:</p>\n\n<pre><code>int width = 1920;\nint height = 1080;\n\n//source data\nint[] img = GrayScaleScreenCapture();\nint[] helperImg = int[width * height]\n\nfor(int y = 0; y &lt; height; ++y)\n{\n    for(int x = 0; x &lt; width; ++x)\n    {\n        int total = img[y * width + x];\n\n        if(x &gt; 0)\n        {\n            //Add value from the pixel to the left in helperImg\n            total += helperImg[y * width + (x - 1)];\n        }\n\n        if(y &gt; 0)\n        {\n            //Add value from the pixel above in helperImg\n            total += helperImg[(y - 1) * width + x];\n        }\n\n        if(x &gt; 0 &amp;&amp; y &gt; 0)\n        {\n            //Subtract value from the pixel above and to the left in helperImg\n            total -= helperImg[(y - 1) * width + (x - 1)];\n        }\n\n        helperImg[y * width + x] = total;\n    }\n}\n</code></pre>\n\n<p>Now we can use <code>helperImg</code> to find the total of all values within a given rectangle of <code>img</code> in constant time:</p>\n\n<pre><code>//Some Rectangle with corners (x0, y0), (x1, y0) , (x0, y1), (x1, y1)\nint x0 = 50;\nint x1 = 150;\nint y0 = 25;\nint y1 = 200;\n\nint totalOfRect = helperImg[y1 * width + x1];\n\nif(x0 &gt; 0)\n{\n    totalOfRect -= helperImg[y1 * width + (x0 - 1)];\n}\n\nif(y0 &gt; 0)\n{\n    totalOfRect -= helperImg[(y0 - 1) * width + x1];\n}\n\nif(x0 &gt; 0 &amp;&amp; y0 &gt; 0)\n{\n    totalOfRect += helperImg[(y0 - 1) * width + (x0 - 1)];\n}\n</code></pre>\n\n<p>Finally, we simply divide <code>totalOfRect</code> by the area of the rectangle to get the mean value:</p>\n\n<pre><code>int rWidth = x1 - x0 + 1;\nint rheight = y1 - y0 + 1;\n\nint meanOfRect = totalOfRect / (rWidth * rHeight);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401024,"reputation":77,"user_id":767347,"display_name":"IkeC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644497713,"creation_date":1644497713,"answer_id":71065493,"question_id":28162488,"body_markdown":"Here&#39;s a version based on [k_g&#39;s answer][1] for a full BufferedImage with adjustable sample precision (step).\r\n\r\n    public static Color getAverageColor(BufferedImage bi) {\r\n        int step = 5;\r\n\r\n        int sampled = 0;\r\n        long sumr = 0, sumg = 0, sumb = 0;\r\n        for (int x = 0; x &lt; bi.getWidth(); x++) {\r\n            for (int y = 0; y &lt; bi.getHeight(); y++) {\r\n                if (x % step == 0 &amp;&amp; y % step == 0) {\r\n                    Color pixel = new Color(bi.getRGB(x, y));\r\n                    sumr += pixel.getRed();\r\n                    sumg += pixel.getGreen();\r\n                    sumb += pixel.getBlue();\r\n                    sampled++;\r\n                }\r\n            }\r\n        }\r\n        int dim = bi.getWidth()*bi.getHeight();\r\n        // Log.info(&quot;step=&quot; + step + &quot; sampled &quot; + sampled + &quot; out of &quot; + dim + &quot; pixels (&quot; + String.format(&quot;%.1f&quot;, (float)(100*sampled/dim)) + &quot; %)&quot;);\r\n        return new Color(Math.round(sumr / sampled), Math.round(sumg / sampled), Math.round(sumb / sampled));\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28162725/767347","title":"Get average color on bufferedimage and bufferedimage portion as fast as possible","body":"<p>Here's a version based on <a href=\"https://stackoverflow.com/a/28162725/767347\">k_g's answer</a> for a full BufferedImage with adjustable sample precision (step).</p>\n<pre><code>public static Color getAverageColor(BufferedImage bi) {\n    int step = 5;\n\n    int sampled = 0;\n    long sumr = 0, sumg = 0, sumb = 0;\n    for (int x = 0; x &lt; bi.getWidth(); x++) {\n        for (int y = 0; y &lt; bi.getHeight(); y++) {\n            if (x % step == 0 &amp;&amp; y % step == 0) {\n                Color pixel = new Color(bi.getRGB(x, y));\n                sumr += pixel.getRed();\n                sumg += pixel.getGreen();\n                sumb += pixel.getBlue();\n                sampled++;\n            }\n        }\n    }\n    int dim = bi.getWidth()*bi.getHeight();\n    // Log.info(&quot;step=&quot; + step + &quot; sampled &quot; + sampled + &quot; out of &quot; + dim + &quot; pixels (&quot; + String.format(&quot;%.1f&quot;, (float)(100*sampled/dim)) + &quot; %)&quot;);\n    return new Color(Math.round(sumr / sampled), Math.round(sumg / sampled), Math.round(sumb / sampled));\n}\n</code></pre>\n"}],"owner":{"account_id":300331,"reputation":50767,"user_id":607407,"accept_rate":71,"display_name":"Tom&#225;Å¡ Zato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8326,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":28162725,"answer_count":3,"score":5,"last_activity_date":1644497713,"creation_date":1422327385,"question_id":28162488,"body_markdown":"I am trying to find image in an image. I do this for desktop automation. At this moment, I&#39;m trying to be fast, not precise. As such, I have decided to match similar image solely based on the same average color.\r\n\r\nIf I pick several icons on my desktop, for example:\r\n\r\n![several desktop icons](http://i.stack.imgur.com/n89No.png)\r\n\r\nAnd I will search for the last one (I&#39;m still wondering what this file is):\r\n\r\n![some file icon](http://i.stack.imgur.com/DHfUM.png)\r\n\r\nYou can clearly see what is most likely to be the match:\r\n\r\n![image displaying average colors in regions](http://i.stack.imgur.com/TKBYS.png)\r\n\r\nIn different situations, this may not work. However when image size is given, it should be pretty reliable and lightning fast.\r\n\r\nI can get a screenshot as `BufferedImage` object:\r\n   \r\n    MSWindow window = MSWindow.windowFromName(&quot;Firefox&quot;, false);\r\n    BufferedImage img = window.screenshot();\r\n    //Or, if I can estimate smaller region for searching:\r\n    BufferedImage img2 = window.screenshotCrop(20,20,50,50);\r\n \r\nOf course, the image to search image will be loaded from template saved in a file:\r\n\r\n    BufferedImage img = ImageIO.read(...whatever goes in there, I&#39;m still confused...);\r\n\r\nI explained what all I know so that we can focus on the only problem:\r\n\r\n - **Q:** How can I get average color on buffered image? How can I get such average color on sub-rectangle of that image?\r\n\r\nSpeed wins here. In this exceptional case, I consider it more valuable than code readability.\r\n\r\n    ","title":"Get average color on bufferedimage and bufferedimage portion as fast as possible","body":"<p>I am trying to find image in an image. I do this for desktop automation. At this moment, I'm trying to be fast, not precise. As such, I have decided to match similar image solely based on the same average color.</p>\n\n<p>If I pick several icons on my desktop, for example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/n89No.png\" alt=\"several desktop icons\"></p>\n\n<p>And I will search for the last one (I'm still wondering what this file is):</p>\n\n<p><img src=\"https://i.stack.imgur.com/DHfUM.png\" alt=\"some file icon\"></p>\n\n<p>You can clearly see what is most likely to be the match:</p>\n\n<p><img src=\"https://i.stack.imgur.com/TKBYS.png\" alt=\"image displaying average colors in regions\"></p>\n\n<p>In different situations, this may not work. However when image size is given, it should be pretty reliable and lightning fast.</p>\n\n<p>I can get a screenshot as <code>BufferedImage</code> object:</p>\n\n<pre><code>MSWindow window = MSWindow.windowFromName(\"Firefox\", false);\nBufferedImage img = window.screenshot();\n//Or, if I can estimate smaller region for searching:\nBufferedImage img2 = window.screenshotCrop(20,20,50,50);\n</code></pre>\n\n<p>Of course, the image to search image will be loaded from template saved in a file:</p>\n\n<pre><code>BufferedImage img = ImageIO.read(...whatever goes in there, I'm still confused...);\n</code></pre>\n\n<p>I explained what all I know so that we can focus on the only problem:</p>\n\n<ul>\n<li><strong>Q:</strong> How can I get average color on buffered image? How can I get such average color on sub-rectangle of that image?</li>\n</ul>\n\n<p>Speed wins here. In this exceptional case, I consider it more valuable than code readability.</p>\n"},{"tags":["java","mysql","querydsl"],"comments":[{"owner":{"display_name":"user18098820"},"score":1,"creation_date":1644472512,"post_id":71060342,"comment_id":125617339,"body_markdown":"Please check out this post https://github.com/querydsl/querydsl/issues/1393","body":"Please check out this post <a href=\"https://github.com/querydsl/querydsl/issues/1393\" rel=\"nofollow noreferrer\">github.com/querydsl/querydsl/issues/1393</a>"},{"owner":{"account_id":17170801,"reputation":21,"user_id":12427985,"display_name":"Kai Oh"},"score":0,"creation_date":1644479960,"post_id":71060342,"comment_id":125619196,"body_markdown":"than u sir. I solved it.","body":"than u sir. I solved it."},{"owner":{"display_name":"user18098820"},"score":0,"creation_date":1644493029,"post_id":71060342,"comment_id":125624044,"body_markdown":"Please post your revised code. Thank you","body":"Please post your revised code. Thank you"}],"owner":{"account_id":17170801,"reputation":21,"user_id":12427985,"display_name":"Kai Oh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644497295,"creation_date":1644472004,"question_id":71060342,"body_markdown":"I want to attach an eq() conditional statement to booleanExpression using or() as much as the list length.\r\nWhat should I do?\r\n\r\nFor example\r\n```\r\nQStudyTime.studyTime.user.id.eq(rivalId).or(QStudyTime.studyTime.user.id.eq(rivalId2)).or(QStudyTime.studyTime.user.id.eq(rivalId3))\r\n```\r\nThe above code is handled by method chaining when the number of rivaled is 3. \r\nBut my system doesn&#39;t have a fixed number of rivalId&#39;s. \r\nWhat should I do in this case?\r\nCan it be handled with a for statement? \r\nOr is BooleanExpression a way to attach using the + operator just like String?\r\n\r\nI solved it like this.\r\n```\r\nprivate BooleanExpression method(input parameter) {\r\nList&lt;Long&gt; rivalIdList = new ArrayList&lt;&gt;();\r\nfor (int i = 0; i &lt; rivalList.size(); i++) {\r\n   rivalIdList.add(rivalList.get(i).getRival().getId());\r\n}\r\n   return QStudyTime.studyTime.user.id.in(rivalIdList);`\r\n}\r\n```","title":"How to make a dynamic query using queryDSL when the number of parameters to be entered changes?","body":"<p>I want to attach an eq() conditional statement to booleanExpression using or() as much as the list length.\nWhat should I do?</p>\n<p>For example</p>\n<pre><code>QStudyTime.studyTime.user.id.eq(rivalId).or(QStudyTime.studyTime.user.id.eq(rivalId2)).or(QStudyTime.studyTime.user.id.eq(rivalId3))\n</code></pre>\n<p>The above code is handled by method chaining when the number of rivaled is 3.\nBut my system doesn't have a fixed number of rivalId's.\nWhat should I do in this case?\nCan it be handled with a for statement?\nOr is BooleanExpression a way to attach using the + operator just like String?</p>\n<p>I solved it like this.</p>\n<pre><code>private BooleanExpression method(input parameter) {\nList&lt;Long&gt; rivalIdList = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; rivalList.size(); i++) {\n   rivalIdList.add(rivalList.get(i).getRival().getId());\n}\n   return QStudyTime.studyTime.user.id.in(rivalIdList);`\n}\n</code></pre>\n"},{"tags":["java","sql","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1564000,"reputation":96,"user_id":1453192,"display_name":"iouardi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1391179430,"creation_date":1391179430,"answer_id":21482774,"question_id":21482339,"body_markdown":"Take a look at JPA Specification and Predicate, and Even better QueryDSL, there both supported by spring data repositories. \r\nThis article provide an example:\r\nhttp://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/","title":"Query creation in Spring Data - dynamic where clause","body":"<p>Take a look at JPA Specification and Predicate, and Even better QueryDSL, there both supported by spring data repositories. \nThis article provide an example:\n<a href=\"http://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"noreferrer\">http://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/</a></p>\n"},{"tags":[],"owner":{"account_id":3887283,"reputation":329,"user_id":3218334,"display_name":"A. Parolini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598353677,"creation_date":1598348842,"answer_id":63576205,"question_id":21482339,"body_markdown":"Another solution: You can extend your JPA repo interface **using custom fragment interfaces**.\r\n\r\n1) Define your custom methods on a new interface\r\n\r\n    ```lang-java\r\n    public interface PersonFragRepository {\r\n        List&lt;User&gt; findPersonByWhatever(\r\n            String firstName, String lastName, String age, String gender);\r\n    }\r\n    ```    \r\n\r\n2) Provide the implementation\r\n\r\n    ```lang-java\r\n    public class PersonFragRepositoryImpl implements PersonFragRepository {\r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n\r\n        @Override\r\n        List&lt;User&gt; findPersonByWhatever(\r\n            String firstName, String lastName, String age, String gender) {\r\n           ...\r\n        }\r\n    }\r\n    ```\r\n\r\n3) Extends your JPA interface\r\n\r\n    ```lang-java\r\n    public interface PersonRepository\r\n        extends JpaRepository&lt;Person, Integer&gt;, PersonFragRepository\r\n    ```\r\n\r\n\r\n\r\n\r\n","title":"Query creation in Spring Data - dynamic where clause","body":"<p>Another solution: You can extend your JPA repo interface <strong>using custom fragment interfaces</strong>.</p>\n<ol>\n<li><p>Define your custom methods on a new interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PersonFragRepository {\n    List&lt;User&gt; findPersonByWhatever(\n        String firstName, String lastName, String age, String gender);\n}\n</code></pre>\n</li>\n<li><p>Provide the implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PersonFragRepositoryImpl implements PersonFragRepository {\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Override\n    List&lt;User&gt; findPersonByWhatever(\n        String firstName, String lastName, String age, String gender) {\n       ...\n    }\n}\n</code></pre>\n</li>\n<li><p>Extends your JPA interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PersonRepository\n    extends JpaRepository&lt;Person, Integer&gt;, PersonFragRepository\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3887283,"reputation":329,"user_id":3218334,"display_name":"A. Parolini"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1644497249,"creation_date":1605782158,"answer_id":64909880,"question_id":21482339,"body_markdown":"A simpler option is to test if the parameter is null right in the JPQL query:\r\n\r\nExemple from my project:\r\n\r\n    @Query(&quot;select m from MessageEntity m &quot; +\r\n                &quot;join fetch m.demandeAnalyseEntities d &quot; +\r\n                &quot;where (:patientId is null or d.noPtn= :patientId) &quot; +\r\n                &quot; and &quot; +\r\n                &quot; ( :labNbr is null or d.noLab= :labNbr) &quot; +\r\n                &quot; and &quot; +\r\n                &quot; ( :reqDate is null or d.dteReq= :reqDate) &quot; +\r\n                &quot; and &quot; +\r\n                &quot; ( :reqNum is null or d.noReq= :reqNum) &quot;\r\n        )\r\n        List&lt;MessageEntity&gt; findMessagesWithDemandesOnly(@Param(&quot;patientId&quot;) Long pid,\r\n                                                         @Param(&quot;labNbr&quot;) Integer labNo,\r\n                                                         @Param(&quot;reqDate&quot;) String reqDate,\r\n                                                         @Param(&quot;reqNum&quot;) Integer reqNum,\r\n                                                         Pageable pageable);","title":"Query creation in Spring Data - dynamic where clause","body":"<p>A simpler option is to test if the parameter is null right in the JPQL query:</p>\n<p>Exemple from my project:</p>\n<pre><code>@Query(&quot;select m from MessageEntity m &quot; +\n            &quot;join fetch m.demandeAnalyseEntities d &quot; +\n            &quot;where (:patientId is null or d.noPtn= :patientId) &quot; +\n            &quot; and &quot; +\n            &quot; ( :labNbr is null or d.noLab= :labNbr) &quot; +\n            &quot; and &quot; +\n            &quot; ( :reqDate is null or d.dteReq= :reqDate) &quot; +\n            &quot; and &quot; +\n            &quot; ( :reqNum is null or d.noReq= :reqNum) &quot;\n    )\n    List&lt;MessageEntity&gt; findMessagesWithDemandesOnly(@Param(&quot;patientId&quot;) Long pid,\n                                                     @Param(&quot;labNbr&quot;) Integer labNo,\n                                                     @Param(&quot;reqDate&quot;) String reqDate,\n                                                     @Param(&quot;reqNum&quot;) Integer reqNum,\n                                                     Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":1540216,"reputation":4816,"user_id":1435070,"accept_rate":61,"display_name":"Chinmay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38054,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":21482774,"answer_count":3,"score":9,"last_activity_date":1644497249,"creation_date":1391178216,"question_id":21482339,"body_markdown":"Is there a way in Spring data to dynamically form the where clause?\r\n\r\nWhat I want to do is have a method (which is like the findBy / get method) which runs a WHERE and AND using the mentioned properties which are NOT NULL.\r\n\r\nFor example,\r\n\r\n    Consider the object Person [firstName, lastName, age, gender]\r\n\r\nOur method looks something like this\r\n\r\n    findBy_IfNotNullFirstName_AndIfNotNullLastName_AndIfNotNullAge_AndIfNotNullGender(String firstName, String lastName, Integer age, String gender)\r\n\r\nThanks.","title":"Query creation in Spring Data - dynamic where clause","body":"<p>Is there a way in Spring data to dynamically form the where clause?</p>\n\n<p>What I want to do is have a method (which is like the findBy / get method) which runs a WHERE and AND using the mentioned properties which are NOT NULL.</p>\n\n<p>For example,</p>\n\n<pre><code>Consider the object Person [firstName, lastName, age, gender]\n</code></pre>\n\n<p>Our method looks something like this</p>\n\n<pre><code>findBy_IfNotNullFirstName_AndIfNotNullLastName_AndIfNotNullAge_AndIfNotNullGender(String firstName, String lastName, Integer age, String gender)\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1644493671,"post_id":71064343,"comment_id":125624267,"body_markdown":"One single line of code? There is `Character.isDigit(string.charAt(i))` one could use in a for loop, or stream: `inputString.chars().filter(c -&gt; !Character.isDigit((char)c)).forEach(System.out.print((char)c));`. But that is a questionable &quot;short&quot; solution.","body":"One single line of code? There is <code>Character.isDigit(string.charAt(i))</code> one could use in a for loop, or stream: <code>inputString.chars().filter(c -&gt; !Character.isDigit((char)c)).forEach(System.out.print((char)&zwnj;&#8203;c));</code>. But that is a questionable &quot;short&quot; solution."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1644493813,"post_id":71064343,"comment_id":125624336,"body_markdown":"There are several ways and what is best depends on the context. Your professor probably did not want you to find the best way but to apply what you have learned already, to solve the problem. If you are in the first year, you probably learned something about loops. Go through the string char by char in a loop and check if you hit a digit or a letter.","body":"There are several ways and what is best depends on the context. Your professor probably did not want you to find the best way but to apply what you have learned already, to solve the problem. If you are in the first year, you probably learned something about loops. Go through the string char by char in a loop and check if you hit a digit or a letter."}],"answers":[{"tags":[],"owner":{"account_id":16430452,"reputation":77,"user_id":11869442,"display_name":"Tiberius"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1644494365,"creation_date":1644494365,"answer_id":71064734,"question_id":71064343,"body_markdown":"```\r\n  public static void main(String[] args) {\r\n        String inputString = &quot;q1w2e3r4t5y&quot;;\r\n        String newS =&quot;&quot;;\r\n        for (int i = 0; i &lt; inputString.length(); i++) {\r\n            String s = inputString.charAt(i)+&quot;&quot;;\r\n            try { \r\n                Integer.parseInt(s);            \r\n            \r\n            } catch (Exception e) {\r\n                //TODO: build the string here\r\n                newS+=s;              \r\n            }       \r\n           \r\n        }\r\n\r\n        System.out.println(newS);//qwerty\r\n\r\n    \r\n      }\r\n}\r\n```","title":"Removing the integers in the output when inputted with a String","body":"<pre><code>  public static void main(String[] args) {\n        String inputString = &quot;q1w2e3r4t5y&quot;;\n        String newS =&quot;&quot;;\n        for (int i = 0; i &lt; inputString.length(); i++) {\n            String s = inputString.charAt(i)+&quot;&quot;;\n            try { \n                Integer.parseInt(s);            \n            \n            } catch (Exception e) {\n                //TODO: build the string here\n                newS+=s;              \n            }       \n           \n        }\n\n        System.out.println(newS);//qwerty\n\n    \n      }\n}\n</code></pre>\n"}],"owner":{"account_id":24214425,"reputation":1,"user_id":18170518,"display_name":"OnixGgg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1644516843,"accepted_answer_id":71064734,"answer_count":1,"score":-2,"last_activity_date":1644497193,"creation_date":1644492682,"question_id":71064343,"body_markdown":"I am struggling on my code. My prof told us to make a line of code in Eclipse which, when a string like a &quot;q1w2e3r4t5y&quot; is input, will output only &quot;qwerty&quot;. The numbers are removed. This can be easily achieved using a regular expression. My problem is, it is my first year in coding and I&#39;m not yet familiar with the code using Java. \r\n\r\nThe code using regex is\r\n\r\n\tString inputString = &quot;q1w2e3r4t5y&quot;;\r\n\t\r\n\tSystem.out.println(inputString.replaceAll(&quot;\\\\d&quot;,&quot;&quot;));\r\n\r\nAnd the console/output is\r\n\r\n    qwerty\r\n\r\n\r\nPlease tell me what code is the best way to execute this output without using the regex.\r\n\r\n\r\n","title":"Removing the integers in the output when inputted with a String","body":"<p>I am struggling on my code. My prof told us to make a line of code in Eclipse which, when a string like a &quot;q1w2e3r4t5y&quot; is input, will output only &quot;qwerty&quot;. The numbers are removed. This can be easily achieved using a regular expression. My problem is, it is my first year in coding and I'm not yet familiar with the code using Java.</p>\n<p>The code using regex is</p>\n<pre><code>String inputString = &quot;q1w2e3r4t5y&quot;;\n\nSystem.out.println(inputString.replaceAll(&quot;\\\\d&quot;,&quot;&quot;));\n</code></pre>\n<p>And the console/output is</p>\n<pre><code>qwerty\n</code></pre>\n<p>Please tell me what code is the best way to execute this output without using the regex.</p>\n"},{"tags":["java","hashmap","time-complexity"],"comments":[{"owner":{"account_id":181490,"reputation":706,"user_id":415522,"display_name":"hidralisk"},"score":0,"creation_date":1644366076,"post_id":71042092,"comment_id":125586913,"body_markdown":"when the input is a list, this is *usually* a hint that the solution should be done in one pass through the original data structure.","body":"when the input is a list, this is <i>usually</i> a hint that the solution should be done in one pass through the original data structure."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1644388141,"post_id":71042092,"comment_id":125590449,"body_markdown":"@hidralisk - Yea ... but not in this case.  (Unless the `ListNode` also has a `prev` and the `head` node&#39;s `prev` points to the `tail` of the list.  That is *possible* ... but a given.)","body":"@hidralisk - Yea ... but not in this case.  (Unless the <code>ListNode</code> also has a <code>prev</code> and the <code>head</code> node&#39;s <code>prev</code> points to the <code>tail</code> of the list.  That is <i>possible</i> ... but a given.)"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1644396780,"post_id":71042092,"comment_id":125593107,"body_markdown":"Having googled the method signature it seems that `ListNode` is indeed a single-linked list. So *some* level of extra manipulation is necessary. I saw solutions that just reversed the second half of the list in-place and then did a single iteration over both halves simultaneously.  I have no idea if that&#39;s faster than a naive ArrayList implementation.","body":"Having googled the method signature it seems that <code>ListNode</code> is indeed a single-linked list. So <i>some</i> level of extra manipulation is necessary. I saw solutions that just reversed the second half of the list in-place and then did a single iteration over both halves simultaneously.  I have no idea if that&#39;s faster than a naive ArrayList implementation."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644497163,"creation_date":1644362527,"answer_id":71042159,"question_id":71042092,"body_markdown":"First off: `HashMap` methods are *amortized* O(1), which basically means that you can *treat them as if they were O(1) if you use them often enough* because that&#39;s what they&#39;ll be *on average*. But building a hashmap is still a &quot;relatively expensive&quot; operation (a notion that can&#39;t be expressed in bit-O notation, because that one only cares about the asymptotic worst case).\r\n\r\nSecond: you construct a complete, inefficient copy of the list in a `HashMap` which is probably slower than most other approaches.\r\n\r\nThe first optimization is to replace your `HashMap` with a simple `ArrayList`: you only use numeric and strictly monotonically increasing keys anyway, so a list is a perfect match.","title":"Is my Java solution O(n) or am I missing something?","body":"<p>First off: <code>HashMap</code> methods are <em>amortized</em> O(1), which basically means that you can <em>treat them as if they were O(1) if you use them often enough</em> because that's what they'll be <em>on average</em>. But building a hashmap is still a &quot;relatively expensive&quot; operation (a notion that can't be expressed in bit-O notation, because that one only cares about the asymptotic worst case).</p>\n<p>Second: you construct a complete, inefficient copy of the list in a <code>HashMap</code> which is probably slower than most other approaches.</p>\n<p>The first optimization is to replace your <code>HashMap</code> with a simple <code>ArrayList</code>: you only use numeric and strictly monotonically increasing keys anyway, so a list is a perfect match.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644363766,"creation_date":1644363463,"answer_id":71042280,"question_id":71042092,"body_markdown":"&gt; Is my Java solution `O(N)` or am I missing something?\r\n\r\nYes to both!\r\n\r\nYour solution is `O(N)`, **AND** you are missing something.\r\n\r\nThe something that you are missing is that complexity and performance are NOT the same thing.  Complexity is about how some measure (e.g. time taken, space used, etc) *changes* depending on certain problem size variables; e.g. the size of the list `N`.\r\n\r\nPut it another way ... not all `O(N)` solutions to a problem will have the same performance.  Some are faster, some are slower.  \r\n\r\nIn your case, `HashMap` is a relatively expensive data structure.  While it it (amortized) `O(1)` for operations like `get` and `put`, the *constants of proportionality* are large compared with (say) using an `ArrayList` or an array to hold the same information.\r\n\r\nSo ... I expect that the solutions that are faster than yours won&#39;t be using `HashMap`.\r\n\r\n----------------\r\n\r\nThe flipside is that an `O(N^2)` solution *can* be faster than an `O(N)` solution if you only consider values of `N` less than some threshold.  This follows from the mathematical definition of Big O.\r\n\r\nFor instance, if you are sorting arrays of integers *and the array size is small enough*, a naive bubblesort will be faster than quicksort.\r\n\r\n----------------\r\n\r\nIn short: complexity is not performance.","title":"Is my Java solution O(n) or am I missing something?","body":"<blockquote>\n<p>Is my Java solution <code>O(N)</code> or am I missing something?</p>\n</blockquote>\n<p>Yes to both!</p>\n<p>Your solution is <code>O(N)</code>, <strong>AND</strong> you are missing something.</p>\n<p>The something that you are missing is that complexity and performance are NOT the same thing.  Complexity is about how some measure (e.g. time taken, space used, etc) <em>changes</em> depending on certain problem size variables; e.g. the size of the list <code>N</code>.</p>\n<p>Put it another way ... not all <code>O(N)</code> solutions to a problem will have the same performance.  Some are faster, some are slower.</p>\n<p>In your case, <code>HashMap</code> is a relatively expensive data structure.  While it it (amortized) <code>O(1)</code> for operations like <code>get</code> and <code>put</code>, the <em>constants of proportionality</em> are large compared with (say) using an <code>ArrayList</code> or an array to hold the same information.</p>\n<p>So ... I expect that the solutions that are faster than yours won't be using <code>HashMap</code>.</p>\n<hr />\n<p>The flipside is that an <code>O(N^2)</code> solution <em>can</em> be faster than an <code>O(N)</code> solution if you only consider values of <code>N</code> less than some threshold.  This follows from the mathematical definition of Big O.</p>\n<p>For instance, if you are sorting arrays of integers <em>and the array size is small enough</em>, a naive bubblesort will be faster than quicksort.</p>\n<hr />\n<p>In short: complexity is not performance.</p>\n"}],"owner":{"account_id":22810977,"reputation":23,"user_id":16962274,"display_name":"Aloysius Blue Whale"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71042280,"answer_count":2,"score":1,"last_activity_date":1644497163,"creation_date":1644362062,"question_id":71042092,"body_markdown":"My solution for a certain problem is apparently slower than 95% of solutions and I wanted to make sure that I was correct on the time complexity. \r\n\r\nIt looks to me like this code is O(n). I use a couple of loops that are at most O(n) and they aren&#39;t nested so I don&#39;t believe the solution is n^2.\r\n\r\nI use a HashMap as storage and use HashMap methods which are O(1) inside my while and for-loop for insertion and look ups respectively. \r\n\r\nAm I correct in that this solution is O(n) or am I missing something?         \r\n\r\n     public int pairSum(ListNode head) {\r\n        \r\n        HashMap&lt;Integer, Integer&gt; nodeVals = new HashMap&lt;Integer, Integer&gt;();\r\n        \r\n        int count = 0;\r\n        \r\n        ListNode current = head;\r\n        nodeVals.put(count, current.val);\r\n        count++; \r\n        \r\n        while (current.next != null) {\r\n            current = current.next;\r\n            nodeVals.put(count, current.val);\r\n            count++;\r\n        }\r\n        \r\n        int maxTwinSum = 0;\r\n        for (int i = 0; i &lt; nodeVals.size() / 2; i++) {\r\n            int currTwinSum;\r\n            currTwinSum = nodeVals.get(i) + nodeVals.get(nodeVals.size() - 1 - i);\r\n            if (currTwinSum &gt; maxTwinSum) maxTwinSum = currTwinSum;\r\n        }\r\n        \r\n        return maxTwinSum;\r\n    }","title":"Is my Java solution O(n) or am I missing something?","body":"<p>My solution for a certain problem is apparently slower than 95% of solutions and I wanted to make sure that I was correct on the time complexity.</p>\n<p>It looks to me like this code is O(n). I use a couple of loops that are at most O(n) and they aren't nested so I don't believe the solution is n^2.</p>\n<p>I use a HashMap as storage and use HashMap methods which are O(1) inside my while and for-loop for insertion and look ups respectively.</p>\n<p>Am I correct in that this solution is O(n) or am I missing something?</p>\n<pre><code> public int pairSum(ListNode head) {\n    \n    HashMap&lt;Integer, Integer&gt; nodeVals = new HashMap&lt;Integer, Integer&gt;();\n    \n    int count = 0;\n    \n    ListNode current = head;\n    nodeVals.put(count, current.val);\n    count++; \n    \n    while (current.next != null) {\n        current = current.next;\n        nodeVals.put(count, current.val);\n        count++;\n    }\n    \n    int maxTwinSum = 0;\n    for (int i = 0; i &lt; nodeVals.size() / 2; i++) {\n        int currTwinSum;\n        currTwinSum = nodeVals.get(i) + nodeVals.get(nodeVals.size() - 1 - i);\n        if (currTwinSum &gt; maxTwinSum) maxTwinSum = currTwinSum;\n    }\n    \n    return maxTwinSum;\n}\n</code></pre>\n"},{"tags":["java","spring","unit-testing","mockito","spring-boot-test"],"answers":[{"tags":[],"owner":{"display_name":"user1373996"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644496996,"creation_date":1644496996,"answer_id":71065308,"question_id":71056051,"body_markdown":"This is because you don&#39;t have `restTemplate`, so `restTemplate` is null.\r\n\r\nTo initialise this, in the test:\r\n\r\n- You need to declare restTemplate. E.g.\r\n```\r\n@Mock\r\nprivate RestTemplate restTemplate;\r\n```\r\n\r\n- Then you need to inject this to your `mockMvc`. E.g.\r\n```\r\n@Inject\r\nprivate Mvc mockMvc;\r\n```\r\n\r\nIn case of you&#39;re not writing test using the annotation style like this. You can do:\r\n```\r\n@Before\r\npublic void setUp() {\r\n    restTemplate = Mockito.mock(RestTemplate.class);\r\n    mockMvc = new MockMvc(restTemplate);\r\n}\r\n```\r\n\r\nP/S: If `mockMvc` is the one you&#39;re gonna test, so don&#39;t name it as prefix `mock`, it&#39;s confused.\r\n","title":"NullPointerException Mock when use RestTemplate","body":"<p>This is because you don't have <code>restTemplate</code>, so <code>restTemplate</code> is null.</p>\n<p>To initialise this, in the test:</p>\n<ul>\n<li>You need to declare restTemplate. E.g.</li>\n</ul>\n<pre><code>@Mock\nprivate RestTemplate restTemplate;\n</code></pre>\n<ul>\n<li>Then you need to inject this to your <code>mockMvc</code>. E.g.</li>\n</ul>\n<pre><code>@Inject\nprivate Mvc mockMvc;\n</code></pre>\n<p>In case of you're not writing test using the annotation style like this. You can do:</p>\n<pre><code>@Before\npublic void setUp() {\n    restTemplate = Mockito.mock(RestTemplate.class);\n    mockMvc = new MockMvc(restTemplate);\n}\n</code></pre>\n<p>P/S: If <code>mockMvc</code> is the one you're gonna test, so don't name it as prefix <code>mock</code>, it's confused.</p>\n"}],"owner":{"account_id":22973478,"reputation":51,"user_id":17101472,"display_name":"p1e0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71065308,"answer_count":1,"score":0,"last_activity_date":1644496996,"creation_date":1644437357,"question_id":71056051,"body_markdown":"I am new to using **mockito** and I have a problem. I wrote a *controller* test and it uses **restTemplate** to get data from another *api*, but when I run the *test*, the variable of this type is **null**. In result **NullPointerException.**\r\n \r\nWhat could be the problem?\r\n\r\n\r\n\r\n**Controlle:**\r\n``` lang-java\r\n @GetMapping(value = &quot;api/cstat&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;List&lt;String&gt;&gt; cstat() {\r\n               ResponseEntity&lt;DTO&gt; response =                  // &lt;=====NPE\r\n                            restTemplate.exchange(uri, HttpMethod.GET, entity, DTO.class);    \r\n\r\n                    if (response.getBody() != null).     //&lt;==== AND HERE NPE(on future))\r\n                    {\r\n                       ...\r\n                    } else {\r\n                        ...\r\n                    }\r\n}\r\n```\r\n**Test:**\r\n```lang-java:\r\n   \r\n            Dto expected = new Dto();\r\n\r\n            String actual = mockMvc.perform(MockMvcRequestBuilders\r\n                                .get(&quot;/api/cstat&quot;).with(roleLmsRead()))\r\n                        .andExpect(status().isOk()).andReturn().getResponse().getContentAsString();\r\n```","title":"NullPointerException Mock when use RestTemplate","body":"<p>I am new to using <strong>mockito</strong> and I have a problem. I wrote a <em>controller</em> test and it uses <strong>restTemplate</strong> to get data from another <em>api</em>, but when I run the <em>test</em>, the variable of this type is <strong>null</strong>. In result <strong>NullPointerException.</strong></p>\n<p>What could be the problem?</p>\n<p><strong>Controlle:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code> @GetMapping(value = &quot;api/cstat&quot;, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;List&lt;String&gt;&gt; cstat() {\n               ResponseEntity&lt;DTO&gt; response =                  // &lt;=====NPE\n                            restTemplate.exchange(uri, HttpMethod.GET, entity, DTO.class);    \n\n                    if (response.getBody() != null).     //&lt;==== AND HERE NPE(on future))\n                    {\n                       ...\n                    } else {\n                        ...\n                    }\n}\n</code></pre>\n<p><strong>Test:</strong></p>\n<pre><code>   \n            Dto expected = new Dto();\n\n            String actual = mockMvc.perform(MockMvcRequestBuilders\n                                .get(&quot;/api/cstat&quot;).with(roleLmsRead()))\n                        .andExpect(status().isOk()).andReturn().getResponse().getContentAsString();\n</code></pre>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1644496998,"post_id":71065232,"comment_id":125625559,"body_markdown":"Tested in &quot;pure&quot; Java and it works. The value is: 1644220024. This is probably a problem in the library version.","body":"Tested in &quot;pure&quot; Java and it works. The value is: 1644220024. This is probably a problem in the library version."},{"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"score":0,"creation_date":1644499582,"post_id":71065232,"comment_id":125626596,"body_markdown":"In java you can try this code: new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss &#39;UTC&#39; yyyy&quot;).parse(&quot;Mon Feb 07 07:47:04 UTC 2022&quot;).getTime();","body":"In java you can try this code: new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss &#39;UTC&#39; yyyy&quot;).parse(&quot;Mon Feb 07 07:47:04 UTC 2022&quot;).getTime();"},{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":0,"creation_date":1644500956,"post_id":71065232,"comment_id":125627190,"body_markdown":"The `uuuu` in your pattern makes no sense. As per https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html this denotes a day of the week where as you supply a year in your examples. Replace it with `YYYY` instead.","body":"The <code>uuuu</code> in your pattern makes no sense. As per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/text/&hellip;</a> this denotes a day of the week where as you supply a year in your examples. Replace it with <code>YYYY</code> instead."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1644501191,"post_id":71065232,"comment_id":125627300,"body_markdown":"You probably need `MMM` instead of `LLL` in your format pattern string. While `LLL` may work on some Java versions, it is not strictly correct when the string includes a day of month.","body":"You probably need <code>MMM</code> instead of <code>LLL</code> in your format pattern string. While <code>LLL</code> may work on some Java versions, it is not strictly correct when the string includes a day of month."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1644501434,"post_id":71065232,"comment_id":125627423,"body_markdown":"@Alex The `uuuu` is correct. You are referring to the wrong documentation.","body":"@Alex The <code>uuuu</code> is correct. You are referring to the wrong documentation."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1644501487,"post_id":71065232,"comment_id":125627453,"body_markdown":"@user3458271 Please donâ€™t suggest the long outdated and notoriously troublesome `SimpleDateFormat` class. the OP is already wisely using [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`.","body":"@user3458271 Please donâ€™t suggest the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. the OP is already wisely using <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1644501636,"post_id":71065232,"comment_id":125627517,"body_markdown":"I believe that the question in your title [is answered by Arvind Kumar Avinash here](https://stackoverflow.com/a/67323750/5772882).","body":"I believe that the question in your title <a href=\"https://stackoverflow.com/a/67323750/5772882\">is answered by Arvind Kumar Avinash here</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1644502210,"post_id":71065232,"comment_id":125627744,"body_markdown":"A simple way: set `df` to `DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;, Locale.ROOT)` and then have your method return `ZonedDateTime.parse(s, df).toEpochSecond()`. It will give inaccurate results for years before the Julian/Gregorian crossover in 1583, though.","body":"A simple way: set <code>df</code> to <code>DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;, Locale.ROOT)</code> and then have your method return <code>ZonedDateTime.parse(s, df).toEpochSecond()</code>. It will give inaccurate results for years before the Julian/Gregorian crossover in 1583, though."}],"owner":{"account_id":5055889,"reputation":986,"user_id":4059141,"accept_rate":62,"display_name":"Alex Kerr"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644496648,"creation_date":1644496648,"question_id":71065232,"body_markdown":"Example input string: `Mon Feb 07 07:47:04 UTC 2022`\r\n\r\nI have tried various different patterns, and none work, mostly I get the error: \r\n\r\n    java.time.format.DateTimeParseException: Text &#39;Mon Feb 07 07:47:04 UTC 2022&#39; could not be parsed at index 4\r\n\r\nThis is my code (it&#39;s spark/scala but using Java libraries as is allowed). I need to convert strings of the form above, into a numeric value in seconds since the Unix epoch. I don&#39;t have control over the input format (it&#39;s from an external API) - I could use string manipulation on it if I really had to, but ideally just need to find a pattern that the formatter accepts.\r\n\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeFormatterBuilder;\r\n    import java.util.Locale;\r\n    import java.time.ZoneOffset;\r\n    import java.time.LocalDateTime;\r\n    \r\n    def df = new DateTimeFormatterBuilder().parseCaseInsensitive().appendPattern(&quot;EEE LLL d H:m:s &#39;UTC&#39; uuuu&quot;).toFormatter(Locale.ENGLISH);\r\n    \r\n    def dateTimeStringToEpoch(s: String): Long = LocalDateTime.parse(s, df).toEpochSecond(ZoneOffset.UTC)\r\n\r\n    println(dateTimeStringToEpoch(&quot;Mon Feb 07 07:47:04 UTC 2022&quot;));\r\n\r\nThanks","title":"java.time.format.DateTimeParseException - what&#39;s the correct pattern to parse this date time string?","body":"<p>Example input string: <code>Mon Feb 07 07:47:04 UTC 2022</code></p>\n<p>I have tried various different patterns, and none work, mostly I get the error:</p>\n<pre><code>java.time.format.DateTimeParseException: Text 'Mon Feb 07 07:47:04 UTC 2022' could not be parsed at index 4\n</code></pre>\n<p>This is my code (it's spark/scala but using Java libraries as is allowed). I need to convert strings of the form above, into a numeric value in seconds since the Unix epoch. I don't have control over the input format (it's from an external API) - I could use string manipulation on it if I really had to, but ideally just need to find a pattern that the formatter accepts.</p>\n<pre><code>import java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.util.Locale;\nimport java.time.ZoneOffset;\nimport java.time.LocalDateTime;\n\ndef df = new DateTimeFormatterBuilder().parseCaseInsensitive().appendPattern(&quot;EEE LLL d H:m:s 'UTC' uuuu&quot;).toFormatter(Locale.ENGLISH);\n\ndef dateTimeStringToEpoch(s: String): Long = LocalDateTime.parse(s, df).toEpochSecond(ZoneOffset.UTC)\n\nprintln(dateTimeStringToEpoch(&quot;Mon Feb 07 07:47:04 UTC 2022&quot;));\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","key","keylistener","keyevent"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1644234914,"post_id":71017799,"comment_id":125542636,"body_markdown":"The keyPressed method does not look bad. How are you using it? What is the surrounding code?","body":"The keyPressed method does not look bad. How are you using it? What is the surrounding code?"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1644235492,"post_id":71017799,"comment_id":125542876,"body_markdown":"I think you should include an [mcve]. Note the &quot;minimal&quot; - not your whole program, just a stripped down version.","body":"I think you should include an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Note the &quot;minimal&quot; - not your whole program, just a stripped down version."}],"answers":[{"tags":[],"owner":{"account_id":11580833,"reputation":71,"user_id":8484784,"display_name":"Sabina MatjaÅ¡iÄ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644247962,"creation_date":1644235859,"answer_id":71018359,"question_id":71017799,"body_markdown":"Your code snippet looks fine. Maybe you didn&#39;t add KeyListener to the frame. \r\n\r\nHere is a working example:\r\n\r\n```\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Frame;\r\nimport java.awt.Label;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\npublic class KeyListenerExample implements KeyListener\r\n{\r\n    public boolean upPressed, downPressed, leftPressed, rightPressed;\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e)\r\n    {\r\n        int code = e.getKeyCode();\r\n        if (code == KeyEvent.VK_W) {\r\n            upPressed = true;\r\n        }\r\n        else if(code == KeyEvent.VK_S){\r\n            downPressed = true;}\r\n\r\n        else if(code == KeyEvent.VK_A){\r\n            leftPressed = true;}\r\n\r\n        else if(code == KeyEvent.VK_D){\r\n            rightPressed = true;}\r\n\r\n        System.out.println(&quot;The key Pressed was: &quot; + e.getKeyChar());\r\n        System.out.println(&quot;upPressed: &quot; + upPressed);\r\n        System.out.println(&quot;downPressed: &quot; + downPressed);\r\n        System.out.println(&quot;leftPressed: &quot; + leftPressed);\r\n        System.out.println(&quot;rightPressed: &quot; + rightPressed);\r\n        System.out.println(&quot;\\n&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        //Setting the Frame and Labels\r\n        Frame f = new Frame(&quot;Demo&quot;);\r\n        f.setLayout(new FlowLayout());\r\n        f.setSize(500, 500);\r\n        Label l = new Label();\r\n        l.setText(&quot;This is a demonstration&quot;);\r\n        f.add(l);\r\n        f.setVisible(true);\r\n\r\n        //Creating and adding the key listener\r\n        KeyListenerExample k = new KeyListenerExample();\r\n        f.addKeyListener(k);\r\n    }\r\n}\r\n```\r\n\r\n","title":"unable to take keyboard inputs in java using KeyListener","body":"<p>Your code snippet looks fine. Maybe you didn't add KeyListener to the frame.</p>\n<p>Here is a working example:</p>\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.Frame;\nimport java.awt.Label;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\npublic class KeyListenerExample implements KeyListener\n{\n    public boolean upPressed, downPressed, leftPressed, rightPressed;\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e)\n    {\n        int code = e.getKeyCode();\n        if (code == KeyEvent.VK_W) {\n            upPressed = true;\n        }\n        else if(code == KeyEvent.VK_S){\n            downPressed = true;}\n\n        else if(code == KeyEvent.VK_A){\n            leftPressed = true;}\n\n        else if(code == KeyEvent.VK_D){\n            rightPressed = true;}\n\n        System.out.println(&quot;The key Pressed was: &quot; + e.getKeyChar());\n        System.out.println(&quot;upPressed: &quot; + upPressed);\n        System.out.println(&quot;downPressed: &quot; + downPressed);\n        System.out.println(&quot;leftPressed: &quot; + leftPressed);\n        System.out.println(&quot;rightPressed: &quot; + rightPressed);\n        System.out.println(&quot;\\n&quot;);\n\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n\n    public static void main(String[] args)\n    {\n        //Setting the Frame and Labels\n        Frame f = new Frame(&quot;Demo&quot;);\n        f.setLayout(new FlowLayout());\n        f.setSize(500, 500);\n        Label l = new Label();\n        l.setText(&quot;This is a demonstration&quot;);\n        f.add(l);\n        f.setVisible(true);\n\n        //Creating and adding the key listener\n        KeyListenerExample k = new KeyListenerExample();\n        f.addKeyListener(k);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23195155,"reputation":25,"user_id":17290917,"display_name":"PROMAN8625"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71018359,"answer_count":1,"score":1,"last_activity_date":1644496571,"creation_date":1644233240,"question_id":71017799,"body_markdown":"i am trying to take keyboard inputs to change the boolean&#39;s value but keylisteners are not working  \r\nthose bolleans values will be used later in other class  \r\nheres the method i am having issues with\r\n```\r\npublic boolean upPressed, downPressed, leftPressed, rightPressed;\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\tint code = e.getKeyCode();\r\n\t\tif(code == KeyEvent.VK_W){\r\n\t\t\tupPressed = true;}\r\n\t\t\r\n\t\telse if(code == KeyEvent.VK_S){\r\n\t\t\tdownPressed = true;}\r\n\t\t\r\n\t\telse if(code == KeyEvent.VK_A){\r\n\t\t\tleftPressed = true;}\r\n\t\t\r\n\t\telse if(code == KeyEvent.VK_D){\r\n\t\t\trightPressed = true;}\r\n\t\t\r\n\t}\r\n```\r\n\r\ni am using a different class which extends JPanel, frame is in a different class and key listener is in a different class and i have this.setFocusable(true);this.addKeyListener(keyH);\r\n\r\nand if u want, here&#39;s the full code : https://github.com/PROMAN8625/2dGAME","title":"unable to take keyboard inputs in java using KeyListener","body":"<p>i am trying to take keyboard inputs to change the boolean's value but keylisteners are not working<br />\nthose bolleans values will be used later in other class<br />\nheres the method i am having issues with</p>\n<pre><code>public boolean upPressed, downPressed, leftPressed, rightPressed;\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        int code = e.getKeyCode();\n        if(code == KeyEvent.VK_W){\n            upPressed = true;}\n        \n        else if(code == KeyEvent.VK_S){\n            downPressed = true;}\n        \n        else if(code == KeyEvent.VK_A){\n            leftPressed = true;}\n        \n        else if(code == KeyEvent.VK_D){\n            rightPressed = true;}\n        \n    }\n</code></pre>\n<p>i am using a different class which extends JPanel, frame is in a different class and key listener is in a different class and i have this.setFocusable(true);this.addKeyListener(keyH);</p>\n<p>and if u want, here's the full code : <a href=\"https://github.com/PROMAN8625/2dGAME\" rel=\"nofollow noreferrer\">https://github.com/PROMAN8625/2dGAME</a></p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":5,"creation_date":1644419263,"post_id":71051979,"comment_id":125602419,"body_markdown":"I think you should attempt some code.  This is a simple stream/loop.","body":"I think you should attempt some code.  This is a simple stream/loop."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1644419264,"post_id":71051979,"comment_id":125602420,"body_markdown":"Sidenote: You forgot to provide a type for the `invoiceDate` (not that it&#39;s too important, but just for completeness).","body":"Sidenote: You forgot to provide a type for the <code>invoiceDate</code> (not that it&#39;s too important, but just for completeness)."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1644419316,"post_id":71051979,"comment_id":125602441,"body_markdown":"Unrelated but are you sure you should be using `Double` instead of `double`?","body":"Unrelated but are you sure you should be using <code>Double</code> instead of <code>double</code>?"},{"owner":{"account_id":10389301,"reputation":125,"user_id":7661194,"display_name":"Aditya Thakur"},"score":0,"creation_date":1644420156,"post_id":71051979,"comment_id":125602800,"body_markdown":"@markspace I have tried quite a few different things but I am unable to wrap my head around it.","body":"@markspace I have tried quite a few different things but I am unable to wrap my head around it."},{"owner":{"account_id":10389301,"reputation":125,"user_id":7661194,"display_name":"Aditya Thakur"},"score":0,"creation_date":1644420219,"post_id":71051979,"comment_id":125602823,"body_markdown":"@Nexevis Double is what I have to use here.","body":"@Nexevis Double is what I have to use here."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1644420415,"post_id":71051979,"comment_id":125602892,"body_markdown":"And you shouldn&#39;t use `Date`, as it is obsolete. Use classes from the `java.time` package. In your case probably `LocalDate`.","body":"And you shouldn&#39;t use <code>Date</code>, as it is obsolete. Use classes from the <code>java.time</code> package. In your case probably <code>LocalDate</code>."}],"answers":[{"tags":[],"owner":{"account_id":11224986,"reputation":2603,"user_id":8234870,"display_name":"Udesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644422424,"creation_date":1644422424,"answer_id":71052820,"question_id":71051979,"body_markdown":"Iterate over the list which are duplicate combine them to one AccountInfo and remove all the duplicates.\r\n\r\nSince Date is deprecated we have used java.time.LocalDate.\r\n\r\nCode:\r\n-----\r\n\r\n    import java.time.LocalDate;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    class AccountInfo {\r\n        private String accountId;\r\n    \r\n        private Double vat;\r\n        private Double totalFee;\r\n        private LocalDate invoiceDate;\r\n    \r\n        public Double getVat() {\r\n            return vat;\r\n        }\r\n    \r\n        public void setVat(Double vat) {\r\n            this.vat = vat;\r\n        }\r\n    \r\n        public Double getTotalFee() {\r\n            return totalFee;\r\n        }\r\n    \r\n        public void setTotalFee(Double totalFee) {\r\n            this.totalFee = totalFee;\r\n        }\r\n    \r\n        public LocalDate getInvoiceDate() {\r\n            return invoiceDate;\r\n        }\r\n    \r\n        public void setInvoiceDate(LocalDate invoiceDate) {\r\n            this.invoiceDate = invoiceDate;\r\n        }\r\n    \r\n        public AccountInfo(String accountId, Double vat, Double totalFee, LocalDate invoiceDate) {\r\n            this.accountId = accountId;\r\n            this.vat = vat;\r\n            this.totalFee = totalFee;\r\n            this.invoiceDate = invoiceDate;\r\n        }\r\n    \r\n        public String getAccountId() {\r\n            return accountId;\r\n        }\r\n    \r\n        public void setAccountId(String accountId) {\r\n            this.accountId = accountId;\r\n        }\r\n    \r\n        public String toString() {\r\n            return accountId + &quot; &quot; + vat + &quot; &quot; + totalFee + &quot; &quot; + invoiceDate;\r\n        }\r\n    \r\n        public boolean areEquals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            AccountInfo that = (AccountInfo) o;\r\n            var thatInvoiceDate = that.getInvoiceDate();\r\n            var thisInvoiceDate = getInvoiceDate();\r\n            return that.getAccountId().equals(getAccountId()) &amp;&amp; thatInvoiceDate.isEqual(thisInvoiceDate);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(accountId, vat, totalFee, invoiceDate);\r\n        }\r\n    }\r\n    \r\n    public class MainClass {\r\n        public static void main(String... $) {\r\n            var out = System.out;\r\n            \r\n            List&lt;AccountInfo&gt; accounts = Stream.of(new AccountInfo(&quot;A&quot;, 20.2, 200.4, LocalDate.of(2022, 11, 3))\r\n                    , new AccountInfo(&quot;A&quot;, 20.2, 200.4, LocalDate.of(2022, 11, 3)),\r\n                    new AccountInfo(&quot;B&quot;, 20.2, 200.4, LocalDate.of(2023, 11, 2)),\r\n                    new AccountInfo(&quot;B&quot;, 20.2, 200.4, LocalDate.of(2023, 11, 2))).collect(Collectors.toList());\r\n            \r\n            //Iterating over all the accounts\r\n            for (int i = 0; i &lt; accounts.size(); i++) {\r\n                var account = accounts.get(i);\r\n                ArrayList&lt;AccountInfo&gt; duplicates = new ArrayList&lt;&gt;();\r\n                for (int j = i + 1; j &lt; accounts.size(); j++) {\r\n                    var acc = accounts.get(j);\r\n                    if (acc.areEquals(account))\r\n                        duplicates.add(acc);\r\n                }\r\n    //            out.println(i + &quot; &quot; + indices);\r\n                //Merging all duplicates to account\r\n                for (AccountInfo acc : duplicates) {\r\n                    account.setTotalFee(acc.getTotalFee() + account.getTotalFee());\r\n                    account.setVat(acc.getVat() + account.getVat());\r\n                }\r\n                //Removing all duplicates\r\n                accounts.removeAll(duplicates);\r\n            }\r\n            //printing accounts after removal of duplicates\r\n            out.println(accounts);\r\n        }\r\n    }\r\n\r\nOutput: \r\n-------\r\n    [A 40.4 400.8 2022-11-03, B 40.4 400.8 2023-11-02]","title":"How to combine 2 or more objects in a list based on certain fields of those objects","body":"<p>Iterate over the list which are duplicate combine them to one AccountInfo and remove all the duplicates.</p>\n<p>Since Date is deprecated we have used java.time.LocalDate.</p>\n<h2>Code:</h2>\n<pre><code>import java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nclass AccountInfo {\n    private String accountId;\n\n    private Double vat;\n    private Double totalFee;\n    private LocalDate invoiceDate;\n\n    public Double getVat() {\n        return vat;\n    }\n\n    public void setVat(Double vat) {\n        this.vat = vat;\n    }\n\n    public Double getTotalFee() {\n        return totalFee;\n    }\n\n    public void setTotalFee(Double totalFee) {\n        this.totalFee = totalFee;\n    }\n\n    public LocalDate getInvoiceDate() {\n        return invoiceDate;\n    }\n\n    public void setInvoiceDate(LocalDate invoiceDate) {\n        this.invoiceDate = invoiceDate;\n    }\n\n    public AccountInfo(String accountId, Double vat, Double totalFee, LocalDate invoiceDate) {\n        this.accountId = accountId;\n        this.vat = vat;\n        this.totalFee = totalFee;\n        this.invoiceDate = invoiceDate;\n    }\n\n    public String getAccountId() {\n        return accountId;\n    }\n\n    public void setAccountId(String accountId) {\n        this.accountId = accountId;\n    }\n\n    public String toString() {\n        return accountId + &quot; &quot; + vat + &quot; &quot; + totalFee + &quot; &quot; + invoiceDate;\n    }\n\n    public boolean areEquals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        AccountInfo that = (AccountInfo) o;\n        var thatInvoiceDate = that.getInvoiceDate();\n        var thisInvoiceDate = getInvoiceDate();\n        return that.getAccountId().equals(getAccountId()) &amp;&amp; thatInvoiceDate.isEqual(thisInvoiceDate);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(accountId, vat, totalFee, invoiceDate);\n    }\n}\n\npublic class MainClass {\n    public static void main(String... $) {\n        var out = System.out;\n        \n        List&lt;AccountInfo&gt; accounts = Stream.of(new AccountInfo(&quot;A&quot;, 20.2, 200.4, LocalDate.of(2022, 11, 3))\n                , new AccountInfo(&quot;A&quot;, 20.2, 200.4, LocalDate.of(2022, 11, 3)),\n                new AccountInfo(&quot;B&quot;, 20.2, 200.4, LocalDate.of(2023, 11, 2)),\n                new AccountInfo(&quot;B&quot;, 20.2, 200.4, LocalDate.of(2023, 11, 2))).collect(Collectors.toList());\n        \n        //Iterating over all the accounts\n        for (int i = 0; i &lt; accounts.size(); i++) {\n            var account = accounts.get(i);\n            ArrayList&lt;AccountInfo&gt; duplicates = new ArrayList&lt;&gt;();\n            for (int j = i + 1; j &lt; accounts.size(); j++) {\n                var acc = accounts.get(j);\n                if (acc.areEquals(account))\n                    duplicates.add(acc);\n            }\n//            out.println(i + &quot; &quot; + indices);\n            //Merging all duplicates to account\n            for (AccountInfo acc : duplicates) {\n                account.setTotalFee(acc.getTotalFee() + account.getTotalFee());\n                account.setVat(acc.getVat() + account.getVat());\n            }\n            //Removing all duplicates\n            accounts.removeAll(duplicates);\n        }\n        //printing accounts after removal of duplicates\n        out.println(accounts);\n    }\n}\n</code></pre>\n<h2>Output:</h2>\n<pre><code>[A 40.4 400.8 2022-11-03, B 40.4 400.8 2023-11-02]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644496481,"creation_date":1644422699,"answer_id":71052901,"question_id":71051979,"body_markdown":"If you want to do it utilizing **Streams** one of the possible ways will be to `collect` the data into the `Map`, using as a key an object that combines `accountId` and `invoiceDate`. \r\n\r\nAll accounts **mapped to the same key** will be **merged**. \r\n\r\nAccounts that **differ** in `accountId` or `invoiceDate` will remain intact.\r\n\r\nAnother option will be to create a nested map. In which `accountId` will be used as a key, a value will be a map which will use in turn `invoiceDate` as a key and a value will be an `AccountInfo`.\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        List&lt;AccountInfo&gt; result = List.of(\r\n                    new AccountInfo(&quot;123&quot;, 80., 180., LocalDate.now()),\r\n                    new AccountInfo(&quot;123&quot;, 120., 590., LocalDate.now()),\r\n                    new AccountInfo(&quot;123&quot;, 30., 120., LocalDate.now().minusDays(3))\r\n                )\r\n                .stream()\r\n                .collect(Collectors.toMap(\r\n                        AccountWrapper::new,\r\n                        UnaryOperator.identity(),\r\n                        (acc1, acc2) -&gt; new AccountInfo(\r\n                                acc1.getAccountId(),\r\n                                acc1.getVat() + acc2.getVat(),\r\n                                acc1.getTotalFee() + acc2.getTotalFee(),\r\n                                acc1.getInvoiceDate())\r\n                ))\r\n                .values().stream()\r\n                .collect(Collectors.toList());\r\n\r\n        result.forEach(System.out::println);\r\n    }\r\n\r\n\r\n\r\n    public record AccountWrapper(String accountId, LocalDate invoiceDate) {\r\n        public AccountWrapper(AccountInfo info) {\r\n            this(info.getAccountId(), info.getInvoiceDate());\r\n        }\r\n    }\r\n```\r\nIf you are using **Java 15 or earlier** AccountWrapper could be implemented as a **regular class**:\r\n```\r\n    public class AccountWrapper {\r\n        private final String accountId;\r\n        private final LocalDate invoiceDate;\r\n\r\n        public AccountWrapper(AccountInfo info) {\r\n            this.accountId = info.getAccountId();\r\n            this.invoiceDate = info.getInvoiceDate();\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(accountId, invoiceDate);\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            AccountWrapper other = (AccountWrapper) o;\r\n            return accountId.equals(other.accountId) &amp;&amp; invoiceDate.equals(other.invoiceDate);\r\n        }\r\n    }\r\n```\r\nVersion with a **nested map**, no auxiliary objects are needed\r\n```\r\n        List&lt;AccountInfo&gt; result = List.of(\r\n                        new AccountInfo(&quot;123&quot;, 80., 180., LocalDate.now()),\r\n                        new AccountInfo(&quot;123&quot;, 120., 590., LocalDate.now()),\r\n                        new AccountInfo(&quot;123&quot;, 30., 120., LocalDate.now().minusDays(3))\r\n                )\r\n                .stream()\r\n                .collect(Collectors.groupingBy(\r\n                        AccountInfo::getAccountId,\r\n                        Collectors.toMap(\r\n                                AccountInfo::getInvoiceDate,\r\n                                UnaryOperator.identity(),\r\n                                (acc1, acc2) -&gt; new AccountInfo(\r\n                                    acc1.getAccountId(),\r\n                                    acc1.getVat() + acc2.getVat(),\r\n                                    acc1.getTotalFee() + acc2.getTotalFee(),\r\n                                    acc1.getInvoiceDate())\r\n                        )))\r\n                .values().stream()\r\n                .flatMap(map -&gt; map.values().stream())\r\n                .collect(Collectors.toList());\r\n\r\n        result.forEach(System.out::println);\r\n```\r\n**output**\r\n```\r\nAccountInfo{accountId=&#39;123&#39;, vat=200.0, totalFee=770.0, invoiceDate=2022-02-09}\r\nAccountInfo{accountId=&#39;123&#39;, vat=30.0, totalFee=120.0, invoiceDate=2022-02-06}\r\n```","title":"How to combine 2 or more objects in a list based on certain fields of those objects","body":"<p>If you want to do it utilizing <strong>Streams</strong> one of the possible ways will be to <code>collect</code> the data into the <code>Map</code>, using as a key an object that combines <code>accountId</code> and <code>invoiceDate</code>.</p>\n<p>All accounts <strong>mapped to the same key</strong> will be <strong>merged</strong>.</p>\n<p>Accounts that <strong>differ</strong> in <code>accountId</code> or <code>invoiceDate</code> will remain intact.</p>\n<p>Another option will be to create a nested map. In which <code>accountId</code> will be used as a key, a value will be a map which will use in turn <code>invoiceDate</code> as a key and a value will be an <code>AccountInfo</code>.</p>\n<pre><code>    public static void main(String[] args) {\n        List&lt;AccountInfo&gt; result = List.of(\n                    new AccountInfo(&quot;123&quot;, 80., 180., LocalDate.now()),\n                    new AccountInfo(&quot;123&quot;, 120., 590., LocalDate.now()),\n                    new AccountInfo(&quot;123&quot;, 30., 120., LocalDate.now().minusDays(3))\n                )\n                .stream()\n                .collect(Collectors.toMap(\n                        AccountWrapper::new,\n                        UnaryOperator.identity(),\n                        (acc1, acc2) -&gt; new AccountInfo(\n                                acc1.getAccountId(),\n                                acc1.getVat() + acc2.getVat(),\n                                acc1.getTotalFee() + acc2.getTotalFee(),\n                                acc1.getInvoiceDate())\n                ))\n                .values().stream()\n                .collect(Collectors.toList());\n\n        result.forEach(System.out::println);\n    }\n\n\n\n    public record AccountWrapper(String accountId, LocalDate invoiceDate) {\n        public AccountWrapper(AccountInfo info) {\n            this(info.getAccountId(), info.getInvoiceDate());\n        }\n    }\n</code></pre>\n<p>If you are using <strong>Java 15 or earlier</strong> AccountWrapper could be implemented as a <strong>regular class</strong>:</p>\n<pre><code>    public class AccountWrapper {\n        private final String accountId;\n        private final LocalDate invoiceDate;\n\n        public AccountWrapper(AccountInfo info) {\n            this.accountId = info.getAccountId();\n            this.invoiceDate = info.getInvoiceDate();\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(accountId, invoiceDate);\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            AccountWrapper other = (AccountWrapper) o;\n            return accountId.equals(other.accountId) &amp;&amp; invoiceDate.equals(other.invoiceDate);\n        }\n    }\n</code></pre>\n<p>Version with a <strong>nested map</strong>, no auxiliary objects are needed</p>\n<pre><code>        List&lt;AccountInfo&gt; result = List.of(\n                        new AccountInfo(&quot;123&quot;, 80., 180., LocalDate.now()),\n                        new AccountInfo(&quot;123&quot;, 120., 590., LocalDate.now()),\n                        new AccountInfo(&quot;123&quot;, 30., 120., LocalDate.now().minusDays(3))\n                )\n                .stream()\n                .collect(Collectors.groupingBy(\n                        AccountInfo::getAccountId,\n                        Collectors.toMap(\n                                AccountInfo::getInvoiceDate,\n                                UnaryOperator.identity(),\n                                (acc1, acc2) -&gt; new AccountInfo(\n                                    acc1.getAccountId(),\n                                    acc1.getVat() + acc2.getVat(),\n                                    acc1.getTotalFee() + acc2.getTotalFee(),\n                                    acc1.getInvoiceDate())\n                        )))\n                .values().stream()\n                .flatMap(map -&gt; map.values().stream())\n                .collect(Collectors.toList());\n\n        result.forEach(System.out::println);\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>AccountInfo{accountId='123', vat=200.0, totalFee=770.0, invoiceDate=2022-02-09}\nAccountInfo{accountId='123', vat=30.0, totalFee=120.0, invoiceDate=2022-02-06}\n</code></pre>\n"}],"owner":{"account_id":10389301,"reputation":125,"user_id":7661194,"display_name":"Aditya Thakur"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":71052901,"answer_count":2,"score":0,"last_activity_date":1644496481,"creation_date":1644419080,"question_id":71051979,"body_markdown":"I&#39;m sorry if the title sounds vague.\r\n\r\nI have an object - \r\n\r\n```\r\n    public class AccountInfo {\r\n        private String accountId;\r\n        private Double vat;\r\n        private Double totalFee;\r\n        private Date invoiceDate;\r\n    }\r\n```\r\n\r\nand there is a list of these objects-\r\n\r\n```\r\nList&lt;AccountInfo&gt; AccountInfoLst;\r\n```\r\n\r\nI want to manipulate this list by combining objects with the same **accountId** by adding up the **vat** and **totalFee** fields, provided they have the same **invoiceDate** as well.\r\n\r\nIf two objects have the same **accountId** but different **invoiceDate**, they shouldn&#39;t be combined.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to combine 2 or more objects in a list based on certain fields of those objects","body":"<p>I'm sorry if the title sounds vague.</p>\n<p>I have an object -</p>\n<pre><code>    public class AccountInfo {\n        private String accountId;\n        private Double vat;\n        private Double totalFee;\n        private Date invoiceDate;\n    }\n</code></pre>\n<p>and there is a list of these objects-</p>\n<pre><code>List&lt;AccountInfo&gt; AccountInfoLst;\n</code></pre>\n<p>I want to manipulate this list by combining objects with the same <strong>accountId</strong> by adding up the <strong>vat</strong> and <strong>totalFee</strong> fields, provided they have the same <strong>invoiceDate</strong> as well.</p>\n<p>If two objects have the same <strong>accountId</strong> but different <strong>invoiceDate</strong>, they shouldn't be combined.</p>\n"},{"tags":["java","python","duckling"],"answers":[{"tags":[],"owner":{"account_id":6814065,"reputation":1,"user_id":5243343,"display_name":"Wang Wei Kung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607119798,"creation_date":1607119798,"answer_id":65151432,"question_id":64841426,"body_markdown":"Short answer: force your jpype version to be below 0.8. i.e. pip install Jpype1==0.7.5\r\n\r\nLonger answer: This is due to one of Duckling&#39;s dependency JPype. If you dive into the code, you&#39;ll see that when starting the JVM using JPype, an argument &quot;convertStrings&quot; needs to be passed. Before V0.8 this argument was by default set to &quot;true&quot;, but it was switch to &quot;false&quot; after that. This should be an easy fix within Duckling if you can modify the package code. If not, then downgrade your Jpype version will also work.\r\n\r\nRef: https://jpype.readthedocs.io/en/latest/api.html","title":"Duckling, int() argument must be a string, a bytes-like object or a number, not &#39;java.lang.String&#39;,","body":"<p>Short answer: force your jpype version to be below 0.8. i.e. pip install Jpype1==0.7.5</p>\n<p>Longer answer: This is due to one of Duckling's dependency JPype. If you dive into the code, you'll see that when starting the JVM using JPype, an argument &quot;convertStrings&quot; needs to be passed. Before V0.8 this argument was by default set to &quot;true&quot;, but it was switch to &quot;false&quot; after that. This should be an easy fix within Duckling if you can modify the package code. If not, then downgrade your Jpype version will also work.</p>\n<p>Ref: <a href=\"https://jpype.readthedocs.io/en/latest/api.html\" rel=\"nofollow noreferrer\">https://jpype.readthedocs.io/en/latest/api.html</a></p>\n"},{"tags":[],"owner":{"account_id":159342,"reputation":25971,"user_id":378594,"accept_rate":84,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644496450,"creation_date":1644496450,"answer_id":71065196,"question_id":64841426,"body_markdown":"This is an incompatibility issue between duckling and Jpype.\r\n\r\nThis worked for me:\r\n\r\n`pip install --force-reinstall JPype1==0.6.3`","title":"Duckling, int() argument must be a string, a bytes-like object or a number, not &#39;java.lang.String&#39;,","body":"<p>This is an incompatibility issue between duckling and Jpype.</p>\n<p>This worked for me:</p>\n<p><code>pip install --force-reinstall JPype1==0.6.3</code></p>\n"}],"owner":{"account_id":17384755,"reputation":31,"user_id":12596285,"display_name":"omkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1644496450,"creation_date":1605417503,"question_id":64841426,"body_markdown":"I want to use duckling for time entity extraction from any string.\r\n\r\nI am trying to use basic code for using duckling.\r\n\r\n    from duckling import DucklingWrapper\r\n    d = DucklingWrapper()\r\n    print(d.parse_time(u&#39;Let\\&#39;s meet at 11:45am&#39;))\r\n\r\nFor this I am getting following error.\r\nint() argument must be a string, a bytes-like object or a number, not &#39;java.lang.String&#39;\r\n\r\ncould anyone please help me with this?\r\n","title":"Duckling, int() argument must be a string, a bytes-like object or a number, not &#39;java.lang.String&#39;,","body":"<p>I want to use duckling for time entity extraction from any string.</p>\n<p>I am trying to use basic code for using duckling.</p>\n<pre><code>from duckling import DucklingWrapper\nd = DucklingWrapper()\nprint(d.parse_time(u'Let\\'s meet at 11:45am'))\n</code></pre>\n<p>For this I am getting following error.\nint() argument must be a string, a bytes-like object or a number, not 'java.lang.String'</p>\n<p>could anyone please help me with this?</p>\n"},{"tags":["java","android","loops","button","stringbuilder"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":1,"creation_date":1644466095,"post_id":71058099,"comment_id":125616273,"body_markdown":"What have you done to attempt to solve this on your own? Post what you have and what the exact problem you&#39;re stuck on is.","body":"What have you done to attempt to solve this on your own? Post what you have and what the exact problem you&#39;re stuck on is."}],"answers":[{"tags":[],"owner":{"account_id":24198106,"reputation":1,"user_id":18156300,"display_name":"Ian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644496310,"creation_date":1644496310,"answer_id":71065162,"question_id":71058099,"body_markdown":"Okay, i figured it out. If anyone runs into this problem, this worked for me. My ***input*** comes from onClick method, which sends a number as string ***&quot;4&quot;***, the loop triggers once, and it&#39;s ready to run again on the next onClick event. \r\n\r\n***countdown*** is declared in the main method as \r\n```private StringBuilder countdown = new StringBuilder(6).append(&quot;000000&quot;);```. \r\n```\r\npublic void countDownTimer(String input){\r\n        int inputLgt = input.length();\r\n        if (clicks&lt;7) {\r\n            for (int i = 0; i &lt; 1; i++) {\r\n                if (inputLgt == 1) {\r\n                    countdown.delete(0, 1);\r\n                    countdown.append(input);\r\n                } else if (inputLgt == 2) {\r\n                    countdown.delete(0, 2);\r\n                    countdown.append(input);\r\n                } else if (inputLgt == 3) {\r\n                    countdown.delete(5, 6);\r\n                    countdown.insert(0,&quot;0&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n        String strNew = countdown.toString();\r\n        String h = strNew.substring(0, 2);\r\n        String m = strNew.substring(2, 4);\r\n        String s = strNew.substring(4, 6);\r\n        String hms = h + &quot;h &quot; + m + &quot;m &quot; + s + &quot;s&quot;;\r\n\r\n        editValue.setText(hms);\r\n        String click = String.valueOf(clicks);\r\n        Log.println(Log.INFO, &quot;Clicks:&quot;, &quot; &quot;+click+&quot; &quot;+strNew);\r\n\r\n    }\r\n```","title":"Perform a repeatable operation on StringBuilder when button pressed","body":"<p>Okay, i figured it out. If anyone runs into this problem, this worked for me. My <em><strong>input</strong></em> comes from onClick method, which sends a number as string <em><strong>&quot;4&quot;</strong></em>, the loop triggers once, and it's ready to run again on the next onClick event.</p>\n<p><em><strong>countdown</strong></em> is declared in the main method as\n<code>private StringBuilder countdown = new StringBuilder(6).append(&quot;000000&quot;);</code>.</p>\n<pre><code>public void countDownTimer(String input){\n        int inputLgt = input.length();\n        if (clicks&lt;7) {\n            for (int i = 0; i &lt; 1; i++) {\n                if (inputLgt == 1) {\n                    countdown.delete(0, 1);\n                    countdown.append(input);\n                } else if (inputLgt == 2) {\n                    countdown.delete(0, 2);\n                    countdown.append(input);\n                } else if (inputLgt == 3) {\n                    countdown.delete(5, 6);\n                    countdown.insert(0,&quot;0&quot;);\n                }\n            }\n        }\n\n        String strNew = countdown.toString();\n        String h = strNew.substring(0, 2);\n        String m = strNew.substring(2, 4);\n        String s = strNew.substring(4, 6);\n        String hms = h + &quot;h &quot; + m + &quot;m &quot; + s + &quot;s&quot;;\n\n        editValue.setText(hms);\n        String click = String.valueOf(clicks);\n        Log.println(Log.INFO, &quot;Clicks:&quot;, &quot; &quot;+click+&quot; &quot;+strNew);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":24198106,"reputation":1,"user_id":18156300,"display_name":"Ian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644496310,"creation_date":1644449472,"question_id":71058099,"body_markdown":"I have a ```StringBulder strB = &quot;123456&quot;;``` and when a numerical button is pressed, i want the method to:\r\n1. Delete first char from strB **(should be &quot;23456&quot;)**\r\n2. Append value from the button on the right side **(e.g. &quot;1&quot;, so &quot;234561&quot;)**\r\n3. Have the resulting value **(&quot;234561&quot;)** be the strB value\r\n4. Have the ability to press one button after the other and it changing the strB (e.g. pressing 2,4,9 now, should result in **steB = &quot;561249&quot;**) And with every one of the button presses the method would do its thing\r\n\r\nHow can I do that? I&#39;ve been sitting over this for the past 3 days. \r\nTried String, StringBuilder, StringBuffer, for loops, if, none of them i could make working beyond a first button click, please help :/","title":"Perform a repeatable operation on StringBuilder when button pressed","body":"<p>I have a <code>StringBulder strB = &quot;123456&quot;;</code> and when a numerical button is pressed, i want the method to:</p>\n<ol>\n<li>Delete first char from strB <strong>(should be &quot;23456&quot;)</strong></li>\n<li>Append value from the button on the right side <strong>(e.g. &quot;1&quot;, so &quot;234561&quot;)</strong></li>\n<li>Have the resulting value <strong>(&quot;234561&quot;)</strong> be the strB value</li>\n<li>Have the ability to press one button after the other and it changing the strB (e.g. pressing 2,4,9 now, should result in <strong>steB = &quot;561249&quot;</strong>) And with every one of the button presses the method would do its thing</li>\n</ol>\n<p>How can I do that? I've been sitting over this for the past 3 days.\nTried String, StringBuilder, StringBuffer, for loops, if, none of them i could make working beyond a first button click, please help :/</p>\n"},{"tags":["java","sqlite","android-11","yandex-maps"],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637511102,"creation_date":1637511102,"answer_id":70056270,"question_id":70055152,"body_markdown":"For distance you need the reverse Haversine formula:\r\n```\r\ndlon = lon2 - lon1\r\ndlat = lat2 - lat1\r\na = (sin(dlat/2))^2 + cos(lat1) * cos(lat2) * (sin(dlon/2))^2\r\nc = 2 * atan2(sqrt(a), sqrt(1-a)) \r\nd = R * c\r\n\r\nR = 6371 # mean radius of the Earth in km\r\n```\r\n(source of formula: [link](https://math.stackexchange.com/questions/474602/reverse-use-of-haversine-formula))\r\n\r\nThe implementation of this in Java would look like the following:\r\n\r\n```\r\nprivate double distance(double lat1, double lon1, double lat2, double lon2) {\r\n    final int R = 6371;\r\n    double latDistance = Math.toRadians(lat2 - lat1);\r\n    double lonDistance = Math.toRadians(lon2 - lon1);\r\n    double a = Math.sin(latDistance / 2) * Math.sin(latDistance / 2) +\r\n            Math.cos(Math.toRadians(lat1)) * Math.cos(Math.toRadians(lat2)) *\r\n                    Math.sin(lonDistance / 2) * Math.sin(lonDistance / 2);\r\n    double c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    return R * c;\r\n}\r\n```","title":"Problem with the calculating distance between locations using Haversine formula","body":"<p>For distance you need the reverse Haversine formula:</p>\n<pre><code>dlon = lon2 - lon1\ndlat = lat2 - lat1\na = (sin(dlat/2))^2 + cos(lat1) * cos(lat2) * (sin(dlon/2))^2\nc = 2 * atan2(sqrt(a), sqrt(1-a)) \nd = R * c\n\nR = 6371 # mean radius of the Earth in km\n</code></pre>\n<p>(source of formula: <a href=\"https://math.stackexchange.com/questions/474602/reverse-use-of-haversine-formula\">link</a>)</p>\n<p>The implementation of this in Java would look like the following:</p>\n<pre><code>private double distance(double lat1, double lon1, double lat2, double lon2) {\n    final int R = 6371;\n    double latDistance = Math.toRadians(lat2 - lat1);\n    double lonDistance = Math.toRadians(lon2 - lon1);\n    double a = Math.sin(latDistance / 2) * Math.sin(latDistance / 2) +\n            Math.cos(Math.toRadians(lat1)) * Math.cos(Math.toRadians(lat2)) *\n                    Math.sin(lonDistance / 2) * Math.sin(lonDistance / 2);\n    double c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22321250,"reputation":67,"user_id":16543854,"display_name":"Wnjklm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644496282,"creation_date":1644496282,"answer_id":71065157,"question_id":70055152,"body_markdown":"```\r\n     /**\r\n     * Calculate the distance between two points in meters using the Haversine formula\r\n     *\r\n     * @param lat latitude of the first point\r\n     * @param lon longitude of the first point\r\n     * @param lat2 latitude of the second point\r\n     * @param lon2 longitude of the second point\r\n     * @return the distance between the two points in meters            \r\n     **/\r\n    public static double distance(double lat, double lon, double lat2, double lon2) {\r\n        final double R = 6371e3;\r\n        final double la = lat * java.lang.Math.PI / 180;\r\n        final double laa = lat2 * java.lang.Math.PI / 180;\r\n        final double lo = (lat2 - lat) * java.lang.Math.PI / 180;\r\n        final double loo = (lon2 - lon) * java.lang.Math.PI / 180;\r\n        final double a = java.lang.Math.sin(lo / 2) * java.lang.Math.sin(lo / 2) + java.lang.Math.cos(la) * java.lang.Math.cos(laa) * java.lang.Math.sin(loo / 2) * java.lang.Math.sin(loo / 2);\r\n        final double c = 2 * java.lang.Math.atan2(java.lang.Math.sqrt(a), java.lang.Math.sqrt(1 - a));\r\n        return R * c;\r\n    }\r\n```","title":"Problem with the calculating distance between locations using Haversine formula","body":"<pre><code>     /**\n     * Calculate the distance between two points in meters using the Haversine formula\n     *\n     * @param lat latitude of the first point\n     * @param lon longitude of the first point\n     * @param lat2 latitude of the second point\n     * @param lon2 longitude of the second point\n     * @return the distance between the two points in meters            \n     **/\n    public static double distance(double lat, double lon, double lat2, double lon2) {\n        final double R = 6371e3;\n        final double la = lat * java.lang.Math.PI / 180;\n        final double laa = lat2 * java.lang.Math.PI / 180;\n        final double lo = (lat2 - lat) * java.lang.Math.PI / 180;\n        final double loo = (lon2 - lon) * java.lang.Math.PI / 180;\n        final double a = java.lang.Math.sin(lo / 2) * java.lang.Math.sin(lo / 2) + java.lang.Math.cos(la) * java.lang.Math.cos(laa) * java.lang.Math.sin(loo / 2) * java.lang.Math.sin(loo / 2);\n        final double c = 2 * java.lang.Math.atan2(java.lang.Math.sqrt(a), java.lang.Math.sqrt(1 - a));\n        return R * c;\n    }\n</code></pre>\n"}],"owner":{"account_id":23394466,"reputation":5,"user_id":17458716,"display_name":"Egor Sharapkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1877,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70056270,"answer_count":2,"score":0,"last_activity_date":1644496282,"creation_date":1637502788,"question_id":70055152,"body_markdown":"I am calculating the distance between two points recorded in the history of Yandex.Maps in the Android 11 app. Everything works well in the getPoints method. We write all the coordinates they were in our database to a list of arrays. I even implemented overflow, exit, and array checks. Again, up to this point, everything worked well and as expected.\r\n\r\n``` \r\npublic ArrayList&lt;Double&gt; getPoints () {\r\n    ArrayList&lt;Double&gt; location = new ArrayList&lt;&gt;();\r\n    SQLiteDatabase db = this.getReadableDatabase();\r\n    Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot;+Table_Name_Location,null);\r\n    if(cursor.getCount() &gt; 0) {\r\n        while (cursor.moveToNext()) {\r\n            Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\r\n            Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\r\n            location.add(latitude);\r\n            location.add(longitude);\r\n        }\r\n    }\r\n    cursor.close();\r\n    return location;\r\n}\r\n```\r\nHowever, when I try to calculate the length in the distance method, several latitudes and longitudes stored in the SQLite database incorrectly calculate the total distance, for example, 450 kilometres, and according to our data, we should get 230 km. A calculation error occurs.\r\n```\r\nprivate double distance(double lat1, double lon1, double lat2, double lon2) {\r\n    double theta = lon1 - lon2;\r\n    double dist = Math.sin(deg2rad(lat1))\r\n        * Math.sin(deg2rad(lat2))\r\n        + Math.cos(deg2rad(lat1))\r\n        * Math.cos(deg2rad(lat2))\r\n        * Math.cos(deg2rad(theta));\r\n    dist = Math.acos(dist);\r\n    dist = rad2deg(dist);\r\n    dist = dist * 60 * 1.1515;\r\n    return (dist);\r\n}\r\n\r\nprivate double deg2rad(double deg) {\r\n    return (deg * Math.PI / 180.0);\r\n}\r\n\r\nprivate double rad2deg(double rad) {\r\n    return (rad * 180.0 / Math.PI);\r\n}\r\n```\r\nI tried to calculate the distance using the haversine formula. I also wrote functions to convert radians to degrees and vice versa. In the distance method, I calculate the distance using the haversine formula. I suspect that the error is in calculating the distance, namely in the implementation of the haversine formula.\r\n","title":"Problem with the calculating distance between locations using Haversine formula","body":"<p>I am calculating the distance between two points recorded in the history of Yandex.Maps in the Android 11 app. Everything works well in the getPoints method. We write all the coordinates they were in our database to a list of arrays. I even implemented overflow, exit, and array checks. Again, up to this point, everything worked well and as expected.</p>\n<pre><code>public ArrayList&lt;Double&gt; getPoints () {\n    ArrayList&lt;Double&gt; location = new ArrayList&lt;&gt;();\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot;+Table_Name_Location,null);\n    if(cursor.getCount() &gt; 0) {\n        while (cursor.moveToNext()) {\n            Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\n            Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\n            location.add(latitude);\n            location.add(longitude);\n        }\n    }\n    cursor.close();\n    return location;\n}\n</code></pre>\n<p>However, when I try to calculate the length in the distance method, several latitudes and longitudes stored in the SQLite database incorrectly calculate the total distance, for example, 450 kilometres, and according to our data, we should get 230 km. A calculation error occurs.</p>\n<pre><code>private double distance(double lat1, double lon1, double lat2, double lon2) {\n    double theta = lon1 - lon2;\n    double dist = Math.sin(deg2rad(lat1))\n        * Math.sin(deg2rad(lat2))\n        + Math.cos(deg2rad(lat1))\n        * Math.cos(deg2rad(lat2))\n        * Math.cos(deg2rad(theta));\n    dist = Math.acos(dist);\n    dist = rad2deg(dist);\n    dist = dist * 60 * 1.1515;\n    return (dist);\n}\n\nprivate double deg2rad(double deg) {\n    return (deg * Math.PI / 180.0);\n}\n\nprivate double rad2deg(double rad) {\n    return (rad * 180.0 / Math.PI);\n}\n</code></pre>\n<p>I tried to calculate the distance using the haversine formula. I also wrote functions to convert radians to degrees and vice versa. In the distance method, I calculate the distance using the haversine formula. I suspect that the error is in calculating the distance, namely in the implementation of the haversine formula.</p>\n"},{"tags":["java","angular","rest","db2"],"comments":[{"owner":{"account_id":6249604,"reputation":841,"user_id":4860179,"display_name":"lemek"},"score":0,"creation_date":1644495656,"post_id":71064749,"comment_id":125625027,"body_markdown":"Well... It depends of what you want to achieve. If you only need to display uppercase strings as camelCase strings on your app, then go for Angular/Front-end approach. However if your rest-api (server side) is public/is used by other apps, and you need to standardise your response, then you might want to pick backend approach or even database one (if you can).","body":"Well... It depends of what you want to achieve. If you only need to display uppercase strings as camelCase strings on your app, then go for Angular/Front-end approach. However if your rest-api (server side) is public/is used by other apps, and you need to standardise your response, then you might want to pick backend approach or even database one (if you can)."}],"answers":[{"tags":[],"owner":{"account_id":19379242,"reputation":17,"user_id":14170887,"display_name":"Orbit Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644495915,"creation_date":1644495915,"answer_id":71065070,"question_id":71064749,"body_markdown":"So I don&#39;t think there&#39;s a *huge difference* in performance or speed.\r\n**However**, if you are working with a **very large amount** of data, doing the conversion at the database level could add a little bit **more time**.\r\n\r\nIt all depends on your context but you can :\r\n* Do it by Angular using the &quot;TitleCasePipe&quot;(https://angular.io/api/common/TitleCasePipe#titlecasepipe) \r\n**or** \r\navoid repetition by doing a &quot;.map()&quot; on the received data by putting in camelCase the concerned fields (*there are a lot of examples out there*). \r\n* Do it on the Business layer of your Backend just making sure to do the transformation before sending the response.\r\n* Finally do it from the database (*not recommended*) but you have to take into account that the code is always faster than a database query.\r\n","title":"Rest API Reponse : Uppercase to camelcase","body":"<p>So I don't think there's a <em>huge difference</em> in performance or speed.\n<strong>However</strong>, if you are working with a <strong>very large amount</strong> of data, doing the conversion at the database level could add a little bit <strong>more time</strong>.</p>\n<p>It all depends on your context but you can :</p>\n<ul>\n<li>Do it by Angular using the &quot;TitleCasePipe&quot;(<a href=\"https://angular.io/api/common/TitleCasePipe#titlecasepipe\" rel=\"nofollow noreferrer\">https://angular.io/api/common/TitleCasePipe#titlecasepipe</a>)\n<strong>or</strong>\navoid repetition by doing a &quot;.map()&quot; on the received data by putting in camelCase the concerned fields (<em>there are a lot of examples out there</em>).</li>\n<li>Do it on the Business layer of your Backend just making sure to do the transformation before sending the response.</li>\n<li>Finally do it from the database (<em>not recommended</em>) but you have to take into account that the code is always faster than a database query.</li>\n</ul>\n"}],"owner":{"account_id":13415586,"reputation":9,"user_id":9680237,"display_name":"Dhirendra Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1644500073,"answer_count":1,"score":-1,"last_activity_date":1644495915,"creation_date":1644494433,"question_id":71064749,"body_markdown":"What is the Best way to convert Uppercase values to camel case.\r\nLets say I have API with response {&quot;name&quot;:&quot;VIRAT KOHLI&quot;,&quot;teams&quot;:&quot;RCB INDIA DELHI&quot;}\r\nShould it be handle  at DB query level or Java level (Business logic) or at Client-side like using Angular pipes. What is the best practices and what is best in terms of performance ?\r\n\r\nAt database I am using simple JDBC query.","title":"Rest API Reponse : Uppercase to camelcase","body":"<p>What is the Best way to convert Uppercase values to camel case.\nLets say I have API with response {&quot;name&quot;:&quot;VIRAT KOHLI&quot;,&quot;teams&quot;:&quot;RCB INDIA DELHI&quot;}\nShould it be handle  at DB query level or Java level (Business logic) or at Client-side like using Angular pipes. What is the best practices and what is best in terms of performance ?</p>\n<p>At database I am using simple JDBC query.</p>\n"},{"tags":["java","spring-boot","docker","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10419690,"reputation":95,"user_id":7682676,"display_name":"ib23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644495794,"creation_date":1644495794,"answer_id":71065033,"question_id":71054036,"body_markdown":"The delay was caused because I executed the jar with java -jar. The solution was to have the entrypoint as mvn spring-boot:run","title":"DynamoDB - SpringBoot app inside Docker Containers - Application starts delayed","body":"<p>The delay was caused because I executed the jar with java -jar. The solution was to have the entrypoint as mvn spring-boot:run</p>\n"}],"owner":{"account_id":10419690,"reputation":95,"user_id":7682676,"display_name":"ib23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644495794,"creation_date":1644427456,"question_id":71054036,"body_markdown":"so I have this **docker-compose** where I have my **spring boot** application in one container and my **dynamodb** in another. Everything goes well, the containers are created and started successfully, the application starts to log stuff and then I encounter a strange **delay**. The app is completely booted only after around 3 minutes, and after those 3 minutes it just works, the DB is connected to the app.\r\n\r\nI&#39;ve tried destroying the container and I&#39;ve rebuilt the images from scratch as I thought that maybe something wrecked inside the container when I forcefully closed it, but got the same result.\r\n\r\nBelow you can see the logs of the container with the app.\r\n\r\n[![Logs of my app][1]][1]  \r\n\r\n\r\nIs there anything I am missing here ? Any other ideas to try ?\r\n\r\nI see this weird closing connections log being logged 4 times. And I have no idea if it could be because of this. \r\n\r\nAnyone knows what this java-sdk-http-connection-reaper is ? \r\n\r\n&gt; Closing connections idle longer than 60000 MILLISECONDS\r\n\r\nIf I start the application with some IntelliJ configuration it simply starts with no delay, it connects to the dynamodb container with no issues. (see the screenshot below)\r\n\r\n[![IntelliJ configuration logs][2]][2]\r\n\r\nThank you! Any help is appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w6Ido.png\r\n  [2]: https://i.stack.imgur.com/MLjtD.png","title":"DynamoDB - SpringBoot app inside Docker Containers - Application starts delayed","body":"<p>so I have this <strong>docker-compose</strong> where I have my <strong>spring boot</strong> application in one container and my <strong>dynamodb</strong> in another. Everything goes well, the containers are created and started successfully, the application starts to log stuff and then I encounter a strange <strong>delay</strong>. The app is completely booted only after around 3 minutes, and after those 3 minutes it just works, the DB is connected to the app.</p>\n<p>I've tried destroying the container and I've rebuilt the images from scratch as I thought that maybe something wrecked inside the container when I forcefully closed it, but got the same result.</p>\n<p>Below you can see the logs of the container with the app.</p>\n<p><a href=\"https://i.stack.imgur.com/w6Ido.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w6Ido.png\" alt=\"Logs of my app\" /></a></p>\n<p>Is there anything I am missing here ? Any other ideas to try ?</p>\n<p>I see this weird closing connections log being logged 4 times. And I have no idea if it could be because of this.</p>\n<p>Anyone knows what this java-sdk-http-connection-reaper is ?</p>\n<blockquote>\n<p>Closing connections idle longer than 60000 MILLISECONDS</p>\n</blockquote>\n<p>If I start the application with some IntelliJ configuration it simply starts with no delay, it connects to the dynamodb container with no issues. (see the screenshot below)</p>\n<p><a href=\"https://i.stack.imgur.com/MLjtD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MLjtD.png\" alt=\"IntelliJ configuration logs\" /></a></p>\n<p>Thank you! Any help is appreciated.</p>\n"},{"tags":["java","spring","log4j2","apache-commons","java.util.logging"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644495756,"creation_date":1644495756,"answer_id":71065024,"question_id":71064636,"body_markdown":"A [`LogEvent`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/LogEvent.html) can contain both a message and an exception. If you use the first form:\r\n\r\n```lang-java\r\nLOGGER.error(exception.getMessage());\r\n```\r\n\r\nonly the error message will be recorded and you&#39;ll have a similar output in your logs (depends upon the layout):\r\n\r\n```\r\n[ERROR] - Exception message.\r\n```\r\n\r\nIf you use the second form:\r\n\r\n```lang-java\r\nLOGGER.error(exception.getMessage(), exception);\r\n```\r\n\r\nyou&#39;ll have **both** a message and an exception. This typically outputs the stack trace in the logs:\r\n\r\n```\r\n[ERROR] - Exception message.\r\njava.lang.RuntimeException: Exception message.\r\n\tat pl.copernik.log4j.Log4j2Test.run(Log4j2Test.java:19) [classes/:?]\r\n\tat pl.copernik.log4j.Log4j2Test.main(Log4j2Test.java:15) [classes/:?]\r\n```\r\n\r\nSince you can always configure Log4j 2.x to suppress stack traces from the output (see `alwaysWriteExceptions` in the [`PatternLayout` documentation](https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout)), the second form is always better, as it provides more information.\r\n\r\n**Remark:** Since the stack trace always prints the error&#39;s message, I&#39;d suggest a third form:\r\n\r\n```\r\nLOGGER.error(&quot;An unexpected condition occurred while performing foo: {}&quot;,\r\n    exception.getMessage(), exception);\r\n```\r\n\r\nThis way you can explain the context, when the exception occurred:\r\n\r\n```\r\n[ERROR] - An unexpected condition occurred while performing foo: Exception message.\r\njava.lang.RuntimeException: Exception message.\r\n\tat pl.copernik.log4j.Log4j2Test.run(Log4j2Test.java:19) [classes/:?]\r\n\tat pl.copernik.log4j.Log4j2Test.main(Log4j2Test.java:15) [classes/:?]\r\n```\r\n","title":"What is the difference between LOGGER.error(exception.getMessage()) and LOGGER.error(exception.getMessage(), exception)","body":"<p>A <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/LogEvent.html\" rel=\"nofollow noreferrer\"><code>LogEvent</code></a> can contain both a message and an exception. If you use the first form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LOGGER.error(exception.getMessage());\n</code></pre>\n<p>only the error message will be recorded and you'll have a similar output in your logs (depends upon the layout):</p>\n<pre><code>[ERROR] - Exception message.\n</code></pre>\n<p>If you use the second form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LOGGER.error(exception.getMessage(), exception);\n</code></pre>\n<p>you'll have <strong>both</strong> a message and an exception. This typically outputs the stack trace in the logs:</p>\n<pre><code>[ERROR] - Exception message.\njava.lang.RuntimeException: Exception message.\n    at pl.copernik.log4j.Log4j2Test.run(Log4j2Test.java:19) [classes/:?]\n    at pl.copernik.log4j.Log4j2Test.main(Log4j2Test.java:15) [classes/:?]\n</code></pre>\n<p>Since you can always configure Log4j 2.x to suppress stack traces from the output (see <code>alwaysWriteExceptions</code> in the <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\"><code>PatternLayout</code> documentation</a>), the second form is always better, as it provides more information.</p>\n<p><strong>Remark:</strong> Since the stack trace always prints the error's message, I'd suggest a third form:</p>\n<pre><code>LOGGER.error(&quot;An unexpected condition occurred while performing foo: {}&quot;,\n    exception.getMessage(), exception);\n</code></pre>\n<p>This way you can explain the context, when the exception occurred:</p>\n<pre><code>[ERROR] - An unexpected condition occurred while performing foo: Exception message.\njava.lang.RuntimeException: Exception message.\n    at pl.copernik.log4j.Log4j2Test.run(Log4j2Test.java:19) [classes/:?]\n    at pl.copernik.log4j.Log4j2Test.main(Log4j2Test.java:15) [classes/:?]\n</code></pre>\n"}],"owner":{"account_id":23744337,"reputation":33,"user_id":17761992,"display_name":"Shivam Tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3390,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71065024,"answer_count":1,"score":3,"last_activity_date":1644495756,"creation_date":1644493881,"question_id":71064636,"body_markdown":"[Like in this picture][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V0lhq.jpg \r\n\r\nI know that both of them works fine but I just wanted to know how are they different from each other? PS: I am a beginner.","title":"What is the difference between LOGGER.error(exception.getMessage()) and LOGGER.error(exception.getMessage(), exception)","body":"<p><a href=\"https://i.stack.imgur.com/V0lhq.jpg\" rel=\"nofollow noreferrer\">Like in this picture</a></p>\n<p>I know that both of them works fine but I just wanted to know how are they different from each other? PS: I am a beginner.</p>\n"},{"tags":["java","uml","sequence-diagram","plantuml"],"comments":[{"owner":{"account_id":2864397,"reputation":32481,"user_id":2458991,"display_name":"bruno"},"score":0,"creation_date":1593205938,"post_id":62602005,"comment_id":110708861,"body_markdown":"`looking like external public calls` how can you say that ? They start from the same instance of *DatingService* so they are reflexive messages, not external ones. However to show that better and not consider they can be independent of the call of *process* look at the answer of Jean-Marc Volle. Anyway the fact the operations are private or not is not relevant here and you cannot show that in a sequence diagram/interaction","body":"<code>looking like external public calls</code> how can you say that ? They start from the same instance of <i>DatingService</i> so they are reflexive messages, not external ones. However to show that better and not consider they can be independent of the call of <i>process</i> look at the answer of Jean-Marc Volle. Anyway the fact the operations are private or not is not relevant here and you cannot show that in a sequence diagram/interaction"}],"answers":[{"tags":[],"owner":{"account_id":8084928,"reputation":3153,"user_id":6092788,"display_name":"Jean-Marc Volle"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1644495365,"creation_date":1593202491,"answer_id":62602213,"question_id":62602005,"body_markdown":"You can use `activate` and `deactivate` to show which object is active and use return function calls.\r\n\r\nHere is an example:\r\n\r\n    @startuml\r\n    DatingApp -&gt; DatingRestController: hitExternalApi()\r\n    DatingRestController -&gt; DatingService: process()\r\n    activate DatingService\r\n    DatingService -&gt; DatingService: doSomething()\r\n    DatingService -&gt; DatingService: doSomethingElse()\r\n    DatingService --&gt; DatingRestController\r\n    deactivate DatingService\r\n    @enduml\r\n\r\n[![enter image description here][1]][1]\r\n\r\numl sequence diagram do not have rules for showing private/public methods calls but nothing prevents you from adding your own rules with a legend clarifying how to read your graphics.\r\nYou could for instance use colors to denote private rules\r\n\r\n    @startuml\r\n    legend top left\r\n      &lt;color blue&gt; Blue calls&lt;/color&gt; denote public method calls\r\n      &lt;color red&gt; Red calls&lt;/color&gt; denote private method calls\r\n    endlegend\r\n    DatingApp -[#blue]&gt; DatingRestController: hitExternalApi()\r\n    DatingRestController -[#blue]&gt; DatingService: process()\r\n    activate DatingService \r\n    DatingService -[#red]&gt; DatingService: doSomething()\r\n    DatingService -[#red]&gt; DatingService: doSomethingElse()\r\n    DatingService -[#blue]-&gt; DatingRestController\r\n    deactivate DatingService \r\n    @enduml\r\n\r\n[![enter image description here][2]][2]\r\n\r\nColor can also be used on activation lines but the sequence description is a bit more complex:\r\n\r\n    @startuml\r\n    legend top left\r\n      &lt;color blue&gt; Blue activation &lt;/color&gt; denote public method calls\r\n      &lt;color red&gt; Red activation&lt;/color&gt; denote private method calls\r\n    endlegend\r\n    DatingApp -&gt; DatingRestController: hitExternalApi()\r\n    DatingRestController -&gt; DatingService: process()\r\n    activate DatingService #blue\r\n    \r\n    DatingService -&gt; DatingService: doSomething()\r\n    activate DatingService #red\r\n    deactivate DatingService\r\n    \r\n    DatingService -&gt; DatingService: doSomethingElse()\r\n    activate DatingService #red\r\n    deactivate DatingService\r\n    \r\n    DatingService --&gt; DatingRestController\r\n    \r\n    \r\n    deactivate DatingService \r\n    @enduml\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/anMpI.png\r\n  [2]: https://i.stack.imgur.com/0Cbm3.png\r\n  [3]: https://i.stack.imgur.com/utSj4.png","title":"PlantUML - How to Represent Private Methods as Nested Lifelines inside a Sequence Diagram","body":"<p>You can use <code>activate</code> and <code>deactivate</code> to show which object is active and use return function calls.</p>\n<p>Here is an example:</p>\n<pre><code>@startuml\nDatingApp -&gt; DatingRestController: hitExternalApi()\nDatingRestController -&gt; DatingService: process()\nactivate DatingService\nDatingService -&gt; DatingService: doSomething()\nDatingService -&gt; DatingService: doSomethingElse()\nDatingService --&gt; DatingRestController\ndeactivate DatingService\n@enduml\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/anMpI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/anMpI.png\" alt=\"enter image description here\" /></a></p>\n<p>uml sequence diagram do not have rules for showing private/public methods calls but nothing prevents you from adding your own rules with a legend clarifying how to read your graphics.\nYou could for instance use colors to denote private rules</p>\n<pre><code>@startuml\nlegend top left\n  &lt;color blue&gt; Blue calls&lt;/color&gt; denote public method calls\n  &lt;color red&gt; Red calls&lt;/color&gt; denote private method calls\nendlegend\nDatingApp -[#blue]&gt; DatingRestController: hitExternalApi()\nDatingRestController -[#blue]&gt; DatingService: process()\nactivate DatingService \nDatingService -[#red]&gt; DatingService: doSomething()\nDatingService -[#red]&gt; DatingService: doSomethingElse()\nDatingService -[#blue]-&gt; DatingRestController\ndeactivate DatingService \n@enduml\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0Cbm3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Cbm3.png\" alt=\"enter image description here\" /></a></p>\n<p>Color can also be used on activation lines but the sequence description is a bit more complex:</p>\n<pre><code>@startuml\nlegend top left\n  &lt;color blue&gt; Blue activation &lt;/color&gt; denote public method calls\n  &lt;color red&gt; Red activation&lt;/color&gt; denote private method calls\nendlegend\nDatingApp -&gt; DatingRestController: hitExternalApi()\nDatingRestController -&gt; DatingService: process()\nactivate DatingService #blue\n\nDatingService -&gt; DatingService: doSomething()\nactivate DatingService #red\ndeactivate DatingService\n\nDatingService -&gt; DatingService: doSomethingElse()\nactivate DatingService #red\ndeactivate DatingService\n\nDatingService --&gt; DatingRestController\n\n\ndeactivate DatingService \n@enduml\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/utSj4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/utSj4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593418426,"creation_date":1593418426,"answer_id":62633834,"question_id":62602005,"body_markdown":"So, after much trial and error, I looked at the PlantUML documentation and figured out that the real question was how to denote / represent private method calls as a nested lifeline.\r\n\r\nHere&#39;s my solution:\r\n\r\n```\r\n@startuml\r\nskinparam Shadowing false\r\ntitle __Dating API Sequence Diagram__\\n\r\ncaption \\nVersion 1.0 - 6/26/2020 (Draft)\\n\r\nautonumber\r\nactivate DatingApp\r\nDatingApp -&gt; DatingRestController: hitExternalApi()\r\nactivate DatingRestController\r\nDatingRestController -&gt; DatingService: processService()\r\nactivate DatingService\r\nDatingService -&gt; DatingService: findProfile()\r\nactivate DatingService #90EE90\r\nDatingService -&gt; DatingService: doSomething()\r\nDatingService -&gt; DatingService: doSomethingElse()\r\ndeactivate DatingService\r\nDatingService -&gt; DatingRestController: return retValue\r\nDatingRestController -&gt; DatingApp: jsonPayload\r\ndeactivate DatingRestController\r\ndeactivate DatingApp\r\nlegend bottom right\r\nLegend\r\n|=Color |= Name |= Type |= Lifeline |\r\n|&lt;back:#FFFFFF&gt;           &lt;/back&gt;| DatingApp.hitExternalApi() | method | default |\r\n|&lt;back:#FFFFFF&gt;           &lt;/back&gt;| DatingRestController.processService() | method | default |\r\n|&lt;back:#FFFFFF&gt;           &lt;/back&gt;| DatingService.findProfile | method | default |\r\n|&lt;back:#90EE90&gt;           &lt;/back&gt;| DatingService.doSomething() | method | nested |\r\n|&lt;back:#90EE90&gt;           &lt;/back&gt;| DatingService.doSomethingElse() | method | nested |\r\nendlegend\r\n@enduml\r\n```\r\n\r\n---\r\n\r\nHere&#39;s the generated Sequence Diagram from IntelliJ IDEA:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pOynC.png\r\n\r\n---\r\n\r\nIs there anyway that the ```doSomethingElse()``` method can still point to the green nested pipeline or does its arrow pointing to the default white lifeline containing the calling ```findProfile()``` method correct?\r\n\r\n--- \r\n\r\nPlantUML is a great tool and am looking forward to getting better and better at using it and helping others here with their questions!","title":"PlantUML - How to Represent Private Methods as Nested Lifelines inside a Sequence Diagram","body":"<p>So, after much trial and error, I looked at the PlantUML documentation and figured out that the real question was how to denote / represent private method calls as a nested lifeline.</p>\n<p>Here's my solution:</p>\n<pre><code>@startuml\nskinparam Shadowing false\ntitle __Dating API Sequence Diagram__\\n\ncaption \\nVersion 1.0 - 6/26/2020 (Draft)\\n\nautonumber\nactivate DatingApp\nDatingApp -&gt; DatingRestController: hitExternalApi()\nactivate DatingRestController\nDatingRestController -&gt; DatingService: processService()\nactivate DatingService\nDatingService -&gt; DatingService: findProfile()\nactivate DatingService #90EE90\nDatingService -&gt; DatingService: doSomething()\nDatingService -&gt; DatingService: doSomethingElse()\ndeactivate DatingService\nDatingService -&gt; DatingRestController: return retValue\nDatingRestController -&gt; DatingApp: jsonPayload\ndeactivate DatingRestController\ndeactivate DatingApp\nlegend bottom right\nLegend\n|=Color |= Name |= Type |= Lifeline |\n|&lt;back:#FFFFFF&gt;           &lt;/back&gt;| DatingApp.hitExternalApi() | method | default |\n|&lt;back:#FFFFFF&gt;           &lt;/back&gt;| DatingRestController.processService() | method | default |\n|&lt;back:#FFFFFF&gt;           &lt;/back&gt;| DatingService.findProfile | method | default |\n|&lt;back:#90EE90&gt;           &lt;/back&gt;| DatingService.doSomething() | method | nested |\n|&lt;back:#90EE90&gt;           &lt;/back&gt;| DatingService.doSomethingElse() | method | nested |\nendlegend\n@enduml\n</code></pre>\n<hr />\n<p>Here's the generated Sequence Diagram from IntelliJ IDEA:</p>\n<p><a href=\"https://i.stack.imgur.com/pOynC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pOynC.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>Is there anyway that the <code>doSomethingElse()</code> method can still point to the green nested pipeline or does its arrow pointing to the default white lifeline containing the calling <code>findProfile()</code> method correct?</p>\n<hr />\n<p>PlantUML is a great tool and am looking forward to getting better and better at using it and helping others here with their questions!</p>\n"}],"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2008,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62602213,"answer_count":2,"score":2,"last_activity_date":1644495365,"creation_date":1593201429,"question_id":62602005,"body_markdown":"Am using PlantUML to create a sequence diagram which depicts a Dating App hitting a RestfulController (which uses a Service class to process data).\r\n\r\nWhat I am seeking to do is to represent the Service class&#39;s internal private methods via the Sequence Diagram.\r\n\r\n*Note*: This is pseudocode please don&#39;t consider the semantics.\r\n\r\n``` \r\nclass DatingApp {\r\n\t\r\n\tpublic void hitExternalApi() {\r\n\t}\r\n}\r\n```\r\n\r\n---\r\n\r\n```\r\nclass DatingRestController {\r\n\t\r\n\t@Autowired\r\n\tpublic void DatingService;\r\n\r\n\t@GetMethod\r\n\tpublic Object processService() {\r\n\t\treturn DatingService.findProfile();\r\n\t}\r\n}\r\n```\r\n\r\n---\r\n\r\n```\r\nclass DatingService {\r\n\r\n\tpublic Object findProfile() {\r\n        Object retValue = new Object(null, null);\r\n\t\tvar variable1 = doSomething();\r\n\t\tvar varable2 = doSomethingElse();\r\n        return retValue(variable1, variable2);\r\n\t}\r\n\r\n\tprivate String doSomething() {\r\n\t}\r\n\r\n\tprivate String doSomethingElse() {\r\n\t}\r\n}\r\n```\r\n\r\n---\r\n\r\nPlantUML DSL file:\r\n\r\n```\r\n@startuml\r\nDatingApp -&gt; DatingRestController: hitExternalApi()\r\nDatingRestController -&gt; DatingService: processService()\r\nDatingService -&gt; DatingService: findProfile()\r\nDatingService -&gt; DatingService: doSomething()\r\nDatingService -&gt; DatingService: doSomethingElse()\r\nDatingService -&gt; DatingRestController: sent retValue\r\nDatingRestController -&gt; DatingApp: Send JSON\r\n@enduml\r\n```\r\n\r\n---\r\n\r\nMy initial pass:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\nAs you can see that this looks like the DateService class is calling the ```process()``` method and then subsequently calling the ```doSomething()``` and ```doSomethingElse()``` methods.\r\n\r\nHow do I represent that ```doSomething()``` and ```doSomethingElse()``` methods are being called from within ```findProfile()``` lifeline instead of looking like external public calls?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sl2jX.png","title":"PlantUML - How to Represent Private Methods as Nested Lifelines inside a Sequence Diagram","body":"<p>Am using PlantUML to create a sequence diagram which depicts a Dating App hitting a RestfulController (which uses a Service class to process data).</p>\n<p>What I am seeking to do is to represent the Service class's internal private methods via the Sequence Diagram.</p>\n<p><em>Note</em>: This is pseudocode please don't consider the semantics.</p>\n<pre><code>class DatingApp {\n    \n    public void hitExternalApi() {\n    }\n}\n</code></pre>\n<hr />\n<pre><code>class DatingRestController {\n    \n    @Autowired\n    public void DatingService;\n\n    @GetMethod\n    public Object processService() {\n        return DatingService.findProfile();\n    }\n}\n</code></pre>\n<hr />\n<pre><code>class DatingService {\n\n    public Object findProfile() {\n        Object retValue = new Object(null, null);\n        var variable1 = doSomething();\n        var varable2 = doSomethingElse();\n        return retValue(variable1, variable2);\n    }\n\n    private String doSomething() {\n    }\n\n    private String doSomethingElse() {\n    }\n}\n</code></pre>\n<hr />\n<p>PlantUML DSL file:</p>\n<pre><code>@startuml\nDatingApp -&gt; DatingRestController: hitExternalApi()\nDatingRestController -&gt; DatingService: processService()\nDatingService -&gt; DatingService: findProfile()\nDatingService -&gt; DatingService: doSomething()\nDatingService -&gt; DatingService: doSomethingElse()\nDatingService -&gt; DatingRestController: sent retValue\nDatingRestController -&gt; DatingApp: Send JSON\n@enduml\n</code></pre>\n<hr />\n<p>My initial pass:</p>\n<p><a href=\"https://i.stack.imgur.com/Sl2jX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sl2jX.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>As you can see that this looks like the DateService class is calling the <code>process()</code> method and then subsequently calling the <code>doSomething()</code> and <code>doSomethingElse()</code> methods.</p>\n<p>How do I represent that <code>doSomething()</code> and <code>doSomethingElse()</code> methods are being called from within <code>findProfile()</code> lifeline instead of looking like external public calls?</p>\n"},{"tags":["java","session","websocket","null","client"],"comments":[{"owner":{"account_id":18882935,"reputation":123,"user_id":13774966,"display_name":"L0ren2"},"score":0,"creation_date":1641933589,"post_id":42877790,"comment_id":124936727,"body_markdown":"Hey, I dont know the solution to your problem but at least your not alone anymore. I have the same problem and I did not find any solution (even four years later)... Maybe someone could finally answer this?","body":"Hey, I dont know the solution to your problem but at least your not alone anymore. I have the same problem and I did not find any solution (even four years later)... Maybe someone could finally answer this?"}],"answers":[{"tags":[],"owner":{"account_id":18882935,"reputation":123,"user_id":13774966,"display_name":"L0ren2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644495338,"creation_date":1644495338,"answer_id":71064942,"question_id":42877790,"body_markdown":"I think I now do know the answer to this.\r\n\r\nYou are probably using tomcat or some other server for this. When you see &quot;tomcat&quot; in this answer, please insert the name of your actually used server.\r\n\r\nWhen a connection to your websocket is opened, tomcat will create an instance of the websocket (your `Client`) class by itself. This means, the `onOpen`-Method will be called and it will look as if it was you who created the instance, who opened the connection, when really *you did not*. Tomcat did.\r\n\r\nThis in turn means, that when you call `sendMessage` on your Client instance, the session will be `null`, because this object never connected anywhere.\r\n\r\nOh, and you don&#39;t have access to the connected instance that was created by tomcat.\r\n\r\nOne way of fixing this would be to do all the work inside the `onOpen`-Method, however that is not practical. You may want to put the work in another method and call it from `onOpen`. That way, the instance created by tomcat will do the necessary work. \r\n\r\nIn my project I needed to poll on an MQTT-Topic and render the data on a website (university assignment). I did the polling in a separate class, resulting in hard to debug errors whenever trying to send received data with my `sendMessage`-method.\r\n\r\nI hope this answer does clear this up a little, if not for you, maybe at least for future generations having the same university assignment...","title":"Java WebSocket session resulting to null after onOpen","body":"<p>I think I now do know the answer to this.</p>\n<p>You are probably using tomcat or some other server for this. When you see &quot;tomcat&quot; in this answer, please insert the name of your actually used server.</p>\n<p>When a connection to your websocket is opened, tomcat will create an instance of the websocket (your <code>Client</code>) class by itself. This means, the <code>onOpen</code>-Method will be called and it will look as if it was you who created the instance, who opened the connection, when really <em>you did not</em>. Tomcat did.</p>\n<p>This in turn means, that when you call <code>sendMessage</code> on your Client instance, the session will be <code>null</code>, because this object never connected anywhere.</p>\n<p>Oh, and you don't have access to the connected instance that was created by tomcat.</p>\n<p>One way of fixing this would be to do all the work inside the <code>onOpen</code>-Method, however that is not practical. You may want to put the work in another method and call it from <code>onOpen</code>. That way, the instance created by tomcat will do the necessary work.</p>\n<p>In my project I needed to poll on an MQTT-Topic and render the data on a website (university assignment). I did the polling in a separate class, resulting in hard to debug errors whenever trying to send received data with my <code>sendMessage</code>-method.</p>\n<p>I hope this answer does clear this up a little, if not for you, maybe at least for future generations having the same university assignment...</p>\n"}],"owner":{"account_id":6633067,"reputation":131,"user_id":5121117,"accept_rate":14,"display_name":"Yanu312"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1644495338,"creation_date":1489859316,"question_id":42877790,"body_markdown":"I am using websockets for the first time on a javafx project, when I start the program the session is set to the local variable session, but after when I call the sendMessage function the session is back to null. Below please find my client class\r\n\r\n    package myclient;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URI;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import javax.websocket.ClientEndpoint;\r\n    import javax.websocket.ContainerProvider;\r\n    import javax.websocket.DeploymentException;\r\n    import javax.websocket.OnClose;\r\n    import javax.websocket.OnMessage;\r\n    import javax.websocket.OnOpen;\r\n    import javax.websocket.Session;\r\n    import javax.websocket.WebSocketContainer;\r\n    \r\n    @ClientEndpoint\r\n    public class Client extends Application {    \r\n        private static final Logger LOGGER = Logger.getLogger(Client.class.getName());\r\n        private Session session;\r\n        \r\n        @OnOpen\r\n        public void onOpen(Session session){\r\n            this.session = session;\r\n            System.out.println(&quot;Opened Session &quot; + this.session);\r\n        }\r\n     \r\n        @OnClose\r\n        public void onClose(){\r\n            System.out.println(&quot;Closed Session &quot; + this.session);\r\n        }\r\n        \r\n        @OnMessage\r\n        public void onMessage(String msg){\r\n            System.out.println(&quot;Websocket message received! &quot; + msg);   \r\n        }\r\n        \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLClient.fxml&quot;));\r\n            \r\n            Scene scene = new Scene(root);\r\n            \r\n            connectToWebSocket();\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private void connectToWebSocket() {\r\n            System.out.println(&quot;Client WebSocket initialized&gt;&gt;  &quot; + this.session);\r\n          WebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n            try {\r\n                URI uri = URI.create(&quot;ws://localhost:8080/Server/endpoint&quot;);\r\n                container.connectToServer(this, uri);\r\n            } \r\n            catch (DeploymentException | IOException ex) {\r\n                LOGGER.log(Level.SEVERE, null, ex);\r\n                System.exit(-1);\r\n            }\r\n        }\r\n        \r\n        public void sendMessage(String message) throws IOException{\r\n            if(this.session != null){\r\n                    System.out.println(message + &quot;, &quot; + this.session);\r\n                    this.session.getBasicRemote().sendText(message);\r\n            }\r\n            else {\r\n                System.out.println(&quot;Session is null&quot;);\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            launch(args);        \r\n        }\r\n        \r\n    }\r\n\r\nAny suggestions?\r\n\r\nThanks in advance","title":"Java WebSocket session resulting to null after onOpen","body":"<p>I am using websockets for the first time on a javafx project, when I start the program the session is set to the local variable session, but after when I call the sendMessage function the session is back to null. Below please find my client class</p>\n\n<pre><code>package myclient;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URI;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport javax.websocket.ClientEndpoint;\nimport javax.websocket.ContainerProvider;\nimport javax.websocket.DeploymentException;\nimport javax.websocket.OnClose;\nimport javax.websocket.OnMessage;\nimport javax.websocket.OnOpen;\nimport javax.websocket.Session;\nimport javax.websocket.WebSocketContainer;\n\n@ClientEndpoint\npublic class Client extends Application {    \n    private static final Logger LOGGER = Logger.getLogger(Client.class.getName());\n    private Session session;\n\n    @OnOpen\n    public void onOpen(Session session){\n        this.session = session;\n        System.out.println(\"Opened Session \" + this.session);\n    }\n\n    @OnClose\n    public void onClose(){\n        System.out.println(\"Closed Session \" + this.session);\n    }\n\n    @OnMessage\n    public void onMessage(String msg){\n        System.out.println(\"Websocket message received! \" + msg);   \n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(\"FXMLClient.fxml\"));\n\n        Scene scene = new Scene(root);\n\n        connectToWebSocket();\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private void connectToWebSocket() {\n        System.out.println(\"Client WebSocket initialized&gt;&gt;  \" + this.session);\n      WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n        try {\n            URI uri = URI.create(\"ws://localhost:8080/Server/endpoint\");\n            container.connectToServer(this, uri);\n        } \n        catch (DeploymentException | IOException ex) {\n            LOGGER.log(Level.SEVERE, null, ex);\n            System.exit(-1);\n        }\n    }\n\n    public void sendMessage(String message) throws IOException{\n        if(this.session != null){\n                System.out.println(message + \", \" + this.session);\n                this.session.getBasicRemote().sendText(message);\n        }\n        else {\n            System.out.println(\"Session is null\");\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);        \n    }\n\n}\n</code></pre>\n\n<p>Any suggestions?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","selenium","selenium-webdriver","system-properties"],"comments":[{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":0,"creation_date":1644491845,"post_id":71063086,"comment_id":125623591,"body_markdown":"this â€œC/Users/sai/Documents/chromedriver.exe ? Syntax error?","body":"this â€œC/Users/sai/Documents/chromedriver.exe ? Syntax error?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644495118,"creation_date":1644494646,"answer_id":71064796,"question_id":71063086,"body_markdown":"Just like the _key_ _`webdriver.chrome.driver`_ is enclosed within **double quotes**, the _value_ also needs to be enclosed within _**double quotes**_ properly.\r\n\r\nEffectively your line of code will be:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\sai\\\\Documents\\\\chromedriver.exe&quot;);","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: Syntax error on token &quot;Invalid Character&quot; executing Selenium Java program","body":"<p>Just like the <em>key</em> <em><code>webdriver.chrome.driver</code></em> is enclosed within <strong>double quotes</strong>, the <em>value</em> also needs to be enclosed within <em><strong>double quotes</strong></em> properly.</p>\n<p>Effectively your line of code will be:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\sai\\\\Documents\\\\chromedriver.exe&quot;);\n</code></pre>\n"}],"owner":{"account_id":24142176,"reputation":37,"user_id":18108245,"display_name":"Sundar Jakob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71064796,"answer_count":1,"score":1,"last_activity_date":1644495118,"creation_date":1644487377,"question_id":71063086,"body_markdown":"Code trials:\r\n\r\n    package split;\r\n    \r\n    public class locators {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tSystem.setProperty(â€œwebdriver.chrome.driverâ€, â€œC/Users/sai/Documents/chromedriver.exe);\r\n    \t\tWebDriver driver = new ChromeDriver();\r\n    \t\tdriver.get(&quot;https://www.google.com&quot;);\r\n    \t\tdriver.getTitle();\r\n    \t}\r\n    \r\n    }\r\n\r\nErrors: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n    \tSyntax error on token &quot;Invalid Character&quot;, delete this token\r\n    \twebdriver cannot be resolved to a variable\r\n    \tSyntax error on tokens, delete these tokens\r\n    \tUsers cannot be resolved to a variable\r\n    \tsai cannot be resolved to a variable\r\n    \tDocuments cannot be resolved to a variable\r\n    \tchromedriver cannot be resolved to a variable\r\n    \tWebDriver cannot be resolved to a type\r\n    \tChromeDriver cannot be resolved to a type\r\n    \r\n    \tat split.locators.main(locators.java:7)\r\n\r\nSo how to fix this code?","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: Syntax error on token &quot;Invalid Character&quot; executing Selenium Java program","body":"<p>Code trials:</p>\n<pre><code>package split;\n\npublic class locators {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.setProperty(â€œwebdriver.chrome.driverâ€, â€œC/Users/sai/Documents/chromedriver.exe);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.google.com&quot;);\n        driver.getTitle();\n    }\n\n}\n</code></pre>\n<p>Errors:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n    Syntax error on token &quot;Invalid Character&quot;, delete this token\n    webdriver cannot be resolved to a variable\n    Syntax error on tokens, delete these tokens\n    Users cannot be resolved to a variable\n    sai cannot be resolved to a variable\n    Documents cannot be resolved to a variable\n    chromedriver cannot be resolved to a variable\n    WebDriver cannot be resolved to a type\n    ChromeDriver cannot be resolved to a type\n\n    at split.locators.main(locators.java:7)\n</code></pre>\n<p>So how to fix this code?</p>\n"},{"tags":["java","spring","spring-security","spring-saml"],"answers":[{"tags":[],"owner":{"account_id":4295147,"reputation":15433,"user_id":3510410,"display_name":"Vladim&#237;r Sch&#228;fer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1414219550,"creation_date":1414219550,"answer_id":26559980,"question_id":26554673,"body_markdown":"Generally, adding a certificate into IDP&#39;s metadata will make it trusted by Spring SAML, so your approach is correct. One of the following could be causing the problem you&#39;re facing:\r\n\r\n- the ${MC_ALIAS_1} metadata might be your IDP metadata, but you&#39;re currently importing it as if it was SP metadata - are you using metadata generator, or is this really your pre-configured SP metadata?\r\n- you have imported the certificate you found in the IDP&#39;s message into your SP metadata, while it needs to be imported into IDP metadata in order to be trusted\r\n\r\nPosting the SAML message you&#39;re receiving and your complete configuration xml, not just a snippet, would make troubleshooting easier.","title":"Spring SAML handshake failure - Failed to validate untrusted credential against trusted key","body":"<p>Generally, adding a certificate into IDP's metadata will make it trusted by Spring SAML, so your approach is correct. One of the following could be causing the problem you're facing:</p>\n\n<ul>\n<li>the ${MC_ALIAS_1} metadata might be your IDP metadata, but you're currently importing it as if it was SP metadata - are you using metadata generator, or is this really your pre-configured SP metadata?</li>\n<li>you have imported the certificate you found in the IDP's message into your SP metadata, while it needs to be imported into IDP metadata in order to be trusted</li>\n</ul>\n\n<p>Posting the SAML message you're receiving and your complete configuration xml, not just a snippet, would make troubleshooting easier.</p>\n"},{"tags":[],"owner":{"account_id":5649129,"reputation":163,"user_id":4470352,"display_name":"Francisco M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644495042,"creation_date":1644495042,"answer_id":71064881,"question_id":26554673,"body_markdown":"In my case was a metadata entityID missplacing.\r\n\r\nIn the IDP metadata file I had, the entityID was wrong. It was, in fact, the value of SP entityID, which was not correct.\r\n\r\nOnce I fixed it (by setting the correct entityID IDP value) application could establish trust.\r\n\r\nSo if you don&#39;t know the IDP entityID ask for it to the IDP administrator.\r\n\r\nI.E.:\r\n\r\n    &lt;md:EntityDescriptor\r\n\txmlns:md=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot;\r\n\tentityID=&quot;&#171;YOUR IDP ENTITY_ID&#187;&quot;\r\n\t&gt;\r\n\t&lt;md:IDPSSODescriptor protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; &gt;\r\n\t\t&lt;md:KeyDescriptor xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; use=&quot;signing&quot;&gt;\r\n    ...","title":"Spring SAML handshake failure - Failed to validate untrusted credential against trusted key","body":"<p>In my case was a metadata entityID missplacing.</p>\n<p>In the IDP metadata file I had, the entityID was wrong. It was, in fact, the value of SP entityID, which was not correct.</p>\n<p>Once I fixed it (by setting the correct entityID IDP value) application could establish trust.</p>\n<p>So if you don't know the IDP entityID ask for it to the IDP administrator.</p>\n<p>I.E.:</p>\n<pre><code>&lt;md:EntityDescriptor\nxmlns:md=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot;\nentityID=&quot;Â«YOUR IDP ENTITY_IDÂ»&quot;\n&gt;\n&lt;md:IDPSSODescriptor protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; &gt;\n    &lt;md:KeyDescriptor xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; use=&quot;signing&quot;&gt;\n...\n</code></pre>\n"}],"owner":{"account_id":70915,"reputation":1935,"user_id":205230,"display_name":"Mohnish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5369,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26559980,"answer_count":2,"score":3,"last_activity_date":1644495042,"creation_date":1414177716,"question_id":26554673,"body_markdown":"I&#39;m using Spring Security SAML extension for integrating with the ACA healthcare (aka Obamacare) website. It uses IDP Initiated SSO. The SAML handshake fails with the following output\r\n\r\n    org.opensaml.xml.security.keyinfo.provider.InlineX509DataProvider] Single certificate was present, treating as end-entity certificate\r\n    org.opensaml.xml.security.keyinfo.BasicProviderKeyInfoCredentialResolver] Credentials successfully extracted from child {http://www.w3.org/2000/09/xmldsig#}X509Data by provider org.opensaml.xml.security.keyinfo.provider.InlineX509DataProvider\r\n    org.opensaml.xml.security.keyinfo.BasicProviderKeyInfoCredentialResolver] A total of 1 credentials were resolved\r\n    org.opensaml.xml.security.credential.criteria.EvaluableCredentialCriteriaRegistry] Registry could not locate evaluable criteria for criteria class org.opensaml.xml.security.keyinfo.KeyInfoCriteria\r\n    org.opensaml.xml.signature.SignatureValidator] Attempting to validate signature using key from supplied credential\r\n    org.opensaml.xml.signature.SignatureValidator] Creating XMLSignature object\r\n    org.opensaml.xml.signature.SignatureValidator] Validating signature with signature algorithm URI: http://www.w3.org/2000/09/xmldsig#rsa-sha1\r\n    org.opensaml.xml.signature.SignatureValidator] Validation credential key algorithm &#39;RSA&#39;, key instance class &#39;sun.security.rsa.RSAPublicKeyImpl&#39;\r\n    org.opensaml.xml.signature.SignatureValidator] Signature validated with key from supplied credential\r\n    org.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Signature validation using candidate credential was successful\r\n    org.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Successfully verified signature using KeyInfo-derived credential\r\n    org.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Attempting to establish trust of KeyInfo-derived credential\r\n    org.opensaml.xml.security.trust.ExplicitKeyTrustEvaluator] Failed to validate untrusted credential against trusted key\r\n    org.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Failed to establish trust of KeyInfo-derived credential\r\n    org.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Failed to verify signature and/or establish trust using any KeyInfo-derived credentials\r\n    org.opensaml.xml.signature.impl.ExplicitKeySignatureTrustEngine] Attempting to verify signature using trusted credentials\r\n    org.opensaml.xml.signature.SignatureValidator] Attempting to validate signature using key from supplied credential\r\n    org.opensaml.xml.signature.SignatureValidator] Creating XMLSignature object\r\n    org.opensaml.xml.signature.SignatureValidator] Validating signature with signature algorithm URI: http://www.w3.org/2000/09/xmldsig#rsa-sha1\r\n    org.opensaml.xml.signature.SignatureValidator] Validation credential key algorithm &#39;RSA&#39;, key instance class &#39;sun.security.rsa.RSAPublicKeyImpl&#39;\r\n    org.apache.xml.security.signature.XMLSignature] Signature verification failed.\r\n    org.opensaml.xml.signature.SignatureValidator] Signature did not validate against the credential&#39;s key\r\n    org.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Signature validation using candidate validation credential failed\r\n    org.opensaml.xml.validation.ValidationException: Signature did not validate against the credential&#39;s key\r\n        at org.opensaml.xml.signature.SignatureValidator.validate(SignatureValidator.java:79)\r\n\r\nMy securityContext has the following:\r\n\r\n    \t&lt;bean id=&quot;metadata&quot; class=&quot;org.springframework.security.saml.metadata.CachingMetadataManager&quot;&gt;\r\n\t\t&lt;constructor-arg&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.security.saml.metadata.ExtendedMetadataDelegate&quot;&gt;\r\n\t\t\t\t\t&lt;constructor-arg&gt;\r\n\t\t\t\t\t\t&lt;bean class=&quot;org.opensaml.saml2.metadata.provider.FilesystemMetadataProvider&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;constructor-arg&gt;\r\n\t\t\t\t\t\t\t\t&lt;value type=&quot;java.io.File&quot;&gt;classpath:${MC_METADATA}&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;/constructor-arg&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;parserPool&quot; ref=&quot;parserPool&quot; /&gt;\r\n\t\t\t\t\t\t&lt;/bean&gt;\r\n\t\t\t\t\t&lt;/constructor-arg&gt;\r\n\t\t\t\t\t&lt;constructor-arg&gt;\r\n\t\t\t\t\t\t&lt;map&gt;\r\n\t\t\t\t\t\t\t&lt;entry key=&quot;${MC_ALIAS_1}&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;bean class=&quot;org.springframework.security.saml.metadata.ExtendedMetadata&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;property name=&quot;local&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;property name=&quot;alias&quot; value=&quot;${MC_ALIAS_1}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;property name=&quot;securityProfile&quot; value=&quot;metaiop&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;property name=&quot;requireArtifactResolveSigned&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;property name=&quot;requireLogoutRequestSigned&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;property name=&quot;requireLogoutResponseSigned&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;property name=&quot;idpDiscoveryEnabled&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;/bean&gt;\r\n\t\t\t\t\t\t\t&lt;/entry&gt;\r\n\r\n\t\t\t\t\t\t&lt;/map&gt;\r\n\t\t\t\t\t&lt;/constructor-arg&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/constructor-arg&gt;\r\n\t\t&lt;property name=&quot;defaultExtendedMetadata&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;org.springframework.security.saml.metadata.ExtendedMetadata&quot;&gt;\r\n\t\t\t\t&lt;property name=&quot;local&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;alias&quot; value=&quot;${MC_ALIAS_1}&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;securityProfile&quot; value=&quot;metaiop&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;requireArtifactResolveSigned&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;requireLogoutRequestSigned&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;requireLogoutResponseSigned&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;idpDiscoveryEnabled&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t&lt;/bean&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hostedSPName&quot; value=&quot;${MC_ALIAS_1}&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nThe incoming SAML contains X509Certificate and I have copied it to my metadata file under signing. I also tried adding &#39;metadataTrustCheck&#39; as false but still the same error. Communication happens over HTTPS and my test server (receiving the SAML) uses self-signed certs.\r\n\r\nAny ideas as to what may be missing/wrong?\r\n","title":"Spring SAML handshake failure - Failed to validate untrusted credential against trusted key","body":"<p>I'm using Spring Security SAML extension for integrating with the ACA healthcare (aka Obamacare) website. It uses IDP Initiated SSO. The SAML handshake fails with the following output</p>\n\n<pre><code>org.opensaml.xml.security.keyinfo.provider.InlineX509DataProvider] Single certificate was present, treating as end-entity certificate\norg.opensaml.xml.security.keyinfo.BasicProviderKeyInfoCredentialResolver] Credentials successfully extracted from child {http://www.w3.org/2000/09/xmldsig#}X509Data by provider org.opensaml.xml.security.keyinfo.provider.InlineX509DataProvider\norg.opensaml.xml.security.keyinfo.BasicProviderKeyInfoCredentialResolver] A total of 1 credentials were resolved\norg.opensaml.xml.security.credential.criteria.EvaluableCredentialCriteriaRegistry] Registry could not locate evaluable criteria for criteria class org.opensaml.xml.security.keyinfo.KeyInfoCriteria\norg.opensaml.xml.signature.SignatureValidator] Attempting to validate signature using key from supplied credential\norg.opensaml.xml.signature.SignatureValidator] Creating XMLSignature object\norg.opensaml.xml.signature.SignatureValidator] Validating signature with signature algorithm URI: http://www.w3.org/2000/09/xmldsig#rsa-sha1\norg.opensaml.xml.signature.SignatureValidator] Validation credential key algorithm 'RSA', key instance class 'sun.security.rsa.RSAPublicKeyImpl'\norg.opensaml.xml.signature.SignatureValidator] Signature validated with key from supplied credential\norg.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Signature validation using candidate credential was successful\norg.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Successfully verified signature using KeyInfo-derived credential\norg.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Attempting to establish trust of KeyInfo-derived credential\norg.opensaml.xml.security.trust.ExplicitKeyTrustEvaluator] Failed to validate untrusted credential against trusted key\norg.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Failed to establish trust of KeyInfo-derived credential\norg.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Failed to verify signature and/or establish trust using any KeyInfo-derived credentials\norg.opensaml.xml.signature.impl.ExplicitKeySignatureTrustEngine] Attempting to verify signature using trusted credentials\norg.opensaml.xml.signature.SignatureValidator] Attempting to validate signature using key from supplied credential\norg.opensaml.xml.signature.SignatureValidator] Creating XMLSignature object\norg.opensaml.xml.signature.SignatureValidator] Validating signature with signature algorithm URI: http://www.w3.org/2000/09/xmldsig#rsa-sha1\norg.opensaml.xml.signature.SignatureValidator] Validation credential key algorithm 'RSA', key instance class 'sun.security.rsa.RSAPublicKeyImpl'\norg.apache.xml.security.signature.XMLSignature] Signature verification failed.\norg.opensaml.xml.signature.SignatureValidator] Signature did not validate against the credential's key\norg.opensaml.xml.signature.impl.BaseSignatureTrustEngine] Signature validation using candidate validation credential failed\norg.opensaml.xml.validation.ValidationException: Signature did not validate against the credential's key\n    at org.opensaml.xml.signature.SignatureValidator.validate(SignatureValidator.java:79)\n</code></pre>\n\n<p>My securityContext has the following:</p>\n\n<pre><code>    &lt;bean id=\"metadata\" class=\"org.springframework.security.saml.metadata.CachingMetadataManager\"&gt;\n    &lt;constructor-arg&gt;\n        &lt;list&gt;\n            &lt;bean class=\"org.springframework.security.saml.metadata.ExtendedMetadataDelegate\"&gt;\n                &lt;constructor-arg&gt;\n                    &lt;bean class=\"org.opensaml.saml2.metadata.provider.FilesystemMetadataProvider\"&gt;\n                        &lt;constructor-arg&gt;\n                            &lt;value type=\"java.io.File\"&gt;classpath:${MC_METADATA}&lt;/value&gt;\n                        &lt;/constructor-arg&gt;\n                        &lt;property name=\"parserPool\" ref=\"parserPool\" /&gt;\n                    &lt;/bean&gt;\n                &lt;/constructor-arg&gt;\n                &lt;constructor-arg&gt;\n                    &lt;map&gt;\n                        &lt;entry key=\"${MC_ALIAS_1}\"&gt;\n                            &lt;bean class=\"org.springframework.security.saml.metadata.ExtendedMetadata\"&gt;\n                                &lt;property name=\"local\" value=\"true\" /&gt;\n                                &lt;property name=\"alias\" value=\"${MC_ALIAS_1}\" /&gt;\n                                &lt;property name=\"securityProfile\" value=\"metaiop\" /&gt;\n                                &lt;property name=\"requireArtifactResolveSigned\" value=\"false\" /&gt;\n                                &lt;property name=\"requireLogoutRequestSigned\" value=\"false\" /&gt;\n                                &lt;property name=\"requireLogoutResponseSigned\" value=\"false\" /&gt;\n                                &lt;property name=\"idpDiscoveryEnabled\" value=\"false\" /&gt;\n                            &lt;/bean&gt;\n                        &lt;/entry&gt;\n\n                    &lt;/map&gt;\n                &lt;/constructor-arg&gt;\n            &lt;/bean&gt;\n        &lt;/list&gt;\n    &lt;/constructor-arg&gt;\n    &lt;property name=\"defaultExtendedMetadata\"&gt;\n        &lt;bean class=\"org.springframework.security.saml.metadata.ExtendedMetadata\"&gt;\n            &lt;property name=\"local\" value=\"true\" /&gt;\n            &lt;property name=\"alias\" value=\"${MC_ALIAS_1}\" /&gt;\n            &lt;property name=\"securityProfile\" value=\"metaiop\" /&gt;\n            &lt;property name=\"requireArtifactResolveSigned\" value=\"false\" /&gt;\n            &lt;property name=\"requireLogoutRequestSigned\" value=\"false\" /&gt;\n            &lt;property name=\"requireLogoutResponseSigned\" value=\"false\" /&gt;\n            &lt;property name=\"idpDiscoveryEnabled\" value=\"false\" /&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hostedSPName\" value=\"${MC_ALIAS_1}\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The incoming SAML contains X509Certificate and I have copied it to my metadata file under signing. I also tried adding 'metadataTrustCheck' as false but still the same error. Communication happens over HTTPS and my test server (receiving the SAML) uses self-signed certs.</p>\n\n<p>Any ideas as to what may be missing/wrong?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8389,"page":1603,"page_size":100}
