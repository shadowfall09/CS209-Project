{"items":[{"tags":["java"],"owner":{"account_id":26755272,"reputation":113,"user_id":20353978,"display_name":"Meme410"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680202018,"creation_date":1680150415,"question_id":75884127,"body_markdown":"**PROBLEM DESCRIPTION :**\r\n\r\nHello I was thinking of a fun algorithm. I try to detect if there&#39;s items in a Chest and if there&#39;s items in it I should be able to display them in the chat. I putted 1 apple in each slots of the chest but it still say the message &quot;empty&quot; \r\n\r\n**CODE :**\r\n\r\n\r\n   \r\n\r\n     public void onEvent(Event e) {\r\n    \t\tif (e instanceof EventUpdate) { \r\n    \t\t\t   \r\n    \t\t\tif (e.isPre()) {\r\n    \t\t\t\t\r\n    \t\t\t\t for (Object o : mc.theWorld.loadedTileEntityList) {\r\n    \t\t\t\t    if (o instanceof TileEntityChest &amp;&amp; mc.currentScreen instanceof GuiChest) { // If this is a Chest and If we are on the chest inventory\r\n    \t\t\t\t        TileEntityChest chest = (TileEntityChest) o;\r\n    \t\t\t\t    \t\r\n    \t\t\t\t        mc.thePlayer.sendChatMessage(&quot;Found chest at &quot; + chest.getPos().getX() + &quot;, &quot; + chest.getPos().getY() + &quot;, &quot; + chest.getPos().getZ());\r\n    \t\t\t\t        \r\n    \t\t\t\t        for (int i = 0; i &lt; chest.getSizeInventory(); i++) {\r\n    \t\t\t\t            ItemStack itemStack = chest.getStackInSlot(i); // Returns the stack in slot i\r\n    \t\t\t\t            if (itemStack != null &amp;&amp; itemStack.stackSize &gt; 0) {\r\n    \t\t\t\t                String itemName = itemStack.getDisplayName();\r\n    \t\t\t\t                mc.thePlayer.sendChatMessage(&quot;Slot &quot; + i + &quot;: &quot; + itemName);\r\n    \t\t\t\t            } else {\r\n    \t\t\t\t                mc.thePlayer.sendChatMessage(&quot;Slot &quot; + i + &quot;: Empty&quot;);\r\n    \t\t\t\t            }\r\n    \t\t\t\t        }\r\n    \t\t\t\t    }\r\n    \t\t\t\t} \r\n    \t\t\t\t\r\n            }\r\n    \t\t\r\n        }\r\n    \t\r\n    }\r\n\r\n\r\n**WHAT I&#39;VE TRIED/WHAT I KNOW :**\r\n\r\n - To detect the Chest and you see that there&#39;s the chest Coords in the chat \r\n - To detect the slots and It displays all the slots (27) but no element in it (that&#39;s the problem) ","title":"Can&#39;t detect items in a Chest on Minecraft version1.8 with MCP910","body":"<p><strong>PROBLEM DESCRIPTION :</strong></p>\n<p>Hello I was thinking of a fun algorithm. I try to detect if there's items in a Chest and if there's items in it I should be able to display them in the chat. I putted 1 apple in each slots of the chest but it still say the message &quot;empty&quot;</p>\n<p><strong>CODE :</strong></p>\n<pre><code> public void onEvent(Event e) {\n        if (e instanceof EventUpdate) { \n               \n            if (e.isPre()) {\n                \n                 for (Object o : mc.theWorld.loadedTileEntityList) {\n                    if (o instanceof TileEntityChest &amp;&amp; mc.currentScreen instanceof GuiChest) { // If this is a Chest and If we are on the chest inventory\n                        TileEntityChest chest = (TileEntityChest) o;\n                        \n                        mc.thePlayer.sendChatMessage(&quot;Found chest at &quot; + chest.getPos().getX() + &quot;, &quot; + chest.getPos().getY() + &quot;, &quot; + chest.getPos().getZ());\n                        \n                        for (int i = 0; i &lt; chest.getSizeInventory(); i++) {\n                            ItemStack itemStack = chest.getStackInSlot(i); // Returns the stack in slot i\n                            if (itemStack != null &amp;&amp; itemStack.stackSize &gt; 0) {\n                                String itemName = itemStack.getDisplayName();\n                                mc.thePlayer.sendChatMessage(&quot;Slot &quot; + i + &quot;: &quot; + itemName);\n                            } else {\n                                mc.thePlayer.sendChatMessage(&quot;Slot &quot; + i + &quot;: Empty&quot;);\n                            }\n                        }\n                    }\n                } \n                \n        }\n        \n    }\n    \n}\n</code></pre>\n<p><strong>WHAT I'VE TRIED/WHAT I KNOW :</strong></p>\n<ul>\n<li>To detect the Chest and you see that there's the chest Coords in the chat</li>\n<li>To detect the slots and It displays all the slots (27) but no element in it (that's the problem)</li>\n</ul>\n"},{"tags":["java","multithreading","scala","future"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":6,"creation_date":1680204750,"post_id":75891896,"comment_id":133863148,"body_markdown":"Well **Java** `Futures` are not really _&quot;cancellable&quot;_ in the most common meaning of the word, they just kill / interrupt the underlying thread possibly leaking resources; which may be the reason **Scala** `Future` didn&#39;t add that. - About mixing, I think it should be fine, both are just submitting things to the same thread pool. - BTW, if you really need cancellation, why not using something more powerful like `IO` from **cats-effect** or **ZIO**.","body":"Well <b>Java</b> <code>Futures</code> are not really <i>&quot;cancellable&quot;</i> in the most common meaning of the word, they just kill / interrupt the underlying thread possibly leaking resources; which may be the reason <b>Scala</b> <code>Future</code> didn&#39;t add that. - About mixing, I think it should be fine, both are just submitting things to the same thread pool. - BTW, if you really need cancellation, why not using something more powerful like <code>IO</code> from <b>cats-effect</b> or <b>ZIO</b>."},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":1,"creation_date":1680479623,"post_id":75891896,"comment_id":133900890,"body_markdown":"That&#39;s part of the reason, the other main part is that the `Future` in Scala is just the read-side of the computation, as opposed to the write-side (aka `Promise`), so it&#39;s the responsibility of whatever owns the `Promise` to cancel the computation and fail (or not complete) the `Future`.\n\nAgreed that it should be fine to cancel a Java future executing on the same EC.","body":"That&#39;s part of the reason, the other main part is that the <code>Future</code> in Scala is just the read-side of the computation, as opposed to the write-side (aka <code>Promise</code>), so it&#39;s the responsibility of whatever owns the <code>Promise</code> to cancel the computation and fail (or not complete) the <code>Future</code>.  Agreed that it should be fine to cancel a Java future executing on the same EC."}],"owner":{"account_id":9236879,"reputation":3001,"user_id":6861219,"accept_rate":88,"display_name":"Ziqi Liu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680201828,"creation_date":1680201828,"question_id":75891896,"body_markdown":"I noticed that scala `ExecutionContext` has a `def fromExecutorService(e: ExecutorService)` which convert a Java ExecutorService to scala `ExecutionContext`.\r\n\r\nCan I mixed use these two? i.e.,:\r\n```\r\nval someExecutorService = ....\r\nval ec = ExecutionContext.fromExecutorService(someExecutorService)\r\n\r\nval javaFuture = someExecutorSerivce.submit(...\r\nval scalaFuture = ec.submit(...\r\n\r\n```\r\n\r\nThe reason I want to do this is that I need java Future&#39;s cancellation feature...but I&#39;m not sure whether the mixed usage will cause any trouble(my confusion is that why scala&#39;s future is not cancellable while it&#39;s using executor service under the hood and java Future is cancellable)","title":"Can I mixed use Scala ExecutionContext and Java ExecutorSerivce","body":"<p>I noticed that scala <code>ExecutionContext</code> has a <code>def fromExecutorService(e: ExecutorService)</code> which convert a Java ExecutorService to scala <code>ExecutionContext</code>.</p>\n<p>Can I mixed use these two? i.e.,:</p>\n<pre><code>val someExecutorService = ....\nval ec = ExecutionContext.fromExecutorService(someExecutorService)\n\nval javaFuture = someExecutorSerivce.submit(...\nval scalaFuture = ec.submit(...\n\n</code></pre>\n<p>The reason I want to do this is that I need java Future's cancellation feature...but I'm not sure whether the mixed usage will cause any trouble(my confusion is that why scala's future is not cancellable while it's using executor service under the hood and java Future is cancellable)</p>\n"},{"tags":["java","apache-kafka","openshift","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680212213,"post_id":75891888,"comment_id":133864743,"body_markdown":"Kafka is not an HTTP service. Why are you trying to make it available on port 80?","body":"Kafka is not an HTTP service. Why are you trying to make it available on port 80?"},{"owner":{"account_id":7126789,"reputation":127,"user_id":5449454,"display_name":"Daemon2017"},"score":0,"creation_date":1680244162,"post_id":75891888,"comment_id":133868395,"body_markdown":"@OneCricketeer, I&#39;ve forwarded the port 9092-&gt;80 as protocol=TCP, not HTTP. Can this create problems?","body":"@OneCricketeer, I&#39;ve forwarded the port 9092-&gt;80 as protocol=TCP, not HTTP. Can this create problems?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680283620,"post_id":75891888,"comment_id":133877919,"body_markdown":"Maybe? I&#39;ve not used OpenShift. Maybe read https://strimzi.io/blog/2019/04/30/accessing-kafka-part-3/ ; In any case, I&#39;ve seen this OOM error before when the wrong network protocol is used in the client-server negotiation","body":"Maybe? I&#39;ve not used OpenShift. Maybe read <a href=\"https://strimzi.io/blog/2019/04/30/accessing-kafka-part-3/\" rel=\"nofollow noreferrer\">strimzi.io/blog/2019/04/30/accessing-kafka-part-3</a> ; In any case, I&#39;ve seen this OOM error before when the wrong network protocol is used in the client-server negotiation"}],"owner":{"account_id":7126789,"reputation":127,"user_id":5449454,"display_name":"Daemon2017"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680201761,"creation_date":1680201761,"question_id":75891888,"body_markdown":"I&#39;m temporarily using an EmbeddedKafkaBroker hosted in a OpenShift-server&#39;s container.\r\n\r\nThis is what the server looks like:\r\n\r\n    EmbeddedKafkaBroker embeddedKafkaBroker = new EmbeddedKafkaBroker(1, false, 2);\r\n    embeddedKafkaBroker.kafkaPorts(8092);\r\n    embeddedKafkaBroker.addTopics(&quot;testTopic&quot;);\r\n    embeddedKafkaBroker.brokerProperty(&quot;listeners&quot;, &quot;INTERNAL://0.0.0.0:8092,EXTERNAL://0.0.0.0:9092&quot;);\r\n    embeddedKafkaBroker.brokerProperty(&quot;advertised.listeners&quot;, &quot;INTERNAL://localhost:8092,EXTERNAL://kafka-mock-daemon2017.apps.testing.soul:80&quot;);\r\n    embeddedKafkaBroker.brokerProperty(&quot;listener.security.protocol.map&quot;, &quot;INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT&quot;);\r\n    embeddedKafkaBroker.brokerProperty(&quot;inter.broker.listener.name&quot;, &quot;INTERNAL&quot;);\r\n    embeddedKafkaBroker.afterPropertiesSet();\r\n    log.info(&quot;EmbeddedKafkaBroker started!&quot;);\r\n\r\nInner port 9092 is mapped to outer port 80.\r\n\r\nVersions:\r\n\r\n    org.springframework.kafka:spring-kafka:2.7.10\r\n    org.springframework.kafka:spring-kafka-test:2.7.10\r\n\r\nIf I try to produce message to this server (kafka-mock-daemon2017.apps.testing.soul:80) from another application hosted in the same OpenShift namespace, then I get the error:\r\n\r\n&gt; 2023-03-30 21:11:46[kafka-producer-network-thread | producer-1]ERROR\r\n&gt; o.a.kafka.common.utils.KafkaThread - Uncaught exception in thread\r\n&gt; &#39;kafka-producer-network-thread | producer-1&#39;:\r\n&gt; java.lang.OutOfMemoryError: Java heap space \tat\r\n&gt; java.base/java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:61) \tat\r\n&gt; java.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:348) \tat\r\n&gt; org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576)\r\n&gt; \tat org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:328)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nIf I try to consume message from it (kafka-mock-daemon2017.apps.testing.soul:80) from another application hosted on my local computer, then I get the error:\r\n\r\n&gt; Java heap space java.lang.OutOfMemoryError: Java heap space \tat\r\n&gt; java.base/java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:61) \tat\r\n&gt; java.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:349) \tat\r\n&gt; org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:447)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:397)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.Selector.attemptRead(Selector.java:678)\r\n&gt; \tat\r\n&gt; org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:580)\r\n&gt; \tat org.apache.kafka.common.network.Selector.poll(Selector.java:485)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:547)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:245)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:480)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1261)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1232)\r\n&gt; \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1165)\r\n\r\nWhat am I doing wrong? Which host:port must I use, when connecting from OpenShift and when connecting from my computer - INTERNAL or EXTERNAL?","title":"Interaction with EmbeddedKafkaBroker inside/outside the OpenShift server","body":"<p>I'm temporarily using an EmbeddedKafkaBroker hosted in a OpenShift-server's container.</p>\n<p>This is what the server looks like:</p>\n<pre><code>EmbeddedKafkaBroker embeddedKafkaBroker = new EmbeddedKafkaBroker(1, false, 2);\nembeddedKafkaBroker.kafkaPorts(8092);\nembeddedKafkaBroker.addTopics(&quot;testTopic&quot;);\nembeddedKafkaBroker.brokerProperty(&quot;listeners&quot;, &quot;INTERNAL://0.0.0.0:8092,EXTERNAL://0.0.0.0:9092&quot;);\nembeddedKafkaBroker.brokerProperty(&quot;advertised.listeners&quot;, &quot;INTERNAL://localhost:8092,EXTERNAL://kafka-mock-daemon2017.apps.testing.soul:80&quot;);\nembeddedKafkaBroker.brokerProperty(&quot;listener.security.protocol.map&quot;, &quot;INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT&quot;);\nembeddedKafkaBroker.brokerProperty(&quot;inter.broker.listener.name&quot;, &quot;INTERNAL&quot;);\nembeddedKafkaBroker.afterPropertiesSet();\nlog.info(&quot;EmbeddedKafkaBroker started!&quot;);\n</code></pre>\n<p>Inner port 9092 is mapped to outer port 80.</p>\n<p>Versions:</p>\n<pre><code>org.springframework.kafka:spring-kafka:2.7.10\norg.springframework.kafka:spring-kafka-test:2.7.10\n</code></pre>\n<p>If I try to produce message to this server (kafka-mock-daemon2017.apps.testing.soul:80) from another application hosted in the same OpenShift namespace, then I get the error:</p>\n<blockquote>\n<p>2023-03-30 21:11:46[kafka-producer-network-thread | producer-1]ERROR\no.a.kafka.common.utils.KafkaThread - Uncaught exception in thread\n'kafka-producer-network-thread | producer-1':\njava.lang.OutOfMemoryError: Java heap space   at\njava.base/java.nio.HeapByteBuffer.(HeapByteBuffer.java:61)  at\njava.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:348)   at\norg.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\nat\norg.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\nat\norg.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452)\nat\norg.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402)\nat\norg.apache.kafka.common.network.Selector.attemptRead(Selector.java:674)\nat\norg.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576)\nat org.apache.kafka.common.network.Selector.poll(Selector.java:481)\nat\norg.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\nat\norg.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:328)\nat\norg.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\nat java.base/java.lang.Thread.run(Thread.java:829)</p>\n</blockquote>\n<p>If I try to consume message from it (kafka-mock-daemon2017.apps.testing.soul:80) from another application hosted on my local computer, then I get the error:</p>\n<blockquote>\n<p>Java heap space java.lang.OutOfMemoryError: Java heap space   at\njava.base/java.nio.HeapByteBuffer.(HeapByteBuffer.java:61)  at\njava.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:349)   at\norg.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\nat\norg.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\nat\norg.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:447)\nat\norg.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:397)\nat\norg.apache.kafka.common.network.Selector.attemptRead(Selector.java:678)\nat\norg.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:580)\nat org.apache.kafka.common.network.Selector.poll(Selector.java:485)\nat\norg.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:547)\nat\norg.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\nat\norg.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\nat\norg.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)\nat\norg.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:245)\nat\norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:480)\nat\norg.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1261)\nat\norg.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1232)\nat\norg.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1165)</p>\n</blockquote>\n<p>What am I doing wrong? Which host:port must I use, when connecting from OpenShift and when connecting from my computer - INTERNAL or EXTERNAL?</p>\n"},{"tags":["java","spring-boot","docker","docker-image"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1680256414,"post_id":75890931,"comment_id":133871057,"body_markdown":"`https://hub.docker.com/_/eclipse-temurin/tags`, find different version, and differ OS base. some os base image is very small. you can find `17-jre-jammy` is 89 MB. (https://hub.docker.com/_/eclipse-temurin/tags?page=4)","body":"<code>https:&#47;&#47;hub.docker.com&#47;_&#47;eclipse-temurin&#47;tags</code>, find different version, and differ OS base. some os base image is very small. you can find <code>17-jre-jammy</code> is 89 MB. (<a href=\"https://hub.docker.com/_/eclipse-temurin/tags?page=4\" rel=\"nofollow noreferrer\">hub.docker.com/_/eclipse-temurin/tags?page=4</a>)"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680201757,"creation_date":1680194822,"question_id":75890931,"body_markdown":"I am using very simple Dockerfile:\r\n\r\n    FROM bellsoft/liberica-openjre-debian:17\r\n    COPY ./build/libs/emailsender.jar app.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\n\r\nWhere app.jar is my spring-boot java application.\r\n\r\nResulting size of image after `docker build` is ~328MB. However when I use bellsoft/liberica-open**jdk**-debian:17 resulting size is ~300MB. Why is resulting image smaller with jdk? Jdk itself is always bigger than jre (when comparing same implementation) as [it contains more stuff than jre][1]. \r\n\r\nUsing docker Docker version 23.0.1 on Kubuntu.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/difference-between-jdk-and-jre-in-java/","title":"Why is docker image built with jdk smaller than jre (Liberica)?","body":"<p>I am using very simple Dockerfile:</p>\n<pre><code>FROM bellsoft/liberica-openjre-debian:17\nCOPY ./build/libs/emailsender.jar app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\n</code></pre>\n<p>Where app.jar is my spring-boot java application.</p>\n<p>Resulting size of image after <code>docker build</code> is ~328MB. However when I use bellsoft/liberica-open<strong>jdk</strong>-debian:17 resulting size is ~300MB. Why is resulting image smaller with jdk? Jdk itself is always bigger than jre (when comparing same implementation) as <a href=\"https://www.geeksforgeeks.org/difference-between-jdk-and-jre-in-java/\" rel=\"nofollow noreferrer\">it contains more stuff than jre</a>.</p>\n<p>Using docker Docker version 23.0.1 on Kubuntu.</p>\n"},{"tags":["java","apache-camel","ibm-mq","mq","camel-jms"],"answers":[{"comments":[{"owner":{"account_id":9784243,"reputation":11,"user_id":7251074,"display_name":"VerseBeCoding"},"score":0,"creation_date":1680726357,"post_id":75890236,"comment_id":133949168,"body_markdown":"Hi@JoshMc thanks so much for this. You&#39;re correct: I&#39;m able to modify the code to set the MessageId to an array of 24 bytes but it won&#39;t make a difference because I&#39;m still unable to set it. I&#39;m already making use of the CorrelationID field and we have a requirement to specifically set the MessageID when sending out a message. Is it possible to set this property using IBM mq libraries perhaps?","body":"Hi@JoshMc thanks so much for this. You&#39;re correct: I&#39;m able to modify the code to set the MessageId to an array of 24 bytes but it won&#39;t make a difference because I&#39;m still unable to set it. I&#39;m already making use of the CorrelationID field and we have a requirement to specifically set the MessageID when sending out a message. Is it possible to set this property using IBM mq libraries perhaps?"},{"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"score":0,"creation_date":1680862590,"post_id":75890236,"comment_id":133971537,"body_markdown":"No. Intention of MessageID is to track individual message, which would not be possible to do if user was able to override its value. You can use other user modifidable fields - as type, or you can add own property. For example: message.setStringProperty(&quot;MyID&quot;, hexEncodedBytesHere);","body":"No. Intention of MessageID is to track individual message, which would not be possible to do if user was able to override its value. You can use other user modifidable fields - as type, or you can add own property. For example: message.setStringProperty(&quot;MyID&quot;, hexEncodedBytesHere);"}],"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680201363,"creation_date":1680190375,"answer_id":75890236,"question_id":75888014,"body_markdown":"First of all - MessageId is array of 24 bytes. And that is your error. You are trying to push String in byte array - [B. Once you fix this error, you will still not be able to successfully set MessageId. As MQ will completely ignore any value set by message producer, and it will always override your MessageId with arbitary value. \r\n\r\nBlame JMS API. It is little bit idiotic and it doesn&#39;t make distiction between end user interface and messaging driver programmer interface. There is more than one setter on javax.jms.Message which is not inteded to be used by everday Joe.\r\n\r\nSo what can you do about it? For start you can use different field: Message Type and CorrelationID headers are inteded to be used by end users. CorrelationID shares the same byte[24] design, and it is functionally identical to MessageID. Usually, CorrelationID is shared between couple different messages which are &quot;correleated&quot;, thus the name. You can also add arbitary header to message.\r\n\r\nBut if you really really need to know MessageID of sent message - because of audit, correlation or something else - you can first send message, and the read MessageID field back. It will contain generated value.\r\n","title":"How can I set the JMS_IBM_MQMD_MsgId header using Apache camel-jms","body":"<p>First of all - MessageId is array of 24 bytes. And that is your error. You are trying to push String in byte array - [B. Once you fix this error, you will still not be able to successfully set MessageId. As MQ will completely ignore any value set by message producer, and it will always override your MessageId with arbitary value.</p>\n<p>Blame JMS API. It is little bit idiotic and it doesn't make distiction between end user interface and messaging driver programmer interface. There is more than one setter on javax.jms.Message which is not inteded to be used by everday Joe.</p>\n<p>So what can you do about it? For start you can use different field: Message Type and CorrelationID headers are inteded to be used by end users. CorrelationID shares the same byte[24] design, and it is functionally identical to MessageID. Usually, CorrelationID is shared between couple different messages which are &quot;correleated&quot;, thus the name. You can also add arbitary header to message.</p>\n<p>But if you really really need to know MessageID of sent message - because of audit, correlation or something else - you can first send message, and the read MessageID field back. It will contain generated value.</p>\n"}],"owner":{"account_id":9784243,"reputation":11,"user_id":7251074,"display_name":"VerseBeCoding"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680201363,"creation_date":1680177671,"question_id":75888014,"body_markdown":"So, I have a message that I&#39;m sending over an IBM mq queue and I would like to give it a customised MessageID. I&#39;ve implemented DestinationResolver with the below properties in order to enable MQMD properties:\r\n`queue.setBooleanProperty(WMQConstants.WMQ_MQMD_WRITE_ENABLED, true);`\r\n\r\nI&#39;m able to set the `JMS_IBM_MQMD_ApplIdentityData` header but I&#39;m struggling to set the `JMS_IBM_MQMD_MsgId` header.\r\n\r\nThis is the MessageID I&#39;m trying to set: `String messageID = &quot;ID:TESTYTEST&quot;;`\r\n\r\nIf I set `JMS_IBM_MQMD_MsgId` like this:\r\n\r\n`message.setAttribute(&quot;JMS_IBM_MQMD_MsgId&quot;, messageID.getBytes());`\r\n\r\nthen I get the below error\r\n\r\n`org.apache.camel.component.jms.JmsBinding - Ignoring non primitive header: JMS_IBM_MQMD_MsgId of class: [B`\r\n\r\nHowever, if I set `JMS_IBM_MQMD_MsgId` like this:\r\n`message.setAttribute(&quot;JMS_IBM_MQMD_MsgId&quot;, messageID);`\r\n\r\nthen I get the below error\r\n`com.ibm.msg.client.jms.DetailedMessageFormatException: JMSCC0051: The property &#39;JMS_IBM_MQMD_MsgId&#39; should be set using type &#39;[B&#39;, not &#39;java.lang.String&#39;.\r\nJMS_IBM properties may only be set using a specific variable type.\r\nCorrect application code to use the required variable type when setting this JMS_IBM property.`","title":"How can I set the JMS_IBM_MQMD_MsgId header using Apache camel-jms","body":"<p>So, I have a message that I'm sending over an IBM mq queue and I would like to give it a customised MessageID. I've implemented DestinationResolver with the below properties in order to enable MQMD properties:\n<code>queue.setBooleanProperty(WMQConstants.WMQ_MQMD_WRITE_ENABLED, true);</code></p>\n<p>I'm able to set the <code>JMS_IBM_MQMD_ApplIdentityData</code> header but I'm struggling to set the <code>JMS_IBM_MQMD_MsgId</code> header.</p>\n<p>This is the MessageID I'm trying to set: <code>String messageID = &quot;ID:TESTYTEST&quot;;</code></p>\n<p>If I set <code>JMS_IBM_MQMD_MsgId</code> like this:</p>\n<p><code>message.setAttribute(&quot;JMS_IBM_MQMD_MsgId&quot;, messageID.getBytes());</code></p>\n<p>then I get the below error</p>\n<p><code>org.apache.camel.component.jms.JmsBinding - Ignoring non primitive header: JMS_IBM_MQMD_MsgId of class: [B</code></p>\n<p>However, if I set <code>JMS_IBM_MQMD_MsgId</code> like this:\n<code>message.setAttribute(&quot;JMS_IBM_MQMD_MsgId&quot;, messageID);</code></p>\n<p>then I get the below error\n<code>com.ibm.msg.client.jms.DetailedMessageFormatException: JMSCC0051: The property 'JMS_IBM_MQMD_MsgId' should be set using type '[B', not 'java.lang.String'. JMS_IBM properties may only be set using a specific variable type. Correct application code to use the required variable type when setting this JMS_IBM property.</code></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1680210531,"post_id":75891726,"comment_id":133864436,"body_markdown":"Follow the instructions for [JavaFX and Visual Studio Code](https://openjfx.io/openjfx-docs/#IDE-VSCode) at openjfx.io.","body":"Follow the instructions for <a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">JavaFX and Visual Studio Code</a> at openjfx.io."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680215367,"post_id":75891726,"comment_id":133865266,"body_markdown":"That error message does not include the path to `Stage`. Do you have an import `javafx.stage.Stage;` statement in your code?","body":"That error message does not include the path to <code>Stage</code>. Do you have an import <code>javafx.stage.Stage;</code> statement in your code?"},{"owner":{"account_id":28169302,"reputation":1,"user_id":21528082,"display_name":"Zentai P&#225;l"},"score":0,"creation_date":1680362187,"post_id":75891726,"comment_id":133887379,"body_markdown":"Yes, I have, but I still got this JavaFX runtime components are missing, and are required to run this application","body":"Yes, I have, but I still got this JavaFX runtime components are missing, and are required to run this application"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680386180,"post_id":75891726,"comment_id":133890655,"body_markdown":"The runtime components are missing error is not mentioned in your question.  There are [a hundred duplicate questions about missing JavaFX runtime components on this site](https://stackoverflow.com/search?q=“JavaFX+runtime+components”).   The primary answer is always the same, which is to follow the getting started instructions linked in my first comment.","body":"The runtime components are missing error is not mentioned in your question.  There are <a href=\"https://stackoverflow.com/search?q=%E2%80%9CJavaFX+runtime+components%E2%80%9D\">a hundred duplicate questions about missing JavaFX runtime components on this site</a>.   The primary answer is always the same, which is to follow the getting started instructions linked in my first comment."},{"owner":{"account_id":28169302,"reputation":1,"user_id":21528082,"display_name":"Zentai P&#225;l"},"score":0,"creation_date":1680534134,"post_id":75891726,"comment_id":133910601,"body_markdown":"Thank I got it, my bad. Thanks for your help, sorry for waste your time...","body":"Thank I got it, my bad. Thanks for your help, sorry for waste your time..."}],"owner":{"account_id":28169302,"reputation":1,"user_id":21528082,"display_name":"Zentai P&#225;l"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680200856,"creation_date":1680200622,"question_id":75891726,"body_markdown":"[![Error code][1]][1]\r\n\r\nYesterday I used vsc succesfully with my JAVA code, now I&#39;m getting an error, but I didn&#39;t change anything\r\nI&#39;m getting this if I&#39;m trying to run the code: \r\n&gt;Error: Unable to initialize main class App      \r\nCaused by: java.lang.NoClassDefFoundError: Stage\r\n\r\nI tried: \r\nClean Java Language Server Workspace,\r\nsearched for it online (found nothing useful).\r\n\r\nOn my other pc it&#39;s working fine.\r\n\r\n[1]: https://i.stack.imgur.com/ofrow.png","title":"Error: Unable to initialize main class App Caused by: java.lang.NoClassDefFoundError: Stage","body":"<p><a href=\"https://i.stack.imgur.com/ofrow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ofrow.png\" alt=\"Error code\" /></a></p>\n<p>Yesterday I used vsc succesfully with my JAVA code, now I'm getting an error, but I didn't change anything\nI'm getting this if I'm trying to run the code:</p>\n<blockquote>\n<p>Error: Unable to initialize main class App<br />\nCaused by: java.lang.NoClassDefFoundError: Stage</p>\n</blockquote>\n<p>I tried:\nClean Java Language Server Workspace,\nsearched for it online (found nothing useful).</p>\n<p>On my other pc it's working fine.</p>\n"},{"tags":["java","android","label","android-textinputlayout","android-textinputedittext"],"comments":[{"owner":{"account_id":5204603,"reputation":1934,"user_id":4162971,"accept_rate":39,"display_name":"Dibzmania"},"score":0,"creation_date":1576810149,"post_id":56009187,"comment_id":105025698,"body_markdown":"So did you get a solution to this ?","body":"So did you get a solution to this ?"}],"owner":{"account_id":3432341,"reputation":79,"user_id":2876392,"display_name":"user2876392"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1468,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":0,"score":7,"last_activity_date":1680199192,"creation_date":1557160494,"question_id":56009187,"body_markdown":"So I am trying to change the color of the background of the label on the `TextInputLayout/EditText`. Most other questions seem to be referring to the color of the text but the default functionality of the label I have observed is that the background of the label on the &quot;OutlinedBox&quot; style is it matches the background color of the layout **above it in the hierarchy**:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nAs you can see, in ex. 1, the layout above the `TextInputLayout` is a grayish color, so the Label `TextView` **background** also becomes grayish. \r\n\r\nIn Ex. 2, The layout above the `TextInputLayout` is a white color, so the Label Text **background** also becomes white. Since this is changing without any input from me (it&#39;s not using a color like &quot;colorAccent&quot; which it applies across the board, but instead is using a different color based on the layout background color). \r\n\r\nWhat I am trying to find out is, Is there a color attribute I can maintain/edit, preferably via style, that will allow me to choose that color instead of defaulting it to whatever the layout above it in the hierarchy has?\r\n\r\n\r\n\r\n\r\nI have tried setting various colors in Style to attempt to override the default behavior but have not found one that does so.\r\n\r\nHere is a TextInputLayout/EditText for amount.\r\n\r\n\r\n```\r\n&lt;com.google.android.material.textfield.TextInputLayout\r\n\tandroid:id=&quot;@+id/tilAmount&quot;\r\n\tstyle=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n\tandroid:layout_width=&quot;0dp&quot;\r\n\tandroid:layout_height=&quot;55dp&quot;\r\n\tandroid:layout_marginRight=&quot;@dimen/margin_between_boxes&quot;\r\n\tandroid:layout_weight=&quot;1&quot;\r\n\tandroid:hint=&quot;@string/et_amount&quot;\r\n\tapp:boxBackgroundColor=&quot;@color/white&quot;\r\n\tapp:boxStrokeColor=&quot;@color/editText_background&quot;\r\n\tapp:boxStrokeWidth=&quot;3dp&quot;\r\n\tapp:hintTextAppearance=&quot;@style/TextLabel&quot;&gt;\r\n\r\n\r\n\t\t&lt;com.google.android.material.textfield.TextInputEditText\r\n\t\t\tandroid:id=&quot;@+id/etAmount&quot;\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;match_parent&quot;\r\n\t\t\tandroid:fontFamily=&quot;@font/neue_haas_grotesk_display_regular&quot;\r\n\t\t\tandroid:inputType=&quot;number&quot;\r\n\t\t\tandroid:maxLength=&quot;7&quot;\r\n\t\t\tandroid:paddingLeft=&quot;13dp&quot;\r\n\t\t\tandroid:textAlignment=&quot;viewStart&quot;\r\n\t\t\tandroid:textColorHint=&quot;@android:color/black&quot;\r\n\t\t\tandroid:textSize=&quot;14sp&quot;\r\n\t\t\tandroid:layout_gravity=&quot;start&quot; /&gt;\r\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n```\r\n\r\nAnd here is the style used for hintTextAppearance\r\n\r\n    &lt;style name=&quot;TextLabel&quot; parent=&quot;TextAppearance.AppCompat&quot;&gt;\r\n        &lt;!-- Hint color and label color in FALSE state --&gt;\r\n        &lt;item name=&quot;android:textColorHint&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;12sp&lt;/item&gt;\r\n        &lt;!-- Label color in TRUE state and bar color FALSE and TRUE State --&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@android:color/black&lt;/item&gt;\r\n        &lt;item name=&quot;colorControlNormal&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;colorControlActivated&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;android:colorControlHighlight&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/label_text&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/label_text&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\n\r\nI expect to be able to edit the color of the background of the label `TextView` to whatever I choose.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qvIRn.png\r\n  [2]: https://i.stack.imgur.com/w6cN4.png","title":"Changing the background color of the TextInputLayout label TextView","body":"<p>So I am trying to change the color of the background of the label on the <code>TextInputLayout/EditText</code>. Most other questions seem to be referring to the color of the text but the default functionality of the label I have observed is that the background of the label on the &quot;OutlinedBox&quot; style is it matches the background color of the layout <strong>above it in the hierarchy</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/qvIRn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qvIRn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/w6cN4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w6cN4.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, in ex. 1, the layout above the <code>TextInputLayout</code> is a grayish color, so the Label <code>TextView</code> <strong>background</strong> also becomes grayish.</p>\n<p>In Ex. 2, The layout above the <code>TextInputLayout</code> is a white color, so the Label Text <strong>background</strong> also becomes white. Since this is changing without any input from me (it's not using a color like &quot;colorAccent&quot; which it applies across the board, but instead is using a different color based on the layout background color).</p>\n<p>What I am trying to find out is, Is there a color attribute I can maintain/edit, preferably via style, that will allow me to choose that color instead of defaulting it to whatever the layout above it in the hierarchy has?</p>\n<p>I have tried setting various colors in Style to attempt to override the default behavior but have not found one that does so.</p>\n<p>Here is a TextInputLayout/EditText for amount.</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/tilAmount&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;55dp&quot;\n    android:layout_marginRight=&quot;@dimen/margin_between_boxes&quot;\n    android:layout_weight=&quot;1&quot;\n    android:hint=&quot;@string/et_amount&quot;\n    app:boxBackgroundColor=&quot;@color/white&quot;\n    app:boxStrokeColor=&quot;@color/editText_background&quot;\n    app:boxStrokeWidth=&quot;3dp&quot;\n    app:hintTextAppearance=&quot;@style/TextLabel&quot;&gt;\n\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/etAmount&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:fontFamily=&quot;@font/neue_haas_grotesk_display_regular&quot;\n            android:inputType=&quot;number&quot;\n            android:maxLength=&quot;7&quot;\n            android:paddingLeft=&quot;13dp&quot;\n            android:textAlignment=&quot;viewStart&quot;\n            android:textColorHint=&quot;@android:color/black&quot;\n            android:textSize=&quot;14sp&quot;\n            android:layout_gravity=&quot;start&quot; /&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>And here is the style used for hintTextAppearance</p>\n<pre><code>&lt;style name=&quot;TextLabel&quot; parent=&quot;TextAppearance.AppCompat&quot;&gt;\n    &lt;!-- Hint color and label color in FALSE state --&gt;\n    &lt;item name=&quot;android:textColorHint&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;12sp&lt;/item&gt;\n    &lt;!-- Label color in TRUE state and bar color FALSE and TRUE State --&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@android:color/black&lt;/item&gt;\n    &lt;item name=&quot;colorControlNormal&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;colorControlActivated&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;android:colorControlHighlight&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/label_text&lt;/item&gt;\n    &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/label_text&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>I expect to be able to edit the color of the background of the label <code>TextView</code> to whatever I choose.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"score":1,"creation_date":1680168893,"post_id":75886278,"comment_id":133853539,"body_markdown":"have you checked this link https://github.com/PhilJay/MPAndroidChart/wiki/MarkerView","body":"have you checked this link <a href=\"https://github.com/PhilJay/MPAndroidChart/wiki/MarkerView\" rel=\"nofollow noreferrer\">github.com/PhilJay/MPAndroidChart/wiki/MarkerView</a>"},{"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"score":0,"creation_date":1680169371,"post_id":75886278,"comment_id":133853641,"body_markdown":"And How to put city names on x axis","body":"And How to put city names on x axis"}],"answers":[{"comments":[{"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"score":0,"creation_date":1680169478,"post_id":75886542,"comment_id":133853671,"body_markdown":"And any idea to change the x-axis values","body":"And any idea to change the x-axis values"},{"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"score":2,"creation_date":1680169629,"post_id":75886542,"comment_id":133853718,"body_markdown":"@ShaikhFaizan: check this link https://stackoverflow.com/questions/54982682/set-values-of-xaxis-in-mpandroidchart","body":"@ShaikhFaizan: check this link <a href=\"https://stackoverflow.com/questions/54982682/set-values-of-xaxis-in-mpandroidchart\" title=\"set values of xaxis in mpandroidchart\">stackoverflow.com/questions/54982682/&hellip;</a>"},{"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"score":0,"creation_date":1680170064,"post_id":75886542,"comment_id":133853826,"body_markdown":"Ok will check that too","body":"Ok will check that too"},{"owner":{"account_id":8549847,"reputation":68,"user_id":6407109,"display_name":"Suman Bakhati"},"score":0,"creation_date":1690541755,"post_id":75886542,"comment_id":135371809,"body_markdown":"@inkredusk Thank you for the link. it works in my case.","body":"@inkredusk Thank you for the link. it works in my case."}],"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680169555,"creation_date":1680169263,"answer_id":75886542,"question_id":75886278,"body_markdown":"`MPAndroidChart` provides a class called `MarkerView` to create a `customized popup`. All you need to do is create a custom class that extends the `MarkerView` class as follows:\r\n\r\n    public class MyMarkerView extends MarkerView { \r\n\r\n      private final TextView tvCity;\r\n\r\n      public MyMarkerView(Context context, ValueFormatter xAxisValueFormatter) {\r\n        super(context, R.layout.custom_marker_view);\r\n         ...\r\n         //bind your TextView contained in the layout over here\r\n         tvCity = (TextView)findViewById(R.id.tvCity);\r\n      }\r\n\r\n      // runs every time the MarkerView is redrawn, can be used to update \r\n      @Override\r\n      public void refreshContent(Entry e, Highlight highlight) {\r\n         //set your values to the view over here\r\n         tvCity.setText(&quot;Some value&quot;);\r\n         ...\r\n         super.refreshContent(e, highlight);\r\n      }\r\n\r\n    }\r\n\r\n\r\nReference link : [MarkerView ][1]\r\n\r\nYou can refer this [tutorial][2] as an example.\r\n\r\n\r\n  [1]: https://github.com/PhilJay/MPAndroidChart/wiki/MarkerView\r\n  [2]: https://www.codeplayon.com/android-bar-chart-with-tooltip-example/","title":"How to make line chart with more data in Android in Java?","body":"<p><code>MPAndroidChart</code> provides a class called <code>MarkerView</code> to create a <code>customized popup</code>. All you need to do is create a custom class that extends the <code>MarkerView</code> class as follows:</p>\n<pre><code>public class MyMarkerView extends MarkerView { \n\n  private final TextView tvCity;\n\n  public MyMarkerView(Context context, ValueFormatter xAxisValueFormatter) {\n    super(context, R.layout.custom_marker_view);\n     ...\n     //bind your TextView contained in the layout over here\n     tvCity = (TextView)findViewById(R.id.tvCity);\n  }\n\n  // runs every time the MarkerView is redrawn, can be used to update \n  @Override\n  public void refreshContent(Entry e, Highlight highlight) {\n     //set your values to the view over here\n     tvCity.setText(&quot;Some value&quot;);\n     ...\n     super.refreshContent(e, highlight);\n  }\n\n}\n</code></pre>\n<p>Reference link : <a href=\"https://github.com/PhilJay/MPAndroidChart/wiki/MarkerView\" rel=\"nofollow noreferrer\">MarkerView </a></p>\n<p>You can refer this <a href=\"https://www.codeplayon.com/android-bar-chart-with-tooltip-example/\" rel=\"nofollow noreferrer\">tutorial</a> as an example.</p>\n"}],"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680199168,"creation_date":1680167655,"question_id":75886278,"body_markdown":"I have to plot a line graph which shows no. of projects in talukas and when clicked on one point it shows more data as shown in this image: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zUFaq.png\r\n\r\nHow can I implement that? I tried MPAndroidChart but I don&#39;t know how to do this.\r\n\r\n","title":"How to make line chart with more data in Android in Java?","body":"<p>I have to plot a line graph which shows no. of projects in talukas and when clicked on one point it shows more data as shown in this image: <a href=\"https://i.stack.imgur.com/zUFaq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zUFaq.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I implement that? I tried MPAndroidChart but I don't know how to do this.</p>\n"},{"tags":["java","spring","spring-mvc","websocket"],"answers":[{"comments":[{"owner":{"account_id":1668222,"reputation":475,"user_id":1535228,"accept_rate":71,"display_name":"Yamit"},"score":0,"creation_date":1392646073,"post_id":21786327,"comment_id":33042048,"body_markdown":"thanks!! well actually I use, a WebSocketMessageBrokerConfigurer, but using this it works: registry.addEndpoint(&quot;/api/v1/ws/pushService&quot;).withSockJS().setInterceptors(wsSessionInterceptor);","body":"thanks!! well actually I use, a WebSocketMessageBrokerConfigurer, but using this it works: registry.addEndpoint(&quot;/api/v1/ws/pushService&quot;).withSockJS().&zwnj;&#8203;setInterceptors(wsSe&zwnj;&#8203;ssionInterceptor);"}],"tags":[],"owner":{"account_id":3462098,"reputation":42531,"user_id":2898867,"accept_rate":80,"display_name":"Angular University"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1526658083,"creation_date":1392400744,"answer_id":21786327,"question_id":21781667,"body_markdown":"This an be done with a connection handshake interceptor ([HttpSessionHandshakeInterceptor][1]), quoting the [documentation][2]:\r\n\r\n&gt; The easiest way to customize the initial HTTP WebSocket handshake\r\n&gt; request is through a HandshakeInterceptor, which exposes &quot;before&quot; and\r\n&gt; &quot;after&quot; the handshake methods.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.0.0.RC1/javadoc-api/org/springframework/web/socket/server/support/HttpSessionHandshakeInterceptor.html\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>This an be done with a connection handshake interceptor (<a href=\"http://docs.spring.io/spring/docs/4.0.0.RC1/javadoc-api/org/springframework/web/socket/server/support/HttpSessionHandshakeInterceptor.html\" rel=\"noreferrer\">HttpSessionHandshakeInterceptor</a>), quoting the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The easiest way to customize the initial HTTP WebSocket handshake\n  request is through a HandshakeInterceptor, which exposes \"before\" and\n  \"after\" the handshake methods.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":162143,"reputation":1458,"user_id":383421,"accept_rate":41,"display_name":"disorderdev"},"score":0,"creation_date":1470916605,"post_id":24240729,"comment_id":65150330,"body_markdown":"how could I get the Principal by sessionID?","body":"how could I get the Principal by sessionID?"},{"owner":{"account_id":1168340,"reputation":2740,"user_id":2014439,"accept_rate":86,"display_name":"walv"},"score":0,"creation_date":1628174467,"post_id":24240729,"comment_id":121355412,"body_markdown":"@disorderdev on Connect, you can store in your DB the link between sessionId and Principal and on Disconnect, to retrieve the Principal by Session ID","body":"@disorderdev on Connect, you can store in your DB the link between sessionId and Principal and on Disconnect, to retrieve the Principal by Session ID"},{"owner":{"account_id":8623105,"reputation":3910,"user_id":8744067,"accept_rate":89,"display_name":"Feroz Siddiqui"},"score":0,"creation_date":1661058155,"post_id":24240729,"comment_id":129678325,"body_markdown":"How do we identify which client along with endpoint client is disconnected ?","body":"How do we identify which client along with endpoint client is disconnected ?"}],"tags":[],"owner":{"account_id":1168340,"reputation":2740,"user_id":2014439,"accept_rate":86,"display_name":"walv"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1402914027,"creation_date":1402911701,"answer_id":24240729,"question_id":21781667,"body_markdown":"As I understand, the question with DISCONNECT event is not solved in this topic. Handshake interception gives you only connect info but not disconnect.\r\n\r\nI have achieved this with the interceptors of inbound channel:\r\n\r\n    &lt;websocket:message-broker&gt;\r\n        ...\r\n        &lt;websocket:client-inbound-channel&gt;\r\n            &lt;websocket:interceptors&gt;\r\n                &lt;bean class=&quot;com......MyChannelInterception&quot;&gt;&lt;/bean&gt;\r\n            &lt;/websocket:interceptors&gt;\r\n        &lt;/websocket:client-inbound-channel&gt;\r\n    &lt;/websocket:message-broker&gt;\r\n\r\n...and class...\r\n\r\n    \r\n    import java.security.Principal;\r\n\r\n    import org.apache.log4j.LogManager;\r\n    import org.apache.log4j.Logger;\r\n    import org.springframework.messaging.Message;\r\n    import org.springframework.messaging.MessageChannel;\r\n    import org.springframework.messaging.MessageHeaders;\r\n    import org.springframework.messaging.simp.SimpMessageType;\r\n    import org.springframework.messaging.support.ChannelInterceptorAdapter;\r\n    \r\n    public class MyChannelInterception extends ChannelInterceptorAdapter {\r\n\r\n    private static final Logger LOGGER = LogManager.getLogger(WrcChannelInterception.class);\r\n\r\n    @Override\r\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n\r\n        MessageHeaders headers = message.getHeaders();\r\n        SimpMessageType type = (SimpMessageType) headers.get(&quot;simpMessageType&quot;);\r\n        String simpSessionId = (String) headers.get(&quot;simpSessionId&quot;);\r\n\r\n        if (type == SimpMessageType.CONNECT) {\r\n            Principal principal = (Principal) headers.get(&quot;simpUser&quot;);\r\n            LOGGER.debug(&quot;WsSession &quot; + simpSessionId + &quot; is connected for user &quot; + principal.getName());\r\n        } else if (type == SimpMessageType.DISCONNECT) {\r\n            LOGGER.debug(&quot;WsSession &quot; + simpSessionId + &quot; is disconnected&quot;);\r\n        }\r\n        return message;\r\n    }\r\n    }\r\n\r\nPlease note that Principal is available on CONNECT but not on DISCONNECT, however you have sweet Session ID","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>As I understand, the question with DISCONNECT event is not solved in this topic. Handshake interception gives you only connect info but not disconnect.</p>\n\n<p>I have achieved this with the interceptors of inbound channel:</p>\n\n<pre><code>&lt;websocket:message-broker&gt;\n    ...\n    &lt;websocket:client-inbound-channel&gt;\n        &lt;websocket:interceptors&gt;\n            &lt;bean class=\"com......MyChannelInterception\"&gt;&lt;/bean&gt;\n        &lt;/websocket:interceptors&gt;\n    &lt;/websocket:client-inbound-channel&gt;\n&lt;/websocket:message-broker&gt;\n</code></pre>\n\n<p>...and class...</p>\n\n<pre><code>import java.security.Principal;\n\nimport org.apache.log4j.LogManager;\nimport org.apache.log4j.Logger;\nimport org.springframework.messaging.Message;\nimport org.springframework.messaging.MessageChannel;\nimport org.springframework.messaging.MessageHeaders;\nimport org.springframework.messaging.simp.SimpMessageType;\nimport org.springframework.messaging.support.ChannelInterceptorAdapter;\n\npublic class MyChannelInterception extends ChannelInterceptorAdapter {\n\nprivate static final Logger LOGGER = LogManager.getLogger(WrcChannelInterception.class);\n\n@Override\npublic Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n\n    MessageHeaders headers = message.getHeaders();\n    SimpMessageType type = (SimpMessageType) headers.get(\"simpMessageType\");\n    String simpSessionId = (String) headers.get(\"simpSessionId\");\n\n    if (type == SimpMessageType.CONNECT) {\n        Principal principal = (Principal) headers.get(\"simpUser\");\n        LOGGER.debug(\"WsSession \" + simpSessionId + \" is connected for user \" + principal.getName());\n    } else if (type == SimpMessageType.DISCONNECT) {\n        LOGGER.debug(\"WsSession \" + simpSessionId + \" is disconnected\");\n    }\n    return message;\n}\n}\n</code></pre>\n\n<p>Please note that Principal is available on CONNECT but not on DISCONNECT, however you have sweet Session ID</p>\n"},{"comments":[{"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"score":1,"creation_date":1553600475,"post_id":49754626,"comment_id":97436073,"body_markdown":"Where do you store sessionId?","body":"Where do you store sessionId?"}],"tags":[],"owner":{"account_id":125676,"reputation":8154,"user_id":2707251,"display_name":"Sergi Almar"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1647286963,"creation_date":1523365969,"answer_id":49754626,"question_id":21781667,"body_markdown":"Spring WebSocket publishes events when messages are received from the client, if you are using STOMP, these are the events published:\r\n\r\n - [SessionConnectedEvent][1]\r\n - [SessionConnectEvent][2]\r\n - [SessionDisconnectEvent][3]\r\n - [SessionSubscribeEvent][4]\r\n - [SessionUnsubscribeEvent][5]\r\n\r\nThe easiest way to detect connects and disconnects is by implementing an event listener for the mentioned events.\r\n\r\n    @Component\r\n    public class WebSocketEventListener {\r\n\r\n        @EventListener\r\n    \tprivate void handleSessionConnected(SessionConnectEvent event) {\r\n            ...\r\n        }\r\n    \r\n        @EventListener\r\n    \tprivate void handleSessionDisconnect(SessionDisconnectEvent event) {\r\n            ...\r\n        }\r\n    }\r\n\r\nHere&#39;s a sample implementation that keeps track of connected users: https://github.com/salmar/spring-websocket-chat/blob/master/src/main/java/com/sergialmar/wschat/event/PresenceEventListener.java\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionConnectedEvent.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionConnectEvent.html\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionDisconnectEvent.html\r\n  [4]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionSubscribeEvent.html\r\n  [5]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionUnsubscribeEvent.html","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>Spring WebSocket publishes events when messages are received from the client, if you are using STOMP, these are the events published:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionConnectedEvent.html\" rel=\"noreferrer\">SessionConnectedEvent</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionConnectEvent.html\" rel=\"noreferrer\">SessionConnectEvent</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionDisconnectEvent.html\" rel=\"noreferrer\">SessionDisconnectEvent</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionSubscribeEvent.html\" rel=\"noreferrer\">SessionSubscribeEvent</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/messaging/SessionUnsubscribeEvent.html\" rel=\"noreferrer\">SessionUnsubscribeEvent</a></li>\n</ul>\n<p>The easiest way to detect connects and disconnects is by implementing an event listener for the mentioned events.</p>\n<pre><code>@Component\npublic class WebSocketEventListener {\n\n    @EventListener\n    private void handleSessionConnected(SessionConnectEvent event) {\n        ...\n    }\n\n    @EventListener\n    private void handleSessionDisconnect(SessionDisconnectEvent event) {\n        ...\n    }\n}\n</code></pre>\n<p>Here's a sample implementation that keeps track of connected users: <a href=\"https://github.com/salmar/spring-websocket-chat/blob/master/src/main/java/com/sergialmar/wschat/event/PresenceEventListener.java\" rel=\"noreferrer\">https://github.com/salmar/spring-websocket-chat/blob/master/src/main/java/com/sergialmar/wschat/event/PresenceEventListener.java</a></p>\n"},{"tags":[],"owner":{"account_id":74193,"reputation":4313,"user_id":213292,"accept_rate":40,"display_name":"JJ Roman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632562492,"creation_date":1632562492,"answer_id":69324886,"question_id":21781667,"body_markdown":"Although original question is about Spring 4 - which is well answered by Sergi. Here is a way to do it in Spring 5 or Spring Boot 2 (which uses Spring 5 under the hood). ApplicationListener needs to be implemented:\r\n\r\n    @Component\r\n    public class WebSocketEventListener implements ApplicationListener&lt;SessionConnectEvent&gt; {\r\n        Logger logger = LoggerFactory.getLogger(WebSocketEventListener.class);\r\n\r\n        @Override\r\n        public void onApplicationEvent(SessionConnectEvent event) {\r\n            logger.error(&quot;SessionConnectEvent = &quot; + event);\r\n        }\r\n    }","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>Although original question is about Spring 4 - which is well answered by Sergi. Here is a way to do it in Spring 5 or Spring Boot 2 (which uses Spring 5 under the hood). ApplicationListener needs to be implemented:</p>\n<pre><code>@Component\npublic class WebSocketEventListener implements ApplicationListener&lt;SessionConnectEvent&gt; {\n    Logger logger = LoggerFactory.getLogger(WebSocketEventListener.class);\n\n    @Override\n    public void onApplicationEvent(SessionConnectEvent event) {\n        logger.error(&quot;SessionConnectEvent = &quot; + event);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3750738,"reputation":1,"user_id":3118286,"display_name":"Bora Ciner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680199055,"creation_date":1679686044,"answer_id":75837487,"question_id":21781667,"body_markdown":"This code snippet may help you:\r\n\r\n    @Override\r\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n        logger.info(&quot;afterConnectionEstablished called&quot;);\r\n    }\r\n","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>This code snippet may help you:</p>\n<pre><code>@Override\npublic void afterConnectionEstablished(WebSocketSession session) throws Exception {\n    logger.info(&quot;afterConnectionEstablished called&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1668222,"reputation":475,"user_id":1535228,"accept_rate":71,"display_name":"Yamit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26754,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":21786327,"answer_count":5,"score":7,"last_activity_date":1680199055,"creation_date":1392387201,"question_id":21781667,"body_markdown":"I did a simple web socket communication with spring 4,STOMP and sock.js, following this https://github.com/rstoyanchev/spring-websocket-portfolio and this\r\nhttp://assets.spring.io/wp/WebSocketBlogPost.html\r\n\r\nwell, I want to know if is possible capture connection events like when a new client was connected to my server or when a client was disconnected, is that possible in Spring 4.0.0?\r\n","title":"how to capture connection event in my webSocket server with Spring 4?","body":"<p>I did a simple web socket communication with spring 4,STOMP and sock.js, following this <a href=\"https://github.com/rstoyanchev/spring-websocket-portfolio\" rel=\"noreferrer\">https://github.com/rstoyanchev/spring-websocket-portfolio</a> and this\n<a href=\"http://assets.spring.io/wp/WebSocketBlogPost.html\" rel=\"noreferrer\">http://assets.spring.io/wp/WebSocketBlogPost.html</a></p>\n\n<p>well, I want to know if is possible capture connection events like when a new client was connected to my server or when a client was disconnected, is that possible in Spring 4.0.0?</p>\n"},{"tags":["java","android-studio","jts"],"comments":[{"owner":{"account_id":4338389,"reputation":1320,"user_id":3542319,"display_name":"GeoJim"},"score":0,"creation_date":1516741201,"post_id":48402726,"comment_id":83811129,"body_markdown":"Does the Maven section of the JTS usage guide (https://github.com/locationtech/jts/blob/master/USING.md#using-jts-with-maven) help at all?\n\n(Sadly, I have almost no experience with Android development.  I&#39;m part of the JTS team, and I&#39;d like to make sure you we document JTS use on Android.)","body":"Does the Maven section of the JTS usage guide (<a href=\"https://github.com/locationtech/jts/blob/master/USING.md#using-jts-with-maven\" rel=\"nofollow noreferrer\">github.com/locationtech/jts/blob/master/&hellip;</a>) help at all?  (Sadly, I have almost no experience with Android development.  I&#39;m part of the JTS team, and I&#39;d like to make sure you we document JTS use on Android.)"},{"owner":{"account_id":12434786,"reputation":1,"user_id":9055644,"display_name":"Charu Manivannan"},"score":0,"creation_date":1517243305,"post_id":48402726,"comment_id":84005660,"body_markdown":"@GeoMesaJim Thanks a lot. :) it certainly helped.. Could you please also let me know if JTS has an integration for Web Feature Service ?","body":"@GeoMesaJim Thanks a lot. :) it certainly helped.. Could you please also let me know if JTS has an integration for Web Feature Service ?"},{"owner":{"account_id":4338389,"reputation":1320,"user_id":3542319,"display_name":"GeoJim"},"score":0,"creation_date":1517321423,"post_id":48402726,"comment_id":84041474,"body_markdown":"GeoServer is an open source server which implements the Web Feature Service using JTS and GeoTools.","body":"GeoServer is an open source server which implements the Web Feature Service using JTS and GeoTools."}],"answers":[{"tags":[],"owner":{"account_id":10168879,"reputation":41,"user_id":7509805,"display_name":"su00n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680126174,"creation_date":1680116950,"answer_id":75881241,"question_id":48402726,"body_markdown":"I came across same problem , I found a solution , hope this helps .\r\n\r\n 1. Add the following lines to your app module&#39;s build.gradle file to\r\n    include the JTS library in your project:\r\n\r\n        dependencies {\r\n               implementation &#39;org.locationtech.jts:jts-core:1.18.0&#39;\r\n        }\r\n\r\n 2. Sync your project with Gradle.\r\n\r\n 3. You can now use the JTS library in your Android project. In your\r\n    Java code, you can import the JTS classes as follows:\r\n\r\n        import com.vividsolutions.jts.geom.Circle;\r\n        import com.vividsolutions.jts.geom.Coordinate;\r\n        import com.vividsolutions.jts.geom.Geometry;\r\n        import com.vividsolutions.jts.geom.GeometryFactory;\r\n        import com.vividsolutions.jts.algorithm.CentroidArea;\r\n\r\n\r\n\r\n","title":"JTS Topology Suite in Android Studio","body":"<p>I came across same problem , I found a solution , hope this helps .</p>\n<ol>\n<li><p>Add the following lines to your app module's build.gradle file to\ninclude the JTS library in your project:</p>\n<pre><code>dependencies {\n       implementation 'org.locationtech.jts:jts-core:1.18.0'\n}\n</code></pre>\n</li>\n<li><p>Sync your project with Gradle.</p>\n</li>\n<li><p>You can now use the JTS library in your Android project. In your\nJava code, you can import the JTS classes as follows:</p>\n<pre><code>import com.vividsolutions.jts.geom.Circle;\nimport com.vividsolutions.jts.geom.Coordinate;\nimport com.vividsolutions.jts.geom.Geometry;\nimport com.vividsolutions.jts.geom.GeometryFactory;\nimport com.vividsolutions.jts.algorithm.CentroidArea;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":12434786,"reputation":1,"user_id":9055644,"display_name":"Charu Manivannan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680199006,"creation_date":1516713502,"question_id":48402726,"body_markdown":"I am currently developing and android application and require to do some spatial queries for which I ended up in deciding to use JTS topological suite. However, I could not find proper documentation of how to add the JTS Topological Suite in my Android Studio Project. Could anyone please let me know if there is a proper documentation for this or if you could tell me how to add JTS in android studio, then it would be of great help. Sorry, if its a very basic question as I am a new by in android development. ","title":"JTS Topology Suite in Android Studio","body":"<p>I am currently developing and android application and require to do some spatial queries for which I ended up in deciding to use JTS topological suite. However, I could not find proper documentation of how to add the JTS Topological Suite in my Android Studio Project. Could anyone please let me know if there is a proper documentation for this or if you could tell me how to add JTS in android studio, then it would be of great help. Sorry, if its a very basic question as I am a new by in android development. </p>\n"},{"tags":["java","cluster-computing","jboss7.x","jmx"],"owner":{"account_id":28170949,"reputation":1,"user_id":21529527,"display_name":"Rajeev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680198934,"creation_date":1680198679,"question_id":75891456,"body_markdown":"Cluster view for JBoss 6 was printing all the cluster nodes info using JMX but after migrating to JBoss 7.4 it prints only localhost node details.\r\n\r\nBelow code with JBoss 6.4 prints both the node info(ex - [app1/web|0] [app1/web] [app2/web]) as cluster view of two node cluster and I am expecting same result after migrating to JBoss 7.4.\r\n\r\n    public void getClusterView(String host, String port) throws Exception {\r\n            try {\r\n                MBeanServerConnection mbeanServerConnection = this.getMBeanServerConnection(host, port);\r\n                ObjectName objectName = new ObjectName(&quot;jgroups:type=channel,cluster=\\&quot;web\\&quot;&quot;);\r\n                String clusterView = (String) mbeanServerConnection.getAttribute(objectName, &quot;view&quot;);\r\n                System.out.println(&quot;clusterView: &quot; + clusterView);\r\n            } catch (Exception e) {\r\n                throw e;\r\n            }\r\n        }\r\n\r\nFor JBoss 7.4 I am using ObjectName &quot;jgroups:type=channel,cluster=\\&quot;ee\\&quot;&quot; as &quot;cluster=web&quot; doesn&#39;t exist in ObjectName list but it prints only &quot;[app1|0] (1) [app1]&quot;.\r\n\r\nCan Anyone please suggest any alternate way to get cluster view with both the node for JBoss 7.4 ?\r\n","title":"How to get cluster view with all nodes for JBoss 7.4 server?","body":"<p>Cluster view for JBoss 6 was printing all the cluster nodes info using JMX but after migrating to JBoss 7.4 it prints only localhost node details.</p>\n<p>Below code with JBoss 6.4 prints both the node info(ex - [app1/web|0] [app1/web] [app2/web]) as cluster view of two node cluster and I am expecting same result after migrating to JBoss 7.4.</p>\n<pre><code>public void getClusterView(String host, String port) throws Exception {\n        try {\n            MBeanServerConnection mbeanServerConnection = this.getMBeanServerConnection(host, port);\n            ObjectName objectName = new ObjectName(&quot;jgroups:type=channel,cluster=\\&quot;web\\&quot;&quot;);\n            String clusterView = (String) mbeanServerConnection.getAttribute(objectName, &quot;view&quot;);\n            System.out.println(&quot;clusterView: &quot; + clusterView);\n        } catch (Exception e) {\n            throw e;\n        }\n    }\n</code></pre>\n<p>For JBoss 7.4 I am using ObjectName &quot;jgroups:type=channel,cluster=&quot;ee&quot;&quot; as &quot;cluster=web&quot; doesn't exist in ObjectName list but it prints only &quot;[app1|0] (1) [app1]&quot;.</p>\n<p>Can Anyone please suggest any alternate way to get cluster view with both the node for JBoss 7.4 ?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1680168825,"post_id":75883814,"comment_id":133853525,"body_markdown":"I am not sure where exactly you&#39;re getting NullPointerException?","body":"I am not sure where exactly you&#39;re getting NullPointerException?"},{"owner":{"account_id":448713,"reputation":304,"user_id":843075,"accept_rate":17,"display_name":"fdama"},"score":0,"creation_date":1680199009,"post_id":75883814,"comment_id":133861827,"body_markdown":"@AlexeyR. Apologies, I don&#39;t get a NullPointerException but the list of WebElements does not get stored in the &#39;names&#39; variable on the third call of the method. It works ok when called the first two times. Its on this line:                                                         \n names = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);","body":"@AlexeyR. Apologies, I don&#39;t get a NullPointerException but the list of WebElements does not get stored in the &#39;names&#39; variable on the third call of the method. It works ok when called the first two times. Its on this line:                                                           names = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);"}],"owner":{"account_id":448713,"reputation":304,"user_id":843075,"accept_rate":17,"display_name":"fdama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680198762,"creation_date":1680146048,"question_id":75883814,"body_markdown":"I have some code which returns the indexes of `WebElements` whose text match a provided string. The `WebElements` are fetched and placed in a list called `names`. The method is called a few times and for some reason, on the third call, the `WebElements` are not retrieved. While in debug mode, when the line of code that attempts to fetch the `WebElements` is run, there is a short 3-4 second delay and then moves on to the next line without fetching anything. I&#39;m not sure why this is happening as there are no error messages. So `names` remains empty. I don&#39;t understand why this would happen, especially if it worked on the previous two method calls. I would be grateful for any help.  Here is my code:\r\n\r\nThis is the method I described:\r\n\r\n    public void getIndexOfItems(String ingredient) {\r\n    \t\tindexes = new ArrayList&lt;Integer&gt;();\r\n    \t\t//List&lt;WebElement&gt; names = product.products().get(0);\r\n    \t\tList&lt;WebElement&gt; names = null;\r\n    \t\tif(itemName.equalsIgnoreCase(&quot;Moisturiser&quot;)) {\r\n    \t\t\tnames = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);\r\n    \t\t} else {\r\n    \t\t\tnames = ((SunscreenPage)product).findAll(SunscreenPage.byNames);\r\n    \t\t}\r\n    \t\t\r\n    \t\t//List&lt;WebElement&gt; names = items.get(0);\r\n    \t\t\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;names.size(); i++) {  \r\n    \t\t\tString name = names.get(i).getText().toLowerCase();\r\n    \t\t\tif(name.indexOf(ingredient) != -1) {\r\n    \t\t\t\tindexes.add(i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nThe issue where `findAll()` returns nothing when called for the third time happens here:\r\n\r\n    if(itemName.equalsIgnoreCase(&quot;Moisturiser&quot;)) {\r\n    \t\t\tnames = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);\r\n    \t\t} else {\r\n    \t\t\tnames = ((SunscreenPage)product).findAll(SunscreenPage.byNames);\r\n    \t\t}\r\n\r\nHere is the Interface for the page objects:\r\n\r\n    package com.weathershopper.pageobjects;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    public interface IProductPage {\r\n    \tstatic By byNames = By.xpath(&quot;//div[@class=&#39;container&#39;]//p[@class=&#39;font-weight-bold top-space-10&#39;]&quot;);\r\n    \tBy byPrice = By.xpath(&quot;//div[@class=&#39;text-center col-4&#39;]/p[2]&quot;);\r\n    \tBy byAddBtn = By.xpath(&quot;//div[@class=&#39;text-center col-4&#39;]/button&quot;);\r\n    \tBy byCartBtn = By.xpath(&quot;//button[@class=&#39;thin-text nav-link&#39;]&quot;);\r\n    \tBy byCartText = By.xpath(&quot;//span[@id=&#39;cart&#39;]&quot;);\r\n    \t\r\n    \tList&lt;List&lt;WebElement&gt;&gt; products();\r\n    \tvoid clickCart();\r\n    \tvoid addToCart(Integer i);\r\n    \t\r\n    \r\n    }\r\n\r\nHere is the `findAll()` method:\r\n\r\n    public List&lt;WebElement&gt; findAll(By by) {\r\n    \t\treturn driver.findElements(by);\r\n    \t}","title":"List does not get populated with WebElements when method is called the third time","body":"<p>I have some code which returns the indexes of <code>WebElements</code> whose text match a provided string. The <code>WebElements</code> are fetched and placed in a list called <code>names</code>. The method is called a few times and for some reason, on the third call, the <code>WebElements</code> are not retrieved. While in debug mode, when the line of code that attempts to fetch the <code>WebElements</code> is run, there is a short 3-4 second delay and then moves on to the next line without fetching anything. I'm not sure why this is happening as there are no error messages. So <code>names</code> remains empty. I don't understand why this would happen, especially if it worked on the previous two method calls. I would be grateful for any help.  Here is my code:</p>\n<p>This is the method I described:</p>\n<pre><code>public void getIndexOfItems(String ingredient) {\n        indexes = new ArrayList&lt;Integer&gt;();\n        //List&lt;WebElement&gt; names = product.products().get(0);\n        List&lt;WebElement&gt; names = null;\n        if(itemName.equalsIgnoreCase(&quot;Moisturiser&quot;)) {\n            names = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);\n        } else {\n            names = ((SunscreenPage)product).findAll(SunscreenPage.byNames);\n        }\n        \n        //List&lt;WebElement&gt; names = items.get(0);\n        \n        \n        for(int i=0; i&lt;names.size(); i++) {  \n            String name = names.get(i).getText().toLowerCase();\n            if(name.indexOf(ingredient) != -1) {\n                indexes.add(i);\n            }\n        }\n    }\n</code></pre>\n<p>The issue where <code>findAll()</code> returns nothing when called for the third time happens here:</p>\n<pre><code>if(itemName.equalsIgnoreCase(&quot;Moisturiser&quot;)) {\n            names = ((MoisturiserPage)product).findAll(MoisturiserPage.byNames);\n        } else {\n            names = ((SunscreenPage)product).findAll(SunscreenPage.byNames);\n        }\n</code></pre>\n<p>Here is the Interface for the page objects:</p>\n<pre><code>package com.weathershopper.pageobjects;\n\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\n\npublic interface IProductPage {\n    static By byNames = By.xpath(&quot;//div[@class='container']//p[@class='font-weight-bold top-space-10']&quot;);\n    By byPrice = By.xpath(&quot;//div[@class='text-center col-4']/p[2]&quot;);\n    By byAddBtn = By.xpath(&quot;//div[@class='text-center col-4']/button&quot;);\n    By byCartBtn = By.xpath(&quot;//button[@class='thin-text nav-link']&quot;);\n    By byCartText = By.xpath(&quot;//span[@id='cart']&quot;);\n    \n    List&lt;List&lt;WebElement&gt;&gt; products();\n    void clickCart();\n    void addToCart(Integer i);\n    \n\n}\n</code></pre>\n<p>Here is the <code>findAll()</code> method:</p>\n<pre><code>public List&lt;WebElement&gt; findAll(By by) {\n        return driver.findElements(by);\n    }\n</code></pre>\n"},{"tags":["java","plugins","pmd"],"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":4,"creation_date":1285831381,"post_id":3828570,"comment_id":4064687,"body_markdown":"*I am damm confusing* That made my day, thanks :-)","body":"<i>I am damm confusing</i> That made my day, thanks :-)"}],"answers":[{"comments":[{"owner":{"account_id":210761,"reputation":811,"user_id":462563,"accept_rate":69,"display_name":"janasainik"},"score":0,"creation_date":1285939570,"post_id":3828671,"comment_id":4078128,"body_markdown":"yes, all the documentation has not given clear idea to create a new rule in ruleset. I am planning to create rule for comments and javadoc. But unable to create it..! any idea?","body":"yes, all the documentation has not given clear idea to create a new rule in ruleset. I am planning to create rule for comments and javadoc. But unable to create it..! any idea?"},{"owner":{"account_id":210761,"reputation":811,"user_id":462563,"accept_rate":69,"display_name":"janasainik"},"score":0,"creation_date":1286262100,"post_id":3828671,"comment_id":4106246,"body_markdown":"I am planning to do like following for a rule that is &#39;java comments&#39;.","body":"I am planning to do like following for a rule that is &#39;java comments&#39;."},{"owner":{"account_id":210761,"reputation":811,"user_id":462563,"accept_rate":69,"display_name":"janasainik"},"score":0,"creation_date":1286262319,"post_id":3828671,"comment_id":4106264,"body_markdown":"I have choosen the existed ruleset from pmd and i was modified message, description, priority and implemented class name. \nNow i am readu to develop a class for checking code to identify the the java comments syntaxes. Here i stopped my implementation due to lack of idea! Any idea on pmd rule for java comments?","body":"I have choosen the existed ruleset from pmd and i was modified message, description, priority and implemented class name.  Now i am readu to develop a class for checking code to identify the the java comments syntaxes. Here i stopped my implementation due to lack of idea! Any idea on pmd rule for java comments?"},{"owner":{"account_id":210761,"reputation":811,"user_id":462563,"accept_rate":69,"display_name":"janasainik"},"score":0,"creation_date":1286860592,"post_id":3828671,"comment_id":4170359,"body_markdown":"I m successfully able to create PMD custom/new rules in myeclipse IDE. I have created new rules for checking the initializations of integer numbers and some more. But now d problem is, i just want to create rule for checking javadoc, java comments, whitespaces and indentations. have any idea?","body":"I m successfully able to create PMD custom/new rules in myeclipse IDE. I have created new rules for checking the initializations of integer numbers and some more. But now d problem is, i just want to create rule for checking javadoc, java comments, whitespaces and indentations. have any idea?"},{"owner":{"account_id":4321794,"reputation":576,"user_id":3529744,"accept_rate":91,"display_name":"one stevy boi"},"score":0,"creation_date":1628186867,"post_id":3828671,"comment_id":121360548,"body_markdown":"it looks like both of these links are now broken","body":"it looks like both of these links are now broken"}],"tags":[],"owner":{"account_id":46144,"reputation":7024,"user_id":136248,"accept_rate":100,"display_name":"Benoit Courtine"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680198697,"creation_date":1285832145,"answer_id":3828671,"question_id":3828570,"body_markdown":"Where do you have a problem, in the official documentation?\r\n\r\n - [Introduction to writing PMD Rules](https://docs.pmd-code.org/latest/pmd_userdocs_extending_writing_rules_intro.html)\r\n - [Making Rulesets](https://docs.pmd-code.org/latest/pmd_userdocs_making_rulesets.html)","title":"How to create PMD custom rule in ruleset?","body":"<p>Where do you have a problem, in the official documentation?</p>\n<ul>\n<li><a href=\"https://docs.pmd-code.org/latest/pmd_userdocs_extending_writing_rules_intro.html\" rel=\"nofollow noreferrer\">Introduction to writing PMD Rules</a></li>\n<li><a href=\"https://docs.pmd-code.org/latest/pmd_userdocs_making_rulesets.html\" rel=\"nofollow noreferrer\">Making Rulesets</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14214280,"reputation":527,"user_id":10268617,"display_name":"Parthiban"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583414053,"creation_date":1583414053,"answer_id":60546229,"question_id":3828570,"body_markdown":"You can use the designer to write own rules. Below articles might help you.\r\n\r\nhttps://www.javacodegeeks.com/2012/10/customize-pmd-in-eclipse-with-your-own.html\r\n\r\nhttps://pmd.github.io/latest/pmd_userdocs_extending_designer_reference.html","title":"How to create PMD custom rule in ruleset?","body":"<p>You can use the designer to write own rules. Below articles might help you.</p>\n\n<p><a href=\"https://www.javacodegeeks.com/2012/10/customize-pmd-in-eclipse-with-your-own.html\" rel=\"nofollow noreferrer\">https://www.javacodegeeks.com/2012/10/customize-pmd-in-eclipse-with-your-own.html</a></p>\n\n<p><a href=\"https://pmd.github.io/latest/pmd_userdocs_extending_designer_reference.html\" rel=\"nofollow noreferrer\">https://pmd.github.io/latest/pmd_userdocs_extending_designer_reference.html</a></p>\n"}],"owner":{"account_id":210761,"reputation":811,"user_id":462563,"accept_rate":69,"display_name":"janasainik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3347,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1680198697,"creation_date":1285831052,"question_id":3828570,"body_markdown":"I am damm confusing to create a new PMD rule in ruleset! \r\ncan anyone guide me to the approach to do so?\r\nthanks in advance!","title":"How to create PMD custom rule in ruleset?","body":"<p>I am damm confusing to create a new PMD rule in ruleset! \ncan anyone guide me to the approach to do so?\nthanks in advance!</p>\n"},{"tags":["java","eclipse","maven","hana"],"comments":[{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":0,"creation_date":1419842478,"post_id":27684222,"comment_id":43785391,"body_markdown":"`If you don&#39;t develop a JCo scenario for HANA Cloud, you can ignore this issue.` Do you develop a JCO scenario? The error is thrown by eclipse (see `org.eclipse.osgi.framework...`), can you try to run your server outside Eclipse?","body":"<code>If you don&#39;t develop a JCo scenario for HANA Cloud, you can ignore this issue.</code> Do you develop a JCO scenario? The error is thrown by eclipse (see <code>org.eclipse.osgi.framework...</code>), can you try to run your server outside Eclipse?"}],"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1680198622,"creation_date":1419833673,"question_id":27684222,"body_markdown":"I installed Eclipse IDE JAVA EE edition and all other required plugins. I have created server instance(WEB JAVA)and pointed it to local directory C:\\dev\\hanacloud.sdk\\xyz using default settings.\r\n\r\n\r\nI ran project  by selecting(It contains pom file) `project(ESCMP-web) -&gt;RUN AS -&gt; RUN ON SERVER -&gt;choose an existing server -&gt; Web JAVA -&gt; finish ` , after few seconds it gives an error message as\r\n \r\n&gt; &#39;Publishing to Java Web Server...&#39; has encountered a problem.\r\n&gt;\r\n&gt; Publish failed: Server has been stopped during publish process.\r\n&gt;\r\n&gt; ![error][1]\r\n\r\nConsole message :\r\n\r\n     java version &quot;1.7.0_71&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_71-b14)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.71-b01, mixed mode)\r\n    C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config&gt;&quot;C:\\Program Files\\Java\\jdk1.7.0_71\\bin\\java&quot; -server  &quot;-Dhttp.proxyHost=172.30.0.14&quot; &quot;-Dhttp.proxyPort=3128&quot; &quot;-Dhttps.proxyHost=172.30.0.14&quot; &quot;-Dhttps.proxyPort=3128&quot; &quot;-Dhttp.nonProxyHosts=*.corp|localhost|127.0.0.1&quot; &quot;-Djava.rmi.server.hostname=127.0.0.1&quot;  -jar plugins/org.eclipse.equinox.launcher_1.1.0.v20100507.jar  -console -dev &quot;file:C:/dev/eclipse/workspace/Servers/Java Web Server-config/configuration/dev.properties&quot; \r\n    osgi&gt; Updating file with path [C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\.\\pickup\\espm-mobile-shopping-web.war]\r\n    \r\n    Update of file with path [C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\.\\pickup\\espm-mobile-shopping-web.war] is successful.\r\n    log4j:WARN No appenders could be found for logger (org.apache.cxf.common.logging.LogUtils).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    \r\n    \r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n    An error has occurred. See the log file\r\n    C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\configuration\\1419836491312.log.\r\n\r\nServer log file for session:\r\n\r\n    !SESSION 2014-12-29 12:31:30.984 -----------------------------------------------\r\n    eclipse.buildId=unknown\r\n    java.version=1.7.0_71\r\n    java.vendor=Oracle Corporation\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\r\n    Command-line arguments:  -console -dev file:C:/dev/eclipse/workspace/Servers/Java Web Server-config/configuration/dev.properties\r\n    \r\n    !ENTRY com.sap.conn.jco.cloud 4 0 2014-12-29 12:31:34.250\r\n    !MESSAGE FrameworkEvent ERROR\r\n    !STACK 0\r\n    org.osgi.framework.BundleException: Exception in com.sap.conn.jco.NeoActivator.start() of bundle com.sap.conn.jco.cloud.\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:734)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\r\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:389)\r\n        at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1131)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n    Caused by: java.lang.RuntimeException: Cannot load the JCo native library. (exception java.lang.ExceptionInInitializerError: JCo initialization failed with java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path)\r\n    If you don&#39;t develop a JCo scenario for HANA Cloud, you can ignore this issue.\r\n    Check if you have installed the Visual Studio 2010 runtime libraries in the correct version. (vcredist.msi)\r\n    The 64bit msi can be downloaded from http://www.microsoft.com/download/en/details.aspx?id=14632\r\n    \r\n        at com.sap.conn.jco.NeoActivator.processLoadError(NeoActivator.java:73)\r\n        at com.sap.conn.jco.NeoActivator.start(NeoActivator.java:43)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\r\n        ... 12 more\r\n    Root exception:\r\n    java.lang.RuntimeException: Cannot load the JCo native library. (exception java.lang.ExceptionInInitializerError: JCo initialization failed with java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path)\r\n    If you don&#39;t develop a JCo scenario for HANA Cloud, you can ignore this issue.\r\n    Check if you have installed the Visual Studio 2010 runtime libraries in the correct version. (vcredist.msi)\r\n    The 64bit msi can be downloaded from http://www.microsoft.com/download/en/details.aspx?id=14632\r\n    \r\n        at com.sap.conn.jco.NeoActivator.processLoadError(NeoActivator.java:73)\r\n        at com.sap.conn.jco.NeoActivator.start(NeoActivator.java:43)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\r\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:389)\r\n        at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1131)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n    \r\n    !ENTRY org.eclipse.osgi 2 0 2014-12-29 12:32:04.007\r\n    !MESSAGE One or more bundles are not resolved because the following root constraints are not resolved:\r\n    !SUBENTRY 1 org.eclipse.osgi 2 0 2014-12-29 12:32:04.007\r\n    !MESSAGE Bundle reference:file:plugins/com.sap.conn.jco.cloud.win32.x86_64_3.1.1.9.jar was not resolved.\r\n    !SUBENTRY 2 com.sap.conn.jco.cloud.win32.x86_64 2 0 2014-12-29 12:32:04.007\r\n    !MESSAGE Missing host null_0.0.0.\r\n    \r\n    !ENTRY org.eclipse.osgi 2 0 2014-12-29 12:32:04.367\r\n    !MESSAGE One or more bundles are not resolved because the following root constraints are not resolved:\r\n    !SUBENTRY 1 org.eclipse.osgi 2 0 2014-12-29 12:32:04.367\r\n    !MESSAGE Bundle reference:file:plugins/com.sap.conn.jco.cloud.win32.x86_64_3.1.1.9.jar was not resolved.\r\n    !SUBENTRY 2 com.sap.conn.jco.cloud.win32.x86_64 2 0 2014-12-29 12:32:04.367\r\n    !MESSAGE Missing host null_0.0.0.\r\n    \r\n    !ENTRY org.eclipse.osgi 4 0 2014-12-29 12:32:04.367\r\n    !MESSAGE Application error\r\n    !STACK 1\r\n    java.lang.RuntimeException: No application id has been found.\r\n        at org.eclipse.equinox.internal.app.EclipseAppContainer.startDefaultApp(EclipseAppContainer.java:242)\r\n        at org.eclipse.equinox.internal.app.MainApplicationLauncher.run(MainApplicationLauncher.java:29)\r\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\r\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619)\r\n        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574)\r\n        at org.eclipse.equinox.launcher.Main.run(Main.java:1407)\r\n        at org.eclipse.equinox.launcher.Main.main(Main.java:1383)\r\n\r\n\r\n\r\nOther information:\r\n\r\nServer: neo-java-web-sdk-1.58.18.1 downloaded from [SAP TOOL][2]&lt;br/&gt;\r\nEclipse: JAVA EE IDE LUNA-4.4. &lt;br/&gt;\r\nSysetm: Windows-8.1 pro 64 bit &lt;br/&gt;\r\nJDK : JDk-1.7.71&lt;br/&gt;\r\n\r\n\r\n\r\nHow to resolve this error ?\r\n\r\nEdit:\r\n\r\n**Sometime error doesn&#39;t occur .** I have no idea why it&#39;s happening even though visual studio 2010 run time library  x64 is installed . \r\n\r\n  [1]: http://i.stack.imgur.com/N1WTo.png\r\n  [2]: https://tools.hana.ondemand.com/#cloud\r\n\r\n\r\n","title":"Eclipse IDE error : Server has been stopped during publish process","body":"<p>I installed Eclipse IDE JAVA EE edition and all other required plugins. I have created server instance(WEB JAVA)and pointed it to local directory C:\\dev\\hanacloud.sdk\\xyz using default settings.</p>\n<p>I ran project  by selecting(It contains pom file) <code>project(ESCMP-web) -&gt;RUN AS -&gt; RUN ON SERVER -&gt;choose an existing server -&gt; Web JAVA -&gt; finish </code> , after few seconds it gives an error message as</p>\n<blockquote>\n<p>'Publishing to Java Web Server...' has encountered a problem.</p>\n<p>Publish failed: Server has been stopped during publish process.</p>\n<p><img src=\"https://i.stack.imgur.com/N1WTo.png\" alt=\"error\" /></p>\n</blockquote>\n<p>Console message :</p>\n<pre><code> java version &quot;1.7.0_71&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_71-b14)\nJava HotSpot(TM) 64-Bit Server VM (build 24.71-b01, mixed mode)\nC:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config&gt;&quot;C:\\Program Files\\Java\\jdk1.7.0_71\\bin\\java&quot; -server  &quot;-Dhttp.proxyHost=172.30.0.14&quot; &quot;-Dhttp.proxyPort=3128&quot; &quot;-Dhttps.proxyHost=172.30.0.14&quot; &quot;-Dhttps.proxyPort=3128&quot; &quot;-Dhttp.nonProxyHosts=*.corp|localhost|127.0.0.1&quot; &quot;-Djava.rmi.server.hostname=127.0.0.1&quot;  -jar plugins/org.eclipse.equinox.launcher_1.1.0.v20100507.jar  -console -dev &quot;file:C:/dev/eclipse/workspace/Servers/Java Web Server-config/configuration/dev.properties&quot; \nosgi&gt; Updating file with path [C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\.\\pickup\\espm-mobile-shopping-web.war]\n\nUpdate of file with path [C:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\.\\pickup\\espm-mobile-shopping-web.war] is successful.\nlog4j:WARN No appenders could be found for logger (org.apache.cxf.common.logging.LogUtils).\nlog4j:WARN Please initialize the log4j system properly.\n\n\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\nAn error has occurred. See the log file\nC:\\dev\\eclipse\\workspace\\Servers\\Java Web Server-config\\configuration\\1419836491312.log.\n</code></pre>\n<p>Server log file for session:</p>\n<pre><code>!SESSION 2014-12-29 12:31:30.984 -----------------------------------------------\neclipse.buildId=unknown\njava.version=1.7.0_71\njava.vendor=Oracle Corporation\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\nCommand-line arguments:  -console -dev file:C:/dev/eclipse/workspace/Servers/Java Web Server-config/configuration/dev.properties\n\n!ENTRY com.sap.conn.jco.cloud 4 0 2014-12-29 12:31:34.250\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Exception in com.sap.conn.jco.NeoActivator.start() of bundle com.sap.conn.jco.cloud.\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:734)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\n    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:389)\n    at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1131)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\nCaused by: java.lang.RuntimeException: Cannot load the JCo native library. (exception java.lang.ExceptionInInitializerError: JCo initialization failed with java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path)\nIf you don't develop a JCo scenario for HANA Cloud, you can ignore this issue.\nCheck if you have installed the Visual Studio 2010 runtime libraries in the correct version. (vcredist.msi)\nThe 64bit msi can be downloaded from http://www.microsoft.com/download/en/details.aspx?id=14632\n\n    at com.sap.conn.jco.NeoActivator.processLoadError(NeoActivator.java:73)\n    at com.sap.conn.jco.NeoActivator.start(NeoActivator.java:43)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\n    ... 12 more\nRoot exception:\njava.lang.RuntimeException: Cannot load the JCo native library. (exception java.lang.ExceptionInInitializerError: JCo initialization failed with java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path)\nIf you don't develop a JCo scenario for HANA Cloud, you can ignore this issue.\nCheck if you have installed the Visual Studio 2010 runtime libraries in the correct version. (vcredist.msi)\nThe 64bit msi can be downloaded from http://www.microsoft.com/download/en/details.aspx?id=14632\n\n    at com.sap.conn.jco.NeoActivator.processLoadError(NeoActivator.java:73)\n    at com.sap.conn.jco.NeoActivator.start(NeoActivator.java:43)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\n    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:389)\n    at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1131)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\n\n!ENTRY org.eclipse.osgi 2 0 2014-12-29 12:32:04.007\n!MESSAGE One or more bundles are not resolved because the following root constraints are not resolved:\n!SUBENTRY 1 org.eclipse.osgi 2 0 2014-12-29 12:32:04.007\n!MESSAGE Bundle reference:file:plugins/com.sap.conn.jco.cloud.win32.x86_64_3.1.1.9.jar was not resolved.\n!SUBENTRY 2 com.sap.conn.jco.cloud.win32.x86_64 2 0 2014-12-29 12:32:04.007\n!MESSAGE Missing host null_0.0.0.\n\n!ENTRY org.eclipse.osgi 2 0 2014-12-29 12:32:04.367\n!MESSAGE One or more bundles are not resolved because the following root constraints are not resolved:\n!SUBENTRY 1 org.eclipse.osgi 2 0 2014-12-29 12:32:04.367\n!MESSAGE Bundle reference:file:plugins/com.sap.conn.jco.cloud.win32.x86_64_3.1.1.9.jar was not resolved.\n!SUBENTRY 2 com.sap.conn.jco.cloud.win32.x86_64 2 0 2014-12-29 12:32:04.367\n!MESSAGE Missing host null_0.0.0.\n\n!ENTRY org.eclipse.osgi 4 0 2014-12-29 12:32:04.367\n!MESSAGE Application error\n!STACK 1\njava.lang.RuntimeException: No application id has been found.\n    at org.eclipse.equinox.internal.app.EclipseAppContainer.startDefaultApp(EclipseAppContainer.java:242)\n    at org.eclipse.equinox.internal.app.MainApplicationLauncher.run(MainApplicationLauncher.java:29)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1407)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1383)\n</code></pre>\n<p>Other information:</p>\n<p>Server: neo-java-web-sdk-1.58.18.1 downloaded from <a href=\"https://tools.hana.ondemand.com/#cloud\" rel=\"nofollow noreferrer\">SAP TOOL</a><br/>\nEclipse: JAVA EE IDE LUNA-4.4. <br/>\nSysetm: Windows-8.1 pro 64 bit <br/>\nJDK : JDk-1.7.71<br/></p>\n<p>How to resolve this error ?</p>\n<p>Edit:</p>\n<p><strong>Sometime error doesn't occur .</strong> I have no idea why it's happening even though visual studio 2010 run time library  x64 is installed .</p>\n"},{"tags":["java","format"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1505757424,"post_id":46285483,"comment_id":79533980,"body_markdown":"Have you considered doing this with string manipulation, taking a string with extra trailing zeroes and removing them there, rather than changing the format string?","body":"Have you considered doing this with string manipulation, taking a string with extra trailing zeroes and removing them there, rather than changing the format string?"},{"owner":{"account_id":3502382,"reputation":3469,"user_id":2928853,"accept_rate":83,"display_name":"jrook"},"score":0,"creation_date":1505758675,"post_id":46285483,"comment_id":79534591,"body_markdown":"Why are you saying `int(result) - result == 0` gives `false` for result = 127.00000f? It should be true.","body":"Why are you saying <code>int(result) - result == 0</code> gives <code>false</code> for result = 127.00000f? It should be true."},{"owner":{"account_id":10522757,"reputation":349,"user_id":7754692,"accept_rate":100,"display_name":"tgabb"},"score":0,"creation_date":1505761092,"post_id":46285483,"comment_id":79535834,"body_markdown":"@jrook it is false in my environment","body":"@jrook it is false in my environment"}],"answers":[{"tags":[],"owner":{"account_id":10974702,"reputation":351,"user_id":8063730,"display_name":"Roman Danilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505757895,"creation_date":1505757895,"answer_id":46285602,"question_id":46285483,"body_markdown":"What about `NumberFormat`?\r\n\r\n    NumberFormat formatter = NumberFormat.getNumberInstance(Locale.ROOT);\r\n    formatter.setMinimumFractionDigits(1);\r\n    formatter.setMaximumFractionDigits(2);\r\n    String s1 = formatter.format(127.000000);\r\n    String s2 = formatter.format(0.000000);\r\n    String s3 = formatter.format(123.456);\r\n    System.out.println(s1);     //prints 127.0\r\n    System.out.println(s2);     //prints 0.0\r\n    System.out.println(s3);     //prints 123.46\r\n","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>What about <code>NumberFormat</code>?</p>\n\n<pre><code>NumberFormat formatter = NumberFormat.getNumberInstance(Locale.ROOT);\nformatter.setMinimumFractionDigits(1);\nformatter.setMaximumFractionDigits(2);\nString s1 = formatter.format(127.000000);\nString s2 = formatter.format(0.000000);\nString s3 = formatter.format(123.456);\nSystem.out.println(s1);     //prints 127.0\nSystem.out.println(s2);     //prints 0.0\nSystem.out.println(s3);     //prints 123.46\n</code></pre>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1646476588,"post_id":46285611,"comment_id":126136286,"body_markdown":"What about the case that it ends with just &quot;0&quot; and not &quot;00&quot; ?","body":"What about the case that it ends with just &quot;0&quot; and not &quot;00&quot; ?"},{"owner":{"account_id":3502382,"reputation":3469,"user_id":2928853,"accept_rate":83,"display_name":"jrook"},"score":0,"creation_date":1646681169,"post_id":46285611,"comment_id":126179390,"body_markdown":"The OP says ending with one zero is acceptable. At least with the 3 cases they have indicated, this seems to work. Do you have a test case that fails?","body":"The OP says ending with one zero is acceptable. At least with the 3 cases they have indicated, this seems to work. Do you have a test case that fails?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":1,"creation_date":1646727536,"post_id":46285611,"comment_id":126189253,"body_markdown":"I see. Isn&#39;t there a better solution though?","body":"I see. Isn&#39;t there a better solution though?"}],"tags":[],"owner":{"account_id":3502382,"reputation":3469,"user_id":2928853,"accept_rate":83,"display_name":"jrook"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1505758549,"creation_date":1505757938,"answer_id":46285611,"question_id":46285483,"body_markdown":"Since you want at most two digits after the decimal point, you can first cut the rest out and then decide if you want to keep the last digit or not.\r\n\r\n        float result = 127.8901f; //0.0000 \r\n        String output = String.format(&quot;%.2f&quot;, result);\r\n        if (output.endsWith(&quot;00&quot;)) output = output.substring(0,output.length()-1);","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>Since you want at most two digits after the decimal point, you can first cut the rest out and then decide if you want to keep the last digit or not.</p>\n\n<pre><code>    float result = 127.8901f; //0.0000 \n    String output = String.format(\"%.2f\", result);\n    if (output.endsWith(\"00\")) output = output.substring(0,output.length()-1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505758389,"creation_date":1505758389,"answer_id":46285718,"question_id":46285483,"body_markdown":"You can convert it to string and look for `.` index\r\n\r\n\t\tString n1 = new String(&quot;127.000000&quot;);\r\n\t\tString output=null;\r\n\r\n\t\tif(n1.charAt(n1.indexOf(&quot;.&quot;)+2)&gt;&#39;0&#39;) //after decimal if non-zero at second position\r\n        {\r\n\t\t\toutput= n1.substring(0,n1.indexOf(&quot;.&quot;)+3);\r\n\t\t}\r\n\t\telse\r\n        {\r\n\t\t    output= n1.substring(0,n1.indexOf(&quot;.&quot;)+2);\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(output);","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>You can convert it to string and look for <code>.</code> index</p>\n\n<pre><code>    String n1 = new String(\"127.000000\");\n    String output=null;\n\n    if(n1.charAt(n1.indexOf(\".\")+2)&gt;'0') //after decimal if non-zero at second position\n    {\n        output= n1.substring(0,n1.indexOf(\".\")+3);\n    }\n    else\n    {\n        output= n1.substring(0,n1.indexOf(\".\")+2);  \n    }\n\n    System.out.println(output);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283914,"reputation":1031,"user_id":581702,"display_name":"kyleus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505765436,"creation_date":1505765436,"answer_id":46287449,"question_id":46285483,"body_markdown":"Here is a Regex that works:\r\n\r\n    public class DecimalTest {\r\n\r\n    private static Pattern PATTERN = Pattern.compile(&quot;(\\\\d+\\\\.)(0|\\\\d\\\\d)&quot;);\r\n    private static final String[] TEST_VALUES = {&quot;127.000000&quot;, &quot;0.0000000&quot;, &quot;123.456&quot;};\r\n\r\n    public static void main(String[] args) {\r\n\r\n        for (final String testValue : TEST_VALUES) {\r\n            final Matcher matcher = PATTERN.matcher(testValue);\r\n            if (matcher.find())\r\n                System.out.println(matcher.group(1) + matcher.group(2));\r\n            }\r\n        }\r\n    }","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>Here is a Regex that works:</p>\n\n<pre><code>public class DecimalTest {\n\nprivate static Pattern PATTERN = Pattern.compile(\"(\\\\d+\\\\.)(0|\\\\d\\\\d)\");\nprivate static final String[] TEST_VALUES = {\"127.000000\", \"0.0000000\", \"123.456\"};\n\npublic static void main(String[] args) {\n\n    for (final String testValue : TEST_VALUES) {\n        final Matcher matcher = PATTERN.matcher(testValue);\n        if (matcher.find())\n            System.out.println(matcher.group(1) + matcher.group(2));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3262389,"reputation":135,"user_id":2747692,"display_name":"Magyar D&#225;vid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680198557,"creation_date":1680198557,"answer_id":75891437,"question_id":46285483,"body_markdown":"I know I&#39;m late from the party now 5 and a half years later, but someone might find it useful, as I&#39;ve found my way here too.\r\n\r\n## Method 1: NumberFormat \r\n\r\n```java\r\ndouble value = 1234.5678;\r\n\r\nNumberFormat formatter1 = new DecimalFormat(&quot;##.0&quot;);\r\nString text1 = formatter1.format(value); // &quot;1234.6&quot;\r\n\r\nNumberFormat formatter2 = new DecimalFormat(&quot;##.00&quot;);\r\nString text2 = formatter2.format(value); // &quot;1234.57&quot;\r\n```\r\n\r\nRounding approach is optionally configurable:\r\n\r\n```java\r\nformatter.setRoundingMode(RoundingMode.CEILING);\r\n// UP, DOWN, CEILING, FLOOR, HALF_UP, HALF_DOWN, HALF_EVEN, UNNECESSARY\r\n```\r\n\r\nUsing this, we can modify the code a little bit to achieve the desired behavior:\r\n\r\n```java\r\ndouble value = 127.12;\r\nNumberFormat formatter = new DecimalFormat(&quot;##.00&quot;);\r\nformatter.setRoundingMode(RoundingMode.FLOOR);\r\nString output = (value == (int) value)\r\n    ? Double.toString(value)\r\n    : formatter.format(value);\r\n```\r\n\r\nThis meets your requirements. One thing to mention, for `123.4` it returns `123.40`. If you&#39;d like to prevent this, we can do the integer comparison with a shifted decimal dot:\r\n\r\n```java\r\ndouble value = 127.12;\r\nNumberFormat formatter = new DecimalFormat(&quot;##.00&quot;);\r\nformatter.setRoundingMode(RoundingMode.FLOOR);\r\nString output = (value * 10 == (int) (value * 10))\r\n    ? Double.toString(value)\r\n    : formatter.format(value);\r\n```\r\n\r\nThis returns `&quot;127.0&quot;` for `127.000000`, `&quot;0.0&quot;` for `0.000000`, `&quot;123.45&quot;` for `123.456` and also `&quot;123.4&quot;` for `123.4`.\r\n\r\n\r\n## Method 2: Simple Java\r\n\r\nIt&#39;s not the nicest way, but maybe the shortest? Previously I just did:\r\n\r\n```java\r\ndouble value = 1234.56789;\r\nString text = Double.toString(Math.round(value * 10.0) / 10.0); // &quot;1234.6&quot;\r\n```\r\n\r\nSame with keeping at most 2 digits:\r\n\r\n```java\r\ndouble value = 1234.56789;\r\nString text = Double.toString(Math.round(value * 100.0) / 100.0); // &quot;1234.57&quot;\r\n```\r\n\r\nThis way we explicitly round the number to a desired precision. We can truncate it too:\r\n\r\n```java\r\ndouble value = 1234.56789;\r\nString text = Double.toString(((int) (value * 10.0) / 10.0)); // &quot;1234.5&quot;\r\n```\r\n\r\nOne could argue, that making a multiplication and a division is a waste of computational power, but I guess it&#39;s still faster than modifying the result string, removing trailing zeros, etc. Also, since floating points are stored in memory in binary format and not decimal, running `* 10.0 / 10.0` might not result the _exact same_ number.","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>I know I'm late from the party now 5 and a half years later, but someone might find it useful, as I've found my way here too.</p>\n<h2>Method 1: NumberFormat</h2>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 1234.5678;\n\nNumberFormat formatter1 = new DecimalFormat(&quot;##.0&quot;);\nString text1 = formatter1.format(value); // &quot;1234.6&quot;\n\nNumberFormat formatter2 = new DecimalFormat(&quot;##.00&quot;);\nString text2 = formatter2.format(value); // &quot;1234.57&quot;\n</code></pre>\n<p>Rounding approach is optionally configurable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>formatter.setRoundingMode(RoundingMode.CEILING);\n// UP, DOWN, CEILING, FLOOR, HALF_UP, HALF_DOWN, HALF_EVEN, UNNECESSARY\n</code></pre>\n<p>Using this, we can modify the code a little bit to achieve the desired behavior:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 127.12;\nNumberFormat formatter = new DecimalFormat(&quot;##.00&quot;);\nformatter.setRoundingMode(RoundingMode.FLOOR);\nString output = (value == (int) value)\n    ? Double.toString(value)\n    : formatter.format(value);\n</code></pre>\n<p>This meets your requirements. One thing to mention, for <code>123.4</code> it returns <code>123.40</code>. If you'd like to prevent this, we can do the integer comparison with a shifted decimal dot:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 127.12;\nNumberFormat formatter = new DecimalFormat(&quot;##.00&quot;);\nformatter.setRoundingMode(RoundingMode.FLOOR);\nString output = (value * 10 == (int) (value * 10))\n    ? Double.toString(value)\n    : formatter.format(value);\n</code></pre>\n<p>This returns <code>&quot;127.0&quot;</code> for <code>127.000000</code>, <code>&quot;0.0&quot;</code> for <code>0.000000</code>, <code>&quot;123.45&quot;</code> for <code>123.456</code> and also <code>&quot;123.4&quot;</code> for <code>123.4</code>.</p>\n<h2>Method 2: Simple Java</h2>\n<p>It's not the nicest way, but maybe the shortest? Previously I just did:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 1234.56789;\nString text = Double.toString(Math.round(value * 10.0) / 10.0); // &quot;1234.6&quot;\n</code></pre>\n<p>Same with keeping at most 2 digits:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 1234.56789;\nString text = Double.toString(Math.round(value * 100.0) / 100.0); // &quot;1234.57&quot;\n</code></pre>\n<p>This way we explicitly round the number to a desired precision. We can truncate it too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double value = 1234.56789;\nString text = Double.toString(((int) (value * 10.0) / 10.0)); // &quot;1234.5&quot;\n</code></pre>\n<p>One could argue, that making a multiplication and a division is a waste of computational power, but I guess it's still faster than modifying the result string, removing trailing zeros, etc. Also, since floating points are stored in memory in binary format and not decimal, running <code>* 10.0 / 10.0</code> might not result the <em>exact same</em> number.</p>\n"}],"owner":{"account_id":10522757,"reputation":349,"user_id":7754692,"accept_rate":100,"display_name":"tgabb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3976,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46285611,"answer_count":5,"score":3,"last_activity_date":1680198557,"creation_date":1505757357,"question_id":46285483,"body_markdown":"I&#39;m looking for a format specifier to limit the number of trailing zeros after a decimal to just 1, but if they aren&#39;t all zeros then truncate to two.\r\n\r\nLike so:\r\n\r\n    127.000000 -&gt; 127.0\r\n    \r\n    0.000000 -&gt; 0.0\r\n    \r\n    123.456 -&gt; 123.45\r\n\r\nI Have tried taking care of it with logic but it doesn&#39;t seem to work.\r\n\r\ncall my number `result` and use the following logic:\r\n\r\n        if(result - (int)result == 0){\r\n            output = String.format(&quot;%.1f\\n&quot;,result);\r\n        }\r\n        else{\r\n            output = String.format(&quot;%.2f\\n,result);\r\n        }\r\n\r\nsometimes this logic works, and sometimes it doesnt. For example\r\n\r\n`(int)result - result == 0`  is `true` for `0.000000`\r\n\r\n\r\nbut `false` for `127.000000`\r\n\r\nAny ideas?\r\n\r\n","title":"Java Format Specifier for Limiting Trailing Zeros to 1","body":"<p>I'm looking for a format specifier to limit the number of trailing zeros after a decimal to just 1, but if they aren't all zeros then truncate to two.</p>\n\n<p>Like so:</p>\n\n<pre><code>127.000000 -&gt; 127.0\n\n0.000000 -&gt; 0.0\n\n123.456 -&gt; 123.45\n</code></pre>\n\n<p>I Have tried taking care of it with logic but it doesn't seem to work.</p>\n\n<p>call my number <code>result</code> and use the following logic:</p>\n\n<pre><code>    if(result - (int)result == 0){\n        output = String.format(\"%.1f\\n\",result);\n    }\n    else{\n        output = String.format(\"%.2f\\n,result);\n    }\n</code></pre>\n\n<p>sometimes this logic works, and sometimes it doesnt. For example</p>\n\n<p><code>(int)result - result == 0</code>  is <code>true</code> for <code>0.000000</code></p>\n\n<p>but <code>false</code> for <code>127.000000</code></p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1680166429,"post_id":75885584,"comment_id":133852922,"body_markdown":"You can add permit to concrete address like this .antMatchers(&quot;/api/public&quot;).permitAll() or try to disable csrf for HttpSecurity like this .csrf().disable();","body":"You can add permit to concrete address like this .antMatchers(&quot;/api/public&quot;).permitAll() or try to disable csrf for HttpSecurity like this .csrf().disable();"},{"owner":{"account_id":23193397,"reputation":53,"user_id":17289413,"display_name":"eva_mila"},"score":0,"creation_date":1680167173,"post_id":75885584,"comment_id":133853107,"body_markdown":"@Yeras_QazaQ I have everything open to specific endpoints. And csrf disabled","body":"@Yeras_QazaQ I have everything open to specific endpoints. And csrf disabled"}],"answers":[{"tags":[],"owner":{"account_id":7837673,"reputation":467,"user_id":5925075,"display_name":"balazs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680198231,"creation_date":1680182679,"answer_id":75888849,"question_id":75885584,"body_markdown":"Currently your Filter is always executing, even before the non authenticated calls.\r\n\r\nTo solve it you have to say which request to handle by your Filter.\r\nFor that you have two options:\r\n 1. add the `shouldNotFilter` method to your `JwtAuthFilter`\r\n\r\n        @Override\r\n        protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n          return !request.getRequestURI().startsWith(&quot;/data/&quot;);\r\n        }\r\n\r\n 2. simply add the following if condition to the beginning of your `JwtAuthFilter.doFilterInternal`:\r\n\r\n        if (!request.getRequestURI().startsWith(&quot;/data/&quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n\r\n\r\nExactly the same issue has been discussed in the following video at 1:11:11 timestamp: [Spring Security, demystified by Daniel Garnier Moiroux][1]\r\n\r\n\r\n  [1]: https://youtu.be/iJ2muJniikY?t=4271","title":"PermitAll() not working, Unauthorized 401. Spring security config","body":"<p>Currently your Filter is always executing, even before the non authenticated calls.</p>\n<p>To solve it you have to say which request to handle by your Filter.\nFor that you have two options:</p>\n<ol>\n<li><p>add the <code>shouldNotFilter</code> method to your <code>JwtAuthFilter</code></p>\n<pre><code>@Override\nprotected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n  return !request.getRequestURI().startsWith(&quot;/data/&quot;);\n}\n</code></pre>\n</li>\n<li><p>simply add the following if condition to the beginning of your <code>JwtAuthFilter.doFilterInternal</code>:</p>\n<pre><code>if (!request.getRequestURI().startsWith(&quot;/data/&quot;)) {\n    filterChain.doFilter(request, response);\n    return;\n}\n</code></pre>\n</li>\n</ol>\n<p>Exactly the same issue has been discussed in the following video at 1:11:11 timestamp: <a href=\"https://youtu.be/iJ2muJniikY?t=4271\" rel=\"nofollow noreferrer\">Spring Security, demystified by Daniel Garnier Moiroux</a></p>\n"}],"owner":{"account_id":23193397,"reputation":53,"user_id":17289413,"display_name":"eva_mila"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":638,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75888849,"answer_count":1,"score":-2,"last_activity_date":1680198231,"creation_date":1680163395,"question_id":75885584,"body_markdown":"I have multiple entry points. One of them must be protected by a filter, the rest are completely open.\r\n\r\n    /data/** - filter protected\r\n    /callback/** - permitAll\r\n    /save/**     - permitAll\r\n    /oauth/**    - permitAll\r\n\r\n\r\nMy application is missing users, roles and database. I only need to check JWT that it is signed with the correct private key. \r\nSo, i use: \r\n\r\n    @SpringBootApplication(exclude= {UserDetailsServiceAutoConfiguration.class})\r\n\r\nI tried many combinations, it either requires everyone to check the JWT for all input points using a filter, or 401 errors. Role anonymous set because there was a 403 error if set .authenticated()\r\n\r\nPls help me..\r\n\r\nMy configuration adapter:\r\n\r\n\r\n    @EnableWebSecurity\r\n    public class DataSecurity extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Bean\r\n        public JwtAuthFilter jwtAuthenticationFilter() {\r\n            return new JwtAuthFilter();\r\n        }\r\n    \r\n      @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.cors().and()\r\n                 \r\n                    .csrf().disable()\r\n                    .httpBasic().disable()\r\n                    .logout().disable()\r\n                    .formLogin().disable()\r\n                   \r\n                    .authorizeRequests().antMatchers(&quot;/data/**&quot;).hasAuthority(&quot;ROLE_ANONYMOUS&quot;)\r\n                    .and()\r\n                    .addFilterBefore(jwtAuthenticationFilter(), AuthorizationFilter.class)\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                   \r\n                    .authorizeRequests()\r\n                    .anyRequest().permitAll();\r\n        }\r\n    \r\n    @Override\r\n        public void configure(WebSecurity web){\r\n            web.ignoring().antMatchers(&quot;/oauth/**&quot;,&quot;/callback/**&quot;,&quot;/save/**&quot;);\r\n        }\r\n    }\r\n\r\n\r\nMy Filter:\r\n\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class JwtAuthFilter extends OncePerRequestFilter {\r\n        @Value(&quot;${auth-service.secret-key}&quot;)\r\n        private String jwtSecret;\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(JwtAuthFilter.class);\r\n    \r\n        @Override\r\n        protected void doFilterInternal(\r\n                @Nullable HttpServletRequest request,\r\n                @Nullable HttpServletResponse response,\r\n                @Nullable FilterChain filterChain\r\n        )\r\n                throws IOException, ServletException {\r\n            assert request != null;\r\n    \r\n            String jwt = parseJwt(request);\r\n            if (jwt!=null &amp;&amp; validateToken(jwt) ) {\r\n                assert filterChain != null;\r\n                filterChain.doFilter(request, response);\r\n            } else {\r\n                assert response != null;\r\n                response.sendError(HttpServletResponse.SC_UNAUTHORIZED);\r\n            }\r\n        }\r\n        private String parseJwt(HttpServletRequest request) {\r\n            String headerAuth = request.getHeader(&quot;Authorization&quot;);\r\n    \r\n            if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\r\n                return headerAuth.substring(7);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        private boolean validateToken(String authToken) {\r\n            try {\r\n                Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\r\n                return true;\r\n            } catch (SignatureException e) {\r\n                LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\r\n            } catch (MalformedJwtException e) {\r\n                LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\r\n            } catch (ExpiredJwtException e) {\r\n                LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\r\n            } catch (UnsupportedJwtException e) {\r\n                LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\r\n            } catch (IllegalArgumentException e) {\r\n                LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\nCall http://localhost:9088/oauth/test \r\n\r\nResponse:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-03-30T07:52:22.692+00:00&quot;,\r\n        &quot;status&quot;: 401,\r\n        &quot;error&quot;: &quot;Unauthorized&quot;,\r\n        &quot;path&quot;: &quot;/oauth/test&quot;\r\n    }\r\n\r\n\r\nTRACE:\r\n\r\n    2023-03-30 11:52:22.662 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Ant [pattern=&#39;/oauth/**&#39;], Filters=[]] (1/3)\r\n    2023-03-30 11:52:22.662 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Ant [pattern=&#39;/callback/**&#39;], Filters=[]] (2/3)\r\n    2023-03-30 11:52:22.663 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e807e2, org.springframework.security.web.context.SecurityContextPersistenceFilter@7767bd4e, org.springframework.security.web.header.HeaderWriterFilter@1537e43, org.springframework.web.filter.CorsFilter@6c995c5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@433ef204, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@165614f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@203b953c, org.springframework.security.web.session.SessionManagementFilter@1304e0d7, org.springframework.security.web.access.ExceptionTranslationFilter@9a9aa68, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@389a5022, com.test.authorization.configuration.security.JwtAuthFilter@1fdca564]] (3/3)\r\n    2023-03-30 11:52:22.663 DEBUG 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n    2023-03-30 11:52:22.664 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (1/11)\r\n    2023-03-30 11:52:22.664 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (2/11)\r\n    2023-03-30 11:52:22.665 DEBUG 6744 --- [nio-9092-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n    2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (3/11)\r\n    2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (4/11)\r\n    2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (5/11)\r\n    2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (6/11)\r\n    2023-03-30 11:52:22.666 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (7/11)\r\n    2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n    2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (8/11)\r\n    2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (9/11)\r\n    2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (10/11)\r\n    2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern=&#39;/data/**&#39;] - [hasAuthority(&#39;ROLE_ANONYMOUS&#39;)] (1/2)\r\n    2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] before authorizing\r\n    2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /error] with attributes [permitAll]\r\n    2023-03-30 11:52:22.672 DEBUG 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /error] with attributes [permitAll]\r\n    2023-03-30 11:52:22.672 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null\r\n    2023-03-30 11:52:22.672 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthFilter (11/11)\r\n    2023-03-30 11:52:22.673 DEBUG 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error\r\n    2023-03-30 11:52:22.676 TRACE 6744 --- [nio-9092-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern=&#39;/data/**&#39;] - [hasAuthority(&#39;ROLE_ANONYMOUS&#39;)] (1/2)\r\n    2023-03-30 11:52:22.732 DEBUG 6744 --- [nio-9092-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n\r\ni just need to close /data/** , the rest are open.","title":"PermitAll() not working, Unauthorized 401. Spring security config","body":"<p>I have multiple entry points. One of them must be protected by a filter, the rest are completely open.</p>\n<pre><code>/data/** - filter protected\n/callback/** - permitAll\n/save/**     - permitAll\n/oauth/**    - permitAll\n</code></pre>\n<p>My application is missing users, roles and database. I only need to check JWT that it is signed with the correct private key.\nSo, i use:</p>\n<pre><code>@SpringBootApplication(exclude= {UserDetailsServiceAutoConfiguration.class})\n</code></pre>\n<p>I tried many combinations, it either requires everyone to check the JWT for all input points using a filter, or 401 errors. Role anonymous set because there was a 403 error if set .authenticated()</p>\n<p>Pls help me..</p>\n<p>My configuration adapter:</p>\n<pre><code>@EnableWebSecurity\npublic class DataSecurity extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public JwtAuthFilter jwtAuthenticationFilter() {\n        return new JwtAuthFilter();\n    }\n\n  @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and()\n             \n                .csrf().disable()\n                .httpBasic().disable()\n                .logout().disable()\n                .formLogin().disable()\n               \n                .authorizeRequests().antMatchers(&quot;/data/**&quot;).hasAuthority(&quot;ROLE_ANONYMOUS&quot;)\n                .and()\n                .addFilterBefore(jwtAuthenticationFilter(), AuthorizationFilter.class)\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n               \n                .authorizeRequests()\n                .anyRequest().permitAll();\n    }\n\n@Override\n    public void configure(WebSecurity web){\n        web.ignoring().antMatchers(&quot;/oauth/**&quot;,&quot;/callback/**&quot;,&quot;/save/**&quot;);\n    }\n}\n</code></pre>\n<p>My Filter:</p>\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class JwtAuthFilter extends OncePerRequestFilter {\n    @Value(&quot;${auth-service.secret-key}&quot;)\n    private String jwtSecret;\n    private static final Logger LOGGER = LoggerFactory.getLogger(JwtAuthFilter.class);\n\n    @Override\n    protected void doFilterInternal(\n            @Nullable HttpServletRequest request,\n            @Nullable HttpServletResponse response,\n            @Nullable FilterChain filterChain\n    )\n            throws IOException, ServletException {\n        assert request != null;\n\n        String jwt = parseJwt(request);\n        if (jwt!=null &amp;&amp; validateToken(jwt) ) {\n            assert filterChain != null;\n            filterChain.doFilter(request, response);\n        } else {\n            assert response != null;\n            response.sendError(HttpServletResponse.SC_UNAUTHORIZED);\n        }\n    }\n    private String parseJwt(HttpServletRequest request) {\n        String headerAuth = request.getHeader(&quot;Authorization&quot;);\n\n        if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\n            return headerAuth.substring(7);\n        }\n        return null;\n    }\n\n    private boolean validateToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\n        } catch (MalformedJwtException e) {\n            LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            LOGGER.error(&quot;Error: {}&quot;, e.getMessage());\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>Call http://localhost:9088/oauth/test</p>\n<p>Response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-03-30T07:52:22.692+00:00&quot;,\n    &quot;status&quot;: 401,\n    &quot;error&quot;: &quot;Unauthorized&quot;,\n    &quot;path&quot;: &quot;/oauth/test&quot;\n}\n</code></pre>\n<p>TRACE:</p>\n<pre><code>2023-03-30 11:52:22.662 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Ant [pattern='/oauth/**'], Filters=[]] (1/3)\n2023-03-30 11:52:22.662 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Ant [pattern='/callback/**'], Filters=[]] (2/3)\n2023-03-30 11:52:22.663 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e807e2, org.springframework.security.web.context.SecurityContextPersistenceFilter@7767bd4e, org.springframework.security.web.header.HeaderWriterFilter@1537e43, org.springframework.web.filter.CorsFilter@6c995c5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@433ef204, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@165614f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@203b953c, org.springframework.security.web.session.SessionManagementFilter@1304e0d7, org.springframework.security.web.access.ExceptionTranslationFilter@9a9aa68, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@389a5022, com.test.authorization.configuration.security.JwtAuthFilter@1fdca564]] (3/3)\n2023-03-30 11:52:22.663 DEBUG 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-03-30 11:52:22.664 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (1/11)\n2023-03-30 11:52:22.664 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (2/11)\n2023-03-30 11:52:22.665 DEBUG 6744 --- [nio-9092-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (3/11)\n2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (4/11)\n2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (5/11)\n2023-03-30 11:52:22.665 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (6/11)\n2023-03-30 11:52:22.666 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (7/11)\n2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (8/11)\n2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (9/11)\n2023-03-30 11:52:22.667 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (10/11)\n2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/data/**'] - [hasAuthority('ROLE_ANONYMOUS')] (1/2)\n2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] before authorizing\n2023-03-30 11:52:22.668 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /error] with attributes [permitAll]\n2023-03-30 11:52:22.672 DEBUG 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /error] with attributes [permitAll]\n2023-03-30 11:52:22.672 TRACE 6744 --- [nio-9092-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null\n2023-03-30 11:52:22.672 TRACE 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthFilter (11/11)\n2023-03-30 11:52:22.673 DEBUG 6744 --- [nio-9092-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error\n2023-03-30 11:52:22.676 TRACE 6744 --- [nio-9092-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/data/**'] - [hasAuthority('ROLE_ANONYMOUS')] (1/2)\n2023-03-30 11:52:22.732 DEBUG 6744 --- [nio-9092-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n</code></pre>\n<p>i just need to close /data/** , the rest are open.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6137477,"reputation":830,"user_id":4785824,"accept_rate":27,"display_name":"quintin"},"score":3,"creation_date":1574841955,"post_id":27405713,"comment_id":104369692,"body_markdown":"https://www.baeldung.com/running-setup-logic-on-startup-in-spring","body":"<a href=\"https://www.baeldung.com/running-setup-logic-on-startup-in-spring\" rel=\"nofollow noreferrer\">baeldung.com/running-setup-logic-on-startup-in-spring</a>"},{"owner":{"account_id":1099811,"reputation":470,"user_id":1092497,"display_name":"Rahul Wagh"},"score":0,"creation_date":1583876260,"post_id":27405713,"comment_id":107259259,"body_markdown":"Spring boot provides two interfaces ApplicationRunner and CommandLineRunner which can be used when you want to run the code after the spring boot starts. You could refer to this article for implementation example - https://jhooq.com/applicationrunner-spring-boot/","body":"Spring boot provides two interfaces ApplicationRunner and CommandLineRunner which can be used when you want to run the code after the spring boot starts. You could refer to this article for implementation example - <a href=\"https://jhooq.com/applicationrunner-spring-boot/\" rel=\"nofollow noreferrer\">jhooq.com/applicationrunner-spring-boot</a>"}],"answers":[{"comments":[{"owner":{"account_id":71312,"reputation":2469,"user_id":206351,"display_name":"Ben W"},"score":23,"creation_date":1458222979,"post_id":27405775,"comment_id":59771843,"body_markdown":"this does not work when you deploy application as war file to an external tomcat. It works only with embedded tomcat","body":"this does not work when you deploy application as war file to an external tomcat. It works only with embedded tomcat"},{"owner":{"account_id":887546,"reputation":9293,"user_id":926620,"display_name":"Anton Bessonov"},"score":1,"creation_date":1467270052,"post_id":27405775,"comment_id":63664745,"body_markdown":"No, it doesn&#39;t work. But in this use case I like more explicit way instead of `@Component`. See answer from @cjstehno to get it work in a war file.","body":"No, it doesn&#39;t work. But in this use case I like more explicit way instead of <code>@Component</code>. See answer from @cjstehno to get it work in a war file."}],"tags":[],"owner":{"account_id":887546,"reputation":9293,"user_id":926620,"display_name":"Anton Bessonov"},"comment_count":2,"down_vote_count":12,"up_vote_count":168,"is_accepted":true,"score":156,"last_activity_date":1418228074,"creation_date":1418228074,"answer_id":27405775,"question_id":27405713,"body_markdown":"Try:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n        @SuppressWarnings(&quot;resource&quot;)\r\n        public static void main(final String[] args) {\r\n            ConfigurableApplicationContext context = SpringApplication.run(Application.class, args);\r\n    \r\n            context.getBean(Table.class).fillWithTestdata(); // &lt;-- here\r\n        }\r\n    }","title":"Running code after Spring Boot starts","body":"<p>Try:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\npublic class Application extends SpringBootServletInitializer {\n\n    @SuppressWarnings(\"resource\")\n    public static void main(final String[] args) {\n        ConfigurableApplicationContext context = SpringApplication.run(Application.class, args);\n\n        context.getBean(Table.class).fillWithTestdata(); // &lt;-- here\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":95375,"reputation":44613,"user_id":745188,"accept_rate":69,"display_name":"Elnur Abdurrakhimov"},"score":23,"creation_date":1492920273,"post_id":27406476,"comment_id":74184878,"body_markdown":"Sometimes `@PostConstruct` fires too early. For example, when using Spring Cloud Stream Kafka, `@PostConstruct` fires before application binds to Kafka. Dave Syer&#39;s solution is better because it fires timely.","body":"Sometimes <code>@PostConstruct</code> fires too early. For example, when using Spring Cloud Stream Kafka, <code>@PostConstruct</code> fires before application binds to Kafka. Dave Syer&#39;s solution is better because it fires timely."},{"owner":{"account_id":2228996,"reputation":15997,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"score":16,"creation_date":1499248821,"post_id":27406476,"comment_id":76821527,"body_markdown":"`@PostConstruct` happens during the initialisation, not after. Although this can be useful in some cases, it&#39;s not the correct answer if you want to run **after** Spring Boot starts. For example, while `@PostConstruct` doesn&#39;t finish, none of the endpoints are available.","body":"<code>@PostConstruct</code> happens during the initialisation, not after. Although this can be useful in some cases, it&#39;s not the correct answer if you want to run <b>after</b> Spring Boot starts. For example, while <code>@PostConstruct</code> doesn&#39;t finish, none of the endpoints are available."},{"owner":{"account_id":8449542,"reputation":181,"user_id":6338832,"display_name":"TGU"},"score":1,"creation_date":1610461873,"post_id":27406476,"comment_id":116136455,"body_markdown":"Not quite per the OP question. at @PostConstruct, this bean is constructed, like beans in this class scope is autowired, etc. but the application as a whole may not be ready, for instance, other beans may still in the process of injection or wiring.","body":"Not quite per the OP question. at @PostConstruct, this bean is constructed, like beans in this class scope is autowired, etc. but the application as a whole may not be ready, for instance, other beans may still in the process of injection or wiring."},{"owner":{"account_id":297150,"reputation":1073,"user_id":602506,"accept_rate":40,"display_name":"Shannon"},"score":0,"creation_date":1632785133,"post_id":27406476,"comment_id":122582183,"body_markdown":"If you do anything long-running in the `@PostConstruct` (such as HTTP requests with retry backoffs), you won&#39;t get great behavior because sending SIGTERM doesn&#39;t interrupt the thread running the `@PostConstruct`, so your app refuses to shutdown until that method exits.","body":"If you do anything long-running in the <code>@PostConstruct</code> (such as HTTP requests with retry backoffs), you won&#39;t get great behavior because sending SIGTERM doesn&#39;t interrupt the thread running the <code>@PostConstruct</code>, so your app refuses to shutdown until that method exits."},{"owner":{"account_id":13343717,"reputation":995,"user_id":9631158,"display_name":"sujithramanathan"},"score":0,"creation_date":1670351718,"post_id":27406476,"comment_id":131855197,"body_markdown":"In multithreading world, there is a chance that ```@PostConstruct``` may cause thread blocking, If your task is running for a long hours.","body":"In multithreading world, there is a chance that <code>@PostConstruct</code> may cause thread blocking, If your task is running for a long hours."}],"tags":[],"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"comment_count":5,"down_vote_count":7,"up_vote_count":108,"is_accepted":false,"score":101,"last_activity_date":1418230180,"creation_date":1418230180,"answer_id":27406476,"question_id":27405713,"body_markdown":"Why not just create a bean that starts your monitor on initialization, something like:\r\n\r\n    @Component\r\n    public class Monitor {\r\n        @Autowired private SomeService service\r\n\r\n        @PostConstruct\r\n        public void init(){\r\n            // start your monitoring in here\r\n        }\r\n    }\r\n\r\nthe `init` method will not be called until any autowiring is done for the bean.","title":"Running code after Spring Boot starts","body":"<p>Why not just create a bean that starts your monitor on initialization, something like:</p>\n\n<pre><code>@Component\npublic class Monitor {\n    @Autowired private SomeService service\n\n    @PostConstruct\n    public void init(){\n        // start your monitoring in here\n    }\n}\n</code></pre>\n\n<p>the <code>init</code> method will not be called until any autowiring is done for the bean.</p>\n"},{"comments":[{"owner":{"account_id":1342150,"reputation":1034,"user_id":1283629,"accept_rate":85,"display_name":"Emilio"},"score":0,"creation_date":1442834861,"post_id":27409513,"comment_id":53231073,"body_markdown":"Any example of that? Is it possible to execute a bean after app is running, via command line in an arbitrary moment?","body":"Any example of that? Is it possible to execute a bean after app is running, via command line in an arbitrary moment?"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":7,"creation_date":1443078025,"post_id":27409513,"comment_id":53350143,"body_markdown":"Don&#39;t know what you mean by &quot;arbitrary moment&quot;. The Spring Boot user guide and samples have examples of using a `CommandLineRunner` (and the newer `ApplicationRunner`): http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-command-line-runner.","body":"Don&#39;t know what you mean by &quot;arbitrary moment&quot;. The Spring Boot user guide and samples have examples of using a <code>CommandLineRunner</code> (and the newer <code>ApplicationRunner</code>): <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-command-line-runner\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/&hellip;</a>&zwnj;&#8203;."},{"owner":{"account_id":5268926,"reputation":2916,"user_id":4207875,"accept_rate":80,"display_name":"saljuama"},"score":0,"creation_date":1448717444,"post_id":27409513,"comment_id":55700098,"body_markdown":"I found, that Lifecycle is the prefered option to perform asynchronous tasks on start/stop stages of the application, and I&#39;m trying to spot other differences between the CommandLineRunner and the InitializingBeans, but can&#39;t find anything about that.","body":"I found, that Lifecycle is the prefered option to perform asynchronous tasks on start/stop stages of the application, and I&#39;m trying to spot other differences between the CommandLineRunner and the InitializingBeans, but can&#39;t find anything about that."},{"owner":{"account_id":9829227,"reputation":424,"user_id":7281453,"display_name":"Alexey Simonov"},"score":3,"creation_date":1522835783,"post_id":27409513,"comment_id":86303993,"body_markdown":"couple usual [example code](https://gist.github.com/simonovAlexey/51166e11fe80c84f20c19527dd722788) of using `CommandLineRunner`","body":"couple usual <a href=\"https://gist.github.com/simonovAlexey/51166e11fe80c84f20c19527dd722788\" rel=\"nofollow noreferrer\">example code</a> of using <code>CommandLineRunner</code>"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1636549695,"post_id":27409513,"comment_id":123585916,"body_markdown":"Why is it better than `@EventListener(ApplicationReadyEvent.class)`, if you don&#39;t need access to command line arguments?","body":"Why is it better than <code>@EventListener(ApplicationReadyEvent.class)</code>, if you don&#39;t need access to command line arguments?"}],"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"comment_count":5,"down_vote_count":1,"up_vote_count":76,"is_accepted":false,"score":75,"last_activity_date":1418240583,"creation_date":1418240583,"answer_id":27409513,"question_id":27405713,"body_markdown":"The &quot;Spring Boot&quot; way is to use a `CommandLineRunner`. Just add beans of that type and you are good to go. In Spring 4.1 (Boot 1.2) there is also a `SmartInitializingBean` which gets a callback after everything has initialized. And there is `SmartLifecycle` (from Spring 3).","title":"Running code after Spring Boot starts","body":"<p>The \"Spring Boot\" way is to use a <code>CommandLineRunner</code>. Just add beans of that type and you are good to go. In Spring 4.1 (Boot 1.2) there is also a <code>SmartInitializingBean</code> which gets a callback after everything has initialized. And there is <code>SmartLifecycle</code> (from Spring 3).</p>\n"},{"comments":[{"owner":{"account_id":2532801,"reputation":1006,"user_id":2200726,"display_name":"padilo"},"score":15,"creation_date":1492705088,"post_id":38668148,"comment_id":74103037,"body_markdown":"As an alternative, you can do this using ```@EventListener```annotation on a Bean method, passing as argument the class event you want to hook to.","body":"As an alternative, you can do this using <code>@EventListener</code>annotation on a Bean method, passing as argument the class event you want to hook to."},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":3,"creation_date":1535018092,"post_id":38668148,"comment_id":90915542,"body_markdown":"This has changed in spring-boot 2. If you are porting up from 1.x and were using ApplicationStartedEvent then you now want ApplicationStartingEvent instead.","body":"This has changed in spring-boot 2. If you are porting up from 1.x and were using ApplicationStartedEvent then you now want ApplicationStartingEvent instead."}],"tags":[],"owner":{"account_id":2900414,"reputation":5120,"user_id":2487263,"accept_rate":58,"display_name":"raspacorp"},"comment_count":2,"down_vote_count":0,"up_vote_count":151,"is_accepted":false,"score":151,"last_activity_date":1481328230,"creation_date":1469829998,"answer_id":38668148,"question_id":27405713,"body_markdown":"Have you tried ApplicationReadyEvent? \n\n    @Component\n    public class ApplicationStartup \n    implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n      /**\n       * This event is executed as late as conceivably possible to indicate that \n       * the application is ready to service requests.\n       */\n      @Override\n      public void onApplicationEvent(final ApplicationReadyEvent event) {\n \n        // here your code ...\n \n        return;\n      }\n    }\n\nCode from: http://blog.netgloo.com/2014/11/13/run-code-at-spring-boot-startup/\n\nThis is what the [documentation][1] mentions about the startup events:\n\n&gt;...\n&gt;\n&gt;Application events are sent in the following order, as your application runs:\n&gt;\n&gt; An ApplicationStartedEvent is sent at the start of a run, but before\n&gt; any processing except the registration of listeners and initializers.\n&gt;\n&gt; An ApplicationEnvironmentPreparedEvent is sent when the Environment to be used in the context is known, but before the context\n&gt; is created.\n&gt;\n&gt; An ApplicationPreparedEvent is sent just before the refresh is started, but after bean definitions have been loaded.\n&gt;\n&gt; An ApplicationReadyEvent is sent after the refresh and any related callbacks have been processed to indicate the application is ready to\n&gt; service requests.\n&gt;\n&gt; An ApplicationFailedEvent is sent if there is an exception on startup.\n&gt;\n&gt;...\n\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-spring-application.html#boot-features-application-events-and-listeners","title":"Running code after Spring Boot starts","body":"<p>Have you tried ApplicationReadyEvent?</p>\n<pre><code>@Component\npublic class ApplicationStartup \nimplements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n  /**\n   * This event is executed as late as conceivably possible to indicate that \n   * the application is ready to service requests.\n   */\n  @Override\n  public void onApplicationEvent(final ApplicationReadyEvent event) {\n\n    // here your code ...\n\n    return;\n  }\n}\n</code></pre>\n<p>Code from: <a href=\"http://blog.netgloo.com/2014/11/13/run-code-at-spring-boot-startup/\" rel=\"noreferrer\">http://blog.netgloo.com/2014/11/13/run-code-at-spring-boot-startup/</a></p>\n<p>This is what the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-spring-application.html#boot-features-application-events-and-listeners\" rel=\"noreferrer\">documentation</a> mentions about the startup events:</p>\n<blockquote>\n<p>...</p>\n<p>Application events are sent in the following order, as your application runs:</p>\n<p>An ApplicationStartedEvent is sent at the start of a run, but before\nany processing except the registration of listeners and initializers.</p>\n<p>An ApplicationEnvironmentPreparedEvent is sent when the Environment to be used in the context is known, but before the context\nis created.</p>\n<p>An ApplicationPreparedEvent is sent just before the refresh is started, but after bean definitions have been loaded.</p>\n<p>An ApplicationReadyEvent is sent after the refresh and any related callbacks have been processed to indicate the application is ready to\nservice requests.</p>\n<p>An ApplicationFailedEvent is sent if there is an exception on startup.</p>\n<p>...</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1539244612,"post_id":40394259,"comment_id":92433283,"body_markdown":"Perfect in Spring Boot. But run() method was called twice when having ApplicationScope for the class. So PostConstruct method with the above worked better.","body":"Perfect in Spring Boot. But run() method was called twice when having ApplicationScope for the class. So PostConstruct method with the above worked better."}],"tags":[],"owner":{"account_id":6232328,"reputation":1338,"user_id":4848659,"display_name":"Gimhani"},"comment_count":1,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1529380909,"creation_date":1478149884,"answer_id":40394259,"question_id":27405713,"body_markdown":"You can extend a class using [`ApplicationRunner`][1] , override the `run()` method and add the code there. \r\n\r\n    import org.springframework.boot.ApplicationRunner;\r\n    \r\n    @Component\r\n    public class ServerInitializer implements ApplicationRunner {\r\n        \r\n        @Override\r\n        public void run(ApplicationArguments applicationArguments) throws Exception {\r\n    \r\n            //code goes here\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html","title":"Running code after Spring Boot starts","body":"<p>You can extend a class using <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html\" rel=\"noreferrer\"><code>ApplicationRunner</code></a> , override the <code>run()</code> method and add the code there. </p>\n\n<pre><code>import org.springframework.boot.ApplicationRunner;\n\n@Component\npublic class ServerInitializer implements ApplicationRunner {\n\n    @Override\n    public void run(ApplicationArguments applicationArguments) throws Exception {\n\n        //code goes here\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1591602,"reputation":3575,"user_id":1474815,"accept_rate":0,"display_name":"Paulo Pedroso"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1494771500,"creation_date":1494771500,"answer_id":43964942,"question_id":27405713,"body_markdown":"Providing an example for Dave Syer answer, which worked like a charm:\r\n\r\n    @Component\r\n    public class CommandLineAppStartupRunner implements CommandLineRunner {\r\n        private static final Logger logger = LoggerFactory.getLogger(CommandLineAppStartupRunner.class);\r\n    \r\n        @Override\r\n        public void run(String...args) throws Exception {\r\n            logger.info(&quot;Application started with command-line arguments: {} . \\n To kill this application, press Ctrl + C.&quot;, Arrays.toString(args));\r\n        }\r\n    }","title":"Running code after Spring Boot starts","body":"<p>Providing an example for Dave Syer answer, which worked like a charm:</p>\n\n<pre><code>@Component\npublic class CommandLineAppStartupRunner implements CommandLineRunner {\n    private static final Logger logger = LoggerFactory.getLogger(CommandLineAppStartupRunner.class);\n\n    @Override\n    public void run(String...args) throws Exception {\n        logger.info(\"Application started with command-line arguments: {} . \\n To kill this application, press Ctrl + C.\", Arrays.toString(args));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1548880401,"post_id":44239113,"comment_id":95706886,"body_markdown":"Can I require an Autowired dependency inside that method? I&#39;d like to set Profiles","body":"Can I require an Autowired dependency inside that method? I&#39;d like to set Profiles"}],"tags":[],"owner":{"account_id":308422,"reputation":1873,"user_id":620288,"accept_rate":100,"display_name":"Jeff"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1496050970,"creation_date":1496050368,"answer_id":44239113,"question_id":27405713,"body_markdown":"Use a `SmartInitializingSingleton` bean in spring &gt; 4.1\r\n\r\n    @Bean\r\n    public SmartInitializingSingleton importProcessor() {\r\n        return () -&gt; {\r\n            doStuff();\r\n        };\r\n\r\n    }\r\n\r\nAs alternative a `CommandLineRunner` bean can be implemented or annotating a bean method with `@PostConstruct`.","title":"Running code after Spring Boot starts","body":"<p>Use a <code>SmartInitializingSingleton</code> bean in spring > 4.1</p>\n\n<pre><code>@Bean\npublic SmartInitializingSingleton importProcessor() {\n    return () -&gt; {\n        doStuff();\n    };\n\n}\n</code></pre>\n\n<p>As alternative a <code>CommandLineRunner</code> bean can be implemented or annotating a bean method with <code>@PostConstruct</code>.</p>\n"},{"comments":[{"owner":{"account_id":2082034,"reputation":661,"user_id":1853844,"accept_rate":81,"display_name":"Harshit"},"score":14,"creation_date":1499921705,"post_id":44923402,"comment_id":77115904,"body_markdown":"thanks you. this made my code work without any change required. Thanks again for such a simple answer.\nThis will also work with @RequestMapping annotation without any problem.","body":"thanks you. this made my code work without any change required. Thanks again for such a simple answer. This will also work with @RequestMapping annotation without any problem."},{"owner":{"account_id":1402905,"reputation":1191,"user_id":1331342,"accept_rate":51,"display_name":"neeraj"},"score":73,"creation_date":1516606728,"post_id":44923402,"comment_id":83739990,"body_markdown":"Someone may also wish to use `@EventListener(ContextRefreshedEvent.class)` instead, which gets triggered after bean creation, but before the server starts. It can be used to perform activities before any requests hit the server.","body":"Someone may also wish to use <code>@EventListener(ContextRefreshedEvent.class)</code> instead, which gets triggered after bean creation, but before the server starts. It can be used to perform activities before any requests hit the server."},{"owner":{"account_id":1402905,"reputation":1191,"user_id":1331342,"accept_rate":51,"display_name":"neeraj"},"score":0,"creation_date":1516627090,"post_id":44923402,"comment_id":83751697,"body_markdown":"Just to clarify what do you mean by &quot;refresh&quot;? In what cases would that event be triggered?\nPS: new to spring boot","body":"Just to clarify what do you mean by &quot;refresh&quot;? In what cases would that event be triggered? PS: new to spring boot"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1527516075,"post_id":44923402,"comment_id":88146124,"body_markdown":"Why is the line &quot;Started application&quot; being printed after the code is executed in the doSomethingAfterStartup() method?","body":"Why is the line &quot;Started application&quot; being printed after the code is executed in the doSomethingAfterStartup() method?"},{"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"score":2,"creation_date":1539676686,"post_id":44923402,"comment_id":92577558,"body_markdown":"does this class where you put event listener needs to be annotated with Component, Service etc. ?","body":"does this class where you put event listener needs to be annotated with Component, Service etc. ?"},{"owner":{"account_id":1679403,"reputation":907,"user_id":1544069,"accept_rate":89,"display_name":"ritesh"},"score":4,"creation_date":1564571630,"post_id":44923402,"comment_id":101073435,"body_markdown":"tested on Spring boot 2.0.5.RELEASE","body":"tested on Spring boot 2.0.5.RELEASE"},{"owner":{"account_id":13848848,"reputation":841,"user_id":9997280,"display_name":"Arphile"},"score":2,"creation_date":1580365982,"post_id":44923402,"comment_id":106075293,"body_markdown":"Tested on 2.2.2 Release. it works perfectly. this solution saves my time.","body":"Tested on 2.2.2 Release. it works perfectly. this solution saves my time."},{"owner":{"account_id":11793534,"reputation":982,"user_id":8628851,"display_name":"Georgi Peev"},"score":1,"creation_date":1580901815,"post_id":44923402,"comment_id":106248400,"body_markdown":"Just note that if you use Spring Shell this event will never happen ,because the Spring Shell enter in infinite cycle before the ApplicationReadyEvent.","body":"Just note that if you use Spring Shell this event will never happen ,because the Spring Shell enter in infinite cycle before the ApplicationReadyEvent."},{"owner":{"account_id":8146551,"reputation":794,"user_id":6135058,"display_name":"Waleed Abdalmajeed"},"score":1,"creation_date":1616233564,"post_id":44923402,"comment_id":117941692,"body_markdown":"Tested on Spring boot 2.4.3. Works perfectly.","body":"Tested on Spring boot 2.4.3. Works perfectly."},{"owner":{"account_id":12018538,"reputation":175,"user_id":8792830,"display_name":"Aymane EL Jahrani"},"score":1,"creation_date":1635450767,"post_id":44923402,"comment_id":123309142,"body_markdown":"I&#39;ve tried several other methods in the past. Now i&#39;m working on a different project, and i can tell that this one works particularly BETTER. Thank you !","body":"I&#39;ve tried several other methods in the past. Now i&#39;m working on a different project, and i can tell that this one works particularly BETTER. Thank you !"},{"owner":{"account_id":11637327,"reputation":179,"user_id":8523074,"display_name":"AshishUpadhyay"},"score":0,"creation_date":1636822871,"post_id":44923402,"comment_id":123662273,"body_markdown":"tested on spring boot 2.1.0.RELEASE , works fine","body":"tested on spring boot 2.1.0.RELEASE , works fine"},{"owner":{"account_id":2174203,"reputation":1767,"user_id":1925327,"display_name":"moritz.vieli"},"score":0,"creation_date":1637495595,"post_id":44923402,"comment_id":123836309,"body_markdown":"I had to add it into my Application class in order for it to work.","body":"I had to add it into my Application class in order for it to work."},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":2,"creation_date":1656309678,"post_id":44923402,"comment_id":128530786,"body_markdown":"it should used in class with @Component or a class with Component Type to work correctly","body":"it should used in class with @Component or a class with Component Type to work correctly"},{"owner":{"account_id":2095815,"reputation":1095,"user_id":1864614,"display_name":"razvang"},"score":0,"creation_date":1660902948,"post_id":44923402,"comment_id":129648542,"body_markdown":"You can have a bean in your SpringBootApplication like:  `@Bean ApplicationListener&lt;ApplicationReadyEvent&gt; appReady(InsuranceRepository repository){ return event -&gt; repository.save() }`","body":"You can have a bean in your SpringBootApplication like:  <code>@Bean ApplicationListener&lt;ApplicationReadyEvent&gt; appReady(InsuranceRepository repository){ return event -&gt; repository.save() }</code>"}],"tags":[],"owner":{"account_id":2228996,"reputation":15997,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"comment_count":14,"down_vote_count":0,"up_vote_count":689,"is_accepted":false,"score":689,"last_activity_date":1540371303,"creation_date":1499249882,"answer_id":44923402,"question_id":27405713,"body_markdown":"It is as simple as this:   \r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void doSomethingAfterStartup() {\r\n        System.out.println(&quot;hello world, I have just started up&quot;);\r\n    }\r\n\r\nTested on version `1.5.1.RELEASE`\r\n","title":"Running code after Spring Boot starts","body":"<p>It is as simple as this:   </p>\n\n<pre><code>@EventListener(ApplicationReadyEvent.class)\npublic void doSomethingAfterStartup() {\n    System.out.println(\"hello world, I have just started up\");\n}\n</code></pre>\n\n<p>Tested on version <code>1.5.1.RELEASE</code></p>\n"},{"comments":[{"owner":{"account_id":224054,"reputation":2034,"user_id":483628,"accept_rate":80,"display_name":"Srikanth"},"score":0,"creation_date":1521482170,"post_id":48771885,"comment_id":85739831,"body_markdown":"This should be the chosen answer. As @Andy points out, SmartInitializingSingleton is called just before the ports are opened.","body":"This should be the chosen answer. As @Andy points out, SmartInitializingSingleton is called just before the ports are opened."}],"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"comment_count":1,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1518541050,"creation_date":1518541050,"answer_id":48771885,"question_id":27405713,"body_markdown":"`ApplicationReadyEvent` is really only useful if the task you want to perform is not a requirement for correct server operation. Starting an async task to monitor something for changes is a good example.\r\n\r\nIf, however your server is in a &#39;not ready&#39; state until the task is completed then it&#39;s better to implement `SmartInitializingSingleton` because you&#39;ll get the callback _before_ your REST port has been opened and your server is open for business.\r\n\r\nDon&#39;t be tempted to use `@PostConstruct` for tasks that should only happen once ever. You&#39;ll get a rude surprise when you notice it being called multiple times...","title":"Running code after Spring Boot starts","body":"<p><code>ApplicationReadyEvent</code> is really only useful if the task you want to perform is not a requirement for correct server operation. Starting an async task to monitor something for changes is a good example.</p>\n\n<p>If, however your server is in a 'not ready' state until the task is completed then it's better to implement <code>SmartInitializingSingleton</code> because you'll get the callback <em>before</em> your REST port has been opened and your server is open for business.</p>\n\n<p>Don't be tempted to use <code>@PostConstruct</code> for tasks that should only happen once ever. You'll get a rude surprise when you notice it being called multiple times...</p>\n"},{"tags":[],"owner":{"account_id":5569186,"reputation":831,"user_id":4415231,"accept_rate":50,"display_name":"prasad kp"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1540790630,"creation_date":1540790630,"answer_id":53039193,"question_id":27405713,"body_markdown":"just implement CommandLineRunner for spring boot application.\r\nYou need to implement run method,\r\n\r\n    public classs SpringBootApplication implements CommandLineRunner{\r\n    \r\n        @Override\r\n        \tpublic void run(String... arg0) throws Exception {\r\n        \t// write your logic here \r\n        \t\t\r\n        \t}\r\n    }","title":"Running code after Spring Boot starts","body":"<p>just implement CommandLineRunner for spring boot application.\nYou need to implement run method,</p>\n\n<pre><code>public classs SpringBootApplication implements CommandLineRunner{\n\n    @Override\n        public void run(String... arg0) throws Exception {\n        // write your logic here \n\n        }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":1,"creation_date":1607895523,"post_id":53046750,"comment_id":115409805,"body_markdown":"Note that `ContextRefreshedEvent` [_can be triggered multiple times_](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#context-functionality-events)","body":"Note that <code>ContextRefreshedEvent</code> <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#context-functionality-events\" rel=\"nofollow noreferrer\"><i>can be triggered multiple times</i></a>"}],"tags":[],"owner":{"account_id":11819659,"reputation":1022,"user_id":8752733,"display_name":"Kalifornium"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1540820369,"creation_date":1540820369,"answer_id":53046750,"question_id":27405713,"body_markdown":" Try this one and it will run your code when the application context has fully started.\r\n\r\n   \r\n\r\n     @Component\r\n    public class OnStartServer implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic void onApplicationEvent(ContextRefreshedEvent arg0) {\r\n    \t\t\t\t// EXECUTE YOUR CODE HERE \r\n    \t}\r\n    }","title":"Running code after Spring Boot starts","body":"<p>Try this one and it will run your code when the application context has fully started.</p>\n\n<pre><code> @Component\npublic class OnStartServer implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent arg0) {\n                // EXECUTE YOUR CODE HERE \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6664827,"reputation":1104,"user_id":5142776,"accept_rate":80,"display_name":"Ahmed na"},"score":0,"creation_date":1582707229,"post_id":56011179,"comment_id":106865968,"body_markdown":"Put it in the spring boot application class\nnot randomly out side\n`@SpringBootApplication\nclass MyApplication {\n    @EventListener(ApplicationReadyEvent::class)\n    fun doSomethingAfterStartup() {\n        println(&quot;hello world, I have just started up&quot;)\n    }\n}`","body":"Put it in the spring boot application class not randomly out side <code>@SpringBootApplication class MyApplication {     @EventListener(ApplicationReadyEvent::class)     fun doSomethingAfterStartup() {         println(&quot;hello world, I have just started up&quot;)     } }</code>"},{"owner":{"account_id":5560513,"reputation":385,"user_id":4409991,"accept_rate":80,"display_name":"George Marin"},"score":0,"creation_date":1593422056,"post_id":56011179,"comment_id":110765213,"body_markdown":"you don&#39;t need to put it necessary to the @SpringBootApplication class. any configuration class will do","body":"you don&#39;t need to put it necessary to the @SpringBootApplication class. any configuration class will do"}],"tags":[],"owner":{"account_id":12535990,"reputation":1549,"user_id":9122660,"display_name":"Ostecke"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1557170583,"creation_date":1557170583,"answer_id":56011179,"question_id":27405713,"body_markdown":"I really like the suggestion for usage of the `EventListener` annotation by @cahen (https://stackoverflow.com/a/44923402/9122660) since it is very clean. Unfortunately I could not get this to work in a Spring + Kotlin setup. What does work for Kotlin is adding the class as a method parameter: \r\n\r\n    @EventListener \r\n    fun doSomethingAfterStartup(event: ApplicationReadyEvent) {\r\n        System.out.println(&quot;hello world, I have just started up&quot;);\r\n    }\r\n","title":"Running code after Spring Boot starts","body":"<p>I really like the suggestion for usage of the <code>EventListener</code> annotation by @cahen (<a href=\"https://stackoverflow.com/a/44923402/9122660\">https://stackoverflow.com/a/44923402/9122660</a>) since it is very clean. Unfortunately I could not get this to work in a Spring + Kotlin setup. What does work for Kotlin is adding the class as a method parameter: </p>\n\n<pre><code>@EventListener \nfun doSomethingAfterStartup(event: ApplicationReadyEvent) {\n    System.out.println(\"hello world, I have just started up\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1957366,"reputation":1175,"user_id":1760058,"accept_rate":46,"display_name":"egelev"},"score":5,"creation_date":1603531674,"post_id":57592172,"comment_id":114071243,"body_markdown":"I believe the `@PostConstruct` method is part of the bean initialization. I&#39;ve seen the ApplicationContext failing to load because of unsatisfied dependency due to failing `@PostConstruct` method.","body":"I believe the <code>@PostConstruct</code> method is part of the bean initialization. I&#39;ve seen the ApplicationContext failing to load because of unsatisfied dependency due to failing <code>@PostConstruct</code> method."},{"owner":{"account_id":6912869,"reputation":954,"user_id":5308115,"accept_rate":29,"display_name":"yashodha_h"},"score":0,"creation_date":1677926618,"post_id":57592172,"comment_id":133436361,"body_markdown":"Note that both the `@PostConstruct` and `@PreDestroy` annotations are part of Java EE. Since Java EE was deprecated in Java 9, and removed in Java 11, we have to add the dependency manually ( javax.annotation-api)  to use these annotations.","body":"Note that both the <code>@PostConstruct</code> and <code>@PreDestroy</code> annotations are part of Java EE. Since Java EE was deprecated in Java 9, and removed in Java 11, we have to add the dependency manually ( javax.annotation-api)  to use these annotations."}],"tags":[],"owner":{"account_id":8196165,"reputation":293,"user_id":6628739,"accept_rate":75,"display_name":"Naresh Bhadke"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1566392208,"creation_date":1566392208,"answer_id":57592172,"question_id":27405713,"body_markdown":"Best way to execute block of code after Spring Boot application started is using PostConstruct annotation.Or also you can use command line runner for the same.\r\n\r\n**1. Using PostConstruct annotation**\r\n\r\n    @Configuration\r\n    public class InitialDataConfiguration {\r\n    \t\r\n    \t@PostConstruct\r\n    \tpublic void postConstruct() {\r\n    \t\tSystem.out.println(&quot;Started after Spring boot application !&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**2. Using command line runner bean**\r\n\r\n    \r\n    @Configuration\r\n    public class InitialDataConfiguration {\r\n    \r\n    \t@Bean\r\n    \tCommandLineRunner runner() {\r\n    \t\treturn args -&gt; {\r\n    \t\t\tSystem.out.println(&quot;CommandLineRunner running in the UnsplashApplication class...&quot;);\r\n    \t\t};\r\n    \t}\r\n    }","title":"Running code after Spring Boot starts","body":"<p>Best way to execute block of code after Spring Boot application started is using PostConstruct annotation.Or also you can use command line runner for the same.</p>\n\n<p><strong>1. Using PostConstruct annotation</strong></p>\n\n<pre><code>@Configuration\npublic class InitialDataConfiguration {\n\n    @PostConstruct\n    public void postConstruct() {\n        System.out.println(\"Started after Spring boot application !\");\n    }\n\n}\n</code></pre>\n\n<p><strong>2. Using command line runner bean</strong></p>\n\n<pre><code>@Configuration\npublic class InitialDataConfiguration {\n\n    @Bean\n    CommandLineRunner runner() {\n        return args -&gt; {\n            System.out.println(\"CommandLineRunner running in the UnsplashApplication class...\");\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18033506,"reputation":37,"user_id":13107483,"display_name":"Rushi Vanga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592623423,"creation_date":1592623423,"answer_id":62481246,"question_id":27405713,"body_markdown":"Best way you use CommandLineRunner or ApplicationRunner\r\nThe only difference between is run() method\r\nCommandLineRunner accepts array of string and ApplicationRunner accepts  ApplicationArugument.","title":"Running code after Spring Boot starts","body":"<p>Best way you use CommandLineRunner or ApplicationRunner\nThe only difference between is run() method\nCommandLineRunner accepts array of string and ApplicationRunner accepts  ApplicationArugument.</p>\n"},{"tags":[],"owner":{"account_id":9608243,"reputation":87,"user_id":7133567,"display_name":"BRAIEK AYEMN"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596459198,"creation_date":1596459198,"answer_id":63229828,"question_id":27405713,"body_markdown":"you can use @Component \r\n\r\n    @RequiredArgsConstructor\r\n    @Component\r\n    @Slf4j\r\n    public class BeerLoader implements CommandLineRunner {\r\n        //declare \r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            //some code here \r\n    \r\n        }","title":"Running code after Spring Boot starts","body":"<p>you can use @Component</p>\n<pre><code>@RequiredArgsConstructor\n@Component\n@Slf4j\npublic class BeerLoader implements CommandLineRunner {\n    //declare \n\n    @Override\n    public void run(String... args) throws Exception {\n        //some code here \n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2339515,"reputation":3576,"user_id":2051126,"accept_rate":71,"display_name":"Somnath Musib"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1620989363,"creation_date":1620989363,"answer_id":67533089,"question_id":27405713,"body_markdown":"You have several choices:\r\n\r\n**Using `CommandLineRunner` or `ApplicationRunner` as a Bean definition:**\r\n\r\nSpring Boot executes these towards the end of the application startup process. In most circumstances, the `CommandLineRunner` will do the job. Following is an example of a CommandLineRunner implementation with Java 8:\r\n\r\n    @Bean\r\n    public CommandLineRunner commandLineRunner() {\r\n       return (args) -&gt; System.out.println(&quot;Hello World&quot;);\r\n    }\r\n\r\nNote that the `args` is the String array of arguments. You can also provide an implementation of this interface and define it as a Spring Component:\r\n\r\n    @Component\r\n    public class MyCommandLineRunner implements CommandLineRunner {\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            System.out.println(&quot;Hello World&quot;);\r\n        }\r\n    }\r\n\r\nYou can use the `ApplicationRunner` if you need better argument management. ApplicationRunner takes an `ApplicationArguments` instance that has enhanced argument management options.\r\n\r\nYou can also order the  `CommandLineRunner` and `ApplicationRunner` beans using Spring&#39;s `@Order` annotation:\r\n\r\n     @Bean\r\n     @Order(1)\r\n     public CommandLineRunner commandLineRunner() {\r\n        return (args) -&gt; System.out.println(&quot;Hello World, Order 1&quot;);\r\n     }\r\n    \r\n     @Bean\r\n     @Order(2)\r\n     public CommandLineRunner commandLineRunner() {\r\n        return (args) -&gt; System.out.println(&quot;Hello World, Order 2&quot;);\r\n     }\r\n\r\n**Using Spring Boot&#39;s ContextRefreshedEvent:**\r\n\r\nSpring Boot publishes several events at startup. These events indicate the completion of a phase in the application startup process. You can listen to the `ContextRefreshedEvent` and execute custom code: \r\n\r\n    @EventListener(ContextRefreshedEvent.class)\r\n    public void execute() {\r\n        if(alreadyDone) {\r\n          return;\r\n        }\r\n        System.out.println(&quot;hello world&quot;);\r\n    } \r\n\r\n`ContextRefreshedEvent` is published several times. Thus, ensure to put a check whether the code execution is already finished.","title":"Running code after Spring Boot starts","body":"<p>You have several choices:</p>\n<p><strong>Using <code>CommandLineRunner</code> or <code>ApplicationRunner</code> as a Bean definition:</strong></p>\n<p>Spring Boot executes these towards the end of the application startup process. In most circumstances, the <code>CommandLineRunner</code> will do the job. Following is an example of a CommandLineRunner implementation with Java 8:</p>\n<pre><code>@Bean\npublic CommandLineRunner commandLineRunner() {\n   return (args) -&gt; System.out.println(&quot;Hello World&quot;);\n}\n</code></pre>\n<p>Note that the <code>args</code> is the String array of arguments. You can also provide an implementation of this interface and define it as a Spring Component:</p>\n<pre><code>@Component\npublic class MyCommandLineRunner implements CommandLineRunner {\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(&quot;Hello World&quot;);\n    }\n}\n</code></pre>\n<p>You can use the <code>ApplicationRunner</code> if you need better argument management. ApplicationRunner takes an <code>ApplicationArguments</code> instance that has enhanced argument management options.</p>\n<p>You can also order the  <code>CommandLineRunner</code> and <code>ApplicationRunner</code> beans using Spring's <code>@Order</code> annotation:</p>\n<pre><code> @Bean\n @Order(1)\n public CommandLineRunner commandLineRunner() {\n    return (args) -&gt; System.out.println(&quot;Hello World, Order 1&quot;);\n }\n\n @Bean\n @Order(2)\n public CommandLineRunner commandLineRunner() {\n    return (args) -&gt; System.out.println(&quot;Hello World, Order 2&quot;);\n }\n</code></pre>\n<p><strong>Using Spring Boot's ContextRefreshedEvent:</strong></p>\n<p>Spring Boot publishes several events at startup. These events indicate the completion of a phase in the application startup process. You can listen to the <code>ContextRefreshedEvent</code> and execute custom code:</p>\n<pre><code>@EventListener(ContextRefreshedEvent.class)\npublic void execute() {\n    if(alreadyDone) {\n      return;\n    }\n    System.out.println(&quot;hello world&quot;);\n} \n</code></pre>\n<p><code>ContextRefreshedEvent</code> is published several times. Thus, ensure to put a check whether the code execution is already finished.</p>\n"},{"comments":[{"owner":{"account_id":268625,"reputation":5919,"user_id":2047962,"accept_rate":70,"display_name":"RustyTheBoyRobot"},"score":0,"creation_date":1633026531,"post_id":69396011,"comment_id":122659221,"body_markdown":"This seems to be a duplicate of https://stackoverflow.com/a/40394259/2047962","body":"This seems to be a duplicate of <a href=\"https://stackoverflow.com/a/40394259/2047962\">stackoverflow.com/a/40394259/2047962</a>"}],"tags":[],"owner":{"display_name":"user11116209"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1671824978,"creation_date":1633020202,"answer_id":69396011,"question_id":27405713,"body_markdown":"Spring boot provides an ApplicationRunner interface with a run() method to be invoked at application startup.\r\n However, instead of raw String arguments passed to the callback method, we have an instance of the ApplicationArguments class.\r\n\r\n    @Component\r\n    public class AppStartupRunner implements ApplicationRunner {\r\n    \r\n        @Override\r\n        public void run(ApplicationArguments args) throws Exception {\r\n            //some logic here\r\n        }\r\n    }","title":"Running code after Spring Boot starts","body":"<p>Spring boot provides an ApplicationRunner interface with a run() method to be invoked at application startup.\nHowever, instead of raw String arguments passed to the callback method, we have an instance of the ApplicationArguments class.</p>\n<pre><code>@Component\npublic class AppStartupRunner implements ApplicationRunner {\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        //some logic here\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667016116,"creation_date":1667016116,"answer_id":74242736,"question_id":27405713,"body_markdown":"If you mean running peace of code once after the application started, you can use the CommandLineRunner as below:\r\n\r\n\r\n    @SpringBootApplication\r\n    public class SpringBootApplication \r\n      implements CommandLineRunner {\r\n\r\n    private static Logger LOG = LoggerFactory\r\n      .getLogger(SpringBootConsoleApplication.class);\r\n\r\n    public static void main(String[] args) {\r\n        LOG.info(&quot;STARTING THE APPLICATION&quot;);\r\n        SpringApplication.run(SpringBootConsoleApplication.class, args);\r\n        LOG.info(&quot;APPLICATION FINISHED&quot;);\r\n    }\r\n \r\n    @Override\r\n    public void run(String... args) {\r\n        // enter code you want to run after app loaded here\r\n        LOG.info(&quot;EXECUTING : command line runner&quot;);\r\n \r\n        for (int i = 0; i &lt; args.length; ++i) {\r\n            LOG.info(&quot;args[{}]: {}&quot;, i, args[i]);\r\n        }\r\n    }\r\n}\r\n\r\nOtherwise, you can use the DevTools dependency, which help you to run new codes without manually restarting the application.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\ndon&#39;t forget to add these codes to your pom.xml to avoid version warnings:\r\n   \r\n\r\n       &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n\r\n     &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\ngive it a thump up if this was helpful to you!","title":"Running code after Spring Boot starts","body":"<p>If you mean running peace of code once after the application started, you can use the CommandLineRunner as below:</p>\n<pre><code>@SpringBootApplication\npublic class SpringBootApplication \n  implements CommandLineRunner {\n\nprivate static Logger LOG = LoggerFactory\n  .getLogger(SpringBootConsoleApplication.class);\n\npublic static void main(String[] args) {\n    LOG.info(&quot;STARTING THE APPLICATION&quot;);\n    SpringApplication.run(SpringBootConsoleApplication.class, args);\n    LOG.info(&quot;APPLICATION FINISHED&quot;);\n}\n\n@Override\npublic void run(String... args) {\n    // enter code you want to run after app loaded here\n    LOG.info(&quot;EXECUTING : command line runner&quot;);\n\n    for (int i = 0; i &lt; args.length; ++i) {\n        LOG.info(&quot;args[{}]: {}&quot;, i, args[i]);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Otherwise, you can use the DevTools dependency, which help you to run new codes without manually restarting the application.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>don't forget to add these codes to your pom.xml to avoid version warnings:</p>\n<pre><code>   &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>give it a thump up if this was helpful to you!</p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680198026,"creation_date":1680198026,"answer_id":75891373,"question_id":27405713,"body_markdown":"I found Andy Brown&#39;s answer useful, indicating that `SmartInitializingSingleton` was better for doing some non-asynchronous task that is required before a successful start.\r\n\r\nTo give a concrete example, the great book [_Cloud Native Spring in Action_][1] (Manning, 2022) by Thomas Vitale gives the following example on page 122 for loading test data based upon a `testdata` profile by listening for `ApplicationReadyEvent`:\r\n\r\n```java\r\n@Component\r\n@Profile(&quot;testdata&quot;)\r\npublic class BookDataLoader {\r\n  private final BookRepository bookRepository;\r\n\r\n  public BookDataLoader(BookRepository bookRepository) {\r\n    this.bookRepository = bookRepository;\r\n  }\r\n\r\n  @EventListener(ApplicationReadyEvent.class)\r\n  public void loadBookTestData() {\r\n    var book1 = new Book(&quot;1234567891&quot;, &quot;Northern Lights&quot;,\r\n        &quot;Lyra Silverstar&quot;, 9.90);\r\n    var book2 = new Book(&quot;1234567892&quot;, &quot;Polar Journey&quot;,\r\n        &quot;Iorek Polarson&quot;, 12.90);\r\n    bookRepository.save(book1);\r\n    bookRepository.save(book2);\r\n  }\r\n}\r\n```\r\n\r\nTaking Andy Brown&#39;s advice, the same functionality could be implemented using `SmartInitializingSingleton` like this:\r\n\r\n\r\n```java\r\n@Component\r\n@Profile(&quot;testdata&quot;)\r\npublic class BookDataLoader implements SmartInitializingSingleton {\r\n  private final BookRepository bookRepository;\r\n\r\n  public BookDataLoader(BookRepository bookRepository) {\r\n    this.bookRepository = bookRepository;\r\n  }\r\n\r\n  @Override\r\n  public void afterSingletonsInstantiated() {\r\n    var book1 = new Book(&quot;1234567891&quot;, &quot;Northern Lights&quot;,\r\n        &quot;Lyra Silverstar&quot;, 9.90);\r\n    var book2 = new Book(&quot;1234567892&quot;, &quot;Polar Journey&quot;,\r\n        &quot;Iorek Polarson&quot;, 12.90);\r\n    bookRepository.save(book1);\r\n    bookRepository.save(book2);\r\n  }\r\n}\r\n```\r\n\r\nNote that the only differences are 1) implementing `SmartInitializingSingleton` and 2) overriding `afterSingletonsInstantiated()` instead of annotating an arbitrary method with `@EventListener(ApplicationReadyEvent.class)`.\r\n\r\nThis approach is working in my application, and the semantics of `SmartInitializingSingleton` do seem to be a better fit for data initialization, based upon the Spring documentation and comments in the other answers here.\r\n\r\n  [1]: https://www.manning.com/books/cloud-native-spring-in-action","title":"Running code after Spring Boot starts","body":"<p>I found Andy Brown's answer useful, indicating that <code>SmartInitializingSingleton</code> was better for doing some non-asynchronous task that is required before a successful start.</p>\n<p>To give a concrete example, the great book <a href=\"https://www.manning.com/books/cloud-native-spring-in-action\" rel=\"nofollow noreferrer\"><em>Cloud Native Spring in Action</em></a> (Manning, 2022) by Thomas Vitale gives the following example on page 122 for loading test data based upon a <code>testdata</code> profile by listening for <code>ApplicationReadyEvent</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Profile(&quot;testdata&quot;)\npublic class BookDataLoader {\n  private final BookRepository bookRepository;\n\n  public BookDataLoader(BookRepository bookRepository) {\n    this.bookRepository = bookRepository;\n  }\n\n  @EventListener(ApplicationReadyEvent.class)\n  public void loadBookTestData() {\n    var book1 = new Book(&quot;1234567891&quot;, &quot;Northern Lights&quot;,\n        &quot;Lyra Silverstar&quot;, 9.90);\n    var book2 = new Book(&quot;1234567892&quot;, &quot;Polar Journey&quot;,\n        &quot;Iorek Polarson&quot;, 12.90);\n    bookRepository.save(book1);\n    bookRepository.save(book2);\n  }\n}\n</code></pre>\n<p>Taking Andy Brown's advice, the same functionality could be implemented using <code>SmartInitializingSingleton</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Profile(&quot;testdata&quot;)\npublic class BookDataLoader implements SmartInitializingSingleton {\n  private final BookRepository bookRepository;\n\n  public BookDataLoader(BookRepository bookRepository) {\n    this.bookRepository = bookRepository;\n  }\n\n  @Override\n  public void afterSingletonsInstantiated() {\n    var book1 = new Book(&quot;1234567891&quot;, &quot;Northern Lights&quot;,\n        &quot;Lyra Silverstar&quot;, 9.90);\n    var book2 = new Book(&quot;1234567892&quot;, &quot;Polar Journey&quot;,\n        &quot;Iorek Polarson&quot;, 12.90);\n    bookRepository.save(book1);\n    bookRepository.save(book2);\n  }\n}\n</code></pre>\n<p>Note that the only differences are 1) implementing <code>SmartInitializingSingleton</code> and 2) overriding <code>afterSingletonsInstantiated()</code> instead of annotating an arbitrary method with <code>@EventListener(ApplicationReadyEvent.class)</code>.</p>\n<p>This approach is working in my application, and the semantics of <code>SmartInitializingSingleton</code> do seem to be a better fit for data initialization, based upon the Spring documentation and comments in the other answers here.</p>\n"}],"owner":{"account_id":474494,"reputation":4395,"user_id":884203,"display_name":"stewsters"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472287,"favorite_count":0,"down_vote_count":0,"up_vote_count":422,"accepted_answer_id":27405775,"answer_count":19,"score":422,"last_activity_date":1680198026,"creation_date":1418227928,"question_id":27405713,"body_markdown":"I want to run code after my **spring-boot** app starts to monitor a directory for changes.  \r\n\r\nI have tried running a new thread but the `@Autowired` services have not been set at that point.\r\n\r\nI have been able to find `ApplicationPreparedEvent`, which fires before the `@Autowired` annotations are set.  Ideally I would like the event to fire once the application is ready to process http requests.\r\n\r\nIs there a better event to use, or a better way of running code after the application is live in **spring-boot**?","title":"Running code after Spring Boot starts","body":"<p>I want to run code after my <strong>spring-boot</strong> app starts to monitor a directory for changes.  </p>\n\n<p>I have tried running a new thread but the <code>@Autowired</code> services have not been set at that point.</p>\n\n<p>I have been able to find <code>ApplicationPreparedEvent</code>, which fires before the <code>@Autowired</code> annotations are set.  Ideally I would like the event to fire once the application is ready to process http requests.</p>\n\n<p>Is there a better event to use, or a better way of running code after the application is live in <strong>spring-boot</strong>?</p>\n"},{"tags":["java","spring-boot","cron","scheduler"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1680173393,"post_id":75887131,"comment_id":133854739,"body_markdown":"Take a look at [this](https://stackoverflow.com/questions/28808588/how-to-run-spring-scheduled-jobs-only-in-specific-year)","body":"Take a look at <a href=\"https://stackoverflow.com/questions/28808588/how-to-run-spring-scheduled-jobs-only-in-specific-year\">this</a>"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1680174922,"post_id":75887131,"comment_id":133855146,"body_markdown":"Quartz supports years in its cron expressions: [CronExpression](http://www.quartz-scheduler.org/api/2.3.0/org/quartz/CronExpression.html). See also [Scheduling in Spring with Quartz](https://www.baeldung.com/spring-quartz-schedule). Caveat: I have never tried scheduling a job using a year (never needed it).","body":"Quartz supports years in its cron expressions: <a href=\"http://www.quartz-scheduler.org/api/2.3.0/org/quartz/CronExpression.html\" rel=\"nofollow noreferrer\">CronExpression</a>. See also <a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">Scheduling in Spring with Quartz</a>. Caveat: I have never tried scheduling a job using a year (never needed it)."}],"answers":[{"tags":[],"owner":{"account_id":11260582,"reputation":102,"user_id":8259045,"display_name":"T4puSD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680197873,"creation_date":1680181922,"answer_id":75888713,"question_id":75887131,"body_markdown":"First of all cron jobs are those jobs which will be run repeatedly given the cron expression. So you can&#39;t express a job which will be run only once with it.\r\n\r\n\r\nWhat you need is `ThreadPoolTaskScheduler` it supports execution of runnable once with a given instant as a parameter of its `schedule` method.\r\n\r\n1. Create an `AppConfig.java` file and expose a bean of `ThreadPoolTaskScheduler`\r\n\r\n```java\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public ThreadPoolTaskScheduler threadPoolTaskScheduler() {\r\n        return ThreadPoolTaskScheduler();\r\n    }\r\n    \r\n}\r\n```\r\n\r\n2. Create a `TaskExecutorService.java` file and inject the created bean of `ThreadPoolTaskScheduler` and use that to schedule any runnable task like follow:\r\n\r\n```java\r\n@Service\r\npublic class TaskExecutorService {\r\n\r\n    private final ThreadPoolTaskScheduler threadPoolTaskScheduler;\r\n\r\n    @Autowired\r\n    public TaskExecutorService(ThreadPoolTaskScheduler threadPoolTaskScheduler) {\r\n        this.threadPoolTaskScheduler = threadPoolTaskScheduler;\r\n    }\r\n\r\n    public void scheduleOnce(Runnable runnable, Instant runAt) {\r\n        threadPoolTaskScheduler.schedule(runnable, runAt);\r\n    }\r\n}\r\n```\r\n3. Now use the `scheduleOnce` method to schedule your task with any time and date you like.\r\n\r\nCheck out this blog post for reference. `https://www.baeldung.com/spring-task-scheduler#threadpooltaskscheduler`","title":"Cron expression for particular date with year","body":"<p>First of all cron jobs are those jobs which will be run repeatedly given the cron expression. So you can't express a job which will be run only once with it.</p>\n<p>What you need is <code>ThreadPoolTaskScheduler</code> it supports execution of runnable once with a given instant as a parameter of its <code>schedule</code> method.</p>\n<ol>\n<li>Create an <code>AppConfig.java</code> file and expose a bean of <code>ThreadPoolTaskScheduler</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public ThreadPoolTaskScheduler threadPoolTaskScheduler() {\n        return ThreadPoolTaskScheduler();\n    }\n    \n}\n</code></pre>\n<ol start=\"2\">\n<li>Create a <code>TaskExecutorService.java</code> file and inject the created bean of <code>ThreadPoolTaskScheduler</code> and use that to schedule any runnable task like follow:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class TaskExecutorService {\n\n    private final ThreadPoolTaskScheduler threadPoolTaskScheduler;\n\n    @Autowired\n    public TaskExecutorService(ThreadPoolTaskScheduler threadPoolTaskScheduler) {\n        this.threadPoolTaskScheduler = threadPoolTaskScheduler;\n    }\n\n    public void scheduleOnce(Runnable runnable, Instant runAt) {\n        threadPoolTaskScheduler.schedule(runnable, runAt);\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Now use the <code>scheduleOnce</code> method to schedule your task with any time and date you like.</li>\n</ol>\n<p>Check out this blog post for reference. <code>https://www.baeldung.com/spring-task-scheduler#threadpooltaskscheduler</code></p>\n"}],"owner":{"account_id":16570175,"reputation":157,"user_id":11973540,"display_name":"jagan mohan Mylapuru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680197873,"creation_date":1680172578,"question_id":75887131,"body_markdown":"*I want to schedule a cron job using @Scheduler annotation. My requirement is to generate a job on 30 March 2023 5:30PM.*\r\n\r\n&gt;I can able to add date time and day using the expression\r\n```@Scheduler(crons = &quot;0 30 17 30 3 ?&quot;)``` and this expression working fine\r\n\r\n&gt;But there I can&#39;t add year, if I add year like\r\n```@Scheduler(crons = &quot;0 30 17 30 3 ? 2023&quot;)``` getting exception like \r\n```Cron expression must contain of 6 fields(found 7 in &quot;0 30 17 30 3 ? 2023&quot;)```\r\n\r\n*So, How can I make Cron expression along with year ??, please help me here*","title":"Cron expression for particular date with year","body":"<p><em>I want to schedule a cron job using @Scheduler annotation. My requirement is to generate a job on 30 March 2023 5:30PM.</em></p>\n<blockquote>\n<p>I can able to add date time and day using the expression\n<code>@Scheduler(crons = &quot;0 30 17 30 3 ?&quot;)</code> and this expression working fine</p>\n</blockquote>\n<blockquote>\n<p>But there I can't add year, if I add year like\n<code>@Scheduler(crons = &quot;0 30 17 30 3 ? 2023&quot;)</code> getting exception like\n<code>Cron expression must contain of 6 fields(found 7 in &quot;0 30 17 30 3 ? 2023&quot;)</code></p>\n</blockquote>\n<p><em>So, How can I make Cron expression along with year ??, please help me here</em></p>\n"},{"tags":["java","remote-access","point-of-sale","iso8583","jpos"],"answers":[{"tags":[],"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680197656,"creation_date":1680197656,"answer_id":75891328,"question_id":75887054,"body_markdown":"While some POS software implementations use the ISO-8583 protocol (mostly network management 800-class messages) where you can use jPOS, most others use proprietary protocols and provide their own TMS systems. So unfortunately, the answer to your question is: it depends.","title":"How can I use jPOS-EE library to read pos terminal configuration and change them remotely,","body":"<p>While some POS software implementations use the ISO-8583 protocol (mostly network management 800-class messages) where you can use jPOS, most others use proprietary protocols and provide their own TMS systems. So unfortunately, the answer to your question is: it depends.</p>\n"}],"owner":{"account_id":28167229,"reputation":1,"user_id":21526263,"display_name":"SAMUEL FYNTAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680197656,"creation_date":1680172162,"question_id":75887054,"body_markdown":"How can I monitor, manage and change configurations of POS terminals remotely with the help of java jPOS-EE library \r\n\r\nI am try to manage and monitor POS(Point of Sale) terminals remotely. Knowing who has which POS terminals, what is happening on which POS terminal? Modify POS terminal configurations","title":"How can I use jPOS-EE library to read pos terminal configuration and change them remotely,","body":"<p>How can I monitor, manage and change configurations of POS terminals remotely with the help of java jPOS-EE library</p>\n<p>I am try to manage and monitor POS(Point of Sale) terminals remotely. Knowing who has which POS terminals, what is happening on which POS terminal? Modify POS terminal configurations</p>\n"},{"tags":["java","unit-testing","gradle","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680197306,"creation_date":1680197306,"answer_id":75891285,"question_id":75869616,"body_markdown":"I manage to solve the problem differently.\r\n\r\nFirst, I create custom `IssueProccessor` that implements the corresponding interface in JUnit Pioneer library.\r\n\r\n```java\r\npublic class SimpleIssueProcessor implements IssueProcessor {\r\n\r\n    @Override\r\n    public void processTestResults(List&lt;IssueTestSuite&gt; issueTestSuites) { \r\n        /* this callback receives information about all tests marked with `@Issue` annotation */ \r\n    }\r\n\r\n}\r\n```\r\n\r\nThen I register it as Java ServiceLoader so JUnit uses the instance of the class during its lifecycle. In order to do that, I create a file `src/test/resources/META-INF/services/org.junitpioneer.jupiter.IssueProcessor` with the content below:\r\n\r\n```\r\ncom.my.company.SimpleIssueProcessor\r\n```\r\n\r\nThis is the fully qualified name of the `SimpleIssueProcessor` implementation.\r\n\r\nAnd finally, I create another file `src/test/resources/META-INF/services/org.junit.platform.launcher.TestExecutionListener` with content:\r\n\r\n```\r\norg.junitpioneer.jupiter.issue.IssueExtensionExecutionListener\r\n```\r\n\r\nThat&#39;s the JUnit `TestExecutionListener` provided by JUnit Pioneer library that delegates information to `IssueProcessor` implementation.\r\n\r\n---\r\n\r\nAnd that&#39;s basically it. Now you process the information in `SimpleIssueProcessor` callback and build any documentation you want. ","title":"Add Junit Pioneer @Issue annotation info to Gradle Test Report","body":"<p>I manage to solve the problem differently.</p>\n<p>First, I create custom <code>IssueProccessor</code> that implements the corresponding interface in JUnit Pioneer library.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpleIssueProcessor implements IssueProcessor {\n\n    @Override\n    public void processTestResults(List&lt;IssueTestSuite&gt; issueTestSuites) { \n        /* this callback receives information about all tests marked with `@Issue` annotation */ \n    }\n\n}\n</code></pre>\n<p>Then I register it as Java ServiceLoader so JUnit uses the instance of the class during its lifecycle. In order to do that, I create a file <code>src/test/resources/META-INF/services/org.junitpioneer.jupiter.IssueProcessor</code> with the content below:</p>\n<pre><code>com.my.company.SimpleIssueProcessor\n</code></pre>\n<p>This is the fully qualified name of the <code>SimpleIssueProcessor</code> implementation.</p>\n<p>And finally, I create another file <code>src/test/resources/META-INF/services/org.junit.platform.launcher.TestExecutionListener</code> with content:</p>\n<pre><code>org.junitpioneer.jupiter.issue.IssueExtensionExecutionListener\n</code></pre>\n<p>That's the JUnit <code>TestExecutionListener</code> provided by JUnit Pioneer library that delegates information to <code>IssueProcessor</code> implementation.</p>\n<hr />\n<p>And that's basically it. Now you process the information in <code>SimpleIssueProcessor</code> callback and build any documentation you want.</p>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75891285,"answer_count":1,"score":2,"last_activity_date":1680197306,"creation_date":1680026666,"question_id":75869616,"body_markdown":"I put [@Issue](https://junit-pioneer.org/docs/issue/) annotation from [JUnit Pioneer library](https://junit-pioneer.org/) on my test suites. Look at the code snippet below:\r\n\r\n```java\r\n@Test\r\n@Issue(&quot;TY-5232&quot;)\r\nvoid shouldReturn200IfTryingToCreateNewAccountWithAvailableName() {...}\r\n```\r\n\r\nAlso, I&#39;m using [Gradle Test Report](https://stackoverflow.com/questions/25963554/how-to-make-gradle-build-produce-html-test-report-instead-of-xml-default) to produce HTML report of tests&#39; results.\r\nI wonder is to possible to add information about issue to the Gradle test report? I&#39;d like to see which test belongs to particular task.\r\n\r\nPerhaps I need to register some callback but I didn&#39;t find specific way to do it. Any ideas?","title":"Add Junit Pioneer @Issue annotation info to Gradle Test Report","body":"<p>I put <a href=\"https://junit-pioneer.org/docs/issue/\" rel=\"nofollow noreferrer\">@Issue</a> annotation from <a href=\"https://junit-pioneer.org/\" rel=\"nofollow noreferrer\">JUnit Pioneer library</a> on my test suites. Look at the code snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@Issue(&quot;TY-5232&quot;)\nvoid shouldReturn200IfTryingToCreateNewAccountWithAvailableName() {...}\n</code></pre>\n<p>Also, I'm using <a href=\"https://stackoverflow.com/questions/25963554/how-to-make-gradle-build-produce-html-test-report-instead-of-xml-default\">Gradle Test Report</a> to produce HTML report of tests' results.\nI wonder is to possible to add information about issue to the Gradle test report? I'd like to see which test belongs to particular task.</p>\n<p>Perhaps I need to register some callback but I didn't find specific way to do it. Any ideas?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1680253781,"post_id":75891216,"comment_id":133870449,"body_markdown":"In the best case, the optimizer should replace the entire loop with the predictable result. But unless you have an up-to-date JVM, even using `long` instead of `int` for the loop counter may cause the JVM to skip some optimizations. Besides that, the specific behavior `Long.valueOf(long)` prevents “ordinary” Escape Analysis, so it will only get optimized if the JVM has specific optimizations for *boxing* operations.","body":"In the best case, the optimizer should replace the entire loop with the predictable result. But unless you have an up-to-date JVM, even using <code>long</code> instead of <code>int</code> for the loop counter may cause the JVM to skip some optimizations. Besides that, the specific behavior <code>Long.valueOf(long)</code> prevents “ordinary” Escape Analysis, so it will only get optimized if the JVM has specific optimizations for <i>boxing</i> operations."}],"owner":{"account_id":5891674,"reputation":33,"user_id":4638081,"display_name":"batinex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680197165,"creation_date":1680196850,"question_id":75891216,"body_markdown":"There is a very known example of why you should not use boxed variables like Integer for summing an array.\r\n```\r\nLong sum = 0;\r\nfor(long i = 0; i &lt; Integer.MAX_VALUE; i++){\r\n sum += i;\r\n}\r\n```\r\nShould not JIT recognize this pattern and replaced this with primitive type? Even if not, should not it be optimized due to escape analysis and variables should be allocated on the stack, not a heap?","title":"Escape analysis and JIT optimization in simple sum loop","body":"<p>There is a very known example of why you should not use boxed variables like Integer for summing an array.</p>\n<pre><code>Long sum = 0;\nfor(long i = 0; i &lt; Integer.MAX_VALUE; i++){\n sum += i;\n}\n</code></pre>\n<p>Should not JIT recognize this pattern and replaced this with primitive type? Even if not, should not it be optimized due to escape analysis and variables should be allocated on the stack, not a heap?</p>\n"},{"tags":["java","sql-server","spring","spring-data-jpa","triggers"],"comments":[{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1680196381,"post_id":75891141,"comment_id":133861229,"body_markdown":"There is no pseudo table `updated`, so if you aren&#39;t getting an error from referencing a table called `updated` that means it&#39;s referencing a *literal* table, probably `dbo.updated`. I doubt that is desired behaviour.","body":"There is no pseudo table <code>updated</code>, so if you aren&#39;t getting an error from referencing a table called <code>updated</code> that means it&#39;s referencing a <i>literal</i> table, probably <code>dbo.updated</code>. I doubt that is desired behaviour."},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1680196459,"post_id":75891141,"comment_id":133861245,"body_markdown":"On a different note, returning a result set from a `TRIGGER` is deprecated and should not be done. If you need to return a result set while performing a DML operation, use an `OUTPUT` clause on DML statement.","body":"On a different note, returning a result set from a <code>TRIGGER</code> is deprecated and should not be done. If you need to return a result set while performing a DML operation, use an <code>OUTPUT</code> clause on DML statement."},{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1680196644,"post_id":75891141,"comment_id":133861298,"body_markdown":"The code base itself is ancient. So the database, well you can guess.  Nothing I can really do about the database. \n\nAnd about the trigger, I just add the updated part. If you remove it and keep the inserted part only =&gt; you will still face the same problem","body":"The code base itself is ancient. So the database, well you can guess.  Nothing I can really do about the database.   And about the trigger, I just add the updated part. If you remove it and keep the inserted part only =&gt; you will still face the same problem"},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1680196728,"post_id":75891141,"comment_id":133861321,"body_markdown":"Because you&#39;re still returning a result set in the trigger; don&#39;t. Switch to an `OUTPUT` clause.","body":"Because you&#39;re still returning a result set in the trigger; don&#39;t. Switch to an <code>OUTPUT</code> clause."},{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1680196820,"post_id":75891141,"comment_id":133861341,"body_markdown":"I just made a prototype of the code base I&#39;m talking about. I don&#39;t even have the authority to view the trigger man. That&#39;s why I&#39;m asking for help. Blaming me won&#39;t help","body":"I just made a prototype of the code base I&#39;m talking about. I don&#39;t even have the authority to view the trigger man. That&#39;s why I&#39;m asking for help. Blaming me won&#39;t help"},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1680196895,"post_id":75891141,"comment_id":133861362,"body_markdown":"I&#39;m not &quot;blaming&quot; anyone; I&#39;m telling you about a problem in your SQL and the solution to fix that problem.","body":"I&#39;m not &quot;blaming&quot; anyone; I&#39;m telling you about a problem in your SQL and the solution to fix that problem."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680197540,"post_id":75891141,"comment_id":133861504,"body_markdown":"Is spring jdbctemplate an option for you to use instead of JPA/entitymanager? That way you are permitted to manage the transaction.","body":"Is spring jdbctemplate an option for you to use instead of JPA/entitymanager? That way you are permitted to manage the transaction."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1680212729,"post_id":75891141,"comment_id":133864819,"body_markdown":"Nobody&#39;s blaming you here, they&#39;re just pointing out that the database design is flawed and needs to be fixed. Triggers emitting results sets like this is non-standard behaviour and causes problems with applications and ORMs that aren&#39;t expecting them - which is why JPA is complaining about result sets getting returned from an `update` statement in the first place. You need to speak with the people responsible and convince them to fix their breakage. Otherwise you&#39;re going to have to write a bunch of custom code to avoid the issue, which invalidates the usefulness of JPA or any other ORM.","body":"Nobody&#39;s blaming you here, they&#39;re just pointing out that the database design is flawed and needs to be fixed. Triggers emitting results sets like this is non-standard behaviour and causes problems with applications and ORMs that aren&#39;t expecting them - which is why JPA is complaining about result sets getting returned from an <code>update</code> statement in the first place. You need to speak with the people responsible and convince them to fix their breakage. Otherwise you&#39;re going to have to write a bunch of custom code to avoid the issue, which invalidates the usefulness of JPA or any other ORM."}],"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680197015,"creation_date":1680196223,"question_id":75891141,"body_markdown":"I am having a problem regarding the SQL trigger. I&#39;m using Spring Boot, Spring Data Jpa and SQL Server. The code below is probably a prototype of the code base I&#39;m working with because I don&#39;t even have the authority to view the trigger.\r\n\r\nTable\r\n```\r\nCREATE TABLE french.dbo.jhi_user (\r\n\tid bigint NOT NULL,\r\n\tname varchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,\r\n\tCONSTRAINT PK__jhi_user__3213E83F70EE20E8 PRIMARY KEY (id)\r\n);\r\n```\r\n\r\nTrigger (just pretend I have deleted in here also)\r\n```\r\nCREATE TRIGGER tr_jhi_user\r\nON jhi_user\r\nAFTER INSERT, UPDATE\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    IF EXISTS(SELECT * FROM inserted)\r\n    BEGIN\r\n        SELECT &#39;inserted&#39; AS action, inserted.*\r\n        FROM inserted\r\n    END;\r\n\r\n    IF EXISTS(SELECT * FROM updated)\r\n    BEGIN\r\n        SELECT &#39;updated&#39; AS action, updated.*\r\n        FROM updated\r\n    END;\r\nEND;\r\n```\r\n\r\n1. Whenever I use a method from Repository (**save**, **delete**) but using **get() is fine** =&gt; an error showed up: **com.microsoft.sqlserver.jdbc.SQLServerException: A result set was generated for update** \r\n2. The same thing happens when I tried to use persist() from EntityManager the same error happened\r\n\r\n2.1. if I use the Entity Manager to get the current transaction without @Transactional (Because I suspect it might be a transaction problem) \r\n```\r\nentityManager.getTransaction().begin();\r\nentityManager.persist(userMapper.toEntity(userDTO));\r\nentityManager.getTransaction().commit();\r\nentityManager.close();\r\n```\r\nthen I have this error: java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead\r\n\r\n3. If I use any Native Query =&gt; it&#39;s fine but the thing is I don&#39;t want to fill 40+ attributes manually...\r\n\r\n4. If I get the entity and edit it (managed entity after editing the changes will be persisted to the database) =&gt; Nothing happens. No error whatsoever but the entity remains unchanged\r\n\r\n**QUESTION**: How can I use repository method or EntityManager persist() if my entity has a trigger like this without modifying/turn the trigger on off or using Native Query.","title":"Insert/Update/Delete an entity in a table using repository method or Entity Manager has trigger return the modified value","body":"<p>I am having a problem regarding the SQL trigger. I'm using Spring Boot, Spring Data Jpa and SQL Server. The code below is probably a prototype of the code base I'm working with because I don't even have the authority to view the trigger.</p>\n<p>Table</p>\n<pre><code>CREATE TABLE french.dbo.jhi_user (\n    id bigint NOT NULL,\n    name varchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,\n    CONSTRAINT PK__jhi_user__3213E83F70EE20E8 PRIMARY KEY (id)\n);\n</code></pre>\n<p>Trigger (just pretend I have deleted in here also)</p>\n<pre><code>CREATE TRIGGER tr_jhi_user\nON jhi_user\nAFTER INSERT, UPDATE\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    IF EXISTS(SELECT * FROM inserted)\n    BEGIN\n        SELECT 'inserted' AS action, inserted.*\n        FROM inserted\n    END;\n\n    IF EXISTS(SELECT * FROM updated)\n    BEGIN\n        SELECT 'updated' AS action, updated.*\n        FROM updated\n    END;\nEND;\n</code></pre>\n<ol>\n<li>Whenever I use a method from Repository (<strong>save</strong>, <strong>delete</strong>) but using <strong>get() is fine</strong> =&gt; an error showed up: <strong>com.microsoft.sqlserver.jdbc.SQLServerException: A result set was generated for update</strong></li>\n<li>The same thing happens when I tried to use persist() from EntityManager the same error happened</li>\n</ol>\n<p>2.1. if I use the Entity Manager to get the current transaction without @Transactional (Because I suspect it might be a transaction problem)</p>\n<pre><code>entityManager.getTransaction().begin();\nentityManager.persist(userMapper.toEntity(userDTO));\nentityManager.getTransaction().commit();\nentityManager.close();\n</code></pre>\n<p>then I have this error: java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead</p>\n<ol start=\"3\">\n<li><p>If I use any Native Query =&gt; it's fine but the thing is I don't want to fill 40+ attributes manually...</p>\n</li>\n<li><p>If I get the entity and edit it (managed entity after editing the changes will be persisted to the database) =&gt; Nothing happens. No error whatsoever but the entity remains unchanged</p>\n</li>\n</ol>\n<p><strong>QUESTION</strong>: How can I use repository method or EntityManager persist() if my entity has a trigger like this without modifying/turn the trigger on off or using Native Query.</p>\n"},{"tags":["java","liquibase"],"comments":[{"owner":{"account_id":19780941,"reputation":289,"user_id":14485982,"display_name":"Barry"},"score":0,"creation_date":1680193712,"post_id":75890666,"comment_id":133860558,"body_markdown":"Have you tried running `liquibase update` to run the changeset ?","body":"Have you tried running <code>liquibase update</code> to run the changeset ?"},{"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"score":0,"creation_date":1680195737,"post_id":75890666,"comment_id":133861056,"body_markdown":"I just tried it and posted the result","body":"I just tried it and posted the result"},{"owner":{"account_id":19780941,"reputation":289,"user_id":14485982,"display_name":"Barry"},"score":0,"creation_date":1680196129,"post_id":75890666,"comment_id":133861154,"body_markdown":"Yeah the error you posted tells that liquibase is not installed in your system. Follow this link to see the installation process https://docs.liquibase.com/start/install/liquibase-windows.html. Another possiblity is that liquibase is installed on your system but the binary path is not added to your path environment variable","body":"Yeah the error you posted tells that liquibase is not installed in your system. Follow this link to see the installation process <a href=\"https://docs.liquibase.com/start/install/liquibase-windows.html\" rel=\"nofollow noreferrer\">docs.liquibase.com/start/install/liquibase-windows.html</a>. Another possiblity is that liquibase is installed on your system but the binary path is not added to your path environment variable"},{"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"score":0,"creation_date":1680196836,"post_id":75890666,"comment_id":133861346,"body_markdown":"I install liquibase and change result","body":"I install liquibase and change result"},{"owner":{"account_id":19780941,"reputation":289,"user_id":14485982,"display_name":"Barry"},"score":0,"creation_date":1680197263,"post_id":75890666,"comment_id":133861445,"body_markdown":"Yeah you need to precise path to the changelog file using the --changelog-file param. Specially given that the project wasn&#39;t initialized. So you would run something like `liquibase update --changelog-file /path/to/your/changelog/file`","body":"Yeah you need to precise path to the changelog file using the --changelog-file param. Specially given that the project wasn&#39;t initialized. So you would run something like <code>liquibase update --changelog-file &#47;path&#47;to&#47;your&#47;changelog&#47;file</code>"},{"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"score":0,"creation_date":1680198436,"post_id":75890666,"comment_id":133861701,"body_markdown":"when i use this command this error appears:\nInvalid argument &#39;--url&#39;:","body":"when i use this command this error appears: Invalid argument &#39;--url&#39;:"},{"owner":{"account_id":19780941,"reputation":289,"user_id":14485982,"display_name":"Barry"},"score":0,"creation_date":1680199000,"post_id":75890666,"comment_id":133861826,"body_markdown":"Yes i just seen the docs, and so liquibase update need more than the --changelog-file, it also need the `--url , --username, --password` arguments. So your full command would look like this `liquibase update --changelog-file /path --url connectionString --username YOUR_DB_USER_NAME --password YOUR_DB_USER_PASSWORD`. But instead of precising all thoses arguments in the terminal, you can also use a configuration file. Here is a link that explains how to setup a configuration file https://docs.liquibase.com/concepts/connections/creating-config-properties.html","body":"Yes i just seen the docs, and so liquibase update need more than the --changelog-file, it also need the <code>--url , --username, --password</code> arguments. So your full command would look like this <code>liquibase update --changelog-file &#47;path --url connectionString --username YOUR_DB_USER_NAME --password YOUR_DB_USER_PASSWORD</code>. But instead of precising all thoses arguments in the terminal, you can also use a configuration file. Here is a link that explains how to setup a configuration file <a href=\"https://docs.liquibase.com/concepts/connections/creating-config-properties.html\" rel=\"nofollow noreferrer\">docs.liquibase.com/concepts/connections/&hellip;</a>"},{"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"score":0,"creation_date":1680201086,"post_id":75890666,"comment_id":133862288,"body_markdown":"thanks for all your help, I&#39;ll check it out tomorrow as i have to go to work now","body":"thanks for all your help, I&#39;ll check it out tomorrow as i have to go to work now"},{"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"score":1,"creation_date":1680594400,"post_id":75890666,"comment_id":133920334,"body_markdown":"When I wanted to use this command I noticed that I had a small typo in the folder. And now everything works, thank you very much","body":"When I wanted to use this command I noticed that I had a small typo in the folder. And now everything works, thank you very much"}],"owner":{"account_id":28170538,"reputation":1,"user_id":21529176,"display_name":"Damian Malicki"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680196818,"creation_date":1680193052,"question_id":75890666,"body_markdown":"I wanted to create  table in the database using liquibase but he don&#39;t appear and I get an error about missing table. Can someone tell me what am I doing wrong?\r\n\r\nIn application.yml I have spring.jpa.hibernate.ddl-auto=validate\r\n\r\ncreate-activities-table.xml:\r\n\r\n```\r\n&lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n                   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                   xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd&quot;&gt;\r\n\r\n    &lt;changeSet author=&quot;Damian Malicki&quot; id=&quot;create-activities-table.xml&quot;&gt;\r\n        &lt;createTable tableName=&quot;activity&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;varchar(255)&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot; /&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;description&quot; type=&quot;varchar(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; /&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;created_by_id&quot; type=&quot;varchar(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; /&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;type&quot; type=&quot;varchar(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; /&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;created_on&quot; type=&quot;datetime&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; /&gt;\r\n            &lt;/column&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\n&lt;/databaseChangeLog&gt;\r\n```\r\n\r\ndatabase changelog:\r\n\r\n```\r\ndatabaseChangeLog:\r\n  - include:\r\n      file: classpath:db/changelog/activities/create-activities-table.xml\r\n```\r\n\r\n\r\n\r\n\r\nActivityEntity:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;activity&quot;)\r\npublic class ActivityEntity {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n    @Column(name = &quot;created_by_id&quot;)\r\n    private String createdById;\r\n    @Column(name = &quot;type&quot;)\r\n    private ActivityType type;\r\n    @Column(name = &quot;created_on&quot;)\r\n    private LocalDateTime createdOn;\r\n//    @OneToMany(mappedBy = &quot;activitiesId&quot;)\r\n//    private List&lt;ActivityParamEntity&gt; activityParamEntityList;\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI&#39;ve already tried to rewrite the code, rewrite it and nothing change.\r\n\r\nWhen I try liquibase update it appeared:\r\n\r\n```\r\n#################################################### \r\n##   _     _             _ _                      ## \r\n##  | |   (_)           (_) |                     ## \r\n##  | |    _  __ _ _   _ _| |__   __ _ ___  ___   ## \r\n##  | |   | |/ _` | | | | | &#39;_ \\ / _` / __|/ _ \\  ## \r\n##  | |___| | (_| | |_| | | |_) | (_| \\__ \\  __/  ## \r\n##  \\_____/_|\\__, |\\__,_|_|_.__/ \\__,_|___/\\___|  ## \r\n##              | |                               ## \r\n##              |_|                               ## \r\n##                                                ## \r\n##  Get documentation at docs.liquibase.com       ## \r\n##  Get certified courses at learn.liquibase.com  ##\r\n##  Free schema change activity reports at        ##\r\n##      https://hub.liquibase.com                 ##\r\n##                                                ##\r\n####################################################\r\nStarting Liquibase at 19:19:11 (version 4.19.0 #6648 built at 2023-01-17 15:02+0000)\r\nLiquibase Version: 4.19.0\r\nLiquibase Open Source 4.19.0 by Liquibase\r\nError parsing command line: Invalid argument &#39;--changelog-file&#39;: missing required argument. If you need to configure new liquibase project files and arguments, run the &#39;liquibase init \r\nproject&#39; command.\r\n\r\nFor detailed help, try &#39;liquibase --help&#39; or &#39;liquibase &lt;command-name&gt; --help&#39;\r\n\r\n\r\n```","title":"Schema-validation: missing table","body":"<p>I wanted to create  table in the database using liquibase but he don't appear and I get an error about missing table. Can someone tell me what am I doing wrong?</p>\n<p>In application.yml I have spring.jpa.hibernate.ddl-auto=validate</p>\n<p>create-activities-table.xml:</p>\n<pre><code>&lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n                   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                   xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd&quot;&gt;\n\n    &lt;changeSet author=&quot;Damian Malicki&quot; id=&quot;create-activities-table.xml&quot;&gt;\n        &lt;createTable tableName=&quot;activity&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;varchar(255)&quot;&gt;\n                &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot; /&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;description&quot; type=&quot;varchar(255)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot; /&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;created_by_id&quot; type=&quot;varchar(255)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot; /&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;type&quot; type=&quot;varchar(255)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot; /&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;created_on&quot; type=&quot;datetime&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot; /&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>database changelog:</p>\n<pre><code>databaseChangeLog:\n  - include:\n      file: classpath:db/changelog/activities/create-activities-table.xml\n</code></pre>\n<p>ActivityEntity:</p>\n<pre><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;activity&quot;)\npublic class ActivityEntity {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n    @Column(name = &quot;description&quot;)\n    private String description;\n    @Column(name = &quot;created_by_id&quot;)\n    private String createdById;\n    @Column(name = &quot;type&quot;)\n    private ActivityType type;\n    @Column(name = &quot;created_on&quot;)\n    private LocalDateTime createdOn;\n//    @OneToMany(mappedBy = &quot;activitiesId&quot;)\n//    private List&lt;ActivityParamEntity&gt; activityParamEntityList;\n\n\n}\n\n</code></pre>\n<p>I've already tried to rewrite the code, rewrite it and nothing change.</p>\n<p>When I try liquibase update it appeared:</p>\n<pre><code>#################################################### \n##   _     _             _ _                      ## \n##  | |   (_)           (_) |                     ## \n##  | |    _  __ _ _   _ _| |__   __ _ ___  ___   ## \n##  | |   | |/ _` | | | | | '_ \\ / _` / __|/ _ \\  ## \n##  | |___| | (_| | |_| | | |_) | (_| \\__ \\  __/  ## \n##  \\_____/_|\\__, |\\__,_|_|_.__/ \\__,_|___/\\___|  ## \n##              | |                               ## \n##              |_|                               ## \n##                                                ## \n##  Get documentation at docs.liquibase.com       ## \n##  Get certified courses at learn.liquibase.com  ##\n##  Free schema change activity reports at        ##\n##      https://hub.liquibase.com                 ##\n##                                                ##\n####################################################\nStarting Liquibase at 19:19:11 (version 4.19.0 #6648 built at 2023-01-17 15:02+0000)\nLiquibase Version: 4.19.0\nLiquibase Open Source 4.19.0 by Liquibase\nError parsing command line: Invalid argument '--changelog-file': missing required argument. If you need to configure new liquibase project files and arguments, run the 'liquibase init \nproject' command.\n\nFor detailed help, try 'liquibase --help' or 'liquibase &lt;command-name&gt; --help'\n\n\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1680039782,"post_id":75870933,"comment_id":133828544,"body_markdown":"It&#39;s not like GMail knows how to decrypt your BCrypted password, y&#39;know.  What are you interested in guarding against?  Were you going to commit this configuration into source control and you wouldn&#39;t want your password exposed?","body":"It&#39;s not like GMail knows how to decrypt your BCrypted password, y&#39;know.  What are you interested in guarding against?  Were you going to commit this configuration into source control and you wouldn&#39;t want your password exposed?"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1680040067,"post_id":75870933,"comment_id":133828601,"body_markdown":"...because GMail does not know how to decrypt that. You cannot just come up with a custom way of sending data unless the counterparty is ready to receive it. There&#39;s no way to send your password specially encrypted in any way. Rather, GMail requires the whole connection to be done over TLS which means it will securely encrypt all data going to Google, including your password. Therefore you do not really need to encrypt it yourself. See e.g. https://security.stackexchange.com/a/240763 and https://security.stackexchange.com/a/146527.","body":"...because GMail does not know how to decrypt that. You cannot just come up with a custom way of sending data unless the counterparty is ready to receive it. There&#39;s no way to send your password specially encrypted in any way. Rather, GMail requires the whole connection to be done over TLS which means it will securely encrypt all data going to Google, including your password. Therefore you do not really need to encrypt it yourself. See e.g. <a href=\"https://security.stackexchange.com/a/240763\">security.stackexchange.com/a/240763</a> and <a href=\"https://security.stackexchange.com/a/146527\">security.stackexchange.com/a/146527</a>."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1680041657,"post_id":75870933,"comment_id":133828860,"body_markdown":"@Makoto yes, my repository is public and I don&#39;t want anyone to see my password.","body":"@Makoto yes, my repository is public and I don&#39;t want anyone to see my password."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1680041729,"post_id":75870933,"comment_id":133828875,"body_markdown":"@PetrJaneček but if my password is plain, everyone will be able to see it. Isn&#39;t there a way to protect that password?","body":"@PetrJaneček but if my password is plain, everyone will be able to see it. Isn&#39;t there a way to protect that password?"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1680042377,"post_id":75870933,"comment_id":133828958,"body_markdown":"No, the connection to the Google server will be encrypted with TLS, meaning all data going to the server and coming from the server are encrypted. Nobody will be able to see your password except for you and the SMTP server.","body":"No, the connection to the Google server will be encrypted with TLS, meaning all data going to the server and coming from the server are encrypted. Nobody will be able to see your password except for you and the SMTP server."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1680043262,"post_id":75870933,"comment_id":133829103,"body_markdown":"1.) as others have explained, this doesn&#39;t work. 2.) if, theoretically, it *did* work, then the encrypted password could be used to authenticate as you, so anyone who saw it wouldn&#39;t need to decrypt it, but could use it as-is, i.e. you wouldn&#39;t have gained anything anyway! The moral of the story is: you can not have private knowledge that your code needs to use but the person running the code can&#39;t see, that&#39;s just not feasible.","body":"1.) as others have explained, this doesn&#39;t work. 2.) if, theoretically, it <i>did</i> work, then the encrypted password could be used to authenticate as you, so anyone who saw it wouldn&#39;t need to decrypt it, but could use it as-is, i.e. you wouldn&#39;t have gained anything anyway! The moral of the story is: you can not have private knowledge that your code needs to use but the person running the code can&#39;t see, that&#39;s just not feasible."}],"answers":[{"comments":[{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1680041850,"post_id":75871365,"comment_id":133828895,"body_markdown":"Will Gmail decrypt it, if I use Jasypt?","body":"Will Gmail decrypt it, if I use Jasypt?"},{"owner":{"account_id":25618515,"reputation":11,"user_id":19590809,"display_name":"Meruem"},"score":0,"creation_date":1680041947,"post_id":75871365,"comment_id":133828907,"body_markdown":"If you configure Jasypt correctly your secrets will be automatically decrypted on startup.I advise you to look through either the documentation or guides on using Jasypt, there are also analogues of Jasypt","body":"If you configure Jasypt correctly your secrets will be automatically decrypted on startup.I advise you to look through either the documentation or guides on using Jasypt, there are also analogues of Jasypt"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1680042441,"post_id":75871365,"comment_id":133828970,"body_markdown":"The OP is asking for a way to _send_ the password securely. What you&#39;re suggesting is how to _store_ it sort-of securely locally for the application to load it at run-time. Those are two separate things.","body":"The OP is asking for a way to <i>send</i> the password securely. What you&#39;re suggesting is how to <i>store</i> it sort-of securely locally for the application to load it at run-time. Those are two separate things."},{"owner":{"account_id":25618515,"reputation":11,"user_id":19590809,"display_name":"Meruem"},"score":1,"creation_date":1680042653,"post_id":75871365,"comment_id":133829004,"body_markdown":"That&#39;s right, these are two different things. In the example question, why is Bcrypt used to encrypt the properies of the file, my answer was aimed at giving a correct understanding of what to use.The question, like the error itself, is related to the fact that in the property file the specified password is sent in encrypted form and therefore an error occurs.","body":"That&#39;s right, these are two different things. In the example question, why is Bcrypt used to encrypt the properies of the file, my answer was aimed at giving a correct understanding of what to use.The question, like the error itself, is related to the fact that in the property file the specified password is sent in encrypted form and therefore an error occurs."}],"tags":[],"owner":{"account_id":25618515,"reputation":11,"user_id":19590809,"display_name":"Meruem"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680041847,"creation_date":1680040274,"answer_id":75871365,"question_id":75870933,"body_markdown":"In your case, you just sent an encrypted string in the form of a password.\r\nThe password in spring.mail.password is used as plain text\r\n\r\nIn this case, if you want to encrypt passwords in your spring boot application, you need to use, for example, the Jasypt. [Jasypt example][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-jasypt\r\n\r\n\r\nwith Jasypt you can store your secrets (passwords) in encrypted form, and you can set the decryption key to an environment variable as an example","title":"E-Mail cannot be sent when using an encrypted password","body":"<p>In your case, you just sent an encrypted string in the form of a password.\nThe password in spring.mail.password is used as plain text</p>\n<p>In this case, if you want to encrypt passwords in your spring boot application, you need to use, for example, the Jasypt. <a href=\"https://www.baeldung.com/spring-boot-jasypt\" rel=\"nofollow noreferrer\">Jasypt example</a>.</p>\n<p>with Jasypt you can store your secrets (passwords) in encrypted form, and you can set the decryption key to an environment variable as an example</p>\n"},{"comments":[{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1680044571,"post_id":75871628,"comment_id":133829242,"body_markdown":"Thanks, that&#39;s a good approach! But my problem is that I need that password all the time, and when I commit and push my source and accidentally don&#39;t omit the password, it could be too late. So I think, a better way could be using another yml file that is on .gitignore. That file contains the password only and gets imported into application.yml.","body":"Thanks, that&#39;s a good approach! But my problem is that I need that password all the time, and when I commit and push my source and accidentally don&#39;t omit the password, it could be too late. So I think, a better way could be using another yml file that is on .gitignore. That file contains the password only and gets imported into application.yml."},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":1,"creation_date":1680047605,"post_id":75871628,"comment_id":133829599,"body_markdown":"@xRay, no need for another yml file. If you are not worried about storing the plain text password, there are plenty plenty of ways to externalise Spring configuration (https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config). The easiest is probably OS Environment Variables (e.g., `SPRING_MAIL_PASSWORD`).","body":"@xRay, no need for another yml file. If you are not worried about storing the plain text password, there are plenty plenty of ways to externalise Spring configuration (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>). The easiest is probably OS Environment Variables (e.g., <code>SPRING_MAIL_PASSWORD</code>)."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1680131131,"post_id":75871628,"comment_id":133847743,"body_markdown":"@xRay:  I&#39;ve included a few extra locations that Spring looks for this kind of info.  Yes, it might mean another properties file floating around somewhere.  But, that&#39;s preferable to the alternative.","body":"@xRay:  I&#39;ve included a few extra locations that Spring looks for this kind of info.  Yes, it might mean another properties file floating around somewhere.  But, that&#39;s preferable to the alternative."}],"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680131092,"creation_date":1680042984,"answer_id":75871628,"question_id":75870933,"body_markdown":"Don&#39;t put your password into your source control.\r\n\r\nExplicitly leave the property blank, or omit it entirely, and leave some documentation floating around specifying that - as a runtime parameter - the password needs to be specified.\r\n\r\nYou can do so pretty easily in Spring, passing it as a parameter.\r\n\r\n```\r\njava -jar your-app.jar --spring.mail.password=xxx\r\n```\r\n\r\nDepending on your needs in local development, [Spring Boot offers an array of options](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config) on where you can place your configuration and what precedence it can have, if you want to keep it out of source control.  I do personally prefer the parameters, but you could also set environment variables and they&#39;d work the same.  Or, you could [go the DevTools route](https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.globalsettings) as well.\r\n\r\nEncrypting it here buys you nothing since you&#39;ll have to decrypt it on its way to GMail, and to decrypt it, you have to know what secret you used to decrypt it, which - if you just left embedded in your code would quickly [turn into turtles all the way down](https://en.wikipedia.org/wiki/Turtles_all_the_way_down) since you&#39;d have to secure every key except the last one, and then you can just work backwards to get them all, anyway.","title":"E-Mail cannot be sent when using an encrypted password","body":"<p>Don't put your password into your source control.</p>\n<p>Explicitly leave the property blank, or omit it entirely, and leave some documentation floating around specifying that - as a runtime parameter - the password needs to be specified.</p>\n<p>You can do so pretty easily in Spring, passing it as a parameter.</p>\n<pre><code>java -jar your-app.jar --spring.mail.password=xxx\n</code></pre>\n<p>Depending on your needs in local development, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">Spring Boot offers an array of options</a> on where you can place your configuration and what precedence it can have, if you want to keep it out of source control.  I do personally prefer the parameters, but you could also set environment variables and they'd work the same.  Or, you could <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.globalsettings\" rel=\"nofollow noreferrer\">go the DevTools route</a> as well.</p>\n<p>Encrypting it here buys you nothing since you'll have to decrypt it on its way to GMail, and to decrypt it, you have to know what secret you used to decrypt it, which - if you just left embedded in your code would quickly <a href=\"https://en.wikipedia.org/wiki/Turtles_all_the_way_down\" rel=\"nofollow noreferrer\">turn into turtles all the way down</a> since you'd have to secure every key except the last one, and then you can just work backwards to get them all, anyway.</p>\n"},{"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1680044205,"post_id":75871711,"comment_id":133829219,"body_markdown":"In the abstract, using Vault would still require you to pass in the necessary token or AppRole, and depending on where you&#39;re deploying it&#39;s kinda six of one and half-a-dozen of the other...","body":"In the abstract, using Vault would still require you to pass in the necessary token or AppRole, and depending on where you&#39;re deploying it&#39;s kinda six of one and half-a-dozen of the other..."},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1680045363,"post_id":75871711,"comment_id":133829340,"body_markdown":"@Makoto, at some point there will be a token somewhere, you are correct. Nevertheless, sharing a token (that can be specific for a certain machine, short lived, easily rotated, and secured by strong RBAC / ABAC rules) is still a good idea.\nWhile I support your answer (and have upvoted it), truth be told, it generally doesn&#39;t take a lot of effort for someone to find a decrypted secret in the command line history, environment variables or K8&#39;s mounted volumes. Assuming that I&#39;m running the software, I certainly rather deal with a leaked token rather than leaked SMTP credentials.","body":"@Makoto, at some point there will be a token somewhere, you are correct. Nevertheless, sharing a token (that can be specific for a certain machine, short lived, easily rotated, and secured by strong RBAC / ABAC rules) is still a good idea. While I support your answer (and have upvoted it), truth be told, it generally doesn&#39;t take a lot of effort for someone to find a decrypted secret in the command line history, environment variables or K8&#39;s mounted volumes. Assuming that I&#39;m running the software, I certainly rather deal with a leaked token rather than leaked SMTP credentials."}],"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680196474,"creation_date":1680043904,"answer_id":75871711,"question_id":75870933,"body_markdown":"## bcrypt is a hashing function\r\n\r\nbcrypt is a secure password-hashing function, not an encryption function.\r\nThe difference between hashing and encryption is that hashing is destructive, meaning that you aren&#39;t supposed to be able to &quot;decrypt&quot; the original password from a hash.\r\n\r\nAs such, there&#39;s nothing that Spring Boot can do with the password&#39;s hash. It&#39;s just treating it as a plain text password. In fact, if you change your account&#39;s password to `{bcrypt}$2a$10$FXSkpQloaZILb7ixYTD2P./yutuASulNhEQ1UVEodX7Ao0oGgcaFG` everything should work. Of course that this is doing absolutely nothing for security.\r\n\r\n## Encrypted properties\r\n\r\nIf you want to store &quot;opaque&quot; but usable properties in your application you need encryption, not hashing.\r\n\r\nA common solution to encrypt properties is Spring Boot is [Jasypt](http://www.jasypt.org/). Although storing encrypted properties with the application code isn&#39;t really a good secure practice (see [Makoto&#39;s Answer](https://stackoverflow.com/a/75871628/664577) for more details on why this isn&#39;t a good idea).\r\n\r\nNevertheless, you can find documentation on how to integrate Jasypt and Spring Boot in the [jasypt-spring-boot](https://github.com/ulisesbocchio/jasypt-spring-boot) project. With Jasypt you can encrypt values using a password (that you should then keep safe at all costs) and let the framework handle everything for you.\r\n\r\nAssuming that you are using Maven to build the system, you can get started by adding the following dependency to the project&#39;s `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd then you can encrypt properties with Jasypt Maven Plugin:\r\n\r\n    mvn jasypt:encrypt-value -Djasypt.encryptor.password=&quot;the password that you should keep safe&quot; -Djasypt.plugin.value=&quot;theValueYouWantToEncrypt&quot;\r\n\r\nAdd the encrypted property to your application properties:\r\n\r\n    secret.property=ENC(nrmZtkF7T0kjG/VodDvBw93Ct8EgjCA+)\r\n\r\nThe property will be transparently decrypted and made available to your application in plain text.\r\n\r\n## Better idea #1: Use a vault to manage secrets\r\n \r\nFrom a security perspective I would recommend a different strategy. A vault (such as [Spring Cloud Vault](https://cloud.spring.io/spring-cloud-vault/reference/html/) and [HashiCorp Vault](https://www.vaultproject.io/)) is a good way to store secrets such as SMTP credentials. A vault is much safer and easier to manage than manually encrypting properties / manually inputing security keys around. You can find a guide on how to configure Spring Boot to read properties from a Vault in Spring Boot&#39;s [vault Configuration guide](https://spring.io/guides/gs/vault-config/).\r\n\r\nYou can even abstract secret management away from your application. E.g., if you are using a tool such as [Kubernetes](https://kubernetes.io/) you can delegate secret management to it.\r\n\r\n## Better Idea #2: The application shouldn&#39;t be directly aware of SMTP.\r\n\r\nAn even better idea is to never share SMTP credentials with the application to begin with. There are tons of great e-mail delivery services with modern APIs to properly send emails. Managed services can make your life much easier as a developer. There&#39;s way more to emails than meets the eye, and I would personally avoid the hassle if possible. Have a look at services such as [Amazon SES](https://aws.amazon.com/ses/), [MailGun](https://www.mailgun.com/) and [SendGrid](https://sendgrid.com/).\r\n\r\n**In short**\r\n\r\n* bcrypt is a hash function, not an encryption function\r\n* You can encrypt your application properties but you probably shouldn&#39;t\r\n* Secrets should be stored somewhere safe, such as a vault\r\n* There are ways to abstract secret management from the application. As a rule of thumb, the less that your application has to know about secrets the better. \r\n* Speaking about abstracting complexity away from your application, your application may be better off not knowing anything about SMTP to begin with.\r\n\r\n\r\n","title":"E-Mail cannot be sent when using an encrypted password","body":"<h2>bcrypt is a hashing function</h2>\n<p>bcrypt is a secure password-hashing function, not an encryption function.\nThe difference between hashing and encryption is that hashing is destructive, meaning that you aren't supposed to be able to &quot;decrypt&quot; the original password from a hash.</p>\n<p>As such, there's nothing that Spring Boot can do with the password's hash. It's just treating it as a plain text password. In fact, if you change your account's password to <code>{bcrypt}$2a$10$FXSkpQloaZILb7ixYTD2P./yutuASulNhEQ1UVEodX7Ao0oGgcaFG</code> everything should work. Of course that this is doing absolutely nothing for security.</p>\n<h2>Encrypted properties</h2>\n<p>If you want to store &quot;opaque&quot; but usable properties in your application you need encryption, not hashing.</p>\n<p>A common solution to encrypt properties is Spring Boot is <a href=\"http://www.jasypt.org/\" rel=\"nofollow noreferrer\">Jasypt</a>. Although storing encrypted properties with the application code isn't really a good secure practice (see <a href=\"https://stackoverflow.com/a/75871628/664577\">Makoto's Answer</a> for more details on why this isn't a good idea).</p>\n<p>Nevertheless, you can find documentation on how to integrate Jasypt and Spring Boot in the <a href=\"https://github.com/ulisesbocchio/jasypt-spring-boot\" rel=\"nofollow noreferrer\">jasypt-spring-boot</a> project. With Jasypt you can encrypt values using a password (that you should then keep safe at all costs) and let the framework handle everything for you.</p>\n<p>Assuming that you are using Maven to build the system, you can get started by adding the following dependency to the project's <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n        &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then you can encrypt properties with Jasypt Maven Plugin:</p>\n<pre><code>mvn jasypt:encrypt-value -Djasypt.encryptor.password=&quot;the password that you should keep safe&quot; -Djasypt.plugin.value=&quot;theValueYouWantToEncrypt&quot;\n</code></pre>\n<p>Add the encrypted property to your application properties:</p>\n<pre><code>secret.property=ENC(nrmZtkF7T0kjG/VodDvBw93Ct8EgjCA+)\n</code></pre>\n<p>The property will be transparently decrypted and made available to your application in plain text.</p>\n<h2>Better idea #1: Use a vault to manage secrets</h2>\n<p>From a security perspective I would recommend a different strategy. A vault (such as <a href=\"https://cloud.spring.io/spring-cloud-vault/reference/html/\" rel=\"nofollow noreferrer\">Spring Cloud Vault</a> and <a href=\"https://www.vaultproject.io/\" rel=\"nofollow noreferrer\">HashiCorp Vault</a>) is a good way to store secrets such as SMTP credentials. A vault is much safer and easier to manage than manually encrypting properties / manually inputing security keys around. You can find a guide on how to configure Spring Boot to read properties from a Vault in Spring Boot's <a href=\"https://spring.io/guides/gs/vault-config/\" rel=\"nofollow noreferrer\">vault Configuration guide</a>.</p>\n<p>You can even abstract secret management away from your application. E.g., if you are using a tool such as <a href=\"https://kubernetes.io/\" rel=\"nofollow noreferrer\">Kubernetes</a> you can delegate secret management to it.</p>\n<h2>Better Idea #2: The application shouldn't be directly aware of SMTP.</h2>\n<p>An even better idea is to never share SMTP credentials with the application to begin with. There are tons of great e-mail delivery services with modern APIs to properly send emails. Managed services can make your life much easier as a developer. There's way more to emails than meets the eye, and I would personally avoid the hassle if possible. Have a look at services such as <a href=\"https://aws.amazon.com/ses/\" rel=\"nofollow noreferrer\">Amazon SES</a>, <a href=\"https://www.mailgun.com/\" rel=\"nofollow noreferrer\">MailGun</a> and <a href=\"https://sendgrid.com/\" rel=\"nofollow noreferrer\">SendGrid</a>.</p>\n<p><strong>In short</strong></p>\n<ul>\n<li>bcrypt is a hash function, not an encryption function</li>\n<li>You can encrypt your application properties but you probably shouldn't</li>\n<li>Secrets should be stored somewhere safe, such as a vault</li>\n<li>There are ways to abstract secret management from the application. As a rule of thumb, the less that your application has to know about secrets the better.</li>\n<li>Speaking about abstracting complexity away from your application, your application may be better off not knowing anything about SMTP to begin with.</li>\n</ul>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75871711,"answer_count":3,"score":0,"last_activity_date":1680196474,"creation_date":1680036462,"question_id":75870933,"body_markdown":"I would like to encrypt my password by `BCryptPasswordEncoder`.\r\n\r\n```java\r\n@Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        var pw = new BCryptPasswordEncoder();\r\n        System.out.println(pw.encode(&quot;my-password&quot;));\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n```\r\n\r\nWhen I run my application, the code above prints out the encoded password. So I stop my application, copy that string and paste it into application.yml, which looks like this:\r\n\r\n```yaml\r\nspring:\r\n  mail:\r\n    host: smtp.gmail.com\r\n    port: 587\r\n    username: my-email@gmail.com\r\n    password: &quot;{bcrypt}$2a$10$FXSkpQloaZILb7ixYTD2P./yutuASulNhEQ1UVEodX7Ao0oGgcaFG&quot;\r\n    properties:\r\n      mail:\r\n        smtp:\r\n          starttls:\r\n            enable: true\r\n          auth: true\r\n```\r\n\r\nThen I run my application again, but then I get this error:\r\n\r\n&gt; jakarta.mail.AuthenticationFailedException: 535-5.7.8 Username and\r\n&gt; Password not accepted.\r\n\r\nIf the password is plain text only, it works fine. Why not when it&#39;s encrypted?","title":"E-Mail cannot be sent when using an encrypted password","body":"<p>I would like to encrypt my password by <code>BCryptPasswordEncoder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public PasswordEncoder passwordEncoder() {\n        var pw = new BCryptPasswordEncoder();\n        System.out.println(pw.encode(&quot;my-password&quot;));\n        return new BCryptPasswordEncoder();\n    }\n</code></pre>\n<p>When I run my application, the code above prints out the encoded password. So I stop my application, copy that string and paste it into application.yml, which looks like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: my-email@gmail.com\n    password: &quot;{bcrypt}$2a$10$FXSkpQloaZILb7ixYTD2P./yutuASulNhEQ1UVEodX7Ao0oGgcaFG&quot;\n    properties:\n      mail:\n        smtp:\n          starttls:\n            enable: true\n          auth: true\n</code></pre>\n<p>Then I run my application again, but then I get this error:</p>\n<blockquote>\n<p>jakarta.mail.AuthenticationFailedException: 535-5.7.8 Username and\nPassword not accepted.</p>\n</blockquote>\n<p>If the password is plain text only, it works fine. Why not when it's encrypted?</p>\n"},{"tags":["java","object","oop"],"comments":[{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1680196039,"post_id":75891066,"comment_id":133861127,"body_markdown":"The error message tells you the issue is in `MowerWareHouse` class but you didn&#39;t provide that. Also, you should post the actual code here, not screenshots which cannot be run/copied/pasted/etc..","body":"The error message tells you the issue is in <code>MowerWareHouse</code> class but you didn&#39;t provide that. Also, you should post the actual code here, not screenshots which cannot be run/copied/pasted/etc.."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1680196045,"post_id":75891066,"comment_id":133861131,"body_markdown":"Do not post pictures of code. nobody can run that. Edit the question and post as text as a [mcve].  Take the [tour] and read [ask]","body":"Do not post pictures of code. nobody can run that. Edit the question and post as text as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"comments":[{"owner":{"account_id":26897097,"reputation":1,"user_id":20474830,"display_name":"John Geter"},"score":0,"creation_date":1680200163,"post_id":75891116,"comment_id":133862079,"body_markdown":"Sorry, this is my first question lol. Thank you this was my problem.","body":"Sorry, this is my first question lol. Thank you this was my problem."}],"tags":[],"owner":{"account_id":26168353,"reputation":567,"user_id":19853802,"display_name":"zmehall"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680196136,"creation_date":1680196136,"answer_id":75891116,"question_id":75891066,"body_markdown":"For future reference, it&#39;s a lot easier for people to help if you copy/paste your code instead of sending screenshots.\r\n\r\nAnyways, it looks like your `mowers` object in `MowerWareHouse` is null; I&#39;m assuming you never instantiated it.\r\n\r\nYou need to assign the `mowers` object to a value before you can use it.\r\n\r\n```\r\n// constructor for MowerWareHouse\r\npublic MowerWareHouse() {\r\n  this.mowers = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nAgain, this is just an assumption, I&#39;d recommend replacing your screenshots with actual code.","title":"Object Is Null When Trying to Add to ArrayList","body":"<p>For future reference, it's a lot easier for people to help if you copy/paste your code instead of sending screenshots.</p>\n<p>Anyways, it looks like your <code>mowers</code> object in <code>MowerWareHouse</code> is null; I'm assuming you never instantiated it.</p>\n<p>You need to assign the <code>mowers</code> object to a value before you can use it.</p>\n<pre><code>// constructor for MowerWareHouse\npublic MowerWareHouse() {\n  this.mowers = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Again, this is just an assumption, I'd recommend replacing your screenshots with actual code.</p>\n"}],"owner":{"account_id":26897097,"reputation":1,"user_id":20474830,"display_name":"John Geter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1680196152,"accepted_answer_id":75891116,"answer_count":1,"score":-4,"last_activity_date":1680196136,"creation_date":1680195786,"question_id":75891066,"body_markdown":"I am creating a program to store different types of lawnmowers in an ArrayList. There are 4 types of mowers that all inherit from Mower. I am new to oop. Why do I get this error when I try to add a mower to my ArrayList?\r\n\r\n[Method to read mower data from a file path](https://i.stack.imgur.com/GhQCX.png)\r\n\r\n[Mower class](https://i.stack.imgur.com/Gzs78.png)\r\n\r\n[Method to add Mower to arrayList](https://i.stack.imgur.com/ewDer.png)\r\n\r\n[Main class](https://i.stack.imgur.com/EwwxM.png)\r\n\r\n[Output with error](https://i.stack.imgur.com/jdHPv.png)\r\n\r\nI tried different syntax for initializing LawnTractor but i kept getting the same result.","title":"Object Is Null When Trying to Add to ArrayList","body":"<p>I am creating a program to store different types of lawnmowers in an ArrayList. There are 4 types of mowers that all inherit from Mower. I am new to oop. Why do I get this error when I try to add a mower to my ArrayList?</p>\n<p><a href=\"https://i.stack.imgur.com/GhQCX.png\" rel=\"nofollow noreferrer\">Method to read mower data from a file path</a></p>\n<p><a href=\"https://i.stack.imgur.com/Gzs78.png\" rel=\"nofollow noreferrer\">Mower class</a></p>\n<p><a href=\"https://i.stack.imgur.com/ewDer.png\" rel=\"nofollow noreferrer\">Method to add Mower to arrayList</a></p>\n<p><a href=\"https://i.stack.imgur.com/EwwxM.png\" rel=\"nofollow noreferrer\">Main class</a></p>\n<p><a href=\"https://i.stack.imgur.com/jdHPv.png\" rel=\"nofollow noreferrer\">Output with error</a></p>\n<p>I tried different syntax for initializing LawnTractor but i kept getting the same result.</p>\n"},{"tags":["java","tomcat","logging","tomcat9","java.util.logging"],"comments":[{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1680195480,"post_id":75789552,"comment_id":133861007,"body_markdown":"Does your application have a custom `logging.properties` file that is separate from the one found in `lib/logging.properties`?","body":"Does your application have a custom <code>logging.properties</code> file that is separate from the one found in <code>lib&#47;logging.properties</code>?"}],"answers":[{"tags":[],"owner":{"account_id":10190067,"reputation":1,"user_id":7523797,"display_name":"Kevin Smith"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680195355,"creation_date":1679314498,"answer_id":75790149,"question_id":75789552,"body_markdown":"You could custom the log format through the configure file\r\nthere should be a default file **log4j.properties** in path **$CATALINA_BASE/lib**\r\n\r\nCreate one, if there isn&#39;t.\r\n\r\nand add the following to **logging.properties** file \r\n\r\n```\r\ncatalina.org.apache.juli.FileHandler.rotatable = false\r\nlocalhost.org.apache.juli.FileHandler.rotatable = false\r\nmanager.org.apache.juli.FileHandler.rotatable = false\r\nhost-manager.org.apache.juli.FileHandler.rotatable = false\r\n```\r\nYou could also read the [Tomcat logging documentation][1].\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/logging.html","title":"Why does tomcat logging stop after redeploy?","body":"<p>You could custom the log format through the configure file\nthere should be a default file <strong>log4j.properties</strong> in path <strong>$CATALINA_BASE/lib</strong></p>\n<p>Create one, if there isn't.</p>\n<p>and add the following to <strong>logging.properties</strong> file</p>\n<pre><code>catalina.org.apache.juli.FileHandler.rotatable = false\nlocalhost.org.apache.juli.FileHandler.rotatable = false\nmanager.org.apache.juli.FileHandler.rotatable = false\nhost-manager.org.apache.juli.FileHandler.rotatable = false\n</code></pre>\n<p>You could also read the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/logging.html\" rel=\"nofollow noreferrer\">Tomcat logging documentation</a>.</p>\n"}],"owner":{"account_id":1836808,"reputation":141,"user_id":1667016,"display_name":"user1667016"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680195355,"creation_date":1679310600,"question_id":75789552,"body_markdown":"I can&#39;t seem to get java.util.logging to work with tomcat after I redeploy a webapp. Here is a very simple Servlet as a test case;\r\n\r\n```\r\npackage test;\r\n\r\nimport java.util.logging.Logger;\r\nimport javax.servlet.ServletConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\n\r\n@WebServlet(name = &quot;TestLogServlet&quot;, urlPatterns = {&quot;/TestLogServlet&quot;}, loadOnStartup=1)\r\npublic class TestLogServlet extends HttpServlet {\r\n\r\n    private Logger logger = Logger.getLogger(TestLogServlet.class.getName());\r\n\r\n    @Override\r\n    public void init(ServletConfig config) throws ServletException {\r\n        super.init(config); \r\n        System.out.println(&quot;my log message to system.out&quot;);\r\n        logger.info(&quot;my log message to logger&quot;);\r\n    }\r\n       \r\n}\r\n```\r\nIf I have the webapp installed, then start tomcat, I will see in the logs (catalina.out) the following, as expected;\r\n\r\n```\r\nmy log message to system.out\r\n20-Mar-2023 10:56:37.035 INFO [main] test.TestLogServlet.init my log message to logger\r\n```\r\n\r\nBoth the system.out and the logger message.\r\n\r\nIf I then undeploy the webapps, then redeploy it in the running tomcat, all I will see in the logs are;\r\n\r\n```\r\nmy log message to system.out\r\n```\r\n\r\nNothing else will appear comming from java.util.logger.\r\n\r\nWhat am I missing, or doing wrong? It&#39;s driving me mad! \r\n\r\nA bit of an update... This is why ...\r\n\r\n```\r\n==&gt; catalina.out &lt;==\r\nmy log message to system.out\r\n\r\n==&gt; catalina.2023-03-20.log &lt;==\r\n20-Mar-2023 11:42:04.041 INFO [http-nio-8080-exec-16] test.TestLogServlet.init my log message to logger\r\n```\r\n\r\nAfter a redeploy, it goes to ```catalina.2023-03-20.log```, not catalina.out. When you restart tomcat it goes to ```catalina.2023-03-20.log``` and ```catalina.out```!!\r\n\r\n**So, how does I get the logger messages to ALWAYS go to catalina.out?**\r\n\r\nI tired this on a tomcat8, and it does seem to always go to catalina.out there.\r\n\r\n","title":"Why does tomcat logging stop after redeploy?","body":"<p>I can't seem to get java.util.logging to work with tomcat after I redeploy a webapp. Here is a very simple Servlet as a test case;</p>\n<pre><code>package test;\n\nimport java.util.logging.Logger;\nimport javax.servlet.ServletConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\n\n@WebServlet(name = &quot;TestLogServlet&quot;, urlPatterns = {&quot;/TestLogServlet&quot;}, loadOnStartup=1)\npublic class TestLogServlet extends HttpServlet {\n\n    private Logger logger = Logger.getLogger(TestLogServlet.class.getName());\n\n    @Override\n    public void init(ServletConfig config) throws ServletException {\n        super.init(config); \n        System.out.println(&quot;my log message to system.out&quot;);\n        logger.info(&quot;my log message to logger&quot;);\n    }\n       \n}\n</code></pre>\n<p>If I have the webapp installed, then start tomcat, I will see in the logs (catalina.out) the following, as expected;</p>\n<pre><code>my log message to system.out\n20-Mar-2023 10:56:37.035 INFO [main] test.TestLogServlet.init my log message to logger\n</code></pre>\n<p>Both the system.out and the logger message.</p>\n<p>If I then undeploy the webapps, then redeploy it in the running tomcat, all I will see in the logs are;</p>\n<pre><code>my log message to system.out\n</code></pre>\n<p>Nothing else will appear comming from java.util.logger.</p>\n<p>What am I missing, or doing wrong? It's driving me mad!</p>\n<p>A bit of an update... This is why ...</p>\n<pre><code>==&gt; catalina.out &lt;==\nmy log message to system.out\n\n==&gt; catalina.2023-03-20.log &lt;==\n20-Mar-2023 11:42:04.041 INFO [http-nio-8080-exec-16] test.TestLogServlet.init my log message to logger\n</code></pre>\n<p>After a redeploy, it goes to <code>catalina.2023-03-20.log</code>, not catalina.out. When you restart tomcat it goes to <code>catalina.2023-03-20.log</code> and <code>catalina.out</code>!!</p>\n<p><strong>So, how does I get the logger messages to ALWAYS go to catalina.out?</strong></p>\n<p>I tired this on a tomcat8, and it does seem to always go to catalina.out there.</p>\n"},{"tags":["java","discord","discord-jda","spigot"],"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":1,"creation_date":1679609602,"post_id":75828164,"comment_id":133757094,"body_markdown":"Have you tried stepping through the code with a debugger?","body":"Have you tried stepping through the code with a debugger?"}],"answers":[{"tags":[],"owner":{"account_id":26168353,"reputation":567,"user_id":19853802,"display_name":"zmehall"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680195252,"creation_date":1680195252,"answer_id":75890991,"question_id":75828164,"body_markdown":"After checking the [docs](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/EmbedBuilder.html) for JDA:\r\n\r\nThe `setAuthor()` method can either take a name and an image, or a name, URL, and image. If you don&#39;t want to use the URL (and just have the image), you only need 2 arguments.\r\n\r\n```\r\n.setAuthor(username, &quot;http://minotar.net/helm/&quot; + username + &quot;.png&quot;)\r\n```","title":"How do I get a PNG url from a GET request in Java?","body":"<p>After checking the <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/EmbedBuilder.html\" rel=\"nofollow noreferrer\">docs</a> for JDA:</p>\n<p>The <code>setAuthor()</code> method can either take a name and an image, or a name, URL, and image. If you don't want to use the URL (and just have the image), you only need 2 arguments.</p>\n<pre><code>.setAuthor(username, &quot;http://minotar.net/helm/&quot; + username + &quot;.png&quot;)\n</code></pre>\n"}],"owner":{"account_id":22298134,"reputation":35,"user_id":16523830,"display_name":"Cocolennon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75890991,"answer_count":1,"score":0,"last_activity_date":1680195252,"creation_date":1679607158,"question_id":75828164,"body_markdown":"More explanation, I&#39;m using Spigot and Java Discord API (JDA) to send a message to discord when someone speaks in Minecraft chat. I want to show the player&#39;s skin&#39;s face in an embed but I don&#39;t know how to do so since it keeps telling me I&#39;m not using a valid HTTP(s) or attachment url.\r\nHere&#39;s my current code, it fails at the `.setAuthor` line.\r\n\r\n```\r\npublic static void sendMCMessage(String message, String username){\r\n    TextChannel channel = api.getTextChannelById(&quot;1088516469974908928&quot;);\r\n    EmbedBuilder embed = new EmbedBuilder()\r\n        .setColor(Color.green)\r\n        .setAuthor(username, null, &quot;http://minotar.net/helm/&quot; + username + &quot;.png&quot;)\r\n        .setFooter(api.getSelfUser().getName() + &quot; 2023&quot;, api.getSelfUser().getAvatarUrl())\r\n        .addField(&quot; &quot;, message, true);\r\n    channel.sendMessageEmbeds(embed.build()).queue();\r\n}\r\n```\r\n\r\nHere are the logs:\r\n\r\n```\r\n[22:28:25] [ServerMain/INFO]: Building unoptimized datafixer\r\n[22:28:26] [ServerMain/INFO]: Environment: authHost=&#39;https://authserver.mojang.com&#39;, accountsHost=&#39;https://api.mojang.com&#39;, sessionHost=&#39;https://sessionserver.mojang.com&#39;, servicesHost=&#39;https://api.minecraftservices.com&#39;, name=&#39;PROD&#39;\r\n[22:28:27] [ServerMain/INFO]: Loaded 7 recipes\r\n[22:28:28] [Server thread/INFO]: Starting minecraft server version 1.19\r\n[22:28:28] [Server thread/INFO]: Loading properties\r\n[22:28:28] [Server thread/INFO]: This server is running CraftBukkit version 3553-Spigot-14a2382-ef09464 (MC: 1.19) (Implementing API version 1.19-R0.1-SNAPSHOT)\r\n[22:28:28] [Server thread/INFO]: Debug logging is disabled\r\n[22:28:28] [Server thread/INFO]: Server Ping Player Sample Count: 12\r\n[22:28:28] [Server thread/INFO]: Using 4 threads for Netty based IO\r\n[22:28:28] [Server thread/INFO]: Default game type: CREATIVE\r\n[22:28:28] [Server thread/INFO]: Generating keypair\r\n[22:28:28] [Server thread/INFO]: Starting Minecraft server on *:25565\r\n[22:28:28] [Server thread/INFO]: Using default channel type\r\n[22:28:28] [Server thread/INFO]: [WorldEdit] Loading WorldEdit v7.2.14+6360-094b734\r\n[22:28:29] [Server thread/INFO]: Got request to register class com.sk89q.worldedit.bukkit.BukkitServerInterface with WorldEdit [com.sk89q.worldedit.extension.platform.PlatformManager@388b7766]\r\n[22:28:29] [Server thread/INFO]: [WorldCraft] Loading WorldCraft v0.0.1\r\n[22:28:29] [Server thread/INFO]: [WorldEdit] Enabling WorldEdit v7.2.14+6360-094b734\r\n[22:28:29] [Server thread/INFO]: Registering commands with com.sk89q.worldedit.bukkit.BukkitServerInterface\r\n[22:28:29] [Server thread/INFO]: WEPIF: Using the Bukkit Permissions API.\r\n[22:28:29] [Server thread/INFO]: Using com.sk89q.worldedit.bukkit.adapter.impl.v1_19_R1.PaperweightAdapter as the Bukkit adapter\r\n[22:28:29] [Server thread/INFO]: [WorldEdit] ====================================================\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  WorldEdit works better if you use Paper \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  as your server software. \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper offers significant performance improvements,\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  bug fixes, security enhancements and optional\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  features for server owners to enhance their server.\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper includes Timings v2, which is significantly\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  better at diagnosing lag problems over v1.\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  All of your plugins should still work, and the\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper community will gladly help you fix any issues.\r\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \r\n[22:28:29] [Server thread/INFO]: [WorldEdit]  Join the Paper Community @ https://papermc.io\r\n[22:28:29] [Server thread/INFO]: [WorldEdit] ====================================================\r\n[22:28:29] [Server thread/INFO]: Preparing level &quot;world&quot;\r\n[22:28:29] [Server thread/INFO]: -------- World Settings For [world] --------\r\n[22:28:29] [Server thread/INFO]: Item Merge Radius: 2.5\r\n[22:28:29] [Server thread/INFO]: Item Despawn Rate: 6000\r\n[22:28:29] [Server thread/INFO]: View Distance: 20\r\n[22:28:29] [Server thread/INFO]: Simulation Distance: 15\r\n[22:28:29] [Server thread/INFO]: Allow Zombie Pigmen to spawn from portal blocks: true\r\n[22:28:29] [Server thread/INFO]: Zombie Aggressive Towards Villager: true\r\n[22:28:29] [Server thread/INFO]: Arrow Despawn Rate: 1200 Trident Respawn Rate:1200\r\n[22:28:29] [Server thread/INFO]: Nerfing mobs spawned from spawners: false\r\n[22:28:29] [Server thread/INFO]: Experience Merge Radius: 3.0\r\n[22:28:29] [Server thread/INFO]: Cactus Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Cane Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Melon Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Mushroom Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Pumpkin Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Sapling Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Beetroot Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Carrot Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Potato Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Wheat Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: NetherWart Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Vine Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Cocoa Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Bamboo Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: SweetBerry Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Kelp Growth Modifier: 100%\r\n[22:28:29] [Server thread/INFO]: Entity Activation Range: An 32 / Mo 32 / Ra 48 / Mi 16 / Tiv true / Isa false\r\n[22:28:29] [Server thread/INFO]: Entity Tracking Range: Pl 48 / An 48 / Mo 48 / Mi 32 / Other 64\r\n[22:28:29] [Server thread/INFO]: Custom Map Seeds:  Village: 10387312 Desert: 14357617 Igloo: 14357618 Jungle: 14357619 Swamp: 14357620 Monument: 10387313 Ocean: 14357621 Shipwreck: 165745295 End City: 10387313 Slime: 987234911 Nether: 30084232 Mansion: 10387319 Fossil: 14357921 Portal: 34222645\r\n[22:28:29] [Server thread/INFO]: Hopper Transfer: 8 Hopper Check: 1 Hopper Amount: 1 Hopper Can Load Chunks: false\r\n[22:28:29] [Server thread/INFO]: Tile Max Tick Time: 50ms Entity max Tick Time: 50ms\r\n[22:28:29] [Server thread/INFO]: Max TNT Explosions: 100\r\n[22:28:29] [Server thread/INFO]: Mob Spawn Range: 6\r\n[22:28:30] [Server thread/INFO]: -------- World Settings For [world_the_end] --------\r\n[22:28:30] [Server thread/INFO]: Item Merge Radius: 2.5\r\n[22:28:30] [Server thread/INFO]: Item Despawn Rate: 6000\r\n[22:28:30] [Server thread/INFO]: View Distance: 20\r\n[22:28:30] [Server thread/INFO]: Simulation Distance: 15\r\n[22:28:30] [Server thread/INFO]: Allow Zombie Pigmen to spawn from portal blocks: true\r\n[22:28:30] [Server thread/INFO]: Zombie Aggressive Towards Villager: true\r\n[22:28:30] [Server thread/INFO]: Arrow Despawn Rate: 1200 Trident Respawn Rate:1200\r\n[22:28:30] [Server thread/INFO]: Nerfing mobs spawned from spawners: false\r\n[22:28:30] [Server thread/INFO]: Experience Merge Radius: 3.0\r\n[22:28:30] [Server thread/INFO]: Cactus Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Cane Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Melon Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Mushroom Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Pumpkin Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Sapling Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Beetroot Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Carrot Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Potato Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Wheat Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: NetherWart Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Vine Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Cocoa Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Bamboo Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: SweetBerry Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Kelp Growth Modifier: 100%\r\n[22:28:30] [Server thread/INFO]: Entity Activation Range: An 32 / Mo 32 / Ra 48 / Mi 16 / Tiv true / Isa false\r\n[22:28:30] [Server thread/INFO]: Entity Tracking Range: Pl 48 / An 48 / Mo 48 / Mi 32 / Other 64\r\n[22:28:30] [Server thread/INFO]: Custom Map Seeds:  Village: 10387312 Desert: 14357617 Igloo: 14357618 Jungle: 14357619 Swamp: 14357620 Monument: 10387313 Ocean: 14357621 Shipwreck: 165745295 End City: 10387313 Slime: 987234911 Nether: 30084232 Mansion: 10387319 Fossil: 14357921 Portal: 34222645\r\n[22:28:30] [Server thread/INFO]: Hopper Transfer: 8 Hopper Check: 1 Hopper Amount: 1 Hopper Can Load Chunks: false\r\n[22:28:30] [Server thread/INFO]: Tile Max Tick Time: 50ms Entity max Tick Time: 50ms\r\n[22:28:30] [Server thread/INFO]: Max TNT Explosions: 100\r\n[22:28:30] [Server thread/INFO]: Mob Spawn Range: 6\r\n[22:28:30] [Server thread/INFO]: Preparing start region for dimension minecraft:overworld\r\n[22:28:31] [Worker-Main-3/INFO]: Preparing spawn area: 0%\r\n[22:28:31] [Worker-Main-3/INFO]: Preparing spawn area: 0%\r\n[22:28:31] [Worker-Main-11/INFO]: Preparing spawn area: 0%\r\n[22:28:31] [Worker-Main-11/INFO]: Preparing spawn area: 0%\r\n[22:28:32] [Worker-Main-8/INFO]: Preparing spawn area: 34%\r\n[22:28:32] [Server thread/INFO]: Time elapsed: 2331 ms\r\n[22:28:32] [Server thread/INFO]: Preparing start region for dimension minecraft:the_end\r\n[22:28:33] [Worker-Main-5/INFO]: Preparing spawn area: 0%\r\n[22:28:33] [Worker-Main-4/INFO]: Preparing spawn area: 0%\r\n[22:28:33] [Worker-Main-3/INFO]: Preparing spawn area: 0%\r\n[22:28:34] [Worker-Main-4/INFO]: Preparing spawn area: 87%\r\n[22:28:34] [Server thread/INFO]: Time elapsed: 1535 ms\r\n[22:28:34] [Server thread/INFO]: [WorldCraft] Enabling WorldCraft v0.0.1\r\n[22:28:34] [Server thread/INFO]: [WorldCraft] Plugin enabled!\r\n[22:28:35] [Server thread/INFO]: Login Successful!\r\n[22:28:35] [Server thread/INFO]: [WorldCraft] Bot online!\r\n[22:28:35] [Server thread/INFO]: Server permissions file permissions.yml is empty, ignoring it\r\n[22:28:35] [Server thread/INFO]: Done (5.204s)! For help, type &quot;help&quot;\r\n[22:28:35] [JDA MainWS-ReadThread/INFO]: Connected to WebSocket\r\n[22:28:35] [JDA MainWS-ReadThread/INFO]: Finished Loading!\r\n[22:28:37] [User Authenticator #1/INFO]: UUID of player Senkoco is c7216f2f-d79b-41f3-837d-f166cfe29000\r\n[22:28:37] [Server thread/INFO]: Senkoco joined the game\r\n[22:28:37] [Server thread/INFO]: Senkoco[/[0:0:0:0:0:0:0:1]:50402] logged in with entity id 21 at ([world]-8.996503918930333, -50.0068645278064, -9.284796186114068)\r\n[22:28:43] [Async Chat Thread - #0/ERROR]: Could not pass event AsyncPlayerChatEvent to WorldCraft v0.0.1\r\norg.bukkit.event.EventException: null\r\n\tat org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:310) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:589) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:576) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\r\n\tat net.minecraft.server.network.PlayerConnection.chat(PlayerConnection.java:1955) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat net.minecraft.server.network.PlayerConnection.broadcastChatMessage(PlayerConnection.java:1934) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat net.minecraft.server.network.PlayerConnection.lambda$17(PlayerConnection.java:1907) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:757) [?:?]\r\n\tat java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:735) [?:?]\r\n\tat java.util.concurrent.CompletableFuture.thenAccept(CompletableFuture.java:2182) [?:?]\r\n\tat net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1907) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1813) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat net.minecraft.network.protocol.game.PacketPlayInChat$1.run(PacketPlayInChat.java:54) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) [?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:833) [?:?]\r\nCaused by: java.lang.IllegalArgumentException: URL must be a valid http(s) or attachment url.\r\n\tat net.dv8tion.jda.internal.utils.Checks.check(Checks.java:62) ~[?:?]\r\n\tat net.dv8tion.jda.api.EmbedBuilder.urlCheck(EmbedBuilder.java:813) ~[?:?]\r\n\tat net.dv8tion.jda.api.EmbedBuilder.setAuthor(EmbedBuilder.java:630) ~[?:?]\r\n\tat me.senkoco.worldcraft.BotManager.sendMCMessage(BotManager.java:20) ~[?:?]\r\n\tat me.senkoco.worldcraft.listeners.ChatListener.onPlayerChat(ChatListener.java:14) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n\tat org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:306) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\r\n\t... 17 more\r\n[22:28:43] [Async Chat Thread - #0/INFO]: &lt;Senkoco&gt; Lorem ipsum[m\r\n[22:28:45] [Server thread/INFO]: Senkoco issued server command: /stop\r\n[22:28:45] [Server thread/INFO]: [Senkoco: Stopping the server]\r\n[22:28:45] [Server thread/INFO]: Stopping server\r\n[22:28:45] [Server thread/INFO]: [WorldCraft] Disabling WorldCraft v0.0.1\r\n[22:28:45] [Server thread/INFO]: [WorldEdit] Disabling WorldEdit v7.2.14+6360-094b734\r\n[22:28:45] [Server thread/INFO]: Unregistering com.sk89q.worldedit.bukkit.BukkitServerInterface from WorldEdit\r\n[22:28:45] [Server thread/INFO]: Saving players\r\n[22:28:45] [Server thread/INFO]: Senkoco lost connection: Server closed\r\n[22:28:45] [Server thread/INFO]: Senkoco left the game.\r\n[22:28:45] [Server thread/INFO]: Saving worlds\r\n[22:28:46] [Server thread/INFO]: Saving chunks for level &#39;ServerLevel[world]&#39;/minecraft:overworld\r\n[22:28:46] [Server thread/INFO]: Saving chunks for level &#39;ServerLevel[world_the_end]&#39;/minecraft:the_end\r\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage (world): All chunks are saved\r\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage (DIM1): All chunks are saved\r\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage: All dimensions are saved\r\n```\r\n\r\nI attempted to send a skin&#39;s face in a Discord embed and expect the Skin&#39;s face to be present in the Discord embed but I am receiving an error in the console","title":"How do I get a PNG url from a GET request in Java?","body":"<p>More explanation, I'm using Spigot and Java Discord API (JDA) to send a message to discord when someone speaks in Minecraft chat. I want to show the player's skin's face in an embed but I don't know how to do so since it keeps telling me I'm not using a valid HTTP(s) or attachment url.\nHere's my current code, it fails at the <code>.setAuthor</code> line.</p>\n<pre><code>public static void sendMCMessage(String message, String username){\n    TextChannel channel = api.getTextChannelById(&quot;1088516469974908928&quot;);\n    EmbedBuilder embed = new EmbedBuilder()\n        .setColor(Color.green)\n        .setAuthor(username, null, &quot;http://minotar.net/helm/&quot; + username + &quot;.png&quot;)\n        .setFooter(api.getSelfUser().getName() + &quot; 2023&quot;, api.getSelfUser().getAvatarUrl())\n        .addField(&quot; &quot;, message, true);\n    channel.sendMessageEmbeds(embed.build()).queue();\n}\n</code></pre>\n<p>Here are the logs:</p>\n<pre><code>[22:28:25] [ServerMain/INFO]: Building unoptimized datafixer\n[22:28:26] [ServerMain/INFO]: Environment: authHost='https://authserver.mojang.com', accountsHost='https://api.mojang.com', sessionHost='https://sessionserver.mojang.com', servicesHost='https://api.minecraftservices.com', name='PROD'\n[22:28:27] [ServerMain/INFO]: Loaded 7 recipes\n[22:28:28] [Server thread/INFO]: Starting minecraft server version 1.19\n[22:28:28] [Server thread/INFO]: Loading properties\n[22:28:28] [Server thread/INFO]: This server is running CraftBukkit version 3553-Spigot-14a2382-ef09464 (MC: 1.19) (Implementing API version 1.19-R0.1-SNAPSHOT)\n[22:28:28] [Server thread/INFO]: Debug logging is disabled\n[22:28:28] [Server thread/INFO]: Server Ping Player Sample Count: 12\n[22:28:28] [Server thread/INFO]: Using 4 threads for Netty based IO\n[22:28:28] [Server thread/INFO]: Default game type: CREATIVE\n[22:28:28] [Server thread/INFO]: Generating keypair\n[22:28:28] [Server thread/INFO]: Starting Minecraft server on *:25565\n[22:28:28] [Server thread/INFO]: Using default channel type\n[22:28:28] [Server thread/INFO]: [WorldEdit] Loading WorldEdit v7.2.14+6360-094b734\n[22:28:29] [Server thread/INFO]: Got request to register class com.sk89q.worldedit.bukkit.BukkitServerInterface with WorldEdit [com.sk89q.worldedit.extension.platform.PlatformManager@388b7766]\n[22:28:29] [Server thread/INFO]: [WorldCraft] Loading WorldCraft v0.0.1\n[22:28:29] [Server thread/INFO]: [WorldEdit] Enabling WorldEdit v7.2.14+6360-094b734\n[22:28:29] [Server thread/INFO]: Registering commands with com.sk89q.worldedit.bukkit.BukkitServerInterface\n[22:28:29] [Server thread/INFO]: WEPIF: Using the Bukkit Permissions API.\n[22:28:29] [Server thread/INFO]: Using com.sk89q.worldedit.bukkit.adapter.impl.v1_19_R1.PaperweightAdapter as the Bukkit adapter\n[22:28:29] [Server thread/INFO]: [WorldEdit] ====================================================\n[22:28:29] [Server thread/INFO]: [WorldEdit]  WorldEdit works better if you use Paper \n[22:28:29] [Server thread/INFO]: [WorldEdit]  as your server software. \n[22:28:29] [Server thread/INFO]: [WorldEdit]   \n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper offers significant performance improvements,\n[22:28:29] [Server thread/INFO]: [WorldEdit]  bug fixes, security enhancements and optional\n[22:28:29] [Server thread/INFO]: [WorldEdit]  features for server owners to enhance their server.\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper includes Timings v2, which is significantly\n[22:28:29] [Server thread/INFO]: [WorldEdit]  better at diagnosing lag problems over v1.\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \n[22:28:29] [Server thread/INFO]: [WorldEdit]  All of your plugins should still work, and the\n[22:28:29] [Server thread/INFO]: [WorldEdit]  Paper community will gladly help you fix any issues.\n[22:28:29] [Server thread/INFO]: [WorldEdit]   \n[22:28:29] [Server thread/INFO]: [WorldEdit]  Join the Paper Community @ https://papermc.io\n[22:28:29] [Server thread/INFO]: [WorldEdit] ====================================================\n[22:28:29] [Server thread/INFO]: Preparing level &quot;world&quot;\n[22:28:29] [Server thread/INFO]: -------- World Settings For [world] --------\n[22:28:29] [Server thread/INFO]: Item Merge Radius: 2.5\n[22:28:29] [Server thread/INFO]: Item Despawn Rate: 6000\n[22:28:29] [Server thread/INFO]: View Distance: 20\n[22:28:29] [Server thread/INFO]: Simulation Distance: 15\n[22:28:29] [Server thread/INFO]: Allow Zombie Pigmen to spawn from portal blocks: true\n[22:28:29] [Server thread/INFO]: Zombie Aggressive Towards Villager: true\n[22:28:29] [Server thread/INFO]: Arrow Despawn Rate: 1200 Trident Respawn Rate:1200\n[22:28:29] [Server thread/INFO]: Nerfing mobs spawned from spawners: false\n[22:28:29] [Server thread/INFO]: Experience Merge Radius: 3.0\n[22:28:29] [Server thread/INFO]: Cactus Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Cane Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Melon Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Mushroom Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Pumpkin Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Sapling Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Beetroot Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Carrot Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Potato Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Wheat Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: NetherWart Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Vine Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Cocoa Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Bamboo Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: SweetBerry Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Kelp Growth Modifier: 100%\n[22:28:29] [Server thread/INFO]: Entity Activation Range: An 32 / Mo 32 / Ra 48 / Mi 16 / Tiv true / Isa false\n[22:28:29] [Server thread/INFO]: Entity Tracking Range: Pl 48 / An 48 / Mo 48 / Mi 32 / Other 64\n[22:28:29] [Server thread/INFO]: Custom Map Seeds:  Village: 10387312 Desert: 14357617 Igloo: 14357618 Jungle: 14357619 Swamp: 14357620 Monument: 10387313 Ocean: 14357621 Shipwreck: 165745295 End City: 10387313 Slime: 987234911 Nether: 30084232 Mansion: 10387319 Fossil: 14357921 Portal: 34222645\n[22:28:29] [Server thread/INFO]: Hopper Transfer: 8 Hopper Check: 1 Hopper Amount: 1 Hopper Can Load Chunks: false\n[22:28:29] [Server thread/INFO]: Tile Max Tick Time: 50ms Entity max Tick Time: 50ms\n[22:28:29] [Server thread/INFO]: Max TNT Explosions: 100\n[22:28:29] [Server thread/INFO]: Mob Spawn Range: 6\n[22:28:30] [Server thread/INFO]: -------- World Settings For [world_the_end] --------\n[22:28:30] [Server thread/INFO]: Item Merge Radius: 2.5\n[22:28:30] [Server thread/INFO]: Item Despawn Rate: 6000\n[22:28:30] [Server thread/INFO]: View Distance: 20\n[22:28:30] [Server thread/INFO]: Simulation Distance: 15\n[22:28:30] [Server thread/INFO]: Allow Zombie Pigmen to spawn from portal blocks: true\n[22:28:30] [Server thread/INFO]: Zombie Aggressive Towards Villager: true\n[22:28:30] [Server thread/INFO]: Arrow Despawn Rate: 1200 Trident Respawn Rate:1200\n[22:28:30] [Server thread/INFO]: Nerfing mobs spawned from spawners: false\n[22:28:30] [Server thread/INFO]: Experience Merge Radius: 3.0\n[22:28:30] [Server thread/INFO]: Cactus Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Cane Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Melon Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Mushroom Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Pumpkin Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Sapling Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Beetroot Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Carrot Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Potato Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Wheat Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: NetherWart Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Vine Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Cocoa Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Bamboo Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: SweetBerry Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Kelp Growth Modifier: 100%\n[22:28:30] [Server thread/INFO]: Entity Activation Range: An 32 / Mo 32 / Ra 48 / Mi 16 / Tiv true / Isa false\n[22:28:30] [Server thread/INFO]: Entity Tracking Range: Pl 48 / An 48 / Mo 48 / Mi 32 / Other 64\n[22:28:30] [Server thread/INFO]: Custom Map Seeds:  Village: 10387312 Desert: 14357617 Igloo: 14357618 Jungle: 14357619 Swamp: 14357620 Monument: 10387313 Ocean: 14357621 Shipwreck: 165745295 End City: 10387313 Slime: 987234911 Nether: 30084232 Mansion: 10387319 Fossil: 14357921 Portal: 34222645\n[22:28:30] [Server thread/INFO]: Hopper Transfer: 8 Hopper Check: 1 Hopper Amount: 1 Hopper Can Load Chunks: false\n[22:28:30] [Server thread/INFO]: Tile Max Tick Time: 50ms Entity max Tick Time: 50ms\n[22:28:30] [Server thread/INFO]: Max TNT Explosions: 100\n[22:28:30] [Server thread/INFO]: Mob Spawn Range: 6\n[22:28:30] [Server thread/INFO]: Preparing start region for dimension minecraft:overworld\n[22:28:31] [Worker-Main-3/INFO]: Preparing spawn area: 0%\n[22:28:31] [Worker-Main-3/INFO]: Preparing spawn area: 0%\n[22:28:31] [Worker-Main-11/INFO]: Preparing spawn area: 0%\n[22:28:31] [Worker-Main-11/INFO]: Preparing spawn area: 0%\n[22:28:32] [Worker-Main-8/INFO]: Preparing spawn area: 34%\n[22:28:32] [Server thread/INFO]: Time elapsed: 2331 ms\n[22:28:32] [Server thread/INFO]: Preparing start region for dimension minecraft:the_end\n[22:28:33] [Worker-Main-5/INFO]: Preparing spawn area: 0%\n[22:28:33] [Worker-Main-4/INFO]: Preparing spawn area: 0%\n[22:28:33] [Worker-Main-3/INFO]: Preparing spawn area: 0%\n[22:28:34] [Worker-Main-4/INFO]: Preparing spawn area: 87%\n[22:28:34] [Server thread/INFO]: Time elapsed: 1535 ms\n[22:28:34] [Server thread/INFO]: [WorldCraft] Enabling WorldCraft v0.0.1\n[22:28:34] [Server thread/INFO]: [WorldCraft] Plugin enabled!\n[22:28:35] [Server thread/INFO]: Login Successful!\n[22:28:35] [Server thread/INFO]: [WorldCraft] Bot online!\n[22:28:35] [Server thread/INFO]: Server permissions file permissions.yml is empty, ignoring it\n[22:28:35] [Server thread/INFO]: Done (5.204s)! For help, type &quot;help&quot;\n[22:28:35] [JDA MainWS-ReadThread/INFO]: Connected to WebSocket\n[22:28:35] [JDA MainWS-ReadThread/INFO]: Finished Loading!\n[22:28:37] [User Authenticator #1/INFO]: UUID of player Senkoco is c7216f2f-d79b-41f3-837d-f166cfe29000\n[22:28:37] [Server thread/INFO]: Senkoco joined the game\n[22:28:37] [Server thread/INFO]: Senkoco[/[0:0:0:0:0:0:0:1]:50402] logged in with entity id 21 at ([world]-8.996503918930333, -50.0068645278064, -9.284796186114068)\n[22:28:43] [Async Chat Thread - #0/ERROR]: Could not pass event AsyncPlayerChatEvent to WorldCraft v0.0.1\norg.bukkit.event.EventException: null\n    at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:310) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:589) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:576) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\n    at net.minecraft.server.network.PlayerConnection.chat(PlayerConnection.java:1955) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at net.minecraft.server.network.PlayerConnection.broadcastChatMessage(PlayerConnection.java:1934) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at net.minecraft.server.network.PlayerConnection.lambda$17(PlayerConnection.java:1907) ~[spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:757) [?:?]\n    at java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:735) [?:?]\n    at java.util.concurrent.CompletableFuture.thenAccept(CompletableFuture.java:2182) [?:?]\n    at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1907) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1813) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at net.minecraft.network.protocol.game.PacketPlayInChat$1.run(PacketPlayInChat.java:54) [spigot-1.19-R0.1-SNAPSHOT.jar:3553-Spigot-14a2382-ef09464]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) [?:?]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) [?:?]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [?:?]\n    at java.lang.Thread.run(Thread.java:833) [?:?]\nCaused by: java.lang.IllegalArgumentException: URL must be a valid http(s) or attachment url.\n    at net.dv8tion.jda.internal.utils.Checks.check(Checks.java:62) ~[?:?]\n    at net.dv8tion.jda.api.EmbedBuilder.urlCheck(EmbedBuilder.java:813) ~[?:?]\n    at net.dv8tion.jda.api.EmbedBuilder.setAuthor(EmbedBuilder.java:630) ~[?:?]\n    at me.senkoco.worldcraft.BotManager.sendMCMessage(BotManager.java:20) ~[?:?]\n    at me.senkoco.worldcraft.listeners.ChatListener.onPlayerChat(ChatListener.java:14) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:306) ~[spigot-api-1.19-R0.1-SNAPSHOT.jar:?]\n    ... 17 more\n[22:28:43] [Async Chat Thread - #0/INFO]: &lt;Senkoco&gt; Lorem ipsum[m\n[22:28:45] [Server thread/INFO]: Senkoco issued server command: /stop\n[22:28:45] [Server thread/INFO]: [Senkoco: Stopping the server]\n[22:28:45] [Server thread/INFO]: Stopping server\n[22:28:45] [Server thread/INFO]: [WorldCraft] Disabling WorldCraft v0.0.1\n[22:28:45] [Server thread/INFO]: [WorldEdit] Disabling WorldEdit v7.2.14+6360-094b734\n[22:28:45] [Server thread/INFO]: Unregistering com.sk89q.worldedit.bukkit.BukkitServerInterface from WorldEdit\n[22:28:45] [Server thread/INFO]: Saving players\n[22:28:45] [Server thread/INFO]: Senkoco lost connection: Server closed\n[22:28:45] [Server thread/INFO]: Senkoco left the game.\n[22:28:45] [Server thread/INFO]: Saving worlds\n[22:28:46] [Server thread/INFO]: Saving chunks for level 'ServerLevel[world]'/minecraft:overworld\n[22:28:46] [Server thread/INFO]: Saving chunks for level 'ServerLevel[world_the_end]'/minecraft:the_end\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage (world): All chunks are saved\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage (DIM1): All chunks are saved\n[22:28:46] [Server thread/INFO]: ThreadedAnvilChunkStorage: All dimensions are saved\n</code></pre>\n<p>I attempted to send a skin's face in a Discord embed and expect the Skin's face to be present in the Discord embed but I am receiving an error in the console</p>\n"},{"tags":["java","jboss","jks"],"owner":{"account_id":10086370,"reputation":1,"user_id":7454825,"display_name":"Schlomo Dumbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680194967,"creation_date":1680194967,"question_id":75890953,"body_markdown":"I am running a jboss, that is supposed to access a webjunction. The Jboss is essentially the client. I have one certificate jks file. I need to include this file in so that I can access the webjunction https://webjunction.org.com (the webjunction masks another webservice).\r\n\r\nHow do I do that?\r\n\r\nI do not even know where to start. I expect my Java code to call the api of said webservice.","title":"JBoss as client add certificate to connect to Webjunction https","body":"<p>I am running a jboss, that is supposed to access a webjunction. The Jboss is essentially the client. I have one certificate jks file. I need to include this file in so that I can access the webjunction <a href=\"https://webjunction.org.com\" rel=\"nofollow noreferrer\">https://webjunction.org.com</a> (the webjunction masks another webservice).</p>\n<p>How do I do that?</p>\n<p>I do not even know where to start. I expect my Java code to call the api of said webservice.</p>\n"},{"tags":["java","properties"],"comments":[{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1498815863,"post_id":15337409,"comment_id":76667024,"body_markdown":"Similar: https://stackoverflow.com/questions/7461901/how-to-overwrite-one-property-in-properties-without-overwriting-the-whole-file and https://stackoverflow.com/questions/565932/a-better-class-to-update-property-files","body":"Similar: <a href=\"https://stackoverflow.com/questions/7461901/how-to-overwrite-one-property-in-properties-without-overwriting-the-whole-file\" title=\"how to overwrite one property in properties without overwriting the whole file\">stackoverflow.com/questions/7461901/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/565932/a-better-class-to-update-property-files\" title=\"a better class to update property files\">stackoverflow.com/questions/565932/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2475873,"reputation":611,"user_id":2156541,"display_name":"Elangovan"},"score":0,"creation_date":1363002509,"post_id":15337487,"comment_id":21660959,"body_markdown":"Thanks Vasyl Keretsman\ni change code.\nIs it correct?\n Properties props = new Properties();\n                props.load(in);\n                props.setProperty(&quot;country&quot;, &quot;america&quot;);\n        props.store(out, null);\n        out.close();\n         in.close();\n         \n         but answer is same. I didn&#39;t get the expected answer","body":"Thanks Vasyl Keretsman i change code. Is it correct?  Properties props = new Properties();                 props.load(in);                 props.setProperty(&quot;country&quot;, &quot;america&quot;);         props.store(out, null);         out.close();          in.close();                    but answer is same. I didn&#39;t get the expected answer"},{"owner":{"account_id":1035051,"reputation":2698,"user_id":1042572,"accept_rate":100,"display_name":"Vasyl Keretsman"},"score":1,"creation_date":1363002913,"post_id":15337487,"comment_id":21661151,"body_markdown":"Not correct. I have added the code to my answer","body":"Not correct. I have added the code to my answer"},{"owner":{"account_id":2475873,"reputation":611,"user_id":2156541,"display_name":"Elangovan"},"score":0,"creation_date":1363003678,"post_id":15337487,"comment_id":21661565,"body_markdown":"Thank You Vasyl Keretsman. It is working ..","body":"Thank You Vasyl Keretsman. It is working .."},{"owner":{"account_id":6376905,"reputation":4709,"user_id":4947520,"accept_rate":0,"display_name":"Paraneetharan Saravanaperumal"},"score":0,"creation_date":1435828630,"post_id":15337487,"comment_id":50366786,"body_markdown":"@VasylKeretsman  it is removed all existing comments in  the file","body":"@VasylKeretsman  it is removed all existing comments in  the file"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1441643178,"post_id":15337487,"comment_id":52749292,"body_markdown":"Closing streams should be done in a finally block/ try-with-resources statement.","body":"Closing streams should be done in a finally block/ try-with-resources statement."},{"owner":{"account_id":175636,"reputation":4009,"user_id":405793,"accept_rate":62,"display_name":"Benjamin Peter"},"score":0,"creation_date":1455873391,"post_id":15337487,"comment_id":58694206,"body_markdown":"Maybe you are also interested in this Property Library. It can preserve order and comments.\nhttp://stackoverflow.com/questions/565932/a-better-class-to-update-property-files","body":"Maybe you are also interested in this Property Library. It can preserve order and comments. <a href=\"http://stackoverflow.com/questions/565932/a-better-class-to-update-property-files\" title=\"a better class to update property files\">stackoverflow.com/questions/565932/&hellip;</a>"},{"owner":{"account_id":3417936,"reputation":1904,"user_id":2866298,"accept_rate":63,"display_name":"osama yaccoub"},"score":0,"creation_date":1459792083,"post_id":15337487,"comment_id":60434822,"body_markdown":"Yes gr8 it solved ......... but why ?????","body":"Yes gr8 it solved ......... but why ?????"},{"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"score":7,"creation_date":1475195173,"post_id":15337487,"comment_id":66857915,"body_markdown":"How did this become the accepted answer ? It removes all previously set properties.","body":"How did this become the accepted answer ? It removes all previously set properties."},{"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"score":0,"creation_date":1475195309,"post_id":15337487,"comment_id":66857939,"body_markdown":"This answer should state that you have to rewrite all properties again. Check this answer http://stackoverflow.com/questions/7461901/how-to-overwrite-one-property-in-properties-without-overwriting-the-whole-file","body":"This answer should state that you have to rewrite all properties again. Check this answer <a href=\"http://stackoverflow.com/questions/7461901/how-to-overwrite-one-property-in-properties-without-overwriting-the-whole-file\" title=\"how to overwrite one property in properties without overwriting the whole file\">stackoverflow.com/questions/7461901/&hellip;</a>"},{"owner":{"account_id":2428395,"reputation":343,"user_id":2119861,"display_name":"Deepak Gangore"},"score":0,"creation_date":1512650461,"post_id":15337487,"comment_id":82350108,"body_markdown":"Those for which the code is not working. Please verify the sequence of lines with the code provided. Sequence of lines does matter here.","body":"Those for which the code is not working. Please verify the sequence of lines with the code provided. Sequence of lines does matter here."},{"owner":{"account_id":11571021,"reputation":343,"user_id":8477797,"display_name":"Jayakumari Arumugham"},"score":0,"creation_date":1574334530,"post_id":15337487,"comment_id":104200454,"body_markdown":"It removes all the previous properties. And aslo adds the timestamp in the first line of the property file.","body":"It removes all the previous properties. And aslo adds the timestamp in the first line of the property file."}],"tags":[],"owner":{"account_id":1035051,"reputation":2698,"user_id":1042572,"accept_rate":100,"display_name":"Vasyl Keretsman"},"comment_count":11,"down_vote_count":2,"up_vote_count":107,"is_accepted":true,"score":105,"last_activity_date":1680194516,"creation_date":1363001496,"answer_id":15337487,"question_id":15337409,"body_markdown":"Open the  output stream and store properties after you have closed the input stream.\r\n\r\n    try (FileInputStream in = new FileInputStream(&quot;First.properties&quot;)) {\r\n        Properties props = new Properties();\r\n        props.load(in);\r\n    }\r\n            \r\n    try (FileOutputStream out = new FileOutputStream(&quot;First.properties&quot;))\r\n        props.setProperty(&quot;country&quot;, &quot;america&quot;);\r\n        props.store(out, null);\r\n    }","title":"Updating property value in properties file without deleting other values","body":"<p>Open the  output stream and store properties after you have closed the input stream.</p>\n<pre><code>try (FileInputStream in = new FileInputStream(&quot;First.properties&quot;)) {\n    Properties props = new Properties();\n    props.load(in);\n}\n        \ntry (FileOutputStream out = new FileOutputStream(&quot;First.properties&quot;))\n    props.setProperty(&quot;country&quot;, &quot;america&quot;);\n    props.store(out, null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2380109,"reputation":1007,"user_id":2082301,"accept_rate":68,"display_name":"Joe2013"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1363001985,"creation_date":1363001985,"answer_id":15337627,"question_id":15337409,"body_markdown":"    Properties prop = new Properties();\r\n    prop.load(...); // FileInputStream \r\n    prop.setProperty(&quot;key&quot;, &quot;value&quot;);\r\n    prop.store(...); // FileOutputStream ","title":"Updating property value in properties file without deleting other values","body":"<pre><code>Properties prop = new Properties();\nprop.load(...); // FileInputStream \nprop.setProperty(\"key\", \"value\");\nprop.store(...); // FileOutputStream \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3468903,"reputation":457,"user_id":2903804,"accept_rate":92,"display_name":"Joe Hackerberg"},"score":7,"creation_date":1487254741,"post_id":39321335,"comment_id":71709155,"body_markdown":"This is much better answer than the accepted one","body":"This is much better answer than the accepted one"},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1494575260,"post_id":39321335,"comment_id":74896749,"body_markdown":"@Jos&#233; M&#170; I downloaded https://commons.apache.org/proper/commons-configuration/index.html ApacheCommons Configurator 2.1.1 and it seems that  `save()` method and some others doesn&#39;t exists . Is there any alternative ?","body":"@Jos&#233; M&#170; I downloaded <a href=\"https://commons.apache.org/proper/commons-configuration/index.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-configuration/index.html</a> ApacheCommons Configurator 2.1.1 and it seems that  <code>save()</code> method and some others doesn&#39;t exists . Is there any alternative ?"},{"owner":{"account_id":3468903,"reputation":457,"user_id":2903804,"accept_rate":92,"display_name":"Joe Hackerberg"},"score":0,"creation_date":1494580089,"post_id":39321335,"comment_id":74899710,"body_markdown":"@GOXR3PLUS Please check this website: https://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_properties.html\n\nThere is a &quot;Saving&quot; section where its explained.","body":"@GOXR3PLUS Please check this website: <a href=\"https://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_properties.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-configuration/userguide_v1&zwnj;&#8203;.10/&hellip;</a>  There is a &quot;Saving&quot; section where its explained."},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1494581957,"post_id":39321335,"comment_id":74900966,"body_markdown":"@Jos&#233; M&#170; Thanks for the link . It seems to be only for the version 1.10 , not for the version 2.1.1 which is the latest :) . I am searching inside https://commons.apache.org/proper/commons-configuration/userguide/user_guide.html to find something similar .","body":"@Jos&#233; M&#170; Thanks for the link . It seems to be only for the version 1.10 , not for the version 2.1.1 which is the latest :) . I am searching inside <a href=\"https://commons.apache.org/proper/commons-configuration/userguide/user_guide.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-configuration/userguide/&hellip;</a> to find something similar ."},{"owner":{"account_id":3468903,"reputation":457,"user_id":2903804,"accept_rate":92,"display_name":"Joe Hackerberg"},"score":1,"creation_date":1494585742,"post_id":39321335,"comment_id":74903408,"body_markdown":"@GOXR3PLUS Sorry I can&#39;t test it right now, but I thought it should work because there is a annotation at the header of the website where you can see: &quot;Last Published: 08 February 2017|Version: 2.1.1&quot;\nIt&#39;s quite confusing, but you can still use older versions. Unfortunately, I cannot help you any more with this :(","body":"@GOXR3PLUS Sorry I can&#39;t test it right now, but I thought it should work because there is a annotation at the header of the website where you can see: &quot;Last Published: 08 February 2017|Version: 2.1.1&quot; It&#39;s quite confusing, but you can still use older versions. Unfortunately, I cannot help you any more with this :("},{"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"score":1,"creation_date":1495439736,"post_id":39321335,"comment_id":75234612,"body_markdown":"@Jos&#233;M&#170;\nI had used the 1.1 version.\nAlso, the 2.1 version has the `save()` method in it.\nhttps://commons.apache.org/proper/commons-configuration/apidocs/org/apache/commons/configuration2/PropertiesConfiguration.html","body":"@Jos&#233;M&#170; I had used the 1.1 version. Also, the 2.1 version has the <code>save()</code> method in it. <a href=\"https://commons.apache.org/proper/commons-configuration/apidocs/org/apache/commons/configuration2/PropertiesConfiguration.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-configuration/apidocs/org/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":3468903,"reputation":457,"user_id":2903804,"accept_rate":92,"display_name":"Joe Hackerberg"},"score":0,"creation_date":1495440634,"post_id":39321335,"comment_id":75235088,"body_markdown":"@AnirbanDebnath Thank you for the info, but how can that link demonstrate it? There are only 1 match with &quot;`save()`&quot; in the whole page and doesn&#39;t correspond to the method description. Where is `save()` hidden?","body":"@AnirbanDebnath Thank you for the info, but how can that link demonstrate it? There are only 1 match with &quot;<code>save()</code>&quot; in the whole page and doesn&#39;t correspond to the method description. Where is <code>save()</code> hidden?"},{"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"score":0,"creation_date":1495445010,"post_id":39321335,"comment_id":75237739,"body_markdown":"Okay you are using the apache-commons thats causing the issue.\nUse the commons-configuration one.\nUse this:\nhttps://mvnrepository.com/artifact/commons-configuration/commons-configuration/1.9","body":"Okay you are using the apache-commons thats causing the issue. Use the commons-configuration one. Use this: <a href=\"https://mvnrepository.com/artifact/commons-configuration/commons-configuration/1.9\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/commons-configuration/&hellip;</a>"},{"owner":{"account_id":7376968,"reputation":619,"user_id":5615185,"accept_rate":94,"display_name":"J. Doem"},"score":0,"creation_date":1503187858,"post_id":39321335,"comment_id":78512336,"body_markdown":"I am using commons configuration2 but getting an error when using above code `PropertiesConfiguration() in PropertiesConfiguration can not be applied to (java.lang.String)","body":"I am using commons configuration2 but getting an error when using above code `PropertiesConfiguration() in PropertiesConfiguration can not be applied to (java.lang.String)"},{"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"score":1,"creation_date":1503217363,"post_id":39321335,"comment_id":78517325,"body_markdown":"Hi @J.Doem: You can use the Older `1.10 version` which has a String args constructor to pass the file name directly. Else, for V2, you can use the `PropertyConfiguration` class&#39;s `loadIncludeFile(String fileName)` method to pass the File name.","body":"Hi @J.Doem: You can use the Older <code>1.10 version</code> which has a String args constructor to pass the file name directly. Else, for V2, you can use the <code>PropertyConfiguration</code> class&#39;s <code>loadIncludeFile(String fileName)</code> method to pass the File name."},{"owner":{"account_id":12731158,"reputation":149,"user_id":9247750,"display_name":"Lakshmipathi G"},"score":1,"creation_date":1647954659,"post_id":39321335,"comment_id":126496668,"body_markdown":"This solution solved my 2 issues.\n1. Saving the file without losing other data and also\n2. Keys positions are not swapped (By using other solutions i.e., with FileInput &amp; Output streams, positions of keys are getting swapped to random positions and also comments are getting removed).","body":"This solution solved my 2 issues. 1. Saving the file without losing other data and also 2. Keys positions are not swapped (By using other solutions i.e., with FileInput &amp; Output streams, positions of keys are getting swapped to random positions and also comments are getting removed)."}],"tags":[],"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"comment_count":11,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1609913527,"creation_date":1473021847,"answer_id":39321335,"question_id":15337409,"body_markdown":"You can use [Apache Commons Configuration][1] library.\r\nThe best part of this is, it won&#39;t even mess up the properties file and keeps it intact ([even comments][2]). \r\n\r\n[Javadoc][3]\r\n\r\n    PropertiesConfiguration conf = new PropertiesConfiguration(&quot;propFile.properties&quot;);\r\n    conf.setProperty(&quot;key&quot;, &quot;value&quot;);\r\n    conf.save();    \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-configuration/\r\n  [2]: https://stackoverflow.com/questions/565932/a-better-class-to-update-property-files/565996#565996\r\n  [3]: https://commons.apache.org/proper/commons-configuration/apidocs/org/apache/commons/configuration2/PropertiesConfiguration.html","title":"Updating property value in properties file without deleting other values","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-configuration/\" rel=\"noreferrer\">Apache Commons Configuration</a> library.\nThe best part of this is, it won't even mess up the properties file and keeps it intact (<a href=\"https://stackoverflow.com/questions/565932/a-better-class-to-update-property-files/565996#565996\">even comments</a>).</p>\n<p><a href=\"https://commons.apache.org/proper/commons-configuration/apidocs/org/apache/commons/configuration2/PropertiesConfiguration.html\" rel=\"noreferrer\">Javadoc</a></p>\n<pre><code>PropertiesConfiguration conf = new PropertiesConfiguration(&quot;propFile.properties&quot;);\nconf.setProperty(&quot;key&quot;, &quot;value&quot;);\nconf.save();    \n</code></pre>\n"}],"owner":{"account_id":2475873,"reputation":611,"user_id":2156541,"display_name":"Elangovan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158969,"favorite_count":0,"down_vote_count":1,"up_vote_count":60,"closed_date":1498891649,"accepted_answer_id":15337487,"answer_count":3,"score":59,"last_activity_date":1680194516,"creation_date":1363001216,"question_id":15337409,"body_markdown":"Content of `First.properties`:\r\n\r\n    name=elango\r\n    country=india\r\n    phone=12345\r\n\r\nI want change `country` from `india` to `america`. This is my code:\r\n\r\n    import java.io.*;\r\n    public class UpdateProperty \r\n    {\r\n    \tpublic static void main(String args[]) throws Exception \r\n    \t{ \t\r\n    \t\tFileOutputStream out = new FileOutputStream(&quot;First.properties&quot;);\r\n    \t\tFileInputStream in = new FileInputStream(&quot;First.properties&quot;);\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.load(in);\r\n    \t\tin.close();\r\n    \t\tprops.setProperty(&quot;country&quot;, &quot;america&quot;);\r\n    \t\tprops.store(out, null);\r\n    \t\tout.close();\r\n    \t} \r\n    }\r\n\r\nOutput content of `First.properties`:\r\n\r\n    country=america\r\n\r\nThe other properties are deleted. I want update a particular property value, without deleting the other properties.","title":"Updating property value in properties file without deleting other values","body":"<p>Content of <code>First.properties</code>:</p>\n\n<pre><code>name=elango\ncountry=india\nphone=12345\n</code></pre>\n\n<p>I want change <code>country</code> from <code>india</code> to <code>america</code>. This is my code:</p>\n\n<pre><code>import java.io.*;\npublic class UpdateProperty \n{\n    public static void main(String args[]) throws Exception \n    {   \n        FileOutputStream out = new FileOutputStream(\"First.properties\");\n        FileInputStream in = new FileInputStream(\"First.properties\");\n        Properties props = new Properties();\n        props.load(in);\n        in.close();\n        props.setProperty(\"country\", \"america\");\n        props.store(out, null);\n        out.close();\n    } \n}\n</code></pre>\n\n<p>Output content of <code>First.properties</code>:</p>\n\n<pre><code>country=america\n</code></pre>\n\n<p>The other properties are deleted. I want update a particular property value, without deleting the other properties.</p>\n"},{"tags":["java","jar"],"answers":[{"comments":[{"owner":{"account_id":34878,"reputation":5531,"user_id":98632,"display_name":"mtpettyp"},"score":1,"creation_date":1244034677,"post_id":944615,"comment_id":752663,"body_markdown":"That should be &quot;Class.getResourceAsStream()&quot;","body":"That should be &quot;Class.getResourceAsStream()&quot;"}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1244035041,"creation_date":1244034203,"answer_id":944615,"question_id":944610,"body_markdown":"if it&#39;s inside a JAR, it&#39;s not a File, generally speaking.  You should load the data using [`Class.getResourceAsStream(String)`][1], or something similar.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getResourceAsStream(java.lang.String)","title":"How do I access a config file inside the jar?","body":"<p>if it's inside a JAR, it's not a File, generally speaking.  You should load the data using <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"noreferrer\"><code>Class.getResourceAsStream(String)</code></a>, or something similar.</p>\n"},{"tags":[],"owner":{"account_id":22320,"reputation":43336,"user_id":54929,"accept_rate":79,"display_name":"ahmet alp balkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244034293,"creation_date":1244034293,"answer_id":944622,"question_id":944610,"body_markdown":"I think it is solved just here:\r\n\r\n[http://www.velocityreviews.com/forums/t129474-beginner-question-how-to-access-an-xml-file-inside-a-jar-without-extracting-it.html][1] \r\n\r\n\r\n  [1]: http://www.velocityreviews.com/forums/t129474-beginner-question-how-to-access-an-xml-file-inside-a-jar-without-extracting-it.html","title":"How do I access a config file inside the jar?","body":"<p>I think it is solved just here:</p>\n\n<p><a href=\"http://www.velocityreviews.com/forums/t129474-beginner-question-how-to-access-an-xml-file-inside-a-jar-without-extracting-it.html\" rel=\"nofollow noreferrer\">http://www.velocityreviews.com/forums/t129474-beginner-question-how-to-access-an-xml-file-inside-a-jar-without-extracting-it.html</a> </p>\n"},{"tags":[],"owner":{"account_id":878702,"reputation":942,"user_id":116463,"display_name":"Billy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244044690,"creation_date":1244044690,"answer_id":945558,"question_id":944610,"body_markdown":"If I remember correctly, getResourceAsStream() can behave differently depending on which web server your webapp is deployed, for instance I think it can be a problem when deployed as a war on a Websphere instance. But I&#39;m not sure if this applies to you.\r\n\r\nBut I&#39;m not sure you&#39;re trying to solve the &quot;proper&quot; problem : if it&#39;s a config file, that means is data dependant right ? Not code dependant ( your jar ) ? When the flat file will change, your config file will need to change as well, right ? If this is true, it sounds like the config should be better stored elsewhere, or even passed as a parameter to your jar.\r\n\r\nBut maybe I haven&#39;t fully understood your problem...","title":"How do I access a config file inside the jar?","body":"<p>If I remember correctly, getResourceAsStream() can behave differently depending on which web server your webapp is deployed, for instance I think it can be a problem when deployed as a war on a Websphere instance. But I'm not sure if this applies to you.</p>\n\n<p>But I'm not sure you're trying to solve the \"proper\" problem : if it's a config file, that means is data dependant right ? Not code dependant ( your jar ) ? When the flat file will change, your config file will need to change as well, right ? If this is true, it sounds like the config should be better stored elsewhere, or even passed as a parameter to your jar.</p>\n\n<p>But maybe I haven't fully understood your problem...</p>\n"},{"tags":[],"owner":{"account_id":876956,"reputation":139,"user_id":115086,"display_name":"user115086"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244050065,"creation_date":1244050065,"answer_id":946025,"question_id":944610,"body_markdown":"Use Apache Commons Configuration, then you can read/write XML, auto update, find config file in path or jar, without a lot of hassles.","title":"How do I access a config file inside the jar?","body":"<p>Use Apache Commons Configuration, then you can read/write XML, auto update, find config file in path or jar, without a lot of hassles.</p>\n"},{"tags":[],"owner":{"account_id":3849926,"reputation":16804,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680194381,"creation_date":1641790183,"answer_id":70647932,"question_id":944610,"body_markdown":"Use Below code in your config file \r\n\r\n    InputStream in = Class.getClassLoader().getResourceAsStream(configFilePath);\r\n\r\nNote : replace the classname with your Config class\r\n\r\nDemo Full code :\r\n\r\nImports:\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n\r\nCode:\r\n\r\n        Properties properties = new Properties();\r\n\t\tInputStream in = MyCLassName.class.getClassLoader().getResourceAsStream(configFilePath); //pass the config.properties file path with file name\r\n\t\ttry {\r\n\t\t\tproperties.load(in);\r\n            properties.getProperty(&quot;username&quot;); //here put the key from config.properties\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}","title":"How do I access a config file inside the jar?","body":"<p>Use Below code in your config file</p>\n<pre><code>InputStream in = Class.getClassLoader().getResourceAsStream(configFilePath);\n</code></pre>\n<p>Note : replace the classname with your Config class</p>\n<p>Demo Full code :</p>\n<p>Imports:</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\n</code></pre>\n<p>Code:</p>\n<pre><code>    Properties properties = new Properties();\n    InputStream in = MyCLassName.class.getClassLoader().getResourceAsStream(configFilePath); //pass the config.properties file path with file name\n    try {\n        properties.load(in);\n        properties.getProperty(&quot;username&quot;); //here put the key from config.properties\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":1574,"reputation":22507,"user_id":2109,"accept_rate":100,"display_name":"Owen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39366,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":944615,"answer_count":5,"score":7,"last_activity_date":1680194381,"creation_date":1244034087,"question_id":944610,"body_markdown":"I&#39;m using [FlatPack][1] to parse and load data from flat files.  This requires loading a config file that stores mappings of the columns of the flat file.\r\n\r\nI have a constant to define the location of the mapping file:\r\n\r\n    private static final String MAPPING_FILE = &quot;src/com/company/config/Maping.pzmap.xml&quot;;\r\n\r\nI have a parse(File dataFile) method that actually does the parsing:\r\n\r\n    private void parse(File dataFile) throws FileNotFoundException, SQLException {\r\n        \tParser parser;\r\n        \t\t\r\n        \tlog.info(&quot;Parsing &quot; + dataFile.getName());\r\n        \t\t\r\n        \tFileReader mappingFileReader = new FileReader(MAPPING_FILE);\r\n        \tFileReader dataFileReader = new FileReader(dataFile);\r\n        \t\t\r\n        \tparser = DefaultParserFactory.getInstance().newFixedLengthParser(mappingFileReader, dataFileReader);\r\n        \tparser.setHandlingShortLines(true);\r\n        \t\t\r\n        \tDataSet dataSet = parser.parse();\r\n        \t\t\r\n        \t//process the data\r\n    }\r\n\r\nWhen I jar up everything and run it as a jar - it bombs out on `FileReader mappingFileReader = new FileReader(MAPPING_FILE);` with a `FileNotFoundException`.  That file is inside the jar though.\r\n\r\nHow do I get to it?\r\n\r\nI&#39;ve looked at [this question][2] and [this question][3] about accessing files inside jars and they both recommend temporarily extracting the file.  I don&#39;t want to do that though.\r\n\r\n\r\n  [1]: http://flatpack.sourceforge.net/\r\n  [2]: https://stackoverflow.com/questions/600146/run-exe-which-is-packaged-inside-jar\r\n  [3]: https://stackoverflow.com/questions/463972/creating-a-new-file-using-an-existing-file-within-a-jar","title":"How do I access a config file inside the jar?","body":"<p>I'm using <a href=\"http://flatpack.sourceforge.net/\" rel=\"nofollow noreferrer\">FlatPack</a> to parse and load data from flat files.  This requires loading a config file that stores mappings of the columns of the flat file.</p>\n\n<p>I have a constant to define the location of the mapping file:</p>\n\n<pre><code>private static final String MAPPING_FILE = \"src/com/company/config/Maping.pzmap.xml\";\n</code></pre>\n\n<p>I have a parse(File dataFile) method that actually does the parsing:</p>\n\n<pre><code>private void parse(File dataFile) throws FileNotFoundException, SQLException {\n        Parser parser;\n\n        log.info(\"Parsing \" + dataFile.getName());\n\n        FileReader mappingFileReader = new FileReader(MAPPING_FILE);\n        FileReader dataFileReader = new FileReader(dataFile);\n\n        parser = DefaultParserFactory.getInstance().newFixedLengthParser(mappingFileReader, dataFileReader);\n        parser.setHandlingShortLines(true);\n\n        DataSet dataSet = parser.parse();\n\n        //process the data\n}\n</code></pre>\n\n<p>When I jar up everything and run it as a jar - it bombs out on <code>FileReader mappingFileReader = new FileReader(MAPPING_FILE);</code> with a <code>FileNotFoundException</code>.  That file is inside the jar though.</p>\n\n<p>How do I get to it?</p>\n\n<p>I've looked at <a href=\"https://stackoverflow.com/questions/600146/run-exe-which-is-packaged-inside-jar\">this question</a> and <a href=\"https://stackoverflow.com/questions/463972/creating-a-new-file-using-an-existing-file-within-a-jar\">this question</a> about accessing files inside jars and they both recommend temporarily extracting the file.  I don't want to do that though.</p>\n"},{"tags":["java","android","neo4j"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1680202859,"post_id":75887605,"comment_id":133862705,"body_markdown":"Please read: [JDBC vs Web Service for Android](https://stackoverflow.com/q/15853367/295004)","body":"Please read: <a href=\"https://stackoverflow.com/q/15853367/295004\">JDBC vs Web Service for Android</a>"}],"owner":{"account_id":28130456,"reputation":1,"user_id":21495123,"display_name":"Saretta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680194132,"creation_date":1680175448,"question_id":75887605,"body_markdown":"I have to connect neo4j to android studio. I have a recyclerview that must be populated by neo4j. I made the connection and it works for me but the recyclerview is not populated because in debug I saw that the connection driver variable remains null.\r\n\r\n     public static class AsyncTask_Drink extends AsyncTask&lt;String, String, String&gt; {\r\n    \r\n        static AsyncTask_Drink instance = null;\r\n    \r\n        Connection conn = null;\r\n    \r\n        Driver driver;\r\n    \r\n        @Override\r\n        protected String doInBackground(String... strings) {\r\n            try {\r\n                String uri = &quot;bolt://localhost:7687&quot;;\r\n                String username = &quot;neo4j&quot;;\r\n                String password = &quot;neo4j&quot;;\r\n                driver = GraphDatabase.driver(uri, AuthTokens.basic(username, password));\r\n                Session session = driver.session();\r\n                Log.e(&quot;Client&quot;, &quot;Connessione effettuata&quot;);\r\n           } catch (Exception e) {\r\n                e.printStackTrace();\r\n                Log.e(&quot;Client&quot;, &quot;Connessione non effettuata&quot;);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public Driver getConn() {\r\n            return this.driver;\r\n        }\r\n    \r\n        public static AsyncTask_Drink getInstance() throws Neo4jException {\r\n    \r\n            if (instance == null) {\r\n    \r\n                instance = new AsyncTask_Drink();\r\n            }\r\n            return instance;\r\n        }\r\n    }`\r\n    \r\n    public class DaoDrinkDatabase implements DaoDrink {\r\n    \r\n        public ArrayList&lt;DrinkDomain&gt; getDrinkCocktail() throws Neo4jException, ClassNotFoundException {\r\n    \r\n            ArrayList&lt;DrinkDomain&gt; drinkDomains = new ArrayList&lt;DrinkDomain&gt;();\r\n    \r\n            Driver driver =  DrinksFragment.AsyncTask_Drink.getInstance().getConn();\r\n    \r\n            try(Session session = driver.session()) {\r\n    \r\n                Result result = session.run(&quot;MATCH (d:drink) -[rel:DI_TIPO]-&gt;(t:Tipologia {tipo:\\&quot;Cocktail\\&quot;}) RETURN d,rel,t&quot;);\r\n    \r\n                while (result.hasNext()) {\r\n    \r\n                    Record record = result.next();\r\n    \r\n                    String name = (record.get(&quot;name&quot;).asString());\r\n                    String descriptor = (record.get(&quot;descriptor&quot;).asString());\r\n                    Double fee = (record.get(&quot;fee&quot;).asDouble());\r\n                    String pic = (record.get(&quot;pic&quot;).asString());\r\n    \r\n                    drinkDomains.add(new DrinkDomain(name, descriptor, fee, pic));\r\n                }\r\n            }\r\n            return drinkDomains;\r\n        }\r\n    \r\n    \r\n      public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 ViewGroup container, Bundle savedInstanceState) {\r\n            DrinksViewModel drinksViewModel =\r\n                    new ViewModelProvider(this).get(DrinksViewModel.class);\r\n    \r\n            binding = FragmentDrinksBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n            text_head = root.findViewById(R.id.text_head);\r\n            category = root.findViewById(R.id.fragment_drinks_category);\r\n            cocktail = root.findViewById(R.id.fragment_drinks_Cocktail);\r\n            shake = root.findViewById(R.id.fragment_drinks_Shake);\r\n            recyclerViewcategory = root.findViewById(R.id.fragment_drinks_recyclerView_category);\r\n            recyclerViewcocktail = root.findViewById(R.id.fragment_drinks_recyclerView_cocktail);\r\n            recyclerViewshake =  root.findViewById(R.id.fragment_drinks_recyclerView_shake);\r\n    \r\n            FunctionThread f = new FunctionThread(&quot;drinks&quot;);\r\n            Thread t = new Thread(f);\r\n            t.start();\r\n            try {\r\n                t.join();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            if(UserSingleton.getLogged()){\r\n    \r\n                text_head.setVisibility(View.INVISIBLE);\r\n                category.setVisibility(View.VISIBLE);\r\n                cocktail.setVisibility(View.VISIBLE);\r\n                shake.setVisibility(View.VISIBLE);\r\n                recyclerViewcategory.setVisibility(View.VISIBLE);\r\n                recyclerViewcocktail.setVisibility(View.VISIBLE);\r\n                recyclerViewshake.setVisibility(View.VISIBLE);\r\n    \r\n            }else{\r\n    \r\n                text_head.setVisibility(View.VISIBLE);\r\n                category.setVisibility(View.VISIBLE);\r\n                shake.setVisibility(View.INVISIBLE);\r\n                cocktail.setVisibility(View.INVISIBLE);\r\n                recyclerViewcategory.setVisibility(View.VISIBLE);\r\n                recyclerViewcocktail.setVisibility(View.INVISIBLE);\r\n                recyclerViewshake.setVisibility(View.INVISIBLE);\r\n    \r\n            }\r\n    \r\n            recyclerViewCategoryList = root.findViewById(R.id.fragment_drinks_recyclerView_category);\r\n            recyclerViewCocktailList = root.findViewById(R.id.fragment_drinks_recyclerView_cocktail);\r\n            recyclerViewShakeList = root.findViewById(R.id.fragment_drinks_recyclerView_shake);\r\n    \r\n            recyclerViewCategory();\r\n    \r\n            AsyncTask_Drink asyncTask_drink = new AsyncTask_Drink();\r\n            asyncTask_drink.execute();\r\n    \r\n            recyclerViewCocktail();\r\n    \r\n            recyclerViewShake();\r\n    \r\n            return root;\r\n        }`\r\n\r\nConnection made to pass data from neo4j to android with java using recyclerview.\r\n\r\nError:\r\n\r\n    java.lang.NullPointerException: Attempt to invoke interface method &#39;org.neo4j.driver.Session org.neo4j.driver.Driver.session()&#39; on a null object reference\r\n\r\n","title":"android studio connection to neo4j","body":"<p>I have to connect neo4j to android studio. I have a recyclerview that must be populated by neo4j. I made the connection and it works for me but the recyclerview is not populated because in debug I saw that the connection driver variable remains null.</p>\n<pre><code> public static class AsyncTask_Drink extends AsyncTask&lt;String, String, String&gt; {\n\n    static AsyncTask_Drink instance = null;\n\n    Connection conn = null;\n\n    Driver driver;\n\n    @Override\n    protected String doInBackground(String... strings) {\n        try {\n            String uri = &quot;bolt://localhost:7687&quot;;\n            String username = &quot;neo4j&quot;;\n            String password = &quot;neo4j&quot;;\n            driver = GraphDatabase.driver(uri, AuthTokens.basic(username, password));\n            Session session = driver.session();\n            Log.e(&quot;Client&quot;, &quot;Connessione effettuata&quot;);\n       } catch (Exception e) {\n            e.printStackTrace();\n            Log.e(&quot;Client&quot;, &quot;Connessione non effettuata&quot;);\n        }\n        return null;\n    }\n\n    public Driver getConn() {\n        return this.driver;\n    }\n\n    public static AsyncTask_Drink getInstance() throws Neo4jException {\n\n        if (instance == null) {\n\n            instance = new AsyncTask_Drink();\n        }\n        return instance;\n    }\n}`\n\npublic class DaoDrinkDatabase implements DaoDrink {\n\n    public ArrayList&lt;DrinkDomain&gt; getDrinkCocktail() throws Neo4jException, ClassNotFoundException {\n\n        ArrayList&lt;DrinkDomain&gt; drinkDomains = new ArrayList&lt;DrinkDomain&gt;();\n\n        Driver driver =  DrinksFragment.AsyncTask_Drink.getInstance().getConn();\n\n        try(Session session = driver.session()) {\n\n            Result result = session.run(&quot;MATCH (d:drink) -[rel:DI_TIPO]-&gt;(t:Tipologia {tipo:\\&quot;Cocktail\\&quot;}) RETURN d,rel,t&quot;);\n\n            while (result.hasNext()) {\n\n                Record record = result.next();\n\n                String name = (record.get(&quot;name&quot;).asString());\n                String descriptor = (record.get(&quot;descriptor&quot;).asString());\n                Double fee = (record.get(&quot;fee&quot;).asDouble());\n                String pic = (record.get(&quot;pic&quot;).asString());\n\n                drinkDomains.add(new DrinkDomain(name, descriptor, fee, pic));\n            }\n        }\n        return drinkDomains;\n    }\n\n\n  public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        DrinksViewModel drinksViewModel =\n                new ViewModelProvider(this).get(DrinksViewModel.class);\n\n        binding = FragmentDrinksBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        text_head = root.findViewById(R.id.text_head);\n        category = root.findViewById(R.id.fragment_drinks_category);\n        cocktail = root.findViewById(R.id.fragment_drinks_Cocktail);\n        shake = root.findViewById(R.id.fragment_drinks_Shake);\n        recyclerViewcategory = root.findViewById(R.id.fragment_drinks_recyclerView_category);\n        recyclerViewcocktail = root.findViewById(R.id.fragment_drinks_recyclerView_cocktail);\n        recyclerViewshake =  root.findViewById(R.id.fragment_drinks_recyclerView_shake);\n\n        FunctionThread f = new FunctionThread(&quot;drinks&quot;);\n        Thread t = new Thread(f);\n        t.start();\n        try {\n            t.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        if(UserSingleton.getLogged()){\n\n            text_head.setVisibility(View.INVISIBLE);\n            category.setVisibility(View.VISIBLE);\n            cocktail.setVisibility(View.VISIBLE);\n            shake.setVisibility(View.VISIBLE);\n            recyclerViewcategory.setVisibility(View.VISIBLE);\n            recyclerViewcocktail.setVisibility(View.VISIBLE);\n            recyclerViewshake.setVisibility(View.VISIBLE);\n\n        }else{\n\n            text_head.setVisibility(View.VISIBLE);\n            category.setVisibility(View.VISIBLE);\n            shake.setVisibility(View.INVISIBLE);\n            cocktail.setVisibility(View.INVISIBLE);\n            recyclerViewcategory.setVisibility(View.VISIBLE);\n            recyclerViewcocktail.setVisibility(View.INVISIBLE);\n            recyclerViewshake.setVisibility(View.INVISIBLE);\n\n        }\n\n        recyclerViewCategoryList = root.findViewById(R.id.fragment_drinks_recyclerView_category);\n        recyclerViewCocktailList = root.findViewById(R.id.fragment_drinks_recyclerView_cocktail);\n        recyclerViewShakeList = root.findViewById(R.id.fragment_drinks_recyclerView_shake);\n\n        recyclerViewCategory();\n\n        AsyncTask_Drink asyncTask_drink = new AsyncTask_Drink();\n        asyncTask_drink.execute();\n\n        recyclerViewCocktail();\n\n        recyclerViewShake();\n\n        return root;\n    }`\n</code></pre>\n<p>Connection made to pass data from neo4j to android with java using recyclerview.</p>\n<p>Error:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke interface method 'org.neo4j.driver.Session org.neo4j.driver.Driver.session()' on a null object reference\n</code></pre>\n"},{"tags":["java","user-interface","swing","widget"],"answers":[{"comments":[{"owner":{"account_id":365141,"reputation":1223,"user_id":709910,"accept_rate":100,"display_name":"Datoraki"},"score":4,"creation_date":1304790772,"post_id":1339375,"comment_id":6821611,"body_markdown":"If one is concerned about performance, one should know that this is one of the slowest date pickers to initialize. I have tried heaps of BSD licensed date pickers","body":"If one is concerned about performance, one should know that this is one of the slowest date pickers to initialize. I have tried heaps of BSD licensed date pickers"},{"owner":{"account_id":3281906,"reputation":3459,"user_id":2762311,"accept_rate":74,"display_name":"Kishan Bheemajiyani"},"score":0,"creation_date":1383821390,"post_id":1339375,"comment_id":29492823,"body_markdown":"but we can not make limit means restriction into the selecting date into this particular Control","body":"but we can not make limit means restriction into the selecting date into this particular Control"},{"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"score":1,"creation_date":1390916675,"post_id":1339375,"comment_id":32291791,"body_markdown":"I&#39;ve tried 5 different swing DatePicker components, and this is the first to work correctly with the Synthetica look and feel. +1","body":"I&#39;ve tried 5 different swing DatePicker components, and this is the first to work correctly with the Synthetica look and feel. +1"},{"owner":{"account_id":3784583,"reputation":951,"user_id":3142960,"display_name":"BlakeTNC"},"score":0,"creation_date":1458079163,"post_id":1339375,"comment_id":59697155,"body_markdown":"The [Microba home page](https://github.com/tdbear/microba) states that &quot;This project is on hiatus&quot;. The same page recommends checking out [LGoodDatePicker](https://github.com/LGoodDatePicker/LGoodDatePicker) instead.","body":"The <a href=\"https://github.com/tdbear/microba\" rel=\"nofollow noreferrer\">Microba home page</a> states that &quot;This project is on hiatus&quot;. The same page recommends checking out <a href=\"https://github.com/LGoodDatePicker/LGoodDatePicker\" rel=\"nofollow noreferrer\">LGoodDatePicker</a> instead."}],"tags":[],"owner":{"account_id":42603,"reputation":1238,"user_id":124123,"accept_rate":100,"display_name":"Abel Morelos"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1251357443,"creation_date":1251357443,"answer_id":1339375,"question_id":1339354,"body_markdown":"Recently I found and use the Microba DatePicker (http://microba.sourceforge.net/) for a personal project involving Swing GUIs, and I actually I really liked the way this control is implemented. Besides, the license is BSD, so you will be able to customize the control and use it for commercial purposes if you need to do so.","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>Recently I found and use the Microba DatePicker (<a href=\"http://microba.sourceforge.net/\" rel=\"noreferrer\">http://microba.sourceforge.net/</a>) for a personal project involving Swing GUIs, and I actually I really liked the way this control is implemented. Besides, the license is BSD, so you will be able to customize the control and use it for commercial purposes if you need to do so.</p>\n"},{"tags":[],"owner":{"account_id":22226,"reputation":3349,"user_id":54623,"accept_rate":65,"display_name":"tuler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255792018,"creation_date":1255792018,"answer_id":1582403,"question_id":1339354,"body_markdown":"There is also [NachoCalendar][1].\r\n\r\n\r\n  [1]: http://nachocalendar.sourceforge.net/","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>There is also <a href=\"http://nachocalendar.sourceforge.net/\" rel=\"nofollow noreferrer\">NachoCalendar</a>.</p>\n"},{"comments":[{"owner":{"account_id":446187,"reputation":380,"user_id":839091,"accept_rate":100,"display_name":"hellodanylo"},"score":0,"creation_date":1342368379,"post_id":9439396,"comment_id":15181641,"body_markdown":"Well, originally Sunday was always the first day of the week.","body":"Well, originally Sunday was always the first day of the week."},{"owner":{"account_id":107153,"reputation":874,"user_id":285060,"accept_rate":93,"display_name":"Sergey Karpushin"},"score":2,"creation_date":1366554750,"post_id":9439396,"comment_id":23044430,"body_markdown":"SkyDan, not everywhere. In Russia first day of week was and still is monday. The ppint is JDatePicker is not well localized.","body":"SkyDan, not everywhere. In Russia first day of week was and still is monday. The ppint is JDatePicker is not well localized."},{"owner":{"account_id":3281906,"reputation":3459,"user_id":2762311,"accept_rate":74,"display_name":"Kishan Bheemajiyani"},"score":0,"creation_date":1383805932,"post_id":9439396,"comment_id":29485222,"body_markdown":"Hello Isma Can we Resize the PoPUP Calender of the Date picker? plz help me.","body":"Hello Isma Can we Resize the PoPUP Calender of the Date picker? plz help me."}],"tags":[],"owner":{"account_id":303681,"reputation":1427,"user_id":612772,"display_name":"fencingCode"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1330125224,"creation_date":1330125224,"answer_id":9439396,"question_id":1339354,"body_markdown":"I&#39;m often late but the best i&#39;ve seen is : [JDatePicker][1]\r\n\r\n(What has surprised me : week start with Sunday - like many Calendar and by the way Sunday is day 0 in Java - but you can edit the source and recompile to get it start with Monday instead ;-) )\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/jdatepicker/","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>I'm often late but the best i've seen is : <a href=\"http://sourceforge.net/projects/jdatepicker/\" rel=\"nofollow\">JDatePicker</a></p>\n\n<p>(What has surprised me : week start with Sunday - like many Calendar and by the way Sunday is day 0 in Java - but you can edit the source and recompile to get it start with Monday instead ;-) )</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1349089978,"post_id":12671906,"comment_id":17100036,"body_markdown":"which exactly do you mean? There are several very different variants out there :-) BTW: please format your code (there&#39;s a help button available which comes up with a how-to)","body":"which exactly do you mean? There are several very different variants out there :-) BTW: please format your code (there&#39;s a help button available which comes up with a how-to)"},{"owner":{"account_id":1893657,"reputation":19,"user_id":1711074,"display_name":"Ajinkya Jagtap"},"score":0,"creation_date":1349091873,"post_id":12671906,"comment_id":17100763,"body_markdown":"jDateChooser which comes with jCalendar","body":"jDateChooser which comes with jCalendar"},{"owner":{"account_id":1893657,"reputation":19,"user_id":1711074,"display_name":"Ajinkya Jagtap"},"score":0,"creation_date":1349091989,"post_id":12671906,"comment_id":17100811,"body_markdown":"I thought it to be easiest way for entering date in all other date pickers","body":"I thought it to be easiest way for entering date in all other date pickers"}],"tags":[],"owner":{"account_id":1893657,"reputation":19,"user_id":1711074,"display_name":"Ajinkya Jagtap"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1349157072,"creation_date":1349088826,"answer_id":12671906,"question_id":1339354,"body_markdown":"jDateChooser which comes with jCalendar is the best component for date:\r\nFollowing is the way to get date from date picker:\r\n\r\n    //dat is name given to datepicker component\r\n    int day=dat.getJCalendar().getDayChooser().getDay();\r\n    int month=dat.getJCalendar().getMonthChooser().getMonth();\r\n    int year=dat.getJCalendar().getYearChooser().getYear();\r\n    String dateNow=year+&quot;/&quot;+month+&quot;/&quot;+day;\r\n    System.out.println(dateNow);\r\n\r\n    //***************************************************\r\n    //For setting date of date picker:\r\n    dat.setDateFormatString(&quot;dd-MM-yyyy&quot;);\r\n    Calendar currentDate = Calendar.getInstance();\r\n    dat.setDate(currentDate.getTime());","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>jDateChooser which comes with jCalendar is the best component for date:\nFollowing is the way to get date from date picker:</p>\n\n<pre><code>//dat is name given to datepicker component\nint day=dat.getJCalendar().getDayChooser().getDay();\nint month=dat.getJCalendar().getMonthChooser().getMonth();\nint year=dat.getJCalendar().getYearChooser().getYear();\nString dateNow=year+\"/\"+month+\"/\"+day;\nSystem.out.println(dateNow);\n\n//***************************************************\n//For setting date of date picker:\ndat.setDateFormatString(\"dd-MM-yyyy\");\nCalendar currentDate = Calendar.getInstance();\ndat.setDate(currentDate.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3784583,"reputation":951,"user_id":3142960,"display_name":"BlakeTNC"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1462316270,"creation_date":1455882029,"answer_id":35504439,"question_id":1339354,"body_markdown":"I&#39;ve tried most of the date pickers out there.&lt;br/&gt;\nI would suggest **LGoodDatePicker**. \n\nhttps://github.com/LGoodDatePicker/LGoodDatePicker\n\nFair disclosure: I am the primary developer.\n\nHere is a general feature list (as adapted from Github):\n\n* Automatic internationalization. \n* Uses the (new) standard Java 8 time package. Also called &quot;java.time&quot; or &quot;JSR-310&quot;.\n* Automatic validation of dates.\n* Fonts and colors can be changed. \n* Optional highlight policies and veto policies.\n* Relatively compact source code (3 core classes).\n* Creating a DatePicker requires only one line of code.\n* Demo program and code samples included.\n* Good Javadocs.\n* Open source license.\n\nScreenshots below:\n\n![LGoodDatePicker Screenshots][1]\n\n  [1]: http://i.stack.imgur.com/4yKQR.png","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>I've tried most of the date pickers out there.<br/>\nI would suggest <strong>LGoodDatePicker</strong>.</p>\n<p><a href=\"https://github.com/LGoodDatePicker/LGoodDatePicker\" rel=\"noreferrer\">https://github.com/LGoodDatePicker/LGoodDatePicker</a></p>\n<p>Fair disclosure: I am the primary developer.</p>\n<p>Here is a general feature list (as adapted from Github):</p>\n<ul>\n<li>Automatic internationalization.</li>\n<li>Uses the (new) standard Java 8 time package. Also called &quot;java.time&quot; or &quot;JSR-310&quot;.</li>\n<li>Automatic validation of dates.</li>\n<li>Fonts and colors can be changed.</li>\n<li>Optional highlight policies and veto policies.</li>\n<li>Relatively compact source code (3 core classes).</li>\n<li>Creating a DatePicker requires only one line of code.</li>\n<li>Demo program and code samples included.</li>\n<li>Good Javadocs.</li>\n<li>Open source license.</li>\n</ul>\n<p>Screenshots below:</p>\n<p><img src=\"https://i.stack.imgur.com/4yKQR.png\" alt=\"LGoodDatePicker Screenshots\" /></p>\n"},{"tags":[],"owner":{"account_id":1312133,"reputation":3175,"user_id":1259924,"accept_rate":73,"display_name":"Greg Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680193862,"creation_date":1676417647,"answer_id":75454243,"question_id":1339354,"body_markdown":"I came across this question myself recently. Found most of the answers obsolete or unsatisfactory so I created my own:\r\n\r\n[![Sierra Date Picker][1]][1] \r\n\r\nIt is fully localized and available as part of the Sierra project on GitHub: \r\n\r\nhttps://github.com/HTTP-RPC/Sierra\r\n\r\nA time picker is also available:\r\n\r\n[![Sierra Time Picker][2]][2]\r\n\r\n  [1]: https://github.com/HTTP-RPC/Sierra/raw/master/README/date-picker.png\r\n  [2]: https://github.com/HTTP-RPC/Sierra/raw/master/README/time-picker.png","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>I came across this question myself recently. Found most of the answers obsolete or unsatisfactory so I created my own:</p>\n<p><a href=\"https://github.com/HTTP-RPC/Sierra/raw/master/README/date-picker.png\" rel=\"nofollow noreferrer\"><img src=\"https://github.com/HTTP-RPC/Sierra/raw/master/README/date-picker.png\" alt=\"Sierra Date Picker\" /></a></p>\n<p>It is fully localized and available as part of the Sierra project on GitHub:</p>\n<p><a href=\"https://github.com/HTTP-RPC/Sierra\" rel=\"nofollow noreferrer\">https://github.com/HTTP-RPC/Sierra</a></p>\n<p>A time picker is also available:</p>\n<p><a href=\"https://github.com/HTTP-RPC/Sierra/raw/master/README/time-picker.png\" rel=\"nofollow noreferrer\"><img src=\"https://github.com/HTTP-RPC/Sierra/raw/master/README/time-picker.png\" alt=\"Sierra Time Picker\" /></a></p>\n"}],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84993,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":1339375,"answer_count":6,"score":27,"last_activity_date":1680193862,"creation_date":1251357004,"question_id":1339354,"body_markdown":"What are good Java Swing date-chooser components? So far I&#39;ve only really found these 2:\r\n\r\n - [`JCalendar`][1] - this one is pretty good as it uses the underlying look and feel.\r\n - `JXMonthView` in the [SwingX][2] project - not so good as it uses its own look and feel\r\n\r\nBoth of these look a bit clunky when compared with some I&#39;ve seen on web-pages. For example, it might be nice to see *multiple months* at the same time. Does anyone know of any other good widgets out there?\r\n\r\n\r\n  [1]: http://toedter.com/jcalendar/\r\n  [2]: https://java.net/projects/swingx","title":"What are good Java date-chooser Swing GUI widgets?","body":"<p>What are good Java Swing date-chooser components? So far I've only really found these 2:</p>\n\n<ul>\n<li><a href=\"http://toedter.com/jcalendar/\" rel=\"noreferrer\"><code>JCalendar</code></a> - this one is pretty good as it uses the underlying look and feel.</li>\n<li><code>JXMonthView</code> in the <a href=\"https://java.net/projects/swingx\" rel=\"noreferrer\">SwingX</a> project - not so good as it uses its own look and feel</li>\n</ul>\n\n<p>Both of these look a bit clunky when compared with some I've seen on web-pages. For example, it might be nice to see <em>multiple months</em> at the same time. Does anyone know of any other good widgets out there?</p>\n"},{"tags":["java","junit","selenium-webdriver","webdriver","junit4"],"comments":[{"owner":{"account_id":2310386,"reputation":2253,"user_id":2028640,"accept_rate":71,"display_name":"Pat"},"score":0,"creation_date":1406202455,"post_id":24932763,"comment_id":38743660,"body_markdown":"what is the version of your JUnit? And how are you running the tests - e.g. ant, maven, eclipse ?","body":"what is the version of your JUnit? And how are you running the tests - e.g. ant, maven, eclipse ?"},{"owner":{"account_id":2600348,"reputation":1327,"user_id":2252938,"accept_rate":83,"display_name":"Maas"},"score":0,"creation_date":1406202481,"post_id":24932763,"comment_id":38743675,"body_markdown":"I think non of your tests are in the category DCCTests, so the runner finds no tests left after applying the filter. To confirm, can you please put your test sample here?","body":"I think non of your tests are in the category DCCTests, so the runner finds no tests left after applying the filter. To confirm, can you please put your test sample here?"},{"owner":{"account_id":2935890,"reputation":378,"user_id":2514784,"accept_rate":80,"display_name":"Prasad"},"score":0,"creation_date":1406202931,"post_id":24932763,"comment_id":38744012,"body_markdown":"@Pat: I am running using eclipse.","body":"@Pat: I am running using eclipse."},{"owner":{"account_id":2935890,"reputation":378,"user_id":2514784,"accept_rate":80,"display_name":"Prasad"},"score":0,"creation_date":1406202949,"post_id":24932763,"comment_id":38744024,"body_markdown":"@Girish: No there are many tests in DCCTests.","body":"@Girish: No there are many tests in DCCTests."},{"owner":{"account_id":2310386,"reputation":2253,"user_id":2028640,"accept_rate":71,"display_name":"Pat"},"score":0,"creation_date":1406203110,"post_id":24932763,"comment_id":38744141,"body_markdown":"@Prasad - and ur JUnit version?","body":"@Prasad - and ur JUnit version?"},{"owner":{"account_id":2935890,"reputation":378,"user_id":2514784,"accept_rate":80,"display_name":"Prasad"},"score":0,"creation_date":1406203297,"post_id":24932763,"comment_id":38744288,"body_markdown":"@Pat: Version is 4.10","body":"@Pat: Version is 4.10"}],"answers":[{"tags":[],"owner":{"account_id":2600348,"reputation":1327,"user_id":2252938,"accept_rate":83,"display_name":"Maas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406203796,"creation_date":1406203796,"answer_id":24933312,"question_id":24932763,"body_markdown":"Here is the working example for @Category (The example is from Java Doc). It works with my JUnit 4.11\r\n\r\norg.junit.experimental.categories.Categories\r\n\r\n    public interface FastTests {\r\n     }\r\n     \t\r\n     public interface SlowTests {\r\n     }\r\n     \r\n     public static class A {\r\n     \t@Test\r\n     \tpublic void a() {\r\n     \t\tfail();\r\n     \t}\r\n     \r\n     \t@Category(SlowTests.class)\r\n     \t@Test\r\n     \tpublic void b() {\r\n     \t}\r\n     }\r\n     \r\n     @Category( { SlowTests.class, FastTests.class })\r\n     public static class B {\r\n     \t@Test\r\n     \tpublic void c() {\r\n     \r\n     \t}\r\n     }\r\n     \r\n     @RunWith(Categories.class)\r\n     @IncludeCategory(SlowTests.class)\r\n     @SuiteClasses( { A.class, B.class })\r\n     // Note that Categories is a kind of Suite\r\n     public static class SlowTestSuite {\r\n     }\r\n\r\n\r\nA main to call:\r\n\r\n    public static void main(String[] args)\r\n    \t{\r\n    \t\tResult result  = JUnitCore.runClasses(SlowTestSuite.class);\r\n    \t\t\r\n    \t\t/** Check results **/\r\n    \t}","title":"Getting NoTestsRemainException when I try to run my junits","body":"<p>Here is the working example for @Category (The example is from Java Doc). It works with my JUnit 4.11</p>\n\n<p>org.junit.experimental.categories.Categories</p>\n\n<pre><code>public interface FastTests {\n }\n\n public interface SlowTests {\n }\n\n public static class A {\n    @Test\n    public void a() {\n        fail();\n    }\n\n    @Category(SlowTests.class)\n    @Test\n    public void b() {\n    }\n }\n\n @Category( { SlowTests.class, FastTests.class })\n public static class B {\n    @Test\n    public void c() {\n\n    }\n }\n\n @RunWith(Categories.class)\n @IncludeCategory(SlowTests.class)\n @SuiteClasses( { A.class, B.class })\n // Note that Categories is a kind of Suite\n public static class SlowTestSuite {\n }\n</code></pre>\n\n<p>A main to call:</p>\n\n<pre><code>public static void main(String[] args)\n    {\n        Result result  = JUnitCore.runClasses(SlowTestSuite.class);\n\n        /** Check results **/\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417285778,"creation_date":1417285778,"answer_id":27205516,"question_id":24932763,"body_markdown":"I discussed a similar problem in https://stackoverflow.com/questions/16587994/what-is-junit-trying-to-tell-me-when-it-throws-a-notestsremainexception, the cause for me was an outdated JUnit jar of version 3.8 being loaded instead of the required JUnit 4.11.","title":"Getting NoTestsRemainException when I try to run my junits","body":"<p>I discussed a similar problem in <a href=\"https://stackoverflow.com/questions/16587994/what-is-junit-trying-to-tell-me-when-it-throws-a-notestsremainexception\">What is Junit trying to tell me when it throws a &quot;NoTestsRemainException&quot;</a>, the cause for me was an outdated JUnit jar of version 3.8 being loaded instead of the required JUnit 4.11.</p>\n"},{"tags":[],"owner":{"account_id":974204,"reputation":104,"user_id":996026,"display_name":"Denilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525275912,"creation_date":1525275912,"answer_id":50138606,"question_id":24932763,"body_markdown":"The message is technically correct for your sample, but very misleading.\r\n\r\norg.junit.runners.AllTests.class is not a valid parameter for @SuiteClasses (it is meant to be a JUnit 3.8 adapter) , so that the Categories runner discards it internally and then reports it has &quot;no remaining tests&quot; to run.\r\n\r\nI suppose the incomplete error handling goes with the &quot;experimental&quot; part of the Java package for Categories, which is now deprecated by the new @Tag annotation in JUnit 5.\r\n\r\nIf you need to dynamically include all tests contained in classes in the classpath, try this thread: https://stackoverflow.com/questions/3257080/how-do-i-dynamically-create-a-test-suite-in-junit-4\r\n","title":"Getting NoTestsRemainException when I try to run my junits","body":"<p>The message is technically correct for your sample, but very misleading.</p>\n\n<p>org.junit.runners.AllTests.class is not a valid parameter for @SuiteClasses (it is meant to be a JUnit 3.8 adapter) , so that the Categories runner discards it internally and then reports it has \"no remaining tests\" to run.</p>\n\n<p>I suppose the incomplete error handling goes with the \"experimental\" part of the Java package for Categories, which is now deprecated by the new @Tag annotation in JUnit 5.</p>\n\n<p>If you need to dynamically include all tests contained in classes in the classpath, try this thread: <a href=\"https://stackoverflow.com/questions/3257080/how-do-i-dynamically-create-a-test-suite-in-junit-4\">How do I Dynamically create a Test Suite in JUnit 4?</a></p>\n"},{"tags":[],"owner":{"account_id":28141879,"reputation":1,"user_id":21504798,"display_name":"Jiri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680193281,"creation_date":1679949687,"answer_id":75860202,"question_id":24932763,"body_markdown":"A little bit late, but could be worth for someone\r\n\r\n1. Make sure you are using proper versions of libs. In my case `junit-4.13.2`, JUnit 5 = JUnit Platform 1.9.2 + JUnit Jupiter 5.9.2 + JUnit Vintage 5.9.2\r\n\r\n2. Annotation `@Test` is imported using `org.junit.Test`, not a `org.junit.jupiter.api.Test`\r\n\r\n3. Make all tests methods and class public","title":"Getting NoTestsRemainException when I try to run my junits","body":"<p>A little bit late, but could be worth for someone</p>\n<ol>\n<li><p>Make sure you are using proper versions of libs. In my case <code>junit-4.13.2</code>, JUnit 5 = JUnit Platform 1.9.2 + JUnit Jupiter 5.9.2 + JUnit Vintage 5.9.2</p>\n</li>\n<li><p>Annotation <code>@Test</code> is imported using <code>org.junit.Test</code>, not a <code>org.junit.jupiter.api.Test</code></p>\n</li>\n<li><p>Make all tests methods and class public</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2935890,"reputation":378,"user_id":2514784,"accept_rate":80,"display_name":"Prasad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2558,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1680193281,"creation_date":1406202287,"question_id":24932763,"body_markdown":"I am new to junits. When I try to run my testsuite it is giving me this error. I googled but didn&#39;t get any answer. Posting the stacktrace.\r\n    \r\n    org.junit.runner.manipulation.NoTestsRemainException\r\n    at org.junit.runners.ParentRunner.filter(ParentRunner.java:327)\r\n    at org.junit.experimental.categories.Categories.&lt;init&gt;(Categories.java:151)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:35)\r\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:24)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\r\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:29)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\r\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:24)\r\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.&lt;init&gt;(JUnit4TestReference.java:33)\r\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestClassReference.&lt;init&gt;(JUnit4TestClassReference.java:25)\r\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:48)\r\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:38)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:452)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n    \r\nHere is the testsuite which I am trying to run.\r\n    \r\n    @RunWith(Categories.class)\r\n    @Categories.IncludeCategory(DCCTests.class)\r\n    @SuiteClasses({ AllTests.class })\r\n    public class DealerCommandCenterTestsSuite {\r\n    \r\n    }\r\n\r\n","title":"Getting NoTestsRemainException when I try to run my junits","body":"<p>I am new to junits. When I try to run my testsuite it is giving me this error. I googled but didn't get any answer. Posting the stacktrace.</p>\n\n<pre><code>org.junit.runner.manipulation.NoTestsRemainException\nat org.junit.runners.ParentRunner.filter(ParentRunner.java:327)\nat org.junit.experimental.categories.Categories.&lt;init&gt;(Categories.java:151)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\nat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:35)\nat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:24)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\nat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:29)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\nat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:24)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.&lt;init&gt;(JUnit4TestReference.java:33)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestClassReference.&lt;init&gt;(JUnit4TestClassReference.java:25)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:48)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:452)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>Here is the testsuite which I am trying to run.</p>\n\n<pre><code>@RunWith(Categories.class)\n@Categories.IncludeCategory(DCCTests.class)\n@SuiteClasses({ AllTests.class })\npublic class DealerCommandCenterTestsSuite {\n\n}\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680193002,"creation_date":1680192205,"answer_id":75890551,"question_id":75890463,"body_markdown":"You should you [map][1] for intermediate operation for mapping value into another\r\n\r\n    List&lt;Resource&gt; qualifyingResources = this.resources.entrySet().stream()\r\n            .filter(entry -&gt; entry.getValue().getType().equals(inputType))\r\n            .map(Map.Entry::getValue)\r\n            .collect(Collectors.toList());\r\n\r\nFYI, the [Collectors.toList()][2] will not accept any arguments, and i would recommend this nice [article][3] on streams\r\n\r\nIf the `key` is never used then you can simply stream the values itself\r\n\r\n        List&lt;Resource&gt; qualifyingResources = this.resources.values().stream()\r\n            .filter(value -&gt; value.getType().equals(inputType))\r\n            .collect(Collectors.toList());\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#toList()\r\n  [3]: https://www.baeldung.com/java-maps-streams","title":"Java 8 Filtering Map and Producing a List","body":"<p>You should you <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\">map</a> for intermediate operation for mapping value into another</p>\n<pre><code>List&lt;Resource&gt; qualifyingResources = this.resources.entrySet().stream()\n        .filter(entry -&gt; entry.getValue().getType().equals(inputType))\n        .map(Map.Entry::getValue)\n        .collect(Collectors.toList());\n</code></pre>\n<p>FYI, the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#toList()\" rel=\"nofollow noreferrer\">Collectors.toList()</a> will not accept any arguments, and i would recommend this nice <a href=\"https://www.baeldung.com/java-maps-streams\" rel=\"nofollow noreferrer\">article</a> on streams</p>\n<p>If the <code>key</code> is never used then you can simply stream the values itself</p>\n<pre><code>    List&lt;Resource&gt; qualifyingResources = this.resources.values().stream()\n        .filter(value -&gt; value.getType().equals(inputType))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680192438,"creation_date":1680192438,"answer_id":75890588,"question_id":75890463,"body_markdown":"`required: no arguments` should be your first clue.  [The documentation of that method](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#toList()) should be your second clue.  When you are having trouble with a method, always check its documentation first.\r\n\r\n[Map](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)) the Stream elements to Resource objects, *then* collect them into a List.\r\n\r\nAnd since you only care about the Map’s values, why bother with the Map’s entries?  Just make a Stream from the values:\r\n\r\n    //                          values, not entrySet ─────┐\r\n    List&lt;Resource&gt; qualifyingResources = this.resources.values().stream()\r\n            .filter(value -&gt; value.getType().equals(inputType))\r\n            .map(value -&gt; (Resource) value)\r\n            .collect(Collectors.toList());\r\n","title":"Java 8 Filtering Map and Producing a List","body":"<p><code>required: no arguments</code> should be your first clue.  <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#toList()\" rel=\"nofollow noreferrer\">The documentation of that method</a> should be your second clue.  When you are having trouble with a method, always check its documentation first.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\">Map</a> the Stream elements to Resource objects, <em>then</em> collect them into a List.</p>\n<p>And since you only care about the Map’s values, why bother with the Map’s entries?  Just make a Stream from the values:</p>\n<pre><code>//                          values, not entrySet ─────┐\nList&lt;Resource&gt; qualifyingResources = this.resources.values().stream()\n        .filter(value -&gt; value.getType().equals(inputType))\n        .map(value -&gt; (Resource) value)\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19094773,"reputation":79,"user_id":13944304,"display_name":"tamouz hmidan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680192834,"creation_date":1680192834,"answer_id":75890635,"question_id":75890463,"body_markdown":"I think what is causing this problem is that you are misusing `Collectors.toList()`\r\nas you are providing arguments for toList() while this method doesn&#39;t accept arguments the error log shows this error\r\n**[javac]   required: no arguments**\r\n\r\n\r\nyou can check this documentation on how to use `Collectors.toList()` https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--\r\n\r\nI would recommend you do the following:\r\n\r\n    this.resources.entrySet().stream()\r\n     .filter(entry -&gt; entry.getValue().getType().equals(inputType))\r\n     .map(entry-&gt;(Resource) entry.getValue())\r\n     .collect(Collectors.toList());\r\n\r\n","title":"Java 8 Filtering Map and Producing a List","body":"<p>I think what is causing this problem is that you are misusing <code>Collectors.toList()</code>\nas you are providing arguments for toList() while this method doesn't accept arguments the error log shows this error\n<strong>[javac]   required: no arguments</strong></p>\n<p>you can check this documentation on how to use <code>Collectors.toList()</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--</a></p>\n<p>I would recommend you do the following:</p>\n<pre><code>this.resources.entrySet().stream()\n .filter(entry -&gt; entry.getValue().getType().equals(inputType))\n .map(entry-&gt;(Resource) entry.getValue())\n .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":5922843,"reputation":29,"user_id":4659692,"display_name":"Timothy Noon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1680193002,"creation_date":1680191626,"question_id":75890463,"body_markdown":"I&#39;m trying to filter a java.util.Map produce a List of the values from the Map.  Here&#39;s what I tried:\r\n\r\n\tprotected Map&lt;String, BaseObject&gt; resources;\r\n\r\n\tList&lt;Resource&gt; qualifyingResources = this.resources.entrySet().stream()\r\n                .filter(entry -&gt; entry.getValue().getType().equals(inputType))\r\n                .collect(Collectors.toList(entry -&gt; (Resource) entry.getValue()));\r\n\r\nI get the following compile error.  \r\n\r\n    [javac] C:\\iPipeline_Repos\\resonant-guardian\\server\\buildsrc\\com\\resonant\\guardian\\services\\nbs\\Inbound103Processor.java:4490: error: method toList in class Collectors cannot be applied to given types;\r\n    [javac]                 .collect(Collectors.toList(entry -&gt; (Resource) entry.getValue()));\r\n    [javac]                                    ^\r\n    [javac]   required: no arguments\r\n    [javac]   found: (entry)-&gt;([...]lue()\r\n    [javac]   reason: cannot infer type-variable(s) T\r\n    [javac]     (actual and formal argument lists differ in length)\r\n    [javac]   where T is a type-variable:\r\n    [javac]     T extends Object declared in method &lt;T&gt;toList()\r\n\r\nAny ideas how to correct?\r\n\r\nThanks in advance for your help.\r\n\r\n","title":"Java 8 Filtering Map and Producing a List","body":"<p>I'm trying to filter a java.util.Map produce a List of the values from the Map.  Here's what I tried:</p>\n<pre><code>protected Map&lt;String, BaseObject&gt; resources;\n\nList&lt;Resource&gt; qualifyingResources = this.resources.entrySet().stream()\n            .filter(entry -&gt; entry.getValue().getType().equals(inputType))\n            .collect(Collectors.toList(entry -&gt; (Resource) entry.getValue()));\n</code></pre>\n<p>I get the following compile error.</p>\n<pre><code>[javac] C:\\iPipeline_Repos\\resonant-guardian\\server\\buildsrc\\com\\resonant\\guardian\\services\\nbs\\Inbound103Processor.java:4490: error: method toList in class Collectors cannot be applied to given types;\n[javac]                 .collect(Collectors.toList(entry -&gt; (Resource) entry.getValue()));\n[javac]                                    ^\n[javac]   required: no arguments\n[javac]   found: (entry)-&gt;([...]lue()\n[javac]   reason: cannot infer type-variable(s) T\n[javac]     (actual and formal argument lists differ in length)\n[javac]   where T is a type-variable:\n[javac]     T extends Object declared in method &lt;T&gt;toList()\n</code></pre>\n<p>Any ideas how to correct?</p>\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java","spring","caching","ehcache"],"comments":[{"owner":{"account_id":50244,"reputation":23397,"user_id":149818,"accept_rate":74,"display_name":"Dewfy"},"score":0,"creation_date":1370271499,"post_id":16899604,"comment_id":24387495,"body_markdown":"are you use same value for `someDate` param?","body":"are you use same value for <code>someDate</code> param?"},{"owner":{"account_id":966925,"reputation":4497,"user_id":990208,"accept_rate":82,"display_name":"Bala"},"score":0,"creation_date":1370271670,"post_id":16899604,"comment_id":24387591,"body_markdown":"@Dewfy Yes, it is same","body":"@Dewfy Yes, it is same"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1535006081,"post_id":16899604,"comment_id":90908881,"body_markdown":"Possible duplicate of [Spring cache @Cacheable method ignored when called from within the same class](https://stackoverflow.com/questions/12115996/spring-cache-cacheable-method-ignored-when-called-from-within-the-same-class)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/12115996/spring-cache-cacheable-method-ignored-when-called-from-within-the-same-class\">Spring cache @Cacheable method ignored when called from within the same class</a>"}],"answers":[{"comments":[{"owner":{"account_id":160547,"reputation":7975,"user_id":380691,"accept_rate":86,"display_name":"Shawn D."},"score":1,"creation_date":1370272121,"post_id":16899739,"comment_id":24387848,"body_markdown":"Well, if you make the second call Cacheable as well, it&#39;ll only have one cache miss.  That is, only the first call to getEmployeeEnrichedData will bypass the cache.  The second call to it would used the previously-cached return from the first call to getEmployeeEnrichedData.","body":"Well, if you make the second call Cacheable as well, it&#39;ll only have one cache miss.  That is, only the first call to getEmployeeEnrichedData will bypass the cache.  The second call to it would used the previously-cached return from the first call to getEmployeeEnrichedData."},{"owner":{"account_id":1485549,"reputation":521,"user_id":1393920,"accept_rate":80,"display_name":"VAdaihiep"},"score":1,"creation_date":1475743182,"post_id":16899739,"comment_id":67068546,"body_markdown":"@Bala I have same issue, my solution is move `@Cacheable` to DAO :( If you have better solution please let me know, thanks.","body":"@Bala I have same issue, my solution is move <code>@Cacheable</code> to DAO :( If you have better solution please let me know, thanks."},{"owner":{"account_id":3733370,"reputation":281,"user_id":3105021,"accept_rate":25,"display_name":"DOUBL3P"},"score":2,"creation_date":1502352144,"post_id":16899739,"comment_id":78174232,"body_markdown":"you also can write a Service e.g. CacheService and put all your to cache methods into the service. Autowire the Service where you need and call the methods. Helped in my case.","body":"you also can write a Service e.g. CacheService and put all your to cache methods into the service. Autowire the Service where you need and call the methods. Helped in my case."},{"owner":{"account_id":539660,"reputation":15051,"user_id":907576,"accept_rate":62,"display_name":"radistao"},"score":1,"creation_date":1519046262,"post_id":16899739,"comment_id":84737291,"body_markdown":"Since Spring 4.3 this could be solved using `@Resource` self-autowiring, see example https://stackoverflow.com/a/48867068/907576","body":"Since Spring 4.3 this could be solved using <code>@Resource</code> self-autowiring, see example <a href=\"https://stackoverflow.com/a/48867068/907576\">stackoverflow.com/a/48867068/907576</a>"},{"owner":{"account_id":11250781,"reputation":379,"user_id":8251948,"display_name":"anand"},"score":5,"creation_date":1591269569,"post_id":16899739,"comment_id":109994713,"body_markdown":"Also the external `@Cacheable` method should be `public`, it doesn&#39;t work on package-private methods. Found it the hard way.","body":"Also the external <code>@Cacheable</code> method should be <code>public</code>, it doesn&#39;t work on package-private methods. Found it the hard way."},{"owner":{"account_id":1522148,"reputation":597,"user_id":1421518,"accept_rate":100,"display_name":"amstegraf"},"score":1,"creation_date":1614791569,"post_id":16899739,"comment_id":117494827,"body_markdown":"most if not all of the annotations in spring are done through aop which is by proxy class, thus this calls don&#39;t work, because of course calling a method within means you don&#39;t go through the proxy anymore","body":"most if not all of the annotations in spring are done through aop which is by proxy class, thus this calls don&#39;t work, because of course calling a method within means you don&#39;t go through the proxy anymore"}],"tags":[],"owner":{"account_id":160547,"reputation":7975,"user_id":380691,"accept_rate":86,"display_name":"Shawn D."},"comment_count":6,"down_vote_count":0,"up_vote_count":258,"is_accepted":true,"score":258,"last_activity_date":1451909958,"creation_date":1370271493,"answer_id":16899739,"question_id":16899604,"body_markdown":"I believe this is how it works.  From what I remember reading, there is a proxy class generated that intercepts all requests and responds with the cached value, but &#39;internal&#39; calls within the same class will not get the cached value.\r\n\r\nFrom https://code.google.com/p/ehcache-spring-annotations/wiki/UsingCacheable\r\n\r\n&gt; Only external method calls coming in through the proxy are\r\n&gt; intercepted. This means that self-invocation, in effect, a method\r\n&gt; within the target object calling another method of the target object,\r\n&gt; will not lead to an actual cache interception at runtime even if the\r\n&gt; invoked method is marked with @Cacheable.","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>I believe this is how it works.  From what I remember reading, there is a proxy class generated that intercepts all requests and responds with the cached value, but 'internal' calls within the same class will not get the cached value.</p>\n\n<p>From <a href=\"https://code.google.com/p/ehcache-spring-annotations/wiki/UsingCacheable\" rel=\"noreferrer\">https://code.google.com/p/ehcache-spring-annotations/wiki/UsingCacheable</a></p>\n\n<blockquote>\n  <p>Only external method calls coming in through the proxy are\n  intercepted. This means that self-invocation, in effect, a method\n  within the target object calling another method of the target object,\n  will not lead to an actual cache interception at runtime even if the\n  invoked method is marked with @Cacheable.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":966925,"reputation":4497,"user_id":990208,"accept_rate":82,"display_name":"Bala"},"score":0,"creation_date":1370343535,"post_id":16900099,"comment_id":24416886,"body_markdown":"What is &quot;static weaving&quot;? google doesn&#39;t help much. Any pointers to understand this concepts ?","body":"What is &quot;static weaving&quot;? google doesn&#39;t help much. Any pointers to understand this concepts ?"},{"owner":{"account_id":50244,"reputation":23397,"user_id":149818,"accept_rate":74,"display_name":"Dewfy"},"score":0,"creation_date":1370345063,"post_id":16900099,"comment_id":24417689,"body_markdown":"@Bala - just for example on our project we use `&lt;iajc` compiler (from ant) that resolves all necessity aspects for cache-able classes.","body":"@Bala - just for example on our project we use <code>&lt;iajc</code> compiler (from ant) that resolves all necessity aspects for cache-able classes."}],"tags":[],"owner":{"account_id":50244,"reputation":23397,"user_id":149818,"accept_rate":74,"display_name":"Dewfy"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1370272525,"creation_date":1370272525,"answer_id":16900099,"question_id":16899604,"body_markdown":"Use static weaving to create proxy around your bean. In this case even &#39;internal&#39; methods would work correctly","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>Use static weaving to create proxy around your bean. In this case even 'internal' methods would work correctly</p>\n"},{"comments":[{"owner":{"account_id":2042735,"reputation":183,"user_id":1823525,"accept_rate":62,"display_name":"Coder"},"score":1,"creation_date":1454193500,"post_id":34091265,"comment_id":57937106,"body_markdown":"could you give an example with AspectJ ?","body":"could you give an example with AspectJ ?"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":2,"creation_date":1594398380,"post_id":34091265,"comment_id":111122404,"body_markdown":"This answer is a duplicate of https://stackoverflow.com/a/34090850/1371329.","body":"This answer is a duplicate of <a href=\"https://stackoverflow.com/a/34090850/1371329\">stackoverflow.com/a/34090850/1371329</a>."}],"tags":[],"owner":{"account_id":3551586,"reputation":2743,"user_id":2966331,"display_name":"Mario Eis"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1449241426,"creation_date":1449241426,"answer_id":34091265,"question_id":16899604,"body_markdown":"Here is what I do for small projects with only marginal usage of method calls within the same class. In-code documentation is strongly advidsed, as it may look strage to colleagues. But its easy to test, simple, quick to achieve and spares me the full blown AspectJ instrumentation. However, for more heavy usage I&#39;d advice the AspectJ solution.\r\n\r\n    @Service\r\n    @Scope(proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n    class AService {\r\n    \r\n        private final AService _aService;\r\n    \r\n        @Autowired\r\n        public AService(AService aService) {\r\n            _aService = aService;\r\n        }\r\n    \r\n        @Cacheable(&quot;employeeData&quot;)\r\n        public List&lt;EmployeeData&gt; getEmployeeData(Date date){\r\n            ..println(&quot;Cache is not being used&quot;);\r\n            ...\r\n        }\r\n    \r\n        public List&lt;EmployeeEnrichedData&gt; getEmployeeEnrichedData(Date date){\r\n            List&lt;EmployeeData&gt; employeeData = _aService.getEmployeeData(date);\r\n            ...\r\n        }\r\n    }","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>Here is what I do for small projects with only marginal usage of method calls within the same class. In-code documentation is strongly advidsed, as it may look strage to colleagues. But its easy to test, simple, quick to achieve and spares me the full blown AspectJ instrumentation. However, for more heavy usage I'd advice the AspectJ solution.</p>\n\n<pre><code>@Service\n@Scope(proxyMode = ScopedProxyMode.TARGET_CLASS)\nclass AService {\n\n    private final AService _aService;\n\n    @Autowired\n    public AService(AService aService) {\n        _aService = aService;\n    }\n\n    @Cacheable(\"employeeData\")\n    public List&lt;EmployeeData&gt; getEmployeeData(Date date){\n        ..println(\"Cache is not being used\");\n        ...\n    }\n\n    public List&lt;EmployeeEnrichedData&gt; getEmployeeEnrichedData(Date date){\n        List&lt;EmployeeData&gt; employeeData = _aService.getEmployeeData(date);\n        ...\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":56162,"reputation":18871,"user_id":168212,"accept_rate":79,"display_name":"SingleShot"},"score":1,"creation_date":1507926298,"post_id":40340964,"comment_id":80421921,"body_markdown":"Accessing the application context, e.g. `applicationContext.getBean(SettingService.class);`, is the opposite of dependency injection. I suggest avoiding that style.","body":"Accessing the application context, e.g. <code>applicationContext.getBean(SettingService.class);</code>, is the opposite of dependency injection. I suggest avoiding that style."},{"owner":{"account_id":142190,"reputation":2002,"user_id":349731,"accept_rate":100,"display_name":"molholm"},"score":2,"creation_date":1508082117,"post_id":40340964,"comment_id":80458896,"body_markdown":"Yes it would be better to avoid it, but I do not see a better solution for this problem.","body":"Yes it would be better to avoid it, but I do not see a better solution for this problem."}],"tags":[],"owner":{"account_id":142190,"reputation":2002,"user_id":349731,"accept_rate":100,"display_name":"molholm"},"comment_count":2,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1477912117,"creation_date":1477912117,"answer_id":40340964,"question_id":16899604,"body_markdown":"The example below is what I use to hit the proxy from within the same bean, it is similar to @mario-eis&#39; solution, but I find it a bit more readable (maybe it&#39;s not:-). Anyway, I like to keep the @Cacheable annotations at the service level:\r\n\r\n    @Service\r\n    @Transactional(readOnly=true)\r\n    public class SettingServiceImpl implements SettingService {\r\n\r\n\t@Inject\r\n\tprivate SettingRepository settingRepository;\r\n\t\r\n\t@Inject\r\n\tprivate ApplicationContext applicationContext;\r\n\t\r\n\t@Override\r\n\t@Cacheable(&quot;settingsCache&quot;)\r\n\tpublic String findValue(String name) {\r\n\t\tSetting setting = settingRepository.findOne(name);\r\n\t\tif(setting == null){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn setting.getValue();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Boolean findBoolean(String name) {\r\n\t\tString value = getSpringProxy().findValue(name);\r\n\t\tif (value == null) {\r\n            return null;\r\n        }\r\n\t\treturn Boolean.valueOf(value);\r\n\t}\r\n\r\n\t/**\r\n\t * Use proxy to hit cache \r\n\t */\r\n    private SettingService getSpringProxy() {\r\n        return applicationContext.getBean(SettingService.class);\r\n    }\r\n    ...\r\n\r\nSee also https://stackoverflow.com/questions/3037006/starting-new-transaction-in-spring-bean/3037120#3037120","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>The example below is what I use to hit the proxy from within the same bean, it is similar to @mario-eis' solution, but I find it a bit more readable (maybe it's not:-). Anyway, I like to keep the @Cacheable annotations at the service level:</p>\n\n<pre><code>@Service\n@Transactional(readOnly=true)\npublic class SettingServiceImpl implements SettingService {\n\n@Inject\nprivate SettingRepository settingRepository;\n\n@Inject\nprivate ApplicationContext applicationContext;\n\n@Override\n@Cacheable(\"settingsCache\")\npublic String findValue(String name) {\n    Setting setting = settingRepository.findOne(name);\n    if(setting == null){\n        return null;\n    }\n    return setting.getValue();\n}\n\n@Override\npublic Boolean findBoolean(String name) {\n    String value = getSpringProxy().findValue(name);\n    if (value == null) {\n        return null;\n    }\n    return Boolean.valueOf(value);\n}\n\n/**\n * Use proxy to hit cache \n */\nprivate SettingService getSpringProxy() {\n    return applicationContext.getBean(SettingService.class);\n}\n...\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/3037006/starting-new-transaction-in-spring-bean/3037120#3037120\">Starting new transaction in Spring bean</a></p>\n"},{"tags":[],"owner":{"account_id":539660,"reputation":15051,"user_id":907576,"accept_rate":62,"display_name":"radistao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515502812,"creation_date":1515502812,"answer_id":48168762,"question_id":16899604,"body_markdown":"I use internal inner bean (`FactoryInternalCache`) with real cache for this purpose:\r\n\r\n    @Component\r\n    public class CacheableClientFactoryImpl implements ClientFactory {\r\n    \r\n    private final FactoryInternalCache factoryInternalCache;\r\n    \r\n    @Autowired\r\n    public CacheableClientFactoryImpl(@Nonnull FactoryInternalCache factoryInternalCache) {\r\n        this.factoryInternalCache = factoryInternalCache;\r\n    }\r\n    \r\n    /**\r\n     * Returns cached client instance from cache.\r\n     */\r\n    @Override\r\n    public Client createClient(@Nonnull AggregatedConfig aggregateConfig) {\r\n        return factoryInternalCache.createClient(aggregateConfig.getClientConfig());\r\n    }\r\n    \r\n    /**\r\n     * Returns cached client instance from cache.\r\n     */\r\n    @Override\r\n    public Client createClient(@Nonnull ClientConfig clientConfig) {\r\n        return factoryInternalCache.createClient(clientConfig);\r\n    }\r\n    \r\n    /**\r\n     * Spring caching feature works over AOP proxies, thus internal calls to cached methods don&#39;t work. That&#39;s why\r\n     * this internal bean is created: it &quot;proxifies&quot; overloaded {@code #createClient(...)} methods\r\n     * to real AOP proxified cacheable bean method {@link #createClient}.\r\n     *\r\n     * @see &lt;a href=&quot;https://stackoverflow.com/questions/16899604/spring-cache-cacheable-not-working-while-calling-from-another-method-of-the-s&quot;&gt;Spring Cache @Cacheable - not working while calling from another method of the same bean&lt;/a&gt;\r\n     * @see &lt;a href=&quot;https://stackoverflow.com/questions/12115996/spring-cache-cacheable-method-ignored-when-called-from-within-the-same-class&quot;&gt;Spring cache @Cacheable method ignored when called from within the same class&lt;/a&gt;\r\n     */\r\n    @EnableCaching\r\n    @CacheConfig(cacheNames = &quot;ClientFactoryCache&quot;)\r\n    static class FactoryInternalCache {\r\n    \r\n        @Cacheable(sync = true)\r\n        public Client createClient(@Nonnull ClientConfig clientConfig) {\r\n            return ClientCreationUtils.createClient(clientConfig);\r\n        }\r\n    }\r\n    }","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>I use internal inner bean (<code>FactoryInternalCache</code>) with real cache for this purpose:</p>\n\n<pre><code>@Component\npublic class CacheableClientFactoryImpl implements ClientFactory {\n\nprivate final FactoryInternalCache factoryInternalCache;\n\n@Autowired\npublic CacheableClientFactoryImpl(@Nonnull FactoryInternalCache factoryInternalCache) {\n    this.factoryInternalCache = factoryInternalCache;\n}\n\n/**\n * Returns cached client instance from cache.\n */\n@Override\npublic Client createClient(@Nonnull AggregatedConfig aggregateConfig) {\n    return factoryInternalCache.createClient(aggregateConfig.getClientConfig());\n}\n\n/**\n * Returns cached client instance from cache.\n */\n@Override\npublic Client createClient(@Nonnull ClientConfig clientConfig) {\n    return factoryInternalCache.createClient(clientConfig);\n}\n\n/**\n * Spring caching feature works over AOP proxies, thus internal calls to cached methods don't work. That's why\n * this internal bean is created: it \"proxifies\" overloaded {@code #createClient(...)} methods\n * to real AOP proxified cacheable bean method {@link #createClient}.\n *\n * @see &lt;a href=\"https://stackoverflow.com/questions/16899604/spring-cache-cacheable-not-working-while-calling-from-another-method-of-the-s\"&gt;Spring Cache @Cacheable - not working while calling from another method of the same bean&lt;/a&gt;\n * @see &lt;a href=\"https://stackoverflow.com/questions/12115996/spring-cache-cacheable-method-ignored-when-called-from-within-the-same-class\"&gt;Spring cache @Cacheable method ignored when called from within the same class&lt;/a&gt;\n */\n@EnableCaching\n@CacheConfig(cacheNames = \"ClientFactoryCache\")\nstatic class FactoryInternalCache {\n\n    @Cacheable(sync = true)\n    public Client createClient(@Nonnull ClientConfig clientConfig) {\n        return ClientCreationUtils.createClient(clientConfig);\n    }\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":5,"creation_date":1547852338,"post_id":48867068,"comment_id":95349099,"body_markdown":"Tried this under `4.3.17` and it didn&#39;t work, calls to `self` don&#39;t go through a proxy and the cache is (still) bypassed.","body":"Tried this under <code>4.3.17</code> and it didn&#39;t work, calls to <code>self</code> don&#39;t go through a proxy and the cache is (still) bypassed."},{"owner":{"account_id":3240077,"reputation":2811,"user_id":2733333,"accept_rate":89,"display_name":"Tomas Bisciak"},"score":0,"creation_date":1557915913,"post_id":48867068,"comment_id":98923646,"body_markdown":"Worked for me. Cache hits.  I use latest spring dependencies as of this date.","body":"Worked for me. Cache hits.  I use latest spring dependencies as of this date."},{"owner":{"account_id":1315694,"reputation":2300,"user_id":1262633,"display_name":"2mia"},"score":0,"creation_date":1564489839,"post_id":48867068,"comment_id":101041473,"body_markdown":"am I the only one thinking this breaks patterns, looks like a singleton mix, etc etc?","body":"am I the only one thinking this breaks patterns, looks like a singleton mix, etc etc?"},{"owner":{"account_id":293375,"reputation":882,"user_id":596634,"accept_rate":17,"display_name":"Deepan Prabhu Babu"},"score":0,"creation_date":1579878560,"post_id":48867068,"comment_id":105925414,"body_markdown":"i used spring boot starter version - 2.1.0.RELEASE, and i had the same issue. This particular solution worked like a charm.","body":"i used spring boot starter version - 2.1.0.RELEASE, and i had the same issue. This particular solution worked like a charm."},{"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"score":8,"creation_date":1599744203,"post_id":48867068,"comment_id":112873122,"body_markdown":"Will, it does not create a cyclic dependency?","body":"Will, it does not create a cyclic dependency?"},{"owner":{"account_id":179698,"reputation":3939,"user_id":412529,"accept_rate":86,"display_name":"jnnnnn"},"score":3,"creation_date":1654041089,"post_id":48867068,"comment_id":127996385,"body_markdown":"Spring 5 crashes: &quot;Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans.&quot;","body":"Spring 5 crashes: &quot;Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans.&quot;"},{"owner":{"account_id":12046249,"reputation":479,"user_id":8811143,"display_name":"Alex"},"score":0,"creation_date":1680192289,"post_id":48867068,"comment_id":133860212,"body_markdown":"It would fit much better if you move cached method to another helper / wrapper component bean.","body":"It would fit much better if you move cached method to another helper / wrapper component bean."}],"tags":[],"owner":{"account_id":539660,"reputation":15051,"user_id":907576,"accept_rate":62,"display_name":"radistao"},"comment_count":7,"down_vote_count":2,"up_vote_count":61,"is_accepted":false,"score":59,"last_activity_date":1519046182,"creation_date":1519046182,"answer_id":48867068,"question_id":16899604,"body_markdown":"Since Spring 4.3 the problem could be solved using [self-autowiring][1] over `@Resource` annotation:\r\n\r\n    @Component\r\n    @CacheConfig(cacheNames = &quot;SphereClientFactoryCache&quot;)\r\n    public class CacheableSphereClientFactoryImpl implements SphereClientFactory {\r\n    \r\n        /**\r\n         * 1. Self-autowired reference to proxified bean of this class.\r\n         */\r\n        @Resource\r\n        private SphereClientFactory self;\r\n    \r\n        @Override\r\n        @Cacheable(sync = true)\r\n        public SphereClient createSphereClient(@Nonnull TenantConfig tenantConfig) {\r\n            // 2. call cached method using self-bean\r\n            return self.createSphereClient(tenantConfig.getSphereClientConfig());\r\n        }\r\n    \r\n        @Override\r\n        @Cacheable(sync = true)\r\n        public SphereClient createSphereClient(@Nonnull SphereClientConfig clientConfig) {\r\n            return CtpClientConfigurationUtils.createSphereClient(clientConfig);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5152686/self-injection-with-spring/5251930#5251930","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>Since Spring 4.3 the problem could be solved using <a href=\"https://stackoverflow.com/questions/5152686/self-injection-with-spring/5251930#5251930\">self-autowiring</a> over <code>@Resource</code> annotation:</p>\n\n<pre><code>@Component\n@CacheConfig(cacheNames = \"SphereClientFactoryCache\")\npublic class CacheableSphereClientFactoryImpl implements SphereClientFactory {\n\n    /**\n     * 1. Self-autowired reference to proxified bean of this class.\n     */\n    @Resource\n    private SphereClientFactory self;\n\n    @Override\n    @Cacheable(sync = true)\n    public SphereClient createSphereClient(@Nonnull TenantConfig tenantConfig) {\n        // 2. call cached method using self-bean\n        return self.createSphereClient(tenantConfig.getSphereClientConfig());\n    }\n\n    @Override\n    @Cacheable(sync = true)\n    public SphereClient createSphereClient(@Nonnull SphereClientConfig clientConfig) {\n        return CtpClientConfigurationUtils.createSphereClient(clientConfig);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10008502,"reputation":169,"user_id":7402075,"display_name":"Ibtissam Ibtissama"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1540827692,"creation_date":1540827692,"answer_id":53049052,"question_id":16899604,"body_markdown":"In my Case I add variable :\r\n\r\n    @Autowired\r\n    private AService  aService;\r\n\r\nSo I call the `getEmployeeData` method by using the `aService`\r\n\r\n    @Named(&quot;aService&quot;)\r\n    public class AService {\r\n\r\n    @Cacheable(&quot;employeeData&quot;)\r\n    public List&lt;EmployeeData&gt; getEmployeeData(Date date){\r\n    ..println(&quot;Cache is not being used&quot;);\r\n    ...\r\n    }\r\n\r\n    public List&lt;EmployeeEnrichedData&gt; getEmployeeEnrichedData(Date date){\r\n        List&lt;EmployeeData&gt; employeeData = aService.getEmployeeData(date);\r\n        ...\r\n    }\r\n\r\n}\r\n\r\nIt will use the cache in this case.","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>In my Case I add variable :</p>\n\n<pre><code>@Autowired\nprivate AService  aService;\n</code></pre>\n\n<p>So I call the <code>getEmployeeData</code> method by using the <code>aService</code></p>\n\n<pre><code>@Named(\"aService\")\npublic class AService {\n\n@Cacheable(\"employeeData\")\npublic List&lt;EmployeeData&gt; getEmployeeData(Date date){\n..println(\"Cache is not being used\");\n...\n}\n\npublic List&lt;EmployeeEnrichedData&gt; getEmployeeEnrichedData(Date date){\n    List&lt;EmployeeData&gt; employeeData = aService.getEmployeeData(date);\n    ...\n}\n</code></pre>\n\n<p>}</p>\n\n<p>It will use the cache in this case.</p>\n"},{"tags":[],"owner":{"account_id":1271286,"reputation":161,"user_id":9170810,"display_name":"Vijay"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1600756686,"creation_date":1600756686,"answer_id":64004297,"question_id":16899604,"body_markdown":"If you call a cached method from same bean it will be treated as a private method and annotations will be ignored ","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>If you call a cached method from same bean it will be treated as a private method and annotations will be ignored</p>\n"},{"comments":[{"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"score":1,"creation_date":1619131189,"post_id":66748959,"comment_id":118819673,"body_markdown":"this is the way.","body":"this is the way."},{"owner":{"account_id":4387361,"reputation":347,"user_id":3577053,"display_name":"user07"},"score":0,"creation_date":1668177211,"post_id":66748959,"comment_id":131349218,"body_markdown":"Interesting approach. To expand on what &quot;easier to maintain&quot; might mean: this way all Cache related methods would be placed in the same class what makes a developer to make a choice where to put a new method? In a class that caches (and evicts) or in other one? As time passes by, it is easy to miss the point that when you add a new method, you might also need to evict the related data from the cache.","body":"Interesting approach. To expand on what &quot;easier to maintain&quot; might mean: this way all Cache related methods would be placed in the same class what makes a developer to make a choice where to put a new method? In a class that caches (and evicts) or in other one? As time passes by, it is easy to miss the point that when you add a new method, you might also need to evict the related data from the cache."}],"tags":[],"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1620078622,"creation_date":1616426384,"answer_id":66748959,"question_id":16899604,"body_markdown":"Yes, the caching will not happen because of the reasons that were already mentioned in the other posts. However I would solve the problem by putting that method to its own class (service in this case). With that your code will be easier to maintain/test and understand. \r\n\r\n```\r\n@Service // or @Named(&quot;aService&quot;)\r\npublic class AService {\r\n\r\n    @Autowired //or how you inject your dependencies\r\n    private EmployeeService employeeService;\r\n \r\n    public List&lt;EmployeeData&gt; getEmployeeData(Date date){\r\n          employeeService.getEmployeeData(date);\r\n    }\r\n\r\n    public List&lt;EmployeeEnrichedData&gt; getEmployeeEnrichedData(Date date){\r\n        List&lt;EmployeeData&gt; employeeData = getEmployeeData(date);\r\n        ...\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service // or @Named(&quot;employeeService&quot;)\r\npublic class EmployeeService {\r\n\r\n    @Cacheable(&quot;employeeData&quot;)\r\n    public List&lt;EmployeeData&gt; getEmployeeData(Date date){\r\n        println(&quot;This will be called only once for same date&quot;);\r\n        ...\r\n    }\r\n\r\n}\r\n","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>Yes, the caching will not happen because of the reasons that were already mentioned in the other posts. However I would solve the problem by putting that method to its own class (service in this case). With that your code will be easier to maintain/test and understand.</p>\n<pre><code>@Service // or @Named(&quot;aService&quot;)\npublic class AService {\n\n    @Autowired //or how you inject your dependencies\n    private EmployeeService employeeService;\n \n    public List&lt;EmployeeData&gt; getEmployeeData(Date date){\n          employeeService.getEmployeeData(date);\n    }\n\n    public List&lt;EmployeeEnrichedData&gt; getEmployeeEnrichedData(Date date){\n        List&lt;EmployeeData&gt; employeeData = getEmployeeData(date);\n        ...\n    }\n\n}\n</code></pre>\n<pre><code>@Service // or @Named(&quot;employeeService&quot;)\npublic class EmployeeService {\n\n    @Cacheable(&quot;employeeData&quot;)\n    public List&lt;EmployeeData&gt; getEmployeeData(Date date){\n        println(&quot;This will be called only once for same date&quot;);\n        ...\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642763028,"creation_date":1642763028,"answer_id":70800259,"question_id":16899604,"body_markdown":"I would like to share what I think is the easiest approach:\r\n\r\n - Autowire the controller and use to call the method it instead of using the class context `this`.\r\n\r\nThe updated code would look like:\r\n\r\n    @Controller\r\n    public class TestController {\r\n    \r\n    \r\n        @Autowired TestController self;\r\n    \r\n        @RequestMapping(&quot;/test&quot;)\r\n        public String testView(){\r\n            self.expensiveMethod();\r\n            return &quot;test&quot;;\r\n        }\r\n    \r\n    \r\n        @Cacheable(&quot;ones&quot;)\r\n        public void expensiveMethod(){\r\n           System.out.println(&quot;Cache is not being used&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>I would like to share what I think is the easiest approach:</p>\n<ul>\n<li>Autowire the controller and use to call the method it instead of using the class context <code>this</code>.</li>\n</ul>\n<p>The updated code would look like:</p>\n<pre><code>@Controller\npublic class TestController {\n\n\n    @Autowired TestController self;\n\n    @RequestMapping(&quot;/test&quot;)\n    public String testView(){\n        self.expensiveMethod();\n        return &quot;test&quot;;\n    }\n\n\n    @Cacheable(&quot;ones&quot;)\n    public void expensiveMethod(){\n       System.out.println(&quot;Cache is not being used&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16422357,"reputation":31,"user_id":11863269,"display_name":"Dang Pham"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653468100,"creation_date":1653468100,"answer_id":72374450,"question_id":16899604,"body_markdown":"Better approach should be creating another service like `ACachingService` and call ` ACachingService.cachingMethod()` instead of self Autowiring ( or any other approach trying to self inject). This way you do not fall into Circular dependency, which may be resulted in warning/error when upgrade to newer Spring ( Spring 2.6.6 in my case ) :\r\n\r\n    ERROR o.s.boot.SpringApplication - Application run failed\r\n    org.springframework.beans.factory.BeanCurrentlyInCreationException:\r\n    Error creating bean with name &#39;webSecurityConfig&#39;: \r\n    Requested bean is currently in creation: Is there an unresolvable circular reference?","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>Better approach should be creating another service like <code>ACachingService</code> and call <code> ACachingService.cachingMethod()</code> instead of self Autowiring ( or any other approach trying to self inject). This way you do not fall into Circular dependency, which may be resulted in warning/error when upgrade to newer Spring ( Spring 2.6.6 in my case ) :</p>\n<pre><code>ERROR o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanCurrentlyInCreationException:\nError creating bean with name 'webSecurityConfig': \nRequested bean is currently in creation: Is there an unresolvable circular reference?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179698,"reputation":3939,"user_id":412529,"accept_rate":86,"display_name":"jnnnnn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654043239,"creation_date":1654043239,"answer_id":72455328,"question_id":16899604,"body_markdown":"We looked at all the solutions here and decided to use a separate class for the cached methods because Spring 5 doesn&#39;t like circular dependencies.","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>We looked at all the solutions here and decided to use a separate class for the cached methods because Spring 5 doesn't like circular dependencies.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1672663904,"post_id":74982586,"comment_id":132321955,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74982586/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22477607,"reputation":3,"user_id":16677119,"display_name":"Simran Srivastava"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672724413,"creation_date":1672663483,"answer_id":74982586,"question_id":16899604,"body_markdown":"The default advice mode for processing caching annotation is “proxy”. At the startup of an application, all the caching annotations like @Caching, @Cacheable, @CacheEvict etc. are scanned and a target proxy class is generated for all of these classes. The proxy allows for intercepting the calls to these cacheable methods, which adds the caching advice/behavior.\r\n\r\nSo when we invoke the cacheable methods from the same class, as shown below, calls from the clients don’t get intercepted in a way that allows for caching advice to be added to them. Hence, every single time there is an unexpected cache miss.\r\n\r\n**Solution:** Invoke the *Cacheable* methods from a different bean to use proxy class with caching advice.\r\n","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>The default advice mode for processing caching annotation is “proxy”. At the startup of an application, all the caching annotations like @Caching, @Cacheable, @CacheEvict etc. are scanned and a target proxy class is generated for all of these classes. The proxy allows for intercepting the calls to these cacheable methods, which adds the caching advice/behavior.</p>\n<p>So when we invoke the cacheable methods from the same class, as shown below, calls from the clients don’t get intercepted in a way that allows for caching advice to be added to them. Hence, every single time there is an unexpected cache miss.</p>\n<p><strong>Solution:</strong> Invoke the <em>Cacheable</em> methods from a different bean to use proxy class with caching advice.</p>\n"},{"tags":[],"owner":{"account_id":8676244,"reputation":21,"user_id":6493593,"display_name":"rzoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679659979,"creation_date":1679659979,"answer_id":75833506,"question_id":16899604,"body_markdown":"Implementation based on Single Responsibility Principle; Cacheable classes support just cache not using cache ;-).\r\n","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>Implementation based on Single Responsibility Principle; Cacheable classes support just cache not using cache ;-).</p>\n"},{"tags":[],"owner":{"account_id":12046249,"reputation":479,"user_id":8811143,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680192468,"creation_date":1680192468,"answer_id":75890593,"question_id":16899604,"body_markdown":"This is how it works.\r\nMove your cached method to helper / wrapper component bean.","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p>This is how it works.\nMove your cached method to helper / wrapper component bean.</p>\n"}],"owner":{"account_id":966925,"reputation":4497,"user_id":990208,"accept_rate":82,"display_name":"Bala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168118,"favorite_count":0,"down_vote_count":0,"up_vote_count":187,"accepted_answer_id":16899739,"answer_count":15,"score":187,"last_activity_date":1680192468,"creation_date":1370271114,"question_id":16899604,"body_markdown":"**Spring cache is not working when calling cached method from another method of the same bean.**\r\n\r\nHere is an example to explain my problem in clear way.\r\n\r\nConfiguration:\r\n\r\n\t&lt;cache:annotation-driven cache-manager=&quot;myCacheManager&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;myCacheManager&quot; class=&quot;org.springframework.cache.ehcache.EhCacheCacheManager&quot;&gt;\r\n\t\t&lt;property name=&quot;cacheManager&quot; ref=&quot;myCache&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- Ehcache library setup --&gt;\r\n\t&lt;bean id=&quot;myCache&quot;\r\n\t\tclass=&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot; p:shared=&quot;true&quot;&gt;\r\n\t\t&lt;property name=&quot;configLocation&quot; value=&quot;classpath:ehcache.xml&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;cache name=&quot;employeeData&quot; maxElementsInMemory=&quot;100&quot;/&gt;\t\r\n\r\nCached service :\r\n\r\n\t@Named(&quot;aService&quot;)\r\n\tpublic class AService {\r\n\t\r\n\t\t@Cacheable(&quot;employeeData&quot;)\r\n\t\tpublic List&lt;EmployeeData&gt; getEmployeeData(Date date){\r\n\t\t..println(&quot;Cache is not being used&quot;);\r\n\t\t...\r\n\t\t}\r\n\t\t\r\n\t\tpublic List&lt;EmployeeEnrichedData&gt; getEmployeeEnrichedData(Date date){\r\n\t\t\tList&lt;EmployeeData&gt; employeeData = getEmployeeData(date);\r\n\t\t\t...\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nResult :\r\n\r\n\taService.getEmployeeData(someDate);\r\n\toutput: Cache is not being used\r\n\taService.getEmployeeData(someDate); \r\n\toutput: \r\n\taService.getEmployeeEnrichedData(someDate); \r\n\toutput: Cache is not being used\r\n\r\nThe `getEmployeeData` method call uses cache `employeeData` in the second call as expected. But when the `getEmployeeData` method is called within the `AService` class (in `getEmployeeEnrichedData`), Cache is not being used.\r\n\r\n\t\r\n**Is this how spring cache works or am i missing something ?** ","title":"Spring Cache @Cacheable - not working while calling from another method of the same bean","body":"<p><strong>Spring cache is not working when calling cached method from another method of the same bean.</strong></p>\n\n<p>Here is an example to explain my problem in clear way.</p>\n\n<p>Configuration:</p>\n\n<pre><code>&lt;cache:annotation-driven cache-manager=\"myCacheManager\" /&gt;\n\n&lt;bean id=\"myCacheManager\" class=\"org.springframework.cache.ehcache.EhCacheCacheManager\"&gt;\n    &lt;property name=\"cacheManager\" ref=\"myCache\" /&gt;\n&lt;/bean&gt;\n\n&lt;!-- Ehcache library setup --&gt;\n&lt;bean id=\"myCache\"\n    class=\"org.springframework.cache.ehcache.EhCacheManagerFactoryBean\" p:shared=\"true\"&gt;\n    &lt;property name=\"configLocation\" value=\"classpath:ehcache.xml\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;cache name=\"employeeData\" maxElementsInMemory=\"100\"/&gt;  \n</code></pre>\n\n<p>Cached service :</p>\n\n<pre><code>@Named(\"aService\")\npublic class AService {\n\n    @Cacheable(\"employeeData\")\n    public List&lt;EmployeeData&gt; getEmployeeData(Date date){\n    ..println(\"Cache is not being used\");\n    ...\n    }\n\n    public List&lt;EmployeeEnrichedData&gt; getEmployeeEnrichedData(Date date){\n        List&lt;EmployeeData&gt; employeeData = getEmployeeData(date);\n        ...\n    }\n\n}\n</code></pre>\n\n<p>Result :</p>\n\n<pre><code>aService.getEmployeeData(someDate);\noutput: Cache is not being used\naService.getEmployeeData(someDate); \noutput: \naService.getEmployeeEnrichedData(someDate); \noutput: Cache is not being used\n</code></pre>\n\n<p>The <code>getEmployeeData</code> method call uses cache <code>employeeData</code> in the second call as expected. But when the <code>getEmployeeData</code> method is called within the <code>AService</code> class (in <code>getEmployeeEnrichedData</code>), Cache is not being used.</p>\n\n<p><strong>Is this how spring cache works or am i missing something ?</strong> </p>\n"},{"tags":["java","spring","rest","ssl","certificate"],"owner":{"account_id":28142805,"reputation":21,"user_id":21505587,"display_name":"Domenico Scelza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680192025,"creation_date":1680173608,"question_id":75887305,"body_markdown":"i&#39;m writing a spring java microservice that calls some api deployed on a custom server that is already in production. \r\n\r\nI try to call this api in my code, it is an https endpoint, and at the first try it returned me this error: \r\n\r\n```\r\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\nThis is due the fact that the server has a self signed certificate. \r\n\r\nI tried to get the certificate from the remote server with this command:\r\n\r\n```\r\nopenssl s_client -showcerts -connect hostname:443\r\n```\r\n\r\nand saved it in a file called root.crt.\r\n\r\nThen i added this certificate to trusted certificate in my jvm with this command:\r\n```\r\nsudo keytool -importcert -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit -file root.crt -alias &quot;server_remote-root&quot;\r\n```\r\n\r\nBut now my application returns this error: \r\n```\r\nthrew exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;$endpoint&quot;: No subject alternative names present] with root cause\r\n\r\njava.security.cert.CertificateException: No subject alternative names present\r\nat java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:142) ~[na:na]\r\nat java.base/sun.security.util.HostnameChecker.match(HostnameChecker.java:101) ~[na:na]\r\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:452) ~[na:na]\r\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:426) ~[na:na]\r\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:238) ~[na:na]\r\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132) ~[na:na]\r\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638) ~[na:na]\r\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[na:na]\r\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[na:na]\r\nat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\r\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\r\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458) ~[na:na]\r\nat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[na:na]\r\nat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\nat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506) ~[na:na]\r\nat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421) ~[na:na]\r\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\r\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\r\nat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:580) ~[na:na]\r\nat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187) ~[na:na]\r\nat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142) ~[na:na]\r\n```\r\n\r\n\r\nPlease help me!\r\nThank you!\r\n\r\n\r\n\r\nI expect to reach the endpoint in the correct way. ","title":"Error on calling a https endpoint on a server with self signed certificate","body":"<p>i'm writing a spring java microservice that calls some api deployed on a custom server that is already in production.</p>\n<p>I try to call this api in my code, it is an https endpoint, and at the first try it returned me this error:</p>\n<pre><code>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>This is due the fact that the server has a self signed certificate.</p>\n<p>I tried to get the certificate from the remote server with this command:</p>\n<pre><code>openssl s_client -showcerts -connect hostname:443\n</code></pre>\n<p>and saved it in a file called root.crt.</p>\n<p>Then i added this certificate to trusted certificate in my jvm with this command:</p>\n<pre><code>sudo keytool -importcert -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit -file root.crt -alias &quot;server_remote-root&quot;\n</code></pre>\n<p>But now my application returns this error:</p>\n<pre><code>threw exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;$endpoint&quot;: No subject alternative names present] with root cause\n\njava.security.cert.CertificateException: No subject alternative names present\nat java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:142) ~[na:na]\nat java.base/sun.security.util.HostnameChecker.match(HostnameChecker.java:101) ~[na:na]\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:452) ~[na:na]\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:426) ~[na:na]\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:238) ~[na:na]\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132) ~[na:na]\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638) ~[na:na]\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[na:na]\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[na:na]\nat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[na:na]\nat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\nat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:580) ~[na:na]\nat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187) ~[na:na]\nat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142) ~[na:na]\n</code></pre>\n<p>Please help me!\nThank you!</p>\n<p>I expect to reach the endpoint in the correct way.</p>\n"},{"tags":["java","google-analytics","analytics","desktop"],"answers":[{"comments":[{"owner":{"account_id":9749625,"reputation":375,"user_id":7228326,"display_name":"smalers"},"score":0,"creation_date":1680202758,"post_id":75890514,"comment_id":133862674,"body_markdown":"Yeah, I was afraid there might be a land mine waiting on this one.  One reason for the tracking is to know how many users are using a specific version of the application so that we can better help them transition to new versions (captive audience with an agreement).  And, some software is paid for by government funding and we want to justify the continued investment in the software by documenting how many users, ideally with some geographic information (county or scale for funding discussions, etc.).  I&#39;ll ponder the legal and technical options but maybe GA4 is not the answer.","body":"Yeah, I was afraid there might be a land mine waiting on this one.  One reason for the tracking is to know how many users are using a specific version of the application so that we can better help them transition to new versions (captive audience with an agreement).  And, some software is paid for by government funding and we want to justify the continued investment in the software by documenting how many users, ideally with some geographic information (county or scale for funding discussions, etc.).  I&#39;ll ponder the legal and technical options but maybe GA4 is not the answer."},{"owner":{"account_id":9749625,"reputation":375,"user_id":7228326,"display_name":"smalers"},"score":0,"creation_date":1680204464,"post_id":75890514,"comment_id":133863069,"body_markdown":"Also...I agree that GA4 is complex and overengineered. I don&#39;t have time to figure it all out but we do have government clients and nonprofit funders that want analytics on use and impact and GA4 is the default solution right now.  We use AWS and develop REST web services so I will think about a custom simple solution.  I have looked at the GA4 API docs and they are painful.  The point about Google doing things to evade privacy requirements helps explain the complexity.  Hopefully this article helps out a few people.  I&#39;ll try to post an accepted solution in the future.","body":"Also...I agree that GA4 is complex and overengineered. I don&#39;t have time to figure it all out but we do have government clients and nonprofit funders that want analytics on use and impact and GA4 is the default solution right now.  We use AWS and develop REST web services so I will think about a custom simple solution.  I have looked at the GA4 API docs and they are painful.  The point about Google doing things to evade privacy requirements helps explain the complexity.  Hopefully this article helps out a few people.  I&#39;ll try to post an accepted solution in the future."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680270899,"post_id":75890514,"comment_id":133874641,"body_markdown":"I&#39;m not saying GA4 is complex and overengineered. I&#39;m saying loading up a built-in browser-esque javascript engine to run GA4 from a desktop app is complex and overengineered.","body":"I&#39;m not saying GA4 is complex and overengineered. I&#39;m saying loading up a built-in browser-esque javascript engine to run GA4 from a desktop app is complex and overengineered."},{"owner":{"account_id":9749625,"reputation":375,"user_id":7228326,"display_name":"smalers"},"score":0,"creation_date":1680298111,"post_id":75890514,"comment_id":133880755,"body_markdown":"Ahhh.  OK.  I get what you are saying.  I agree with most of what you have said.  I do work that collects environmental data from remote sensors.  We use a &quot;heartbeat&quot; transmission to check-in and pass back sensor information such as the GPS clock time.  We also use Zabbix to monitor systems.  What I need has similarities.  I just though that GA4 might be a ready-built solution for applications but as you have pointed out it requires a more thoughtful solution.","body":"Ahhh.  OK.  I get what you are saying.  I agree with most of what you have said.  I do work that collects environmental data from remote sensors.  We use a &quot;heartbeat&quot; transmission to check-in and pass back sensor information such as the GPS clock time.  We also use Zabbix to monitor systems.  What I need has similarities.  I just though that GA4 might be a ready-built solution for applications but as you have pointed out it requires a more thoughtful solution."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680191904,"creation_date":1680191904,"answer_id":75890514,"question_id":75890133,"body_markdown":"Trying to run a complete website in order to properly sequence the javascript which then ends of making some really simple javascript calls is, literally, a Rube Goldberg contraption. __Massively__ overengineered, requiring tons of future maintenance headache and inflating your application&#39;s footprint both on disk and in memory by hundreds of megabytes, not to mention a significant increase in exposure to security issues by shipping all that.\r\n\r\nThus, this is a slam dunk X/Y problem:\r\n\r\n* You have a problem where you want to track your desktop app&#39;s usage online. (This is X)\r\n* You thought: I know! Websites have this GA4 thing that sounds like what I want so I&#39;ll just use that!\r\n* ... but... I have some questions about how to do this (this is the Y).\r\n\r\nThe true answer to your question is to mention that the middle bullet there __was incorrect__. That&#39;s not a good idea at all, and hence, your question about Y is irrelevant. What you should really be doing is asking question X: I have a desktop app, how do I track its use?\r\n\r\nSo, let me answer that.\r\n\r\n## But first.. legal! Yaaay!\r\n\r\nThe EU has made fairly clear that its laws about privacy (GDPR and friends) disallow things like GA4 without clear and explicit permission from the user whose data you are gathering. Schrems2 (a court judgement, you can search for it if you want details) effectively (it&#39;s legal, I&#39;m oversimplifying) says that a non-EU-quartered company __cannot__ legally claim to uphold GDPR in such a way as to avoid having to ask your users for clear permission, given that a non-EU-quarted company cannot be reasonably asked to choose for EU laws if a local government _orders_ them to do a conflicting act (i.e. a direct order from the CIA or whatnot to give them direct access to the data in google&#39;s GA4 tracking database).\r\n\r\n(Note that your original plan of shipping an entire browser environment _just_ to run some javascript wouldn&#39;t magically relieve these legal issues, it&#39;s not a feasible solution here).\r\n\r\nThis adds up to giving you one of four options:\r\n\r\n* You ask the user for permission. In my experience, a standalone desktop app explaining that you cannot use it unless you allow it to contact GA4&#39;s servers or some other third-party tracking system, is going to cause you a _ton_ of vehemently complaining users, but, it&#39;s an option.\r\n* You drop the topic entirely. No tracking.\r\n* You write your own tracking framework and ask permission for _that_, which is likely to result in far less issues. Or, you set up a system such that the user can reasonably be expected that some basic tracking is going on. If your app requires a login, and you manage the tracking of this yourself, you&#39;re possibly in the clear and don&#39;t need GDPR or cookie-style warnings and permission prompts. This really isn&#39;t particularly difficult, but it does mean you need to maintain your own server or at least endpoint (say, with an AWS lambda responder on it to keep costs and sysops needs to a minimum).\r\n* You ignore this advice and risk some nasty issues. If you live in the EU I _throughly_ recommend against this course of action. If you don&#39;t, you could risk it; it&#39;ll be illegal in the EU most likely but as a tiny company/individual I doubt they&#39;re going to care. Still, this is tech debt of a different sort: If ever your app becomes popular or you&#39;re in talks to sell it someplace, ignoring this issue is going to cause some fairly significant headache at the very least.\r\n\r\nThe point of GDPR and co is more or less to put an end to the casual &#39;eh, I will just track everything because who knows maybe it&#39;ll be cool to look through all those stats and perhaps I can sell it off later&#39; attitude that the tech world has adopted in the past decade, i.e. - yes, this law is designed to stop precisely what you&#39;re asking, so it&#39;s sensible that you&#39;re now thinking: What the... this sounds like such a drag!\r\n\r\nYes. That is the point.\r\n\r\n## Okay I wanna do it anyway with GA4!\r\n\r\nOkay, your funeral. GA4 has its own API. The GA4 script stuff you load on a webpage simply uses that API; there is no need to use _that javascript_ to use that API, you can just use it directly.\r\n\r\nA large part of the GA4 update is the very legal stuff mentioned above: You can&#39;t just send a &#39;ping&#39; anymore, you need to first set up a scheme to indicate that the user whose data you are collecting has given consent.\r\n\r\nThe GA4 plugin for iPhone and android development can do that for you. So can that GA4 javascript stuff for websites. You&#39;ll have to trawl the documentation of GA4 if there are ways to do this if you aren&#39;t a website, aren&#39;t an android app, and aren&#39;t an iPhone app. Possibly, there just isn&#39;t - a lot of their pages still talk about FLOC and have some dubious claims about the legality of consent-less GA4 if they avoid using cookies, which is precisely the kind of &#39;Lets stick to the letter of the law and completely ignore the spirit; it works in the US, surely the EU is the same&#39; stuff that american companies keep falling for.\r\n\r\nPoint is, google analytics gets up to all sorts of complicated shenanigans to dance around or comply with legal issues, all of which indicates that your proposed solution is just not going to work. You truly have to eliminate the entire browser and then fake the consent clicks which is now you intentionally attempting to break privacy laws, even for a small outfit that&#39;s definitely not a good idea.\r\n\r\n[Here is a blog post by Revenera about it (they mostly recommend the same way: Do not use GA4 for desktop apps)](https://www.revenera.com/blog/software-monetization/tracking-desktop-applications-with-google-analytics-what-you-should-know/). Then again, they wanna sell you their solution for tracking desktop apps, so this is a bit like an apple salesperson telling you that oranges are no good. Sure. They would say that. Still, some good info in there that explains in more detail how GA4 doesn&#39;t really match up to desktop tracking needs.\r\n\r\nThe general API for anything to ping a GA4 account was called the &#39;Measurement Protocol&#39;. [Read the docs on the MP for GA4 here](https://developers.google.com/analytics/devguides/collection/protocol/ga4). Note that the docs call out:\r\n\r\n&gt; The intent of the Measurement Protocol is to augment automatic collection via gtag, Tag Manager, and Google Analytics for Firebase not to replace them.\r\n\r\nFurther highlighting how GA4 really isn&#39;t meant for this.\r\n\r\n## Setting up your own\r\n\r\nThis really isn&#39;t particularly complicated. You can avoid legal issues by tracking in a way that isn&#39;t personal. For example, have your own app generate a unique ID once and store it someplace local, and send that - that&#39;s very unlikely to be a legal issue. If you want to track location, store only very broad geo-ip info (country and not much more than that), and consider using tricks such as hashing content to be able to differentiate different things (example, differentiate IP addresses), without having to figure out if the data you are storing is considered private (and IP addresses probably _are_ considered private especially if there is no plausible reason a user can intuit that the app clearly must be storing this for its normal functioning).\r\n\r\nYou&#39;ll need a server to do all this on, but many IAAS platforms including AWS (Amazon Web Services) have a free tier, and most have an &#39;on demand code execution&#39; system, such as AWS Lambda, which means you don&#39;t need to have a server running nor maintain (i.e. apply security patches) to that server. This should keep costs low-to-0, though you&#39;ll have to figure out how to program it all.\r\n\r\nThere are numerous tutorials on how to use java+AWS lambda, and how do make dead-simple REST APIs with e.g. [Spark](https://sparkjava.com).","title":"Google Analytics 4 for desktop Java application","body":"<p>Trying to run a complete website in order to properly sequence the javascript which then ends of making some really simple javascript calls is, literally, a Rube Goldberg contraption. <strong>Massively</strong> overengineered, requiring tons of future maintenance headache and inflating your application's footprint both on disk and in memory by hundreds of megabytes, not to mention a significant increase in exposure to security issues by shipping all that.</p>\n<p>Thus, this is a slam dunk X/Y problem:</p>\n<ul>\n<li>You have a problem where you want to track your desktop app's usage online. (This is X)</li>\n<li>You thought: I know! Websites have this GA4 thing that sounds like what I want so I'll just use that!</li>\n<li>... but... I have some questions about how to do this (this is the Y).</li>\n</ul>\n<p>The true answer to your question is to mention that the middle bullet there <strong>was incorrect</strong>. That's not a good idea at all, and hence, your question about Y is irrelevant. What you should really be doing is asking question X: I have a desktop app, how do I track its use?</p>\n<p>So, let me answer that.</p>\n<h2>But first.. legal! Yaaay!</h2>\n<p>The EU has made fairly clear that its laws about privacy (GDPR and friends) disallow things like GA4 without clear and explicit permission from the user whose data you are gathering. Schrems2 (a court judgement, you can search for it if you want details) effectively (it's legal, I'm oversimplifying) says that a non-EU-quartered company <strong>cannot</strong> legally claim to uphold GDPR in such a way as to avoid having to ask your users for clear permission, given that a non-EU-quarted company cannot be reasonably asked to choose for EU laws if a local government <em>orders</em> them to do a conflicting act (i.e. a direct order from the CIA or whatnot to give them direct access to the data in google's GA4 tracking database).</p>\n<p>(Note that your original plan of shipping an entire browser environment <em>just</em> to run some javascript wouldn't magically relieve these legal issues, it's not a feasible solution here).</p>\n<p>This adds up to giving you one of four options:</p>\n<ul>\n<li>You ask the user for permission. In my experience, a standalone desktop app explaining that you cannot use it unless you allow it to contact GA4's servers or some other third-party tracking system, is going to cause you a <em>ton</em> of vehemently complaining users, but, it's an option.</li>\n<li>You drop the topic entirely. No tracking.</li>\n<li>You write your own tracking framework and ask permission for <em>that</em>, which is likely to result in far less issues. Or, you set up a system such that the user can reasonably be expected that some basic tracking is going on. If your app requires a login, and you manage the tracking of this yourself, you're possibly in the clear and don't need GDPR or cookie-style warnings and permission prompts. This really isn't particularly difficult, but it does mean you need to maintain your own server or at least endpoint (say, with an AWS lambda responder on it to keep costs and sysops needs to a minimum).</li>\n<li>You ignore this advice and risk some nasty issues. If you live in the EU I <em>throughly</em> recommend against this course of action. If you don't, you could risk it; it'll be illegal in the EU most likely but as a tiny company/individual I doubt they're going to care. Still, this is tech debt of a different sort: If ever your app becomes popular or you're in talks to sell it someplace, ignoring this issue is going to cause some fairly significant headache at the very least.</li>\n</ul>\n<p>The point of GDPR and co is more or less to put an end to the casual 'eh, I will just track everything because who knows maybe it'll be cool to look through all those stats and perhaps I can sell it off later' attitude that the tech world has adopted in the past decade, i.e. - yes, this law is designed to stop precisely what you're asking, so it's sensible that you're now thinking: What the... this sounds like such a drag!</p>\n<p>Yes. That is the point.</p>\n<h2>Okay I wanna do it anyway with GA4!</h2>\n<p>Okay, your funeral. GA4 has its own API. The GA4 script stuff you load on a webpage simply uses that API; there is no need to use <em>that javascript</em> to use that API, you can just use it directly.</p>\n<p>A large part of the GA4 update is the very legal stuff mentioned above: You can't just send a 'ping' anymore, you need to first set up a scheme to indicate that the user whose data you are collecting has given consent.</p>\n<p>The GA4 plugin for iPhone and android development can do that for you. So can that GA4 javascript stuff for websites. You'll have to trawl the documentation of GA4 if there are ways to do this if you aren't a website, aren't an android app, and aren't an iPhone app. Possibly, there just isn't - a lot of their pages still talk about FLOC and have some dubious claims about the legality of consent-less GA4 if they avoid using cookies, which is precisely the kind of 'Lets stick to the letter of the law and completely ignore the spirit; it works in the US, surely the EU is the same' stuff that american companies keep falling for.</p>\n<p>Point is, google analytics gets up to all sorts of complicated shenanigans to dance around or comply with legal issues, all of which indicates that your proposed solution is just not going to work. You truly have to eliminate the entire browser and then fake the consent clicks which is now you intentionally attempting to break privacy laws, even for a small outfit that's definitely not a good idea.</p>\n<p><a href=\"https://www.revenera.com/blog/software-monetization/tracking-desktop-applications-with-google-analytics-what-you-should-know/\" rel=\"nofollow noreferrer\">Here is a blog post by Revenera about it (they mostly recommend the same way: Do not use GA4 for desktop apps)</a>. Then again, they wanna sell you their solution for tracking desktop apps, so this is a bit like an apple salesperson telling you that oranges are no good. Sure. They would say that. Still, some good info in there that explains in more detail how GA4 doesn't really match up to desktop tracking needs.</p>\n<p>The general API for anything to ping a GA4 account was called the 'Measurement Protocol'. <a href=\"https://developers.google.com/analytics/devguides/collection/protocol/ga4\" rel=\"nofollow noreferrer\">Read the docs on the MP for GA4 here</a>. Note that the docs call out:</p>\n<blockquote>\n<p>The intent of the Measurement Protocol is to augment automatic collection via gtag, Tag Manager, and Google Analytics for Firebase not to replace them.</p>\n</blockquote>\n<p>Further highlighting how GA4 really isn't meant for this.</p>\n<h2>Setting up your own</h2>\n<p>This really isn't particularly complicated. You can avoid legal issues by tracking in a way that isn't personal. For example, have your own app generate a unique ID once and store it someplace local, and send that - that's very unlikely to be a legal issue. If you want to track location, store only very broad geo-ip info (country and not much more than that), and consider using tricks such as hashing content to be able to differentiate different things (example, differentiate IP addresses), without having to figure out if the data you are storing is considered private (and IP addresses probably <em>are</em> considered private especially if there is no plausible reason a user can intuit that the app clearly must be storing this for its normal functioning).</p>\n<p>You'll need a server to do all this on, but many IAAS platforms including AWS (Amazon Web Services) have a free tier, and most have an 'on demand code execution' system, such as AWS Lambda, which means you don't need to have a server running nor maintain (i.e. apply security patches) to that server. This should keep costs low-to-0, though you'll have to figure out how to program it all.</p>\n<p>There are numerous tutorials on how to use java+AWS lambda, and how do make dead-simple REST APIs with e.g. <a href=\"https://sparkjava.com\" rel=\"nofollow noreferrer\">Spark</a>.</p>\n"}],"owner":{"account_id":9749625,"reputation":375,"user_id":7228326,"display_name":"smalers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680191904,"creation_date":1680189806,"question_id":75890133,"body_markdown":"I am trying to track usage of a desktop Java application using Google Analytics 4 (GA4).  There are some [older articles like this one for Universal Analytics][1] but I don&#39;t see anything for Google Analytics 4.  Basically, I want to do a GET of a web page that has the normal GA4 script inserts.  Then I can use Google Analytics to track usage of the desktop application.  I can see that I might have to specify the user agent header in the GET but what is appropriate for a desktop application?  The bigger problem is that a GET is not enough because the GA4 script code in the HTML file needs to somehow execute in the desktop application, such as if in an embedded IFrame.  Or, is there a GA4 API that should be called differently?  I am using Java 8 and will be updating to 11 or later soon.  I have in the past used the Swing `JEditorPane` to view HTML but did not use it with `&lt;script&gt;`.  The performance hit on the desktop application needs to be minimal (less than a second).  My initial work was misleading because GA4 showed my browser views of the HTML page, not the desktop application.  Any ideas would be appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42713840/analytics-service-api-for-plain-java-desktop-applications","title":"Google Analytics 4 for desktop Java application","body":"<p>I am trying to track usage of a desktop Java application using Google Analytics 4 (GA4).  There are some <a href=\"https://stackoverflow.com/questions/42713840/analytics-service-api-for-plain-java-desktop-applications\">older articles like this one for Universal Analytics</a> but I don't see anything for Google Analytics 4.  Basically, I want to do a GET of a web page that has the normal GA4 script inserts.  Then I can use Google Analytics to track usage of the desktop application.  I can see that I might have to specify the user agent header in the GET but what is appropriate for a desktop application?  The bigger problem is that a GET is not enough because the GA4 script code in the HTML file needs to somehow execute in the desktop application, such as if in an embedded IFrame.  Or, is there a GA4 API that should be called differently?  I am using Java 8 and will be updating to 11 or later soon.  I have in the past used the Swing <code>JEditorPane</code> to view HTML but did not use it with <code>&lt;script&gt;</code>.  The performance hit on the desktop application needs to be minimal (less than a second).  My initial work was misleading because GA4 showed my browser views of the HTML page, not the desktop application.  Any ideas would be appreciated.</p>\n"},{"tags":["java","hibernate","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":297410,"reputation":10125,"user_id":602928,"accept_rate":86,"display_name":"Michael Laffargue"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1427104085,"creation_date":1427103243,"answer_id":29206910,"question_id":29206837,"body_markdown":"Since Hibernate 4.3.x, the `JtaPlatform` class is refactored to a new package.\r\nYou should either:\r\n\r\n* downgrade Hibernate to 4.2.x or older\r\n* upgrade the Spring framework.\r\n\r\nYou should upgrade Spring as it seems you&#39;re grabbing version 3.1.1-release for `spring-orm` and `spring-jdbc`. \r\n\r\nFrom : https://jira.spring.io/browse/SPR-10839\r\n\r\n\r\n&gt;     Spring Framework 3.2.3+ fully supports Hibernate 4.0 to 4.2.x in its orm.hibernate4 package.\r\n&gt;     Spring Framework 4.0.1+ fully supports Hibernate 4.0 to 4.3.x in its orm.hibernate4 package.\r\n\r\n","title":"HHH000302: Unable to construct current session context [org.springframework.orm.hibernate4.SpringSessionContext]","body":"<p>Since Hibernate 4.3.x, the <code>JtaPlatform</code> class is refactored to a new package.\nYou should either:</p>\n\n<ul>\n<li>downgrade Hibernate to 4.2.x or older</li>\n<li>upgrade the Spring framework.</li>\n</ul>\n\n<p>You should upgrade Spring as it seems you're grabbing version 3.1.1-release for <code>spring-orm</code> and <code>spring-jdbc</code>. </p>\n\n<p>From : <a href=\"https://jira.spring.io/browse/SPR-10839\" rel=\"nofollow\">https://jira.spring.io/browse/SPR-10839</a></p>\n\n<blockquote>\n<pre><code>Spring Framework 3.2.3+ fully supports Hibernate 4.0 to 4.2.x in its orm.hibernate4 package.\nSpring Framework 4.0.1+ fully supports Hibernate 4.0 to 4.3.x in its orm.hibernate4 package.\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680877723,"post_id":75890496,"comment_id":133974364,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75890496/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28170412,"reputation":1,"user_id":21529069,"display_name":"Wilber Mamani Salguero"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680191833,"creation_date":1680191833,"answer_id":75890496,"question_id":29206837,"body_markdown":"I&#39;m add after I work well\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.1.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"HHH000302: Unable to construct current session context [org.springframework.orm.hibernate4.SpringSessionContext]","body":"<p>I'm add after I work well</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4674710,"reputation":169,"user_id":3785461,"accept_rate":100,"display_name":"JDevil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29206910,"answer_count":2,"score":1,"last_activity_date":1680191833,"creation_date":1427103028,"question_id":29206837,"body_markdown":"I am facing Error with hibernate 4.3.5.Final and spring mvc 4.0.4.RELEASE with maven. There are some jar which will be take from maven reposterty and some jar includes jar directly. i am not shore about version of spring and hibernate \r\n            Please provide me solution  \r\n\r\n        ERROR: org.hibernate.internal.SessionFactoryImpl - HHH000302: Unable to construct current session context [org.springframework.orm.hibernate4.SpringSessionContext]\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.buildCurrentSessionContext(SessionFactoryImpl.java:1513)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:532)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1857)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1928)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:189)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:350)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:335)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:684)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4779)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5273)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1566)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1556)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.NoClassDefFoundError: org/hibernate/service/jta/platform/spi/JtaPlatform\r\n    \tat org.springframework.orm.hibernate4.SpringSessionContext.&lt;init&gt;(SpringSessionContext.java:56)\r\n    \t... 35 more\r\n    Caused by: java.lang.ClassNotFoundException: org.hibernate.service.jta.platform.spi.JtaPlatform\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1711)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1556)\r\n    \t... 36 more\r\n\r\nPom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.com&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;iffco&lt;/artifactId&gt;\r\n    \t&lt;name&gt;iffco&lt;/name&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java-version&gt;1.6&lt;/java-version&gt;\r\n    \t\t&lt;org.springframework-version&gt;4.0.4.RELEASE&lt;/org.springframework-version&gt;\r\n    \t\t&lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\r\n    \t\t&lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- Spring --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t &lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\t\t\r\n    \t\t&lt;!-- AspectJ --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.aspectj-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\t\r\n    \t\t\r\n    \t\t&lt;!-- Logging --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.15&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- @Inject --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\t\t\r\n    \t\t&lt;!-- Servlet --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;4.3.5.Final&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n    \t\r\n    \t\t&lt;!-- Test --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.7&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;  \r\n    \r\n    \t\t      \r\n    \t&lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.9&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;additionalProjectnatures&gt;\r\n                            &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\r\n                        &lt;/additionalProjectnatures&gt;\r\n                        &lt;additionalBuildcommands&gt;\r\n                            &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\r\n                        &lt;/additionalBuildcommands&gt;\r\n                        &lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n                        &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.6&lt;/source&gt;\r\n                        &lt;target&gt;1.6&lt;/target&gt;\r\n                        &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n                        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.2.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n   There are Some Jar Include External\r\n\r\n![jar.png][1](https://i.stack.imgur.com/o6Zav.png)\r\n  [1]: https://i.stack.imgur.com/o6Zav.png &quot;jarStructure&quot;\r\n\r\n root-context.xml\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\r\n    \t\t\r\n    &lt;bean id=&quot;dataSourceBean&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql://localhost:5432/iffco&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;postgres&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;postgres&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;sessionfactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSourceBean&quot;&gt;&lt;/property&gt;\r\n         &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n","title":"HHH000302: Unable to construct current session context [org.springframework.orm.hibernate4.SpringSessionContext]","body":"<p>I am facing Error with hibernate 4.3.5.Final and spring mvc 4.0.4.RELEASE with maven. There are some jar which will be take from maven reposterty and some jar includes jar directly. i am not shore about version of spring and hibernate \n            Please provide me solution  </p>\n\n<pre><code>    ERROR: org.hibernate.internal.SessionFactoryImpl - HHH000302: Unable to construct current session context [org.springframework.orm.hibernate4.SpringSessionContext]\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at org.hibernate.internal.SessionFactoryImpl.buildCurrentSessionContext(SessionFactoryImpl.java:1513)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:532)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1857)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1928)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:189)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:350)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:335)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:684)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4779)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5273)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1566)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1556)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/service/jta/platform/spi/JtaPlatform\n    at org.springframework.orm.hibernate4.SpringSessionContext.&lt;init&gt;(SpringSessionContext.java:56)\n    ... 35 more\nCaused by: java.lang.ClassNotFoundException: org.hibernate.service.jta.platform.spi.JtaPlatform\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1711)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1556)\n    ... 36 more\n</code></pre>\n\n<p>Pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.com&lt;/groupId&gt;\n    &lt;artifactId&gt;iffco&lt;/artifactId&gt;\n    &lt;name&gt;iffco&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;java-version&gt;1.6&lt;/java-version&gt;\n        &lt;org.springframework-version&gt;4.0.4.RELEASE&lt;/org.springframework-version&gt;\n        &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\n        &lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                 &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- AspectJ --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\n        &lt;/dependency&gt;   \n\n        &lt;!-- Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.15&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                    &lt;artifactId&gt;mail&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                    &lt;artifactId&gt;jms&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- @Inject --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n            &lt;version&gt;1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Servlet --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;4.3.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n        &lt;!-- Test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.7&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;  \n\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;additionalProjectnatures&gt;\n                        &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\n                    &lt;/additionalProjectnatures&gt;\n                    &lt;additionalBuildcommands&gt;\n                        &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\n                    &lt;/additionalBuildcommands&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.6&lt;/source&gt;\n                    &lt;target&gt;1.6&lt;/target&gt;\n                    &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>There are Some Jar Include External</p>\n\n<p><img src=\"https://i.stack.imgur.com/o6Zav.png\" alt=\"jar.png\" title=\"jarStructure\">(<a href=\"https://i.stack.imgur.com/o6Zav.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/o6Zav.png</a>)\n root-context.xml</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\n\n&lt;bean id=\"dataSourceBean\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"org.postgresql.Driver\"/&gt;\n    &lt;property name=\"url\" value=\"jdbc:postgresql://localhost:5432/iffco\"/&gt;\n    &lt;property name=\"username\" value=\"postgres\"/&gt;\n    &lt;property name=\"password\" value=\"postgres\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionfactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSourceBean\"&gt;&lt;/property&gt;\n     &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","powershell","kerberos","credentials","powershell-remoting"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1679756996,"post_id":75842367,"comment_id":133779643,"body_markdown":"What version of Windows?  See : https://learn.microsoft.com/en-us/aspnet/core/security/authentication/windowsauth?view=aspnetcore-7.0&amp;tabs=visual-studio#kestrel  I think issue is with the version of windows you are using.  What error are you getting.  Are you using Net or Core?","body":"What version of Windows?  See : <a href=\"https://learn.microsoft.com/en-us/aspnet/core/security/authentication/windowsauth?view=aspnetcore-7.0&amp;tabs=visual-studio#kestrel\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/aspnet/core/security/authenticatio&zwnj;&#8203;n/&hellip;</a>  I think issue is with the version of windows you are using.  What error are you getting.  Are you using Net or Core?"},{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1679758509,"post_id":75842367,"comment_id":133779903,"body_markdown":"Not sure about which windows version you are asking. Running PowerShell script on Windows 10 machine and the remote machines also the same. Generating Kerberos ticket using Keytab file is part of PowerShell script. Java Web Application (JDK 11) is invoking the PowerShell Script using CreateProcessAsUser Windows API function.","body":"Not sure about which windows version you are asking. Running PowerShell script on Windows 10 machine and the remote machines also the same. Generating Kerberos ticket using Keytab file is part of PowerShell script. Java Web Application (JDK 11) is invoking the PowerShell Script using CreateProcessAsUser Windows API function."},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1679771364,"post_id":75842367,"comment_id":133781814,"body_markdown":"Wasn&#39;t sure which version of windows you were using  Most likely your issue is a proxy enabled.","body":"Wasn&#39;t sure which version of windows you were using  Most likely your issue is a proxy enabled."}],"answers":[{"comments":[{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1680191752,"post_id":75863691,"comment_id":133860043,"body_markdown":"Thank you for your reply. I have updated the question with my PowerShell script and included additional information.\n\nAs a temporary solution, I am attempting to save the Technical user Credential in the Windows Credentials manager, as per your suggestion. However, when I add it as a Generic Windows Credential, not all users who access the PowerShell script can access it. Is there a way to make it available to all users whoever accessing the PS script?","body":"Thank you for your reply. I have updated the question with my PowerShell script and included additional information.  As a temporary solution, I am attempting to save the Technical user Credential in the Windows Credentials manager, as per your suggestion. However, when I add it as a Generic Windows Credential, not all users who access the PowerShell script can access it. Is there a way to make it available to all users whoever accessing the PS script?"},{"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"score":0,"creation_date":1680193138,"post_id":75863691,"comment_id":133860410,"body_markdown":"No, saved credentials are per-user (and for SSPI it should be added as a Domain credential, not a Generic one). If you want them to live in the script for all users, then put them directly in the script instead of saving them. Why does the script have its own set of credentials in the first place, though?","body":"No, saved credentials are per-user (and for SSPI it should be added as a Domain credential, not a Generic one). If you want them to live in the script for all users, then put them directly in the script instead of saving them. Why does the script have its own set of credentials in the first place, though?"},{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1680194714,"post_id":75863691,"comment_id":133860809,"body_markdown":"I am not interested to hardcode the Credentials directly in the script and the Technical user is not specific to Powershell scirpt. That will be used for multiple purposes in our project. In Windows Credentials Manager, I didn&#39;t find \nthe the option to create Domain credentials.","body":"I am not interested to hardcode the Credentials directly in the script and the Technical user is not specific to Powershell scirpt. That will be used for multiple purposes in our project. In Windows Credentials Manager, I didn&#39;t find  the the option to create Domain credentials."}],"tags":[],"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680191734,"creation_date":1679990501,"answer_id":75863691,"question_id":75842367,"body_markdown":"PowerShell on Windows does not deal with Kerberos directly – it uses the SSPI interface provided by Windows. In SSPI, only _Windows itself_ is in charge of acquiring all tickets; instead of a file-based keytab, the Kerberos TGT is acquired using the username and password that must be either given to LSASS at logon time, or given to SSPI afterwards.\r\n\r\nSo in addition to CreateProcessAsUser(), you&#39;d need to use LogonUser() and specify the account&#39;s password; the newly created &quot;logon session&quot; will automatically have Kerberos credentials associated with it.\r\n\r\nBut it is also possible to give a password credential to &#39;Enter-PSSession&#39;; as long as the username is in `user@REALM` format, SSPI will acquire Kerberos tickets for it. This would be a better solution in general.\r\n\r\n```powershell\r\n$cred = [PSCredential]::new(&quot;foo@AD.EXAMPLE.COM&quot;, $passwd)\r\nEnter-PSSession $host -Credential $cred -Authentication Kerberos \r\n```\r\n\r\n(It is also possible to store the password in Windows Credential Store; SSPI will use the stored usernames and passwords to acquire tickets for &quot;foreign&quot; systems. This works even if the client machine is not a domain member.)\r\n\r\nFinally, if your application is already running on a domain member system, then it _already has_ Kerberos credentials anyway – it doesn&#39;t need to specify anything extra. Just configure the Windows service to &quot;log in&quot; as a specific domain user (or if you don&#39;t, the service will use the machine credentials) and PowerShell will inherit those credentials automatically.","title":"Has anyone successfully implemented PowerShell remoting using authentication methods other than password-based, particularly Kerberos?","body":"<p>PowerShell on Windows does not deal with Kerberos directly – it uses the SSPI interface provided by Windows. In SSPI, only <em>Windows itself</em> is in charge of acquiring all tickets; instead of a file-based keytab, the Kerberos TGT is acquired using the username and password that must be either given to LSASS at logon time, or given to SSPI afterwards.</p>\n<p>So in addition to CreateProcessAsUser(), you'd need to use LogonUser() and specify the account's password; the newly created &quot;logon session&quot; will automatically have Kerberos credentials associated with it.</p>\n<p>But it is also possible to give a password credential to 'Enter-PSSession'; as long as the username is in <code>user@REALM</code> format, SSPI will acquire Kerberos tickets for it. This would be a better solution in general.</p>\n<pre><code>$cred = [PSCredential]::new(&quot;foo@AD.EXAMPLE.COM&quot;, $passwd)\nEnter-PSSession $host -Credential $cred -Authentication Kerberos \n</code></pre>\n<p>(It is also possible to store the password in Windows Credential Store; SSPI will use the stored usernames and passwords to acquire tickets for &quot;foreign&quot; systems. This works even if the client machine is not a domain member.)</p>\n<p>Finally, if your application is already running on a domain member system, then it <em>already has</em> Kerberos credentials anyway – it doesn't need to specify anything extra. Just configure the Windows service to &quot;log in&quot; as a specific domain user (or if you don't, the service will use the machine credentials) and PowerShell will inherit those credentials automatically.</p>\n"}],"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680191811,"creation_date":1679754698,"question_id":75842367,"body_markdown":"Our objective is to use Kerberos-based authentication for Remote PowerShell in order to execute commands on a remote machine and retrieve the CPU usage.\r\n\r\nWe intend to execute a PowerShell script from a Java web application using the CreateProcessAsUser function. In order to run the script within the user context, we plan to utilize the CreateProcessAsUser Windows API function via JNA.\r\n\r\nOur plan is to utilize a Keytab file and Krb5Cache file to obtain a valid Kerberos ticket for the currently logged-in user. This will enable us to fetch the ST ticket for the user who run the PowerShell Script.\r\n\r\nThus far, obtaining the Kerberos Service ticket using a Keytab file and Krb5Cache file seems feasible. However, the challenge lies in creating a PowerShell credential object using the Kerberos Service ticket. It appears that we cannot use credentials such as Kerberos or GSSCredential directly in PowerShell, and the only option is to utilize the PsCredential function, which solely accepts a username and password. Although ChatGPT suggests using a Base64 encoded Kerberos Ticket as the second argument, this approach does not seem to work.\r\n\r\nIs it possible to pass a Kerberos Service Ticket in PsCredential function? Can you please confirm if I am missing anything? \r\n\r\nI am trying to fetch the CPU usage of the remote machines in a Windows workstation cluster before running the actual workflow script using SSH. \r\n\r\n**How can we achieve PowerShell remoting without requiring a password for each PS-Session or communication, given that every PS authentication method, except for Kerberos, requires a password? It&#39;s important to note that the Default Windows Kerberos Ticket cannot be accessed by all logged-in users as it&#39;s protected by Windows LSASS, and the only way to generate a Kerberos ticket is through a Keytab file. Furthermore, we have explored all possible options to accomplish this.** \r\n\r\nI have attached a PowerShell script that has successfully generated a Kerberos ticket. However, I am unsure whether the **PSCredential will accept the Kerberos ST ticket as the second argument. Can someone please confirm this**?\r\n\r\n[PowerShell Script][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75841963/powershell-remoting-with-kerberos-authentication-keytab-based","title":"Has anyone successfully implemented PowerShell remoting using authentication methods other than password-based, particularly Kerberos?","body":"<p>Our objective is to use Kerberos-based authentication for Remote PowerShell in order to execute commands on a remote machine and retrieve the CPU usage.</p>\n<p>We intend to execute a PowerShell script from a Java web application using the CreateProcessAsUser function. In order to run the script within the user context, we plan to utilize the CreateProcessAsUser Windows API function via JNA.</p>\n<p>Our plan is to utilize a Keytab file and Krb5Cache file to obtain a valid Kerberos ticket for the currently logged-in user. This will enable us to fetch the ST ticket for the user who run the PowerShell Script.</p>\n<p>Thus far, obtaining the Kerberos Service ticket using a Keytab file and Krb5Cache file seems feasible. However, the challenge lies in creating a PowerShell credential object using the Kerberos Service ticket. It appears that we cannot use credentials such as Kerberos or GSSCredential directly in PowerShell, and the only option is to utilize the PsCredential function, which solely accepts a username and password. Although ChatGPT suggests using a Base64 encoded Kerberos Ticket as the second argument, this approach does not seem to work.</p>\n<p>Is it possible to pass a Kerberos Service Ticket in PsCredential function? Can you please confirm if I am missing anything?</p>\n<p>I am trying to fetch the CPU usage of the remote machines in a Windows workstation cluster before running the actual workflow script using SSH.</p>\n<p><strong>How can we achieve PowerShell remoting without requiring a password for each PS-Session or communication, given that every PS authentication method, except for Kerberos, requires a password? It's important to note that the Default Windows Kerberos Ticket cannot be accessed by all logged-in users as it's protected by Windows LSASS, and the only way to generate a Kerberos ticket is through a Keytab file. Furthermore, we have explored all possible options to accomplish this.</strong></p>\n<p>I have attached a PowerShell script that has successfully generated a Kerberos ticket. However, I am unsure whether the <strong>PSCredential will accept the Kerberos ST ticket as the second argument. Can someone please confirm this</strong>?</p>\n<p><a href=\"https://stackoverflow.com/questions/75841963/powershell-remoting-with-kerberos-authentication-keytab-based\">PowerShell Script</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1680192122,"post_id":75890491,"comment_id":133860163,"body_markdown":"You won&#39;t be able to access your apps files in that way. Here is an overview of what&#39;s available on Android: https://developer.android.com/training/data-storage","body":"You won&#39;t be able to access your apps files in that way. Here is an overview of what&#39;s available on Android: <a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage</a>"}],"owner":{"account_id":28170294,"reputation":1,"user_id":21528971,"display_name":"GregT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680191798,"creation_date":1680191798,"question_id":75890491,"body_markdown":"I&#39;m trying to get the current path of the running file (HomeViewModel) in Android Studio with Paths.get. \r\n\r\nI&#39;ve tried using Paths.get(&quot;.&quot;) since that normally returns the current directory, but when I check it via logcat, it just shows up as &quot;/.&quot;. I&#39;ve even tried typing out the full path through how Android might see it (&quot;/app/java/com/example/appname/ui/saves/save.ser&quot;) and it still doesn&#39;t work. Is there a way to make it work while not being too specific with the path so that the code can be used regardless of directory? (Or, if the directory will be the same on all android devices, what that directory might be)?","title":"Paths.get doesn&#39;t work properly in Android Studio","body":"<p>I'm trying to get the current path of the running file (HomeViewModel) in Android Studio with Paths.get.</p>\n<p>I've tried using Paths.get(&quot;.&quot;) since that normally returns the current directory, but when I check it via logcat, it just shows up as &quot;/.&quot;. I've even tried typing out the full path through how Android might see it (&quot;/app/java/com/example/appname/ui/saves/save.ser&quot;) and it still doesn't work. Is there a way to make it work while not being too specific with the path so that the code can be used regardless of directory? (Or, if the directory will be the same on all android devices, what that directory might be)?</p>\n"},{"tags":["java","scala","intellij-idea"],"comments":[{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":2,"creation_date":1680190960,"post_id":75890316,"comment_id":133859776,"body_markdown":"What are you using to compile the project? Can you share exactly what you do to get it compiled? Also, do you have a folder `common` with a child folder `mypackage` with a children folder `firsts`? And why are you keeping `.java` files inside the scala folder?","body":"What are you using to compile the project? Can you share exactly what you do to get it compiled? Also, do you have a folder <code>common</code> with a child folder <code>mypackage</code> with a children folder <code>firsts</code>? And why are you keeping <code>.java</code> files inside the scala folder?"},{"owner":{"account_id":18071003,"reputation":69,"user_id":13135667,"display_name":"it2901"},"score":0,"creation_date":1680191391,"post_id":75890316,"comment_id":133859916,"body_markdown":"@AnthonyAccioly there&#39;s not a lot I can share, but a few things if not all are handled by gradle","body":"@AnthonyAccioly there&#39;s not a lot I can share, but a few things if not all are handled by gradle"},{"owner":{"account_id":18071003,"reputation":69,"user_id":13135667,"display_name":"it2901"},"score":0,"creation_date":1680191649,"post_id":75890316,"comment_id":133860009,"body_markdown":"@AnthonyAccioly I edited my post. There is indeed `.scala` files in the scala folder and I correctly changed the project structure, `common/java/com/mypackage/firsts`","body":"@AnthonyAccioly I edited my post. There is indeed <code>.scala</code> files in the scala folder and I correctly changed the project structure, <code>common&#47;java&#47;com&#47;mypackage&#47;firsts</code>"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":1,"creation_date":1680192155,"post_id":75890316,"comment_id":133860175,"body_markdown":"I suggest that you take take the time to create a [MVE](https://stackoverflow.com/help/minimal-reproducible-example). Chances are that you will figure out what&#39;s wrong as part of the process. Otherwise, you will have something more concrete to share in your question. Without at least a simplified (but functional) gradle build definition and the contents of the source files people can&#39;t do much to help you other than guess what the problem may be.","body":"I suggest that you take take the time to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MVE</a>. Chances are that you will figure out what&#39;s wrong as part of the process. Otherwise, you will have something more concrete to share in your question. Without at least a simplified (but functional) gradle build definition and the contents of the source files people can&#39;t do much to help you other than guess what the problem may be."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1680221782,"post_id":75890316,"comment_id":133865975,"body_markdown":"@it2901  If you&#39;re managing the while project with IntelliJ (without build tools) then look `File -&gt; Project Structure`.","body":"@it2901  If you&#39;re managing the while project with IntelliJ (without build tools) then look <code>File -&gt; Project Structure</code>."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1680221880,"post_id":75890316,"comment_id":133865990,"body_markdown":"@it2901 *&quot;a few things if not all are handled by gradle&quot;* If you&#39;re already using Gradle, why not to organize your project according to [standard directory structure](https://docs.gradle.org/current/userguide/organizing_gradle_projects.html) so that you&#39;ll not rely on marking directories as source roots in IntelliJ? Try to manage the whole your project with your build tool (Gradle, Maven, sbt etc.). I suspect that if you manage it partially with a build tool, partially with IntelliJ, this can confuse IntelliJ.","body":"@it2901 <i>&quot;a few things if not all are handled by gradle&quot;</i> If you&#39;re already using Gradle, why not to organize your project according to <a href=\"https://docs.gradle.org/current/userguide/organizing_gradle_projects.html\" rel=\"nofollow noreferrer\">standard directory structure</a> so that you&#39;ll not rely on marking directories as source roots in IntelliJ? Try to manage the whole your project with your build tool (Gradle, Maven, sbt etc.). I suspect that if you manage it partially with a build tool, partially with IntelliJ, this can confuse IntelliJ."}],"owner":{"account_id":18071003,"reputation":69,"user_id":13135667,"display_name":"it2901"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680191539,"creation_date":1680190792,"question_id":75890316,"body_markdown":"Project Structure\r\n\r\n```\r\n/\r\nfirst\r\n--- build\r\n    --- common\r\n        --- java\r\n            --- com.mypackage.firsts\r\n                --- file1_1.java\r\n                --- file2_1.java\r\nsecond\r\n--- src\r\n    --- main\r\n        --- scala\r\n            --- com.mypackage.seconds\r\n                --- file2_1.scala\r\n                --- file2_1.scala\r\n```\r\n\r\n`file2_1.java` imports `file1_1.java` as follows `import com.mypackage.firsts.file1_1`. IntelliJ allows me to use the auto-complete feature to fill out that import just fine. However, when compiling (this project does not use sbt) I get the following error\r\n\r\n```\r\nobject firsts is not a member of package com.impact\r\n    import com.impact.firsts.file1_1\r\n```\r\n\r\nHow can I solve this issue? The `java` directory above is marked as a `source root`.\r\n","title":"Object is not a member of package - No SBT, Using IntelliJ","body":"<p>Project Structure</p>\n<pre><code>/\nfirst\n--- build\n    --- common\n        --- java\n            --- com.mypackage.firsts\n                --- file1_1.java\n                --- file2_1.java\nsecond\n--- src\n    --- main\n        --- scala\n            --- com.mypackage.seconds\n                --- file2_1.scala\n                --- file2_1.scala\n</code></pre>\n<p><code>file2_1.java</code> imports <code>file1_1.java</code> as follows <code>import com.mypackage.firsts.file1_1</code>. IntelliJ allows me to use the auto-complete feature to fill out that import just fine. However, when compiling (this project does not use sbt) I get the following error</p>\n<pre><code>object firsts is not a member of package com.impact\n    import com.impact.firsts.file1_1\n</code></pre>\n<p>How can I solve this issue? The <code>java</code> directory above is marked as a <code>source root</code>.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680189791,"creation_date":1680189791,"answer_id":75890129,"question_id":75890069,"body_markdown":"Although I agree it should respect your override, that really comes down to the [naming strategy][1] in [use][2]. You&#39;ll want to choose the one that works for your case. And, I&#39;ll not lie: I&#39;ve always been confused by which does what\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-naming-strategy\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.1/userguide/html_single/chapters/domain/naming.html","title":"Why can&#39;t JPA findAll get the existing column?","body":"<p>Although I agree it should respect your override, that really comes down to the <a href=\"https://www.baeldung.com/hibernate-naming-strategy\" rel=\"nofollow noreferrer\">naming strategy</a> in <a href=\"https://docs.jboss.org/hibernate/orm/5.1/userguide/html_single/chapters/domain/naming.html\" rel=\"nofollow noreferrer\">use</a>. You'll want to choose the one that works for your case. And, I'll not lie: I've always been confused by which does what</p>\n"},{"tags":[],"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680191509,"creation_date":1680191052,"answer_id":75890359,"question_id":75890069,"body_markdown":"Finally resolved, with 2 steps.\r\n\r\n1. Append the following in your application.properties file ([credit][1])\r\n\r\n\r\n```\r\n### For Hibernate 5.0\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n### How to know your Hibernate version? Simply print this line below\r\nSystem.out.println(org.hibernate.Version.getVersionString());\r\n```\r\n\r\n2. Append `@Column` annotation inside your `@Entity` ([credit][2])\r\n```\r\n    @Column(name = &quot;\\&quot;ageGroup\\&quot;&quot;)\r\n    private Integer ageGroup;\r\n    @Column(name = &quot;\\&quot;lastUpdate\\&quot;&quot;)\r\n    private Timestamp lastUpdate;\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/6264#issuecomment-229893825\r\n  [2]: https://stackoverflow.com/a/35708531/4311268","title":"Why can&#39;t JPA findAll get the existing column?","body":"<p>Finally resolved, with 2 steps.</p>\n<ol>\n<li>Append the following in your application.properties file (<a href=\"https://github.com/spring-projects/spring-boot/issues/6264#issuecomment-229893825\" rel=\"nofollow noreferrer\">credit</a>)</li>\n</ol>\n<pre><code>### For Hibernate 5.0\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\n### How to know your Hibernate version? Simply print this line below\nSystem.out.println(org.hibernate.Version.getVersionString());\n</code></pre>\n<ol start=\"2\">\n<li>Append <code>@Column</code> annotation inside your <code>@Entity</code> (<a href=\"https://stackoverflow.com/a/35708531/4311268\">credit</a>)</li>\n</ol>\n<pre><code>    @Column(name = &quot;\\&quot;ageGroup\\&quot;&quot;)\n    private Integer ageGroup;\n    @Column(name = &quot;\\&quot;lastUpdate\\&quot;&quot;)\n    private Timestamp lastUpdate;\n</code></pre>\n"}],"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75890359,"answer_count":2,"score":1,"last_activity_date":1680191509,"creation_date":1680189528,"question_id":75890069,"body_markdown":"Im using Springboot `version &#39;2.5.1&#39;`, doing some simple application by using Hibernate to query data from local database. While using Hibernate `.findAll()`, I&#39;ve received a error message of `The column name last_update was not found in this ResultSet.` \r\n\r\nI notice the issue with Hibernate for reading my `lastUpdate` column as `last_update`. Despite I have specified the field using `@Column` annotation.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan one help to correct my mistake please?\r\n\r\n**Database**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Entity**\r\n```\r\npackage com.user.learning.springboot.springboot.entity;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport java.sql.Timestamp;\r\nimport java.util.Date;\r\n\r\n@Entity\r\n@Table(name=&quot;student&quot;)\r\npublic class Student {\r\n    // define fields\r\n    @Id\r\n    @Column (name=&quot;email&quot;)\r\n    private String email;\r\n    private String name;\r\n    private Date dob;\r\n    private Integer age;\r\n    @Column (name=&quot;lastUpdate&quot;)\r\n    private Timestamp lastUpdate;\r\n\r\n    // define constructors\r\n    public Student(){\r\n\r\n    }\r\n\r\n    public Student(String name, Date dob, Integer age, Timestamp lastUpdate) {\r\n        this.name = name;\r\n        this.dob = dob;\r\n        this.age = age;\r\n        this.lastUpdate = lastUpdate;\r\n    }\r\n\r\n    // define getters/setters - using auto generate function provided by IDE (just right click, generate)\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Date getDob() {\r\n        return dob;\r\n    }\r\n\r\n    public void setDob(Date dob) {\r\n        this.dob = dob;\r\n    }\r\n\r\n    public Integer getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(Integer age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public Timestamp getLastUpdate() {\r\n        return lastUpdate;\r\n    }\r\n\r\n    public void setLastUpdate(Timestamp lastUpdate) {\r\n        this.lastUpdate = lastUpdate;\r\n    }\r\n\r\n\r\n    //     define toString() method\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, dob=&quot; + dob +\r\n                &quot;, age=&quot; + age +\r\n                &quot;, lastUpdate=&quot; + lastUpdate +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n**Service Implemenatation**\r\n```\r\npackage com.user.learning.springboot.springboot.service;\r\n\r\nimport com.user.learning.springboot.springboot.entity.Student;\r\nimport com.user.learning.springboot.springboot.repository.StudentRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class StudentServiceImpl implements StudentService{\r\n\r\n    @Autowired\r\n    StudentRepository studentRepository;\r\n\r\n    @Override\r\n    public List&lt;Student&gt; getAll() {\r\n        return studentRepository.findAll();\r\n    }\r\n}\r\n\r\n```\r\n\r\nSolution tried:\r\n1. https://stackoverflow.com/a/38875123/4311268\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1KKiA.png\r\n  [2]: https://i.stack.imgur.com/hMEC2.png","title":"Why can&#39;t JPA findAll get the existing column?","body":"<p>Im using Springboot <code>version '2.5.1'</code>, doing some simple application by using Hibernate to query data from local database. While using Hibernate <code>.findAll()</code>, I've received a error message of <code>The column name last_update was not found in this ResultSet.</code></p>\n<p>I notice the issue with Hibernate for reading my <code>lastUpdate</code> column as <code>last_update</code>. Despite I have specified the field using <code>@Column</code> annotation.</p>\n<p><a href=\"https://i.stack.imgur.com/1KKiA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1KKiA.png\" alt=\"enter image description here\" /></a></p>\n<p>Can one help to correct my mistake please?</p>\n<p><strong>Database</strong></p>\n<p><a href=\"https://i.stack.imgur.com/hMEC2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMEC2.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Entity</strong></p>\n<pre><code>package com.user.learning.springboot.springboot.entity;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport java.sql.Timestamp;\nimport java.util.Date;\n\n@Entity\n@Table(name=&quot;student&quot;)\npublic class Student {\n    // define fields\n    @Id\n    @Column (name=&quot;email&quot;)\n    private String email;\n    private String name;\n    private Date dob;\n    private Integer age;\n    @Column (name=&quot;lastUpdate&quot;)\n    private Timestamp lastUpdate;\n\n    // define constructors\n    public Student(){\n\n    }\n\n    public Student(String name, Date dob, Integer age, Timestamp lastUpdate) {\n        this.name = name;\n        this.dob = dob;\n        this.age = age;\n        this.lastUpdate = lastUpdate;\n    }\n\n    // define getters/setters - using auto generate function provided by IDE (just right click, generate)\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Date getDob() {\n        return dob;\n    }\n\n    public void setDob(Date dob) {\n        this.dob = dob;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    public Timestamp getLastUpdate() {\n        return lastUpdate;\n    }\n\n    public void setLastUpdate(Timestamp lastUpdate) {\n        this.lastUpdate = lastUpdate;\n    }\n\n\n    //     define toString() method\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;email='&quot; + email + '\\'' +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, dob=&quot; + dob +\n                &quot;, age=&quot; + age +\n                &quot;, lastUpdate=&quot; + lastUpdate +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Service Implemenatation</strong></p>\n<pre><code>package com.user.learning.springboot.springboot.service;\n\nimport com.user.learning.springboot.springboot.entity.Student;\nimport com.user.learning.springboot.springboot.repository.StudentRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class StudentServiceImpl implements StudentService{\n\n    @Autowired\n    StudentRepository studentRepository;\n\n    @Override\n    public List&lt;Student&gt; getAll() {\n        return studentRepository.findAll();\n    }\n}\n\n</code></pre>\n<p>Solution tried:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/38875123/4311268\">https://stackoverflow.com/a/38875123/4311268</a></li>\n</ol>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680191423,"creation_date":1680191423,"answer_id":75890417,"question_id":75890105,"body_markdown":"I think there is a bit of misunderstanding on how Spring Boot works and how java class loading works.\r\n\r\nSpring boot looks at all of your declared dependencies and bundles them up into a single jar along with their own custom class loader; a jar-of-jars. This then becomes part of what&#39;s available to be loaded by the JVM, but it&#39;s not definitive, and this is crucial to remember.\r\n\r\nWhen the JVM starts, it starts loading classes through the class loader on-demand; in this case it would use springs custom class loader. So, spring boot doesn&#39;t &quot;load&quot; jars - it makes them available to the JVM in a convenient fashion - 1 fat jar. \r\n\r\n**My answer** There are a few ways you can accomplish what you&#39;re trying to do; 1 is experimental as I have never tried it\r\n\r\n1. Declare your jar as an actual dependency and let spring/maven/gradle do it&#39;s job normally - this is my recommendation. And, even if you don&#39;t have a dedicated artifact repository, you can configure both maven and gradle to treat a specific file path as a &quot;repo&quot;. So, that&#39;s not a limitation.\r\n2. Literally just drop the file in your target (maven) or lib (gradle) directory. I don&#39;t know if Spring boot just vacuums up all jars in the dir on the assumption they are correct or only the ones actually declared as dependencies. If I were implementing it, I&#39;d only pull in declared dependencies.\r\n3. Directly add it to the classpath when you run the spring boot jar by adding an extra arg: `--classpath mything.jar`\r\n\r\nI recommend option 1, then option 3. It depends on what you&#39;re trying to achieve and what you have accessible to you\r\n","title":"How to add a JAR to a Spring Boot layered lib/ dir and loading it?","body":"<p>I think there is a bit of misunderstanding on how Spring Boot works and how java class loading works.</p>\n<p>Spring boot looks at all of your declared dependencies and bundles them up into a single jar along with their own custom class loader; a jar-of-jars. This then becomes part of what's available to be loaded by the JVM, but it's not definitive, and this is crucial to remember.</p>\n<p>When the JVM starts, it starts loading classes through the class loader on-demand; in this case it would use springs custom class loader. So, spring boot doesn't &quot;load&quot; jars - it makes them available to the JVM in a convenient fashion - 1 fat jar.</p>\n<p><strong>My answer</strong> There are a few ways you can accomplish what you're trying to do; 1 is experimental as I have never tried it</p>\n<ol>\n<li>Declare your jar as an actual dependency and let spring/maven/gradle do it's job normally - this is my recommendation. And, even if you don't have a dedicated artifact repository, you can configure both maven and gradle to treat a specific file path as a &quot;repo&quot;. So, that's not a limitation.</li>\n<li>Literally just drop the file in your target (maven) or lib (gradle) directory. I don't know if Spring boot just vacuums up all jars in the dir on the assumption they are correct or only the ones actually declared as dependencies. If I were implementing it, I'd only pull in declared dependencies.</li>\n<li>Directly add it to the classpath when you run the spring boot jar by adding an extra arg: <code>--classpath mything.jar</code></li>\n</ol>\n<p>I recommend option 1, then option 3. It depends on what you're trying to achieve and what you have accessible to you</p>\n"}],"owner":{"account_id":1756163,"reputation":2476,"user_id":1604170,"accept_rate":84,"display_name":"BBacon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680191423,"creation_date":1680189696,"question_id":75890105,"body_markdown":"I have a Spring Boot app that I extract in layers using layertools jarmode and run:\r\n\r\n```\r\nMyApp \r\n│\r\n└───BOOT-INF\r\n    |\r\n    └-lib\r\n       |  my-jar-here-that-i-manually-added.jar\r\n│   \r\n└───META-INF\r\n    |   ...\r\n│   \r\n└───org\r\n    |   ...\r\n```\r\n\r\nHow would I make Spring Boot load my externally/manually added jar from its directory automatically?\r\n\r\nThe jar that I am manually adding is an UberJar built with `maven-assembly-plugin` and I want it to be picked up and scanned by spring. It has a `spring.factories` file inside.","title":"How to add a JAR to a Spring Boot layered lib/ dir and loading it?","body":"<p>I have a Spring Boot app that I extract in layers using layertools jarmode and run:</p>\n<pre><code>MyApp \n│\n└───BOOT-INF\n    |\n    └-lib\n       |  my-jar-here-that-i-manually-added.jar\n│   \n└───META-INF\n    |   ...\n│   \n└───org\n    |   ...\n</code></pre>\n<p>How would I make Spring Boot load my externally/manually added jar from its directory automatically?</p>\n<p>The jar that I am manually adding is an UberJar built with <code>maven-assembly-plugin</code> and I want it to be picked up and scanned by spring. It has a <code>spring.factories</code> file inside.</p>\n"},{"tags":["java","spring-boot","constraintviolationexception"],"answers":[{"tags":[],"owner":{"account_id":27521887,"reputation":1,"user_id":21001910,"display_name":"Gregory Pellegrin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680191009,"creation_date":1680191009,"answer_id":75890353,"question_id":75890062,"body_markdown":"mvn clean package then in Intelij invalidates caches and maven/reimport and it works !","title":"ConstraintViolationException won&#39;t be thrown","body":"<p>mvn clean package then in Intelij invalidates caches and maven/reimport and it works !</p>\n"}],"owner":{"account_id":27521887,"reputation":1,"user_id":21001910,"display_name":"Gregory Pellegrin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680191009,"creation_date":1680189492,"question_id":75890062,"body_markdown":"When I launch my request, the ConstraintViolationException does not want to be thrown for a field with a regex in the contract\r\n\r\n&gt; Here the request in postman\r\n\r\n```\r\napiName/v1/account?cardNumer=55^fields=customerName\r\n```\r\n\r\n&gt; Here the contract AccountApi with a regex on the field cardNumber\r\n\r\n```\r\n@Pattern(regexp = &quot;^[0-9]{6}[A-Z][0-9]{9}$&quot;) @Parameter(name = &quot;cardNumber&quot;)\r\n```\r\n\r\n&gt; Here the Controller.java with the @Validated annotation\r\n&gt;\r\n&gt; The AccountController .java implements AccountApi which is the contract\r\n\r\n```\r\n@RestController\r\n@Validated\r\n@Slf4j\r\npublic class AccountController implements AccountApi {\r\n\r\n    @Override\r\n    public ResponseEntity&lt;List&lt;Account&gt;&gt; getAccount(String cardNumer) {\r\n    }\r\n}\r\n```\r\n\r\n&gt; Here the AccountControllerExceptionHandler.java with the ConstraintViolationException\r\n\r\n```\r\n@ControllerAdvice\r\npublic class AccountControllerExceptionHandler{\r\n    @ExceptionHandler(value = {ConstraintViolationException.class})\r\n    @ResponseBody\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public Error manageErrorRegexViolation(final ConstraintViolationException e, HttpServletResponse response) {\r\n        log.error(&quot;Error ConstraintViolationException {}.&quot;, e.getMessage());\r\n    }\r\n}\r\n```\r\n\r\n- The regex in the contract for the field cardNumber is here\r\n\r\n- The @Validated annotation in the Controller is here\r\n\r\n- The ConstraintViolationException in the ExceptionHandler.java is here\r\n\r\nIn others threads they only said to add thoses 3 things","title":"ConstraintViolationException won&#39;t be thrown","body":"<p>When I launch my request, the ConstraintViolationException does not want to be thrown for a field with a regex in the contract</p>\n<blockquote>\n<p>Here the request in postman</p>\n</blockquote>\n<pre><code>apiName/v1/account?cardNumer=55^fields=customerName\n</code></pre>\n<blockquote>\n<p>Here the contract AccountApi with a regex on the field cardNumber</p>\n</blockquote>\n<pre><code>@Pattern(regexp = &quot;^[0-9]{6}[A-Z][0-9]{9}$&quot;) @Parameter(name = &quot;cardNumber&quot;)\n</code></pre>\n<blockquote>\n<p>Here the Controller.java with the @Validated annotation</p>\n<p>The AccountController .java implements AccountApi which is the contract</p>\n</blockquote>\n<pre><code>@RestController\n@Validated\n@Slf4j\npublic class AccountController implements AccountApi {\n\n    @Override\n    public ResponseEntity&lt;List&lt;Account&gt;&gt; getAccount(String cardNumer) {\n    }\n}\n</code></pre>\n<blockquote>\n<p>Here the AccountControllerExceptionHandler.java with the ConstraintViolationException</p>\n</blockquote>\n<pre><code>@ControllerAdvice\npublic class AccountControllerExceptionHandler{\n    @ExceptionHandler(value = {ConstraintViolationException.class})\n    @ResponseBody\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public Error manageErrorRegexViolation(final ConstraintViolationException e, HttpServletResponse response) {\n        log.error(&quot;Error ConstraintViolationException {}.&quot;, e.getMessage());\n    }\n}\n</code></pre>\n<ul>\n<li><p>The regex in the contract for the field cardNumber is here</p>\n</li>\n<li><p>The @Validated annotation in the Controller is here</p>\n</li>\n<li><p>The ConstraintViolationException in the ExceptionHandler.java is here</p>\n</li>\n</ul>\n<p>In others threads they only said to add thoses 3 things</p>\n"},{"tags":["java","gradle","libgdx","java-platform-module-system"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1680186806,"post_id":75889442,"comment_id":133858574,"body_markdown":"That library does no have a module descriptor or a stable module name.","body":"That library does no have a module descriptor or a stable module name."},{"owner":{"account_id":28169218,"reputation":41,"user_id":21528002,"display_name":"Joakim Leed"},"score":0,"creation_date":1680188675,"post_id":75889442,"comment_id":133859091,"body_markdown":"Is it possible to add a module descriptor to the library?","body":"Is it possible to add a module descriptor to the library?"},{"owner":{"account_id":28169218,"reputation":41,"user_id":21528002,"display_name":"Joakim Leed"},"score":0,"creation_date":1680188829,"post_id":75889442,"comment_id":133859149,"body_markdown":"Another observation I have done is that, my modules can discover the &quot;gdx&quot; dependency if I don&#39;t have nested modules. https://imgur.com/8xXtzUM : it does seem that Gradle assumes that main must be a module.","body":"Another observation I have done is that, my modules can discover the &quot;gdx&quot; dependency if I don&#39;t have nested modules. <a href=\"https://imgur.com/8xXtzUM\" rel=\"nofollow noreferrer\">imgur.com/8xXtzUM</a> : it does seem that Gradle assumes that main must be a module."}],"owner":{"account_id":28169218,"reputation":41,"user_id":21528002,"display_name":"Joakim Leed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680190760,"creation_date":1680186133,"question_id":75889442,"body_markdown":"I am building a project with LibGDX using Java Module System (JPMS) from Java 9, unfortunately JPMS is unable locate the gdx dependency that I am retrieving in my build.gradle file from:\r\nhttps://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0\r\n\r\nrepositories:\r\n```\r\n        mavenLocal()\r\n        mavenCentral()\r\n        google()\r\n        gradlePluginPortal()\r\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n        maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n```\r\n\r\nmodule specific dependencies:\r\n```\r\nproject(&quot;:core&quot;) {\r\n    apply plugin: &quot;java&quot;\r\n    dependencies {\r\n        implementation project(&#39;:common&#39;)\r\n        implementation &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\n    }\r\n}\r\n```\r\n\r\nmodule-info.java file\r\n\r\n```\r\nmodule core {\r\n    exports sdu.dk.group.one;\r\n    requires common;\r\n    requires gdx;\r\n}\r\n```\r\n\r\nThe module is able to find the `implementation project(&#39;:common&#39;)` which means Gradle is able to discover dependency sources and Java is able to infer the dependencies of the modules correctly to them. \r\nAdditional information: \r\n\r\n\r\n# Steps taken to solve this issue:\r\n1. Using different keywords to store the dependency differently at compile/run-time:\r\n\r\n```\r\nimplementation &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\nruntime &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\napi &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\ncompileOnly &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\n```\r\nI have also attempted the official dependency declaration from: https://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0#gradle\r\n```\r\nimplementation group: &#39;com.badlogicgames.gdx&#39;, name: &#39;gdx&#39;, version: &#39;1.11.0&#39;\r\n```\r\nAll resulting in the same error: &quot;error: module not found: gdx \\n requires gdx;&quot;\r\n\r\nI have consulted the official documentation from Gradle about Java 9 modules:\r\nhttps://docs.gradle.org/current/samples/sample_java_modules_multi_project.html\r\nHowever, this does not seem to be related to my issue since my local dependencies are working as expected i.e. (&#39;:common&#39;)\r\n\r\nI have also tried different plugins for Gradle such as:\r\n```\r\napply plugin: &quot;java&quot;\r\napply plugin: &quot;java-library&quot;\r\n```\r\n\r\nI&#39;ve spent the majority of the day trying to solve this issue so any help would be greatly appreciated. \r\nThank you for the time spent on reading this post. \r\n\r\nupdate:\r\nDisregarding the project structure that Gradle Assumes (src:directory/main:module/java:sources-root) https://i.stack.imgur.com/ht07H.jpg will make the JPSM discover the gdx dependency, however this is overwritten when reloading Gradle. ","title":"Java module system unable to discover Gradle dependency: gdx (libgdx)","body":"<p>I am building a project with LibGDX using Java Module System (JPMS) from Java 9, unfortunately JPMS is unable locate the gdx dependency that I am retrieving in my build.gradle file from:\n<a href=\"https://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0</a></p>\n<p>repositories:</p>\n<pre><code>        mavenLocal()\n        mavenCentral()\n        google()\n        gradlePluginPortal()\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n        maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\n        maven { url &quot;https://jitpack.io&quot; }\n</code></pre>\n<p>module specific dependencies:</p>\n<pre><code>project(&quot;:core&quot;) {\n    apply plugin: &quot;java&quot;\n    dependencies {\n        implementation project(':common')\n        implementation &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\n    }\n}\n</code></pre>\n<p>module-info.java file</p>\n<pre><code>module core {\n    exports sdu.dk.group.one;\n    requires common;\n    requires gdx;\n}\n</code></pre>\n<p>The module is able to find the <code>implementation project(':common')</code> which means Gradle is able to discover dependency sources and Java is able to infer the dependencies of the modules correctly to them.\nAdditional information:</p>\n<h1>Steps taken to solve this issue:</h1>\n<ol>\n<li>Using different keywords to store the dependency differently at compile/run-time:</li>\n</ol>\n<pre><code>implementation &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\nruntime &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\napi &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\ncompileOnly &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\n</code></pre>\n<p>I have also attempted the official dependency declaration from: <a href=\"https://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0#gradle\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0#gradle</a></p>\n<pre><code>implementation group: 'com.badlogicgames.gdx', name: 'gdx', version: '1.11.0'\n</code></pre>\n<p>All resulting in the same error: &quot;error: module not found: gdx \\n requires gdx;&quot;</p>\n<p>I have consulted the official documentation from Gradle about Java 9 modules:\n<a href=\"https://docs.gradle.org/current/samples/sample_java_modules_multi_project.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/samples/sample_java_modules_multi_project.html</a>\nHowever, this does not seem to be related to my issue since my local dependencies are working as expected i.e. (':common')</p>\n<p>I have also tried different plugins for Gradle such as:</p>\n<pre><code>apply plugin: &quot;java&quot;\napply plugin: &quot;java-library&quot;\n</code></pre>\n<p>I've spent the majority of the day trying to solve this issue so any help would be greatly appreciated.\nThank you for the time spent on reading this post.</p>\n<p>update:\nDisregarding the project structure that Gradle Assumes (src:directory/main:module/java:sources-root) <a href=\"https://i.stack.imgur.com/ht07H.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ht07H.jpg</a> will make the JPSM discover the gdx dependency, however this is overwritten when reloading Gradle.</p>\n"},{"tags":["java","mongodb","aggregation-framework","rename"],"comments":[{"owner":{"account_id":1122347,"reputation":35187,"user_id":1110423,"accept_rate":70,"display_name":"Alex Blex"},"score":2,"creation_date":1492765014,"post_id":43537943,"comment_id":74128363,"body_markdown":"[$project](https://docs.mongodb.com/manual/reference/operator/aggregation/project/) it on the next stage in the pipeline","body":"<a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/project/\" rel=\"nofollow noreferrer\">$project</a> it on the next stage in the pipeline"},{"owner":{"account_id":3541340,"reputation":296,"user_id":2958358,"accept_rate":56,"display_name":"artemitSoft"},"score":0,"creation_date":1661345602,"post_id":43537943,"comment_id":129749686,"body_markdown":"{  $addFields: { newName: &quot;$_id&quot; } },\n{ $project: { _id: 1 } }","body":"{  $addFields: { newName: &quot;$_id&quot; } }, { $project: { _id: 1 } }"}],"answers":[{"tags":[],"owner":{"account_id":9232677,"reputation":9117,"user_id":6858274,"accept_rate":92,"display_name":"felix"},"comment_count":0,"down_vote_count":0,"up_vote_count":109,"is_accepted":true,"score":109,"last_activity_date":1545214242,"creation_date":1492766333,"answer_id":43538722,"question_id":43537943,"body_markdown":"You can achieve this by adding a [**`$project`**][1] stage at the end of your pipeline like this : \r\n\r\n\r\n    { $project: {  \r\n          _id: 0,\r\n          name: &quot;$_id&quot;,\r\n          count: 1,\r\n          sum: 1\r\n       }\r\n    }\r\n\r\ntry it online: [mongoplayground.net/p/QpVyh-0I-bP](https://mongoplayground.net/p/QpVyh-0I-bP)\r\n\r\n\r\n  [1]: https://docs.mongodb.com/manual/reference/operator/aggregation/project/","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>You can achieve this by adding a <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/project/\" rel=\"noreferrer\"><strong><code>$project</code></strong></a> stage at the end of your pipeline like this : </p>\n\n<pre><code>{ $project: {  \n      _id: 0,\n      name: \"$_id\",\n      count: 1,\n      sum: 1\n   }\n}\n</code></pre>\n\n<p>try it online: <a href=\"https://mongoplayground.net/p/QpVyh-0I-bP\" rel=\"noreferrer\">mongoplayground.net/p/QpVyh-0I-bP</a></p>\n"},{"comments":[{"owner":{"account_id":1543939,"reputation":12592,"user_id":1437934,"accept_rate":79,"display_name":"Gonzalo.-"},"score":0,"creation_date":1578686815,"post_id":48683015,"comment_id":105533299,"body_markdown":"Did not work for me, I get `$projection requires at least one output field.` (using it in an aggregate)","body":"Did not work for me, I get <code>$projection requires at least one output field.</code> (using it in an aggregate)"},{"owner":{"account_id":1543939,"reputation":12592,"user_id":1437934,"accept_rate":79,"display_name":"Gonzalo.-"},"score":0,"creation_date":1578687209,"post_id":48683015,"comment_id":105533438,"body_markdown":"Clarification: I&#39;m using DocumentDB in AWS","body":"Clarification: I&#39;m using DocumentDB in AWS"},{"owner":{"account_id":14184685,"reputation":599,"user_id":10247079,"display_name":"drocha87"},"score":0,"creation_date":1603134017,"post_id":48683015,"comment_id":113934721,"body_markdown":"It works fine, but I need to convert _id to string, so `{ $addFields: { id: {  $toString: &#39;$_id&#39; } } }` and the order of the pipeline should be respected, first `$addFields` and `$project`.","body":"It works fine, but I need to convert _id to string, so <code>{ $addFields: { id: {  $toString: &#39;$_id&#39; } } }</code> and the order of the pipeline should be respected, first <code>$addFields</code> and <code>$project</code>."}],"tags":[],"owner":{"account_id":4018130,"reputation":11533,"user_id":3309466,"accept_rate":78,"display_name":"Manuel Spigolon"},"comment_count":3,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1518085076,"creation_date":1518085076,"answer_id":48683015,"question_id":43537943,"body_markdown":"From mongo v3.4 you could use [`$addFields`][1] in conjunction with `$project` to avoid to write all the fields in `$project` that could be **very tedious**.\r\n\r\nThis happen in `$project` because if you include specifically a field, the other fields will be automatically excluded.\r\n\r\nExample:\r\n\r\n    { \r\n      $addFields: { my_new_id_name: &quot;$_id&quot; }\r\n    },\r\n    {\r\n      $project: { _id: 0 }\r\n    }\r\n\r\n\r\n  [1]: https://docs.mongodb.com/manual/reference/operator/aggregation/addFields/","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>From mongo v3.4 you could use <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/addFields/\" rel=\"noreferrer\"><code>$addFields</code></a> in conjunction with <code>$project</code> to avoid to write all the fields in <code>$project</code> that could be <strong>very tedious</strong>.</p>\n\n<p>This happen in <code>$project</code> because if you include specifically a field, the other fields will be automatically excluded.</p>\n\n<p>Example:</p>\n\n<pre><code>{ \n  $addFields: { my_new_id_name: \"$_id\" }\n},\n{\n  $project: { _id: 0 }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12546993,"reputation":1272,"user_id":9129924,"display_name":"andranikasl"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1540113477,"creation_date":1540113477,"answer_id":52913757,"question_id":43537943,"body_markdown":"if you are using `find` method you can&#39;t do this, but if you using `aggregation` it is very easy like this:\r\n\r\n    db.collectionName.aggregate([\r\n        {\r\n            $project: {\r\n                newName: &quot;$existingKeyName&quot;\r\n            }\r\n        }\r\n    ]);","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>if you are using <code>find</code> method you can't do this, but if you using <code>aggregation</code> it is very easy like this:</p>\n\n<pre><code>db.collectionName.aggregate([\n    {\n        $project: {\n            newName: \"$existingKeyName\"\n        }\n    }\n]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3657397,"reputation":1107,"user_id":3048005,"display_name":"Prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1547124471,"creation_date":1547124471,"answer_id":54129086,"question_id":43537943,"body_markdown":"     db.report.aggregate(   \r\n    {     \r\n    $group: {_id: &#39;$name&#39;} \r\n    },\r\n    {\r\n    $project:{\r\n      name:&quot;$_id&quot;,\r\n     _id:false} }\r\n     )","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<pre><code> db.report.aggregate(   \n{     \n$group: {_id: '$name'} \n},\n{\n$project:{\n  name:\"$_id\",\n _id:false} }\n )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631987535,"creation_date":1631987535,"answer_id":69237131,"question_id":43537943,"body_markdown":"As all of the answers are written the solution in MongoDB query despite the question seeks the solution in Java, posting my approach using Java for posterities.\r\n\r\nAfter the grouping, we can rename the `_id` fieldname using \r\n`Projections.computed(&quot;&lt;expected field name&gt;&quot;, &quot;$_id&quot;)))`\r\n\r\nTo Transform the core part of the query mentioned in the question to Java\r\n```\r\n        Bson mainIdMatch = match(eq(&quot;main_id&quot;, new ObjectId(&quot;58f0f67f50c6af16709fd2c7&quot;)));\r\n        Bson group = Aggregates.group(&quot;$name&quot;, Accumulators.sum(&quot;count&quot;, 1L));\r\n        Bson project = Aggregates.project(Projections.fields(Projections.excludeId(),\r\n                Projections.computed(&quot;name&quot;, &quot;$_id&quot;)));\r\n        reportMongoCollection.aggregate(Arrays.asList(mainIdMatch, group, project))\r\n                .into(new ArrayList&lt;&gt;());\r\n```\r\nTo answer specifically, I have added an excerpt from the above code snippet, where I am renaming `_id` field value as name using `Projections.computed(&quot;name&quot;, &quot;$_id&quot;)` which map the values of `_id` which we got as a result of grouping to the field called `name`. Also, we should exclude the id using `Projections.excludeId()`.\r\n\r\n```\r\nAggregates.project(Projections.fields(Projections.excludeId(),\r\n                Projections.computed(&quot;name&quot;, &quot;$_id&quot;)))\r\n```\r\n","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>As all of the answers are written the solution in MongoDB query despite the question seeks the solution in Java, posting my approach using Java for posterities.</p>\n<p>After the grouping, we can rename the <code>_id</code> fieldname using\n<code>Projections.computed(&quot;&lt;expected field name&gt;&quot;, &quot;$_id&quot;)))</code></p>\n<p>To Transform the core part of the query mentioned in the question to Java</p>\n<pre><code>        Bson mainIdMatch = match(eq(&quot;main_id&quot;, new ObjectId(&quot;58f0f67f50c6af16709fd2c7&quot;)));\n        Bson group = Aggregates.group(&quot;$name&quot;, Accumulators.sum(&quot;count&quot;, 1L));\n        Bson project = Aggregates.project(Projections.fields(Projections.excludeId(),\n                Projections.computed(&quot;name&quot;, &quot;$_id&quot;)));\n        reportMongoCollection.aggregate(Arrays.asList(mainIdMatch, group, project))\n                .into(new ArrayList&lt;&gt;());\n</code></pre>\n<p>To answer specifically, I have added an excerpt from the above code snippet, where I am renaming <code>_id</code> field value as name using <code>Projections.computed(&quot;name&quot;, &quot;$_id&quot;)</code> which map the values of <code>_id</code> which we got as a result of grouping to the field called <code>name</code>. Also, we should exclude the id using <code>Projections.excludeId()</code>.</p>\n<pre><code>Aggregates.project(Projections.fields(Projections.excludeId(),\n                Projections.computed(&quot;name&quot;, &quot;$_id&quot;)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12852886,"reputation":56805,"user_id":9297144,"display_name":"Xavier Guihot"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638607906,"creation_date":1638607906,"answer_id":70224237,"question_id":43537943,"body_markdown":"Starting in `Mongo 4.2`, you can use a combination of [`$set`](https://docs.mongodb.com/manual/reference/operator/aggregation/set/) / [`$unset`](https://docs.mongodb.com/manual/reference/operator/aggregation/unset/) stages:\r\n\r\n&lt;!-- language-all: lang-javascript --&gt;\r\n\r\n    // { x: 1, z: &quot;a&quot; }\r\n    // { x: 2, z: &quot;b&quot; }\r\n    db.collection.aggregate([\r\n      { $set: { y: &quot;$x&quot; } },\r\n      { $unset: &quot;x&quot; }\r\n    ])\r\n    // { y: 1, z: &quot;a&quot; }\r\n    // { y: 2, z: &quot;b&quot; }\r\n\r\nThe [`$set`](https://docs.mongodb.com/manual/reference/operator/aggregation/set/) stage adds the new field to documents and the [`$unset`](https://docs.mongodb.com/manual/reference/operator/aggregation/unset/) stage removes/excludes the field to be renamed from documents.\r\n","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>Starting in <code>Mongo 4.2</code>, you can use a combination of <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/set/\" rel=\"nofollow noreferrer\"><code>$set</code></a> / <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/unset/\" rel=\"nofollow noreferrer\"><code>$unset</code></a> stages:</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>// { x: 1, z: &quot;a&quot; }\n// { x: 2, z: &quot;b&quot; }\ndb.collection.aggregate([\n  { $set: { y: &quot;$x&quot; } },\n  { $unset: &quot;x&quot; }\n])\n// { y: 1, z: &quot;a&quot; }\n// { y: 2, z: &quot;b&quot; }\n</code></pre>\n<p>The <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/set/\" rel=\"nofollow noreferrer\"><code>$set</code></a> stage adds the new field to documents and the <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/unset/\" rel=\"nofollow noreferrer\"><code>$unset</code></a> stage removes/excludes the field to be renamed from documents.</p>\n"},{"tags":[],"owner":{"account_id":5602161,"reputation":4883,"user_id":4438061,"display_name":"Sandeep Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680190180,"creation_date":1680190180,"answer_id":75890202,"question_id":43537943,"body_markdown":"Here is working example In Java using MongoTemplate:\r\n\r\n\r\n    GroupOperation groupByMovie = Aggregation.group(&quot;movieId&quot;)\r\n                    .avg(&quot;rating&quot;).as(&quot;averageRating&quot;);\r\n    \r\n            SortOperation sortByAvgRatingDesc = Aggregation.sort(Sort.Direction.DESC, &quot;averageRating&quot;);\r\n            LimitOperation limitRows = Aggregation.limit(limit);\r\n            ProjectionOperation projectionOperation = Aggregation.project()\r\n                    .and(&quot;_id&quot;).as(&quot;movieId&quot;)\r\n                    .and(&quot;averageRating&quot;).as(&quot;averageRating&quot;)\r\n                    .andExclude(&quot;_id&quot;);\r\n    \r\n            Aggregation aggregation = Aggregation.newAggregation(\r\n                    groupByMovie,\r\n                    projectionOperation,\r\n                    sortByAvgRatingDesc,\r\n                    limitRows\r\n            );\r\n    \r\n            AggregationResults&lt;TopRatedMovie&gt; results = mongoTemplate.aggregate(aggregation, MovieRating.class, TopRatedMovie.class);\r\n    \r\n            return results.getMappedResults();","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>Here is working example In Java using MongoTemplate:</p>\n<pre><code>GroupOperation groupByMovie = Aggregation.group(&quot;movieId&quot;)\n                .avg(&quot;rating&quot;).as(&quot;averageRating&quot;);\n\n        SortOperation sortByAvgRatingDesc = Aggregation.sort(Sort.Direction.DESC, &quot;averageRating&quot;);\n        LimitOperation limitRows = Aggregation.limit(limit);\n        ProjectionOperation projectionOperation = Aggregation.project()\n                .and(&quot;_id&quot;).as(&quot;movieId&quot;)\n                .and(&quot;averageRating&quot;).as(&quot;averageRating&quot;)\n                .andExclude(&quot;_id&quot;);\n\n        Aggregation aggregation = Aggregation.newAggregation(\n                groupByMovie,\n                projectionOperation,\n                sortByAvgRatingDesc,\n                limitRows\n        );\n\n        AggregationResults&lt;TopRatedMovie&gt; results = mongoTemplate.aggregate(aggregation, MovieRating.class, TopRatedMovie.class);\n\n        return results.getMappedResults();\n</code></pre>\n"}],"owner":{"account_id":49766,"reputation":1746,"user_id":148320,"accept_rate":65,"display_name":"mykola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46726,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":43538722,"answer_count":7,"score":65,"last_activity_date":1680190180,"creation_date":1492764190,"question_id":43537943,"body_markdown":"I have a query like this (simplified):\r\n\r\n&lt;!-- language-all: lang-javascript --&gt;\r\n\r\n    db.collection.aggregate([\r\n      { $match: { main_id: ObjectId(&quot;58f0f67f50c6af16709fd2c7&quot;) } }, \r\n      {\r\n        $group: {\r\n          _id: &quot;$name&quot;,\r\n          count: { $sum: 1 },\r\n          sum: { $sum: { $add: [&quot;$P31&quot;, &quot;$P32&quot;] } }\r\n        }\r\n      }\r\n    ])\r\n\r\nI do this query from Java, and I want to map it on my class, but I don&#39;t want `_id` to be mapped on `name` field. Because if I do something like this:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    @JsonProperty(&quot;_id&quot;)\r\n    private String name;\r\n\r\nthen when I save this data back to mongo (after some modification) the data is saved with name as `_id` while I want a real Id to be generated.\r\n\r\nSo, how can I **rename** `_id` after `$group` operation?\r\n","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>I have a query like this (simplified):</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>db.collection.aggregate([\n  { $match: { main_id: ObjectId(&quot;58f0f67f50c6af16709fd2c7&quot;) } }, \n  {\n    $group: {\n      _id: &quot;$name&quot;,\n      count: { $sum: 1 },\n      sum: { $sum: { $add: [&quot;$P31&quot;, &quot;$P32&quot;] } }\n    }\n  }\n])\n</code></pre>\n<p>I do this query from Java, and I want to map it on my class, but I don't want <code>_id</code> to be mapped on <code>name</code> field. Because if I do something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(&quot;_id&quot;)\nprivate String name;\n</code></pre>\n<p>then when I save this data back to mongo (after some modification) the data is saved with name as <code>_id</code> while I want a real Id to be generated.</p>\n<p>So, how can I <strong>rename</strong> <code>_id</code> after <code>$group</code> operation?</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"owner":{"account_id":13507880,"reputation":151,"user_id":9745412,"display_name":"Haohan Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680190153,"creation_date":1680190153,"question_id":75890196,"body_markdown":"My project has two SpringBootApplications(One is client(`ClientApplication.java`) and another is server(`ServerApplication.java`). The structure is like this:\r\n```\r\njava/org.example.project/\r\n                        client/ClientApplication.java\r\n                        server/ServerApplication.java\r\nresources/application-client.properties\r\n          application-server.properties\r\n                  \r\n```\r\nI had no problem running those applications in Intellij. But when I tried to run them with command line I had problem.\r\n\r\nI tried to run server app with\r\n```\r\n./gradlew bootRun --args=&#39;--spring.profiles.active=server&#39;\r\n```\r\nbut I had error\r\n```\r\n&gt; Task :resolveMainClassName FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:resolveMainClassName&#39;.\r\n&gt; Unable to find a single main class from the following candidates\r\n```\r\nThe same problem occurred with `./gradlew bootRun --args=&#39;--spring.profiles.active=client&#39;`.\r\n\r\nHow can I run client and server seperately with gradle command line? ","title":"Run gradle in one project with multiple SpringBootApplications failed: resolveMainClassName FAILED","body":"<p>My project has two SpringBootApplications(One is client(<code>ClientApplication.java</code>) and another is server(<code>ServerApplication.java</code>). The structure is like this:</p>\n<pre><code>java/org.example.project/\n                        client/ClientApplication.java\n                        server/ServerApplication.java\nresources/application-client.properties\n          application-server.properties\n                  \n</code></pre>\n<p>I had no problem running those applications in Intellij. But when I tried to run them with command line I had problem.</p>\n<p>I tried to run server app with</p>\n<pre><code>./gradlew bootRun --args='--spring.profiles.active=server'\n</code></pre>\n<p>but I had error</p>\n<pre><code>&gt; Task :resolveMainClassName FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':resolveMainClassName'.\n&gt; Unable to find a single main class from the following candidates\n</code></pre>\n<p>The same problem occurred with <code>./gradlew bootRun --args='--spring.profiles.active=client'</code>.</p>\n<p>How can I run client and server seperately with gradle command line?</p>\n"},{"tags":["java","list","sorting","xslt"],"comments":[{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1680188792,"post_id":75889829,"comment_id":133859129,"body_markdown":"How would you define a &quot;list&quot;? And what if some items in the same list are numbers and others are strings?","body":"How would you define a &quot;list&quot;? And what if some items in the same list are numbers and others are strings?"}],"answers":[{"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680190033,"creation_date":1680190033,"answer_id":75890174,"question_id":75889829,"body_markdown":"Generic stylesheets are difficult to write. Try perhaps something like:\r\n\r\n**XSLT 1.0**\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; \r\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n    &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\r\n    \r\n    &lt;!-- identity transform --&gt;\r\n    &lt;xsl:template match=&quot;@*|node()&quot;&gt;\r\n    \t&lt;xsl:copy&gt;\r\n    \t\t&lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\r\n    \t&lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template match=&quot;*[* and not(*/*)]&quot;&gt;\r\n    \t&lt;xsl:copy&gt;\r\n    \t\t&lt;xsl:choose&gt;\r\n    \t\t\t&lt;xsl:when test=&quot;number(*[1]) = number(*[1])&quot;&gt;\r\n    \t\t\t\t&lt;xsl:apply-templates&gt;\r\n    \t\t\t\t\t&lt;xsl:sort select=&quot;.&quot; data-type=&quot;number&quot; order=&quot;ascending&quot;/&gt;\r\n    \t\t\t\t&lt;/xsl:apply-templates&gt;\r\n    \t\t\t&lt;/xsl:when&gt;\r\n    \t\t\t&lt;xsl:otherwise&gt;\r\n    \t\t\t\t&lt;xsl:apply-templates&gt;\r\n    \t\t\t\t\t&lt;xsl:sort select=&quot;.&quot; data-type=&quot;text&quot; order=&quot;ascending&quot;/&gt;\r\n    \t\t\t\t&lt;/xsl:apply-templates&gt;\r\n    \t\t\t&lt;/xsl:otherwise&gt;\r\n    \t\t&lt;/xsl:choose&gt;\r\n    \t&lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nThis looks for elements with only leaf nodes as child elements. It then tests if the first child is a number; if so, the child elements are sorted numerically, otherwise as text.","title":"I need to sort Java lists or xml lists automatically","body":"<p>Generic stylesheets are difficult to write. Try perhaps something like:</p>\n<p><strong>XSLT 1.0</strong></p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot; \nxmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n&lt;xsl:strip-space elements=&quot;*&quot;/&gt;\n\n&lt;!-- identity transform --&gt;\n&lt;xsl:template match=&quot;@*|node()&quot;&gt;\n    &lt;xsl:copy&gt;\n        &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\n    &lt;/xsl:copy&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=&quot;*[* and not(*/*)]&quot;&gt;\n    &lt;xsl:copy&gt;\n        &lt;xsl:choose&gt;\n            &lt;xsl:when test=&quot;number(*[1]) = number(*[1])&quot;&gt;\n                &lt;xsl:apply-templates&gt;\n                    &lt;xsl:sort select=&quot;.&quot; data-type=&quot;number&quot; order=&quot;ascending&quot;/&gt;\n                &lt;/xsl:apply-templates&gt;\n            &lt;/xsl:when&gt;\n            &lt;xsl:otherwise&gt;\n                &lt;xsl:apply-templates&gt;\n                    &lt;xsl:sort select=&quot;.&quot; data-type=&quot;text&quot; order=&quot;ascending&quot;/&gt;\n                &lt;/xsl:apply-templates&gt;\n            &lt;/xsl:otherwise&gt;\n        &lt;/xsl:choose&gt;\n    &lt;/xsl:copy&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>This looks for elements with only leaf nodes as child elements. It then tests if the first child is a number; if so, the child elements are sorted numerically, otherwise as text.</p>\n"}],"owner":{"account_id":10086370,"reputation":1,"user_id":7454825,"display_name":"Schlomo Dumbo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680190033,"creation_date":1680188318,"question_id":75889829,"body_markdown":"I have many xml structures with lists like\r\n\r\n```\r\n&lt;a&gt;\r\n&lt;b&gt;\r\n&lt;list1&gt;\r\n&lt;item&gt;Paris&lt;/item&gt;\r\n&lt;item&gt;London&lt;/item&gt;\r\n&lt;item&gt;Berlin&lt;/item&gt;\r\n&lt;item&gt;Zurich&lt;/item&gt;\r\n&lt;/list1&gt;\r\n&lt;/b&gt;\r\n&lt;list2&gt;\r\n&lt;item&gt;Butter&lt;/item&gt;\r\n&lt;item&gt;Sugar&lt;/item&gt;\r\n&lt;item&gt;Flower&lt;/item&gt;\r\n&lt;item&gt;Eggs&lt;/item&gt;\r\n&lt;/list2&gt;\r\n&lt;list2&gt;\r\n&lt;item&gt;0.1&lt;/item&gt;\r\n&lt;item&gt;20.0&lt;/item&gt;\r\n&lt;item&gt;10.0&lt;/item&gt;\r\n&lt;item&gt;0.01&lt;/item&gt;\r\n&lt;/list2&gt;\r\n&lt;/a&gt;\r\n```\r\n\r\nI want xslt function, that automatically sorts **every** list regardless of the name by name or by number in ascending order. I do not want to specifically mention the names of the lists. It should also not mention where the list is in the hierarchy.\r\n\r\n\r\nI did not find anything. I expect the lists to be sorted in ascending order.","title":"I need to sort Java lists or xml lists automatically","body":"<p>I have many xml structures with lists like</p>\n<pre><code>&lt;a&gt;\n&lt;b&gt;\n&lt;list1&gt;\n&lt;item&gt;Paris&lt;/item&gt;\n&lt;item&gt;London&lt;/item&gt;\n&lt;item&gt;Berlin&lt;/item&gt;\n&lt;item&gt;Zurich&lt;/item&gt;\n&lt;/list1&gt;\n&lt;/b&gt;\n&lt;list2&gt;\n&lt;item&gt;Butter&lt;/item&gt;\n&lt;item&gt;Sugar&lt;/item&gt;\n&lt;item&gt;Flower&lt;/item&gt;\n&lt;item&gt;Eggs&lt;/item&gt;\n&lt;/list2&gt;\n&lt;list2&gt;\n&lt;item&gt;0.1&lt;/item&gt;\n&lt;item&gt;20.0&lt;/item&gt;\n&lt;item&gt;10.0&lt;/item&gt;\n&lt;item&gt;0.01&lt;/item&gt;\n&lt;/list2&gt;\n&lt;/a&gt;\n</code></pre>\n<p>I want xslt function, that automatically sorts <strong>every</strong> list regardless of the name by name or by number in ascending order. I do not want to specifically mention the names of the lists. It should also not mention where the list is in the hierarchy.</p>\n<p>I did not find anything. I expect the lists to be sorted in ascending order.</p>\n"},{"tags":["java","spring","validation","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1680158425,"post_id":75883654,"comment_id":133851086,"body_markdown":"Which Spring version are you using and make sure you have `hibernate-validator` on the classpath.","body":"Which Spring version are you using and make sure you have <code>hibernate-validator</code> on the classpath."},{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":0,"creation_date":1680182035,"post_id":75883654,"comment_id":133857064,"body_markdown":"Thanks @M.Deinum . I have version &#39;3.0.4&#39;. I thought maybe  hibernate-validator was missing, but I asked chatGPT about that last night:\n\n&gt; Additionally, you have added the hibernate-validator dependency, but it is commented out. This is not necessary for basic validation functionality in Spring MVC, as the spring-boot-starter-validation dependency should provide all the necessary validation functionality. If you require advanced validation features like custom validators or programmatic validation, you may need to include the hibernate-validator dependency and additional configuration.","body":"Thanks @M.Deinum . I have version &#39;3.0.4&#39;. I thought maybe  hibernate-validator was missing, but I asked chatGPT about that last night:  &gt; Additionally, you have added the hibernate-validator dependency, but it is commented out. This is not necessary for basic validation functionality in Spring MVC, as the spring-boot-starter-validation dependency should provide all the necessary validation functionality. If you require advanced validation features like custom validators or programmatic validation, you may need to include the hibernate-validator dependency and additional configuration."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1680182462,"post_id":75883654,"comment_id":133857222,"body_markdown":"You are nowhere mentioning that you are using Spring BOot (just spring). Please provide your dependencies (you are using Spring Boot 3.0.4 which uses Spring 6). So again please add your dependencies.","body":"You are nowhere mentioning that you are using Spring BOot (just spring). Please provide your dependencies (you are using Spring Boot 3.0.4 which uses Spring 6). So again please add your dependencies."}],"answers":[{"comments":[{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":1,"creation_date":1680191451,"post_id":75890096,"comment_id":133859939,"body_markdown":"Thanks Wim! Please feel free to use all of my questions for the next edition of your book! :)","body":"Thanks Wim! Please feel free to use all of my questions for the next edition of your book! :)"}],"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680189634,"creation_date":1680189634,"answer_id":75890096,"question_id":75883654,"body_markdown":"If you have a nested object, you need to add an `@Valid` annotation in the &quot;parent&quot; as well. Something like this should work:\r\n\r\n```\r\npublic class UserAlignmentDTO {\r\n\r\n    private UnitsEnum units;\r\n\r\n    @Builder.Default\r\n    private List&lt;@Valid UserAlignmentSourceDTO2&gt; userAlignmentSources = new ArrayList&lt;&gt;();\r\n\r\n```\r\n\r\nNotice the extra `@Valid` in the generic list declaration.","title":"Form fields are not being validated through DTO with @Valid and Thymeleaf","body":"<p>If you have a nested object, you need to add an <code>@Valid</code> annotation in the &quot;parent&quot; as well. Something like this should work:</p>\n<pre><code>public class UserAlignmentDTO {\n\n    private UnitsEnum units;\n\n    @Builder.Default\n    private List&lt;@Valid UserAlignmentSourceDTO2&gt; userAlignmentSources = new ArrayList&lt;&gt;();\n\n</code></pre>\n<p>Notice the extra <code>@Valid</code> in the generic list declaration.</p>\n"}],"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75890096,"answer_count":1,"score":0,"last_activity_date":1680189634,"creation_date":1680143487,"question_id":75883654,"body_markdown":"This seems to be a very common case of form validation. I have read through many other stackoverflow questions and articles and I can&#39;t find where my problem lies.\r\n\r\n# What did I try\r\n\r\n## Gradle\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;nathanLively&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n//\timplementation &#39;org.springframework.boot:spring-boot-starter-data-redis&#39;\r\n//\timplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;  // :3.0.5\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.thymeleaf.extras:thymeleaf-extras-springsecurity6&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\n## DTO\r\n\r\n### UserAlignmentDTO\r\n\r\n```\r\npackage nathanLively.subAlignerjava.DTO;\r\n\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Models.PreAlignment;\r\nimport nathanLively.subAlignerjava.Models.Speaker;\r\nimport nathanLively.subAlignerjava.Models.UserAlignment;\r\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class UserAlignmentDTO {\r\n\r\n    private UnitsEnum units;\r\n\r\n    @Builder.Default\r\n    private List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSources = new ArrayList&lt;&gt;();\r\n\r\n    // Constructor\r\n    public UserAlignmentDTO(PreAlignment preAlignment) {\r\n        int numberOfPreAlignmentSources = preAlignment.getPreAlignmentSources().size();\r\n        this.userAlignmentSources = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; numberOfPreAlignmentSources; i++) {\r\n            UserAlignmentSourceDTO2 userAlignmentSourceDTO2 = UserAlignmentSourceDTO2.builder()\r\n                    .modelName(preAlignment.getPreAlignmentSources().get(i).getSpeaker().getSpeakerModel().getName())\r\n                    .build();\r\n            this.userAlignmentSources.add(userAlignmentSourceDTO2);\r\n        }\r\n    }\r\n\r\n    // Methods\r\n    public UserAlignment toUserAlignment(PreAlignment preAlignment) {\r\n        ArrayList&lt;UserAlignmentSource&gt; userAlignmentSourceList = userAlignmentSources.stream()\r\n                .map(UserAlignmentSourceDTO2::toUserAlignmentSource)\r\n                .collect(Collectors.toCollection(ArrayList::new));\r\n\r\n        UserAlignment userAlignment = UserAlignment.builder()\r\n                .preAlignment(preAlignment)\r\n                .userAlignmentSources(userAlignmentSourceList)\r\n                .distanceUnit(units)\r\n                .build();\r\n\r\n        for (UserAlignmentSource userAlignmentSource : userAlignmentSourceList) {\r\n            userAlignmentSource.setUserAlignment(userAlignment);\r\n        }\r\n\r\n        return userAlignment;\r\n    }\r\n}\r\n```\r\n\r\n### UserAlignmentSourceDTO2\r\n\r\n```\r\npackage nathanLively.subAlignerjava.DTO;\r\n\r\nimport jakarta.validation.constraints.Min;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport jakarta.validation.constraints.Positive;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Models.PreAlignment;\r\nimport nathanLively.subAlignerjava.Models.PreAlignmentSource;\r\nimport nathanLively.subAlignerjava.Models.Speaker;\r\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class UserAlignmentSourceDTO2 {\r\n\r\n    private String modelName;\r\n\r\n    @Min(message = &quot;The minimum is 1.&quot;, value = 1)\r\n    @NotNull(message = &quot;The count must not be null.&quot;)\r\n    private Integer count;\r\n\r\n    @NotNull(message = &quot;The distance must not be null.&quot;)\r\n    @Positive(message = &quot;The distance should be positive.&quot;)\r\n    private Float distance;\r\n\r\n    public UserAlignmentSource toUserAlignmentSource() {\r\n\r\n        return UserAlignmentSource.builder()\r\n                .count(count)\r\n                .distance(distance)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n## Controller\r\n\r\n```\r\npackage nathanLively.subAlignerjava.Controllers;\r\n\r\nimport jakarta.validation.Valid;\r\nimport lombok.RequiredArgsConstructor;\r\nimport nathanLively.subAlignerjava.DTO.UserAlignmentDTO;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Models.PreAlignment;\r\nimport nathanLively.subAlignerjava.Models.UserAlignment;\r\nimport nathanLively.subAlignerjava.Services.*;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@Controller\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;/align&quot;)\r\npublic class AlignController {\r\n    \r\n    private final UserAlignmentService userAlignmentService;\r\n    private final PreAlignmentService preAlignmentService;\r\n\r\n// Create UserAlignment and calculate result\r\n    @PostMapping(&quot;/calculate/{id}&quot;)\r\n    public String calculateUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId,\r\n                                         @Valid @ModelAttribute(&quot;userAlignmentDTO&quot;) UserAlignmentDTO userAlignmentDTO,\r\n                                         BindingResult bindingResult, Model model) {\r\n        // Form validation\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;user-alignment&quot;;\r\n        }\r\n\r\n        // Find pre-alignment\r\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\r\n\r\n        // Calculate result and add to model\r\n        UserAlignment UserAlignmentResult = userAlignmentService.calculateResultAndSave(preAlignment, userAlignmentDTO);\r\n        model.addAttribute(&quot;userAlignment&quot;, UserAlignmentResult);\r\n\r\n        // Show UserAlignment unit because I&#39;m not sure how to get it out of the userAlignment object\r\n        model.addAttribute(&quot;unit&quot;, UserAlignmentResult.getDistanceUnit().getAbbreviation());\r\n\r\n        return &quot;result&quot;;\r\n    }\r\n}\r\n```\r\n\r\n## Thymeleaf template\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorate=&quot;~{layout/layout}&quot;\r\n      th:with=&quot;activeMenuItem=&#39;align&#39;&quot;\r\n      xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;User Alignment&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div layout:fragment=&quot;page-content&quot;&gt;\r\n    &lt;h1&gt;User-Alignment&lt;/h1&gt;\r\n    &lt;form id=&quot;source-form&quot;\r\n          th:object=&quot;${userAlignmentDTO}&quot;\r\n          th:action=&quot;@{/align/calculate/{id}(id=${preAlignment.id})}&quot;\r\n          method=&quot;post&quot;&gt;\r\n        &lt;th:block th:each=&quot;source,iter : *{userAlignmentSources}&quot;&gt;\r\n            &lt;label th:text=&quot;${iter.index + 1} + &#39;.&#39;&quot;&gt;&lt;/label&gt;\r\n            &lt;label&gt;Total [[${source.modelName}]] in array:&lt;/label&gt;\r\n            &lt;input type=&quot;number&quot;\r\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].count}&quot;&gt;\r\n            &lt;p th:if=&quot;${#fields.hasErrors(&#39;userAlignmentSources[__${iter.index}__].count&#39;)}&quot;\r\n               th:text=&quot;${#strings.listJoin(#fields.errors(&#39;userAlignmentSources[__${iter.index}__].count&#39;), &#39;, &#39;)}&quot;&gt;&lt;/p&gt;\r\n            &lt;label&gt;Distance from [[${source.modelName}]] to FOH:&lt;/label&gt;\r\n            &lt;input type=&quot;number&quot;\r\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].distance}&quot;&gt;\r\n            &lt;p th:if=&quot;${#fields.hasErrors(&#39;userAlignmentSources[__${iter.index}__].distance&#39;)}&quot;\r\n               th:text=&quot;${#strings.listJoin(#fields.errors(&#39;userAlignmentSources[__${iter.index}__].distance&#39;), &#39;, &#39;)}&quot;&gt;&lt;/p&gt;\r\n        &lt;/th:block&gt;\r\n        &lt;label&gt;Unit&lt;/label&gt;\r\n        &lt;select th:field=&quot;*{units}&quot;&gt;\r\n            &lt;option th:each=&quot;unit : ${units}&quot;\r\n                    th:text=&quot;${unit.fullName}&quot;\r\n                    th:value=&quot;${unit}&quot;&gt;meters\r\n            &lt;/option&gt;\r\n        &lt;/select&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Align&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n# What I was expecting\r\n\r\nWith any of the specified field errors, I expect the bindingResult to have more than zero errors and for the form to be reloaded with the error messages visible. This never happens. The bindingResult is always empty and the application attempts to persist the form data, which crashes because of the database validation.\r\n\r\n","title":"Form fields are not being validated through DTO with @Valid and Thymeleaf","body":"<p>This seems to be a very common case of form validation. I have read through many other stackoverflow questions and articles and I can't find where my problem lies.</p>\n<h1>What did I try</h1>\n<h2>Gradle</h2>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.4'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'nathanLively'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n//  implementation 'org.springframework.boot:spring-boot-starter-data-redis'\n//  implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'  // :3.0.5\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity6'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<h2>DTO</h2>\n<h3>UserAlignmentDTO</h3>\n<pre><code>package nathanLively.subAlignerjava.DTO;\n\nimport jakarta.validation.constraints.NotBlank;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Models.PreAlignment;\nimport nathanLively.subAlignerjava.Models.Speaker;\nimport nathanLively.subAlignerjava.Models.UserAlignment;\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class UserAlignmentDTO {\n\n    private UnitsEnum units;\n\n    @Builder.Default\n    private List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSources = new ArrayList&lt;&gt;();\n\n    // Constructor\n    public UserAlignmentDTO(PreAlignment preAlignment) {\n        int numberOfPreAlignmentSources = preAlignment.getPreAlignmentSources().size();\n        this.userAlignmentSources = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; numberOfPreAlignmentSources; i++) {\n            UserAlignmentSourceDTO2 userAlignmentSourceDTO2 = UserAlignmentSourceDTO2.builder()\n                    .modelName(preAlignment.getPreAlignmentSources().get(i).getSpeaker().getSpeakerModel().getName())\n                    .build();\n            this.userAlignmentSources.add(userAlignmentSourceDTO2);\n        }\n    }\n\n    // Methods\n    public UserAlignment toUserAlignment(PreAlignment preAlignment) {\n        ArrayList&lt;UserAlignmentSource&gt; userAlignmentSourceList = userAlignmentSources.stream()\n                .map(UserAlignmentSourceDTO2::toUserAlignmentSource)\n                .collect(Collectors.toCollection(ArrayList::new));\n\n        UserAlignment userAlignment = UserAlignment.builder()\n                .preAlignment(preAlignment)\n                .userAlignmentSources(userAlignmentSourceList)\n                .distanceUnit(units)\n                .build();\n\n        for (UserAlignmentSource userAlignmentSource : userAlignmentSourceList) {\n            userAlignmentSource.setUserAlignment(userAlignment);\n        }\n\n        return userAlignment;\n    }\n}\n</code></pre>\n<h3>UserAlignmentSourceDTO2</h3>\n<pre><code>package nathanLively.subAlignerjava.DTO;\n\nimport jakarta.validation.constraints.Min;\nimport jakarta.validation.constraints.NotNull;\nimport jakarta.validation.constraints.Positive;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Models.PreAlignment;\nimport nathanLively.subAlignerjava.Models.PreAlignmentSource;\nimport nathanLively.subAlignerjava.Models.Speaker;\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class UserAlignmentSourceDTO2 {\n\n    private String modelName;\n\n    @Min(message = &quot;The minimum is 1.&quot;, value = 1)\n    @NotNull(message = &quot;The count must not be null.&quot;)\n    private Integer count;\n\n    @NotNull(message = &quot;The distance must not be null.&quot;)\n    @Positive(message = &quot;The distance should be positive.&quot;)\n    private Float distance;\n\n    public UserAlignmentSource toUserAlignmentSource() {\n\n        return UserAlignmentSource.builder()\n                .count(count)\n                .distance(distance)\n                .build();\n    }\n}\n</code></pre>\n<h2>Controller</h2>\n<pre><code>package nathanLively.subAlignerjava.Controllers;\n\nimport jakarta.validation.Valid;\nimport lombok.RequiredArgsConstructor;\nimport nathanLively.subAlignerjava.DTO.UserAlignmentDTO;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Models.PreAlignment;\nimport nathanLively.subAlignerjava.Models.UserAlignment;\nimport nathanLively.subAlignerjava.Services.*;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@Controller\n@RequiredArgsConstructor\n@RequestMapping(&quot;/align&quot;)\npublic class AlignController {\n    \n    private final UserAlignmentService userAlignmentService;\n    private final PreAlignmentService preAlignmentService;\n\n// Create UserAlignment and calculate result\n    @PostMapping(&quot;/calculate/{id}&quot;)\n    public String calculateUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId,\n                                         @Valid @ModelAttribute(&quot;userAlignmentDTO&quot;) UserAlignmentDTO userAlignmentDTO,\n                                         BindingResult bindingResult, Model model) {\n        // Form validation\n        if (bindingResult.hasErrors()) {\n            return &quot;user-alignment&quot;;\n        }\n\n        // Find pre-alignment\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\n\n        // Calculate result and add to model\n        UserAlignment UserAlignmentResult = userAlignmentService.calculateResultAndSave(preAlignment, userAlignmentDTO);\n        model.addAttribute(&quot;userAlignment&quot;, UserAlignmentResult);\n\n        // Show UserAlignment unit because I'm not sure how to get it out of the userAlignment object\n        model.addAttribute(&quot;unit&quot;, UserAlignmentResult.getDistanceUnit().getAbbreviation());\n\n        return &quot;result&quot;;\n    }\n}\n</code></pre>\n<h2>Thymeleaf template</h2>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      layout:decorate=&quot;~{layout/layout}&quot;\n      th:with=&quot;activeMenuItem='align'&quot;\n      xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;User Alignment&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div layout:fragment=&quot;page-content&quot;&gt;\n    &lt;h1&gt;User-Alignment&lt;/h1&gt;\n    &lt;form id=&quot;source-form&quot;\n          th:object=&quot;${userAlignmentDTO}&quot;\n          th:action=&quot;@{/align/calculate/{id}(id=${preAlignment.id})}&quot;\n          method=&quot;post&quot;&gt;\n        &lt;th:block th:each=&quot;source,iter : *{userAlignmentSources}&quot;&gt;\n            &lt;label th:text=&quot;${iter.index + 1} + '.'&quot;&gt;&lt;/label&gt;\n            &lt;label&gt;Total [[${source.modelName}]] in array:&lt;/label&gt;\n            &lt;input type=&quot;number&quot;\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].count}&quot;&gt;\n            &lt;p th:if=&quot;${#fields.hasErrors('userAlignmentSources[__${iter.index}__].count')}&quot;\n               th:text=&quot;${#strings.listJoin(#fields.errors('userAlignmentSources[__${iter.index}__].count'), ', ')}&quot;&gt;&lt;/p&gt;\n            &lt;label&gt;Distance from [[${source.modelName}]] to FOH:&lt;/label&gt;\n            &lt;input type=&quot;number&quot;\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].distance}&quot;&gt;\n            &lt;p th:if=&quot;${#fields.hasErrors('userAlignmentSources[__${iter.index}__].distance')}&quot;\n               th:text=&quot;${#strings.listJoin(#fields.errors('userAlignmentSources[__${iter.index}__].distance'), ', ')}&quot;&gt;&lt;/p&gt;\n        &lt;/th:block&gt;\n        &lt;label&gt;Unit&lt;/label&gt;\n        &lt;select th:field=&quot;*{units}&quot;&gt;\n            &lt;option th:each=&quot;unit : ${units}&quot;\n                    th:text=&quot;${unit.fullName}&quot;\n                    th:value=&quot;${unit}&quot;&gt;meters\n            &lt;/option&gt;\n        &lt;/select&gt;\n        &lt;button type=&quot;submit&quot;&gt;Align&lt;/button&gt;\n    &lt;/form&gt;\n\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h1>What I was expecting</h1>\n<p>With any of the specified field errors, I expect the bindingResult to have more than zero errors and for the form to be reloaded with the error messages visible. This never happens. The bindingResult is always empty and the application attempts to persist the form data, which crashes because of the database validation.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":3,"creation_date":1680185601,"post_id":75889321,"comment_id":133858204,"body_markdown":"Welcome to StackOverflow! Can you please show us how it looked when you added the Laptop import that didn&#39;t work? It&#39;d be best if you edited it into the question.","body":"Welcome to StackOverflow! Can you please show us how it looked when you added the Laptop import that didn&#39;t work? It&#39;d be best if you edited it into the question."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1680185693,"post_id":75889321,"comment_id":133858226,"body_markdown":"you sure must `import com.mycompany.laptop.Laptop;`, `import com.mycompany.laptop.*;`, or use `com.mycompany.laptop.Laptop a = new com.mycompany.laptop.Laptop();`","body":"you sure must <code>import com.mycompany.laptop.Laptop;</code>, <code>import com.mycompany.laptop.*;</code>, or use <code>com.mycompany.laptop.Laptop a = new com.mycompany.laptop.Laptop();</code>"},{"owner":{"account_id":22795271,"reputation":1,"user_id":16948934,"display_name":"Markie the newbie programmer"},"score":0,"creation_date":1680186473,"post_id":75889321,"comment_id":133858458,"body_markdown":"i have tried all three but it only had this error that highlighted the &quot;com&quot; word. `package com.mycompany,laptop does not exist`","body":"i have tried all three but it only had this error that highlighted the &quot;com&quot; word. <code>package com.mycompany,laptop does not exist</code>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1680187061,"post_id":75889321,"comment_id":133858643,"body_markdown":"In which folders are the two classes? How are you compiling? Java or IDE","body":"In which folders are the two classes? How are you compiling? Java or IDE"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1680187745,"post_id":75889321,"comment_id":133858849,"body_markdown":"[mcve] please .. that is edit the the question and actually add the imports to the code you are showing (vs. stating what you did in a comment)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. that is edit the the question and actually add the imports to the code you are showing (vs. stating what you did in a comment)"},{"owner":{"account_id":22795271,"reputation":1,"user_id":16948934,"display_name":"Markie the newbie programmer"},"score":0,"creation_date":1680188515,"post_id":75889321,"comment_id":133859043,"body_markdown":"i have edited it already","body":"i have edited it already"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1680208204,"post_id":75889321,"comment_id":133863948,"body_markdown":"For the [mcve], also tell us in which folders the .java files are. These must match the `package` declarations, and the compiler needs to know where to look for them.","body":"For the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, also tell us in which folders the .java files are. These must match the <code>package</code> declarations, and the compiler needs to know where to look for them."}],"answers":[{"comments":[{"owner":{"account_id":28169914,"reputation":1,"user_id":21528629,"display_name":"Sanjeet Kumar"},"score":0,"creation_date":1680190103,"post_id":75890030,"comment_id":133859506,"body_markdown":"Here Main class and Laptop class in different package so you have add public","body":"Here Main class and Laptop class in different package so you have add public"}],"tags":[],"owner":{"account_id":28169914,"reputation":1,"user_id":21528629,"display_name":"Sanjeet Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680189368,"creation_date":1680189368,"answer_id":75890030,"question_id":75889321,"body_markdown":"First of all make all field public then try ...\r\n\r\n\r\npackage com.mycompany.laptop;\r\n\r\n   public class Laptop {\r\n\r\n\tpublic String brand, \r\n    public String color;\r\n\tpublic double size;\r\n\r\n\tpublic void type() {\r\n\t\tSystem.out.println(&quot;Brand: &quot; + brand);\r\n\t\tSystem.out.println(&quot;Color: &quot; + color);\r\n\t\tSystem.out.println(&quot;Size: &quot; + size);\r\n\t}\r\n\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;My Laptop&quot;);\r\n\t}\r\n}\r\n\r\n\r\n","title":"How do i resolve this error that says &quot;cannot find symbol&quot; in my code that wants to output an inheritance?","body":"<p>First of all make all field public then try ...</p>\n<p>package com.mycompany.laptop;</p>\n<p>public class Laptop {</p>\n<pre><code>public String brand, \npublic String color;\npublic double size;\n\npublic void type() {\n    System.out.println(&quot;Brand: &quot; + brand);\n    System.out.println(&quot;Color: &quot; + color);\n    System.out.println(&quot;Size: &quot; + size);\n}\n\npublic void print() {\n    System.out.println(&quot;My Laptop&quot;);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":22795271,"reputation":1,"user_id":16948934,"display_name":"Markie the newbie programmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680258292,"answer_count":1,"score":0,"last_activity_date":1680189621,"creation_date":1680185449,"question_id":75889321,"body_markdown":"i was doing this code to practice inheritance. i have declared a class &quot;Laptop&quot; and tried to call it in my main code, the thing is that the main code cannot seem to read it even though the spelling was right.\r\n[Class Laptop Code](https://i.stack.imgur.com/9ZDug.png)\r\n[Main Class Code](https://i.stack.imgur.com/0GyhR.png)\r\n\r\ni tried importing the class Laptop unto my Main but it didn&#39;t work\r\n\r\nhere is the code of the class &quot;Laptop&quot;\r\n\r\n\r\n    package com.mycompany.laptop;\r\n    \r\n    /**\r\n     *\r\n     * \r\n     */\r\n    public class Laptop {\r\n        String brand, color;\r\n        double size;\r\n    \r\n        void type() {\r\n            System.out.println(&quot;Brand: &quot; + brand);\r\n            System.out.println(&quot;Color: &quot; + color);\r\n            System.out.println(&quot;Size: &quot; + size );\r\n        }\r\n        \r\n        void print(){\r\n            System.out.println(&quot;My Laptop&quot;);\r\n        }\r\n    }\r\n\r\nHere is the code for the &quot;Main&quot; that tries to call the &quot;Laptop&quot; class\r\n\r\n    package com.mycompany.main;\r\n    \r\n    /**\r\n     *\r\n     * \r\n     */\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Laptop a = new Laptop();\r\n            \r\n            \r\n            System.out.println(&quot;-Inheritance-&quot;);\r\n            a.brand = &quot;HP&quot;;\r\n            a.color = &quot;Black&quot;;\r\n            a.size = 15.7;\r\n            \r\n            a.print();\r\n            a.type();\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\nthe error was in the main that tries to call the Laptop class which is Laptop a = new Laptop();\r\n\r\nwhen i hover the Laptop name it says this error,\r\n\r\n    &quot;cannot find symbol\r\n    \r\n    symbol: class Laptop\r\n    \r\n    location: class Main&quot;\r\n\r\nedit: i have tried to import using the suggested comments below but the ide says that the package does not exist, here is the code\r\n\r\n    package com.mycompany.main;\r\n    \r\n    /**\r\n     *\r\n     * \r\n     */\r\n    \r\n    import com.mycompany.laptop.Laptop;\r\n    \r\n    import com.mycompany.laptop.*;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Laptop a = new Laptop();\r\n            com.mycompany.laptop.Laptop a = new com.mycompany.laptop.Laptop();\r\n            \r\n            System.out.println(&quot;-Inheritance-&quot;);\r\n            a.brand = &quot;HP&quot;;\r\n            a.color = &quot;Black&quot;;\r\n            a.size = 15.7;\r\n            \r\n            a.print();\r\n            a.type();\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n","title":"How do i resolve this error that says &quot;cannot find symbol&quot; in my code that wants to output an inheritance?","body":"<p>i was doing this code to practice inheritance. i have declared a class &quot;Laptop&quot; and tried to call it in my main code, the thing is that the main code cannot seem to read it even though the spelling was right.\n<a href=\"https://i.stack.imgur.com/9ZDug.png\" rel=\"nofollow noreferrer\">Class Laptop Code</a>\n<a href=\"https://i.stack.imgur.com/0GyhR.png\" rel=\"nofollow noreferrer\">Main Class Code</a></p>\n<p>i tried importing the class Laptop unto my Main but it didn't work</p>\n<p>here is the code of the class &quot;Laptop&quot;</p>\n<pre><code>package com.mycompany.laptop;\n\n/**\n *\n * \n */\npublic class Laptop {\n    String brand, color;\n    double size;\n\n    void type() {\n        System.out.println(&quot;Brand: &quot; + brand);\n        System.out.println(&quot;Color: &quot; + color);\n        System.out.println(&quot;Size: &quot; + size );\n    }\n    \n    void print(){\n        System.out.println(&quot;My Laptop&quot;);\n    }\n}\n</code></pre>\n<p>Here is the code for the &quot;Main&quot; that tries to call the &quot;Laptop&quot; class</p>\n<pre><code>package com.mycompany.main;\n\n/**\n *\n * \n */\npublic class Main {\n\n    public static void main(String[] args) {\n        Laptop a = new Laptop();\n        \n        \n        System.out.println(&quot;-Inheritance-&quot;);\n        a.brand = &quot;HP&quot;;\n        a.color = &quot;Black&quot;;\n        a.size = 15.7;\n        \n        a.print();\n        a.type();\n        System.out.println();\n    }\n}\n</code></pre>\n<p>the error was in the main that tries to call the Laptop class which is Laptop a = new Laptop();</p>\n<p>when i hover the Laptop name it says this error,</p>\n<pre><code>&quot;cannot find symbol\n\nsymbol: class Laptop\n\nlocation: class Main&quot;\n</code></pre>\n<p>edit: i have tried to import using the suggested comments below but the ide says that the package does not exist, here is the code</p>\n<pre><code>package com.mycompany.main;\n\n/**\n *\n * \n */\n\nimport com.mycompany.laptop.Laptop;\n\nimport com.mycompany.laptop.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Laptop a = new Laptop();\n        com.mycompany.laptop.Laptop a = new com.mycompany.laptop.Laptop();\n        \n        System.out.println(&quot;-Inheritance-&quot;);\n        a.brand = &quot;HP&quot;;\n        a.color = &quot;Black&quot;;\n        a.size = 15.7;\n        \n        a.print();\n        a.type();\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","tomcat"],"owner":{"account_id":19127947,"reputation":31,"user_id":13970526,"display_name":"nihilist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680189485,"creation_date":1680189485,"question_id":75890060,"body_markdown":"Historically, we had several Linux environments running apps on tomcat 9.0.22 as root user.\r\nFor security reason I want to switch to a less privileged user created for that purpose.\r\nI changed the tomcat.service adding :\r\n```\r\nUser=etemptation\r\nGroup=etemptation\r\n```\r\nAnd the ownership of the tomcat directory using : \r\n```\r\nchown -R etemptation:etemptation /appli/tomcat\r\n```\r\nIt worked for PROD and n&#176;1 INT environnement but oddly, I can&#39;t make it works for the second INT environnement.\r\nVisually, I get en loging error page saying &quot;An error occured&quot; and in the tomcat access_log I see 1 error 500 the several 404 error :\r\n```\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /webquartz/ HTTP/1.1&quot; 500 398\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /js/dream.js HTTP/1.1&quot; 404 1011\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/auth.css HTTP/1.1&quot; 404 1012\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/styleeTempora.css HTTP/1.1&quot; 404 1021\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/auth.css HTTP/1.1&quot; 404 1012\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /favicon.ico HTTP/1.1&quot; 200 21630\r\n```\r\n\r\nThe catalina log does not show any error, just like the application log (webquartz). I compared the two INT environnement to no avail.\r\n\r\nWhat can be the cause of this behaviour and how to solve it ?\r\n\r\nMany thanks.","title":"change running user for tomcat - error 500","body":"<p>Historically, we had several Linux environments running apps on tomcat 9.0.22 as root user.\nFor security reason I want to switch to a less privileged user created for that purpose.\nI changed the tomcat.service adding :</p>\n<pre><code>User=etemptation\nGroup=etemptation\n</code></pre>\n<p>And the ownership of the tomcat directory using :</p>\n<pre><code>chown -R etemptation:etemptation /appli/tomcat\n</code></pre>\n<p>It worked for PROD and n°1 INT environnement but oddly, I can't make it works for the second INT environnement.\nVisually, I get en loging error page saying &quot;An error occured&quot; and in the tomcat access_log I see 1 error 500 the several 404 error :</p>\n<pre><code>172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /webquartz/ HTTP/1.1&quot; 500 398\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /js/dream.js HTTP/1.1&quot; 404 1011\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/auth.css HTTP/1.1&quot; 404 1012\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/styleeTempora.css HTTP/1.1&quot; 404 1021\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/auth.css HTTP/1.1&quot; 404 1012\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /favicon.ico HTTP/1.1&quot; 200 21630\n</code></pre>\n<p>The catalina log does not show any error, just like the application log (webquartz). I compared the two INT environnement to no avail.</p>\n<p>What can be the cause of this behaviour and how to solve it ?</p>\n<p>Many thanks.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"score":0,"creation_date":1680190039,"post_id":75889999,"comment_id":133859485,"body_markdown":"can you try adding &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt; permission as well to your AndroidManifest.xml file?","body":"can you try adding &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt; permission as well to your AndroidManifest.xml file?"},{"owner":{"account_id":27810618,"reputation":36,"user_id":21233086,"display_name":"LuciferRules"},"score":0,"creation_date":1680190845,"post_id":75889999,"comment_id":133859757,"body_markdown":"mind to teach me what is this function? I just deleted emulator and redownload it. the app is working fine now, I am really confused where went wrong.","body":"mind to teach me what is this function? I just deleted emulator and redownload it. the app is working fine now, I am really confused where went wrong."},{"owner":{"account_id":27810618,"reputation":36,"user_id":21233086,"display_name":"LuciferRules"},"score":0,"creation_date":1680191114,"post_id":75889999,"comment_id":133859823,"body_markdown":"@inkredusk please teach me something. Why the old version of android studio, there is something called allprojects{ repositories {}} inside build.gradle, but in my version of android studio those things are there.And once i added them, it output errors on my Run output terminal.","body":"@inkredusk please teach me something. Why the old version of android studio, there is something called allprojects{ repositories {}} inside build.gradle, but in my version of android studio those things are there.And once i added them, it output errors on my Run output terminal."}],"owner":{"account_id":27810618,"reputation":36,"user_id":21233086,"display_name":"LuciferRules"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680189224,"creation_date":1680189224,"question_id":75889999,"body_markdown":"I went though all the post from 2019-2021 regarding Using Glide to load image from url. But none of them working for me.\r\n\r\nI made sure the following:\r\n1. The JPG URL can be accessed using emulator browser.\r\n2. Internet permission added to AndroidManifest.xml\r\n3. Glider dependency added\r\n4. placeholder image can be displayed if URL didn&#39;t fetch the image successfully\r\n\r\nI put my config and part of codes here in case something were missed out. Some sample of Logcat messages taken. (It is way too much to paste all). Even with Logcat,i cannot understand what went wrong, I am too new on this.\r\n\r\n**AndroidManifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Ui_basics_lesson17&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n    }\r\n\r\n    android {\r\n    namespace &#39;com.example.ui_basics_lesson17&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.ui_basics_lesson17&quot;\r\n        minSdk 19\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;),\r\n            &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.0&#39; //added\r\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot; //added\r\n    implementation &#39;com.github.bumptech.glide:glide:4.15.1&#39; //added\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.15.1&#39; //added\r\n    }\r\n\r\n**ViewAdapter.java**\r\n\r\n    \r\n       @Override \r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position ) {\r\n         holder.txtName.setText(contacts.get(position).getName());\r\n         holder.txtEmail.setText(contacts.get(position).getEmail());\r\n       \r\n       Glide.with(contextFromMainActivity)\r\n       .load(contacts.get(position)\r\n       .getImageUrl()).apply(options)\r\n       .into(holder.image);\r\n\r\n         //Use Glide (github library) to load image to holder\r\n        Glide.with(contextFromMainActivity).asBitmap().load(contacts.get(position).getImageUrl())\r\n                .placeholder(R.mipmap.ic_failsafe_image1)\r\n                .into(holder.image);\r\n\r\n        //set on listener here\r\n        holder.parent.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(contextFromMainActivity, contacts.get(position)\r\n                .getName() + &quot; Selected!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        }\r\n\r\n**MainActivity.java**\r\n\r\n    package com.example.ui_basics_lesson17;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.GridLayoutManager;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import android.os.Bundle;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    /*RECYCLE VIEW*/\r\n    public class MainActivity extends AppCompatActivity {\r\n    //declare RecyclerView attribute\r\n    private RecyclerView contactsRecView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //RecycleView selector\r\n        contactsRecView = findViewById(R.id.contactsRecView);\r\n\r\n        //Mock contacts instance ArrayList as database\r\n        ArrayList&lt;Contact&gt; mockContacts = new ArrayList&lt;&gt;();\r\n        mockContacts.add(new Contact(&quot;Elon Musk&quot;,&quot;elonmusk@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Elon_Musk_Royal_Society_%28crop2%29.jpg/220px-Elon_Musk_Royal_Society_%28crop2%29.jpg&quot;));\r\n        mockContacts.add(new Contact(&quot;Jack Ma&quot;,&quot;jackma@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Enabling_eCommerce-_Small_Enterprises%2C_Global_Players_%2839008130265%29_%28cropped%29.jpg/220px-Enabling_eCommerce-_Small_Enterprises%2C_Global_Players_%2839008130265%29_%28cropped%29.jpg&quot;));\r\n        mockContacts.add(new Contact(&quot;Mark Zuckerberg&quot;,&quot;zuckerberg@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg/220px-Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg&quot;));\r\n        mockContacts.add(new Contact(&quot;Barack Obama&quot;,&quot;obamabarack@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/President_Barack_Obama.jpg/220px-President_Barack_Obama.jpg&quot;));\r\n        mockContacts.add(new Contact(&quot;Sumire Uesaka&quot;,&quot;sumipe@gmail.com&quot;,&quot;https://cdn.myanimelist.net/images/voiceactors/1/65562.jpg&quot;));\r\n\r\n        //Use adapter class that was created to adapter instance\r\n        ContactsRecViewAdapter adapter =new ContactsRecViewAdapter(this);\r\n        //set mockContacts to adapter\r\n        adapter.setContacts(mockContacts);\r\n\r\n        //set adapter to recycle view\r\n        contactsRecView.setAdapter(adapter);\r\n\r\n        //configure Recycle view to be vertical list\r\n          contactsRecView.setLayoutManager(new GridLayoutManager(this,2));\r\n          }\r\n        }\r\n\r\n**LogCat**\r\n\r\n        W/Glide: Load failed for [https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg/220px-Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg] with dimensions [525x525]\r\n    class com.bumptech.glide.load.engine.GlideException: Failed to load resource\r\n    There was 1 root cause:\r\n    com.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\r\n     call GlideException#logRootCauses(String) for more detail\r\n      Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.io.InputStream, REMOTE\r\n    There was 1 root cause:\r\n    com.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\r\n     call GlideException#logRootCauses(String) for more detail\r\n        Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetch failed\r\n    There was 1 root cause:\r\n    com.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\r\n     call GlideException#logRootCauses(String) for more detail\r\n          Cause (1 of 1): class com.bumptech.glide.load.HttpException: Failed to connect or obtain data, status code: -1\r\n    I/Glide: Root cause (1 of 1)\r\n    com.bumptech.glide.load.HttpException: Failed to connect or obtain data, status code: -1\r\n        at com.bumptech.glide.load.data.HttpUrlFetcher.loadDataWithRedirects(HttpUrlFetcher.java:98)\r\n        at com.bumptech.glide.load.data.HttpUrlFetcher.loadData(HttpUrlFetcher.java:58)\r\n        at com.bumptech.glide.load.model.MultiModelLoader$MultiFetcher.loadData(MultiModelLoader.java:100)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:95)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:88)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:311)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:280)\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:235)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:424)\r\n        at java.lang.Thread.run(Thread.java:919)\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultPriorityThreadFactory$1.run(GlideExecutor.java:383)\r\n     Caused by: java.net.SocketException: socket failed: EPERM (Operation not permitted)\r\n        at java.net.Socket.createImpl(Socket.java:492)\r\n        at java.net.Socket.getImpl(Socket.java:552)\r\n        at java.net.Socket.setSoTimeout(Socket.java:1180)\r\n        at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\r\n        at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\r\n        at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\r\n        at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\r\n        at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\r\n        at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\r\n        at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\r\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\r\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\r\n        at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.connect(DelegatingHttpsURLConnection.java:90)\r\n        at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:30)\r\n        at com.bumptech.glide.load.data.HttpUrlFetcher.loadDataWithRedirects(HttpUrlFetcher.java:93)\r\n        at com.bumptech.glide.load.data.HttpUrlFetcher.loadData(HttpUrlFetcher.java:58)&#160;\r\n        at com.bumptech.glide.load.model.MultiModelLoader$MultiFetcher.loadData(MultiModelLoader.java:100)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:95)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:88)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:311)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:280)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:235)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:424)&#160;\r\n        at java.lang.Thread.run(Thread.java:919)&#160;\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultPriorityThreadFactory$1.run(GlideExecutor.java:383)&#160;\r\n","title":"Android app ImageView , not able to load jpg image from internet using Glide","body":"<p>I went though all the post from 2019-2021 regarding Using Glide to load image from url. But none of them working for me.</p>\n<p>I made sure the following:</p>\n<ol>\n<li>The JPG URL can be accessed using emulator browser.</li>\n<li>Internet permission added to AndroidManifest.xml</li>\n<li>Glider dependency added</li>\n<li>placeholder image can be displayed if URL didn't fetch the image successfully</li>\n</ol>\n<p>I put my config and part of codes here in case something were missed out. Some sample of Logcat messages taken. (It is way too much to paste all). Even with Logcat,i cannot understand what went wrong, I am too new on this.</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Ui_basics_lesson17&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\nid 'com.android.application'\n}\n\nandroid {\nnamespace 'com.example.ui_basics_lesson17'\ncompileSdk 33\n\ndefaultConfig {\n    applicationId &quot;com.example.ui_basics_lesson17&quot;\n    minSdk 19\n    targetSdk 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'),\n        'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n}\n\ndependencies {\n\nimplementation 'androidx.appcompat:appcompat:1.6.1'\nimplementation 'com.google.android.material:material:1.8.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.5'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\nimplementation 'androidx.recyclerview:recyclerview:1.3.0' //added\nimplementation &quot;androidx.cardview:cardview:1.0.0&quot; //added\nimplementation 'com.github.bumptech.glide:glide:4.15.1' //added\nannotationProcessor 'com.github.bumptech.glide:compiler:4.15.1' //added\n}\n</code></pre>\n<p><strong>ViewAdapter.java</strong></p>\n<pre><code>   @Override \npublic void onBindViewHolder(@NonNull ViewHolder holder, int position ) {\n     holder.txtName.setText(contacts.get(position).getName());\n     holder.txtEmail.setText(contacts.get(position).getEmail());\n   \n   Glide.with(contextFromMainActivity)\n   .load(contacts.get(position)\n   .getImageUrl()).apply(options)\n   .into(holder.image);\n\n     //Use Glide (github library) to load image to holder\n    Glide.with(contextFromMainActivity).asBitmap().load(contacts.get(position).getImageUrl())\n            .placeholder(R.mipmap.ic_failsafe_image1)\n            .into(holder.image);\n\n    //set on listener here\n    holder.parent.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(contextFromMainActivity, contacts.get(position)\n            .getName() + &quot; Selected!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n    }\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.example.ui_basics_lesson17;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\n\nimport java.util.ArrayList;\n\n/*RECYCLE VIEW*/\npublic class MainActivity extends AppCompatActivity {\n//declare RecyclerView attribute\nprivate RecyclerView contactsRecView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    //RecycleView selector\n    contactsRecView = findViewById(R.id.contactsRecView);\n\n    //Mock contacts instance ArrayList as database\n    ArrayList&lt;Contact&gt; mockContacts = new ArrayList&lt;&gt;();\n    mockContacts.add(new Contact(&quot;Elon Musk&quot;,&quot;elonmusk@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Elon_Musk_Royal_Society_%28crop2%29.jpg/220px-Elon_Musk_Royal_Society_%28crop2%29.jpg&quot;));\n    mockContacts.add(new Contact(&quot;Jack Ma&quot;,&quot;jackma@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Enabling_eCommerce-_Small_Enterprises%2C_Global_Players_%2839008130265%29_%28cropped%29.jpg/220px-Enabling_eCommerce-_Small_Enterprises%2C_Global_Players_%2839008130265%29_%28cropped%29.jpg&quot;));\n    mockContacts.add(new Contact(&quot;Mark Zuckerberg&quot;,&quot;zuckerberg@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg/220px-Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg&quot;));\n    mockContacts.add(new Contact(&quot;Barack Obama&quot;,&quot;obamabarack@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/President_Barack_Obama.jpg/220px-President_Barack_Obama.jpg&quot;));\n    mockContacts.add(new Contact(&quot;Sumire Uesaka&quot;,&quot;sumipe@gmail.com&quot;,&quot;https://cdn.myanimelist.net/images/voiceactors/1/65562.jpg&quot;));\n\n    //Use adapter class that was created to adapter instance\n    ContactsRecViewAdapter adapter =new ContactsRecViewAdapter(this);\n    //set mockContacts to adapter\n    adapter.setContacts(mockContacts);\n\n    //set adapter to recycle view\n    contactsRecView.setAdapter(adapter);\n\n    //configure Recycle view to be vertical list\n      contactsRecView.setLayoutManager(new GridLayoutManager(this,2));\n      }\n    }\n</code></pre>\n<p><strong>LogCat</strong></p>\n<pre><code>    W/Glide: Load failed for [https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg/220px-Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg] with dimensions [525x525]\nclass com.bumptech.glide.load.engine.GlideException: Failed to load resource\nThere was 1 root cause:\ncom.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\n call GlideException#logRootCauses(String) for more detail\n  Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.io.InputStream, REMOTE\nThere was 1 root cause:\ncom.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\n call GlideException#logRootCauses(String) for more detail\n    Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetch failed\nThere was 1 root cause:\ncom.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\n call GlideException#logRootCauses(String) for more detail\n      Cause (1 of 1): class com.bumptech.glide.load.HttpException: Failed to connect or obtain data, status code: -1\nI/Glide: Root cause (1 of 1)\ncom.bumptech.glide.load.HttpException: Failed to connect or obtain data, status code: -1\n    at com.bumptech.glide.load.data.HttpUrlFetcher.loadDataWithRedirects(HttpUrlFetcher.java:98)\n    at com.bumptech.glide.load.data.HttpUrlFetcher.loadData(HttpUrlFetcher.java:58)\n    at com.bumptech.glide.load.model.MultiModelLoader$MultiFetcher.loadData(MultiModelLoader.java:100)\n    at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:95)\n    at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:88)\n    at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:311)\n    at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:280)\n    at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:235)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:424)\n    at java.lang.Thread.run(Thread.java:919)\n    at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultPriorityThreadFactory$1.run(GlideExecutor.java:383)\n Caused by: java.net.SocketException: socket failed: EPERM (Operation not permitted)\n    at java.net.Socket.createImpl(Socket.java:492)\n    at java.net.Socket.getImpl(Socket.java:552)\n    at java.net.Socket.setSoTimeout(Socket.java:1180)\n    at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\n    at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\n    at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\n    at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\n    at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\n    at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\n    at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\n    at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\n    at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\n    at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.connect(DelegatingHttpsURLConnection.java:90)\n    at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:30)\n    at com.bumptech.glide.load.data.HttpUrlFetcher.loadDataWithRedirects(HttpUrlFetcher.java:93)\n    at com.bumptech.glide.load.data.HttpUrlFetcher.loadData(HttpUrlFetcher.java:58) \n    at com.bumptech.glide.load.model.MultiModelLoader$MultiFetcher.loadData(MultiModelLoader.java:100) \n    at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:95) \n    at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:88) \n    at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:311) \n    at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:280) \n    at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:235) \n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n    at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:424) \n    at java.lang.Thread.run(Thread.java:919) \n    at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultPriorityThreadFactory$1.run(GlideExecutor.java:383) \n</code></pre>\n"},{"tags":["java","maven","apache-spark","hadoop","hive"],"answers":[{"comments":[{"owner":{"account_id":8197299,"reputation":3975,"user_id":6169688,"display_name":"DennisLi"},"score":0,"creation_date":1588826539,"post_id":61649920,"comment_id":109050641,"body_markdown":"it raised the same error. actually, `original-kafka-consumer-0.1-SNAPSHOT.jar` doesn&#39;t contain addtional jars, as it&#39;s only 11KB.  if I use the uber-jar, it raised `Unrecognized Hadoop major version number: 3.0.0-cdh6.2.0`. BTW, I don&#39;t know why the `--jars spark-hive_2.11-2.4.4.jar` is not working.","body":"it raised the same error. actually, <code>original-kafka-consumer-0.1-SNAPSHOT.jar</code> doesn&#39;t contain addtional jars, as it&#39;s only 11KB.  if I use the uber-jar, it raised <code>Unrecognized Hadoop major version number: 3.0.0-cdh6.2.0</code>. BTW, I don&#39;t know why the <code>--jars spark-hive_2.11-2.4.4.jar</code> is not working."},{"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"score":0,"creation_date":1588826743,"post_id":61649920,"comment_id":109050690,"body_markdown":"https://issues.apache.org/jira/browse/HIVE-15326  ***uber jar is correct way***. hivebuilt with hadoop2 trying to run with hadoop 3 is the issue mentioned here.","body":"<a href=\"https://issues.apache.org/jira/browse/HIVE-15326\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/HIVE-15326</a>  <b><i>uber jar is correct way</i></b>. hivebuilt with hadoop2 trying to run with hadoop 3 is the issue mentioned here."},{"owner":{"account_id":8197299,"reputation":3975,"user_id":6169688,"display_name":"DennisLi"},"score":0,"creation_date":1588827343,"post_id":61649920,"comment_id":109050844,"body_markdown":"alright, thanks for your answer, could you tell me how to work around this? I use CDH-6.2, I don&#39;t know if it&#39;s convenient to upgrade Hive under CDH. and, Why can&#39;t `--jars` take effect? Thanks.","body":"alright, thanks for your answer, could you tell me how to work around this? I use CDH-6.2, I don&#39;t know if it&#39;s convenient to upgrade Hive under CDH. and, Why can&#39;t <code>--jars</code> take effect? Thanks."},{"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"score":1,"creation_date":1588827468,"post_id":61649920,"comment_id":109050874,"body_markdown":"along with hive jars your transitive dependencies  also should be persent . so it might be the cause. check with your hadoop admin who has installed cdh service also you can contact cloudera support team to provide the solution for this.","body":"along with hive jars your transitive dependencies  also should be persent . so it might be the cause. check with your hadoop admin who has installed cdh service also you can contact cloudera support team to provide the solution for this."}],"tags":[],"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588826155,"creation_date":1588825768,"answer_id":61649920,"question_id":61649781,"body_markdown":"    &lt;dependency&gt; &lt;!-- Spark dependency --&gt;\r\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI dont know why `compile` is the scope it should be `runtime`. Since You are using maven shade plugin you can package uber jar(with `target/original-kafka-consumer-0.1-SNAPSHOT.jar`) with all dependencies in one umbrella/archive and it will be in the classpath so that nothing is missed try this.\r\n\r\nAlso `hive-site.xml` should be in classpath. then there is no need to seperately configure metastoreuris.  in programatic way.\r\n\r\n[Further reading][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39444493/how-to-create-sparksession-with-hive-support-fails-with-hive-classes-are-not-f","title":"Spark with Hive, Unable to instantiate SparkSession with Hive support because Hive classes are not found","body":"<pre><code>&lt;dependency&gt; &lt;!-- Spark dependency --&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I dont know why <code>compile</code> is the scope it should be <code>runtime</code>. Since You are using maven shade plugin you can package uber jar(with <code>target/original-kafka-consumer-0.1-SNAPSHOT.jar</code>) with all dependencies in one umbrella/archive and it will be in the classpath so that nothing is missed try this.</p>\n\n<p>Also <code>hive-site.xml</code> should be in classpath. then there is no need to seperately configure metastoreuris.  in programatic way.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39444493/how-to-create-sparksession-with-hive-support-fails-with-hive-classes-are-not-f\">Further reading</a></p>\n"},{"tags":[],"owner":{"account_id":174171,"reputation":1053,"user_id":403372,"display_name":"Joviano Dias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680189139,"creation_date":1680189139,"answer_id":75889977,"question_id":61649781,"body_markdown":"My pom (via MvnRepository.com) had it as this, \r\n\r\n```&lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-hive --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-hive_2.13&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\ntaking out `&lt;scope&gt;provided&lt;/scope&gt;` from it, fixed it for me\r\n","title":"Spark with Hive, Unable to instantiate SparkSession with Hive support because Hive classes are not found","body":"<p>My pom (via MvnRepository.com) had it as this,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-hive_2.13&lt;/artifactId&gt;\n    &lt;version&gt;3.3.2&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>taking out <code>&lt;scope&gt;provided&lt;/scope&gt;</code> from it, fixed it for me</p>\n"}],"owner":{"account_id":8197299,"reputation":3975,"user_id":6169688,"display_name":"DennisLi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2962,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61649920,"answer_count":2,"score":1,"last_activity_date":1680189139,"creation_date":1588824786,"question_id":61649781,"body_markdown":"The spark app is to load data from Hive:\r\n\r\n```\r\n    SparkSession spark = SparkSession.builder()\r\n        .appName(topics)\r\n        .config(&quot;hive.metastore.uris&quot;, &quot;thrift://device1:9083&quot;)\r\n        .enableHiveSupport()\r\n        .getOrCreate();\r\n```\r\nI start the spark by:\r\n```\r\nspark-submit --master local[*] --class zhihu.SparkConsumer target/original-kafka-consumer-0.1-SNAPSHOT.jar  --jars spark-hive_2.11-2.4.4.jar\r\n```\r\nmaven pom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.zhihu&lt;/groupId&gt;\r\n  &lt;artifactId&gt;kafka-consumer&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;kafkadev&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;!-- Proper URL for Cloudera maven artifactory --&gt;\r\n      &lt;id&gt;cloudera&lt;/id&gt;\r\n      &lt;url&gt;https://repository.cloudera.com/artifactory/cloudera-repos/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n\r\n&lt;/repositories&gt;\r\n&lt;dependencies&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;!-- Spark dependency --&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.4&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt; &lt;!-- Spark dependency --&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.4&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-streaming_2.11&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.4&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-streaming-kafka-0-10_2.11&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.4&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n          &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n          &lt;version&gt;2.1.0&lt;/version&gt;\r\n\r\n          &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.apache.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n\r\n\t  &lt;scope&gt;compile&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;!-- gson --&gt;\r\n  &lt;dependency&gt;\r\n\t  &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t  &lt;version&gt;2.8.2&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n\t  &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t  &lt;version&gt;3.8.1&lt;/version&gt;\r\n\t  &lt;scope&gt;test&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;hive-metastore&lt;/artifactId&gt;\r\n\t  &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;hive-service&lt;/artifactId&gt;\r\n\t  &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;!-- runtime Hive --&gt;\r\n  &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;hive-common&lt;/artifactId&gt;\r\n\t  &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n\t  &lt;scope&gt;runtime&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hive-beeline&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hive-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hive-shims&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hive-exec&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hive-serde&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hive-contrib&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\r\n\t\t\t\t\t&lt;filters&gt;\r\n\r\n\t\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t\t\t\t\t\t\t&lt;excludes&gt;\r\n                        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/filter&gt;\r\n\r\n\t\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t\t&lt;/filter&gt;\r\n\t\t\t\t\t&lt;/filters&gt;\r\n\t\t\t\t\t&lt;artifactSet&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;classworlds:classworlds&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;junit:junit&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;jmock:*&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;*:xml-apis&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;org.apache.maven:lib:tests&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/artifactSet&gt;\r\n            &lt;skip&gt;true&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nit looks no problem, but it always raised:\r\n```\r\n20/05/07 12:03:17 INFO spark.SparkContext: Added JAR file:/data/projects/zhihu_scraper/consumers/target/original-kafka-consumer-0.1-SNAPSHOT.jar at spark://device2:42395/jars/original-kafka-consumer-0.1-SNAPSHOT.jar with timestamp 1588824197724\r\n20/05/07 12:03:17 INFO executor.Executor: Starting executor ID driver on host localhost\r\n20/05/07 12:03:17 INFO util.Utils: Successfully started service &#39;org.apache.spark.network.netty.NettyBlockTransferService&#39; on port 33849.\r\n20/05/07 12:03:17 INFO netty.NettyBlockTransferService: Server created on device2:33849\r\n20/05/07 12:03:17 INFO storage.BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\r\n20/05/07 12:03:17 INFO storage.BlockManagerMaster: Registering BlockManager BlockManagerId(driver, device2, 33849, None)\r\n20/05/07 12:03:17 INFO storage.BlockManagerMasterEndpoint: Registering block manager device2:33849 with 366.3 MB RAM, BlockManagerId(driver, device2, 33849, None)\r\n20/05/07 12:03:17 INFO storage.BlockManagerMaster: Registered BlockManager BlockManagerId(driver, device2, 33849, None)\r\n20/05/07 12:03:17 INFO storage.BlockManager: Initialized BlockManager: BlockManagerId(driver, device2, 33849, None)\r\n20/05/07 12:03:17 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@63e5e5b4{/metrics/json,null,AVAILABLE,@Spark}\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Unable to instantiate SparkSession with Hive support because Hive classes are not found.\r\n\tat org.apache.spark.sql.SparkSession$Builder.enableHiveSupport(SparkSession.scala:869)\r\n\tat zhihu.SparkConsumer.main(SparkConsumer.java:72)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n\tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:845)\r\n\tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\r\n\tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\r\n\tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\r\n\tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:920)\r\n\tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:929)\r\n\tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n20/05/07 12:03:18 INFO spark.SparkContext: Invoking stop() from shutdown hook\r\n```\r\nI have tried all answers in this post [How to create SparkSession with Hive support][1]. But, none of them work for me.\r\n\r\n[1]: https://stackoverflow.com/questions/39444493/how-to-create-sparksession-with-hive-support-fails-with-hive-classes-are-not-f/61050495#61050495","title":"Spark with Hive, Unable to instantiate SparkSession with Hive support because Hive classes are not found","body":"<p>The spark app is to load data from Hive:</p>\n\n<pre><code>    SparkSession spark = SparkSession.builder()\n        .appName(topics)\n        .config(\"hive.metastore.uris\", \"thrift://device1:9083\")\n        .enableHiveSupport()\n        .getOrCreate();\n</code></pre>\n\n<p>I start the spark by:</p>\n\n<pre><code>spark-submit --master local[*] --class zhihu.SparkConsumer target/original-kafka-consumer-0.1-SNAPSHOT.jar  --jars spark-hive_2.11-2.4.4.jar\n</code></pre>\n\n<p>maven pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.zhihu&lt;/groupId&gt;\n  &lt;artifactId&gt;kafka-consumer&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;kafkadev&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;!-- Proper URL for Cloudera maven artifactory --&gt;\n      &lt;id&gt;cloudera&lt;/id&gt;\n      &lt;url&gt;https://repository.cloudera.com/artifactory/cloudera-repos/&lt;/url&gt;\n    &lt;/repository&gt;\n\n&lt;/repositories&gt;\n&lt;dependencies&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt; &lt;!-- Spark dependency --&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt; &lt;!-- Spark dependency --&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-streaming_2.11&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-streaming-kafka-0-10_2.11&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n          &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n          &lt;version&gt;2.1.0&lt;/version&gt;\n\n          &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n\n      &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;!-- gson --&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n      &lt;version&gt;2.8.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n      &lt;artifactId&gt;hive-metastore&lt;/artifactId&gt;\n      &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n      &lt;artifactId&gt;hive-service&lt;/artifactId&gt;\n      &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- runtime Hive --&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n      &lt;artifactId&gt;hive-common&lt;/artifactId&gt;\n      &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-beeline&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-shims&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-exec&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-serde&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-contrib&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n\n                    &lt;filters&gt;\n\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/filter&gt;\n\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                    &lt;artifactSet&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;classworlds:classworlds&lt;/exclude&gt;\n                        &lt;exclude&gt;junit:junit&lt;/exclude&gt;\n                        &lt;exclude&gt;jmock:*&lt;/exclude&gt;\n                        &lt;exclude&gt;*:xml-apis&lt;/exclude&gt;\n                        &lt;exclude&gt;org.apache.maven:lib:tests&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/artifactSet&gt;\n            &lt;skip&gt;true&lt;/skip&gt;\n        &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>it looks no problem, but it always raised:</p>\n\n<pre><code>20/05/07 12:03:17 INFO spark.SparkContext: Added JAR file:/data/projects/zhihu_scraper/consumers/target/original-kafka-consumer-0.1-SNAPSHOT.jar at spark://device2:42395/jars/original-kafka-consumer-0.1-SNAPSHOT.jar with timestamp 1588824197724\n20/05/07 12:03:17 INFO executor.Executor: Starting executor ID driver on host localhost\n20/05/07 12:03:17 INFO util.Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 33849.\n20/05/07 12:03:17 INFO netty.NettyBlockTransferService: Server created on device2:33849\n20/05/07 12:03:17 INFO storage.BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\n20/05/07 12:03:17 INFO storage.BlockManagerMaster: Registering BlockManager BlockManagerId(driver, device2, 33849, None)\n20/05/07 12:03:17 INFO storage.BlockManagerMasterEndpoint: Registering block manager device2:33849 with 366.3 MB RAM, BlockManagerId(driver, device2, 33849, None)\n20/05/07 12:03:17 INFO storage.BlockManagerMaster: Registered BlockManager BlockManagerId(driver, device2, 33849, None)\n20/05/07 12:03:17 INFO storage.BlockManager: Initialized BlockManager: BlockManagerId(driver, device2, 33849, None)\n20/05/07 12:03:17 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@63e5e5b4{/metrics/json,null,AVAILABLE,@Spark}\nException in thread \"main\" java.lang.IllegalArgumentException: Unable to instantiate SparkSession with Hive support because Hive classes are not found.\n    at org.apache.spark.sql.SparkSession$Builder.enableHiveSupport(SparkSession.scala:869)\n    at zhihu.SparkConsumer.main(SparkConsumer.java:72)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n    at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:845)\n    at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\n    at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\n    at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:920)\n    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:929)\n    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\n20/05/07 12:03:18 INFO spark.SparkContext: Invoking stop() from shutdown hook\n</code></pre>\n\n<p>I have tried all answers in this post <a href=\"https://stackoverflow.com/questions/39444493/how-to-create-sparksession-with-hive-support-fails-with-hive-classes-are-not-f/61050495#61050495\">How to create SparkSession with Hive support</a>. But, none of them work for me.</p>\n"},{"tags":["java","android","background","styles","shapes"],"owner":{"account_id":21588851,"reputation":49,"user_id":15918831,"display_name":"Programmer Ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680188718,"creation_date":1680188718,"question_id":75889904,"body_markdown":"I have created a button shape and I have saved it in my drawable folder. In the java code, I have created buttons dynamically. I have added the shape as a background to my button. It works fine, but when the button loses the focus, the shape doesn&#39;t covers the button properly.\r\n\r\n[![Buttons on focus](https://i.stack.imgur.com/oC92y.png)](https://i.stack.imgur.com/oC92y.png)\r\n\r\nAs on the image, I just started this activity and it works fine.\r\nBut when I click the Search Bar (EditText),\r\nThe situation is like this:\r\n[![enter image description here](https://i.stack.imgur.com/nzgSW.png)](https://i.stack.imgur.com/nzgSW.png)\r\n\r\nIt&#39;s a kind of bug to my app. Here&#39;s my java code:\r\n\r\n\r\n```\r\n\r\n\r\nStateListDrawable states = new StateListDrawable();\r\n\r\nstates.addState(new int[]{android.R.attr.state_pressed},\r\n\r\ngetApplicationContext().getDrawable(R.drawable.button_style));\r\n\r\nstates.addState(new int[]{android.R.attr.state_focused},\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetApplicationContext().getDrawable(R.drawable.button_style));\r\n\r\nstates.addState(new int[]{},\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle);\r\n\r\nbutton.setBackground(states);\r\n```\r\n\r\nI have also tried the `button.setBackground(style)` but still the same results. \r\n\r\nWhat shall I do to make the button background work as normal?","title":"Drawable background not working properly whenever the button loses the focus","body":"<p>I have created a button shape and I have saved it in my drawable folder. In the java code, I have created buttons dynamically. I have added the shape as a background to my button. It works fine, but when the button loses the focus, the shape doesn't covers the button properly.</p>\n<p><a href=\"https://i.stack.imgur.com/oC92y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oC92y.png\" alt=\"Buttons on focus\" /></a></p>\n<p>As on the image, I just started this activity and it works fine.\nBut when I click the Search Bar (EditText),\nThe situation is like this:\n<a href=\"https://i.stack.imgur.com/nzgSW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nzgSW.png\" alt=\"enter image description here\" /></a></p>\n<p>It's a kind of bug to my app. Here's my java code:</p>\n<pre><code>\n\nStateListDrawable states = new StateListDrawable();\n\nstates.addState(new int[]{android.R.attr.state_pressed},\n\ngetApplicationContext().getDrawable(R.drawable.button_style));\n\nstates.addState(new int[]{android.R.attr.state_focused},\n\n                                                getApplicationContext().getDrawable(R.drawable.button_style));\n\nstates.addState(new int[]{},\n\n                                                style);\n\nbutton.setBackground(states);\n</code></pre>\n<p>I have also tried the <code>button.setBackground(style)</code> but still the same results.</p>\n<p>What shall I do to make the button background work as normal?</p>\n"},{"tags":["java","spring","kubernetes","deployment","minikube"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680185114,"post_id":75889224,"comment_id":133858067,"body_markdown":"WIthout knowing what is happening in your app this will be impossible to answer. 1 cpu might be a little low but I don&#39;t know. Generally most of the time, during startup, is spend trying to connect and validate the database. But as stated without knowing more about your application this will be impossible to answer.","body":"WIthout knowing what is happening in your app this will be impossible to answer. 1 cpu might be a little low but I don&#39;t know. Generally most of the time, during startup, is spend trying to connect and validate the database. But as stated without knowing more about your application this will be impossible to answer."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1680185268,"post_id":75889224,"comment_id":133858118,"body_markdown":"Try without the CPU and the memory config i.e. `minikube start --driver=docker`.","body":"Try without the CPU and the memory config i.e. <code>minikube start --driver=docker</code>."},{"owner":{"account_id":20053504,"reputation":1,"user_id":14701696,"display_name":"Slava Kruglov"},"score":0,"creation_date":1680190578,"post_id":75889224,"comment_id":133859657,"body_markdown":"@M.Deinum I tried with 4 CPUs as requests/limits, same result. My working assumption is that something is wrong with the cluster itlself. No idea what, unfortunately.","body":"@M.Deinum I tried with 4 CPUs as requests/limits, same result. My working assumption is that something is wrong with the cluster itlself. No idea what, unfortunately."},{"owner":{"account_id":20053504,"reputation":1,"user_id":14701696,"display_name":"Slava Kruglov"},"score":0,"creation_date":1680190648,"post_id":75889224,"comment_id":133859675,"body_markdown":"@ArvindKumarAvinash I am not sure it would help, the default CPU/memory settings are lower in minikube (https://github.com/kubernetes/minikube/blob/232080ae0cbcf9cb9a388eb76cc11cf6884e19c0/pkg/minikube/constants/constants.go#L102)","body":"@ArvindKumarAvinash I am not sure it would help, the default CPU/memory settings are lower in minikube (<a href=\"https://github.com/kubernetes/minikube/blob/232080ae0cbcf9cb9a388eb76cc11cf6884e19c0/pkg/minikube/constants/constants.go#L102\" rel=\"nofollow noreferrer\">github.com/kubernetes/minikube/blob/&hellip;</a>)"},{"owner":{"account_id":20053504,"reputation":1,"user_id":14701696,"display_name":"Slava Kruglov"},"score":0,"creation_date":1680804863,"post_id":75889224,"comment_id":133963647,"body_markdown":"After many other attempts there is still no imrovement. I eventually decided to replace Minikube with something else. I also found a blog post from Nicolas Frankel mentioning performance issues with Minikube: https://blog.frankel.ch/goodbye-minikube/","body":"After many other attempts there is still no imrovement. I eventually decided to replace Minikube with something else. I also found a blog post from Nicolas Frankel mentioning performance issues with Minikube: <a href=\"https://blog.frankel.ch/goodbye-minikube/\" rel=\"nofollow noreferrer\">blog.frankel.ch/goodbye-minikube</a>"}],"owner":{"account_id":20053504,"reputation":1,"user_id":14701696,"display_name":"Slava Kruglov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680188601,"creation_date":1680184745,"question_id":75889224,"body_markdown":"I have a simple Spring Boot app (Spring Boot 3.0.0, Java 17) deployed to Kubernetes. The app is  straightforward at the moment. It has a PostgreSQL DB connection with a couple of Flyway migrations and a basic REST controller. \r\n\r\nThe application starts fine on my machine (MacBook Pro M1 Max), both in the IDE and in a Docker container. I use `amazoncorretto:17` as a base image. Docker has more than enough resources.\r\n\r\n[Docker resources configuration](https://i.stack.imgur.com/vGrjV.png)\r\n\r\nHowever, when I deploy the application in a local K8s cluster created with Minikube the application is incredibly slow. Previously, it could become irresponsible with CPU consumption constant at 100%. I could not connect to java process to take a thread dump or a heap dump due to timeouts. Apparently, there is not enough resources for the application. However, I cannot understand why. \r\n\r\n[Excessive CPU consumption](https://i.stack.imgur.com/9QeRE.png)\r\n\r\nBelow are a couple of differences between the app in minikube and in IDE.\r\n\r\n[App start time locally](https://i.stack.imgur.com/VeujO.png) vs [App start time in minikube](https://i.stack.imgur.com/FLp2H.png)\r\n\r\n\r\nI started the minikube with the following configuration: \r\n\r\n\r\n```\r\nminikube start --cpus 7 --memory 16000 --driver=docker\r\n```\r\n\r\nResources for the container (I also tried with up to 4 CPUs, same issue): \r\n\r\n```\r\n         resources:\r\n            limits:\r\n              cpu: 2\r\n              memory: 3024Mi\r\n            requests:\r\n              cpu: 1\r\n              memory: 1024Mi\r\n```\r\n\r\n\r\n\r\nI deployed the same configuration to AWS EKS. The application works there.\r\n\r\nIs it a known issue with minikube or a misconfiguration? Are there any configuration options that I miss? Are there reliable alternatives to minikube for local development?","title":"Why a Java application is slow in the minikube cluster?","body":"<p>I have a simple Spring Boot app (Spring Boot 3.0.0, Java 17) deployed to Kubernetes. The app is  straightforward at the moment. It has a PostgreSQL DB connection with a couple of Flyway migrations and a basic REST controller.</p>\n<p>The application starts fine on my machine (MacBook Pro M1 Max), both in the IDE and in a Docker container. I use <code>amazoncorretto:17</code> as a base image. Docker has more than enough resources.</p>\n<p><a href=\"https://i.stack.imgur.com/vGrjV.png\" rel=\"nofollow noreferrer\">Docker resources configuration</a></p>\n<p>However, when I deploy the application in a local K8s cluster created with Minikube the application is incredibly slow. Previously, it could become irresponsible with CPU consumption constant at 100%. I could not connect to java process to take a thread dump or a heap dump due to timeouts. Apparently, there is not enough resources for the application. However, I cannot understand why.</p>\n<p><a href=\"https://i.stack.imgur.com/9QeRE.png\" rel=\"nofollow noreferrer\">Excessive CPU consumption</a></p>\n<p>Below are a couple of differences between the app in minikube and in IDE.</p>\n<p><a href=\"https://i.stack.imgur.com/VeujO.png\" rel=\"nofollow noreferrer\">App start time locally</a> vs <a href=\"https://i.stack.imgur.com/FLp2H.png\" rel=\"nofollow noreferrer\">App start time in minikube</a></p>\n<p>I started the minikube with the following configuration:</p>\n<pre><code>minikube start --cpus 7 --memory 16000 --driver=docker\n</code></pre>\n<p>Resources for the container (I also tried with up to 4 CPUs, same issue):</p>\n<pre><code>         resources:\n            limits:\n              cpu: 2\n              memory: 3024Mi\n            requests:\n              cpu: 1\n              memory: 1024Mi\n</code></pre>\n<p>I deployed the same configuration to AWS EKS. The application works there.</p>\n<p>Is it a known issue with minikube or a misconfiguration? Are there any configuration options that I miss? Are there reliable alternatives to minikube for local development?</p>\n"},{"tags":["java","android","google-api","google-api-client"],"comments":[{"owner":{"account_id":12957859,"reputation":836,"user_id":9368010,"display_name":"Sarah Khan"},"score":0,"creation_date":1606018776,"post_id":64887692,"comment_id":114829650,"body_markdown":"I am not sure I understand totally. How do you read sms from &quot;VT-ViCARE&quot;? Can you give that statement where you read it? I suppose you can simple using String &#39;contains(&quot;&quot;)&#39; method.","body":"I am not sure I understand totally. How do you read sms from &quot;VT-ViCARE&quot;? Can you give that statement where you read it? I suppose you can simple using String &#39;contains(&quot;&quot;)&#39; method."},{"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"score":0,"creation_date":1606124880,"post_id":64887692,"comment_id":114855411,"body_markdown":"@SarahKhan In startSmsUserConsent() function you can pass sender number, In that I passed that name &quot;VT-ViCARE&quot; it works.","body":"@SarahKhan In startSmsUserConsent() function you can pass sender number, In that I passed that name &quot;VT-ViCARE&quot; it works."},{"owner":{"account_id":18614888,"reputation":689,"user_id":13566428,"display_name":"Andrei Stoicescu"},"score":1,"creation_date":1606134686,"post_id":64887692,"comment_id":114859740,"body_markdown":"you can call it with null to retrieve any sender \n`startSmsUserConsent(null)`","body":"you can call it with null to retrieve any sender  <code>startSmsUserConsent(null)</code>"},{"owner":{"account_id":12957859,"reputation":836,"user_id":9368010,"display_name":"Sarah Khan"},"score":0,"creation_date":1606156203,"post_id":64887692,"comment_id":114870569,"body_markdown":"What happens when you only send ViCARE?","body":"What happens when you only send ViCARE?"},{"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"score":0,"creation_date":1606223978,"post_id":64887692,"comment_id":114893337,"body_markdown":"@SarahKhan nothing filtered","body":"@SarahKhan nothing filtered"},{"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"score":0,"creation_date":1606224035,"post_id":64887692,"comment_id":114893372,"body_markdown":"@AndreiStoicescu null I know, but I am asking particular sender name","body":"@AndreiStoicescu null I know, but I am asking particular sender name"},{"owner":{"account_id":12779071,"reputation":318,"user_id":14105067,"display_name":"imraklr"},"score":0,"creation_date":1606443479,"post_id":64887692,"comment_id":114970017,"body_markdown":"Just use null or set contact permissions to get recent contacts to get the sender name and match the Strings leaving two dynamic character. If confirmed use the sender name.","body":"Just use null or set contact permissions to get recent contacts to get the sender name and match the Strings leaving two dynamic character. If confirmed use the sender name."}],"answers":[{"tags":[],"owner":{"account_id":12957859,"reputation":836,"user_id":9368010,"display_name":"Sarah Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607292113,"creation_date":1607292113,"answer_id":65173551,"question_id":64887692,"body_markdown":"I did research a lot but currently can&#39;t find an exact answer to your question but here is a workaround. How about you call the String&#39;s contains method, check if the sender name contains ViCARE, and then pass it to startSmsUserConsent ?\r\n\r\n    Boolean sender = &quot;YourDynamicSender&quot;.contains(&quot;ViCARE&quot;);\r\n    if (sender) {\r\n        val task1 = SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;YourDynamicSender&quot;)\r\n    }","title":"SmsUserConsentAPI to read sender name with first two letter dynamic","body":"<p>I did research a lot but currently can't find an exact answer to your question but here is a workaround. How about you call the String's contains method, check if the sender name contains ViCARE, and then pass it to startSmsUserConsent ?</p>\n<pre><code>Boolean sender = &quot;YourDynamicSender&quot;.contains(&quot;ViCARE&quot;);\nif (sender) {\n    val task1 = SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;YourDynamicSender&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28169899,"reputation":1,"user_id":21528613,"display_name":"Rahul Lone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680188516,"creation_date":1680188473,"answer_id":75889861,"question_id":64887692,"body_markdown":"Add all of these lines to your code and you are good to go.\r\n\r\n    SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;VT-ViCARE&quot;);\r\n    SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;BT-ViCARE&quot;);\r\n    SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;AD-ViCARE&quot;);","title":"SmsUserConsentAPI to read sender name with first two letter dynamic","body":"<p>Add all of these lines to your code and you are good to go.</p>\n<pre><code>SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;VT-ViCARE&quot;);\nSmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;BT-ViCARE&quot;);\nSmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;AD-ViCARE&quot;);\n</code></pre>\n"}],"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680188516,"creation_date":1605678052,"question_id":64887692,"body_markdown":"I am using UserConsentAPI for reading SMS in Android App, In that there is a method\r\n\r\n&gt; startSmsUserConsent()\r\n\r\nIn this method we need to pass sender Number/Name, For example my sender name is **ViCARE**,\r\nI received VT-ViCARE, BT-ViCARE, AD-ViCare like that each time.First two character of sender name is dynamically changed. If I give below like that reading particular sms from &quot;VT-ViCARE&quot; it works fine, How to read the sender contain &quot;??-ViCARE&quot; using User Consent API? \r\n\r\n&gt; smsRetrieverClient.startSmsUserConsent(&quot;VT-ViCARE&quot;)\r\n\r\n","title":"SmsUserConsentAPI to read sender name with first two letter dynamic","body":"<p>I am using UserConsentAPI for reading SMS in Android App, In that there is a method</p>\n<blockquote>\n<p>startSmsUserConsent()</p>\n</blockquote>\n<p>In this method we need to pass sender Number/Name, For example my sender name is <strong>ViCARE</strong>,\nI received VT-ViCARE, BT-ViCARE, AD-ViCare like that each time.First two character of sender name is dynamically changed. If I give below like that reading particular sms from &quot;VT-ViCARE&quot; it works fine, How to read the sender contain &quot;??-ViCARE&quot; using User Consent API?</p>\n<blockquote>\n<p>smsRetrieverClient.startSmsUserConsent(&quot;VT-ViCARE&quot;)</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","logback"],"answers":[{"comments":[{"owner":{"account_id":2607553,"reputation":3496,"user_id":2258390,"display_name":"SunshinyDoyle"},"score":5,"creation_date":1445285279,"post_id":29323582,"comment_id":54250520,"body_markdown":"Here&#39;s the link to said &quot;logback docs&quot;: http://logback.qos.ch/manual/configuration.html#variableSubstitution","body":"Here&#39;s the link to said &quot;logback docs&quot;: <a href=\"http://logback.qos.ch/manual/configuration.html#variableSubstitution\" rel=\"nofollow noreferrer\">logback.qos.ch/manual/configuration.html#variableSubstitutio&zwnj;&#8203;n</a>"},{"owner":{"account_id":5995804,"reputation":662,"user_id":4710483,"accept_rate":39,"display_name":"parita porwal"},"score":0,"creation_date":1521107448,"post_id":29323582,"comment_id":85594323,"body_markdown":"@Gary I want configurable file pattern extension. is this possible? or I want to override internal logback.xml with external logback.xml. is this possible?","body":"@Gary I want configurable file pattern extension. is this possible? or I want to override internal logback.xml with external logback.xml. is this possible?"},{"owner":{"account_id":3483308,"reputation":624,"user_id":2914800,"display_name":"Jean-Christophe"},"score":0,"creation_date":1526378394,"post_id":29323582,"comment_id":87710469,"body_markdown":"For an external file (not in the classpath, but available on the filesystem):\n&lt;property file=&quot;environment.properties&quot; /&gt;","body":"For an external file (not in the classpath, but available on the filesystem): &lt;property file=&quot;environment.properties&quot; /&gt;"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1548203863,"post_id":29323582,"comment_id":95456723,"body_markdown":"THANK YOU for the missing voodoo (the property resource thing).  FYI:  &quot;application.yml&quot; will also work... as I document here : https://stackoverflow.com/questions/33186668/spring-boot-logback-db-appender-properties/54288986#54288986","body":"THANK YOU for the missing voodoo (the property resource thing).  FYI:  &quot;application.yml&quot; will also work... as I document here : <a href=\"https://stackoverflow.com/questions/33186668/spring-boot-logback-db-appender-properties/54288986#54288986\" title=\"spring boot logback db appender properties\">stackoverflow.com/questions/33186668/&hellip;</a>"}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":4,"down_vote_count":1,"up_vote_count":46,"is_accepted":true,"score":45,"last_activity_date":1518509484,"creation_date":1427583336,"answer_id":29323582,"question_id":29322709,"body_markdown":"`${...}` is not &quot;Spring EL&quot; in Spring; they are property placeholders.\r\n\r\nI think you are confusing logback &quot;variables&quot; with Spring &quot;Property Placeholders&quot;.\r\n\r\nThey just happen to use the same syntax `${...}`.\r\n\r\nlogback knows nothing about the Spring property placeholder mechanism and vice-versa. You need to configure your logback variables according to the logback documentation and not in `application.properties` / `application.yml` which is strictly a Spring (boot) concept.\r\n\r\n__EDIT:__\r\n\r\nAfter a quick look at the logback docs, adding\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;property resource=&quot;application.properties&quot; /&gt;\r\n\r\nto the `logback.xml` should work.\r\n\r\n\r\n","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p><code>${...}</code> is not \"Spring EL\" in Spring; they are property placeholders.</p>\n\n<p>I think you are confusing logback \"variables\" with Spring \"Property Placeholders\".</p>\n\n<p>They just happen to use the same syntax <code>${...}</code>.</p>\n\n<p>logback knows nothing about the Spring property placeholder mechanism and vice-versa. You need to configure your logback variables according to the logback documentation and not in <code>application.properties</code> / <code>application.yml</code> which is strictly a Spring (boot) concept.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>After a quick look at the logback docs, adding</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property resource=\"application.properties\" /&gt;\n</code></pre>\n\n<p>to the <code>logback.xml</code> should work.</p>\n"},{"comments":[{"owner":{"account_id":481827,"reputation":3026,"user_id":895861,"display_name":"Matthew Payne"},"score":1,"creation_date":1487192195,"post_id":35013522,"comment_id":71677399,"body_markdown":"is there a logback-spring.groovy equivalent to that ^^?","body":"is there a logback-spring.groovy equivalent to that ^^?"},{"owner":{"account_id":3068449,"reputation":2571,"user_id":2599657,"accept_rate":60,"display_name":"sashok_bg"},"score":1,"creation_date":1488375211,"post_id":35013522,"comment_id":72201933,"body_markdown":"where is the DOC for this thing ?","body":"where is the DOC for this thing ?"},{"owner":{"account_id":1114062,"reputation":385,"user_id":1103867,"display_name":"oborovyk"},"score":2,"creation_date":1492873954,"post_id":35013522,"comment_id":74172622,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html","body":"<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":174734,"reputation":569,"user_id":404280,"accept_rate":54,"display_name":"WendyG"},"score":0,"creation_date":1541004205,"post_id":35013522,"comment_id":93073565,"body_markdown":"@MatthewPayne did you ever find how to do this in groovy","body":"@MatthewPayne did you ever find how to do this in groovy"},{"owner":{"account_id":4006340,"reputation":1493,"user_id":3300911,"accept_rate":56,"display_name":"raikumardipak"},"score":0,"creation_date":1589660623,"post_id":35013522,"comment_id":109383965,"body_markdown":"This is not a fool proof solution. If you externalize your logback-spring.xml file by including an external file and then change , sya, &quot;maxSize&quot; to 2KB from 100MB, you will see the files getting created as destination_IS_UNDEFINED.log. That&#39;s because as @Gary Russell has explained in his answer.","body":"This is not a fool proof solution. If you externalize your logback-spring.xml file by including an external file and then change , sya, &quot;maxSize&quot; to 2KB from 100MB, you will see the files getting created as destination_IS_UNDEFINED.log. That&#39;s because as @Gary Russell has explained in his answer."}],"tags":[],"owner":{"account_id":1187074,"reputation":1298,"user_id":1160824,"accept_rate":100,"display_name":"Lasse L"},"comment_count":5,"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1680188402,"creation_date":1453810092,"answer_id":35013522,"question_id":29322709,"body_markdown":"Since Spring Boot 1.3 you have a better way of getting spring properties into your logback-spring.xml configuration:\r\n\r\nNow you can just add a &quot;springProperty&quot; element.&lt;br&gt; \r\nThe attribute *name* refers to the logback property and the attribute *source* refers to the spring property\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;springProperty name=&quot;destination&quot; source=&quot;my.loggger.extradest&quot;/&gt;\r\n\t&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n\t\t&lt;file&gt;${destination}&lt;/file&gt;\r\n\t\t\t...\r\n\t\t&lt;/file&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\r\nhttps://github.com/spring-projects/spring-boot/commit/055ace37f006120b0006956b03c7f358d5f3729f\r\n\r\nedit: thanks to Anders\r\n\r\n.........","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p>Since Spring Boot 1.3 you have a better way of getting spring properties into your logback-spring.xml configuration:</p>\n<p>Now you can just add a &quot;springProperty&quot; element.<br>\nThe attribute <em>name</em> refers to the logback property and the attribute <em>source</em> refers to the spring property</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;springProperty name=&quot;destination&quot; source=&quot;my.loggger.extradest&quot;/&gt;\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;${destination}&lt;/file&gt;\n        ...\n    &lt;/file&gt;\n&lt;/appender&gt;\n</code></pre>\n<p><a href=\"https://github.com/spring-projects/spring-boot/commit/055ace37f006120b0006956b03c7f358d5f3729f\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/commit/055ace37f006120b0006956b03c7f358d5f3729f</a></p>\n<p>edit: thanks to Anders</p>\n<p>.........</p>\n"},{"comments":[{"owner":{"account_id":1677486,"reputation":181,"user_id":1568871,"display_name":"sdl"},"score":1,"creation_date":1468411455,"post_id":37856131,"comment_id":64114750,"body_markdown":"Works for me using `logback-dev.xml` and `logback-prod.xml` with `spring-boot 1.3.3.RELEASE`","body":"Works for me using <code>logback-dev.xml</code> and <code>logback-prod.xml</code> with <code>spring-boot 1.3.3.RELEASE</code>"},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1512395863,"post_id":37856131,"comment_id":82227711,"body_markdown":"If still not work, check app config name it should be application.properties, or whatever name you specified to your app. Additional @PropertySource-es seems to be not working in this case","body":"If still not work, check app config name it should be application.properties, or whatever name you specified to your app. Additional @PropertySource-es seems to be not working in this case"},{"owner":{"account_id":2860797,"reputation":255,"user_id":7425361,"display_name":"lubumbax"},"score":1,"creation_date":1588849649,"post_id":37856131,"comment_id":109061135,"body_markdown":"One more thing to keep in mind: at least for me, it didn&#39;t work until I renamed `application.properties` to `bootstrap.properties`","body":"One more thing to keep in mind: at least for me, it didn&#39;t work until I renamed <code>application.properties</code> to <code>bootstrap.properties</code>"}],"tags":[],"owner":{"account_id":140023,"reputation":814,"user_id":346027,"display_name":"anders"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466071744,"creation_date":1466071744,"answer_id":37856131,"question_id":29322709,"body_markdown":"As answered above you can access the spring boot properties using the `&lt;springProperty&gt;` element...but a thing to keep in mind is that the logback configuration file must be named `logback-spring.xml`, it doesn&#39;t work if you name the file `logback.xml` (I&#39;m using `spring-boot 1.3.5.RELEASE`)","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p>As answered above you can access the spring boot properties using the <code>&lt;springProperty&gt;</code> element...but a thing to keep in mind is that the logback configuration file must be named <code>logback-spring.xml</code>, it doesn't work if you name the file <code>logback.xml</code> (I'm using <code>spring-boot 1.3.5.RELEASE</code>)</p>\n"},{"tags":[],"owner":{"account_id":125163,"reputation":2985,"user_id":320761,"display_name":"Lukasz Frankowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513258903,"creation_date":1513258903,"answer_id":47814780,"question_id":29322709,"body_markdown":"The solutions above work mostly for `bootrap.properties`. However, the only way to use properties from remote Spring Config Server in logback config I&#39;ve currently found, is to apply them programatically:\r\n\r\n\t@Component\r\n\tpublic class LoggerConfiguration implements ApplicationListener&lt;EnvironmentChangeEvent&gt; {\r\n\r\n\t\t@Autowired protected Environment environment;\r\n\r\n\t\t@Override\r\n\t\tpublic void onApplicationEvent(EnvironmentChangeEvent event) {\r\n\t\t\t// enviroment here has already loaded all properties and you may alter logback config programatically\r\n\t\t\tch.qos.logback.classic.Logger rootLogger = (ch.qos.logback.classic.Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n[Here][1] is a good example how to customize logback with new appender this way.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17215011/320761","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p>The solutions above work mostly for <code>bootrap.properties</code>. However, the only way to use properties from remote Spring Config Server in logback config I've currently found, is to apply them programatically:</p>\n\n<pre><code>@Component\npublic class LoggerConfiguration implements ApplicationListener&lt;EnvironmentChangeEvent&gt; {\n\n    @Autowired protected Environment environment;\n\n    @Override\n    public void onApplicationEvent(EnvironmentChangeEvent event) {\n        // enviroment here has already loaded all properties and you may alter logback config programatically\n        ch.qos.logback.classic.Logger rootLogger = (ch.qos.logback.classic.Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n    }\n\n\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/17215011/320761\">Here</a> is a good example how to customize logback with new appender this way.</p>\n"},{"tags":[],"owner":{"account_id":1411025,"reputation":1356,"user_id":1337605,"display_name":"sereja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605589815,"creation_date":1605589815,"answer_id":64869658,"question_id":29322709,"body_markdown":"There is a way to map Spring properties to Logback properties and use them in the Conditions:\r\n\r\n    logback-spring.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;ACTIVE_PROFILE&quot; source=&quot;spring.profiles.active&quot;/&gt;\r\n    &lt;!--   defined in the application-prod.properties/&gt;--&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;SPRING_WRITER_DISABLED&quot; source=&quot;writer.disabled&quot;/&gt;\r\n    &lt;property name=&quot;LOGBACK_WRITER_DISABLED&quot; value=&quot;${SPRING_WRITER_DISABLED}&quot;/&gt;\r\n\r\n    &lt;if condition=&#39;property(&quot;LOGBACK_WRITER_DISABLED&quot;).equals(&quot;false&quot;)&#39;&gt;\r\n        &lt;then&gt;\r\n            &lt;appender name=&quot;testappender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n                &lt;file&gt;${ACTIVE_PROFILE}/${HOSTNAME}/testappender.log&lt;/file&gt;\r\n                &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                    &lt;fileNamePattern&gt;\r\n                        {ACTIVE_PROFILE}/${HOSTNAME}/testappender-%d{yyyy-MM-dd}.%i.log\r\n                    &lt;/fileNamePattern&gt;\r\n                    &lt;maxFileSize&gt;300MB&lt;/maxFileSize&gt;\r\n                    &lt;maxHistory&gt;3&lt;/maxHistory&gt;\r\n                    &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\r\n                &lt;/rollingPolicy&gt;\r\n                &lt;encoder&gt;\r\n                    &lt;pattern&gt;%msg%n&lt;/pattern&gt;\r\n                &lt;/encoder&gt;\r\n            &lt;/appender&gt;\r\n            &lt;logger name=&quot;testappender&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;appender-ref ref=&quot;testappender&quot;/&gt;\r\n            &lt;/logger&gt;\r\n        &lt;/then&gt;\r\n    &lt;/if&gt;\r\n    &lt;/configuration&gt;","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p>There is a way to map Spring properties to Logback properties and use them in the Conditions:</p>\n<pre><code>logback-spring.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n&lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n&lt;springProperty scope=&quot;context&quot; name=&quot;ACTIVE_PROFILE&quot; source=&quot;spring.profiles.active&quot;/&gt;\n&lt;!--   defined in the application-prod.properties/&gt;--&gt;\n&lt;springProperty scope=&quot;context&quot; name=&quot;SPRING_WRITER_DISABLED&quot; source=&quot;writer.disabled&quot;/&gt;\n&lt;property name=&quot;LOGBACK_WRITER_DISABLED&quot; value=&quot;${SPRING_WRITER_DISABLED}&quot;/&gt;\n\n&lt;if condition='property(&quot;LOGBACK_WRITER_DISABLED&quot;).equals(&quot;false&quot;)'&gt;\n    &lt;then&gt;\n        &lt;appender name=&quot;testappender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n            &lt;file&gt;${ACTIVE_PROFILE}/${HOSTNAME}/testappender.log&lt;/file&gt;\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n                &lt;fileNamePattern&gt;\n                    {ACTIVE_PROFILE}/${HOSTNAME}/testappender-%d{yyyy-MM-dd}.%i.log\n                &lt;/fileNamePattern&gt;\n                &lt;maxFileSize&gt;300MB&lt;/maxFileSize&gt;\n                &lt;maxHistory&gt;3&lt;/maxHistory&gt;\n                &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\n            &lt;/rollingPolicy&gt;\n            &lt;encoder&gt;\n                &lt;pattern&gt;%msg%n&lt;/pattern&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n        &lt;logger name=&quot;testappender&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;testappender&quot;/&gt;\n        &lt;/logger&gt;\n    &lt;/then&gt;\n&lt;/if&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":6016212,"reputation":475,"user_id":4724996,"display_name":"brmc72"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51902,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":29323582,"answer_count":5,"score":46,"last_activity_date":1680188402,"creation_date":1427577298,"question_id":29322709,"body_markdown":"I have a Spring Boot console app using Logback. All of the properties (for the app as well as for Logback) are externalized into a standard application.properties file in the classpath. These properties are picked up just fine in the app itself, but are not picked up in the logback.xml file. It appears as though the logback.xml is processed before Spring Boot fires up, therefore the EL placeholders are not processed.\r\n\r\nUsing the FileNamePattern as an example, in the application.properties, I have something like this:\r\n\r\n    log.filePattern=/%d{yyyy/MM-MMMM/dd-EEEE}\r\n\r\nand in logback.xml, I&#39;ll have this:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n        &lt;FileNamePattern&gt;${log.logDirectory}${log.filePattern}.log\r\n        &lt;/FileNamePattern&gt;\r\n    &lt;/rollingPolicy&gt;\r\n\r\nWhen running the app, I&#39;ll see errors such as:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@24:25 - \r\n    RuntimeException in Action for tag [rollingPolicy]\r\n    java.lang.IllegalStateException: FileNamePattern\r\n    [log.logDirectory_IS_UNDEFINEDlog.filePattern_IS_UNDEFINED.log]\r\n    does not contain a valid DateToken\r\n\r\nSimilar code works just fine in other Spring (not Spring Boot) apps, so I&#39;m curious if Spring Boot just behaves a bit differently.\r\n\r\nSolution:\r\n================\r\n\r\nThanks for the reply @Gary! Good to know about the difference between Spring EL and Logback&#39;s variables...I had assumed it was Spring that was in charge of parsing those variables for me. I **did** have the &lt;property resource=&quot;application.properties&quot; /&gt; element, but that got me to thinking.\r\n\r\nMy application.properties file was outside of the jar, so Logback had no idea where to find it. By keeping my Spring-related properties in my external application.properties file, moving the logging-related properties into an application-internal.properties file (located **inside** the jar), and pointing Logback to **that** file (`&lt;property resource=&quot;application-internal.properties&quot; /&gt;`) got everything working as expected!","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p>I have a Spring Boot console app using Logback. All of the properties (for the app as well as for Logback) are externalized into a standard application.properties file in the classpath. These properties are picked up just fine in the app itself, but are not picked up in the logback.xml file. It appears as though the logback.xml is processed before Spring Boot fires up, therefore the EL placeholders are not processed.</p>\n\n<p>Using the FileNamePattern as an example, in the application.properties, I have something like this:</p>\n\n<pre><code>log.filePattern=/%d{yyyy/MM-MMMM/dd-EEEE}\n</code></pre>\n\n<p>and in logback.xml, I'll have this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n    &lt;FileNamePattern&gt;${log.logDirectory}${log.filePattern}.log\n    &lt;/FileNamePattern&gt;\n&lt;/rollingPolicy&gt;\n</code></pre>\n\n<p>When running the app, I'll see errors such as:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ERROR in ch.qos.logback.core.joran.spi.Interpreter@24:25 - \nRuntimeException in Action for tag [rollingPolicy]\njava.lang.IllegalStateException: FileNamePattern\n[log.logDirectory_IS_UNDEFINEDlog.filePattern_IS_UNDEFINED.log]\ndoes not contain a valid DateToken\n</code></pre>\n\n<p>Similar code works just fine in other Spring (not Spring Boot) apps, so I'm curious if Spring Boot just behaves a bit differently.</p>\n\n<h1>Solution:</h1>\n\n<p>Thanks for the reply @Gary! Good to know about the difference between Spring EL and Logback's variables...I had assumed it was Spring that was in charge of parsing those variables for me. I <strong>did</strong> have the  element, but that got me to thinking.</p>\n\n<p>My application.properties file was outside of the jar, so Logback had no idea where to find it. By keeping my Spring-related properties in my external application.properties file, moving the logging-related properties into an application-internal.properties file (located <strong>inside</strong> the jar), and pointing Logback to <strong>that</strong> file (<code>&lt;property resource=\"application-internal.properties\" /&gt;</code>) got everything working as expected!</p>\n"},{"tags":["java","spring-boot","spring-security","amazon-elastic-beanstalk","aws-application-load-balancer"],"owner":{"account_id":8355801,"reputation":26,"user_id":6276138,"display_name":"Josh Koopman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680188331,"creation_date":1680188331,"question_id":75889834,"body_markdown":"I have a very unique problem when using Spring Security for login on a web application.\r\n\r\nThe web app is running in an Elastic Beanstalk environment behind an application load balancer.\r\n\r\nWhen I log in directly to the environment, everything works regardless of if the &quot;remember me&quot; box is checked.\r\n\r\nWhen I log in through the application load balancer when &quot;remember me&quot; is not checked, I am redirected to my &quot;success&quot; url, but the SecurityContextHolder does not hold the account and I am not logged in.  It only holds the account when the &quot;remember me&quot; box is checked.\r\n\r\nHas anyone run into a similar situation?","title":"Login Using Spring Security on AWS Application Load Balancer Only Works when &quot;Remember Me&quot; is Checked","body":"<p>I have a very unique problem when using Spring Security for login on a web application.</p>\n<p>The web app is running in an Elastic Beanstalk environment behind an application load balancer.</p>\n<p>When I log in directly to the environment, everything works regardless of if the &quot;remember me&quot; box is checked.</p>\n<p>When I log in through the application load balancer when &quot;remember me&quot; is not checked, I am redirected to my &quot;success&quot; url, but the SecurityContextHolder does not hold the account and I am not logged in.  It only holds the account when the &quot;remember me&quot; box is checked.</p>\n<p>Has anyone run into a similar situation?</p>\n"},{"tags":["java","spring","spring-boot","docker"],"comments":[{"owner":{"account_id":20354853,"reputation":188,"user_id":14930632,"display_name":"CodeDead"},"score":0,"creation_date":1610464157,"post_id":65686551,"comment_id":116137740,"body_markdown":"Try loading the file using: `new ClasspathResource(&quot;wsdl/custom.wsdl&quot;, getClass())\n` **or** `File file = new File(getClass().getResource(&quot;wsdl/custom.wsdl&quot;).getFile());`","body":"Try loading the file using: <code>new ClasspathResource(&quot;wsdl&#47;custom.wsdl&quot;, getClass()) </code> <b>or</b> <code>File file = new File(getClass().getResource(&quot;wsdl&#47;custom.wsdl&quot;).getFile());</code>"},{"owner":{"account_id":1399240,"reputation":699,"user_id":1328323,"accept_rate":16,"display_name":"s_k_t"},"score":0,"creation_date":1610466369,"post_id":65686551,"comment_id":116138925,"body_markdown":"@CodeDead I tried that but the URL is taking the full path where the class is defined and append &quot;wsdl/custom.wsdl&quot;, but it should look into resource folder.","body":"@CodeDead I tried that but the URL is taking the full path where the class is defined and append &quot;wsdl/custom.wsdl&quot;, but it should look into resource folder."}],"answers":[{"tags":[],"owner":{"account_id":9025175,"reputation":27,"user_id":6724705,"display_name":"Sudarshan Nagre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680188328,"creation_date":1680188328,"answer_id":75889832,"question_id":65686551,"body_markdown":"Try this approach, it works inside the docker image also.\r\n\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n\r\n    InputStream inputStream = TypeReference.class.getResourceAsStream(&quot;wsdl/custom.wsdl&quot;);\r\n\r\n    StringBuffer sb = new StringBuffer();\r\n\tint i=0;\r\n\twhile((i=inputStream.read())!=-1) {\r\n\t   sb.append((char)i);\r\n\t}\r\n    System.out.println(new String(sb));\r\n\r\nIn my case, too, I am facing the same issue. Docker image can&#39;t find the files in the resource folder, but the above solution solved my issue.","title":"File inside resource folder is not visible for docker file","body":"<p>Try this approach, it works inside the docker image also.</p>\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference;\n\nInputStream inputStream = TypeReference.class.getResourceAsStream(&quot;wsdl/custom.wsdl&quot;);\n\nStringBuffer sb = new StringBuffer();\nint i=0;\nwhile((i=inputStream.read())!=-1) {\n   sb.append((char)i);\n}\nSystem.out.println(new String(sb));\n</code></pre>\n<p>In my case, too, I am facing the same issue. Docker image can't find the files in the resource folder, but the above solution solved my issue.</p>\n"}],"owner":{"account_id":1399240,"reputation":699,"user_id":1328323,"accept_rate":16,"display_name":"s_k_t"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680188328,"creation_date":1610463907,"question_id":65686551,"body_markdown":"I have a spring boot application and I am consuming external soap service and I have requirement to put the wsdl file local and I put it in resources folder under wsdl folder. I am reading that file which is inside resources folder under wsdl folder -\r\n\r\n    ClassPathResource resource = new ClassPathResource(&quot;wsdl/custom.wsdl&quot;);\r\n    File file = resource.getFile();\r\n    wsdlURL = file.toURI().toURL();\r\n\r\nI have created a simple Dockerfile with below content and running the spring boot application \r\n\r\n    FROM openjdk:8-jdk-alpine\r\n    ADD target/*.jar /app/app.jar\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\r\n    EXPOSE 8080\r\n\r\nBUt I am getting below error. \r\n\r\n    java.io.FileNotFoundException: class path resource [wsdl/custom.wsdl] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/app/app.jar!/BOOT-INF/classes!/wsdl/custom.wsdl","title":"File inside resource folder is not visible for docker file","body":"<p>I have a spring boot application and I am consuming external soap service and I have requirement to put the wsdl file local and I put it in resources folder under wsdl folder. I am reading that file which is inside resources folder under wsdl folder -</p>\n<pre><code>ClassPathResource resource = new ClassPathResource(&quot;wsdl/custom.wsdl&quot;);\nFile file = resource.getFile();\nwsdlURL = file.toURI().toURL();\n</code></pre>\n<p>I have created a simple Dockerfile with below content and running the spring boot application</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nADD target/*.jar /app/app.jar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\nEXPOSE 8080\n</code></pre>\n<p>BUt I am getting below error.</p>\n<pre><code>java.io.FileNotFoundException: class path resource [wsdl/custom.wsdl] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/app/app.jar!/BOOT-INF/classes!/wsdl/custom.wsdl\n</code></pre>\n"},{"tags":["java","sql","database","swing","user-interface"],"comments":[{"owner":{"account_id":8716173,"reputation":964,"user_id":6520695,"accept_rate":80,"display_name":"Mohammed Julfikar Ali Mahbub"},"score":1,"creation_date":1605645888,"post_id":64882911,"comment_id":114713772,"body_markdown":"You want the number of rows in `jTable` equal to the number of rows in `SQL Database`? If so then just the `model.addRow(...)` should do the work. So, what exactly is the problem? Can you please explain further?","body":"You want the number of rows in <code>jTable</code> equal to the number of rows in <code>SQL Database</code>? If so then just the <code>model.addRow(...)</code> should do the work. So, what exactly is the problem? Can you please explain further?"},{"owner":{"account_id":5520249,"reputation":363,"user_id":8095704,"display_name":"kwkw"},"score":1,"creation_date":1605645906,"post_id":64882911,"comment_id":114713778,"body_markdown":"Hi Ryan, I am not sure what you want. But I am assuming your table is not displayed. One thing I did notice is that you create the table in each iteration. So you call DefaultTableModel model=(DefaultTableModel)Ordertable.getModel(); for every row in the ResultSet. Start by creating the DefaultTable above the while-loop.","body":"Hi Ryan, I am not sure what you want. But I am assuming your table is not displayed. One thing I did notice is that you create the table in each iteration. So you call DefaultTableModel model=(DefaultTableModel)Ordertable.getModel(); for every row in the ResultSet. Start by creating the DefaultTable above the while-loop."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1605659422,"post_id":64882911,"comment_id":114718030,"body_markdown":"@Wkrem *One thing I did notice is that you create the table in each iteration.* - the table is not being created. The code is just referencing the current model from the existing table so a new row of data can be added.","body":"@Wkrem <i>One thing I did notice is that you create the table in each iteration.</i> - the table is not being created. The code is just referencing the current model from the existing table so a new row of data can be added."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1605659563,"post_id":64882911,"comment_id":114718058,"body_markdown":"1) Variable names should NOT start with an upper case character. 2) What is the point of making the table header transparent and then attempting to set the background color? 3) Why do you set properties of the header in a finally block? You should set the properties when you create the table. The properties of the header have nothing to do with reading the data from the database.  4) *i want to make the jtable size to be automatically the size of the rows?* - what size do you see now. Looks to me like the logic is adding all rows of data to the model.","body":"1) Variable names should NOT start with an upper case character. 2) What is the point of making the table header transparent and then attempting to set the background color? 3) Why do you set properties of the header in a finally block? You should set the properties when you create the table. The properties of the header have nothing to do with reading the data from the database.  4) <i>i want to make the jtable size to be automatically the size of the rows?</i> - what size do you see now. Looks to me like the logic is adding all rows of data to the model."},{"owner":{"account_id":18786077,"reputation":11,"user_id":13699640,"display_name":"Ryan Anjalo"},"score":0,"creation_date":1605693397,"post_id":64882911,"comment_id":114727103,"body_markdown":"I just wanted to make make my table size same as the row size ? i am fairly new here so please excuse my mistakes. for example , if 3 rows then it should be the maximum, how can i obtain that ?","body":"I just wanted to make make my table size same as the row size ? i am fairly new here so please excuse my mistakes. for example , if 3 rows then it should be the maximum, how can i obtain that ?"},{"owner":{"account_id":18786077,"reputation":11,"user_id":13699640,"display_name":"Ryan Anjalo"},"score":0,"creation_date":1605693586,"post_id":64882911,"comment_id":114727203,"body_markdown":"@camickr thanks for pointing it out , i should just create a another method for the current table formating , As far i knew variables should be uppercase when starting , i will see into that thanks.","body":"@camickr thanks for pointing it out , i should just create a another method for the current table formating , As far i knew variables should be uppercase when starting , i will see into that thanks."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1605716726,"post_id":64882911,"comment_id":114738209,"body_markdown":"*As far i knew variables should be uppercase when starting* 1) Comment doesn&#39;t make sense. Look at your code. Majority of the variables are correct, only some are incorrect. Be conssistent!!! 2) Any text book or online tutorial will follow Java conventions, so learn  by example. *I just wanted to make make my table size same as the row size ?* - that does not clarify anything. What is the &quot;row size&quot;? What do you see in the table? What do you expect to see?","body":"<i>As far i knew variables should be uppercase when starting</i> 1) Comment doesn&#39;t make sense. Look at your code. Majority of the variables are correct, only some are incorrect. Be conssistent!!! 2) Any text book or online tutorial will follow Java conventions, so learn  by example. <i>I just wanted to make make my table size same as the row size ?</i> - that does not clarify anything. What is the &quot;row size&quot;? What do you see in the table? What do you expect to see?"}],"owner":{"account_id":18786077,"reputation":11,"user_id":13699640,"display_name":"Ryan Anjalo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1680188193,"creation_date":1605645214,"question_id":64882911,"body_markdown":"I have retrieved data from SQL Database into a `JTable`. I want to make the table size to be automatically the size of the rows. It would be plus if I can also make the data in the rows centered.\r\n\r\nI am fairly new to GUI Java Programming. Can someone please let me understand how it can be done?\r\n\r\n    private  void DisplayOrder() {\r\n        String qry = &quot;SELECT * FROM SALESORDER&quot;; //Creating Query\r\n        try {\r\n            conn = DriverManager.getConnection(connectionUrl, username, Pass);\r\n            Statement st = conn.prepareStatement(qry);\r\n            ResultSet rs = st.executeQuery(qry);\r\n            \r\n            while (rs.next()){\r\n                String Des   = rs.getString(&quot;ProductDescription&quot;);\r\n                String qty   = String.valueOf(rs.getInt(&quot;Quantity&quot;));\r\n                String price = String.valueOf(rs.getInt(&quot;TotalPrice&quot;));\r\n                String tbdata[] = {Des, qty, price};\r\n                DefaultTableModel model = (DefaultTableModel) Ordertable.getModel();\r\n                model.addRow(new Object[]{Des, qty, price});\r\n            }\r\n        } catch (SQLException e){\r\n            \r\n        } finally{\r\n            Ordertable.getTableHeader().setFont(new Font(&quot;Segoe UI&quot;,Font.BOLD,15));\r\n            Ordertable.getTableHeader().setOpaque(false);\r\n            Ordertable.getTableHeader().setBackground(new Color(32,136,203));\r\n            Ordertable.getTableHeader().setForeground(new Color(255,255,255));\r\n            Ordertable.setRowHeight(25);\r\n        }\r\n    }","title":"How to make the table size same as the row size in java?","body":"<p>I have retrieved data from SQL Database into a <code>JTable</code>. I want to make the table size to be automatically the size of the rows. It would be plus if I can also make the data in the rows centered.</p>\n<p>I am fairly new to GUI Java Programming. Can someone please let me understand how it can be done?</p>\n<pre><code>private  void DisplayOrder() {\n    String qry = &quot;SELECT * FROM SALESORDER&quot;; //Creating Query\n    try {\n        conn = DriverManager.getConnection(connectionUrl, username, Pass);\n        Statement st = conn.prepareStatement(qry);\n        ResultSet rs = st.executeQuery(qry);\n        \n        while (rs.next()){\n            String Des   = rs.getString(&quot;ProductDescription&quot;);\n            String qty   = String.valueOf(rs.getInt(&quot;Quantity&quot;));\n            String price = String.valueOf(rs.getInt(&quot;TotalPrice&quot;));\n            String tbdata[] = {Des, qty, price};\n            DefaultTableModel model = (DefaultTableModel) Ordertable.getModel();\n            model.addRow(new Object[]{Des, qty, price});\n        }\n    } catch (SQLException e){\n        \n    } finally{\n        Ordertable.getTableHeader().setFont(new Font(&quot;Segoe UI&quot;,Font.BOLD,15));\n        Ordertable.getTableHeader().setOpaque(false);\n        Ordertable.getTableHeader().setBackground(new Color(32,136,203));\n        Ordertable.getTableHeader().setForeground(new Color(255,255,255));\n        Ordertable.setRowHeight(25);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","project-reactor","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3092852,"reputation":113,"user_id":2618629,"display_name":"Xogaz"},"score":0,"creation_date":1686767642,"post_id":75889613,"comment_id":134845976,"body_markdown":"`.subscriberContext` has been deprecated quite a while ago, \n\nYou can set the order of your filters, may be that helps. \n\n```\n       http.addFilter(myFilter-&gt; http.addFilterBefore(myFilter, SecurityWebFiltersOrder.AUTHENTICATION));\n        http.addFilterAt(authenticationWebFilter, SecurityWebFiltersOrder.AUTHENTICATION);\n```","body":"<code>.subscriberContext</code> has been deprecated quite a while ago,   You can set the order of your filters, may be that helps.   ```        http.addFilter(myFilter-&gt; http.addFilterBefore(myFilter, SecurityWebFiltersOrder.AUTHENTICATION));         http.addFilterAt(authenticationWebFilter, SecurityWebFiltersOrder.AUTHENTICATION); ```"}],"owner":{"account_id":1064662,"reputation":514,"user_id":1065545,"accept_rate":92,"display_name":"Flanfl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680188120,"creation_date":1680187151,"question_id":75889613,"body_markdown":"I&#39;ve a Spring Cloud Gateway service with the following security config: \r\n\r\n```\r\n@Configuration\r\n@EnableWebFluxSecurity\r\n@Slf4j\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityWebFilterChain securityApiFilterChain(ServerHttpSecurity http) {\r\n         // ... additional security config\r\n\r\n        http.authorizeExchange()\r\n                .pathMatchers(HttpMethod.GET, &quot;/api/foo/**&quot;)\r\n                .access((authenticationMono, context) -&gt; authenticationMono\r\n                        .flatMap(authentication -&gt; authorizationService.canDo(authentication, FOO, ACCESS))\r\n                        .map(AuthorizationDecision::new));\r\n    }\r\n}\r\n```\r\n\r\n`authorizationService.canDo` checks if the user can do the requested action on the requested API. The relevant code:\r\n\r\n    return webClient.get().uri(url)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .headers(fillHeaders())\r\n                    .retrieve()\r\n                    .toEntity(new ParameterizedTypeReference&lt;&gt;() {});\r\n\r\n\r\nIf the user has access, then the request is forwarded to the relevant service. \r\n\r\nThe response of the access control contains some HTTP headers that I want to add in the request sent to `/api/foo/**`. \r\n\r\nI tried to set these headers in the reactor `Context` with `subscriberContext` or adding a `ExchangeFilterFunction.ofResponseProcessor`to the webClient. While the context is properly set it&#39;s not propagated. The context is lost when I&#39;m in a custom `WebFilter`.\r\n\r\nI&#39;ve added the following code at multiple places with no luck:\r\n`.subscriberContext(ctx -&gt; ctx.put(&quot;testContext&quot;, &quot;testContextData&quot;));`\r\n\r\nI looked at how `ReactiveSecurityContextHolder.getContext()` works and I don&#39;t see how it&#39;s different from what I&#39;m doing. However, the context is initiated in `ReactorContextWebFilter` which seems to be the first `WebFilter` called. My custom filters are called much later on (after the `canDo` method was called). I did try to find a way to init a context earlier but I can&#39;t find anything.\r\n\r\nDo we have anyway to have a filter that get called even before `SecurityWebFilterChain`? Or maybe a better solution? The amount of data I could find is limited and I&#39;m new to WebFlux/Reactor. \r\n\r\nSpring Security: 5.13.3\r\nSpring Webflux: 2.3.12.RELEASE","title":"Propagating context with Spring WebFlux","body":"<p>I've a Spring Cloud Gateway service with the following security config:</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\n@Slf4j\npublic class SecurityConfig {\n    @Bean\n    public SecurityWebFilterChain securityApiFilterChain(ServerHttpSecurity http) {\n         // ... additional security config\n\n        http.authorizeExchange()\n                .pathMatchers(HttpMethod.GET, &quot;/api/foo/**&quot;)\n                .access((authenticationMono, context) -&gt; authenticationMono\n                        .flatMap(authentication -&gt; authorizationService.canDo(authentication, FOO, ACCESS))\n                        .map(AuthorizationDecision::new));\n    }\n}\n</code></pre>\n<p><code>authorizationService.canDo</code> checks if the user can do the requested action on the requested API. The relevant code:</p>\n<pre><code>return webClient.get().uri(url)\n                .accept(MediaType.APPLICATION_JSON)\n                .headers(fillHeaders())\n                .retrieve()\n                .toEntity(new ParameterizedTypeReference&lt;&gt;() {});\n</code></pre>\n<p>If the user has access, then the request is forwarded to the relevant service.</p>\n<p>The response of the access control contains some HTTP headers that I want to add in the request sent to <code>/api/foo/**</code>.</p>\n<p>I tried to set these headers in the reactor <code>Context</code> with <code>subscriberContext</code> or adding a <code>ExchangeFilterFunction.ofResponseProcessor</code>to the webClient. While the context is properly set it's not propagated. The context is lost when I'm in a custom <code>WebFilter</code>.</p>\n<p>I've added the following code at multiple places with no luck:\n<code>.subscriberContext(ctx -&gt; ctx.put(&quot;testContext&quot;, &quot;testContextData&quot;));</code></p>\n<p>I looked at how <code>ReactiveSecurityContextHolder.getContext()</code> works and I don't see how it's different from what I'm doing. However, the context is initiated in <code>ReactorContextWebFilter</code> which seems to be the first <code>WebFilter</code> called. My custom filters are called much later on (after the <code>canDo</code> method was called). I did try to find a way to init a context earlier but I can't find anything.</p>\n<p>Do we have anyway to have a filter that get called even before <code>SecurityWebFilterChain</code>? Or maybe a better solution? The amount of data I could find is limited and I'm new to WebFlux/Reactor.</p>\n<p>Spring Security: 5.13.3\nSpring Webflux: 2.3.12.RELEASE</p>\n"},{"tags":["java","angular","backend"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1680187324,"post_id":75889535,"comment_id":133858735,"body_markdown":"your UserService dont have addUser method","body":"your UserService dont have addUser method"}],"owner":{"account_id":27994875,"reputation":13,"user_id":21380352,"display_name":"avishkar dixit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680188058,"creation_date":1680186729,"question_id":75889535,"body_markdown":"this is the code of the signup.component.ts in which i am facing the error\r\n``` import { Component, OnInit } from &#39;@angular/core&#39;;\r\nimport { UserService } from &#39;src/app/services/user.service&#39;;\r\n\r\n@Component({\r\n  selector: &#39;app-signup&#39;,\r\n  templateUrl: &#39;./signup.component.html&#39;,\r\n  styleUrls: [&#39;./signup.component.css&#39;],\r\n})\r\nexport class SignupComponent implements OnInit {\r\n  constructor(private userService:UserService) {}\r\n\r\n  public user = {\r\n    username: &#39;&#39;,\r\n    password: &#39;&#39;,\r\n    firstName: &#39;&#39;,\r\n    lastName: &#39;&#39;,\r\n    email: &#39;&#39;,\r\n    phone: &#39;&#39;,\r\n  };\r\n\r\n  ngOnInit(): void {}\r\n\r\n  formSubmit() {\r\n    console.log(this.user);\r\n    if (this.user.username == &#39;&#39; || this.user.username == null) {\r\n      alert(&#39;user is requierde &#39;);\r\n      return;\r\n    }\r\n\r\n    //add user\r\n    this.userService.addUser(this.user).subscribe(\r\n      (data) =&gt; {\r\n        //success\r\n        console.log(data);\r\n        alert(&#39;success&#39;);\r\n      },\r\n      (error) =&gt; {\r\n        //error\r\n        console.log(error);\r\n        alert(&#39;something went wrong&#39;);\r\n      }\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nin given code the &quot;subscribe&quot; is getting depricated and hence i am not able to send the data from form to the backend database \r\n\r\nplease help me to solve these error\r\nthese is the user.service.ts file\r\n```import { HttpClient } from &#39;@angular/common/http&#39;;\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\nimport baseUrl from &#39;./helper&#39;;\r\n\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\nexport class UserService {\r\n\r\n  constructor(private http:HttpClient)  {}\r\n\r\n   //add user\r\n  public addUser(user:any)\r\n  {\r\n\r\n    return this.http.post(`${baseUrl}/user/`,user);\r\n\r\n  }\r\n}\r\n```\r\n\r\nwhen i am trying to run the code it is showing the following error\r\n\r\nError is given below\r\n```\r\nError: src/app/pages/signup/signup.component.ts:32:22 - error TS2339: Property &#39;addUser&#39; does not exist on type &#39;UserService&#39;.     \r\n\r\n32     this.userService.addUser(this.user).subscribe(\r\n                        ~~~~~~~\r\n\r\n\r\nError: src/app/pages/signup/signup.component.ts:33:8 - error TS7006: Parameter &#39;data&#39; implicitly has an &#39;any&#39; type.\r\n\r\n33       (data) =&gt; {\r\n          ~~~~\r\n\r\n\r\nError: src/app/pages/signup/signup.component.ts:38:8 - error TS7006: Parameter &#39;error&#39; implicitly has an &#39;any&#39; type.\r\n\r\n38       (error) =&gt; {\r\n          ~~~~~\r\n\r\n\r\n\r\n\r\n** Angular Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200/ **\r\n\r\n\r\n&#215; Failed to compile.\r\nPS C:\\Users\\admin\\Desktop\\java exam project\\examfront&gt; \r\n\r\n``` ","title":"getting error when i want to send data to the java backend from angular front end","body":"<p>this is the code of the signup.component.ts in which i am facing the error</p>\n<pre><code>import { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.css'],\n})\nexport class SignupComponent implements OnInit {\n  constructor(private userService:UserService) {}\n\n  public user = {\n    username: '',\n    password: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n  };\n\n  ngOnInit(): void {}\n\n  formSubmit() {\n    console.log(this.user);\n    if (this.user.username == '' || this.user.username == null) {\n      alert('user is requierde ');\n      return;\n    }\n\n    //add user\n    this.userService.addUser(this.user).subscribe(\n      (data) =&gt; {\n        //success\n        console.log(data);\n        alert('success');\n      },\n      (error) =&gt; {\n        //error\n        console.log(error);\n        alert('something went wrong');\n      }\n    );\n  }\n}\n</code></pre>\n<p>in given code the &quot;subscribe&quot; is getting depricated and hence i am not able to send the data from form to the backend database</p>\n<p>please help me to solve these error\nthese is the user.service.ts file</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport baseUrl from './helper';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n  constructor(private http:HttpClient)  {}\n\n   //add user\n  public addUser(user:any)\n  {\n\n    return this.http.post(`${baseUrl}/user/`,user);\n\n  }\n}\n</code></pre>\n<p>when i am trying to run the code it is showing the following error</p>\n<p>Error is given below</p>\n<pre><code>Error: src/app/pages/signup/signup.component.ts:32:22 - error TS2339: Property 'addUser' does not exist on type 'UserService'.     \n\n32     this.userService.addUser(this.user).subscribe(\n                        ~~~~~~~\n\n\nError: src/app/pages/signup/signup.component.ts:33:8 - error TS7006: Parameter 'data' implicitly has an 'any' type.\n\n33       (data) =&gt; {\n          ~~~~\n\n\nError: src/app/pages/signup/signup.component.ts:38:8 - error TS7006: Parameter 'error' implicitly has an 'any' type.\n\n38       (error) =&gt; {\n          ~~~~~\n\n\n\n\n** Angular Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200/ **\n\n\n× Failed to compile.\nPS C:\\Users\\admin\\Desktop\\java exam project\\examfront&gt; \n\n</code></pre>\n"},{"tags":["java","react-native","react-native-firebase"],"owner":{"account_id":23335903,"reputation":114,"user_id":17411570,"display_name":"seth8656"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680188033,"creation_date":1680188033,"question_id":75889789,"body_markdown":"I am setting up react native firebase&#39;s analytics with my existing expo app. I believe I have the set up for it configured, however now that I have an EAS build with my project, I am getting the following error.\r\n\r\nNative module Vibration tried to override com.facebook.react.module/vibration.VibrationModule. Check the getPackages() method... or setOverRide=true.\r\n\r\nThe strange thing, is that I cannot find any module named vibration. I even did a global search in my directory and found nothing related to the word &#39;vibration&#39;. I also doubled checked my getPackages method in my MainApplication.java to make sure it was not repeated. I am fairly new to react native and configuring things with java, so maybe I missed something. Down below is my MainApplication.java.\r\n\r\n   \r\n\r\n ```import android.app.Application;\r\nimport android.content.res.Configuration;\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.facebook.react.PackageList;\r\nimport com.facebook.react.ReactApplication;\r\nimport com.facebook.react.ReactNativeHost;\r\nimport com.facebook.react.ReactPackage;\r\nimport com.facebook.react.defaults.DefaultNewArchitectureEntryPoint;\r\nimport com.facebook.react.defaults.DefaultReactNativeHost;\r\nimport com.facebook.soloader.SoLoader;\r\n\r\n// import firebase\r\nimport io.invertase.firebase.app.ReactNativeFirebaseAppPackage;\r\nimport com.facebook.react.shell.MainReactPackage;\r\n\r\nimport expo.modules.ApplicationLifecycleDispatcher;\r\nimport expo.modules.ReactNativeHostWrapper;\r\n\r\nimport java.util.List;\r\n\r\npublic class MainApplication extends Application implements ReactApplication {\r\n\r\n  private final ReactNativeHost mReactNativeHost =\r\n    new ReactNativeHostWrapper(this, new DefaultReactNativeHost(this) {\r\n      @Override\r\n      public boolean getUseDeveloperSupport() {\r\n        return BuildConfig.DEBUG;\r\n      }\r\n\r\n      // @Override    \r\n      // public boolean canOverrideExistingModule() {        \r\n      //   return true;    \r\n      // }   \r\n\r\n      @Override\r\n      protected List&lt;ReactPackage&gt; getPackages() {\r\n\r\n\r\n        @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\r\n        List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\r\n        // Packages that cannot be autolinked yet can be added manually here, for example:\r\n        // packages.add(new MyReactNativePackage());\r\n        packages.add(new MainReactPackage());\r\n        packages.add(new ReactNativeFirebaseAppPackage());\r\n\r\n        return packages;\r\n      }\r\n\r\n      @Override\r\n      protected String getJSMainModuleName() {\r\n        return &quot;index&quot;;\r\n      }\r\n\r\n      @Override\r\n      protected boolean isNewArchEnabled() {\r\n        return BuildConfig.IS_NEW_ARCHITECTURE_ENABLED;\r\n      }\r\n\r\n      @Override\r\n      protected Boolean isHermesEnabled() {\r\n        return BuildConfig.IS_HERMES_ENABLED;\r\n      }\r\n\r\n  \r\n  });\r\n\r\n  @Override\r\n  public ReactNativeHost getReactNativeHost() {\r\n    return mReactNativeHost;\r\n  }\r\n\r\n  @Override\r\n  public void onCreate() {\r\n    super.onCreate();\r\n    SoLoader.init(this, /* native exopackage */ false);\r\n    if (BuildConfig.IS_NEW_ARCHITECTURE_ENABLED) {\r\n      // If you opted-in for the New Architecture, we load the native entry point for this app.\r\n      DefaultNewArchitectureEntryPoint.load();\r\n    }\r\n    ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\r\n    ApplicationLifecycleDispatcher.onApplicationCreate(this);\r\n  }\r\n\r\n  @Override\r\n  public void onConfigurationChanged(@NonNull Configuration newConfig) {\r\n    super.onConfigurationChanged(newConfig);\r\n    ApplicationLifecycleDispatcher.onConfigurationChanged(this, newConfig);\r\n  }\r\n}\r\n```\r\nMy initial thoughts on this is that, importing \r\n\r\nimport io.invertase.firebase.app.ReactNativeFirebaseAppPackage; and \r\nimport com.facebook.react.shell.MainReactPackage;\r\n\r\nare the cause of the issue since that is pretty much the only modification I  have done to this file. However if I delete these additions, EAS build fails while running gradle, and I cant download the updated version of the app. I have seen a lot of similar question on stack overflow, however I was not able to fix it with the normal &#39;just delete the repeated package&#39; response since I don&#39;t even think I have a &#39;Vibration&#39; module installed anywhere. Thanks in advance!","title":"Native module Vibration tried to override com.facebook.react.module.vibration","body":"<p>I am setting up react native firebase's analytics with my existing expo app. I believe I have the set up for it configured, however now that I have an EAS build with my project, I am getting the following error.</p>\n<p>Native module Vibration tried to override com.facebook.react.module/vibration.VibrationModule. Check the getPackages() method... or setOverRide=true.</p>\n<p>The strange thing, is that I cannot find any module named vibration. I even did a global search in my directory and found nothing related to the word 'vibration'. I also doubled checked my getPackages method in my MainApplication.java to make sure it was not repeated. I am fairly new to react native and configuring things with java, so maybe I missed something. Down below is my MainApplication.java.</p>\n<pre><code>import android.content.res.Configuration;\nimport androidx.annotation.NonNull;\n\nimport com.facebook.react.PackageList;\nimport com.facebook.react.ReactApplication;\nimport com.facebook.react.ReactNativeHost;\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.defaults.DefaultNewArchitectureEntryPoint;\nimport com.facebook.react.defaults.DefaultReactNativeHost;\nimport com.facebook.soloader.SoLoader;\n\n// import firebase\nimport io.invertase.firebase.app.ReactNativeFirebaseAppPackage;\nimport com.facebook.react.shell.MainReactPackage;\n\nimport expo.modules.ApplicationLifecycleDispatcher;\nimport expo.modules.ReactNativeHostWrapper;\n\nimport java.util.List;\n\npublic class MainApplication extends Application implements ReactApplication {\n\n private final ReactNativeHost mReactNativeHost =\n   new ReactNativeHostWrapper(this, new DefaultReactNativeHost(this) {\n     @Override\n     public boolean getUseDeveloperSupport() {\n       return BuildConfig.DEBUG;\n     }\n\n     // @Override    \n     // public boolean canOverrideExistingModule() {        \n     //   return true;    \n     // }   \n\n     @Override\n     protected List&lt;ReactPackage&gt; getPackages() {\n\n\n       @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\n       List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\n       // Packages that cannot be autolinked yet can be added manually here, for example:\n       // packages.add(new MyReactNativePackage());\n       packages.add(new MainReactPackage());\n       packages.add(new ReactNativeFirebaseAppPackage());\n\n       return packages;\n     }\n\n     @Override\n     protected String getJSMainModuleName() {\n       return &quot;index&quot;;\n     }\n\n     @Override\n     protected boolean isNewArchEnabled() {\n       return BuildConfig.IS_NEW_ARCHITECTURE_ENABLED;\n     }\n\n     @Override\n     protected Boolean isHermesEnabled() {\n       return BuildConfig.IS_HERMES_ENABLED;\n     }\n\n \n });\n\n @Override\n public ReactNativeHost getReactNativeHost() {\n   return mReactNativeHost;\n }\n\n @Override\n public void onCreate() {\n   super.onCreate();\n   SoLoader.init(this, /* native exopackage */ false);\n   if (BuildConfig.IS_NEW_ARCHITECTURE_ENABLED) {\n     // If you opted-in for the New Architecture, we load the native entry point for this app.\n     DefaultNewArchitectureEntryPoint.load();\n   }\n   ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\n   ApplicationLifecycleDispatcher.onApplicationCreate(this);\n }\n\n @Override\n public void onConfigurationChanged(@NonNull Configuration newConfig) {\n   super.onConfigurationChanged(newConfig);\n   ApplicationLifecycleDispatcher.onConfigurationChanged(this, newConfig);\n }\n}\n</code></pre>\n<p>My initial thoughts on this is that, importing</p>\n<p>import io.invertase.firebase.app.ReactNativeFirebaseAppPackage; and\nimport com.facebook.react.shell.MainReactPackage;</p>\n<p>are the cause of the issue since that is pretty much the only modification I  have done to this file. However if I delete these additions, EAS build fails while running gradle, and I cant download the updated version of the app. I have seen a lot of similar question on stack overflow, however I was not able to fix it with the normal 'just delete the repeated package' response since I don't even think I have a 'Vibration' module installed anywhere. Thanks in advance!</p>\n"},{"tags":["java","file","io","metadata"],"comments":[{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1379928325,"post_id":18955475,"comment_id":27994602,"body_markdown":"does this attribute mean that file `encdec.properties` is encryped?","body":"does this attribute mean that file <code>encdec.properties</code> is encryped?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1533292887,"post_id":18955475,"comment_id":90304179,"body_markdown":"It means whatever you want it to mean.","body":"It means whatever you want it to mean."}],"answers":[{"comments":[{"owner":{"account_id":8643705,"reputation":613,"user_id":6471600,"display_name":"Thales Valias"},"score":0,"creation_date":1680176905,"post_id":18955796,"comment_id":133855640,"body_markdown":"Also, it&#39;s worth mentioning that extended attributes are platform dependent, so an attribute on a file created, let&#39;s say, on MacOS, cannot be read on Linux (at least not naturally)","body":"Also, it&#39;s worth mentioning that extended attributes are platform dependent, so an attribute on a file created, let&#39;s say, on MacOS, cannot be read on Linux (at least not naturally)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1680187805,"creation_date":1379928328,"answer_id":18955796,"question_id":18955475,"body_markdown":"If your file system supports user-defined (aka extended) attributes, then the way to set one would be like this:\r\n\r\n    Files.setAttribute(path, &quot;user:encryption used&quot;, &quot;testtesttest&quot;);\r\n\r\nAs the [javadoc][1] for `setAttribute` explains, the 2nd argument takes the form of an optional *view-name* and an attribute name.  In this case, you need to use the [`UserDefinedFileAttributeView`][2] whose view-name is &quot;user&quot;.\r\n\r\nNote that different file system types support different attribute views, and your file system *may not* support this one.  This particularly applies across different operating systems; e.g. you can&#39;t read a file&#39;s MacOS file attributes on a Linux system via these APIs.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#setAttribute%28java.nio.file.Path,%20java.lang.String,%20java.lang.Object,%20java.nio.file.LinkOption...%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/UserDefinedFileAttributeView.html","title":"add custom attribute or metadata to file java","body":"<p>If your file system supports user-defined (aka extended) attributes, then the way to set one would be like this:</p>\n<pre><code>Files.setAttribute(path, &quot;user:encryption used&quot;, &quot;testtesttest&quot;);\n</code></pre>\n<p>As the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#setAttribute%28java.nio.file.Path,%20java.lang.String,%20java.lang.Object,%20java.nio.file.LinkOption...%29\" rel=\"nofollow noreferrer\">javadoc</a> for <code>setAttribute</code> explains, the 2nd argument takes the form of an optional <em>view-name</em> and an attribute name.  In this case, you need to use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/UserDefinedFileAttributeView.html\" rel=\"nofollow noreferrer\"><code>UserDefinedFileAttributeView</code></a> whose view-name is &quot;user&quot;.</p>\n<p>Note that different file system types support different attribute views, and your file system <em>may not</em> support this one.  This particularly applies across different operating systems; e.g. you can't read a file's MacOS file attributes on a Linux system via these APIs.</p>\n"}],"owner":{"account_id":991301,"reputation":491,"user_id":1008531,"accept_rate":67,"display_name":"user1008531"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17543,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18955796,"answer_count":1,"score":9,"last_activity_date":1680187805,"creation_date":1379927213,"question_id":18955475,"body_markdown":"I have files that need an extra attribute called &quot;encryption used&quot;. But this gives &quot;IllegalArgumentExeption&quot;. I know why it gives that error, &quot;encryption used&quot; isn&#39;t known as an attribute, but is there a way I can force it to be? Or add custom metadata to the file?\r\n\r\n     Path path = new File(&quot;/propertyfiles/encdec.properties&quot;).toPath();\r\n\r\n        try{\r\n            Files.setAttribute(path, &quot;encryption used&quot;, &quot;testtesttest&quot;);\r\n        }catch(IOException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n        try{\r\n            System.out.println(Files.getAttribute(path, &quot;encryption used&quot;));\r\n        }catch(IOException e){\r\n            System.out.println(e.getMessage());\r\n        }","title":"add custom attribute or metadata to file java","body":"<p>I have files that need an extra attribute called \"encryption used\". But this gives \"IllegalArgumentExeption\". I know why it gives that error, \"encryption used\" isn't known as an attribute, but is there a way I can force it to be? Or add custom metadata to the file?</p>\n\n<pre><code> Path path = new File(\"/propertyfiles/encdec.properties\").toPath();\n\n    try{\n        Files.setAttribute(path, \"encryption used\", \"testtesttest\");\n    }catch(IOException e){\n        System.out.println(e.getMessage());\n    }\n    try{\n        System.out.println(Files.getAttribute(path, \"encryption used\"));\n    }catch(IOException e){\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n"},{"tags":["java","json","jackson","gson","json-deserialization"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":2,"creation_date":1680127630,"post_id":75882543,"comment_id":133847181,"body_markdown":"Are these actually variations? Looks the same minus some missing data.","body":"Are these actually variations? Looks the same minus some missing data."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680128614,"post_id":75882543,"comment_id":133847348,"body_markdown":"You have shown us two examples. You need to explain what the actual variation is.","body":"You have shown us two examples. You need to explain what the actual variation is."},{"owner":{"account_id":12000414,"reputation":27,"user_id":8780539,"display_name":"ASHOK KUMAR"},"score":0,"creation_date":1680129399,"post_id":75882543,"comment_id":133847456,"body_markdown":"@ChristopherSchneider -- Assume there are n keys (eg: &quot;confidentialDetails&quot; or &quot;addressDetails&quot;) &amp; out of those i can get any k of them with no fixed order . Also, the structure of the value for some keys can be same as it&#39;s in 2nd example .","body":"@ChristopherSchneider -- Assume there are n keys (eg: &quot;confidentialDetails&quot; or &quot;addressDetails&quot;) &amp; out of those i can get any k of them with no fixed order . Also, the structure of the value for some keys can be same as it&#39;s in 2nd example ."},{"owner":{"account_id":12000414,"reputation":27,"user_id":8780539,"display_name":"ASHOK KUMAR"},"score":0,"creation_date":1680129502,"post_id":75882543,"comment_id":133847481,"body_markdown":"@tgdavies , replied back to your comment above -- let me know if you still require some more info before you can help","body":"@tgdavies , replied back to your comment above -- let me know if you still require some more info before you can help"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1680130619,"post_id":75882543,"comment_id":133847675,"body_markdown":"Jackson will simply ignore missing values and set the relevant properties to null. Try it.","body":"Jackson will simply ignore missing values and set the relevant properties to null. Try it."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680172862,"post_id":75882543,"comment_id":133854612,"body_markdown":"Both Gson and Jackson shouldn&#39;t have any problems with the example as shown (it may need some config to declare that fields can be optional/absent). In the deserialized object, the absent fields will simply be null.","body":"Both Gson and Jackson shouldn&#39;t have any problems with the example as shown (it may need some config to declare that fields can be optional/absent). In the deserialized object, the absent fields will simply be null."}],"answers":[{"tags":[],"owner":{"account_id":28144514,"reputation":1,"user_id":21507028,"display_name":"lin_delisy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680138185,"creation_date":1680138185,"answer_id":75883333,"question_id":75882543,"body_markdown":"I don&#39;t know if I understand your question. However, you can try to define all possible JSON objects into one object and then serialize them using GSON or another JSON conversion tool.\r\nlike this:\r\n\r\n    public class Parent {\r\n        private AddressDetails addressDetails;\r\n        private PersonalDetails personalDetails;\r\n        private PersonalDetails confidentialDetails;\r\n    }\r\n    class AddressDetails{\r\n        private List&lt;HomeAddresses&gt; homeAddresses;\r\n        private List&lt;CurrentAddress&gt; currentAddresses;\r\n    }\r\n    class Addresses{\r\n        private String houseNo;\r\n        private String city;\r\n    }\r\n    class BirthDetails{\r\n        private String birthDetails;\r\n        private String birthMonth;\r\n    }\r\n    class HomeAddresses extends Addresses{\r\n    }\r\n    class CurrentAddress extends Addresses{\r\n    }\r\n    class PersonalDetails extends BirthDetails{\r\n    }\r\n\r\nOr if there are too many types to define, you can simply convert the JSON string to a JSON object for use\r\nlike this:\r\n\r\n    String jsonStr = &quot;{\\n&quot; +\r\n                &quot;  \\&quot;addressDetails\\&quot;: {\\n&quot; +\r\n                &quot;    \\&quot;homeAddresses\\&quot;: [\\n&quot; +\r\n                &quot;      {\\n&quot; +\r\n                &quot;        \\&quot;houseNo\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;city\\&quot;: \\&quot;2\\&quot;\\n&quot; +\r\n                &quot;      }\\n&quot; +\r\n                &quot;    ],\\n&quot; +\r\n                &quot;    \\&quot;currentAddress\\&quot;: {\\n&quot; +\r\n                &quot;      \\&quot;houseNo\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;city\\&quot;: \\&quot;2\\&quot;\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;  },\\n&quot; +\r\n                &quot;  \\&quot;personalDetails\\&quot;: {\\n&quot; +\r\n                &quot;    \\&quot;birthDetails\\&quot;: {\\n&quot; +\r\n                &quot;      \\&quot;birthPlace\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;birthMonth\\&quot;: \\&quot;2\\&quot;\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;  },\\n&quot; +\r\n                &quot;  \\&quot;confidentialDetails\\&quot;: {\\n&quot; +\r\n                &quot;    \\&quot;birthDetails\\&quot;: {\\n&quot; +\r\n                &quot;      \\&quot;birthPlace\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;birthMonth\\&quot;: \\&quot;2\\&quot;\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;  },\\n&quot; +\r\n                &quot;  \\&quot;bankingDetails\\&quot;: {\\n&quot; +\r\n                &quot;    \\&quot;bankName\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;bankAccountNo\\&quot;: 2\\n&quot; +\r\n                &quot;  }\\n&quot; +\r\n                &quot;}&quot;;\r\n        JSONObject jsonObject = JSONUtil.parseObj(jsonStr);\r\n        JSONObject addressDetails = jsonObject.get(&quot;addressDetails&quot;, JSONObject.class);\r\n        JSONArray homeAddresses = addressDetails.get(&quot;homeAddresses&quot;, JSONArray.class);\r\n        JSONObject object = homeAddresses.get(0, JSONObject.class);\r\n        System.out.println(object.get(&quot;houseNo&quot;));\r\n        System.out.println(object.get(&quot;city&quot;));\r\n\r\n","title":"Deserialise a dynamic JSON into a java object","body":"<p>I don't know if I understand your question. However, you can try to define all possible JSON objects into one object and then serialize them using GSON or another JSON conversion tool.\nlike this:</p>\n<pre><code>public class Parent {\n    private AddressDetails addressDetails;\n    private PersonalDetails personalDetails;\n    private PersonalDetails confidentialDetails;\n}\nclass AddressDetails{\n    private List&lt;HomeAddresses&gt; homeAddresses;\n    private List&lt;CurrentAddress&gt; currentAddresses;\n}\nclass Addresses{\n    private String houseNo;\n    private String city;\n}\nclass BirthDetails{\n    private String birthDetails;\n    private String birthMonth;\n}\nclass HomeAddresses extends Addresses{\n}\nclass CurrentAddress extends Addresses{\n}\nclass PersonalDetails extends BirthDetails{\n}\n</code></pre>\n<p>Or if there are too many types to define, you can simply convert the JSON string to a JSON object for use\nlike this:</p>\n<pre><code>String jsonStr = &quot;{\\n&quot; +\n            &quot;  \\&quot;addressDetails\\&quot;: {\\n&quot; +\n            &quot;    \\&quot;homeAddresses\\&quot;: [\\n&quot; +\n            &quot;      {\\n&quot; +\n            &quot;        \\&quot;houseNo\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n            &quot;        \\&quot;city\\&quot;: \\&quot;2\\&quot;\\n&quot; +\n            &quot;      }\\n&quot; +\n            &quot;    ],\\n&quot; +\n            &quot;    \\&quot;currentAddress\\&quot;: {\\n&quot; +\n            &quot;      \\&quot;houseNo\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n            &quot;      \\&quot;city\\&quot;: \\&quot;2\\&quot;\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;  },\\n&quot; +\n            &quot;  \\&quot;personalDetails\\&quot;: {\\n&quot; +\n            &quot;    \\&quot;birthDetails\\&quot;: {\\n&quot; +\n            &quot;      \\&quot;birthPlace\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n            &quot;      \\&quot;birthMonth\\&quot;: \\&quot;2\\&quot;\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;  },\\n&quot; +\n            &quot;  \\&quot;confidentialDetails\\&quot;: {\\n&quot; +\n            &quot;    \\&quot;birthDetails\\&quot;: {\\n&quot; +\n            &quot;      \\&quot;birthPlace\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n            &quot;      \\&quot;birthMonth\\&quot;: \\&quot;2\\&quot;\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;  },\\n&quot; +\n            &quot;  \\&quot;bankingDetails\\&quot;: {\\n&quot; +\n            &quot;    \\&quot;bankName\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n            &quot;    \\&quot;bankAccountNo\\&quot;: 2\\n&quot; +\n            &quot;  }\\n&quot; +\n            &quot;}&quot;;\n    JSONObject jsonObject = JSONUtil.parseObj(jsonStr);\n    JSONObject addressDetails = jsonObject.get(&quot;addressDetails&quot;, JSONObject.class);\n    JSONArray homeAddresses = addressDetails.get(&quot;homeAddresses&quot;, JSONArray.class);\n    JSONObject object = homeAddresses.get(0, JSONObject.class);\n    System.out.println(object.get(&quot;houseNo&quot;));\n    System.out.println(object.get(&quot;city&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680145961,"creation_date":1680145120,"answer_id":75883759,"question_id":75882543,"body_markdown":"It is possible to do that with Jackson library. Just read the JSON and remove data with `addressDetails` and `bankingDetails` keys.\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\nimport java.io.IOException;\r\n\r\npublic class JavaApplication {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n        ObjectNode jsonData = (ObjectNode) mapper.readTree(&quot;{\\&quot;addressDetails\\&quot;:{\\&quot;homeAddresses\\&quot;:[{\\&quot;houseNo\\&quot;:\\&quot;1\\&quot;,\\&quot;city\\&quot;:\\&quot;2\\&quot;}],\\&quot;currentAddress\\&quot;:{\\&quot;houseNo\\&quot;:\\&quot;1\\&quot;,\\&quot;city\\&quot;:\\&quot;2\\&quot;}},\\&quot;personalDetails\\&quot;:{\\&quot;birthDetails\\&quot;:{\\&quot;birthPlace\\&quot;:\\&quot;1\\&quot;,\\&quot;birthMonth\\&quot;:\\&quot;2\\&quot;}},\\&quot;confidentialDetails\\&quot;:{\\&quot;birthDetails\\&quot;:{\\&quot;birthPlace\\&quot;:\\&quot;1\\&quot;,\\&quot;birthMonth\\&quot;:\\&quot;2\\&quot;}},\\&quot;bankingDetails\\&quot;:{\\&quot;bankName\\&quot;:\\&quot;1\\&quot;,\\&quot;bankAccountNo\\&quot;:2}}&quot;);\r\n        jsonData.remove(&quot;addressDetails&quot;);\r\n        jsonData.remove(&quot;bankingDetails&quot;);\r\n        System.out.println(mapper.writeValueAsString(jsonData));\r\n    }\r\n}\r\n```\r\nThe output will be:\r\n```json\r\n{\r\n  &quot;personalDetails&quot; : {\r\n    &quot;birthDetails&quot; : {\r\n      &quot;birthPlace&quot; : &quot;1&quot;,\r\n      &quot;birthMonth&quot; : &quot;2&quot;\r\n    }\r\n  },\r\n  &quot;confidentialDetails&quot; : {\r\n    &quot;birthDetails&quot; : {\r\n      &quot;birthPlace&quot; : &quot;1&quot;,\r\n      &quot;birthMonth&quot; : &quot;2&quot;\r\n    }\r\n  }\r\n}\r\n```","title":"Deserialise a dynamic JSON into a java object","body":"<p>It is possible to do that with Jackson library. Just read the JSON and remove data with <code>addressDetails</code> and <code>bankingDetails</code> keys.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport java.io.IOException;\n\npublic class JavaApplication {\n\n    public static void main(String[] args) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n        ObjectNode jsonData = (ObjectNode) mapper.readTree(&quot;{\\&quot;addressDetails\\&quot;:{\\&quot;homeAddresses\\&quot;:[{\\&quot;houseNo\\&quot;:\\&quot;1\\&quot;,\\&quot;city\\&quot;:\\&quot;2\\&quot;}],\\&quot;currentAddress\\&quot;:{\\&quot;houseNo\\&quot;:\\&quot;1\\&quot;,\\&quot;city\\&quot;:\\&quot;2\\&quot;}},\\&quot;personalDetails\\&quot;:{\\&quot;birthDetails\\&quot;:{\\&quot;birthPlace\\&quot;:\\&quot;1\\&quot;,\\&quot;birthMonth\\&quot;:\\&quot;2\\&quot;}},\\&quot;confidentialDetails\\&quot;:{\\&quot;birthDetails\\&quot;:{\\&quot;birthPlace\\&quot;:\\&quot;1\\&quot;,\\&quot;birthMonth\\&quot;:\\&quot;2\\&quot;}},\\&quot;bankingDetails\\&quot;:{\\&quot;bankName\\&quot;:\\&quot;1\\&quot;,\\&quot;bankAccountNo\\&quot;:2}}&quot;);\n        jsonData.remove(&quot;addressDetails&quot;);\n        jsonData.remove(&quot;bankingDetails&quot;);\n        System.out.println(mapper.writeValueAsString(jsonData));\n    }\n}\n</code></pre>\n<p>The output will be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;personalDetails&quot; : {\n    &quot;birthDetails&quot; : {\n      &quot;birthPlace&quot; : &quot;1&quot;,\n      &quot;birthMonth&quot; : &quot;2&quot;\n    }\n  },\n  &quot;confidentialDetails&quot; : {\n    &quot;birthDetails&quot; : {\n      &quot;birthPlace&quot; : &quot;1&quot;,\n      &quot;birthMonth&quot; : &quot;2&quot;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12000414,"reputation":27,"user_id":8780539,"display_name":"ASHOK KUMAR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680187657,"creation_date":1680127442,"question_id":75882543,"body_markdown":"Is it possible to somehow convert a dynamic JSON object (No fixed schema) into a Java object?\r\n\r\nFor example, for first time, I can get the following JSON object at runtime:\r\n\r\n```json\r\n{\r\n  &quot;addressDetails&quot;: {\r\n    &quot;homeAddresses&quot;: [\r\n      {\r\n        &quot;houseNo&quot;: &quot;1&quot;,\r\n        &quot;city&quot;: &quot;2&quot;\r\n      }\r\n    ],\r\n    &quot;currentAddress&quot;: {\r\n      &quot;houseNo&quot;: &quot;1&quot;,\r\n      &quot;city&quot;: &quot;2&quot;\r\n    }\r\n  },\r\n  &quot;personalDetails&quot;: {\r\n    &quot;birthDetails&quot;: {\r\n      &quot;birthPlace&quot;: &quot;1&quot;,\r\n      &quot;birthMonth&quot;: &quot;2&quot;\r\n    }\r\n  },\r\n  &quot;confidentialDetails&quot;: {\r\n    &quot;birthDetails&quot;: {\r\n      &quot;birthPlace&quot;: &quot;1&quot;,\r\n      &quot;birthMonth&quot;: &quot;2&quot;\r\n    }\r\n  },\r\n  &quot;bankingDetails&quot;: {\r\n    &quot;bankName&quot;: &quot;1&quot;,\r\n    &quot;bankAccountNo&quot;: 2\r\n  }\r\n}\r\n```\r\n\r\nThe next time, maybe with something like this:\r\n\r\n```json\r\n{\r\n  &quot;confidentialDetails&quot;: {\r\n    &quot;birthDetails&quot;: {\r\n      &quot;birthPlace&quot;: &quot;1&quot;,\r\n      &quot;birthMonth&quot;: &quot;2&quot;\r\n    }\r\n  },\r\n  &quot;personalDetails&quot;: {\r\n    &quot;birthDetails&quot;: {\r\n      &quot;birthPlace&quot;: &quot;1&quot;,\r\n      &quot;birthMonth&quot;: &quot;2&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHow can I handle all these variations? Is it possible with Jackson/Gson or some other library?\r\n\r\nI expect to find a solution which is very generic and can handle the different variations in JSON object gracefully.","title":"Deserialise a dynamic JSON into a java object","body":"<p>Is it possible to somehow convert a dynamic JSON object (No fixed schema) into a Java object?</p>\n<p>For example, for first time, I can get the following JSON object at runtime:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;addressDetails&quot;: {\n    &quot;homeAddresses&quot;: [\n      {\n        &quot;houseNo&quot;: &quot;1&quot;,\n        &quot;city&quot;: &quot;2&quot;\n      }\n    ],\n    &quot;currentAddress&quot;: {\n      &quot;houseNo&quot;: &quot;1&quot;,\n      &quot;city&quot;: &quot;2&quot;\n    }\n  },\n  &quot;personalDetails&quot;: {\n    &quot;birthDetails&quot;: {\n      &quot;birthPlace&quot;: &quot;1&quot;,\n      &quot;birthMonth&quot;: &quot;2&quot;\n    }\n  },\n  &quot;confidentialDetails&quot;: {\n    &quot;birthDetails&quot;: {\n      &quot;birthPlace&quot;: &quot;1&quot;,\n      &quot;birthMonth&quot;: &quot;2&quot;\n    }\n  },\n  &quot;bankingDetails&quot;: {\n    &quot;bankName&quot;: &quot;1&quot;,\n    &quot;bankAccountNo&quot;: 2\n  }\n}\n</code></pre>\n<p>The next time, maybe with something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;confidentialDetails&quot;: {\n    &quot;birthDetails&quot;: {\n      &quot;birthPlace&quot;: &quot;1&quot;,\n      &quot;birthMonth&quot;: &quot;2&quot;\n    }\n  },\n  &quot;personalDetails&quot;: {\n    &quot;birthDetails&quot;: {\n      &quot;birthPlace&quot;: &quot;1&quot;,\n      &quot;birthMonth&quot;: &quot;2&quot;\n    }\n  }\n}\n</code></pre>\n<p>How can I handle all these variations? Is it possible with Jackson/Gson or some other library?</p>\n<p>I expect to find a solution which is very generic and can handle the different variations in JSON object gracefully.</p>\n"},{"tags":["java","kotlin","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":5213950,"reputation":96,"user_id":4169495,"display_name":"marhewa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680187480,"creation_date":1680187480,"answer_id":75889671,"question_id":75725266,"body_markdown":"You can modify your class to accept `BadPingIdentifier` in the constructor, like this:\r\n\r\n```kotlin\r\nclass BadPingsMarker(private val pingIdentifier: BadPingIdentifier) : Transformer&lt;ID, Ping, KeyValue&lt;ID, Ping&gt;&gt; {\r\n    \r\n}\r\n```\r\n\r\nThen remove `badPingIdentifier` parameter from `init` method and remove `val pingIdentifier: BadPingIdentifier` from class field declarations. Once you do that, your commented out code in `identifyBadPings` will work.\r\n","title":"How to pass parameter to a kafka processor","body":"<p>You can modify your class to accept <code>BadPingIdentifier</code> in the constructor, like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class BadPingsMarker(private val pingIdentifier: BadPingIdentifier) : Transformer&lt;ID, Ping, KeyValue&lt;ID, Ping&gt;&gt; {\n    \n}\n</code></pre>\n<p>Then remove <code>badPingIdentifier</code> parameter from <code>init</code> method and remove <code>val pingIdentifier: BadPingIdentifier</code> from class field declarations. Once you do that, your commented out code in <code>identifyBadPings</code> will work.</p>\n"}],"owner":{"account_id":8199410,"reputation":2119,"user_id":6171195,"accept_rate":96,"display_name":"Christos Hadjinikolis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75889671,"answer_count":1,"score":0,"last_activity_date":1680187480,"creation_date":1678729680,"question_id":75725266,"body_markdown":"Is there a way to pass a parameter to a Kafka processor? \r\n\r\nE.g. Suppose I have something like: \r\n\r\n```kotlin\r\n    private fun identifyBadPings(\r\npingStream: KStream&lt;ID, Ping&gt;,\r\n        mySignletonBadPingIdentifier: BadPingIdentifier\r\n    ): KStream&lt;ID, Ping&gt; {\r\n\r\n        return pingStream.transform(TransformerSupplier { BadPingsMarker() }, MY_STATE_STORE)\r\n        // Could I somehow pass `mySignletonBadPingIdentifier` here? Like: \r\n        // return pingStream.transform(TransformerSupplier { BadPingsMarker(mySignletonBadPingIdentifier) }, MY_STATE_STORE)\r\n    }\r\n```\r\nwhere my transformer is something like this: \r\n\r\n```kotlin\r\nclass BadPingsMarker : Transformer&lt;ID, Ping, KeyValue&lt;ID, Ping&gt;&gt; {\r\n    var state: KeyValueStore&lt;String, Tuple&lt;String, String&gt;&gt;? = null\r\n    val logger: Logger = LogManager.getLogger(BadPingsMarker::class.java)!!\r\n    val pingIdentifier: BadPingIdentifier\r\n\r\n    override fun init(context: ProcessorContext, badPingIdentifier: BadPingIdentifier) {\r\n        state = context.getStateStore(MY_STATE_STORE) as KeyValueStore&lt;String, Tuple&lt;String, String&gt;&gt;\r\n        pingIdentifier = badPingIdentifier\r\n    }\r\n\r\n    override fun transform(key: ID, value: Ping): KeyValue&lt;ID, Ping&gt; {\r\n        val somevalue = value.somevalue\r\n        val state_checker = state!![MY_STATE_STORE_A]\r\n\r\n        // .. IMPLEMENT MARKING LOGIC HERE USING pingIdentifier\r\n        return KeyValue(key, value)\r\n    }\r\n\r\n    override fun close() {}\r\n}\r\n```","title":"How to pass parameter to a kafka processor","body":"<p>Is there a way to pass a parameter to a Kafka processor?</p>\n<p>E.g. Suppose I have something like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    private fun identifyBadPings(\npingStream: KStream&lt;ID, Ping&gt;,\n        mySignletonBadPingIdentifier: BadPingIdentifier\n    ): KStream&lt;ID, Ping&gt; {\n\n        return pingStream.transform(TransformerSupplier { BadPingsMarker() }, MY_STATE_STORE)\n        // Could I somehow pass `mySignletonBadPingIdentifier` here? Like: \n        // return pingStream.transform(TransformerSupplier { BadPingsMarker(mySignletonBadPingIdentifier) }, MY_STATE_STORE)\n    }\n</code></pre>\n<p>where my transformer is something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class BadPingsMarker : Transformer&lt;ID, Ping, KeyValue&lt;ID, Ping&gt;&gt; {\n    var state: KeyValueStore&lt;String, Tuple&lt;String, String&gt;&gt;? = null\n    val logger: Logger = LogManager.getLogger(BadPingsMarker::class.java)!!\n    val pingIdentifier: BadPingIdentifier\n\n    override fun init(context: ProcessorContext, badPingIdentifier: BadPingIdentifier) {\n        state = context.getStateStore(MY_STATE_STORE) as KeyValueStore&lt;String, Tuple&lt;String, String&gt;&gt;\n        pingIdentifier = badPingIdentifier\n    }\n\n    override fun transform(key: ID, value: Ping): KeyValue&lt;ID, Ping&gt; {\n        val somevalue = value.somevalue\n        val state_checker = state!![MY_STATE_STORE_A]\n\n        // .. IMPLEMENT MARKING LOGIC HERE USING pingIdentifier\n        return KeyValue(key, value)\n    }\n\n    override fun close() {}\n}\n</code></pre>\n"},{"tags":["java","spring","post","webhooks","adyen"],"comments":[{"owner":{"account_id":12495309,"reputation":11912,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1680187895,"post_id":75889629,"comment_id":133858883,"body_markdown":"Why do you consume `MediaType.APPLICATION_FORM_URLENCODED_VALUE`? The webhook payload is JSON","body":"Why do you consume <code>MediaType.APPLICATION_FORM_URLENCODED_VALUE</code>? The webhook payload is JSON"},{"owner":{"account_id":28169595,"reputation":1,"user_id":21528339,"display_name":"Matteo Sperti"},"score":0,"creation_date":1680250126,"post_id":75889629,"comment_id":133869579,"body_markdown":"because i got error &quot;Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported when they call me","body":"because i got error &quot;Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported when they call me"},{"owner":{"account_id":12495309,"reputation":11912,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1680250663,"post_id":75889629,"comment_id":133869693,"body_markdown":"try to remove `consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})` and add `@RequestBody` to the signature in your second example","body":"try to remove <code>consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})</code> and add <code>@RequestBody</code> to the signature in your second example"},{"owner":{"account_id":28169595,"reputation":1,"user_id":21528339,"display_name":"Matteo Sperti"},"score":0,"creation_date":1680259770,"post_id":75889629,"comment_id":133871883,"body_markdown":"it doesn&#39;t work","body":"it doesn&#39;t work"},{"owner":{"account_id":12495309,"reputation":11912,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1680264508,"post_id":75889629,"comment_id":133872935,"body_markdown":"Same error? Which version of the Java library are you using? You can also take a look at the webhook in the Java Sample app https://github.com/adyen-examples/adyen-java-spring-online-payments/blob/main/checkout-example/src/main/java/com/adyen/checkout/api/WebhookResource.java","body":"Same error? Which version of the Java library are you using? You can also take a look at the webhook in the Java Sample app <a href=\"https://github.com/adyen-examples/adyen-java-spring-online-payments/blob/main/checkout-example/src/main/java/com/adyen/checkout/api/WebhookResource.java\" rel=\"nofollow noreferrer\">github.com/adyen-examples/adyen-java-spring-online-payments/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":28169595,"reputation":1,"user_id":21528339,"display_name":"Matteo Sperti"},"score":0,"creation_date":1680267829,"post_id":75889629,"comment_id":133873829,"body_markdown":"i tried same of that example and now i have a different error: Could not read JSON: Problem deserializing &#39;setterless&#39; property &#39;notificationItems&#39;: get method returned null\\n at [Source: (org.apache.catalina.connector.CoyoteInputStream); line: 3, column: 24] (through reference chain: com.adyen.model.notification.NotificationRequest[\\&quot;notificationItems\\&quot;]); nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Problem deserializing &#39;setterless&#39; property &#39;notificationItems&#39;: get method returned null\\n at [Source: (org.apache.catalina.connector.CoyoteInputStream","body":"i tried same of that example and now i have a different error: Could not read JSON: Problem deserializing &#39;setterless&#39; property &#39;notificationItems&#39;: get method returned null\\n at [Source: (org.apache.catalina.connector.CoyoteInputStream); line: 3, column: 24] (through reference chain: com.adyen.model.notification.NotificationRequest[\\&quot;notificat&zwnj;&#8203;ionItems\\&quot;]); nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionExceptio&zwnj;&#8203;n: Problem deserializing &#39;setterless&#39; property &#39;notificationItems&#39;: get method returned null\\n at [Source: (org.apache.catalina.connector.CoyoteInputStream"},{"owner":{"account_id":28169595,"reputation":1,"user_id":21528339,"display_name":"Matteo Sperti"},"score":0,"creation_date":1680269049,"post_id":75889629,"comment_id":133874139,"body_markdown":"same error again&quot;Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported","body":"same error again&quot;Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported"},{"owner":{"account_id":12495309,"reputation":11912,"user_id":9095551,"display_name":"Beppe C"},"score":1,"creation_date":1680271301,"post_id":75889629,"comment_id":133874757,"body_markdown":"ok, I think you use Adyen Java v19.0.0 (just released) which is not compatible with Jackson (used by Spring). Use v18.1.3 instead","body":"ok, I think you use Adyen Java v19.0.0 (just released) which is not compatible with Jackson (used by Spring). Use v18.1.3 instead"}],"owner":{"account_id":28169595,"reputation":1,"user_id":21528339,"display_name":"Matteo Sperti"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680187228,"creation_date":1680187228,"question_id":75889629,"body_markdown":"Hello i am trying to implements adyen webhook, but i recived error because i can&#39;t mapping they&#39;re request into an object.\r\n\r\n\r\nHow can i recive a call &#39;application/x-www-form-urlencoded and mapping into an object with java spring?\r\n\r\n\r\n\r\n\r\n```\r\nRequestMapping(value = &quot;/webhooks/notifications&quot;, method = RequestMethod.POST, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n\tpublic Response webhooks(Map&lt;String, Object&gt;  notificationRequest) throws Exception{\r\n\t\ttry {\r\n\t\t\ttry {\r\n\t\t\t//notificationRequest.get(notificationRequest);\r\n\t\t\t        \r\n\t\t\t        ObjectMapper mapper = new ObjectMapper();\r\n\t\t\t        NotificationRequestDTO notification = mapper.convertValue(notificationRequest, NotificationRequestDTO.class);\r\n\t\t\t        adyenService.webhooks(notification);\r\n\t\t\t\t \r\n\t\t\t\treturn Response.ok(&quot;accepted&quot;).build();\r\n\t\t\t} catch (Exception ex) {\r\n\t\t\t\tlog.error(&quot;Errore durante la richiesta di webhooks  adyen&quot;, ex);\r\n\t\t\t\treturn Response.serverError(ex.getMessage()).build();\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.error(&quot;Error purchase: {}&quot;, new Object[] { ex.getMessage() });\r\n\t\t\treturn Response.serverError(ex.getMessage()).build();\r\n\t\t}\r\n\t}```\r\n\r\ni have tried multiple solution with @RequestBody or @RequestParam or without annotaion, but bothing works, i can recive data only using Map but then objectmapper failed to transform into the object we need.\r\n\r\nanother example is \r\n\r\n```\r\n\t@RequestMapping(value = &quot;/webhooks/notifications&quot;, method = RequestMethod.POST, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n\tpublic Response webhooks( NotificationRequestDTO notificationRequest) throws Exception{\r\n\t\ttry {\r\n\t\t\ttry {\r\n\t\t\t//notificationRequest.get(notificationRequest);\r\n\t\t\t        \r\n\t\t\t        ObjectMapper mapper = new ObjectMapper();\r\n\t\t\t        NotificationRequestDTO notification = mapper.convertValue(notificationRequest, NotificationRequestDTO.class);\r\n\t\t\t        adyenService.webhooks(notification);\r\n\t\t\t\t \r\n\t\t\t\treturn Response.ok(&quot;accepted&quot;).build();\r\n\t\t\t} catch (Exception ex) {\r\n\t\t\t\tlog.error(&quot;Errore durante la richiesta di webhooks  adyen&quot;, ex);\r\n\t\t\t\treturn Response.serverError(ex.getMessage()).build();\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.error(&quot;Error purchase: {}&quot;, new Object[] { ex.getMessage() });\r\n\t\t\treturn Response.serverError(ex.getMessage()).build();\r\n\t\t}\r\n\t}\r\n\t\r\n```\r\n\r\nthe error is {&quot;code&quot;:&quot;500&quot;,&quot;entity&quot;:&quot;Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported&quot;}","title":"Error integreting webhook adyen API in java spring backend, Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported","body":"<p>Hello i am trying to implements adyen webhook, but i recived error because i can't mapping they're request into an object.</p>\n<p>How can i recive a call 'application/x-www-form-urlencoded and mapping into an object with java spring?</p>\n<pre><code>RequestMapping(value = &quot;/webhooks/notifications&quot;, method = RequestMethod.POST, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\n    public Response webhooks(Map&lt;String, Object&gt;  notificationRequest) throws Exception{\n        try {\n            try {\n            //notificationRequest.get(notificationRequest);\n                    \n                    ObjectMapper mapper = new ObjectMapper();\n                    NotificationRequestDTO notification = mapper.convertValue(notificationRequest, NotificationRequestDTO.class);\n                    adyenService.webhooks(notification);\n                 \n                return Response.ok(&quot;accepted&quot;).build();\n            } catch (Exception ex) {\n                log.error(&quot;Errore durante la richiesta di webhooks  adyen&quot;, ex);\n                return Response.serverError(ex.getMessage()).build();\n            }\n        } catch (Exception ex) {\n            log.error(&quot;Error purchase: {}&quot;, new Object[] { ex.getMessage() });\n            return Response.serverError(ex.getMessage()).build();\n        }\n    }```\n\ni have tried multiple solution with @RequestBody or @RequestParam or without annotaion, but bothing works, i can recive data only using Map but then objectmapper failed to transform into the object we need.\n\nanother example is \n\n</code></pre>\n<pre><code>@RequestMapping(value = &quot;/webhooks/notifications&quot;, method = RequestMethod.POST, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\npublic Response webhooks( NotificationRequestDTO notificationRequest) throws Exception{\n    try {\n        try {\n        //notificationRequest.get(notificationRequest);\n                \n                ObjectMapper mapper = new ObjectMapper();\n                NotificationRequestDTO notification = mapper.convertValue(notificationRequest, NotificationRequestDTO.class);\n                adyenService.webhooks(notification);\n             \n            return Response.ok(&quot;accepted&quot;).build();\n        } catch (Exception ex) {\n            log.error(&quot;Errore durante la richiesta di webhooks  adyen&quot;, ex);\n            return Response.serverError(ex.getMessage()).build();\n        }\n    } catch (Exception ex) {\n        log.error(&quot;Error purchase: {}&quot;, new Object[] { ex.getMessage() });\n        return Response.serverError(ex.getMessage()).build();\n    }\n}\n</code></pre>\n<pre><code>\nthe error is {&quot;code&quot;:&quot;500&quot;,&quot;entity&quot;:&quot;Content type 'application/x-www-form-urlencoded;charset=UTF-8' not supported&quot;}\n</code></pre>\n"},{"tags":["java","java-11","http2"],"owner":{"account_id":1346868,"reputation":2157,"user_id":1287439,"accept_rate":84,"display_name":"sunjinbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680187063,"creation_date":1680187063,"question_id":75889588,"body_markdown":"JDK 11 redesigned HTTP API for supporting HTTP/2 protocol and other features, now we can use HttpClient API to sending Http/2 request. As far as I know HTTP/2 support Multiplexing tech, meanings that sending multiple HTTP requests between the client and server allows the usage of a single connection channel per client. So if my program create 2 HttpClient instances and each send a HTTP request that they all are the same HTTP host, is there have only one real connection channel between client and server?","title":"How many connection channel when client sending multiple and same HTTP request to server in HTTP/2?","body":"<p>JDK 11 redesigned HTTP API for supporting HTTP/2 protocol and other features, now we can use HttpClient API to sending Http/2 request. As far as I know HTTP/2 support Multiplexing tech, meanings that sending multiple HTTP requests between the client and server allows the usage of a single connection channel per client. So if my program create 2 HttpClient instances and each send a HTTP request that they all are the same HTTP host, is there have only one real connection channel between client and server?</p>\n"},{"tags":["java","android","sql","database","sqlite"],"comments":[{"owner":{"account_id":7290156,"reputation":525,"user_id":5556887,"display_name":"bouletta"},"score":0,"creation_date":1489436936,"post_id":42771654,"comment_id":72661066,"body_markdown":"You are probably going to want a db.commit() before closing or whatever the equivalent is for java/android","body":"You are probably going to want a db.commit() before closing or whatever the equivalent is for java/android"},{"owner":{"account_id":9928136,"reputation":260,"user_id":7349012,"accept_rate":45,"display_name":"dranreb dino"},"score":0,"creation_date":1489464466,"post_id":42771654,"comment_id":72669862,"body_markdown":"have you checked your xml? double check the name of your button or editTexts on your XML file.","body":"have you checked your xml? double check the name of your button or editTexts on your XML file."},{"owner":{"display_name":"user7624275"},"score":0,"creation_date":1489464745,"post_id":42771654,"comment_id":72669939,"body_markdown":"@dranrebdino  i did. Data really just isnt inserted. also, the table is not created. I dont understand why. Im thinking maybe im not connected to the cloud database but it isnt. Its been 14 hours working on this problem","body":"@dranrebdino  i did. Data really just isnt inserted. also, the table is not created. I dont understand why. Im thinking maybe im not connected to the cloud database but it isnt. Its been 14 hours working on this problem"}],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680186853,"creation_date":1680186853,"answer_id":75889549,"question_id":42771654,"body_markdown":"The insertion of data into `database` is working fine.\r\n\r\nThe issue is because it&#39;s not specified how the data is gonna be displayed or received from the `database`. You need to query `database` to get the inserted data.\r\n\r\n---\r\n\r\nUse query method of `SQLiteDatabase` class. This worked for me:\r\n\r\n    Cursor cursor = db.query(DBAdapter.DATABASE_TABLE, null, null, null, null, null, null);\r\n    \r\n    if (cursor.moveToFirst()) {\r\n        do {\r\n            // retrieve data from cursor\r\n            String fname = cursor.getString(cursor.getColumnIndex(DBAdapter.KEY_FNAME));\r\n            String lname = cursor.getString(cursor.getColumnIndex(DBAdapter.KEY_LNAME));\r\n            // ...\r\n            \r\n            // do something with the retrieved data\r\n        } while (cursor.moveToNext());\r\n    }\r\n\r\nThe query is called on `db` obj and returns the `Cursor`. It contains the data.\r\n\r\nThe `moveToFirst` is called the `Cursor` obj.\r\n\r\nThe `do-while` loop is used to iterate over all rows in the obj, `getString` receiving the data from the column.\r\n\r\n\r\nCustomise the query to retrieve specific data using `selection`, `selectionArgs`, `groupBy`, `having`, `orderBy` but also limit parameters.\r\n\r\n---\r\n\r\nIf the errors still persist when you&#39;re inserting data to the `database`, add error handling to the insertion code to check if data is corectly inserted or if there are any exceptions during the process.\r\n\r\n##### This will help you identify any issue with `database` insertion.","title":"Why can&#39;t i see the inserted data from user input?","body":"<p>The insertion of data into <code>database</code> is working fine.</p>\n<p>The issue is because it's not specified how the data is gonna be displayed or received from the <code>database</code>. You need to query <code>database</code> to get the inserted data.</p>\n<hr />\n<p>Use query method of <code>SQLiteDatabase</code> class. This worked for me:</p>\n<pre><code>Cursor cursor = db.query(DBAdapter.DATABASE_TABLE, null, null, null, null, null, null);\n\nif (cursor.moveToFirst()) {\n    do {\n        // retrieve data from cursor\n        String fname = cursor.getString(cursor.getColumnIndex(DBAdapter.KEY_FNAME));\n        String lname = cursor.getString(cursor.getColumnIndex(DBAdapter.KEY_LNAME));\n        // ...\n        \n        // do something with the retrieved data\n    } while (cursor.moveToNext());\n}\n</code></pre>\n<p>The query is called on <code>db</code> obj and returns the <code>Cursor</code>. It contains the data.</p>\n<p>The <code>moveToFirst</code> is called the <code>Cursor</code> obj.</p>\n<p>The <code>do-while</code> loop is used to iterate over all rows in the obj, <code>getString</code> receiving the data from the column.</p>\n<p>Customise the query to retrieve specific data using <code>selection</code>, <code>selectionArgs</code>, <code>groupBy</code>, <code>having</code>, <code>orderBy</code> but also limit parameters.</p>\n<hr />\n<p>If the errors still persist when you're inserting data to the <code>database</code>, add error handling to the insertion code to check if data is corectly inserted or if there are any exceptions during the process.</p>\n<h5>This will help you identify any issue with <code>database</code> insertion.</h5>\n"}],"owner":{"display_name":"user7624275"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680186853,"creation_date":1489432401,"question_id":42771654,"body_markdown":"When the user presses Register button, the details he input will be saved into the database but it doesnt show anything.\r\n\r\nIs there something wrong with my code? Why can&#39;t i see the data i inserted into the database? It doesnt crashes or something.\r\n\r\nDBAdapter\r\n\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.SQLException;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    import android.util.Log;\r\n    \r\n    public class DBAdapter\r\n    {\r\n        public static final String KEY_ROWID = &quot;_id&quot;;\r\n        public static final String KEY_FNAME = &quot;fname&quot;;\r\n        public static final String KEY_LNAME = &quot;lname&quot;;\r\n        public static final String KEY_MNAME = &quot;mname&quot;;\r\n        public static final String KEY_CONTACTNUM = &quot;contactNum&quot;;\r\n        public static final String KEY_LICENSE = &quot;license&quot;;\r\n        public static final String KEY_USER = &quot;username&quot;;\r\n        public static final String KEY_PASS = &quot;password&quot;;\r\n        private static final String TAG = &quot;DBAdapter&quot;;\r\n    \r\n        private static final String DATABASE_NAME = &quot;sampleForFinals&quot;;\r\n        private static final String DATABASE_TABLE = &quot;drivers&quot;;\r\n        private static final int DATABASE_VERSION = 1;\r\n    \r\n        private static final String DATABASE_CREATE =\r\n                &quot;create table drivers (_id integer primary key autoincrement, &quot;\r\n                        + &quot;fname text not null, lname text not null, &quot;\r\n                        + &quot;mname text not null, contactNum text not null,&quot; +\r\n                        &quot;license text not null, username text not null, password text not null);&quot;;\r\n    \r\n        private final Context context;\r\n    \r\n        private DatabaseHelper DBHelper;\r\n        private SQLiteDatabase db;\r\n    \r\n        public DBAdapter(Context ctx)\r\n        {\r\n            this.context = ctx;\r\n            DBHelper = new DatabaseHelper(context);\r\n        }\r\n    \r\n        private static class DatabaseHelper extends SQLiteOpenHelper\r\n        {\r\n            DatabaseHelper(Context context)\r\n            {\r\n                super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            }\r\n    \r\n            @Override\r\n            public void onCreate(SQLiteDatabase db)\r\n            {\r\n                db.execSQL(DATABASE_CREATE);\r\n            }\r\n    \r\n            @Override\r\n            public void onUpgrade(SQLiteDatabase db, int oldVersion,\r\n                                  int newVersion)\r\n            {\r\n                Log.w(TAG, &quot;Upgrading database from version &quot; + oldVersion\r\n                        + &quot; to &quot;\r\n                        + newVersion + &quot;, which will destroy all old data&quot;);\r\n                db.execSQL(&quot;DROP TABLE IF EXISTS drivers&quot;);\r\n                onCreate(db);\r\n            }\r\n        }\r\n    \r\n        //---opens the database---\r\n        public DBAdapter open() throws SQLException\r\n        {\r\n            db = DBHelper.getWritableDatabase();\r\n            return this;\r\n        }\r\n    \r\n        //---closes the database---\r\n        public void close()\r\n        {\r\n            DBHelper.close();\r\n        }\r\n    \r\n        //---insert a driver&#39;s information into the database---\r\n        public long insertDriver(String fname, String lname, String mname, String contactNum, String license, String user, String pass)\r\n        {\r\n            ContentValues initialValues = new ContentValues();\r\n            initialValues.put(KEY_FNAME, fname);\r\n            initialValues.put(KEY_LNAME, lname);\r\n            initialValues.put(KEY_MNAME, mname);\r\n            initialValues.put(KEY_CONTACTNUM, contactNum);\r\n            initialValues.put(KEY_LICENSE, license);\r\n            initialValues.put(KEY_USER, user);\r\n            initialValues.put(KEY_PASS, pass);\r\n            return db.insert(DATABASE_TABLE, null, initialValues);\r\n        }\r\n    }\r\n\r\n\r\nRegister\r\n\r\n    import android.app.Activity;\r\n    import android.content.ContentValues;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AlertDialog;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    \r\n    import com.ftlibrary.Fit;\r\n    \r\n    public class Register extends Activity {\r\n    \r\n        EditText firstname,lastname, middlename, contactNum, license, username, password;\r\n        Button register;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_register);\r\n    \r\n            Fit.FitSetClientKey(&quot;SZIERAINE1527&quot;);\r\n            Fit.FitSetAppName(&quot;sampleForFinals&quot;);\r\n    \r\n            firstname = (EditText) findViewById(R.id.et_firstname);\r\n            lastname = (EditText) findViewById(R.id.et_lastname);\r\n            middlename = (EditText) findViewById(R.id.et_middlename);\r\n            contactNum = (EditText) findViewById(R.id.et_contactNumber);\r\n            license = (EditText) findViewById(R.id.et_license);\r\n            username = (EditText) findViewById(R.id.et_username);\r\n            password = (EditText) findViewById(R.id.et_password);\r\n            register = (Button) findViewById(R.id.btn_register);\r\n    \r\n            register.setOnClickListener(new View.OnClickListener()\r\n            {\r\n                @Override\r\n                public void onClick(View v)\r\n                {\r\n                        DBAdapter    db = new DBAdapter(Register.this);\r\n    \r\n                        String fname = firstname.getText().toString();\r\n                        String lname = lastname.getText().toString();\r\n                        String mname = middlename.getText().toString();\r\n                        String contact = contactNum.getText().toString();\r\n                        String plate = license.getText().toString();\r\n                        String user = username.getText().toString();\r\n                        String pass = password.getText().toString();\r\n    \r\n                        db.open();\r\n    \r\n                        long id = db.insertDriver(fname, lname, mname, contact, plate, user, pass);\r\n    \r\n                        db.close();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nWhy can&#39;t i see any record in the database? TT TT","title":"Why can&#39;t i see the inserted data from user input?","body":"<p>When the user presses Register button, the details he input will be saved into the database but it doesnt show anything.</p>\n\n<p>Is there something wrong with my code? Why can't i see the data i inserted into the database? It doesnt crashes or something.</p>\n\n<p>DBAdapter</p>\n\n<pre><code>import android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\npublic class DBAdapter\n{\n    public static final String KEY_ROWID = \"_id\";\n    public static final String KEY_FNAME = \"fname\";\n    public static final String KEY_LNAME = \"lname\";\n    public static final String KEY_MNAME = \"mname\";\n    public static final String KEY_CONTACTNUM = \"contactNum\";\n    public static final String KEY_LICENSE = \"license\";\n    public static final String KEY_USER = \"username\";\n    public static final String KEY_PASS = \"password\";\n    private static final String TAG = \"DBAdapter\";\n\n    private static final String DATABASE_NAME = \"sampleForFinals\";\n    private static final String DATABASE_TABLE = \"drivers\";\n    private static final int DATABASE_VERSION = 1;\n\n    private static final String DATABASE_CREATE =\n            \"create table drivers (_id integer primary key autoincrement, \"\n                    + \"fname text not null, lname text not null, \"\n                    + \"mname text not null, contactNum text not null,\" +\n                    \"license text not null, username text not null, password text not null);\";\n\n    private final Context context;\n\n    private DatabaseHelper DBHelper;\n    private SQLiteDatabase db;\n\n    public DBAdapter(Context ctx)\n    {\n        this.context = ctx;\n        DBHelper = new DatabaseHelper(context);\n    }\n\n    private static class DatabaseHelper extends SQLiteOpenHelper\n    {\n        DatabaseHelper(Context context)\n        {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db)\n        {\n            db.execSQL(DATABASE_CREATE);\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion,\n                              int newVersion)\n        {\n            Log.w(TAG, \"Upgrading database from version \" + oldVersion\n                    + \" to \"\n                    + newVersion + \", which will destroy all old data\");\n            db.execSQL(\"DROP TABLE IF EXISTS drivers\");\n            onCreate(db);\n        }\n    }\n\n    //---opens the database---\n    public DBAdapter open() throws SQLException\n    {\n        db = DBHelper.getWritableDatabase();\n        return this;\n    }\n\n    //---closes the database---\n    public void close()\n    {\n        DBHelper.close();\n    }\n\n    //---insert a driver's information into the database---\n    public long insertDriver(String fname, String lname, String mname, String contactNum, String license, String user, String pass)\n    {\n        ContentValues initialValues = new ContentValues();\n        initialValues.put(KEY_FNAME, fname);\n        initialValues.put(KEY_LNAME, lname);\n        initialValues.put(KEY_MNAME, mname);\n        initialValues.put(KEY_CONTACTNUM, contactNum);\n        initialValues.put(KEY_LICENSE, license);\n        initialValues.put(KEY_USER, user);\n        initialValues.put(KEY_PASS, pass);\n        return db.insert(DATABASE_TABLE, null, initialValues);\n    }\n}\n</code></pre>\n\n<p>Register</p>\n\n<pre><code>import android.app.Activity;\nimport android.content.ContentValues;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.support.v7.app.AlertDialog;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport com.ftlibrary.Fit;\n\npublic class Register extends Activity {\n\n    EditText firstname,lastname, middlename, contactNum, license, username, password;\n    Button register;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n        Fit.FitSetClientKey(\"SZIERAINE1527\");\n        Fit.FitSetAppName(\"sampleForFinals\");\n\n        firstname = (EditText) findViewById(R.id.et_firstname);\n        lastname = (EditText) findViewById(R.id.et_lastname);\n        middlename = (EditText) findViewById(R.id.et_middlename);\n        contactNum = (EditText) findViewById(R.id.et_contactNumber);\n        license = (EditText) findViewById(R.id.et_license);\n        username = (EditText) findViewById(R.id.et_username);\n        password = (EditText) findViewById(R.id.et_password);\n        register = (Button) findViewById(R.id.btn_register);\n\n        register.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View v)\n            {\n                    DBAdapter    db = new DBAdapter(Register.this);\n\n                    String fname = firstname.getText().toString();\n                    String lname = lastname.getText().toString();\n                    String mname = middlename.getText().toString();\n                    String contact = contactNum.getText().toString();\n                    String plate = license.getText().toString();\n                    String user = username.getText().toString();\n                    String pass = password.getText().toString();\n\n                    db.open();\n\n                    long id = db.insertDriver(fname, lname, mname, contact, plate, user, pass);\n\n                    db.close();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>Why can't i see any record in the database? TT TT</p>\n"},{"tags":["java","eclipse","windowbuilder"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680182966,"post_id":75888761,"comment_id":133857384,"body_markdown":"Which GUI toolkit do you use, Swing or SWT? Please show `mainFrame.java` and tell how you have created it.","body":"Which GUI toolkit do you use, Swing or SWT? Please show <code>mainFrame.java</code> and tell how you have created it."},{"owner":{"account_id":14019587,"reputation":11,"user_id":10126110,"display_name":"Leo Chen"},"score":0,"creation_date":1680185128,"post_id":75888761,"comment_id":133858075,"body_markdown":"I&#39;m using Swing and I update my mainFrame.java above. But actually I just tried SWT it comes to the same result.","body":"I&#39;m using Swing and I update my mainFrame.java above. But actually I just tried SWT it comes to the same result."},{"owner":{"account_id":14019587,"reputation":11,"user_id":10126110,"display_name":"Leo Chen"},"score":0,"creation_date":1680185454,"post_id":75888761,"comment_id":133858163,"body_markdown":"I create Swing Application Window by clicking the shortcut button on Eclipse, and it automatically creates a mainFrame.java file for me under src folder of my java project, which looks good.","body":"I create Swing Application Window by clicking the shortcut button on Eclipse, and it automatically creates a mainFrame.java file for me under src folder of my java project, which looks good."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1680185694,"post_id":75888761,"comment_id":133858227,"body_markdown":"You must first fix the errors to be able to use WindowBuilder. If you have a `module-info.java` file, delete it (if needed you can recreate it later via right-click on project and _Configure_) or [in `module-info.java` add the required `requires ...;` statement](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules). `mainFrame.java` does not look like created by WindowBuilder, right?","body":"You must first fix the errors to be able to use WindowBuilder. If you have a <code>module-info.java</code> file, delete it (if needed you can recreate it later via right-click on project and <i>Configure</i>) or <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\">in <code>module-info.java</code> add the required <code>requires ...;</code> statement</a>. <code>mainFrame.java</code> does not look like created by WindowBuilder, right?"},{"owner":{"account_id":14019587,"reputation":11,"user_id":10126110,"display_name":"Leo Chen"},"score":0,"creation_date":1680186897,"post_id":75888761,"comment_id":133858590,"body_markdown":"It works after I delete module-info.java, why are those files related? I update how I create mainFrame.java above.","body":"It works after I delete module-info.java, why are those files related? I update how I create mainFrame.java above."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1680194307,"post_id":75888761,"comment_id":133860700,"body_markdown":"So, does it work now? Follow the link in my previous comment to learn about the `module-info.java` file.","body":"So, does it work now? Follow the link in my previous comment to learn about the <code>module-info.java</code> file."}],"owner":{"account_id":14019587,"reputation":11,"user_id":10126110,"display_name":"Leo Chen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680186829,"creation_date":1680182201,"question_id":75888761,"body_markdown":"I&#39;m trying to use Windowbuilder on Eclipse but it always pops up error &quot;Unknown GUI toolkit&quot;. &lt;br&gt;\r\n[![enter image description here](https://i.stack.imgur.com/Yisg0.png)](https://i.stack.imgur.com/Yisg0.png)\r\n[![enter image description here][1]][1]\r\n\r\nThe mainFrame.java is created by the drop down menu below:\r\n[![enter image description here][2]][2]\r\n\r\nI install Windowbuilder from Eclipse MarketPlace.\r\n\r\nLooks like everything is installed properly, including SWT Designer.\r\n[![enter image description here](https://i.stack.imgur.com/yjXn3.png)](https://i.stack.imgur.com/yjXn3.png)\r\n\r\nHere is all my environment: &lt;br&gt;\r\ncomputer: macbook pro intel i5 &lt;br&gt;\r\nEclipse: 2023-03 (4.27.0) &lt;br&gt;\r\nJava JDK: 17.0.6 &lt;br&gt;\r\n\r\n\r\n\r\nI tried un/install Windowbuilder several times but every time end up having the same problem, and I even reinstall java JDK and Eclipse.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fon1R.jpg\r\n  [2]: https://i.stack.imgur.com/cLG8g.png","title":"Eclipse Windowbuilder Unknown GUI toolkit","body":"<p>I'm trying to use Windowbuilder on Eclipse but it always pops up error &quot;Unknown GUI toolkit&quot;. <br>\n<a href=\"https://i.stack.imgur.com/Yisg0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yisg0.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/fon1R.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fon1R.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The mainFrame.java is created by the drop down menu below:\n<a href=\"https://i.stack.imgur.com/cLG8g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cLG8g.png\" alt=\"enter image description here\" /></a></p>\n<p>I install Windowbuilder from Eclipse MarketPlace.</p>\n<p>Looks like everything is installed properly, including SWT Designer.\n<a href=\"https://i.stack.imgur.com/yjXn3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yjXn3.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is all my environment: <br>\ncomputer: macbook pro intel i5 <br>\nEclipse: 2023-03 (4.27.0) <br>\nJava JDK: 17.0.6 <br></p>\n<p>I tried un/install Windowbuilder several times but every time end up having the same problem, and I even reinstall java JDK and Eclipse.</p>\n"},{"tags":["java","sql","hibernate","hql","derby"],"comments":[{"owner":{"account_id":238759,"reputation":11691,"user_id":507864,"accept_rate":100,"display_name":"ManuPK"},"score":0,"creation_date":1320225520,"post_id":7977765,"comment_id":9756316,"body_markdown":"You are telling **like** will not work HQL in Derby database?","body":"You are telling <b>like</b> will not work HQL in Derby database?"},{"owner":{"account_id":46863,"reputation":13123,"user_id":138606,"accept_rate":64,"display_name":"gotch4"},"score":1,"creation_date":1320226240,"post_id":7977765,"comment_id":9756487,"body_markdown":"like *will* work, but case sensitive","body":"like <i>will</i> work, but case sensitive"}],"answers":[{"tags":[],"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320225446,"creation_date":1320225446,"answer_id":7977958,"question_id":7977765,"body_markdown":"I&#39;m affraid, there is no way to achieve this via HQL, as it is just translated to native  SQL.  I think it could be possible by tuning schema:\r\n\r\nhttp://old.nabble.com/case-insensitive-searching-td17756019.html\r\n  ","title":"Does HQL have an equivalent for Restrictions.ilike (for case-insensitive matching)?","body":"<p>I'm affraid, there is no way to achieve this via HQL, as it is just translated to native  SQL.  I think it could be possible by tuning schema:</p>\n\n<p><a href=\"http://old.nabble.com/case-insensitive-searching-td17756019.html\" rel=\"nofollow\">http://old.nabble.com/case-insensitive-searching-td17756019.html</a></p>\n"},{"comments":[{"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"score":0,"creation_date":1320228415,"post_id":7978259,"comment_id":9756980,"body_markdown":"but gotch4 prefers to keep his HQL queries","body":"but gotch4 prefers to keep his HQL queries"},{"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"score":0,"creation_date":1320229096,"post_id":7978259,"comment_id":9757179,"body_markdown":"He has no other option if he doesn&#39;t want to change the connection collation. And I understood he doesn&#39;t want to turn them into criteria queries.","body":"He has no other option if he doesn&#39;t want to change the connection collation. And I understood he doesn&#39;t want to turn them into criteria queries."},{"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"score":1,"creation_date":1320229634,"post_id":7978259,"comment_id":9757340,"body_markdown":"I understand him - could be hell of a refactoring and testing","body":"I understand him - could be hell of a refactoring and testing"},{"owner":{"account_id":46863,"reputation":13123,"user_id":138606,"accept_rate":64,"display_name":"gotch4"},"score":0,"creation_date":1320231096,"post_id":7978259,"comment_id":9757728,"body_markdown":"I started the troublesome work of converting everything to Criteria... this way I hope I will avoid this in the future.","body":"I started the troublesome work of converting everything to Criteria... this way I hope I will avoid this in the future."},{"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"score":0,"creation_date":1320231548,"post_id":7978259,"comment_id":9757840,"body_markdown":"It&#39;s alright. Just take into account that using `ilike` will be the same as modifying the HQL with `WHERE lower(entity.field) LIKE ?` and applying `toLowerCase()` to the parameter. If those `entity.field` were indexed you can run into performance issues.","body":"It&#39;s alright. Just take into account that using <code>ilike</code> will be the same as modifying the HQL with <code>WHERE lower(entity.field) LIKE ?</code> and applying <code>toLowerCase()</code> to the parameter. If those <code>entity.field</code> were indexed you can run into performance issues."},{"owner":{"account_id":1005123,"reputation":949,"user_id":1019104,"accept_rate":88,"display_name":"Rodrigo Leit&#227;o"},"score":4,"creation_date":1343757608,"post_id":7978259,"comment_id":15591405,"body_markdown":"if you like, you can use &quot;lower(entity.field) like lower(?)&quot; too, if you wish to let DB to process the String lower case. In my case I prefer this way to let the statement easier to read...","body":"if you like, you can use &quot;lower(entity.field) like lower(?)&quot; too, if you wish to let DB to process the String lower case. In my case I prefer this way to let the statement easier to read..."},{"owner":{"account_id":1641927,"reputation":401,"user_id":2737142,"display_name":"Tobias Gierke"},"score":1,"creation_date":1680184025,"post_id":7978259,"comment_id":133857731,"body_markdown":"There&#39;s a subtle bug lurking in the example code here: There is no guarantee that the JDK&#39;s String#toLowerCase() will actually always produce the same result as the &quot;lower()&quot; function on the database server. So unless you want spent hours debugging (and yes, this has happened to me), I suggest to always do the conversion on the DB-side.","body":"There&#39;s a subtle bug lurking in the example code here: There is no guarantee that the JDK&#39;s String#toLowerCase() will actually always produce the same result as the &quot;lower()&quot; function on the database server. So unless you want spent hours debugging (and yes, this has happened to me), I suggest to always do the conversion on the DB-side."},{"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"score":0,"creation_date":1680187051,"post_id":7978259,"comment_id":133858637,"body_markdown":"@TobiasGierke That is a very valid point. I have updated the answer to squash that out. As long as DB-side `lower(&#39;%&#39;)` is guaranteed to remain the same :) Concatenating `&#39;%&#39; || lower(?) || &#39;%&#39;` in the query itself probably a safer move, but not sure right now how would that play out if possible at all in a HQL query.","body":"@TobiasGierke That is a very valid point. I have updated the answer to squash that out. As long as DB-side <code>lower(&#39;%&#39;)</code> is guaranteed to remain the same :) Concatenating <code>&#39;%&#39; || lower(?) || &#39;%&#39;</code> in the query itself probably a safer move, but not sure right now how would that play out if possible at all in a HQL query."}],"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"comment_count":8,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1680186677,"creation_date":1320226889,"answer_id":7978259,"question_id":7977765,"body_markdown":"There is no `ilike` equivalent functionality in HQL. As Konstantin has already pointed out in his [suggestion](https://stackoverflow.com/questions/7977765/hql-like-and-case-sensitive/7977958#7977958), your best choice is to [tune the database connection](http://db.apache.org/derby/docs/10.7/ref/rrefattrib24612.html) and set [collation](http://db.apache.org/derby/docs/10.7/ref/rrefattribcollation.html) to `TERRITORY_BASED:SECONDARY`, as explained in this JIRA: [DERBY-1748: Global case insensitive setting](https://issues.apache.org/jira/browse/DERBY-1748).\r\n\r\nTake into account that all equalities (`=`) and `like`s will be case insensitive. This might go a bit too far, and be not suitable for your particular situation.\r\n\r\nAnother way of addressing this would be creating function-based indexes (if Derby supports them, of course) and tune your HQL to combine `like` and `lower` like this.  \r\n\r\n    Query q = session.createQuery(&quot;... WHERE lower(entity.field) like lower(?)&quot;);\r\n    q.setString(0, &#39;%&#39; + variable + &#39;%&#39;);\r\n\r\nIf Derby doesn&#39;t support FBI&#39;s (I think it doesn&#39;t), you could also create trigger-filled columns with the lower values and index them. \r\n\r\n**UPDATE** It seems to be possible to define derived/autogenerated columns, as explained in this other JIRA: [JIRA-481: implement SQL generated columns](https://issues.apache.org/jira/browse/DERBY-481). ","title":"Does HQL have an equivalent for Restrictions.ilike (for case-insensitive matching)?","body":"<p>There is no <code>ilike</code> equivalent functionality in HQL. As Konstantin has already pointed out in his <a href=\"https://stackoverflow.com/questions/7977765/hql-like-and-case-sensitive/7977958#7977958\">suggestion</a>, your best choice is to <a href=\"http://db.apache.org/derby/docs/10.7/ref/rrefattrib24612.html\" rel=\"nofollow noreferrer\">tune the database connection</a> and set <a href=\"http://db.apache.org/derby/docs/10.7/ref/rrefattribcollation.html\" rel=\"nofollow noreferrer\">collation</a> to <code>TERRITORY_BASED:SECONDARY</code>, as explained in this JIRA: <a href=\"https://issues.apache.org/jira/browse/DERBY-1748\" rel=\"nofollow noreferrer\">DERBY-1748: Global case insensitive setting</a>.</p>\n<p>Take into account that all equalities (<code>=</code>) and <code>like</code>s will be case insensitive. This might go a bit too far, and be not suitable for your particular situation.</p>\n<p>Another way of addressing this would be creating function-based indexes (if Derby supports them, of course) and tune your HQL to combine <code>like</code> and <code>lower</code> like this.</p>\n<pre><code>Query q = session.createQuery(&quot;... WHERE lower(entity.field) like lower(?)&quot;);\nq.setString(0, '%' + variable + '%');\n</code></pre>\n<p>If Derby doesn't support FBI's (I think it doesn't), you could also create trigger-filled columns with the lower values and index them.</p>\n<p><strong>UPDATE</strong> It seems to be possible to define derived/autogenerated columns, as explained in this other JIRA: <a href=\"https://issues.apache.org/jira/browse/DERBY-481\" rel=\"nofollow noreferrer\">JIRA-481: implement SQL generated columns</a>.</p>\n"},{"tags":[],"owner":{"account_id":294096,"reputation":1168,"user_id":597786,"accept_rate":17,"display_name":"luisZavaleta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365909083,"creation_date":1365909083,"answer_id":15995374,"question_id":7977765,"body_markdown":"a easy workaround would be to convert both words to to upper case (or lower case)  something like this: \r\n\r\n\r\nfrom DomesticCat cat where upper(cat.name) like &#39;FRI%&#39;\r\n\r\n\r\n\r\nreferences: http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html","title":"Does HQL have an equivalent for Restrictions.ilike (for case-insensitive matching)?","body":"<p>a easy workaround would be to convert both words to to upper case (or lower case)  something like this: </p>\n\n<p>from DomesticCat cat where upper(cat.name) like 'FRI%'</p>\n\n<p>references: <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html</a></p>\n"}],"owner":{"account_id":46863,"reputation":13123,"user_id":138606,"accept_rate":64,"display_name":"gotch4"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17795,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":7978259,"answer_count":3,"score":16,"last_activity_date":1680186677,"creation_date":1320224376,"question_id":7977765,"body_markdown":"I wrote a project for Hibernate+MySQL. Now I&#39;m porting it to Derby (for a number of reasons). \r\n\r\nNow I discovered that Derby is case sensitive when using LIKE in queries. This could be solved using [`Restrictions.ilike(...)`][1] in Criteria queries... but I&#39;ve many *complex* HQL queries that use that. Is there a way to have a functionality similar to `ilike` in HQL?\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/criterion/Restrictions.html#ilike%28java.lang.String,%20java.lang.Object%29","title":"Does HQL have an equivalent for Restrictions.ilike (for case-insensitive matching)?","body":"<p>I wrote a project for Hibernate+MySQL. Now I'm porting it to Derby (for a number of reasons). </p>\n\n<p>Now I discovered that Derby is case sensitive when using LIKE in queries. This could be solved using <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/criterion/Restrictions.html#ilike%28java.lang.String,%20java.lang.Object%29\"><code>Restrictions.ilike(...)</code></a> in Criteria queries... but I've many <em>complex</em> HQL queries that use that. Is there a way to have a functionality similar to <code>ilike</code> in HQL?</p>\n"},{"tags":["java","spring","testing","spring-boot","integration-testing"],"comments":[{"owner":{"account_id":9592064,"reputation":5123,"user_id":7122593,"accept_rate":78,"display_name":"Barath"},"score":0,"creation_date":1506925682,"post_id":46518857,"comment_id":79994706,"body_markdown":"I faced similar issue as posted here https://stackoverflow.com/questions/45522778/springboottest-not-creating-inner-beans-while-loading-the-context","body":"I faced similar issue as posted here <a href=\"https://stackoverflow.com/questions/45522778/springboottest-not-creating-inner-beans-while-loading-the-context\" title=\"springboottest not creating inner beans while loading the context\">stackoverflow.com/questions/45522778/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7436532,"reputation":753,"user_id":5655772,"accept_rate":15,"display_name":"Alexander"},"score":0,"creation_date":1506912597,"post_id":46518876,"comment_id":79991864,"body_markdown":"Nope, this does not change anything.","body":"Nope, this does not change anything."},{"owner":{"account_id":4227579,"reputation":402,"user_id":3460763,"accept_rate":56,"display_name":"chetank"},"score":0,"creation_date":1506912707,"post_id":46518876,"comment_id":79991884,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html","body":"<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1601588921,"post_id":46518876,"comment_id":113462519,"body_markdown":"[According to the documentation](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit4/SpringJUnit4ClassRunner.html), there is no difference: _Simply annotate a JUnit 4 based test class with `@RunWith(SpringJUnit4ClassRunner.class)` or `@RunWith(SpringRunner.class)`_","body":"<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit4/SpringJUnit4ClassRunner.html\" rel=\"nofollow noreferrer\">According to the documentation</a>, there is no difference: <i>Simply annotate a JUnit 4 based test class with <code>@RunWith(SpringJUnit4ClassRunner.class)</code> or <code>@RunWith(SpringRunner.class)</code></i>"}],"tags":[],"owner":{"account_id":4227579,"reputation":402,"user_id":3460763,"accept_rate":56,"display_name":"chetank"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1506912426,"creation_date":1506912426,"answer_id":46518876,"question_id":46518857,"body_markdown":"Instead of using @Runwith(SpringJunit4Classrunner.class) use @RunWith(SpringRunner.class). That should help you with the error.","title":"SpringBootTest - how to replace one bean in runtime configuration?","body":"<p>Instead of using @Runwith(SpringJunit4Classrunner.class) use @RunWith(SpringRunner.class). That should help you with the error.</p>\n"},{"comments":[{"owner":{"account_id":7436532,"reputation":753,"user_id":5655772,"accept_rate":15,"display_name":"Alexander"},"score":0,"creation_date":1506960504,"post_id":46519671,"comment_id":80013256,"body_markdown":"Thanks, this is pretty much what I&#39;m doing for _unit_ tests. Not using @SpringBootTest annotation here would mean that I&#39;m not doing integration test. My application has dozens of other beans that I do want to use.","body":"Thanks, this is pretty much what I&#39;m doing for <i>unit</i> tests. Not using @SpringBootTest annotation here would mean that I&#39;m not doing integration test. My application has dozens of other beans that I do want to use."},{"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"score":0,"creation_date":1506966943,"post_id":46519671,"comment_id":80016667,"body_markdown":"@Alexander Updated my posting to show you can use the replaced bean along with rest of your application beans in your integration test.","body":"@Alexander Updated my posting to show you can use the replaced bean along with rest of your application beans in your integration test."},{"owner":{"account_id":7436532,"reputation":753,"user_id":5655772,"accept_rate":15,"display_name":"Alexander"},"score":0,"creation_date":1506982604,"post_id":46519671,"comment_id":80023732,"body_markdown":"Thank you! &quot;TestApplication&quot; approach worked. I still kind of disappointed in &quot;@TestConfiguration&quot; annotation. Spring documentation leads to believe that it enables partial configuration overriding, but it doesn&#39;t.","body":"Thank you! &quot;TestApplication&quot; approach worked. I still kind of disappointed in &quot;@TestConfiguration&quot; annotation. Spring documentation leads to believe that it enables partial configuration overriding, but it doesn&#39;t."},{"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"score":0,"creation_date":1506985689,"post_id":46519671,"comment_id":80024545,"body_markdown":"Yes, Spring document doesn&#39;t cover or clear about corner use cases.","body":"Yes, Spring document doesn&#39;t cover or clear about corner use cases."}],"tags":[],"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1506971176,"creation_date":1506919847,"answer_id":46519671,"question_id":46518857,"body_markdown":"### Unit Test with One Bean\r\nJust use `@RunWith(SpringRunner.class)` annotation, it should work. You can also use `@RunWith(SpringJUnit4ClassRunner.class)`. Both should work.\r\n\r\n**Please don&#39;t use** `@SpringBootTest` annotation. It will wire up the whole application.\r\n\r\nHere is your updated example,\r\n\r\n    @RunWith(SpringRunner.class)\r\n    public class CombinedControllerIntegrationTest2 {\r\n    \r\n        @TestConfiguration\r\n        static class ContextConfiguration {\r\n            \r\n            @Bean\r\n            public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\r\n                LOG.debug(&quot;SolrDocumentTypeMapRepository is being initialized.&quot;);\r\n                return new SolrDocumentTypeMapRepository(...);\r\n            }\r\n        }\r\n    \r\n        @Autowired\r\n        private SolrDocumentTypeMapRepository repository;\r\n    \r\n        @Test\r\n        public void test() {\r\n            assertNotNull(repository);\r\n        }\r\n    }\r\n\r\n### Integration Test with a Replaced Bean\r\n\r\n - Create a new test Spring Boot application. It should exclude the configuration class (for e.g., `SolrConfiguration`)  which is responsible for creating `SolrDocumentTypeMapRepository` bean.\r\n\r\n        @SpringBootApplication\r\n        @ComponentScan(basePackages = {\r\n                &quot;com.abc.pkg1&quot;,\r\n                &quot;com.abc.pk2&quot;},\r\n                excludeFilters = {\r\n                        @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, \r\n                        value = SolrConfiguration.class)})\r\n        public class TestApplication {\r\n            public static void main(String[] args) throws Exception {\r\n                SpringApplication.run(TestApplication.class, args);\r\n            }\r\n        }\r\n\r\n - Now, use the `@ContextConfiguration` annotation in your test class to add the `TestApplication.class` and the `ContextConfiguration.class`. This will wire up your application with the all the required beans including the replaced bean. Shown below is the updated test class,\r\n\r\n        @ActiveProfiles(&quot;test&quot;)\r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @SpringBootTest(webEnvironment = \r\n            SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n        @ContextConfiguration(classes = {TestApplication.class, \r\n            CombinedControllerIntegrationTest2.ContextConfiguration.class})\r\n        public class CombinedControllerIntegrationTest2 {\r\n        \r\n            @TestConfiguration\r\n            static class ContextConfiguration {\r\n                \r\n                @Bean\r\n                public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\r\n                    LOG.debug(&quot;SolrDocumentTypeMapRepository is being initialized.&quot;);\r\n                    return new SolrDocumentTypeMapRepository(...);\r\n                }\r\n            }\r\n        \r\n            ...\r\n        }","title":"SpringBootTest - how to replace one bean in runtime configuration?","body":"<h3>Unit Test with One Bean</h3>\n\n<p>Just use <code>@RunWith(SpringRunner.class)</code> annotation, it should work. You can also use <code>@RunWith(SpringJUnit4ClassRunner.class)</code>. Both should work.</p>\n\n<p><strong>Please don't use</strong> <code>@SpringBootTest</code> annotation. It will wire up the whole application.</p>\n\n<p>Here is your updated example,</p>\n\n<pre><code>@RunWith(SpringRunner.class)\npublic class CombinedControllerIntegrationTest2 {\n\n    @TestConfiguration\n    static class ContextConfiguration {\n\n        @Bean\n        public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\n            LOG.debug(\"SolrDocumentTypeMapRepository is being initialized.\");\n            return new SolrDocumentTypeMapRepository(...);\n        }\n    }\n\n    @Autowired\n    private SolrDocumentTypeMapRepository repository;\n\n    @Test\n    public void test() {\n        assertNotNull(repository);\n    }\n}\n</code></pre>\n\n<h3>Integration Test with a Replaced Bean</h3>\n\n<ul>\n<li><p>Create a new test Spring Boot application. It should exclude the configuration class (for e.g., <code>SolrConfiguration</code>)  which is responsible for creating <code>SolrDocumentTypeMapRepository</code> bean.</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {\n        \"com.abc.pkg1\",\n        \"com.abc.pk2\"},\n        excludeFilters = {\n                @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, \n                value = SolrConfiguration.class)})\npublic class TestApplication {\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(TestApplication.class, args);\n    }\n}\n</code></pre></li>\n<li><p>Now, use the <code>@ContextConfiguration</code> annotation in your test class to add the <code>TestApplication.class</code> and the <code>ContextConfiguration.class</code>. This will wire up your application with the all the required beans including the replaced bean. Shown below is the updated test class,</p>\n\n<pre><code>@ActiveProfiles(\"test\")\n@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(webEnvironment = \n    SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ContextConfiguration(classes = {TestApplication.class, \n    CombinedControllerIntegrationTest2.ContextConfiguration.class})\npublic class CombinedControllerIntegrationTest2 {\n\n    @TestConfiguration\n    static class ContextConfiguration {\n\n        @Bean\n        public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\n            LOG.debug(\"SolrDocumentTypeMapRepository is being initialized.\");\n            return new SolrDocumentTypeMapRepository(...);\n        }\n    }\n\n    ...\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571208391,"creation_date":1571138339,"answer_id":58393444,"question_id":46518857,"body_markdown":"Use @Mockean to mock your repository. And add behavior in the test:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    @RunWith(SpringRunner.class)      \r\n    public abstract class IntegrationTest {\r\n         \r\n      @MockBean\r\n      SolrDocumentTypeMapRepository solrDocumentTypeMapRepository;\r\n     \r\n      @Test\r\n      public void mySuperTest(){ \r\n    Mockito.when(solrDocumentTypeMapRepository.getById(Mockito.any())).thenReturn(someInstance);\r\n    Assert.assertEquals(solrDocumentTypeMapRepository.getById(&quot;someId&quot;), someInstance);\r\n    }\r\n    }","title":"SpringBootTest - how to replace one bean in runtime configuration?","body":"<p>Use @Mockean to mock your repository. And add behavior in the test:</p>\n\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@RunWith(SpringRunner.class)      \npublic abstract class IntegrationTest {\n\n  @MockBean\n  SolrDocumentTypeMapRepository solrDocumentTypeMapRepository;\n\n  @Test\n  public void mySuperTest(){ \nMockito.when(solrDocumentTypeMapRepository.getById(Mockito.any())).thenReturn(someInstance);\nAssert.assertEquals(solrDocumentTypeMapRepository.getById(\"someId\"), someInstance);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":7436532,"reputation":753,"user_id":5655772,"accept_rate":15,"display_name":"Alexander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14335,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":46519671,"answer_count":3,"score":8,"last_activity_date":1680186607,"creation_date":1506912204,"question_id":46518857,"body_markdown":"I am writing an integration test for Spring Boot application. All goes well as long as I&#39;m using 100% runtime configuration for the test. But when I&#39;m trying to provide just one custom bean for the bean, everything breaks.\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class CombinedControllerIntegrationTest2 {\r\n\r\n    @TestConfiguration\r\n    static class ContextConfiguration {\r\n\r\n        @Bean\r\n        @Primary\r\n        public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\r\n            LOG.debug(&quot;SolrDocumentTypeMapRepository is being initialized.&quot;);\r\n\r\n    // etc.\r\n\r\ncode variant above is causing the real runtime `SolrDocumentTypeMapRepository` to load. Therefore the `ContextConfiguration` in my test class is ignored.\r\n\r\nIf I try to use `@Configuration` instead of `@TestConfiguration` on my inner `ContextConfiguration`, execution falls to another extreme - it ends with:\r\n\r\n    org.springframework.context.ApplicationContextException: \r\n    Unable to start EmbeddedWebApplicationContext due to missing\r\n    EmbeddedServletContainerFactory bean.\r\n\r\nBecause, apparently, the rest of configuration is not loaded.\r\n\r\nIf I try to put\r\n\r\n    @ContextConfiguration(\r\n     classes = { CombinedControllerIntegrationTest2.ContextConfiguration.class,\r\n                 GatewayApplication.class})\r\n\r\non my main testing class, it fails the same way as in #1 - i.e. my `ContextConfiguration` is ignored.\r\n\r\nAny ideas?\r\n\r\nP.S. I know I can use `@MockBean` (and this even works in other cases), but here, because at some point I have dependency on `@PostConsruct` methods in the main code, `@MockBeans` are useless.\r\n","title":"SpringBootTest - how to replace one bean in runtime configuration?","body":"<p>I am writing an integration test for Spring Boot application. All goes well as long as I'm using 100% runtime configuration for the test. But when I'm trying to provide just one custom bean for the bean, everything breaks.</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class CombinedControllerIntegrationTest2 {\n\n@TestConfiguration\nstatic class ContextConfiguration {\n\n    @Bean\n    @Primary\n    public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\n        LOG.debug(&quot;SolrDocumentTypeMapRepository is being initialized.&quot;);\n\n// etc.\n</code></pre>\n<p>code variant above is causing the real runtime <code>SolrDocumentTypeMapRepository</code> to load. Therefore the <code>ContextConfiguration</code> in my test class is ignored.</p>\n<p>If I try to use <code>@Configuration</code> instead of <code>@TestConfiguration</code> on my inner <code>ContextConfiguration</code>, execution falls to another extreme - it ends with:</p>\n<pre><code>org.springframework.context.ApplicationContextException: \nUnable to start EmbeddedWebApplicationContext due to missing\nEmbeddedServletContainerFactory bean.\n</code></pre>\n<p>Because, apparently, the rest of configuration is not loaded.</p>\n<p>If I try to put</p>\n<pre><code>@ContextConfiguration(\n classes = { CombinedControllerIntegrationTest2.ContextConfiguration.class,\n             GatewayApplication.class})\n</code></pre>\n<p>on my main testing class, it fails the same way as in #1 - i.e. my <code>ContextConfiguration</code> is ignored.</p>\n<p>Any ideas?</p>\n<p>P.S. I know I can use <code>@MockBean</code> (and this even works in other cases), but here, because at some point I have dependency on <code>@PostConsruct</code> methods in the main code, <code>@MockBeans</code> are useless.</p>\n"},{"tags":["java","calculator"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1680186392,"post_id":75889466,"comment_id":133858425,"body_markdown":"It is not possible to know what is wrong with the code, if you do not post the code","body":"It is not possible to know what is wrong with the code, if you do not post the code"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1680186420,"post_id":75889466,"comment_id":133858437,"body_markdown":"Please read [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"}],"owner":{"account_id":26315392,"reputation":1,"user_id":19978257,"display_name":"Deniz Gok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680186547,"creation_date":1680186289,"question_id":75889466,"body_markdown":"My code works with 2 sequences such as &#39;2x5=&#39; which would output 10.0. However I need it to work with multiple different sequences with different operators. So if I tried to input &#39;2x5/2=&#39; the output would be 2.5. it clearly only takes the last two sequences, In this case being &#39;5/2&#39;. I&#39;ve tried so many things to figure this out and I need help.\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n\r\n    public class Calculator implements ActionListener {\r\n\r\n    JFrame frame;\r\n    JTextField textfield;\r\n    JButton[] numberButtons = new JButton[10];\r\n    JButton[] functionButtons = new JButton[6];\r\n    JButton addButton, subButton, mulButton, divButton;\r\n    JButton equButton, clrButton;\r\n    JPanel panel;\r\n\r\n    Font myFont = new Font(&quot;Ink Free&quot;, Font.BOLD, 30);\r\n\r\n    double num1 = 0, num2 = 0, result = 0;\r\n    char operator;\r\n\r\n    Calculator() {\r\n\r\n        frame = new JFrame(&quot;Calculator&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(420, 550);\r\n        frame.setLayout(null);\r\n\r\n        textfield = new JTextField();\r\n        textfield.setBounds(50, 25, 300, 50);\r\n        textfield.setFont(myFont);\r\n\r\n        addButton = new JButton(&quot;+&quot;);\r\n        subButton = new JButton(&quot;-&quot;);\r\n        mulButton = new JButton(&quot;x&quot;);\r\n        divButton = new JButton(&quot;&#247;&quot;);\r\n        equButton = new JButton(&quot;=&quot;);\r\n        clrButton = new JButton(&quot;AC&quot;);\r\n\r\n        functionButtons[0] = addButton;\r\n        functionButtons[1] = subButton;\r\n        functionButtons[2] = mulButton;\r\n        functionButtons[3] = divButton;\r\n        functionButtons[4] = equButton;\r\n        functionButtons[5] = clrButton;\r\n\r\n        for (int i = 0; i &lt; 6; i++) {\r\n            functionButtons[i].addActionListener(this);\r\n            functionButtons[i].setFont(myFont);\r\n            functionButtons[i].setFocusable(false);\r\n        }\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            numberButtons[i] = new             \r\n\r\n    JButton(String.valueOf(i));\r\n            numberButtons[i].addActionListener(this);\r\n            numberButtons[i].setFont(myFont);\r\n            numberButtons[i].setFocusable(false);\r\n        }\r\n\r\n        panel = new JPanel();\r\n        panel.setBounds(50, 100, 300, 300);\r\n        panel.setLayout(new GridLayout(4, 4, 10, 10));\r\n        // panel.setBackground(Color.GRAY);\r\n\r\n        panel.add(numberButtons[7]);\r\n        panel.add(numberButtons[8]);\r\n        panel.add(numberButtons[9]);\r\n        panel.add(divButton);\r\n        panel.add(numberButtons[4]);\r\n        panel.add(numberButtons[5]);\r\n        panel.add(numberButtons[6]);\r\n        panel.add(mulButton);\r\n        panel.add(numberButtons[1]);\r\n        panel.add(numberButtons[2]);\r\n        panel.add(numberButtons[3]);\r\n        panel.add(subButton);\r\n        panel.add(clrButton);\r\n        panel.add(numberButtons[0]);\r\n        panel.add(equButton);\r\n        panel.add(addButton);\r\n\r\n        frame.add(panel);\r\n        frame.add(textfield);\r\n        frame.setVisible(true);\r\n\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            if (e.getSource() == numberButtons[i]) {\r\n                    \r\n\r\n          textfield.setText(textfield.getText().concat(String.valueOf(I  )));\r\n            }\r\n        }\r\n        if (e.getSource() == addButton) {\r\n            num1 = Double.parseDouble(textfield.getText());\r\n            operator = &#39;+&#39;;\r\n            textfield.setText(&quot;&quot;);\r\n        }\r\n        if (e.getSource() == subButton) {\r\n            num1 = Double.parseDouble(textfield.getText());\r\n            operator = &#39;-&#39;;\r\n            textfield.setText(&quot;&quot;);\r\n        }\r\n        if (e.getSource() == mulButton) {\r\n            num1 = Double.parseDouble(textfield.getText());\r\n            operator = &#39;*&#39;;\r\n            textfield.setText(&quot;&quot;);\r\n        }\r\n        if (e.getSource() == divButton) {\r\n            num1 = Double.parseDouble(textfield.getText());\r\n            operator = &#39;/&#39;;\r\n            textfield.setText(&quot;&quot;);\r\n        }\r\n        if (e.getSource() == equButton) {\r\n            num2 = Double.parseDouble(textfield.getText());\r\n\r\n            switch (operator) {\r\n                case &#39;+&#39;:\r\n                    result = num1 + num2;\r\n                    break;\r\n                case &#39;-&#39;:\r\n                    result = num1 - num2;\r\n                    break;\r\n                case &#39;*&#39;:\r\n                    result = num1 * num2;\r\n                    break;\r\n                case &#39;/&#39;:\r\n                    result = num1 / num2;\r\n                    break;\r\n            }\r\n\r\n            textfield.setText(String.valueOf(result));\r\n            num1 = result;\r\n        }\r\n        if (e.getSource() == clrButton) {\r\n            textfield.setText(&quot;&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nI tried to apply stacks and pops into my actionPerformed part of my code but no matter what I try, it ruins the function of my original code, which is not what I want of course.","title":"How do I apply BODMAS or BIDMAS to my Java calculator code?","body":"<p>My code works with 2 sequences such as '2x5=' which would output 10.0. However I need it to work with multiple different sequences with different operators. So if I tried to input '2x5/2=' the output would be 2.5. it clearly only takes the last two sequences, In this case being '5/2'. I've tried so many things to figure this out and I need help.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class Calculator implements ActionListener {\n\nJFrame frame;\nJTextField textfield;\nJButton[] numberButtons = new JButton[10];\nJButton[] functionButtons = new JButton[6];\nJButton addButton, subButton, mulButton, divButton;\nJButton equButton, clrButton;\nJPanel panel;\n\nFont myFont = new Font(&quot;Ink Free&quot;, Font.BOLD, 30);\n\ndouble num1 = 0, num2 = 0, result = 0;\nchar operator;\n\nCalculator() {\n\n    frame = new JFrame(&quot;Calculator&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(420, 550);\n    frame.setLayout(null);\n\n    textfield = new JTextField();\n    textfield.setBounds(50, 25, 300, 50);\n    textfield.setFont(myFont);\n\n    addButton = new JButton(&quot;+&quot;);\n    subButton = new JButton(&quot;-&quot;);\n    mulButton = new JButton(&quot;x&quot;);\n    divButton = new JButton(&quot;÷&quot;);\n    equButton = new JButton(&quot;=&quot;);\n    clrButton = new JButton(&quot;AC&quot;);\n\n    functionButtons[0] = addButton;\n    functionButtons[1] = subButton;\n    functionButtons[2] = mulButton;\n    functionButtons[3] = divButton;\n    functionButtons[4] = equButton;\n    functionButtons[5] = clrButton;\n\n    for (int i = 0; i &lt; 6; i++) {\n        functionButtons[i].addActionListener(this);\n        functionButtons[i].setFont(myFont);\n        functionButtons[i].setFocusable(false);\n    }\n\n    for (int i = 0; i &lt; 10; i++) {\n        numberButtons[i] = new             \n\nJButton(String.valueOf(i));\n        numberButtons[i].addActionListener(this);\n        numberButtons[i].setFont(myFont);\n        numberButtons[i].setFocusable(false);\n    }\n\n    panel = new JPanel();\n    panel.setBounds(50, 100, 300, 300);\n    panel.setLayout(new GridLayout(4, 4, 10, 10));\n    // panel.setBackground(Color.GRAY);\n\n    panel.add(numberButtons[7]);\n    panel.add(numberButtons[8]);\n    panel.add(numberButtons[9]);\n    panel.add(divButton);\n    panel.add(numberButtons[4]);\n    panel.add(numberButtons[5]);\n    panel.add(numberButtons[6]);\n    panel.add(mulButton);\n    panel.add(numberButtons[1]);\n    panel.add(numberButtons[2]);\n    panel.add(numberButtons[3]);\n    panel.add(subButton);\n    panel.add(clrButton);\n    panel.add(numberButtons[0]);\n    panel.add(equButton);\n    panel.add(addButton);\n\n    frame.add(panel);\n    frame.add(textfield);\n    frame.setVisible(true);\n\n}\n\npublic void actionPerformed(ActionEvent e) {\n\n    for (int i = 0; i &lt; 10; i++) {\n        if (e.getSource() == numberButtons[i]) {\n                \n\n      textfield.setText(textfield.getText().concat(String.valueOf(I  )));\n        }\n    }\n    if (e.getSource() == addButton) {\n        num1 = Double.parseDouble(textfield.getText());\n        operator = '+';\n        textfield.setText(&quot;&quot;);\n    }\n    if (e.getSource() == subButton) {\n        num1 = Double.parseDouble(textfield.getText());\n        operator = '-';\n        textfield.setText(&quot;&quot;);\n    }\n    if (e.getSource() == mulButton) {\n        num1 = Double.parseDouble(textfield.getText());\n        operator = '*';\n        textfield.setText(&quot;&quot;);\n    }\n    if (e.getSource() == divButton) {\n        num1 = Double.parseDouble(textfield.getText());\n        operator = '/';\n        textfield.setText(&quot;&quot;);\n    }\n    if (e.getSource() == equButton) {\n        num2 = Double.parseDouble(textfield.getText());\n\n        switch (operator) {\n            case '+':\n                result = num1 + num2;\n                break;\n            case '-':\n                result = num1 - num2;\n                break;\n            case '*':\n                result = num1 * num2;\n                break;\n            case '/':\n                result = num1 / num2;\n                break;\n        }\n\n        textfield.setText(String.valueOf(result));\n        num1 = result;\n    }\n    if (e.getSource() == clrButton) {\n        textfield.setText(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I tried to apply stacks and pops into my actionPerformed part of my code but no matter what I try, it ruins the function of my original code, which is not what I want of course.</p>\n"},{"tags":["java","algorithm","search"],"comments":[{"owner":{"account_id":26482234,"reputation":1276,"user_id":20121320,"display_name":"Florent Monin"},"score":4,"creation_date":1680178043,"post_id":75887904,"comment_id":133855905,"body_markdown":"some of the logic seems pretty complex, but I suspect you can break it down in smaller functions. For instance, a function that returns all adjacent tiles from a given tile will probably be very helpful. Without the code you&#39;ve written, it is hard to say what is wrong/could be improved with it though","body":"some of the logic seems pretty complex, but I suspect you can break it down in smaller functions. For instance, a function that returns all adjacent tiles from a given tile will probably be very helpful. Without the code you&#39;ve written, it is hard to say what is wrong/could be improved with it though"},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680178357,"post_id":75887904,"comment_id":133855971,"body_markdown":"That&#39;s a good suggestion. The codes are way too long to be reviewed. I was hoping to start again from scratch and try to look in another way.","body":"That&#39;s a good suggestion. The codes are way too long to be reviewed. I was hoping to start again from scratch and try to look in another way."},{"owner":{"account_id":26482234,"reputation":1276,"user_id":20121320,"display_name":"Florent Monin"},"score":1,"creation_date":1680178996,"post_id":75887904,"comment_id":133856145,"body_markdown":"I think, having a `GetAdjacentTiles` function should be enough to solve the bear, Hawk and Fox rules. For the Salmon, you will need something looking like [this](https://stackoverflow.com/questions/16506150/longest-path-on-a-grid-without-revisiting-grid-cells). And for the Elk, I guess some function like `NumberOfElkInThisDirection` which walks through one of the 6 directions from a tile, and counts the number of elks in a row should do the trick","body":"I think, having a <code>GetAdjacentTiles</code> function should be enough to solve the bear, Hawk and Fox rules. For the Salmon, you will need something looking like <a href=\"https://stackoverflow.com/questions/16506150/longest-path-on-a-grid-without-revisiting-grid-cells\">this</a>. And for the Elk, I guess some function like <code>NumberOfElkInThisDirection</code> which walks through one of the 6 directions from a tile, and counts the number of elks in a row should do the trick"},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680183048,"post_id":75887904,"comment_id":133857413,"body_markdown":"@FlorentMonin if I have an arrayList `ArrayList&lt;Point&gt; bear;` which contains the point of all bears in the board. Is this going to help?","body":"@FlorentMonin if I have an arrayList <code>ArrayList&lt;Point&gt; bear;</code> which contains the point of all bears in the board. Is this going to help?"},{"owner":{"account_id":26482234,"reputation":1276,"user_id":20121320,"display_name":"Florent Monin"},"score":0,"creation_date":1680251307,"post_id":75887904,"comment_id":133869853,"body_markdown":"for the bears, I think what you can do is run an algorithm to find the connected components (so you number each &quot;group of bear&quot;) and then, for each group, if it has exactly 2 members, then it&#39;s a pair, otherwise it isn&#39;t. I think that should work","body":"for the bears, I think what you can do is run an algorithm to find the connected components (so you number each &quot;group of bear&quot;) and then, for each group, if it has exactly 2 members, then it&#39;s a pair, otherwise it isn&#39;t. I think that should work"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1680260017,"post_id":75887904,"comment_id":133871936,"body_markdown":"Not directly related: Why using a `HashMap` instead of an 2D array (you already have x,y coordinates in your image)) which is a wildly used way to store such a hex-raster?\nhere a nice resource for hex-grid algorithms and data-structures https://www.redblobgames.com/grids/hexagons/","body":"Not directly related: Why using a <code>HashMap</code> instead of an 2D array (you already have x,y coordinates in your image)) which is a wildly used way to store such a hex-raster? here a nice resource for hex-grid algorithms and data-structures <a href=\"https://www.redblobgames.com/grids/hexagons/\" rel=\"nofollow noreferrer\">redblobgames.com/grids/hexagons</a>"},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680265429,"post_id":75887904,"comment_id":133873163,"body_markdown":"@MrSmith42 How would you implement this in 2D array? The coordinate in this data structure has negative coordinate, which I&#39;m not sure of how to implement in 2D array..","body":"@MrSmith42 How would you implement this in 2D array? The coordinate in this data structure has negative coordinate, which I&#39;m not sure of how to implement in 2D array.."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1680267810,"post_id":75887904,"comment_id":133873822,"body_markdown":"@st3ems By adding an offset all coordinates become positive.","body":"@st3ems By adding an offset all coordinates become positive."},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680270398,"post_id":75887904,"comment_id":133874488,"body_markdown":"@MrSmith42 that makes sense. But a 2D array would take up more memory than I intended to use? I also have to define the size of the 2D array, which I&#39;m not sure of since the user can place a tile at any position..","body":"@MrSmith42 that makes sense. But a 2D array would take up more memory than I intended to use? I also have to define the size of the 2D array, which I&#39;m not sure of since the user can place a tile at any position.."}],"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680186107,"creation_date":1680177096,"question_id":75887904,"body_markdown":"Supposed I have this data structure:\r\n\r\n[![Hexagon structure][1]][1]\r\n\r\nI am using a hash map to represent the data structure:\r\n\r\n     HashMap&lt;Point, Tile&gt; board;\r\n\r\nWhere Point class is just consisting of int x and int y which is used to represent the coordinate in the data structure above.\r\n\r\n    Point(int x, int y);\r\n\r\nIn Tile class, every tile has an animal token on top. Such that:\r\n\r\n    Tile(Habitat habitat, Animal animalToken);\r\n\r\n\r\nMy aim is to calculate the score according to the animal tokens placed on top of the tiles.\r\n\r\nThis [link][2] has the rules for scoring for each animal.\r\n\r\nWhat I&#39;ve tried is completely mess, which always end up with 100+ of codes just to calculate a score for one specific animal. Is there any algorithm/searching algorithm I should know about to make my life easier?\r\n\r\nPS: I have little knowledge on graph structure.\r\n\r\nEdit:\r\n\r\n    private static ArrayList&lt;Tile&gt; adjacentAvailableTile(Point point)\r\n    {\r\n        return adjacentAvailableTile(adjacentAvailablePoints(point));\r\n    }\r\n\r\n\r\n    private static ArrayList&lt;Tile&gt; adjacentAvailableTile(ArrayList&lt;Point&gt; points)\r\n    {\r\n        ArrayList&lt;Tile&gt; availableTiles = new ArrayList&lt;&gt;();\r\n        for (Point point : points)\r\n        {\r\n            Tile tile = board.get(point);\r\n            availableTiles.add(tile);\r\n        }\r\n        return availableTiles;\r\n    }\r\n\r\n\r\n    private static ArrayList&lt;Point&gt; adjacentAvailablePoints(Point originPoint)\r\n    {\r\n        Point[] sixAdjacentPoint = new Point[6];\r\n        int i = 0;\r\n        for (Position pos : Position.values())      //loop through enum Position\r\n        {\r\n            //sixAdjacentPoint now has the adjacent points of the given point\r\n            sixAdjacentPoint[i++] = getPoint(originPoint, pos);\r\n        }\r\n\r\n        ArrayList&lt;Point&gt; availablePoint = new ArrayList&lt;&gt;();\r\n        for (Point point : sixAdjacentPoint)\r\n        {\r\n            if (board.containsKey(point))\r\n                availablePoint.add(point);\r\n        }\r\n        return availablePoint;\r\n    }\r\n\r\nI now can find adjacent tiles from a given point.\r\n\r\n  [1]: https://i.stack.imgur.com/L1CZk.png\r\n  [2]: https://cascadiagame.github.io/","title":"algorithm for hexagon structure","body":"<p>Supposed I have this data structure:</p>\n<p><a href=\"https://i.stack.imgur.com/L1CZk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1CZk.png\" alt=\"Hexagon structure\" /></a></p>\n<p>I am using a hash map to represent the data structure:</p>\n<pre><code> HashMap&lt;Point, Tile&gt; board;\n</code></pre>\n<p>Where Point class is just consisting of int x and int y which is used to represent the coordinate in the data structure above.</p>\n<pre><code>Point(int x, int y);\n</code></pre>\n<p>In Tile class, every tile has an animal token on top. Such that:</p>\n<pre><code>Tile(Habitat habitat, Animal animalToken);\n</code></pre>\n<p>My aim is to calculate the score according to the animal tokens placed on top of the tiles.</p>\n<p>This <a href=\"https://cascadiagame.github.io/\" rel=\"nofollow noreferrer\">link</a> has the rules for scoring for each animal.</p>\n<p>What I've tried is completely mess, which always end up with 100+ of codes just to calculate a score for one specific animal. Is there any algorithm/searching algorithm I should know about to make my life easier?</p>\n<p>PS: I have little knowledge on graph structure.</p>\n<p>Edit:</p>\n<pre><code>private static ArrayList&lt;Tile&gt; adjacentAvailableTile(Point point)\n{\n    return adjacentAvailableTile(adjacentAvailablePoints(point));\n}\n\n\nprivate static ArrayList&lt;Tile&gt; adjacentAvailableTile(ArrayList&lt;Point&gt; points)\n{\n    ArrayList&lt;Tile&gt; availableTiles = new ArrayList&lt;&gt;();\n    for (Point point : points)\n    {\n        Tile tile = board.get(point);\n        availableTiles.add(tile);\n    }\n    return availableTiles;\n}\n\n\nprivate static ArrayList&lt;Point&gt; adjacentAvailablePoints(Point originPoint)\n{\n    Point[] sixAdjacentPoint = new Point[6];\n    int i = 0;\n    for (Position pos : Position.values())      //loop through enum Position\n    {\n        //sixAdjacentPoint now has the adjacent points of the given point\n        sixAdjacentPoint[i++] = getPoint(originPoint, pos);\n    }\n\n    ArrayList&lt;Point&gt; availablePoint = new ArrayList&lt;&gt;();\n    for (Point point : sixAdjacentPoint)\n    {\n        if (board.containsKey(point))\n            availablePoint.add(point);\n    }\n    return availablePoint;\n}\n</code></pre>\n<p>I now can find adjacent tiles from a given point.</p>\n"},{"tags":["java","spring","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680185741,"creation_date":1680185636,"answer_id":75889354,"question_id":75887930,"body_markdown":"I noticed that you tagged your question with `domain-driven-design`. One of the key principles in domain driven design is that every aggregate has one root and that operations on that aggregate happen via the root. Looking at the example that you provided it looks like that encapsulation is broken.\r\n\r\nI recommend to rethink your design. Some questions that could help in that effort:\r\n - Can a user exist without a shopping cart (for example when he has just logged in) or is he assigned an empty shopping cart during creation?\r\n - Can a shopping cart exist without a user (likely not) -&gt; This may be a pointer that all operations on shopping cart actually have to go via its aggregate root which is user. So now you could question why `User` needs to be an attribute of `ShoppingCart`, since `ShoppingCart` can never be accessed directly, it always has to be accessed via `User`.","title":"Java Domain and DAO Mapper","body":"<p>I noticed that you tagged your question with <code>domain-driven-design</code>. One of the key principles in domain driven design is that every aggregate has one root and that operations on that aggregate happen via the root. Looking at the example that you provided it looks like that encapsulation is broken.</p>\n<p>I recommend to rethink your design. Some questions that could help in that effort:</p>\n<ul>\n<li>Can a user exist without a shopping cart (for example when he has just logged in) or is he assigned an empty shopping cart during creation?</li>\n<li>Can a shopping cart exist without a user (likely not) -&gt; This may be a pointer that all operations on shopping cart actually have to go via its aggregate root which is user. So now you could question why <code>User</code> needs to be an attribute of <code>ShoppingCart</code>, since <code>ShoppingCart</code> can never be accessed directly, it always has to be accessed via <code>User</code>.</li>\n</ul>\n"}],"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680185741,"creation_date":1680177236,"question_id":75887930,"body_markdown":"The structure of the project is that there are Domain objects that are used to perform some logical operations on them and DAO objects that are only used to save and read data from the database. And after reading the DAO object from the database there are mappers whose job is to convert the DAO object to the Domain version.\r\n\r\nSample of a Domain object:\r\n``` \r\npublic class User {\r\n    UserId userId;\r\n\tString name;\r\n\tShoppingCart shoppingCart;\r\n    ...\r\n}\r\n\r\npublic class ShoppingCart {\r\n    ShoppingCartId shoppingCartId;\r\n    float price;\r\n\tUser user;\r\n    ...\r\n}\r\n``` \r\n\r\nSample of DAO objects:\r\n``` \r\npublic class UserDAO {\r\n    Long id;\r\n\tString name;\r\n\tShoppingCartDAO shoppingCart;\r\n    ...\r\n}\r\n\r\npublic class ShoppingCartDAO {\r\n    Long id;\r\n    float price;\r\n\tUserDAO user;\r\n    ...\r\n}\r\n``` \r\nBut there is a problem when the DAO object has a relation with another object and this relation is bidirectional. \r\n\r\nFor example:\r\nUser object has ShoppingCart object inside and ShoppingCart has User object inside in @OneToOne relation.\r\n\r\nThe idea of mappers is that they map the whole object so the mapper for the User object would rewrite regular fields into UserDAO and would run mapper for ShoppingCart so it can convert it so ShoppingCartDAO and assign it to UserDAO. But once it does so the mapper ShoppingCart mapper will try to map the User to DAO and it ends up in a loop of mappers calling each other. \r\n\r\nSample mapper:\r\n``` \r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class UserDAOMapper {\r\n\r\n    public static UserDAO toDAO(User user) {\r\n\r\n        return UserDAO.builder()\r\n                .id(user.getUserId().getId())\r\n                .name(user.getName())\r\n                .shoppingCart(ShoppingCartDAOMapper.toDAO(user.getShoppingCar())\r\n                .build();\r\n    }\r\n}\r\n``` \r\n\r\nHow can I avoid such loops and at the same time keep the code simple? The only solution I see so far is the usage of Factory services that would take a list of arguments with objects inside the object and map it only if the passed argument is null. ","title":"Java Domain and DAO Mapper","body":"<p>The structure of the project is that there are Domain objects that are used to perform some logical operations on them and DAO objects that are only used to save and read data from the database. And after reading the DAO object from the database there are mappers whose job is to convert the DAO object to the Domain version.</p>\n<p>Sample of a Domain object:</p>\n<pre><code>public class User {\n    UserId userId;\n    String name;\n    ShoppingCart shoppingCart;\n    ...\n}\n\npublic class ShoppingCart {\n    ShoppingCartId shoppingCartId;\n    float price;\n    User user;\n    ...\n}\n</code></pre>\n<p>Sample of DAO objects:</p>\n<pre><code>public class UserDAO {\n    Long id;\n    String name;\n    ShoppingCartDAO shoppingCart;\n    ...\n}\n\npublic class ShoppingCartDAO {\n    Long id;\n    float price;\n    UserDAO user;\n    ...\n}\n</code></pre>\n<p>But there is a problem when the DAO object has a relation with another object and this relation is bidirectional.</p>\n<p>For example:\nUser object has ShoppingCart object inside and ShoppingCart has User object inside in @OneToOne relation.</p>\n<p>The idea of mappers is that they map the whole object so the mapper for the User object would rewrite regular fields into UserDAO and would run mapper for ShoppingCart so it can convert it so ShoppingCartDAO and assign it to UserDAO. But once it does so the mapper ShoppingCart mapper will try to map the User to DAO and it ends up in a loop of mappers calling each other.</p>\n<p>Sample mapper:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class UserDAOMapper {\n\n    public static UserDAO toDAO(User user) {\n\n        return UserDAO.builder()\n                .id(user.getUserId().getId())\n                .name(user.getName())\n                .shoppingCart(ShoppingCartDAOMapper.toDAO(user.getShoppingCar())\n                .build();\n    }\n}\n</code></pre>\n<p>How can I avoid such loops and at the same time keep the code simple? The only solution I see so far is the usage of Factory services that would take a list of arguments with objects inside the object and map it only if the passed argument is null.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680194183,"post_id":75886098,"comment_id":133860669,"body_markdown":"Realistically, you should not create a JVM max heap size that large, anyway. GC pauses will take forever.","body":"Realistically, you should not create a JVM max heap size that large, anyway. GC pauses will take forever."}],"answers":[{"tags":[],"owner":{"account_id":12285741,"reputation":155,"user_id":8965263,"display_name":"Joom187"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680185561,"creation_date":1680185561,"answer_id":75889338,"question_id":75886098,"body_markdown":"These kinds of errors can not only occur because the total amount of heap space is exhausted, but also when the number of memory-mapped areas is exhausted.\r\n\r\nIn Linux, the maximum per-process number of map areas is controlled by vm.max_map_count sysctl parameter (which defaults to 65536). So, i would try, for example, to double it and examine what happens:\r\n\r\nsysctl -w vm.max_map_count=131072\r\nAn indicator that you have hit into this problem is when the heap dump lists a huge number of open mmap areas (under &quot;Dynamic Libraries&quot; section)\r\n\r\n ","title":"Kafka Jvm out of memory","body":"<p>These kinds of errors can not only occur because the total amount of heap space is exhausted, but also when the number of memory-mapped areas is exhausted.</p>\n<p>In Linux, the maximum per-process number of map areas is controlled by vm.max_map_count sysctl parameter (which defaults to 65536). So, i would try, for example, to double it and examine what happens:</p>\n<p>sysctl -w vm.max_map_count=131072\nAn indicator that you have hit into this problem is when the heap dump lists a huge number of open mmap areas (under &quot;Dynamic Libraries&quot; section)</p>\n"}],"owner":{"account_id":12285741,"reputation":155,"user_id":8965263,"display_name":"Joom187"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680185561,"creation_date":1680166568,"question_id":75886098,"body_markdown":"have 1 kafka broker and 1 zookeeper on same VM with following specs\r\n```\r\n\r\nVcpu: 96\r\n\r\nRAM: 442GB\r\n```\r\n\r\nAnd for testing purposes I want to test how many partitions can will be on broker so I do the following steps\r\n\r\n```\r\n\r\n    Create topic with 128 partitions\r\n    Scale this topics to 50.000 partitions\r\n```\r\n\r\nThen when number of partitions reach the 32168 partitions, kafka brokers Exited with following error log hs_err_pid.log\r\n\r\n```\r\n\r\n head -100 hs_err_pid120814.log\r\n\r\n\r\n\r\n There is insufficient memory for the Java Runtime Environment to continue.\r\n\r\n Native memory allocation (mmap) failed to map 262144 bytes for committing reserved memory.\r\n\r\n Possible reasons:\r\n\r\n   The system is out of physical RAM or swap space\r\n\r\n Possible solutions:\r\n\r\n   Reduce memory load on the system\r\n\r\n   Increase physical memory or swap space\r\n\r\n   Check if swap backing store is full\r\n\r\n   Decrease Java heap size (-Xmx/-Xms)\r\n\r\n   Decrease number of Java threads\r\n\r\n  Decrease Java thread stack sizes (-Xss)\r\n\r\n   Set larger code cache with -XX:ReservedCodeCacheSize=\r\n\r\n This output file may be truncated or incomplete.\r\n\r\n\r\n\r\n  Out of Memory Error (os_linux.cpp:2795), pid=120814, tid=0x00007f4ba5e2d700\r\n\r\n\r\n\r\n JRE version: OpenJDK Runtime Environment (8.0_362-b09) (build 1.8.0_362-b09)\r\n\r\n Java VM: OpenJDK 64-Bit Server VM (25.362-b09 mixed mode linux-amd64 )\r\n\r\n```\r\n\r\n\r\n But why Out Of memory? Here is Kafka heap size\r\n\r\n\r\n**Environment=&quot;KAFKA_HEAP_OPTS=-Xms1G -Xmx96G&quot;**\r\n\r\n\r\nand here is pick RAM consumption when partitions is created\r\n\r\n```\r\nfree -h\r\n\r\n          total        used        free      shared  buff/cache   available\r\n\r\nMem: 442Gi 7.4Gi 435Gi 2.2Gi 4.5Gi 435Gi\r\n\r\nSwap: 0B 0B 0B\r\n```\r\n\r\nWhy it is exited because of RAM? I have no limits in my linux system\r\n\r\n\r\n```\r\nulimit -a\r\n\r\ncore file size          (blocks, -c) unlimited\r\n\r\ndata seg size           (kbytes, -d) unlimited\r\n\r\nscheduling priority             (-e) 0\r\n\r\nfile size               (blocks, -f) unlimited\r\n\r\npending signals                 (-i) unlimited\r\n\r\nmax locked memory       (kbytes, -l) unlimited\r\n\r\nmax memory size         (kbytes, -m) unlimited\r\n\r\nopen files                      (-n) 1048576\r\n\r\npipe size            (512 bytes, -p) 8\r\n\r\nPOSIX message queues     (bytes, -q) unlimited\r\n\r\nreal-time priority              (-r) 0\r\n\r\nstack size              (kbytes, -s) unlimited\r\n\r\ncpu time               (seconds, -t) unlimited\r\n\r\nmax user processes              (-u) unlimited\r\n\r\nvirtual memory          (kbytes, -v) unlimited\r\n\r\nfile locks                      (-x) unlimited\r\n```\r\n","title":"Kafka Jvm out of memory","body":"<p>have 1 kafka broker and 1 zookeeper on same VM with following specs</p>\n<pre><code>\nVcpu: 96\n\nRAM: 442GB\n</code></pre>\n<p>And for testing purposes I want to test how many partitions can will be on broker so I do the following steps</p>\n<pre><code>\n    Create topic with 128 partitions\n    Scale this topics to 50.000 partitions\n</code></pre>\n<p>Then when number of partitions reach the 32168 partitions, kafka brokers Exited with following error log hs_err_pid.log</p>\n<pre><code>\n head -100 hs_err_pid120814.log\n\n\n\n There is insufficient memory for the Java Runtime Environment to continue.\n\n Native memory allocation (mmap) failed to map 262144 bytes for committing reserved memory.\n\n Possible reasons:\n\n   The system is out of physical RAM or swap space\n\n Possible solutions:\n\n   Reduce memory load on the system\n\n   Increase physical memory or swap space\n\n   Check if swap backing store is full\n\n   Decrease Java heap size (-Xmx/-Xms)\n\n   Decrease number of Java threads\n\n  Decrease Java thread stack sizes (-Xss)\n\n   Set larger code cache with -XX:ReservedCodeCacheSize=\n\n This output file may be truncated or incomplete.\n\n\n\n  Out of Memory Error (os_linux.cpp:2795), pid=120814, tid=0x00007f4ba5e2d700\n\n\n\n JRE version: OpenJDK Runtime Environment (8.0_362-b09) (build 1.8.0_362-b09)\n\n Java VM: OpenJDK 64-Bit Server VM (25.362-b09 mixed mode linux-amd64 )\n\n</code></pre>\n<p>But why Out Of memory? Here is Kafka heap size</p>\n<p><strong>Environment=&quot;KAFKA_HEAP_OPTS=-Xms1G -Xmx96G&quot;</strong></p>\n<p>and here is pick RAM consumption when partitions is created</p>\n<pre><code>free -h\n\n          total        used        free      shared  buff/cache   available\n\nMem: 442Gi 7.4Gi 435Gi 2.2Gi 4.5Gi 435Gi\n\nSwap: 0B 0B 0B\n</code></pre>\n<p>Why it is exited because of RAM? I have no limits in my linux system</p>\n<pre><code>ulimit -a\n\ncore file size          (blocks, -c) unlimited\n\ndata seg size           (kbytes, -d) unlimited\n\nscheduling priority             (-e) 0\n\nfile size               (blocks, -f) unlimited\n\npending signals                 (-i) unlimited\n\nmax locked memory       (kbytes, -l) unlimited\n\nmax memory size         (kbytes, -m) unlimited\n\nopen files                      (-n) 1048576\n\npipe size            (512 bytes, -p) 8\n\nPOSIX message queues     (bytes, -q) unlimited\n\nreal-time priority              (-r) 0\n\nstack size              (kbytes, -s) unlimited\n\ncpu time               (seconds, -t) unlimited\n\nmax user processes              (-u) unlimited\n\nvirtual memory          (kbytes, -v) unlimited\n\nfile locks                      (-x) unlimited\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"owner":{"account_id":5220340,"reputation":51,"user_id":5908972,"display_name":"Vaibhav Khandekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680185503,"creation_date":1680185503,"question_id":75889331,"body_markdown":"I want to join 1 table to another using hibernate. \r\n\r\n    Invitation (\r\n    primary key (id, config_version_id),\r\n    other columns\r\n    );\r\n\r\n    ConfigVersion(\r\n    primary key (id),\r\n    boolean active\r\n    other columns\r\n    );\r\n\r\n\r\n    User(\r\n    primary key (id),\r\n    InvitationId\r\n    )\r\n\r\n\r\nI want to join User table to Invitation Table, But this join should only use InvitationId, and it should consider config_version having active = true;\r\n\r\nI tried the following, it did not work.\r\n\r\n    Class User {\r\n    @Id\r\n    private Long id;\r\n    \r\n    @ManyToOne\r\n    @JoinColumnsOrFormulas(\r\n    value = {\r\n    @JoinColumnOrFormula(column = @JoinColumn(name = &quot;invitation_id&quot;, referencedColumnName = &quot;id&quot;)),\r\n    @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;(SELECT id  from config_version where active = true)&quot;))\r\n    })\r\n    Invitation invitation;\r\n    \r\n    }\r\n\r\nIn MySQL the query would be,\r\n\r\n    select * from user u\r\n    inner join invitation i on i.id = u.invitationId and i.config_version_id = (select id from configVersion where id = i.config_version_id and active = true)\r\n\r\n","title":"Hibernate: Map composite key using one joinColumn and one direct query","body":"<p>I want to join 1 table to another using hibernate.</p>\n<pre><code>Invitation (\nprimary key (id, config_version_id),\nother columns\n);\n\nConfigVersion(\nprimary key (id),\nboolean active\nother columns\n);\n\n\nUser(\nprimary key (id),\nInvitationId\n)\n</code></pre>\n<p>I want to join User table to Invitation Table, But this join should only use InvitationId, and it should consider config_version having active = true;</p>\n<p>I tried the following, it did not work.</p>\n<pre><code>Class User {\n@Id\nprivate Long id;\n\n@ManyToOne\n@JoinColumnsOrFormulas(\nvalue = {\n@JoinColumnOrFormula(column = @JoinColumn(name = &quot;invitation_id&quot;, referencedColumnName = &quot;id&quot;)),\n@JoinColumnOrFormula(formula = @JoinFormula(value = &quot;(SELECT id  from config_version where active = true)&quot;))\n})\nInvitation invitation;\n\n}\n</code></pre>\n<p>In MySQL the query would be,</p>\n<pre><code>select * from user u\ninner join invitation i on i.id = u.invitationId and i.config_version_id = (select id from configVersion where id = i.config_version_id and active = true)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","handlerinterceptor"],"comments":[{"owner":{"account_id":15670743,"reputation":135,"user_id":11307336,"display_name":"zoobiE-"},"score":0,"creation_date":1680181475,"post_id":75888564,"comment_id":133856901,"body_markdown":"Can you please include some additional information regarding versions, Spring etc. \nAlso I believe you would need to ensure every library is up to date with jakarta dependencies and not using any old javax ones.","body":"Can you please include some additional information regarding versions, Spring etc.  Also I believe you would need to ensure every library is up to date with jakarta dependencies and not using any old javax ones."},{"owner":{"account_id":4122476,"reputation":71,"user_id":3382421,"display_name":"witilongi"},"score":0,"creation_date":1680184135,"post_id":75888564,"comment_id":133857769,"body_markdown":"Yes of course!! Spring-web in library is version 6.0.5 and spring-web in war project is 5.3.23. I hope this help you!","body":"Yes of course!! Spring-web in library is version 6.0.5 and spring-web in war project is 5.3.23. I hope this help you!"},{"owner":{"account_id":15670743,"reputation":135,"user_id":11307336,"display_name":"zoobiE-"},"score":0,"creation_date":1680254178,"post_id":75888564,"comment_id":133870537,"body_markdown":"There is your problem, you can&#39;t mix those unfortunately since one is using javax and other Jakarta dependencies.","body":"There is your problem, you can&#39;t mix those unfortunately since one is using javax and other Jakarta dependencies."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680185430,"creation_date":1680185430,"answer_id":75889320,"question_id":75888564,"body_markdown":"You cannot mix Spring MVC 5.3.x and 6.0.x in the same application. As you have seen, the former requires `javax.servlet` while the latter requires `jakarta.servlet`. You will either have to upgrade your war project to use Spring Framework 6.0.x or downgrade you library to use Spring Framework 5.3.x. The servlet container to which you are deploying the war file will determine which is the better approach. If it supports Servlet 5.0 or later, you should upgrade to Spring Framework 6.0. If it only supports Servlet 4.0, you should downgrade to Spring Framework 5.3.","title":"HandlerInterceptor with jakarta HttpServletRequest not working with javax HttpServletRequest","body":"<p>You cannot mix Spring MVC 5.3.x and 6.0.x in the same application. As you have seen, the former requires <code>javax.servlet</code> while the latter requires <code>jakarta.servlet</code>. You will either have to upgrade your war project to use Spring Framework 6.0.x or downgrade you library to use Spring Framework 5.3.x. The servlet container to which you are deploying the war file will determine which is the better approach. If it supports Servlet 5.0 or later, you should upgrade to Spring Framework 6.0. If it only supports Servlet 4.0, you should downgrade to Spring Framework 5.3.</p>\n"}],"owner":{"account_id":4122476,"reputation":71,"user_id":3382421,"display_name":"witilongi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680185430,"creation_date":1680180971,"question_id":75888564,"body_markdown":"I have a HandlerInterceptor implemented with jakarta libraries:\r\n\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    \r\n    \r\n    \r\n    @ControllerAdvice\r\n    public class RequestGETInterceptor implements HandlerInterceptor {\r\n    \r\n        /** The log. */\r\n        private final Logger log = LoggerFactory.getLogger(this.getClass());\r\n    \r\n        @Autowired\r\n        private Tracer       tracer;\r\n    \r\n        public boolean preHandle(final HttpServletRequest request, final HttpServletResponse response,\r\n                final Object handler) {\r\n    \r\n            if (DispatcherType.REQUEST.name().equals(request.getDispatcherType().name())\r\n                    &amp;&amp; request.getMethod().equals(HttpMethod.GET.name())) {\r\n                Collections.list(request.getHeaderNames()).stream().collect(Collectors.toMap(h -&gt; h, request::getHeader));\r\n                request.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE);\r\n                if (handler instanceof HandlerMethod) {\r\n                    ((HandlerMethod) handler).getMethod().getName();\r\n                }\r\n    \r\n                final Span span = this.tracer.currentSpan();\r\n                this.log.info(&quot;{} Request {}&quot;, request.getMethod(), span.context().spanId());\r\n    \r\n                // log.info(&quot;headers: {} {} request: {}&quot;, headers, StructuredArguments.keyValue(&quot;method&quot;, method),\r\n                // StructuredArguments.keyValue(&quot;request&quot;, parametersInput));\r\n            }\r\n    \r\n            return true;\r\n        }\r\n\r\nAnd I register this Interceptor in configuration of my app with SpringBoot:\r\n\r\n    @Configuration\r\n    public class WebConfigInterceptors implements WebMvcConfigurer {\r\n    \r\n        @Autowired\r\n        private RequestGETInterceptor getInterceptor;\r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(getInterceptor);\r\n        }\r\n    \r\n    }\r\n\r\nThe problem, I think, is that my project uses javax libraries and my library (where the interceptor stay in) use jakarta libraris and doesn&#39;t intercept the requests. Any idea for solve this?\r\n\r\nThanks!!!\r\n\r\n\r\n","title":"HandlerInterceptor with jakarta HttpServletRequest not working with javax HttpServletRequest","body":"<p>I have a HandlerInterceptor implemented with jakarta libraries:</p>\n<pre><code>import jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n\n\n@ControllerAdvice\npublic class RequestGETInterceptor implements HandlerInterceptor {\n\n    /** The log. */\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\n\n    @Autowired\n    private Tracer       tracer;\n\n    public boolean preHandle(final HttpServletRequest request, final HttpServletResponse response,\n            final Object handler) {\n\n        if (DispatcherType.REQUEST.name().equals(request.getDispatcherType().name())\n                &amp;&amp; request.getMethod().equals(HttpMethod.GET.name())) {\n            Collections.list(request.getHeaderNames()).stream().collect(Collectors.toMap(h -&gt; h, request::getHeader));\n            request.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE);\n            if (handler instanceof HandlerMethod) {\n                ((HandlerMethod) handler).getMethod().getName();\n            }\n\n            final Span span = this.tracer.currentSpan();\n            this.log.info(&quot;{} Request {}&quot;, request.getMethod(), span.context().spanId());\n\n            // log.info(&quot;headers: {} {} request: {}&quot;, headers, StructuredArguments.keyValue(&quot;method&quot;, method),\n            // StructuredArguments.keyValue(&quot;request&quot;, parametersInput));\n        }\n\n        return true;\n    }\n</code></pre>\n<p>And I register this Interceptor in configuration of my app with SpringBoot:</p>\n<pre><code>@Configuration\npublic class WebConfigInterceptors implements WebMvcConfigurer {\n\n    @Autowired\n    private RequestGETInterceptor getInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(getInterceptor);\n    }\n\n}\n</code></pre>\n<p>The problem, I think, is that my project uses javax libraries and my library (where the interceptor stay in) use jakarta libraris and doesn't intercept the requests. Any idea for solve this?</p>\n<p>Thanks!!!</p>\n"},{"tags":["java","gradle","build.gradle"],"owner":{"account_id":3608930,"reputation":331,"user_id":3010454,"display_name":"othp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680185427,"creation_date":1680185427,"question_id":75889319,"body_markdown":"I recently updated a large project to use java.time instead of joda.time. Unfortunately, I wasn&#39;t able to remove joda.time completely from the classpath because some thirdparty dependencies depend on it. Since many classes in joda.time and java.time have the same or similar names, I wanted to avoid other members of the team accidentally importing and using joda.time in new code when their IDE tries to be helpful and adds the import statement for them. To that end, I wanted to update the build.grade file to make the joda.time dependency runtime only. \r\n\r\nI ended up adding a `runtimeOnly(&#39;joda-time:joda-time:2.10.8&#39;)` line to my dependencies configuration and then for each dependency that pulled in joda I added an `exclude module: &#39;joda-time&#39;`. This works but requires that the same exclude be added every time anyone adds a new dependency that uses joda (which is likely to be forgotten) and was extra annoying when joda wasn&#39;t a direct dependency (if my project needs A which depends on B which depends on joda I had to configure A with an exclude of B and include B myself with an exclude of joda). I&#39;d rather have something at a higher level, like how adding exclude statements to `configurations.all` excludes a dependency from everything. \r\n\r\nThere are obviously other solutions to this involving IDE configuration changes, linting rules, developer training, etc; but I would like to know if there&#39;s a straightforward way to tell gradle to convert a transitive dependency from being on the compile and runtime classpaths to being runtime only.","title":"Is it possible to force a transitive dependency in gradle to be runtime only?","body":"<p>I recently updated a large project to use java.time instead of joda.time. Unfortunately, I wasn't able to remove joda.time completely from the classpath because some thirdparty dependencies depend on it. Since many classes in joda.time and java.time have the same or similar names, I wanted to avoid other members of the team accidentally importing and using joda.time in new code when their IDE tries to be helpful and adds the import statement for them. To that end, I wanted to update the build.grade file to make the joda.time dependency runtime only.</p>\n<p>I ended up adding a <code>runtimeOnly('joda-time:joda-time:2.10.8')</code> line to my dependencies configuration and then for each dependency that pulled in joda I added an <code>exclude module: 'joda-time'</code>. This works but requires that the same exclude be added every time anyone adds a new dependency that uses joda (which is likely to be forgotten) and was extra annoying when joda wasn't a direct dependency (if my project needs A which depends on B which depends on joda I had to configure A with an exclude of B and include B myself with an exclude of joda). I'd rather have something at a higher level, like how adding exclude statements to <code>configurations.all</code> excludes a dependency from everything.</p>\n<p>There are obviously other solutions to this involving IDE configuration changes, linting rules, developer training, etc; but I would like to know if there's a straightforward way to tell gradle to convert a transitive dependency from being on the compile and runtime classpaths to being runtime only.</p>\n"},{"tags":["java","spring-boot","kubernetes","config","classnotfoundexception"],"comments":[{"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"score":0,"creation_date":1680179429,"post_id":75888265,"comment_id":133856272,"body_markdown":"It probably has to do with your Java version. Make sure that the java version that you use in  your computer when running this is same as the java version used in Kubernetes. Check your dockerfile to find which java version it uses. run `java --version` in your computer to find out your local java version. Both must match.","body":"It probably has to do with your Java version. Make sure that the java version that you use in  your computer when running this is same as the java version used in Kubernetes. Check your dockerfile to find which java version it uses. run <code>java --version</code> in your computer to find out your local java version. Both must match."}],"answers":[{"comments":[{"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"score":0,"creation_date":1680239971,"post_id":75889288,"comment_id":133867811,"body_markdown":"I am using spring-cloud-dependencies bom in the project.\n&lt;properties&gt;\n       &lt;spring-cloud.version&gt;Finchley.SR3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;","body":"I am using spring-cloud-dependencies bom in the project. &lt;properties&gt;        &lt;spring-cloud.version&gt;Finchley.SR3&lt;/spring-cloud.version&gt;     &lt;/properties&gt; &lt;dependencyManagement&gt;         &lt;dependencies&gt;             &lt;dependency&gt;                 &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;                 &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;                 &lt;version&gt;${spring-cloud.version}&lt;/version&gt;                 &lt;type&gt;pom&lt;/type&gt;                 &lt;scope&gt;import&lt;/scope&gt;             &lt;/dependency&gt;         &lt;/dependencies&gt;     &lt;/dependencyManagement&gt;"},{"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"score":0,"creation_date":1680241700,"post_id":75889288,"comment_id":133868001,"body_markdown":"I changed the Spring Cloud Kubernetes version to 1.0.0.RELEASE and application started in the Kubernetes cluster. Thank you","body":"I changed the Spring Cloud Kubernetes version to 1.0.0.RELEASE and application started in the Kubernetes cluster. Thank you"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680185245,"creation_date":1680185245,"answer_id":75889288,"question_id":75888265,"body_markdown":"The version of Spring Cloud Kubernetes that you are using (1.1.10.RELEASE) requires Spring Boot 2.2.x. You are using 2.0.x. This older version of Spring Boot uses an older version of Spring Framework that does not contain the `org.springframework.core.env.Profiles` class. It was introduced in Spring Framework 5.1 and Spring Boot 2.0.x uses Spring Framework 5.0.x.\r\n\r\nYou should update your dependency versions to ensure that they&#39;re compatible. To make it easier to do so, I would recommend using the `spring-cloud-dependencies` bom as shown on its [project page](https://spring.io/projects/spring-cloud).","title":"Caused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles","body":"<p>The version of Spring Cloud Kubernetes that you are using (1.1.10.RELEASE) requires Spring Boot 2.2.x. You are using 2.0.x. This older version of Spring Boot uses an older version of Spring Framework that does not contain the <code>org.springframework.core.env.Profiles</code> class. It was introduced in Spring Framework 5.1 and Spring Boot 2.0.x uses Spring Framework 5.0.x.</p>\n<p>You should update your dependency versions to ensure that they're compatible. To make it easier to do so, I would recommend using the <code>spring-cloud-dependencies</code> bom as shown on its <a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">project page</a>.</p>\n"}],"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75889288,"answer_count":1,"score":1,"last_activity_date":1680185245,"creation_date":1680179156,"question_id":75888265,"body_markdown":"When I run the application locally the application is up and running but when i deploy the same application in the Kubernetes cluster i am getting the error \r\n\r\n**Error** \r\n```\r\njava.lang.NoClassDefFoundError: org/springframework/core/env/Profiles\r\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$null$3(PropertySourceUtils.java:69)\r\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:239)\r\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:167)\r\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:139)\r\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.createProperties(YamlPropertiesFactoryBean.java:135)\r\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.getObject(YamlPropertiesFactoryBean.java:115)\r\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$yamlParserGenerator$4(PropertySourceUtils.java:77)\r\n        at java.util.function.Function.lambda$andThen$1(Function.java:88)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.processAllEntries(ConfigMapPropertySource.java:149)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.getData(ConfigMapPropertySource.java:100)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.&lt;init&gt;(ConfigMapPropertySource.java:78)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.getMapPropertySourceForSingleConfigMap(ConfigMapPropertySourceLocator.java:96)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.lambda$locate$0(ConfigMapPropertySourceLocator.java:79)\r\n        at java.util.ArrayList.forEach(ArrayList.java:1259)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.locate(ConfigMapPropertySourceLocator.java:78)\r\n        at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:94)\r\n        at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:628)\r\n        at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:364)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230)\r\n        at com.daimler.daivb.msl.MbappsSnapLocalSearchServiceApplication.main(MbappsSnapLocalSearchServiceApplication.java:30)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n```\r\n\r\nDependencies I am using in the application are \r\n\r\n1. spring-boot-starter-web - 2.0.8.RELEASE\r\n2. gson                    - 2.3.1\r\n3. json-lib                - 2.3\r\n4. spring-cloud-starter-kubernetes-config -1.1.10.RELEASE\r\n5. json                    - 20230227\r\n6. xmlrpc-client           - 3.1.3\r\n7. spring-security-oauth2-autoconfigure - 2.0.8.RELEASE\r\n8. spring-security-config\r\n9. spring-security-web\r\n10. spring-cloud-starter-openfeign - 2.0.0.RELEASE\r\n11. spring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE\r\n12. spring-boot-starter-actuator\r\n13. commons-lang3           - 3.8.1\r\n14. lombok\r\n15. spring-cloud-starter-config - 2.0.3.RELEASE\r\n16. micrometer-registry-prometheus - 1.2.2\r\n17. micrometer-core - 1.2.2\r\n18. spring-boot-starter-test\r\n19. spring-cloud-dependencies - Finchley.SR3\r\n","title":"Caused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles","body":"<p>When I run the application locally the application is up and running but when i deploy the same application in the Kubernetes cluster i am getting the error</p>\n<p><strong>Error</strong></p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/core/env/Profiles\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$null$3(PropertySourceUtils.java:69)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:239)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:167)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:139)\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.createProperties(YamlPropertiesFactoryBean.java:135)\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.getObject(YamlPropertiesFactoryBean.java:115)\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$yamlParserGenerator$4(PropertySourceUtils.java:77)\n        at java.util.function.Function.lambda$andThen$1(Function.java:88)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.processAllEntries(ConfigMapPropertySource.java:149)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.getData(ConfigMapPropertySource.java:100)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.&lt;init&gt;(ConfigMapPropertySource.java:78)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.getMapPropertySourceForSingleConfigMap(ConfigMapPropertySourceLocator.java:96)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.lambda$locate$0(ConfigMapPropertySourceLocator.java:79)\n        at java.util.ArrayList.forEach(ArrayList.java:1259)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.locate(ConfigMapPropertySourceLocator.java:78)\n        at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:94)\n        at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:628)\n        at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:364)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230)\n        at com.daimler.daivb.msl.MbappsSnapLocalSearchServiceApplication.main(MbappsSnapLocalSearchServiceApplication.java:30)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n</code></pre>\n<p>Dependencies I am using in the application are</p>\n<ol>\n<li>spring-boot-starter-web - 2.0.8.RELEASE</li>\n<li>gson                    - 2.3.1</li>\n<li>json-lib                - 2.3</li>\n<li>spring-cloud-starter-kubernetes-config -1.1.10.RELEASE</li>\n<li>json                    - 20230227</li>\n<li>xmlrpc-client           - 3.1.3</li>\n<li>spring-security-oauth2-autoconfigure - 2.0.8.RELEASE</li>\n<li>spring-security-config</li>\n<li>spring-security-web</li>\n<li>spring-cloud-starter-openfeign - 2.0.0.RELEASE</li>\n<li>spring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE</li>\n<li>spring-boot-starter-actuator</li>\n<li>commons-lang3           - 3.8.1</li>\n<li>lombok</li>\n<li>spring-cloud-starter-config - 2.0.3.RELEASE</li>\n<li>micrometer-registry-prometheus - 1.2.2</li>\n<li>micrometer-core - 1.2.2</li>\n<li>spring-boot-starter-test</li>\n<li>spring-cloud-dependencies - Finchley.SR3</li>\n</ol>\n"},{"tags":["java","firebase","android-studio"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1680154110,"post_id":75883939,"comment_id":133850326,"body_markdown":"I&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1680211344,"post_id":75883939,"comment_id":133864591,"body_markdown":"You need to add the error you&#39;re getting to your question and also add your xml file.","body":"You need to add the error you&#39;re getting to your question and also add your xml file."}],"owner":{"account_id":26872758,"reputation":1,"user_id":20454464,"display_name":"Sam_Paris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680185241,"creation_date":1680147885,"question_id":75883939,"body_markdown":"I&#39;m trying to have the users email which is a textview for that menu show up on the menu in a main activity but I have no clue how to have it instantiated [error][1]in the main activity java file   \r\n\r\n```\r\npackage com.example.mymycology;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\nFirebaseAuth auth;\r\nTextView textView;\r\nFirebaseUser user;\r\n\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.logout_menu, menu);\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.Logout:\r\n                FirebaseAuth.getInstance().signOut();\r\n                Intent intent  = new Intent(getApplicationContext(), Login.class);\r\n                startActivity(intent);\r\n                finish();\r\n\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState ) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        auth = FirebaseAuth.getInstance();\r\n        user = auth.getCurrentUser();\r\n        textView = findViewById(R.id.user_details);\r\n        \r\n        if (user == null) {\r\n            Intent intent  = new Intent(getApplicationContext(), Login.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }else{\r\n            textView.setText(user.getEmail());\r\n        }\r\n\r\n        }\r\n    }\r\n```\r\n\r\nUser details is the ID for that Text in the menu the error is where i try to set the textview to that id\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oAuMb.png","title":"How can I Initiate a TextView item from a menu xml in a Main Activity in android studio","body":"<p>I'm trying to have the users email which is a textview for that menu show up on the menu in a main activity but I have no clue how to have it instantiated <a href=\"https://i.stack.imgur.com/oAuMb.png\" rel=\"nofollow noreferrer\">error</a>in the main activity java file</p>\n<pre><code>package com.example.mymycology;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.Spinner;\nimport android.widget.TextView;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\npublic class MainActivity extends AppCompatActivity {\nFirebaseAuth auth;\nTextView textView;\nFirebaseUser user;\n\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.logout_menu, menu);\n        return true;\n    }\n\n\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.Logout:\n                FirebaseAuth.getInstance().signOut();\n                Intent intent  = new Intent(getApplicationContext(), Login.class);\n                startActivity(intent);\n                finish();\n\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState ) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        auth = FirebaseAuth.getInstance();\n        user = auth.getCurrentUser();\n        textView = findViewById(R.id.user_details);\n        \n        if (user == null) {\n            Intent intent  = new Intent(getApplicationContext(), Login.class);\n            startActivity(intent);\n            finish();\n        }else{\n            textView.setText(user.getEmail());\n        }\n\n        }\n    }\n</code></pre>\n<p>User details is the ID for that Text in the menu the error is where i try to set the textview to that id</p>\n"},{"tags":["java","firebase","android-studio","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680349732,"post_id":75889244,"comment_id":133885604,"body_markdown":"Have you tried to check what happens if the Task is not successful?","body":"Have you tried to check what happens if the Task is not successful?"}],"owner":{"account_id":28169232,"reputation":1,"user_id":21528018,"display_name":"Josh 46"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680184888,"creation_date":1680184888,"question_id":75889244,"body_markdown":"So I am working on a android studio project where users can book on to a barbering service, For previous appointments to go into a history page, then have a field on firestore, called done, when its past the appointments due date/time the done field should change to true so that the appointment can be shown in the history page on the app. For some reason it is not doing it, can anyone see why.\r\n\r\nThis is how the directory and layout of the firestore for this problem is laid out:\r\n[Starts with collection User, into the documents that are the users emails, then into another collection called Booking and in this collection has each booking appointment.](https://i.stack.imgur.com/Xbizq.png)\r\n\r\nHere an example of one of the bookings with all the fields:\r\n[As you can see the done field is on false, which I need to change to true when its a past appointment.](https://i.stack.imgur.com/HEWTN.png)\r\n\r\nAs you can see the done field is on false, which I need to change to true when its a past appointment.\r\n\r\nHere is the code envolved with updating the done field:\r\n\r\n\r\n```\r\npackage com.example.loginpage.Firestore;\r\n\r\nimport android.util.Log;\r\n\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\n\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\npublic class UpdateDoneField {\r\n\r\n    private final FirebaseFirestore db;\r\n\r\n    public UpdateDoneField() {\r\n        db = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    public void updatePreviousBookings() {\r\n        // Get current time\r\n        Date currentTime = Calendar.getInstance().getTime();\r\n        Log.d(&quot;UpdateDoneField&quot;, &quot;Current time: &quot; + currentTime.toString());\r\n\r\n        // Get all user documents\r\n        CollectionReference usersRef = db.collection(&quot;User&quot;);\r\n        usersRef.get().addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()) {\r\n                Log.d(&quot;UpdateDoneField&quot;, &quot;Got user documents&quot;);\r\n                for (DocumentSnapshot userDoc : task.getResult().getDocuments()) {\r\n                    Log.d(&quot;UpdateDoneField&quot;, &quot;Got &quot; + task.getResult().size() + &quot; user documents&quot;);\r\n\r\n                    // Get user&#39;s booking collection\r\n                    CollectionReference bookingRef = userDoc.getReference().collection(&quot;Booking&quot;);\r\n\r\n                    // Query for previous bookings that are not done\r\n                    Query prevBookingsQuery = bookingRef.whereLessThan(&quot;time&quot;, currentTime).whereEqualTo(&quot;done&quot;, false);\r\n                    prevBookingsQuery.get().addOnCompleteListener(queryTask -&gt; {\r\n                        if (queryTask.isSuccessful()) {\r\n                            for (DocumentSnapshot prevBookingDoc : queryTask.getResult().getDocuments()) {\r\n                                // Update &#39;done&#39; field to true\r\n                                prevBookingDoc.getReference().update(&quot;done&quot;, true).addOnCompleteListener(Task::isSuccessful);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nI then have the method called when the home fragment begins, so when I launch the app and the home fragment begins, it should go through the bookings automatically and change any previous bookings done fields to true.\r\n\r\nI have tried logging and it seems that when trying to receive the documents in the User collection it comes back as 0, which I actually have 2 documents as you can see in the image above.","title":"Can anyone help me figure out why these firestore fields will not update when I run this method?","body":"<p>So I am working on a android studio project where users can book on to a barbering service, For previous appointments to go into a history page, then have a field on firestore, called done, when its past the appointments due date/time the done field should change to true so that the appointment can be shown in the history page on the app. For some reason it is not doing it, can anyone see why.</p>\n<p>This is how the directory and layout of the firestore for this problem is laid out:\n<a href=\"https://i.stack.imgur.com/Xbizq.png\" rel=\"nofollow noreferrer\">Starts with collection User, into the documents that are the users emails, then into another collection called Booking and in this collection has each booking appointment.</a></p>\n<p>Here an example of one of the bookings with all the fields:\n<a href=\"https://i.stack.imgur.com/HEWTN.png\" rel=\"nofollow noreferrer\">As you can see the done field is on false, which I need to change to true when its a past appointment.</a></p>\n<p>As you can see the done field is on false, which I need to change to true when its a past appointment.</p>\n<p>Here is the code envolved with updating the done field:</p>\n<pre><code>package com.example.loginpage.Firestore;\n\nimport android.util.Log;\n\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.Query;\n\nimport java.util.Calendar;\nimport java.util.Date;\n\npublic class UpdateDoneField {\n\n    private final FirebaseFirestore db;\n\n    public UpdateDoneField() {\n        db = FirebaseFirestore.getInstance();\n    }\n\n    public void updatePreviousBookings() {\n        // Get current time\n        Date currentTime = Calendar.getInstance().getTime();\n        Log.d(&quot;UpdateDoneField&quot;, &quot;Current time: &quot; + currentTime.toString());\n\n        // Get all user documents\n        CollectionReference usersRef = db.collection(&quot;User&quot;);\n        usersRef.get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                Log.d(&quot;UpdateDoneField&quot;, &quot;Got user documents&quot;);\n                for (DocumentSnapshot userDoc : task.getResult().getDocuments()) {\n                    Log.d(&quot;UpdateDoneField&quot;, &quot;Got &quot; + task.getResult().size() + &quot; user documents&quot;);\n\n                    // Get user's booking collection\n                    CollectionReference bookingRef = userDoc.getReference().collection(&quot;Booking&quot;);\n\n                    // Query for previous bookings that are not done\n                    Query prevBookingsQuery = bookingRef.whereLessThan(&quot;time&quot;, currentTime).whereEqualTo(&quot;done&quot;, false);\n                    prevBookingsQuery.get().addOnCompleteListener(queryTask -&gt; {\n                        if (queryTask.isSuccessful()) {\n                            for (DocumentSnapshot prevBookingDoc : queryTask.getResult().getDocuments()) {\n                                // Update 'done' field to true\n                                prevBookingDoc.getReference().update(&quot;done&quot;, true).addOnCompleteListener(Task::isSuccessful);\n                            }\n                        }\n                    });\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>I then have the method called when the home fragment begins, so when I launch the app and the home fragment begins, it should go through the bookings automatically and change any previous bookings done fields to true.</p>\n<p>I have tried logging and it seems that when trying to receive the documents in the User collection it comes back as 0, which I actually have 2 documents as you can see in the image above.</p>\n"},{"tags":["java","android","layout"],"comments":[{"owner":{"account_id":111674,"reputation":20654,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1614781637,"post_id":3316431,"comment_id":117489835,"body_markdown":"Does this answer your question? [What is textview.setTextSize()?](https://stackoverflow.com/questions/23590943/what-is-textview-settextsize)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23590943/what-is-textview-settextsize\">What is textview.setTextSize()?</a>"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1614848623,"post_id":3316431,"comment_id":117511961,"body_markdown":"Does this answer your question? [Android specifying pixel units (like sp, px, dp) without using XML](https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml\">Android specifying pixel units (like sp, px, dp) without using XML</a>"}],"answers":[{"comments":[{"owner":{"account_id":111674,"reputation":20654,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1614781895,"post_id":5032267,"comment_id":117489973,"body_markdown":"note, it would be `.scaledDensity` BUT this solution DOES NOT now seem to work on modern androids (it comes out way too big)","body":"note, it would be <code>.scaledDensity</code> BUT this solution DOES NOT now seem to work on modern androids (it comes out way too big)"},{"owner":{"account_id":111674,"reputation":20654,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1614786143,"post_id":5032267,"comment_id":117492265,"body_markdown":".. when setting the text size","body":".. when setting the text size"}],"tags":[],"owner":{"account_id":104971,"reputation":4161,"user_id":280384,"accept_rate":71,"display_name":"sven"},"comment_count":2,"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1371641451,"creation_date":1297963184,"answer_id":5032267,"question_id":3316431,"body_markdown":"Solved &lt;a href=&quot;https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml/5012893#5012893&quot;&gt;here&lt;/a&gt;.\r\n\r\nExtract:\r\n\r\n    DisplayMetrics metrics = getContext().getResources().getDisplayMetrics();\r\n    float dp = 20f;\r\n    float fpixels = metrics.density * dp;\r\n    int pixels = (int) (fpixels + 0.5f);","title":"How do I set Layout and Text size to DP inside program?","body":"<p>Solved <a href=\"https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml/5012893#5012893\">here</a>.</p>\n\n<p>Extract:</p>\n\n<pre><code>DisplayMetrics metrics = getContext().getResources().getDisplayMetrics();\nfloat dp = 20f;\nfloat fpixels = metrics.density * dp;\nint pixels = (int) (fpixels + 0.5f);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477935,"reputation":13271,"user_id":889715,"display_name":"Santosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1363700799,"creation_date":1343030937,"answer_id":11608619,"question_id":3316431,"body_markdown":"You can use:\r\n\r\n    float pixels = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\r\n\r\nNow the value of `pixels` is equivalent to `10dp` at the device&#39;s current screen density.\r\n\r\nThe [TypedValue][1] contains other similar methods that help in conversion.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/util/TypedValue.html","title":"How do I set Layout and Text size to DP inside program?","body":"<p>You can use:</p>\n\n<pre><code>float pixels = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\n</code></pre>\n\n<p>Now the value of <code>pixels</code> is equivalent to <code>10dp</code> at the device's current screen density.</p>\n\n<p>The <a href=\"http://developer.android.com/reference/android/util/TypedValue.html\">TypedValue</a> contains other similar methods that help in conversion.</p>\n"},{"tags":[],"owner":{"account_id":6631047,"reputation":805,"user_id":5119746,"display_name":"Julian Horst"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1509572075,"creation_date":1436970941,"answer_id":31433388,"question_id":3316431,"body_markdown":"Just for completeness: Another solution (which I&#39;d prefer) for the question is given [here][1]\r\n\r\n&gt; `setTextSize(float)` expects a scaled pixel value. So, `setTextSize(10)` would give you the desired result. However, `getDimension()` and `getDimensionPixelSize()` return the size in units of pixels.\r\n    \r\nSo for your example it would be\r\n\r\n    setTextSize(TypedValue.COMPLEX_UNIT_PX, getResources().getDimensionPixelSize(R.dimen.edTxt_text_size));\r\n\r\nwhere `&lt;dimen name=&quot;edtxt_text_size&quot;&gt;10dp&lt;/dimen&gt;` is set in your dimens.xml file for example.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19497680/5119746","title":"How do I set Layout and Text size to DP inside program?","body":"<p>Just for completeness: Another solution (which I'd prefer) for the question is given <a href=\"https://stackoverflow.com/a/19497680/5119746\">here</a></p>\n\n<blockquote>\n  <p><code>setTextSize(float)</code> expects a scaled pixel value. So, <code>setTextSize(10)</code> would give you the desired result. However, <code>getDimension()</code> and <code>getDimensionPixelSize()</code> return the size in units of pixels.</p>\n</blockquote>\n\n<p>So for your example it would be</p>\n\n<pre><code>setTextSize(TypedValue.COMPLEX_UNIT_PX, getResources().getDimensionPixelSize(R.dimen.edTxt_text_size));\n</code></pre>\n\n<p>where <code>&lt;dimen name=\"edtxt_text_size\"&gt;10dp&lt;/dimen&gt;</code> is set in your dimens.xml file for example.</p>\n"},{"tags":[],"owner":{"account_id":111674,"reputation":20654,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616895788,"creation_date":1614781870,"answer_id":66459077,"question_id":3316431,"body_markdown":"## Regarding setting the TEXT SIZE:\r\n\r\nFor 2021 ...\r\n\r\nFortunately, the correct modern answer is just\r\n\r\n    textView.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 25);\r\n\r\nor you can use COMPLEX_UNIT_SP, etc.\r\n\r\n## Exactly matches xml for text size:\r\n\r\nChecked, on all devices this produces exactly the same result as just setting it in xml:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\n## Regarding setting, say, a layout parameter:\r\n\r\n    int h = 66; // the new value\r\n    ViewGroup.LayoutParams p = some_frame.getLayoutParams();\r\n    float fdp = TypedValue.applyDimension(\r\n        TypedValue.COMPLEX_UNIT_DIP,\r\n        h,\r\n        getResources().getDisplayMetrics());\r\n    p.height = Math.round(fdp);\r\n    some_frame.setLayoutParams(p);\r\n\r\nThis appears to work correctly, on a test device. The value &quot;h&quot; is now the &quot;same&quot; as simply in the xml, enter 66dp.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wgUwv.png","title":"How do I set Layout and Text size to DP inside program?","body":"<h2>Regarding setting the TEXT SIZE:</h2>\n<p>For 2021 ...</p>\n<p>Fortunately, the correct modern answer is just</p>\n<pre><code>textView.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 25);\n</code></pre>\n<p>or you can use COMPLEX_UNIT_SP, etc.</p>\n<h2>Exactly matches xml for text size:</h2>\n<p>Checked, on all devices this produces exactly the same result as just setting it in xml:</p>\n<p><a href=\"https://i.stack.imgur.com/wgUwv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wgUwv.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h2>Regarding setting, say, a layout parameter:</h2>\n<pre><code>int h = 66; // the new value\nViewGroup.LayoutParams p = some_frame.getLayoutParams();\nfloat fdp = TypedValue.applyDimension(\n    TypedValue.COMPLEX_UNIT_DIP,\n    h,\n    getResources().getDisplayMetrics());\np.height = Math.round(fdp);\nsome_frame.setLayoutParams(p);\n</code></pre>\n<p>This appears to work correctly, on a test device. The value &quot;h&quot; is now the &quot;same&quot; as simply in the xml, enter 66dp.</p>\n"},{"tags":[],"owner":{"account_id":1807763,"reputation":394,"user_id":3127526,"accept_rate":62,"display_name":"sandip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680184851,"creation_date":1680184851,"answer_id":75889235,"question_id":3316431,"body_markdown":"For Kotlin to increase/decrease font size with below logic. It works in 2\r\n\r\n   \r\n\r\n     `  private var fontSize: Float = 17F //default font size\r\n        \r\n        btnTextDecrease.setOnClickListener {\r\n           if (fontSize &lt;= 13F) {return@setOnClickListener}\r\n           fontSize -= 0.5F\r\n           etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\r\n           Toast.makeText(activity, &quot;Decrease Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    \r\n        btnTextIncrease.setOnClickListener {\r\n           fontSize += 0.5F\r\n           etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\r\n           Toast.makeText(activity, &quot;Increase Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\r\n        }`","title":"How do I set Layout and Text size to DP inside program?","body":"<p>For Kotlin to increase/decrease font size with below logic. It works in 2</p>\n<pre><code> `  private var fontSize: Float = 17F //default font size\n    \n    btnTextDecrease.setOnClickListener {\n       if (fontSize &lt;= 13F) {return@setOnClickListener}\n       fontSize -= 0.5F\n       etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\n       Toast.makeText(activity, &quot;Decrease Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\n    }\n\n    btnTextIncrease.setOnClickListener {\n       fontSize += 0.5F\n       etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\n       Toast.makeText(activity, &quot;Increase Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\n    }`\n</code></pre>\n"}],"owner":{"account_id":100892,"reputation":5969,"user_id":271736,"accept_rate":64,"display_name":"RobGThai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55154,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":5032267,"answer_count":5,"score":40,"last_activity_date":1680184851,"creation_date":1279872836,"question_id":3316431,"body_markdown":"Basically I have this inside XML, but I have to recreate it inside a code. How do I do it?\r\n\r\n    &lt;EditText \r\n\t\t\tandroid:layout_width=&quot;140dp&quot;\r\n\t\t\tandroid:layout_height=&quot;20dp&quot;\r\n\t\t\tandroid:background=&quot;@drawable/input_bg01&quot;\r\n\t\t\tandroid:textSize=&quot;10dp&quot;\r\n\t\t\tandroid:gravity=&quot;center&quot;\r\n\t\t\tandroid:text=&quot;111-222-333     FOOO&quot; /&gt;\r\n\r\n\r\nI can use this to set text size, but what about the layout_width and height?\r\n\r\n    edTxt.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 10);\r\n\r\n\r\nIs there a way to tell the code to use DP unit instead of pixel? Or a conversion function to convert DP into pixel?\r\n","title":"How do I set Layout and Text size to DP inside program?","body":"<p>Basically I have this inside XML, but I have to recreate it inside a code. How do I do it?</p>\n\n<pre><code>&lt;EditText \n        android:layout_width=\"140dp\"\n        android:layout_height=\"20dp\"\n        android:background=\"@drawable/input_bg01\"\n        android:textSize=\"10dp\"\n        android:gravity=\"center\"\n        android:text=\"111-222-333     FOOO\" /&gt;\n</code></pre>\n\n<p>I can use this to set text size, but what about the layout_width and height?</p>\n\n<pre><code>edTxt.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 10);\n</code></pre>\n\n<p>Is there a way to tell the code to use DP unit instead of pixel? Or a conversion function to convert DP into pixel?</p>\n"},{"tags":["java","android","sql","database","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680184706,"creation_date":1680184706,"answer_id":75889219,"question_id":53161376,"body_markdown":"Inserting val manually into SQLite database you have to use [`addQuestion()`]() method in [`DatabaseHelper`]() class to insert val into the table.\r\n\r\nYou add only one question. Call [`addQuestion()`]() from `onCreate()` method after the call to [`fillQuestionTable()`]() method.\r\n\r\n\r\n\r\n    public class DatabaseHelper extends SQLiteOpenHelper {\r\n        public static final String DATABASE_NAME = &quot;Questions.db&quot;;\r\n        public static final String TABLE_NAME = &quot;Questions&quot;;\r\n        public static final String QUESTION_NUMBER = &quot;Question_Number&quot;;\r\n        public static final String QUESTION = &quot;Question&quot;;\r\n        public static final String ANSWER_ONE = &quot;Answer_ONE&quot;;\r\n        public static final String ANSWER_TWO = &quot;Answer_THREE&quot;;\r\n        public static final String ANSWER_THREE = &quot;Answer_FOUR&quot;;\r\n        private SQLiteDatabase db;\r\n    \r\n        // Constructor for DatabaseHelper\r\n        public DatabaseHelper(Context context) {\r\n            super(context, DATABASE_NAME, null, 1);\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n        }\r\n    \r\n        // Create database table\r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            this.db = db;\r\n            final String SQL_CREATE_QUESTIONS_TABLE = &quot;CREATE TABLE &quot; +\r\n                    TABLE_NAME + &quot; ( &quot; +\r\n                    QUESTION_NUMBER + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    QUESTION + &quot; TEXT, &quot; +\r\n                    ANSWER_ONE + &quot; TEXT, &quot; +\r\n                    ANSWER_TWO + &quot; TEXT, &quot; +\r\n                    ANSWER_THREE + &quot; TEXT &quot; +\r\n                    &quot;)&quot;;\r\n            db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\r\n    \r\n            // Fill the database table with questions\r\n            fillQuestionTable();\r\n        }\r\n    \r\n        // Upgrade database table if version changes\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS &quot; +TABLE_NAME);\r\n            onCreate(db);\r\n        }\r\n    \r\n        // Fill database table with example question\r\n        private void fillQuestionTable() {\r\n            Question q1 = new Question(1,&quot;Example Question?&quot;,&quot;Yes&quot;,&quot;Sometimes&quot;,&quot;No&quot;);\r\n            addQuestion(q1);\r\n        }\r\n    \r\n        // Add question to database table\r\n        private void addQuestion (Question question) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(QUESTION_NUMBER, question.getQuestionNum());\r\n            cv.put(QUESTION, question.getQuestion());\r\n            cv.put(ANSWER_ONE, question.getOption1());\r\n            cv.put(ANSWER_TWO, question.getOption2());\r\n            cv.put(ANSWER_THREE, question.getOption3());\r\n            db.insert(TABLE_NAME,null,cv);\r\n        }\r\n    }\r\n\r\n---\r\n\r\n`MainActivity`:\r\n\r\n    public class MainActivity extends Activity implements View.OnClickListener {\r\n        Button screenOneButton;\r\n        Button screenTwoButton;\r\n        Button screenThreeButton;\r\n        Button quitButton;\r\n        DatabaseHelper mydb;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Create instance of DatabaseHelper\r\n            DatabaseHelper mydb = new DatabaseHelper(this);\r\n        }\r\n    }\r\n\r\n---\r\n\r\n\r\nYou created the `database` with the columns, but you didn&#39;t add values to it, you add them manually using SQL insert statements.\r\n\r\nThis works for me: \r\n\r\n    SQLiteDatabase db = this.getWritableDatabase();\r\n    ContentValues contentValues = new ContentValues();\r\n    contentValues.put(QUESTION_NUMBER, 1);\r\n    contentValues.put(QUESTION, &quot;Example Question?&quot;);\r\n    contentValues.put(ANSWER_ONE, &quot;Yes&quot;);\r\n    contentValues.put(ANSWER_TWO, &quot;Sometimes&quot;);\r\n    contentValues.put(ANSWER_THREE, &quot;No&quot;);\r\n    db.insert(TABLE_NAME, null, contentValues);\r\n\r\nModify the values according to your needs and make sure to call the table in `onCreate()` method.\r\n\r\n---\r\n\r\nYou are creating new instance of `DatabaseHelper` inside `onCreate()` method in `MainActivity`.\r\n\r\nThis worked for me:\r\n\r\n    public class MainActivity extends Activity implements View.OnClickListener {\r\n        Button screenOneButton;\r\n        Button screenTwoButton;\r\n        Button screenThreeButton;\r\n        Button quitButton;\r\n        DatabaseHelper mydb;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mydb = new DatabaseHelper(this);\r\n        }\r\n    }\r\n\r\nAccess the `mydb` instance throughout your &#39;MainActivity&#39; class.","title":"Android - SQL Insert Manually","body":"<p>Inserting val manually into SQLite database you have to use <code>addQuestion()</code> method in <code>DatabaseHelper</code> class to insert val into the table.</p>\n<p>You add only one question. Call <code>addQuestion()</code> from <code>onCreate()</code> method after the call to <code>fillQuestionTable()</code> method.</p>\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n    public static final String DATABASE_NAME = &quot;Questions.db&quot;;\n    public static final String TABLE_NAME = &quot;Questions&quot;;\n    public static final String QUESTION_NUMBER = &quot;Question_Number&quot;;\n    public static final String QUESTION = &quot;Question&quot;;\n    public static final String ANSWER_ONE = &quot;Answer_ONE&quot;;\n    public static final String ANSWER_TWO = &quot;Answer_THREE&quot;;\n    public static final String ANSWER_THREE = &quot;Answer_FOUR&quot;;\n    private SQLiteDatabase db;\n\n    // Constructor for DatabaseHelper\n    public DatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, 1);\n        SQLiteDatabase db = this.getWritableDatabase();\n    }\n\n    // Create database table\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        this.db = db;\n        final String SQL_CREATE_QUESTIONS_TABLE = &quot;CREATE TABLE &quot; +\n                TABLE_NAME + &quot; ( &quot; +\n                QUESTION_NUMBER + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                QUESTION + &quot; TEXT, &quot; +\n                ANSWER_ONE + &quot; TEXT, &quot; +\n                ANSWER_TWO + &quot; TEXT, &quot; +\n                ANSWER_THREE + &quot; TEXT &quot; +\n                &quot;)&quot;;\n        db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\n\n        // Fill the database table with questions\n        fillQuestionTable();\n    }\n\n    // Upgrade database table if version changes\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; +TABLE_NAME);\n        onCreate(db);\n    }\n\n    // Fill database table with example question\n    private void fillQuestionTable() {\n        Question q1 = new Question(1,&quot;Example Question?&quot;,&quot;Yes&quot;,&quot;Sometimes&quot;,&quot;No&quot;);\n        addQuestion(q1);\n    }\n\n    // Add question to database table\n    private void addQuestion (Question question) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(QUESTION_NUMBER, question.getQuestionNum());\n        cv.put(QUESTION, question.getQuestion());\n        cv.put(ANSWER_ONE, question.getOption1());\n        cv.put(ANSWER_TWO, question.getOption2());\n        cv.put(ANSWER_THREE, question.getOption3());\n        db.insert(TABLE_NAME,null,cv);\n    }\n}\n</code></pre>\n<hr />\n<p><code>MainActivity</code>:</p>\n<pre><code>public class MainActivity extends Activity implements View.OnClickListener {\n    Button screenOneButton;\n    Button screenTwoButton;\n    Button screenThreeButton;\n    Button quitButton;\n    DatabaseHelper mydb;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Create instance of DatabaseHelper\n        DatabaseHelper mydb = new DatabaseHelper(this);\n    }\n}\n</code></pre>\n<hr />\n<p>You created the <code>database</code> with the columns, but you didn't add values to it, you add them manually using SQL insert statements.</p>\n<p>This works for me:</p>\n<pre><code>SQLiteDatabase db = this.getWritableDatabase();\nContentValues contentValues = new ContentValues();\ncontentValues.put(QUESTION_NUMBER, 1);\ncontentValues.put(QUESTION, &quot;Example Question?&quot;);\ncontentValues.put(ANSWER_ONE, &quot;Yes&quot;);\ncontentValues.put(ANSWER_TWO, &quot;Sometimes&quot;);\ncontentValues.put(ANSWER_THREE, &quot;No&quot;);\ndb.insert(TABLE_NAME, null, contentValues);\n</code></pre>\n<p>Modify the values according to your needs and make sure to call the table in <code>onCreate()</code> method.</p>\n<hr />\n<p>You are creating new instance of <code>DatabaseHelper</code> inside <code>onCreate()</code> method in <code>MainActivity</code>.</p>\n<p>This worked for me:</p>\n<pre><code>public class MainActivity extends Activity implements View.OnClickListener {\n    Button screenOneButton;\n    Button screenTwoButton;\n    Button screenThreeButton;\n    Button quitButton;\n    DatabaseHelper mydb;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mydb = new DatabaseHelper(this);\n    }\n}\n</code></pre>\n<p>Access the <code>mydb</code> instance throughout your 'MainActivity' class.</p>\n"}],"owner":{"account_id":14691141,"reputation":11,"user_id":10609788,"display_name":"FlyingPotato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680184706,"creation_date":1541448105,"question_id":53161376,"body_markdown":"I am currently working on an android quiz application with the questions linking to the database, however, I was be able to create the database created but somehow the values such as list of questions won&#39;t be inserted manually. As I have opened the database, it has organized the columns I have wanted but no values will be display such as the &#39;example question&#39; Have I been missing some line of code?\r\n\r\nMany Thanks\r\n\r\n\r\n    public class DatabaseHelper extends SQLiteOpenHelper\r\n    {\r\n    \r\n       public static final String DATABASE_NAME = &quot;Questions.db&quot;;\r\n       public static final String TABLE_NAME = &quot;Questions&quot;;\r\n       public static final String QUESTION_NUMBER = &quot;Question_Number&quot;;\r\n       public static final String QUESTION = &quot;Question&quot;;\r\n       public static final String ANSWER_ONE = &quot;Answer_ONE&quot;;\r\n       public static final String ANSWER_TWO = &quot;Answer_THREE&quot;;\r\n       public static final String ANSWER_THREE = &quot;Answer_FOUR&quot;;\r\n    \r\n       private SQLiteDatabase db;\r\n    \r\n    \r\n    \r\n       public DatabaseHelper(Context context)\r\n       {\r\n          super(context,DATABASE_NAME, null, 1);\r\n          SQLiteDatabase db = this.getWritableDatabase();\r\n       }\r\n    \r\n       @Override\r\n       public void onCreate(SQLiteDatabase db)\r\n       {\r\n          this.db = db;\r\n          final String SQL_CREATE_QUESTIONS_TABLE = &quot;CREATE TABLE &quot; +\r\n                TABLE_NAME + &quot; ( &quot; +\r\n                QUESTION_NUMBER + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                QUESTION + &quot; TEXT, &quot; +\r\n                ANSWER_ONE + &quot; TEXT, &quot; +\r\n                ANSWER_TWO + &quot; TEXT, &quot; +\r\n                ANSWER_THREE + &quot; TEXT &quot; +\r\n                &quot;)&quot;;\r\n    \r\n          db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\r\n          fillQuestionTable();\r\n    \r\n    \r\n       }\r\n    \r\n       @Override\r\n       public void onUpgrade(SQLiteDatabase db, int i, int i1)\r\n       {\r\n          db.execSQL(&quot;DROP TABLE IF EXISTS &quot; +TABLE_NAME);\r\n          onCreate(db);\r\n       }\r\n    \r\n       private void fillQuestionTable()\r\n       {\r\n          Question q1 = new Question(1,&quot;Example Question?&quot;,&quot;Yes&quot;,&quot;Sometimes&quot;,&quot;No&quot;);\r\n          addQuestion(q1);\r\n       }\r\n    \r\n       private void addQuestion (Question question)\r\n       {\r\n          SQLiteDatabase db = this.getWritableDatabase();\r\n          ContentValues cv = new ContentValues();\r\n          cv.put(QUESTION_NUMBER, question.getQuestionNum());\r\n          cv.put(QUESTION, question.getQuestion());\r\n          cv.put(ANSWER_ONE, question.getOption1());\r\n          cv.put(ANSWER_TWO, question.getOption2());\r\n          cv.put(ANSWER_THREE, question.getOption3());\r\n          db.insert(TABLE_NAME,null,cv);\r\n       }\r\n    \r\n    }\r\n\r\nThis is the activity Class\r\n\r\n    public class MainActivity extends Activity implements View.OnClickListener\r\n    {\r\n       Button screenOneButton;\r\n       Button screenTwoButton;\r\n       Button screenThreeButton;\r\n       Button quitButton;\r\n       DatabaseHelper mydb;\r\n    \r\n    \r\n       @Override\r\n       protected void onCreate(Bundle savedInstanceState)\r\n       {\r\n          super.onCreate(savedInstanceState);\r\n          setContentView(R.layout.activity_main);\r\n    \r\n          DatabaseHelper mydb = new DatabaseHelper(this);\r\n    }\r\n\r\nThis is programmed under Intellij software and was able to open the database under DB SQL software FYI!\r\n\r\nMany thanks\r\n","title":"Android - SQL Insert Manually","body":"<p>I am currently working on an android quiz application with the questions linking to the database, however, I was be able to create the database created but somehow the values such as list of questions won't be inserted manually. As I have opened the database, it has organized the columns I have wanted but no values will be display such as the 'example question' Have I been missing some line of code?</p>\n\n<p>Many Thanks</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper\n{\n\n   public static final String DATABASE_NAME = \"Questions.db\";\n   public static final String TABLE_NAME = \"Questions\";\n   public static final String QUESTION_NUMBER = \"Question_Number\";\n   public static final String QUESTION = \"Question\";\n   public static final String ANSWER_ONE = \"Answer_ONE\";\n   public static final String ANSWER_TWO = \"Answer_THREE\";\n   public static final String ANSWER_THREE = \"Answer_FOUR\";\n\n   private SQLiteDatabase db;\n\n\n\n   public DatabaseHelper(Context context)\n   {\n      super(context,DATABASE_NAME, null, 1);\n      SQLiteDatabase db = this.getWritableDatabase();\n   }\n\n   @Override\n   public void onCreate(SQLiteDatabase db)\n   {\n      this.db = db;\n      final String SQL_CREATE_QUESTIONS_TABLE = \"CREATE TABLE \" +\n            TABLE_NAME + \" ( \" +\n            QUESTION_NUMBER + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n            QUESTION + \" TEXT, \" +\n            ANSWER_ONE + \" TEXT, \" +\n            ANSWER_TWO + \" TEXT, \" +\n            ANSWER_THREE + \" TEXT \" +\n            \")\";\n\n      db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\n      fillQuestionTable();\n\n\n   }\n\n   @Override\n   public void onUpgrade(SQLiteDatabase db, int i, int i1)\n   {\n      db.execSQL(\"DROP TABLE IF EXISTS \" +TABLE_NAME);\n      onCreate(db);\n   }\n\n   private void fillQuestionTable()\n   {\n      Question q1 = new Question(1,\"Example Question?\",\"Yes\",\"Sometimes\",\"No\");\n      addQuestion(q1);\n   }\n\n   private void addQuestion (Question question)\n   {\n      SQLiteDatabase db = this.getWritableDatabase();\n      ContentValues cv = new ContentValues();\n      cv.put(QUESTION_NUMBER, question.getQuestionNum());\n      cv.put(QUESTION, question.getQuestion());\n      cv.put(ANSWER_ONE, question.getOption1());\n      cv.put(ANSWER_TWO, question.getOption2());\n      cv.put(ANSWER_THREE, question.getOption3());\n      db.insert(TABLE_NAME,null,cv);\n   }\n\n}\n</code></pre>\n\n<p>This is the activity Class</p>\n\n<pre><code>public class MainActivity extends Activity implements View.OnClickListener\n{\n   Button screenOneButton;\n   Button screenTwoButton;\n   Button screenThreeButton;\n   Button quitButton;\n   DatabaseHelper mydb;\n\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState)\n   {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_main);\n\n      DatabaseHelper mydb = new DatabaseHelper(this);\n}\n</code></pre>\n\n<p>This is programmed under Intellij software and was able to open the database under DB SQL software FYI!</p>\n\n<p>Many thanks</p>\n"},{"tags":["java","winapi","jna"],"answers":[{"comments":[{"owner":{"account_id":2127644,"reputation":48143,"user_id":1889329,"accept_rate":71,"display_name":"IInspectable"},"score":0,"creation_date":1679729742,"post_id":75839197,"comment_id":133776237,"body_markdown":"It&#39;s really best *not* to call `CoUninitialize`, especially in a runtime environment where object destruction happens at a non-deterministic point in time.","body":"It&#39;s really best <i>not</i> to call <code>CoUninitialize</code>, especially in a runtime environment where object destruction happens at a non-deterministic point in time."}],"tags":[],"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679707862,"creation_date":1679707438,"answer_id":75839197,"question_id":75837475,"body_markdown":"You are not assigning a guid value to `riid`, so you are effectively setting it to `IID_NULL` (`{00000000-0000-0000-0000-000000000000}`).  You need to set it to `IID_IADs` (`{FD8256D0-FD15-11CE-ABC4-02608C9E7553}`) instead.\r\n\r\nThat will cause `ADsGetObject()` (if successful) to set `ppObject` to point at an [`IADs`](https://learn.microsoft.com/en-us/windows/win32/api/iads/nn-iads-iads) interface. Make sure that you call [`IUnknown.Release()`](https://learn.microsoft.com/en-us/windows/win32/api/unknwn/nf-unknwn-iunknown-release) on `ppObject` when you are done using that interface.\r\n\r\nAlso, the thread that is calling `ADsGetObject()` must call [`CoInitialize/Ex()`](https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-coinitializeex) beforehand. And call [`CoUninitialize()`](https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-couninitialize) when it is done using the COM library.  You can use `com.sun.jna.platform.win32.Ole32` for that.\r\n\r\nSee the examples at [How to use CoInitializeEx method in com.sun.jna.platform.win32.Ole32](https://www.tabnine.com/code/java/methods/com.sun.jna.platform.win32.Ole32/CoInitializeEx). Also see https://stackoverflow.com/questions/26872146/","title":"Error when calling winAPI native code (ADsGetObject) from JNA","body":"<p>You are not assigning a guid value to <code>riid</code>, so you are effectively setting it to <code>IID_NULL</code> (<code>{00000000-0000-0000-0000-000000000000}</code>).  You need to set it to <code>IID_IADs</code> (<code>{FD8256D0-FD15-11CE-ABC4-02608C9E7553}</code>) instead.</p>\n<p>That will cause <code>ADsGetObject()</code> (if successful) to set <code>ppObject</code> to point at an <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/iads/nn-iads-iads\" rel=\"nofollow noreferrer\"><code>IADs</code></a> interface. Make sure that you call <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/unknwn/nf-unknwn-iunknown-release\" rel=\"nofollow noreferrer\"><code>IUnknown.Release()</code></a> on <code>ppObject</code> when you are done using that interface.</p>\n<p>Also, the thread that is calling <code>ADsGetObject()</code> must call <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-coinitializeex\" rel=\"nofollow noreferrer\"><code>CoInitialize/Ex()</code></a> beforehand. And call <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-couninitialize\" rel=\"nofollow noreferrer\"><code>CoUninitialize()</code></a> when it is done using the COM library.  You can use <code>com.sun.jna.platform.win32.Ole32</code> for that.</p>\n<p>See the examples at <a href=\"https://www.tabnine.com/code/java/methods/com.sun.jna.platform.win32.Ole32/CoInitializeEx\" rel=\"nofollow noreferrer\">How to use CoInitializeEx method in com.sun.jna.platform.win32.Ole32</a>. Also see <a href=\"https://stackoverflow.com/questions/26872146/\">JNA calling CoInitialize when loading a dll</a></p>\n"}],"owner":{"account_id":28113877,"reputation":11,"user_id":21481257,"display_name":"Dmitry I. Gornev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680184572,"creation_date":1679685925,"question_id":75837475,"body_markdown":"I&#39;m trying to learn how to work with windows native code from Java. For this I use the JNA library. I&#39;m just starting to learn how to work with this library and ran into this problem. The [ADsGetObject](https://learn.microsoft.com/en-us/windows/win32/api/adshlp/nf-adshlp-adsgetobject) function call fails. Perhaps I did not fully understand how to convert data types and do not use them correctly. \r\n\r\n\r\n\r\nHere is my code:\r\n```\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.WString;\r\nimport com.sun.jna.platform.win32.Guid.REFIID;\r\nimport com.sun.jna.ptr.PointerByReference;\r\nimport com.sun.jna.win32.StdCallLibrary;\r\nimport com.sun.jna.platform.win32.WinNT.HRESULT;\r\n\r\npublic class GetUserAttribute {\r\n    public static void main(String[] args) {\r\n        getUser(&quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot;);\r\n    }\r\n\r\n    public interface Activeds extends StdCallLibrary {\r\n        Activeds INSTANCE = (Activeds) Native.load(&quot;Activeds&quot;, Activeds.class);\r\n        HRESULT ADsGetObject(WString lpszPathName, REFIID riid, PointerByReference ppObject);\r\n    }\r\n\r\n    public static void getUser(String dn) {\r\n        WString userDN = new WString(dn);\r\n        REFIID riid = new REFIID();\r\n        PointerByReference ppObject = new PointerByReference();\r\n        HRESULT hr = Activeds.INSTANCE.ADsGetObject(userDN,riid,ppObject);\r\n        System.out.println(hr);\r\n    }\r\n```\r\nWhen executed, hr is 0x80004005 (Unspecified error). I would be grateful for any hints on what I&#39;m doing wrong and maybe for an example of a working code.\r\n\r\nHere is the code on VBS that works correctly. Would like to &quot;translate&quot; it into Java code:\r\n\r\n```\r\nDim strUserDN = &quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot; \r\nset objUser = GetObject(&quot;LDAP://&quot; &amp; strUserDN)\r\nWscript.echo objUser.cn\r\n```","title":"Error when calling winAPI native code (ADsGetObject) from JNA","body":"<p>I'm trying to learn how to work with windows native code from Java. For this I use the JNA library. I'm just starting to learn how to work with this library and ran into this problem. The <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/adshlp/nf-adshlp-adsgetobject\" rel=\"nofollow noreferrer\">ADsGetObject</a> function call fails. Perhaps I did not fully understand how to convert data types and do not use them correctly.</p>\n<p>Here is my code:</p>\n<pre><code>import com.sun.jna.Native;\nimport com.sun.jna.WString;\nimport com.sun.jna.platform.win32.Guid.REFIID;\nimport com.sun.jna.ptr.PointerByReference;\nimport com.sun.jna.win32.StdCallLibrary;\nimport com.sun.jna.platform.win32.WinNT.HRESULT;\n\npublic class GetUserAttribute {\n    public static void main(String[] args) {\n        getUser(&quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot;);\n    }\n\n    public interface Activeds extends StdCallLibrary {\n        Activeds INSTANCE = (Activeds) Native.load(&quot;Activeds&quot;, Activeds.class);\n        HRESULT ADsGetObject(WString lpszPathName, REFIID riid, PointerByReference ppObject);\n    }\n\n    public static void getUser(String dn) {\n        WString userDN = new WString(dn);\n        REFIID riid = new REFIID();\n        PointerByReference ppObject = new PointerByReference();\n        HRESULT hr = Activeds.INSTANCE.ADsGetObject(userDN,riid,ppObject);\n        System.out.println(hr);\n    }\n</code></pre>\n<p>When executed, hr is 0x80004005 (Unspecified error). I would be grateful for any hints on what I'm doing wrong and maybe for an example of a working code.</p>\n<p>Here is the code on VBS that works correctly. Would like to &quot;translate&quot; it into Java code:</p>\n<pre><code>Dim strUserDN = &quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot; \nset objUser = GetObject(&quot;LDAP://&quot; &amp; strUserDN)\nWscript.echo objUser.cn\n</code></pre>\n"},{"tags":["java","apache-camel","amazon-sqs","aws-sqs-fifo"],"answers":[{"tags":[],"owner":{"account_id":8536154,"reputation":344,"user_id":6397895,"display_name":"Otavio Miguel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680184463,"creation_date":1680184463,"answer_id":75889171,"question_id":75889170,"body_markdown":"Since I did not found any answers anywhere, I&#39;ll put it here in case you need it too.\r\n\r\nBefore send it to your queue, you&#39;ll have to put it in the .setProperty tag, e.g. just like this:\r\n\r\n    from(....)\r\n       ....\r\n       ....\r\n       .setProperty(&quot;CamelAwsMessageGroupId&quot;, &quot;YOUR_VALUE&quot;)\r\n       .to(&quot;YOUR_QUEUE_URI&quot;);\r\n\r\n\r\n\r\n","title":"Put MessageGroupId in Camel SQS FIFO queue","body":"<p>Since I did not found any answers anywhere, I'll put it here in case you need it too.</p>\n<p>Before send it to your queue, you'll have to put it in the .setProperty tag, e.g. just like this:</p>\n<pre><code>from(....)\n   ....\n   ....\n   .setProperty(&quot;CamelAwsMessageGroupId&quot;, &quot;YOUR_VALUE&quot;)\n   .to(&quot;YOUR_QUEUE_URI&quot;);\n</code></pre>\n"}],"owner":{"account_id":8536154,"reputation":344,"user_id":6397895,"display_name":"Otavio Miguel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75889171,"answer_count":1,"score":0,"last_activity_date":1680184463,"creation_date":1680184463,"question_id":75889170,"body_markdown":"When you need to send a message to a FIFO queue in AWS SQS using Apache Camel, you&#39;ll need to put a property named &quot;MessageGroupId&quot;. But, we do know that Apache Camel is not always friendly, so how to? We do have docs telling us how to implement AWS SQS in Apache Camel, such like this one [Doc][1], but in terms of MessageGroupId, it does not explains much and don&#39;t truly tells we how to put in in the message [at least not in current date of this post].\r\n\r\n\r\n  [1]: https://camel.apache.org/components/2.x/aws-sqs-component.html","title":"Put MessageGroupId in Camel SQS FIFO queue","body":"<p>When you need to send a message to a FIFO queue in AWS SQS using Apache Camel, you'll need to put a property named &quot;MessageGroupId&quot;. But, we do know that Apache Camel is not always friendly, so how to? We do have docs telling us how to implement AWS SQS in Apache Camel, such like this one <a href=\"https://camel.apache.org/components/2.x/aws-sqs-component.html\" rel=\"nofollow noreferrer\">Doc</a>, but in terms of MessageGroupId, it does not explains much and don't truly tells we how to put in in the message [at least not in current date of this post].</p>\n"},{"tags":["java","automated-tests","cucumber","build.gradle","junit5"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1680195622,"post_id":75889169,"comment_id":133861033,"body_markdown":"Are you using `cucumber-junit` or `cucumber-junit-platform-engine`?","body":"Are you using <code>cucumber-junit</code> or <code>cucumber-junit-platform-engine</code>?"}],"owner":{"account_id":7705429,"reputation":1,"user_id":5836549,"display_name":"Java Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680184459,"creation_date":1680184459,"question_id":75889169,"body_markdown":"I wanted to execute the the cucumbers Feature scenarios parallelly in test suite to minimize the execution time,\r\nIn maven we have surefire plugin to achieve the same.\r\nbut we are using gradle Please let me know how we can achieve the same in gradle. \r\n\r\nI have used below settings in build. gradle\r\n```\r\ntask runInParallel() {\r\n    group = &#39;Cucumber Parallel&#39;\r\n    description = &#39;Runs build in parallel if used&#39;\r\n    doLast {\r\n        setParallel = &quot;true&quot;\r\n    }\r\n\r\ntask cucumberTests(type: Test){ \r\n    includes = [&#39;**/*Runner*&#39;] \r\n}\r\n    \r\ntasks.withType(Test) {\r\n    maxParallelForks = 20\r\n}\r\n```\r\nBut it not working","title":"How to execute JUnit(5) tests in parallel for a single test class in Gradle","body":"<p>I wanted to execute the the cucumbers Feature scenarios parallelly in test suite to minimize the execution time,\nIn maven we have surefire plugin to achieve the same.\nbut we are using gradle Please let me know how we can achieve the same in gradle.</p>\n<p>I have used below settings in build. gradle</p>\n<pre><code>task runInParallel() {\n    group = 'Cucumber Parallel'\n    description = 'Runs build in parallel if used'\n    doLast {\n        setParallel = &quot;true&quot;\n    }\n\ntask cucumberTests(type: Test){ \n    includes = ['**/*Runner*'] \n}\n    \ntasks.withType(Test) {\n    maxParallelForks = 20\n}\n</code></pre>\n<p>But it not working</p>\n"},{"tags":["java","csv","io","filewriter","bufferedwriter"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1446408700,"post_id":33466688,"comment_id":54718989,"body_markdown":"This is nonsense. Post your code.","body":"This is nonsense. Post your code."},{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":1,"creation_date":1446408760,"post_id":33466688,"comment_id":54719003,"body_markdown":"Have you called `.close()` on the `FileWriter` after you&#39;re done writing?","body":"Have you called <code>.close()</code> on the <code>FileWriter</code> after you&#39;re done writing?"},{"owner":{"account_id":2351777,"reputation":986,"user_id":2061755,"accept_rate":71,"display_name":"wadda_wadda"},"score":1,"creation_date":1446408838,"post_id":33466688,"comment_id":54719028,"body_markdown":"Given that I&#39;ve written a 1.1GB dat file using `FileWriter`, I don&#39;t think your assessment that it can only write ~1216 character is correct. Post a code sample so we can diagnose it?","body":"Given that I&#39;ve written a 1.1GB dat file using <code>FileWriter</code>, I don&#39;t think your assessment that it can only write ~1216 character is correct. Post a code sample so we can diagnose it?"},{"owner":{"account_id":7220663,"reputation":468,"user_id":5511320,"display_name":"the happy mamba"},"score":0,"creation_date":1446408877,"post_id":33466688,"comment_id":54719041,"body_markdown":"Agree with Elliot.  Need to show us this before we Bo-leeve","body":"Agree with Elliot.  Need to show us this before we Bo-leeve"},{"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"score":0,"creation_date":1446409435,"post_id":33466688,"comment_id":54719226,"body_markdown":"Edited my post with code.","body":"Edited my post with code."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1446409573,"post_id":33466688,"comment_id":54719275,"body_markdown":"Why don&#39;t you use Commons CSV?","body":"Why don&#39;t you use Commons CSV?"},{"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"score":0,"creation_date":1446409614,"post_id":33466688,"comment_id":54719295,"body_markdown":"I solved it ladies and gents. Getting up and making a sandwich must have cleared my mind. The issue was that I was re-insantiating the mergedWriter 100 times, but I had forgotten to flush/close it each time.","body":"I solved it ladies and gents. Getting up and making a sandwich must have cleared my mind. The issue was that I was re-insantiating the mergedWriter 100 times, but I had forgotten to flush/close it each time."},{"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"score":0,"creation_date":1446409665,"post_id":33466688,"comment_id":54719303,"body_markdown":"Thanks for your time! Sorry it turned out to be somewhat of a boneheaded move. I guess that&#39;s what happens when you&#39;re working with 5 different writers at once, with one of the writers needing to iterate through 100 files.","body":"Thanks for your time! Sorry it turned out to be somewhat of a boneheaded move. I guess that&#39;s what happens when you&#39;re working with 5 different writers at once, with one of the writers needing to iterate through 100 files."},{"owner":{"account_id":4531605,"reputation":1869,"user_id":3681882,"display_name":"Swastik Padhi"},"score":0,"creation_date":1446409721,"post_id":33466688,"comment_id":54719319,"body_markdown":"@Matt Please remove the question or answer it if you have solved your problem.","body":"@Matt Please remove the question or answer it if you have solved your problem."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1446412766,"post_id":33466688,"comment_id":54720261,"body_markdown":"Since [`FileWriter`](http://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html) doesn&#39;t have an `append`, I&#39;ll just ask why are you building everything into `String`(s) instead of ***streaming*** to your `File`?","body":"Since <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html\" rel=\"nofollow noreferrer\"><code>FileWriter</code></a> doesn&#39;t have an <code>append</code>, I&#39;ll just ask why are you building everything into <code>String</code>(s) instead of <b><i>streaming</i></b> to your <code>File</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446409731,"creation_date":1446409731,"answer_id":33466849,"question_id":33466688,"body_markdown":"Solved.\r\n\r\nI wasn&#39;t flushing/closing my writer before re-instantiating it to a new file. I should have either made an array of mergedWriters, or flushed/closed it each time before re-assigning it.","title":"FileWriter not writing all of its contents - how to get around maximum?","body":"<p>Solved.</p>\n\n<p>I wasn't flushing/closing my writer before re-instantiating it to a new file. I should have either made an array of mergedWriters, or flushed/closed it each time before re-assigning it.</p>\n"},{"tags":[],"owner":{"account_id":7066105,"reputation":11,"user_id":5409387,"display_name":"RaviRaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680184200,"creation_date":1680184200,"answer_id":75889124,"question_id":33466688,"body_markdown":"Add `fw.close()` after write system.","title":"FileWriter not writing all of its contents - how to get around maximum?","body":"<p>Add <code>fw.close()</code> after write system.</p>\n"}],"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1929,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680184200,"creation_date":1446408663,"question_id":33466688,"body_markdown":"After a good amount of time researching the issue, and doing a little counting/debugging on my own, I found out that the max number of characters a FileWriter can contain at once is about 1216. Can anyone help me figure out how to get around this issue?\r\n\r\nI&#39;m essentially writing a script in Java to combine two .csv files because I need to put the contents of each file side by side in one .csv file. I&#39;m iterating through and appending the characters, along with commas and new lines, to the file writer. However, all of my outputs are stopping about 80% through the writing process. I&#39;m not getting any errors, but it appears obvious to me now that it is an issue of FileWriter capacity.\r\n\r\nIf I write what I have then start appending to a new FileWriter, I will lose my spot in the .csv file. I&#39;m not really sure what to do here.\r\n\r\nI look forward to feedback. Thank you!!\r\n\r\nEDIT - code\r\n\r\nThe problem is with the mergedWriter.\r\n\r\nI&#39;ve verified that the length of &quot;mainLines[j].size() - 1&quot; is 101, and it is only writing 85ish lines for my outputs. It stops mid-string.\r\n\r\n    for (int k = 0; k &lt; mainLines[j].size() - 1; k++) {\r\n\t\t\t\t\t// All deletions for bottleneck\r\n\t\t\t\t\tif (k != 0) {\r\n\t\t\t\t\t\teachEffWriter.append(mergedFileNum + COMMA + &quot;1,&quot; + mainLines[j].get(k)[6] + NEWLINE);\r\n\t\t\t\t\t\tefficiencyWriter.append(mergedFileNum + COMMA + &quot;1,&quot; + mainLines[j].get(k)[5] + NEWLINE);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Write deletionoutput data\r\n\t\t\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\t\t\tfor (String str : mainLines[j].get(k)) {\r\n\t\t\t\t\t\tbuilder.append(str);\r\n\t\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\tif (k == 0) {\r\n\t\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (String str : kingpinLines[j].get(k)) {\r\n\t\t\t\t\t\tbuilder.append(str);\r\n\t\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmergedWriter.append(builder.toString());\r\n\t\t\t\t\tmergedWriter.append(NEWLINE);\r\n\t\t\t\t}","title":"FileWriter not writing all of its contents - how to get around maximum?","body":"<p>After a good amount of time researching the issue, and doing a little counting/debugging on my own, I found out that the max number of characters a FileWriter can contain at once is about 1216. Can anyone help me figure out how to get around this issue?</p>\n\n<p>I'm essentially writing a script in Java to combine two .csv files because I need to put the contents of each file side by side in one .csv file. I'm iterating through and appending the characters, along with commas and new lines, to the file writer. However, all of my outputs are stopping about 80% through the writing process. I'm not getting any errors, but it appears obvious to me now that it is an issue of FileWriter capacity.</p>\n\n<p>If I write what I have then start appending to a new FileWriter, I will lose my spot in the .csv file. I'm not really sure what to do here.</p>\n\n<p>I look forward to feedback. Thank you!!</p>\n\n<p>EDIT - code</p>\n\n<p>The problem is with the mergedWriter.</p>\n\n<p>I've verified that the length of \"mainLines[j].size() - 1\" is 101, and it is only writing 85ish lines for my outputs. It stops mid-string.</p>\n\n<pre><code>for (int k = 0; k &lt; mainLines[j].size() - 1; k++) {\n                // All deletions for bottleneck\n                if (k != 0) {\n                    eachEffWriter.append(mergedFileNum + COMMA + \"1,\" + mainLines[j].get(k)[6] + NEWLINE);\n                    efficiencyWriter.append(mergedFileNum + COMMA + \"1,\" + mainLines[j].get(k)[5] + NEWLINE);\n                }\n                // Write deletionoutput data\n                StringBuilder builder = new StringBuilder();\n                for (String str : mainLines[j].get(k)) {\n                    builder.append(str);\n                    builder.append(COMMA);\n                }\n                builder.append(COMMA);\n                if (k == 0) {\n                    builder.append(COMMA);\n                }\n\n                for (String str : kingpinLines[j].get(k)) {\n                    builder.append(str);\n                    builder.append(COMMA);\n                }\n                mergedWriter.append(builder.toString());\n                mergedWriter.append(NEWLINE);\n            }\n</code></pre>\n"},{"tags":["java","tomcat","logging","logrotate","tomcat8.5"],"comments":[{"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"score":0,"creation_date":1680032510,"post_id":75870388,"comment_id":133827105,"body_markdown":"Have you tried setting up ```java.util.logging.FileHandler.append = true``` in logging.properties?","body":"Have you tried setting up <code>java.util.logging.FileHandler.append = true</code> in logging.properties?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1680035087,"post_id":75870388,"comment_id":133827641,"body_markdown":"I was searching for such a property but could not find it in https://tomcat.apache.org/tomcat-10.1-doc/api/org/apache/juli/FileHandler.html. Surprised that this one should apply (Tomcat&#39;s FileHandler does not inherit): https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/FileHandler.html","body":"I was searching for such a property but could not find it in <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/api/org/apache/juli/FileHandler.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-10.1-doc/api/org/apache/juli/&hellip;</a>. Surprised that this one should apply (Tomcat&#39;s FileHandler does not inherit): <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/FileHandler.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.logging/java&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680183939,"creation_date":1680183939,"answer_id":75889079,"question_id":75870388,"body_markdown":"&gt; when [Tomcat] running as a daemon.\r\n\r\nAssuming you are using [jsvc](https://commons.apache.org/proper/commons-daemon/jsvc.html), there does not appear to be an option for *appending* to log files instead of *overwriting* them. You could file an enhancement request against the [Commons project](https://commons.apache.org/proper/commons-daemon/issue-tracking.html) to add that capability. It does not seem like a difficult thing to implement.\r\n\r\n&gt; I believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served[...]\r\n\r\nI agree. Writing to `stdout` is not a great practice and, as you see, can cause some problems that you have to work hard to get around. It would be better to log to a real logging framework which already knows how to append, rotate, etc. and not have to cobble-together your own ad-hoc set of tools to replicate this capability which already exists.","title":"Can I prevent Tomcat from overwriting catalina.out on restart?","body":"<blockquote>\n<p>when [Tomcat] running as a daemon.</p>\n</blockquote>\n<p>Assuming you are using <a href=\"https://commons.apache.org/proper/commons-daemon/jsvc.html\" rel=\"nofollow noreferrer\">jsvc</a>, there does not appear to be an option for <em>appending</em> to log files instead of <em>overwriting</em> them. You could file an enhancement request against the <a href=\"https://commons.apache.org/proper/commons-daemon/issue-tracking.html\" rel=\"nofollow noreferrer\">Commons project</a> to add that capability. It does not seem like a difficult thing to implement.</p>\n<blockquote>\n<p>I believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served[...]</p>\n</blockquote>\n<p>I agree. Writing to <code>stdout</code> is not a great practice and, as you see, can cause some problems that you have to work hard to get around. It would be better to log to a real logging framework which already knows how to append, rotate, etc. and not have to cobble-together your own ad-hoc set of tools to replicate this capability which already exists.</p>\n"}],"owner":{"account_id":21338925,"reputation":21,"user_id":15709715,"display_name":"Adri C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680183939,"creation_date":1680032052,"question_id":75870388,"body_markdown":"The default Tomcat 8.5 configuration outputs the contents of stdout &amp; stderr to $CATALINA_HOME/logs/catalina.out (and catalina.err if specified in the startup parameters) when running as a daemon. In these files are low-level system messages, startup/shutdown output, and stack traces for errors. Unfortunately, these files are overwritten when Tomcat is restarted. I have forgotten this fact on more than one occasion, when we were having an issue and my first thought was to bounce the app server. When I did that, the prior contents of catalina.out were gone, and we can&#39;t then go back through the logs looking for a root cause of the issue. Is there a way to save me and other admins from ourselves and append to catalina.out/.err on startup instead of overwriting it?\r\n\r\nI believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served, but it seems like we should be able to take advantage of this built-in facility with a simple config change, rather than try to make modifications to third party application code for which the source is unavailable.\r\n\r\nAlso, in our case, logrotate is taking care of rotating catalina.out weekly, so I am not worried about the file getting too large. I thought about maybe calling logrotate in shutdown.sh, but we also have logrotate doing log cleanup; if we want to be able to have more than one log archived per day we would have to break the logrotate naming convention for the shutdown logs, which would then mean the old logs created as a result of shutdown would never get cleaned up, if I understand correctly.","title":"Can I prevent Tomcat from overwriting catalina.out on restart?","body":"<p>The default Tomcat 8.5 configuration outputs the contents of stdout &amp; stderr to $CATALINA_HOME/logs/catalina.out (and catalina.err if specified in the startup parameters) when running as a daemon. In these files are low-level system messages, startup/shutdown output, and stack traces for errors. Unfortunately, these files are overwritten when Tomcat is restarted. I have forgotten this fact on more than one occasion, when we were having an issue and my first thought was to bounce the app server. When I did that, the prior contents of catalina.out were gone, and we can't then go back through the logs looking for a root cause of the issue. Is there a way to save me and other admins from ourselves and append to catalina.out/.err on startup instead of overwriting it?</p>\n<p>I believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served, but it seems like we should be able to take advantage of this built-in facility with a simple config change, rather than try to make modifications to third party application code for which the source is unavailable.</p>\n<p>Also, in our case, logrotate is taking care of rotating catalina.out weekly, so I am not worried about the file getting too large. I thought about maybe calling logrotate in shutdown.sh, but we also have logrotate doing log cleanup; if we want to be able to have more than one log archived per day we would have to break the logrotate naming convention for the shutdown logs, which would then mean the old logs created as a result of shutdown would never get cleaned up, if I understand correctly.</p>\n"},{"tags":["java","post","xmlhttprequest"],"comments":[{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1680183829,"post_id":75889012,"comment_id":133857650,"body_markdown":"You&#39;re programming in Java, not JavaScript.","body":"You&#39;re programming in Java, not JavaScript."}],"owner":{"account_id":3821390,"reputation":11,"user_id":3169415,"display_name":"user3169415"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680183811,"creation_date":1680183512,"question_id":75889012,"body_markdown":"I&#39;m not really sure but sometimes my data are sended twice to the server.\r\nIt is simple XMLHttpRequest wchich posts some data to server:\r\n\r\n\r\n```\r\nprivate static class XhrHttpRequest extends HttpRequest implements ReadyStateChangeHandler {\r\n\r\n        private XMLHttpRequest xhr;\r\n\r\n        public XhrHttpRequest(String url, GlobalCallback callback, JsonRequest request) {\r\n            super(url, callback, request);\r\n        }\r\n\r\n        @Override\r\n        protected void send(String data) {\r\n            xhr = XMLHttpRequest.create();\r\n            xhr.open(&quot;POST&quot;, url);\r\n            xhr.setResponseType(ResponseType.Default);\r\n            xhr.setOnReadyStateChange(this);\r\n\r\n            xhr.send(data);\r\n        }\r\n\r\n        @Override\r\n        public void onReadyStateChange(XMLHttpRequest xhr) {\r\n            if (xhr.getReadyState() == XMLHttpRequest.DONE) {\r\n                if (xhr.getStatus() == Response.SC_OK || xhr.getStatus() == Response.SC_NOT_MODIFIED) {\r\n                    onData(xhr.getResponseText());\r\n                } else {\r\n                    onError(&quot;Response status: &quot; + xhr.getStatus() + &quot; [&quot; + xhr.getStatusText() + &quot;]&quot;);\r\n                }\r\n\r\n                xhr.clearOnReadyStateChange();\r\n            \r\n                this.xhr = null;\r\n            }\r\n        }\r\n    }\r\n```\r\nIs this even possible that data is sended more than once?\r\n\r\nI want to know it is possible that data is sended multiple times in one request","title":"XMLHttpRequest - is it possible that data is send more than once","body":"<p>I'm not really sure but sometimes my data are sended twice to the server.\nIt is simple XMLHttpRequest wchich posts some data to server:</p>\n<pre><code>private static class XhrHttpRequest extends HttpRequest implements ReadyStateChangeHandler {\n\n        private XMLHttpRequest xhr;\n\n        public XhrHttpRequest(String url, GlobalCallback callback, JsonRequest request) {\n            super(url, callback, request);\n        }\n\n        @Override\n        protected void send(String data) {\n            xhr = XMLHttpRequest.create();\n            xhr.open(&quot;POST&quot;, url);\n            xhr.setResponseType(ResponseType.Default);\n            xhr.setOnReadyStateChange(this);\n\n            xhr.send(data);\n        }\n\n        @Override\n        public void onReadyStateChange(XMLHttpRequest xhr) {\n            if (xhr.getReadyState() == XMLHttpRequest.DONE) {\n                if (xhr.getStatus() == Response.SC_OK || xhr.getStatus() == Response.SC_NOT_MODIFIED) {\n                    onData(xhr.getResponseText());\n                } else {\n                    onError(&quot;Response status: &quot; + xhr.getStatus() + &quot; [&quot; + xhr.getStatusText() + &quot;]&quot;);\n                }\n\n                xhr.clearOnReadyStateChange();\n            \n                this.xhr = null;\n            }\n        }\n    }\n</code></pre>\n<p>Is this even possible that data is sended more than once?</p>\n<p>I want to know it is possible that data is sended multiple times in one request</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":1,"creation_date":1680183050,"post_id":75888898,"comment_id":133857414,"body_markdown":"add NoargsAnnotation too","body":"add NoargsAnnotation too"},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1680183249,"post_id":75888898,"comment_id":133857475,"body_markdown":"Show the class in question.","body":"Show the class in question."}],"answers":[{"tags":[],"owner":{"account_id":18564295,"reputation":1600,"user_id":13527621,"display_name":"Thomas Zimmermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680183216,"creation_date":1680183216,"answer_id":75888954,"question_id":75888898,"body_markdown":"The @AllArgsConstructor annotation creates a constructor for your class where every parameter has to be passed to initialize the class. As suggested, you have to annotate your class with the @NoArgsConstructor if you want to give your class the opportunity to be initialized like this:\r\n\r\n    final var myClass = new MyClass(); // Initialized using the &#39;NoArgs&#39; constructor\r\n    myClass.setProperty(value);\r\n    ...\r\n","title":"@Data @AllArgsConstructor [Lombok]","body":"<p>The @AllArgsConstructor annotation creates a constructor for your class where every parameter has to be passed to initialize the class. As suggested, you have to annotate your class with the @NoArgsConstructor if you want to give your class the opportunity to be initialized like this:</p>\n<pre><code>final var myClass = new MyClass(); // Initialized using the 'NoArgs' constructor\nmyClass.setProperty(value);\n...\n</code></pre>\n"}],"owner":{"account_id":8474264,"reputation":17,"user_id":6355981,"display_name":"SPONGEBOB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680183216,"creation_date":1680182938,"question_id":75888898,"body_markdown":"I have a class person, annoted by two annotations @Data @AllArgsConstructor.\r\nWhen i try to initialize class person by constructor i have a problem.\r\nNo problem in compilation but in runtime i have this error\r\n\r\njava: constructor Person in class com.app.net.model.Person cannot be applied to given types;\r\n  required: no arguments\r\n  found: java.lang.String,java.lang.String,java.lang.String,java.util.List&lt;com.app.net.model.Publication&gt;,java.util.List&lt;com.app.net.model.Comment&gt;\r\n  reason: **actual and formal argument lists differ in length**\r\n\r\nAnybody has a solution?\r\nthank you\r\n\r\nI try to initialize class with constructor with all arguments ","title":"@Data @AllArgsConstructor [Lombok]","body":"<p>I have a class person, annoted by two annotations @Data @AllArgsConstructor.\nWhen i try to initialize class person by constructor i have a problem.\nNo problem in compilation but in runtime i have this error</p>\n<p>java: constructor Person in class com.app.net.model.Person cannot be applied to given types;\nrequired: no arguments\nfound: java.lang.String,java.lang.String,java.lang.String,java.util.List&lt;com.app.net.model.Publication&gt;,java.util.List&lt;com.app.net.model.Comment&gt;\nreason: <strong>actual and formal argument lists differ in length</strong></p>\n<p>Anybody has a solution?\nthank you</p>\n<p>I try to initialize class with constructor with all arguments</p>\n"},{"tags":["java","rest","apache-camel","bearer-token"],"comments":[{"owner":{"account_id":20035415,"reputation":21,"user_id":14687258,"display_name":"arora_suman"},"score":0,"creation_date":1606150925,"post_id":64956963,"comment_id":114868101,"body_markdown":"I changed the camel version and it solved the problem.","body":"I changed the camel version and it solved the problem."},{"owner":{"account_id":6317719,"reputation":125,"user_id":4907054,"accept_rate":67,"display_name":"Denys Shabelnyk"},"score":0,"creation_date":1679663758,"post_id":64956963,"comment_id":133766000,"body_markdown":"which Apache Camel version do you used on this case ?","body":"which Apache Camel version do you used on this case ?"}],"answers":[{"comments":[{"owner":{"account_id":1278305,"reputation":128,"user_id":1233043,"display_name":"user1233043"},"score":0,"creation_date":1699895049,"post_id":75888943,"comment_id":136585457,"body_markdown":"This works with version 4 as well.","body":"This works with version 4 as well."}],"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680183159,"creation_date":1680183159,"answer_id":75888943,"question_id":64956963,"body_markdown":"I use:\r\n\r\n    Message message = exchange.getIn();\r\n    message.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n\r\nThis works for me. I can see token in the Exchange properties. Apache Camel 2.7.5.\r\n\r\nSlightly different though, is that I do it in a `.bean(SomeBean.class)` and then send to `toD()` with dynamic URL.","title":"Authorization Bearer token in Apache Camel","body":"<p>I use:</p>\n<pre><code>Message message = exchange.getIn();\nmessage.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n</code></pre>\n<p>This works for me. I can see token in the Exchange properties. Apache Camel 2.7.5.</p>\n<p>Slightly different though, is that I do it in a <code>.bean(SomeBean.class)</code> and then send to <code>toD()</code> with dynamic URL.</p>\n"}],"owner":{"account_id":20035415,"reputation":21,"user_id":14687258,"display_name":"arora_suman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2600,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680183159,"creation_date":1606064414,"question_id":64956963,"body_markdown":"I want to use Apache Camel to call a rest webservice which takes a bearer token as authorization. I am getting 401 unauthorized access if I use the below code-- \r\n\r\n```java\r\n@Component\r\npublic class LoadFileRouteBuilder extends RouteBuilder{\r\n    \r\n    @Override\r\n    public void configure() throws Exception {\r\n\r\n        from(&quot;timer:mytimer?repeatCount=1&quot;)\r\n            .log(&quot;Scheduled job!&quot;)\r\n            .to(&quot;direct:httpRoute&quot;);\r\n    \t\t\r\n    \tfrom(&quot;direct:httpRoute&quot;)\r\n            .log(&quot;Http Route started&quot;)\r\n            .setHeader(Exchange.HTTP_METHOD).constant(HttpMethod.GET)\r\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\r\n    \t    .setHeader(&quot;Authorization&quot;).simple(&quot;Bearer &quot;+ myToken)\r\n    \t\t.to(&quot;https://my-rest-ws-url&quot;)\r\n    \t\t.log(&quot;Response : ${body}&quot;);\r\n    }   \r\n}\r\n```\r\nI have also tried using process method to set the authorization token  exchange.getIn().setHeader(&quot;Authorization&quot;, &quot;Bearer &quot;+myToken); didn&#39;t work either. \r\n\r\nIs it the correct way to send bearer token ?  ","title":"Authorization Bearer token in Apache Camel","body":"<p>I want to use Apache Camel to call a rest webservice which takes a bearer token as authorization. I am getting 401 unauthorized access if I use the below code--</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class LoadFileRouteBuilder extends RouteBuilder{\n    \n    @Override\n    public void configure() throws Exception {\n\n        from(&quot;timer:mytimer?repeatCount=1&quot;)\n            .log(&quot;Scheduled job!&quot;)\n            .to(&quot;direct:httpRoute&quot;);\n            \n        from(&quot;direct:httpRoute&quot;)\n            .log(&quot;Http Route started&quot;)\n            .setHeader(Exchange.HTTP_METHOD).constant(HttpMethod.GET)\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\n            .setHeader(&quot;Authorization&quot;).simple(&quot;Bearer &quot;+ myToken)\n            .to(&quot;https://my-rest-ws-url&quot;)\n            .log(&quot;Response : ${body}&quot;);\n    }   \n}\n</code></pre>\n<p>I have also tried using process method to set the authorization token  exchange.getIn().setHeader(&quot;Authorization&quot;, &quot;Bearer &quot;+myToken); didn't work either.</p>\n<p>Is it the correct way to send bearer token ?</p>\n"},{"tags":["java","spring-webflux","spring-kafka","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680182393,"creation_date":1680182393,"answer_id":75888791,"question_id":75882294,"body_markdown":"Unlike Spring for Apache Kafaka (`spring-kafka`); `reactor-kafka` has no built-in mechanism to handle deserialization exceptions. \r\n\r\nOne solution would be to use Spring&#39;s `ErrorHandlingDeserializer` and, when the `value()` (or `key()`) is `null`, look for the deserialization exception in a header.\r\n\r\nSince you are already using the template to wrap the reactor-kafka code, you will already have it on class path.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\r\n\r\n&gt;When a deserializer fails to deserialize a message, Spring has no way to handle the problem, because it occurs before the `poll()` returns. To solve this problem, the `ErrorHandlingDeserializer` has been introduced. This deserializer delegates to a real deserializer (key or value). If the delegate fails to deserialize the record content, the `ErrorHandlingDeserializer` returns a `null` value and a `DeserializationException` in a header that contains the cause and the raw bytes. \r\n\r\nTake a look at the `DeadLetterPublishingRecoverer` to see how it uses `ListenerUtils` to extract the deserialization exception from the header(s).\r\n\r\nhttps://github.com/spring-projects/spring-kafka/blob/1eaf5b3e7dac58102e1e346dd03b40ab0ff5d711/spring-kafka/src/main/java/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.java#L474-L477\r\n\r\n```java\r\nDeserializationException vDeserEx = ListenerUtils.getExceptionFromHeader(record,\r\n\t\tSerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER, this.logger);\r\nDeserializationException kDeserEx = ListenerUtils.getExceptionFromHeader(record,\r\n\t\tSerializationUtils.KEY_DESERIALIZER_EXCEPTION_HEADER, this.logger);\r\n```\r\n\r\nThe raw data is in the `data` field of the exception, as well as a flag to indicate whether it was a key or value that failed to deserialize.","title":"How to handle deserialization errors in (spring) reactor-kafka","body":"<p>Unlike Spring for Apache Kafaka (<code>spring-kafka</code>); <code>reactor-kafka</code> has no built-in mechanism to handle deserialization exceptions.</p>\n<p>One solution would be to use Spring's <code>ErrorHandlingDeserializer</code> and, when the <code>value()</code> (or <code>key()</code>) is <code>null</code>, look for the deserialization exception in a header.</p>\n<p>Since you are already using the template to wrap the reactor-kafka code, you will already have it on class path.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer</a></p>\n<blockquote>\n<p>When a deserializer fails to deserialize a message, Spring has no way to handle the problem, because it occurs before the <code>poll()</code> returns. To solve this problem, the <code>ErrorHandlingDeserializer</code> has been introduced. This deserializer delegates to a real deserializer (key or value). If the delegate fails to deserialize the record content, the <code>ErrorHandlingDeserializer</code> returns a <code>null</code> value and a <code>DeserializationException</code> in a header that contains the cause and the raw bytes.</p>\n</blockquote>\n<p>Take a look at the <code>DeadLetterPublishingRecoverer</code> to see how it uses <code>ListenerUtils</code> to extract the deserialization exception from the header(s).</p>\n<p><a href=\"https://github.com/spring-projects/spring-kafka/blob/1eaf5b3e7dac58102e1e346dd03b40ab0ff5d711/spring-kafka/src/main/java/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.java#L474-L477\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-kafka/blob/1eaf5b3e7dac58102e1e346dd03b40ab0ff5d711/spring-kafka/src/main/java/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.java#L474-L477</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>DeserializationException vDeserEx = ListenerUtils.getExceptionFromHeader(record,\n        SerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER, this.logger);\nDeserializationException kDeserEx = ListenerUtils.getExceptionFromHeader(record,\n        SerializationUtils.KEY_DESERIALIZER_EXCEPTION_HEADER, this.logger);\n</code></pre>\n<p>The raw data is in the <code>data</code> field of the exception, as well as a flag to indicate whether it was a key or value that failed to deserialize.</p>\n"}],"owner":{"account_id":27836545,"reputation":37,"user_id":21253875,"display_name":"Inessa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680182393,"creation_date":1680125120,"question_id":75882294,"body_markdown":"I am trying on reactor-kafka for consuming messages. I am using spring-kafka as a wrapper for reactive-kafka. I need to handle a deserialization exception - I need to send an unsuccessful message by rest (that is, it has further processing). \r\nI wrote this solution, but it doesn&#39;t seem good to me.\r\n\r\nBelow is my consumer template and solution:\r\n```\r\n        reactiveKafkaConsumerTemplate\r\n                .receiveAutoAck()\r\n                .flatMap(record -&gt; deserialize(record)) \r\n                .flatMap(toy -&gt; handle(toy))\r\n                .subscribe();\r\n```\r\nconvert method \r\n```\r\n    public Mono&lt;Toy&gt; deserialize(ConsumerRecord&lt;String, String&gt; record) {\r\n        return Mono.just(record)\r\n                .map(t -&gt; objectMapper.readValue(record.value(), Toy.class))\r\n                .onErrorResume(e -&gt; handleError(record.value())); //here is further processing of the deserialization exception\r\n\r\n    }\r\n```\r\nI can change the deserializer to, for example\r\n```\r\n props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n```\r\nor something custom,but I do not know how to handle the deserialization error in this case","title":"How to handle deserialization errors in (spring) reactor-kafka","body":"<p>I am trying on reactor-kafka for consuming messages. I am using spring-kafka as a wrapper for reactive-kafka. I need to handle a deserialization exception - I need to send an unsuccessful message by rest (that is, it has further processing).\nI wrote this solution, but it doesn't seem good to me.</p>\n<p>Below is my consumer template and solution:</p>\n<pre><code>        reactiveKafkaConsumerTemplate\n                .receiveAutoAck()\n                .flatMap(record -&gt; deserialize(record)) \n                .flatMap(toy -&gt; handle(toy))\n                .subscribe();\n</code></pre>\n<p>convert method</p>\n<pre><code>    public Mono&lt;Toy&gt; deserialize(ConsumerRecord&lt;String, String&gt; record) {\n        return Mono.just(record)\n                .map(t -&gt; objectMapper.readValue(record.value(), Toy.class))\n                .onErrorResume(e -&gt; handleError(record.value())); //here is further processing of the deserialization exception\n\n    }\n</code></pre>\n<p>I can change the deserializer to, for example</p>\n<pre><code> props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n</code></pre>\n<p>or something custom,but I do not know how to handle the deserialization error in this case</p>\n"},{"tags":["java","spring-boot","soap"],"answers":[{"tags":[],"owner":{"account_id":7204808,"reputation":95,"user_id":5500794,"display_name":"Thiago Rodrigues"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680182384,"creation_date":1680182384,"answer_id":75888790,"question_id":75730100,"body_markdown":"Try this setup:\r\n\r\n```\r\n@WebServiceServerTest(components = { YourWsInterceptor.class })\r\n@Import({ YourWsConfig.class })\r\nclass YourWsServerTest {\r\n    ...\r\n}\r\n```\r\n \r\n```\r\n@Configuration\r\n@EnableWs\r\npublic class YourWsConfig extends WsConfigurerAdapter {\r\n    ...\r\n    @Override\r\n\tpublic void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\r\n        ...\r\n    }\r\n\r\n}\r\n```","title":"How to setup configuration for SOAP service testing when using WebServiceServerTest, MockWebServiceClient in Java?","body":"<p>Try this setup:</p>\n<pre><code>@WebServiceServerTest(components = { YourWsInterceptor.class })\n@Import({ YourWsConfig.class })\nclass YourWsServerTest {\n    ...\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableWs\npublic class YourWsConfig extends WsConfigurerAdapter {\n    ...\n    @Override\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\n        ...\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680182384,"creation_date":1678778578,"question_id":75730100,"body_markdown":"As question states, I am a bit confused about how to setup **SOAP** service testing in **Java (Spring)**.\r\n\r\nIn my specific case, I have custom endpoint *interceptors*. I would like to confirm, that there is interaction with them and maybe capture what they are receiving, during test.\r\n\r\nAt the moment, I can see, that they are missing during testing. I can tell it, because I&#39;m mutating response in actual application, but don&#39;t see same/expected result during testing.\r\n\r\nI am using `Java 17`, latest `spring-ws-test` and `spring-boot 2.7.6`\r\n\r\n**UPD:**\r\nSome references, that I used\r\n- https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-webservices.server\r\n- https://jschmitz.dev/posts/how_to_test_the_web_services_of_your_spring_boot_application_with_webservicesservertest/\r\n\r\nThe problem is, that none of them cover configuration.\r\n\r\nOn Baeldung, there was one note:\r\n&gt; As mentioned previously, `@WebServiceServerTest` will not load the whole application context. If we do need to load the entire application context for the test, then we should consider using the `@SpringBootTest` combined with the `@AutoConfigureMockWebServiceClient`. We can then use this client in a similar fashion to send the request and verify the response, as shown previously.\r\n\r\nBut I am wondering if this is the only way to approach it.","title":"How to setup configuration for SOAP service testing when using WebServiceServerTest, MockWebServiceClient in Java?","body":"<p>As question states, I am a bit confused about how to setup <strong>SOAP</strong> service testing in <strong>Java (Spring)</strong>.</p>\n<p>In my specific case, I have custom endpoint <em>interceptors</em>. I would like to confirm, that there is interaction with them and maybe capture what they are receiving, during test.</p>\n<p>At the moment, I can see, that they are missing during testing. I can tell it, because I'm mutating response in actual application, but don't see same/expected result during testing.</p>\n<p>I am using <code>Java 17</code>, latest <code>spring-ws-test</code> and <code>spring-boot 2.7.6</code></p>\n<p><strong>UPD:</strong>\nSome references, that I used</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-webservices.server\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-webservices.server</a></li>\n<li><a href=\"https://jschmitz.dev/posts/how_to_test_the_web_services_of_your_spring_boot_application_with_webservicesservertest/\" rel=\"nofollow noreferrer\">https://jschmitz.dev/posts/how_to_test_the_web_services_of_your_spring_boot_application_with_webservicesservertest/</a></li>\n</ul>\n<p>The problem is, that none of them cover configuration.</p>\n<p>On Baeldung, there was one note:</p>\n<blockquote>\n<p>As mentioned previously, <code>@WebServiceServerTest</code> will not load the whole application context. If we do need to load the entire application context for the test, then we should consider using the <code>@SpringBootTest</code> combined with the <code>@AutoConfigureMockWebServiceClient</code>. We can then use this client in a similar fashion to send the request and verify the response, as shown previously.</p>\n</blockquote>\n<p>But I am wondering if this is the only way to approach it.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1680182421,"post_id":75887817,"comment_id":133857206,"body_markdown":"What isn&#39;t working about the code you shared? Is there an error message?","body":"What isn&#39;t working about the code you shared? Is there an error message?"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680185918,"post_id":75887817,"comment_id":133858295,"body_markdown":"the idea was that when a supervisor is being retrieved on random basis as shown in the code, the retrieved supervisor is been assigned to a student and the db is updated. the situation continue till all the supervisors are filled. The issue is that when the supervisor are all filled, the database changes all the supervisors status to &quot;filled&quot; but my app still retrieve the supervisors whose status is &quot;filled&quot; which means that the app is not updated with the supervisor&#39;s status at real time. The app supposed to query the supervisors whose status are not filled as indicated in my query.","body":"the idea was that when a supervisor is being retrieved on random basis as shown in the code, the retrieved supervisor is been assigned to a student and the db is updated. the situation continue till all the supervisors are filled. The issue is that when the supervisor are all filled, the database changes all the supervisors status to &quot;filled&quot; but my app still retrieve the supervisors whose status is &quot;filled&quot; which means that the app is not updated with the supervisor&#39;s status at real time. The app supposed to query the supervisors whose status are not filled as indicated in my query."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680186010,"post_id":75887817,"comment_id":133858316,"body_markdown":"Immediately the last available supervisor is assigned to a student, the app supposed to return null instantly which shows that there is no supervisor in the db again whose status is &quot;Not Filled&quot;","body":"Immediately the last available supervisor is assigned to a student, the app supposed to return null instantly which shows that there is no supervisor in the db again whose status is &quot;Not Filled&quot;"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680186034,"post_id":75887817,"comment_id":133858321,"body_markdown":"That&#39;s the issue I am facing @FrankvanPuffelen","body":"That&#39;s the issue I am facing @FrankvanPuffelen"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1680200058,"post_id":75887817,"comment_id":133862058,"body_markdown":"That is repeating the use-case you already outlined in your question. What I&#39;m not clear on what exact line in the code you shared isn&#39;t working. I.e. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do? --- I.e. this *could* be: &quot;When I step through the `onDataChange` line by line, I see that it updates `supervisorsList` with the right users and picks a `supervisorChose ` at random, but it never shows that chosen supervisor in my UI&quot;","body":"That is repeating the use-case you already outlined in your question. What I&#39;m not clear on what exact line in the code you shared isn&#39;t working. I.e. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do? --- I.e. this <i>could</i> be: &quot;When I step through the <code>onDataChange</code> line by line, I see that it updates <code>supervisorsList</code> with the right users and picks a <code>supervisorChose </code> at random, but it never shows that chosen supervisor in my UI&quot;"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680244821,"post_id":75887817,"comment_id":133868522,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680256036,"post_id":75887817,"comment_id":133870954,"body_markdown":"I didn&#39;t want it to be shown on the UI, the picked supervisor is used elsewhere. Actually I solved the issue by moving to another activity after successful registration. With that, my getSupervisors was updated from the database when a new user want to register. thanks for all your time","body":"I didn&#39;t want it to be shown on the UI, the picked supervisor is used elsewhere. Actually I solved the issue by moving to another activity after successful registration. With that, my getSupervisors was updated from the database when a new user want to register. thanks for all your time"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680182355,"creation_date":1680176701,"question_id":75887817,"body_markdown":"I am querying a realtime firebase database and I think orderByChild cannot be updated on realtime. I want a situation whereby the status will be updated immediately a supervisor was generated from the db without having to relaunch the app because immediately a supervisor is generated from the app, the status changed to &quot;Filled&quot; and I want the app to stop at that moment. From what I saw on stack overflow, they said that the orderByChild query should be moved inside the snapshot that has the listener and I don&#39;t know how to do it.\r\n    \r\n    private void getSupervisors() {\r\n    \r\n        Query databaseReference = FirebaseDatabase.getInstance().getReference()\r\n                .child(&quot;Supervisors&quot;).orderByChild(&quot;status&quot;).equalTo(&quot;Not Filled&quot;);\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                    List&lt;String&gt; supervisorsList =new ArrayList&lt;&gt;();\r\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n\r\n                            supervisorsList.add(dataSnapshot.child(&quot;sid&quot;).getValue().toString());\r\n                        }\r\n                    supervisorChose = supervisorsList.get(new Random().nextInt(supervisorsList.size()));\r\n                    Log.d(&quot;Main&quot;,&quot;Supervisor List contains &quot;+supervisorsList);\r\n                    Log.d(&quot;Main&quot;,&quot;Supervisor chose is &quot;+supervisorChose);\r\n\r\n                }else {\r\n                    //Toast.makeText(StudentRegistrationActivity.this, &quot;No Supervisor in the database&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(StudentRegistrationActivity.this, &quot;Error From the database&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n","title":"how to update firebase realtime database","body":"<p>I am querying a realtime firebase database and I think orderByChild cannot be updated on realtime. I want a situation whereby the status will be updated immediately a supervisor was generated from the db without having to relaunch the app because immediately a supervisor is generated from the app, the status changed to &quot;Filled&quot; and I want the app to stop at that moment. From what I saw on stack overflow, they said that the orderByChild query should be moved inside the snapshot that has the listener and I don't know how to do it.</p>\n<pre><code>private void getSupervisors() {\n\n    Query databaseReference = FirebaseDatabase.getInstance().getReference()\n            .child(&quot;Supervisors&quot;).orderByChild(&quot;status&quot;).equalTo(&quot;Not Filled&quot;);\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.exists()) {\n                List&lt;String&gt; supervisorsList =new ArrayList&lt;&gt;();\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n\n                        supervisorsList.add(dataSnapshot.child(&quot;sid&quot;).getValue().toString());\n                    }\n                supervisorChose = supervisorsList.get(new Random().nextInt(supervisorsList.size()));\n                Log.d(&quot;Main&quot;,&quot;Supervisor List contains &quot;+supervisorsList);\n                Log.d(&quot;Main&quot;,&quot;Supervisor chose is &quot;+supervisorChose);\n\n            }else {\n                //Toast.makeText(StudentRegistrationActivity.this, &quot;No Supervisor in the database&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            Toast.makeText(StudentRegistrationActivity.this, &quot;Error From the database&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","firebase","listview","firebase-realtime-database"],"comments":[{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":0,"creation_date":1534962730,"post_id":51972787,"comment_id":90896599,"body_markdown":"why you are clearing the whole adapter, after you call **appleSnapshot.getRef().removeValue();**, just remove that position item from list and then call **arrayAdapter.notifyDataSetChanged();**","body":"why you are clearing the whole adapter, after you call <b>appleSnapshot.getRef().removeValue();</b>, just remove that position item from list and then call <b>arrayAdapter.notifyDataSetChanged();</b>"},{"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"score":0,"creation_date":1534998454,"post_id":51972787,"comment_id":90906416,"body_markdown":"How do i do that,Im a beginner,please help.","body":"How do i do that,Im a beginner,please help."},{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":1,"creation_date":1534999937,"post_id":51972787,"comment_id":90906705,"body_markdown":"after call of for loop of **appleSnapshot.getRef().removeValue()** then remove that position item from arraylist like **arraylist.remove(yourposition);**, then call notifydatasetchanged and check.","body":"after call of for loop of <b>appleSnapshot.getRef().removeValue()</b> then remove that position item from arraylist like <b>arraylist.remove(yourposition);</b>, then call notifydatasetchanged and check."},{"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"score":0,"creation_date":1535002670,"post_id":51972787,"comment_id":90907585,"body_markdown":"Thank you so much.I did this changes.arrayList.remove(listView.getPositionForView(view));","body":"Thank you so much.I did this changes.arrayList.remove(listView.getPositionForView(view));"},{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":0,"creation_date":1535003096,"post_id":51972787,"comment_id":90907731,"body_markdown":"welcome mate , i have add the above suggestion comment as my answer will you accept it.?","body":"welcome mate , i have add the above suggestion comment as my answer will you accept it.?"}],"answers":[{"comments":[{"owner":{"account_id":8299955,"reputation":2298,"user_id":6238866,"display_name":"Mayur Patel"},"score":0,"creation_date":1535003640,"post_id":51979075,"comment_id":90907936,"body_markdown":"Thats not update instantly if you remove data from firebase database.","body":"Thats not update instantly if you remove data from firebase database."},{"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"score":0,"creation_date":1535118205,"post_id":51979075,"comment_id":90961355,"body_markdown":"I did the same.Thanks for your answer and time","body":"I did the same.Thanks for your answer and time"},{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":0,"creation_date":1535122999,"post_id":51979075,"comment_id":90964463,"body_markdown":"@ManujSharma, Welcome mate :)","body":"@ManujSharma, Welcome mate :)"}],"tags":[],"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1535003318,"creation_date":1535003318,"answer_id":51979075,"question_id":51972787,"body_markdown":"After call of for loop of `appleSnapshot.getRef().removeValue();` then remove that position item from arraylist , then call notifydatasetchanged and check like below\r\n\r\n    public void deleteTask(View view) {\r\n\r\n        int index=listView.getPositionForView(view);\r\n        String str= (String) arrayAdapter.getItem(index++);\r\n\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n        Query taskQuery = ref.child(&quot;Todo&quot;).orderByChild(&quot;Task&quot;).equalTo(str);\r\n        taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\r\n                    appleSnapshot.getRef().removeValue();\r\n                }\r\n                arrayList.remove(listView.getPositionForView(view)); // remove the item from list\r\n                arrayAdapter.notifyDataSetChanged();// notify the changed\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                Log.e(&quot;TAG&quot;, &quot;onCancelled&quot;, databaseError.toException());\r\n            }\r\n        });\r\n\r\n    }","title":"how do i update my listView after deleting the data in firebase realtime database","body":"<p>After call of for loop of <code>appleSnapshot.getRef().removeValue();</code> then remove that position item from arraylist , then call notifydatasetchanged and check like below</p>\n\n<pre><code>public void deleteTask(View view) {\n\n    int index=listView.getPositionForView(view);\n    String str= (String) arrayAdapter.getItem(index++);\n\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\n    Query taskQuery = ref.child(\"Todo\").orderByChild(\"Task\").equalTo(str);\n    taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\n                appleSnapshot.getRef().removeValue();\n            }\n            arrayList.remove(listView.getPositionForView(view)); // remove the item from list\n            arrayAdapter.notifyDataSetChanged();// notify the changed\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            Log.e(\"TAG\", \"onCancelled\", databaseError.toException());\n        }\n    });\n\n}\n</code></pre>\n"}],"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1552,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":51979075,"answer_count":1,"score":-3,"last_activity_date":1680182332,"creation_date":1534961404,"question_id":51972787,"body_markdown":"My app saves the data in a [Firebase realtime database][1] and I have retreived the data and showed them in a [ListtView][2]. Now I want to delete a particular data in a `ListView`  and I have used the [removeValue()][3] method for deleting task and the data is deleted. However, I am not able to update the `ListView` after deleting data from database. `ListView` is either cleared od gets contained only one item. If i reopen my app,then the items are properly updated. Why `ListView` is not updated?\r\n\r\n**This is my MainActivity.java**\r\n\r\n    package com.example.manuj.todolist;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.support.design.widget.FloatingActionButton;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.firebase.database.ChildEventListener;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.Query;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ListView listView;\r\n        TextView textView;\r\n        Button button;\r\n    \r\n    \r\n        String tasks;\r\n        FirebaseDatabase db = FirebaseDatabase.getInstance();\r\n        DatabaseReference rootRef = db.getReference();\r\n        DatabaseReference dataRef = rootRef.child(&quot;Todo&quot;);\r\n        ArrayList&lt;String&gt;arrayList=new ArrayList&lt;&gt;();\r\n        ArrayAdapter arrayAdapter;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            button=findViewById(R.id.delButton);\r\n            textView=findViewById(R.id.taskText);\r\n            listView=findViewById(R.id.listView);\r\n    \r\n    \r\n            arrayAdapter=new ArrayAdapter&lt;String&gt;(this,R.layout.list_items,R.id.taskText,arrayList);\r\n            listView.setAdapter(arrayAdapter);\r\n    \r\n            dataRef.addChildEventListener(new ChildEventListener() {\r\n                @Override\r\n                public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n                    String value = dataSnapshot.getValue().toString();\r\n                    try {\r\n                        JSONObject object = new JSONObject(value);\r\n                        tasks = object.getString(&quot;Task&quot;);\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    arrayList.add(tasks);\r\n                    arrayAdapter.notifyDataSetChanged();\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n    \r\n                }\r\n            });\r\n            listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, final int position, long id) {\r\n                    Toast.makeText(MainActivity.this,&quot;sffad&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n    \r\n            //Get the floating action button and set onClickLiter\r\n            FloatingActionButton fab = findViewById(R.id.fab);\r\n            fab.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent=new Intent(MainActivity.this,CustomDialog.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n    \r\n        public void deleteTask(View view) {\r\n    \r\n            int index=listView.getPositionForView(view);\r\n            String str= (String) arrayAdapter.getItem(index++);\r\n    \r\n            DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n            Query taskQuery = ref.child(&quot;Todo&quot;).orderByChild(&quot;Task&quot;).equalTo(str);\r\n            taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\r\n                        appleSnapshot.getRef().removeValue();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                    Log.e(&quot;TAG&quot;, &quot;onCancelled&quot;, databaseError.toException());\r\n                }\r\n            });\r\n    \r\n    \r\n            arrayAdapter.clear();\r\n            arrayAdapter.addAll(arrayList);\r\n            arrayAdapter.notifyDataSetChanged();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://firebase.google.com/\r\n  [2]: https://developer.android.com/reference/android/widget/ListView\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#removeValue()","title":"how do i update my listView after deleting the data in firebase realtime database","body":"<p>My app saves the data in a <a href=\"https://firebase.google.com/\" rel=\"nofollow noreferrer\">Firebase realtime database</a> and I have retreived the data and showed them in a <a href=\"https://developer.android.com/reference/android/widget/ListView\" rel=\"nofollow noreferrer\">ListtView</a>. Now I want to delete a particular data in a <code>ListView</code>  and I have used the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#removeValue()\" rel=\"nofollow noreferrer\">removeValue()</a> method for deleting task and the data is deleted. However, I am not able to update the <code>ListView</code> after deleting data from database. <code>ListView</code> is either cleared od gets contained only one item. If i reopen my app,then the items are properly updated. Why <code>ListView</code> is not updated?</p>\n<p><strong>This is my MainActivity.java</strong></p>\n<pre><code>package com.example.manuj.todolist;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.ChildEventListener;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ListView listView;\n    TextView textView;\n    Button button;\n\n\n    String tasks;\n    FirebaseDatabase db = FirebaseDatabase.getInstance();\n    DatabaseReference rootRef = db.getReference();\n    DatabaseReference dataRef = rootRef.child(&quot;Todo&quot;);\n    ArrayList&lt;String&gt;arrayList=new ArrayList&lt;&gt;();\n    ArrayAdapter arrayAdapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button=findViewById(R.id.delButton);\n        textView=findViewById(R.id.taskText);\n        listView=findViewById(R.id.listView);\n\n\n        arrayAdapter=new ArrayAdapter&lt;String&gt;(this,R.layout.list_items,R.id.taskText,arrayList);\n        listView.setAdapter(arrayAdapter);\n\n        dataRef.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n                String value = dataSnapshot.getValue().toString();\n                try {\n                    JSONObject object = new JSONObject(value);\n                    tasks = object.getString(&quot;Task&quot;);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n                arrayList.add(tasks);\n                arrayAdapter.notifyDataSetChanged();\n\n            }\n\n            @Override\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n\n            }\n        });\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, final int position, long id) {\n                Toast.makeText(MainActivity.this,&quot;sffad&quot;,Toast.LENGTH_SHORT).show();\n\n            }\n\n        });\n\n\n        //Get the floating action button and set onClickLiter\n        FloatingActionButton fab = findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent=new Intent(MainActivity.this,CustomDialog.class);\n                startActivity(intent);\n            }\n        });\n\n    }\n\n\n    public void deleteTask(View view) {\n\n        int index=listView.getPositionForView(view);\n        String str= (String) arrayAdapter.getItem(index++);\n\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\n        Query taskQuery = ref.child(&quot;Todo&quot;).orderByChild(&quot;Task&quot;).equalTo(str);\n        taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\n                    appleSnapshot.getRef().removeValue();\n                }\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                Log.e(&quot;TAG&quot;, &quot;onCancelled&quot;, databaseError.toException());\n            }\n        });\n\n\n        arrayAdapter.clear();\n        arrayAdapter.addAll(arrayList);\n        arrayAdapter.notifyDataSetChanged();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","gradle","apache-commons-beanutils"],"answers":[{"tags":[],"owner":{"account_id":9245299,"reputation":21,"user_id":6867368,"display_name":"M. Wismer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680182278,"creation_date":1680018988,"answer_id":75868478,"question_id":75868239,"body_markdown":"\r\nI did get it to work but I had to include\r\n\r\n\r\nimplementation &#39;commons-collections:commons-collections:3.2.1&#39;\r\n\r\nimplementation &#39;commons-logging:commons-logging:1.2&#39;\r\n\r\nin my build.gradle","title":"Trying to use BeanComparator in my gradle project","body":"<p>I did get it to work but I had to include</p>\n<p>implementation 'commons-collections:commons-collections:3.2.1'</p>\n<p>implementation 'commons-logging:commons-logging:1.2'</p>\n<p>in my build.gradle</p>\n"},{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680031405,"creation_date":1680031405,"answer_id":75870290,"question_id":75868239,"body_markdown":"In build.gradle\r\n```\r\ndependencies{\r\n    // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\r\n    implementation &#39;commons-beanutils:commons-beanutils:1.9.4&#39;\r\n    . . . \r\n}\r\n```\r\n\r\nIn your Java class file: \r\n```\r\nimport java.util.Comparator;\r\nimport org.apache.commons.beanutils.BeanComparator;\r\n...\r\n    // Assume you want to compare Person objects based on their age properties.\r\n    private Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;age&quot;);\r\n\r\n```\r\nGoogle &quot;apache BeanComparator example&quot; for lots of usage examples.\r\n\r\nBut I would use \r\n```\r\npeople.sort((Person p1, Person p2)-&gt;p1.getAge()-p2.getAge());\r\n```\r\nas in \r\n```\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Comparator;\r\nimport org.apache.commons.beanutils.BeanComparator;\r\n\r\npublic class BeanComparatorDemo {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Person&gt; people = Arrays.asList(new Person(&quot;Bart&quot;, 28), new Person(&quot;Iris&quot;, 23), new Person(&quot;Dumsani&quot;, 71));\r\n\r\n        people.sort((Person p1, Person p2) -&gt; p1.getAge() - p2.getAge());\r\n        System.out.println(&quot;Sort using comparator lambda: &quot; + people);\r\n\r\n        // I wouldn&#39;t use BeanComparator because you can do this in regular Java\r\n        // without additional dependencies (and possible vulnerabilities),\r\n        // and BeanComparator seems to be hostile to Java records.\r\n        Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;name&quot;);\r\n        people.sort(bc);\r\n        System.out.println(&quot;Sort on name using BeanComparator: &quot; + people);\r\n    }\r\n\r\n    public static class Person {\r\n        private String name;\r\n        private int age;\r\n\r\n        Person(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n        public int getAge() { \r\n            return this.age;\r\n        }\r\n        public String toString() {\r\n            return &quot;Person [&quot; + name + &quot;, &quot; + age + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nAlso, `BeanComparator` doesn&#39;t seem to like Java `record`.","title":"Trying to use BeanComparator in my gradle project","body":"<p>In build.gradle</p>\n<pre><code>dependencies{\n    // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\n    implementation 'commons-beanutils:commons-beanutils:1.9.4'\n    . . . \n}\n</code></pre>\n<p>In your Java class file:</p>\n<pre><code>import java.util.Comparator;\nimport org.apache.commons.beanutils.BeanComparator;\n...\n    // Assume you want to compare Person objects based on their age properties.\n    private Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;age&quot;);\n\n</code></pre>\n<p>Google &quot;apache BeanComparator example&quot; for lots of usage examples.</p>\n<p>But I would use</p>\n<pre><code>people.sort((Person p1, Person p2)-&gt;p1.getAge()-p2.getAge());\n</code></pre>\n<p>as in</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Comparator;\nimport org.apache.commons.beanutils.BeanComparator;\n\npublic class BeanComparatorDemo {\n\n    public static void main(String[] args) {\n        List&lt;Person&gt; people = Arrays.asList(new Person(&quot;Bart&quot;, 28), new Person(&quot;Iris&quot;, 23), new Person(&quot;Dumsani&quot;, 71));\n\n        people.sort((Person p1, Person p2) -&gt; p1.getAge() - p2.getAge());\n        System.out.println(&quot;Sort using comparator lambda: &quot; + people);\n\n        // I wouldn't use BeanComparator because you can do this in regular Java\n        // without additional dependencies (and possible vulnerabilities),\n        // and BeanComparator seems to be hostile to Java records.\n        Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;name&quot;);\n        people.sort(bc);\n        System.out.println(&quot;Sort on name using BeanComparator: &quot; + people);\n    }\n\n    public static class Person {\n        private String name;\n        private int age;\n\n        Person(String name, int age) {\n            this.name = name;\n            this.age = age;\n        }\n\n        public String getName() {\n            return this.name;\n        }\n        public int getAge() { \n            return this.age;\n        }\n        public String toString() {\n            return &quot;Person [&quot; + name + &quot;, &quot; + age + &quot;]&quot;;\n        }\n    }\n\n}\n</code></pre>\n<p>Also, <code>BeanComparator</code> doesn't seem to like Java <code>record</code>.</p>\n"}],"owner":{"account_id":9245299,"reputation":21,"user_id":6867368,"display_name":"M. Wismer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680182278,"creation_date":1680017443,"question_id":75868239,"body_markdown":" I&#39;m having trouble using BeanComparator in my gradle project. I can import in my build.gradle with implementation &#39;commons-beanutils:commons-beanutils:1.9.4&#39;\r\n\r\nbut when I try to import \r\nimport commons-beanutils.commons.beanutils.BeanComparator\r\nI always see cannot resolve symbol commons\r\n\r\n\r\nDoes anyone have a working example of using BeanComparator with the import statement? Is using BeanComparator not a good idea because it uses reflection? It seems to do exactly what I want it to do.\r\n\r\nI have tried multiple variations \r\nimport commons-beanutils.commons-beanutils.BeanComparator\r\nimport commons.beanutils.commons-beanutils.BeanComparator etc.\r\n\r\nI have also tried \r\nimplementation &#39;org.apache.commons.beanutils:1.9.4&#39;\r\nbut that doesn&#39;t exist","title":"Trying to use BeanComparator in my gradle project","body":"<p>I'm having trouble using BeanComparator in my gradle project. I can import in my build.gradle with implementation 'commons-beanutils:commons-beanutils:1.9.4'</p>\n<p>but when I try to import\nimport commons-beanutils.commons.beanutils.BeanComparator\nI always see cannot resolve symbol commons</p>\n<p>Does anyone have a working example of using BeanComparator with the import statement? Is using BeanComparator not a good idea because it uses reflection? It seems to do exactly what I want it to do.</p>\n<p>I have tried multiple variations\nimport commons-beanutils.commons-beanutils.BeanComparator\nimport commons.beanutils.commons-beanutils.BeanComparator etc.</p>\n<p>I have also tried\nimplementation 'org.apache.commons.beanutils:1.9.4'\nbut that doesn't exist</p>\n"},{"tags":["java","annotations","javac"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1679994712,"post_id":75864102,"comment_id":133816629,"body_markdown":"Why do you think the problem lies in javac and not java itself ? I mean, you only used javac to compile it in the beginning, java is the one that worked with different contexts.","body":"Why do you think the problem lies in javac and not java itself ? I mean, you only used javac to compile it in the beginning, java is the one that worked with different contexts."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1679994922,"post_id":75864102,"comment_id":133816697,"body_markdown":"@YassinHajaj: I asserted (just like that!) that the Right Thing™ to do here is to ignore this missing enum reference. A user of `x` (running `java`) can&#39;t really do much about it anyway, whereas a user of `q` (running `javac`) might still be able to fix things by adding a dependency.","body":"@YassinHajaj: I asserted (just like that!) that the Right Thing™ to do here is to ignore this missing enum reference. A user of <code>x</code> (running <code>java</code>) can&#39;t really do much about it anyway, whereas a user of <code>q</code> (running <code>javac</code>) might still be able to fix things by adding a dependency."},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1679999986,"post_id":75864102,"comment_id":133817993,"body_markdown":"Indeed, I read through some of the information here. Thanks for the additional information, it indeed can only be `javac`","body":"Indeed, I read through some of the information here. Thanks for the additional information, it indeed can only be <code>javac</code>"},{"owner":{"account_id":7413250,"reputation":592,"user_id":5639961,"display_name":"yyyy"},"score":0,"creation_date":1680103156,"post_id":75864102,"comment_id":133841351,"body_markdown":"I found a probably related bug report https://bugs.openjdk.org/browse/JDK-6550655 mentioned &quot;If a completion failure is thrown when entering an annotation through ClassReader, a **warning** is issued.&quot;. So the warning is intentional.\nI don&#39;t think JLS said anything about warnings during compiling.","body":"I found a probably related bug report <a href=\"https://bugs.openjdk.org/browse/JDK-6550655\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-6550655</a> mentioned &quot;If a completion failure is thrown when entering an annotation through ClassReader, a <b>warning</b> is issued.&quot;. So the warning is intentional. I don&#39;t think JLS said anything about warnings during compiling."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1680103556,"post_id":75864102,"comment_id":133841489,"body_markdown":"@yyyy: Great finding! I wonder if it was implemented wrongly. There&#39;s a claim that *&quot;but C.java is successfully compiled, and C.class correctly seems to contain the @B annotation. Probably some added warning is in order in case A.class could be found but A$E.class could not.&quot;* - The test in your linked issue only removed the enum, not the annotation, in case of which I agree with the warning. If both are removed, then I don&#39;t see the point of the warning.","body":"@yyyy: Great finding! I wonder if it was implemented wrongly. There&#39;s a claim that <i>&quot;but C.java is successfully compiled, and C.class correctly seems to contain the @B annotation. Probably some added warning is in order in case A.class could be found but A$E.class could not.&quot;</i> - The test in your linked issue only removed the enum, not the annotation, in case of which I agree with the warning. If both are removed, then I don&#39;t see the point of the warning."}],"answers":[{"comments":[{"owner":{"account_id":7413250,"reputation":592,"user_id":5639961,"display_name":"yyyy"},"score":1,"creation_date":1680193081,"post_id":75888750,"comment_id":133860396,"body_markdown":"Current behavior probably exists before jdk-6550655, as you can see the &quot;suggested fix&quot; shows `if (enumerator == null) { log.error(&quot;unknown.enum.constant&quot;) ...`, which prints the warning you see, already exists before this fix.\nI&#39;d like to see the code history, but it&#39;s long before OpenJDK migrating to GitHub, I can&#39;t find the history anywhere.","body":"Current behavior probably exists before jdk-6550655, as you can see the &quot;suggested fix&quot; shows <code>if (enumerator == null) { log.error(&quot;unknown.enum.constant&quot;) ...</code>, which prints the warning you see, already exists before this fix. I&#39;d like to see the code history, but it&#39;s long before OpenJDK migrating to GitHub, I can&#39;t find the history anywhere."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680182156,"creation_date":1680182156,"answer_id":75888750,"question_id":75864102,"body_markdown":"As [commented by user yyyy][1] and also on the [library bug tracker][2], the current behaviour is defined by a fix [JDK-6550655][3], which introduced the warning in Java 7 (before, this annotation/enum usage resulted in a compilation error).\r\n\r\n[JDK-6550655][3] is slightly different. The warning was introduced for cases where only the enum `p.E` is absent, not the annotation `p.A`, in case of which, indeed, undesired runtime errors will occur when accessing `p.A` using reflection API. Warning developers of this situation is certainly desired. In this case here, however, all content of the `p` package is absent, meaning there can&#39;t be any runtime errors, and the absence should be fine as per the design of annotations, which are allowed to be absent.\r\n\r\nIn my opinion, this is a bug in javac, which I&#39;ve reported: [JDK-8305250][4]. It may or may not be accepted or fixed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75864102/how-to-avoid-javac-warning-unknown-enum-constant-reason-class-file-not-found?noredirect=1#comment133841351_75864102\r\n  [2]: https://github.com/jOOQ/jOOQ/issues/14865#issuecomment-1489310283\r\n  [3]: https://bugs.openjdk.org/browse/JDK-6550655\r\n  [4]: https://bugs.openjdk.org/browse/JDK-8305250","title":"How to avoid javac warning: unknown enum constant, reason: class file not found, when dependency has optional annotations with enums","body":"<p>As <a href=\"https://stackoverflow.com/questions/75864102/how-to-avoid-javac-warning-unknown-enum-constant-reason-class-file-not-found?noredirect=1#comment133841351_75864102\">commented by user yyyy</a> and also on the <a href=\"https://github.com/jOOQ/jOOQ/issues/14865#issuecomment-1489310283\" rel=\"nofollow noreferrer\">library bug tracker</a>, the current behaviour is defined by a fix <a href=\"https://bugs.openjdk.org/browse/JDK-6550655\" rel=\"nofollow noreferrer\">JDK-6550655</a>, which introduced the warning in Java 7 (before, this annotation/enum usage resulted in a compilation error).</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-6550655\" rel=\"nofollow noreferrer\">JDK-6550655</a> is slightly different. The warning was introduced for cases where only the enum <code>p.E</code> is absent, not the annotation <code>p.A</code>, in case of which, indeed, undesired runtime errors will occur when accessing <code>p.A</code> using reflection API. Warning developers of this situation is certainly desired. In this case here, however, all content of the <code>p</code> package is absent, meaning there can't be any runtime errors, and the absence should be fine as per the design of annotations, which are allowed to be absent.</p>\n<p>In my opinion, this is a bug in javac, which I've reported: <a href=\"https://bugs.openjdk.org/browse/JDK-8305250\" rel=\"nofollow noreferrer\">JDK-8305250</a>. It may or may not be accepted or fixed.</p>\n"}],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2223,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":75888750,"answer_count":1,"score":20,"last_activity_date":1680182156,"creation_date":1679993215,"question_id":75864102,"body_markdown":"I have this example setup:\r\n\r\n**`p.E`**\r\n\r\n```java\r\npackage p;\r\n\r\npublic enum E { E }\r\n```\r\n\r\n**`p.A`**\r\n\r\n```java\r\npackage p;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface A {\r\n    p.E e();\r\n}\r\n```\r\n\r\n**`q.Test`**\r\n\r\n```java\r\npackage q;\r\n\r\nimport p.*;\r\n\r\n@A(e = E.E)\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Test.main()&quot;);\r\n    }\r\n}\r\n```\r\n\r\nSo, I can now do this:\r\n\r\n```none\r\n$ javac q/Test.java\r\n$ rm p/*.class\r\n$ ll */*\r\n-rw-r--r-- 1 lukas 197609 118 Mar 28 10:21 p/A.java\r\n-rw-r--r-- 1 lukas 197609  32 Mar 28 09:43 p/E.java\r\n-rw-r--r-- 1 lukas 197609 486 Mar 28 10:22 q/Test.class\r\n-rw-r--r-- 1 lukas 197609 153 Mar 28 09:55 q/Test.java\r\n$ java q/Test\r\nTest.main()\r\n```\r\n\r\nNo problem, the annotations are optional and ignored by the runtime, no `NoClassDefFoundError`\r\n\r\nHowever, when I remove the source files of `p` as well, keeping the compiled `Test.class`:\r\n\r\n```\r\n$ rm -Rf p\r\n```\r\n\r\nAnd then create:\r\n\r\n**`x.Test2`**\r\n\r\n```java\r\npackage x;\r\n\r\npublic class Test2 {\r\n    q.Test test;\r\n}\r\n```\r\n\r\nCompiling that class gives a warning:\r\n\r\n```none\r\n$ javac x/Test2.java\r\nwarning: unknown enum constant E.E\r\n  reason: class file for p.E not found\r\n1 warning\r\n```\r\n\r\n## Alternatives, that don&#39;t produce such a warning\r\n\r\n### No enum\r\n\r\nI don&#39;t get this warning for an annotation that doesn&#39;t depend on any enums. I.e. repeat the procedure for these, and there&#39;s no warning:\r\n\r\n**`p.A`**\r\n\r\n```java\r\npackage p;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface A {}\r\n```\r\n\r\n**`q.Test`**\r\n\r\n```java\r\npackage q;\r\n\r\nimport p.*;\r\n\r\n@A\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Test.main()&quot;);\r\n    }\r\n}\r\n```\r\n\r\n### Class reference\r\n\r\nWhen `A` references `Class&lt;E&gt;` instead of an `E.E` enum value, I still don&#39;t get any warnings:\r\n\r\n**`p.A`**\r\n\r\n```java\r\npackage p;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface A {\r\n    Class&lt;?&gt; a();\r\n}\r\n```\r\n\r\n**`q.Test`**\r\n\r\n```java\r\npackage q;\r\n\r\nimport p.*;\r\n\r\n@A(a = E.class)\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Test.main()&quot;);\r\n    }\r\n}\r\n```\r\n\r\n## My questions:\r\n\r\n1. Is this a correct warning according to the JLS? It seems like a bug in javac to me, given the annotation is optional and doesn&#39;t produce a warning if there&#39;s no `enum` type involved, but I may be missing something.\r\n2. Is there any way to work around this warning in client code?\r\n\r\n**For context: the real world use-case is:**\r\n\r\n- The `p` package containing the annotations are from JAXB\r\n- The `q` package containing library code that references the annotations is a library whose dependency on `p` is optional. (jOOQ to be specific, [more details here][1])\r\n- The `x` package is client code, depending on the `q` package, which has an optional dependency on `p`, meaning, the dependency is effectively missing by default.\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOQ/issues/14865","title":"How to avoid javac warning: unknown enum constant, reason: class file not found, when dependency has optional annotations with enums","body":"<p>I have this example setup:</p>\n<p><strong><code>p.E</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\npublic enum E { E }\n</code></pre>\n<p><strong><code>p.A</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface A {\n    p.E e();\n}\n</code></pre>\n<p><strong><code>q.Test</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package q;\n\nimport p.*;\n\n@A(e = E.E)\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test.main()&quot;);\n    }\n}\n</code></pre>\n<p>So, I can now do this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ javac q/Test.java\n$ rm p/*.class\n$ ll */*\n-rw-r--r-- 1 lukas 197609 118 Mar 28 10:21 p/A.java\n-rw-r--r-- 1 lukas 197609  32 Mar 28 09:43 p/E.java\n-rw-r--r-- 1 lukas 197609 486 Mar 28 10:22 q/Test.class\n-rw-r--r-- 1 lukas 197609 153 Mar 28 09:55 q/Test.java\n$ java q/Test\nTest.main()\n</code></pre>\n<p>No problem, the annotations are optional and ignored by the runtime, no <code>NoClassDefFoundError</code></p>\n<p>However, when I remove the source files of <code>p</code> as well, keeping the compiled <code>Test.class</code>:</p>\n<pre><code>$ rm -Rf p\n</code></pre>\n<p>And then create:</p>\n<p><strong><code>x.Test2</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package x;\n\npublic class Test2 {\n    q.Test test;\n}\n</code></pre>\n<p>Compiling that class gives a warning:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ javac x/Test2.java\nwarning: unknown enum constant E.E\n  reason: class file for p.E not found\n1 warning\n</code></pre>\n<h2>Alternatives, that don't produce such a warning</h2>\n<h3>No enum</h3>\n<p>I don't get this warning for an annotation that doesn't depend on any enums. I.e. repeat the procedure for these, and there's no warning:</p>\n<p><strong><code>p.A</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface A {}\n</code></pre>\n<p><strong><code>q.Test</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package q;\n\nimport p.*;\n\n@A\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test.main()&quot;);\n    }\n}\n</code></pre>\n<h3>Class reference</h3>\n<p>When <code>A</code> references <code>Class&lt;E&gt;</code> instead of an <code>E.E</code> enum value, I still don't get any warnings:</p>\n<p><strong><code>p.A</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface A {\n    Class&lt;?&gt; a();\n}\n</code></pre>\n<p><strong><code>q.Test</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package q;\n\nimport p.*;\n\n@A(a = E.class)\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test.main()&quot;);\n    }\n}\n</code></pre>\n<h2>My questions:</h2>\n<ol>\n<li>Is this a correct warning according to the JLS? It seems like a bug in javac to me, given the annotation is optional and doesn't produce a warning if there's no <code>enum</code> type involved, but I may be missing something.</li>\n<li>Is there any way to work around this warning in client code?</li>\n</ol>\n<p><strong>For context: the real world use-case is:</strong></p>\n<ul>\n<li>The <code>p</code> package containing the annotations are from JAXB</li>\n<li>The <code>q</code> package containing library code that references the annotations is a library whose dependency on <code>p</code> is optional. (jOOQ to be specific, <a href=\"https://github.com/jOOQ/jOOQ/issues/14865\" rel=\"noreferrer\">more details here</a>)</li>\n<li>The <code>x</code> package is client code, depending on the <code>q</code> package, which has an optional dependency on <code>p</code>, meaning, the dependency is effectively missing by default.</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1430719652,"post_id":30023545,"comment_id":48164336,"body_markdown":"so, now what is your question?","body":"so, now what is your question?"},{"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"score":0,"creation_date":1430719665,"post_id":30023545,"comment_id":48164342,"body_markdown":"check your `path` variable","body":"check your <code>path</code> variable"},{"owner":{"account_id":2814449,"reputation":5714,"user_id":2419922,"accept_rate":72,"display_name":"cshu"},"score":0,"creation_date":1430719881,"post_id":30023545,"comment_id":48164417,"body_markdown":"I remember that java 8 puts a `java.exe` under `Windows\\System32`. You cannot pretend it doesn&#39;t exist. You may have to use the full path of `jdk1.6.0`, or just uninstall java 8","body":"I remember that java 8 puts a <code>java.exe</code> under <code>Windows\\System32</code>. You cannot pretend it doesn&#39;t exist. You may have to use the full path of <code>jdk1.6.0</code>, or just uninstall java 8"}],"answers":[{"comments":[{"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"score":1,"creation_date":1430719916,"post_id":30023575,"comment_id":48164433,"body_markdown":"in Path %JAVA_HOME%/bin is there","body":"in Path %JAVA_HOME%/bin is there"}],"tags":[],"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430719645,"creation_date":1430719645,"answer_id":30023575,"question_id":30023545,"body_markdown":"You need to add the path to `jJAVA_HOME%/bin` directory in the `path` variable too. `java` command is located in `%JAVA_HOME%/bin`","title":"JAVA_HOME set but not taking effect","body":"<p>You need to add the path to <code>jJAVA_HOME%/bin</code> directory in the <code>path</code> variable too. <code>java</code> command is located in <code>%JAVA_HOME%/bin</code></p>\n"},{"comments":[{"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"score":0,"creation_date":1430719878,"post_id":30023579,"comment_id":48164416,"body_markdown":"in Path %JAVA_HOME%/bin is there","body":"in Path %JAVA_HOME%/bin is there"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1430719912,"post_id":30023579,"comment_id":48164430,"body_markdown":"some other entry is taking precedence then, what is your `PATH` look like","body":"some other entry is taking precedence then, what is your <code>PATH</code> look like"}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430719662,"creation_date":1430719662,"answer_id":30023579,"question_id":30023545,"body_markdown":"`JAVA_HOME` is environment variable that various application reads in their launcher script\r\n\r\nwhen you invoke `java` it looks up for all paths specified in your env variable named `PATH` and wherever the first match is it gets picked up\r\n\r\nso if you like command prompt to refer to jdk 6&#39;s Java append the path to `PATH`","title":"JAVA_HOME set but not taking effect","body":"<p><code>JAVA_HOME</code> is environment variable that various application reads in their launcher script</p>\n\n<p>when you invoke <code>java</code> it looks up for all paths specified in your env variable named <code>PATH</code> and wherever the first match is it gets picked up</p>\n\n<p>so if you like command prompt to refer to jdk 6's Java append the path to <code>PATH</code></p>\n"},{"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430719667,"creation_date":1430719667,"answer_id":30023580,"question_id":30023545,"body_markdown":"Check your `PATH` environment variable also. Your system is referring to latest Java installation through PATH variable.","title":"JAVA_HOME set but not taking effect","body":"<p>Check your <code>PATH</code> environment variable also. Your system is referring to latest Java installation through PATH variable.</p>\n"},{"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430719771,"creation_date":1430719771,"answer_id":30023595,"question_id":30023545,"body_markdown":"I think in your `path` variable you have hardcoded the path to `bin` folder. it should always be `%JAVA_HOME%/bin`.\r\n\r\nSo that it can pick path from `JAVA_HOME` variable and you don&#39;t need to change both the variables every time.","title":"JAVA_HOME set but not taking effect","body":"<p>I think in your <code>path</code> variable you have hardcoded the path to <code>bin</code> folder. it should always be <code>%JAVA_HOME%/bin</code>.</p>\n\n<p>So that it can pick path from <code>JAVA_HOME</code> variable and you don't need to change both the variables every time.</p>\n"},{"comments":[{"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"score":2,"creation_date":1430720579,"post_id":30023598,"comment_id":48164710,"body_markdown":"Thanks for the direction. It worked.As a side note removing following...\\ProgramData\\Oracle\\Java\\javapath;  or taking this to end also worked.","body":"Thanks for the direction. It worked.As a side note removing following...\\ProgramData\\Oracle\\Java\\javapath;  or taking this to end also worked."},{"owner":{"account_id":7830921,"reputation":175,"user_id":5920987,"accept_rate":75,"display_name":"Guilherme Nunes"},"score":1,"creation_date":1553178421,"post_id":30023598,"comment_id":97295163,"body_markdown":"That&#39;s great, I just don&#39;t like the fact that big companies like Oracle doesnt make that easy","body":"That&#39;s great, I just don&#39;t like the fact that big companies like Oracle doesnt make that easy"}],"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1654061375,"creation_date":1430719775,"answer_id":30023598,"question_id":30023545,"body_markdown":"I had the same trouble and I solved it with the following steps:\r\n\r\nYou need the correct environment variables.\r\n\r\nTo be exactly correct, you only need to set the `Path` variable.\r\n\r\nYou need to find where you add `%JAVA_HOME%\\bin` to the path.\r\n\r\nPut it at first place in the `Path` variable:\r\n\r\n    %JAVA_HOME%\\bin;... \r\n\r\nwhere `...` represents all other values of `Path`.\r\n\r\nI assume that `JAVA_HOME` is defined as a variable and had the correct value.\r\n\r\nAfter this reopen console and check:  \r\n \r\n    java -version","title":"JAVA_HOME set but not taking effect","body":"<p>I had the same trouble and I solved it with the following steps:</p>\n<p>You need the correct environment variables.</p>\n<p>To be exactly correct, you only need to set the <code>Path</code> variable.</p>\n<p>You need to find where you add <code>%JAVA_HOME%\\bin</code> to the path.</p>\n<p>Put it at first place in the <code>Path</code> variable:</p>\n<pre><code>%JAVA_HOME%\\bin;... \n</code></pre>\n<p>where <code>...</code> represents all other values of <code>Path</code>.</p>\n<p>I assume that <code>JAVA_HOME</code> is defined as a variable and had the correct value.</p>\n<p>After this reopen console and check:</p>\n<pre><code>java -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4139586,"reputation":129,"user_id":3395310,"display_name":"Nilesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680182104,"creation_date":1680182104,"answer_id":75888737,"question_id":30023545,"body_markdown":"Windows has this peculiar way of considering JAVA version. By default there is a java folder where jre is placed by windows. It is under C:\\Program Files (x86)\\Java\\jre1.8.0_351. \r\n\r\nAnd when you will read your Environment variable in windows 10 onward, you will notice there is a path entry &quot;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath&quot;. This messes up with Custom java home that we declare. To fix this just **move up** the **&quot;%JAVA_HOME%/bin&quot;** as a **first** entry in path variable.","title":"JAVA_HOME set but not taking effect","body":"<p>Windows has this peculiar way of considering JAVA version. By default there is a java folder where jre is placed by windows. It is under C:\\Program Files (x86)\\Java\\jre1.8.0_351.</p>\n<p>And when you will read your Environment variable in windows 10 onward, you will notice there is a path entry &quot;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath&quot;. This messes up with Custom java home that we declare. To fix this just <strong>move up</strong> the <strong>&quot;%JAVA_HOME%/bin&quot;</strong> as a <strong>first</strong> entry in path variable.</p>\n"}],"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23249,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":30023598,"answer_count":6,"score":6,"last_activity_date":1680182104,"creation_date":1430719538,"question_id":30023545,"body_markdown":"![enter image description here][1]\r\n\r\nAs depicted in above image java home is set and is being echoed but when i check for version it gives me latest version. \r\nAlready restarted the command prompt after setting env variable.\r\nOS is Windows 7\r\n\r\nUpdate:\r\n\r\nFollowing is the Path.\r\n\r\n&gt; ..ProgramData\\Oracle\\Java\\javapath;%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;;%JAVA_HOME%/bin;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/g8mpr.png","title":"JAVA_HOME set but not taking effect","body":"<p><img src=\"https://i.stack.imgur.com/g8mpr.png\" alt=\"enter image description here\"></p>\n\n<p>As depicted in above image java home is set and is being echoed but when i check for version it gives me latest version. \nAlready restarted the command prompt after setting env variable.\nOS is Windows 7</p>\n\n<p>Update:</p>\n\n<p>Following is the Path.</p>\n\n<blockquote>\n  <p>..ProgramData\\Oracle\\Java\\javapath;%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;;%JAVA_HOME%/bin;</p>\n</blockquote>\n"},{"tags":["java","selenium-webdriver","testing","webdriverwait","web-testing"],"comments":[{"owner":{"account_id":17313891,"reputation":135,"user_id":12540841,"display_name":"gxslash"},"score":1,"creation_date":1679515267,"post_id":75816376,"comment_id":133737857,"body_markdown":"Did you consider using WebDriverWait? https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait","body":"Did you consider using WebDriverWait? <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/org/openqa/selenium/supp&zwnj;&#8203;ort/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":23556202,"reputation":123,"user_id":19734191,"display_name":"Lydia"},"score":0,"creation_date":1680545444,"post_id":75816916,"comment_id":133913419,"body_markdown":"thanks for the suggestion, but I don&#39;t think it&#39;ll work out. All products - the previous and new - the same elements, they have the same xpath. The only difference is the images and product names. And it&#39;s an online store, so they add/remove products, and I can&#39;t hardcode them because today this product is on page 2, and tomorrow it might be on page 5.","body":"thanks for the suggestion, but I don&#39;t think it&#39;ll work out. All products - the previous and new - the same elements, they have the same xpath. The only difference is the images and product names. And it&#39;s an online store, so they add/remove products, and I can&#39;t hardcode them because today this product is on page 2, and tomorrow it might be on page 5."},{"owner":{"account_id":28049622,"reputation":460,"user_id":21425739,"display_name":"howard_9"},"score":0,"creation_date":1680548967,"post_id":75816916,"comment_id":133914221,"body_markdown":"Hi @Lydia, when you use visibilityOfElementLocated(), it sets a hook on the element on page 1.  As soon as the page 1&#39;s element disappears (which is a prerequisite for loading page 2&#39;s elements), the hook will notify Selenium.  Therefore, even though the xpath is the same, the hook will still be activated.","body":"Hi @Lydia, when you use visibilityOfElementLocated(), it sets a hook on the element on page 1.  As soon as the page 1&#39;s element disappears (which is a prerequisite for loading page 2&#39;s elements), the hook will notify Selenium.  Therefore, even though the xpath is the same, the hook will still be activated."},{"owner":{"account_id":23556202,"reputation":123,"user_id":19734191,"display_name":"Lydia"},"score":1,"creation_date":1680675944,"post_id":75816916,"comment_id":133936349,"body_markdown":"Thank you for explanation @howard_9. But it looks like, as you mentioned, my CPU is not fast enough. I tried &#39;invisibilityOfElementWithText&#39; with the first product title from the previous page via &#39;products.get(0).getText()&#39; and it works so far.","body":"Thank you for explanation @howard_9. But it looks like, as you mentioned, my CPU is not fast enough. I tried &#39;invisibilityOfElementWithText&#39; with the first product title from the previous page via &#39;products.get(0).getText()&#39; and it works so far."}],"tags":[],"owner":{"account_id":28049622,"reputation":460,"user_id":21425739,"display_name":"howard_9"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679516274,"creation_date":1679516274,"answer_id":75816916,"question_id":75816376,"body_markdown":"Two ideas...\r\n***\r\n## Idea #1\r\n\r\nRight after you click &quot;next page&quot;, you mentioned there is a 1-second window that the previous product remains on the page.\r\n\r\nStart checking for `visibilityOfElementLocated() = false` on the **previous product** right after you click &quot;next page&quot;.\r\n\r\n***\r\n## Idea #2\r\n\r\nIdea #1 might fail if your CPU is not fast enough to catch the previous product during that 1-second window.  In that case, try forking a new worker thread to check for the previous product right before you click &quot;next page&quot;.  Then, after you click &quot;next page&quot;, the master thread will wait for the worker thread to confirm that the previous product has disappeared.\r\n","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>Two ideas...</p>\n<hr />\n<h2>Idea #1</h2>\n<p>Right after you click &quot;next page&quot;, you mentioned there is a 1-second window that the previous product remains on the page.</p>\n<p>Start checking for <code>visibilityOfElementLocated() = false</code> on the <strong>previous product</strong> right after you click &quot;next page&quot;.</p>\n<hr />\n<h2>Idea #2</h2>\n<p>Idea #1 might fail if your CPU is not fast enough to catch the previous product during that 1-second window.  In that case, try forking a new worker thread to check for the previous product right before you click &quot;next page&quot;.  Then, after you click &quot;next page&quot;, the master thread will wait for the worker thread to confirm that the previous product has disappeared.</p>\n"},{"comments":[{"owner":{"account_id":23556202,"reputation":123,"user_id":19734191,"display_name":"Lydia"},"score":0,"creation_date":1680545877,"post_id":75828978,"comment_id":133913508,"body_markdown":"thanks. looks like ExpectedConditions is not a good option in my case and maybe I should try other waiters","body":"thanks. looks like ExpectedConditions is not a good option in my case and maybe I should try other waiters"}],"tags":[],"owner":{"account_id":5196911,"reputation":33,"user_id":4282691,"display_name":"Joshua Penn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679616128,"creation_date":1679616128,"answer_id":75828978,"question_id":75816376,"body_markdown":"You&#39;ll want to pair WebdriverWait with ExpectedConditions\r\n\r\n    new WebDriverWait(driver1, timeout).until(ExpectedConditions.visibilityOf(element));\r\n\r\nI recommend this explanation of how to use WebDriverWait in conjunction with ExpectedConditions: https://www.browserstack.com/guide/expectedconditions-in-selenium","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>You'll want to pair WebdriverWait with ExpectedConditions</p>\n<pre><code>new WebDriverWait(driver1, timeout).until(ExpectedConditions.visibilityOf(element));\n</code></pre>\n<p>I recommend this explanation of how to use WebDriverWait in conjunction with ExpectedConditions: <a href=\"https://www.browserstack.com/guide/expectedconditions-in-selenium\" rel=\"nofollow noreferrer\">https://www.browserstack.com/guide/expectedconditions-in-selenium</a></p>\n"},{"tags":[],"owner":{"account_id":28006101,"reputation":1,"user_id":21389490,"display_name":"Narendra Kulkarni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680181891,"creation_date":1679815364,"answer_id":75846405,"question_id":75816376,"body_markdown":"Use like this...\r\n\r\n    webdeivewait wait =new webdeivewait (driver,some seconds here);\r\n    \r\n    wait.until (ExpectedConditions.Visibilityofelementlocated(By.xpath(&quot;xpath of webelement you want to wait&quot;)).click();","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>Use like this...</p>\n<pre><code>webdeivewait wait =new webdeivewait (driver,some seconds here);\n\nwait.until (ExpectedConditions.Visibilityofelementlocated(By.xpath(&quot;xpath of webelement you want to wait&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":23556202,"reputation":123,"user_id":19734191,"display_name":"Lydia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75816916,"answer_count":3,"score":2,"last_activity_date":1680181891,"creation_date":1679512199,"question_id":75816376,"body_markdown":"For a graduation project, I am testing an online store using Selenium Webdriver and Java. I&#39;m stuck in this part of the testing , where I have to check whether all search results (products) contains partucular word.  \r\nMy search returns several pages of products. There is a pagination at the bottom of the page, but I don&#39;t know and can&#39;t check the exact number of pages, so I just click the [Next page] button while it is available.  \r\n\r\nSo the promblem is that when I click the [Next Page] button at the bottom of the page, the page scrolls up, the previous products remain for about 1 second, and then are replaced with new ones from the next page. The page itself is not reloaded, only the previous products are replaced by the next ones in the corresponding block on the page. The block and products are &lt;div&gt; element.  \r\n\r\nIt works if I use Thread.sleep, but this is considered a bad decision. I can&#39;t figure out if there&#39;s any way I can use explicity wait (textToBePresentInElement, elementToBeClickable, visibilityOfElementLocated, presenceOfElementLocated don&#39;t suit) as in my other tests.\r\n\r\n        List&lt;WebElement&gt; products = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\r\n        for (WebElement product : products) {\r\n            Assertions.assertTrue(product.getText().toLowerCase().contains(SearchPage.textForSearchWithResults),\r\n                    &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\r\n        }\r\n\r\n        WebElement pagination = driver.findElement(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT));\r\n        while (driver.findElements(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT)).size() &gt; 0) {\r\n            pagination.click();\r\n            try {\r\n                Thread.sleep(2000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            List&lt;WebElement&gt; productsOnTheNextPage = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\r\n            for (WebElement product : productsOnTheNextPage) {\r\n                System.out.println(product.getText());\r\n                Assertions.assertTrue(product.getText().toLowerCase().\r\n                                contains(SearchPage.textForSearchWithResults.toLowerCase()),\r\n                        &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\r\n            }\r\n        }\r\n\r\nHow can I replace this Thread.sleep?","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>For a graduation project, I am testing an online store using Selenium Webdriver and Java. I'm stuck in this part of the testing , where I have to check whether all search results (products) contains partucular word.<br />\nMy search returns several pages of products. There is a pagination at the bottom of the page, but I don't know and can't check the exact number of pages, so I just click the [Next page] button while it is available.</p>\n<p>So the promblem is that when I click the [Next Page] button at the bottom of the page, the page scrolls up, the previous products remain for about 1 second, and then are replaced with new ones from the next page. The page itself is not reloaded, only the previous products are replaced by the next ones in the corresponding block on the page. The block and products are  element.</p>\n<p>It works if I use Thread.sleep, but this is considered a bad decision. I can't figure out if there's any way I can use explicity wait (textToBePresentInElement, elementToBeClickable, visibilityOfElementLocated, presenceOfElementLocated don't suit) as in my other tests.</p>\n<pre><code>    List&lt;WebElement&gt; products = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\n    for (WebElement product : products) {\n        Assertions.assertTrue(product.getText().toLowerCase().contains(SearchPage.textForSearchWithResults),\n                &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\n    }\n\n    WebElement pagination = driver.findElement(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT));\n    while (driver.findElements(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT)).size() &gt; 0) {\n        pagination.click();\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        List&lt;WebElement&gt; productsOnTheNextPage = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\n        for (WebElement product : productsOnTheNextPage) {\n            System.out.println(product.getText());\n            Assertions.assertTrue(product.getText().toLowerCase().\n                            contains(SearchPage.textForSearchWithResults.toLowerCase()),\n                    &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\n        }\n    }\n</code></pre>\n<p>How can I replace this Thread.sleep?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9689,"page":536,"page_size":100}
