{"items":[{"tags":["java","eclipse","minecraft-forge"],"comments":[{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1609713972,"post_id":65549845,"comment_id":115902712,"body_markdown":"What do you expect will call `RegisterEvents`?","body":"What do you expect will call <code>RegisterEvents</code>?"}],"answers":[{"tags":[],"owner":{"account_id":23457619,"reputation":33,"user_id":17512883,"display_name":"user17512883"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638405546,"creation_date":1638389913,"answer_id":70190717,"question_id":65549845,"body_markdown":"Could be wrong but try `MinecraftForge.EVENT_BUS.register(new EventTest());` instead of `MinecraftForge.EVENT_BUS.register(EventTest.class);`\r\n\r\nIn the documentation for `EventBus`\r\n\r\n&gt;`void register(java.lang.Object target)`","title":"Why does the forge event not fire?","body":"<p>Could be wrong but try <code>MinecraftForge.EVENT_BUS.register(new EventTest());</code> instead of <code>MinecraftForge.EVENT_BUS.register(EventTest.class);</code></p>\n<p>In the documentation for <code>EventBus</code></p>\n<blockquote>\n<p><code>void register(java.lang.Object target)</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24975632,"reputation":3,"user_id":18838284,"display_name":"pufferenco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684502080,"creation_date":1684502080,"answer_id":76289428,"question_id":65549845,"body_markdown":"i know i&#39;m far to late but you can either use `register(new EventClass())`\r\nwhich allows the event method to not be static or make the method static and use `register(EventClass.class)`","title":"Why does the forge event not fire?","body":"<p>i know i'm far to late but you can either use <code>register(new EventClass())</code>\nwhich allows the event method to not be static or make the method static and use <code>register(EventClass.class)</code></p>\n"}],"owner":{"account_id":20234573,"reputation":11,"user_id":14840144,"display_name":"Eating Is Pog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684502080,"creation_date":1609676903,"question_id":65549845,"body_markdown":"I&#39;m trying to see if someone joined a world and then print something to console but the event doesn&#39;t seem to fire. Can someone help me? Here is my code:\r\n\r\n```\r\npackage pl00py_TR.pl00pyspvpmod;\r\n\r\nimport net.minecraft.entity.player.EntityPlayer;\r\nimport net.minecraft.init.Blocks;\r\nimport net.minecraftforge.common.MinecraftForge;\r\nimport net.minecraftforge.event.entity.living.LivingSpawnEvent;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport net.minecraftforge.fml.common.Mod.EventHandler;\r\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\r\nimport net.minecraftforge.fml.common.eventhandler.SubscribeEvent;\r\n\r\n@Mod(modid = Reference.MOD_ID, name = Reference.MOD_NAME, version = Reference.VERSION)\r\npublic class Pl00pysPVPMod {\r\n\r\n\t@EventHandler\r\n\tpublic void preInit(FMLPreInitializationEvent event) {\r\n\r\n\t}\r\n\r\n\t@EventHandler\r\n\tpublic void init(FMLInitializationEvent event) {\r\n\r\n\t}\r\n\r\n\t@EventHandler\r\n\tpublic void postInit(FMLPostInitializationEvent event) {\r\n\t\tSystem.out.println(&quot;DIRT BLOCK &gt;&gt; &quot; + Blocks.dirt.getUnlocalizedName());\r\n\t}\r\n\r\n\tpublic class EventTest {\r\n\t\t@SubscribeEvent\r\n\t\tpublic void OnEvent(LivingSpawnEvent event) {\r\n\t\t\tSystem.out.println(&quot;Event Test&quot;);\r\n\t\t\tif (event.entity instanceof EntityPlayer) {\r\n\t\t\t\tSystem.out.println(&quot;Player Joined&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void RegisterEvents() {\r\n\t\tSystem.out.println(&quot;Registering Events...&quot;);\r\n\t\tMinecraftForge.EVENT_BUS.register(EventTest.class);\r\n\t}\r\n}\r\n```\r\n\r\nThe code is for 1.8.9 and I am trying to find out if someone joins a server/world. I am trying to get the players coords and print them to console but the event doesn&#39;t fire or initialize. Could someone explain why this is happening and give me an idea of how to fix this?","title":"Why does the forge event not fire?","body":"<p>I'm trying to see if someone joined a world and then print something to console but the event doesn't seem to fire. Can someone help me? Here is my code:</p>\n<pre><code>package pl00py_TR.pl00pyspvpmod;\n\nimport net.minecraft.entity.player.EntityPlayer;\nimport net.minecraft.init.Blocks;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.event.entity.living.LivingSpawnEvent;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.Mod.EventHandler;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\nimport net.minecraftforge.fml.common.eventhandler.SubscribeEvent;\n\n@Mod(modid = Reference.MOD_ID, name = Reference.MOD_NAME, version = Reference.VERSION)\npublic class Pl00pysPVPMod {\n\n    @EventHandler\n    public void preInit(FMLPreInitializationEvent event) {\n\n    }\n\n    @EventHandler\n    public void init(FMLInitializationEvent event) {\n\n    }\n\n    @EventHandler\n    public void postInit(FMLPostInitializationEvent event) {\n        System.out.println(&quot;DIRT BLOCK &gt;&gt; &quot; + Blocks.dirt.getUnlocalizedName());\n    }\n\n    public class EventTest {\n        @SubscribeEvent\n        public void OnEvent(LivingSpawnEvent event) {\n            System.out.println(&quot;Event Test&quot;);\n            if (event.entity instanceof EntityPlayer) {\n                System.out.println(&quot;Player Joined&quot;);\n            }\n        }\n    }\n\n    public void RegisterEvents() {\n        System.out.println(&quot;Registering Events...&quot;);\n        MinecraftForge.EVENT_BUS.register(EventTest.class);\n    }\n}\n</code></pre>\n<p>The code is for 1.8.9 and I am trying to find out if someone joins a server/world. I am trying to get the players coords and print them to console but the event doesn't fire or initialize. Could someone explain why this is happening and give me an idea of how to fix this?</p>\n"},{"tags":["java","retrofit","retrofit2","okhttp"],"answers":[{"comments":[{"owner":{"account_id":6931841,"reputation":9,"user_id":5321087,"display_name":"Vihuela Yao"},"score":0,"creation_date":1441953867,"post_id":32517154,"comment_id":52892430,"body_markdown":"setLog &#39;s callback  can input every log","body":"setLog &#39;s callback  can input every log"},{"owner":{"account_id":544642,"reputation":7432,"user_id":270197,"accept_rate":95,"display_name":"Gabor"},"score":1,"creation_date":1441989923,"post_id":32517154,"comment_id":52914742,"body_markdown":"this is using retrofit v1, not v2","body":"this is using retrofit v1, not v2"}],"tags":[],"owner":{"account_id":6931841,"reputation":9,"user_id":5321087,"display_name":"Vihuela Yao"},"comment_count":2,"down_vote_count":12,"up_vote_count":1,"is_accepted":false,"score":-11,"last_activity_date":1443078363,"creation_date":1441953806,"answer_id":32517154,"question_id":32514410,"body_markdown":"hey guys，i already find solution:\r\n\r\n      public static &lt;T&gt; T createApi(Context context, Class&lt;T&gt; clazz, String host, boolean debug) {\r\n        if (singleton == null) {\r\n            synchronized (RetrofitUtils.class) {\r\n                if (singleton == null) {\r\n                    RestAdapter.Builder builder = new RestAdapter.Builder();\r\n                    builder\r\n                            .setEndpoint(host)\r\n                            .setClient(new OkClient(OkHttpUtils.getInstance(context)))\r\n                            .setRequestInterceptor(RequestIntercepts.newInstance())\r\n                            .setConverter(new GsonConverter(GsonUtils.newInstance()))\r\n                            .setErrorHandler(new ErrorHandlers())\r\n                            .setLogLevel(debug ? RestAdapter.LogLevel.FULL : RestAdapter.LogLevel.NONE)/*LogLevel.BASIC will cause response.getBody().in() close*/\r\n                            .setLog(new RestAdapter.Log() {\r\n                                @Override\r\n                                public void log(String message) {\r\n                                    if (message.startsWith(&quot;{&quot;) || message.startsWith(&quot;[&quot;))\r\n                                        Logger.json(message);\r\n                                    else {\r\n                                        Logger.i(message);\r\n                                    }\r\n                                }\r\n                            });\r\n                    singleton = builder.build();\r\n                }\r\n            }\r\n        }\r\n        return singleton.create(clazz);\r\n    }","title":"Logging with Retrofit 2","body":"<p>hey guys，i already find solution:</p>\n\n<pre><code>  public static &lt;T&gt; T createApi(Context context, Class&lt;T&gt; clazz, String host, boolean debug) {\n    if (singleton == null) {\n        synchronized (RetrofitUtils.class) {\n            if (singleton == null) {\n                RestAdapter.Builder builder = new RestAdapter.Builder();\n                builder\n                        .setEndpoint(host)\n                        .setClient(new OkClient(OkHttpUtils.getInstance(context)))\n                        .setRequestInterceptor(RequestIntercepts.newInstance())\n                        .setConverter(new GsonConverter(GsonUtils.newInstance()))\n                        .setErrorHandler(new ErrorHandlers())\n                        .setLogLevel(debug ? RestAdapter.LogLevel.FULL : RestAdapter.LogLevel.NONE)/*LogLevel.BASIC will cause response.getBody().in() close*/\n                        .setLog(new RestAdapter.Log() {\n                            @Override\n                            public void log(String message) {\n                                if (message.startsWith(\"{\") || message.startsWith(\"[\"))\n                                    Logger.json(message);\n                                else {\n                                    Logger.i(message);\n                                }\n                            }\n                        });\n                singleton = builder.build();\n            }\n        }\n    }\n    return singleton.create(clazz);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":544642,"reputation":7432,"user_id":270197,"accept_rate":95,"display_name":"Gabor"},"score":0,"creation_date":1442364941,"post_id":32597816,"comment_id":53049032,"body_markdown":"you either did not read my question or did not read the page you are linking to ... because LoggingInterceptor does not try to log the request body (and so does not solve my problem)","body":"you either did not read my question or did not read the page you are linking to ... because LoggingInterceptor does not try to log the request body (and so does not solve my problem)"},{"owner":{"account_id":4412923,"reputation":7184,"user_id":3595288,"accept_rate":60,"display_name":"Choletski"},"score":0,"creation_date":1482180585,"post_id":32597816,"comment_id":69660809,"body_markdown":"I get &#39;UnsupportedOperationException&#39;","body":"I get &#39;UnsupportedOperationException&#39;"}],"tags":[],"owner":{"account_id":279072,"reputation":273,"user_id":574016,"accept_rate":50,"display_name":"oceanfeeling"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1442363360,"creation_date":1442363360,"answer_id":32597816,"question_id":32514410,"body_markdown":"I don&#39;t know if setLogLevel() will return in the final 2.0 version of Retrofit but for now you can use an interceptor for logging.\r\n\r\nA good example can found in OkHttp wiki: https://github.com/square/okhttp/wiki/Interceptors\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n    client.interceptors().add(new LoggingInterceptor());\r\n    \r\n    Retrofit retrofit = new Retrofit.Builder()\r\n            .baseUrl(&quot;http://www.yourjsonapi.com&quot;)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .client(client)\r\n            .build();","title":"Logging with Retrofit 2","body":"<p>I don't know if setLogLevel() will return in the final 2.0 version of Retrofit but for now you can use an interceptor for logging.</p>\n\n<p>A good example can found in OkHttp wiki: <a href=\"https://github.com/square/okhttp/wiki/Interceptors\" rel=\"noreferrer\">https://github.com/square/okhttp/wiki/Interceptors</a></p>\n\n<pre><code>OkHttpClient client = new OkHttpClient();\nclient.interceptors().add(new LoggingInterceptor());\n\nRetrofit retrofit = new Retrofit.Builder()\n        .baseUrl(\"http://www.yourjsonapi.com\")\n        .addConverterFactory(GsonConverterFactory.create())\n        .client(client)\n        .build();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3171366,"reputation":2879,"user_id":2680254,"accept_rate":54,"display_name":"Gilberto Ibarra"},"score":1,"creation_date":1443220204,"post_id":32633003,"comment_id":53421948,"body_markdown":"how can print the body response ?","body":"how can print the body response ?"},{"owner":{"account_id":1772733,"reputation":1651,"user_id":1617202,"display_name":"Anton Ryabyh"},"score":3,"creation_date":1443289307,"post_id":32633003,"comment_id":53437548,"body_markdown":"@GilbertoIbarra use \n`String bodyString = response.body().string();\t\t\t\tlog(bodyString);\nresponse = response.newBuilder().body(ResponseBody.create(response.body().contentType(), bodyString)).build();\n` (You can&#39;t read response&#39;s body more than once, so you&#39;ll have to create new response with the builder)","body":"@GilbertoIbarra use  <code>String bodyString = response.body().string();\t\t\t\tlog(bodyString); response = response.newBuilder().body(ResponseBody.create(response.body&zwnj;&#8203;().contentType(), bodyString)).build(); </code> (You can&#39;t read response&#39;s body more than once, so you&#39;ll have to create new response with the builder)"},{"owner":{"account_id":3014757,"reputation":3692,"user_id":2557258,"display_name":"Yazon2006"},"score":0,"creation_date":1461604899,"post_id":32633003,"comment_id":61263252,"body_markdown":"It&#39;s a crutch which we not need more. Here is an example of working logging: http://stackoverflow.com/a/36847027/2557258","body":"It&#39;s a crutch which we not need more. Here is an example of working logging: <a href=\"http://stackoverflow.com/a/36847027/2557258\">stackoverflow.com/a/36847027/2557258</a>"}],"tags":[],"owner":{"account_id":1772733,"reputation":1651,"user_id":1617202,"display_name":"Anton Ryabyh"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1444076186,"creation_date":1442500416,"answer_id":32633003,"question_id":32514410,"body_markdown":"Try this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Request request = chain.request();\r\n    Buffer buffer = new Buffer();\r\n    request.body().writeTo(buffer);\r\n    String body = buffer.readUtf8();\r\n\r\nAfter this, in the `body` there is the JSON you are interested in.","title":"Logging with Retrofit 2","body":"<p>Try this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Request request = chain.request();\nBuffer buffer = new Buffer();\nrequest.body().writeTo(buffer);\nString body = buffer.readUtf8();\n</code></pre>\n\n<p>After this, in the <code>body</code> there is the JSON you are interested in.</p>\n"},{"tags":[],"owner":{"account_id":398930,"reputation":12242,"user_id":763935,"accept_rate":65,"display_name":"david.mihola"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1443294742,"creation_date":1443294742,"answer_id":32800976,"question_id":32514410,"body_markdown":"Here is an `Interceptor` that logs both the request and response bodies (using Timber, based on an example from the OkHttp docs and some other SO answers):\r\n\r\n    public class TimberLoggingInterceptor implements Interceptor {\r\n        @Override\r\n        public Response intercept(Chain chain) throws IOException {\r\n            Request request = chain.request();\r\n    \r\n            long t1 = System.nanoTime();\r\n            Timber.i(&quot;Sending request %s on %s%n%s&quot;, request.url(), chain.connection(), request.headers());\r\n            Timber.v(&quot;REQUEST BODY BEGIN\\n%s\\nREQUEST BODY END&quot;, bodyToString(request));\r\n    \r\n            Response response = chain.proceed(request);\r\n    \r\n            ResponseBody responseBody = response.body();\r\n            String responseBodyString = response.body().string();\r\n\r\n            // now we have extracted the response body but in the process\r\n            // we have consumed the original reponse and can&#39;t read it again\r\n            // so we need to build a new one to return from this method\r\n    \r\n            Response newResponse = response.newBuilder().body(ResponseBody.create(responseBody.contentType(), responseBodyString.getBytes())).build();\r\n    \r\n            long t2 = System.nanoTime();\r\n            Timber.i(&quot;Received response for %s in %.1fms%n%s&quot;, response.request().url(), (t2 - t1) / 1e6d, response.headers());\r\n            Timber.v(&quot;RESPONSE BODY BEGIN:\\n%s\\nRESPONSE BODY END&quot;, responseBodyString);\r\n    \r\n            return newResponse;\r\n        }\r\n    \r\n        private static String bodyToString(final Request request){\r\n    \r\n            try {\r\n                final Request copy = request.newBuilder().build();\r\n                final Buffer buffer = new Buffer();\r\n                copy.body().writeTo(buffer);\r\n                return buffer.readUtf8();\r\n            } catch (final IOException e) {\r\n                return &quot;did not work&quot;;\r\n            }\r\n        }\r\n    }","title":"Logging with Retrofit 2","body":"<p>Here is an <code>Interceptor</code> that logs both the request and response bodies (using Timber, based on an example from the OkHttp docs and some other SO answers):</p>\n\n<pre><code>public class TimberLoggingInterceptor implements Interceptor {\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n        Request request = chain.request();\n\n        long t1 = System.nanoTime();\n        Timber.i(\"Sending request %s on %s%n%s\", request.url(), chain.connection(), request.headers());\n        Timber.v(\"REQUEST BODY BEGIN\\n%s\\nREQUEST BODY END\", bodyToString(request));\n\n        Response response = chain.proceed(request);\n\n        ResponseBody responseBody = response.body();\n        String responseBodyString = response.body().string();\n\n        // now we have extracted the response body but in the process\n        // we have consumed the original reponse and can't read it again\n        // so we need to build a new one to return from this method\n\n        Response newResponse = response.newBuilder().body(ResponseBody.create(responseBody.contentType(), responseBodyString.getBytes())).build();\n\n        long t2 = System.nanoTime();\n        Timber.i(\"Received response for %s in %.1fms%n%s\", response.request().url(), (t2 - t1) / 1e6d, response.headers());\n        Timber.v(\"RESPONSE BODY BEGIN:\\n%s\\nRESPONSE BODY END\", responseBodyString);\n\n        return newResponse;\n    }\n\n    private static String bodyToString(final Request request){\n\n        try {\n            final Request copy = request.newBuilder().build();\n            final Buffer buffer = new Buffer();\n            copy.body().writeTo(buffer);\n            return buffer.readUtf8();\n        } catch (final IOException e) {\n            return \"did not work\";\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":544642,"reputation":7432,"user_id":270197,"accept_rate":95,"display_name":"Gabor"},"score":0,"creation_date":1445453874,"post_id":32858297,"comment_id":54335439,"body_markdown":"you should have mentioned that you copied from https://github.com/square/retrofit/issues/1072# (to give credit to your source)","body":"you should have mentioned that you copied from <a href=\"https://github.com/square/retrofit/issues/1072#\" rel=\"nofollow noreferrer\">github.com/square/retrofit/issues/1072#</a> (to give credit to your source)"},{"owner":{"account_id":3014757,"reputation":3692,"user_id":2557258,"display_name":"Yazon2006"},"score":0,"creation_date":1461604813,"post_id":32858297,"comment_id":61263201,"body_markdown":"It&#39;s a crutch which we not need more. Here is an example of working logging: http://stackoverflow.com/a/36847027/2557258","body":"It&#39;s a crutch which we not need more. Here is an example of working logging: <a href=\"http://stackoverflow.com/a/36847027/2557258\">stackoverflow.com/a/36847027/2557258</a>"}],"tags":[],"owner":{"account_id":2255565,"reputation":702,"user_id":1986827,"display_name":"DGN"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1445497972,"creation_date":1443590171,"answer_id":32858297,"question_id":32514410,"body_markdown":"For those who need high level logging in Retrofit, use the interceptor like this\r\n\r\n\r\n    public static class LoggingInterceptor implements Interceptor {\r\n        @Override public Response intercept(Chain chain) throws IOException {\r\n            Request request = chain.request();\r\n            long t1 = System.nanoTime();\r\n            String requestLog = String.format(&quot;Sending request %s on %s%n%s&quot;,\r\n                    request.url(), chain.connection(), request.headers());\r\n            //YLog.d(String.format(&quot;Sending request %s on %s%n%s&quot;,\r\n            //        request.url(), chain.connection(), request.headers()));\r\n            if(request.method().compareToIgnoreCase(&quot;post&quot;)==0){\r\n                requestLog =&quot;\\n&quot;+requestLog+&quot;\\n&quot;+bodyToString(request);\r\n            }\r\n            Log.d(&quot;TAG&quot;,&quot;request&quot;+&quot;\\n&quot;+requestLog);\r\n\r\n            Response response = chain.proceed(request);\r\n            long t2 = System.nanoTime();\r\n\r\n            String responseLog = String.format(&quot;Received response for %s in %.1fms%n%s&quot;,\r\n                    response.request().url(), (t2 - t1) / 1e6d, response.headers());\r\n\r\n            String bodyString = response.body().string();\r\n\r\n            Log.d(&quot;TAG&quot;,&quot;response&quot;+&quot;\\n&quot;+responseLog+&quot;\\n&quot;+bodyString);\r\n\r\n            return response.newBuilder()\r\n                    .body(ResponseBody.create(response.body().contentType(), bodyString))\r\n                    .build();\r\n            //return response;\r\n        }\r\n    }\r\n\r\n    public static String bodyToString(final Request request) {\r\n        try {\r\n            final Request copy = request.newBuilder().build();\r\n            final Buffer buffer = new Buffer();\r\n            copy.body().writeTo(buffer);\r\n            return buffer.readUtf8();\r\n        } catch (final IOException e) {\r\n            return &quot;did not work&quot;;\r\n        }\r\n    }`\r\n\r\n\r\n\r\n**Courtesy**: https://github.com/square/retrofit/issues/1072#","title":"Logging with Retrofit 2","body":"<p>For those who need high level logging in Retrofit, use the interceptor like this</p>\n\n<pre><code>public static class LoggingInterceptor implements Interceptor {\n    @Override public Response intercept(Chain chain) throws IOException {\n        Request request = chain.request();\n        long t1 = System.nanoTime();\n        String requestLog = String.format(\"Sending request %s on %s%n%s\",\n                request.url(), chain.connection(), request.headers());\n        //YLog.d(String.format(\"Sending request %s on %s%n%s\",\n        //        request.url(), chain.connection(), request.headers()));\n        if(request.method().compareToIgnoreCase(\"post\")==0){\n            requestLog =\"\\n\"+requestLog+\"\\n\"+bodyToString(request);\n        }\n        Log.d(\"TAG\",\"request\"+\"\\n\"+requestLog);\n\n        Response response = chain.proceed(request);\n        long t2 = System.nanoTime();\n\n        String responseLog = String.format(\"Received response for %s in %.1fms%n%s\",\n                response.request().url(), (t2 - t1) / 1e6d, response.headers());\n\n        String bodyString = response.body().string();\n\n        Log.d(\"TAG\",\"response\"+\"\\n\"+responseLog+\"\\n\"+bodyString);\n\n        return response.newBuilder()\n                .body(ResponseBody.create(response.body().contentType(), bodyString))\n                .build();\n        //return response;\n    }\n}\n\npublic static String bodyToString(final Request request) {\n    try {\n        final Request copy = request.newBuilder().build();\n        final Buffer buffer = new Buffer();\n        copy.body().writeTo(buffer);\n        return buffer.readUtf8();\n    } catch (final IOException e) {\n        return \"did not work\";\n    }\n}`\n</code></pre>\n\n<p><strong>Courtesy</strong>: <a href=\"https://github.com/square/retrofit/issues/1072#\" rel=\"nofollow\">https://github.com/square/retrofit/issues/1072#</a></p>\n"},{"comments":[{"owner":{"account_id":544642,"reputation":7432,"user_id":270197,"accept_rate":95,"display_name":"Gabor"},"score":52,"creation_date":1445453175,"post_id":33256827,"comment_id":54335023,"body_markdown":"This was added to OkHttp just 15 days after my question, nice that community needs make such a quick impact!","body":"This was added to OkHttp just 15 days after my question, nice that community needs make such a quick impact!"},{"owner":{"account_id":4097405,"reputation":3781,"user_id":3363782,"accept_rate":47,"display_name":"Yuriy Kolbasinskiy"},"score":0,"creation_date":1445946860,"post_id":33256827,"comment_id":54529073,"body_markdown":"I&#39;m just take this error: `Failed to resolve: om.squareup.okhttp:logging-interceptor:2.6.0-SNAPSHOT` What&#39;s wrong?","body":"I&#39;m just take this error: <code>Failed to resolve: om.squareup.okhttp:logging-interceptor:2.6.0-SNAPSHOT</code> What&#39;s wrong?"},{"owner":{"account_id":4304683,"reputation":1724,"user_id":3517409,"accept_rate":42,"display_name":"GuillermoMP"},"score":0,"creation_date":1445976022,"post_id":33256827,"comment_id":54548644,"body_markdown":"@YuriyKolbasinskiy Check you added `maven { url &#39;http://oss.sonatype.org/content/repositories/snapshots&#39; } `","body":"@YuriyKolbasinskiy Check you added <code>maven { url &#39;http:&#47;&#47;oss.sonatype.org&#47;content&#47;repositories&#47;snapshots&#39; } </code>"},{"owner":{"account_id":61302,"reputation":7370,"user_id":182768,"accept_rate":92,"display_name":"James Goodwin"},"score":0,"creation_date":1448384454,"post_id":33256827,"comment_id":55561614,"body_markdown":"You should use version 2.6.0 instead of 2.6.0-SNAPSHOT","body":"You should use version 2.6.0 instead of 2.6.0-SNAPSHOT"},{"owner":{"account_id":61302,"reputation":7370,"user_id":182768,"accept_rate":92,"display_name":"James Goodwin"},"score":1,"creation_date":1448384522,"post_id":33256827,"comment_id":55561661,"body_markdown":"and you no longer need to add the sonatype snapshots repository to your build.gradle","body":"and you no longer need to add the sonatype snapshots repository to your build.gradle"},{"owner":{"account_id":4961032,"reputation":5382,"user_id":3992148,"accept_rate":100,"display_name":"Joe Maher"},"score":0,"creation_date":1448582338,"post_id":33256827,"comment_id":55656065,"body_markdown":"Please note this CANNOT be declared as field, wrap this inside a method and it works fine","body":"Please note this CANNOT be declared as field, wrap this inside a method and it works fine"},{"owner":{"account_id":466110,"reputation":24811,"user_id":870674,"accept_rate":80,"display_name":"klimat"},"score":0,"creation_date":1448618331,"post_id":33256827,"comment_id":55667393,"body_markdown":"@JoeMaher even better solution is to provide `ApiClient` with DI pattern. To bo honest it&#39;s copy-paste from by Dagger provider method :)","body":"@JoeMaher even better solution is to provide <code>ApiClient</code> with DI pattern. To bo honest it&#39;s copy-paste from by Dagger provider method :)"},{"owner":{"account_id":3014757,"reputation":3692,"user_id":2557258,"display_name":"Yazon2006"},"score":1,"creation_date":1461605201,"post_id":33256827,"comment_id":61263461,"body_markdown":"It is much better to use .addNetworkInterceptor because when you adding two Interceptors there may be problems. See details: http://stackoverflow.com/a/36847027/2557258","body":"It is much better to use .addNetworkInterceptor because when you adding two Interceptors there may be problems. See details: <a href=\"http://stackoverflow.com/a/36847027/2557258\">stackoverflow.com/a/36847027/2557258</a>"},{"owner":{"account_id":1188040,"reputation":1630,"user_id":1161580,"accept_rate":90,"display_name":"ghanbari"},"score":0,"creation_date":1462352253,"post_id":33256827,"comment_id":61596430,"body_markdown":"@mklimek I do this work, but i can not see any log in logcat, do logs exists in another place?","body":"@mklimek I do this work, but i can not see any log in logcat, do logs exists in another place?"},{"owner":{"account_id":2484267,"reputation":3870,"user_id":2163045,"accept_rate":53,"display_name":"murt"},"score":0,"creation_date":1463653641,"post_id":33256827,"comment_id":62160424,"body_markdown":"@YuriyKolbasinskiy you added wrong library (check name okhttp vs okhttp3), just use dependency as author stated `compile &#39;com.squareup.okhttp3:logging-interceptor:3.2.0&#39;`","body":"@YuriyKolbasinskiy you added wrong library (check name okhttp vs okhttp3), just use dependency as author stated <code>compile &#39;com.squareup.okhttp3:logging-interceptor:3.2.0&#39;</code>"},{"owner":{"account_id":978375,"reputation":691,"user_id":1707547,"accept_rate":76,"display_name":"jayellos"},"score":13,"creation_date":1467186414,"post_id":33256827,"comment_id":63621860,"body_markdown":"retrofit 2.1.0 use this compile &#39;com.squareup.okhttp3:logging-interceptor:3.3.1&#39;","body":"retrofit 2.1.0 use this compile &#39;com.squareup.okhttp3:logging-interceptor:3.3.1&#39;"},{"owner":{"account_id":542550,"reputation":1118,"user_id":911416,"display_name":"guydemossyrock"},"score":2,"creation_date":1471353924,"post_id":33256827,"comment_id":65305421,"body_markdown":"@jayellos Thanks for denoting that. If you use a version lower version than 3.3.1 you will get no such method exception.","body":"@jayellos Thanks for denoting that. If you use a version lower version than 3.3.1 you will get no such method exception."},{"owner":{"account_id":3596061,"reputation":1385,"user_id":3000729,"accept_rate":100,"display_name":"corlaez"},"score":2,"creation_date":1475794169,"post_id":33256827,"comment_id":67098970,"body_markdown":"I am getting: Didn&#39;t find class &quot;okhttp3.internal.Platform&quot; any idea?","body":"I am getting: Didn&#39;t find class &quot;okhttp3.internal.Platform&quot; any idea?"},{"owner":{"account_id":2526801,"reputation":399,"user_id":2196011,"display_name":"o.akrout"},"score":0,"creation_date":1493139889,"post_id":33256827,"comment_id":74282699,"body_markdown":"For Retrofit version `2.2.0`, use `com.squareup.okhttp3:logging-interceptor:3.6.0`","body":"For Retrofit version <code>2.2.0</code>, use <code>com.squareup.okhttp3:logging-interceptor:3.6.0</code>"},{"owner":{"account_id":307892,"reputation":3607,"user_id":2232148,"accept_rate":61,"display_name":"Nirav Dangi"},"score":0,"creation_date":1493988800,"post_id":33256827,"comment_id":74649908,"body_markdown":"Getting error: ````Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;okhttp3.internal.Platform&quot; on path````","body":"Getting error: <code>Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;okhttp3.internal.Platform&quot; on path</code>"},{"owner":{"account_id":1005583,"reputation":1097,"user_id":1019448,"accept_rate":100,"display_name":"Faraway"},"score":0,"creation_date":1528500937,"post_id":33256827,"comment_id":88546634,"body_markdown":"My Java (SpringBoot) applications use logback, I also need to implement the `HttpLoggingInterceptor.Logger` interface to handover to my logback logger to the actual work.","body":"My Java (SpringBoot) applications use logback, I also need to implement the <code>HttpLoggingInterceptor.Logger</code> interface to handover to my logback logger to the actual work."},{"owner":{"account_id":2601421,"reputation":9836,"user_id":2253682,"accept_rate":44,"display_name":"AdamHurwitz"},"score":0,"creation_date":1544209061,"post_id":33256827,"comment_id":94208360,"body_markdown":"I am receiving a `NoClassDefFoundError` error when running the `com.squareup.okhttp3:logging-interceptor:3.12.0` library in my Jar. It works fine when running via the IDE. I&#39;ve created this [StackOverflow post](https://stackoverflow.com/questions/53675302/noclassdeffounderror-square-logging-interceptor-v3-12-0).","body":"I am receiving a <code>NoClassDefFoundError</code> error when running the <code>com.squareup.okhttp3:logging-interceptor:3.12.0</code> library in my Jar. It works fine when running via the IDE. I&#39;ve created this <a href=\"https://stackoverflow.com/questions/53675302/noclassdeffounderror-square-logging-interceptor-v3-12-0\">StackOverflow post</a>."},{"owner":{"account_id":4745549,"reputation":608,"user_id":3837015,"display_name":"Anbuselvan Rocky"},"score":1,"creation_date":1567870770,"post_id":33256827,"comment_id":102098868,"body_markdown":"If you got error like: `setLevel is deprecated` you have to change it from `setLevel` to `level` to fix the problem!","body":"If you got error like: <code>setLevel is deprecated</code> you have to change it from <code>setLevel</code> to <code>level</code> to fix the problem!"},{"owner":{"account_id":4838224,"reputation":3812,"user_id":3904109,"accept_rate":71,"display_name":"DragonFire"},"score":0,"creation_date":1577238195,"post_id":33256827,"comment_id":105127486,"body_markdown":"please see my answer below https://stackoverflow.com/a/59474531/3904109 for working dependencies and code... problem is in the depenedencies","body":"please see my answer below <a href=\"https://stackoverflow.com/a/59474531/3904109\">stackoverflow.com/a/59474531/3904109</a> for working dependencies and code... problem is in the depenedencies"},{"owner":{"account_id":3334034,"reputation":1233,"user_id":3097454,"accept_rate":25,"display_name":"Nick Gallimore"},"score":0,"creation_date":1582814283,"post_id":33256827,"comment_id":106913252,"body_markdown":"Here is the documentation for which levels you can choose from https://square.github.io/okhttp/3.x/logging-interceptor/okhttp3/logging/HttpLoggingInterceptor.Level.html","body":"Here is the documentation for which levels you can choose from <a href=\"https://square.github.io/okhttp/3.x/logging-interceptor/okhttp3/logging/HttpLoggingInterceptor.Level.html\" rel=\"nofollow noreferrer\">square.github.io/okhttp/3.x/logging-interceptor/okhttp3/logg&zwnj;&#8203;ing/&hellip;</a>"},{"owner":{"account_id":17686966,"reputation":106,"user_id":12839706,"display_name":"Jorge Alejandro Pu&#241;ales"},"score":0,"creation_date":1606422861,"post_id":33256827,"comment_id":114965754,"body_markdown":"Someone knows how to inspect the request and responses with the debugger tool?","body":"Someone knows how to inspect the request and responses with the debugger tool?"},{"owner":{"account_id":3638119,"reputation":137,"user_id":3033009,"display_name":"Brueni92"},"score":1,"creation_date":1610096574,"post_id":33256827,"comment_id":116029073,"body_markdown":"@jayellos to find the correct version, check the dependencies of retrofit2 on okhttp. For instance here: https://mvnrepository.com/artifact/com.squareup.retrofit2/retrofit/2.9.0, for retrofit2 version 2.9.0, the correct dependency version is 3.14.9","body":"@jayellos to find the correct version, check the dependencies of retrofit2 on okhttp. For instance here: <a href=\"https://mvnrepository.com/artifact/com.squareup.retrofit2/retrofit/2.9.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.squareup.retrofit2/retrofit/&hellip;</a>&zwnj;&#8203;, for retrofit2 version 2.9.0, the correct dependency version is 3.14.9"}],"tags":[],"owner":{"account_id":466110,"reputation":24811,"user_id":870674,"accept_rate":80,"display_name":"klimat"},"comment_count":22,"down_vote_count":0,"up_vote_count":809,"is_accepted":true,"score":809,"last_activity_date":1684501997,"creation_date":1445423012,"answer_id":33256827,"question_id":32514410,"body_markdown":"In Retrofit 2 you should use [HttpLoggingInterceptor][1].\r\n\r\nAdd dependency to `build.gradle`. The latest version as of May 2023 is:\r\n\r\n    implementation &#39;com.squareup.okhttp3:logging-interceptor:4.11.0&#39;\r\n\r\n\r\nCreate a `Retrofit` object like the following:\r\n\r\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n    OkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\r\n    \r\n    Retrofit retrofit = new Retrofit.Builder()\r\n            .baseUrl(&quot;https://backend.example.com&quot;)\r\n            .client(client)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build();\r\n    \r\n    return retrofit.create(ApiClient.class);\r\n\r\n\r\n\r\nIn case of deprecation warnings, simply change `setLevel` to:\r\n\r\n    interceptor.level(HttpLoggingInterceptor.Level.BODY);\r\n\r\nThe above solution gives you logcat messages very similar to the old ones set by\r\n\r\n    setLogLevel(RestAdapter.LogLevel.FULL)\r\n\r\n\r\n**In case of `java.lang.ClassNotFoundException`**:\r\n\r\nThe older Retrofit version might require an older `logging-interceptor` version.  Take a look at the comments sections for details. \r\n\r\n  [1]: https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor","title":"Logging with Retrofit 2","body":"<p>In Retrofit 2 you should use <a href=\"https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor\" rel=\"noreferrer\">HttpLoggingInterceptor</a>.</p>\n<p>Add dependency to <code>build.gradle</code>. The latest version as of May 2023 is:</p>\n<pre><code>implementation 'com.squareup.okhttp3:logging-interceptor:4.11.0'\n</code></pre>\n<p>Create a <code>Retrofit</code> object like the following:</p>\n<pre><code>HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\ninterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\nOkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\n\nRetrofit retrofit = new Retrofit.Builder()\n        .baseUrl(&quot;https://backend.example.com&quot;)\n        .client(client)\n        .addConverterFactory(GsonConverterFactory.create())\n        .build();\n\nreturn retrofit.create(ApiClient.class);\n</code></pre>\n<p>In case of deprecation warnings, simply change <code>setLevel</code> to:</p>\n<pre><code>interceptor.level(HttpLoggingInterceptor.Level.BODY);\n</code></pre>\n<p>The above solution gives you logcat messages very similar to the old ones set by</p>\n<pre><code>setLogLevel(RestAdapter.LogLevel.FULL)\n</code></pre>\n<p><strong>In case of <code>java.lang.ClassNotFoundException</code></strong>:</p>\n<p>The older Retrofit version might require an older <code>logging-interceptor</code> version.  Take a look at the comments sections for details.</p>\n"},{"comments":[{"owner":{"account_id":482565,"reputation":2076,"user_id":897033,"accept_rate":55,"display_name":"Radu"},"score":0,"creation_date":1455090119,"post_id":34236997,"comment_id":58328259,"body_markdown":"Where does HttpLoggingInterceptor originate from?","body":"Where does HttpLoggingInterceptor originate from?"},{"owner":{"account_id":482565,"reputation":2076,"user_id":897033,"accept_rate":55,"display_name":"Radu"},"score":5,"creation_date":1455091270,"post_id":34236997,"comment_id":58328854,"body_markdown":"Also, this does not work for me. httpClient.interceptors.add wants a com.squareup.okhttp.Interceptor and not a okhttp3.logging.HttpLoggingInterceptor","body":"Also, this does not work for me. httpClient.interceptors.add wants a com.squareup.okhttp.Interceptor and not a okhttp3.logging.HttpLoggingInterceptor"},{"owner":{"account_id":430748,"reputation":884,"user_id":814353,"display_name":"peitek"},"score":0,"creation_date":1456670399,"post_id":34236997,"comment_id":59045073,"body_markdown":"@Radu Which version of Retrofit are you on? Your gradle should have something like this:\n\ncompile &#39;com.squareup.retrofit2:retrofit:2.0.0-beta4&#39;","body":"@Radu Which version of Retrofit are you on? Your gradle should have something like this:  compile &#39;com.squareup.retrofit2:retrofit:2.0.0-beta4&#39;"},{"owner":{"account_id":3014757,"reputation":3692,"user_id":2557258,"display_name":"Yazon2006"},"score":0,"creation_date":1461605044,"post_id":34236997,"comment_id":61263359,"body_markdown":"It would not work for logging request headers because it is necessary to add Interceptor like network interceptor! See: http://stackoverflow.com/a/36847027/2557258","body":"It would not work for logging request headers because it is necessary to add Interceptor like network interceptor! See: <a href=\"http://stackoverflow.com/a/36847027/2557258\">stackoverflow.com/a/36847027/2557258</a>"}],"tags":[],"owner":{"account_id":3243353,"reputation":2605,"user_id":2761728,"accept_rate":50,"display_name":"Anthonyeef"},"comment_count":4,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1449901511,"creation_date":1449901511,"answer_id":34236997,"question_id":32514410,"body_markdown":"I met the thing as you and I tried to ask the author of the book ***Retrofit: Love working with APIs on Android*** (here is the [link][1])\r\n(nope! I am not making some ads for them....but they are really nice guys :)\r\nAnd the author replied to me very soon, with both Log method on Retrofit 1.9 and Retrofit 2.0-beta.\r\n\r\n\r\nAnd here is the code of Retrofit 2.0-beta:\r\n\r\n    HttpLoggingInterceptor logging = new HttpLoggingInterceptor();  \r\n    // set your desired log level\r\n    logging.setLevel(Level.BODY);\r\n\r\n    OkHttpClient httpClient = new OkHttpClient();  \r\n    // add your other interceptors …\r\n\r\n    // add logging as last interceptor\r\n    httpClient.interceptors().add(logging);  // &lt;-- this is the important line!\r\n\r\n    Retrofit retrofit = new Retrofit.Builder()  \r\n       .baseUrl(API_BASE_URL)\r\n       .addConverterFactory(GsonConverterFactory.create())\r\n       .client(httpClient)\r\n       .build();\r\n\r\nThis is how to add logging method with the help of **HttpLoggingInterceptor**. Also if you are the reader of that book I mentioned above, you may find that it says there is not log method with Retrofit 2.0 anymore -- which, I had asked the author, is not correct and they will update the book next year talking about it.\r\n\r\n// In case you are not that familiar with the Log method in Retrofit, I would like to share something more.\r\n\r\nAlso should be noticed that there are some Logging Levels you could pick. I use the **Level.BODY** most of the time, which will give some thing like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou can find almost all the http staff inside the picture: the header, the content and response, etc.\r\n\r\nAnd sometimes you really don&#39;t need all the guests to attend your party: I just want to know whether it&#39;s successfully connected, that internet call is successfully made within my Activiy &amp; Fragmetn. Then you are free to use **Level.BASIC**, which will return something like this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nCan you find the status code **200 OK** inside? That is it :)\r\n\r\nAlso there is another one, **Level.HEADERS**, which will only return the header of the network. Ya of course another picture here:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThat&#39;s all of the Logging trick ;)\r\n\r\nAnd I would like to share you with the tutorial I learned a lot [there][5]. They have a bunch of great post talking about almost everything related to Retrofit, and they are continuing updating the post, at the same time Retrofit 2.0 is coming. Please take a look at those work, which I think will save you lots of time.\r\n\r\n\r\n  [1]: https://futurestud.io/books/retrofit\r\n  [2]: http://i.stack.imgur.com/b1C2E.png\r\n  [3]: http://i.stack.imgur.com/nkpB9.png\r\n  [4]: http://i.stack.imgur.com/eAk66.png\r\n  [5]: https://futurestud.io/blog/retrofit-2-log-requests-and-responses","title":"Logging with Retrofit 2","body":"<p>I met the thing as you and I tried to ask the author of the book <strong><em>Retrofit: Love working with APIs on Android</em></strong> (here is the <a href=\"https://futurestud.io/books/retrofit\" rel=\"noreferrer\">link</a>)\n(nope! I am not making some ads for them....but they are really nice guys :)\nAnd the author replied to me very soon, with both Log method on Retrofit 1.9 and Retrofit 2.0-beta.</p>\n\n<p>And here is the code of Retrofit 2.0-beta:</p>\n\n<pre><code>HttpLoggingInterceptor logging = new HttpLoggingInterceptor();  \n// set your desired log level\nlogging.setLevel(Level.BODY);\n\nOkHttpClient httpClient = new OkHttpClient();  \n// add your other interceptors …\n\n// add logging as last interceptor\nhttpClient.interceptors().add(logging);  // &lt;-- this is the important line!\n\nRetrofit retrofit = new Retrofit.Builder()  \n   .baseUrl(API_BASE_URL)\n   .addConverterFactory(GsonConverterFactory.create())\n   .client(httpClient)\n   .build();\n</code></pre>\n\n<p>This is how to add logging method with the help of <strong>HttpLoggingInterceptor</strong>. Also if you are the reader of that book I mentioned above, you may find that it says there is not log method with Retrofit 2.0 anymore -- which, I had asked the author, is not correct and they will update the book next year talking about it.</p>\n\n<p>// In case you are not that familiar with the Log method in Retrofit, I would like to share something more.</p>\n\n<p>Also should be noticed that there are some Logging Levels you could pick. I use the <strong>Level.BODY</strong> most of the time, which will give some thing like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/b1C2E.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/b1C2E.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can find almost all the http staff inside the picture: the header, the content and response, etc.</p>\n\n<p>And sometimes you really don't need all the guests to attend your party: I just want to know whether it's successfully connected, that internet call is successfully made within my Activiy &amp; Fragmetn. Then you are free to use <strong>Level.BASIC</strong>, which will return something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nkpB9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nkpB9.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can you find the status code <strong>200 OK</strong> inside? That is it :)</p>\n\n<p>Also there is another one, <strong>Level.HEADERS</strong>, which will only return the header of the network. Ya of course another picture here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eAk66.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eAk66.png\" alt=\"enter image description here\"></a></p>\n\n<p>That's all of the Logging trick ;)</p>\n\n<p>And I would like to share you with the tutorial I learned a lot <a href=\"https://futurestud.io/blog/retrofit-2-log-requests-and-responses\" rel=\"noreferrer\">there</a>. They have a bunch of great post talking about almost everything related to Retrofit, and they are continuing updating the post, at the same time Retrofit 2.0 is coming. Please take a look at those work, which I think will save you lots of time.</p>\n"},{"tags":[],"owner":{"account_id":3014757,"reputation":3692,"user_id":2557258,"display_name":"Yazon2006"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1473969360,"creation_date":1461604644,"answer_id":36847027,"question_id":32514410,"body_markdown":"The main problem which I faced was dynamical adding headers and logging them into debug logcat. I&#39;ve tried to add two interceptors. One for logging and one for adding headers on-the-go (token authorization). The problem was that we may .addInterceptor or .addNetworkInterceptor. As Jake Wharton said to me: &quot;Network interceptors always come after application interceptors. See https://github.com/square/okhttp/wiki/Interceptors&quot;. So here is working example with headers and logs:\r\n\r\n    OkHttpClient httpClient = new OkHttpClient.Builder()\r\n                //here we can add Interceptor for dynamical adding headers\r\n                .addNetworkInterceptor(new Interceptor() {\r\n                    @Override\r\n                    public Response intercept(Chain chain) throws IOException {\r\n                        Request request = chain.request().newBuilder().addHeader(&quot;test&quot;, &quot;test&quot;).build();\r\n                        return chain.proceed(request);\r\n                    }\r\n                })\r\n                //here we adding Interceptor for full level logging\r\n                .addNetworkInterceptor(new HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Level.BODY))\r\n                .build();\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .addConverterFactory(GsonConverterFactory.create(gsonBuilder.create()))\r\n                .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\r\n                .client(httpClient)\r\n                .baseUrl(AppConstants.SERVER_ADDRESS)\r\n                .build();","title":"Logging with Retrofit 2","body":"<p>The main problem which I faced was dynamical adding headers and logging them into debug logcat. I've tried to add two interceptors. One for logging and one for adding headers on-the-go (token authorization). The problem was that we may .addInterceptor or .addNetworkInterceptor. As Jake Wharton said to me: \"Network interceptors always come after application interceptors. See <a href=\"https://github.com/square/okhttp/wiki/Interceptors\" rel=\"noreferrer\">https://github.com/square/okhttp/wiki/Interceptors</a>\". So here is working example with headers and logs:</p>\n\n<pre><code>OkHttpClient httpClient = new OkHttpClient.Builder()\n            //here we can add Interceptor for dynamical adding headers\n            .addNetworkInterceptor(new Interceptor() {\n                @Override\n                public Response intercept(Chain chain) throws IOException {\n                    Request request = chain.request().newBuilder().addHeader(\"test\", \"test\").build();\n                    return chain.proceed(request);\n                }\n            })\n            //here we adding Interceptor for full level logging\n            .addNetworkInterceptor(new HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Level.BODY))\n            .build();\n\n    Retrofit retrofit = new Retrofit.Builder()\n            .addConverterFactory(GsonConverterFactory.create(gsonBuilder.create()))\n            .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n            .client(httpClient)\n            .baseUrl(AppConstants.SERVER_ADDRESS)\n            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91472,"reputation":2329,"user_id":251120,"accept_rate":67,"display_name":"kenyee"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469042817,"creation_date":1469042817,"answer_id":38489224,"question_id":32514410,"body_markdown":"You can also add Facebook&#39;s Stetho and look at the network traces in Chrome:\r\nhttp://facebook.github.io/stetho/\r\n\r\n    final OkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n    if (BuildConfig.DEBUG) {\r\n        builder.networkInterceptors().add(new StethoInterceptor());\r\n    }\r\n\r\nThen open &quot;chrome://inspect&quot; in Chrome...\r\n","title":"Logging with Retrofit 2","body":"<p>You can also add Facebook's Stetho and look at the network traces in Chrome:\n<a href=\"http://facebook.github.io/stetho/\" rel=\"nofollow\">http://facebook.github.io/stetho/</a></p>\n\n<pre><code>final OkHttpClient.Builder builder = new OkHttpClient.Builder();\nif (BuildConfig.DEBUG) {\n    builder.networkInterceptors().add(new StethoInterceptor());\n}\n</code></pre>\n\n<p>Then open \"chrome://inspect\" in Chrome...</p>\n"},{"tags":[],"owner":{"account_id":5404406,"reputation":5296,"user_id":4303352,"accept_rate":25,"display_name":"Nilesh Senta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480309099,"creation_date":1470815158,"answer_id":38867189,"question_id":32514410,"body_markdown":"I found way for Print Log in Retrofit\r\n\r\n    OkHttpClient okHttpClient = new OkHttpClient.Builder()\r\n                .addInterceptor(new Interceptor() {\r\n                    @Override\r\n                    public Response intercept(Chain chain) throws IOException {\r\n                        Request request = chain.request();\r\n                        if (BuildConfig.DEBUG) {\r\n                            Log.e(getClass().getName(), request.method() + &quot; &quot; + request.url());\r\n                            Log.e(getClass().getName(), &quot;&quot; + request.header(&quot;Cookie&quot;));\r\n                            RequestBody rb = request.body();\r\n                            Buffer buffer = new Buffer();\r\n                            if (rb != null)\r\n                                rb.writeTo(buffer);\r\n                            LogUtils.LOGE(getClass().getName(), &quot;Payload- &quot; + buffer.readUtf8());\r\n                        }\r\n                        return chain.proceed(request);\r\n                    }\r\n                })\r\n                .readTimeout(60, TimeUnit.SECONDS)\r\n                .connectTimeout(60, TimeUnit.SECONDS)\r\n                .build();\r\n    \r\n                iServices = new Retrofit.Builder()\r\n                        .baseUrl(&quot;Your Base URL&quot;)\r\n                        .client(okHttpClient)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .build()\r\n                        .create(Your Service Interface .class);\r\n\r\nWorks for me.","title":"Logging with Retrofit 2","body":"<p>I found way for Print Log in Retrofit</p>\n\n<pre><code>OkHttpClient okHttpClient = new OkHttpClient.Builder()\n            .addInterceptor(new Interceptor() {\n                @Override\n                public Response intercept(Chain chain) throws IOException {\n                    Request request = chain.request();\n                    if (BuildConfig.DEBUG) {\n                        Log.e(getClass().getName(), request.method() + \" \" + request.url());\n                        Log.e(getClass().getName(), \"\" + request.header(\"Cookie\"));\n                        RequestBody rb = request.body();\n                        Buffer buffer = new Buffer();\n                        if (rb != null)\n                            rb.writeTo(buffer);\n                        LogUtils.LOGE(getClass().getName(), \"Payload- \" + buffer.readUtf8());\n                    }\n                    return chain.proceed(request);\n                }\n            })\n            .readTimeout(60, TimeUnit.SECONDS)\n            .connectTimeout(60, TimeUnit.SECONDS)\n            .build();\n\n            iServices = new Retrofit.Builder()\n                    .baseUrl(\"Your Base URL\")\n                    .client(okHttpClient)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n                    .create(Your Service Interface .class);\n</code></pre>\n\n<p>Works for me.</p>\n"},{"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1474361060,"creation_date":1474361060,"answer_id":39589492,"question_id":32514410,"body_markdown":"If you are using Retrofit2 and okhttp3 then you need to know that Interceptor works by queue. So add loggingInterceptor at the end, after your other Interceptors:\r\n\r\n    HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\r\n            if (BuildConfig.DEBUG)\r\n                loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.HEADERS);\r\n    \r\n     new OkHttpClient.Builder()\r\n                    .connectTimeout(60, TimeUnit.SECONDS)\r\n                    .readTimeout(60, TimeUnit.SECONDS)\r\n                    .writeTimeout(60, TimeUnit.SECONDS)\r\n                    .addInterceptor(new CatalogInterceptor(context))//first\r\n                    .addInterceptor(new OAuthInterceptor(context))//second\r\n                    .authenticator(new BearerTokenAuthenticator(context))\r\n                    .addInterceptor(loggingInterceptor)//third, log at the end\r\n                    .build();","title":"Logging with Retrofit 2","body":"<p>If you are using Retrofit2 and okhttp3 then you need to know that Interceptor works by queue. So add loggingInterceptor at the end, after your other Interceptors:</p>\n\n<pre><code>HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\n        if (BuildConfig.DEBUG)\n            loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.HEADERS);\n\n new OkHttpClient.Builder()\n                .connectTimeout(60, TimeUnit.SECONDS)\n                .readTimeout(60, TimeUnit.SECONDS)\n                .writeTimeout(60, TimeUnit.SECONDS)\n                .addInterceptor(new CatalogInterceptor(context))//first\n                .addInterceptor(new OAuthInterceptor(context))//second\n                .authenticator(new BearerTokenAuthenticator(context))\n                .addInterceptor(loggingInterceptor)//third, log at the end\n                .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5108645,"reputation":1785,"user_id":4095993,"accept_rate":67,"display_name":"Catluc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493825056,"creation_date":1493825056,"answer_id":43764203,"question_id":32514410,"body_markdown":"A best way to do this right in Retrofit 2 is to add the logger interceptor as a networkInterceptor this will print out the  network headers and your custom headers too. The important thing is to remember that interceptor work as a stack and be sure u add the logger at the end of all.\r\n\r\n    \r\n\r\n    OkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n    builder.addInterceptor(new MyCustomInterceptor());\r\n    builder.connectTimeout(60, TimeUnit.SECONDS);\r\n    builder.readTimeout(60, TimeUnit.SECONDS);\r\n    builder.writeTimeout(60, TimeUnit.SECONDS);\r\n    // important line here\r\n    builder.addNetworkInterceptor(LoggerInterceptor());","title":"Logging with Retrofit 2","body":"<p>A best way to do this right in Retrofit 2 is to add the logger interceptor as a networkInterceptor this will print out the  network headers and your custom headers too. The important thing is to remember that interceptor work as a stack and be sure u add the logger at the end of all.</p>\n\n<pre><code>OkHttpClient.Builder builder = new OkHttpClient.Builder();\nbuilder.addInterceptor(new MyCustomInterceptor());\nbuilder.connectTimeout(60, TimeUnit.SECONDS);\nbuilder.readTimeout(60, TimeUnit.SECONDS);\nbuilder.writeTimeout(60, TimeUnit.SECONDS);\n// important line here\nbuilder.addNetworkInterceptor(LoggerInterceptor());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1307549,"reputation":2032,"user_id":1256210,"display_name":"Nishant Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510220173,"creation_date":1510220173,"answer_id":47198354,"question_id":32514410,"body_markdown":"Most of the answer here covers almost everything except this tool, one of the coolest ways to see the log.\r\n\r\nIt is [Facebook&#39;s Stetho][1]. This is the superb tool to monitor/log your app&#39;s network traffic on **google chrome**. You can also find [here][2] on Github.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: http://facebook.github.io/stetho/\r\n  [2]: https://github.com/facebook/stetho\r\n  [3]: https://i.stack.imgur.com/3uymf.png","title":"Logging with Retrofit 2","body":"<p>Most of the answer here covers almost everything except this tool, one of the coolest ways to see the log.</p>\n\n<p>It is <a href=\"http://facebook.github.io/stetho/\" rel=\"nofollow noreferrer\">Facebook's Stetho</a>. This is the superb tool to monitor/log your app's network traffic on <strong>google chrome</strong>. You can also find <a href=\"https://github.com/facebook/stetho\" rel=\"nofollow noreferrer\">here</a> on Github.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3uymf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3uymf.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3622000,"reputation":383,"user_id":3020488,"display_name":"other Tall guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662981283,"creation_date":1510559309,"answer_id":47259366,"question_id":32514410,"body_markdown":"for Retrofit 2.0.2 the code is like:\r\n```java\r\nHttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        OkHttpClient.Builder httpClient=new OkHttpClient.Builder();\r\n        httpClient.addInterceptor(logging);\r\n\r\n        if (retrofit == null) {\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(httpClient.build())\r\n                    .build();\r\n        }\r\n```","title":"Logging with Retrofit 2","body":"<p>for Retrofit 2.0.2 the code is like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n        OkHttpClient.Builder httpClient=new OkHttpClient.Builder();\n        httpClient.addInterceptor(logging);\n\n        if (retrofit == null) {\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .client(httpClient.build())\n                    .build();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2391396,"reputation":22048,"user_id":2091181,"display_name":"Jorge Casariego"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543847977,"creation_date":1535483582,"answer_id":52064808,"question_id":32514410,"body_markdown":"**Kotlin Code**\r\n\r\n            val interceptor = HttpLoggingInterceptor()\r\n            interceptor.level = HttpLoggingInterceptor.Level.BODY\r\n            val client = OkHttpClient.Builder().addInterceptor(interceptor).build()\r\n            val retrofit = Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .client(client)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build()\r\n\r\n            return retrofit.create(PointApi::class.java)","title":"Logging with Retrofit 2","body":"<p><strong>Kotlin Code</strong></p>\n\n<pre><code>        val interceptor = HttpLoggingInterceptor()\n        interceptor.level = HttpLoggingInterceptor.Level.BODY\n        val client = OkHttpClient.Builder().addInterceptor(interceptor).build()\n        val retrofit = Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .client(client)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n\n        return retrofit.create(PointApi::class.java)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6517933,"reputation":3311,"user_id":5250973,"display_name":"Jay Dangar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544679518,"creation_date":1544679518,"answer_id":53755566,"question_id":32514410,"body_markdown":"this will create a retrofit object with Logging. without creating separate objects.\r\n\r\n     private static final Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .client(new OkHttpClient().newBuilder()\r\n                        .addInterceptor(new HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Level.BODY))\r\n                        .readTimeout(READ_TIMEOUT_SECONDS, TimeUnit.SECONDS)\r\n                        .writeTimeout(WRITE_TIMEOUT_SECONDS, TimeUnit.SECONDS)\r\n                        .connectTimeout(CONNECTION_TIMEOUT_SECONDS, TimeUnit.SECONDS)\r\n                        .build())\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n","title":"Logging with Retrofit 2","body":"<p>this will create a retrofit object with Logging. without creating separate objects.</p>\n\n<pre><code> private static final Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(BASE_URL)\n            .client(new OkHttpClient().newBuilder()\n                    .addInterceptor(new HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Level.BODY))\n                    .readTimeout(READ_TIMEOUT_SECONDS, TimeUnit.SECONDS)\n                    .writeTimeout(WRITE_TIMEOUT_SECONDS, TimeUnit.SECONDS)\n                    .connectTimeout(CONNECTION_TIMEOUT_SECONDS, TimeUnit.SECONDS)\n                    .build())\n            .addConverterFactory(GsonConverterFactory.create())\n            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4398149,"reputation":1000,"user_id":7634944,"display_name":"Vinay John"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564648179,"creation_date":1559115044,"answer_id":56355231,"question_id":32514410,"body_markdown":"First Add dependency to build.gradle:\r\n\r\nimplementation &#39;com.squareup.okhttp3:logging-interceptor:3.12.1&#39;\r\n\r\n\r\nWhile using Kotlin you can add Logging Interceptor like this :\r\n\r\n    companion object {\r\n        val okHttpClient = OkHttpClient().newBuilder()\r\n                .addInterceptor(HttpLoggingInterceptor().apply {\r\n                    level = HttpLoggingInterceptor.Level.BODY\r\n                })\r\n                .build()\r\n    \r\n    \r\n        fun getRetrofitInstance(): Retrofit {\r\n            val retrofit = Retrofit.Builder()\r\n                    .client(okHttpClient)\r\n                    .baseUrl(ScanNShopConstants.BASE_URL)\r\n                    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build()\r\n    \r\n            return retrofit\r\n        }\r\n    }","title":"Logging with Retrofit 2","body":"<p>First Add dependency to build.gradle:</p>\n\n<p>implementation 'com.squareup.okhttp3:logging-interceptor:3.12.1'</p>\n\n<p>While using Kotlin you can add Logging Interceptor like this :</p>\n\n<pre><code>companion object {\n    val okHttpClient = OkHttpClient().newBuilder()\n            .addInterceptor(HttpLoggingInterceptor().apply {\n                level = HttpLoggingInterceptor.Level.BODY\n            })\n            .build()\n\n\n    fun getRetrofitInstance(): Retrofit {\n        val retrofit = Retrofit.Builder()\n                .client(okHttpClient)\n                .baseUrl(ScanNShopConstants.BASE_URL)\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n\n        return retrofit\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4546280,"reputation":1606,"user_id":3692788,"accept_rate":67,"display_name":"JCarlosR"},"score":0,"creation_date":1696783981,"post_id":57513413,"comment_id":136194572,"body_markdown":"This is nice to filter messages, but how about filtering request URLs? Unfortunately the `HttpLoggingInterceptor` class is final.","body":"This is nice to filter messages, but how about filtering request URLs? Unfortunately the <code>HttpLoggingInterceptor</code> class is final."}],"tags":[],"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565888642,"creation_date":1565888642,"answer_id":57513413,"question_id":32514410,"body_markdown":"Here is a simple way to filter any request/response params from the logs using `HttpLoggingInterceptor` :\r\n\r\n    // Request patterns to filter\r\n    private static final String[] REQUEST_PATTERNS = {\r\n        &quot;Content-Type&quot;,\r\n    };\r\n    // Response patterns to filter\r\n    private static final String[] RESPONSE_PATTERNS = {&quot;Server&quot;, &quot;server&quot;, &quot;X-Powered-By&quot;, &quot;Set-Cookie&quot;, &quot;Expires&quot;, &quot;Cache-Control&quot;, &quot;Pragma&quot;, &quot;Content-Length&quot;, &quot;access-control-allow-origin&quot;};\r\n    \r\n    // Log requests and response\r\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor(new HttpLoggingInterceptor.Logger() {\r\n        @Override\r\n        public void log(String message) {\r\n    \r\n            // Blacklist the elements not required\r\n            for (String pattern: REQUEST_PATTERNS) {\r\n                if (message.startsWith(pattern)) {\r\n                    return;\r\n                }\r\n            }\r\n            // Any response patterns as well...\r\n            for (String pattern: RESPONSE_PATTERNS) {\r\n                if (message.startsWith(pattern)) {\r\n                    return;\r\n                }\r\n            }\r\n            Log.d(&quot;RETROFIT&quot;, message);\r\n        }\r\n    });\r\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n\r\nHere is the full gist:\r\n\r\nhttps://gist.github.com/mankum93/179c2d5378f27e95742c3f2434de7168","title":"Logging with Retrofit 2","body":"<p>Here is a simple way to filter any request/response params from the logs using <code>HttpLoggingInterceptor</code> :</p>\n\n<pre><code>// Request patterns to filter\nprivate static final String[] REQUEST_PATTERNS = {\n    \"Content-Type\",\n};\n// Response patterns to filter\nprivate static final String[] RESPONSE_PATTERNS = {\"Server\", \"server\", \"X-Powered-By\", \"Set-Cookie\", \"Expires\", \"Cache-Control\", \"Pragma\", \"Content-Length\", \"access-control-allow-origin\"};\n\n// Log requests and response\nHttpLoggingInterceptor interceptor = new HttpLoggingInterceptor(new HttpLoggingInterceptor.Logger() {\n    @Override\n    public void log(String message) {\n\n        // Blacklist the elements not required\n        for (String pattern: REQUEST_PATTERNS) {\n            if (message.startsWith(pattern)) {\n                return;\n            }\n        }\n        // Any response patterns as well...\n        for (String pattern: RESPONSE_PATTERNS) {\n            if (message.startsWith(pattern)) {\n                return;\n            }\n        }\n        Log.d(\"RETROFIT\", message);\n    }\n});\ninterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n</code></pre>\n\n<p>Here is the full gist:</p>\n\n<p><a href=\"https://gist.github.com/mankum93/179c2d5378f27e95742c3f2434de7168\" rel=\"nofollow noreferrer\">https://gist.github.com/mankum93/179c2d5378f27e95742c3f2434de7168</a></p>\n"},{"tags":[],"owner":{"account_id":4838224,"reputation":3812,"user_id":3904109,"accept_rate":71,"display_name":"DragonFire"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1577238512,"creation_date":1577237037,"answer_id":59474531,"question_id":32514410,"body_markdown":"The following set of code is working without any problems for me\r\n\r\n**Gradle**\r\n\r\n    // Retrofit\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.5.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.5.0&#39;\r\n    implementation &#39;com.squareup.okhttp3:logging-interceptor:3.12.1&#39;\r\n\r\n**RetrofitClient**\r\n\r\n    HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n    logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n    \r\n    OkHttpClient client = new OkHttpClient.Builder()\r\n            .addInterceptor(logging)\r\n            .build();\r\n    \r\n    retrofit = new Retrofit.Builder()\r\n            .baseUrl(BASE_URL)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .client(client)\r\n            .build();\r\n\r\nOne can also verify the results by going into Profiler Tab at bottom of Android Studio, then clicking + sign to Start A New Session, and then select the desired spike in &quot;Network&quot;.  There you can get everything, but it is cumbersome and slow.  Please see image below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/azS6u.png","title":"Logging with Retrofit 2","body":"<p>The following set of code is working without any problems for me</p>\n\n<p><strong>Gradle</strong></p>\n\n<pre><code>// Retrofit\nimplementation 'com.squareup.retrofit2:retrofit:2.5.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.5.0'\nimplementation 'com.squareup.okhttp3:logging-interceptor:3.12.1'\n</code></pre>\n\n<p><strong>RetrofitClient</strong></p>\n\n<pre><code>HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\nlogging.setLevel(HttpLoggingInterceptor.Level.BODY);\n\nOkHttpClient client = new OkHttpClient.Builder()\n        .addInterceptor(logging)\n        .build();\n\nretrofit = new Retrofit.Builder()\n        .baseUrl(BASE_URL)\n        .addConverterFactory(GsonConverterFactory.create())\n        .client(client)\n        .build();\n</code></pre>\n\n<p>One can also verify the results by going into Profiler Tab at bottom of Android Studio, then clicking + sign to Start A New Session, and then select the desired spike in \"Network\".  There you can get everything, but it is cumbersome and slow.  Please see image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/azS6u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/azS6u.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644355355,"creation_date":1586502029,"answer_id":61135442,"question_id":32514410,"body_markdown":"**Retrofit Log**\r\n\r\nRetrofit&#39;s interceptor is a great feature which allow you work with http requests.\r\nThere are two types of them: `application` and `network` interceptors. \r\n\r\nI would recommend to use [`Charles Web Debugging Proxy Application`][1] if you need logging your requests/responses. The output is very similar to `Stetho` but it is more powerful instrument which you do not need to add as a dependency to an application\r\n\r\n[\\[Charles Proxy change response\\]][2]\r\n\r\n\r\n  [1]: https://www.charlesproxy.com/\r\n  [2]: https://stackoverflow.com/a/54516008/4770877","title":"Logging with Retrofit 2","body":"<p><strong>Retrofit Log</strong></p>\n<p>Retrofit's interceptor is a great feature which allow you work with http requests.\nThere are two types of them: <code>application</code> and <code>network</code> interceptors.</p>\n<p>I would recommend to use <a href=\"https://www.charlesproxy.com/\" rel=\"nofollow noreferrer\"><code>Charles Web Debugging Proxy Application</code></a> if you need logging your requests/responses. The output is very similar to <code>Stetho</code> but it is more powerful instrument which you do not need to add as a dependency to an application</p>\n<p><a href=\"https://stackoverflow.com/a/54516008/4770877\">[Charles Proxy change response]</a></p>\n"},{"comments":[{"owner":{"account_id":5971152,"reputation":353,"user_id":4693438,"accept_rate":78,"display_name":"Kenny Dabiri"},"score":1,"creation_date":1592962154,"post_id":61987775,"comment_id":110610532,"body_markdown":"Nice and Neat @Jwala. Thanks","body":"Nice and Neat @Jwala. Thanks"}],"tags":[],"owner":{"account_id":16813238,"reputation":525,"user_id":12155745,"display_name":"Jwala Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1590352477,"creation_date":1590332197,"answer_id":61987775,"question_id":32514410,"body_markdown":"I was also stuck in similar kind of situation, `setLevel()` method was not coming, when I was trying to call it with the instance of HttpLoggingInterceptor, \r\nlike this:\r\n\r\n    HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\r\n    loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n\r\nHere is how I resolved it, to generate log for Retrofit2,\r\n\r\nI suppose you have added the dependecy,\r\n\r\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:4.7.2&quot;\r\n\r\nFor the latest version you can check out, this link:\r\n\r\nhttps://github.com/square/okhttp/tree/master/okhttp-logging-interceptor )\r\n\r\nHere they have also explained about how to add.\r\n\r\nI created a class with name `AddLoggingInterceptor`, \r\nhere is my code,\r\n\r\n```\r\npublic class AddLoggingInterceptor {\r\n\r\n    public static OkHttpClient setLogging(){\r\n        HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\r\n        loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n\r\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\r\n                .addInterceptor(loggingInterceptor)\r\n                .build();\r\n\r\n        return okHttpClient;\r\n    }\r\n}\r\n```\r\n\r\nThen, where we are instantiating our Retrofit,\r\n\r\n     public static Retrofit getRetrofitInstance() {\r\n        if (retrofit == null) {\r\n            retrofit = new retrofit2.Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(AddLoggingInterceptor.setLogging()) // here the method is called inside client() method, with the name of class, since it is a static method.\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\n\r\nNow you can see log generated in your Android Studio, you may need to search, `okHttp` for filtering process. It worked for me. If any issues you can text me here.\r\n","title":"Logging with Retrofit 2","body":"<p>I was also stuck in similar kind of situation, <code>setLevel()</code> method was not coming, when I was trying to call it with the instance of HttpLoggingInterceptor, \nlike this:</p>\n\n<pre><code>HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\nloggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n</code></pre>\n\n<p>Here is how I resolved it, to generate log for Retrofit2,</p>\n\n<p>I suppose you have added the dependecy,</p>\n\n<pre><code>implementation \"com.squareup.okhttp3:logging-interceptor:4.7.2\"\n</code></pre>\n\n<p>For the latest version you can check out, this link:</p>\n\n<p><a href=\"https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor\" rel=\"noreferrer\">https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor</a> )</p>\n\n<p>Here they have also explained about how to add.</p>\n\n<p>I created a class with name <code>AddLoggingInterceptor</code>, \nhere is my code,</p>\n\n<pre><code>public class AddLoggingInterceptor {\n\n    public static OkHttpClient setLogging(){\n        HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\n        loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\n                .addInterceptor(loggingInterceptor)\n                .build();\n\n        return okHttpClient;\n    }\n}\n</code></pre>\n\n<p>Then, where we are instantiating our Retrofit,</p>\n\n<pre><code> public static Retrofit getRetrofitInstance() {\n    if (retrofit == null) {\n        retrofit = new retrofit2.Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(AddLoggingInterceptor.setLogging()) // here the method is called inside client() method, with the name of class, since it is a static method.\n                .build();\n    }\n    return retrofit;\n}\n</code></pre>\n\n<p>Now you can see log generated in your Android Studio, you may need to search, <code>okHttp</code> for filtering process. It worked for me. If any issues you can text me here.</p>\n"},{"tags":[],"owner":{"account_id":17122899,"reputation":51,"user_id":12390747,"display_name":"Quadri Ismail"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614700595,"creation_date":1614690707,"answer_id":66440094,"question_id":32514410,"body_markdown":"In case of `java.lang.ClassNotFoundException` with dagger \r\n\r\nI removed \r\n\r\n    implementation(&quot;com.squareup.okhttp3:okhttp:4.9.0&quot;)\r\n\r\nand everything works.\r\n","title":"Logging with Retrofit 2","body":"<p>In case of <code>java.lang.ClassNotFoundException</code> with dagger</p>\n<p>I removed</p>\n<pre><code>implementation(&quot;com.squareup.okhttp3:okhttp:4.9.0&quot;)\n</code></pre>\n<p>and everything works.</p>\n"}],"owner":{"account_id":544642,"reputation":7432,"user_id":270197,"accept_rate":95,"display_name":"Gabor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257142,"favorite_count":0,"down_vote_count":0,"up_vote_count":374,"accepted_answer_id":33256827,"answer_count":22,"score":374,"last_activity_date":1684501997,"creation_date":1441937247,"question_id":32514410,"body_markdown":"I&#39;m trying to get the exact JSON that is being sent in the request. Here is my code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n    client.interceptors().add(new Interceptor(){\r\n       @Override public com.squareup.okhttp.Response intercept(Chain chain) throws IOException {\r\n          Request request = chain.request();\r\n          Log.e(String.format(&quot;\\nrequest:\\n%s\\nheaders:\\n%s&quot;,\r\n                              request.body().toString(), request.headers()));\r\n          com.squareup.okhttp.Response response = chain.proceed(request);\r\n          return response;\r\n       }\r\n    });\r\n    Retrofit retrofit = new Retrofit.Builder()\r\n       .baseUrl(API_URL)\r\n       .addConverterFactory(GsonConverterFactory.create())\r\n       .client(client).build();\r\n\r\nBut I only see this in the logs:\r\n\r\n    request:\r\n    com.squareup.okhttp.RequestBody$1@3ff4074d\r\n    headers:\r\n    Content-Type: application/vnd.ll.event.list+json\r\n\r\nHow am I supposed to do proper logging, given the removal of `setLog()` and `setLogLevel()` which we used to use with Retrofit 1?","title":"Logging with Retrofit 2","body":"<p>I'm trying to get the exact JSON that is being sent in the request. Here is my code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>OkHttpClient client = new OkHttpClient();\nclient.interceptors().add(new Interceptor(){\n   @Override public com.squareup.okhttp.Response intercept(Chain chain) throws IOException {\n      Request request = chain.request();\n      Log.e(String.format(\"\\nrequest:\\n%s\\nheaders:\\n%s\",\n                          request.body().toString(), request.headers()));\n      com.squareup.okhttp.Response response = chain.proceed(request);\n      return response;\n   }\n});\nRetrofit retrofit = new Retrofit.Builder()\n   .baseUrl(API_URL)\n   .addConverterFactory(GsonConverterFactory.create())\n   .client(client).build();\n</code></pre>\n\n<p>But I only see this in the logs:</p>\n\n<pre><code>request:\ncom.squareup.okhttp.RequestBody$1@3ff4074d\nheaders:\nContent-Type: application/vnd.ll.event.list+json\n</code></pre>\n\n<p>How am I supposed to do proper logging, given the removal of <code>setLog()</code> and <code>setLogLevel()</code> which we used to use with Retrofit 1?</p>\n"},{"tags":["java","xml","jackson"],"owner":{"account_id":7764892,"reputation":55,"user_id":5876362,"display_name":"Aamir Sheraz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684501931,"answer_count":0,"score":0,"last_activity_date":1684500769,"creation_date":1684498566,"question_id":76288976,"body_markdown":"I am trying to map my XML string to POJO classes, it works fine for simple String and int but gives unrecognized field error in case of a list.\r\n\r\nSample Message\r\nUnrecognized field &quot;Events&quot; (class com.example.fixinitiator.conversationSchema.Chat), not marked as ignorable\r\n\r\nHere is my sample xml\r\n~~~\r\n&lt;Chats&gt;\r\n         &lt;Chat&gt;\r\n\t\t\t&lt;Identifier&gt;11056&lt;/Identifier&gt;\r\n\t\t\t&lt;Topic/&gt;\r\n\t\t\t&lt;Disclaimer/&gt;\r\n\t\t\t&lt;Events&gt;\r\n\t\t\t\t&lt;Event&gt;\r\n\t\t\t\t\t&lt;Type&gt;Join&lt;/Type&gt;\r\n\t\t\t\t\t&lt;User&gt;GEHO&lt;/User&gt;\r\n\t\t\t\t\t&lt;UTCTime&gt;2022-04-13T10:10:27.985Z&lt;/UTCTime&gt;\r\n\t\t\t\t&lt;/Event&gt;\r\n\t\t\t\t&lt;Event&gt;\r\n\t\t\t\t\t&lt;Type&gt;Join&lt;/Type&gt;\r\n\t\t\t\t\t&lt;User&gt;ZHOU&lt;/User&gt;\r\n\t\t\t\t\t&lt;UTCTime&gt;2022-04-13T10:10:27.985Z&lt;/UTCTime&gt;\r\n\t\t\t\t&lt;/Event&gt;\r\n\t\t\t\t&lt;Event&gt;\r\n\t\t\t\t\t&lt;Type&gt;Send&lt;/Type&gt;\r\n\t\t\t\t\t&lt;User&gt;ZHOU&lt;/User&gt;\r\n\t\t\t\t\t&lt;UTCTime&gt;2022-04-13T10:10:32.063Z&lt;/UTCTime&gt;\r\n\t\t\t\t\t&lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\r\n\t\t\t\t\t&lt;Message&gt;\r\n\t\t\t\t\t\t&lt;MessageID&gt;0&lt;/MessageID&gt;\r\n\t\t\t\t\t\t&lt;Content&gt;FX RECFM&lt;/Content&gt;\r\n\t\t\t\t\t\t&lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\r\n\t\t\t\t\t\t&lt;HasDeal&gt;false&lt;/HasDeal&gt;\r\n\t\t\t\t\t\t&lt;SystemText&gt;NONE&lt;/SystemText&gt;\r\n\t\t\t\t\t\t&lt;TextType&gt;Online&lt;/TextType&gt;\r\n\t\t\t\t\t&lt;/Message&gt;\r\n\t\t\t\t&lt;/Event&gt;\r\n\t\t\t\t&lt;Event&gt;\r\n\t\t\t\t\t&lt;Type&gt;Send&lt;/Type&gt;\r\n\t\t\t\t\t&lt;User&gt;GEHO&lt;/User&gt;\r\n\t\t\t\t\t&lt;UTCTime&gt;2022-04-13T10:10:38.987Z&lt;/UTCTime&gt;\r\n\t\t\t\t\t&lt;Author&gt;CounterpartyTypeOurParty&lt;/Author&gt;\r\n\t\t\t\t\t&lt;Message&gt;\r\n\t\t\t\t\t\t&lt;MessageID&gt;1&lt;/MessageID&gt;\r\n\t\t\t\t\t\t&lt;Content&gt;GEORGE&amp;gt; YES FRIENDS?&lt;/Content&gt;\r\n\t\t\t\t\t\t&lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\r\n\t\t\t\t\t\t&lt;HasDeal&gt;false&lt;/HasDeal&gt;\r\n\t\t\t\t\t\t&lt;SystemText&gt;NONE&lt;/SystemText&gt;\r\n\t\t\t\t\t\t&lt;TextType&gt;Online&lt;/TextType&gt;\r\n\t\t\t\t\t&lt;/Message&gt;\r\n\t\t\t\t&lt;/Event&gt;\r\n\t\t\t\t&lt;Event&gt;\r\n\t\t\t\t\t&lt;Type&gt;Send&lt;/Type&gt;\r\n\t\t\t\t\t&lt;User&gt;ZHOU&lt;/User&gt;\r\n\t\t\t\t\t&lt;UTCTime&gt;2022-04-13T10:10:51.894Z&lt;/UTCTime&gt;\r\n\t\t\t\t\t&lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\r\n\t\t\t\t\t&lt;Message&gt;\r\n\t\t\t\t\t\t&lt;MessageID&gt;2&lt;/MessageID&gt;\r\n\t\t\t\t\t\t&lt;Content&gt;HIHI FRD, SORRY FOR THE TYPO ERROR&lt;/Content&gt;\r\n\t\t\t\t\t\t&lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\r\n\t\t\t\t\t\t&lt;HasDeal&gt;false&lt;/HasDeal&gt;\r\n\t\t\t\t\t\t&lt;SystemText&gt;NONE&lt;/SystemText&gt;\r\n\t\t\t\t\t\t&lt;TextType&gt;Online&lt;/TextType&gt;\r\n\t\t\t\t\t&lt;/Message&gt;\r\n\t\t\t\t&lt;/Event&gt;\r\n\t\t\t\t&lt;Event&gt;\r\n\t\t\t\t\t&lt;Type&gt;Send&lt;/Type&gt;\r\n\t\t\t\t\t&lt;User&gt;ZHOU&lt;/User&gt;\r\n\t\t\t\t\t&lt;UTCTime&gt;2022-04-13T10:11:04.379Z&lt;/UTCTime&gt;\r\n\t\t\t\t\t&lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\r\n\t\t\t\t\t&lt;Message&gt;\r\n\t\t\t\t\t\t&lt;MessageID&gt;3&lt;/MessageID&gt;\r\n\t\t\t\t\t\t&lt;Content&gt;MY AED TO CENTRAL OF UAE &lt;/Content&gt;\r\n\t\t\t\t\t\t&lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\r\n\t\t\t\t\t\t&lt;HasDeal&gt;false&lt;/HasDeal&gt;\r\n\t\t\t\t\t\t&lt;SystemText&gt;NONE&lt;/SystemText&gt;\r\n\t\t\t\t\t\t&lt;TextType&gt;Online&lt;/TextType&gt;\r\n\t\t\t\t\t&lt;/Message&gt;\r\n\t\t\t\t&lt;/Event&gt;\r\n\t\t\t\t&lt;Event&gt;\r\n\t\t\t\t\t&lt;Type&gt;Send&lt;/Type&gt;\r\n\t\t\t\t\t&lt;User&gt;ZHOU&lt;/User&gt;\r\n\t\t\t\t\t&lt;UTCTime&gt;2022-04-13T10:11:04.520Z&lt;/UTCTime&gt;\r\n\t\t\t\t\t&lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\r\n\t\t\t\t\t&lt;Message&gt;\r\n\t\t\t\t\t\t&lt;MessageID&gt;4&lt;/MessageID&gt;\r\n\t\t\t\t\t\t&lt;Content&gt;(CBAUAEAAXXX),AE810010001000062101001 &lt;/Content&gt;\r\n\t\t\t\t\t\t&lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\r\n\t\t\t\t\t\t&lt;HasDeal&gt;false&lt;/HasDeal&gt;\r\n\t\t\t\t\t\t&lt;SystemText&gt;NONE&lt;/SystemText&gt;\r\n\t\t\t\t\t\t&lt;TextType&gt;Online&lt;/TextType&gt;\r\n\t\t\t\t\t&lt;/Message&gt;\r\n\t\t\t\t&lt;/Event&gt;\r\n\t\t\t\t&lt;Event&gt;\r\n\t\t\t\t\t&lt;Type&gt;Send&lt;/Type&gt;\r\n\t\t\t\t\t&lt;User&gt;ZHOU&lt;/User&gt;\r\n\t\t\t\t\t&lt;UTCTime&gt;2022-04-13T10:11:13.301Z&lt;/UTCTime&gt;\r\n\t\t\t\t\t&lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\r\n\t\t\t\t\t&lt;Message&gt;\r\n\t\t\t\t\t\t&lt;MessageID&gt;5&lt;/MessageID&gt;\r\n\t\t\t\t\t\t&lt;Content&gt;FYI&lt;/Content&gt;\r\n\t\t\t\t\t\t&lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\r\n\t\t\t\t\t\t&lt;HasDeal&gt;false&lt;/HasDeal&gt;\r\n\t\t\t\t\t\t&lt;SystemText&gt;NONE&lt;/SystemText&gt;\r\n\t\t\t\t\t\t&lt;TextType&gt;Online&lt;/TextType&gt;\r\n\t\t\t\t\t&lt;/Message&gt;\r\n\t\t\t\t&lt;/Event&gt;\r\n\t\t\t\t&lt;Event&gt;\r\n\t\t\t\t\t&lt;Type&gt;Send&lt;/Type&gt;\r\n\t\t\t\t\t&lt;User&gt;ZHOU&lt;/User&gt;\r\n\t\t\t\t\t&lt;UTCTime&gt;2022-04-13T10:11:23.568Z&lt;/UTCTime&gt;\r\n\t\t\t\t\t&lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\r\n\t\t\t\t\t&lt;Message&gt;\r\n\t\t\t\t\t\t&lt;MessageID&gt;6&lt;/MessageID&gt;\r\n\t\t\t\t\t\t&lt;Content&gt;OTHER DETAILS REMAIN THE SAME&lt;/Content&gt;\r\n\t\t\t\t\t\t&lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\r\n\t\t\t\t\t\t&lt;HasDeal&gt;false&lt;/HasDeal&gt;\r\n\t\t\t\t\t\t&lt;SystemText&gt;NONE&lt;/SystemText&gt;\r\n\t\t\t\t\t\t&lt;TextType&gt;Online&lt;/TextType&gt;\r\n\t\t\t\t\t&lt;/Message&gt;\r\n\t\t\t\t&lt;/Event&gt;\r\n\t\t\t&lt;/Events&gt;\r\n\t\t&lt;/Chat&gt;\r\n    &lt;/Chats&gt;\r\n\r\n~~~ \r\n\r\nHere is my POJO classes for this\r\n~~~\r\n@Getter\r\n@Setter\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Chats {\r\n\tpublic Chat Chat;\r\n\r\n\tpublic Chats(@JsonProperty(&quot;Chats&quot;) com.example.fixinitiator.conversationSchema.Chat chat) {\r\n\t\tChat = chat;\r\n\t}\r\n}\r\n~~~\r\n\r\n~~~\r\n@Getter\r\n@Setter\r\npublic class Chat {\r\n\r\n\tpublic int Identifier;\r\n\tpublic String Topic;\r\n\tpublic String Disclaimer;\r\n\t@XmlElement(name = &quot;Participants&quot;)\r\n\tpublic Participants Participants;\r\n\tprivate Events Events;\r\n}\r\n~~~\r\n\r\n~~~\r\n@Getter\r\n@Setter\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Events {\r\n\tpublic List&lt;Event&gt; Event;\r\n}\r\n~~~\r\n\r\n~~~\r\n@Setter\r\n@Getter\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Event {\r\n\r\n\tpublic String Type;\r\n\tpublic String User;\r\n\tpublic Date UTCTime;\r\n\tpublic String Author;\r\n\tpublic Message Message;\r\n\r\n\r\n}\r\n~~~","title":"XML to POJO class mapping gives unrecognized field error in case of list elements with Jackson","body":"<p>I am trying to map my XML string to POJO classes, it works fine for simple String and int but gives unrecognized field error in case of a list.</p>\n<p>Sample Message\nUnrecognized field &quot;Events&quot; (class com.example.fixinitiator.conversationSchema.Chat), not marked as ignorable</p>\n<p>Here is my sample xml</p>\n<pre><code>&lt;Chats&gt;\n         &lt;Chat&gt;\n            &lt;Identifier&gt;11056&lt;/Identifier&gt;\n            &lt;Topic/&gt;\n            &lt;Disclaimer/&gt;\n            &lt;Events&gt;\n                &lt;Event&gt;\n                    &lt;Type&gt;Join&lt;/Type&gt;\n                    &lt;User&gt;GEHO&lt;/User&gt;\n                    &lt;UTCTime&gt;2022-04-13T10:10:27.985Z&lt;/UTCTime&gt;\n                &lt;/Event&gt;\n                &lt;Event&gt;\n                    &lt;Type&gt;Join&lt;/Type&gt;\n                    &lt;User&gt;ZHOU&lt;/User&gt;\n                    &lt;UTCTime&gt;2022-04-13T10:10:27.985Z&lt;/UTCTime&gt;\n                &lt;/Event&gt;\n                &lt;Event&gt;\n                    &lt;Type&gt;Send&lt;/Type&gt;\n                    &lt;User&gt;ZHOU&lt;/User&gt;\n                    &lt;UTCTime&gt;2022-04-13T10:10:32.063Z&lt;/UTCTime&gt;\n                    &lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\n                    &lt;Message&gt;\n                        &lt;MessageID&gt;0&lt;/MessageID&gt;\n                        &lt;Content&gt;FX RECFM&lt;/Content&gt;\n                        &lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\n                        &lt;HasDeal&gt;false&lt;/HasDeal&gt;\n                        &lt;SystemText&gt;NONE&lt;/SystemText&gt;\n                        &lt;TextType&gt;Online&lt;/TextType&gt;\n                    &lt;/Message&gt;\n                &lt;/Event&gt;\n                &lt;Event&gt;\n                    &lt;Type&gt;Send&lt;/Type&gt;\n                    &lt;User&gt;GEHO&lt;/User&gt;\n                    &lt;UTCTime&gt;2022-04-13T10:10:38.987Z&lt;/UTCTime&gt;\n                    &lt;Author&gt;CounterpartyTypeOurParty&lt;/Author&gt;\n                    &lt;Message&gt;\n                        &lt;MessageID&gt;1&lt;/MessageID&gt;\n                        &lt;Content&gt;GEORGE&amp;gt; YES FRIENDS?&lt;/Content&gt;\n                        &lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\n                        &lt;HasDeal&gt;false&lt;/HasDeal&gt;\n                        &lt;SystemText&gt;NONE&lt;/SystemText&gt;\n                        &lt;TextType&gt;Online&lt;/TextType&gt;\n                    &lt;/Message&gt;\n                &lt;/Event&gt;\n                &lt;Event&gt;\n                    &lt;Type&gt;Send&lt;/Type&gt;\n                    &lt;User&gt;ZHOU&lt;/User&gt;\n                    &lt;UTCTime&gt;2022-04-13T10:10:51.894Z&lt;/UTCTime&gt;\n                    &lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\n                    &lt;Message&gt;\n                        &lt;MessageID&gt;2&lt;/MessageID&gt;\n                        &lt;Content&gt;HIHI FRD, SORRY FOR THE TYPO ERROR&lt;/Content&gt;\n                        &lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\n                        &lt;HasDeal&gt;false&lt;/HasDeal&gt;\n                        &lt;SystemText&gt;NONE&lt;/SystemText&gt;\n                        &lt;TextType&gt;Online&lt;/TextType&gt;\n                    &lt;/Message&gt;\n                &lt;/Event&gt;\n                &lt;Event&gt;\n                    &lt;Type&gt;Send&lt;/Type&gt;\n                    &lt;User&gt;ZHOU&lt;/User&gt;\n                    &lt;UTCTime&gt;2022-04-13T10:11:04.379Z&lt;/UTCTime&gt;\n                    &lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\n                    &lt;Message&gt;\n                        &lt;MessageID&gt;3&lt;/MessageID&gt;\n                        &lt;Content&gt;MY AED TO CENTRAL OF UAE &lt;/Content&gt;\n                        &lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\n                        &lt;HasDeal&gt;false&lt;/HasDeal&gt;\n                        &lt;SystemText&gt;NONE&lt;/SystemText&gt;\n                        &lt;TextType&gt;Online&lt;/TextType&gt;\n                    &lt;/Message&gt;\n                &lt;/Event&gt;\n                &lt;Event&gt;\n                    &lt;Type&gt;Send&lt;/Type&gt;\n                    &lt;User&gt;ZHOU&lt;/User&gt;\n                    &lt;UTCTime&gt;2022-04-13T10:11:04.520Z&lt;/UTCTime&gt;\n                    &lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\n                    &lt;Message&gt;\n                        &lt;MessageID&gt;4&lt;/MessageID&gt;\n                        &lt;Content&gt;(CBAUAEAAXXX),AE810010001000062101001 &lt;/Content&gt;\n                        &lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\n                        &lt;HasDeal&gt;false&lt;/HasDeal&gt;\n                        &lt;SystemText&gt;NONE&lt;/SystemText&gt;\n                        &lt;TextType&gt;Online&lt;/TextType&gt;\n                    &lt;/Message&gt;\n                &lt;/Event&gt;\n                &lt;Event&gt;\n                    &lt;Type&gt;Send&lt;/Type&gt;\n                    &lt;User&gt;ZHOU&lt;/User&gt;\n                    &lt;UTCTime&gt;2022-04-13T10:11:13.301Z&lt;/UTCTime&gt;\n                    &lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\n                    &lt;Message&gt;\n                        &lt;MessageID&gt;5&lt;/MessageID&gt;\n                        &lt;Content&gt;FYI&lt;/Content&gt;\n                        &lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\n                        &lt;HasDeal&gt;false&lt;/HasDeal&gt;\n                        &lt;SystemText&gt;NONE&lt;/SystemText&gt;\n                        &lt;TextType&gt;Online&lt;/TextType&gt;\n                    &lt;/Message&gt;\n                &lt;/Event&gt;\n                &lt;Event&gt;\n                    &lt;Type&gt;Send&lt;/Type&gt;\n                    &lt;User&gt;ZHOU&lt;/User&gt;\n                    &lt;UTCTime&gt;2022-04-13T10:11:23.568Z&lt;/UTCTime&gt;\n                    &lt;Author&gt;CounterpartyTypeTheirParty&lt;/Author&gt;\n                    &lt;Message&gt;\n                        &lt;MessageID&gt;6&lt;/MessageID&gt;\n                        &lt;Content&gt;OTHER DETAILS REMAIN THE SAME&lt;/Content&gt;\n                        &lt;HasHighLight&gt;false&lt;/HasHighLight&gt;\n                        &lt;HasDeal&gt;false&lt;/HasDeal&gt;\n                        &lt;SystemText&gt;NONE&lt;/SystemText&gt;\n                        &lt;TextType&gt;Online&lt;/TextType&gt;\n                    &lt;/Message&gt;\n                &lt;/Event&gt;\n            &lt;/Events&gt;\n        &lt;/Chat&gt;\n    &lt;/Chats&gt;\n\n</code></pre>\n<p>Here is my POJO classes for this</p>\n<pre><code>@Getter\n@Setter\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Chats {\n    public Chat Chat;\n\n    public Chats(@JsonProperty(&quot;Chats&quot;) com.example.fixinitiator.conversationSchema.Chat chat) {\n        Chat = chat;\n    }\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\npublic class Chat {\n\n    public int Identifier;\n    public String Topic;\n    public String Disclaimer;\n    @XmlElement(name = &quot;Participants&quot;)\n    public Participants Participants;\n    private Events Events;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Events {\n    public List&lt;Event&gt; Event;\n}\n</code></pre>\n<pre><code>@Setter\n@Getter\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Event {\n\n    public String Type;\n    public String User;\n    public Date UTCTime;\n    public String Author;\n    public Message Message;\n\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1515777932,"post_id":48231182,"comment_id":83444598,"body_markdown":"Do you have any other classes in that package that are named `Path` or `Paths`?","body":"Do you have any other classes in that package that are named <code>Path</code> or <code>Paths</code>?"},{"owner":{"account_id":1365354,"reputation":1034,"user_id":1301908,"accept_rate":82,"display_name":"pez"},"score":0,"creation_date":1515778138,"post_id":48231182,"comment_id":83444695,"body_markdown":"No, just the one `Main` class.","body":"No, just the one <code>Main</code> class."},{"owner":{"account_id":10081074,"reputation":1138,"user_id":9040373,"display_name":"whatamidoingwithmylife"},"score":0,"creation_date":1515778324,"post_id":48231182,"comment_id":83444789,"body_markdown":"So you press Alt+Enter and choose import class ?","body":"So you press Alt+Enter and choose import class ?"},{"owner":{"account_id":1365354,"reputation":1034,"user_id":1301908,"accept_rate":82,"display_name":"pez"},"score":0,"creation_date":1515778577,"post_id":48231182,"comment_id":83444903,"body_markdown":"Yep, that&#39;s correct.","body":"Yep, that&#39;s correct."},{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":0,"creation_date":1515778624,"post_id":48231182,"comment_id":83444934,"body_markdown":"In `Preferences/Settings &gt; Editor &gt; Code Style &gt; Java` have you ticked the box for &quot;Use fully qualified class names&quot;?","body":"In <code>Preferences&#47;Settings &gt; Editor &gt; Code Style &gt; Java</code> have you ticked the box for &quot;Use fully qualified class names&quot;?"}],"answers":[{"comments":[{"owner":{"account_id":11502963,"reputation":661,"user_id":8430173,"display_name":"Negar Zamiri"},"score":0,"creation_date":1638104299,"post_id":48231426,"comment_id":123993450,"body_markdown":"in my case it was unchecked and this answer helped me: https://stackoverflow.com/a/67740501/8430173","body":"in my case it was unchecked and this answer helped me: <a href=\"https://stackoverflow.com/a/67740501/8430173\">stackoverflow.com/a/67740501/8430173</a>"}],"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1515778850,"creation_date":1515778850,"answer_id":48231426,"question_id":48231182,"body_markdown":"See `Preferences/Settings &gt; Editor &gt; Code Style &gt; Java` if this option ...  \r\n\r\n- Use fully qualified class names\r\n\r\n... is ticked then IntelliJ will always use fully qualified class names. If you disable this option then Intellij will include the import statement and refer to the class by its &#39;simple&#39; name.\r\n\r\nHere&#39;s a screenshot showing this configuration item:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hyPM6.png","title":"Intellij class Import being added to object not the top of class","body":"<p>See <code>Preferences/Settings &gt; Editor &gt; Code Style &gt; Java</code> if this option ...  </p>\n\n<ul>\n<li>Use fully qualified class names</li>\n</ul>\n\n<p>... is ticked then IntelliJ will always use fully qualified class names. If you disable this option then Intellij will include the import statement and refer to the class by its 'simple' name.</p>\n\n<p>Here's a screenshot showing this configuration item:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hyPM6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hyPM6.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":11502963,"reputation":661,"user_id":8430173,"display_name":"Negar Zamiri"},"score":1,"creation_date":1638104261,"post_id":67740501,"comment_id":123993441,"body_markdown":"worked for me! This solution solves almost every problem in IntelliJ :))","body":"worked for me! This solution solves almost every problem in IntelliJ :))"}],"tags":[],"owner":{"account_id":6357214,"reputation":31,"user_id":4934046,"display_name":"janakiram madurai"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622211180,"creation_date":1622211180,"answer_id":67740501,"question_id":48231182,"body_markdown":"If the accepted answer is not working for anyone, Try the below points too.\r\n\r\n - Check whether the class file is in correct package and resolve if there is any issues in the class file.\r\n - Click **File -&gt; Invalidate Caches/ Restart** and Click **Invalidate and Restart** button, Once it restarted U&#39;ll be able to import properly.","title":"Intellij class Import being added to object not the top of class","body":"<p>If the accepted answer is not working for anyone, Try the below points too.</p>\n<ul>\n<li>Check whether the class file is in correct package and resolve if there is any issues in the class file.</li>\n<li>Click <strong>File -&gt; Invalidate Caches/ Restart</strong> and Click <strong>Invalidate and Restart</strong> button, Once it restarted U'll be able to import properly.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2175763,"reputation":1199,"user_id":1926476,"accept_rate":50,"display_name":"Vaisakh Rajagopal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664392131,"creation_date":1664392131,"answer_id":73886684,"question_id":48231182,"body_markdown":"I was facing this issue with my custom / generated(protobuf) java packages. \r\n\r\n**Solution** (TDLR)\r\n\r\n* Whenever you face this issue, just check the package or class that getting imported doesn&#39;t have any error(red marking). \r\n* If so try to fix that.\r\nI was having an `issue with package naming and its actual location`. By **generated-sources** `-&gt; Right Click -&gt; Mark Directory As -&gt; Sources Root` corrected my issue.\r\n* Check whether **generated-sources** or **folder under the generated sources** need to mark us Sources Root.\r\n\r\n\r\n\r\n**My issue was with generated java files (Adding this just to help someone else with same issue)**\r\n\r\nIntellij shows red mark for Import with wildchar(import pkg1.subpkg1.*;). Like editor was unable to recognizing &#39;import all&#39; under a package.\r\n\r\nBut direct import to the inner package was fine.\r\n\r\nOn top of that an resolving issue with `import class` add full package to the Class itself, instead of adding import statement on top the java file.\r\n\r\nThis issue didn&#39;t affect the code compilation, only in editor it was showing red mark.\r\n\r\n\r\n","title":"Intellij class Import being added to object not the top of class","body":"<p>I was facing this issue with my custom / generated(protobuf) java packages.</p>\n<p><strong>Solution</strong> (TDLR)</p>\n<ul>\n<li>Whenever you face this issue, just check the package or class that getting imported doesn't have any error(red marking).</li>\n<li>If so try to fix that.\nI was having an <code>issue with package naming and its actual location</code>. By <strong>generated-sources</strong> <code>-&gt; Right Click -&gt; Mark Directory As -&gt; Sources Root</code> corrected my issue.</li>\n<li>Check whether <strong>generated-sources</strong> or <strong>folder under the generated sources</strong> need to mark us Sources Root.</li>\n</ul>\n<p><strong>My issue was with generated java files (Adding this just to help someone else with same issue)</strong></p>\n<p>Intellij shows red mark for Import with wildchar(import pkg1.subpkg1.*;). Like editor was unable to recognizing 'import all' under a package.</p>\n<p>But direct import to the inner package was fine.</p>\n<p>On top of that an resolving issue with <code>import class</code> add full package to the Class itself, instead of adding import statement on top the java file.</p>\n<p>This issue didn't affect the code compilation, only in editor it was showing red mark.</p>\n"},{"tags":[],"owner":{"account_id":13553007,"reputation":11,"user_id":18741648,"display_name":"Madgel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684500654,"creation_date":1684500654,"answer_id":76289244,"question_id":48231182,"body_markdown":"I had the same issue with importing generated classes from target folder.\\\r\nAnd it fixed by creating the same package from target in the main path.\r\n\r\nSo if you have imported class in\\\r\n`target/generated-sources/org/example/dto/Import.class`\r\n\r\nYou need to create same package in the main path:\\\r\n`src/main/org/example/dto`\r\n\r\nIt can be empty. But now Intellij will put imports to the top of the class.","title":"Intellij class Import being added to object not the top of class","body":"<p>I had the same issue with importing generated classes from target folder.<br />\nAnd it fixed by creating the same package from target in the main path.</p>\n<p>So if you have imported class in<br />\n<code>target/generated-sources/org/example/dto/Import.class</code></p>\n<p>You need to create same package in the main path:<br />\n<code>src/main/org/example/dto</code></p>\n<p>It can be empty. But now Intellij will put imports to the top of the class.</p>\n"}],"owner":{"account_id":1365354,"reputation":1034,"user_id":1301908,"accept_rate":82,"display_name":"pez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2925,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48231426,"answer_count":4,"score":2,"last_activity_date":1684500654,"creation_date":1515777805,"question_id":48231182,"body_markdown":"I&#39;ve just started a new IntelliJ project. When I try and import a java class with the IntelliJ import shortcut, the import is being added to the object and not to the top of the class like it normally would.\r\n\r\nWhere in the settings can I change this? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cjdVk.png","title":"Intellij class Import being added to object not the top of class","body":"<p>I've just started a new IntelliJ project. When I try and import a java class with the IntelliJ import shortcut, the import is being added to the object and not to the top of the class like it normally would.</p>\n\n<p>Where in the settings can I change this? </p>\n\n<p><a href=\"https://i.stack.imgur.com/cjdVk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cjdVk.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","groovy","jvm","classpath"],"answers":[{"comments":[{"owner":{"account_id":26347,"reputation":11087,"user_id":68473,"accept_rate":89,"display_name":"Dan"},"score":0,"creation_date":1272380757,"post_id":2718356,"comment_id":2748598,"body_markdown":"I&#39;m trying to use interception for AOP style programming.","body":"I&#39;m trying to use interception for AOP style programming."}],"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684500513,"creation_date":1272335541,"answer_id":2718356,"question_id":2715013,"body_markdown":"There&#39;s an [example of how to do this in java][1], which should also work with groovy. I think it&#39;s a sketchy way to do it though.\r\n\r\n\r\n - Do you need to intercept getters/setters in domain classes? [Hibernate has support for that][2] (I assume GORM too).\r\n\r\n - Do you need to intercept controller actions? You can use [controller interceptors][3].\r\n\r\nWhat&#39;s you goal?\r\n\r\n  [1]: http://dzone.com/snippets/get-all-classes-within-package\r\n  [2]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/events.html\r\n  [3]: http://www.grails.org/Controllers+-+Interceptors","title":"How to list all (groovy) classes in JVM in groovy","body":"<p>There's an <a href=\"http://dzone.com/snippets/get-all-classes-within-package\" rel=\"nofollow noreferrer\">example of how to do this in java</a>, which should also work with groovy. I think it's a sketchy way to do it though.</p>\n<ul>\n<li><p>Do you need to intercept getters/setters in domain classes? <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/events.html\" rel=\"nofollow noreferrer\">Hibernate has support for that</a> (I assume GORM too).</p>\n</li>\n<li><p>Do you need to intercept controller actions? You can use <a href=\"http://www.grails.org/Controllers+-+Interceptors\" rel=\"nofollow noreferrer\">controller interceptors</a>.</p>\n</li>\n</ul>\n<p>What's you goal?</p>\n"}],"owner":{"account_id":26347,"reputation":11087,"user_id":68473,"accept_rate":89,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1342,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684500513,"creation_date":1272298531,"question_id":2715013,"body_markdown":"I am writing a DelegatingMetaClass that I would like to apply to all groovy classes in my project, but I do not how to get hold of all classes in the project?\r\n\r\nHere is the code:\r\n\r\n    \r\n\r\n     /*\r\n     This will work ok, since I know Foo beforehand, but what about classes \r\n     that do not exist yet?\r\n     */\r\n     def myMetaClass = new DelegatingMetaClass(Foo.class)\r\n     InvokerHelper.metaRegistry.setMetaClass(Foo.class, myMetaClass)\t\r\n\r\n     /*\r\n     how to do this?\r\n     allGroovyClasses.each{\r\n          def myMetaClass = new DelegatingMetaClass(it)\r\n          InvokerHelper.metaRegistry.setMetaClass(it, myMetaClass)\t\r\n\t         }\r\n     */\r\n\r\n\r\n     class SimpleInterceptor extends DelegatingMetaClass{\r\n\r\n\r\n     public SimpleInterceptor(final Class aclass) {\r\n       super(aclass);    \r\n       initialize();\r\n     }\r\n       \r\n     public Object getProperty(Object object, String prop) {\r\n    \t println (&quot;I am in a property interceptor!!!&quot;)\r\n       return super.getProperty(object, prop)\r\n     }\r\n\r\n     public Object invokeMethod(Object a_object, String a_methodName, Object[] a_arguments)\r\n     {\r\n    \t println (&quot;I am in a method interceptor!!!&quot;)\r\n         return super.invokeMethod(a_object, a_methodName, a_arguments)\t\r\n     }\r\n\r\n\r\n\r\n","title":"How to list all (groovy) classes in JVM in groovy","body":"<p>I am writing a DelegatingMetaClass that I would like to apply to all groovy classes in my project, but I do not how to get hold of all classes in the project?</p>\n\n<p>Here is the code:</p>\n\n<pre><code> /*\n This will work ok, since I know Foo beforehand, but what about classes \n that do not exist yet?\n */\n def myMetaClass = new DelegatingMetaClass(Foo.class)\n InvokerHelper.metaRegistry.setMetaClass(Foo.class, myMetaClass)    \n\n /*\n how to do this?\n allGroovyClasses.each{\n      def myMetaClass = new DelegatingMetaClass(it)\n      InvokerHelper.metaRegistry.setMetaClass(it, myMetaClass)  \n         }\n */\n\n\n class SimpleInterceptor extends DelegatingMetaClass{\n\n\n public SimpleInterceptor(final Class aclass) {\n   super(aclass);    \n   initialize();\n }\n\n public Object getProperty(Object object, String prop) {\n     println (\"I am in a property interceptor!!!\")\n   return super.getProperty(object, prop)\n }\n\n public Object invokeMethod(Object a_object, String a_methodName, Object[] a_arguments)\n {\n     println (\"I am in a method interceptor!!!\")\n     return super.invokeMethod(a_object, a_methodName, a_arguments) \n }\n</code></pre>\n"},{"tags":["javascript","java","internet-explorer","applet","activex"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1501541483,"post_id":45423357,"comment_id":77814247,"body_markdown":"See [Java Plugin support deprecated](http://www.gizmodo.com.au/2016/01/rest-in-hell-java-plug-in/) and [Moving to a Plugin-Free Web](https://blogs.oracle.com/java-platform-group/moving-to-a-plugin-free-web). (The deployment toolkit script no longer works.) BTW - I&#39;m guessing you were the person that upvoted [this answer](https://stackoverflow.com/a/20498518/418556)? I&#39;ve edited it to add an update..","body":"See <a href=\"http://www.gizmodo.com.au/2016/01/rest-in-hell-java-plug-in/\" rel=\"nofollow noreferrer\">Java Plugin support deprecated</a> and <a href=\"https://blogs.oracle.com/java-platform-group/moving-to-a-plugin-free-web\" rel=\"nofollow noreferrer\">Moving to a Plugin-Free Web</a>. (The deployment toolkit script no longer works.) BTW - I&#39;m guessing you were the person that upvoted <a href=\"https://stackoverflow.com/a/20498518/418556\">this answer</a>? I&#39;ve edited it to add an update.."},{"owner":{"account_id":6693158,"reputation":1560,"user_id":5162026,"accept_rate":79,"display_name":"jsosnowski"},"score":0,"creation_date":1501575438,"post_id":45423357,"comment_id":77825905,"body_markdown":"Don&#39;t agree. Actually, the Java Plugin is installed in IE (see screenshots) but applets doesn&#39;t work. Moreover, second link you provide says: *&quot;Oracle plans to deprecate the Java browser plugin in JDK 9.&quot;* So now it should work. Any idea? Any &quot;dirty&quot; hack to run applet?","body":"Don&#39;t agree. Actually, the Java Plugin is installed in IE (see screenshots) but applets doesn&#39;t work. Moreover, second link you provide says: <i>&quot;Oracle plans to deprecate the Java browser plugin in JDK 9.&quot;</i> So now it should work. Any idea? Any &quot;dirty&quot; hack to run applet?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1501577436,"post_id":45423357,"comment_id":77827197,"body_markdown":"*&quot;Don&#39;t agree.&quot;* That&#39;s like not agreeing with gravity.. Whatever. Good luck with it. I&#39;m done with trying to get applets to work.","body":"<i>&quot;Don&#39;t agree.&quot;</i> That&#39;s like not agreeing with gravity.. Whatever. Good luck with it. I&#39;m done with trying to get applets to work."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1550453275,"post_id":45423357,"comment_id":96261066,"body_markdown":"As mentioned, Java Applet technology is being phased out. See white paper of 2018-03 from Oracle: [*Java Client Roadmap Update*](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf)","body":"As mentioned, Java Applet technology is being phased out. See white paper of 2018-03 from Oracle: <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf\" rel=\"nofollow noreferrer\"><i>Java Client Roadmap Update</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":1,"creation_date":1508663471,"post_id":45639988,"comment_id":80691853,"body_markdown":"I had the same issue. It works when I installed the 32-bit JRE +1","body":"I had the same issue. It works when I installed the 32-bit JRE +1"},{"owner":{"account_id":4548446,"reputation":3727,"user_id":3694269,"display_name":"Shanu Gupta"},"score":1,"creation_date":1517975138,"post_id":45639988,"comment_id":84309196,"body_markdown":"Unfortunately this won&#39;t work with JRE 9 because oracle didn&#39;t released it&#39;s 32-bit version. I&#39;m looking still looking for answers for JRE 9 64-bit.","body":"Unfortunately this won&#39;t work with JRE 9 because oracle didn&#39;t released it&#39;s 32-bit version. I&#39;m looking still looking for answers for JRE 9 64-bit."},{"owner":{"account_id":3207966,"reputation":8355,"user_id":2708607,"accept_rate":62,"display_name":"Steve Bauman"},"score":0,"creation_date":1524688030,"post_id":45639988,"comment_id":87077622,"body_markdown":"GC Campus requires the 32-bit version installed. Thanks a ton @jsosnowski! This resolved it for me. +1","body":"GC Campus requires the 32-bit version installed. Thanks a ton @jsosnowski! This resolved it for me. +1"},{"owner":{"account_id":1551262,"reputation":3378,"user_id":2594699,"accept_rate":60,"display_name":"Nhat Dinh"},"score":0,"creation_date":1528592928,"post_id":45639988,"comment_id":88566357,"body_markdown":"This is the answer, you saved my day. Thank you. This is so stupid when I using a 64bit OS but still have to install 32bit version to get Java work on IE 11. Holly crap.","body":"This is the answer, you saved my day. Thank you. This is so stupid when I using a 64bit OS but still have to install 32bit version to get Java work on IE 11. Holly crap."}],"tags":[],"owner":{"account_id":6693158,"reputation":1560,"user_id":5162026,"accept_rate":79,"display_name":"jsosnowski"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1502469720,"creation_date":1502469720,"answer_id":45639988,"question_id":45423357,"body_markdown":"I&#39;ve found a solution:\r\n\r\nApplets requires **32-bit JRE** installed on client machine (and as IE Plugin). Or to be more specific IE ActiveX mechanism works only with 32-bit Java because all IE are 32-bit by default. There are also 64-bit IE version, but I don&#39;t try it.\r\n\r\nI used the newest `JRE 1.8u144 32 bit`.\r\n\r\nSome hints for anyone to make applets work (even in 2017):\r\n\r\n 1. Check Internet Explorer version (32- or 64-bit) - look at *Help* -&gt; *About Internet Explorer*, if there is no 64-bit info, then you probably use 32-bit. Check also Windows Task Manager and search for *32 processes. More info in [other SO questions like this][1].\r\n 2. Disable ActiveX Filtering may also help. But in my situation, this wasn&#39;t necessary because IE displays message which warn about running Java plugin and I just need to accept this.\r\n 3. I have disabled option: *Enable Protected Mode* on *Security* tab in *Internet Options* window (for *Internet zone*).\r\n\r\nMore information can be retrieved from this discussion:\r\n\r\nhttps://answers.microsoft.com/en-us/ie/forum/ie11-iewindows_10/cannot-access-secure-website-that-requires-java/173f732b-7377-41f6-8c6f-2ae171f4da7a?auth=1\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/20118947/5162026","title":"IE 11 can&#39;t find Java Plugin to run Applet","body":"<p>I've found a solution:</p>\n\n<p>Applets requires <strong>32-bit JRE</strong> installed on client machine (and as IE Plugin). Or to be more specific IE ActiveX mechanism works only with 32-bit Java because all IE are 32-bit by default. There are also 64-bit IE version, but I don't try it.</p>\n\n<p>I used the newest <code>JRE 1.8u144 32 bit</code>.</p>\n\n<p>Some hints for anyone to make applets work (even in 2017):</p>\n\n<ol>\n<li>Check Internet Explorer version (32- or 64-bit) - look at <em>Help</em> -> <em>About Internet Explorer</em>, if there is no 64-bit info, then you probably use 32-bit. Check also Windows Task Manager and search for *32 processes. More info in <a href=\"https://stackoverflow.com/q/20118947/5162026\">other SO questions like this</a>.</li>\n<li>Disable ActiveX Filtering may also help. But in my situation, this wasn't necessary because IE displays message which warn about running Java plugin and I just need to accept this.</li>\n<li>I have disabled option: <em>Enable Protected Mode</em> on <em>Security</em> tab in <em>Internet Options</em> window (for <em>Internet zone</em>).</li>\n</ol>\n\n<p>More information can be retrieved from this discussion:</p>\n\n<p><a href=\"https://answers.microsoft.com/en-us/ie/forum/ie11-iewindows_10/cannot-access-secure-website-that-requires-java/173f732b-7377-41f6-8c6f-2ae171f4da7a?auth=1\" rel=\"noreferrer\">https://answers.microsoft.com/en-us/ie/forum/ie11-iewindows_10/cannot-access-secure-website-that-requires-java/173f732b-7377-41f6-8c6f-2ae171f4da7a?auth=1</a></p>\n"},{"tags":[],"owner":{"account_id":9418897,"reputation":33,"user_id":7005813,"display_name":"velraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519912572,"creation_date":1519912572,"answer_id":49051239,"question_id":45423357,"body_markdown":"Above answer was useful. But we did an update to jre1.8.0_144. I reinstalled 32 bit JDK in my system which integrated a java plug-in 11.144.2 automatically as add on in my Internet explorer 11. Also I could see the architecture of the plugin as 32 bit and 64 bit.\r\n\r\nIts good to download a 32 bit jre which will automatically configure the necessary add on. This fix made IE to run applets. ","title":"IE 11 can&#39;t find Java Plugin to run Applet","body":"<p>Above answer was useful. But we did an update to jre1.8.0_144. I reinstalled 32 bit JDK in my system which integrated a java plug-in 11.144.2 automatically as add on in my Internet explorer 11. Also I could see the architecture of the plugin as 32 bit and 64 bit.</p>\n\n<p>Its good to download a 32 bit jre which will automatically configure the necessary add on. This fix made IE to run applets. </p>\n"}],"owner":{"account_id":6693158,"reputation":1560,"user_id":5162026,"accept_rate":79,"display_name":"jsosnowski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18915,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45639988,"answer_count":2,"score":5,"last_activity_date":1684500448,"creation_date":1501527369,"question_id":45423357,"body_markdown":"I have application build with Java Applets, which works fine for Windows 7 with IE 9. Now I&#39;m trying move it to another environment. There is **Internet Explorer 11**. \r\n\r\nTo run applet I&#39;m using [Oracle Deployment Toolkit Script][1] with latest version taken from https://www.java.com/js/deployJava.txt. But the script **doesn&#39;t detect Java Plugin**. It only redirects to page `java.com` (suggesting to download latest `JRE`).\r\n\r\nBut my browser has Java Plugin installed (here JRE 1.7.80):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThere are also two **SSV Helpers** - maybe they cause the problem?\r\n\r\n[![enter image description here][3]][3]\r\n\r\nJava 8 (u144) cause the same problem.\r\n\r\n\r\n**Question:**\r\n\r\n*How to detect Java Plugin in IE 11 and run applet?*\r\n\r\n*Is it problem with `deployJava.js` or IE 11 configuration?*\r\n\r\n\r\n**More explanations:**\r\n\r\nOracle `deployJava.js` script uses such code to detect JRE version in IE ([deployJava source - lines 1172-1188][4]):\r\n\r\n    testUsingActiveX: function(version) {\r\n        var objectName = &#39;JavaWebStart.isInstalled.&#39; + version + &#39;.0&#39;;\r\n\r\n        // we need the typeof check here for this to run on FF/Chrome\r\n        // the check needs to be in place here - cannot even pass ActiveXObject\r\n        // as arg to another function\r\n        if (typeof ActiveXObject == &#39;undefined&#39; || !ActiveXObject) {\r\n            log(&#39;[testUsingActiveX()] Browser claims to be IE, but no ActiveXObject object?&#39;);\r\n            return false;\r\n        }\r\n\r\n        try {\r\n            return (new ActiveXObject(objectName) != null);\r\n        } catch (exception) {\r\n            return false;\r\n        }\r\n    },\r\n\r\n\r\nUnfortunately, ActiveX seems to be limited, restricted or disabled in IE 11. This topic on [SO is here][5]... anyone knows any details?\r\n\r\nI run manually (in IE 11.1480 developer console) this code:\r\n\r\n    new ActiveXObject(&#39;JavaWebStart.isInstalled.1.8.0.0&#39;);\r\n\r\nwhich returns:\r\n\r\n&gt; Automation server can&#39;t create object\r\n\r\nBut running the same code in a bit older IE 11.09600 returns object:\r\n\r\n&gt; [object] { }\r\n\r\nI&#39;m confused... Can Oracle do the script better?\r\n\r\n\r\n**Specification:**\r\n\r\nInternet Explorer 11, Version: 11.1480... Update Versions: 11.0.44\r\n\r\nSystem: Windows Server\r\n\r\nJava: tested with **1.8.144** and after **1.7.80**\r\n\r\nApplets run by Oracle [deployJava.js][4]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/depltoolkit_index.html\r\n  [2]: https://i.stack.imgur.com/16Vao.png\r\n  [3]: https://i.stack.imgur.com/fwFso.png\r\n  [4]: https://www.java.com/js/deployJava.txt\r\n  [5]: https://stackoverflow.com/questions/26151999/ie11-prevents-activex-from-running","title":"IE 11 can&#39;t find Java Plugin to run Applet","body":"<p>I have application build with Java Applets, which works fine for Windows 7 with IE 9. Now I'm trying move it to another environment. There is <strong>Internet Explorer 11</strong>. </p>\n\n<p>To run applet I'm using <a href=\"http://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/depltoolkit_index.html\" rel=\"noreferrer\">Oracle Deployment Toolkit Script</a> with latest version taken from <a href=\"https://www.java.com/js/deployJava.txt\" rel=\"noreferrer\">https://www.java.com/js/deployJava.txt</a>. But the script <strong>doesn't detect Java Plugin</strong>. It only redirects to page <code>java.com</code> (suggesting to download latest <code>JRE</code>).</p>\n\n<p>But my browser has Java Plugin installed (here JRE 1.7.80):</p>\n\n<p><a href=\"https://i.stack.imgur.com/16Vao.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/16Vao.png\" alt=\"enter image description here\"></a></p>\n\n<p>There are also two <strong>SSV Helpers</strong> - maybe they cause the problem?</p>\n\n<p><a href=\"https://i.stack.imgur.com/fwFso.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fwFso.png\" alt=\"enter image description here\"></a></p>\n\n<p>Java 8 (u144) cause the same problem.</p>\n\n<p><strong>Question:</strong></p>\n\n<p><em>How to detect Java Plugin in IE 11 and run applet?</em></p>\n\n<p><em>Is it problem with <code>deployJava.js</code> or IE 11 configuration?</em></p>\n\n<p><strong>More explanations:</strong></p>\n\n<p>Oracle <code>deployJava.js</code> script uses such code to detect JRE version in IE (<a href=\"https://www.java.com/js/deployJava.txt\" rel=\"noreferrer\">deployJava source - lines 1172-1188</a>):</p>\n\n<pre><code>testUsingActiveX: function(version) {\n    var objectName = 'JavaWebStart.isInstalled.' + version + '.0';\n\n    // we need the typeof check here for this to run on FF/Chrome\n    // the check needs to be in place here - cannot even pass ActiveXObject\n    // as arg to another function\n    if (typeof ActiveXObject == 'undefined' || !ActiveXObject) {\n        log('[testUsingActiveX()] Browser claims to be IE, but no ActiveXObject object?');\n        return false;\n    }\n\n    try {\n        return (new ActiveXObject(objectName) != null);\n    } catch (exception) {\n        return false;\n    }\n},\n</code></pre>\n\n<p>Unfortunately, ActiveX seems to be limited, restricted or disabled in IE 11. This topic on <a href=\"https://stackoverflow.com/questions/26151999/ie11-prevents-activex-from-running\">SO is here</a>... anyone knows any details?</p>\n\n<p>I run manually (in IE 11.1480 developer console) this code:</p>\n\n<pre><code>new ActiveXObject('JavaWebStart.isInstalled.1.8.0.0');\n</code></pre>\n\n<p>which returns:</p>\n\n<blockquote>\n  <p>Automation server can't create object</p>\n</blockquote>\n\n<p>But running the same code in a bit older IE 11.09600 returns object:</p>\n\n<blockquote>\n  <p>[object] { }</p>\n</blockquote>\n\n<p>I'm confused... Can Oracle do the script better?</p>\n\n<p><strong>Specification:</strong></p>\n\n<p>Internet Explorer 11, Version: 11.1480... Update Versions: 11.0.44</p>\n\n<p>System: Windows Server</p>\n\n<p>Java: tested with <strong>1.8.144</strong> and after <strong>1.7.80</strong></p>\n\n<p>Applets run by Oracle <a href=\"https://www.java.com/js/deployJava.txt\" rel=\"noreferrer\">deployJava.js</a></p>\n"},{"tags":["java","selenium-webdriver","testing","web","cucumber"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684619623,"post_id":76288862,"comment_id":134544344,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":28576273,"reputation":45,"user_id":21877834,"display_name":"Muhammad Saad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684500441,"creation_date":1684500441,"answer_id":76289214,"question_id":76288862,"body_markdown":"When we pass data in Scenario example it is treated as string. You don&#39;t need to pass in values with quotes in examples look at the example below.\r\n\r\nFeature file:\r\n\r\n     Scenario Outline: Login \r\n            Given As a user I can login to my account with following credentials &quot;&lt;userName&gt;&quot; and &quot;&lt;Password&gt;&quot; \r\n\r\n\r\nStep Definition: \r\n\r\n      Given(&quot;As a user I can login to my account with following credentials {string} and {string}&quot;),(userName,Password)=&gt;{\r\n    console.log(typeof(userName)) // string\r\n      console.log(typeof(Password)) // string\r\n    }\r\n\r\n\r\n","title":"scenario outilne not taking strings in examples","body":"<p>When we pass data in Scenario example it is treated as string. You don't need to pass in values with quotes in examples look at the example below.</p>\n<p>Feature file:</p>\n<pre><code> Scenario Outline: Login \n        Given As a user I can login to my account with following credentials &quot;&lt;userName&gt;&quot; and &quot;&lt;Password&gt;&quot; \n</code></pre>\n<p>Step Definition:</p>\n<pre><code>  Given(&quot;As a user I can login to my account with following credentials {string} and {string}&quot;),(userName,Password)=&gt;{\nconsole.log(typeof(userName)) // string\n  console.log(typeof(Password)) // string\n}\n</code></pre>\n"}],"owner":{"account_id":28635414,"reputation":1,"user_id":21925646,"display_name":"Santosh Bharti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1684500441,"creation_date":1684497788,"question_id":76288862,"body_markdown":"in cucumber scenarios outline if you use string in examples it gives error No compatible step definition with | &quot;AUTOMATIONPROJECT&quot; | AutoBrandSd2503 | 2020-01-01 06:20 | systemDateTime | Project Name &quot;AUTONEWPROJECT&quot;\\ has already been taken. |\r\n[enter image description here](https://i.stack.imgur.com/emHeH.png)\r\n\r\ni expect that it should take the strings also ","title":"scenario outilne not taking strings in examples","body":"<p>in cucumber scenarios outline if you use string in examples it gives error No compatible step definition with | &quot;AUTOMATIONPROJECT&quot; | AutoBrandSd2503 | 2020-01-01 06:20 | systemDateTime | Project Name &quot;AUTONEWPROJECT&quot;\\ has already been taken. |\n<a href=\"https://i.stack.imgur.com/emHeH.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i expect that it should take the strings also</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","cascading-deletes"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1684500924,"post_id":76289210,"comment_id":134530389,"body_markdown":"Create an OrderProduct table to keep the Products of an order.  As you&#39;ve noted, an order has to maintain all of its details at the time the order was placed or fulfilled.","body":"Create an OrderProduct table to keep the Products of an order.  As you&#39;ve noted, an order has to maintain all of its details at the time the order was placed or fulfilled."}],"owner":{"account_id":17271785,"reputation":17,"user_id":12507345,"display_name":"Sergiu Stefan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684500358,"creation_date":1684500358,"question_id":76289210,"body_markdown":"In a java spring boot application i have Product, OrderDetail and Order entities, so i have a many to many between Product and Order through OrderDetail. How can i delete products and still keep the OrderDetail intact? i was thinking about implementing a soft delete but i think that i should modify the deletion methods on the whole project( and i have many entities related to the Product entity), so i would like to keep the phisical deletion. If this is not really ok, then i would like to hear any suggestions. \r\n\r\nThese are the entities \r\n```\r\n@Table\r\n@Builder\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Product{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n &lt;&lt;Other relationships&gt;&gt;&gt;\r\n```\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\npublic class OrderDetail {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private Orders order;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n&lt;&lt;Other fields&gt;&gt;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Data\r\npublic class Orders{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private UserInfo user;\r\n\r\n   @OneToMany(mappedBy = &quot;order&quot;,cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private List&lt;OrderDetail&gt; orderDetails = new ArrayList&lt;&gt;();\r\n\r\n&lt;&lt;other fields&gt;&gt;\r\n}\r\n```\r\n\r\n","title":"Deleting product entity and keeping orders intact in java spring boot application","body":"<p>In a java spring boot application i have Product, OrderDetail and Order entities, so i have a many to many between Product and Order through OrderDetail. How can i delete products and still keep the OrderDetail intact? i was thinking about implementing a soft delete but i think that i should modify the deletion methods on the whole project( and i have many entities related to the Product entity), so i would like to keep the phisical deletion. If this is not really ok, then i would like to hear any suggestions.</p>\n<p>These are the entities</p>\n<pre><code>@Table\n@Builder\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Product{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n &lt;&lt;Other relationships&gt;&gt;&gt;\n</code></pre>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\npublic class OrderDetail {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;order_id&quot;)\n    private Orders order;\n    @ManyToOne\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n&lt;&lt;Other fields&gt;&gt;\n}\n</code></pre>\n<pre><code>@Entity\n@Data\npublic class Orders{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private UserInfo user;\n\n   @OneToMany(mappedBy = &quot;order&quot;,cascade = CascadeType.ALL,orphanRemoval = true)\n    private List&lt;OrderDetail&gt; orderDetails = new ArrayList&lt;&gt;();\n\n&lt;&lt;other fields&gt;&gt;\n}\n</code></pre>\n"},{"tags":["ant","java","jar","package"],"answers":[{"tags":[],"owner":{"account_id":110088,"reputation":72,"user_id":291475,"display_name":"navr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684499971,"creation_date":1269580316,"answer_id":2521253,"question_id":2521231,"body_markdown":"I am not sure if there a direct solution for your requirement. I would recommend to explode the jar to some temp directory and then remove unwanted class files. Finally create a new jar with required class files.\r\n\r\nApache Ant manual references:\r\n\r\n* [Delete Task](http://ant.apache.org/manual/Tasks/delete.html)\r\n* [Jar Task](http://ant.apache.org/manual/Tasks/jar.html)\r\n* [Unzip Task](http://ant.apache.org/manual/Tasks/unzip.html)\r\n\r\n\r\n","title":"ant task to remove files from a jar","body":"<p>I am not sure if there a direct solution for your requirement. I would recommend to explode the jar to some temp directory and then remove unwanted class files. Finally create a new jar with required class files.</p>\n<p>Apache Ant manual references:</p>\n<ul>\n<li><a href=\"http://ant.apache.org/manual/Tasks/delete.html\" rel=\"nofollow noreferrer\">Delete Task</a></li>\n<li><a href=\"http://ant.apache.org/manual/Tasks/jar.html\" rel=\"nofollow noreferrer\">Jar Task</a></li>\n<li><a href=\"http://ant.apache.org/manual/Tasks/unzip.html\" rel=\"nofollow noreferrer\">Unzip Task</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":106964,"reputation":7071,"user_id":284649,"accept_rate":75,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1269580413,"creation_date":1269580413,"answer_id":2521265,"question_id":2521231,"body_markdown":"You have to unjar and rejar.\r\n\r\n    &lt;unzip src=&quot;myjar.jar&quot; dest=&quot;/classes/&quot;&gt;\r\n    &lt;jar destfile=&quot;newjar.jar&quot;\r\n        basedir=&quot;/classes/&quot;\r\n        includes=&quot;**/*&quot;\r\n        excludes=&quot;**/def/*&quot;\r\n    /&gt;    ","title":"ant task to remove files from a jar","body":"<p>You have to unjar and rejar.</p>\n\n<pre><code>&lt;unzip src=\"myjar.jar\" dest=\"/classes/\"&gt;\n&lt;jar destfile=\"newjar.jar\"\n    basedir=\"/classes/\"\n    includes=\"**/*\"\n    excludes=\"**/def/*\"\n/&gt;    \n</code></pre>\n"},{"comments":[{"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"score":0,"creation_date":1269599982,"post_id":2521269,"comment_id":2519925,"body_markdown":"@mipadi Thanks for your answer! I was hoping that there was a method without an intermediate stage - that is directly removing files/ folders from the Jar. Failing which I guess this is the closest I&#39;ll get to it!","body":"@mipadi Thanks for your answer! I was hoping that there was a method without an intermediate stage - that is directly removing files/ folders from the Jar. Failing which I guess this is the closest I&#39;ll get to it!"},{"owner":{"account_id":461656,"reputation":564,"user_id":863506,"accept_rate":80,"display_name":"Craig"},"score":0,"creation_date":1376408297,"post_id":2521269,"comment_id":26696387,"body_markdown":"Just a FYI, probably most know this, but I didn&#39;t think of it :-).  The &quot;jar&quot; task will modify the MANIFEST.MF of the JAR, which in my case caused problems.  I just added the &quot;manifest&quot; attribute to the jar task and pointed it at the manifest I wanted it to use.  Great answer though, definitely helped me out, thanks!","body":"Just a FYI, probably most know this, but I didn&#39;t think of it :-).  The &quot;jar&quot; task will modify the MANIFEST.MF of the JAR, which in my case caused problems.  I just added the &quot;manifest&quot; attribute to the jar task and pointed it at the manifest I wanted it to use.  Great answer though, definitely helped me out, thanks!"},{"owner":{"account_id":124543,"reputation":4917,"user_id":319698,"accept_rate":80,"display_name":"npostavs"},"score":2,"creation_date":1440696374,"post_id":2521269,"comment_id":52391659,"body_markdown":"Could also use `zip` instead of `jar` to avoid changing MANIFEST.MF","body":"Could also use <code>zip</code> instead of <code>jar</code> to avoid changing MANIFEST.MF"}],"tags":[],"owner":{"account_id":14130,"reputation":401475,"user_id":28804,"accept_rate":74,"display_name":"mipadi"},"comment_count":3,"down_vote_count":1,"up_vote_count":63,"is_accepted":true,"score":62,"last_activity_date":1684500077,"creation_date":1269580523,"answer_id":2521269,"question_id":2521231,"body_markdown":"Have you tried using the `zipfileset` task?\r\n\r\n```xml\r\n&lt;jar destfile=&quot;stripped.jar&quot;&gt;\r\n  &lt;zipfileset src=&quot;full.jar&quot; excludes=&quot;files/to/exclude/**/*.file&quot; /&gt;\r\n&lt;/jar&gt;\r\n```\r\n\r\n### Example\r\n\r\n```xml\r\n&lt;property name=&quot;library.dir&quot; value=&quot;dist&quot; /&gt;\r\n&lt;property name=&quot;library.file&quot; value=&quot;YourJavaArchive.jar&quot; /&gt;\r\n&lt;property name=&quot;library.path&quot; value=&quot;${library.dir}/${library.file}&quot; /&gt;\r\n&lt;property name=&quot;library.path.new&quot; value=&quot;${library.dir}/new-${library.file}&quot; /&gt;\r\n\r\n&lt;target name=&quot;purge-superfluous&quot;&gt;\r\n  &lt;echo&gt;Removing superfluous files from Java archive.&lt;/echo&gt;\r\n\r\n  &lt;jar destfile=&quot;${library.path.new}&quot;&gt;\r\n    &lt;zipfileset src=&quot;${library.path}&quot; excludes=&quot;**/ComicSans.ttf&quot; /&gt;\r\n  &lt;/jar&gt;\r\n\r\n  &lt;delete file=&quot;${library.path}&quot; /&gt;\r\n  &lt;move file=&quot;${library.path.new}&quot; tofile=&quot;${library.path}&quot; /&gt;\r\n&lt;/target&gt;\r\n```","title":"ant task to remove files from a jar","body":"<p>Have you tried using the <code>zipfileset</code> task?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jar destfile=&quot;stripped.jar&quot;&gt;\n  &lt;zipfileset src=&quot;full.jar&quot; excludes=&quot;files/to/exclude/**/*.file&quot; /&gt;\n&lt;/jar&gt;\n</code></pre>\n<h3>Example</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;library.dir&quot; value=&quot;dist&quot; /&gt;\n&lt;property name=&quot;library.file&quot; value=&quot;YourJavaArchive.jar&quot; /&gt;\n&lt;property name=&quot;library.path&quot; value=&quot;${library.dir}/${library.file}&quot; /&gt;\n&lt;property name=&quot;library.path.new&quot; value=&quot;${library.dir}/new-${library.file}&quot; /&gt;\n\n&lt;target name=&quot;purge-superfluous&quot;&gt;\n  &lt;echo&gt;Removing superfluous files from Java archive.&lt;/echo&gt;\n\n  &lt;jar destfile=&quot;${library.path.new}&quot;&gt;\n    &lt;zipfileset src=&quot;${library.path}&quot; excludes=&quot;**/ComicSans.ttf&quot; /&gt;\n  &lt;/jar&gt;\n\n  &lt;delete file=&quot;${library.path}&quot; /&gt;\n  &lt;move file=&quot;${library.path.new}&quot; tofile=&quot;${library.path}&quot; /&gt;\n&lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":721429,"reputation":2415,"user_id":1477200,"display_name":"Michael Besteck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684499784,"creation_date":1299887718,"answer_id":5279676,"question_id":2521231,"body_markdown":"If a jar-file capable archiver program, like e.g. &quot;zip&quot; on Linux, is available, the task can be done by\r\n\r\n```xml\r\n&lt;exec executable=&quot;zip&quot;&gt;\r\n  &lt;arg value=&quot;-d&quot; /&gt;\r\n  &lt;arg value=&quot;myJarCopyToStrip.jar&quot; /&gt;\r\n  &lt;arg value=&quot;aaa/bbb/def/*&quot; /&gt;\r\n  &lt;arg value=&quot;aaa/bbb/def&quot; /&gt;\r\n&lt;/exec&gt;\r\n```\r\n\r\nSubtree deletion depends on the capabilities of the used archiver.&lt;br&gt;\r\nThe &quot;os&quot; attribute of the Ant &quot;exec&quot; task allows to use different archivers on different OS&#39;s.","title":"ant task to remove files from a jar","body":"<p>If a jar-file capable archiver program, like e.g. &quot;zip&quot; on Linux, is available, the task can be done by</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;exec executable=&quot;zip&quot;&gt;\n  &lt;arg value=&quot;-d&quot; /&gt;\n  &lt;arg value=&quot;myJarCopyToStrip.jar&quot; /&gt;\n  &lt;arg value=&quot;aaa/bbb/def/*&quot; /&gt;\n  &lt;arg value=&quot;aaa/bbb/def&quot; /&gt;\n&lt;/exec&gt;\n</code></pre>\n<p>Subtree deletion depends on the capabilities of the used archiver.<br>\nThe &quot;os&quot; attribute of the Ant &quot;exec&quot; task allows to use different archivers on different OS's.</p>\n"},{"tags":[],"owner":{"account_id":3240099,"reputation":641,"user_id":2733353,"display_name":"Jeremy Bunn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684499843,"creation_date":1461596591,"answer_id":36844313,"question_id":2521231,"body_markdown":"I came here looking to use ant as a workaround some short comings in Gradle unzip.\r\n\r\nOn the off chance someone else is in the same boat.\r\n\r\nHere is an example:\r\n\r\n```groovy\r\ntask antUnzip() &lt;&lt; {\r\n  ant.jar(destfile: &quot;stripped.jar&quot;) {\r\n    zipfileset(src: &quot;full.jar&quot;, excludes: &quot;files/to/exclude/**/*.file&quot;) {}\r\n  }\r\n}\r\n```","title":"ant task to remove files from a jar","body":"<p>I came here looking to use ant as a workaround some short comings in Gradle unzip.</p>\n<p>On the off chance someone else is in the same boat.</p>\n<p>Here is an example:</p>\n<pre><code>task antUnzip() &lt;&lt; {\n  ant.jar(destfile: &quot;stripped.jar&quot;) {\n    zipfileset(src: &quot;full.jar&quot;, excludes: &quot;files/to/exclude/**/*.file&quot;) {}\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7929713,"reputation":713,"user_id":5988023,"display_name":"Marc Magon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684500012,"creation_date":1571694079,"answer_id":58494486,"question_id":2521231,"body_markdown":"The answers didn&#39;t quite add up for me - \r\n\r\n```xml\r\n&lt;zip destfile=&quot;tmp.jar&quot;&gt;\r\n  &lt;zipfileset src=&quot;src.jar&quot;&gt;\r\n    &lt;exclude name=&quot;**/*.class&quot; /&gt;\r\n  &lt;/zipfileset&gt;\r\n&lt;/zip&gt;\r\n&lt;move file=&quot;tmp.jar&quot; tofile=&quot;src.jar&quot; /&gt;\r\n```\r\n\r\nThis uses a single pass and doesn&#39;t add too much time to the build\r\n\r\nSource: http://ant.1045680.n5.nabble.com/Remove-entru-from-ZIP-file-using-ANT-td1353728.html","title":"ant task to remove files from a jar","body":"<p>The answers didn't quite add up for me -</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;zip destfile=&quot;tmp.jar&quot;&gt;\n  &lt;zipfileset src=&quot;src.jar&quot;&gt;\n    &lt;exclude name=&quot;**/*.class&quot; /&gt;\n  &lt;/zipfileset&gt;\n&lt;/zip&gt;\n&lt;move file=&quot;tmp.jar&quot; tofile=&quot;src.jar&quot; /&gt;\n</code></pre>\n<p>This uses a single pass and doesn't add too much time to the build</p>\n<p>Source: <a href=\"http://ant.1045680.n5.nabble.com/Remove-entru-from-ZIP-file-using-ANT-td1353728.html\" rel=\"nofollow noreferrer\">http://ant.1045680.n5.nabble.com/Remove-entru-from-ZIP-file-using-ANT-td1353728.html</a></p>\n"}],"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27611,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":2521269,"answer_count":6,"score":33,"last_activity_date":1684500077,"creation_date":1269579747,"question_id":2521231,"body_markdown":"How to write an ant task that removes files from a previously compiled JAR?\r\n\r\nLet&#39;s say the files in my JAR are:\r\n\r\n    aaa/bbb/ccc/Class1\r\n    aaa/bbb/ccc/Class2\r\n    aaa/bbb/def/Class3\r\n    aaa/bbb/def/Class4\r\n\r\n... and I want a version of this JAR file without the `aaa.bbb.def` package, and I need to strip it out using ant, such that I end up with a JAR that contains:\r\n\r\n    aaa/bbb/ccc/Class1\r\n    aaa/bbb/ccc/Class2\r\n\r\nThanks!\r\n\r\n","title":"ant task to remove files from a jar","body":"<p>How to write an ant task that removes files from a previously compiled JAR?</p>\n\n<p>Let's say the files in my JAR are:</p>\n\n<pre><code>aaa/bbb/ccc/Class1\naaa/bbb/ccc/Class2\naaa/bbb/def/Class3\naaa/bbb/def/Class4\n</code></pre>\n\n<p>... and I want a version of this JAR file without the <code>aaa.bbb.def</code> package, and I need to strip it out using ant, such that I end up with a JAR that contains:</p>\n\n<pre><code>aaa/bbb/ccc/Class1\naaa/bbb/ccc/Class2\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684499367,"post_id":76289045,"comment_id":134530059,"body_markdown":"You need to `import entity.Player;` into `GamePanel`","body":"You need to <code>import entity.Player;</code> into <code>GamePanel</code>"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1684500334,"post_id":76289045,"comment_id":134530266,"body_markdown":"Your issue is a typo. You forgot to pass the first argument (`this` via `GamePanel`) into the `Person` class that expects it as the first argument.","body":"Your issue is a typo. You forgot to pass the first argument (<code>this</code> via <code>GamePanel</code>) into the <code>Person</code> class that expects it as the first argument."},{"owner":{"account_id":28634838,"reputation":3,"user_id":21925153,"display_name":"Arian"},"score":0,"creation_date":1684516692,"post_id":76289045,"comment_id":134533815,"body_markdown":"If i knew how to recreate the code i would not be here. Thank you for your time anyway, and thank you to those who actually gave me answers.","body":"If i knew how to recreate the code i would not be here. Thank you for your time anyway, and thank you to those who actually gave me answers."}],"answers":[{"tags":[],"owner":{"account_id":28464357,"reputation":36,"user_id":21780649,"display_name":"Anirudh Nanwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684499485,"creation_date":1684499485,"answer_id":76289093,"question_id":76289045,"body_markdown":"The issue in the &quot;This is manually imported&quot; solution is that the constructor for Player.java requires GamePanel and KeyHandler as the argument but you are passing only KeyHandler object in the solution. I will suggest you to add &quot;,&quot; between this and keyH so the code looks like:\r\n\r\n    Player player = new Player(this, keyH);\r\n","title":"Can&#39;t import class to another class, won&#39;t even know it exists","body":"<p>The issue in the &quot;This is manually imported&quot; solution is that the constructor for Player.java requires GamePanel and KeyHandler as the argument but you are passing only KeyHandler object in the solution. I will suggest you to add &quot;,&quot; between this and keyH so the code looks like:</p>\n<pre><code>Player player = new Player(this, keyH);\n</code></pre>\n"}],"owner":{"account_id":28634838,"reputation":3,"user_id":21925153,"display_name":"Arian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1684500262,"accepted_answer_id":76289093,"answer_count":1,"score":-1,"last_activity_date":1684499908,"creation_date":1684499045,"question_id":76289045,"body_markdown":"I was watching [this tutorial](https://youtu.be/wT9uNGzMEM4?t=150) and that import suggestion doesn&#39;t show up and when i add it manually it says &quot;***The constructor Player(KeyHandler) is undefined***&quot; but for him it works normally, so im guessing something is wrong on my end.\r\n\r\n[This is how my problem looks like](https://i.stack.imgur.com/aEClf.png) and [this is the other class](https://i.stack.imgur.com/vPB7U.png) and [this is manually imported](https://i.stack.imgur.com/lSy6G.png).\r\n\r\nKeep in mind i am new to programing, sorry if i posed the question wrong.","title":"Can&#39;t import class to another class, won&#39;t even know it exists","body":"<p>I was watching <a href=\"https://youtu.be/wT9uNGzMEM4?t=150\" rel=\"nofollow noreferrer\">this tutorial</a> and that import suggestion doesn't show up and when i add it manually it says &quot;<em><strong>The constructor Player(KeyHandler) is undefined</strong></em>&quot; but for him it works normally, so im guessing something is wrong on my end.</p>\n<p><a href=\"https://i.stack.imgur.com/aEClf.png\" rel=\"nofollow noreferrer\">This is how my problem looks like</a> and <a href=\"https://i.stack.imgur.com/vPB7U.png\" rel=\"nofollow noreferrer\">this is the other class</a> and <a href=\"https://i.stack.imgur.com/lSy6G.png\" rel=\"nofollow noreferrer\">this is manually imported</a>.</p>\n<p>Keep in mind i am new to programing, sorry if i posed the question wrong.</p>\n"},{"tags":["java","eclipse","maven","tomcat"],"answers":[{"tags":[],"owner":{"account_id":7596536,"reputation":11,"user_id":5762565,"display_name":"Sam B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684499829,"creation_date":1684499829,"answer_id":76289137,"question_id":76288214,"body_markdown":"I managed to resolve this, having spent a solid day on it! Eventually I cloned the repository then remove all eclipse files from it (.project, .classpath, .metadata and .settings) and started again.","title":"Eclipse server not publishing subprojects jar files","body":"<p>I managed to resolve this, having spent a solid day on it! Eventually I cloned the repository then remove all eclipse files from it (.project, .classpath, .metadata and .settings) and started again.</p>\n"}],"owner":{"account_id":7596536,"reputation":11,"user_id":5762565,"display_name":"Sam B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684499829,"creation_date":1684492343,"question_id":76288214,"body_markdown":"I am trying to publish a web app in Eclipse using Tomcat, this was previously working before swapping to and from an older version of my codebase.\r\n\r\nI am receiving an error when attempting to run the Tomcat server through Eclipse, it says it cannot find a file in the classpath for a referenced project within the workspace. When checking against another project I can see that in the lib folder for the project in ...metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\ that the reference project is stored as a folder with .java files. On a PC where this is still working the projects are included as .jar files.\r\n\r\nI&#39;ve tried with a fresh install of Eclipse and pulled the same projects in but with the same issue.\r\n\r\nAny guidance would be appreciated on how to resolve this!","title":"Eclipse server not publishing subprojects jar files","body":"<p>I am trying to publish a web app in Eclipse using Tomcat, this was previously working before swapping to and from an older version of my codebase.</p>\n<p>I am receiving an error when attempting to run the Tomcat server through Eclipse, it says it cannot find a file in the classpath for a referenced project within the workspace. When checking against another project I can see that in the lib folder for the project in ...metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\ that the reference project is stored as a folder with .java files. On a PC where this is still working the projects are included as .jar files.</p>\n<p>I've tried with a fresh install of Eclipse and pulled the same projects in but with the same issue.</p>\n<p>Any guidance would be appreciated on how to resolve this!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1683469938,"post_id":76193022,"comment_id":134368530,"body_markdown":"How did you understand that the feature does not work? And what exactly is not working `classifyText` method?","body":"How did you understand that the feature does not work? And what exactly is not working <code>classifyText</code> method?"},{"owner":{"account_id":28534774,"reputation":1,"user_id":21841652,"display_name":"Bekn"},"score":0,"creation_date":1683532451,"post_id":76193022,"comment_id":134375510,"body_markdown":"Exactly `generateLinks()` method isn&#39;t working. On android 12 and below this method generates links(in my case addresses), but when I updated my devices to android 13 it just stopped working","body":"Exactly <code>generateLinks()</code> method isn&#39;t working. On android 12 and below this method generates links(in my case addresses), but when I updated my devices to android 13 it just stopped working"}],"answers":[{"comments":[{"owner":{"account_id":28534774,"reputation":1,"user_id":21841652,"display_name":"Bekn"},"score":0,"creation_date":1683532585,"post_id":76194348,"comment_id":134375541,"body_markdown":"Yes my sdk version was 33. Unfortunately changing these properties didn&#39;t help(","body":"Yes my sdk version was 33. Unfortunately changing these properties didn&#39;t help("}],"tags":[],"owner":{"account_id":25693839,"reputation":34,"user_id":19454844,"display_name":"Sachithra Prasad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683467691,"creation_date":1683467691,"answer_id":76194348,"question_id":76193022,"body_markdown":"Have you verified the version of your SDK? Is it SDK 33? Please change it to SDK 32 and give it a try. It should function properly.\r\n\r\nAndroid studio&gt;&gt;buildgradle\r\n\r\n    android {\r\n        **compileSdk 32** // Here\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.myapplication&quot;\r\n            minSdk 21\r\n            **targetSdk 32** // And Here\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n\r\n\r\nAnd also try the below code.\r\n\r\n   \r\n\r\n     **dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:7.0.2&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.15&#39;**\r\n\r\n","title":"android.view.textclassifier doesn&#39;t work on android 13","body":"<p>Have you verified the version of your SDK? Is it SDK 33? Please change it to SDK 32 and give it a try. It should function properly.</p>\n<p>Android studio&gt;&gt;buildgradle</p>\n<pre><code>android {\n    **compileSdk 32** // Here\n\n    defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdk 21\n        **targetSdk 32** // And Here\n        versionCode 1\n        versionName &quot;1.0&quot;\n</code></pre>\n<p>And also try the below code.</p>\n<pre><code> **dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.2&quot;\n        classpath 'com.google.gms:google-services:4.3.15'**\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28534774,"reputation":1,"user_id":21841652,"display_name":"Bekn"},"score":0,"creation_date":1683639344,"post_id":76203716,"comment_id":134395033,"body_markdown":"Yes. But no luck, it can detect phone numbers, urls, but can&#39;t detect map addresses anymore on android 13","body":"Yes. But no luck, it can detect phone numbers, urls, but can&#39;t detect map addresses anymore on android 13"}],"tags":[],"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683573336,"creation_date":1683573336,"answer_id":76203716,"question_id":76193022,"body_markdown":"From what I can read in the documentation of [TextClassifier#generateLinks](https://developer.android.com/reference/android/view/textclassifier/TextClassifier#generateLinks(android.view.textclassifier.TextLinks.Request)) you should call it from a worker thread.\r\n\r\n&gt; NOTE: Call on a worker thread.\r\n\r\nDo you call it from the worker thread?","title":"android.view.textclassifier doesn&#39;t work on android 13","body":"<p>From what I can read in the documentation of <a href=\"https://developer.android.com/reference/android/view/textclassifier/TextClassifier#generateLinks(android.view.textclassifier.TextLinks.Request)\" rel=\"nofollow noreferrer\">TextClassifier#generateLinks</a> you should call it from a worker thread.</p>\n<blockquote>\n<p>NOTE: Call on a worker thread.</p>\n</blockquote>\n<p>Do you call it from the worker thread?</p>\n"}],"owner":{"account_id":28534774,"reputation":1,"user_id":21841652,"display_name":"Bekn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684499739,"creation_date":1683450638,"question_id":76193022,"body_markdown":"Any idea on this issue?\r\nTextClassifier api used to work before I updated to android 13. Tested on other android 13 devices - same issue.\r\n\r\nThis code example bellow was working before update to &quot;13&quot;, tried all the other implementations but no luck(( \r\n\r\n    TextClassificationManager manager = (TextClassificationManager) getSystemService(TEXT_CLASSIFICATION_SERVICE);\r\n            TextClassifier classifier = manager.getTextClassifier();\r\n    \r\n            TextLinks.Request textRequest = new TextLinks.Request.Builder(text)\r\n                    .setEntityConfig(TextClassifier.EntityConfig.createWithExplicitEntityList(Arrays.asList(TextClassifier.TYPE_ADDRESS)))\r\n                    .build();\r\n            TextLinks links = classifier.generateLinks(textRequest);\r\n    classifier.classifyText(text, 0, text.length(), new LocaleList(Locale.US))\r\n\r\nUPDATE: Only address detection stopped working. All other textTypes can be detected, such as phone numbers and urls. ","title":"android.view.textclassifier doesn&#39;t work on android 13","body":"<p>Any idea on this issue?\nTextClassifier api used to work before I updated to android 13. Tested on other android 13 devices - same issue.</p>\n<p>This code example bellow was working before update to &quot;13&quot;, tried all the other implementations but no luck((</p>\n<pre><code>TextClassificationManager manager = (TextClassificationManager) getSystemService(TEXT_CLASSIFICATION_SERVICE);\n        TextClassifier classifier = manager.getTextClassifier();\n\n        TextLinks.Request textRequest = new TextLinks.Request.Builder(text)\n                .setEntityConfig(TextClassifier.EntityConfig.createWithExplicitEntityList(Arrays.asList(TextClassifier.TYPE_ADDRESS)))\n                .build();\n        TextLinks links = classifier.generateLinks(textRequest);\nclassifier.classifyText(text, 0, text.length(), new LocaleList(Locale.US))\n</code></pre>\n<p>UPDATE: Only address detection stopped working. All other textTypes can be detected, such as phone numbers and urls.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1684498905,"post_id":76289005,"comment_id":134529944,"body_markdown":"What is the *first* line that doesn&#39;t do what you expected for the case where the output is wrong?","body":"What is the <i>first</i> line that doesn&#39;t do what you expected for the case where the output is wrong?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684499045,"post_id":76289005,"comment_id":134529980,"body_markdown":"How can the answer be supposed to be 9843? You can&#39;t get from 1239438 to 9843 by deleting digits.","body":"How can the answer be supposed to be 9843? You can&#39;t get from 1239438 to 9843 by deleting digits."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1684499167,"post_id":76289005,"comment_id":134530012,"body_markdown":"I don&#39;t understand (from the example in your question) why the output should be 9843 (and not 9438). Can you [edit] your question and explain why?","body":"I don&#39;t understand (from the example in your question) why the output should be 9843 (and not 9438). Can you <a href=\"https://stackoverflow.com/posts/76289005/edit\">edit</a> your question and explain why?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1684512446,"post_id":76289005,"comment_id":134532975,"body_markdown":"One idea is to treat the input number as a `String` of individual digits.  Sort the `String` in descending digit order and remove the last K digits from the `String`.  By the way, you don&#39;t have to ask for N, because N = the length of num.","body":"One idea is to treat the input number as a <code>String</code> of individual digits.  Sort the <code>String</code> in descending digit order and remove the last K digits from the <code>String</code>.  By the way, you don&#39;t have to ask for N, because N = the length of num."},{"owner":{"account_id":1212711,"reputation":2020,"user_id":1180963,"accept_rate":75,"display_name":"eduyayo"},"score":0,"creation_date":1684535704,"post_id":76289005,"comment_id":134536706,"body_markdown":"to have a bigger number you have to remove the lower digits and then sort the remaining descending. So, make a TreeSet of integers, remove the first until count is done and then add the remaining to a list, reverse the list and print.","body":"to have a bigger number you have to remove the lower digits and then sort the remaining descending. So, make a TreeSet of integers, remove the first until count is done and then add the remaining to a list, reverse the list and print."},{"owner":{"account_id":1212711,"reputation":2020,"user_id":1180963,"accept_rate":75,"display_name":"eduyayo"},"score":0,"creation_date":1684535716,"post_id":76289005,"comment_id":134536708,"body_markdown":"BTW you should do your own homework","body":"BTW you should do your own homework"}],"owner":{"account_id":28635423,"reputation":1,"user_id":21925653,"display_name":"Hesam Yaghoubi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684499504,"creation_date":1684498796,"question_id":76289005,"body_markdown":"I&#39;m trying to get two `int`s, at first, from the user:\r\n- `n` being the length of the input which user will write\r\n- `k` being the amount of digits to be deleted.\r\n\r\nThe output should be in a way that after deleting `k` amount of digits it should be the maximum amount possible.\r\n\r\nConstraints:\r\n```none\r\n0 &lt; k &lt; n &lt;= 2000\r\n```\r\nFor the most part it works but for example with these inputs it gives out a wrong output\r\n```none\r\nn = 7\r\nk = 3\r\nnum = 1239438\r\n```\r\nthe output of this is 9438 while it should be 9843\r\n\r\nThis is the code:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        int k = sc.nextInt();\r\n        String num = sc.next();\r\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n        if (num.length() &lt; n || num.length() &gt; n || 2000 &lt; n || n &lt; k || k == 0)\r\n            System.out.println(&quot;Error!!!&quot;);\r\n        else {\r\n            for (int i = 0; i &lt; n; i++) {\r\n                char c = num.charAt(i);\r\n                System.out.println(&quot;log s: &quot; + stack + &quot; k: &quot; + k);\r\n                while (!stack.isEmpty() &amp;&amp; k &gt; 0 &amp;&amp; stack.peek() &lt; c) {\r\n                    stack.pop();\r\n                    k--;\r\n                }\r\n                stack.push(c);\r\n            }\r\n            System.out.println(&quot;log w: &quot; + stack + &quot; k: &quot; + k);\r\n            while (k &gt; 0) {\r\n                stack.pop();\r\n                k--;\r\n            }\r\n            System.out.println(&quot;log f: &quot; + stack + &quot; k: &quot; + k);\r\n            StringBuilder sb = new StringBuilder();\r\n            for (int i = 0; i &lt; stack.toArray().length; i++) {\r\n                sb.append(stack.elementAt(i));\r\n            }\r\n            System.out.println(&quot;log p: &quot; + stack);\r\n            int ansNum = Integer.parseInt(sb.toString());\r\n            int revNum = Integer.parseInt(sb.reverse().toString());\r\n            System.out.println(Math.max(ansNum, revNum));\r\n        }\r\n    }\r\n}\r\n```","title":"Getting three inputs n for length of the input and k for the amount of digits to be deleted and output is the maximum amount possible, output is wrong","body":"<p>I'm trying to get two <code>int</code>s, at first, from the user:</p>\n<ul>\n<li><code>n</code> being the length of the input which user will write</li>\n<li><code>k</code> being the amount of digits to be deleted.</li>\n</ul>\n<p>The output should be in a way that after deleting <code>k</code> amount of digits it should be the maximum amount possible.</p>\n<p>Constraints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0 &lt; k &lt; n &lt;= 2000\n</code></pre>\n<p>For the most part it works but for example with these inputs it gives out a wrong output</p>\n<pre class=\"lang-none prettyprint-override\"><code>n = 7\nk = 3\nnum = 1239438\n</code></pre>\n<p>the output of this is 9438 while it should be 9843</p>\n<p>This is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int k = sc.nextInt();\n        String num = sc.next();\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n        if (num.length() &lt; n || num.length() &gt; n || 2000 &lt; n || n &lt; k || k == 0)\n            System.out.println(&quot;Error!!!&quot;);\n        else {\n            for (int i = 0; i &lt; n; i++) {\n                char c = num.charAt(i);\n                System.out.println(&quot;log s: &quot; + stack + &quot; k: &quot; + k);\n                while (!stack.isEmpty() &amp;&amp; k &gt; 0 &amp;&amp; stack.peek() &lt; c) {\n                    stack.pop();\n                    k--;\n                }\n                stack.push(c);\n            }\n            System.out.println(&quot;log w: &quot; + stack + &quot; k: &quot; + k);\n            while (k &gt; 0) {\n                stack.pop();\n                k--;\n            }\n            System.out.println(&quot;log f: &quot; + stack + &quot; k: &quot; + k);\n            StringBuilder sb = new StringBuilder();\n            for (int i = 0; i &lt; stack.toArray().length; i++) {\n                sb.append(stack.elementAt(i));\n            }\n            System.out.println(&quot;log p: &quot; + stack);\n            int ansNum = Integer.parseInt(sb.toString());\n            int revNum = Integer.parseInt(sb.reverse().toString());\n            System.out.println(Math.max(ansNum, revNum));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","elasticsearch","memory"],"owner":{"account_id":305047,"reputation":22750,"user_id":614944,"accept_rate":73,"display_name":"daisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684499356,"creation_date":1684499356,"question_id":76289080,"body_markdown":"I came from this question https://stackoverflow.com/questions/44034752/how-to-decide-the-memory-requirement-for-my-elasticsearch-server. \r\n\r\nPeople allocate memory with their own experience in this case, suppose if I allocate 64GB memory for Java heap, how do I know if it&#39;s enough or too much?","title":"How do I know if the memory allocated for elasticsearch is enough or too much?","body":"<p>I came from this question <a href=\"https://stackoverflow.com/questions/44034752/how-to-decide-the-memory-requirement-for-my-elasticsearch-server\">how to decide the memory requirement for my elasticsearch server</a>.</p>\n<p>People allocate memory with their own experience in this case, suppose if I allocate 64GB memory for Java heap, how do I know if it's enough or too much?</p>\n"},{"tags":["java","kotlin","generics","collections","covariance"],"comments":[{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":1,"creation_date":1684487856,"post_id":76287273,"comment_id":134527805,"body_markdown":"I don&#39;t think this is possible because Java lacks Immutable collections and the `Collection` you are using is Kotlin only.  Perhaps there&#39;s a java-first immutable collection you could use (Apache Commons Collections??)","body":"I don&#39;t think this is possible because Java lacks Immutable collections and the <code>Collection</code> you are using is Kotlin only.  Perhaps there&#39;s a java-first immutable collection you could use (Apache Commons Collections??)"}],"answers":[{"tags":[],"owner":{"account_id":9343259,"reputation":245,"user_id":7467292,"display_name":"James Groom"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684498877,"creation_date":1684498877,"answer_id":76289015,"question_id":76287273,"body_markdown":"[Apply `@JvmWildcard`](https://kotlinlang.org/docs/java-to-kotlin-interop.html#variant-generics) to the type parameter of `Collection`:\r\n```kt\r\ninterface KInterface {\r\n\tval items: Collection&lt;@JvmWildcard ItemInterface&gt;\r\n}\r\n```\r\nThen the implementation can return `java.util.Collection&lt;? extends ItemInterface&gt;` (or narrow to `List`, as you have):\r\n```java\r\n@Override @NotNull public Collection&lt;? extends ItemInterface&gt; getItems() {\r\n\treturn items;\r\n}\r\n```","title":"Error in implementing Kotlin interface with Java: incompatible return type","body":"<p><a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#variant-generics\" rel=\"nofollow noreferrer\">Apply <code>@JvmWildcard</code></a> to the type parameter of <code>Collection</code>:</p>\n<pre><code>interface KInterface {\n    val items: Collection&lt;@JvmWildcard ItemInterface&gt;\n}\n</code></pre>\n<p>Then the implementation can return <code>java.util.Collection&lt;? extends ItemInterface&gt;</code> (or narrow to <code>List</code>, as you have):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override @NotNull public Collection&lt;? extends ItemInterface&gt; getItems() {\n    return items;\n}\n</code></pre>\n"}],"owner":{"account_id":16762516,"reputation":23,"user_id":12116886,"display_name":"i_ponomarenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76289015,"answer_count":1,"score":2,"last_activity_date":1684498877,"creation_date":1684484456,"question_id":76287273,"body_markdown":"I try to implement a Kotlin interface in Java, so my interface looks like this:\r\n\r\n\r\n```\r\ninterface KInterface {\r\n    val items: Collection&lt;ItemInterface&gt;\r\n}\r\n\r\ninterface ItemInterface {\r\n//\r\n}\r\n```\r\n\r\nThen, in my Java code I have the following classes:\r\n```\r\nclass JavaItemImpl implemets ItemInterface {\r\n//\r\n}\r\n\r\nclass JavaImpl implements KInterface {\r\n    private List&lt;JavaItemImpl&gt; items;\r\n    \r\n    @Override\r\n    public List&lt;? extends ItemInterface&gt; getItems() {\r\n        return items;\r\n    }\r\n}\r\n```\r\nKotlin Collection is covariant `public interface Collection&lt;out E&gt; : Iterable&lt;E&gt;`, so I assume that `List&lt;? extends ItemInterface&gt;` would work when implementing a Kotlin interface.\r\nHowever, this code gives me an error: `&#39;getItems()&#39; in &#39;JavaImpl&#39; clashes with &#39;getItems()&#39; in &#39;KInterface&#39;; attempting to use incompatible return type`.\r\n\r\n\r\nOne workaround is to make `items` in `KInterface` mutable collection and add a type projection, like this: \r\n```\r\n    val items: MutableCollection&lt;out ItemInterface&gt;\r\n\r\n```\r\nBut I&#39;d like to know, is there any other way to implement such Kotlin interface, without making Kotlin collection mutable?\r\n","title":"Error in implementing Kotlin interface with Java: incompatible return type","body":"<p>I try to implement a Kotlin interface in Java, so my interface looks like this:</p>\n<pre><code>interface KInterface {\n    val items: Collection&lt;ItemInterface&gt;\n}\n\ninterface ItemInterface {\n//\n}\n</code></pre>\n<p>Then, in my Java code I have the following classes:</p>\n<pre><code>class JavaItemImpl implemets ItemInterface {\n//\n}\n\nclass JavaImpl implements KInterface {\n    private List&lt;JavaItemImpl&gt; items;\n    \n    @Override\n    public List&lt;? extends ItemInterface&gt; getItems() {\n        return items;\n    }\n}\n</code></pre>\n<p>Kotlin Collection is covariant <code>public interface Collection&lt;out E&gt; : Iterable&lt;E&gt;</code>, so I assume that <code>List&lt;? extends ItemInterface&gt;</code> would work when implementing a Kotlin interface.\nHowever, this code gives me an error: <code>'getItems()' in 'JavaImpl' clashes with 'getItems()' in 'KInterface'; attempting to use incompatible return type</code>.</p>\n<p>One workaround is to make <code>items</code> in <code>KInterface</code> mutable collection and add a type projection, like this:</p>\n<pre><code>    val items: MutableCollection&lt;out ItemInterface&gt;\n\n</code></pre>\n<p>But I'd like to know, is there any other way to implement such Kotlin interface, without making Kotlin collection mutable?</p>\n"},{"tags":["java","spring-boot","post","keycloak"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1684499552,"post_id":76288989,"comment_id":134530105,"body_markdown":"Check if you are sending `CSRF` token in the `POST` request or not.","body":"Check if you are sending <code>CSRF</code> token in the <code>POST</code> request or not."}],"owner":{"account_id":14168968,"reputation":303,"user_id":10236130,"display_name":"Matthew Pans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684498638,"creation_date":1684498638,"question_id":76288989,"body_markdown":"For the below controller, my &quot;GET&quot; method is working, but my post method is not working. The error is &quot;POST&quot; method is not supported. Getting 403 Forbidden error.\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @RequestMapping(value=&quot;/comments/submit&quot;, method=RequestMethod.POST)\r\n    public String addComment(@ModelAttribute(&quot;comment&quot;) String comment, @ModelAttribute(&quot;blogId&quot;) int blogId, Model model, HttpServletRequest request, HttpServletResponse response)\r\n    {\r\n    \ttry\r\n    \t{\r\n    \t\tSite site = new Site();\r\n    \t\tString returnString = responseMsg.getEntity(String.class);\r\n    \t\treturn &quot;ajax.html.success&quot;;\r\n    \t}\r\n    \tcatch (Exception e)\r\n    \t{\r\n    \t\tlogger.error(&quot;Exception in CommentsController.addComment()&quot;, e);\r\n    \t}\r\n    \treturn &quot;ajax.error&quot;;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to fix the post method not working issue in Springboot?","body":"<p>For the below controller, my &quot;GET&quot; method is working, but my post method is not working. The error is &quot;POST&quot; method is not supported. Getting 403 Forbidden error.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@RequestMapping(value=\"/comments/submit\", method=RequestMethod.POST)\npublic String addComment(@ModelAttribute(\"comment\") String comment, @ModelAttribute(\"blogId\") int blogId, Model model, HttpServletRequest request, HttpServletResponse response)\n{\n    try\n    {\n        Site site = new Site();\n        String returnString = responseMsg.getEntity(String.class);\n        return \"ajax.html.success\";\n    }\n    catch (Exception e)\n    {\n        logger.error(\"Exception in CommentsController.addComment()\", e);\n    }\n    return \"ajax.error\";\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","windows","apache-kafka","ssl-certificate","certificate-store"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684498319,"post_id":76287071,"comment_id":134529808,"body_markdown":"Kafka supports PEM files as well, but no, there&#39;s no in-memory option that I&#39;ve seen without using `System.setProperty` to set the cert to a file on disk... So, maybe try reading the Windows-MY cert, and writing to temp directory?","body":"Kafka supports PEM files as well, but no, there&#39;s no in-memory option that I&#39;ve seen without using <code>System.setProperty</code> to set the cert to a file on disk... So, maybe try reading the Windows-MY cert, and writing to temp directory?"}],"owner":{"account_id":19287995,"reputation":41,"user_id":14098627,"display_name":"CtrlC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684498543,"creation_date":1684482702,"question_id":76287071,"body_markdown":"To the best of my understanding the java client for kafka allows only to submit paths to certificates for client-broker encryption and exclusively .jks files - as shown here [1].\r\n\r\nHowever, I have the requirement to use certificates from Windows-MY. \r\nOne obvious workaround would be to read the Windows-MY certificates via custom java code and save the resulting certificates as .jks files at a place like the Java Certificate Store and, then, submit the corresponding path to a kafka producer/consumer.\r\n\r\nMy question would be: Is there a more sophisticated solution to this problem? Am I missing somthing? For example, has the Java Client some functionality to submit certificates in-memory - similar to its c/c++ counterpart [2]?\r\n\r\n\r\n[1]: https://www.instaclustr.com/support/documentation/kafka/accessing-and-using-kafka/use-kafka-with-java/?_ga=2.267559181.20698764.1617064135-822200387.1606692934\r\n[2]: https://github.com/confluentinc/librdkafka/discussions/3819","title":"Is there a way to use the Windows Certificate Store for Kafka Producer/Consumer encryption (Java Client)?","body":"<p>To the best of my understanding the java client for kafka allows only to submit paths to certificates for client-broker encryption and exclusively .jks files - as shown here <a href=\"https://www.instaclustr.com/support/documentation/kafka/accessing-and-using-kafka/use-kafka-with-java/?_ga=2.267559181.20698764.1617064135-822200387.1606692934\" rel=\"nofollow noreferrer\">1</a>.</p>\n<p>However, I have the requirement to use certificates from Windows-MY.\nOne obvious workaround would be to read the Windows-MY certificates via custom java code and save the resulting certificates as .jks files at a place like the Java Certificate Store and, then, submit the corresponding path to a kafka producer/consumer.</p>\n<p>My question would be: Is there a more sophisticated solution to this problem? Am I missing somthing? For example, has the Java Client some functionality to submit certificates in-memory - similar to its c/c++ counterpart <a href=\"https://github.com/confluentinc/librdkafka/discussions/3819\" rel=\"nofollow noreferrer\">2</a>?</p>\n"},{"tags":["java","spring-boot","kubernetes","tomcat","latency"],"owner":{"account_id":10023023,"reputation":1,"user_id":21925273,"display_name":"tantosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684498538,"creation_date":1684498538,"question_id":76288973,"body_markdown":"Could someone helm me understand how exact is Tomcat processing time logged in the access logs?\r\n\r\nTomcat will increase connections based on demand up to `maxConnections` and spin up threads to serve requests up to `maxThreads`. Once `maxConnections` reached, new connections are placed in the queue to wait for the next available thread.\r\n\r\nOk, so far so good. There are two cases if a request comes and there are no free threads to serve it:\r\n1. Current number of threads is &lt; `maxThreads` =&gt; a new thread is spawned\r\n2. Current number of threads = `maxThreads` =&gt; queue time\r\n\r\nSo time on the server would be equal to the processing time once a thread starts serving the request + (overhead for either spinning up a new thread or waiting for one to free up)\r\n\r\nIs this overhead accounted for in the `processingTime` jmx metric?\r\n\r\nIn all of our environments we&#39;re observing that clients sometime report huuge latency (into the seconds) while Tomcat access logs show response time for the same request between 10ms and 100ms, and we&#39;re scratching our heads trying to understand where the remaining several seconds went.\r\n\r\nhttpstat is also reporting much larger server processing time than what we&#39;re seeing in the Tomcat metrics.\r\n\r\nApplication is Spring Boot based, if that is relevant.\r\nBoth caller and server are within the same k8s cluster &amp; namespace. Calls are over http and on the service DNS\r\n\r\nWe enabled apache wire logs in the callers to confirm if there&#39;s a bottleneck on the caller side - apache wire logs match the reported latencies into the seconds.\r\n\r\nhttpstat is also reporting much larger server processing time than what we&#39;re seeing in the Tomcat metrics.\r\n\r\nTomcat server is very much underutilized (current connections keep around 60-80 / 200) and reporting processing times of a few milliseconds.","title":"Tomcat processing time and time in the queue","body":"<p>Could someone helm me understand how exact is Tomcat processing time logged in the access logs?</p>\n<p>Tomcat will increase connections based on demand up to <code>maxConnections</code> and spin up threads to serve requests up to <code>maxThreads</code>. Once <code>maxConnections</code> reached, new connections are placed in the queue to wait for the next available thread.</p>\n<p>Ok, so far so good. There are two cases if a request comes and there are no free threads to serve it:</p>\n<ol>\n<li>Current number of threads is &lt; <code>maxThreads</code> =&gt; a new thread is spawned</li>\n<li>Current number of threads = <code>maxThreads</code> =&gt; queue time</li>\n</ol>\n<p>So time on the server would be equal to the processing time once a thread starts serving the request + (overhead for either spinning up a new thread or waiting for one to free up)</p>\n<p>Is this overhead accounted for in the <code>processingTime</code> jmx metric?</p>\n<p>In all of our environments we're observing that clients sometime report huuge latency (into the seconds) while Tomcat access logs show response time for the same request between 10ms and 100ms, and we're scratching our heads trying to understand where the remaining several seconds went.</p>\n<p>httpstat is also reporting much larger server processing time than what we're seeing in the Tomcat metrics.</p>\n<p>Application is Spring Boot based, if that is relevant.\nBoth caller and server are within the same k8s cluster &amp; namespace. Calls are over http and on the service DNS</p>\n<p>We enabled apache wire logs in the callers to confirm if there's a bottleneck on the caller side - apache wire logs match the reported latencies into the seconds.</p>\n<p>httpstat is also reporting much larger server processing time than what we're seeing in the Tomcat metrics.</p>\n<p>Tomcat server is very much underutilized (current connections keep around 60-80 / 200) and reporting processing times of a few milliseconds.</p>\n"},{"tags":["java","android","caching","imageview","android-glide"],"comments":[{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1484897262,"post_id":41758087,"comment_id":70708071,"body_markdown":"your cached image is being displayed. Make your own disk cache mechanism and flush out the old image when there is a new one available on server. Check this https://github.com/bumptech/glide/wiki/Configuration#size might help","body":"your cached image is being displayed. Make your own disk cache mechanism and flush out the old image when there is a new one available on server. Check this <a href=\"https://github.com/bumptech/glide/wiki/Configuration#size\" rel=\"nofollow noreferrer\">github.com/bumptech/glide/wiki/Configuration#size</a> might help"},{"owner":{"account_id":7446273,"reputation":534,"user_id":5662319,"accept_rate":57,"display_name":"Nouman Shah"},"score":2,"creation_date":1484897266,"post_id":41758087,"comment_id":70708076,"body_markdown":"Possible duplicate of [Captcha image cannot be refresh by using Glide](http://stackoverflow.com/questions/26836489/captcha-image-cannot-be-refresh-by-using-glide)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/26836489/captcha-image-cannot-be-refresh-by-using-glide\">Captcha image cannot be refresh by using Glide</a>"},{"owner":{"account_id":3132806,"reputation":853,"user_id":2650061,"accept_rate":29,"display_name":"Usman Saeed"},"score":0,"creation_date":1484909989,"post_id":41758087,"comment_id":70715372,"body_markdown":"in his question he is not using signature api , i am already using it","body":"in his question he is not using signature api , i am already using it"}],"answers":[{"comments":[{"owner":{"account_id":3132806,"reputation":853,"user_id":2650061,"accept_rate":29,"display_name":"Usman Saeed"},"score":0,"creation_date":1485153393,"post_id":41763077,"comment_id":70788986,"body_markdown":"Due to requirement i can not load picture every time","body":"Due to requirement i can not load picture every time"},{"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"score":0,"creation_date":1485285909,"post_id":41763077,"comment_id":70859868,"body_markdown":"If u want to keep the cache, u can add some extra code into your server to see if the image has changed or not. If it did change then u&#39;ll clear it for the cache and load the updated one, if not just fetch it from the cache.","body":"If u want to keep the cache, u can add some extra code into your server to see if the image has changed or not. If it did change then u&#39;ll clear it for the cache and load the updated one, if not just fetch it from the cache."},{"owner":{"account_id":3132806,"reputation":853,"user_id":2650061,"accept_rate":29,"display_name":"Usman Saeed"},"score":0,"creation_date":1485286629,"post_id":41763077,"comment_id":70860299,"body_markdown":"signature comes from server that tell image on url is changed","body":"signature comes from server that tell image on url is changed"},{"owner":{"account_id":1454914,"reputation":6202,"user_id":1370770,"accept_rate":71,"display_name":"mask"},"score":1,"creation_date":1588119755,"post_id":41763077,"comment_id":108776793,"body_markdown":"This solution worked for me. The only change I have to do is to use different object for signature &quot;ObjectKey(System.currentTimeMillis().toString())&quot; instead the suggested. This helps if you are using Glide Version 4 and above.","body":"This solution worked for me. The only change I have to do is to use different object for signature &quot;ObjectKey(System.currentTimeMillis().toString())&quot; instead the suggested. This helps if you are using Glide Version 4 and above."}],"tags":[],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"comment_count":4,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1684498529,"creation_date":1484913178,"answer_id":41763077,"question_id":41758087,"body_markdown":"## TL;DR.\r\n\r\n1. you can skip caching by adding the following lines:\r\n\r\n   **GLIDE v4**\r\n\r\n       Glide.with(context)\r\n               .load(url)\r\n               .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.NONE))\r\n               .apply(RequestOptions.skipMemoryCacheOf(true))\r\n               .into(imageView);\r\n\r\n\r\n   **GLIDE v3**\r\n\r\n       Glide.with(context)\r\n               .load(url)\r\n               .diskCacheStrategy(DiskCacheStrategy.NONE)\r\n               .skipMemoryCache(true)\r\n               .into(imageView);\r\n\r\n1. **OR** : you can workaround caching by adding a dummy random argument to your `URL`:\r\n\r\n\r\n       Glide.with(context)\r\n               .load(url + &quot;?rand=&quot; + (new Random().nextInt()))\r\n               .into(imageView);\r\n\r\n\r\n## What&#39;s happening?\r\nWhen your picture is loaded the first time, it&#39;s stored locally in what&#39;s called a cached memory (or simply &quot;a cache&quot;). When you request it for a second time Glide fetches if from the cache as if it was a successful request. This is meant for many good reasons such as: offloading your server, saving your users some data, and responding quickly (offering your users a smooth experience).\r\n\r\n## What to do?\r\n\r\nYou will need to disable the cache to force Glide to fetch your image remotely every time you ask for it. You can do the following:\r\n\r\n    Glide.with(context)\r\n             .load(url)\r\n             .diskCacheStrategy(DiskCacheStrategy.NONE)\r\n             .skipMemoryCache(true)\r\n             .signature(imageVersion) // supposing that each new image has its own version number\r\n             .into(imageView);\r\n\r\nOr, in the case where you can&#39;t know when a picture is changing (no `imageVersion`), use a unique signature for each picture.\r\n\r\n    Glide.with(context)\r\n             .load(url)\r\n             .signature(new StringSignature(String.valueOf(System.currentTimeMillis())))\r\n             .into(imageView);\r\n\r\nAnother clean way would be to configure your picture&#39;s cache strategy in your server and use `.diskCacheStrategy(DiskCacheStrategy.SOURCE)`.\r\n\r\n### A hacky trick worth mentioning \r\n\r\nIf adding a dummy GET paramter to your target URL doesn&#39;t break anything, then you could simply workaround caching by passing a random argument each time you fetch the image, this will force *Glide* to pull your image from your sever since no image with that random url can possibly exist in the cache.\r\n\r\n    Glide.with(context)\r\n             .load(url + &quot;?rand=&quot; + (new Random().nextInt())) // &quot;&amp;rand=&quot; if your url already has some GET params\r\n             .into(imageView);\r\n\r\n\r\n-------\r\nGlide caching API [here][1].\r\n\r\n  [1]: https://github.com/bumptech/glide/wiki/Caching-and-Cache-Invalidation","title":"Glide not updating image android of same url?","body":"<h2>TL;DR.</h2>\n<ol>\n<li><p>you can skip caching by adding the following lines:</p>\n<p><strong>GLIDE v4</strong></p>\n<pre><code>Glide.with(context)\n        .load(url)\n        .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.NONE))\n        .apply(RequestOptions.skipMemoryCacheOf(true))\n        .into(imageView);\n</code></pre>\n<p><strong>GLIDE v3</strong></p>\n<pre><code>Glide.with(context)\n        .load(url)\n        .diskCacheStrategy(DiskCacheStrategy.NONE)\n        .skipMemoryCache(true)\n        .into(imageView);\n</code></pre>\n</li>\n<li><p><strong>OR</strong> : you can workaround caching by adding a dummy random argument to your <code>URL</code>:</p>\n<pre><code>Glide.with(context)\n        .load(url + &quot;?rand=&quot; + (new Random().nextInt()))\n        .into(imageView);\n</code></pre>\n</li>\n</ol>\n<h2>What's happening?</h2>\n<p>When your picture is loaded the first time, it's stored locally in what's called a cached memory (or simply &quot;a cache&quot;). When you request it for a second time Glide fetches if from the cache as if it was a successful request. This is meant for many good reasons such as: offloading your server, saving your users some data, and responding quickly (offering your users a smooth experience).</p>\n<h2>What to do?</h2>\n<p>You will need to disable the cache to force Glide to fetch your image remotely every time you ask for it. You can do the following:</p>\n<pre><code>Glide.with(context)\n         .load(url)\n         .diskCacheStrategy(DiskCacheStrategy.NONE)\n         .skipMemoryCache(true)\n         .signature(imageVersion) // supposing that each new image has its own version number\n         .into(imageView);\n</code></pre>\n<p>Or, in the case where you can't know when a picture is changing (no <code>imageVersion</code>), use a unique signature for each picture.</p>\n<pre><code>Glide.with(context)\n         .load(url)\n         .signature(new StringSignature(String.valueOf(System.currentTimeMillis())))\n         .into(imageView);\n</code></pre>\n<p>Another clean way would be to configure your picture's cache strategy in your server and use <code>.diskCacheStrategy(DiskCacheStrategy.SOURCE)</code>.</p>\n<h3>A hacky trick worth mentioning</h3>\n<p>If adding a dummy GET paramter to your target URL doesn't break anything, then you could simply workaround caching by passing a random argument each time you fetch the image, this will force <em>Glide</em> to pull your image from your sever since no image with that random url can possibly exist in the cache.</p>\n<pre><code>Glide.with(context)\n         .load(url + &quot;?rand=&quot; + (new Random().nextInt())) // &quot;&amp;rand=&quot; if your url already has some GET params\n         .into(imageView);\n</code></pre>\n<hr />\n<p>Glide caching API <a href=\"https://github.com/bumptech/glide/wiki/Caching-and-Cache-Invalidation\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":3132806,"reputation":853,"user_id":2650061,"accept_rate":29,"display_name":"Usman Saeed"},"score":1,"creation_date":1487832403,"post_id":42388335,"comment_id":71963976,"body_markdown":"Thanks for your reply ,but this does not full fill my requirnment","body":"Thanks for your reply ,but this does not full fill my requirnment"},{"owner":{"account_id":9747261,"reputation":1700,"user_id":7226787,"display_name":"jessica"},"score":0,"creation_date":1487833554,"post_id":42388335,"comment_id":71964520,"body_markdown":"You need to change url from server everytime, if you want to load image everytime. another wise Glide load same image which is first one, if URL not get changed.","body":"You need to change url from server everytime, if you want to load image everytime. another wise Glide load same image which is first one, if URL not get changed."},{"owner":{"account_id":3132806,"reputation":853,"user_id":2650061,"accept_rate":29,"display_name":"Usman Saeed"},"score":1,"creation_date":1487834143,"post_id":42388335,"comment_id":71964797,"body_markdown":"Problem is url can not be changed","body":"Problem is url can not be changed"},{"owner":{"account_id":10518898,"reputation":2107,"user_id":8383332,"display_name":"Soon Santos"},"score":1,"creation_date":1541077423,"post_id":42388335,"comment_id":93099152,"body_markdown":"The problem is that your photo will be loaded every time and this can consume time, in some cases where the image is too large, it can even lead to timeout. Maybe it is a good idea to save a boolean in sharedPreferences to say when the uri should be reloaded.","body":"The problem is that your photo will be loaded every time and this can consume time, in some cases where the image is too large, it can even lead to timeout. Maybe it is a good idea to save a boolean in sharedPreferences to say when the uri should be reloaded."},{"owner":{"account_id":363756,"reputation":1613,"user_id":707706,"accept_rate":67,"display_name":"Kocus"},"score":2,"creation_date":1604997974,"post_id":42388335,"comment_id":114511139,"body_markdown":"Turning the cache off is a really bad solution.","body":"Turning the cache off is a really bad solution."},{"owner":{"account_id":4512525,"reputation":993,"user_id":3668241,"display_name":"hannojg"},"score":0,"creation_date":1606517343,"post_id":42388335,"comment_id":114993143,"body_markdown":"Doing this won&#39;t update Glide&#39;s cache, even if it fetched a newer image (AFAIK). So subsequent calls with cache enabled won&#39;t return the image you previously got with `DiskCacheStrategy.NONE`.","body":"Doing this won&#39;t update Glide&#39;s cache, even if it fetched a newer image (AFAIK). So subsequent calls with cache enabled won&#39;t return the image you previously got with <code>DiskCacheStrategy.NONE</code>."},{"owner":{"account_id":7697424,"reputation":963,"user_id":5831373,"display_name":"AlexS"},"score":0,"creation_date":1627382832,"post_id":42388335,"comment_id":121135941,"body_markdown":"Wow! I spent a lot of time for solving that problem... Thank you!","body":"Wow! I spent a lot of time for solving that problem... Thank you!"}],"tags":[],"owner":{"account_id":9747261,"reputation":1700,"user_id":7226787,"display_name":"jessica"},"comment_count":7,"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1487757711,"creation_date":1487757711,"answer_id":42388335,"question_id":41758087,"body_markdown":"    //Use bellow code, it work for me.Set skip Memory Cache to true. it will load the image every time.\r\n    \r\n     Glide.with(Activity.this)\r\n    .load(theImagePath)\r\n    .diskCacheStrategy(DiskCacheStrategy.NONE)\r\n    .skipMemoryCache(true)\r\n    .into(myImageViewPhoto);","title":"Glide not updating image android of same url?","body":"<pre><code>//Use bellow code, it work for me.Set skip Memory Cache to true. it will load the image every time.\n\n Glide.with(Activity.this)\n.load(theImagePath)\n.diskCacheStrategy(DiskCacheStrategy.NONE)\n.skipMemoryCache(true)\n.into(myImageViewPhoto);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7654058,"reputation":1024,"user_id":5801657,"accept_rate":64,"display_name":"MGDavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1505299266,"creation_date":1505297606,"answer_id":46194793,"question_id":41758087,"body_markdown":"This is an old question, so I&#39;m sure you&#39;ve got your fix by now. However I believe both of the big libraries(Picasso and Glide) now support something similar.\r\n\r\nGlide has its signature API you may wish to look into:\r\nhttps://github.com/bumptech/glide/wiki/Caching-and-Cache-Invalidation\r\n\r\n    Glide.with(yourFragment)\r\n        .load(yourFileDataModel)\r\n        .signature(new StringSignature(yourVersionMetadata))\r\n        .into(yourImageView);\r\n\r\nI&#39;ve not had a chance to work with this myself, but it looks as though you need to make a call to your API to get the version Metadata, then a subsequent call to fulfil it. \r\n\r\nAlternatively, look into ETags. \r\n\r\nGood luck!","title":"Glide not updating image android of same url?","body":"<p>This is an old question, so I'm sure you've got your fix by now. However I believe both of the big libraries(Picasso and Glide) now support something similar.</p>\n\n<p>Glide has its signature API you may wish to look into:\n<a href=\"https://github.com/bumptech/glide/wiki/Caching-and-Cache-Invalidation\" rel=\"noreferrer\">https://github.com/bumptech/glide/wiki/Caching-and-Cache-Invalidation</a></p>\n\n<pre><code>Glide.with(yourFragment)\n    .load(yourFileDataModel)\n    .signature(new StringSignature(yourVersionMetadata))\n    .into(yourImageView);\n</code></pre>\n\n<p>I've not had a chance to work with this myself, but it looks as though you need to make a call to your API to get the version Metadata, then a subsequent call to fulfil it. </p>\n\n<p>Alternatively, look into ETags. </p>\n\n<p>Good luck!</p>\n"},{"comments":[{"owner":{"account_id":946995,"reputation":43616,"user_id":974045,"display_name":"Gibolt"},"score":4,"creation_date":1579218936,"post_id":46897026,"comment_id":105703151,"body_markdown":"This seems super wasteful in order to only clear whole cache a single image. Good to know, but not a recommended solution for this specific question","body":"This seems super wasteful in order to only clear whole cache a single image. Good to know, but not a recommended solution for this specific question"}],"tags":[],"owner":{"account_id":6570594,"reputation":5006,"user_id":5078763,"accept_rate":74,"display_name":"Sujay U N"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1508786658,"creation_date":1508786658,"answer_id":46897026,"question_id":41758087,"body_markdown":"**When new images are loaded or updated, use below to clear Glide memory and cache** :\r\n\r\n|==| Clear Glide memory\r\n\r\n     Glide.get(getApplicationContext()).clearMemory();\r\n\r\n|==| Clear Glide Cache()\r\n\r\n    void clearGlideDiskCache()\r\n    {\r\n        new Thread(new Runnable()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                Glide.get(getApplicationContext()).clearDiskCache();\r\n            }\r\n        }).start();\r\n    }","title":"Glide not updating image android of same url?","body":"<p><strong>When new images are loaded or updated, use below to clear Glide memory and cache</strong> :</p>\n\n<p>|==| Clear Glide memory</p>\n\n<pre><code> Glide.get(getApplicationContext()).clearMemory();\n</code></pre>\n\n<p>|==| Clear Glide Cache()</p>\n\n<pre><code>void clearGlideDiskCache()\n{\n    new Thread(new Runnable()\n    {\n        @Override\n        public void run()\n        {\n            Glide.get(getApplicationContext()).clearDiskCache();\n        }\n    }).start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3428717,"reputation":1523,"user_id":2873772,"accept_rate":36,"display_name":"steven0529"},"comment_count":0,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1511764850,"creation_date":1511764850,"answer_id":47505235,"question_id":41758087,"body_markdown":"**Glide 4.x**\r\n\r\n    Glide.with(context)\r\n         .load(imageUrl)\r\n         .apply(RequestOptions.skipMemoryCacheOf(true))\r\n         .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.NONE))\r\n         .into(imageView);\r\n**Glide 3.x**\r\n\r\n    Glide.with(context)\r\n         .load(imageUrl)\r\n         .skipMemoryCache(true)\r\n         .diskCacheStrategy(DiskCacheStrategy.NONE)\r\n         .into(imageView);","title":"Glide not updating image android of same url?","body":"<p><strong>Glide 4.x</strong></p>\n\n<pre><code>Glide.with(context)\n     .load(imageUrl)\n     .apply(RequestOptions.skipMemoryCacheOf(true))\n     .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.NONE))\n     .into(imageView);\n</code></pre>\n\n<p><strong>Glide 3.x</strong></p>\n\n<pre><code>Glide.with(context)\n     .load(imageUrl)\n     .skipMemoryCache(true)\n     .diskCacheStrategy(DiskCacheStrategy.NONE)\n     .into(imageView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13606517,"reputation":7473,"user_id":9815519,"display_name":"Sheikh Hasib"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531431807,"creation_date":1531431807,"answer_id":51314897,"question_id":41758087,"body_markdown":"Now **Glide latest** version, you have to use `RequestOption` for clear cache.\r\n\r\n    RequestOptions options = new RequestOptions()\r\n    .diskCacheStrategy(DiskCacheStrategy.NONE)\r\n    .skipMemoryCache(true);\r\n\r\nOr for everytime load picture you have to use a **String** in as `signature`.\r\n\r\n    RequestOptions options = new RequestOptions()\r\n    .signature(new StringSignature(String.valueOf(System.currentTimeMillis())));\r\n\r\nFinally:      \r\n\r\n    Glide.with(CompressSingleActivity.this)\r\n    .applyDefaultRequestOptions(options)\r\n    .load(currentFile)\r\n    .into(currentImageView);","title":"Glide not updating image android of same url?","body":"<p>Now <strong>Glide latest</strong> version, you have to use <code>RequestOption</code> for clear cache.</p>\n\n<pre><code>RequestOptions options = new RequestOptions()\n.diskCacheStrategy(DiskCacheStrategy.NONE)\n.skipMemoryCache(true);\n</code></pre>\n\n<p>Or for everytime load picture you have to use a <strong>String</strong> in as <code>signature</code>.</p>\n\n<pre><code>RequestOptions options = new RequestOptions()\n.signature(new StringSignature(String.valueOf(System.currentTimeMillis())));\n</code></pre>\n\n<p>Finally:      </p>\n\n<pre><code>Glide.with(CompressSingleActivity.this)\n.applyDefaultRequestOptions(options)\n.load(currentFile)\n.into(currentImageView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9038350,"reputation":2716,"user_id":6733404,"display_name":"Abner Esc&#243;cio"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1549404366,"creation_date":1549404366,"answer_id":54543787,"question_id":41758087,"body_markdown":"I my case Glide not recognize `.signature()`, so additionally to @MGDavies&#39;s [answer](https://stackoverflow.com/a/46194793/6733404) you maybe need something like this\r\n\r\n    // in kotlin\r\n    Glide.with(context)\r\n            .load(&quot;url&quot;)\r\n            //using apply to RequestOptions instead signature directly\r\n            .apply(RequestOptions().signature(ObjectKey(&quot;time that image was updated&quot;)))\r\n            .into(thumb)\r\n","title":"Glide not updating image android of same url?","body":"<p>I my case Glide not recognize <code>.signature()</code>, so additionally to @MGDavies's <a href=\"https://stackoverflow.com/a/46194793/6733404\">answer</a> you maybe need something like this</p>\n\n<pre><code>// in kotlin\nGlide.with(context)\n        .load(\"url\")\n        //using apply to RequestOptions instead signature directly\n        .apply(RequestOptions().signature(ObjectKey(\"time that image was updated\")))\n        .into(thumb)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10677086,"reputation":1282,"user_id":7860206,"accept_rate":92,"display_name":"Arash Afsharpour"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1555920312,"creation_date":1555920312,"answer_id":55791158,"question_id":41758087,"body_markdown":"it&#39;s like the issue is related to Glide Library itself, I found the trick that can fix this, just put a random number after your image URL as a query like an Example code below, it fixed my problem I hope it helps you too\r\n\r\n            Random random = new Random();\r\n            int randomInt = random.nextInt();\r\n            Glide.with(context)\r\n                    .applyDefaultRequestOptions(new RequestOptions()\r\n                            .circleCrop().diskCacheStrategy(DiskCacheStrategy.NONE))\r\n                    .load(ConstantVars.BaseUrl + userModel.getAvatarURL() + &quot;?&quot; + randomInt)\r\n                    .apply(new RequestOptions().error(R.drawable.himart_place_holder))\r\n                    .into(imageViewProfile);\r\n\r\nit will make Glide to reload image anytime you request like there&#39;s no cache at all to read from.","title":"Glide not updating image android of same url?","body":"<p>it's like the issue is related to Glide Library itself, I found the trick that can fix this, just put a random number after your image URL as a query like an Example code below, it fixed my problem I hope it helps you too</p>\n\n<pre><code>        Random random = new Random();\n        int randomInt = random.nextInt();\n        Glide.with(context)\n                .applyDefaultRequestOptions(new RequestOptions()\n                        .circleCrop().diskCacheStrategy(DiskCacheStrategy.NONE))\n                .load(ConstantVars.BaseUrl + userModel.getAvatarURL() + \"?\" + randomInt)\n                .apply(new RequestOptions().error(R.drawable.himart_place_holder))\n                .into(imageViewProfile);\n</code></pre>\n\n<p>it will make Glide to reload image anytime you request like there's no cache at all to read from.</p>\n"},{"tags":[],"owner":{"account_id":4838224,"reputation":3812,"user_id":3904109,"accept_rate":71,"display_name":"DragonFire"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571285971,"creation_date":1571285971,"answer_id":58424856,"question_id":41758087,"body_markdown":"**Glide 4.8.0**\r\n\r\n    Glide.with(mContext).asBitmap()\r\n                        .load(nopicUrl)\r\n                        .apply(RequestOptions.skipMemoryCacheOf(true))\r\n                        .apply(RequestOptions.signatureOf(new ObjectKey(String.valueOf(System.currentTimeMillis()))))\r\n                        .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.DATA))\r\n                        .into(ivImageView);","title":"Glide not updating image android of same url?","body":"<p><strong>Glide 4.8.0</strong></p>\n\n<pre><code>Glide.with(mContext).asBitmap()\n                    .load(nopicUrl)\n                    .apply(RequestOptions.skipMemoryCacheOf(true))\n                    .apply(RequestOptions.signatureOf(new ObjectKey(String.valueOf(System.currentTimeMillis()))))\n                    .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.DATA))\n                    .into(ivImageView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7240122,"reputation":3325,"user_id":5523949,"display_name":"Nikhat Shaikh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1574751672,"creation_date":1574751672,"answer_id":59045392,"question_id":41758087,"body_markdown":"Try using RequestOptions:\r\n\r\n    RequestOptions requestOptions = new RequestOptions();\r\n    requestOptions.placeholder(R.drawable.ic_placeholder);\r\n    requestOptions.error(R.drawable.ic_error);\r\n    \r\n    Glide.with(context)\r\n         .setDefaultRequestOptions(requestOptions)\r\n         .load(url).into(holder.imageView);\r\n\r\n\r\nIf .setDefaultRequestOptions(requestOptions) does not work, use .apply(requestOptions):\r\n\r\n    Glide.with(MainActivity.this)\r\n                .load(url)\r\n                .apply(requestOptions)\r\n                .into(imageview);\r\n     // or this\r\n     Glide.with(MainActivity.this)\r\n                .load(url)\r\n                .apply(new RequestOptions().placeholder(R.drawable.booked_circle).error(R.drawable.booked_circle))\r\n                .into(imageview);\r\n    \r\n     // or this\r\n     Glide.with(MainActivity.this)\r\n                .load(url)\r\n                .apply(RequestOptions.placeholderOf(R.drawable.booked_circle).error(R.drawable.))\r\n                .into(imageview);","title":"Glide not updating image android of same url?","body":"<p>Try using RequestOptions:</p>\n\n<pre><code>RequestOptions requestOptions = new RequestOptions();\nrequestOptions.placeholder(R.drawable.ic_placeholder);\nrequestOptions.error(R.drawable.ic_error);\n\nGlide.with(context)\n     .setDefaultRequestOptions(requestOptions)\n     .load(url).into(holder.imageView);\n</code></pre>\n\n<p>If .setDefaultRequestOptions(requestOptions) does not work, use .apply(requestOptions):</p>\n\n<pre><code>Glide.with(MainActivity.this)\n            .load(url)\n            .apply(requestOptions)\n            .into(imageview);\n // or this\n Glide.with(MainActivity.this)\n            .load(url)\n            .apply(new RequestOptions().placeholder(R.drawable.booked_circle).error(R.drawable.booked_circle))\n            .into(imageview);\n\n // or this\n Glide.with(MainActivity.this)\n            .load(url)\n            .apply(RequestOptions.placeholderOf(R.drawable.booked_circle).error(R.drawable.))\n            .into(imageview);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":946995,"reputation":43616,"user_id":974045,"display_name":"Gibolt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579218959,"creation_date":1579218959,"answer_id":59779505,"question_id":41758087,"body_markdown":"`diskCacheStrategy` and `skipMemoryCache` did not work for my case.\r\n\r\nI was writing to a local image file between Glide requests with the same url. My hack of a solution was to switch between adding a 0/1 to the end of the filename. \r\n\r\nForcing it to change image source every time seems to work.","title":"Glide not updating image android of same url?","body":"<p><code>diskCacheStrategy</code> and <code>skipMemoryCache</code> did not work for my case.</p>\n\n<p>I was writing to a local image file between Glide requests with the same url. My hack of a solution was to switch between adding a 0/1 to the end of the filename. </p>\n\n<p>Forcing it to change image source every time seems to work.</p>\n"}],"owner":{"account_id":3132806,"reputation":853,"user_id":2650061,"accept_rate":29,"display_name":"Usman Saeed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30388,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"answer_count":11,"score":38,"last_activity_date":1684498529,"creation_date":1484896788,"question_id":41758087,"body_markdown":"I have **the same url** for an image. When I update this image more than one time it shows the previous image. The image and picture version  on the server is updated but Glide is not showing the new image.I want to get new image every time and cache it .\r\n\r\n    Glide.with(context)\r\n            .load(Constants.COPY_LINK_BASE_URL + info.getDisplayPicture())\r\n            .placeholder(R.drawable.ic_profile).dontAnimate()\r\n            .diskCacheStrategy(DiskCacheStrategy.SOURCE)\r\n            .signature(new (SettingManager.getUserPictureVersion(context)))\r\n            .into(ivUserProfilePhoto);\r\n\r\nI can reproduce this bug by changing internet ,on one internet its change image as expected on other internet it remain same after 2 or 3 tries to changing image","title":"Glide not updating image android of same url?","body":"<p>I have <strong>the same url</strong> for an image. When I update this image more than one time it shows the previous image. The image and picture version  on the server is updated but Glide is not showing the new image.I want to get new image every time and cache it .</p>\n\n<pre><code>Glide.with(context)\n        .load(Constants.COPY_LINK_BASE_URL + info.getDisplayPicture())\n        .placeholder(R.drawable.ic_profile).dontAnimate()\n        .diskCacheStrategy(DiskCacheStrategy.SOURCE)\n        .signature(new (SettingManager.getUserPictureVersion(context)))\n        .into(ivUserProfilePhoto);\n</code></pre>\n\n<p>I can reproduce this bug by changing internet ,on one internet its change image as expected on other internet it remain same after 2 or 3 tries to changing image</p>\n"},{"tags":["java","apache-camel","camel-ftp"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684670216,"post_id":76288300,"comment_id":134547889,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28634689,"reputation":1,"user_id":21925023,"display_name":"Angelo Raucci"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684498292,"creation_date":1684493062,"question_id":76288300,"body_markdown":"I need my program to fetch a file from a directory, but this file will be fetched dynamically, every time I start the scheduler it will have to fetch the latest product.\r\nAll of this in Apache Camel, but I have no idea how to do it.\r\n\r\nfrom(&quot;file:c:/camelin?fileName=test.csv&amp;noop=true&quot;)\r\n\r\nfor the moment I take it in static mode, but I need it in dynamic.\r\nAnyone can help me?\r\n\r\nI need to do all of this without SFTP.","title":"Get a file from a directory dynamically in Apache Camel","body":"<p>I need my program to fetch a file from a directory, but this file will be fetched dynamically, every time I start the scheduler it will have to fetch the latest product.\nAll of this in Apache Camel, but I have no idea how to do it.</p>\n<p>from(&quot;file:c:/camelin?fileName=test.csv&amp;noop=true&quot;)</p>\n<p>for the moment I take it in static mode, but I need it in dynamic.\nAnyone can help me?</p>\n<p>I need to do all of this without SFTP.</p>\n"},{"tags":["java","weblogic"],"answers":[{"tags":[],"owner":{"account_id":40332,"reputation":8882,"user_id":116880,"accept_rate":94,"display_name":"stevedbrown"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1476183049,"creation_date":1245673397,"answer_id":1026905,"question_id":1026630,"body_markdown":"There are good overviews on the class loader hierarchy at:\r\n\r\n[Archived version of http://e-docs.bea.com/wls/docs81/programming/classloading.html](https://web.archive.org/web/20090619193125/http://e-docs.bea.com/wls/docs81/programming/classloading.html)\r\n\r\n[http://weblogic.sys-con.com/node/42876](http://weblogic.sys-con.com/node/42876)\r\n\r\nYou can use\r\n\r\n    ClassLoader.getParent()\r\n\r\nto walk through you current application&#39;s applications resolution tree, but you really can&#39;t look through the children app&#39;s class loaders.","title":"Getting a list of all classloaders in a JVM","body":"<p>There are good overviews on the class loader hierarchy at:</p>\n\n<p><a href=\"https://web.archive.org/web/20090619193125/http://e-docs.bea.com/wls/docs81/programming/classloading.html\" rel=\"nofollow noreferrer\">Archived version of http://e-docs.bea.com/wls/docs81/programming/classloading.html</a></p>\n\n<p><a href=\"http://weblogic.sys-con.com/node/42876\" rel=\"nofollow noreferrer\">http://weblogic.sys-con.com/node/42876</a></p>\n\n<p>You can use</p>\n\n<pre><code>ClassLoader.getParent()\n</code></pre>\n\n<p>to walk through you current application's applications resolution tree, but you really can't look through the children app's class loaders.</p>\n"},{"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684498117,"creation_date":1684498117,"answer_id":76288918,"question_id":1026630,"body_markdown":"You could combine [this answer](https://stackoverflow.com/a/1026905/21851535) with the following to get near to every classloader.\r\n```java\r\nThread.getAllStackTraces().keySet() //Get all active threads\r\n.stream()\r\n.map(thread -&gt; thread.getContextClassLoader()) //Get the classloader of the thread (may be null)\r\n.filter(Objects::nonNull) //Filter out every null object from the stream\r\n.toList()\r\n```","title":"Getting a list of all classloaders in a JVM","body":"<p>You could combine <a href=\"https://stackoverflow.com/a/1026905/21851535\">this answer</a> with the following to get near to every classloader.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread.getAllStackTraces().keySet() //Get all active threads\n.stream()\n.map(thread -&gt; thread.getContextClassLoader()) //Get the classloader of the thread (may be null)\n.filter(Objects::nonNull) //Filter out every null object from the stream\n.toList()\n</code></pre>\n"}],"owner":{"account_id":43399,"reputation":1102,"user_id":126859,"display_name":"maneesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12715,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":2,"score":24,"last_activity_date":1684498117,"creation_date":1245669900,"question_id":1026630,"body_markdown":"Is it possible to get a list of all class loaders in a JVM or at least all class loaders associated with web apps in a Java EE Server (WebLogic in my case). ","title":"Getting a list of all classloaders in a JVM","body":"<p>Is it possible to get a list of all class loaders in a JVM or at least all class loaders associated with web apps in a Java EE Server (WebLogic in my case). </p>\n"},{"tags":["java","android"],"owner":{"account_id":28339405,"reputation":1,"user_id":21672653,"display_name":"Shion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684497696,"creation_date":1684496597,"question_id":76288730,"body_markdown":"Notifications from alarm works fine in emulator, but doesn&#39;t work in real device\r\n\r\nHello everyone! My medicaments alarm clock program works well on the emulator, does not give out any errors, the notification comes in, but when I transfer the application to a real device through the APK file, the notifications do not work, I ask for help.\r\nMy Alarm receiver\r\n\r\n```\r\npublic final class AlarmReceiver extends BroadcastReceiver {\r\n\r\n    private static final String TAG = AlarmReceiver.class.getSimpleName();\r\n    private static final String CHANNEL_ID = &quot;alarm_channel&quot;;\r\n\r\n    private static final String BUNDLE_EXTRA = &quot;bundle_extra&quot;;\r\n    private static final String ALARM_KEY = &quot;alarm_key&quot;;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        Log.e(TAG, &quot;onReceive: start&quot; );\r\n        final Alarm alarm = intent.getBundleExtra(BUNDLE_EXTRA).getParcelable(ALARM_KEY);\r\n        if(alarm == null) {\r\n            Log.e(TAG, &quot;Alarm is null&quot;, new NullPointerException());\r\n            return;\r\n        }\r\n\r\n        final int id = alarm.notificationId();\r\n\r\n        final NotificationManager manager =\r\n                (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n        createNotificationChannel(context);\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_ID)\r\n                .setSmallIcon(R.drawable.ic_alarm_white_24dp)\r\n                .setColor(ContextCompat.getColor(context, R.color.blue))\r\n                .setContentTitle(context.getString(R.string.app_name))\r\n                .setContentText(alarm.getLabel())\r\n                .setTicker(alarm.getLabel())\r\n                .setVibrate(new long[] {1000,500,1000,500,1000,500})\r\n                .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM))\r\n                .setContentIntent(launchAlarmLandingPage(context, alarm))\r\n                .setAutoCancel(true)\r\n                .setDefaults(NotificationCompat.DEFAULT_ALL)\r\n                .setPriority(Notification.PRIORITY_HIGH);\r\n\r\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(context);\r\n        notificationManagerCompat.notify(123, builder.build());\r\n\r\n    }\r\n\r\n    public static void setReminderAlarm(Context context, Alarm alarm) {\r\n        Log.e(TAG, &quot;setReminderAlarm: start&quot; );\r\n\r\n        //Check whether the alarm is set to run on any days\r\n        if(!AlarmUtils.isAlarmActive(alarm)) {\r\n            Log.e(TAG, &quot;setReminderAlarm: is Inactive&quot; );\r\n            //If alarm not set to run on any days, cancel any existing notifications for this alarm\r\n            cancelReminderAlarm(context, alarm);\r\n            return;\r\n        }\r\n\r\n        final Calendar nextAlarmTime = getTimeForNextAlarm(alarm);\r\n        alarm.setTime(nextAlarmTime.getTimeInMillis());\r\n\r\n        final Intent intent = new Intent(context, AlarmReceiver.class);\r\n        final Bundle bundle = new Bundle();\r\n        bundle.putParcelable(ALARM_KEY, alarm);\r\n        intent.putExtra(BUNDLE_EXTRA, bundle);\r\n\r\n        final PendingIntent pIntent = PendingIntent.getBroadcast(\r\n                context,\r\n                alarm.notificationId(),\r\n                intent,\r\n                FLAG_UPDATE_CURRENT\r\n        );\r\n\r\n        ScheduleAlarm.with(context).schedule(alarm, pIntent);\r\n    }\r\n\r\n    public static void setReminderAlarms(Context context, List&lt;Alarm&gt; alarms) {\r\n        for(Alarm alarm : alarms) {\r\n            setReminderAlarm(context, alarm);\r\n        }\r\n    }\r\n\r\n    private static Calendar getTimeForNextAlarm(Alarm alarm) {\r\n\r\n        final Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(alarm.getTime());\r\n\r\n        final long currentTime = System.currentTimeMillis();\r\n        final int startIndex = getStartIndexFromTime(calendar);\r\n\r\n        int count = 0;\r\n        boolean isAlarmSetForDay;\r\n\r\n        final SparseBooleanArray daysArray = alarm.getDays();\r\n\r\n        do {\r\n            final int index = (startIndex + count) % 7;\r\n            isAlarmSetForDay =\r\n                    daysArray.valueAt(index) &amp;&amp; (calendar.getTimeInMillis() &gt; currentTime);\r\n            if(!isAlarmSetForDay) {\r\n                calendar.add(Calendar.DAY_OF_MONTH, 1);\r\n                count++;\r\n            }\r\n        } while(!isAlarmSetForDay &amp;&amp; count &lt; 7);\r\n\r\n        return calendar;\r\n\r\n    }\r\n\r\n    public static void cancelReminderAlarm(Context context, Alarm alarm) {\r\n\r\n        final Intent intent = new Intent(context, AlarmReceiver.class);\r\n        final PendingIntent pIntent = PendingIntent.getBroadcast(\r\n                context,\r\n                alarm.notificationId(),\r\n                intent,\r\n                FLAG_UPDATE_CURRENT\r\n        );\r\n\r\n        final AlarmManager manager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n        manager.cancel(pIntent);\r\n    }\r\n\r\n    private static int getStartIndexFromTime(Calendar c) {\r\n\r\n        final int dayOfWeek = c.get(Calendar.DAY_OF_WEEK);\r\n\r\n        int startIndex = 0;\r\n        switch (dayOfWeek) {\r\n            case Calendar.MONDAY:\r\n                startIndex = 0;\r\n                break;\r\n            case Calendar.TUESDAY:\r\n                startIndex = 1;\r\n                break;\r\n            case Calendar.WEDNESDAY:\r\n                startIndex = 2;\r\n                break;\r\n            case Calendar.THURSDAY:\r\n                startIndex = 3;\r\n                break;\r\n            case Calendar.FRIDAY:\r\n                startIndex = 4;\r\n                break;\r\n            case Calendar.SATURDAY:\r\n                startIndex = 5;\r\n                break;\r\n            case Calendar.SUNDAY:\r\n                startIndex = 6;\r\n                break;\r\n        }\r\n\r\n        return startIndex;\r\n\r\n    }\r\n\r\n    private static void createNotificationChannel(Context ctx) {\r\n        if(SDK_INT &lt; O) return;\r\n\r\n        final NotificationManager mgr = ctx.getSystemService(NotificationManager.class);\r\n        if(mgr == null) return;\r\n\r\n        final String name = ctx.getString(R.string.channel_name);\r\n        if(mgr.getNotificationChannel(name) == null) {\r\n            final NotificationChannel channel =\r\n                    new NotificationChannel(CHANNEL_ID, name, IMPORTANCE_HIGH);\r\n            channel.enableVibration(true);\r\n            channel.setVibrationPattern(new long[] {1000,500,1000,500,1000,500});\r\n            channel.setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM),null);\r\n            channel.setBypassDnd(true);\r\n            mgr.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n    private static PendingIntent launchAlarmLandingPage(Context ctx, Alarm alarm) {\r\n        return PendingIntent.getActivity(\r\n                ctx, alarm.notificationId(), launchIntent(ctx), FLAG_UPDATE_CURRENT\r\n        );\r\n    }\r\n\r\n    private static class ScheduleAlarm {\r\n        private static final String TAG = &quot;ScheduleAlarm&quot;;\r\n\r\n        @NonNull private final Context ctx;\r\n        @NonNull private final AlarmManager am;\r\n\r\n        private ScheduleAlarm(@NonNull AlarmManager am, @NonNull Context ctx) {\r\n            Log.e(TAG, &quot;ScheduleAlarm: constructor&quot; );\r\n            this.am = am;\r\n            this.ctx = ctx;\r\n        }\r\n\r\n        static ScheduleAlarm with(Context context) {\r\n            Log.e(TAG, &quot;with: contect&quot; );\r\n            final AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n            if(am == null) {\r\n                throw new IllegalStateException(&quot;AlarmManager is null&quot;);\r\n            }\r\n            return new ScheduleAlarm(am, context);\r\n        }\r\n\r\n        void schedule(Alarm alarm, PendingIntent pi) {\r\n            if(SDK_INT &gt; LOLLIPOP) {\r\n                Log.e(TAG, &quot;schedule: now&quot;+alarm.getTime() );\r\n                am.setAlarmClock(new AlarmClockInfo(alarm.getTime(), launchAlarmLandingPage(ctx, alarm)), pi);\r\n            } else if(SDK_INT &gt; KITKAT) {\r\n                am.setExact(AlarmManager.RTC_WAKEUP, alarm.getTime(), pi);\r\n            } else {\r\n                am.set(AlarmManager.RTC_WAKEUP, alarm.getTime(), pi);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\nMy manifest\r\n\r\n```\r\n &lt;receiver android:name=&quot;.alarm.service.AlarmReceiver&quot;\r\n            android:process=&quot;:remote&quot;/&gt;`\r\n\r\n```\r\n\r\nMy permissions\r\n\r\n``` \r\n&lt;uses-permission android:name=&quot;com.androidtutorialpoint.mymapsappsdirection.permission.MAPS_RECEIVE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALENDAR&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALENDAR&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n```","title":"Why do the notifications work in the emulator but not on a real Android device for a medicament alarm clock app?","body":"<p>Notifications from alarm works fine in emulator, but doesn't work in real device</p>\n<p>Hello everyone! My medicaments alarm clock program works well on the emulator, does not give out any errors, the notification comes in, but when I transfer the application to a real device through the APK file, the notifications do not work, I ask for help.\nMy Alarm receiver</p>\n<pre><code>public final class AlarmReceiver extends BroadcastReceiver {\n\n    private static final String TAG = AlarmReceiver.class.getSimpleName();\n    private static final String CHANNEL_ID = &quot;alarm_channel&quot;;\n\n    private static final String BUNDLE_EXTRA = &quot;bundle_extra&quot;;\n    private static final String ALARM_KEY = &quot;alarm_key&quot;;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        Log.e(TAG, &quot;onReceive: start&quot; );\n        final Alarm alarm = intent.getBundleExtra(BUNDLE_EXTRA).getParcelable(ALARM_KEY);\n        if(alarm == null) {\n            Log.e(TAG, &quot;Alarm is null&quot;, new NullPointerException());\n            return;\n        }\n\n        final int id = alarm.notificationId();\n\n        final NotificationManager manager =\n                (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n\n        createNotificationChannel(context);\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_ID)\n                .setSmallIcon(R.drawable.ic_alarm_white_24dp)\n                .setColor(ContextCompat.getColor(context, R.color.blue))\n                .setContentTitle(context.getString(R.string.app_name))\n                .setContentText(alarm.getLabel())\n                .setTicker(alarm.getLabel())\n                .setVibrate(new long[] {1000,500,1000,500,1000,500})\n                .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM))\n                .setContentIntent(launchAlarmLandingPage(context, alarm))\n                .setAutoCancel(true)\n                .setDefaults(NotificationCompat.DEFAULT_ALL)\n                .setPriority(Notification.PRIORITY_HIGH);\n\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(context);\n        notificationManagerCompat.notify(123, builder.build());\n\n    }\n\n    public static void setReminderAlarm(Context context, Alarm alarm) {\n        Log.e(TAG, &quot;setReminderAlarm: start&quot; );\n\n        //Check whether the alarm is set to run on any days\n        if(!AlarmUtils.isAlarmActive(alarm)) {\n            Log.e(TAG, &quot;setReminderAlarm: is Inactive&quot; );\n            //If alarm not set to run on any days, cancel any existing notifications for this alarm\n            cancelReminderAlarm(context, alarm);\n            return;\n        }\n\n        final Calendar nextAlarmTime = getTimeForNextAlarm(alarm);\n        alarm.setTime(nextAlarmTime.getTimeInMillis());\n\n        final Intent intent = new Intent(context, AlarmReceiver.class);\n        final Bundle bundle = new Bundle();\n        bundle.putParcelable(ALARM_KEY, alarm);\n        intent.putExtra(BUNDLE_EXTRA, bundle);\n\n        final PendingIntent pIntent = PendingIntent.getBroadcast(\n                context,\n                alarm.notificationId(),\n                intent,\n                FLAG_UPDATE_CURRENT\n        );\n\n        ScheduleAlarm.with(context).schedule(alarm, pIntent);\n    }\n\n    public static void setReminderAlarms(Context context, List&lt;Alarm&gt; alarms) {\n        for(Alarm alarm : alarms) {\n            setReminderAlarm(context, alarm);\n        }\n    }\n\n    private static Calendar getTimeForNextAlarm(Alarm alarm) {\n\n        final Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(alarm.getTime());\n\n        final long currentTime = System.currentTimeMillis();\n        final int startIndex = getStartIndexFromTime(calendar);\n\n        int count = 0;\n        boolean isAlarmSetForDay;\n\n        final SparseBooleanArray daysArray = alarm.getDays();\n\n        do {\n            final int index = (startIndex + count) % 7;\n            isAlarmSetForDay =\n                    daysArray.valueAt(index) &amp;&amp; (calendar.getTimeInMillis() &gt; currentTime);\n            if(!isAlarmSetForDay) {\n                calendar.add(Calendar.DAY_OF_MONTH, 1);\n                count++;\n            }\n        } while(!isAlarmSetForDay &amp;&amp; count &lt; 7);\n\n        return calendar;\n\n    }\n\n    public static void cancelReminderAlarm(Context context, Alarm alarm) {\n\n        final Intent intent = new Intent(context, AlarmReceiver.class);\n        final PendingIntent pIntent = PendingIntent.getBroadcast(\n                context,\n                alarm.notificationId(),\n                intent,\n                FLAG_UPDATE_CURRENT\n        );\n\n        final AlarmManager manager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n        manager.cancel(pIntent);\n    }\n\n    private static int getStartIndexFromTime(Calendar c) {\n\n        final int dayOfWeek = c.get(Calendar.DAY_OF_WEEK);\n\n        int startIndex = 0;\n        switch (dayOfWeek) {\n            case Calendar.MONDAY:\n                startIndex = 0;\n                break;\n            case Calendar.TUESDAY:\n                startIndex = 1;\n                break;\n            case Calendar.WEDNESDAY:\n                startIndex = 2;\n                break;\n            case Calendar.THURSDAY:\n                startIndex = 3;\n                break;\n            case Calendar.FRIDAY:\n                startIndex = 4;\n                break;\n            case Calendar.SATURDAY:\n                startIndex = 5;\n                break;\n            case Calendar.SUNDAY:\n                startIndex = 6;\n                break;\n        }\n\n        return startIndex;\n\n    }\n\n    private static void createNotificationChannel(Context ctx) {\n        if(SDK_INT &lt; O) return;\n\n        final NotificationManager mgr = ctx.getSystemService(NotificationManager.class);\n        if(mgr == null) return;\n\n        final String name = ctx.getString(R.string.channel_name);\n        if(mgr.getNotificationChannel(name) == null) {\n            final NotificationChannel channel =\n                    new NotificationChannel(CHANNEL_ID, name, IMPORTANCE_HIGH);\n            channel.enableVibration(true);\n            channel.setVibrationPattern(new long[] {1000,500,1000,500,1000,500});\n            channel.setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM),null);\n            channel.setBypassDnd(true);\n            mgr.createNotificationChannel(channel);\n        }\n    }\n\n    private static PendingIntent launchAlarmLandingPage(Context ctx, Alarm alarm) {\n        return PendingIntent.getActivity(\n                ctx, alarm.notificationId(), launchIntent(ctx), FLAG_UPDATE_CURRENT\n        );\n    }\n\n    private static class ScheduleAlarm {\n        private static final String TAG = &quot;ScheduleAlarm&quot;;\n\n        @NonNull private final Context ctx;\n        @NonNull private final AlarmManager am;\n\n        private ScheduleAlarm(@NonNull AlarmManager am, @NonNull Context ctx) {\n            Log.e(TAG, &quot;ScheduleAlarm: constructor&quot; );\n            this.am = am;\n            this.ctx = ctx;\n        }\n\n        static ScheduleAlarm with(Context context) {\n            Log.e(TAG, &quot;with: contect&quot; );\n            final AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n            if(am == null) {\n                throw new IllegalStateException(&quot;AlarmManager is null&quot;);\n            }\n            return new ScheduleAlarm(am, context);\n        }\n\n        void schedule(Alarm alarm, PendingIntent pi) {\n            if(SDK_INT &gt; LOLLIPOP) {\n                Log.e(TAG, &quot;schedule: now&quot;+alarm.getTime() );\n                am.setAlarmClock(new AlarmClockInfo(alarm.getTime(), launchAlarmLandingPage(ctx, alarm)), pi);\n            } else if(SDK_INT &gt; KITKAT) {\n                am.setExact(AlarmManager.RTC_WAKEUP, alarm.getTime(), pi);\n            } else {\n                am.set(AlarmManager.RTC_WAKEUP, alarm.getTime(), pi);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>My manifest</p>\n<pre><code> &lt;receiver android:name=&quot;.alarm.service.AlarmReceiver&quot;\n            android:process=&quot;:remote&quot;/&gt;`\n\n</code></pre>\n<p>My permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.androidtutorialpoint.mymapsappsdirection.permission.MAPS_RECEIVE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALENDAR&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALENDAR&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n</code></pre>\n"},{"tags":["java","exception","tomcat","servlets"],"comments":[{"owner":{"account_id":262720,"reputation":10054,"user_id":547779,"accept_rate":83,"display_name":"Tarlog"},"score":0,"creation_date":1347354648,"post_id":12366201,"comment_id":16608460,"body_markdown":"Does it happen when running in Eclipse or in a standalone Tomcat?","body":"Does it happen when running in Eclipse or in a standalone Tomcat?"},{"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"score":1,"creation_date":1347354855,"post_id":12366201,"comment_id":16608556,"body_markdown":"Check this http://stackoverflow.com/questions/4076601/how-do-i-import-the-javax-servlet-api-in-my-eclipse-project","body":"Check this <a href=\"http://stackoverflow.com/questions/4076601/how-do-i-import-the-javax-servlet-api-in-my-eclipse-project\" title=\"how do i import the javax servlet api in my eclipse project\">stackoverflow.com/questions/4076601/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":262720,"reputation":10054,"user_id":547779,"accept_rate":83,"display_name":"Tarlog"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1347354730,"creation_date":1347354730,"answer_id":12366391,"question_id":12366201,"body_markdown":"Somehow you are missing the `servlet-api.jar`. It should be located in  the `tomcat\\lib` folder.","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>Somehow you are missing the <code>servlet-api.jar</code>. It should be located in  the <code>tomcat\\lib</code> folder.</p>\n"},{"comments":[{"owner":{"account_id":262720,"reputation":10054,"user_id":547779,"accept_rate":83,"display_name":"Tarlog"},"score":0,"creation_date":1347355069,"post_id":12366395,"comment_id":16608639,"body_markdown":"tomcat/common/lib is for Tomcat 5.5 or earlier. Since Tomcat 6 it&#39;s irrelevant.","body":"tomcat/common/lib is for Tomcat 5.5 or earlier. Since Tomcat 6 it&#39;s irrelevant."},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1347361993,"post_id":12366395,"comment_id":16611657,"body_markdown":"caused by eclipse corrupted  build. Solved","body":"caused by eclipse corrupted  build. Solved"}],"tags":[],"owner":{"account_id":1739338,"reputation":300,"user_id":1591179,"accept_rate":40,"display_name":"Ratnakar.class"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347354891,"creation_date":1347354735,"answer_id":12366395,"question_id":12366201,"body_markdown":"&quot;`java.lang.Error: Unresolved compilation problems`: &quot;\r\n\r\nsays that application is not compiled properly. Please put the `servlet-api.jar` in classpath, not just in lib folder of project, but also attach that to classpath.\r\n\r\nPlease make sure that same jar also available in `tomcat/common/lib` folder.\r\n\r\n\r\n","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>\"<code>java.lang.Error: Unresolved compilation problems</code>: \"</p>\n\n<p>says that application is not compiled properly. Please put the <code>servlet-api.jar</code> in classpath, not just in lib folder of project, but also attach that to classpath.</p>\n\n<p>Please make sure that same jar also available in <code>tomcat/common/lib</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":1587724,"reputation":1822,"user_id":1471699,"accept_rate":29,"display_name":"Srinivas B"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1347355118,"creation_date":1347355118,"answer_id":12366494,"question_id":12366201,"body_markdown":"After looking into the Exceptions, you got, some where you have misplaced the jar files \r\n\r\n(servlet-api.jar). It should be under your Project/WEB-INF/lib folder. I think it will \r\n\r\nworks if your jar files are in the path specified above.","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>After looking into the Exceptions, you got, some where you have misplaced the jar files </p>\n\n<p>(servlet-api.jar). It should be under your Project/WEB-INF/lib folder. I think it will </p>\n\n<p>works if your jar files are in the path specified above.</p>\n"},{"tags":[],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1347361931,"creation_date":1347361931,"answer_id":12368397,"question_id":12366201,"body_markdown":"Finally , got my mistake. This was a problem caused by the eclipse build. Since the build was not proper, the class files where corrupted. I cleaned up the whole project, took a fresh build, now its working fine. Thanks for your replies.\r\n","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>Finally , got my mistake. This was a problem caused by the eclipse build. Since the build was not proper, the class files where corrupted. I cleaned up the whole project, took a fresh build, now its working fine. Thanks for your replies.</p>\n"},{"tags":[],"owner":{"account_id":40307,"reputation":3297,"user_id":116810,"accept_rate":80,"display_name":"Kimball Robinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366151014,"creation_date":1366151014,"answer_id":16048218,"question_id":12366201,"body_markdown":"I also saw this exception where the @Resource annotation caused a conflict with two technologies stepping on each other&#39;s toes (tomcat servlet api 3, and spring).","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>I also saw this exception where the @Resource annotation caused a conflict with two technologies stepping on each other's toes (tomcat servlet api 3, and spring).</p>\n"},{"tags":[],"owner":{"account_id":2862803,"reputation":21,"user_id":2457702,"display_name":"ushah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370475275,"creation_date":1370475275,"answer_id":16951546,"question_id":12366201,"body_markdown":"If you get this error &quot;SEVERE: Allocate exception for servlet&quot; coupled with a &quot;java.lang.InstantiationException&quot; exception, make sure that your servlet class has a public no-argument constructor since the servlet container needs to be able to instantiate it.\r\n\r\nIf your servlet class does not have an explicit non-zero argument constructor defined (which is usually the case), the default constructor provided by the compiler would suffice. \r\n","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>If you get this error \"SEVERE: Allocate exception for servlet\" coupled with a \"java.lang.InstantiationException\" exception, make sure that your servlet class has a public no-argument constructor since the servlet container needs to be able to instantiate it.</p>\n\n<p>If your servlet class does not have an explicit non-zero argument constructor defined (which is usually the case), the default constructor provided by the compiler would suffice. </p>\n"},{"tags":[],"owner":{"account_id":7144957,"reputation":549,"user_id":5461035,"accept_rate":78,"display_name":"Vitali"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1512852647,"creation_date":1454162733,"answer_id":35102726,"question_id":12366201,"body_markdown":"I had the same problem! Spent 2 hours searching for solution!\r\nAnd here it is!\r\n\r\n&gt; WebContent (under Dynamic Web Project) -&gt; WEB-INF -&gt; lib (it&#39;s empty-\r\n&gt; all right) -&gt; right click on it (lib) -&gt; Build Path -&gt; Use as Source\r\n&gt; Folder. \r\n\r\nDONE!","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>I had the same problem! Spent 2 hours searching for solution!\nAnd here it is!</p>\n\n<blockquote>\n  <p>WebContent (under Dynamic Web Project) -> WEB-INF -> lib (it's empty-\n  all right) -> right click on it (lib) -> Build Path -> Use as Source\n  Folder. </p>\n</blockquote>\n\n<p>DONE!</p>\n"},{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502126987,"creation_date":1502126987,"answer_id":45552553,"question_id":12366201,"body_markdown":"My case was using J**ava 8 lamda expressions** with older version of Rest that was not based on Java 8","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>My case was using J<strong>ava 8 lamda expressions</strong> with older version of Rest that was not based on Java 8</p>\n"},{"tags":[],"owner":{"account_id":9862974,"reputation":400,"user_id":7305307,"display_name":"Yash Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571094201,"creation_date":1571094201,"answer_id":58385087,"question_id":12366201,"body_markdown":"For me, it happened when I was using Lambda expression inside my junit tests. After commenting from the tests, the server returned the proper api response.","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>For me, it happened when I was using Lambda expression inside my junit tests. After commenting from the tests, the server returned the proper api response.</p>\n"},{"tags":[],"owner":{"account_id":2128522,"reputation":726,"user_id":1889970,"accept_rate":100,"display_name":"user1889970"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588830157,"creation_date":1588830157,"answer_id":61650678,"question_id":12366201,"body_markdown":"I got the similar exception  \r\nWhile moving from java 8 to java 11 I got the following error\r\n\r\n\r\nException org.apache.catalina.core.ApplicationContext.log Servlet.init() for servlet [health-servlet] threw exception java.lang.IllegalArgumentException\r\n\r\n\r\nTo fix the error i upgraded the version in pom\r\n\r\n    &lt;jersey.version&gt;2.23.2&lt;/jersey.version&gt;&lt;!-- Remove this  --&gt;\r\n    &lt;jersey.version&gt;2.30.1&lt;/jersey.version&gt;&lt;!-- Add this  --&gt;\r\n\r\nI had the following entry in my web.xml\r\n\r\n        &lt;servlet&gt;\r\n        &lt;servlet-name&gt;health-servlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.xyz.platform.registry.service.ServiceRegistryApplication&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>I got the similar exception<br>\nWhile moving from java 8 to java 11 I got the following error</p>\n\n<p>Exception org.apache.catalina.core.ApplicationContext.log Servlet.init() for servlet [health-servlet] threw exception java.lang.IllegalArgumentException</p>\n\n<p>To fix the error i upgraded the version in pom</p>\n\n<pre><code>&lt;jersey.version&gt;2.23.2&lt;/jersey.version&gt;&lt;!-- Remove this  --&gt;\n&lt;jersey.version&gt;2.30.1&lt;/jersey.version&gt;&lt;!-- Add this  --&gt;\n</code></pre>\n\n<p>I had the following entry in my web.xml</p>\n\n<pre><code>    &lt;servlet&gt;\n    &lt;servlet-name&gt;health-servlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n        &lt;param-value&gt;com.xyz.platform.registry.service.ServiceRegistryApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16731116,"reputation":1,"user_id":12093431,"display_name":"SHILPA SAI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593017834,"creation_date":1592918009,"answer_id":62535631,"question_id":12366201,"body_markdown":"Go to the Project Properties -&gt; Deployment Assembly -&gt; Check whether the maven dependencies are visible, if they are missing the also we get the same error. I could resolve my adding the maven dependency into the Deployment Assembly.\r\n\r\n  [After adding Maven dependency into the Deployment Assembly, it seems like this]\r\n\r\n\r\n  https://i.stack.imgur.com/7iwaW.jpg","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>Go to the Project Properties -&gt; Deployment Assembly -&gt; Check whether the maven dependencies are visible, if they are missing the also we get the same error. I could resolve my adding the maven dependency into the Deployment Assembly.</p>\n<p>[After adding Maven dependency into the Deployment Assembly, it seems like this]</p>\n<p><a href=\"https://i.stack.imgur.com/7iwaW.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/7iwaW.jpg</a></p>\n"},{"tags":[],"owner":{"account_id":3524392,"reputation":859,"user_id":2945917,"accept_rate":73,"display_name":"user435421"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635421483,"creation_date":1635421483,"answer_id":69753493,"question_id":12366201,"body_markdown":"I had two classes/services annotated with same path values (`javax.ws.rs.Path`). When REST API was trying to init itself there was a hard to instantly see error about duplicated paths.","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>I had two classes/services annotated with same path values (<code>javax.ws.rs.Path</code>). When REST API was trying to init itself there was a hard to instantly see error about duplicated paths.</p>\n"},{"tags":[],"owner":{"account_id":7881509,"reputation":133,"user_id":5955314,"accept_rate":60,"display_name":"jonesy19"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660138410,"creation_date":1660138410,"answer_id":73307273,"question_id":12366201,"body_markdown":"I got this error while running tomcat through eclipse.  It was working fine and then all of a sudden it got this error after I made a few changes to javascript files.  I have no clue why this happened, but when I closed eclipse and reopened it, it started working fine again.","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>I got this error while running tomcat through eclipse.  It was working fine and then all of a sudden it got this error after I made a few changes to javascript files.  I have no clue why this happened, but when I closed eclipse and reopened it, it started working fine again.</p>\n"},{"tags":[],"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684497681,"creation_date":1684497681,"answer_id":76288843,"question_id":12366201,"body_markdown":"I got this error while the servlet is defined in `web.xml` but the servlet class not exist. after check the servlet class, and the servlet class name in `web.xml` be full class name with package prefix, the servlet return page reponse. ","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>I got this error while the servlet is defined in <code>web.xml</code> but the servlet class not exist. after check the servlet class, and the servlet class name in <code>web.xml</code> be full class name with package prefix, the servlet return page reponse.</p>\n"}],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116049,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":12368397,"answer_count":14,"score":13,"last_activity_date":1684497681,"creation_date":1347354052,"question_id":12366201,"body_markdown":"The following stacktrace is what I get when i try to access a servlet, which seems running fine from Tomcat manager. \r\n\r\n    11 Sep, 2012 11:50:12 AM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Marking servlet LoginServlet as unavailable\r\n    11 Sep, 2012 11:50:12 AM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Allocate exception for servlet LoginServlet\r\n    java.lang.Error: Unresolved compilation problems: \r\n    \tThe import javax.servlet cannot be resolved\r\n    \tThe import javax.servlet cannot be resolved\r\n    \tThe import javax.servlet cannot be resolved\r\n    \tThe import javax.servlet cannot be resolved\r\n    \tThe import javax.servlet cannot be resolved\r\n    \tThe import javax.servlet cannot be resolved\r\n    \tHttpServlet cannot be resolved to a type\r\n    \tServletConfig cannot be resolved to a type\r\n    \tServletException cannot be resolved to a type\r\n    \tHttpServlet cannot be resolved to a type\r\n    \tServletContext cannot be resolved to a type\r\n    \tServletException cannot be resolved to a type\r\n    \tHttpServletRequest cannot be resolved to a type\r\n    \tHttpServletResponse cannot be resolved to a type\r\n    \tServletException cannot be resolved to a type\r\n    \trequest cannot be resolved\r\n    \tThe method getLoggedin() from the type LoginHandler refers to the missing type ServletException\r\n    \tThe method destroy() of type LoginManager must override or implement a supertype method\r\n    \tHttpServlet cannot be resolved to a type\r\n    \r\n    \tat com.login.servlets.LoginManager.&lt;init&gt;(LoginManager.java:5)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat java.lang.Class.newInstance0(Unknown Source)\r\n    \tat java.lang.Class.newInstance(Unknown Source)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1149)\r\n    \tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:827)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:129)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n    \tat org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)\r\n    \tat org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)\r\n    \tat org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    11 Sep, 2012 12:05:12 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Marking servlet Log4JInitServlet as unavailable\r\n    11 Sep, 2012 12:05:12 PM org.apache.catalina.core.StandardContext loadOnStartup\r\n    SEVERE: Servlet /logintest threw load() exception\r\n    java.lang.Error: Unresolved compilation problems: \r\n    \tThe import javax.servlet cannot be resolved\r\n    \tThe import javax.servlet cannot be resolved\r\n    \tThe import javax.servlet cannot be resolved\r\n    \tThe import javax.servlet cannot be resolved\r\n    \tThe import org.apache cannot be resolved\r\n    \tThe import org.apache cannot be resolved\r\n    \tHttpServlet cannot be resolved to a type\r\n    \tServletConfig cannot be resolved to a type\r\n    \tServletException cannot be resolved to a type\r\n    \tServletContext cannot be resolved to a type\r\n    \tBasicConfigurator cannot be resolved\r\n    \tPropertyConfigurator cannot be resolved\r\n    \tBasicConfigurator cannot be resolved\r\n    \r\n    \tat com.logger.WebLogger.&lt;init&gt;(WebLogger.java:5)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat java.lang.Class.newInstance0(Unknown Source)\r\n    \tat java.lang.Class.newInstance(Unknown Source)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1149)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1026)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4421)\r\n    \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4734)\r\n    \tat org.apache.catalina.core.StandardContext.reload(StandardContext.java:3461)\r\n    \tat org.apache.catalina.manager.ManagerServlet.reload(ManagerServlet.java:943)\r\n    \tat org.apache.catalina.manager.HTMLManagerServlet.reload(HTMLManagerServlet.java:557)\r\n    \tat org.apache.catalina.manager.HTMLManagerServlet.doGet(HTMLManagerServlet.java:121)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:186)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n    \tat org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)\r\n    \tat org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)\r\n    \tat org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nAll the jars which was used inside eclipse classpath is avaiable in Tomcat lib folder. The webapp is getting deployed with out any error logs, but when i try to access one servlet, this exception occurs, and i get it logged in the tomcat logs. Can any one help with this?\r\n\r\n    The package names are proper inside &#39;classes&#39;, also, the web.xml is proper. \r\nI dont know then why this happens. There are certain other webapps, which almost uses the same libs running fine. Expecting some one can help me with this..\r\n\r\nThanks\r\n","title":"Servlet : SEVERE: Allocate exception for servlet","body":"<p>The following stacktrace is what I get when i try to access a servlet, which seems running fine from Tomcat manager. </p>\n\n<pre><code>11 Sep, 2012 11:50:12 AM org.apache.catalina.core.ApplicationContext log\nINFO: Marking servlet LoginServlet as unavailable\n11 Sep, 2012 11:50:12 AM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Allocate exception for servlet LoginServlet\njava.lang.Error: Unresolved compilation problems: \n    The import javax.servlet cannot be resolved\n    The import javax.servlet cannot be resolved\n    The import javax.servlet cannot be resolved\n    The import javax.servlet cannot be resolved\n    The import javax.servlet cannot be resolved\n    The import javax.servlet cannot be resolved\n    HttpServlet cannot be resolved to a type\n    ServletConfig cannot be resolved to a type\n    ServletException cannot be resolved to a type\n    HttpServlet cannot be resolved to a type\n    ServletContext cannot be resolved to a type\n    ServletException cannot be resolved to a type\n    HttpServletRequest cannot be resolved to a type\n    HttpServletResponse cannot be resolved to a type\n    ServletException cannot be resolved to a type\n    request cannot be resolved\n    The method getLoggedin() from the type LoginHandler refers to the missing type ServletException\n    The method destroy() of type LoginManager must override or implement a supertype method\n    HttpServlet cannot be resolved to a type\n\n    at com.login.servlets.LoginManager.&lt;init&gt;(LoginManager.java:5)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at java.lang.Class.newInstance0(Unknown Source)\n    at java.lang.Class.newInstance(Unknown Source)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1149)\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:827)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:129)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n    at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)\n    at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)\n    at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)\n    at java.lang.Thread.run(Unknown Source)\n11 Sep, 2012 12:05:12 PM org.apache.catalina.core.ApplicationContext log\nINFO: Marking servlet Log4JInitServlet as unavailable\n11 Sep, 2012 12:05:12 PM org.apache.catalina.core.StandardContext loadOnStartup\nSEVERE: Servlet /logintest threw load() exception\njava.lang.Error: Unresolved compilation problems: \n    The import javax.servlet cannot be resolved\n    The import javax.servlet cannot be resolved\n    The import javax.servlet cannot be resolved\n    The import javax.servlet cannot be resolved\n    The import org.apache cannot be resolved\n    The import org.apache cannot be resolved\n    HttpServlet cannot be resolved to a type\n    ServletConfig cannot be resolved to a type\n    ServletException cannot be resolved to a type\n    ServletContext cannot be resolved to a type\n    BasicConfigurator cannot be resolved\n    PropertyConfigurator cannot be resolved\n    BasicConfigurator cannot be resolved\n\n    at com.logger.WebLogger.&lt;init&gt;(WebLogger.java:5)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at java.lang.Class.newInstance0(Unknown Source)\n    at java.lang.Class.newInstance(Unknown Source)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1149)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1026)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4421)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4734)\n    at org.apache.catalina.core.StandardContext.reload(StandardContext.java:3461)\n    at org.apache.catalina.manager.ManagerServlet.reload(ManagerServlet.java:943)\n    at org.apache.catalina.manager.HTMLManagerServlet.reload(HTMLManagerServlet.java:557)\n    at org.apache.catalina.manager.HTMLManagerServlet.doGet(HTMLManagerServlet.java:121)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:186)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n    at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)\n    at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)\n    at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>All the jars which was used inside eclipse classpath is avaiable in Tomcat lib folder. The webapp is getting deployed with out any error logs, but when i try to access one servlet, this exception occurs, and i get it logged in the tomcat logs. Can any one help with this?</p>\n\n<pre><code>The package names are proper inside 'classes', also, the web.xml is proper. \n</code></pre>\n\n<p>I dont know then why this happens. There are certain other webapps, which almost uses the same libs running fine. Expecting some one can help me with this..</p>\n\n<p>Thanks</p>\n"},{"tags":["java","matrix","hashmap","duplicates"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1457363901,"post_id":35847214,"comment_id":59360089,"body_markdown":"`Dead Stackoverflow` - RIP ;)","body":"<code>Dead Stackoverflow</code> - RIP ;)"}],"answers":[{"comments":[{"owner":{"account_id":7246936,"reputation":223,"user_id":5528538,"accept_rate":95,"display_name":"Tvt"},"score":0,"creation_date":1457368954,"post_id":35847495,"comment_id":59363894,"body_markdown":"Mm this makes more sence but the problem that double A&#39;s might be printed or any character actually. Basicly the row should only display the character once \n\nSo if &quot;a,n,4&quot; (bassicly meaning if an happens 4 times and &quot;a,p,5&quot; happens 5 times it should siplay a only once and not twice.\n\nSo this should be the result:\n          A\n     N   4\n     P   5 \n\nAnd not \n\n         A   A\n    N   4\n    P        5","body":"Mm this makes more sence but the problem that double A&#39;s might be printed or any character actually. Basicly the row should only display the character once   So if &quot;a,n,4&quot; (bassicly meaning if an happens 4 times and &quot;a,p,5&quot; happens 5 times it should siplay a only once and not twice.  So this should be the result:           A      N   4      P   5   And not            A   A     N   4     P        5"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1457369143,"post_id":35847495,"comment_id":59364037,"body_markdown":"@Tvt you realize that column values are printed only once for each row and that using a set for `columns` effectively removes any duplicates? Of course if you have data like &quot;a,n,4&quot; and &quot;n,a,4&quot; you&#39;d get 4 entries: 2 lines with values &quot;a, 0, 4&quot; and &quot;n, 4, 0&quot;. - that said, I&#39;m not sure where you get that `A A N 4 P 5` from.","body":"@Tvt you realize that column values are printed only once for each row and that using a set for <code>columns</code> effectively removes any duplicates? Of course if you have data like &quot;a,n,4&quot; and &quot;n,a,4&quot; you&#39;d get 4 entries: 2 lines with values &quot;a, 0, 4&quot; and &quot;n, 4, 0&quot;. - that said, I&#39;m not sure where you get that <code>A A N 4 P 5</code> from."},{"owner":{"account_id":7246936,"reputation":223,"user_id":5528538,"accept_rate":95,"display_name":"Tvt"},"score":0,"creation_date":1457369289,"post_id":35847495,"comment_id":59364147,"body_markdown":"yea i do but is there a way to filter this? To make it look like this: http://prnt.sc/accgqi\n\nDon&#39;t know if this is even possible.","body":"yea i do but is there a way to filter this? To make it look like this: <a href=\"http://prnt.sc/accgqi\" rel=\"nofollow noreferrer\">prnt.sc/accgqi</a>  Don&#39;t know if this is even possible."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1457369457,"post_id":35847495,"comment_id":59364287,"body_markdown":"@Tvt of course this is possible. What do you mean with &quot;filter this&quot;? If you mean to filter the columns just provide them manually (i.e. select which columns you want to see and don&#39;t collect them from the mappings). If the rows should be filtered as well just check whether the key is in the allowed set of keys (could be `columns` as per your example) and if not you skip that row.","body":"@Tvt of course this is possible. What do you mean with &quot;filter this&quot;? If you mean to filter the columns just provide them manually (i.e. select which columns you want to see and don&#39;t collect them from the mappings). If the rows should be filtered as well just check whether the key is in the allowed set of keys (could be <code>columns</code> as per your example) and if not you skip that row."},{"owner":{"account_id":7246936,"reputation":223,"user_id":5528538,"accept_rate":95,"display_name":"Tvt"},"score":0,"creation_date":1457369693,"post_id":35847495,"comment_id":59364471,"body_markdown":"What i mean with &quot;Filter this&quot; is that i would like to check if the collom like A already exists and if yes apply it to that col/row so it would be in order.\n\nI do not know how it should check it&#39;s position again then so it posts in the right row+kolom","body":"What i mean with &quot;Filter this&quot; is that i would like to check if the collom like A already exists and if yes apply it to that col/row so it would be in order.  I do not know how it should check it&#39;s position again then so it posts in the right row+kolom"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1457370122,"post_id":35847495,"comment_id":59364777,"body_markdown":"@Tvt that&#39;s what I do in my example: iterate over the rows, for each row iterate over the columns (always in the same order for that call) and check whether it exists in that row. If not you print 0 at that position otherwise you print the actual value.","body":"@Tvt that&#39;s what I do in my example: iterate over the rows, for each row iterate over the columns (always in the same order for that call) and check whether it exists in that row. If not you print 0 at that position otherwise you print the actual value."},{"owner":{"account_id":7246936,"reputation":223,"user_id":5528538,"accept_rate":95,"display_name":"Tvt"},"score":0,"creation_date":1457371371,"post_id":35847495,"comment_id":59365604,"body_markdown":"Thnx alot btw Thomas!  Will try this later tonight or tommorow morning. Will let you know if it works! And then mark awnser ofcourse","body":"Thnx alot btw Thomas!  Will try this later tonight or tommorow morning. Will let you know if it works! And then mark awnser ofcourse"}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1473061532,"creation_date":1457364335,"answer_id":35847495,"question_id":35847214,"body_markdown":"I don&#39;t know what exactly your data should represent but the basic problem seems to be your inner loop:\r\n\r\n    for(Character column: charFrequentie.get(row).keySet()){\r\n        theColumnList += column.charValue() + &quot;\\t&quot;;\r\n        theRowList += &quot;\\t&quot; +  charFrequentie.get(row).get(column);\r\n    }\r\n\r\nHere you would add the _same_ character to the column list if it exists in the mapping for multiple rows, e.g. if you have a frequency for a-&gt;c and b-&gt;c you&#39;d have c twice in your column list.\r\n\r\nBesides that you&#39;d need to iterate over _all_ characters in your mappings and in the same order. You currently just use the values per row and since you don&#39;t know which column they&#39;re in you can&#39;t fill the other columns with 0s.\r\n\r\nTo fix that you&#39;d have to loop twice (otherwise you could miss trailing zeros in the top rows):\r\n\r\n- once to get all columns\r\n- once to actually print the rows\r\n\r\n\r\nThe order of columns would either have to be supplied/defined or depend on the order in the mappings. \r\n\r\nExample:\r\n\r\n    //Step 1: collect all the columns that have values\r\n    Set&lt;Character&gt; columns = new LinkedHashSet&lt;&gt;();\r\n    for(Character row : charFrequentie.keySet()){\r\n      //gets the mapped characters for the row and adds them in the order they are returned ignoring any duplicates \r\n      columns.addAll(charFrequentie.get(row).keySet());\r\n    }\r\n    \r\n    //Step 2: print\r\n    for( Character col : columns ) {\r\n      //print the columns as the first line\r\n    }\r\n  \r\n    //here you iterate over the rows since you&#39;ll print line by line\r\n    for(Character row : charFrequentie.keySet()){\r\n      //go over the columns in the same order for each row\r\n      for( Character col : columns ) {\r\n        //get the frequency for the column in that row, which might be null       \r\n        Integer frequency = charFrequentie.get(row).get(col);\r\n\r\n        //if there is no value for the column in the current row just print 0\r\n        if( frequency == null ) {\r\n          //print 0\r\n        } else {\r\n          //there is a frequency value so just print it         \r\n        }\r\n      }\r\n    }\r\n\r\nTwo notes on the columns and their ordering:\r\n\r\n- Since you only provide hashmaps you can&#39;t determine the order of the columns (with `LinkedHashSet` the order would be as returned by the maps but that would still not be defined since hash maps normally don&#39;t define an order. If you want a specific order you&#39;d have to sort the columns (use a sorted set then) or provide them manually.\r\n- If you don&#39;t have entries for frequency 0 you&#39;ll not get any column that has all zeros as in your example where `o` and `m` have only 0-values. In that case you&#39;d have to provide them manually to get columns that have no frequency data.\r\n\r\n__Edit:__\r\n\r\nTo make the example clearer assume the following input data (format: row,column,frequency)\r\n\r\n    a,a,1\r\n    a,b,5\r\n    a,c,3\r\n    b,a,5\r\n    b,e,7\r\n\r\nThis will result in a column set having the values `a`, `b`, `c`, `e` in any order (since you use hashmaps).\r\n\r\nThe output could look like this (again the order can be different due to using hashmaps, I just use a random order):\r\n\r\n      b e a c\r\n    b 0 7 5 0  \r\n    a 5 0 1 3\r\n","title":"Matrix Table with Hashmap printing","body":"<p>I don't know what exactly your data should represent but the basic problem seems to be your inner loop:</p>\n\n<pre><code>for(Character column: charFrequentie.get(row).keySet()){\n    theColumnList += column.charValue() + \"\\t\";\n    theRowList += \"\\t\" +  charFrequentie.get(row).get(column);\n}\n</code></pre>\n\n<p>Here you would add the <em>same</em> character to the column list if it exists in the mapping for multiple rows, e.g. if you have a frequency for a->c and b->c you'd have c twice in your column list.</p>\n\n<p>Besides that you'd need to iterate over <em>all</em> characters in your mappings and in the same order. You currently just use the values per row and since you don't know which column they're in you can't fill the other columns with 0s.</p>\n\n<p>To fix that you'd have to loop twice (otherwise you could miss trailing zeros in the top rows):</p>\n\n<ul>\n<li>once to get all columns</li>\n<li>once to actually print the rows</li>\n</ul>\n\n<p>The order of columns would either have to be supplied/defined or depend on the order in the mappings. </p>\n\n<p>Example:</p>\n\n<pre><code>//Step 1: collect all the columns that have values\nSet&lt;Character&gt; columns = new LinkedHashSet&lt;&gt;();\nfor(Character row : charFrequentie.keySet()){\n  //gets the mapped characters for the row and adds them in the order they are returned ignoring any duplicates \n  columns.addAll(charFrequentie.get(row).keySet());\n}\n\n//Step 2: print\nfor( Character col : columns ) {\n  //print the columns as the first line\n}\n\n//here you iterate over the rows since you'll print line by line\nfor(Character row : charFrequentie.keySet()){\n  //go over the columns in the same order for each row\n  for( Character col : columns ) {\n    //get the frequency for the column in that row, which might be null       \n    Integer frequency = charFrequentie.get(row).get(col);\n\n    //if there is no value for the column in the current row just print 0\n    if( frequency == null ) {\n      //print 0\n    } else {\n      //there is a frequency value so just print it         \n    }\n  }\n}\n</code></pre>\n\n<p>Two notes on the columns and their ordering:</p>\n\n<ul>\n<li>Since you only provide hashmaps you can't determine the order of the columns (with <code>LinkedHashSet</code> the order would be as returned by the maps but that would still not be defined since hash maps normally don't define an order. If you want a specific order you'd have to sort the columns (use a sorted set then) or provide them manually.</li>\n<li>If you don't have entries for frequency 0 you'll not get any column that has all zeros as in your example where <code>o</code> and <code>m</code> have only 0-values. In that case you'd have to provide them manually to get columns that have no frequency data.</li>\n</ul>\n\n<p><strong>Edit:</strong></p>\n\n<p>To make the example clearer assume the following input data (format: row,column,frequency)</p>\n\n<pre><code>a,a,1\na,b,5\na,c,3\nb,a,5\nb,e,7\n</code></pre>\n\n<p>This will result in a column set having the values <code>a</code>, <code>b</code>, <code>c</code>, <code>e</code> in any order (since you use hashmaps).</p>\n\n<p>The output could look like this (again the order can be different due to using hashmaps, I just use a random order):</p>\n\n<pre><code>  b e a c\nb 0 7 5 0  \na 5 0 1 3\n</code></pre>\n"}],"owner":{"account_id":7246936,"reputation":223,"user_id":5528538,"accept_rate":95,"display_name":"Tvt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1031,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35847495,"answer_count":1,"score":0,"last_activity_date":1684497576,"creation_date":1457363595,"question_id":35847214,"body_markdown":"I making a code as an assignment through Hadoop to write a Matrix table of the value&#39;s read from a text file. Basically it has to read how many times a character comes after a certain other character.\r\n\r\nI have those value&#39;s already though my code in hadoop and put them into a hashmap &lt;char1,hashmap&lt;char2,value&gt;&gt;  And pass them on to a function called Frequency table:\r\n\r\n     public void FrequencieTable(HashMap&lt;Character, HashMap&lt;Character,Integer&gt;&gt; charFrequentie){\r\n\t\tString theRowList = &quot;&quot;;\r\n\t\tString theColumnList = &quot;&quot;;\r\n\t\tfor(Character row : charFrequentie.keySet()){\r\n\t\t\ttheRowList += &quot;\\n&quot; + row;\r\n\t\t\tfor(Character column : charFrequentie.get(row).keySet()) {\r\n\t\t\t\ttheColumnList += column.charValue() + &quot;\\t&quot;;\r\n\t\t\t\ttheRowList += &quot;\\t&quot; +  charFrequentie.get(row).get(column);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;\\t&quot; + theColomList +  &quot;\\n&quot;);\r\n\t\t\tSystem.out.println(theRowList);\r\n\t\t}\r\n\t}\r\n\r\nOnly this gives the wrong output because it should only display every single char like &quot;H&quot; once on a row and a column and if there is not any data there it should display 0.\r\n\r\nBasically it gives this output:\r\n\r\n     \tu\ts\ta\to\te\tm\tg\td\tt\tn\tj\tt\ta\tn\tg\tt\te\tm\ta\tt\te\te\ta\to\te\tu\ts\tg\tl\tj\tk\t\r\n\r\n\r\n    g\t1\t1\t2\t2\r\n    d\t1\t1\r\n    e\t1\t2\t2\t1\t1\r\n    a\t2\t2\t3\r\n    n\t2\t2\r\n    o\t2\t1\r\n\r\nWhile it should be something like this: ( No duplications ) \r\n\r\n     \tu\ts\ta\to\te\tm\tg\td\tt\tn\tj\t\r\n    g\t0   0   0   0   0   0   0   1\t1\t2\t2\r\n    d\t1\t1   0   0   1   0   3   0   0   0   0\r\n\r\nDoes anybody have any idea what we should do? We are totally clueless atm.\r\n\r\nThank you already ","title":"Matrix Table with Hashmap printing","body":"<p>I making a code as an assignment through Hadoop to write a Matrix table of the value's read from a text file. Basically it has to read how many times a character comes after a certain other character.</p>\n<p>I have those value's already though my code in hadoop and put them into a hashmap &lt;char1,hashmap&lt;char2,value&gt;&gt;  And pass them on to a function called Frequency table:</p>\n<pre><code> public void FrequencieTable(HashMap&lt;Character, HashMap&lt;Character,Integer&gt;&gt; charFrequentie){\n    String theRowList = &quot;&quot;;\n    String theColumnList = &quot;&quot;;\n    for(Character row : charFrequentie.keySet()){\n        theRowList += &quot;\\n&quot; + row;\n        for(Character column : charFrequentie.get(row).keySet()) {\n            theColumnList += column.charValue() + &quot;\\t&quot;;\n            theRowList += &quot;\\t&quot; +  charFrequentie.get(row).get(column);\n        }\n        \n        System.out.println(&quot;\\t&quot; + theColomList +  &quot;\\n&quot;);\n        System.out.println(theRowList);\n    }\n}\n</code></pre>\n<p>Only this gives the wrong output because it should only display every single char like &quot;H&quot; once on a row and a column and if there is not any data there it should display 0.</p>\n<p>Basically it gives this output:</p>\n<pre><code>    u   s   a   o   e   m   g   d   t   n   j   t   a   n   g   t   e   m   a   t   e   e   a   o   e   u   s   g   l   j   k   \n\n\ng   1   1   2   2\nd   1   1\ne   1   2   2   1   1\na   2   2   3\nn   2   2\no   2   1\n</code></pre>\n<p>While it should be something like this: ( No duplications )</p>\n<pre><code>    u   s   a   o   e   m   g   d   t   n   j   \ng   0   0   0   0   0   0   0   1   1   2   2\nd   1   1   0   0   1   0   3   0   0   0   0\n</code></pre>\n<p>Does anybody have any idea what we should do? We are totally clueless atm.</p>\n<p>Thank you already</p>\n"},{"tags":["java","postgresql","spring-boot","ssl-certificate","application.properties"],"answers":[{"comments":[{"owner":{"account_id":1252576,"reputation":2885,"user_id":1212682,"display_name":"Yiling"},"score":0,"creation_date":1600048602,"post_id":59572536,"comment_id":112955640,"body_markdown":"Would that ` really work in this jdbc connection string?","body":"Would that ` really work in this jdbc connection string?"}],"tags":[],"owner":{"account_id":13846460,"reputation":341,"user_id":9995502,"display_name":"Kent Bull"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1578018745,"creation_date":1578018745,"answer_id":59572536,"question_id":54257758,"body_markdown":"I used a relative path for a certificate I placed in `src/main/resources` and that worked just fine:\r\n````\r\njdbc:postgresql://db_host:db_port/db_name?\r\n    sslmode=require&amp;\r\n    sslrootcert=`my_root_certificate.crt`\r\n````\r\nIt appears the URL is the only place to specify these parameters. You could do interpolation with environment variables as well.","title":"Spring Boot connection to Postgresql with SSL","body":"<p>I used a relative path for a certificate I placed in <code>src/main/resources</code> and that worked just fine:</p>\n\n<pre><code>jdbc:postgresql://db_host:db_port/db_name?\n    sslmode=require&amp;\n    sslrootcert=`my_root_certificate.crt`\n</code></pre>\n\n<p>It appears the URL is the only place to specify these parameters. You could do interpolation with environment variables as well.</p>\n"},{"tags":[],"owner":{"account_id":1474584,"reputation":876,"user_id":1385310,"accept_rate":63,"display_name":"Tian Na"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1582586075,"creation_date":1582496145,"answer_id":60367391,"question_id":54257758,"body_markdown":"I was not able to get it working with `org.postgresql.ssl.NonValidatingFactory`\r\n\r\nI appended `?sslmode=verify-full` to the end of the connection string. \r\n\r\nBy default it will use `org.postgresql.ssl.LibPQFactory`\r\n\r\nBy default it will look for certificates under  `$HOME/.postgresql/` as follows:\r\n\r\n    org.postgresql.PGProperty.SSL_ROOT_CERT; root.crt\r\n    org.postgresql.PGProperty.SSL_CERT; postgresql.crt\r\n    org.postgresql.PGProperty.SSL_KEY; postgresql.pk8\r\n\r\n\r\nTo convert your private key to pk8 format:\r\n\r\n    openssl pkcs8 -topk8 -inform PEM -outform DER -in postgresql.key -out postgresql.pk8 -nocrypt\r\n\r\n","title":"Spring Boot connection to Postgresql with SSL","body":"<p>I was not able to get it working with <code>org.postgresql.ssl.NonValidatingFactory</code></p>\n\n<p>I appended <code>?sslmode=verify-full</code> to the end of the connection string. </p>\n\n<p>By default it will use <code>org.postgresql.ssl.LibPQFactory</code></p>\n\n<p>By default it will look for certificates under  <code>$HOME/.postgresql/</code> as follows:</p>\n\n<pre><code>org.postgresql.PGProperty.SSL_ROOT_CERT; root.crt\norg.postgresql.PGProperty.SSL_CERT; postgresql.crt\norg.postgresql.PGProperty.SSL_KEY; postgresql.pk8\n</code></pre>\n\n<p>To convert your private key to pk8 format:</p>\n\n<pre><code>openssl pkcs8 -topk8 -inform PEM -outform DER -in postgresql.key -out postgresql.pk8 -nocrypt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9809334,"reputation":129,"user_id":7268050,"display_name":"Farid Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666078768,"creation_date":1666078768,"answer_id":74107364,"question_id":54257758,"body_markdown":"If you are using GCP, Please follow the below process to connect cloudsql-postgres with spring boot.\r\n\r\nI was able to solve it.\r\n\r\nCreate the DB in cloud and create client certifcates.\r\n1. Allow SSL connections only&quot; should be configured in the GCP DB.\r\n2. GCP provides you with 3 things client-cert.pem client-key.pem server-ca.pem\r\n3. The client key must be converted to pk8 with the following command:\r\n`sudo openssl pkcs8 -topk8 -inform PEM -outform DER -in client-key.pem -out client-key.pk8 -nocrypt`\r\n\r\n4. These files must be saved somewhere in the server that is running TB, the folder I used was `/root/pgcerts/` since I was already using it for something else (This folder was created by me)\r\n\r\n5. Privileges must be given:\r\n`chmod o+r /root/pgcerts/client-key.pk8`\r\n\r\nIn the POSTGRESQL section in the file `application.properties` the following information must be used.\r\n\r\n\r\n----------\r\n\r\n```\r\ndatabase=postgresql\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.database-platform= org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.hibernate.show-sql= true\r\nspring.datasource.username= &lt;username&gt;\r\nspring.datasource.password= &lt;password&gt;\r\nspring.sql.init.mode=always\r\nspring.datasource.url= jdbc:postgresql://DATABASEIP:5432/postgres?sslmode=require&amp;sslrootcert=/root/pgcerts/server-ca.pem&amp;sslcert=/root/pgcerts/client-cert.pem&amp;sslkey=/root/pgcerts/client-key.pk8\r\n```\r\n","title":"Spring Boot connection to Postgresql with SSL","body":"<p>If you are using GCP, Please follow the below process to connect cloudsql-postgres with spring boot.</p>\n<p>I was able to solve it.</p>\n<p>Create the DB in cloud and create client certifcates.</p>\n<ol>\n<li><p>Allow SSL connections only&quot; should be configured in the GCP DB.</p>\n</li>\n<li><p>GCP provides you with 3 things client-cert.pem client-key.pem server-ca.pem</p>\n</li>\n<li><p>The client key must be converted to pk8 with the following command:\n<code>sudo openssl pkcs8 -topk8 -inform PEM -outform DER -in client-key.pem -out client-key.pk8 -nocrypt</code></p>\n</li>\n<li><p>These files must be saved somewhere in the server that is running TB, the folder I used was <code>/root/pgcerts/</code> since I was already using it for something else (This folder was created by me)</p>\n</li>\n<li><p>Privileges must be given:\n<code>chmod o+r /root/pgcerts/client-key.pk8</code></p>\n</li>\n</ol>\n<p>In the POSTGRESQL section in the file <code>application.properties</code> the following information must be used.</p>\n<hr />\n<pre><code>database=postgresql\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.database-platform= org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.show-sql= true\nspring.datasource.username= &lt;username&gt;\nspring.datasource.password= &lt;password&gt;\nspring.sql.init.mode=always\nspring.datasource.url= jdbc:postgresql://DATABASEIP:5432/postgres?sslmode=require&amp;sslrootcert=/root/pgcerts/server-ca.pem&amp;sslcert=/root/pgcerts/client-cert.pem&amp;sslkey=/root/pgcerts/client-key.pk8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684497106,"creation_date":1684492909,"answer_id":76288279,"question_id":54257758,"body_markdown":"If you&#39;re using Hikari, you can set properties like this:\r\n\r\n```yaml\r\nspring.datasource:\r\n  url: jdbc:postgresql://host:port/db\r\n  hikari.data-source-properties:\r\n    ssl: true\r\n    sslmode: verify-ca\r\n    sslcert: path_to_client_cert\r\n    sslkey: path_to_client_key\r\n    sslrootcert: path_to_ca_cert\r\n```\r\n\r\nRelative paths will work. The value is just passed to `new FileInputStream(String)`.\r\n\r\nIf you need something more complex, like loading classpath resources, then you&#39;ll need to provide a custom (or just different) `sslfactory`.\r\n\r\nFor example, [`org.postgresql.ssl.SingleCertValidatingFactory`][1] supports a `classpath:` URL.\r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ssl/SingleCertValidatingFactory.html","title":"Spring Boot connection to Postgresql with SSL","body":"<p>If you're using Hikari, you can set properties like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.datasource:\n  url: jdbc:postgresql://host:port/db\n  hikari.data-source-properties:\n    ssl: true\n    sslmode: verify-ca\n    sslcert: path_to_client_cert\n    sslkey: path_to_client_key\n    sslrootcert: path_to_ca_cert\n</code></pre>\n<p>Relative paths will work. The value is just passed to <code>new FileInputStream(String)</code>.</p>\n<p>If you need something more complex, like loading classpath resources, then you'll need to provide a custom (or just different) <code>sslfactory</code>.</p>\n<p>For example, <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ssl/SingleCertValidatingFactory.html\" rel=\"nofollow noreferrer\"><code>org.postgresql.ssl.SingleCertValidatingFactory</code></a> supports a <code>classpath:</code> URL.</p>\n"}],"owner":{"account_id":15152416,"reputation":111,"user_id":10934393,"display_name":"Fabio Santambrogio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18181,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1684497106,"creation_date":1547828277,"question_id":54257758,"body_markdown":"I have a Spring Boot application (version 2.1.1) using Postgresql 9.6 as database.\r\nI have to connect to the db via SSL with `sslmode=verify-ca`.\r\nWhat I have done till now is to set in the Application.properties file the property\r\n\r\n    spring.datasource.url=jdbc:postgresql://`url`:`port`/`db`?\r\n        ssl=true&amp;\r\n        sslmode=verify-ca&amp;\r\n        sslcert=`path_to_client_cert`&amp;\r\n        sslkey=`path_to_client_key`&amp;\r\n        sslrootcert=`path_to_ca_cert`\r\n\r\nIs there a way to specify the ssl properties in some others spring properties and not in the connection url?\r\n\r\nAlso, there is the possibility to specify relative paths for the certificates instead of using the absolute paths?\r\n\r\n","title":"Spring Boot connection to Postgresql with SSL","body":"<p>I have a Spring Boot application (version 2.1.1) using Postgresql 9.6 as database.\nI have to connect to the db via SSL with <code>sslmode=verify-ca</code>.\nWhat I have done till now is to set in the Application.properties file the property</p>\n\n<pre><code>spring.datasource.url=jdbc:postgresql://`url`:`port`/`db`?\n    ssl=true&amp;\n    sslmode=verify-ca&amp;\n    sslcert=`path_to_client_cert`&amp;\n    sslkey=`path_to_client_key`&amp;\n    sslrootcert=`path_to_ca_cert`\n</code></pre>\n\n<p>Is there a way to specify the ssl properties in some others spring properties and not in the connection url?</p>\n\n<p>Also, there is the possibility to specify relative paths for the certificates instead of using the absolute paths?</p>\n"},{"tags":["java","enums","java-17","sealed-class"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1684496006,"post_id":76288573,"comment_id":134529337,"body_markdown":"&quot;*If it would implement a sealed interface it can only be non-sealed.*&quot;—I don&#39;t understand what that is intended to mean.","body":"&quot;<i>If it would implement a sealed interface it can only be non-sealed.</i>&quot;—I don&#39;t understand what that is intended to mean."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684496063,"post_id":76288573,"comment_id":134529346,"body_markdown":"Why do you think a thing that _implements_ a sealed interface can&#39;t be _final_? Link to whatever docs/specs, etc.","body":"Why do you think a thing that <i>implements</i> a sealed interface can&#39;t be <i>final</i>? Link to whatever docs/specs, etc."},{"owner":{"account_id":28634990,"reputation":1,"user_id":21925285,"display_name":"Naruga"},"score":0,"creation_date":1684496264,"post_id":76288573,"comment_id":134529385,"body_markdown":"@khelwood Because subtypes of sealed must be final, sealed or non sealed","body":"@khelwood Because subtypes of sealed must be final, sealed or non sealed"},{"owner":{"account_id":28634990,"reputation":1,"user_id":21925285,"display_name":"Naruga"},"score":0,"creation_date":1684496300,"post_id":76288573,"comment_id":134529395,"body_markdown":"@rzwitserloot That’s not what I meant. I said an enum cannot be final.","body":"@rzwitserloot That’s not what I meant. I said an enum cannot be final."},{"owner":{"account_id":28634990,"reputation":1,"user_id":21925285,"display_name":"Naruga"},"score":0,"creation_date":1684496364,"post_id":76288573,"comment_id":134529410,"body_markdown":"@JoachimSauer This is my first time asking a question here. It was generated automatically and I fixed it :)","body":"@JoachimSauer This is my first time asking a question here. It was generated automatically and I fixed it :)"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1684496410,"post_id":76288573,"comment_id":134529424,"body_markdown":"@Raed an enum is always final, therefore, you don&#39;t need to declare it final","body":"@Raed an enum is always final, therefore, you don&#39;t need to declare it final"},{"owner":{"account_id":28634990,"reputation":1,"user_id":21925285,"display_name":"Naruga"},"score":0,"creation_date":1684496583,"post_id":76288573,"comment_id":134529459,"body_markdown":"@MauricePerry I think my reasoning was not that clear. I edited my question","body":"@MauricePerry I think my reasoning was not that clear. I edited my question"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1684496613,"post_id":76288573,"comment_id":134529467,"body_markdown":"That&#39;s a tricky argument. The enum type _itself_ isn&#39;t final but _is_ &#39;sealed&#39;, in the sense that any subtypes are either right there in the same source file, or cannot exist. I think you&#39;re being downvoted because you&#39;ve done no work at all here. Why haven&#39;t you tried it? Show the code, show the compiler output. Why haven&#39;t you linked to the relevant sections in the JLS? Is your point &#39;I think javac and the spec disagree&#39;, or is your point &#39;can I or can&#39;t I&#39;?","body":"That&#39;s a tricky argument. The enum type <i>itself</i> isn&#39;t final but <i>is</i> &#39;sealed&#39;, in the sense that any subtypes are either right there in the same source file, or cannot exist. I think you&#39;re being downvoted because you&#39;ve done no work at all here. Why haven&#39;t you tried it? Show the code, show the compiler output. Why haven&#39;t you linked to the relevant sections in the JLS? Is your point &#39;I think javac and the spec disagree&#39;, or is your point &#39;can I or can&#39;t I&#39;?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1684497093,"post_id":76288573,"comment_id":134529556,"body_markdown":"@Naruga The intent of the downvote is to discourage people from asking bad questions. We aren&#39;t paid by StackOverflow or otherwise directly benefit from it being used a lot. In fact, quite the opposite: If SO attracts bad questions, I think most folks who frequently answer SO questions would be saddened by that.","body":"@Naruga The intent of the downvote is to discourage people from asking bad questions. We aren&#39;t paid by StackOverflow or otherwise directly benefit from it being used a lot. In fact, quite the opposite: If SO attracts bad questions, I think most folks who frequently answer SO questions would be saddened by that."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684497555,"post_id":76288573,"comment_id":134529657,"body_markdown":"From Java Language Specification [8.9. Enum Classes](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.9-210): &quot;An enum class is either implicitly final or implicitly sealed, ...&quot;, that is, &quot;*can only be non-sealed*&quot; is not correct","body":"From Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.9-210\" rel=\"nofollow noreferrer\">8.9. Enum Classes</a>: &quot;An enum class is either implicitly final or implicitly sealed, ...&quot;, that is, &quot;<i>can only be non-sealed</i>&quot; is not correct"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684751070,"post_id":76288770,"comment_id":134557560,"body_markdown":"Actually, your `enum` type with subclass quacks, walks, and swims like a `sealed` type. The difference between an implicitly final and implicitly sealed enum has [been defined precisely in JLS&#160;&#167;8.9](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.9:~:text=An%20enum%20class%20is%20either%20implicitly%20final%20or%20implicitly%20sealed%2C%20as,have%20a%20class%20body.)","body":"Actually, your <code>enum</code> type with subclass quacks, walks, and swims like a <code>sealed</code> type. The difference between an implicitly final and implicitly sealed enum has <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.9:~:text=An%20enum%20class%20is%20either%20implicitly%20final%20or%20implicitly%20sealed%2C%20as,have%20a%20class%20body.\" rel=\"nofollow noreferrer\">been defined precisely in JLS &#167;8.9</a>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684757367,"post_id":76288770,"comment_id":134558768,"body_markdown":"That&#39;s getting into a bit more detail, but, sure. The sealed system doesn&#39;t make sense if one of the things explicitly listed is uncontrollably extendable. Both `final` and `sealed` types have the property that they are _not_ infinitely extendable; but given that OP seemed to be somewhat confused about what `sealed` does, I thought it best to stick to simpler concepts.","body":"That&#39;s getting into a bit more detail, but, sure. The sealed system doesn&#39;t make sense if one of the things explicitly listed is uncontrollably extendable. Both <code>final</code> and <code>sealed</code> types have the property that they are <i>not</i> infinitely extendable; but given that OP seemed to be somewhat confused about what <code>sealed</code> does, I thought it best to stick to simpler concepts."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684758392,"post_id":76288770,"comment_id":134559022,"body_markdown":"I had the feeling that saying “it’s like final”, followed by having to explain why it still is like final despite having a subclass is more complicated than saying “it’s like sealed” which is a perfect fit, as you said, it’s “not infinitely extendable”. But in the end, I think the OP’s confusion has to do with the wrong assumption that an explicit “final” or “sealed” modifier was needed. Which is then contradicted by the assumption “it can only be non-sealed” despite it’s impossible to add the “non-sealed” modifier either.","body":"I had the feeling that saying “it’s like final”, followed by having to explain why it still is like final despite having a subclass is more complicated than saying “it’s like sealed” which is a perfect fit, as you said, it’s “not infinitely extendable”. But in the end, I think the OP’s confusion has to do with the wrong assumption that an explicit “final” or “sealed” modifier was needed. Which is then contradicted by the assumption “it can only be non-sealed” despite it’s impossible to add the “non-sealed” modifier either."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684496986,"creation_date":1684496986,"answer_id":76288770,"question_id":76288573,"body_markdown":"I have taken the 5 seconds required to test it:\r\n\r\nFoo.java:\r\n```\r\npublic sealed interface Foo permits Bar {}\r\n```\r\n\r\nBar.java:\r\n```\r\npublic enum Bar implements Foo {\r\n  A, B {\r\n    void baz() {}\r\n  }\r\n}\r\n```\r\n\r\n\r\nThe enum even has effectively a subclass (the inner class representing B).\r\n\r\n```\r\n&gt; javac *.java\r\n```\r\n\r\ncompiles just fine, no complaints from javac.\r\n\r\nFrom a mental model it makes perfect sense: An enum type quacks, walks, and swims like a `final` type: An enum cannot be extended by other code, only by recompiling it. Yes, an enum can be &#39;subclassed&#39; (that&#39;s what B up there is doing: It makes a new anonymous class, more or less named `Foo$B extends Foo`, which includes that `baz()` method, and the JVM will make a singleton instance of that class. Except, of course, `javac` manages all this. You cannot actually get an actual source file with the actual letters `class Foo$B extends Foo {}` (where `Foo` is an `enum`) to be compiled with a `javac` that adheres to the spec.\r\n\r\nIt sounds like you were asking &#39;is it possible&#39;, in which case, [A] yes, and [B] I strongly suggest you just try this stuff; it&#39;ll take less time than writing an SO question and you learn more.\r\n\r\nPerhaps you meant: &quot;I think they should not, but `javac` allows it&quot;. In which case, that breaks down into 2 further variants: &quot;... I am confused about why it is allowed&quot; (the above explanation should then suffice to explain why), or &quot;... I think the JLS is broken because the way I read it, you should not be able to do this&quot;. In which case, file a bug with openjdk project, if you want. But the bug is then in the JLS, not in javac: Being able to write the above is obviously the right intent.\r\n","title":"Can a Java enum implement a sealed interface?","body":"<p>I have taken the 5 seconds required to test it:</p>\n<p>Foo.java:</p>\n<pre><code>public sealed interface Foo permits Bar {}\n</code></pre>\n<p>Bar.java:</p>\n<pre><code>public enum Bar implements Foo {\n  A, B {\n    void baz() {}\n  }\n}\n</code></pre>\n<p>The enum even has effectively a subclass (the inner class representing B).</p>\n<pre><code>&gt; javac *.java\n</code></pre>\n<p>compiles just fine, no complaints from javac.</p>\n<p>From a mental model it makes perfect sense: An enum type quacks, walks, and swims like a <code>final</code> type: An enum cannot be extended by other code, only by recompiling it. Yes, an enum can be 'subclassed' (that's what B up there is doing: It makes a new anonymous class, more or less named <code>Foo$B extends Foo</code>, which includes that <code>baz()</code> method, and the JVM will make a singleton instance of that class. Except, of course, <code>javac</code> manages all this. You cannot actually get an actual source file with the actual letters <code>class Foo$B extends Foo {}</code> (where <code>Foo</code> is an <code>enum</code>) to be compiled with a <code>javac</code> that adheres to the spec.</p>\n<p>It sounds like you were asking 'is it possible', in which case, [A] yes, and [B] I strongly suggest you just try this stuff; it'll take less time than writing an SO question and you learn more.</p>\n<p>Perhaps you meant: &quot;I think they should not, but <code>javac</code> allows it&quot;. In which case, that breaks down into 2 further variants: &quot;... I am confused about why it is allowed&quot; (the above explanation should then suffice to explain why), or &quot;... I think the JLS is broken because the way I read it, you should not be able to do this&quot;. In which case, file a bug with openjdk project, if you want. But the bug is then in the JLS, not in javac: Being able to write the above is obviously the right intent.</p>\n"}],"owner":{"account_id":28634990,"reputation":1,"user_id":21925285,"display_name":"Naruga"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":8,"up_vote_count":0,"closed_date":1684500367,"answer_count":1,"score":-8,"last_activity_date":1684496986,"creation_date":1684495416,"question_id":76288573,"body_markdown":"Can a Java enum implement a sealed interface in Java and why?\r\n\r\nA sealed subclass must be final, sealed or non-sealed. My reasoning is that if an enum could implement a sealed interface it can only be non-sealed, because it cannot be marked final and it cannot be extended either, therefore it cannot be marked sealed.\r\n\r\n\r\nI’m sorry if there is the answer somwhere but I can’t seem to find it.","title":"Can a Java enum implement a sealed interface?","body":"<p>Can a Java enum implement a sealed interface in Java and why?</p>\n<p>A sealed subclass must be final, sealed or non-sealed. My reasoning is that if an enum could implement a sealed interface it can only be non-sealed, because it cannot be marked final and it cannot be extended either, therefore it cannot be marked sealed.</p>\n<p>I’m sorry if there is the answer somwhere but I can’t seem to find it.</p>\n"},{"tags":["java","pdf","amazon-s3"],"comments":[{"owner":{"account_id":1212711,"reputation":2020,"user_id":1180963,"accept_rate":75,"display_name":"eduyayo"},"score":0,"creation_date":1684536059,"post_id":76288751,"comment_id":134536742,"body_markdown":"have you tried to cat or type the content from the console... it surely seems it will be a response body with some kind of error or the like. I do belive your s3client is not correctly configured or you&#39;ve got a 404","body":"have you tried to cat or type the content from the console... it surely seems it will be a response body with some kind of error or the like. I do belive your s3client is not correctly configured or you&#39;ve got a 404"}],"owner":{"account_id":14824755,"reputation":127,"user_id":11458457,"display_name":"User1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684496791,"creation_date":1684496791,"question_id":76288751,"body_markdown":"I&#39;m trying different approaches and I still get this saying the doc type is text plain.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wTcjJ.png\r\n\r\n\r\nHow can I solve this issue?\r\n\r\nThis is my code:\r\n\r\n    ResponseInputStream&lt;GetObjectResponse&gt; response = this.s3Controller.getFileFromBucket(BUCKET_NAME, &quot;proforma&quot;);\r\n\r\n\tBufferedOutputStream outputStream = new BufferedOutputStream(new FileOutputStream(&quot;/home/caterina/Descargas/proforma.pdf&quot;));\r\n\r\n\tbyte[] buffer = new byte[4096];\r\n\tint bytesRead = -1;\r\n\r\n\twhile ((bytesRead = response.read(buffer)) !=  -1) {\r\n\t\toutputStream.write(buffer, 0, bytesRead);\r\n\t}\r\n\r\n\tresponse.close();\r\n\toutputStream.close();","title":"How can I download a PDF from S3 with Java?","body":"<p>I'm trying different approaches and I still get this saying the doc type is text plain.</p>\n<p><a href=\"https://i.stack.imgur.com/wTcjJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wTcjJ.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I solve this issue?</p>\n<p>This is my code:</p>\n<pre><code>ResponseInputStream&lt;GetObjectResponse&gt; response = this.s3Controller.getFileFromBucket(BUCKET_NAME, &quot;proforma&quot;);\n\nBufferedOutputStream outputStream = new BufferedOutputStream(new FileOutputStream(&quot;/home/caterina/Descargas/proforma.pdf&quot;));\n\nbyte[] buffer = new byte[4096];\nint bytesRead = -1;\n\nwhile ((bytesRead = response.read(buffer)) !=  -1) {\n    outputStream.write(buffer, 0, bytesRead);\n}\n\nresponse.close();\noutputStream.close();\n</code></pre>\n"},{"tags":["java","android-studio","gradle","build.gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684498612,"post_id":76288748,"comment_id":134529866,"body_markdown":"Does this answer your question? [Build was configured to prefer settings repositories over project repositories but repository &#39;maven&#39; was added by build file &#39;build.gradle&#39;](https://stackoverflow.com/questions/69163511/build-was-configured-to-prefer-settings-repositories-over-project-repositories-b)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69163511/build-was-configured-to-prefer-settings-repositories-over-project-repositories-b\">Build was configured to prefer settings repositories over project repositories but repository &#39;maven&#39; was added by build file &#39;build.gradle&#39;</a>"}],"owner":{"account_id":28533406,"reputation":3,"user_id":21840441,"display_name":"Rayyan Studios"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684496752,"creation_date":1684496752,"question_id":76288748,"body_markdown":"A problem occurred evaluating root project &#39;my_app&#39;.\r\nBuild was configured to prefer settings repositories over project repositories but repository &#39;Google&#39; was added by build file &#39;build.gradle&#39;\r\n\r\nwhen i upgraded my app gradle version it shows me these errors tried so many ways but unable to resolve it please help me!\r\n \r\nhere is my build.gradle(project:my_app) file\r\n\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n        maven { url &quot;https://maven.google.com&quot; }\r\n        mavenCentral()\r\n        flatDir {\r\n            dirs &#39;libs&#39;\r\n        }\r\n        gradlePluginPortal()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:8.0.1&#39;\r\n        classpath &#39;gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.14.0&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n        maven { url &quot;https://maven.google.com&quot; }\r\n        mavenCentral()\r\n        flatDir {\r\n            dirs &#39;libs&#39;\r\n        }\r\n        gradlePluginPortal()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nmy build.gradle(:app) file\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;8.0.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;8.0.1&#39; apply false\r\n    id &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39; apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 33\r\n    buildToolsVersion &#39;33.0.2&#39;\r\n    namespace &#39;com.scanit.camscanner&#39;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.scanit.camscanner&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 33\r\n        versionCode 4\r\n        versionName &quot;1.2&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        ndk {\r\n            abiFilters &#39;armeabi-v7a&#39;, &quot;arm64-v8a&quot;, &#39;x86&#39;, &#39;x86_64&#39;\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            shrinkResources true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    sourceSets {\r\n        main {\r\n            assets {\r\n                srcDirs &#39;src\\\\main\\\\assets&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    lintOptions {\r\n        abortOnError false\r\n    }\r\n    aaptOptions {\r\n        noCompress &quot;tflite&quot;\r\n        noCompress &quot;lite&quot;\r\n    }\r\n    dependenciesInfo {\r\n        includeInApk false\r\n        includeInBundle false\r\n    }\r\n\r\n    /* Reduce apk size */\r\n    /*splits {\r\n        abi {\r\n            enable true\r\n            reset()\r\n            include &#39;arm64-v8a&#39;, &#39;armeabi-v7a&#39;, &#39;mips&#39;, &#39;mips64&#39;, &#39;x86&#39;, &#39;x86_64&#39;\r\n            universalApk false\r\n        }\r\n    }*/\r\n\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.2&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.2&#39;\r\n    implementation project(path: &#39;:scanlibrary&#39;)\r\n    implementation project(path: &#39;:sticker&#39;)\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-ads:20.2.0&#39;\r\n    implementation group: &#39;com.itextpdf&#39;, name: &#39;itextpdf&#39;, version: &#39;5.5.9&#39;\r\n    implementation fileTree(dir: &#39;libs&#39;, include: &#39;*.jar&#39;)\r\n    implementation files(&#39;libs/itextpdf-5.5.13.2.jar&#39;)\r\n\r\n    implementation group: &#39;cz.msebera.android&#39;, name: &#39;httpclient&#39;, version: &#39;4.4.1.1&#39;\r\n    implementation &#39;com.github.pqpo:SmartCropper:v2.1.3&#39;\r\n    implementation &#39;com.github.chrisbanes:PhotoView:2.3.0&#39;\r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.12.0&#39;\r\n\r\n    implementation &#39;com.divyanshu.colorseekbar:colorseekbar:1.0.2&#39;\r\n\r\n    implementation &#39;androidx.annotation:annotation:1.6.0&#39;\r\n    implementation &#39;com.github.QuadFlask:colorpicker:0.0.15&#39;\r\n    implementation &#39;com.kyanogen.signatureview:signature-view:1.2&#39;\r\n    implementation &#39;com.github.nguyenhoanglam:ImagePicker:1.4.3&#39;\r\n    implementation &#39;com.takwolf.android:aspectratio:0.3.0&#39;\r\n    implementation &#39;com.huangyz0918:androidwm-light:0.1.2&#39;\r\n    implementation &#39;com.burhanrashid52:photoeditor:1.1.1&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-vision:20.1.3&#39;\r\n\r\n    implementation group: &#39;org.bouncycastle&#39;, name: &#39;bcprov-jdk15to18&#39;, version: &#39;1.64&#39;\r\n\r\n    implementation &#39;jp.wasabeef:richeditor-android:2.0.0&#39;\r\n   implementation &#39;com.github.barteksc:android-pdf-viewer:3.2.0-beta.1&#39;\r\n    implementation &#39;com.github.barteksc:android-pdf-viewer:2.8.2&#39;\r\n    implementation &#39;com.google.zxing:core:3.3.3&#39;\r\n    // https://mvnrepository.com/artifact/com.github.google/cameraview\r\n//    implementation group: &#39;com.github.google&#39;, name: &#39;cameraview&#39;, version: &#39;6ceaf867d3&#39;\r\n\r\n    api &#39;com.otaliastudios:cameraview:2.7.1&#39;\r\n\r\n    implementation &#39;com.github.yalantis:ucrop:2.2.6&#39;\r\n    implementation &#39;com.edmodo:cropper:1.0.1&#39;\r\n    implementation &#39;com.loopj.android:android-async-http:1.4.9&#39;\r\n    implementation &#39;com.intuit.sdp:sdp-android:1.0.6&#39;\r\n    implementation &#39;com.makeramen:roundedimageview:2.3.0&#39;\r\n    implementation &#39;com.onesignal:OneSignal:4.4.0&#39;\r\n    implementation &#39;com.android.billingclient:billing:4.0.0&#39;\r\n\r\n}\r\n```\r\n\r\n here is my settings.gradle file \r\n\r\n```\r\npluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        jcenter() // Warning: this repository is going to shut down soon\r\n        maven { url &#39;https://maven.testfairy.com&#39; }\r\n        maven { url &#39;https://example.com/maven&#39; }\r\n    }\r\n}\r\n\r\ninclude &#39;:sticker&#39;\r\ninclude &#39;:scanlibrary&#39;\r\ninclude &#39;:app&#39;\r\nrootProject.name = &quot;my_app&quot;\r\n```\r\n\r\n\r\n","title":"Getting &#39;A problem occurred evaluating root project&#39; error in Gradle build - How to fix it?","body":"<p>A problem occurred evaluating root project 'my_app'.\nBuild was configured to prefer settings repositories over project repositories but repository 'Google' was added by build file 'build.gradle'</p>\n<p>when i upgraded my app gradle version it shows me these errors tried so many ways but unable to resolve it please help me!</p>\n<p>here is my build.gradle(project:my_app) file</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n        maven { url 'https://jitpack.io' }\n        maven { url &quot;https://maven.google.com&quot; }\n        mavenCentral()\n        flatDir {\n            dirs 'libs'\n        }\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.0.1'\n        classpath 'gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.14.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        maven { url 'https://jitpack.io' }\n        maven { url &quot;https://maven.google.com&quot; }\n        mavenCentral()\n        flatDir {\n            dirs 'libs'\n        }\n        gradlePluginPortal()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>my build.gradle(:app) file</p>\n<pre><code>plugins {\n    id 'com.android.application' version '8.0.1' apply false\n    id 'com.android.library' version '8.0.1' apply false\n    id 'com.onesignal.androidsdk.onesignal-gradle-plugin' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\nandroid {\n    compileSdkVersion 33\n    buildToolsVersion '33.0.2'\n    namespace 'com.scanit.camscanner'\n\n    defaultConfig {\n        applicationId &quot;com.scanit.camscanner&quot;\n        minSdkVersion 21\n        targetSdkVersion 33\n        versionCode 4\n        versionName &quot;1.2&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        ndk {\n            abiFilters 'armeabi-v7a', &quot;arm64-v8a&quot;, 'x86', 'x86_64'\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    sourceSets {\n        main {\n            assets {\n                srcDirs 'src\\\\main\\\\assets'\n            }\n        }\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n    aaptOptions {\n        noCompress &quot;tflite&quot;\n        noCompress &quot;lite&quot;\n    }\n    dependenciesInfo {\n        includeInApk false\n        includeInBundle false\n    }\n\n    /* Reduce apk size */\n    /*splits {\n        abi {\n            enable true\n            reset()\n            include 'arm64-v8a', 'armeabi-v7a', 'mips', 'mips64', 'x86', 'x86_64'\n            universalApk false\n        }\n    }*/\n\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.navigation:navigation-fragment:2.5.2'\n    implementation 'androidx.navigation:navigation-ui:2.5.2'\n    implementation project(path: ':scanlibrary')\n    implementation project(path: ':sticker')\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    implementation 'com.google.android.gms:play-services-ads:20.2.0'\n    implementation group: 'com.itextpdf', name: 'itextpdf', version: '5.5.9'\n    implementation fileTree(dir: 'libs', include: '*.jar')\n    implementation files('libs/itextpdf-5.5.13.2.jar')\n\n    implementation group: 'cz.msebera.android', name: 'httpclient', version: '4.4.1.1'\n    implementation 'com.github.pqpo:SmartCropper:v2.1.3'\n    implementation 'com.github.chrisbanes:PhotoView:2.3.0'\n\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.12.0'\n\n    implementation 'com.divyanshu.colorseekbar:colorseekbar:1.0.2'\n\n    implementation 'androidx.annotation:annotation:1.6.0'\n    implementation 'com.github.QuadFlask:colorpicker:0.0.15'\n    implementation 'com.kyanogen.signatureview:signature-view:1.2'\n    implementation 'com.github.nguyenhoanglam:ImagePicker:1.4.3'\n    implementation 'com.takwolf.android:aspectratio:0.3.0'\n    implementation 'com.huangyz0918:androidwm-light:0.1.2'\n    implementation 'com.burhanrashid52:photoeditor:1.1.1'\n\n    implementation 'com.google.android.gms:play-services-vision:20.1.3'\n\n    implementation group: 'org.bouncycastle', name: 'bcprov-jdk15to18', version: '1.64'\n\n    implementation 'jp.wasabeef:richeditor-android:2.0.0'\n   implementation 'com.github.barteksc:android-pdf-viewer:3.2.0-beta.1'\n    implementation 'com.github.barteksc:android-pdf-viewer:2.8.2'\n    implementation 'com.google.zxing:core:3.3.3'\n    // https://mvnrepository.com/artifact/com.github.google/cameraview\n//    implementation group: 'com.github.google', name: 'cameraview', version: '6ceaf867d3'\n\n    api 'com.otaliastudios:cameraview:2.7.1'\n\n    implementation 'com.github.yalantis:ucrop:2.2.6'\n    implementation 'com.edmodo:cropper:1.0.1'\n    implementation 'com.loopj.android:android-async-http:1.4.9'\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n    implementation 'com.makeramen:roundedimageview:2.3.0'\n    implementation 'com.onesignal:OneSignal:4.4.0'\n    implementation 'com.android.billingclient:billing:4.0.0'\n\n}\n</code></pre>\n<p>here is my settings.gradle file</p>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n        maven { url 'https://maven.testfairy.com' }\n        maven { url 'https://example.com/maven' }\n    }\n}\n\ninclude ':sticker'\ninclude ':scanlibrary'\ninclude ':app'\nrootProject.name = &quot;my_app&quot;\n</code></pre>\n"},{"tags":["java","android","parse-platform"],"answers":[{"tags":[],"owner":{"display_name":"user2559108"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412447862,"creation_date":1412447862,"answer_id":26195931,"question_id":26195342,"body_markdown":"Fixed it by avoiding casting to JSON, apparently there is a getList method\r\n\r\n        // Get parse Image as index image\r\n        ParseObject thisStation = stationItems.get(position);\r\n        List&lt;ParseObject&gt;imagePointers = thisStation.getList(&quot;imagePointers&quot;);\r\n        ParseFile image = imagePointers.get(0).getParseFile(&quot;image&quot;);\r\n        thumbnail.setParseFile(image);\r\n        thumbnail.loadInBackground();","title":"JSON Object to generic ParseFile Object, issue","body":"<p>Fixed it by avoiding casting to JSON, apparently there is a getList method</p>\n\n<pre><code>    // Get parse Image as index image\n    ParseObject thisStation = stationItems.get(position);\n    List&lt;ParseObject&gt;imagePointers = thisStation.getList(\"imagePointers\");\n    ParseFile image = imagePointers.get(0).getParseFile(\"image\");\n    thumbnail.setParseFile(image);\n    thumbnail.loadInBackground();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25959615,"reputation":36,"user_id":19676445,"display_name":"Salim Yusuf Abdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684496624,"creation_date":1675402821,"answer_id":75331905,"question_id":26195342,"body_markdown":"I had the same issue for almost 2 days but finally I solved it by the getList method!\r\n\r\nNow all you gotta do is use getList instead of getJSONObject or getJSONArray or whatever, because when you use them you will not be able to use the getParseFile for any of those believe me.\r\nBut instead you can do something like:\r\n\r\n    val obj = parseObject.getList(&quot;listname&quot;)\r\n    val file = obj[0].getParseFile(&quot;image&quot;)\r\n\r\nNow, I don&#39;t remember how the syntax is or so but the key here is to use the getList method if you want to get list of all images you saved in a Back4app Parse JSONArray.\r\n\r\nHope you found it helpful.\r\nGoodluck","title":"JSON Object to generic ParseFile Object, issue","body":"<p>I had the same issue for almost 2 days but finally I solved it by the getList method!</p>\n<p>Now all you gotta do is use getList instead of getJSONObject or getJSONArray or whatever, because when you use them you will not be able to use the getParseFile for any of those believe me.\nBut instead you can do something like:</p>\n<pre><code>val obj = parseObject.getList(&quot;listname&quot;)\nval file = obj[0].getParseFile(&quot;image&quot;)\n</code></pre>\n<p>Now, I don't remember how the syntax is or so but the key here is to use the getList method if you want to get list of all images you saved in a Back4app Parse JSONArray.</p>\n<p>Hope you found it helpful.\nGoodluck</p>\n"}],"owner":{"display_name":"user2559108"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684496624,"creation_date":1412443997,"question_id":26195342,"body_markdown":"I have run in to an issue, while converting my iOS app to android.\r\n\r\nThe database is structured such that there are &quot;stations&quot;, these stations can have multiple images attached, in the parse database, the images are an array of imagePointers.\r\n\r\nWhen i wanted to get the images out in iOS here is what i did:\r\n\r\nstations = object in this case\r\n\r\n    // Get a single image\r\n    if ([[object objectForKey:@&quot;imagePointers&quot;] objectAtIndex:0] != [NSNull null]) {\r\n        PFFile *imageFile = [[[object objectForKey:@&quot;imagePointers&quot;] objectAtIndex:0] objectForKey:@&quot;image&quot;];\r\n        cell.coverImageView.file = imageFile;\r\n        [cell.coverImageView loadInBackground];\r\n    }\r\nIts pretty simple, i just lift the imagePointers array and get objectAtIndex0, then i cast it to a parse file.\r\n\r\nBut i can&#39;t do this in android, here is what i have atm:\r\n\r\n        JSONArray imagePointers = thisStation.getJSONArray(&quot;imagePointers&quot;);\r\n        try {\r\n            JSONObject indexImage = imagePointers.getJSONObject(0);\r\n        } catch ( Exception e ) {\r\n            JSONObject indexImage = null;\r\n        }\r\n\r\nHere i get the object at index 0 as a JSONObject, i cannot use this in a ParseFile Object, since i need to cast it as a generic type ParseFile.\r\n\r\nHow do i do this? Or is my approach completely incorrect?","title":"JSON Object to generic ParseFile Object, issue","body":"<p>I have run in to an issue, while converting my iOS app to android.</p>\n\n<p>The database is structured such that there are \"stations\", these stations can have multiple images attached, in the parse database, the images are an array of imagePointers.</p>\n\n<p>When i wanted to get the images out in iOS here is what i did:</p>\n\n<p>stations = object in this case</p>\n\n<pre><code>// Get a single image\nif ([[object objectForKey:@\"imagePointers\"] objectAtIndex:0] != [NSNull null]) {\n    PFFile *imageFile = [[[object objectForKey:@\"imagePointers\"] objectAtIndex:0] objectForKey:@\"image\"];\n    cell.coverImageView.file = imageFile;\n    [cell.coverImageView loadInBackground];\n}\n</code></pre>\n\n<p>Its pretty simple, i just lift the imagePointers array and get objectAtIndex0, then i cast it to a parse file.</p>\n\n<p>But i can't do this in android, here is what i have atm:</p>\n\n<pre><code>    JSONArray imagePointers = thisStation.getJSONArray(\"imagePointers\");\n    try {\n        JSONObject indexImage = imagePointers.getJSONObject(0);\n    } catch ( Exception e ) {\n        JSONObject indexImage = null;\n    }\n</code></pre>\n\n<p>Here i get the object at index 0 as a JSONObject, i cannot use this in a ParseFile Object, since i need to cast it as a generic type ParseFile.</p>\n\n<p>How do i do this? Or is my approach completely incorrect?</p>\n"},{"tags":["java","telegram","tdlib"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684670246,"post_id":76288675,"comment_id":134547896,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16175454,"reputation":1,"user_id":11678255,"display_name":"J.Fore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684496158,"creation_date":1684496158,"question_id":76288675,"body_markdown":"The project needs to check whether the transferred number matches the number specified in the telegram, for this we ask our users to change the privacy so that these numbers can be compared, but when the privacy changes, the phone number is not displayed through the `GetUser` method.\r\n\r\nI know `UpdateUser` caches the data, but how do I update the privacy of an employee by their id to get their number.","title":"Telegram Tdlib TdApi TdLight UpdateUser - how to get an employee&#39;s phone number after changing his privacy","body":"<p>The project needs to check whether the transferred number matches the number specified in the telegram, for this we ask our users to change the privacy so that these numbers can be compared, but when the privacy changes, the phone number is not displayed through the <code>GetUser</code> method.</p>\n<p>I know <code>UpdateUser</code> caches the data, but how do I update the privacy of an employee by their id to get their number.</p>\n"},{"tags":["java","spring","spring-boot","websphere"],"comments":[{"owner":{"account_id":13871965,"reputation":249,"user_id":10014806,"display_name":"Jared Anderson"},"score":0,"creation_date":1684501830,"post_id":76288588,"comment_id":134530604,"body_markdown":"Are you doing a WAR or JAR deployment of your springboot application?  Which version of Liberty are you using?  What features do you have specified in your server.xml file?  \n\nInitial guess is your are using Servlet 4.0 deployment and the features that are started using Servlet 3.1.","body":"Are you doing a WAR or JAR deployment of your springboot application?  Which version of Liberty are you using?  What features do you have specified in your server.xml file?    Initial guess is your are using Servlet 4.0 deployment and the features that are started using Servlet 3.1."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684568945,"post_id":76288588,"comment_id":134538776,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28634965,"reputation":1,"user_id":21925262,"display_name":"Mouafiq Abdelkabir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684495508,"creation_date":1684495508,"question_id":76288588,"body_markdown":"When i deploy my spring boot application in websphere liberty core i have error starting my apps :\r\n\r\nCom.ibm.ws.javaee.ddmodel.DDParser$ParserException: CWWKC2262E The server is unable to process the 4.0 version and the http://xmlns.jcp.org/xml/ns/javaee namespace in META-INF/web-fragment.xml deployment descriptor on line 23\r\n\r\nPlease help\r\n\r\nI try to deploy my spring boot application and i expect to launch it properly","title":"deploy my spring boot application in websphere liberty core i have error starting my app","body":"<p>When i deploy my spring boot application in websphere liberty core i have error starting my apps :</p>\n<p>Com.ibm.ws.javaee.ddmodel.DDParser$ParserException: CWWKC2262E The server is unable to process the 4.0 version and the <a href=\"http://xmlns.jcp.org/xml/ns/javaee\" rel=\"nofollow noreferrer\">http://xmlns.jcp.org/xml/ns/javaee</a> namespace in META-INF/web-fragment.xml deployment descriptor on line 23</p>\n<p>Please help</p>\n<p>I try to deploy my spring boot application and i expect to launch it properly</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1684494894,"post_id":76288451,"comment_id":134529143,"body_markdown":"You can Hide the Snack Bar when Keyboard appears .. You can [detect](https://stackoverflow.com/questions/4745988/how-do-i-detect-if-software-keyboard-is-visible-on-android-device-or-not) Keyboard visibility ..","body":"You can Hide the Snack Bar when Keyboard appears .. You can <a href=\"https://stackoverflow.com/questions/4745988/how-do-i-detect-if-software-keyboard-is-visible-on-android-device-or-not\">detect</a> Keyboard visibility .."},{"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"score":0,"creation_date":1684559646,"post_id":76288451,"comment_id":134538108,"body_markdown":"It was better if you had provided the code. 1) I guess you are validating the text in the edittext on every inputted character. You may change the code to validate the input after the focus is changed.\n2)You may also set the duration of sanckbar to &#39;short&#39;. So it will disappear in some seconds. 3) when the user clicks on the edittext you can even cancel (hide) that snackbar.","body":"It was better if you had provided the code. 1) I guess you are validating the text in the edittext on every inputted character. You may change the code to validate the input after the focus is changed. 2)You may also set the duration of sanckbar to &#39;short&#39;. So it will disappear in some seconds. 3) when the user clicks on the edittext you can even cancel (hide) that snackbar."}],"owner":{"account_id":15090000,"reputation":63,"user_id":10890171,"display_name":"Malhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684494529,"creation_date":1684494193,"question_id":76288451,"body_markdown":"In my app if certain edit texts are not filled then an error snackbar appears but when I start to type again the snackbar is comming above the keyboard blocking the edit text.\r\nI am using ```android:windowSoftInputMode=&quot;stateHidden|adjustPan&quot;``` \r\nin manifest.\r\nWhat should I do to either stop the snackbar from comming up or the snackbar should not overlap the edit text?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RG1oV.png","title":"android kotlin: How to stop snackbar from readjesting (going up) with soft keyboard","body":"<p>In my app if certain edit texts are not filled then an error snackbar appears but when I start to type again the snackbar is comming above the keyboard blocking the edit text.\nI am using <code>android:windowSoftInputMode=&quot;stateHidden|adjustPan&quot;</code>\nin manifest.\nWhat should I do to either stop the snackbar from comming up or the snackbar should not overlap the edit text?</p>\n<p><a href=\"https://i.stack.imgur.com/RG1oV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RG1oV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","hibernate-search"],"answers":[{"comments":[{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1684728472,"post_id":76288480,"comment_id":134553769,"body_markdown":"for &quot;@Field(analyze = Analyze.NO, store = Store.YES)&quot; i&#39;m also using column annotation with length parameter ex:- &quot;@Column(name = &quot;search_key&quot;, length = 256)&quot; will Analyze.NO will work?","body":"for &quot;@Field(analyze = Analyze.NO, store = Store.YES)&quot; i&#39;m also using column annotation with length parameter ex:- &quot;@Column(name = &quot;search_key&quot;, length = 256)&quot; will Analyze.NO will work?"}],"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684494494,"creation_date":1684494494,"answer_id":76288480,"question_id":76287894,"body_markdown":"This is quite a significant jump in versions. By the way, Hibernate Search 5.9 is already EOL. Consider looking at Hibernate Search 5.11 or 6.1 instead.\r\n\r\nThere are a lot of major changes in between your 3.4 and any 5.* versions. I&#39;d suggest taking a look at the migration guides provided [here for versions up to 5][1] and [here for versions 5+][2].\r\n\r\n```java\r\n@Field(index = Index.UN_TOKENIZED)\r\n```\r\n`UN_TOKENIZED` means:\r\n\r\n&gt; Index the field&#39;s value without using an Analyzer, so it can be searched. As no analyzer is used the value will be stored as a single term. This is useful for unique Ids like product numbers.\r\n\r\nSo this means that it&#39;ll translate to:\r\n```java\r\n// for Hibernate Search 5+\r\n// or in Hibernate Search 6+ look at the @KeywordField\r\n@Field(analyze = Analyze.NO, store = Store.YES)\r\n```\r\n\r\n------------------\r\n&gt; The import org.apache.solr cannot be resolved\r\n\r\nHibernate Search now does not rely on Solr anymore. It can work either with Lucene or with Elasticsearch [backends][3]. \r\nAlso, no need to include solr dependency. Instead, look for imports from `org.apache.lucene`.\r\n\r\n-----------------\r\n\r\n&gt; @AnalyzerDef(tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class), name = &quot;en&quot;)\r\n\r\nUsing `@AnalyzerDef` is deprecated in Hibernate Search 5. See this [section][4] if you still want to use it, otherwise take a look at [Programmatic analyzer definition][5]\r\n\r\n\r\n  [1]: https://developer.jboss.org/docs/DOC-15249\r\n  [2]: https://hibernate.org/search/documentation/migrate/\r\n  [3]: https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#_backend\r\n  [4]: https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#_analyzer\r\n  [5]: https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition","title":"issue in upgrading hibernate-search v3.4.1.Final to hibernate-search-orm v5.9.3.Final","body":"<p>This is quite a significant jump in versions. By the way, Hibernate Search 5.9 is already EOL. Consider looking at Hibernate Search 5.11 or 6.1 instead.</p>\n<p>There are a lot of major changes in between your 3.4 and any 5.* versions. I'd suggest taking a look at the migration guides provided <a href=\"https://developer.jboss.org/docs/DOC-15249\" rel=\"nofollow noreferrer\">here for versions up to 5</a> and <a href=\"https://hibernate.org/search/documentation/migrate/\" rel=\"nofollow noreferrer\">here for versions 5+</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Field(index = Index.UN_TOKENIZED)\n</code></pre>\n<p><code>UN_TOKENIZED</code> means:</p>\n<blockquote>\n<p>Index the field's value without using an Analyzer, so it can be searched. As no analyzer is used the value will be stored as a single term. This is useful for unique Ids like product numbers.</p>\n</blockquote>\n<p>So this means that it'll translate to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// for Hibernate Search 5+\n// or in Hibernate Search 6+ look at the @KeywordField\n@Field(analyze = Analyze.NO, store = Store.YES)\n</code></pre>\n<hr />\n<blockquote>\n<p>The import org.apache.solr cannot be resolved</p>\n</blockquote>\n<p>Hibernate Search now does not rely on Solr anymore. It can work either with Lucene or with Elasticsearch <a href=\"https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#_backend\" rel=\"nofollow noreferrer\">backends</a>.\nAlso, no need to include solr dependency. Instead, look for imports from <code>org.apache.lucene</code>.</p>\n<hr />\n<blockquote>\n<p>@AnalyzerDef(tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class), name = &quot;en&quot;)</p>\n</blockquote>\n<p>Using <code>@AnalyzerDef</code> is deprecated in Hibernate Search 5. See this <a href=\"https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#_analyzer\" rel=\"nofollow noreferrer\">section</a> if you still want to use it, otherwise take a look at <a href=\"https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition\" rel=\"nofollow noreferrer\">Programmatic analyzer definition</a></p>\n"}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76288480,"answer_count":1,"score":-1,"last_activity_date":1684494494,"creation_date":1684489570,"question_id":76287894,"body_markdown":"Earlier I was using hibernate-search v3.4.1.Final and now I&#39;m upgrading my application so i have to use hibernate-search-orm v5.9.3.Final and accordingly I&#39;m using hibernate-entitymanager v5.2.17.Final.\r\nSo after upgrading those dependencies in my code, i&#39;m getting the following error: -\r\n\r\neclipse suggested error:- \r\n\r\n    The import org.apache.solr cannot be resolved\r\n\r\nfor code :- \r\n\r\n    import org.apache.solr.analysis.StandardTokenizerFactory;\r\n\r\nI believe this can be resolved if I add &quot;solr-core&quot; dependency v3.1.0\r\nbut i&#39;m not able to resolve this error:-\r\n\r\n    Multiple markers at this line\r\n    \t- Class&lt;StandardTokenizerFactory&gt; cannot be resolved to a type\r\n    \t- StandardTokenizerFactory cannot be resolved to a type\r\n    UN_TOKENIZED cannot be resolved or is not a field\r\n    \r\non line:- \r\n\r\n    @AnalyzerDef(tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class), name = &quot;en&quot;)\r\n    @Field(index = Index.UN_TOKENIZED, store = Store.YES)\r\n\r\nCan anyone suggest which dependency can be used\r\n","title":"issue in upgrading hibernate-search v3.4.1.Final to hibernate-search-orm v5.9.3.Final","body":"<p>Earlier I was using hibernate-search v3.4.1.Final and now I'm upgrading my application so i have to use hibernate-search-orm v5.9.3.Final and accordingly I'm using hibernate-entitymanager v5.2.17.Final.\nSo after upgrading those dependencies in my code, i'm getting the following error: -</p>\n<p>eclipse suggested error:-</p>\n<pre><code>The import org.apache.solr cannot be resolved\n</code></pre>\n<p>for code :-</p>\n<pre><code>import org.apache.solr.analysis.StandardTokenizerFactory;\n</code></pre>\n<p>I believe this can be resolved if I add &quot;solr-core&quot; dependency v3.1.0\nbut i'm not able to resolve this error:-</p>\n<pre><code>Multiple markers at this line\n    - Class&lt;StandardTokenizerFactory&gt; cannot be resolved to a type\n    - StandardTokenizerFactory cannot be resolved to a type\nUN_TOKENIZED cannot be resolved or is not a field\n</code></pre>\n<p>on line:-</p>\n<pre><code>@AnalyzerDef(tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class), name = &quot;en&quot;)\n@Field(index = Index.UN_TOKENIZED, store = Store.YES)\n</code></pre>\n<p>Can anyone suggest which dependency can be used</p>\n"},{"tags":["java","amazon-dynamodb","mapping"],"comments":[{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":1,"creation_date":1684417775,"post_id":76281343,"comment_id":134516884,"body_markdown":"You need to share yFieldConverter.class","body":"You need to share yFieldConverter.class"},{"owner":{"account_id":14980311,"reputation":17,"user_id":10814461,"display_name":"rudkul"},"score":0,"creation_date":1684428250,"post_id":76281343,"comment_id":134519424,"body_markdown":"@LeeHannigan I forgot, thanks.","body":"@LeeHannigan I forgot, thanks."}],"answers":[{"tags":[],"owner":{"account_id":14980311,"reputation":17,"user_id":10814461,"display_name":"rudkul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684493911,"creation_date":1684493911,"answer_id":76288407,"question_id":76281343,"body_markdown":"Migration to AWS SDK for Java version 2.x, solved the issue.","title":"DynamoDB sortkey mapping","body":"<p>Migration to AWS SDK for Java version 2.x, solved the issue.</p>\n"}],"owner":{"account_id":14980311,"reputation":17,"user_id":10814461,"display_name":"rudkul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1684493911,"creation_date":1684416779,"question_id":76281343,"body_markdown":"I am using dynamoDB with java. DocumentI am using has three fields, which are defined as:\r\n- Partition key (string)\r\n- Sort key (string)\r\n- body (json)\r\n\r\nI am strugling with mapping sort key, it is plain string with pattern:\r\n\r\n```X_YYYY_ZZZZZZ```\r\n\r\nit has three values, joined with ```_```, which corresponds to: \r\n\r\n```java\r\nclass SortKey {\r\n    private xValue;\r\n    private yyyValue;\r\n    private zzzzzzValue;\r\n}\r\n```\r\nI defined field in document coresponding to sort key in DynamoDb like this:\r\n\r\n```java\r\n@DynamoDBRangeKey(attributeName=&quot;yField&quot;)\r\n@DynamoDBTypeConverted(converter=yFieldConverter.class)\r\nprivate SortKey sortKey;\r\n```\r\n\r\nAnd wrote specific converter:\r\n```java\r\npublic class SortKeyConverter implements DynamoDBTypeConverter&lt;String, SortKey&gt; {\r\n\r\n    @Override\r\n    public String convert(final SortKey value) {\r\n        return value.getVersionValue() + &quot;_&quot; + value.getKey();\r\n    }\r\n\r\n    @Override\r\n    public SortKey unconvert(final String value) {\r\n        String[] result = value.split(&quot;_&quot;);\r\n        return SortKey(Version.createOf(result[0]), SomeFactory.create(result[1], result[2]));\r\n    }\r\n}\r\n```\r\nProblem is that storing in DynamoDB table is working, but when I try to load object from table I get:\r\n\r\n`\r\ncould not invoke public void com.Hierarchy.setHierarchySortKey(com.HierarchySortKey) on class com.Hierarchy with value YY_XXXX_ZZZZZZ of type class java.lang.String: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException\r\ncom.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: could not invoke public void com.Hierarchy.setHierarchySortKey(com.HierarchySortKey) on class com.Hierarchy with value YY_XXXX_ZZZZZZ of type class java.lang.String\r\nat com.amazonaws.services.dynamodbv2.datamodeling.StandardBeanProperties$MethodReflect.set(StandardBeanProperties.java:136)\r\nat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.set(DynamoDBMapperFieldModel.java:111)\r\nat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperTableModel.createKey(DynamoDBMapperTableModel.java:295)\r\nat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.load(DynamoDBMapper.java:448)\r\nat com.amazonaws.services.dynamodbv2.datamodeling.AbstractDynamoDBMapper.load(AbstractDynamoDBMapper.java:85)\r\n`\r\n\r\n\r\nI tried to change sortKey type to String leaving annotation on converter to see what will happen, if it is ignoring the converter annotation, and I have got :\r\n\r\n`class java.lang.String cannot be cast to class com.SortKey (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; com.SortKey is in unnamed module of loader lambdainternal.CustomerClassLoader @49097b5d): java.lang.ClassCastException\r\njava.lang.ClassCastException: class java.lang.String cannot be cast to class com.SortKey (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; com.SortKey is in unnamed module of loader lambdainternal.CustomerClassLoader @49097b5d)\r\nat com.SortKeyConverter.convert(SortKeyConverter.java:8)t`\r\n\r\nSo it seems it knows about converte, but on load from table it does not work, I am running of ideas.\r\n\r\nI am wondering if I am missing something, or I am trying to use library not as intended and the fact it works on store is coincidence and not intended feature.\r\n\r\n   ","title":"DynamoDB sortkey mapping","body":"<p>I am using dynamoDB with java. DocumentI am using has three fields, which are defined as:</p>\n<ul>\n<li>Partition key (string)</li>\n<li>Sort key (string)</li>\n<li>body (json)</li>\n</ul>\n<p>I am strugling with mapping sort key, it is plain string with pattern:</p>\n<p><code>X_YYYY_ZZZZZZ</code></p>\n<p>it has three values, joined with <code>_</code>, which corresponds to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SortKey {\n    private xValue;\n    private yyyValue;\n    private zzzzzzValue;\n}\n</code></pre>\n<p>I defined field in document coresponding to sort key in DynamoDb like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamoDBRangeKey(attributeName=&quot;yField&quot;)\n@DynamoDBTypeConverted(converter=yFieldConverter.class)\nprivate SortKey sortKey;\n</code></pre>\n<p>And wrote specific converter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SortKeyConverter implements DynamoDBTypeConverter&lt;String, SortKey&gt; {\n\n    @Override\n    public String convert(final SortKey value) {\n        return value.getVersionValue() + &quot;_&quot; + value.getKey();\n    }\n\n    @Override\n    public SortKey unconvert(final String value) {\n        String[] result = value.split(&quot;_&quot;);\n        return SortKey(Version.createOf(result[0]), SomeFactory.create(result[1], result[2]));\n    }\n}\n</code></pre>\n<p>Problem is that storing in DynamoDB table is working, but when I try to load object from table I get:</p>\n<p><code>could not invoke public void com.Hierarchy.setHierarchySortKey(com.HierarchySortKey) on class com.Hierarchy with value YY_XXXX_ZZZZZZ of type class java.lang.String: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: could not invoke public void com.Hierarchy.setHierarchySortKey(com.HierarchySortKey) on class com.Hierarchy with value YY_XXXX_ZZZZZZ of type class java.lang.String at com.amazonaws.services.dynamodbv2.datamodeling.StandardBeanProperties$MethodReflect.set(StandardBeanProperties.java:136) at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.set(DynamoDBMapperFieldModel.java:111) at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperTableModel.createKey(DynamoDBMapperTableModel.java:295) at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.load(DynamoDBMapper.java:448) at com.amazonaws.services.dynamodbv2.datamodeling.AbstractDynamoDBMapper.load(AbstractDynamoDBMapper.java:85)</code></p>\n<p>I tried to change sortKey type to String leaving annotation on converter to see what will happen, if it is ignoring the converter annotation, and I have got :</p>\n<p><code>class java.lang.String cannot be cast to class com.SortKey (java.lang.String is in module java.base of loader 'bootstrap'; com.SortKey is in unnamed module of loader lambdainternal.CustomerClassLoader @49097b5d): java.lang.ClassCastException java.lang.ClassCastException: class java.lang.String cannot be cast to class com.SortKey (java.lang.String is in module java.base of loader 'bootstrap'; com.SortKey is in unnamed module of loader lambdainternal.CustomerClassLoader @49097b5d) at com.SortKeyConverter.convert(SortKeyConverter.java:8)t</code></p>\n<p>So it seems it knows about converte, but on load from table it does not work, I am running of ideas.</p>\n<p>I am wondering if I am missing something, or I am trying to use library not as intended and the fact it works on store is coincidence and not intended feature.</p>\n"},{"tags":["java","spring","postgresql","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1684493493,"post_id":76288327,"comment_id":134528893,"body_markdown":"*because when using Lombok there will be no setters in the class* you can write a custom `setter` for this attribue also if you use lombok","body":"<i>because when using Lombok there will be no setters in the class</i> you can write a custom <code>setter</code> for this attribue also if you use lombok"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1684493664,"post_id":76288327,"comment_id":134528925,"body_markdown":"You can also write your own AttributeConverter, which truncate the value to the length you need","body":"You can also write your own AttributeConverter, which truncate the value to the length you need"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684493993,"post_id":76288327,"comment_id":134528991,"body_markdown":"@tabool  if you are on Hibernate, please check [@ColumnTransformer](https://infobrisk.com/tech-insights/how-to-use-hibernates-columntransformer-annotaion-to-format-or-modify-a-database-column-value/)","body":"@tabool  if you are on Hibernate, please check <a href=\"https://infobrisk.com/tech-insights/how-to-use-hibernates-columntransformer-annotaion-to-format-or-modify-a-database-column-value/\" rel=\"nofollow noreferrer\">@ColumnTransformer</a>"},{"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"score":0,"creation_date":1684495810,"post_id":76288327,"comment_id":134529300,"body_markdown":"@Jens As i mentioned i can not write my own AttributeConverter because there is no possibility to pass length parameter for every field separately","body":"@Jens As i mentioned i can not write my own AttributeConverter because there is no possibility to pass length parameter for every field separately"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1684495910,"post_id":76288327,"comment_id":134529316,"body_markdown":"But you can write a base AttributeConverter which do the trancation and inherit for every length you need","body":"But you can write a base AttributeConverter which do the trancation and inherit for every length you need"},{"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"score":0,"creation_date":1684519949,"post_id":76288327,"comment_id":134534409,"body_markdown":"@Jens Do you mean if I have 50 different field lengths, then I need to write 50 implementations for each length? Or did I misunderstand?!","body":"@Jens Do you mean if I have 50 different field lengths, then I need to write 50 implementations for each length? Or did I misunderstand?!"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1684520052,"post_id":76288327,"comment_id":134534425,"body_markdown":"Why you need 50 different length?","body":"Why you need 50 different length?"}],"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684493828,"creation_date":1684493217,"question_id":76288327,"body_markdown":"I know about annotations like\r\n\r\nannotation `@Convert`\r\nannotation `@Converts`\r\nannotation `@Converter`\r\ninterface `AttributeConverter`\r\n\r\nThey are nice because I can use `@Convert` on the fields I need to convert, it&#39;s nice and elegant.\r\n\r\nI&#39;m looking for a similar approach for string truncation. `@Convert` doesn&#39;t fit here because I can&#39;t pass the parameter (length=10000)\r\n\r\nNeed something like\r\n\r\n    @Truncate(length=2000)\r\n    private String description;\r\n\r\n\r\ninstead of\r\n\r\n    public void setName(String name) {\r\n         this.name = name.length() &gt; 2000 ? name.substring(0,2000) : name;\r\n    }\r\n\r\n\r\nbecause when using Lombok there will be no setters in the class\r\n\r\nthe `@Truncate(length=100)` annotation is good because I want to cut off some field automatically and do not annotate some field so that a string that is too large throws an exception.\r\n\r\nFor example\r\n\r\n    @Truncate(length=2000)\r\n    @Column(name = &quot;description&quot;, columnDefinition = &quot;VARCHAR(2000)&quot;)\r\n    private String description; // want to automate a truncation\r\n\r\n    @Truncate(length=12000)\r\n    @Column(name = &quot;description&quot;, columnDefinition = &quot;TEXT&quot;)\r\n    private String description; // want to automate a truncation\r\n    \r\n    @Column(name = &quot;user_name&quot;, columnDefinition = &quot;VARCHAR(30)&quot;)\r\n    private String userName; // want to get an exception with to long string\r\n\r\n\r\nBut unfortunately, I did not find such an annotation.\r\n\r\nTell me if it is possible to create such an annotation. If so, how can such an approach be implemented? Thank you.\r\n\r\n\r\n","title":"Automatical Truncation of Strings in @Entity JPA","body":"<p>I know about annotations like</p>\n<p>annotation <code>@Convert</code>\nannotation <code>@Converts</code>\nannotation <code>@Converter</code>\ninterface <code>AttributeConverter</code></p>\n<p>They are nice because I can use <code>@Convert</code> on the fields I need to convert, it's nice and elegant.</p>\n<p>I'm looking for a similar approach for string truncation. <code>@Convert</code> doesn't fit here because I can't pass the parameter (length=10000)</p>\n<p>Need something like</p>\n<pre><code>@Truncate(length=2000)\nprivate String description;\n</code></pre>\n<p>instead of</p>\n<pre><code>public void setName(String name) {\n     this.name = name.length() &gt; 2000 ? name.substring(0,2000) : name;\n}\n</code></pre>\n<p>because when using Lombok there will be no setters in the class</p>\n<p>the <code>@Truncate(length=100)</code> annotation is good because I want to cut off some field automatically and do not annotate some field so that a string that is too large throws an exception.</p>\n<p>For example</p>\n<pre><code>@Truncate(length=2000)\n@Column(name = &quot;description&quot;, columnDefinition = &quot;VARCHAR(2000)&quot;)\nprivate String description; // want to automate a truncation\n\n@Truncate(length=12000)\n@Column(name = &quot;description&quot;, columnDefinition = &quot;TEXT&quot;)\nprivate String description; // want to automate a truncation\n\n@Column(name = &quot;user_name&quot;, columnDefinition = &quot;VARCHAR(30)&quot;)\nprivate String userName; // want to get an exception with to long string\n</code></pre>\n<p>But unfortunately, I did not find such an annotation.</p>\n<p>Tell me if it is possible to create such an annotation. If so, how can such an approach be implemented? Thank you.</p>\n"},{"tags":["java","spring","spring-boot","sonarqube"],"owner":{"account_id":28588307,"reputation":11,"user_id":21888106,"display_name":"darthwader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684492909,"creation_date":1684491700,"question_id":76288155,"body_markdown":"This is caught in Sonarlint report. I&#39;m not sure if this is something that can be excluded or marked to ignore in sonar settings. How to get rid of this sonarlint message &quot;Use dynamically generated dynamic IV&quot; in spring boot?\r\n\r\nThe AttributeEncyptor class:\r\n\r\n```\r\n@Data\r\n@Component\r\n@Configuration\r\npublic class AttributeEncryptor implements AttributeConverter&lt;String, String&gt; {\r\n\r\n\tprivate static Logger logger = LoggerFactory.getLogger(AttributeEncryptor.class.getName());\r\n\r\n\t    @Value(&quot;${encryption.initVector}&quot;)\r\n\t    private String initVector ;\r\n\r\n\t    @Value(&quot;${encryption.password}&quot;)\r\n\t    private String password ;\r\n\r\n\t    @Value(&quot;${encryption.salt}&quot;)\r\n\t    private String salt ;\r\n\r\n\r\n\tIvParameterSpec iv = null;\r\n\r\n\t@Override\r\n\tpublic String convertToDatabaseColumn(String attribute) {\r\n\t\tif(attribute != null &amp;&amp; !attribute.isBlank()) {\r\n\t\t\ttry {\r\n\t\t\t\tCipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;);\r\n\t\t\t\tcipher.init(Cipher.ENCRYPT_MODE, getKeyFromPassword(password,salt), iv);\r\n\t\t\t\treturn Base64.getEncoder().encodeToString(cipher.doFinal(attribute.getBytes(StandardCharsets.UTF_8)));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlogger.error(&quot;Error while encrypting: {} &quot;,e.getStackTrace());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String convertToEntityAttribute(String dbData) {\r\n\t\tif(dbData != null &amp;&amp; !dbData.isBlank()) {\r\n\t\t\ttry {\r\n\t\t\t\tCipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;);\r\n\t\t\t\tcipher.init(Cipher.DECRYPT_MODE, getKeyFromPassword(password,salt), iv);\r\n\t\t\t\treturn new String(cipher.doFinal(Base64.getDecoder().decode(dbData)));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlogger.error(&quot;Error while decrypting: {} &quot;,e.getStackTrace());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic static SecretKey getKeyFromPassword(String password, String salt)\r\n\t\t\tthrows NoSuchAlgorithmException, InvalidKeySpecException {\r\n\r\n\t\tSecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n\t\tKeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(), 65536, 256);\r\n\t\treturn new SecretKeySpec(factory.generateSecret(spec)\r\n\t\t\t\t.getEncoded(), &quot;AES&quot;);\r\n\t}\r\n\r\n\t@PostConstruct\r\n\tpublic void init(){\r\n\t\tiv = new IvParameterSpec(initVector.getBytes(StandardCharsets.UTF_8));\r\n\t}\r\n}\r\n```\r\nThe @Value comes from application.yaml\r\n\r\n```\r\nencryption:\r\n  initVector: \r\n  password: \r\n  salt: \r\n```\r\n\r\nHow to get rid of this? Is Random generator library to have that enough?","title":"How to resolve &#39;Use dynamically generated dynamic IV&#39; warning in Spring Boot with AttributeEncryptor class?","body":"<p>This is caught in Sonarlint report. I'm not sure if this is something that can be excluded or marked to ignore in sonar settings. How to get rid of this sonarlint message &quot;Use dynamically generated dynamic IV&quot; in spring boot?</p>\n<p>The AttributeEncyptor class:</p>\n<pre><code>@Data\n@Component\n@Configuration\npublic class AttributeEncryptor implements AttributeConverter&lt;String, String&gt; {\n\n    private static Logger logger = LoggerFactory.getLogger(AttributeEncryptor.class.getName());\n\n        @Value(&quot;${encryption.initVector}&quot;)\n        private String initVector ;\n\n        @Value(&quot;${encryption.password}&quot;)\n        private String password ;\n\n        @Value(&quot;${encryption.salt}&quot;)\n        private String salt ;\n\n\n    IvParameterSpec iv = null;\n\n    @Override\n    public String convertToDatabaseColumn(String attribute) {\n        if(attribute != null &amp;&amp; !attribute.isBlank()) {\n            try {\n                Cipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;);\n                cipher.init(Cipher.ENCRYPT_MODE, getKeyFromPassword(password,salt), iv);\n                return Base64.getEncoder().encodeToString(cipher.doFinal(attribute.getBytes(StandardCharsets.UTF_8)));\n            } catch (Exception e) {\n                logger.error(&quot;Error while encrypting: {} &quot;,e.getStackTrace());\n            }\n        }\n        return null;\n    }\n\n    @Override\n    public String convertToEntityAttribute(String dbData) {\n        if(dbData != null &amp;&amp; !dbData.isBlank()) {\n            try {\n                Cipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;);\n                cipher.init(Cipher.DECRYPT_MODE, getKeyFromPassword(password,salt), iv);\n                return new String(cipher.doFinal(Base64.getDecoder().decode(dbData)));\n            } catch (Exception e) {\n                logger.error(&quot;Error while decrypting: {} &quot;,e.getStackTrace());\n            }\n        }\n        return null;\n    }\n\n    public static SecretKey getKeyFromPassword(String password, String salt)\n            throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        KeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(), 65536, 256);\n        return new SecretKeySpec(factory.generateSecret(spec)\n                .getEncoded(), &quot;AES&quot;);\n    }\n\n    @PostConstruct\n    public void init(){\n        iv = new IvParameterSpec(initVector.getBytes(StandardCharsets.UTF_8));\n    }\n}\n</code></pre>\n<p>The @Value comes from application.yaml</p>\n<pre><code>encryption:\n  initVector: \n  password: \n  salt: \n</code></pre>\n<p>How to get rid of this? Is Random generator library to have that enough?</p>\n"},{"tags":["java","oracle","jpa","high-availability"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684504504,"post_id":76288265,"comment_id":134531181,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28634614,"reputation":1,"user_id":21924957,"display_name":"bhuvan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684492814,"creation_date":1684492814,"question_id":76288265,"body_markdown":"Oracle Application Continuity is not working with CLOB columns when JPA is used as ORM.\r\n\r\n\r\nHi, we have implemented oracle application continuity as per the oracle documentation and used pooldatasource from ucp jar. We are using a CLOB column with JPA being our ORM. With CLOB column (irrespective of data available or not) as we switchover to different DB, a replay is not triggering and it is failing with connecition closed exception. If CLOB column is commented out, inflight transactions are being replayed as expected after DB switchover. This happens with JPA being the ORM.","title":"Is there a solution to Oracle Application Continuity not replaying inflight transactions for CLOB columns in JPA-based ORM?","body":"<p>Oracle Application Continuity is not working with CLOB columns when JPA is used as ORM.</p>\n<p>Hi, we have implemented oracle application continuity as per the oracle documentation and used pooldatasource from ucp jar. We are using a CLOB column with JPA being our ORM. With CLOB column (irrespective of data available or not) as we switchover to different DB, a replay is not triggering and it is failing with connecition closed exception. If CLOB column is commented out, inflight transactions are being replayed as expected after DB switchover. This happens with JPA being the ORM.</p>\n"},{"tags":["java","opencv","intellij-idea","unsatisfiedlinkerror"],"answers":[{"tags":[],"owner":{"account_id":4257226,"reputation":46,"user_id":3482586,"display_name":"leidenheit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684492332,"creation_date":1684492332,"answer_id":76288211,"question_id":76287215,"body_markdown":"I solved the issue by applying the flag `BUILD_FAT_JAVA_LIB` in `CMAKE-GUI` and now it works flawlessly.","title":"How to integrate generated opencv with extra modules into an IntelliJ Java project in Windows 10","body":"<p>I solved the issue by applying the flag <code>BUILD_FAT_JAVA_LIB</code> in <code>CMAKE-GUI</code> and now it works flawlessly.</p>\n"}],"owner":{"account_id":4257226,"reputation":46,"user_id":3482586,"display_name":"leidenheit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76288211,"answer_count":1,"score":-1,"last_activity_date":1684492332,"creation_date":1684483909,"question_id":76287215,"body_markdown":"I successfully generated `opencv` with extra modules from `opencv_contrib` in version `4.6.0`. As a result, amongst others, I got the library `opencv_java460.dll`, `opencv_core460.dll` and `opencv_460.jar`. \r\nI installed the jar manually using maven in my local repository and referenced it in my Java project&#39;s `pom.xml`. Once using the library in my code, I got `UnsatisfiedLinkError` when e.g. using `Mat.eye()` even after calling `System.load(path/to/opencv_core460.dll)` beforehand.\r\n\r\nCan somebody please explain how to integrate the generated sources correctly within a Java project in IntelliJ on Windows 10? ","title":"How to integrate generated opencv with extra modules into an IntelliJ Java project in Windows 10","body":"<p>I successfully generated <code>opencv</code> with extra modules from <code>opencv_contrib</code> in version <code>4.6.0</code>. As a result, amongst others, I got the library <code>opencv_java460.dll</code>, <code>opencv_core460.dll</code> and <code>opencv_460.jar</code>.\nI installed the jar manually using maven in my local repository and referenced it in my Java project's <code>pom.xml</code>. Once using the library in my code, I got <code>UnsatisfiedLinkError</code> when e.g. using <code>Mat.eye()</code> even after calling <code>System.load(path/to/opencv_core460.dll)</code> beforehand.</p>\n<p>Can somebody please explain how to integrate the generated sources correctly within a Java project in IntelliJ on Windows 10?</p>\n"},{"tags":["java","remote-debugging","winappdriver"],"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684491710,"creation_date":1684491710,"question_id":76288158,"body_markdown":"I am using both Selenium, testng and WinAppDriver with Java via Eclipse (and ultimately Jenkins) and IE (via Edge IE compatibility).  I use Selenium the normal way, and when I hit a certain page (which requires a windows box login and password) I start up WinAppDriver to fill in the boxes.  This works fine when running locally on my Eclipse machine.\r\n\r\nI start up WinAppDriver and do a connect to \r\n\r\n     exec = new HttpCommandExecutor(new URL(&quot;http://127.0.0.1:4723/&quot;));\r\n\r\nAs I said though this will ultimately be on the Jenkins grid.  To simulate this from eclipse we can set \r\n\r\n     com.xxxxx.test.driver=remote\r\n     com.xxxxx.test.hub=http://seleniumhub:4444/wd/hub\r\n\r\nThis runs, I believe, the software on a master VM and the browser on one of many slave VMs.\r\n\r\nSo while running remotely as shown above I got an error message that it could not find an element (&quot;user Name&quot;).  I then thought it must be because I had to run WinAppDriver on all the VMs.  So I ran it, but still got the same error.\r\n\r\nIt occurs to me I shouldn&#39;t use 127.0.0.1:4723 as I will be debugging on a remote browser.  So I thought I should replace the IP address with the machine that the browser is running on (which will also be running WinAppDriver).  Since there are many slave VMs I can&#39;t hardcode an IP address.  I am trying to figure out a way to find the IP of the slave VM the browser is running on, from my Java program.  I want to try that in the connection string to WinAppDriver.\r\n\r\nany suggestions?","title":"Integrating WinAppDriver and Selenium","body":"<p>I am using both Selenium, testng and WinAppDriver with Java via Eclipse (and ultimately Jenkins) and IE (via Edge IE compatibility).  I use Selenium the normal way, and when I hit a certain page (which requires a windows box login and password) I start up WinAppDriver to fill in the boxes.  This works fine when running locally on my Eclipse machine.</p>\n<p>I start up WinAppDriver and do a connect to</p>\n<pre><code> exec = new HttpCommandExecutor(new URL(&quot;http://127.0.0.1:4723/&quot;));\n</code></pre>\n<p>As I said though this will ultimately be on the Jenkins grid.  To simulate this from eclipse we can set</p>\n<pre><code> com.xxxxx.test.driver=remote\n com.xxxxx.test.hub=http://seleniumhub:4444/wd/hub\n</code></pre>\n<p>This runs, I believe, the software on a master VM and the browser on one of many slave VMs.</p>\n<p>So while running remotely as shown above I got an error message that it could not find an element (&quot;user Name&quot;).  I then thought it must be because I had to run WinAppDriver on all the VMs.  So I ran it, but still got the same error.</p>\n<p>It occurs to me I shouldn't use 127.0.0.1:4723 as I will be debugging on a remote browser.  So I thought I should replace the IP address with the machine that the browser is running on (which will also be running WinAppDriver).  Since there are many slave VMs I can't hardcode an IP address.  I am trying to figure out a way to find the IP of the slave VM the browser is running on, from my Java program.  I want to try that in the connection string to WinAppDriver.</p>\n<p>any suggestions?</p>\n"},{"tags":["java","lombok","pojo","concept"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684501022,"post_id":76287752,"comment_id":134530413,"body_markdown":"It is worth noting that you should **never** return null from a method that returns a collection.  In my opinion, initializing the property with an empty ArrayList is the correct thing to do.  It’s what I would do.","body":"It is worth noting that you should <b>never</b> return null from a method that returns a collection.  In my opinion, initializing the property with an empty ArrayList is the correct thing to do.  It’s what I would do."}],"answers":[{"tags":[],"owner":{"account_id":13081129,"reputation":758,"user_id":9451651,"display_name":"Guts"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684491581,"creation_date":1684491581,"answer_id":76288140,"question_id":76287752,"body_markdown":"1. Won&#39;t it use memory unnecessarily ?\r\n\r\n   It will use a bit, the question is if you expect this class to be initialized with list anyway. If yes than there will be no difference. If no it is better to make it lazy initialized.\r\n\r\n2. Won&#39;t this affect the polymorphism ?\r\n\r\n   It will not as this class is mutable and you can change it in a setter later to LinkedList eg.\r\n\r\n3. What are the others issues I don&#39;t think of ?\r\n\r\n   Not much else TBH, if you really care about the space and want to have lazy initialization you can use:\r\n\r\n       @Getter(lazy=true) private List&lt;Molecule&gt; liste = new ArrayList&lt;&gt;();\r\n   This would initialize the class only when the getter is called.\r\n","title":"Java POJO instanciate member as soon as it declaration","body":"<ol>\n<li><p>Won't it use memory unnecessarily ?</p>\n<p>It will use a bit, the question is if you expect this class to be initialized with list anyway. If yes than there will be no difference. If no it is better to make it lazy initialized.</p>\n</li>\n<li><p>Won't this affect the polymorphism ?</p>\n<p>It will not as this class is mutable and you can change it in a setter later to LinkedList eg.</p>\n</li>\n<li><p>What are the others issues I don't think of ?</p>\n<p>Not much else TBH, if you really care about the space and want to have lazy initialization you can use:</p>\n<pre><code>@Getter(lazy=true) private List&lt;Molecule&gt; liste = new ArrayList&lt;&gt;();\n</code></pre>\n<p>This would initialize the class only when the getter is called.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3118362,"reputation":330,"user_id":2638665,"display_name":"bedomon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684491581,"creation_date":1684488436,"question_id":76287752,"body_markdown":"With my team we are refactoring an app and we&#39;re adding lombok to help writing (and reading) pojo class.\r\n\r\nThere are differents issues with this refactoring and some of you may have hives after reading it, but mistakes make us grow !!\r\n\r\nHere is the class before, \r\n```\r\npackage eu.middle.services.app.generiques.model;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\npublic class Stabilite {\r\n\r\n    private LocalDate dateMiseAJour;\r\n    private LocalDate dateFin;\r\n    private List&lt;Molecule&gt; liste;\r\n\r\n    public Stabilite() {\r\n        super();\r\n    }\r\n\r\n    public Stabilite(LocalDate dateMiseAJour, LocalDate dateFin, List&lt;Molecule&gt; liste) {\r\n        super();\r\n        this.dateFin = dateFin;\r\n        this.dateMiseAJour = dateMiseAJour;\r\n        this.liste = liste;\r\n    }\r\n\r\n    public LocalDate getDateFin {\r\n        return dateFin;\r\n    }\r\n\r\n    public void setDateFin(LocalDate dateFin) {\r\n        this.dateFin = dateFin;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {// NOSONAR\r\n        ....\r\n    }\r\n// and  the other getter/setter, hasCode, toString\r\n\r\n}\r\n```\r\n\r\nand here is the class after, much more easier to read with lombok.\r\n\r\n```\r\npackage eu.middle.services.app.generiques.model;\r\n\r\nimport java.io.Serializable;\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Stabilite implements Serializable {\r\n\r\n    private static final long serialVersionUID = 2356231377315682966L;\r\n\r\n    private LocalDate dateMiseAJour;\r\n    private LocalDate dateFinObservation;\r\n    private List&lt;Molecule&gt; liste = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n\r\nHe transform the pojo class in a bean (interface implementation and UUID adding), it&#39;s not our problem here as we often say all the Bean files can be POJOs, but not all the POJOs are beans, (maybe I&#39;m wrong in my case), as the unuseful @NoArgsConstructor(this one I&#39;m sure)\r\n\r\nMy main problem is `private List&lt;Molecule&gt; liste = new ArrayList&lt;&gt;();`, I&#39;m not ok with this, because here you see one class but __almost a hundred class have been modified this way__\r\n\r\n### Questions ###\r\n\r\n- Won&#39;t it use memory unnecessarily ?\r\n- Won&#39;t this affect the polymorphism ?\r\n- What are the others issues I don&#39;t think of ?\r\n\r\n\r\nThanks in advance","title":"Java POJO instanciate member as soon as it declaration","body":"<p>With my team we are refactoring an app and we're adding lombok to help writing (and reading) pojo class.</p>\n<p>There are differents issues with this refactoring and some of you may have hives after reading it, but mistakes make us grow !!</p>\n<p>Here is the class before,</p>\n<pre><code>package eu.middle.services.app.generiques.model;\n\nimport java.time.LocalDate;\nimport java.util.List;\n\npublic class Stabilite {\n\n    private LocalDate dateMiseAJour;\n    private LocalDate dateFin;\n    private List&lt;Molecule&gt; liste;\n\n    public Stabilite() {\n        super();\n    }\n\n    public Stabilite(LocalDate dateMiseAJour, LocalDate dateFin, List&lt;Molecule&gt; liste) {\n        super();\n        this.dateFin = dateFin;\n        this.dateMiseAJour = dateMiseAJour;\n        this.liste = liste;\n    }\n\n    public LocalDate getDateFin {\n        return dateFin;\n    }\n\n    public void setDateFin(LocalDate dateFin) {\n        this.dateFin = dateFin;\n    }\n\n    @Override\n    public boolean equals(Object obj) {// NOSONAR\n        ....\n    }\n// and  the other getter/setter, hasCode, toString\n\n}\n</code></pre>\n<p>and here is the class after, much more easier to read with lombok.</p>\n<pre><code>package eu.middle.services.app.generiques.model;\n\nimport java.io.Serializable;\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Stabilite implements Serializable {\n\n    private static final long serialVersionUID = 2356231377315682966L;\n\n    private LocalDate dateMiseAJour;\n    private LocalDate dateFinObservation;\n    private List&lt;Molecule&gt; liste = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>He transform the pojo class in a bean (interface implementation and UUID adding), it's not our problem here as we often say all the Bean files can be POJOs, but not all the POJOs are beans, (maybe I'm wrong in my case), as the unuseful @NoArgsConstructor(this one I'm sure)</p>\n<p>My main problem is <code>private List&lt;Molecule&gt; liste = new ArrayList&lt;&gt;();</code>, I'm not ok with this, because here you see one class but <strong>almost a hundred class have been modified this way</strong></p>\n<h3>Questions</h3>\n<ul>\n<li>Won't it use memory unnecessarily ?</li>\n<li>Won't this affect the polymorphism ?</li>\n<li>What are the others issues I don't think of ?</li>\n</ul>\n<p>Thanks in advance</p>\n"},{"tags":["java","compare","fingerprint","biometrics","image-scanner"],"answers":[{"comments":[{"owner":{"account_id":8379100,"reputation":113,"user_id":6291691,"accept_rate":33,"display_name":"akm"},"score":0,"creation_date":1642486276,"post_id":70145646,"comment_id":125076223,"body_markdown":"@pravin joshi . How did you save the fingerprint template, please let me know.\nFor comparing the fingerprints, i have a java code. it might work for you","body":"@pravin joshi . How did you save the fingerprint template, please let me know. For comparing the fingerprints, i have a java code. it might work for you"}],"tags":[],"owner":{"account_id":5896354,"reputation":546,"user_id":7621484,"display_name":"Ravanan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684491158,"creation_date":1638118967,"answer_id":70145646,"question_id":70048860,"body_markdown":"In order to integrate the Mantra MFS100 fingerprint scanner with a Java application, you will need to use Javascript-supported APIs. One such API is available at https://camsunit.com/product/javascript-api-for-zk-fingerprint-scanner-zk4500-zk9500-MFS100.html. \r\n\r\nTo implement this integration, you can utilize the scanner directly on the client-side of your application using Javascript. The data captured by the scanner on the client page can then be sent to the server-side (Java component) for further processing and storage.\r\n\r\nBy following this approach, you can seamlessly communicate between the client-side and server-side components, enabling efficient fingerprint scanning and data handling in your Java application.","title":"Compare 2 Fingerprint templates generated from mantra scanner","body":"<p>In order to integrate the Mantra MFS100 fingerprint scanner with a Java application, you will need to use Javascript-supported APIs. One such API is available at <a href=\"https://camsunit.com/product/javascript-api-for-zk-fingerprint-scanner-zk4500-zk9500-MFS100.html\" rel=\"nofollow noreferrer\">https://camsunit.com/product/javascript-api-for-zk-fingerprint-scanner-zk4500-zk9500-MFS100.html</a>.</p>\n<p>To implement this integration, you can utilize the scanner directly on the client-side of your application using Javascript. The data captured by the scanner on the client page can then be sent to the server-side (Java component) for further processing and storage.</p>\n<p>By following this approach, you can seamlessly communicate between the client-side and server-side components, enabling efficient fingerprint scanning and data handling in your Java application.</p>\n"},{"tags":[],"owner":{"account_id":18839716,"reputation":33,"user_id":13741511,"display_name":"Germanus Xavier"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677600279,"creation_date":1677225418,"answer_id":75553906,"question_id":70048860,"body_markdown":"```\r\nint ret =mfs100.MatchISO(template1,template2);\r\n```\r\nHere, `template1` and `template2` are the templates that you want to compare, and these templates are of ISO1974(2005) works.","title":"Compare 2 Fingerprint templates generated from mantra scanner","body":"<pre><code>int ret =mfs100.MatchISO(template1,template2);\n</code></pre>\n<p>Here, <code>template1</code> and <code>template2</code> are the templates that you want to compare, and these templates are of ISO1974(2005) works.</p>\n"}],"owner":{"account_id":19927622,"reputation":1,"user_id":14601956,"display_name":"pravin joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":972,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1684491158,"creation_date":1637433783,"question_id":70048860,"body_markdown":"I have a Mantra Fingerprint Scanner using which I can store fingerprint details in various formats (i.e. ISO, ANCII, RAW Data). I also stored PNG image from base64 output. Everything is working perfectly.[&lt;br&gt;][1]\r\nNow I want to compare fingerprint templates and match them and allocate access to the login page. I searched for many things but did not get anything.\r\n\r\nMy project platform is Java. I want to compare fingerprint templates using Java.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9DpI7.png","title":"Compare 2 Fingerprint templates generated from mantra scanner","body":"<p>I have a Mantra Fingerprint Scanner using which I can store fingerprint details in various formats (i.e. ISO, ANCII, RAW Data). I also stored PNG image from base64 output. Everything is working perfectly.<a href=\"https://i.stack.imgur.com/9DpI7.png\" rel=\"nofollow noreferrer\"><br></a>\nNow I want to compare fingerprint templates and match them and allocate access to the login page. I searched for many things but did not get anything.</p>\n<p>My project platform is Java. I want to compare fingerprint templates using Java.</p>\n"},{"tags":["java","maven","gradle","github-package-registry","github-packages"],"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684490614,"creation_date":1684477632,"question_id":76286518,"body_markdown":"We want to add [this github package][1] to our gradle project.\r\n\r\nbuild.gradle file:\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.ssi.test&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven {\r\n\t\turl = uri(&quot;https://maven.pkg.github.com/catenax-ng/product-lab-ssi&quot;)\r\n\t\tcredentials {\r\n\t\t\tusername = &#39;nitin-vavdiya&#39;\r\n\t\t\tpassword = &#39;ghp_my-PAT&#39;\r\n\t\t}\r\n\t}\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\timplementation &#39;org.eclipse.tractusx.ssi:cx-ssi-lib:0.0.3&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\nWhen I build the project using `./gradlew build` I am getting package not found error:\r\n\r\n```\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:detachedConfiguration66&#39;.\r\n   &gt; Could not find org.eclipse.tractusx.ssi:cx-ssi:0.0.3.\r\n     Searched in the following locations:\r\n       - https://repo.maven.apache.org/maven2/org/eclipse/tractusx/ssi/cx-ssi/0.0.3/cx-ssi-0.0.3.pom\r\n       - https://maven.pkg.github.com/catenax-ng/product-lab-ssi/org/eclipse/tractusx/ssi/cx-ssi/0.0.3/cx-ssi-0.0.3.pom\r\n     Required by:\r\n         project :\r\n\r\n\r\n```\r\n\r\nHere the pom file link is generated wrong, **-lib** is missing.\r\n\r\n```\r\n - https://repo.maven.apache.org/maven2/org/eclipse/tractusx/ssi/cx-ssi/0.0.3/cx-ssi-0.0.3.pom\r\n - https://maven.pkg.github.com/catenax-ng/product-lab-ssi/org/eclipse/tractusx/ssi/cx-ssi/0.0.3/cx-ssi-0.0.3.pom\r\n```\r\nHow to reproduce?\r\n - Checkout [source code here][2]\r\n - Change password in build.gradle\r\n - run `./gradlew build`\r\n\r\nCan you help to identify what is wrong here?\r\n\r\n\r\n  [1]: https://github.com/catenax-ng/product-lab-ssi/packages/1842305\r\n  [2]: https://github.com/nitin-vavdiya/ssi-test","title":"Can not add maven github package in spring boot gradle project as dependency","body":"<p>We want to add <a href=\"https://github.com/catenax-ng/product-lab-ssi/packages/1842305\" rel=\"nofollow noreferrer\">this github package</a> to our gradle project.</p>\n<p>build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.ssi.test'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n    maven {\n        url = uri(&quot;https://maven.pkg.github.com/catenax-ng/product-lab-ssi&quot;)\n        credentials {\n            username = 'nitin-vavdiya'\n            password = 'ghp_my-PAT'\n        }\n    }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.eclipse.tractusx.ssi:cx-ssi-lib:0.0.3'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>When I build the project using <code>./gradlew build</code> I am getting package not found error:</p>\n<pre><code>Execution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':detachedConfiguration66'.\n   &gt; Could not find org.eclipse.tractusx.ssi:cx-ssi:0.0.3.\n     Searched in the following locations:\n       - https://repo.maven.apache.org/maven2/org/eclipse/tractusx/ssi/cx-ssi/0.0.3/cx-ssi-0.0.3.pom\n       - https://maven.pkg.github.com/catenax-ng/product-lab-ssi/org/eclipse/tractusx/ssi/cx-ssi/0.0.3/cx-ssi-0.0.3.pom\n     Required by:\n         project :\n\n\n</code></pre>\n<p>Here the pom file link is generated wrong, <strong>-lib</strong> is missing.</p>\n<pre><code> - https://repo.maven.apache.org/maven2/org/eclipse/tractusx/ssi/cx-ssi/0.0.3/cx-ssi-0.0.3.pom\n - https://maven.pkg.github.com/catenax-ng/product-lab-ssi/org/eclipse/tractusx/ssi/cx-ssi/0.0.3/cx-ssi-0.0.3.pom\n</code></pre>\n<p>How to reproduce?</p>\n<ul>\n<li>Checkout <a href=\"https://github.com/nitin-vavdiya/ssi-test\" rel=\"nofollow noreferrer\">source code here</a></li>\n<li>Change password in build.gradle</li>\n<li>run <code>./gradlew build</code></li>\n</ul>\n<p>Can you help to identify what is wrong here?</p>\n"},{"tags":["java","maven"],"owner":{"account_id":4107787,"reputation":1352,"user_id":3371251,"accept_rate":100,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684490545,"creation_date":1684490545,"question_id":76288018,"body_markdown":"I am using quarkus and I get the following error message:\r\n\r\n    WARN  [io.qua.arc.dep.SplitPackageProcessor] (build-43) Detected a split package usage which is considered a bad practice and should be avoided. Following packages were detected in multiple archives: \r\n    - &quot;io.quarkus.hibernate.orm.panache&quot; found in [at.tanzauswertung.portal-backend:portal-backend::jar, io.quarkus:quarkus-hibernate-orm-panache::jar]\r\n\r\nFirst of all this error message is not really helpful for me because it is showing me that the package `hibernate.orm.panache` is found in my archive: `portal-backend` and in `io.quarkus:quarkus-hibernate-orm-panache`. I have my archive and it **includes** io.quarkus:quarkus-hibernate-orm-panache. So how can this be a problem?\r\n\r\nSecondly I tried to check it in the resolved dependency list. But here I get only conflicts about `commons...` but not anything with panache.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u96bQ.png\r\n\r\nCan anyone explain me please how to fix this?\r\nPom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n             xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;at.tanzauswertung.portal&lt;/groupId&gt;\r\n            &lt;artifactId&gt;portal-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;at.tanzauswertung.portal-backend&lt;/groupId&gt;\r\n        &lt;artifactId&gt;portal-backend&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;webapp.dependency.phase&gt;prepare-package&lt;/webapp.dependency.phase&gt;\r\n            &lt;surefire-plugin.version&gt;3.1.0&lt;/surefire-plugin.version&gt;\r\n            &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\r\n            &lt;testcontainers.version&gt;1.17.6&lt;/testcontainers.version&gt;\r\n            &lt;quarkus.version&gt;3.0.3.Final&lt;/quarkus.version&gt;\r\n            &lt;version.apache-poi&gt;5.2.3&lt;/version.apache-poi&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.quarkus.platform&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;quarkus-bom&lt;/artifactId&gt;\r\n                    &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;at.tanzauswertung.api&lt;/groupId&gt;\r\n                &lt;artifactId&gt;pea-portal-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n                &lt;version&gt;6.20.5&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lucene-queryparser&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.jfree&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jcommon&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.jfree&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;ecj&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.codehaus.castor&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;castor-xml&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.olap4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;olap4j&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n                &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.dasniko&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testcontainers-keycloak&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.apache-poi}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.apache-poi}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Not sure, but I think not needed anymore\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;3.12.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-mailer&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-narayana-jta&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-scheduler&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-agroal&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-rest-client-reactive&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-rest-client-reactive-jackson&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-undertow&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-keycloak-admin-client-reactive&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-keycloak-authorization&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-oidc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-test-h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-junit5-mockito&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                        &lt;systemProperties&gt;\r\n                            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                        &lt;/systemProperties&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-resources&lt;/id&gt;\r\n                            &lt;phase&gt;validate&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;${project.build.directory}/classes/META-INF/resources/portal\r\n                                &lt;/outputDirectory&gt;\r\n                                &lt;resources&gt;\r\n                                    &lt;resource&gt;\r\n                                        &lt;directory&gt;${project.parent.basedir}/portal-webapp/build/&lt;/directory&gt;\r\n                                    &lt;/resource&gt;\r\n                                &lt;/resources&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;skipFrontendBuild&lt;/id&gt;\r\n                &lt;properties&gt;\r\n                    &lt;surefire-plugin.version&gt;${surefire-plugin.version}&lt;/surefire-plugin.version&gt;\r\n                    &lt;webapp.dependency.phase&gt;none&lt;/webapp.dependency.phase&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Maven dependency &quot;Split package usage&quot;","body":"<p>I am using quarkus and I get the following error message:</p>\n<pre><code>WARN  [io.qua.arc.dep.SplitPackageProcessor] (build-43) Detected a split package usage which is considered a bad practice and should be avoided. Following packages were detected in multiple archives: \n- &quot;io.quarkus.hibernate.orm.panache&quot; found in [at.tanzauswertung.portal-backend:portal-backend::jar, io.quarkus:quarkus-hibernate-orm-panache::jar]\n</code></pre>\n<p>First of all this error message is not really helpful for me because it is showing me that the package <code>hibernate.orm.panache</code> is found in my archive: <code>portal-backend</code> and in <code>io.quarkus:quarkus-hibernate-orm-panache</code>. I have my archive and it <strong>includes</strong> io.quarkus:quarkus-hibernate-orm-panache. So how can this be a problem?</p>\n<p>Secondly I tried to check it in the resolved dependency list. But here I get only conflicts about <code>commons...</code> but not anything with panache.\n<a href=\"https://i.stack.imgur.com/u96bQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u96bQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone explain me please how to fix this?\nPom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;at.tanzauswertung.portal&lt;/groupId&gt;\n        &lt;artifactId&gt;portal-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;at.tanzauswertung.portal-backend&lt;/groupId&gt;\n    &lt;artifactId&gt;portal-backend&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;webapp.dependency.phase&gt;prepare-package&lt;/webapp.dependency.phase&gt;\n        &lt;surefire-plugin.version&gt;3.1.0&lt;/surefire-plugin.version&gt;\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\n        &lt;testcontainers.version&gt;1.17.6&lt;/testcontainers.version&gt;\n        &lt;quarkus.version&gt;3.0.3.Final&lt;/quarkus.version&gt;\n        &lt;version.apache-poi&gt;5.2.3&lt;/version.apache-poi&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.quarkus.platform&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-bom&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;at.tanzauswertung.api&lt;/groupId&gt;\n            &lt;artifactId&gt;pea-portal-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;6.20.5&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n                    &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n                    &lt;artifactId&gt;lucene-queryparser&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.jfree&lt;/groupId&gt;\n                    &lt;artifactId&gt;jcommon&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.jfree&lt;/groupId&gt;\n                    &lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\n                    &lt;artifactId&gt;ecj&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.castor&lt;/groupId&gt;\n                    &lt;artifactId&gt;castor-xml&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.olap4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;olap4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n                    &lt;artifactId&gt;core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n                    &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.dasniko&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers-keycloak&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;${version.apache-poi}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;${version.apache-poi}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Not sure, but I think not needed anymore\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-mailer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-narayana-jta&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-scheduler&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-agroal&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client-reactive-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-undertow&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-keycloak-admin-client-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-keycloak-authorization&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-oidc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-test-h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5-mockito&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                    &lt;systemProperties&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                    &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/classes/META-INF/resources/portal\n                            &lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;${project.parent.basedir}/portal-webapp/build/&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;skipFrontendBuild&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;surefire-plugin.version&gt;${surefire-plugin.version}&lt;/surefire-plugin.version&gt;\n                &lt;webapp.dependency.phase&gt;none&lt;/webapp.dependency.phase&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","testng","autotest"],"answers":[{"tags":[],"owner":{"account_id":28626640,"reputation":1,"user_id":21918495,"display_name":"Iren Potryasay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684490496,"creation_date":1684490496,"answer_id":76288009,"question_id":76279664,"body_markdown":"The solution is to set variables **static**\r\nPageOne p1;\r\nPageTwo p2;\r\nI found detailed explanation here http://makeseleniumeasy.com/2020/08/09/are-you-getting-nullpointerexception-for-second-testng-test-while-running-as-a-suite/","title":"Java, TestNG: Why variable initialized in @BeforeTest isn&#39;t accessible in second TestClass","body":"<p>The solution is to set variables <strong>static</strong>\nPageOne p1;\nPageTwo p2;\nI found detailed explanation here <a href=\"http://makeseleniumeasy.com/2020/08/09/are-you-getting-nullpointerexception-for-second-testng-test-while-running-as-a-suite/\" rel=\"nofollow noreferrer\">http://makeseleniumeasy.com/2020/08/09/are-you-getting-nullpointerexception-for-second-testng-test-while-running-as-a-suite/</a></p>\n"}],"owner":{"account_id":28626640,"reputation":1,"user_id":21918495,"display_name":"Iren Potryasay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76288009,"answer_count":1,"score":0,"last_activity_date":1684490496,"creation_date":1684403931,"question_id":76279664,"body_markdown":"everyone!\r\nI&#39;m new in autotest and I meet the next problem using Tesng with Java:\r\nI have the next structure of my TestProject:\r\n1. abstract public class **BasePage** - inherited class for page classes PageOne and PageTwo:\r\nclass BasePage:\r\n```\r\nabstract public class BasePage {\r\n\r\n    public String str;\r\n\r\n    public BasePage(){\r\n        System.out.println(&quot;Constructor class: BasePage&quot;);\r\n    }\r\n\r\n    public void doSomething(){\r\n        System.out.println(str);\r\n    }\r\n\r\n}\r\n```\r\nclass PageOne:\r\n```\r\npublic class PageOne extends BasePage{\r\n\r\n    public PageOne(String strP1){\r\n        this.str = strP1;\r\n        System.out.println(&quot;Constructor class: PageOne = &quot; + this.toString());\r\n    }\r\n\r\n}\r\n```\r\nclass PageTwo:\r\n```\r\npublic class PageTwo extends BasePage{\r\n\r\n    public PageTwo(String strP2){\r\n        this.str = strP2;\r\n        System.out.println(&quot;Constructor class: PageTwo = &quot; + this.toString());\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n2. abstract public class **BaseTest** - inherited class for test classes TestOne and TestTwo:\r\nclass BaseTest:\r\n```\r\nabstract public class BaseTest {\r\n\r\n    PageOne p1;\r\n    PageTwo p2;\r\n\r\n    @BeforeTest\r\n    public void setUp(){\r\n        System.out.println(&quot;BEFORE TEST in BaseTest: create p1 and p2&quot;);\r\n        p1 = new PageOne();\r\n        p2 = new PageTwo();\r\n                System.out.println(&quot;***** BEFORE *****&quot;);\r\n    }\r\n```\r\nclass TestOne:\r\n```\r\npublic class TestOne extends BaseTest{\r\n\r\n    public TestOne(){\r\n        System.out.println(&quot;Constructor class: TestOne&quot;);\r\n    }\r\n    @Test\r\n    public void testDoSomething(){\r\n        p1.doSomething();\r\n        p2.doSomething();\r\n\r\n    }\r\n\r\n}\r\n```\r\nclass TestTwo:\r\n```\r\npublic class TestTwo extends BaseTest{\r\n\r\n    public TestTwo(){\r\n        System.out.println(&quot;Constructor class: TestTwo&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void testDoSomething(){\r\n        p1.doSomething();\r\n        p2.doSomething();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n3. my testng.xml is:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;All Test Suite&quot;&gt;\r\n    &lt;test verbose=&quot;2&quot; preserve-order=&quot;true&quot; name=&quot;test1&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;org.example.tests.TestOne&quot;/&gt;\r\n            &lt;class name=&quot;org.example.tests.TestTwo&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nBut when I started my testng.xml I got error:\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;org.example.pages.PageOne.doSomething()&quot; because &quot;this.p1&quot; is null\r\nand my system.outs:\r\n\r\n```\r\nConstructor class: TestOne\r\nConstructor class: TestTwo\r\nBEFORE TEST in BaseTest: create p1 and p2\r\nConstructor class: BasePage\r\nConstructor class: PageOne = org.example.pages.PageOne@6a400542\r\nConstructor class: BasePage\r\nConstructor class: PageTwo = org.example.pages.PageTwo@7e0b85f9\r\n***** BEFORE TEST END *****\r\nstrP1\r\nstrP2\r\n***** AFTER CLASS *****\r\njava.lang.NullPointerException: Cannot invoke &quot;org.example.pages.PageOne.doSomething()&quot; because &quot;this.p1&quot; is null\r\n```\r\nSO the second test TestTwo is failed because there are no more page variable **p1**.\r\nI can solve this problem by using annotation **@BeforeClass** or **@BeforeMethod**.\r\nBut I can&#39;t understand why it doesn&#39;t work with **@BeforeTest**.\r\nCould anybody explain it, please!\r\n\r\n\r\n","title":"Java, TestNG: Why variable initialized in @BeforeTest isn&#39;t accessible in second TestClass","body":"<p>everyone!\nI'm new in autotest and I meet the next problem using Tesng with Java:\nI have the next structure of my TestProject:</p>\n<ol>\n<li>abstract public class <strong>BasePage</strong> - inherited class for page classes PageOne and PageTwo:\nclass BasePage:</li>\n</ol>\n<pre><code>abstract public class BasePage {\n\n    public String str;\n\n    public BasePage(){\n        System.out.println(&quot;Constructor class: BasePage&quot;);\n    }\n\n    public void doSomething(){\n        System.out.println(str);\n    }\n\n}\n</code></pre>\n<p>class PageOne:</p>\n<pre><code>public class PageOne extends BasePage{\n\n    public PageOne(String strP1){\n        this.str = strP1;\n        System.out.println(&quot;Constructor class: PageOne = &quot; + this.toString());\n    }\n\n}\n</code></pre>\n<p>class PageTwo:</p>\n<pre><code>public class PageTwo extends BasePage{\n\n    public PageTwo(String strP2){\n        this.str = strP2;\n        System.out.println(&quot;Constructor class: PageTwo = &quot; + this.toString());\n    }\n\n\n}\n</code></pre>\n<ol start=\"2\">\n<li>abstract public class <strong>BaseTest</strong> - inherited class for test classes TestOne and TestTwo:\nclass BaseTest:</li>\n</ol>\n<pre><code>abstract public class BaseTest {\n\n    PageOne p1;\n    PageTwo p2;\n\n    @BeforeTest\n    public void setUp(){\n        System.out.println(&quot;BEFORE TEST in BaseTest: create p1 and p2&quot;);\n        p1 = new PageOne();\n        p2 = new PageTwo();\n                System.out.println(&quot;***** BEFORE *****&quot;);\n    }\n</code></pre>\n<p>class TestOne:</p>\n<pre><code>public class TestOne extends BaseTest{\n\n    public TestOne(){\n        System.out.println(&quot;Constructor class: TestOne&quot;);\n    }\n    @Test\n    public void testDoSomething(){\n        p1.doSomething();\n        p2.doSomething();\n\n    }\n\n}\n</code></pre>\n<p>class TestTwo:</p>\n<pre><code>public class TestTwo extends BaseTest{\n\n    public TestTwo(){\n        System.out.println(&quot;Constructor class: TestTwo&quot;);\n    }\n\n    @Test\n    public void testDoSomething(){\n        p1.doSomething();\n        p2.doSomething();\n    }\n\n}\n\n</code></pre>\n<ol start=\"3\">\n<li>my testng.xml is:</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;All Test Suite&quot;&gt;\n    &lt;test verbose=&quot;2&quot; preserve-order=&quot;true&quot; name=&quot;test1&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;org.example.tests.TestOne&quot;/&gt;\n            &lt;class name=&quot;org.example.tests.TestTwo&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>But when I started my testng.xml I got error:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;org.example.pages.PageOne.doSomething()&quot; because &quot;this.p1&quot; is null\nand my system.outs:</p>\n</blockquote>\n<pre><code>Constructor class: TestOne\nConstructor class: TestTwo\nBEFORE TEST in BaseTest: create p1 and p2\nConstructor class: BasePage\nConstructor class: PageOne = org.example.pages.PageOne@6a400542\nConstructor class: BasePage\nConstructor class: PageTwo = org.example.pages.PageTwo@7e0b85f9\n***** BEFORE TEST END *****\nstrP1\nstrP2\n***** AFTER CLASS *****\njava.lang.NullPointerException: Cannot invoke &quot;org.example.pages.PageOne.doSomething()&quot; because &quot;this.p1&quot; is null\n</code></pre>\n<p>SO the second test TestTwo is failed because there are no more page variable <strong>p1</strong>.\nI can solve this problem by using annotation <strong>@BeforeClass</strong> or <strong>@BeforeMethod</strong>.\nBut I can't understand why it doesn't work with <strong>@BeforeTest</strong>.\nCould anybody explain it, please!</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1684172451,"post_id":76256641,"comment_id":134475271,"body_markdown":"Use [code format](https://stackoverflow.com/editing-help#code) for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation.","body":"Use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation."}],"owner":{"account_id":4160077,"reputation":477,"user_id":3410377,"accept_rate":93,"display_name":"Razlo3p"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684490494,"creation_date":1684172330,"question_id":76256641,"body_markdown":"I&#39;m using `org.apache.cxf.jaxrs.client.WebClient` to connect send a GET request to remote service. During SSL handshake i get\r\n\r\n    javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.725 CEST|ECDHClientKeyExchange.java:407|Produced ECDHE ClientKeyExchange handshake message (\r\n    &quot;ECDH ClientKeyExchange&quot;: {\r\n      &quot;ecdh public&quot;: {\r\n        0000: 34 BE 01 2F CC BA EB 1B   71 DB 0F 21 69 97 4A 04  4../....q..!i.J.\r\n        0010: 59 C8 62 B4 14 B1 C8 97   35 96 C8 5F D0 4E 2A 0C  Y.b.....5.._.N*.\r\n      },\r\n    }\r\n    )\r\n    javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.728 CEST|CertificateVerify.java:767|Produced CertificateVerify handshake message (\r\n    &quot;CertificateVerify&quot;: {\r\n      &quot;signature algorithm&quot;: rsa_pss_rsae_sha256\r\n      &quot;signature&quot;: {\r\n        0000: 72 FD 57 75 C3 EA FC 30   E8 B9 E5 C5 8F 1F 5B 55  r.Wu...0......[U\r\n        0010: C1 2E 97 27 7C 92 A7 12   5D 03 4C A9 EA A1 66 4C  ...&#39;....].L...fL\r\n        0020: 89 6B D9 2D C0 C6 75 20   CB 6D 14 B3 7B AB 3A 6E  .k.-..u .m....:n\r\n        0030: 55 CA 45 18 7F AE 0F D6   46 50 3C 09 95 95 66 73  U.E.....FP&lt;...fs\r\n        0040: F8 16 AB E9 06 1D 6E 87   31 E8 E8 E8 1E CC 23 C5  ......n.1.....#.\r\n        0050: 23 D9 49 90 B2 FE 2D 26   58 A7 E7 50 99 80 1B F6  #.I...-&amp;X..P....\r\n        0060: 67 BE 81 EE 98 06 23 4B   A1 2E B5 DC 4A 61 9E 27  g.....#K....Ja.&#39;\r\n        0070: 6C 16 1C 18 86 E7 D4 64   28 5E D1 F5 F0 E6 89 17  l......d(^......\r\n        0080: 3C 26 EC 79 83 B3 B0 30   D4 EB 27 2E D3 FB 6D 3F  &lt;&amp;.y...0..&#39;...m?\r\n        0090: B1 C7 2C A6 3C 6E DB AA   68 5A B1 59 9E 48 C8 10  ..,.&lt;n..hZ.Y.H..\r\n        00A0: F8 89 DD E3 AA E3 85 15   9B 91 7F 62 FC EF D4 DF  ...........b....\r\n        00B0: C1 1D CB 95 54 5F 4F 3C   68 0C 72 0B 2A ED B5 C5  ....T_O&lt;h.r.*...\r\n        00C0: 51 97 26 8D 64 8F 4F C7   DF 95 32 63 6E 00 55 66  Q.&amp;.d.O...2cn.Uf\r\n        00D0: 12 16 AF 50 DA 27 CF 71   75 AC BC 50 FC 70 11 13  ...P.&#39;.qu..P.p..\r\n        00E0: 53 80 AD 28 30 D2 D6 B1   93 3B 21 AB 10 22 EC 7E  S..(0....;!..&quot;..\r\n        00F0: 71 9F 52 CA 67 21 85 DA   F7 D0 BD 18 92 6D EA 40  q.R.g!.......m.@\r\n      }\r\n    }\r\n    )\r\n    javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.728 CEST|ChangeCipherSpec.java:115|Produced ChangeCipherSpec message\r\n    javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.728 CEST|Finished.java:396|Produced client Finished handshake message (\r\n    &quot;Finished&quot;: {\r\n      &quot;verify data&quot;: {\r\n        0000: B3 92 53 87 32 D4 33 31   06 1F F4 A2 \r\n      }&#39;}\r\n    )\r\n    javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.736 CEST|ChangeCipherSpec.java:149|Consuming ChangeCipherSpec message\r\n    javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.736 CEST|Finished.java:548|Consuming server Finished handshake message (\r\n    &quot;Finished&quot;: {\r\n      &quot;verify data&quot;: {\r\n        0000: E7 CC CF D2 3D 39 4F 1A   05 EA 05 F3 \r\n      }&#39;}\r\n    )\r\n    javax.net.ssl|ALL|E5|http-94|2023-05-15 19:13:39.744 CEST|SSLSocketImpl.java:1134|Closing input stream\r\n    javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.744 CEST|SSLSocketImpl.java:577|duplex close of SSLSocket\r\n    javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.744 CEST|SSLSocketImpl.java:1754|close the underlying socket\r\n    javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.744 CEST|SSLSocketImpl.java:1780|close the SSL connection (initiative)\r\n    javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.745 CEST|SSLSocketImpl.java:833|close inbound of SSLSocket\r\n    javax.net.ssl|WARNING|E5|http-94|2023-05-15 19:13:39.746 CEST|SSLSocketImpl.java:595|SSLSocket duplex close failed. Debug info only. Exception details: (\r\n    &quot;throwable&quot; : {\r\n      java.net.SocketException: Socket is closed\r\n            at java.base/java.net.Socket.shutdownInput(Socket.java:1601)\r\n            at java.base/sun.security.ssl.BaseSSLSocketImpl.shutdownInput(BaseSSLSocketImpl.java:219)\r\n            at java.base/sun.security.ssl.SSLSocketImpl.shutdownInput(SSLSocketImpl.java:848)\r\n            at java.base/sun.security.ssl.SSLSocketImpl.bruteForceCloseInput(SSLSocketImpl.java:798)\r\n            at java.base/sun.security.ssl.SSLSocketImpl.duplexCloseOutput(SSLSocketImpl.java:660)\r\n            at java.base/sun.security.ssl.SSLSocketImpl.close(SSLSocketImpl.java:584)\r\n            at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.close(SSLSocketImpl.java:1138)\r\n            at java.base/java.io.BufferedInputStream.close(BufferedInputStream.java:481)\r\n            at java.base/sun.net.www.MeteredStream.close(MeteredStream.java:177)\r\n            at java.base/sun.net.www.MeteredStream.justRead(MeteredStream.java:95)\r\n            at java.base/sun.net.www.MeteredStream.read(MeteredStream.java:142)\r\n            at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)\r\n            at java.base/sun.net.www.protocol.http.HttpURLConnection$HttpInputStream.read(HttpURLConnection.java:3663)\r\n            at org.apache.cxf.helpers.IOUtils.copyAtLeast(IOUtils.java:250)\r\n            at org.apache.cxf.ext.logging.WireTapIn.handleInputStream(WireTapIn.java:91)\r\n            at org.apache.cxf.ext.logging.WireTapIn.handleMessage(WireTapIn.java:61)\r\n            at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\r\n            at org.apache.cxf.jaxrs.client.ClientMessageObserver.onMessage(ClientMessageObserver.java:56)\r\n            at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1701)\r\n            at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1570)\r\n            at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1371)\r\n            at org.apache.cxf.io.AbstractWrappedOutputStream.close(AbstractWrappedOutputStream.java:77)\r\n            at org.apache.cxf.ext.logging.LoggingOutputStream.postClose(LoggingOutputStream.java:53)\r\n            at org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:228)\r\n            at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\r\n            at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:671)\r\n            at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:63)\r\n            at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\r\n            at org.apache.cxf.jaxrs.client.AbstractClient.doRunInterceptorChain(AbstractClient.java:710)\r\n            at org.apache.cxf.jaxrs.client.WebClient.doChainedInvocation(WebClient.java:1086)\r\n            at org.apache.cxf.jaxrs.client.WebClient.doInvoke(WebClient.java:932)\r\n            at org.apache.cxf.jaxrs.client.WebClient.doInvoke(WebClient.java:901)\r\n            at org.apache.cxf.jaxrs.client.WebClient.invoke(WebClient.java:461)\r\n            at ch.logobject.ti.bl.NNI.recuperaInstradamentoPdr(NNI.java:371)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at ch.logobject.as.ejb.StatelessHandler.invokeAuthenticated(StatelessHandler.java:514)\r\n            at ch.logobject.as.ejb.StatelessHandler.invokeWithCl(StatelessHandler.java:404)\r\n            at ch.logobject.as.ejb.StatelessHandler.invokeNow(StatelessHandler.java:327)\r\n            at ch.logobject.as.ejb.StatelessHandler.invoke(StatelessHandler.java:316)\r\n            at ch.logobject.ti.bl.NNI$ByteBuddy$Ro4y31JO.recuperaInstradamentoPdr(Unknown Source)\r\n            at ch.logobject.ti.bl.TIProjectManagement.recuperaInstradamentoPdr(TIProjectManagement.java:20234)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at ch.logobject.as.ejb.StatelessHandler.invokeAuthenticated(StatelessHandler.java:514)\r\n            at ch.logobject.as.ejb.StatelessHandler.invokeWithCl(StatelessHandler.java:404)\r\n            at ch.logobject.as.ejb.StatelessHandler.invokeNow(StatelessHandler.java:327)\r\n            at ch.logobject.as.ejb.StatelessHandler.invoke(StatelessHandler.java:316)\r\n            at ch.logobject.ti.bl.TIProjectManagement$ByteBuddy$y3XwgfB0.recuperaInstradamentoPdr(Unknown Source)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at ch.logobject.common.jms.beanbridge.GenericBeanInvoker.invoke(GenericBeanInvoker.java:87)\r\n            at ch.logobject.common.jms.beanbridge.EntityBeanInvoker.invoke(EntityBeanInvoker.java:40)\r\n            at ch.logobject.common.jms.beanbridge.SessionBeanBridge$1.invoke(SessionBeanBridge.java:261)\r\n            at ch.logobject.common.jms.beanbridge.SessionBeanBridge$1.invoke(SessionBeanBridge.java:1)\r\n            at ch.logobject.common.mdb.CallWithRetry.call(CallWithRetry.java:218)\r\n            at ch.logobject.common.jms.beanbridge.SessionBeanBridge.processRequest(SessionBeanBridge.java:314)\r\n            at ch.logobject.common.jms.beanbridge.SessionBeanBridge.processRequest(SessionBeanBridge.java:171)\r\n            at ch.logobject.common.jms.http.BridgeServlet.jmsRequest(BridgeServlet.java:211)\r\n            at ch.logobject.common.jms.http.BridgeServlet.doPost(BridgeServlet.java:155)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n            at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\r\n            at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)\r\n            at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n            at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\r\n            at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n            at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\r\n            at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n            at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\r\n            at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n            at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:234)\r\n            at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)\r\n            at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:179)\r\n            at ch.logobject.as.jetty.StatsHandler.handle(StatsHandler.java:34)\r\n            at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n            at org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n            at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n            at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n            at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n            at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n            at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n            at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n            at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:555)\r\n            at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:410)\r\n            at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:164)\r\n            at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n            at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n            at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\r\n            at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\r\n            at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\r\n            at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131)\r\n            at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409)\r\n            at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n            at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)}\r\n    \r\n    )\r\n    javax.net.ssl|ALL|E5|http-94|2023-05-15 19:13:39.761 CEST|SSLEngineImpl.java:425|trigger NST\r\n    javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.761 CEST|NewSessionTicket.java:446|Produced NewSessionTicket post-handshake message (\r\n    &quot;NewSessionTicket&quot;: {\r\n      &quot;ticket_lifetime&quot;      : &quot;86,400&quot;,\r\n      &quot;ticket_age_add&quot;       : &quot;&lt;omitted&gt;&quot;,\r\n      &quot;ticket_nonce&quot;         : &quot;02&quot;,\r\n      &quot;ticket&quot;               : {\r\n        0000: 98 E6 C6 65 19 1C 25 1C   F8 64 CE 99 B2 F1 57 F1  ...e..%..d....W.\r\n        0010: 73 7E 25 89 F5 6D F7 58   52 B0 45 F9 7E 0F E7 9E  s.%..m.XR.E.....\r\n      }  &quot;extensions&quot;           : [\r\n        &lt;no extension&gt;\r\n      ]\r\n    }\r\n    )\r\n    javax.net.ssl|ALL|E5|http-94|2023-05-15 19:13:39.761 CEST|SSLEngineImpl.java:825|Closing outbound of SSLEngine\r\n    javax.net.ssl|WARNING|E5|http-94|2023-05-15 19:13:39.762 CEST|SSLEngineOutputRecord.java:182|outbound has closed, ignore outbound application data\r\n\r\n\r\nI have the full dump of the ssl debug if needed.\r\n\r\nEDIT: changed formatting, thanks for comment.\r\nEDIT: tried some curl and openssl command to narrow the problem\r\n\r\nOpenSSl: `openssl s_client -connect URL -tls1_2 -status -msg -debug -CAfile cert.cer`\r\n\r\n    SSL handshake has read 2742 bytes and written 350 bytes\r\n    Verification error: unable to verify the first certificate\r\n    ---\r\n    New, TLSv1.2, Cipher is ECDHE-RSA-AES128-GCM-SHA256\r\n    Server public key is 2048 bit\r\n    Secure Renegotiation IS supported\r\n    Compression: NONE\r\n    Expansion: NONE\r\n    No ALPN negotiated\r\n    SSL-Session:\r\n        Protocol  : TLSv1.2\r\n        Cipher    : ECDHE-RSA-AES128-GCM-SHA256\r\n        Session-ID: 2EF81214C3C914886F4AC9AEFB57368596819E2171F1E61073F12D0823B534B5\r\n        Session-ID-ctx: \r\n        Master-Key: B08FBAE4DAE96955255D53ABA4E07D03528B67BE0A66416307FF2E6454BA42BD65A22DEA82ABC630F4B56168A9EA9BFF\r\n        PSK identity: None\r\n        PSK identity hint: None\r\n        SRP username: None\r\n        Start Time: 1684180040\r\n        Timeout   : 7200 (sec)\r\n        Verify return code: 21 (unable to verify the first certificate)\r\n        Extended master secret: yes\r\n\r\nCurl:  `curl --tlsv1.2 --tls-max 1.2 --verbose --cacert  cert.crt &#39;URL&#39;`\r\n\r\n    * TLSv1.2 (OUT), TLS handshake, Client hello (1):\r\n    * TLSv1.2 (IN), TLS handshake, Server hello (2):\r\n    * TLSv1.2 (IN), TLS handshake, Certificate (11):\r\n    * TLSv1.2 (IN), TLS handshake, Server key exchange (12):\r\n    * TLSv1.2 (IN), TLS handshake, Request CERT (13):\r\n    * TLSv1.2 (IN), TLS handshake, Server finished (14):\r\n    * TLSv1.2 (OUT), TLS handshake, Certificate (11):\r\n    * TLSv1.2 (OUT), TLS handshake, Client key exchange (16):\r\n    * TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):\r\n    * TLSv1.2 (OUT), TLS handshake, Finished (20):\r\n    * TLSv1.2 (IN), TLS handshake, Finished (20):\r\n    * SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256\r\n    * ALPN, server accepted to use h2\r\n    * Server certificate:\r\n    *  subject: OBFUSCATED\r\n    *  start date: Jan 12 08:06:58 2022 GMT\r\n    *  expire date: Jan 12 08:06:58 2024 GMT\r\n    *  subjectAltName: host &quot;OBFUSCATED&quot; matched cert&#39;s &quot;OBFUSCATED&quot;\r\n    *  issuer: OBFUSCATED\r\n    *  SSL certificate verify ok.\r\n    * Using HTTP2, server supports multi-use\r\n    * Connection state changed (HTTP/2 confirmed)\r\n    * Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\r\n    * Using Stream ID: 1 (easy handle 0x55fbed1356b0)\r\n     GET OBFUSCATED HTTP/2\r\n     Host: OBFUSCATED\r\n     User-Agent: curl/7.61.1\r\n     Accept: */*\r\n     \r\n    * Connection state changed (MAX_CONCURRENT_STREAMS == 128)!\r\n     HTTP/2 200 \r\n     date: Mon, 15 May 2023 19:49:42 GMT\r\n     content-type: application/json\r\n     x-content-type-options: nosniff\r\n     x-xss-protection: 1; mode=block\r\n     cache-control: no-cache, no-store, max-age=0, must-revalidate\r\n     pragma: no-cache\r\n     expires: 0\r\n     strict-transport-security: max-age=15724800; includeSubDomains\r\n     x-frame-options: DENY\r\n\r\nCurl gives Positive output (the service answer correctly), is the only way is working.\r\n","title":"SSLSocket duplex close failed after SSL handshake","body":"<p>I'm using <code>org.apache.cxf.jaxrs.client.WebClient</code> to connect send a GET request to remote service. During SSL handshake i get</p>\n<pre><code>javax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.725 CEST|ECDHClientKeyExchange.java:407|Produced ECDHE ClientKeyExchange handshake message (\n&quot;ECDH ClientKeyExchange&quot;: {\n  &quot;ecdh public&quot;: {\n    0000: 34 BE 01 2F CC BA EB 1B   71 DB 0F 21 69 97 4A 04  4../....q..!i.J.\n    0010: 59 C8 62 B4 14 B1 C8 97   35 96 C8 5F D0 4E 2A 0C  Y.b.....5.._.N*.\n  },\n}\n)\njavax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.728 CEST|CertificateVerify.java:767|Produced CertificateVerify handshake message (\n&quot;CertificateVerify&quot;: {\n  &quot;signature algorithm&quot;: rsa_pss_rsae_sha256\n  &quot;signature&quot;: {\n    0000: 72 FD 57 75 C3 EA FC 30   E8 B9 E5 C5 8F 1F 5B 55  r.Wu...0......[U\n    0010: C1 2E 97 27 7C 92 A7 12   5D 03 4C A9 EA A1 66 4C  ...'....].L...fL\n    0020: 89 6B D9 2D C0 C6 75 20   CB 6D 14 B3 7B AB 3A 6E  .k.-..u .m....:n\n    0030: 55 CA 45 18 7F AE 0F D6   46 50 3C 09 95 95 66 73  U.E.....FP&lt;...fs\n    0040: F8 16 AB E9 06 1D 6E 87   31 E8 E8 E8 1E CC 23 C5  ......n.1.....#.\n    0050: 23 D9 49 90 B2 FE 2D 26   58 A7 E7 50 99 80 1B F6  #.I...-&amp;X..P....\n    0060: 67 BE 81 EE 98 06 23 4B   A1 2E B5 DC 4A 61 9E 27  g.....#K....Ja.'\n    0070: 6C 16 1C 18 86 E7 D4 64   28 5E D1 F5 F0 E6 89 17  l......d(^......\n    0080: 3C 26 EC 79 83 B3 B0 30   D4 EB 27 2E D3 FB 6D 3F  &lt;&amp;.y...0..'...m?\n    0090: B1 C7 2C A6 3C 6E DB AA   68 5A B1 59 9E 48 C8 10  ..,.&lt;n..hZ.Y.H..\n    00A0: F8 89 DD E3 AA E3 85 15   9B 91 7F 62 FC EF D4 DF  ...........b....\n    00B0: C1 1D CB 95 54 5F 4F 3C   68 0C 72 0B 2A ED B5 C5  ....T_O&lt;h.r.*...\n    00C0: 51 97 26 8D 64 8F 4F C7   DF 95 32 63 6E 00 55 66  Q.&amp;.d.O...2cn.Uf\n    00D0: 12 16 AF 50 DA 27 CF 71   75 AC BC 50 FC 70 11 13  ...P.'.qu..P.p..\n    00E0: 53 80 AD 28 30 D2 D6 B1   93 3B 21 AB 10 22 EC 7E  S..(0....;!..&quot;..\n    00F0: 71 9F 52 CA 67 21 85 DA   F7 D0 BD 18 92 6D EA 40  q.R.g!.......m.@\n  }\n}\n)\njavax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.728 CEST|ChangeCipherSpec.java:115|Produced ChangeCipherSpec message\njavax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.728 CEST|Finished.java:396|Produced client Finished handshake message (\n&quot;Finished&quot;: {\n  &quot;verify data&quot;: {\n    0000: B3 92 53 87 32 D4 33 31   06 1F F4 A2 \n  }'}\n)\njavax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.736 CEST|ChangeCipherSpec.java:149|Consuming ChangeCipherSpec message\njavax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.736 CEST|Finished.java:548|Consuming server Finished handshake message (\n&quot;Finished&quot;: {\n  &quot;verify data&quot;: {\n    0000: E7 CC CF D2 3D 39 4F 1A   05 EA 05 F3 \n  }'}\n)\njavax.net.ssl|ALL|E5|http-94|2023-05-15 19:13:39.744 CEST|SSLSocketImpl.java:1134|Closing input stream\njavax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.744 CEST|SSLSocketImpl.java:577|duplex close of SSLSocket\njavax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.744 CEST|SSLSocketImpl.java:1754|close the underlying socket\njavax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.744 CEST|SSLSocketImpl.java:1780|close the SSL connection (initiative)\njavax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.745 CEST|SSLSocketImpl.java:833|close inbound of SSLSocket\njavax.net.ssl|WARNING|E5|http-94|2023-05-15 19:13:39.746 CEST|SSLSocketImpl.java:595|SSLSocket duplex close failed. Debug info only. Exception details: (\n&quot;throwable&quot; : {\n  java.net.SocketException: Socket is closed\n        at java.base/java.net.Socket.shutdownInput(Socket.java:1601)\n        at java.base/sun.security.ssl.BaseSSLSocketImpl.shutdownInput(BaseSSLSocketImpl.java:219)\n        at java.base/sun.security.ssl.SSLSocketImpl.shutdownInput(SSLSocketImpl.java:848)\n        at java.base/sun.security.ssl.SSLSocketImpl.bruteForceCloseInput(SSLSocketImpl.java:798)\n        at java.base/sun.security.ssl.SSLSocketImpl.duplexCloseOutput(SSLSocketImpl.java:660)\n        at java.base/sun.security.ssl.SSLSocketImpl.close(SSLSocketImpl.java:584)\n        at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.close(SSLSocketImpl.java:1138)\n        at java.base/java.io.BufferedInputStream.close(BufferedInputStream.java:481)\n        at java.base/sun.net.www.MeteredStream.close(MeteredStream.java:177)\n        at java.base/sun.net.www.MeteredStream.justRead(MeteredStream.java:95)\n        at java.base/sun.net.www.MeteredStream.read(MeteredStream.java:142)\n        at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection$HttpInputStream.read(HttpURLConnection.java:3663)\n        at org.apache.cxf.helpers.IOUtils.copyAtLeast(IOUtils.java:250)\n        at org.apache.cxf.ext.logging.WireTapIn.handleInputStream(WireTapIn.java:91)\n        at org.apache.cxf.ext.logging.WireTapIn.handleMessage(WireTapIn.java:61)\n        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\n        at org.apache.cxf.jaxrs.client.ClientMessageObserver.onMessage(ClientMessageObserver.java:56)\n        at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1701)\n        at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1570)\n        at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1371)\n        at org.apache.cxf.io.AbstractWrappedOutputStream.close(AbstractWrappedOutputStream.java:77)\n        at org.apache.cxf.ext.logging.LoggingOutputStream.postClose(LoggingOutputStream.java:53)\n        at org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:228)\n        at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\n        at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:671)\n        at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:63)\n        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\n        at org.apache.cxf.jaxrs.client.AbstractClient.doRunInterceptorChain(AbstractClient.java:710)\n        at org.apache.cxf.jaxrs.client.WebClient.doChainedInvocation(WebClient.java:1086)\n        at org.apache.cxf.jaxrs.client.WebClient.doInvoke(WebClient.java:932)\n        at org.apache.cxf.jaxrs.client.WebClient.doInvoke(WebClient.java:901)\n        at org.apache.cxf.jaxrs.client.WebClient.invoke(WebClient.java:461)\n        at ch.logobject.ti.bl.NNI.recuperaInstradamentoPdr(NNI.java:371)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at ch.logobject.as.ejb.StatelessHandler.invokeAuthenticated(StatelessHandler.java:514)\n        at ch.logobject.as.ejb.StatelessHandler.invokeWithCl(StatelessHandler.java:404)\n        at ch.logobject.as.ejb.StatelessHandler.invokeNow(StatelessHandler.java:327)\n        at ch.logobject.as.ejb.StatelessHandler.invoke(StatelessHandler.java:316)\n        at ch.logobject.ti.bl.NNI$ByteBuddy$Ro4y31JO.recuperaInstradamentoPdr(Unknown Source)\n        at ch.logobject.ti.bl.TIProjectManagement.recuperaInstradamentoPdr(TIProjectManagement.java:20234)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at ch.logobject.as.ejb.StatelessHandler.invokeAuthenticated(StatelessHandler.java:514)\n        at ch.logobject.as.ejb.StatelessHandler.invokeWithCl(StatelessHandler.java:404)\n        at ch.logobject.as.ejb.StatelessHandler.invokeNow(StatelessHandler.java:327)\n        at ch.logobject.as.ejb.StatelessHandler.invoke(StatelessHandler.java:316)\n        at ch.logobject.ti.bl.TIProjectManagement$ByteBuddy$y3XwgfB0.recuperaInstradamentoPdr(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at ch.logobject.common.jms.beanbridge.GenericBeanInvoker.invoke(GenericBeanInvoker.java:87)\n        at ch.logobject.common.jms.beanbridge.EntityBeanInvoker.invoke(EntityBeanInvoker.java:40)\n        at ch.logobject.common.jms.beanbridge.SessionBeanBridge$1.invoke(SessionBeanBridge.java:261)\n        at ch.logobject.common.jms.beanbridge.SessionBeanBridge$1.invoke(SessionBeanBridge.java:1)\n        at ch.logobject.common.mdb.CallWithRetry.call(CallWithRetry.java:218)\n        at ch.logobject.common.jms.beanbridge.SessionBeanBridge.processRequest(SessionBeanBridge.java:314)\n        at ch.logobject.common.jms.beanbridge.SessionBeanBridge.processRequest(SessionBeanBridge.java:171)\n        at ch.logobject.common.jms.http.BridgeServlet.jmsRequest(BridgeServlet.java:211)\n        at ch.logobject.common.jms.http.BridgeServlet.doPost(BridgeServlet.java:155)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:234)\n        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)\n        at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:179)\n        at ch.logobject.as.jetty.StatsHandler.handle(StatsHandler.java:34)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n        at org.eclipse.jetty.server.Server.handle(Server.java:516)\n        at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\n        at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n        at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:555)\n        at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:410)\n        at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:164)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131)\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n        at java.base/java.lang.Thread.run(Thread.java:833)}\n\n)\njavax.net.ssl|ALL|E5|http-94|2023-05-15 19:13:39.761 CEST|SSLEngineImpl.java:425|trigger NST\njavax.net.ssl|DEBUG|E5|http-94|2023-05-15 19:13:39.761 CEST|NewSessionTicket.java:446|Produced NewSessionTicket post-handshake message (\n&quot;NewSessionTicket&quot;: {\n  &quot;ticket_lifetime&quot;      : &quot;86,400&quot;,\n  &quot;ticket_age_add&quot;       : &quot;&lt;omitted&gt;&quot;,\n  &quot;ticket_nonce&quot;         : &quot;02&quot;,\n  &quot;ticket&quot;               : {\n    0000: 98 E6 C6 65 19 1C 25 1C   F8 64 CE 99 B2 F1 57 F1  ...e..%..d....W.\n    0010: 73 7E 25 89 F5 6D F7 58   52 B0 45 F9 7E 0F E7 9E  s.%..m.XR.E.....\n  }  &quot;extensions&quot;           : [\n    &lt;no extension&gt;\n  ]\n}\n)\njavax.net.ssl|ALL|E5|http-94|2023-05-15 19:13:39.761 CEST|SSLEngineImpl.java:825|Closing outbound of SSLEngine\njavax.net.ssl|WARNING|E5|http-94|2023-05-15 19:13:39.762 CEST|SSLEngineOutputRecord.java:182|outbound has closed, ignore outbound application data\n</code></pre>\n<p>I have the full dump of the ssl debug if needed.</p>\n<p>EDIT: changed formatting, thanks for comment.\nEDIT: tried some curl and openssl command to narrow the problem</p>\n<p>OpenSSl: <code>openssl s_client -connect URL -tls1_2 -status -msg -debug -CAfile cert.cer</code></p>\n<pre><code>SSL handshake has read 2742 bytes and written 350 bytes\nVerification error: unable to verify the first certificate\n---\nNew, TLSv1.2, Cipher is ECDHE-RSA-AES128-GCM-SHA256\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1.2\n    Cipher    : ECDHE-RSA-AES128-GCM-SHA256\n    Session-ID: 2EF81214C3C914886F4AC9AEFB57368596819E2171F1E61073F12D0823B534B5\n    Session-ID-ctx: \n    Master-Key: B08FBAE4DAE96955255D53ABA4E07D03528B67BE0A66416307FF2E6454BA42BD65A22DEA82ABC630F4B56168A9EA9BFF\n    PSK identity: None\n    PSK identity hint: None\n    SRP username: None\n    Start Time: 1684180040\n    Timeout   : 7200 (sec)\n    Verify return code: 21 (unable to verify the first certificate)\n    Extended master secret: yes\n</code></pre>\n<p>Curl:  <code>curl --tlsv1.2 --tls-max 1.2 --verbose --cacert  cert.crt 'URL'</code></p>\n<pre><code>* TLSv1.2 (OUT), TLS handshake, Client hello (1):\n* TLSv1.2 (IN), TLS handshake, Server hello (2):\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\n* TLSv1.2 (IN), TLS handshake, Server key exchange (12):\n* TLSv1.2 (IN), TLS handshake, Request CERT (13):\n* TLSv1.2 (IN), TLS handshake, Server finished (14):\n* TLSv1.2 (OUT), TLS handshake, Certificate (11):\n* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):\n* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):\n* TLSv1.2 (OUT), TLS handshake, Finished (20):\n* TLSv1.2 (IN), TLS handshake, Finished (20):\n* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256\n* ALPN, server accepted to use h2\n* Server certificate:\n*  subject: OBFUSCATED\n*  start date: Jan 12 08:06:58 2022 GMT\n*  expire date: Jan 12 08:06:58 2024 GMT\n*  subjectAltName: host &quot;OBFUSCATED&quot; matched cert's &quot;OBFUSCATED&quot;\n*  issuer: OBFUSCATED\n*  SSL certificate verify ok.\n* Using HTTP2, server supports multi-use\n* Connection state changed (HTTP/2 confirmed)\n* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\n* Using Stream ID: 1 (easy handle 0x55fbed1356b0)\n GET OBFUSCATED HTTP/2\n Host: OBFUSCATED\n User-Agent: curl/7.61.1\n Accept: */*\n \n* Connection state changed (MAX_CONCURRENT_STREAMS == 128)!\n HTTP/2 200 \n date: Mon, 15 May 2023 19:49:42 GMT\n content-type: application/json\n x-content-type-options: nosniff\n x-xss-protection: 1; mode=block\n cache-control: no-cache, no-store, max-age=0, must-revalidate\n pragma: no-cache\n expires: 0\n strict-transport-security: max-age=15724800; includeSubDomains\n x-frame-options: DENY\n</code></pre>\n<p>Curl gives Positive output (the service answer correctly), is the only way is working.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":5857833,"reputation":364,"user_id":4614550,"accept_rate":57,"display_name":"Ahmed Elshaer"},"score":0,"creation_date":1675796903,"post_id":75377613,"comment_id":133004810,"body_markdown":"Can you add the code to the class holding this layout please ?","body":"Can you add the code to the class holding this layout please ?"}],"answers":[{"tags":[],"owner":{"account_id":28396493,"reputation":1,"user_id":21721541,"display_name":"Rathod Jignesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684490310,"creation_date":1682332431,"answer_id":76090973,"question_id":75377613,"body_markdown":"**To fix this error, you can try the following:**\r\n\r\n**(1)** Make sure that the map view was created with the android:speakable=&quot;true&quot; attribute.\r\n\r\n**(2)** If the map view was created with the android:speakable=&quot;true&quot; attribute, but the speakable text was removed, you can add it back by calling the setOnMapClickListener() method on the map view and passing in an OnMapClickListener that implements the onMapClick() method. The onMapClick() method should return the speakable text for the clicked location.\r\nHere is an example of how to create a map view with speakable text:\r\n\r\n    &lt;com.google.android.gms.maps.MapView\r\n     android:id=&quot;@+id/mapView&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;match_parent&quot;\r\n     android:speakable=&quot;true&quot; /&gt;\r\n","title":"user_list_map &lt;com.google.android.gms.maps.MapView&gt;: No speakable text present","body":"<p><strong>To fix this error, you can try the following:</strong></p>\n<p><strong>(1)</strong> Make sure that the map view was created with the android:speakable=&quot;true&quot; attribute.</p>\n<p><strong>(2)</strong> If the map view was created with the android:speakable=&quot;true&quot; attribute, but the speakable text was removed, you can add it back by calling the setOnMapClickListener() method on the map view and passing in an OnMapClickListener that implements the onMapClick() method. The onMapClick() method should return the speakable text for the clicked location.\nHere is an example of how to create a map view with speakable text:</p>\n<pre><code>&lt;com.google.android.gms.maps.MapView\n android:id=&quot;@+id/mapView&quot;\n android:layout_width=&quot;match_parent&quot;\n android:layout_height=&quot;match_parent&quot;\n android:speakable=&quot;true&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":27521334,"reputation":15,"user_id":21001453,"display_name":"Donny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684490310,"creation_date":1675795096,"question_id":75377613,"body_markdown":"I&#39;m trying to create a route planner app and I&#39;m getting the error user_list_map &lt;com.google.android.gms.maps.MapView&gt;: No speakable text present&#39; I don&#39;t understand what this error is telling more nor do I understand what I need to do for it.\r\n\r\nHere is my XML code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;&gt;\r\n\r\n\r\n\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:weightSum=&quot;100&quot;\r\n        android:background=&quot;@color/white&quot;&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_weight=&quot;50&quot;\r\n            android:id=&quot;@+id/user_list_recycler_view&quot;&gt;\r\n\r\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_weight=&quot;50&quot;\r\n            android:id=&quot;@+id/map_container&quot;&gt;\r\n\r\n            &lt;com.google.android.gms.maps.MapView\r\n                xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:id=&quot;@+id/user_list_map&quot;/&gt;\r\n        &lt;/RelativeLayout&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;ProgressBar\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/progressBar&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:visibility=&quot;gone&quot;/&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nHeres the Java code:\r\n```\r\npackage com.example.destinationrouteplanner.ui;\r\n\r\nimport static com.example.destinationrouteplanner.Constants.MAPVIEW_BUNDLE_KEY;\r\n\r\nimport android.Manifest;\r\nimport android.app.Fragment;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.destinationrouteplanner.R;\r\nimport com.example.destinationrouteplanner.adapters.UserRecyclerAdapter;\r\nimport com.example.destinationrouteplanner.models.MarkerCluster;\r\nimport com.example.destinationrouteplanner.models.User;\r\nimport com.example.destinationrouteplanner.models.UserLocation;\r\nimport com.example.destinationrouteplanner.util.MyClusterManagerRenderer;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.MapView;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.LatLngBounds;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.maps.android.clustering.ClusterManager;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class UserListFragment extends Fragment implements OnMapReadyCallback\r\n{\r\n    private static final String TAG = &quot;UserListFragment&quot;;\r\n\r\n    private RecyclerView mUserListRecyclerView;\r\n\r\n    private MapView mMapView;\r\n\r\n    private ArrayList&lt;User&gt; mUserList = new ArrayList&lt;&gt;();\r\n\r\n    private UserRecyclerAdapter mUserRecyclerAdapter;\r\n    private ArrayList&lt;UserLocation&gt; mUserLocations = new ArrayList&lt;&gt;();\r\n    private GoogleMap mGoogleMap;\r\n    private LatLngBounds mMapBoundary;\r\n    private UserLocation mUserPosition;\r\n    private ClusterManager mClusterManager;\r\n    private MyClusterManagerRenderer mClusterManagerRenderer;\r\n    private ArrayList&lt;MarkerCluster&gt; mClusterMarkers = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public static UserListFragment newInstance() {\r\n        return new UserListFragment();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mUserList = getArguments().getParcelableArrayList(getString(R.string.intent_user_list));\r\n        }\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_user_list, container, false);\r\n        mUserListRecyclerView = view.findViewById(R.id.user_list_recycler_view);\r\n        mMapView = view.findViewById(R.id.user_list_map);\r\n\r\n        initUserListRecyclerView();\r\n        initGoogleMap(savedInstanceState);\r\n\r\n        return view;\r\n    }\r\n\r\n    private void initGoogleMap(Bundle savedInstanceState){\r\n        // *** IMPORTANT ***\r\n        // MapView requires that the Bundle you pass contain _ONLY_ MapView SDK\r\n        // objects or sub-Bundles.\r\n        Bundle mapViewBundle = null;\r\n        if (savedInstanceState != null) {\r\n            mapViewBundle = savedInstanceState.getBundle(MAPVIEW_BUNDLE_KEY);\r\n\r\n        }\r\n\r\n        mMapView.onCreate(mapViewBundle);\r\n\r\n        mMapView.getMapAsync(this);\r\n    }\r\n\r\n    private void initUserListRecyclerView() {\r\n        mUserRecyclerAdapter = new UserRecyclerAdapter(mUserList);\r\n        mUserListRecyclerView.setAdapter(mUserRecyclerAdapter);\r\n        mUserListRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n\r\n        Bundle mapViewBundle = outState.getBundle(MAPVIEW_BUNDLE_KEY);\r\n        if (mapViewBundle == null) {\r\n            mapViewBundle = new Bundle();\r\n            outState.putBundle(MAPVIEW_BUNDLE_KEY, mapViewBundle);\r\n        }\r\n\r\n        mMapView.onSaveInstanceState(mapViewBundle);\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        mMapView.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        mMapView.onStart();\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        mMapView.onStop();\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap map) {\r\n        if (ActivityCompat.checkSelfPermission(getActivity(), android.Manifest.permission.ACCESS_FINE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ActivityCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_COARSE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n        map.setMyLocationEnabled(true);\r\n        mGoogleMap = map;\r\n        addMapMarkers();\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        mMapView.onPause();\r\n        super.onPause();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        mMapView.onDestroy();\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        super.onLowMemory();\r\n        mMapView.onLowMemory();\r\n    }\r\n\r\n    private void addMapMarkers()\r\n    {\r\n        if (mGoogleMap !=null)\r\n        {\r\n            if(mClusterManager == null)\r\n            {\r\n                mClusterManager = new ClusterManager&lt;MarkerCluster&gt;(getActivity().getApplicationContext(), mGoogleMap);\r\n            }\r\n            if (mClusterManagerRenderer == null)\r\n            {\r\n                mClusterManagerRenderer = new MyClusterManagerRenderer(getActivity(), mGoogleMap, mClusterManager);\r\n                mClusterManager.setRenderer(mClusterManagerRenderer);\r\n            }\r\n            for (UserLocation userLocation: mUserLocations)\r\n            {\r\n                Log.d(TAG, &quot;AddMapMarkers: location: &quot; + userLocation.getGeo_point().toString());\r\n                try {\r\n                    String snippet = &quot;&quot;;\r\n                    if (userLocation.getUser().getUser_id().equals(FirebaseAuth.getInstance().getUid()))\r\n                    {\r\n                        snippet = &quot;This is you&quot;;\r\n                    }else {\r\n                        snippet = &quot;Determine route to &quot; + userLocation.getUser().getUsername() + &quot;?&quot;;\r\n                    }\r\n                    int avatar = R.drawable.speedvanimage; //Set the default avatar\r\n                    try {\r\n                        avatar = Integer.parseInt(userLocation.getUser().getAvatar());\r\n                    }catch (NumberFormatException e)\r\n                    {\r\n                        Log.d(TAG, &quot;addMapMarkers: no avatar for: &quot; + userLocation.getUser().getUsername() + &quot;, setting default&quot;);\r\n                    }\r\n                    MarkerCluster newMarkerCluster = new MarkerCluster(new LatLng(userLocation.getGeo_point().getLatitude(), userLocation.getGeo_point().getLongitude()),userLocation.getUser().getUsername(), snippet, avatar, userLocation.getUser());\r\n                    mClusterManager.addItem(newMarkerCluster);\r\n                    mClusterMarkers.add(newMarkerCluster);\r\n                }catch (NullPointerException e)\r\n                {\r\n                    Log.e(TAG, &quot;addMapMarkers: NullPointerException: &quot; + e.getMessage());\r\n                }\r\n            }\r\n            mClusterManager.cluster();\r\n            setCameraView();\r\n        }\r\n    }\r\n    private void setCameraView()\r\n    {\r\n        double bottomBoundary = mUserPosition.getGeo_point().getLatitude() - .1;\r\n        double leftBoundary = mUserPosition.getGeo_point().getLongitude() - .1;\r\n        double topBoundary = mUserPosition.getGeo_point().getLatitude() - .1;\r\n        double rightBoundary = mUserPosition.getGeo_point().getLongitude() - .1;\r\n    }\r\n}\r\n````\r\nStill not sure why this error is coming up weird because it shouldn&#39;t be really","title":"user_list_map &lt;com.google.android.gms.maps.MapView&gt;: No speakable text present","body":"<p>I'm trying to create a route planner app and I'm getting the error user_list_map &lt;com.google.android.gms.maps.MapView&gt;: No speakable text present' I don't understand what this error is telling more nor do I understand what I need to do for it.</p>\n<p>Here is my XML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;&gt;\n\n\n\n    &lt;LinearLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        android:weightSum=&quot;100&quot;\n        android:background=&quot;@color/white&quot;&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;50&quot;\n            android:id=&quot;@+id/user_list_recycler_view&quot;&gt;\n\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;50&quot;\n            android:id=&quot;@+id/map_container&quot;&gt;\n\n            &lt;com.google.android.gms.maps.MapView\n                xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:id=&quot;@+id/user_list_map&quot;/&gt;\n        &lt;/RelativeLayout&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n    &lt;ProgressBar\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/progressBar&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:visibility=&quot;gone&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Heres the Java code:</p>\n<pre><code>package com.example.destinationrouteplanner.ui;\n\nimport static com.example.destinationrouteplanner.Constants.MAPVIEW_BUNDLE_KEY;\n\nimport android.Manifest;\nimport android.app.Fragment;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.core.app.ActivityCompat;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.destinationrouteplanner.R;\nimport com.example.destinationrouteplanner.adapters.UserRecyclerAdapter;\nimport com.example.destinationrouteplanner.models.MarkerCluster;\nimport com.example.destinationrouteplanner.models.User;\nimport com.example.destinationrouteplanner.models.UserLocation;\nimport com.example.destinationrouteplanner.util.MyClusterManagerRenderer;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.MapView;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.LatLngBounds;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.maps.android.clustering.ClusterManager;\n\nimport java.util.ArrayList;\n\npublic class UserListFragment extends Fragment implements OnMapReadyCallback\n{\n    private static final String TAG = &quot;UserListFragment&quot;;\n\n    private RecyclerView mUserListRecyclerView;\n\n    private MapView mMapView;\n\n    private ArrayList&lt;User&gt; mUserList = new ArrayList&lt;&gt;();\n\n    private UserRecyclerAdapter mUserRecyclerAdapter;\n    private ArrayList&lt;UserLocation&gt; mUserLocations = new ArrayList&lt;&gt;();\n    private GoogleMap mGoogleMap;\n    private LatLngBounds mMapBoundary;\n    private UserLocation mUserPosition;\n    private ClusterManager mClusterManager;\n    private MyClusterManagerRenderer mClusterManagerRenderer;\n    private ArrayList&lt;MarkerCluster&gt; mClusterMarkers = new ArrayList&lt;&gt;();\n\n\n    public static UserListFragment newInstance() {\n        return new UserListFragment();\n    }\n\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mUserList = getArguments().getParcelableArrayList(getString(R.string.intent_user_list));\n        }\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_user_list, container, false);\n        mUserListRecyclerView = view.findViewById(R.id.user_list_recycler_view);\n        mMapView = view.findViewById(R.id.user_list_map);\n\n        initUserListRecyclerView();\n        initGoogleMap(savedInstanceState);\n\n        return view;\n    }\n\n    private void initGoogleMap(Bundle savedInstanceState){\n        // *** IMPORTANT ***\n        // MapView requires that the Bundle you pass contain _ONLY_ MapView SDK\n        // objects or sub-Bundles.\n        Bundle mapViewBundle = null;\n        if (savedInstanceState != null) {\n            mapViewBundle = savedInstanceState.getBundle(MAPVIEW_BUNDLE_KEY);\n\n        }\n\n        mMapView.onCreate(mapViewBundle);\n\n        mMapView.getMapAsync(this);\n    }\n\n    private void initUserListRecyclerView() {\n        mUserRecyclerAdapter = new UserRecyclerAdapter(mUserList);\n        mUserListRecyclerView.setAdapter(mUserRecyclerAdapter);\n        mUserListRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n    }\n\n    @Override\n    public void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n\n        Bundle mapViewBundle = outState.getBundle(MAPVIEW_BUNDLE_KEY);\n        if (mapViewBundle == null) {\n            mapViewBundle = new Bundle();\n            outState.putBundle(MAPVIEW_BUNDLE_KEY, mapViewBundle);\n        }\n\n        mMapView.onSaveInstanceState(mapViewBundle);\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        mMapView.onResume();\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        mMapView.onStart();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        mMapView.onStop();\n    }\n\n    @Override\n    public void onMapReady(GoogleMap map) {\n        if (ActivityCompat.checkSelfPermission(getActivity(), android.Manifest.permission.ACCESS_FINE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ActivityCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_COARSE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        map.setMyLocationEnabled(true);\n        mGoogleMap = map;\n        addMapMarkers();\n    }\n\n    @Override\n    public void onPause() {\n        mMapView.onPause();\n        super.onPause();\n    }\n\n    @Override\n    public void onDestroy() {\n        mMapView.onDestroy();\n        super.onDestroy();\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mMapView.onLowMemory();\n    }\n\n    private void addMapMarkers()\n    {\n        if (mGoogleMap !=null)\n        {\n            if(mClusterManager == null)\n            {\n                mClusterManager = new ClusterManager&lt;MarkerCluster&gt;(getActivity().getApplicationContext(), mGoogleMap);\n            }\n            if (mClusterManagerRenderer == null)\n            {\n                mClusterManagerRenderer = new MyClusterManagerRenderer(getActivity(), mGoogleMap, mClusterManager);\n                mClusterManager.setRenderer(mClusterManagerRenderer);\n            }\n            for (UserLocation userLocation: mUserLocations)\n            {\n                Log.d(TAG, &quot;AddMapMarkers: location: &quot; + userLocation.getGeo_point().toString());\n                try {\n                    String snippet = &quot;&quot;;\n                    if (userLocation.getUser().getUser_id().equals(FirebaseAuth.getInstance().getUid()))\n                    {\n                        snippet = &quot;This is you&quot;;\n                    }else {\n                        snippet = &quot;Determine route to &quot; + userLocation.getUser().getUsername() + &quot;?&quot;;\n                    }\n                    int avatar = R.drawable.speedvanimage; //Set the default avatar\n                    try {\n                        avatar = Integer.parseInt(userLocation.getUser().getAvatar());\n                    }catch (NumberFormatException e)\n                    {\n                        Log.d(TAG, &quot;addMapMarkers: no avatar for: &quot; + userLocation.getUser().getUsername() + &quot;, setting default&quot;);\n                    }\n                    MarkerCluster newMarkerCluster = new MarkerCluster(new LatLng(userLocation.getGeo_point().getLatitude(), userLocation.getGeo_point().getLongitude()),userLocation.getUser().getUsername(), snippet, avatar, userLocation.getUser());\n                    mClusterManager.addItem(newMarkerCluster);\n                    mClusterMarkers.add(newMarkerCluster);\n                }catch (NullPointerException e)\n                {\n                    Log.e(TAG, &quot;addMapMarkers: NullPointerException: &quot; + e.getMessage());\n                }\n            }\n            mClusterManager.cluster();\n            setCameraView();\n        }\n    }\n    private void setCameraView()\n    {\n        double bottomBoundary = mUserPosition.getGeo_point().getLatitude() - .1;\n        double leftBoundary = mUserPosition.getGeo_point().getLongitude() - .1;\n        double topBoundary = mUserPosition.getGeo_point().getLatitude() - .1;\n        double rightBoundary = mUserPosition.getGeo_point().getLongitude() - .1;\n    }\n}\n</code></pre>\n<p>Still not sure why this error is coming up weird because it shouldn't be really</p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1684498200,"post_id":76287929,"comment_id":134529781,"body_markdown":"See https://github.com/eclipse/buildship/issues/1234#issuecomment-1554473896","body":"See <a href=\"https://github.com/eclipse/buildship/issues/1234#issuecomment-1554473896\" rel=\"nofollow noreferrer\">github.com/eclipse/buildship/issues/&hellip;</a>"}],"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684489885,"creation_date":1684489885,"question_id":76287929,"body_markdown":"I am learning gradle for my tasks at organisation, and was trying to create a new gradle project. However, I am not able to see any src/main/java folder structure. \r\nIt looks like below : \r\n[![Folder Structure][1]][1]\r\n\r\nI tried manually adding folders, and creating a class. But I do not get that option as well : [![No class option][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bbirT.png\r\n  [2]: https://i.stack.imgur.com/20Wub.png\r\n\r\nWhat am I doing wrong here?","title":"Gradle Project on Eclipse does not show the src/main/java and src/main/test","body":"<p>I am learning gradle for my tasks at organisation, and was trying to create a new gradle project. However, I am not able to see any src/main/java folder structure.\nIt looks like below :\n<a href=\"https://i.stack.imgur.com/bbirT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bbirT.png\" alt=\"Folder Structure\" /></a></p>\n<p>I tried manually adding folders, and creating a class. But I do not get that option as well : <a href=\"https://i.stack.imgur.com/20Wub.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/20Wub.png\" alt=\"No class option\" /></a></p>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":0,"creation_date":1684490074,"post_id":76287908,"comment_id":134528253,"body_markdown":"No, you can&#39;t incubator modules are meant to provide a preview/non-final form of a module that&#39;s planned to be released in a later JDK. It&#39;s like a preview feature in a way. But that means it&#39;s **only and exclusively** available in the JDK that provides it. If it isn&#39;t provided in a later JDK then that&#39;s likely because plans changed or it&#39;s been moved to a &quot;proper&quot; module. There&#39;s no way to &quot;add-on&quot; missing incubator modules to existing JDKs. This specific one is [now a preview feature in JDK 19](https://www.oracle.com/java/technologies/javase/19-relnote-issues.html).","body":"No, you can&#39;t incubator modules are meant to provide a preview/non-final form of a module that&#39;s planned to be released in a later JDK. It&#39;s like a preview feature in a way. But that means it&#39;s <b>only and exclusively</b> available in the JDK that provides it. If it isn&#39;t provided in a later JDK then that&#39;s likely because plans changed or it&#39;s been moved to a &quot;proper&quot; module. There&#39;s no way to &quot;add-on&quot; missing incubator modules to existing JDKs. This specific one is <a href=\"https://www.oracle.com/java/technologies/javase/19-relnote-issues.html\" rel=\"nofollow noreferrer\">now a preview feature in JDK 19</a>."},{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":1,"creation_date":1684490297,"post_id":76287908,"comment_id":134528301,"body_markdown":"`java.lang.foreign` is now [a (preview) part of `java.base`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/foreign/package-summary.html).","body":"<code>java.lang.foreign</code> is now <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/foreign/package-summary.html\" rel=\"nofollow noreferrer\">a (preview) part of <code>java.base</code></a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684499611,"post_id":76287908,"comment_id":134530126,"body_markdown":"I had written a utility that used jdk.incubator.foreign.  I recently updated the code to use java.lang.foreign.  Trust me, it’s worth the effort.  The new API is easier to work with.","body":"I had written a utility that used jdk.incubator.foreign.  I recently updated the code to use java.lang.foreign.  Trust me, it’s worth the effort.  The new API is easier to work with."}],"owner":{"account_id":23383635,"reputation":1,"user_id":17449395,"display_name":"Rafe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684489693,"creation_date":1684489693,"question_id":76287908,"body_markdown":"**How can i run jdk-19 with jdk.incubator.foreign?**\r\n\r\nI am trying to run a project which require jdk.incubator.foreign package. Is there any way, I can add this package to jdk-19.\r\n\r\nThe error message is as follows\r\n\r\n```\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module jdk.incubator.foreign not found\r\n\r\n```\r\n\r\n\r\nI tried downgrading my jdk to version 17 and 18 but i was getting an another error of unsupported class type\r\n\r\nThe following is the error when I am executing using jdk 17 and similarly with jdk 18.\r\n```\r\njava.lang.UnsupportedClassVersionError: ptidej/test/all/TestAllCreators has been compiled by a more recent version of the Java Runtime (class file version 63.0), this version of the Java Runtime only recognizes class file versions up to 61.0\r\n```\r\n","title":"How can I add jdk.incubator.foreign package to jdk-19 to fix &#39;Module not found&#39; error?","body":"<p><strong>How can i run jdk-19 with jdk.incubator.foreign?</strong></p>\n<p>I am trying to run a project which require jdk.incubator.foreign package. Is there any way, I can add this package to jdk-19.</p>\n<p>The error message is as follows</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module jdk.incubator.foreign not found\n\n</code></pre>\n<p>I tried downgrading my jdk to version 17 and 18 but i was getting an another error of unsupported class type</p>\n<p>The following is the error when I am executing using jdk 17 and similarly with jdk 18.</p>\n<pre><code>java.lang.UnsupportedClassVersionError: ptidej/test/all/TestAllCreators has been compiled by a more recent version of the Java Runtime (class file version 63.0), this version of the Java Runtime only recognizes class file versions up to 61.0\n</code></pre>\n"},{"tags":["java","jdbc","business-objects"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1463499321,"post_id":37280516,"comment_id":62086465,"body_markdown":"Without the ability to recompile the library your only answer is to use a newer Java version.  You must be using 1.6 or below which has not been support for a while.  Are you stuck on an ancient version of the JDK for a reason?","body":"Without the ability to recompile the library your only answer is to use a newer Java version.  You must be using 1.6 or below which has not been support for a while.  Are you stuck on an ancient version of the JDK for a reason?"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1463514223,"post_id":37280516,"comment_id":62094905,"body_markdown":"@stdunbar: SAP BO 4.1 (which I assume the questioner is using) ships with its own copy of Java 6.  I wouldn&#39;t like to try getting it running on Java 7 or later.  Apparently SAP BO 4.2 ships with Java 8 instead, but the upgrade may not be an option.","body":"@stdunbar: SAP BO 4.1 (which I assume the questioner is using) ships with its own copy of Java 6.  I wouldn&#39;t like to try getting it running on Java 7 or later.  Apparently SAP BO 4.2 ships with Java 8 instead, but the upgrade may not be an option."},{"owner":{"account_id":8460743,"reputation":757,"user_id":6346584,"accept_rate":80,"display_name":"LakeMichigan"},"score":0,"creation_date":1463587000,"post_id":37280516,"comment_id":62131035,"body_markdown":"@LukeWoodward I am using 4.1 SP05 Patch 12","body":"@LukeWoodward I am using 4.1 SP05 Patch 12"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1463599160,"post_id":37280516,"comment_id":62137909,"body_markdown":"@LakeMichigan: in that case your options are to upgrade SAP BO to 4.2 or obtain a version of the JDBC driver that works with Java 6.","body":"@LakeMichigan: in that case your options are to upgrade SAP BO to 4.2 or obtain a version of the JDBC driver that works with Java 6."}],"answers":[{"tags":[],"owner":{"account_id":8767058,"reputation":41,"user_id":6555074,"display_name":"Klaus Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467793496,"creation_date":1467793496,"answer_id":38219393,"question_id":37280516,"body_markdown":"The reason is your SAP JVM or JDK version is too old to read class format **51.0**.\r\n\r\nTry to upgrade Java version to fix this problem.","title":"BusinessObjects semantic layer results in Unsupported Major.Minor Version 51.0","body":"<p>The reason is your SAP JVM or JDK version is too old to read class format <strong>51.0</strong>.</p>\n\n<p>Try to upgrade Java version to fix this problem.</p>\n"}],"owner":{"account_id":8460743,"reputation":757,"user_id":6346584,"accept_rate":80,"display_name":"LakeMichigan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684489681,"creation_date":1463499076,"question_id":37280516,"body_markdown":"I&#39;m using business objects to connect to a new database using JDBC. I receive the error:\r\n\r\n&gt; Database error: (CS) “Java Exception : java.lang.UnspportedClassVersionError: &lt;Path/to/driver&gt; : Unsupported major.minor version 51.0” . (IES 10901) (Error: INF)\r\n\r\nFrom what I understand, this is telling me that there is an incompatibility with the Java version used to compile the Jar. I&#39;m assuming from the error that the Jar was compiled in Java 7. However, I’m not quite sure how to go about fixing this. I can find information about this error for other applications, but not BusinessObjects. Does anyone have any ideas?","title":"BusinessObjects semantic layer results in Unsupported Major.Minor Version 51.0","body":"<p>I'm using business objects to connect to a new database using JDBC. I receive the error:</p>\n<blockquote>\n<p>Database error: (CS) “Java Exception : java.lang.UnspportedClassVersionError: &lt;Path/to/driver&gt; : Unsupported major.minor version 51.0” . (IES 10901) (Error: INF)</p>\n</blockquote>\n<p>From what I understand, this is telling me that there is an incompatibility with the Java version used to compile the Jar. I'm assuming from the error that the Jar was compiled in Java 7. However, I’m not quite sure how to go about fixing this. I can find information about this error for other applications, but not BusinessObjects. Does anyone have any ideas?</p>\n"},{"tags":["java","elasticsearch","logstash","filebeat","elastic-cloud"],"owner":{"account_id":10009671,"reputation":86,"user_id":7402837,"display_name":"vishal munjani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684489394,"creation_date":1684484820,"question_id":76287308,"body_markdown":"I am using elastic cloud (Elastic Search : v8.6.2) and have configured watchers to trigger email for elastic search query which fetched results from specific index pattern(Which has server logs). Below email action I have configured in my watcher.\r\n\r\n    &quot;actions&quot;: {\r\n    &quot;send_email&quot;: {\r\n      &quot;email&quot;: {\r\n        &quot;profile&quot;: &quot;standard&quot;,\r\n        &quot;to&quot;: [\r\n          &quot;toemail@domain.com&quot;\r\n        ],\r\n        &quot;subject&quot;: &quot;LogMonitor - Identified keyword matched {{ctx.payload.hits.total}} times&quot;,\r\n        &quot;body&quot;: {\r\n          &quot;html&quot;: &quot;The following {{ctx.payload.hits.total}} text matched&lt;table border=1&gt;&lt;tr&gt;&lt;td&gt;Message&lt;/td&gt;&lt;/tr&gt;{{#ctx.payload.hits.hits}}&lt;tr&gt;&lt;td&gt;{{_source.message}}&lt;/td&gt;&lt;/tr&gt;{{/ctx.payload.hits.hits}}&lt;/table&gt;&quot;\r\n        }\r\n      }\r\n    }}\r\n   \r\nBelow is the sample message which I have received in email which is appending **&quot;http://&quot;** before the java class name and it is visible as a link in email. &lt;br&gt;\r\nhttp://SampleClass.java:193 hello this is a test\r\n\r\nActual Message should sent in email like below as simple message &lt;br/&gt;\r\nSampleClass.java:193 hello this is a test\r\n\r\nI have tried disabling html sanitization from elastic search user setting in Elastic Cloud Admin Panel but it didn&#39;t work.\r\n\r\n&gt; xpack.notification.email.html.sanitization.enabled: false\r\n\r\nCan anyone know what I missed in configuration part or in watcher to get actual log message which is indexed.\r\n\r\nThanks in advance.\r\n","title":"Email triggered from Elastic Cloud watcher including additional text in email html body","body":"<p>I am using elastic cloud (Elastic Search : v8.6.2) and have configured watchers to trigger email for elastic search query which fetched results from specific index pattern(Which has server logs). Below email action I have configured in my watcher.</p>\n<pre><code>&quot;actions&quot;: {\n&quot;send_email&quot;: {\n  &quot;email&quot;: {\n    &quot;profile&quot;: &quot;standard&quot;,\n    &quot;to&quot;: [\n      &quot;toemail@domain.com&quot;\n    ],\n    &quot;subject&quot;: &quot;LogMonitor - Identified keyword matched {{ctx.payload.hits.total}} times&quot;,\n    &quot;body&quot;: {\n      &quot;html&quot;: &quot;The following {{ctx.payload.hits.total}} text matched&lt;table border=1&gt;&lt;tr&gt;&lt;td&gt;Message&lt;/td&gt;&lt;/tr&gt;{{#ctx.payload.hits.hits}}&lt;tr&gt;&lt;td&gt;{{_source.message}}&lt;/td&gt;&lt;/tr&gt;{{/ctx.payload.hits.hits}}&lt;/table&gt;&quot;\n    }\n  }\n}}\n</code></pre>\n<p>Below is the sample message which I have received in email which is appending <strong>&quot;http://&quot;</strong> before the java class name and it is visible as a link in email. <br>\n<a href=\"http://SampleClass.java:193\" rel=\"nofollow noreferrer\">http://SampleClass.java:193</a> hello this is a test</p>\n<p>Actual Message should sent in email like below as simple message <br/>\nSampleClass.java:193 hello this is a test</p>\n<p>I have tried disabling html sanitization from elastic search user setting in Elastic Cloud Admin Panel but it didn't work.</p>\n<blockquote>\n<p>xpack.notification.email.html.sanitization.enabled: false</p>\n</blockquote>\n<p>Can anyone know what I missed in configuration part or in watcher to get actual log message which is indexed.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1684323421,"post_id":76270801,"comment_id":134500837,"body_markdown":"My be it is case sensitive issue, Can you please print both web element  text and array element string before `if` clause and check any case mismatch.","body":"My be it is case sensitive issue, Can you please print both web element  text and array element string before <code>if</code> clause and check any case mismatch."}],"answers":[{"tags":[],"owner":{"account_id":11432133,"reputation":227,"user_id":8380535,"accept_rate":0,"display_name":"Kermi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684489290,"creation_date":1684489290,"answer_id":76287850,"question_id":76270801,"body_markdown":"Update:\r\nThere was mistake inside the if:\r\n\r\n    if(!billingAddress.contains(addressElement));\r\n        {\r\n            Assert.fail(&quot;Billing address does not contain specific data&quot;);\r\n        }\r\n\r\nit should be:\r\n\r\n    if(!billingAddress.contains(addressElement)){\r\n            Assert.fail(&quot;Billing address does not contain specific data&quot;);\r\n        }\r\n\r\n","title":"Check if elements from the list are visible in the WebElement text","body":"<p>Update:\nThere was mistake inside the if:</p>\n<pre><code>if(!billingAddress.contains(addressElement));\n    {\n        Assert.fail(&quot;Billing address does not contain specific data&quot;);\n    }\n</code></pre>\n<p>it should be:</p>\n<pre><code>if(!billingAddress.contains(addressElement)){\n        Assert.fail(&quot;Billing address does not contain specific data&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":11432133,"reputation":227,"user_id":8380535,"accept_rate":0,"display_name":"Kermi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684489290,"creation_date":1684317272,"question_id":76270801,"body_markdown":"I&#39;m having really simple &amp; stupid case which I cannot handle correctly:\r\n\r\nGeneral idea:\r\n- Make list of strings which contain address elements (like: name, surname, street etc.)\r\n- Get WebElement with all of those data on DOM\r\n- Loop over the list and compare if specific list element is enclosed inside taken WebElement\r\n\r\n Create list of strings:\r\n\r\n    List&lt;String&gt; accountBillingAddressData = new ArrayList&lt;&gt;(List.of(&quot;Mevrouw&quot;,&quot;Jan Kowalski&quot;, &quot;testStreet&quot;,&quot;15&quot;,&quot;1234567&quot;,&quot;1234WW&quot;,&quot;Amsterdam&quot;,&quot;Nederland&quot;));\r\n\r\nGet WebElement text:\r\n\r\n    String billingAddress = StringUtils.normalizeSpace(baseMethods.findElement(&quot;CheckoutPage.Billing.Section&quot;).getText());\r\n\r\n&quot;findElements&quot; name is wrapped in the framework.\r\n\r\nDOM element looks like:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;address&quot; bis_skin_checked=&quot;1&quot;&gt;\r\n      &lt;p&gt;\r\n        Mevrouw Jan Kowalski&lt;br&gt;\r\n        testStreet 15&lt;br&gt;\r\n        1234567&lt;br&gt;\r\n        1234WW Amsterdam\r\n        &lt;br&gt; Nederland\r\n      &lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nLocator is: `.address &gt; p`\r\n\r\n-----\r\n\r\nCode:\r\n\r\n    List&lt;String&gt; accountBillingAddressData = new ArrayList&lt;&gt;(List.of(&quot;Mevrouw&quot;,&quot;Jan Kowalski&quot;, &quot;testStreet&quot;,&quot;15&quot;,&quot;1234567&quot;,&quot;1234WW&quot;,&quot;Amsterdam&quot;,&quot;Nederland&quot;));\r\n    String billingAddress = StringUtils.normalizeSpace(baseMethods.findElement(&quot;CheckoutPage.Billing.Address&quot;).getText());\r\n    for (String addressElement : accountBillingAddressData){\r\n        if(!billingAddress.contains(addressElement));\r\n        {\r\n            Assert.fail(&quot;Billing address does not contain specific data&quot;);\r\n        }\r\n    }\r\n\r\nData from list and WebElement looks correct as well. However if loops keeps going inside and fails....\r\n\r\n[![Method in code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UPwsh.png","title":"Check if elements from the list are visible in the WebElement text","body":"<p>I'm having really simple &amp; stupid case which I cannot handle correctly:</p>\n<p>General idea:</p>\n<ul>\n<li>Make list of strings which contain address elements (like: name, surname, street etc.)</li>\n<li>Get WebElement with all of those data on DOM</li>\n<li>Loop over the list and compare if specific list element is enclosed inside taken WebElement</li>\n</ul>\n<p>Create list of strings:</p>\n<pre><code>List&lt;String&gt; accountBillingAddressData = new ArrayList&lt;&gt;(List.of(&quot;Mevrouw&quot;,&quot;Jan Kowalski&quot;, &quot;testStreet&quot;,&quot;15&quot;,&quot;1234567&quot;,&quot;1234WW&quot;,&quot;Amsterdam&quot;,&quot;Nederland&quot;));\n</code></pre>\n<p>Get WebElement text:</p>\n<pre><code>String billingAddress = StringUtils.normalizeSpace(baseMethods.findElement(&quot;CheckoutPage.Billing.Section&quot;).getText());\n</code></pre>\n<p>&quot;findElements&quot; name is wrapped in the framework.</p>\n<p>DOM element looks like:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"address\" bis_skin_checked=\"1\"&gt;\n  &lt;p&gt;\n    Mevrouw Jan Kowalski&lt;br&gt;\n    testStreet 15&lt;br&gt;\n    1234567&lt;br&gt;\n    1234WW Amsterdam\n    &lt;br&gt; Nederland\n  &lt;/p&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Locator is: <code>.address &gt; p</code></p>\n<hr />\n<p>Code:</p>\n<pre><code>List&lt;String&gt; accountBillingAddressData = new ArrayList&lt;&gt;(List.of(&quot;Mevrouw&quot;,&quot;Jan Kowalski&quot;, &quot;testStreet&quot;,&quot;15&quot;,&quot;1234567&quot;,&quot;1234WW&quot;,&quot;Amsterdam&quot;,&quot;Nederland&quot;));\nString billingAddress = StringUtils.normalizeSpace(baseMethods.findElement(&quot;CheckoutPage.Billing.Address&quot;).getText());\nfor (String addressElement : accountBillingAddressData){\n    if(!billingAddress.contains(addressElement));\n    {\n        Assert.fail(&quot;Billing address does not contain specific data&quot;);\n    }\n}\n</code></pre>\n<p>Data from list and WebElement looks correct as well. However if loops keeps going inside and fails....</p>\n<p><a href=\"https://i.stack.imgur.com/UPwsh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UPwsh.png\" alt=\"Method in code\" /></a></p>\n"},{"tags":["java","multithreading","threadpool","executorservice","futuretask"],"comments":[{"owner":{"account_id":12836302,"reputation":2160,"user_id":9285802,"display_name":"Sukhpal Singh"},"score":0,"creation_date":1532668603,"post_id":51550866,"comment_id":90069510,"body_markdown":"You can use `ExecutorService`, just create a singleton thread pool of size `n`. Then for each request, you can submit and wait for the response. This way it will make you have only `n` threads accessing your service.","body":"You can use <code>ExecutorService</code>, just create a singleton thread pool of size <code>n</code>. Then for each request, you can submit and wait for the response. This way it will make you have only <code>n</code> threads accessing your service."},{"owner":{"account_id":2164635,"reputation":96,"user_id":1917992,"accept_rate":80,"display_name":"goosebump"},"score":0,"creation_date":1532670963,"post_id":51550866,"comment_id":90070191,"body_markdown":"@SukhpalSingh How can I wait for the response if I am using the submit? Submit will return FutureTask right!.\nFor retrieving the response from FutureTask object I need to call future.get(), but when I will call that is the question! :(","body":"@SukhpalSingh How can I wait for the response if I am using the submit? Submit will return FutureTask right!. For retrieving the response from FutureTask object I need to call future.get(), but when I will call that is the question! :("},{"owner":{"account_id":12836302,"reputation":2160,"user_id":9285802,"display_name":"Sukhpal Singh"},"score":0,"creation_date":1532671189,"post_id":51550866,"comment_id":90070264,"body_markdown":"Just call it then and there only. Every rest call is a new thread taken from the pool.","body":"Just call it then and there only. Every rest call is a new thread taken from the pool."},{"owner":{"account_id":2164635,"reputation":96,"user_id":1917992,"accept_rate":80,"display_name":"goosebump"},"score":0,"creation_date":1532671716,"post_id":51550866,"comment_id":90070431,"body_markdown":"If I call then and there only, futuretask.get() might return null, because task will take some time to complete right? Correct me if I missing something.","body":"If I call then and there only, futuretask.get() might return null, because task will take some time to complete right? Correct me if I missing something."},{"owner":{"account_id":12836302,"reputation":2160,"user_id":9285802,"display_name":"Sukhpal Singh"},"score":0,"creation_date":1532688004,"post_id":51550866,"comment_id":90079038,"body_markdown":"`get()` waits if necessary for the computation to complete, and then retrieves its result.","body":"<code>get()</code> waits if necessary for the computation to complete, and then retrieves its result."}],"answers":[{"comments":[{"owner":{"account_id":2164635,"reputation":96,"user_id":1917992,"accept_rate":80,"display_name":"goosebump"},"score":0,"creation_date":1532671942,"post_id":51551555,"comment_id":90070510,"body_markdown":"My bad! I should have thought of semaphore at first place. Great help","body":"My bad! I should have thought of semaphore at first place. Great help"}],"tags":[],"owner":{"account_id":4490216,"reputation":536,"user_id":3651486,"display_name":"Vinay"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1532670912,"creation_date":1532670912,"answer_id":51551555,"question_id":51550866,"body_markdown":"If you just want to restrict the max number of threads which can access your service, then you might use Bounded Semaphore and can provide the max number of permits.\r\nHere is the sample code (assuming that your service is singleton) :-\r\n\r\n    public class SampleService {\r\n        private Semaphore semaphore = new Semaphore(n, true);\r\n    \r\n    \tpublic void someMothod() {\r\n    \t\ttry {\r\n    \t\t\tsemaphore.acquire();\r\n    \r\n    \t\t\t// execute the task\r\n    \r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t} finally {\r\n    \t\t\tsemaphore.release();\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nYou have to make sure that only one instance of semaphore is created. If you can have multiple instances of your service in the application, then make semaphore static.\r\n\r\n    private static Semaphore semaphore = new Semaphore(n, true);","title":"How to restrict the number of threads using a Java service","body":"<p>If you just want to restrict the max number of threads which can access your service, then you might use Bounded Semaphore and can provide the max number of permits.\nHere is the sample code (assuming that your service is singleton) :-</p>\n\n<pre><code>public class SampleService {\n    private Semaphore semaphore = new Semaphore(n, true);\n\n    public void someMothod() {\n        try {\n            semaphore.acquire();\n\n            // execute the task\n\n        } catch (InterruptedException e) {\n        } finally {\n            semaphore.release();\n        }\n\n    }\n}\n</code></pre>\n\n<p>You have to make sure that only one instance of semaphore is created. If you can have multiple instances of your service in the application, then make semaphore static.</p>\n\n<pre><code>private static Semaphore semaphore = new Semaphore(n, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9201118,"reputation":550,"user_id":6838010,"display_name":"Randhir Ray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532671199,"creation_date":1532671199,"answer_id":51551607,"question_id":51550866,"body_markdown":"You can use ExecutorCompletionService for this. \r\nJust create an ExecutorService with fixed no of threads as stated below\r\n\r\n    ExecutorService pool = Executors.newFixedThreadPool(5);\r\n\r\nNow create an ExecutorCompletionService using this ExecutorService.\r\n\r\n    ExecutorCompletionService completionService = new ExecutorCompletionService(pool);\r\n\r\nThen after submitting your task you can iterate and get the future and the job result from the future as well. This won&#39;t block the thread as being done when you use Future returned from just an ExecutorService. \r\n\r\n    for(int i = 0; i &lt; worker size ; i++) {\r\n        Future future = completionService.take();\r\n        \r\n         Object content = future.get();\r\n       \r\n    }\r\n\r\n\r\n","title":"How to restrict the number of threads using a Java service","body":"<p>You can use ExecutorCompletionService for this. \nJust create an ExecutorService with fixed no of threads as stated below</p>\n\n<pre><code>ExecutorService pool = Executors.newFixedThreadPool(5);\n</code></pre>\n\n<p>Now create an ExecutorCompletionService using this ExecutorService.</p>\n\n<pre><code>ExecutorCompletionService completionService = new ExecutorCompletionService(pool);\n</code></pre>\n\n<p>Then after submitting your task you can iterate and get the future and the job result from the future as well. This won't block the thread as being done when you use Future returned from just an ExecutorService. </p>\n\n<pre><code>for(int i = 0; i &lt; worker size ; i++) {\n    Future future = completionService.take();\n\n     Object content = future.get();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17911157,"reputation":9,"user_id":13013256,"display_name":"Peter Togara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684489006,"creation_date":1684489006,"answer_id":76287823,"question_id":51550866,"body_markdown":"    You can solve this by using both Semaphores and Future&lt;T&gt;. We have 2 types of Semaphores, i.e. Counting Semaphores and Binary Semaphores. If you want multiple threads to access your resource you, then use Counting semaphores.\r\n    Code example:\r\n    \r\n        public class RestrictApiCalls {\r\n        private Sempaphore semaphore =  new Semaphore(3);\r\n        private ExecutorService executor =  Executors.newFixedThreadPool(3);\r\n        \r\n         public void call(){\r\n           try{\r\n            semaphore.acquire();\r\n            Future&lt;String&gt; future  =  executor.submit(()-&gt;{\r\n             Thread.sleep(1000);\r\n             return &quot;Call successful&quot;;\r\n            });\r\n          try{\r\n              String response  =  future.get();\r\n            }catch(Exception e){\r\n             //handle exception here\r\n            }\r\n         }catch(Exception e){\r\n          // handle\r\n        }\r\n        finally{\r\n         semaphore.release();\r\n        }\r\n        }\r\n        }\r\n    \r\n        }","title":"How to restrict the number of threads using a Java service","body":"<pre><code>You can solve this by using both Semaphores and Future&lt;T&gt;. We have 2 types of Semaphores, i.e. Counting Semaphores and Binary Semaphores. If you want multiple threads to access your resource you, then use Counting semaphores.\nCode example:\n\n    public class RestrictApiCalls {\n    private Sempaphore semaphore =  new Semaphore(3);\n    private ExecutorService executor =  Executors.newFixedThreadPool(3);\n    \n     public void call(){\n       try{\n        semaphore.acquire();\n        Future&lt;String&gt; future  =  executor.submit(()-&gt;{\n         Thread.sleep(1000);\n         return &quot;Call successful&quot;;\n        });\n      try{\n          String response  =  future.get();\n        }catch(Exception e){\n         //handle exception here\n        }\n     }catch(Exception e){\n      // handle\n    }\n    finally{\n     semaphore.release();\n    }\n    }\n    }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":2164635,"reputation":96,"user_id":1917992,"accept_rate":80,"display_name":"goosebump"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51551555,"answer_count":3,"score":0,"last_activity_date":1684489006,"creation_date":1532666499,"question_id":51550866,"body_markdown":"My requirement is to restrict the number of threads which uses my service at any point in time. Executor service is not helping me here as my problem space is little different. Let me explain with an example.\r\n\r\nI have exposed a REST API which does one job. On the fly, my controller invokes one of the services for the job execution. But I have to make sure only &#39;n&#39; threads access the service. That means threads/API-access will be continuously growing but at some place, I have to keep them in waiting if &#39;n&#39; threads are already using the service. And the end of the execution I should get the response from the service and returns back to the endpoint and then to the client.\r\n\r\nIf I use FutureTask and callable, how and where will I write the .get() method? Because my threads will be continuously growing in number and dynamic in nature. \r\n\r\nHope the problem statement is clear, let me know if more clarification required.\r\n\r\n\r\n","title":"How to restrict the number of threads using a Java service","body":"<p>My requirement is to restrict the number of threads which uses my service at any point in time. Executor service is not helping me here as my problem space is little different. Let me explain with an example.</p>\n\n<p>I have exposed a REST API which does one job. On the fly, my controller invokes one of the services for the job execution. But I have to make sure only 'n' threads access the service. That means threads/API-access will be continuously growing but at some place, I have to keep them in waiting if 'n' threads are already using the service. And the end of the execution I should get the response from the service and returns back to the endpoint and then to the client.</p>\n\n<p>If I use FutureTask and callable, how and where will I write the .get() method? Because my threads will be continuously growing in number and dynamic in nature. </p>\n\n<p>Hope the problem statement is clear, let me know if more clarification required.</p>\n"},{"tags":["java","inheritance","overriding","covariance","covariant-return-types"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684484210,"post_id":76287197,"comment_id":134527074,"body_markdown":"There is no covariance here. If `Ticket` had `Ticket cloneWithNewId(long id)`, or `TicketImpl` had `TicketImpl cloneWithNewId(long id)`, that would be covariance. Not this.","body":"There is no covariance here. If <code>Ticket</code> had <code>Ticket cloneWithNewId(long id)</code>, or <code>TicketImpl</code> had <code>TicketImpl cloneWithNewId(long id)</code>, that would be covariance. Not this."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1684484924,"post_id":76287197,"comment_id":134527203,"body_markdown":"What is the declared type of `ticket` in `Ticket expectedTicket = ticket.cloneWithNewId(1L);`?","body":"What is the declared type of <code>ticket</code> in <code>Ticket expectedTicket = ticket.cloneWithNewId(1L);</code>?"},{"owner":{"account_id":17158501,"reputation":33,"user_id":12474104,"display_name":"Dmitro"},"score":0,"creation_date":1684485249,"post_id":76287197,"comment_id":134527276,"body_markdown":"@ThomasKl&#228;ger, not sure that I understand... Ticket is the declared type and it does not have cloneWithNewId method in it.","body":"@ThomasKl&#228;ger, not sure that I understand... Ticket is the declared type and it does not have cloneWithNewId method in it."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1684485346,"post_id":76287197,"comment_id":134527297,"body_markdown":"Is the `ticket` variable a `Ticket` or a `TicketImpl`?","body":"Is the <code>ticket</code> variable a <code>Ticket</code> or a <code>TicketImpl</code>?"},{"owner":{"account_id":17158501,"reputation":33,"user_id":12474104,"display_name":"Dmitro"},"score":0,"creation_date":1684485459,"post_id":76287197,"comment_id":134527318,"body_markdown":"It is Ticket, not TicketImpl. Added more to description:\n&quot;Required type:Ticket. Provided: EntityId&quot;","body":"It is Ticket, not TicketImpl. Added more to description: &quot;Required type:Ticket. Provided: EntityId&quot;"},{"owner":{"account_id":17158501,"reputation":33,"user_id":12474104,"display_name":"Dmitro"},"score":0,"creation_date":1684485756,"post_id":76287197,"comment_id":134527378,"body_markdown":"@user207421, I changed return type in TicketImpl:\nTicketImpl cloneWithNewId(long id) {...}\nThe error has not changed.","body":"@user207421, I changed return type in TicketImpl: TicketImpl cloneWithNewId(long id) {...} The error has not changed."},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1684486342,"post_id":76287197,"comment_id":134527476,"body_markdown":"I disagree with the first comment - this is a valid use of a covariant return type. Can you provide the unit test that produces the error?","body":"I disagree with the first comment - this is a valid use of a covariant return type. Can you provide the unit test that produces the error?"},{"owner":{"account_id":17158501,"reputation":33,"user_id":12474104,"display_name":"Dmitro"},"score":0,"creation_date":1684487209,"post_id":76287197,"comment_id":134527657,"body_markdown":"The unit test:\n    @Test\n    void shouldBookTicket() {\n        Ticket ticket = new TicketImpl(7L, 8L, Ticket.Category.PREMIUM, 21);\n        Ticket expectedTicket = ticket.cloneWithNewId(1L);\n\nThe error is produced by last line.","body":"The unit test:     @Test     void shouldBookTicket() {         Ticket ticket = new TicketImpl(7L, 8L, Ticket.Category.PREMIUM, 21);         Ticket expectedTicket = ticket.cloneWithNewId(1L);  The error is produced by last line."}],"answers":[{"comments":[{"owner":{"account_id":17158501,"reputation":33,"user_id":12474104,"display_name":"Dmitro"},"score":0,"creation_date":1684489960,"post_id":76287785,"comment_id":134528232,"body_markdown":"Thank you, that was simple indeed, I probably haven&#39;t woken up to miss that ))","body":"Thank you, that was simple indeed, I probably haven&#39;t woken up to miss that ))"}],"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684488709,"creation_date":1684488709,"answer_id":76287785,"question_id":76287197,"body_markdown":"In the unit test, you are not invoking the method with the narrowed return type.\r\n\r\nThe compiler raises an error here, because the return type of `Ticket#cloneWithNewId(long)` is `EntityId`, as it is inherited from `EntityId`. Note that, when confronted with a compiler error, it does not make sense to argue about a specific `TicketImpl` instance, as you are not in a runtime. Instead only the declared type of each local variable is relevant.\r\n\r\nThis is also why\r\n\r\n    public interface Ticket {\r\n        @Override\r\n        public Ticket cloneWithNewId(long id);\r\n    }\r\n\r\nwill fix the compiler error.\r\n\r\nAnother possible fix is to change the unit test to\r\n\r\n    @Test\r\n    void shouldBookTicket() {\r\n        TicketImpl ticket = new TicketImpl(7L, 8L, Ticket.Category.PREMIUM, 21);\r\n        Ticket expectedTicket = ticket.cloneWithNewId(1L);\r\n    //...\r\n    }\r\n\r\nas that will &quot;point&quot; the compiler to the method declaration in `TicketImpl`, whose return type is narrowed to `Ticket`.","title":"Using covariant return type while overriding method from granparent interface results in complier error","body":"<p>In the unit test, you are not invoking the method with the narrowed return type.</p>\n<p>The compiler raises an error here, because the return type of <code>Ticket#cloneWithNewId(long)</code> is <code>EntityId</code>, as it is inherited from <code>EntityId</code>. Note that, when confronted with a compiler error, it does not make sense to argue about a specific <code>TicketImpl</code> instance, as you are not in a runtime. Instead only the declared type of each local variable is relevant.</p>\n<p>This is also why</p>\n<pre><code>public interface Ticket {\n    @Override\n    public Ticket cloneWithNewId(long id);\n}\n</code></pre>\n<p>will fix the compiler error.</p>\n<p>Another possible fix is to change the unit test to</p>\n<pre><code>@Test\nvoid shouldBookTicket() {\n    TicketImpl ticket = new TicketImpl(7L, 8L, Ticket.Category.PREMIUM, 21);\n    Ticket expectedTicket = ticket.cloneWithNewId(1L);\n//...\n}\n</code></pre>\n<p>as that will &quot;point&quot; the compiler to the method declaration in <code>TicketImpl</code>, whose return type is narrowed to <code>Ticket</code>.</p>\n"}],"owner":{"account_id":17158501,"reputation":33,"user_id":12474104,"display_name":"Dmitro"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76287785,"answer_count":1,"score":0,"last_activity_date":1684488709,"creation_date":1684483767,"question_id":76287197,"body_markdown":"```\r\npublic interface EntityId {\r\n...\r\n    EntityId cloneWithNewId(long id);\r\n}\r\n```\r\n\r\n\r\n```\r\npublic interface Ticket extends EntityId {\r\n/// cloneWithNewId - is not mentioned in this interface\r\n}\r\n```\r\n\r\n```\r\npublic record TicketImpl(...)\r\n@Override\r\n    public Ticket cloneWithNewId(long id) {...}\r\n\r\n```\r\n\r\nThe compiler gives the error, when I write in my unit test the line with &quot;cloneWithNewId&quot; call:\r\n```\r\n    @Test\r\n    void shouldBookTicket() {\r\n        Ticket ticket = new TicketImpl(7L, 8L, Ticket.Category.PREMIUM, 21);\r\n        Ticket expectedTicket = ticket.cloneWithNewId(1L); // compiler error in this line\r\n    //...\r\n    }\r\n```\r\n\r\n&quot;EntityId cannot be converted to Ticket. Required type:\r\nTicket. Provided: EntityId&quot;\r\n\r\nAny ideas why? Seems to be not much different from classic examples for covariant return type.\r\n\r\nIt works if I make EnityId interface generic\r\n```\r\npublic interface EntityId&lt;? extends T&gt; {\r\n...\r\n    T cloneWithNewId(long id);\r\n}\r\n```\r\n```\r\npublic interface Ticket extends EntityId&lt;Ticket&gt; {\r\n/// cloneWithNewId - is not mentioned in this interface\r\n}\r\n```\r\n\r\nIt also works if I add the method declaration to Ticket interface:\r\n```\r\npublic interface Ticket extends EntityId {\r\n    Ticket cloneWithNewId(long id);\r\n}\r\n```\r\n\r\nBut I do not understand, why it does not work when I override method from extended interface.","title":"Using covariant return type while overriding method from granparent interface results in complier error","body":"<pre><code>public interface EntityId {\n...\n    EntityId cloneWithNewId(long id);\n}\n</code></pre>\n<pre><code>public interface Ticket extends EntityId {\n/// cloneWithNewId - is not mentioned in this interface\n}\n</code></pre>\n<pre><code>public record TicketImpl(...)\n@Override\n    public Ticket cloneWithNewId(long id) {...}\n\n</code></pre>\n<p>The compiler gives the error, when I write in my unit test the line with &quot;cloneWithNewId&quot; call:</p>\n<pre><code>    @Test\n    void shouldBookTicket() {\n        Ticket ticket = new TicketImpl(7L, 8L, Ticket.Category.PREMIUM, 21);\n        Ticket expectedTicket = ticket.cloneWithNewId(1L); // compiler error in this line\n    //...\n    }\n</code></pre>\n<p>&quot;EntityId cannot be converted to Ticket. Required type:\nTicket. Provided: EntityId&quot;</p>\n<p>Any ideas why? Seems to be not much different from classic examples for covariant return type.</p>\n<p>It works if I make EnityId interface generic</p>\n<pre><code>public interface EntityId&lt;? extends T&gt; {\n...\n    T cloneWithNewId(long id);\n}\n</code></pre>\n<pre><code>public interface Ticket extends EntityId&lt;Ticket&gt; {\n/// cloneWithNewId - is not mentioned in this interface\n}\n</code></pre>\n<p>It also works if I add the method declaration to Ticket interface:</p>\n<pre><code>public interface Ticket extends EntityId {\n    Ticket cloneWithNewId(long id);\n}\n</code></pre>\n<p>But I do not understand, why it does not work when I override method from extended interface.</p>\n"},{"tags":["java","methods","return","void"],"answers":[{"comments":[{"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"score":7,"creation_date":1239648677,"post_id":744684,"comment_id":556483,"body_markdown":"I understand your code is illustrative, but for the parent&#39;s info; I&#39;ve worked with people that believe each method should only have a single return statement.  I&#39;m not one of them, but do believe in minimizing the number of returns as much as possible without making the code ugly in doing it.","body":"I understand your code is illustrative, but for the parent&#39;s info; I&#39;ve worked with people that believe each method should only have a single return statement.  I&#39;m not one of them, but do believe in minimizing the number of returns as much as possible without making the code ugly in doing it."},{"owner":{"account_id":31100,"reputation":13876,"user_id":85170,"accept_rate":100,"display_name":"CookieOfFortune"},"score":4,"creation_date":1239651603,"post_id":744684,"comment_id":556641,"body_markdown":"Yeah, it&#39;s definitely not something to overuse, but sometimes it just makes it a lot easier and can still be very readable.","body":"Yeah, it&#39;s definitely not something to overuse, but sometimes it just makes it a lot easier and can still be very readable."},{"owner":{"account_id":375461,"reputation":2234,"user_id":726315,"accept_rate":89,"display_name":"arkon"},"score":7,"creation_date":1368483046,"post_id":744684,"comment_id":23741446,"body_markdown":"My favorite way of breaking from nested loops :)","body":"My favorite way of breaking from nested loops :)"},{"owner":{"account_id":153878,"reputation":2055,"user_id":369446,"accept_rate":100,"display_name":"Michael Shopsin"},"score":2,"creation_date":1415718697,"post_id":744684,"comment_id":42295135,"body_markdown":"Without a return value `return` works a lot like `break` in a loop and simply exits the code in question. There have been many flame wars about multiple exit points from functions and a few languages force you one way or the other. I don&#39;t take a position on multiple exit points, but I will point out that leaving a function cleans up the local stack.","body":"Without a return value <code>return</code> works a lot like <code>break</code> in a loop and simply exits the code in question. There have been many flame wars about multiple exit points from functions and a few languages force you one way or the other. I don&#39;t take a position on multiple exit points, but I will point out that leaving a function cleans up the local stack."}],"tags":[],"owner":{"account_id":31100,"reputation":13876,"user_id":85170,"accept_rate":100,"display_name":"CookieOfFortune"},"comment_count":4,"down_vote_count":1,"up_vote_count":156,"is_accepted":true,"score":155,"last_activity_date":1435609308,"creation_date":1239643828,"answer_id":744684,"question_id":744676,"body_markdown":"It just exits the method at that point. Once `return` is executed, the rest of the code won&#39;t be executed.\r\n\r\neg.\r\n\r\n    public void test(int n) {\r\n        if (n == 1) {\r\n            return; \r\n        }\r\n        else if (n == 2) {\r\n            doStuff();\r\n            return;\r\n        }\r\n        doOtherStuff();\r\n    }\r\n\r\nNote that the compiler is smart enough to tell you some code cannot be reached:\r\n\r\n    if (n == 3) {\r\n        return;\r\n        youWillGetAnError(); //compiler error here\r\n    }\r\n","title":"What does the return keyword do in a void method in Java?","body":"<p>It just exits the method at that point. Once <code>return</code> is executed, the rest of the code won't be executed.</p>\n\n<p>eg.</p>\n\n<pre><code>public void test(int n) {\n    if (n == 1) {\n        return; \n    }\n    else if (n == 2) {\n        doStuff();\n        return;\n    }\n    doOtherStuff();\n}\n</code></pre>\n\n<p>Note that the compiler is smart enough to tell you some code cannot be reached:</p>\n\n<pre><code>if (n == 3) {\n    return;\n    youWillGetAnError(); //compiler error here\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":448713,"reputation":304,"user_id":843075,"accept_rate":17,"display_name":"fdama"},"score":0,"creation_date":1637064096,"post_id":744692,"comment_id":123720324,"body_markdown":"Why can&#39;t we use `break` instead?","body":"Why can&#39;t we use <code>break</code> instead?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689212267,"post_id":744692,"comment_id":135182566,"body_markdown":"@fdama `break` only works inside a loop. There is no loop here.","body":"@fdama <code>break</code> only works inside a loop. There is no loop here."}],"tags":[],"owner":{"account_id":12214,"reputation":23816,"user_id":23921,"display_name":"Pesto"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1416654476,"creation_date":1239643958,"answer_id":744692,"question_id":744676,"body_markdown":"You can have `return` in a void method, you just can&#39;t *return any value* (as in `return 5;`), that&#39;s why they call it a *void* method. Some people always explicitly end void methods with a return statement, but it&#39;s not mandatory.  It *can* be used to leave a function early, though:\r\n\r\n    void someFunct(int arg)\r\n    {\r\n        if (arg == 0)\r\n        {\r\n            //Leave because this is a bad value\r\n            return;\r\n        }\r\n        //Otherwise, do something\r\n    }","title":"What does the return keyword do in a void method in Java?","body":"<p>You can have <code>return</code> in a void method, you just can't <em>return any value</em> (as in <code>return 5;</code>), that's why they call it a <em>void</em> method. Some people always explicitly end void methods with a return statement, but it's not mandatory.  It <em>can</em> be used to leave a function early, though:</p>\n\n<pre><code>void someFunct(int arg)\n{\n    if (arg == 0)\n    {\n        //Leave because this is a bad value\n        return;\n    }\n    //Otherwise, do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26654,"reputation":14361,"user_id":69572,"accept_rate":70,"display_name":"John Ellinwood"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1239643973,"creation_date":1239643973,"answer_id":744694,"question_id":744676,"body_markdown":"The Java language [specification][1] says you can have return with no expression if your method returns void.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/statements.html#14.17","title":"What does the return keyword do in a void method in Java?","body":"<p>The Java language <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/statements.html#14.17\" rel=\"noreferrer\">specification</a> says you can have return with no expression if your method returns void.</p>\n"},{"tags":[],"owner":{"account_id":1169,"reputation":33942,"user_id":1551,"accept_rate":95,"display_name":"Chris Ballance"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1239643996,"creation_date":1239643996,"answer_id":744698,"question_id":744676,"body_markdown":"It functions the same as a return for function with a specified parameter, except it returns nothing, as there is nothing to return and control is passed back to the calling method.","title":"What does the return keyword do in a void method in Java?","body":"<p>It functions the same as a return for function with a specified parameter, except it returns nothing, as there is nothing to return and control is passed back to the calling method.</p>\n"},{"tags":[],"owner":{"account_id":17874,"reputation":546,"user_id":40443,"accept_rate":100,"display_name":"Albert"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1239644028,"creation_date":1239644028,"answer_id":744702,"question_id":744676,"body_markdown":"It exits the function and returns nothing.\r\n\r\nSomething like `return 1;` would be incorrect since it returns integer 1.","title":"What does the return keyword do in a void method in Java?","body":"<p>It exits the function and returns nothing.</p>\n\n<p>Something like <code>return 1;</code> would be incorrect since it returns integer 1.</p>\n"},{"comments":[{"owner":{"account_id":408193,"reputation":1810,"user_id":778694,"accept_rate":79,"display_name":"franklin"},"score":12,"creation_date":1357309144,"post_id":744708,"comment_id":19613070,"body_markdown":"Haha. This is great answer but I doubt beginners in java would really grasp what you&#39;re trying to say.","body":"Haha. This is great answer but I doubt beginners in java would really grasp what you&#39;re trying to say."},{"owner":{"account_id":408193,"reputation":1810,"user_id":778694,"accept_rate":79,"display_name":"franklin"},"score":0,"creation_date":1544740057,"post_id":744708,"comment_id":94393742,"body_markdown":"@ElliotMok Fair enough. We all start out as beginners!","body":"@ElliotMok Fair enough. We all start out as beginners!"},{"owner":{"account_id":11618230,"reputation":107,"user_id":8510253,"display_name":"Hamza Khan"},"score":0,"creation_date":1614146922,"post_id":744708,"comment_id":117293104,"body_markdown":"Is this a good practice or doesn&#39;t matter whether we write `return;` or not?","body":"Is this a good practice or doesn&#39;t matter whether we write <code>return;</code> or not?"}],"tags":[],"owner":{"account_id":32516,"reputation":11064,"user_id":90313,"display_name":"MahdeTo"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1239644160,"creation_date":1239644160,"answer_id":744708,"question_id":744676,"body_markdown":"The keyword simply pops a frame from the call stack returning the control to the line following the function call.","title":"What does the return keyword do in a void method in Java?","body":"<p>The keyword simply pops a frame from the call stack returning the control to the line following the function call.</p>\n"},{"comments":[{"owner":{"account_id":4063582,"reputation":3717,"user_id":3339394,"accept_rate":53,"display_name":"The_Martian"},"score":1,"creation_date":1452587193,"post_id":33930291,"comment_id":57223169,"body_markdown":"The ArrayList should have been initialized as:  ArrayList&lt;String&gt; list =  new ArrayList&lt;&gt;();","body":"The ArrayList should have been initialized as:  ArrayList&lt;String&gt; list =  new ArrayList&lt;&gt;();"}],"tags":[],"owner":{"account_id":4200308,"reputation":147,"user_id":3440566,"accept_rate":43,"display_name":"iali87"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476966358,"creation_date":1448509991,"answer_id":33930291,"question_id":744676,"body_markdown":"See this example, you want to add to the list conditionally. Without the word &quot;return&quot;, all ifs will be executed and add to the ArrayList! \r\n\r\n\r\n        Arraylist&lt;String&gt; list =  new ArrayList&lt;&gt;();\r\n        \r\n        public void addingToTheList() {\r\n        \r\n        if(isSunday()) {\r\n            list.add(&quot;Pray today&quot;)\r\n            return;\r\n        }\r\n        \r\n        if(isMonday()) {\r\n            list.add(&quot;Work today&quot;\r\n            return;\r\n        }\r\n\r\n        if(isTuesday()) {\r\n            list.add(&quot;Tr today&quot;)\r\n            return;\r\n        }\r\n    }","title":"What does the return keyword do in a void method in Java?","body":"<p>See this example, you want to add to the list conditionally. Without the word \"return\", all ifs will be executed and add to the ArrayList! </p>\n\n<pre><code>    Arraylist&lt;String&gt; list =  new ArrayList&lt;&gt;();\n\n    public void addingToTheList() {\n\n    if(isSunday()) {\n        list.add(\"Pray today\")\n        return;\n    }\n\n    if(isMonday()) {\n        list.add(\"Work today\"\n        return;\n    }\n\n    if(isTuesday()) {\n        list.add(\"Tr today\")\n        return;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684491574,"post_id":76287769,"comment_id":134528557,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76287769/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28589498,"reputation":1,"user_id":21889051,"display_name":"the best decklist"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684488562,"creation_date":1684488562,"answer_id":76287769,"question_id":744676,"body_markdown":"void methodName() {\r\n    \r\n   \r\n// body\r\n}\r\n\r\n}\r\n``\r\n\r\n}\r\nThe return statement should not be present within a void method, as a return value cannot be specified.","title":"What does the return keyword do in a void method in Java?","body":"<p>void methodName() {</p>\n<p>// body\n}</p>\n<p>}\n``</p>\n<p>}\nThe return statement should not be present within a void method, as a return value cannot be specified.</p>\n"}],"owner":{"account_id":32232,"reputation":11789,"user_id":89211,"accept_rate":90,"display_name":"Relequestual"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239444,"favorite_count":0,"down_vote_count":2,"up_vote_count":88,"accepted_answer_id":744684,"answer_count":8,"score":86,"last_activity_date":1684488562,"creation_date":1239643661,"question_id":744676,"body_markdown":"I&#39;m looking at [a path finding tutorial](http://www.cokeandcode.com/main/tutorials/path-finding/) and I noticed a `return` statement inside a `void` method (class `PathTest`, line 126):\r\n\r\n\tif ((x &lt; 0) || (y &lt; 0) || (x &gt;= map.getWidthInTiles()) || (y &gt;= map.getHeightInTiles())) {\r\n\t\treturn;\r\n\t}\r\n\r\nI&#39;m a novice at Java. Can anyone tell me why it&#39;s there? As far as I knew, `return` inside a void method isn&#39;t allowed.","title":"What does the return keyword do in a void method in Java?","body":"<p>I'm looking at <a href=\"http://www.cokeandcode.com/main/tutorials/path-finding/\" rel=\"noreferrer\">a path finding tutorial</a> and I noticed a <code>return</code> statement inside a <code>void</code> method (class <code>PathTest</code>, line 126):</p>\n\n<pre><code>if ((x &lt; 0) || (y &lt; 0) || (x &gt;= map.getWidthInTiles()) || (y &gt;= map.getHeightInTiles())) {\n    return;\n}\n</code></pre>\n\n<p>I'm a novice at Java. Can anyone tell me why it's there? As far as I knew, <code>return</code> inside a void method isn't allowed.</p>\n"},{"tags":["java","spring-boot","hibernate","ehcache"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634187197,"creation_date":1634187197,"answer_id":69565241,"question_id":69345830,"body_markdown":"The error suggests that you are using the same Hibernate Session in multiple threads concurrently. The hash map, which according to the exception is iterated, does not change within the process of iteration, so the only way this can happen is if you have a concurrency problem in your application.","title":"Concurrent Modification exception while evicting cache in Hibernate","body":"<p>The error suggests that you are using the same Hibernate Session in multiple threads concurrently. The hash map, which according to the exception is iterated, does not change within the process of iteration, so the only way this can happen is if you have a concurrency problem in your application.</p>\n"},{"tags":[],"owner":{"account_id":14500349,"reputation":118,"user_id":10473718,"display_name":"I_AM__PAUL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684488311,"creation_date":1684488311,"answer_id":76287736,"question_id":69345830,"body_markdown":"This information is outdated; however, it took me several days to identify this issue.\r\n\r\n\r\nThis error can potentially block the Hikari connection and the connection stays as &quot;active&quot;, leading to application failure at some point. The root cause lies in the cache.\r\n\r\nIn my particular scenario, I had configured the cache manager, but despite disabling &#39;spring.cache.type=none,&#39; the cache continued to function inexplicably.\r\n\r\n\r\n\r\n    public CacheManager cacheManager() {\r\n        ConcurrentMapCacheManager manager = new ConcurrentMapCacheManager();\r\n        manager.setAllowNullValues(false);\r\n        return manager;\r\n    }\r\n\r\n\r\nMy Service layer had also cache evict which caused then the exception and blocked connection to dabase.\r\n\r\n     @Cacheable(value = &quot;item&quot;, key = &quot;#item.name&quot;, unless = &quot;#result == null&quot;)","title":"Concurrent Modification exception while evicting cache in Hibernate","body":"<p>This information is outdated; however, it took me several days to identify this issue.</p>\n<p>This error can potentially block the Hikari connection and the connection stays as &quot;active&quot;, leading to application failure at some point. The root cause lies in the cache.</p>\n<p>In my particular scenario, I had configured the cache manager, but despite disabling 'spring.cache.type=none,' the cache continued to function inexplicably.</p>\n<pre><code>public CacheManager cacheManager() {\n    ConcurrentMapCacheManager manager = new ConcurrentMapCacheManager();\n    manager.setAllowNullValues(false);\n    return manager;\n}\n</code></pre>\n<p>My Service layer had also cache evict which caused then the exception and blocked connection to dabase.</p>\n<pre><code> @Cacheable(value = &quot;item&quot;, key = &quot;#item.name&quot;, unless = &quot;#result == null&quot;)\n</code></pre>\n"}],"owner":{"account_id":8095467,"reputation":33,"user_id":6731299,"display_name":"ANKIT KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1684488311,"creation_date":1632742247,"question_id":69345830,"body_markdown":"My application maintains a cache of list of users and it is evicted when any new user is created.\r\nI am getting Concurrent Modification exception while evicting the cache.\r\n\r\nStack trace : \r\n\r\n    java.util.ConcurrentModificationException: null\r\n     \tat java.util.HashMap.forEach(HashMap.java:1292)\r\n        at org.hibernate.resource.jdbc.internal.ResourceRegistryStandardImpl.releaseResources(ResourceRegistryStandardImpl.java:323)\r\n    \tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.afterTransaction(AbstractLogicalConnectionImplementor.java:60)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.afterTransaction(LogicalConnectionManagedImpl.java:167)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.afterCompletion(LogicalConnectionManagedImpl.java:291)\r\n    \tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:95)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n    \tat org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:627)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:633)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:386)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n    \tat com.mytestapp.service.impl.MyCacheManager$$EnhancerBySpringCGLIB$$6a5d7f13.resetTeamListCache(&lt;generated&gt;)\r\n    \tat \r\n    com.mytestapp.webapp.listener.StartupListener.refreshContext(StartupListener.java:199)\r\n    \tat com.mytestapp..webapp.controller.admin.SystemUserManagementController.saveSystemUserData(SystemUserManagementController.java:529)\r\n\r\nIn my controller the code is as follows :\r\n\r\n    systemUserProfileManager.saveSystemUserProfile(userBasicInfo); // async call\r\n    StartupListener.refreshContext(request.getSession().getServletContext()); // cache evict\r\n\r\nrefreshContextMethod in StartupListener :\r\n\r\n    public static void refreshContext(ServletContext context) {\r\n    \t\tApplicationContext ctx = WebApplicationContextUtils\r\n    \t\t\t\t.getRequiredWebApplicationContext(context);\r\n    \t\tMyCacheManager myCacheManager = (MyCacheManager) ctx\r\n    \t\t\t\t.getBean(myCacheManager);\r\n    \t\t\r\n    \t\tLOG.debug(&quot;Processing started for refreshing Servlet Context/ Cache!&quot;);\r\n    \t\t// RESET All Cache\r\n    \t\tmyCacheManager.resetTeamListCache();\r\n    \t\tLOG.debug(&quot;Processing completed for refreshing Servlet Context/ Cache!&quot;);\r\n    \t}\r\n\r\nresetTeamListCache method in MyCacheManager : \r\n\r\n    @CacheEvict(value = CacheConstants.SALES_TEAM_LIST, allEntries = true)\r\n    public void resetTeamListCache() {\r\n        // Intentionally blank\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Concurrent Modification exception while evicting cache in Hibernate","body":"<p>My application maintains a cache of list of users and it is evicted when any new user is created.\nI am getting Concurrent Modification exception while evicting the cache.</p>\n<p>Stack trace :</p>\n<pre><code>java.util.ConcurrentModificationException: null\n    at java.util.HashMap.forEach(HashMap.java:1292)\n    at org.hibernate.resource.jdbc.internal.ResourceRegistryStandardImpl.releaseResources(ResourceRegistryStandardImpl.java:323)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.afterTransaction(AbstractLogicalConnectionImplementor.java:60)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.afterTransaction(LogicalConnectionManagedImpl.java:167)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.afterCompletion(LogicalConnectionManagedImpl.java:291)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:95)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:627)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:633)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:386)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at com.mytestapp.service.impl.MyCacheManager$$EnhancerBySpringCGLIB$$6a5d7f13.resetTeamListCache(&lt;generated&gt;)\n    at \ncom.mytestapp.webapp.listener.StartupListener.refreshContext(StartupListener.java:199)\n    at com.mytestapp..webapp.controller.admin.SystemUserManagementController.saveSystemUserData(SystemUserManagementController.java:529)\n</code></pre>\n<p>In my controller the code is as follows :</p>\n<pre><code>systemUserProfileManager.saveSystemUserProfile(userBasicInfo); // async call\nStartupListener.refreshContext(request.getSession().getServletContext()); // cache evict\n</code></pre>\n<p>refreshContextMethod in StartupListener :</p>\n<pre><code>public static void refreshContext(ServletContext context) {\n        ApplicationContext ctx = WebApplicationContextUtils\n                .getRequiredWebApplicationContext(context);\n        MyCacheManager myCacheManager = (MyCacheManager) ctx\n                .getBean(myCacheManager);\n        \n        LOG.debug(&quot;Processing started for refreshing Servlet Context/ Cache!&quot;);\n        // RESET All Cache\n        myCacheManager.resetTeamListCache();\n        LOG.debug(&quot;Processing completed for refreshing Servlet Context/ Cache!&quot;);\n    }\n</code></pre>\n<p>resetTeamListCache method in MyCacheManager :</p>\n<pre><code>@CacheEvict(value = CacheConstants.SALES_TEAM_LIST, allEntries = true)\npublic void resetTeamListCache() {\n    // Intentionally blank\n}\n</code></pre>\n"},{"tags":["java","getresource"],"comments":[{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1684489488,"post_id":76287711,"comment_id":134528133,"body_markdown":"The code seems fine so far. I think, we&#39;ll probably need your exact project structure in order to debug further. One alternative though: If `MainApp.class` and `RootLayout.fxml` are at the same location, you can also use a relative path for `Class#getResource()`, which in this case is simply `RootLayout.fxml`. That eliminates the path as a potential cause of error.","body":"The code seems fine so far. I think, we&#39;ll probably need your exact project structure in order to debug further. One alternative though: If <code>MainApp.class</code> and <code>RootLayout.fxml</code> are at the same location, you can also use a relative path for <code>Class#getResource()</code>, which in this case is simply <code>RootLayout.fxml</code>. That eliminates the path as a potential cause of error."}],"owner":{"account_id":28634103,"reputation":1,"user_id":21924535,"display_name":"Altometer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684488136,"creation_date":1684488102,"question_id":76287711,"body_markdown":"I&#39;m having issue with gerResource(). \r\n```\r\npublic class MainApp extends Application {\r\n...\r\n    public void initRootLayout() {\r\n        try {\r\n            // load `rootLayout.fxml`\r\n            FXMLLoader loader = new FXMLLoader();\r\n            loader.setLocation(MainApp.class.getResource(&quot;/proj/addapp/RootLayout.fxml&quot;));\r\n            rootLayout = loader.load();\r\n            Scene scene = new Scene(rootLayout);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n\r\n            // ...\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n...\r\n```\r\nI have `RootLayout.fxml` file in `proj.addapp` package along with `MainApp`, but it seems fxml can&#39;t be found. I&#39;ve been looking for awhile but wasn&#39;t able to find the answer.\r\n\r\nI&#39;ve tried different pathway and rebuild the project.","title":"Issue with getResource() in JavaFX - FXML file not found","body":"<p>I'm having issue with gerResource().</p>\n<pre><code>public class MainApp extends Application {\n...\n    public void initRootLayout() {\n        try {\n            // load `rootLayout.fxml`\n            FXMLLoader loader = new FXMLLoader();\n            loader.setLocation(MainApp.class.getResource(&quot;/proj/addapp/RootLayout.fxml&quot;));\n            rootLayout = loader.load();\n            Scene scene = new Scene(rootLayout);\n            primaryStage.setScene(scene);\n            primaryStage.show();\n\n            // ...\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n...\n</code></pre>\n<p>I have <code>RootLayout.fxml</code> file in <code>proj.addapp</code> package along with <code>MainApp</code>, but it seems fxml can't be found. I've been looking for awhile but wasn't able to find the answer.</p>\n<p>I've tried different pathway and rebuild the project.</p>\n"},{"tags":["java","android","bluetooth"],"owner":{"account_id":28633941,"reputation":1,"user_id":21924404,"display_name":"Th&#233;odule Daul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684487229,"creation_date":1684487229,"question_id":76287594,"body_markdown":"I&#39;m making an app to connect bluetooth device from my android phone.\r\n\r\nThere is my code :\r\n\r\n```\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final int REQUEST_CODE_PERMISSION = 1;\r\n    private static final int REQUEST_CODE_SETTINGS = 2;\r\n    private TextView textView;\r\n    private Button connectButton;\r\n    private ListView watchListView;\r\n\r\n    private String[] availableWatches = {&quot;Watch 1&quot;, &quot;Watch 2&quot;, &quot;Watch 3&quot;, &quot;Watch 4&quot;};\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView = findViewById(R.id.textView);\r\n        connectButton = findViewById(R.id.connectButton);\r\n        watchListView = findViewById(R.id.watchListView);\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED ||\r\n                ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED) {\r\n            Toast.makeText(this, &quot;Bluetooth permissions not granted&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        Set&lt;BluetoothDevice&gt; pairedDevices = bluetoothAdapter.getBondedDevices();\r\n\r\n        availableWatches = new String[pairedDevices.size()];\r\n        String[] availableWatchAddresses = new String[pairedDevices.size()];\r\n\r\n        int index = 0;\r\n        for (BluetoothDevice device : pairedDevices) {\r\n            availableWatches[index] = device.getName();\r\n            availableWatchAddresses[index] = device.getAddress();\r\n            index++;\r\n        }\r\n\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, availableWatches);\r\n        watchListView.setAdapter(adapter);\r\n        watchListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                String selectedWatchAddress = availableWatchAddresses[position];\r\n                connectToWatch(selectedWatchAddress);\r\n\r\n            }\r\n        });\r\n\r\n        connectButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                checkPermissions();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void checkPermissions() {\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.BODY_SENSORS)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.BODY_SENSORS}, REQUEST_CODE_PERMISSION);\r\n        } else {\r\n            connectToWatch(null);\r\n        }\r\n    }\r\n\r\n    private void connectToWatch(final String watch) {\r\n        if (watch != null) {\r\n            final BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n            final BluetoothDevice device = bluetoothAdapter.getRemoteDevice(watch);\r\n\r\n            final UUID sppUuid = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n\r\n            Thread connectThread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED ||\r\n                                ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED) {\r\n                            runOnUiThread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    Toast.makeText(MainActivity.this, &quot;Bluetooth permissions not granted&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                            return;\r\n                        }\r\n\r\n                        BluetoothSocket socket = device.createRfcommSocketToServiceRecord(sppUuid);\r\n                        socket.connect();\r\n\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                Toast.makeText(MainActivity.this, &quot;Connected to &quot; + watch, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n\r\n\r\n                        OutputStream outputStream = socket.getOutputStream();\r\n                        String message = &quot;Hello, watch!&quot;;\r\n                        outputStream.write(message.getBytes());\r\n\r\n                        InputStream inputStream = socket.getInputStream();\r\n                        byte[] buffer = new byte[1024];\r\n                        int bytesRead = inputStream.read(buffer);\r\n                        final String receivedMessage = new String(buffer, 0, bytesRead);\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                Toast.makeText(MainActivity.this, &quot;Received message: &quot; + receivedMessage, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n\r\n                        socket.close();\r\n\r\n                    } catch (final IOException e) {\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                Toast.makeText(MainActivity.this, &quot;Failed to connect to &quot; + watch, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n\r\n            connectThread.start();\r\n        } \r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CODE_PERMISSION) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                connectToWatch(null);\r\n            } else {\r\n                textView.setText(&quot;Permission denied. Please enable the Body Sensors permission in the Settings.&quot;);\r\n                connectButton.setVisibility(View.GONE);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nIt block on the socket.connect but cannot understand why it do this, tried with multiple device, never work.\r\n\r\nIt automaticly catch an IOException\r\n\r\nThanks for your help\r\n\r\n\r\nTried to use multiple device, with thread and without","title":"Android cannot connect bluetooth device","body":"<p>I'm making an app to connect bluetooth device from my android phone.</p>\n<p>There is my code :</p>\n<pre><code>\npublic class MainActivity extends AppCompatActivity {\n    private static final int REQUEST_CODE_PERMISSION = 1;\n    private static final int REQUEST_CODE_SETTINGS = 2;\n    private TextView textView;\n    private Button connectButton;\n    private ListView watchListView;\n\n    private String[] availableWatches = {&quot;Watch 1&quot;, &quot;Watch 2&quot;, &quot;Watch 3&quot;, &quot;Watch 4&quot;};\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = findViewById(R.id.textView);\n        connectButton = findViewById(R.id.connectButton);\n        watchListView = findViewById(R.id.watchListView);\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED ||\n                ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED) {\n            Toast.makeText(this, &quot;Bluetooth permissions not granted&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        Set&lt;BluetoothDevice&gt; pairedDevices = bluetoothAdapter.getBondedDevices();\n\n        availableWatches = new String[pairedDevices.size()];\n        String[] availableWatchAddresses = new String[pairedDevices.size()];\n\n        int index = 0;\n        for (BluetoothDevice device : pairedDevices) {\n            availableWatches[index] = device.getName();\n            availableWatchAddresses[index] = device.getAddress();\n            index++;\n        }\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, availableWatches);\n        watchListView.setAdapter(adapter);\n        watchListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                String selectedWatchAddress = availableWatchAddresses[position];\n                connectToWatch(selectedWatchAddress);\n\n            }\n        });\n\n        connectButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                checkPermissions();\n            }\n        });\n    }\n\n    private void checkPermissions() {\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.BODY_SENSORS)\n                != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.BODY_SENSORS}, REQUEST_CODE_PERMISSION);\n        } else {\n            connectToWatch(null);\n        }\n    }\n\n    private void connectToWatch(final String watch) {\n        if (watch != null) {\n            final BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n            final BluetoothDevice device = bluetoothAdapter.getRemoteDevice(watch);\n\n            final UUID sppUuid = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n\n            Thread connectThread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED ||\n                                ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED) {\n                            runOnUiThread(new Runnable() {\n                                @Override\n                                public void run() {\n                                    Toast.makeText(MainActivity.this, &quot;Bluetooth permissions not granted&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            });\n                            return;\n                        }\n\n                        BluetoothSocket socket = device.createRfcommSocketToServiceRecord(sppUuid);\n                        socket.connect();\n\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                Toast.makeText(MainActivity.this, &quot;Connected to &quot; + watch, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n\n\n                        OutputStream outputStream = socket.getOutputStream();\n                        String message = &quot;Hello, watch!&quot;;\n                        outputStream.write(message.getBytes());\n\n                        InputStream inputStream = socket.getInputStream();\n                        byte[] buffer = new byte[1024];\n                        int bytesRead = inputStream.read(buffer);\n                        final String receivedMessage = new String(buffer, 0, bytesRead);\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                Toast.makeText(MainActivity.this, &quot;Received message: &quot; + receivedMessage, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n\n                        socket.close();\n\n                    } catch (final IOException e) {\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                Toast.makeText(MainActivity.this, &quot;Failed to connect to &quot; + watch, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                        e.printStackTrace();\n                    }\n                }\n            });\n\n            connectThread.start();\n        } \n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CODE_PERMISSION) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                connectToWatch(null);\n            } else {\n                textView.setText(&quot;Permission denied. Please enable the Body Sensors permission in the Settings.&quot;);\n                connectButton.setVisibility(View.GONE);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>It block on the socket.connect but cannot understand why it do this, tried with multiple device, never work.</p>\n<p>It automaticly catch an IOException</p>\n<p>Thanks for your help</p>\n<p>Tried to use multiple device, with thread and without</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":3,"creation_date":1561646739,"post_id":56793459,"comment_id":100141697,"body_markdown":"You don&#39;t say what version of Jackson you&#39;re using but this may offer some insight: https://github.com/FasterXML/jackson-databind/issues/1625","body":"You don&#39;t say what version of Jackson you&#39;re using but this may offer some insight: <a href=\"https://github.com/FasterXML/jackson-databind/issues/1625\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind/issues/1625</a>"},{"owner":{"account_id":15386630,"reputation":463,"user_id":11100529,"display_name":"Ralf"},"score":2,"creation_date":1561647269,"post_id":56793459,"comment_id":100142059,"body_markdown":"Good hint, its com.fasterxml.jackson.core:jackson-core:jar:2.9.8","body":"Good hint, its com.fasterxml.jackson.core:jackson-core:jar:2.9.8"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1561647446,"post_id":56793459,"comment_id":100142183,"body_markdown":"From the discussion at that issue it sounds like it should work as you expect right out of the box.  We don&#39;t use that method in our Jackson-heavy project so I can&#39;t offer concrete advice, sorry.  I wasn&#39;t aware of the method you&#39;re using which is why I looked into (yet can&#39;t give you an answer).  If you figure it out please answer your own question. Thanks!","body":"From the discussion at that issue it sounds like it should work as you expect right out of the box.  We don&#39;t use that method in our Jackson-heavy project so I can&#39;t offer concrete advice, sorry.  I wasn&#39;t aware of the method you&#39;re using which is why I looked into (yet can&#39;t give you an answer).  If you figure it out please answer your own question. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":8347139,"reputation":375,"user_id":6270501,"display_name":"Iakov Burtsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684487176,"creation_date":1684487176,"answer_id":76287587,"question_id":56793459,"body_markdown":"I think this can help:\r\n`mapper.configOverride(ArrayNode.class).setMergeable(false)`","title":"ObjectMapper readerForUpdating to replace array","body":"<p>I think this can help:\n<code>mapper.configOverride(ArrayNode.class).setMergeable(false)</code></p>\n"}],"owner":{"account_id":15386630,"reputation":463,"user_id":11100529,"display_name":"Ralf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2666,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1684487176,"creation_date":1561646309,"question_id":56793459,"body_markdown":"I have two different JSON files.\r\n\r\nFile A:\r\n\r\n```lang-json\r\n{\r\n    &quot;label&quot;: &quot;A&quot;,\r\n    &quot;links&quot;: [\r\n        {\r\n            &quot;url&quot;: &quot;urla&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nFile B:\r\n\r\n```lang-json\r\n{\r\n    &quot;links&quot;: [\r\n        {\r\n            &quot;url&quot;: &quot;urlb&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nNow I want to update A with the contents of B to get the following result JSON:\r\n\r\n```lang-json\r\n{\r\n    &quot;label&quot;: &quot;A&quot;,\r\n    &quot;links&quot;: [\r\n        {\r\n            &quot;url&quot;: &quot;urlb&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nThat is the `links` array should be fully replaced with the contents of B.\r\nBut instead it merges the two Arrays:\r\n\r\n```lang-json\r\n{\r\n    &quot;label&quot;: &quot;A&quot;,\r\n    &quot;links&quot;: [\r\n        {\r\n            &quot;url&quot;: &quot;urla&quot;,\r\n            &quot;url&quot;: &quot;urlb&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nThis is not desired.\r\nThe code for the merged file:\r\n\r\n```lang-java\r\nJsonNode A = ... // resolved from a service call\r\nJsonNode B = ... // resolved from a service call\r\nObjectMapper mapper = new ObjectMapper();\r\nresult = mapper.readerForUpdating(A).readValue(B);\r\n```\r\n\r\nI also tried to set `mapper.setDefaultMergeable(false);` but it didn&#39;t help.\r\n\r\nI use `com.fasterxml.jackson.core:jackson-core:jar:2.9.8`\r\n\r\nCan someone help me?\r\n","title":"ObjectMapper readerForUpdating to replace array","body":"<p>I have two different JSON files.</p>\n<p>File A:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;label&quot;: &quot;A&quot;,\n    &quot;links&quot;: [\n        {\n            &quot;url&quot;: &quot;urla&quot;\n        }\n    ]\n}\n</code></pre>\n<p>File B:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;links&quot;: [\n        {\n            &quot;url&quot;: &quot;urlb&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Now I want to update A with the contents of B to get the following result JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;label&quot;: &quot;A&quot;,\n    &quot;links&quot;: [\n        {\n            &quot;url&quot;: &quot;urlb&quot;\n        }\n    ]\n}\n</code></pre>\n<p>That is the <code>links</code> array should be fully replaced with the contents of B.\nBut instead it merges the two Arrays:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;label&quot;: &quot;A&quot;,\n    &quot;links&quot;: [\n        {\n            &quot;url&quot;: &quot;urla&quot;,\n            &quot;url&quot;: &quot;urlb&quot;\n        }\n    ]\n}\n</code></pre>\n<p>This is not desired.\nThe code for the merged file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonNode A = ... // resolved from a service call\nJsonNode B = ... // resolved from a service call\nObjectMapper mapper = new ObjectMapper();\nresult = mapper.readerForUpdating(A).readValue(B);\n</code></pre>\n<p>I also tried to set <code>mapper.setDefaultMergeable(false);</code> but it didn't help.</p>\n<p>I use <code>com.fasterxml.jackson.core:jackson-core:jar:2.9.8</code></p>\n<p>Can someone help me?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":3,"creation_date":1665160587,"post_id":73989985,"comment_id":130642499,"body_markdown":"Your exception says &quot;Unable to start **service** com.marianhello.bgloc.service.LocationServiceImpl&quot;, but the code you&#39;ve shared is for creating a PendingIntent for an activity, not a Service. Please include the code that creates a PendingIntent for `LocationServiceImpl`.","body":"Your exception says &quot;Unable to start <b>service</b> com.marianhello.bgloc.service.LocationServiceImpl&quot;, but the code you&#39;ve shared is for creating a PendingIntent for an activity, not a Service. Please include the code that creates a PendingIntent for <code>LocationServiceImpl</code>."},{"owner":{"account_id":1197665,"reputation":1205,"user_id":1169039,"accept_rate":0,"display_name":"drago"},"score":0,"creation_date":1665225777,"post_id":73989985,"comment_id":130653154,"body_markdown":"@ianhanniballake, please see my last edit.","body":"@ianhanniballake, please see my last edit."},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1665238998,"post_id":73989985,"comment_id":130655512,"body_markdown":"Well, you&#39;ve included the code for `LocationServiceImpl`, but that&#39;s not the code I was asking for. I was asking for the code that creates a PendingIntent for `LocationServiceImpl` - there&#39;s not one `PendingIntent.getService` in the code you&#39;ve posted.","body":"Well, you&#39;ve included the code for <code>LocationServiceImpl</code>, but that&#39;s not the code I was asking for. I was asking for the code that creates a PendingIntent for <code>LocationServiceImpl</code> - there&#39;s not one <code>PendingIntent.getService</code> in the code you&#39;ve posted."}],"answers":[{"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1665162638,"post_id":73990233,"comment_id":130643163,"body_markdown":"Please edit your question and explain in detail how adding these libraries will affect `com.marianhello.bgloc.service.LocationServiceImpl`.","body":"Please edit your question and explain in detail how adding these libraries will affect <code>com.marianhello.bgloc.service.LocationServiceImpl</code>."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1665229596,"post_id":73990233,"comment_id":130653773,"body_markdown":"@drago: Ian asked for you to show the code that **creates your `PendingIntent`** for `LocationServiceImpl`. That is not what your edit contains.","body":"@drago: Ian asked for you to show the code that <b>creates your <code>PendingIntent</code></b> for <code>LocationServiceImpl</code>. That is not what your edit contains."},{"owner":{"account_id":6754672,"reputation":890,"user_id":5203566,"display_name":"bojan"},"score":0,"creation_date":1674758653,"post_id":73990233,"comment_id":132787332,"body_markdown":"This seems to fix the crash in my case.","body":"This seems to fix the crash in my case."}],"tags":[],"owner":{"account_id":26468745,"reputation":162,"user_id":20109632,"display_name":"Chintan Bhanderi"},"comment_count":3,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1665161031,"creation_date":1665161031,"answer_id":73990233,"question_id":73989985,"body_markdown":"Add the following to your `build.gradle(app)` dependencies.\r\n\r\n```\r\ndependencies {\r\n  // For Java\r\n  implementation &#39;androidx.work:work-runtime:2.7.1&#39; \r\n\r\n  // For Kotlin\r\n  implementation &#39;androidx.work:work-runtime-ktx:2.7.1&#39;\r\n}\r\n```","title":"Targeting 31+ SDK requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent?","body":"<p>Add the following to your <code>build.gradle(app)</code> dependencies.</p>\n<pre><code>dependencies {\n  // For Java\n  implementation 'androidx.work:work-runtime:2.7.1' \n\n  // For Kotlin\n  implementation 'androidx.work:work-runtime-ktx:2.7.1'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1672122734,"post_id":74918928,"comment_id":132224017,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74918928/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27354999,"reputation":1,"user_id":20863550,"display_name":"Witiania"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672046617,"creation_date":1672046617,"answer_id":74918928,"question_id":73989985,"body_markdown":"solved the problem by adding:\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.7.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.0.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-iid:21.1.0&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:30.0.0&#39;)\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.7.1&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-auth:8.0.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation(&quot;com.google.android.gms:play-services-auth:20.2.0&quot;)\r\n    implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-database-ktx:20.0.5&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth-ktx:21.0.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n","title":"Targeting 31+ SDK requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent?","body":"<p>solved the problem by adding:</p>\n<pre><code>implementation 'androidx.core:core-ktx:1.7.0'\nimplementation 'androidx.work:work-runtime-ktx:2.7.1'\nimplementation 'com.google.firebase:firebase-messaging:23.0.4'\nimplementation 'com.google.firebase:firebase-iid:21.1.0'\nimplementation platform('com.google.firebase:firebase-bom:30.0.0')\nimplementation 'androidx.work:work-runtime-ktx:2.7.1'\nimplementation 'com.firebaseui:firebase-ui-auth:8.0.0'\nimplementation 'androidx.appcompat:appcompat:1.4.1'\nimplementation(&quot;com.google.android.gms:play-services-auth:20.2.0&quot;)\nimplementation 'com.google.android.material:material:1.6.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.3'\nimplementation 'com.google.firebase:firebase-database-ktx:20.0.5'\nimplementation 'com.google.firebase:firebase-auth-ktx:21.0.3'\nimplementation 'com.google.firebase:firebase-auth:21.0.3'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672047806,"creation_date":1672047806,"answer_id":74919070,"question_id":73989985,"body_markdown":"Some of dependency targets 31+ but didn&#39;t updated their flag. If you are not using any pending intent with such flag, we need to add [WorkManager][1] dependency in our `build.gradle`(app) and that&#39;s it.\r\n\r\n\r\n    // Kotlin + coroutines\r\n    val work_version = &quot;2.7.1&quot;\r\n    implementation(&quot;androidx.work:work-runtime-ktx:$work_version&quot;)\r\n\r\n[Google Mobile Ads SDK][2] also start managing their library after `20.4.0` release. \r\n\r\n&gt; This release and all previous versions require an explicit dependency\r\n&gt; on androidx.work:work-runtime:2.7.0 to fix a bug causing app crashes\r\n&gt; on Android S with the following stack trace.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/background/persistent/getting-started\r\n  [2]: https://developers.google.com/admob/android/rel-notes","title":"Targeting 31+ SDK requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent?","body":"<p>Some of dependency targets 31+ but didn't updated their flag. If you are not using any pending intent with such flag, we need to add <a href=\"https://developer.android.com/guide/background/persistent/getting-started\" rel=\"nofollow noreferrer\">WorkManager</a> dependency in our <code>build.gradle</code>(app) and that's it.</p>\n<pre><code>// Kotlin + coroutines\nval work_version = &quot;2.7.1&quot;\nimplementation(&quot;androidx.work:work-runtime-ktx:$work_version&quot;)\n</code></pre>\n<p><a href=\"https://developers.google.com/admob/android/rel-notes\" rel=\"nofollow noreferrer\">Google Mobile Ads SDK</a> also start managing their library after <code>20.4.0</code> release.</p>\n<blockquote>\n<p>This release and all previous versions require an explicit dependency\non androidx.work:work-runtime:2.7.0 to fix a bug causing app crashes\non Android S with the following stack trace.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2023222,"reputation":103,"user_id":1808918,"display_name":"jus_blaze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684486890,"creation_date":1684486890,"answer_id":76287549,"question_id":73989985,"body_markdown":"for anyone still facing this issue, it was resolved in FirebaseUIVersion 8.0.2\r\nSee this thread https://github.com/firebase/FirebaseUI-Android/issues/1999\r\n","title":"Targeting 31+ SDK requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent?","body":"<p>for anyone still facing this issue, it was resolved in FirebaseUIVersion 8.0.2\nSee this thread <a href=\"https://github.com/firebase/FirebaseUI-Android/issues/1999\" rel=\"nofollow noreferrer\">https://github.com/firebase/FirebaseUI-Android/issues/1999</a></p>\n"}],"owner":{"account_id":1197665,"reputation":1205,"user_id":1169039,"accept_rate":0,"display_name":"drago"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1378,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1684486890,"creation_date":1665159471,"question_id":73989985,"body_markdown":"I&#39;m trying to run my app on an android 12 device. the app has a GPS functionality.\r\n\r\nWhen I run my app, I get the usual allow GPS pop up on the phone but then as soon as I &#39;allow&#39; it, the app crashes and I see this error in Android Studio:\r\n\r\n    2022-10-07 18:08:53.471 11854-11854/com.example.app E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.app, PID: 11854\r\n        java.lang.RuntimeException: Unable to start service com.marianhello.bgloc.service.LocationServiceImpl@936d3d2 with null: java.lang.IllegalArgumentException: com.example.app: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n        Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n\r\nedit:\r\n\r\neven though the code is large, I share it as suggested in the comments.\r\n\r\n\r\n    package com.marianhello.bgloc.service;\r\n    \r\n    import android.accounts.Account;\r\n    import android.app.Notification;\r\n    import android.app.NotificationManager;\r\n    import android.app.Service;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.ContentResolver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.net.ConnectivityManager;\r\n    import android.net.NetworkInfo;\r\n    import android.os.Binder;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.os.HandlerThread;\r\n    import android.os.IBinder;\r\n    import android.os.Looper;\r\n    import android.os.Message;\r\n    import android.os.Process;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.localbroadcastmanager.content.LocalBroadcastManager;\r\n    \r\n    import com.marianhello.bgloc.Config;\r\n    import com.marianhello.bgloc.ConnectivityListener;\r\n    import com.marianhello.bgloc.sync.NotificationHelper;\r\n    import com.marianhello.bgloc.PluginException;\r\n    import com.marianhello.bgloc.PostLocationTask;\r\n    import com.marianhello.bgloc.ResourceResolver;\r\n    import com.marianhello.bgloc.data.BackgroundActivity;\r\n    import com.marianhello.bgloc.data.BackgroundLocation;\r\n    import com.marianhello.bgloc.data.ConfigurationDAO;\r\n    import com.marianhello.bgloc.data.DAOFactory;\r\n    import com.marianhello.bgloc.data.LocationDAO;\r\n    import com.marianhello.bgloc.data.LocationTransform;\r\n    import com.marianhello.bgloc.headless.AbstractTaskRunner;\r\n    import com.marianhello.bgloc.headless.ActivityTask;\r\n    import com.marianhello.bgloc.headless.LocationTask;\r\n    import com.marianhello.bgloc.headless.StationaryTask;\r\n    import com.marianhello.bgloc.headless.Task;\r\n    import com.marianhello.bgloc.headless.TaskRunner;\r\n    import com.marianhello.bgloc.headless.TaskRunnerFactory;\r\n    import com.marianhello.bgloc.provider.LocationProvider;\r\n    import com.marianhello.bgloc.provider.LocationProviderFactory;\r\n    import com.marianhello.bgloc.provider.ProviderDelegate;\r\n    import com.marianhello.bgloc.sync.AccountHelper;\r\n    import com.marianhello.bgloc.sync.SyncService;\r\n    import com.marianhello.logging.LoggerManager;\r\n    import com.marianhello.logging.UncaughtExceptionLogger;\r\n    \r\n    import org.chromium.content.browser.ThreadUtils;\r\n    import org.json.JSONException;\r\n    \r\n    import static com.marianhello.bgloc.service.LocationServiceIntentBuilder.containsCommand;\r\n    import static com.marianhello.bgloc.service.LocationServiceIntentBuilder.containsMessage;\r\n    import static com.marianhello.bgloc.service.LocationServiceIntentBuilder.getCommand;\r\n    import static com.marianhello.bgloc.service.LocationServiceIntentBuilder.getMessage;\r\n    \r\n    public class LocationServiceImpl extends Service implements ProviderDelegate, LocationService {\r\n    \r\n        public static final String ACTION_BROADCAST = &quot;.broadcast&quot;;\r\n    \r\n\r\n        public static final int MSG_ON_ERROR = 100;\r\n    \r\n        \r\n        public static final int MSG_ON_LOCATION = 101;\r\n  \r\n        public static final int MSG_ON_STATIONARY = 102;\r\n    \r\n\r\n        public static final int MSG_ON_ACTIVITY = 103;\r\n    \r\n        public static final int MSG_ON_SERVICE_STARTED = 104;\r\n    \r\n        public static final int MSG_ON_SERVICE_STOPPED = 105;\r\n    \r\n        public static final int MSG_ON_ABORT_REQUESTED = 106;\r\n    \r\n        public static final int MSG_ON_HTTP_AUTHORIZATION = 107;\r\n    \r\n     \r\n        private static int NOTIFICATION_ID = 1;\r\n    \r\n        private ResourceResolver mResolver;\r\n        private Config mConfig;\r\n        private LocationProvider mProvider;\r\n        private Account mSyncAccount;\r\n    \r\n        private org.slf4j.Logger logger;\r\n    \r\n        private final IBinder mBinder = new LocalBinder();\r\n        private HandlerThread mHandlerThread;\r\n        private ServiceHandler mServiceHandler;\r\n        private LocationDAO mLocationDAO;\r\n        private PostLocationTask mPostLocationTask;\r\n        private String mHeadlessTaskRunnerClass;\r\n        private TaskRunner mHeadlessTaskRunner;\r\n    \r\n        private long mServiceId = -1;\r\n        private static boolean sIsRunning = false;\r\n        private boolean mIsInForeground = false;\r\n    \r\n        private static LocationTransform sLocationTransform;\r\n        private static LocationProviderFactory sLocationProviderFactory;\r\n    \r\n        private class ServiceHandler extends Handler {\r\n            public ServiceHandler(Looper looper) {\r\n                super(looper);\r\n            }\r\n    \r\n            @Override\r\n            public void handleMessage(Message msg) {\r\n                super.handleMessage(msg);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * When binding to the service, we return an interface to our messenger\r\n         * for sending messages to the service.\r\n         */\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            logger.debug(&quot;Client binds to service&quot;);\r\n            return mBinder;\r\n        }\r\n    \r\n        @Override\r\n        public void onRebind(Intent intent) {\r\n            logger.debug(&quot;Client rebinds to service&quot;);\r\n            super.onRebind(intent);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onUnbind(Intent intent) {\r\n            // All clients have unbound with unbindService()\r\n            logger.debug(&quot;All clients have been unbound from service&quot;);\r\n    \r\n            return true; // Ensures onRebind() is called when a client re-binds.\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n    \r\n            sIsRunning = false;\r\n    \r\n            UncaughtExceptionLogger.register(this);\r\n    \r\n            logger = LoggerManager.getLogger(LocationServiceImpl.class);\r\n            logger.info(&quot;Creating LocationServiceImpl&quot;);\r\n    \r\n            mServiceId = System.currentTimeMillis();\r\n    \r\n            // Start up the thread running the service.  Note that we create a\r\n            // separate thread because the service normally runs in the process&#39;s\r\n            // main thread, which we don&#39;t want to block.  We also make it\r\n            // background priority so CPU-intensive work will not disrupt our UI.\r\n            if (mHandlerThread == null) {\r\n                mHandlerThread = new HandlerThread(&quot;LocationServiceImpl.Thread&quot;, Process.THREAD_PRIORITY_BACKGROUND);\r\n            }\r\n            mHandlerThread.start();\r\n            // An Android service handler is a handler running on a specific background thread.\r\n            mServiceHandler = new ServiceHandler(mHandlerThread.getLooper());\r\n    \r\n            mResolver = ResourceResolver.newInstance(this);\r\n    \r\n            mSyncAccount = AccountHelper.CreateSyncAccount(this, mResolver.getAccountName(),\r\n                    mResolver.getAccountType());\r\n    \r\n            String authority = mResolver.getAuthority();\r\n            ContentResolver.setIsSyncable(mSyncAccount, authority, 1);\r\n            ContentResolver.setSyncAutomatically(mSyncAccount, authority, true);\r\n    \r\n            mLocationDAO = DAOFactory.createLocationDAO(this);\r\n    \r\n            mPostLocationTask = new PostLocationTask(mLocationDAO,\r\n                    new PostLocationTask.PostLocationTaskListener() {\r\n                        @Override\r\n                        public void onRequestedAbortUpdates() {\r\n                            handleRequestedAbortUpdates();\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onHttpAuthorizationUpdates() {\r\n                            handleHttpAuthorizationUpdates();\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onSyncRequested() {\r\n                            SyncService.sync(mSyncAccount, mResolver.getAuthority(), false);\r\n                        }\r\n                    }, new ConnectivityListener() {\r\n                @Override\r\n                public boolean hasConnectivity() {\r\n                    return isNetworkAvailable();\r\n                }\r\n            });\r\n    \r\n            registerReceiver(connectivityChangeReceiver, new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));\r\n            NotificationHelper.registerServiceChannel(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            logger.info(&quot;Destroying LocationServiceImpl&quot;);\r\n    \r\n            // workaround for issue #276\r\n            if (mProvider != null) {\r\n                mProvider.onDestroy();\r\n            }\r\n    \r\n            if (mHandlerThread != null) {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR2) {\r\n                    mHandlerThread.quitSafely();\r\n                } else {\r\n                    mHandlerThread.quit(); //sorry\r\n                }\r\n            }\r\n    \r\n            if (mPostLocationTask != null) {\r\n                mPostLocationTask.shutdown();\r\n            }\r\n    \r\n    \r\n            unregisterReceiver(connectivityChangeReceiver);\r\n    \r\n            sIsRunning = false;\r\n            super.onDestroy();\r\n        }\r\n    \r\n        @Override\r\n        public void onTaskRemoved(Intent rootIntent) {\r\n            logger.debug(&quot;Task has been removed&quot;);\r\n            // workaround for issue #276\r\n            Config config = getConfig();\r\n            if (config.getStopOnTerminate()) {\r\n                logger.info(&quot;Stopping self&quot;);\r\n                stopSelf();\r\n            } else {\r\n                logger.info(&quot;Continue running in background&quot;);\r\n            }\r\n            super.onTaskRemoved(rootIntent);\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            if (intent == null) {\r\n                // when service was killed and restarted we will restart service\r\n                start();\r\n                return START_STICKY;\r\n            }\r\n    \r\n            boolean containsCommand = containsCommand(intent);\r\n            logger.debug(\r\n                    String.format(&quot;Service in [%s] state. cmdId: [%s]. startId: [%d]&quot;,\r\n                            sIsRunning ? &quot;STARTED&quot; : &quot;NOT STARTED&quot;,\r\n                            containsCommand ? getCommand(intent).getId() : &quot;N/A&quot;,\r\n                            startId)\r\n            );\r\n    \r\n            if (containsCommand) {\r\n                LocationServiceIntentBuilder.Command cmd = getCommand(intent);\r\n                processCommand(cmd.getId(), cmd.getArgument());\r\n            } else {\r\n                // Could be a BOOT-event, or the OS just randomly restarted the service...\r\n                startForegroundService();\r\n            }\r\n    \r\n            if (containsMessage(intent)) {\r\n                processMessage(getMessage(intent));\r\n            }\r\n    \r\n            return START_STICKY;\r\n        }\r\n    \r\n        private void processMessage(String message) {\r\n            // currently we do not process any message\r\n        }\r\n    \r\n        private void processCommand(int command, Object arg) {\r\n            try {\r\n                switch (command) {\r\n                    case CommandId.START:\r\n                        start();\r\n                        break;\r\n                    case CommandId.START_FOREGROUND_SERVICE:\r\n                        startForegroundService();\r\n                        break;\r\n                    case CommandId.STOP:\r\n                        stop();\r\n                        break;\r\n                    case CommandId.CONFIGURE:\r\n                        configure((Config) arg);\r\n                        break;\r\n                    case CommandId.STOP_FOREGROUND:\r\n                        stopForeground();\r\n                        break;\r\n                    case CommandId.START_FOREGROUND:\r\n                        startForeground();\r\n                        break;\r\n                    case CommandId.REGISTER_HEADLESS_TASK:\r\n                        registerHeadlessTask((String) arg);\r\n                        break;\r\n                    case CommandId.START_HEADLESS_TASK:\r\n                        startHeadlessTask();\r\n                        break;\r\n                    case CommandId.STOP_HEADLESS_TASK:\r\n                        stopHeadlessTask();\r\n                        break;\r\n                }\r\n            } catch (Exception e) {\r\n                logger.error(&quot;processCommand: exception&quot;, e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void start() {\r\n            if (sIsRunning) {\r\n                return;\r\n            }\r\n    \r\n            if (mConfig == null) {\r\n                logger.warn(&quot;Attempt to start unconfigured service. Will use stored or default.&quot;);\r\n                mConfig = getConfig();\r\n                // TODO: throw JSONException if config cannot be obtained from db\r\n            }\r\n    \r\n            logger.debug(&quot;Will start service with: {}&quot;, mConfig.toString());\r\n    \r\n            mPostLocationTask.setConfig(mConfig);\r\n            mPostLocationTask.clearQueue();\r\n    \r\n            LocationProviderFactory spf = sLocationProviderFactory != null\r\n                    ? sLocationProviderFactory : new LocationProviderFactory(this);\r\n            mProvider = spf.getInstance(mConfig.getLocationProvider());\r\n            mProvider.setDelegate(this);\r\n            mProvider.onCreate();\r\n            mProvider.onConfigure(mConfig);\r\n    \r\n            sIsRunning = true;\r\n            ThreadUtils.runOnUiThreadBlocking(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    mProvider.onStart();\r\n                    if (mConfig.getStartForeground()) {\r\n                        startForeground();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            Bundle bundle = new Bundle();\r\n            bundle.putInt(&quot;action&quot;, MSG_ON_SERVICE_STARTED);\r\n            bundle.putLong(&quot;serviceId&quot;, mServiceId);\r\n            broadcastMessage(bundle);\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void startForegroundService() {\r\n            start();\r\n            startForeground();\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void stop() {\r\n            if (!sIsRunning) {\r\n                return;\r\n            }\r\n    \r\n            if (mProvider != null) {\r\n                mProvider.onStop();\r\n            }\r\n    \r\n            stopForeground(true);\r\n            stopSelf();\r\n    \r\n            broadcastMessage(MSG_ON_SERVICE_STOPPED);\r\n            sIsRunning = false;\r\n        }\r\n    \r\n        @Override\r\n        public void startForeground() {\r\n            if (sIsRunning &amp;&amp; !mIsInForeground) {\r\n                Config config = getConfig();\r\n                Notification notification = new NotificationHelper.NotificationFactory(this).getNotification(\r\n                        config.getNotificationTitle(),\r\n                        config.getNotificationText(),\r\n                        config.getLargeNotificationIcon(),\r\n                        config.getSmallNotificationIcon(),\r\n                        config.getNotificationIconColor());\r\n    \r\n                if (mProvider != null) {\r\n                    mProvider.onCommand(LocationProvider.CMD_SWITCH_MODE,\r\n                            LocationProvider.FOREGROUND_MODE);\r\n                }\r\n                super.startForeground(NOTIFICATION_ID, notification);\r\n                mIsInForeground = true;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void stopForeground() {\r\n            if (sIsRunning &amp;&amp; mIsInForeground) {\r\n                stopForeground(true);\r\n                if (mProvider != null) {\r\n                    mProvider.onCommand(LocationProvider.CMD_SWITCH_MODE,\r\n                            LocationProvider.BACKGROUND_MODE);\r\n                }\r\n                mIsInForeground = false;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void configure(Config config) {\r\n            if (mConfig == null) {\r\n                mConfig = config;\r\n                return;\r\n            }\r\n    \r\n            final Config currentConfig = mConfig;\r\n            mConfig = config;\r\n    \r\n            mPostLocationTask.setConfig(mConfig);\r\n    \r\n            ThreadUtils.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (sIsRunning) {\r\n                        if (currentConfig.getStartForeground() == true &amp;&amp; mConfig.getStartForeground() == false) {\r\n                            stopForeground(true);\r\n                        }\r\n    \r\n                        if (mConfig.getStartForeground() == true) {\r\n                            if (currentConfig.getStartForeground() == false) {\r\n                                // was not running in foreground, so start in foreground\r\n                                startForeground();\r\n                            } else {\r\n                                // was running in foreground, so just update existing notification\r\n                                Notification notification = new NotificationHelper.NotificationFactory(LocationServiceImpl.this).getNotification(\r\n                                        mConfig.getNotificationTitle(),\r\n                                        mConfig.getNotificationText(),\r\n                                        mConfig.getLargeNotificationIcon(),\r\n                                        mConfig.getSmallNotificationIcon(),\r\n                                        mConfig.getNotificationIconColor());\r\n    \r\n                                NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n                                notificationManager.notify(NOTIFICATION_ID, notification);\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                    if (currentConfig.getLocationProvider() != mConfig.getLocationProvider()) {\r\n                        boolean shouldStart = mProvider.isStarted();\r\n                        mProvider.onDestroy();\r\n                        LocationProviderFactory spf = new LocationProviderFactory(LocationServiceImpl.this);\r\n                        mProvider = spf.getInstance(mConfig.getLocationProvider());\r\n                        mProvider.setDelegate(LocationServiceImpl.this);\r\n                        mProvider.onCreate();\r\n                        mProvider.onConfigure(mConfig);\r\n                        if (shouldStart) {\r\n                            mProvider.onStart();\r\n                        }\r\n                    } else {\r\n                        mProvider.onConfigure(mConfig);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void registerHeadlessTask(String taskRunnerClass) {\r\n            logger.debug(&quot;Registering headless task&quot;);\r\n            mHeadlessTaskRunnerClass = taskRunnerClass;\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void startHeadlessTask() {\r\n            if (mHeadlessTaskRunnerClass != null) {\r\n                TaskRunnerFactory trf = new TaskRunnerFactory();\r\n                try {\r\n                    mHeadlessTaskRunner = trf.getTaskRunner(mHeadlessTaskRunnerClass);\r\n                    ((AbstractTaskRunner) mHeadlessTaskRunner).setContext(this);\r\n                } catch (Exception e) {\r\n                    logger.error(&quot;Headless task start failed: {}&quot;, e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void stopHeadlessTask() {\r\n            mHeadlessTaskRunner = null;\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void executeProviderCommand(final int command, final int arg1) {\r\n            if (mProvider == null) {\r\n                return;\r\n            }\r\n    \r\n            ThreadUtils.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    mProvider.onCommand(command, arg1);\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onLocation(BackgroundLocation location) {\r\n            logger.debug(&quot;New location {}&quot;, location.toString());\r\n    \r\n            location = transformLocation(location);\r\n            if (location == null) {\r\n                logger.debug(&quot;Skipping location as requested by the locationTransform&quot;);\r\n                return;\r\n            }\r\n    \r\n            Bundle bundle = new Bundle();\r\n            bundle.putInt(&quot;action&quot;, MSG_ON_LOCATION);\r\n            bundle.putParcelable(&quot;payload&quot;, location);\r\n            broadcastMessage(bundle);\r\n    \r\n            runHeadlessTask(new LocationTask(location) {\r\n                @Override\r\n                public void onError(String errorMessage) {\r\n                    logger.error(&quot;Location task error: {}&quot;, errorMessage);\r\n                }\r\n    \r\n                @Override\r\n                public void onResult(String value) {\r\n                    logger.debug(&quot;Location task result: {}&quot;, value);\r\n                }\r\n            });\r\n    \r\n            postLocation(location);\r\n        }\r\n    \r\n        @Override\r\n        public void onStationary(BackgroundLocation location) {\r\n            logger.debug(&quot;New stationary {}&quot;, location.toString());\r\n    \r\n            location = transformLocation(location);\r\n            if (location == null) {\r\n                logger.debug(&quot;Skipping location as requested by the locationTransform&quot;);\r\n                return;\r\n            }\r\n    \r\n            Bundle bundle = new Bundle();\r\n            bundle.putInt(&quot;action&quot;, MSG_ON_STATIONARY);\r\n            bundle.putParcelable(&quot;payload&quot;, location);\r\n            broadcastMessage(bundle);\r\n    \r\n            runHeadlessTask(new StationaryTask(location){\r\n                @Override\r\n                public void onError(String errorMessage) {\r\n                    logger.error(&quot;Stationary task error: {}&quot;, errorMessage);\r\n                }\r\n    \r\n                @Override\r\n                public void onResult(String value) {\r\n                    logger.debug(&quot;Stationary task result: {}&quot;, value);\r\n                }\r\n            });\r\n    \r\n            postLocation(location);\r\n        }\r\n    \r\n        @Override\r\n        public void onActivity(BackgroundActivity activity) {\r\n            logger.debug(&quot;New activity {}&quot;, activity.toString());\r\n    \r\n            Bundle bundle = new Bundle();\r\n            bundle.putInt(&quot;action&quot;, MSG_ON_ACTIVITY);\r\n            bundle.putParcelable(&quot;payload&quot;, activity);\r\n            broadcastMessage(bundle);\r\n    \r\n            runHeadlessTask(new ActivityTask(activity){\r\n                @Override\r\n                public void onError(String errorMessage) {\r\n                    logger.error(&quot;Activity task error: {}&quot;, errorMessage);\r\n                }\r\n    \r\n                @Override\r\n                public void onResult(String value) {\r\n                    logger.debug(&quot;Activity task result: {}&quot;, value);\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onError(PluginException error) {\r\n            Bundle bundle = new Bundle();\r\n            bundle.putInt(&quot;action&quot;, MSG_ON_ERROR);\r\n            bundle.putBundle(&quot;payload&quot;, error.toBundle());\r\n            broadcastMessage(bundle);\r\n        }\r\n    \r\n        private void broadcastMessage(int msgId) {\r\n            Bundle bundle = new Bundle();\r\n            bundle.putInt(&quot;action&quot;, msgId);\r\n            broadcastMessage(bundle);\r\n        }\r\n    \r\n        private void broadcastMessage(Bundle bundle) {\r\n            Intent intent = new Intent(ACTION_BROADCAST);\r\n            intent.putExtras(bundle);\r\n            LocalBroadcastManager.getInstance(getApplicationContext()).sendBroadcast(intent);\r\n        }\r\n    \r\n        @Override\r\n        public Intent registerReceiver(BroadcastReceiver receiver, IntentFilter filter) {\r\n            return super.registerReceiver(receiver, filter, null, mServiceHandler);\r\n        }\r\n    \r\n        @Override\r\n        public void unregisterReceiver(BroadcastReceiver receiver) {\r\n            try {\r\n                super.unregisterReceiver(receiver);\r\n            } catch (IllegalArgumentException ex) {\r\n                // if was not registered ignore exception\r\n            }\r\n        }\r\n    \r\n        public Config getConfig() {\r\n            Config config = mConfig;\r\n            if (config == null) {\r\n                ConfigurationDAO dao = DAOFactory.createConfigurationDAO(this);\r\n                try {\r\n                    config = dao.retrieveConfiguration();\r\n                } catch (JSONException e) {\r\n                    logger.error(&quot;Config exception: {}&quot;, e.getMessage());\r\n                }\r\n            }\r\n    \r\n            if (config == null) {\r\n                config = Config.getDefault();\r\n            }\r\n    \r\n            mConfig = config;\r\n            return mConfig;\r\n        }\r\n    \r\n        public static void setLocationProviderFactory(LocationProviderFactory factory) {\r\n            sLocationProviderFactory = factory;\r\n        }\r\n    \r\n        private void runHeadlessTask(Task task) {\r\n            if (mHeadlessTaskRunner == null) {\r\n                return;\r\n            }\r\n    \r\n            logger.debug(&quot;Running headless task: {}&quot;, task);\r\n            mHeadlessTaskRunner.runTask(task);\r\n        }\r\n    \r\n        /**\r\n         * Class used for the client Binder.  Since this service runs in the same process as its\r\n         * clients, we don&#39;t need to deal with IPC.\r\n         */\r\n        public class LocalBinder extends Binder {\r\n            public LocationServiceImpl getService() {\r\n                return LocationServiceImpl.this;\r\n            }\r\n        }\r\n    \r\n        private BackgroundLocation transformLocation(BackgroundLocation location) {\r\n            if (sLocationTransform != null) {\r\n                return sLocationTransform.transformLocationBeforeCommit(this, location);\r\n            }\r\n    \r\n            return location;\r\n        }\r\n    \r\n        private void postLocation(BackgroundLocation location) {\r\n            mPostLocationTask.add(location);\r\n        }\r\n    \r\n        public void handleRequestedAbortUpdates() {\r\n            broadcastMessage(MSG_ON_ABORT_REQUESTED);\r\n        }\r\n    \r\n        public void handleHttpAuthorizationUpdates() {\r\n            broadcastMessage(MSG_ON_HTTP_AUTHORIZATION);\r\n        }\r\n    \r\n        /**\r\n         * Broadcast receiver which detects connectivity change condition\r\n         */\r\n        private BroadcastReceiver connectivityChangeReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                boolean hasConnectivity = isNetworkAvailable();\r\n                mPostLocationTask.setHasConnectivity(hasConnectivity);\r\n                logger.info(&quot;Network condition changed has connectivity: {}&quot;, hasConnectivity);\r\n            }\r\n        };\r\n    \r\n        private boolean isNetworkAvailable() {\r\n            ConnectivityManager cm =\r\n                    (ConnectivityManager) this.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\r\n            return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting();\r\n        }\r\n    \r\n        public long getServiceId() {\r\n            return mServiceId;\r\n        }\r\n    \r\n        public boolean isBound() {\r\n            LocationServiceInfo info = new LocationServiceInfoImpl(this);\r\n            return info.isBound();\r\n        }\r\n    \r\n        public static boolean isRunning() {\r\n            return sIsRunning;\r\n        }\r\n    \r\n        public static void setLocationTransform(@Nullable LocationTransform transform) {\r\n            sLocationTransform = transform;\r\n        }\r\n    \r\n        public static @Nullable LocationTransform getLocationTransform() {\r\n            return sLocationTransform;\r\n        }\r\n    }\r\n\r\n","title":"Targeting 31+ SDK requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent?","body":"<p>I'm trying to run my app on an android 12 device. the app has a GPS functionality.</p>\n<p>When I run my app, I get the usual allow GPS pop up on the phone but then as soon as I 'allow' it, the app crashes and I see this error in Android Studio:</p>\n<pre><code>2022-10-07 18:08:53.471 11854-11854/com.example.app E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.app, PID: 11854\n    java.lang.RuntimeException: Unable to start service com.marianhello.bgloc.service.LocationServiceImpl@936d3d2 with null: java.lang.IllegalArgumentException: com.example.app: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n</code></pre>\n<p>edit:</p>\n<p>even though the code is large, I share it as suggested in the comments.</p>\n<pre><code>package com.marianhello.bgloc.service;\n\nimport android.accounts.Account;\nimport android.app.Notification;\nimport android.app.NotificationManager;\nimport android.app.Service;\nimport android.content.BroadcastReceiver;\nimport android.content.ContentResolver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.os.Binder;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.HandlerThread;\nimport android.os.IBinder;\nimport android.os.Looper;\nimport android.os.Message;\nimport android.os.Process;\nimport androidx.annotation.Nullable;\nimport androidx.localbroadcastmanager.content.LocalBroadcastManager;\n\nimport com.marianhello.bgloc.Config;\nimport com.marianhello.bgloc.ConnectivityListener;\nimport com.marianhello.bgloc.sync.NotificationHelper;\nimport com.marianhello.bgloc.PluginException;\nimport com.marianhello.bgloc.PostLocationTask;\nimport com.marianhello.bgloc.ResourceResolver;\nimport com.marianhello.bgloc.data.BackgroundActivity;\nimport com.marianhello.bgloc.data.BackgroundLocation;\nimport com.marianhello.bgloc.data.ConfigurationDAO;\nimport com.marianhello.bgloc.data.DAOFactory;\nimport com.marianhello.bgloc.data.LocationDAO;\nimport com.marianhello.bgloc.data.LocationTransform;\nimport com.marianhello.bgloc.headless.AbstractTaskRunner;\nimport com.marianhello.bgloc.headless.ActivityTask;\nimport com.marianhello.bgloc.headless.LocationTask;\nimport com.marianhello.bgloc.headless.StationaryTask;\nimport com.marianhello.bgloc.headless.Task;\nimport com.marianhello.bgloc.headless.TaskRunner;\nimport com.marianhello.bgloc.headless.TaskRunnerFactory;\nimport com.marianhello.bgloc.provider.LocationProvider;\nimport com.marianhello.bgloc.provider.LocationProviderFactory;\nimport com.marianhello.bgloc.provider.ProviderDelegate;\nimport com.marianhello.bgloc.sync.AccountHelper;\nimport com.marianhello.bgloc.sync.SyncService;\nimport com.marianhello.logging.LoggerManager;\nimport com.marianhello.logging.UncaughtExceptionLogger;\n\nimport org.chromium.content.browser.ThreadUtils;\nimport org.json.JSONException;\n\nimport static com.marianhello.bgloc.service.LocationServiceIntentBuilder.containsCommand;\nimport static com.marianhello.bgloc.service.LocationServiceIntentBuilder.containsMessage;\nimport static com.marianhello.bgloc.service.LocationServiceIntentBuilder.getCommand;\nimport static com.marianhello.bgloc.service.LocationServiceIntentBuilder.getMessage;\n\npublic class LocationServiceImpl extends Service implements ProviderDelegate, LocationService {\n\n    public static final String ACTION_BROADCAST = &quot;.broadcast&quot;;\n\n\n    public static final int MSG_ON_ERROR = 100;\n\n    \n    public static final int MSG_ON_LOCATION = 101;\n\n    public static final int MSG_ON_STATIONARY = 102;\n\n\n    public static final int MSG_ON_ACTIVITY = 103;\n\n    public static final int MSG_ON_SERVICE_STARTED = 104;\n\n    public static final int MSG_ON_SERVICE_STOPPED = 105;\n\n    public static final int MSG_ON_ABORT_REQUESTED = 106;\n\n    public static final int MSG_ON_HTTP_AUTHORIZATION = 107;\n\n \n    private static int NOTIFICATION_ID = 1;\n\n    private ResourceResolver mResolver;\n    private Config mConfig;\n    private LocationProvider mProvider;\n    private Account mSyncAccount;\n\n    private org.slf4j.Logger logger;\n\n    private final IBinder mBinder = new LocalBinder();\n    private HandlerThread mHandlerThread;\n    private ServiceHandler mServiceHandler;\n    private LocationDAO mLocationDAO;\n    private PostLocationTask mPostLocationTask;\n    private String mHeadlessTaskRunnerClass;\n    private TaskRunner mHeadlessTaskRunner;\n\n    private long mServiceId = -1;\n    private static boolean sIsRunning = false;\n    private boolean mIsInForeground = false;\n\n    private static LocationTransform sLocationTransform;\n    private static LocationProviderFactory sLocationProviderFactory;\n\n    private class ServiceHandler extends Handler {\n        public ServiceHandler(Looper looper) {\n            super(looper);\n        }\n\n        @Override\n        public void handleMessage(Message msg) {\n            super.handleMessage(msg);\n        }\n    }\n\n    /**\n     * When binding to the service, we return an interface to our messenger\n     * for sending messages to the service.\n     */\n    @Override\n    public IBinder onBind(Intent intent) {\n        logger.debug(&quot;Client binds to service&quot;);\n        return mBinder;\n    }\n\n    @Override\n    public void onRebind(Intent intent) {\n        logger.debug(&quot;Client rebinds to service&quot;);\n        super.onRebind(intent);\n    }\n\n    @Override\n    public boolean onUnbind(Intent intent) {\n        // All clients have unbound with unbindService()\n        logger.debug(&quot;All clients have been unbound from service&quot;);\n\n        return true; // Ensures onRebind() is called when a client re-binds.\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        sIsRunning = false;\n\n        UncaughtExceptionLogger.register(this);\n\n        logger = LoggerManager.getLogger(LocationServiceImpl.class);\n        logger.info(&quot;Creating LocationServiceImpl&quot;);\n\n        mServiceId = System.currentTimeMillis();\n\n        // Start up the thread running the service.  Note that we create a\n        // separate thread because the service normally runs in the process's\n        // main thread, which we don't want to block.  We also make it\n        // background priority so CPU-intensive work will not disrupt our UI.\n        if (mHandlerThread == null) {\n            mHandlerThread = new HandlerThread(&quot;LocationServiceImpl.Thread&quot;, Process.THREAD_PRIORITY_BACKGROUND);\n        }\n        mHandlerThread.start();\n        // An Android service handler is a handler running on a specific background thread.\n        mServiceHandler = new ServiceHandler(mHandlerThread.getLooper());\n\n        mResolver = ResourceResolver.newInstance(this);\n\n        mSyncAccount = AccountHelper.CreateSyncAccount(this, mResolver.getAccountName(),\n                mResolver.getAccountType());\n\n        String authority = mResolver.getAuthority();\n        ContentResolver.setIsSyncable(mSyncAccount, authority, 1);\n        ContentResolver.setSyncAutomatically(mSyncAccount, authority, true);\n\n        mLocationDAO = DAOFactory.createLocationDAO(this);\n\n        mPostLocationTask = new PostLocationTask(mLocationDAO,\n                new PostLocationTask.PostLocationTaskListener() {\n                    @Override\n                    public void onRequestedAbortUpdates() {\n                        handleRequestedAbortUpdates();\n                    }\n\n                    @Override\n                    public void onHttpAuthorizationUpdates() {\n                        handleHttpAuthorizationUpdates();\n                    }\n\n                    @Override\n                    public void onSyncRequested() {\n                        SyncService.sync(mSyncAccount, mResolver.getAuthority(), false);\n                    }\n                }, new ConnectivityListener() {\n            @Override\n            public boolean hasConnectivity() {\n                return isNetworkAvailable();\n            }\n        });\n\n        registerReceiver(connectivityChangeReceiver, new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));\n        NotificationHelper.registerServiceChannel(this);\n    }\n\n    @Override\n    public void onDestroy() {\n        logger.info(&quot;Destroying LocationServiceImpl&quot;);\n\n        // workaround for issue #276\n        if (mProvider != null) {\n            mProvider.onDestroy();\n        }\n\n        if (mHandlerThread != null) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR2) {\n                mHandlerThread.quitSafely();\n            } else {\n                mHandlerThread.quit(); //sorry\n            }\n        }\n\n        if (mPostLocationTask != null) {\n            mPostLocationTask.shutdown();\n        }\n\n\n        unregisterReceiver(connectivityChangeReceiver);\n\n        sIsRunning = false;\n        super.onDestroy();\n    }\n\n    @Override\n    public void onTaskRemoved(Intent rootIntent) {\n        logger.debug(&quot;Task has been removed&quot;);\n        // workaround for issue #276\n        Config config = getConfig();\n        if (config.getStopOnTerminate()) {\n            logger.info(&quot;Stopping self&quot;);\n            stopSelf();\n        } else {\n            logger.info(&quot;Continue running in background&quot;);\n        }\n        super.onTaskRemoved(rootIntent);\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        if (intent == null) {\n            // when service was killed and restarted we will restart service\n            start();\n            return START_STICKY;\n        }\n\n        boolean containsCommand = containsCommand(intent);\n        logger.debug(\n                String.format(&quot;Service in [%s] state. cmdId: [%s]. startId: [%d]&quot;,\n                        sIsRunning ? &quot;STARTED&quot; : &quot;NOT STARTED&quot;,\n                        containsCommand ? getCommand(intent).getId() : &quot;N/A&quot;,\n                        startId)\n        );\n\n        if (containsCommand) {\n            LocationServiceIntentBuilder.Command cmd = getCommand(intent);\n            processCommand(cmd.getId(), cmd.getArgument());\n        } else {\n            // Could be a BOOT-event, or the OS just randomly restarted the service...\n            startForegroundService();\n        }\n\n        if (containsMessage(intent)) {\n            processMessage(getMessage(intent));\n        }\n\n        return START_STICKY;\n    }\n\n    private void processMessage(String message) {\n        // currently we do not process any message\n    }\n\n    private void processCommand(int command, Object arg) {\n        try {\n            switch (command) {\n                case CommandId.START:\n                    start();\n                    break;\n                case CommandId.START_FOREGROUND_SERVICE:\n                    startForegroundService();\n                    break;\n                case CommandId.STOP:\n                    stop();\n                    break;\n                case CommandId.CONFIGURE:\n                    configure((Config) arg);\n                    break;\n                case CommandId.STOP_FOREGROUND:\n                    stopForeground();\n                    break;\n                case CommandId.START_FOREGROUND:\n                    startForeground();\n                    break;\n                case CommandId.REGISTER_HEADLESS_TASK:\n                    registerHeadlessTask((String) arg);\n                    break;\n                case CommandId.START_HEADLESS_TASK:\n                    startHeadlessTask();\n                    break;\n                case CommandId.STOP_HEADLESS_TASK:\n                    stopHeadlessTask();\n                    break;\n            }\n        } catch (Exception e) {\n            logger.error(&quot;processCommand: exception&quot;, e);\n        }\n    }\n\n    @Override\n    public synchronized void start() {\n        if (sIsRunning) {\n            return;\n        }\n\n        if (mConfig == null) {\n            logger.warn(&quot;Attempt to start unconfigured service. Will use stored or default.&quot;);\n            mConfig = getConfig();\n            // TODO: throw JSONException if config cannot be obtained from db\n        }\n\n        logger.debug(&quot;Will start service with: {}&quot;, mConfig.toString());\n\n        mPostLocationTask.setConfig(mConfig);\n        mPostLocationTask.clearQueue();\n\n        LocationProviderFactory spf = sLocationProviderFactory != null\n                ? sLocationProviderFactory : new LocationProviderFactory(this);\n        mProvider = spf.getInstance(mConfig.getLocationProvider());\n        mProvider.setDelegate(this);\n        mProvider.onCreate();\n        mProvider.onConfigure(mConfig);\n\n        sIsRunning = true;\n        ThreadUtils.runOnUiThreadBlocking(new Runnable() {\n            @Override\n            public void run() {\n                mProvider.onStart();\n                if (mConfig.getStartForeground()) {\n                    startForeground();\n                }\n            }\n        });\n\n        Bundle bundle = new Bundle();\n        bundle.putInt(&quot;action&quot;, MSG_ON_SERVICE_STARTED);\n        bundle.putLong(&quot;serviceId&quot;, mServiceId);\n        broadcastMessage(bundle);\n    }\n\n    @Override\n    public synchronized void startForegroundService() {\n        start();\n        startForeground();\n    }\n\n    @Override\n    public synchronized void stop() {\n        if (!sIsRunning) {\n            return;\n        }\n\n        if (mProvider != null) {\n            mProvider.onStop();\n        }\n\n        stopForeground(true);\n        stopSelf();\n\n        broadcastMessage(MSG_ON_SERVICE_STOPPED);\n        sIsRunning = false;\n    }\n\n    @Override\n    public void startForeground() {\n        if (sIsRunning &amp;&amp; !mIsInForeground) {\n            Config config = getConfig();\n            Notification notification = new NotificationHelper.NotificationFactory(this).getNotification(\n                    config.getNotificationTitle(),\n                    config.getNotificationText(),\n                    config.getLargeNotificationIcon(),\n                    config.getSmallNotificationIcon(),\n                    config.getNotificationIconColor());\n\n            if (mProvider != null) {\n                mProvider.onCommand(LocationProvider.CMD_SWITCH_MODE,\n                        LocationProvider.FOREGROUND_MODE);\n            }\n            super.startForeground(NOTIFICATION_ID, notification);\n            mIsInForeground = true;\n        }\n    }\n\n    @Override\n    public synchronized void stopForeground() {\n        if (sIsRunning &amp;&amp; mIsInForeground) {\n            stopForeground(true);\n            if (mProvider != null) {\n                mProvider.onCommand(LocationProvider.CMD_SWITCH_MODE,\n                        LocationProvider.BACKGROUND_MODE);\n            }\n            mIsInForeground = false;\n        }\n    }\n\n    @Override\n    public synchronized void configure(Config config) {\n        if (mConfig == null) {\n            mConfig = config;\n            return;\n        }\n\n        final Config currentConfig = mConfig;\n        mConfig = config;\n\n        mPostLocationTask.setConfig(mConfig);\n\n        ThreadUtils.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                if (sIsRunning) {\n                    if (currentConfig.getStartForeground() == true &amp;&amp; mConfig.getStartForeground() == false) {\n                        stopForeground(true);\n                    }\n\n                    if (mConfig.getStartForeground() == true) {\n                        if (currentConfig.getStartForeground() == false) {\n                            // was not running in foreground, so start in foreground\n                            startForeground();\n                        } else {\n                            // was running in foreground, so just update existing notification\n                            Notification notification = new NotificationHelper.NotificationFactory(LocationServiceImpl.this).getNotification(\n                                    mConfig.getNotificationTitle(),\n                                    mConfig.getNotificationText(),\n                                    mConfig.getLargeNotificationIcon(),\n                                    mConfig.getSmallNotificationIcon(),\n                                    mConfig.getNotificationIconColor());\n\n                            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n                            notificationManager.notify(NOTIFICATION_ID, notification);\n                        }\n                    }\n                }\n\n                if (currentConfig.getLocationProvider() != mConfig.getLocationProvider()) {\n                    boolean shouldStart = mProvider.isStarted();\n                    mProvider.onDestroy();\n                    LocationProviderFactory spf = new LocationProviderFactory(LocationServiceImpl.this);\n                    mProvider = spf.getInstance(mConfig.getLocationProvider());\n                    mProvider.setDelegate(LocationServiceImpl.this);\n                    mProvider.onCreate();\n                    mProvider.onConfigure(mConfig);\n                    if (shouldStart) {\n                        mProvider.onStart();\n                    }\n                } else {\n                    mProvider.onConfigure(mConfig);\n                }\n            }\n        });\n    }\n\n    @Override\n    public synchronized void registerHeadlessTask(String taskRunnerClass) {\n        logger.debug(&quot;Registering headless task&quot;);\n        mHeadlessTaskRunnerClass = taskRunnerClass;\n    }\n\n    @Override\n    public synchronized void startHeadlessTask() {\n        if (mHeadlessTaskRunnerClass != null) {\n            TaskRunnerFactory trf = new TaskRunnerFactory();\n            try {\n                mHeadlessTaskRunner = trf.getTaskRunner(mHeadlessTaskRunnerClass);\n                ((AbstractTaskRunner) mHeadlessTaskRunner).setContext(this);\n            } catch (Exception e) {\n                logger.error(&quot;Headless task start failed: {}&quot;, e.getMessage());\n            }\n        }\n    }\n\n    @Override\n    public synchronized void stopHeadlessTask() {\n        mHeadlessTaskRunner = null;\n    }\n\n    @Override\n    public synchronized void executeProviderCommand(final int command, final int arg1) {\n        if (mProvider == null) {\n            return;\n        }\n\n        ThreadUtils.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                mProvider.onCommand(command, arg1);\n            }\n        });\n    }\n\n    @Override\n    public void onLocation(BackgroundLocation location) {\n        logger.debug(&quot;New location {}&quot;, location.toString());\n\n        location = transformLocation(location);\n        if (location == null) {\n            logger.debug(&quot;Skipping location as requested by the locationTransform&quot;);\n            return;\n        }\n\n        Bundle bundle = new Bundle();\n        bundle.putInt(&quot;action&quot;, MSG_ON_LOCATION);\n        bundle.putParcelable(&quot;payload&quot;, location);\n        broadcastMessage(bundle);\n\n        runHeadlessTask(new LocationTask(location) {\n            @Override\n            public void onError(String errorMessage) {\n                logger.error(&quot;Location task error: {}&quot;, errorMessage);\n            }\n\n            @Override\n            public void onResult(String value) {\n                logger.debug(&quot;Location task result: {}&quot;, value);\n            }\n        });\n\n        postLocation(location);\n    }\n\n    @Override\n    public void onStationary(BackgroundLocation location) {\n        logger.debug(&quot;New stationary {}&quot;, location.toString());\n\n        location = transformLocation(location);\n        if (location == null) {\n            logger.debug(&quot;Skipping location as requested by the locationTransform&quot;);\n            return;\n        }\n\n        Bundle bundle = new Bundle();\n        bundle.putInt(&quot;action&quot;, MSG_ON_STATIONARY);\n        bundle.putParcelable(&quot;payload&quot;, location);\n        broadcastMessage(bundle);\n\n        runHeadlessTask(new StationaryTask(location){\n            @Override\n            public void onError(String errorMessage) {\n                logger.error(&quot;Stationary task error: {}&quot;, errorMessage);\n            }\n\n            @Override\n            public void onResult(String value) {\n                logger.debug(&quot;Stationary task result: {}&quot;, value);\n            }\n        });\n\n        postLocation(location);\n    }\n\n    @Override\n    public void onActivity(BackgroundActivity activity) {\n        logger.debug(&quot;New activity {}&quot;, activity.toString());\n\n        Bundle bundle = new Bundle();\n        bundle.putInt(&quot;action&quot;, MSG_ON_ACTIVITY);\n        bundle.putParcelable(&quot;payload&quot;, activity);\n        broadcastMessage(bundle);\n\n        runHeadlessTask(new ActivityTask(activity){\n            @Override\n            public void onError(String errorMessage) {\n                logger.error(&quot;Activity task error: {}&quot;, errorMessage);\n            }\n\n            @Override\n            public void onResult(String value) {\n                logger.debug(&quot;Activity task result: {}&quot;, value);\n            }\n        });\n    }\n\n    @Override\n    public void onError(PluginException error) {\n        Bundle bundle = new Bundle();\n        bundle.putInt(&quot;action&quot;, MSG_ON_ERROR);\n        bundle.putBundle(&quot;payload&quot;, error.toBundle());\n        broadcastMessage(bundle);\n    }\n\n    private void broadcastMessage(int msgId) {\n        Bundle bundle = new Bundle();\n        bundle.putInt(&quot;action&quot;, msgId);\n        broadcastMessage(bundle);\n    }\n\n    private void broadcastMessage(Bundle bundle) {\n        Intent intent = new Intent(ACTION_BROADCAST);\n        intent.putExtras(bundle);\n        LocalBroadcastManager.getInstance(getApplicationContext()).sendBroadcast(intent);\n    }\n\n    @Override\n    public Intent registerReceiver(BroadcastReceiver receiver, IntentFilter filter) {\n        return super.registerReceiver(receiver, filter, null, mServiceHandler);\n    }\n\n    @Override\n    public void unregisterReceiver(BroadcastReceiver receiver) {\n        try {\n            super.unregisterReceiver(receiver);\n        } catch (IllegalArgumentException ex) {\n            // if was not registered ignore exception\n        }\n    }\n\n    public Config getConfig() {\n        Config config = mConfig;\n        if (config == null) {\n            ConfigurationDAO dao = DAOFactory.createConfigurationDAO(this);\n            try {\n                config = dao.retrieveConfiguration();\n            } catch (JSONException e) {\n                logger.error(&quot;Config exception: {}&quot;, e.getMessage());\n            }\n        }\n\n        if (config == null) {\n            config = Config.getDefault();\n        }\n\n        mConfig = config;\n        return mConfig;\n    }\n\n    public static void setLocationProviderFactory(LocationProviderFactory factory) {\n        sLocationProviderFactory = factory;\n    }\n\n    private void runHeadlessTask(Task task) {\n        if (mHeadlessTaskRunner == null) {\n            return;\n        }\n\n        logger.debug(&quot;Running headless task: {}&quot;, task);\n        mHeadlessTaskRunner.runTask(task);\n    }\n\n    /**\n     * Class used for the client Binder.  Since this service runs in the same process as its\n     * clients, we don't need to deal with IPC.\n     */\n    public class LocalBinder extends Binder {\n        public LocationServiceImpl getService() {\n            return LocationServiceImpl.this;\n        }\n    }\n\n    private BackgroundLocation transformLocation(BackgroundLocation location) {\n        if (sLocationTransform != null) {\n            return sLocationTransform.transformLocationBeforeCommit(this, location);\n        }\n\n        return location;\n    }\n\n    private void postLocation(BackgroundLocation location) {\n        mPostLocationTask.add(location);\n    }\n\n    public void handleRequestedAbortUpdates() {\n        broadcastMessage(MSG_ON_ABORT_REQUESTED);\n    }\n\n    public void handleHttpAuthorizationUpdates() {\n        broadcastMessage(MSG_ON_HTTP_AUTHORIZATION);\n    }\n\n    /**\n     * Broadcast receiver which detects connectivity change condition\n     */\n    private BroadcastReceiver connectivityChangeReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            boolean hasConnectivity = isNetworkAvailable();\n            mPostLocationTask.setHasConnectivity(hasConnectivity);\n            logger.info(&quot;Network condition changed has connectivity: {}&quot;, hasConnectivity);\n        }\n    };\n\n    private boolean isNetworkAvailable() {\n        ConnectivityManager cm =\n                (ConnectivityManager) this.getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n        return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting();\n    }\n\n    public long getServiceId() {\n        return mServiceId;\n    }\n\n    public boolean isBound() {\n        LocationServiceInfo info = new LocationServiceInfoImpl(this);\n        return info.isBound();\n    }\n\n    public static boolean isRunning() {\n        return sIsRunning;\n    }\n\n    public static void setLocationTransform(@Nullable LocationTransform transform) {\n        sLocationTransform = transform;\n    }\n\n    public static @Nullable LocationTransform getLocationTransform() {\n        return sLocationTransform;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jpa","persistence"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1486589778,"post_id":42124030,"comment_id":71416235,"body_markdown":"It depends on how did you mapped details... just simply `.remove(...)` them is not always delete rows in the DB","body":"It depends on how did you mapped details... just simply <code>.remove(...)</code> them is not always delete rows in the DB"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1486590320,"post_id":42124030,"comment_id":71416501,"body_markdown":"So you have to provide your entities with annotations","body":"So you have to provide your entities with annotations"},{"owner":{"account_id":23591,"reputation":11260,"user_id":59202,"accept_rate":86,"display_name":"cbmeeks"},"score":0,"creation_date":1486590652,"post_id":42124030,"comment_id":71416663,"body_markdown":"Not sure why I&#39;m getting the close votes?  Anyway...  @Andremoniy yes, I have annotated my entities with Cascade all.  I will update the question with that info.","body":"Not sure why I&#39;m getting the close votes?  Anyway...  @Andremoniy yes, I have annotated my entities with Cascade all.  I will update the question with that info."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1486591963,"post_id":42124030,"comment_id":71417309,"body_markdown":"It was me, I&#39;ve reatracted my vote","body":"It was me, I&#39;ve reatracted my vote"},{"owner":{"account_id":23591,"reputation":11260,"user_id":59202,"accept_rate":86,"display_name":"cbmeeks"},"score":1,"creation_date":1486666445,"post_id":42124030,"comment_id":71455554,"body_markdown":"I didn&#39;t realize that the inserts always happened before deletes even if you perform the delete first.  Flushing the EM between each process did the trick.","body":"I didn&#39;t realize that the inserts always happened before deletes even if you perform the delete first.  Flushing the EM between each process did the trick."}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486592646,"creation_date":1486592646,"answer_id":42124777,"question_id":42124030,"body_markdown":"First of all, just performing `header.getDetails().remove(detail);` do not perform any kind of operations on DB. I suppose that in `headerService.save(header);` you invoke something like `session.saveOrUpdate(header)`.\r\n\r\nBasically it is some kind of logical collision, because Hibernate needs to delete and create entities with duplicate keys in one operation, but **it doesn&#39;t know order** in which these operations should be performed.\r\n\r\nI would suggest at least invoke `headerService.save(header);` **before** adding new details, i.e. like this:\r\n\r\n        // Remove the details\r\n        for(Detail detail : header.getDetails()) {\r\n            header.getDetails().remove(detail);\r\n        }\r\n    \r\n        headerService.save(header);\r\n    \r\n        // Iterate through list of ID&#39;s and create Detail with other objects\r\n        for(Integer id : customerIDs) {\r\n            // ....\r\n        }\r\n    \r\n        headerService.save(header);\r\n\r\nin order to tell to Hibernate: yes, delete this entities, which I have removed from collection, and after that add new entites.","title":"Delete then create records are causing a duplicate key violation with Spring Data JPA","body":"<p>First of all, just performing <code>header.getDetails().remove(detail);</code> do not perform any kind of operations on DB. I suppose that in <code>headerService.save(header);</code> you invoke something like <code>session.saveOrUpdate(header)</code>.</p>\n\n<p>Basically it is some kind of logical collision, because Hibernate needs to delete and create entities with duplicate keys in one operation, but <strong>it doesn't know order</strong> in which these operations should be performed.</p>\n\n<p>I would suggest at least invoke <code>headerService.save(header);</code> <strong>before</strong> adding new details, i.e. like this:</p>\n\n<pre><code>    // Remove the details\n    for(Detail detail : header.getDetails()) {\n        header.getDetails().remove(detail);\n    }\n\n    headerService.save(header);\n\n    // Iterate through list of ID's and create Detail with other objects\n    for(Integer id : customerIDs) {\n        // ....\n    }\n\n    headerService.save(header);\n</code></pre>\n\n<p>in order to tell to Hibernate: yes, delete this entities, which I have removed from collection, and after that add new entites.</p>\n"},{"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":9,"creation_date":1553173558,"post_id":42125507,"comment_id":97291969,"body_markdown":"*&quot;Both Hibernate and EclipseLink will insert new entities first, and then delete existing entities&quot;* was key for me, flushing between a `DELETE` and `INSERT` helped (y).","body":"<i>&quot;Both Hibernate and EclipseLink will insert new entities first, and then delete existing entities&quot;</i> was key for me, flushing between a <code>DELETE</code> and <code>INSERT</code> helped (y)."},{"owner":{"account_id":2761573,"reputation":195,"user_id":2378369,"display_name":"amisiuryk"},"score":0,"creation_date":1649701421,"post_id":42125507,"comment_id":126938124,"body_markdown":"Good explanation but without a details.\nOfficial explanation is mentioned only in docs for [AbstractFlushingEventListener](https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/event/def/AbstractFlushingEventListener.html#performExecutions%28org.hibernate.event.EventSource%29)\nFound more info in this [post] (https://stackoverflow.com/questions/12616336/how-is-hibernate-deciding-order-of-update-insert-delete)\nAnd deeper discussion [here](https://discourse.hibernate.org/t/about-the-order-of-sql-execution-when-flushing-to-the-database/1425)","body":"Good explanation but without a details. Official explanation is mentioned only in docs for <a href=\"https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/event/def/AbstractFlushingEventListener.html#performExecutions%28org.hibernate.event.EventSource%29\" rel=\"nofollow noreferrer\">AbstractFlushingEventListener</a> Found more info in this [post] (<a href=\"https://stackoverflow.com/questions/12616336/how-is-hibernate-deciding-order-of-update-insert-delete\" title=\"how is hibernate deciding order of update insert delete\">stackoverflow.com/questions/12616336/&hellip;</a>) And deeper discussion <a href=\"https://discourse.hibernate.org/t/about-the-order-of-sql-execution-when-flushing-to-the-database/1425\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":2761573,"reputation":195,"user_id":2378369,"display_name":"amisiuryk"},"score":0,"creation_date":1649701589,"post_id":42125507,"comment_id":126938163,"body_markdown":"And instead of manual flushing _UPDATE_ can be used. Since delete and then insert  it means to update but map all fields properly.","body":"And instead of manual flushing <i>UPDATE</i> can be used. Since delete and then insert  it means to update but map all fields properly."},{"owner":{"account_id":446482,"reputation":8211,"user_id":839554,"accept_rate":79,"display_name":"giannis christofakis"},"score":0,"creation_date":1653230294,"post_id":42125507,"comment_id":127795394,"body_markdown":"@luk2302 Does flush lets the transaction to be done properly? Aren&#39;t any drawbacks regarding flush?","body":"@luk2302 Does flush lets the transaction to be done properly? Aren&#39;t any drawbacks regarding flush?"},{"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"score":1,"creation_date":1655969728,"post_id":42125507,"comment_id":128459117,"body_markdown":"Flush determines when the database sees the im-memory changes in the persistence context. The cost is the JPA has to calculate the updates for any managed entity which is out-of-sync with the DB, so comparing all modified entities to the state they had when loaded or last flushed. Normally you only need to care about automatic flushing when you are trying to optimize batch insert/update, the trick is not to interleave queries and modifications. Flushing is not related to DB transactions in any way.","body":"Flush determines when the database sees the im-memory changes in the persistence context. The cost is the JPA has to calculate the updates for any managed entity which is out-of-sync with the DB, so comparing all modified entities to the state they had when loaded or last flushed. Normally you only need to care about automatic flushing when you are trying to optimize batch insert/update, the trick is not to interleave queries and modifications. Flushing is not related to DB transactions in any way."}],"tags":[],"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"comment_count":5,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1486596280,"creation_date":1486596280,"answer_id":42125507,"question_id":42124030,"body_markdown":"Hold on to your hat, as this is a rather long explanation, but when I look at your code, it looks like you are missing a couple of key concepts about how JPA works.\r\n\r\nFirst, adding Entities to a collection or removing entities from a collection  does not mean that that the same operation will occur in the database, unless a persistence operation is propagated using cascadeding or orphanRemoval.\r\n\r\nFor an entity to be added to the database, you must call `EntityManager.persist()` either directly, or through cascading persist. This is basically what happens inside `JPARepository.save()`\r\n\r\nIf you wish to remove an entity, you must call `EntityManager.remove()` directly or by cascading the operation, or through `JpaRepository.delete()`.\r\n\r\nIf you have a managed entity (one that is loaded into a persistence context), and you modify a basic field (non-entity, non-collection) inside a transaction, then this change is written to the database when the transaction commits, even if you did not call `persist/save`. The persistence context keeps a internal copy of every loaded entity, and when a transaction commits it loops through the internal copies and compares to the current state, and any basic filed changes triggers an update query. \r\n\r\nIf you have added a new Entity (A) to a collection on another entity (B), but have not called persist on A then A will not be saved to the database. If you call persist on B one of two things will happen, if the persist operation is cascaded, A will also be saved to the database. If persist is not cascaded you will get an error, because a managed entity refers to an unmanaged entity, which give this error on EclipseLink: &quot;During synchronization a new object was found through a relationship that was not marked cascade PERSIST&quot;. Cascade persist makes sense because you often create a parent entity and it&#39;s children at the same time.\r\n\r\nWhen you want to remove an Entity A from a collection on another Entity B, you can&#39;t rely on cascading, since you are not removing B. Instead you have to call remove on A directly, removing it from the collection on B does not have any effect, as no persistence operation has been called on the EntityManager. You can also use orphanRemoval to trigger delete, but I would advise you to be careful when using this feature, especially since you seem to be missing some basic knowledge about how persistence operations work. \r\n\r\nNormally it helps to think about the persistence operation, and which entity it must be applied to. Here is how the code would have looked if I had written it.\r\n\r\n    @Transactional\r\n    public void create(Integer id, List&lt;Integer&gt; customerIDs) {\r\n\r\n        Header header = headerService.findOne(id);\r\n        // header is found, has multiple details\r\n\r\n        // Remove the details\r\n        for(Detail detail : header.getDetails()) {\r\n            em.remove(detail);\r\n        }\r\n\r\n        // em.flush(); // In some case you need to flush, see comments below\r\n\r\n        // Iterate through list of ID&#39;s and create Detail with other objects\r\n        for(Integer id : customerIDs) {\r\n            Customer customer = customerService.findOne(id);\r\n\r\n            Detail detail = new Detail();\r\n            detail.setCustomer(customer);\r\n            detail.setHeader(header);  // did this happen inside you service?\r\n            em.persist(detail);\r\n        }\r\n    }\r\n\r\nFirst there is no reason to persist the Header, it is a managed entity and any basic field you modify will be change when the transaction commits. Header happens to be the foreign key for the Details entity, which means the important thing is `detail.setHeader(header);` and `em.persist(details)`, since you must set all foreign relations, and persist any new `Details`.\r\nLikewise, removing existing details from a Header, has nothing to do with the Header, the defining relation (foreign key) is in Details, so removing details from the persistence context is what removes it from the database. You can also use orphanRemoval, but this require additional logic for each transaction, and In my opinion the code is easier to read if each peristence operation is explicit, that way you don&#39;t need to go back to the entity to read the annotations.\r\n\r\nFinally: The sequence of persistence operation in your code, does not transalte to the order of queries executed against the database. Both Hibernate and EclipseLink will insert new entities first, and then delete existing entities. In my experience this is the most common reason for &quot;Primary key already exist&quot;. If you remove an entity with a specific primary key, and then add a new entity with the same primary key, then the insert will occur first, and cause a key violation. This can be fixed by telling JPA to flush the current Persistence state to the database. `em.flush()` will push the delete queries to the database, so you can insert another row with the same primary key as one you have deleted.\r\n\r\nThat was a lot of information, please let me know if there was anything you did not understand, or need me to clarify. ","title":"Delete then create records are causing a duplicate key violation with Spring Data JPA","body":"<p>Hold on to your hat, as this is a rather long explanation, but when I look at your code, it looks like you are missing a couple of key concepts about how JPA works.</p>\n\n<p>First, adding Entities to a collection or removing entities from a collection  does not mean that that the same operation will occur in the database, unless a persistence operation is propagated using cascadeding or orphanRemoval.</p>\n\n<p>For an entity to be added to the database, you must call <code>EntityManager.persist()</code> either directly, or through cascading persist. This is basically what happens inside <code>JPARepository.save()</code></p>\n\n<p>If you wish to remove an entity, you must call <code>EntityManager.remove()</code> directly or by cascading the operation, or through <code>JpaRepository.delete()</code>.</p>\n\n<p>If you have a managed entity (one that is loaded into a persistence context), and you modify a basic field (non-entity, non-collection) inside a transaction, then this change is written to the database when the transaction commits, even if you did not call <code>persist/save</code>. The persistence context keeps a internal copy of every loaded entity, and when a transaction commits it loops through the internal copies and compares to the current state, and any basic filed changes triggers an update query. </p>\n\n<p>If you have added a new Entity (A) to a collection on another entity (B), but have not called persist on A then A will not be saved to the database. If you call persist on B one of two things will happen, if the persist operation is cascaded, A will also be saved to the database. If persist is not cascaded you will get an error, because a managed entity refers to an unmanaged entity, which give this error on EclipseLink: \"During synchronization a new object was found through a relationship that was not marked cascade PERSIST\". Cascade persist makes sense because you often create a parent entity and it's children at the same time.</p>\n\n<p>When you want to remove an Entity A from a collection on another Entity B, you can't rely on cascading, since you are not removing B. Instead you have to call remove on A directly, removing it from the collection on B does not have any effect, as no persistence operation has been called on the EntityManager. You can also use orphanRemoval to trigger delete, but I would advise you to be careful when using this feature, especially since you seem to be missing some basic knowledge about how persistence operations work. </p>\n\n<p>Normally it helps to think about the persistence operation, and which entity it must be applied to. Here is how the code would have looked if I had written it.</p>\n\n<pre><code>@Transactional\npublic void create(Integer id, List&lt;Integer&gt; customerIDs) {\n\n    Header header = headerService.findOne(id);\n    // header is found, has multiple details\n\n    // Remove the details\n    for(Detail detail : header.getDetails()) {\n        em.remove(detail);\n    }\n\n    // em.flush(); // In some case you need to flush, see comments below\n\n    // Iterate through list of ID's and create Detail with other objects\n    for(Integer id : customerIDs) {\n        Customer customer = customerService.findOne(id);\n\n        Detail detail = new Detail();\n        detail.setCustomer(customer);\n        detail.setHeader(header);  // did this happen inside you service?\n        em.persist(detail);\n    }\n}\n</code></pre>\n\n<p>First there is no reason to persist the Header, it is a managed entity and any basic field you modify will be change when the transaction commits. Header happens to be the foreign key for the Details entity, which means the important thing is <code>detail.setHeader(header);</code> and <code>em.persist(details)</code>, since you must set all foreign relations, and persist any new <code>Details</code>.\nLikewise, removing existing details from a Header, has nothing to do with the Header, the defining relation (foreign key) is in Details, so removing details from the persistence context is what removes it from the database. You can also use orphanRemoval, but this require additional logic for each transaction, and In my opinion the code is easier to read if each peristence operation is explicit, that way you don't need to go back to the entity to read the annotations.</p>\n\n<p>Finally: The sequence of persistence operation in your code, does not transalte to the order of queries executed against the database. Both Hibernate and EclipseLink will insert new entities first, and then delete existing entities. In my experience this is the most common reason for \"Primary key already exist\". If you remove an entity with a specific primary key, and then add a new entity with the same primary key, then the insert will occur first, and cause a key violation. This can be fixed by telling JPA to flush the current Persistence state to the database. <code>em.flush()</code> will push the delete queries to the database, so you can insert another row with the same primary key as one you have deleted.</p>\n\n<p>That was a lot of information, please let me know if there was anything you did not understand, or need me to clarify. </p>\n"},{"comments":[{"owner":{"account_id":3803727,"reputation":323,"user_id":3156671,"display_name":"Mick Belker - Pseudonym"},"score":5,"creation_date":1589366445,"post_id":57704378,"comment_id":109262952,"body_markdown":"Unfortunately this is the only way it works. Should run out-of-the-box for CrudRepository. We do not re-create having same primary key, but have a unique constraint on some columns. Inserting with same unique constraint values immediately after deleting an existing one need the same workaround. @Martin: Thanks a lot for the workaround.","body":"Unfortunately this is the only way it works. Should run out-of-the-box for CrudRepository. We do not re-create having same primary key, but have a unique constraint on some columns. Inserting with same unique constraint values immediately after deleting an existing one need the same workaround. @Martin: Thanks a lot for the workaround."},{"owner":{"account_id":3506066,"reputation":235,"user_id":2931585,"display_name":"oOXAam"},"score":0,"creation_date":1608532548,"post_id":57704378,"comment_id":115602993,"body_markdown":"thanks to @martin... I was also struggling and this solution worked for me. But what&#39;s the reason, why it works in this manner correctly.","body":"thanks to @martin... I was also struggling and this solution worked for me. But what&#39;s the reason, why it works in this manner correctly."},{"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"score":1,"creation_date":1628629204,"post_id":57704378,"comment_id":121471432,"body_markdown":"Ok people the catch here is, @Query is important if you do not write it, then it will not work with the only &quot;MODIFYING&quot;. This is surely a bug. I have also seen a thread in GitHub on this","body":"Ok people the catch here is, @Query is important if you do not write it, then it will not work with the only &quot;MODIFYING&quot;. This is surely a bug. I have also seen a thread in GitHub on this"},{"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"score":1,"creation_date":1655970050,"post_id":57704378,"comment_id":128459219,"body_markdown":"When you use the deleteByX methods in Spring&#39;s JpaRepository, the persistence context is kept in-sync with the database. This means that JPA will first load the entity into memory and the call EntityManager::remove, which will also trigger any cascade on delete operations defined by JPA. When you use an explicit @Query, the behavior is different, as this is purely a database operation, and per the JPA spec, the in.-memory persistence context is not updated.","body":"When you use the deleteByX methods in Spring&#39;s JpaRepository, the persistence context is kept in-sync with the database. This means that JPA will first load the entity into memory and the call EntityManager::remove, which will also trigger any cascade on delete operations defined by JPA. When you use an explicit @Query, the behavior is different, as this is purely a database operation, and per the JPA spec, the in.-memory persistence context is not updated."}],"tags":[],"owner":{"account_id":4497262,"reputation":961,"user_id":3656774,"display_name":"Martin van Wingerden"},"comment_count":4,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1567079315,"creation_date":1567060784,"answer_id":57704378,"question_id":42124030,"body_markdown":"The cause is described by @klaus-groenbaek but I noticed something funny while working around it.\r\n\r\nWhile using the Spring `JpaRepository` I was not able to get this to work when using a derived method. \r\n\r\nSo the following does NOT work:\r\n\r\n```java\r\nvoid deleteByChannelId(Long channelId);\r\n```\r\n\r\nBut specifying an explicit (`Modifying`) `Query` makes it work correctly, so the following works:\r\n\r\n```java\r\n@Modifying\r\n@Query(&quot;delete from ClientConfigValue v where v.channelId = :channelId&quot;)\r\nvoid deleteByChannelId(@Param(&quot;channelId&quot;) Long channelId);\r\n```\r\n\r\nIn this case the statements are committed / persisted in the correct order.","title":"Delete then create records are causing a duplicate key violation with Spring Data JPA","body":"<p>The cause is described by @klaus-groenbaek but I noticed something funny while working around it.</p>\n\n<p>While using the Spring <code>JpaRepository</code> I was not able to get this to work when using a derived method. </p>\n\n<p>So the following does NOT work:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>void deleteByChannelId(Long channelId);\n</code></pre>\n\n<p>But specifying an explicit (<code>Modifying</code>) <code>Query</code> makes it work correctly, so the following works:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Modifying\n@Query(\"delete from ClientConfigValue v where v.channelId = :channelId\")\nvoid deleteByChannelId(@Param(\"channelId\") Long channelId);\n</code></pre>\n\n<p>In this case the statements are committed / persisted in the correct order.</p>\n"},{"tags":[],"owner":{"account_id":19878904,"reputation":186,"user_id":14563324,"display_name":"hitesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684486690,"creation_date":1684486690,"answer_id":76287538,"question_id":42124030,"body_markdown":"Probably em.flush() do the trick.\r\n\r\nso the code could be: \r\n\r\n```\r\n@Transactional\r\npublic void create(Integer id, List&lt;Integer&gt; customerIDs) {\r\n\r\n    Header header = headerService.findOne(id);\r\n\r\n    // Remove the details\r\n    detailRepository.delete(header.getDetails());       // Does not work\r\n\r\n    // I&#39;ve also tried this:\r\n    for(Detail detail : header.getDetails()) {\r\n        detailRepository.delete(detail);\r\n    }\r\n    detailRepository.flush();\r\n\r\n\r\n    // Iterate through list of ID&#39;s and create Detail with other objects\r\n    for(Integer id : customerIDs) {\r\n        Customer customer = customerService.findOne(id);\r\n\r\n        Detail detail = new Detail();\r\n        detail.setCustomer(customer);\r\n        detail.setHeader(header);\r\n\r\n        detailRepository.save(detail)\r\n    }\r\n}\r\n`","title":"Delete then create records are causing a duplicate key violation with Spring Data JPA","body":"<p>Probably em.flush() do the trick.</p>\n<p>so the code could be:</p>\n<pre><code>@Transactional\npublic void create(Integer id, List&lt;Integer&gt; customerIDs) {\n\n    Header header = headerService.findOne(id);\n\n    // Remove the details\n    detailRepository.delete(header.getDetails());       // Does not work\n\n    // I've also tried this:\n    for(Detail detail : header.getDetails()) {\n        detailRepository.delete(detail);\n    }\n    detailRepository.flush();\n\n\n    // Iterate through list of ID's and create Detail with other objects\n    for(Integer id : customerIDs) {\n        Customer customer = customerService.findOne(id);\n\n        Detail detail = new Detail();\n        detail.setCustomer(customer);\n        detail.setHeader(header);\n\n        detailRepository.save(detail)\n    }\n}\n`\n</code></pre>\n"}],"owner":{"account_id":23591,"reputation":11260,"user_id":59202,"accept_rate":86,"display_name":"cbmeeks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20053,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":42125507,"answer_count":4,"score":21,"last_activity_date":1684486690,"creation_date":1486589599,"question_id":42124030,"body_markdown":"So, I have this scenario where I need to take a header record, delete the details for it, then re-create the details in a different way.  Updating the details would be way too much trouble.\r\n\r\nI basically have:\r\n\r\n    @Transactional\r\n    public void create(Integer id, List&lt;Integer&gt; customerIDs) {\r\n\r\n        Header header = headerService.findOne(id);\r\n        // header is found, has multiple details\r\n\r\n        // Remove the details\r\n        for(Detail detail : header.getDetails()) {\r\n            header.getDetails().remove(detail);\r\n        }\r\n\r\n        // Iterate through list of ID&#39;s and create Detail with other objects\r\n        for(Integer id : customerIDs) {\r\n            Customer customer = customerService.findOne(id);\r\n            \r\n            Detail detail = new Detail();\r\n            detail.setCustomer(customer);\r\n            \r\n            header.getDetails().add(detail);\r\n        }\r\n\r\n        headerService.save(header);\r\n    }\r\n\r\nNow, the database has a constraint like the following:\r\n\r\n    Header\r\n    =================================\r\n    ID, other columns...\r\n\r\n    Detail\r\n    =================================\r\n    ID, HEADER_ID, CUSTOMER_ID\r\n\r\n    Customer\r\n    =================================\r\n    ID, other columns...\r\n\r\n    Constraint:  Details must be unique by HEADER_ID and CUSTOMER_ID so:\r\n\r\n    Detail  (VALID)\r\n    =================================\r\n    1, 123, 10\r\n    2, 123, 12\r\n\r\n    Detail  (IN-VALID)\r\n    =================================\r\n    1, 123, 10\r\n    1, 123, 10\r\n\r\n\r\nOK, when I run this and pass in 2, 3, 20, etc. customers, it creates all `Detail` records just fine as long as there weren&#39;t any before.\r\n\r\nIf I run it again, passing in a different list of customers, I expect `ALL` details to be deleted first then a list of `NEW` details to be created.\r\n\r\nBut what&#39;s happening is that the delete doesn&#39;t seem to be honored before the create.  Because the error is a duplicate key constraint.  The duplicate key is the &quot;IN-VALID&quot; scenario above.\r\n\r\nIf I manually populate the database with a bunch of details and comment out the `CREATE details` part (only run the delete) then the records are deleted just fine.  So the delete works.  The create works.  It&#39;s just that both don&#39;t work together.\r\n\r\nI can provide more code is needed.  I&#39;m using `Spring Data JPA`.\r\n\r\nThanks\r\n\r\n\r\n\r\n**UPDATE**\r\n\r\nMy entities are annotated with basically the following:\r\n\r\n    @Entity\r\n    @Table\r\n    public class Header {\r\n    ...\r\n        @OneToMany(mappedBy = &quot;header&quot;, orphanRemoval = true, cascade = {CascadeType.ALL}, fetch = FetchType.EAGER)\r\n        private Set&lt;Detail&gt; Details = new HashSet&lt;&gt;();\r\n\r\n    ...\r\n    }\r\n\r\n    @Entity\r\n    @Table\r\n    public class Detail {\r\n    ...\r\n        @ManyToOne(optional = false)\r\n        @JoinColumn(name = &quot;HEADER_ID&quot;, referencedColumnName = &quot;ID&quot;, nullable = false)\r\n        private Header header;\r\n    ...\r\n    }\r\n\r\n\r\n**UPDATE 2**\r\n\r\n@Klaus Groenbaek\r\n\r\nActually, I didn&#39;t mention this originally but I did it that way the first time.  Also, I am using Cascading.ALL which I assume includes PERSIST.\r\n\r\n\r\nJust for testing, I have updated my code to the following:\r\n\r\n\r\n    @Transactional\r\n    public void create(Integer id, List&lt;Integer&gt; customerIDs) {\r\n\r\n        Header header = headerService.findOne(id);\r\n\r\n        // Remove the details\r\n        detailRepository.delete(header.getDetails());       // Does not work\r\n\r\n        // I&#39;ve also tried this:\r\n        for(Detail detail : header.getDetails()) {\r\n            detailRepository.delete(detail);\r\n        }\r\n\r\n\r\n        // Iterate through list of ID&#39;s and create Detail with other objects\r\n        for(Integer id : customerIDs) {\r\n            Customer customer = customerService.findOne(id);\r\n            \r\n            Detail detail = new Detail();\r\n            detail.setCustomer(customer);\r\n            detail.setHeader(header);\r\n            \r\n            detailRepository.save(detail)\r\n        }\r\n    }\r\n\r\nAgain...I want to reiterate....that the delete WILL WORK if I don&#39;t have the create immediately afterwards.   The create WILL WORK if I don&#39;t have the delete immediately before it.  But neither will work if they are together because of the duplicate key constraint error from the database.\r\n\r\nI&#39;ve tried the same scenario WITH and WITHOUT cascading deletes.","title":"Delete then create records are causing a duplicate key violation with Spring Data JPA","body":"<p>So, I have this scenario where I need to take a header record, delete the details for it, then re-create the details in a different way.  Updating the details would be way too much trouble.</p>\n\n<p>I basically have:</p>\n\n<pre><code>@Transactional\npublic void create(Integer id, List&lt;Integer&gt; customerIDs) {\n\n    Header header = headerService.findOne(id);\n    // header is found, has multiple details\n\n    // Remove the details\n    for(Detail detail : header.getDetails()) {\n        header.getDetails().remove(detail);\n    }\n\n    // Iterate through list of ID's and create Detail with other objects\n    for(Integer id : customerIDs) {\n        Customer customer = customerService.findOne(id);\n\n        Detail detail = new Detail();\n        detail.setCustomer(customer);\n\n        header.getDetails().add(detail);\n    }\n\n    headerService.save(header);\n}\n</code></pre>\n\n<p>Now, the database has a constraint like the following:</p>\n\n<pre><code>Header\n=================================\nID, other columns...\n\nDetail\n=================================\nID, HEADER_ID, CUSTOMER_ID\n\nCustomer\n=================================\nID, other columns...\n\nConstraint:  Details must be unique by HEADER_ID and CUSTOMER_ID so:\n\nDetail  (VALID)\n=================================\n1, 123, 10\n2, 123, 12\n\nDetail  (IN-VALID)\n=================================\n1, 123, 10\n1, 123, 10\n</code></pre>\n\n<p>OK, when I run this and pass in 2, 3, 20, etc. customers, it creates all <code>Detail</code> records just fine as long as there weren't any before.</p>\n\n<p>If I run it again, passing in a different list of customers, I expect <code>ALL</code> details to be deleted first then a list of <code>NEW</code> details to be created.</p>\n\n<p>But what's happening is that the delete doesn't seem to be honored before the create.  Because the error is a duplicate key constraint.  The duplicate key is the \"IN-VALID\" scenario above.</p>\n\n<p>If I manually populate the database with a bunch of details and comment out the <code>CREATE details</code> part (only run the delete) then the records are deleted just fine.  So the delete works.  The create works.  It's just that both don't work together.</p>\n\n<p>I can provide more code is needed.  I'm using <code>Spring Data JPA</code>.</p>\n\n<p>Thanks</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>My entities are annotated with basically the following:</p>\n\n<pre><code>@Entity\n@Table\npublic class Header {\n...\n    @OneToMany(mappedBy = \"header\", orphanRemoval = true, cascade = {CascadeType.ALL}, fetch = FetchType.EAGER)\n    private Set&lt;Detail&gt; Details = new HashSet&lt;&gt;();\n\n...\n}\n\n@Entity\n@Table\npublic class Detail {\n...\n    @ManyToOne(optional = false)\n    @JoinColumn(name = \"HEADER_ID\", referencedColumnName = \"ID\", nullable = false)\n    private Header header;\n...\n}\n</code></pre>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>@Klaus Groenbaek</p>\n\n<p>Actually, I didn't mention this originally but I did it that way the first time.  Also, I am using Cascading.ALL which I assume includes PERSIST.</p>\n\n<p>Just for testing, I have updated my code to the following:</p>\n\n<pre><code>@Transactional\npublic void create(Integer id, List&lt;Integer&gt; customerIDs) {\n\n    Header header = headerService.findOne(id);\n\n    // Remove the details\n    detailRepository.delete(header.getDetails());       // Does not work\n\n    // I've also tried this:\n    for(Detail detail : header.getDetails()) {\n        detailRepository.delete(detail);\n    }\n\n\n    // Iterate through list of ID's and create Detail with other objects\n    for(Integer id : customerIDs) {\n        Customer customer = customerService.findOne(id);\n\n        Detail detail = new Detail();\n        detail.setCustomer(customer);\n        detail.setHeader(header);\n\n        detailRepository.save(detail)\n    }\n}\n</code></pre>\n\n<p>Again...I want to reiterate....that the delete WILL WORK if I don't have the create immediately afterwards.   The create WILL WORK if I don't have the delete immediately before it.  But neither will work if they are together because of the duplicate key constraint error from the database.</p>\n\n<p>I've tried the same scenario WITH and WITHOUT cascading deletes.</p>\n"},{"tags":["java","ip-address"],"answers":[{"tags":[],"owner":{"account_id":98668,"reputation":5734,"user_id":266956,"accept_rate":81,"display_name":"Kris"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328276053,"creation_date":1328276053,"answer_id":9129470,"question_id":9129391,"body_markdown":"I guess the [InetAddress][1] will do what you want\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/net/InetAddress.html","title":"INET_NTOA and INET_ATON in Java?","body":"<p>I guess the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/net/InetAddress.html\" rel=\"nofollow\">InetAddress</a> will do what you want</p>\n"},{"comments":[{"owner":{"account_id":1026132,"reputation":4488,"user_id":1035411,"accept_rate":94,"display_name":"Gruber"},"score":0,"creation_date":1328277020,"post_id":9129488,"comment_id":11473713,"body_markdown":"Thanks. Would be nice to have a function that takes a `long` as argument.","body":"Thanks. Would be nice to have a function that takes a <code>long</code> as argument."},{"owner":{"account_id":913338,"reputation":4944,"user_id":946679,"accept_rate":100,"display_name":"zeller"},"score":0,"creation_date":1328277508,"post_id":9129488,"comment_id":11473863,"body_markdown":"You can use [ByteBuffer](http://docs.oracle.com/javase/6/docs/api/java/nio/ByteBuffer.html). Methods: putLong() then array()","body":"You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">ByteBuffer</a>. Methods: putLong() then array()"}],"tags":[],"owner":{"account_id":1220452,"reputation":2159,"user_id":1187194,"display_name":"lxbndr"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328278444,"creation_date":1328276134,"answer_id":9129488,"question_id":9129391,"body_markdown":"[java.net.InetAddress.getByAddress(byte[])][1]\r\n\r\nNot exactly same as INET_NTOA, but very similar to.\r\n\r\nExample with long argument:\r\n\r\n    String ntoa(long raw) {\r\n        byte[] b = new byte[] {(byte)(raw &gt;&gt; 24), (byte)(raw &gt;&gt; 16), (byte)(raw &gt;&gt; 8), (byte)raw};\r\n        try {\r\n            return InetAddress.getByAddress(b).getHostAddress();\r\n        } catch (UnknownHostException e) {\r\n            //No way here\r\n            return null;\r\n        }\r\n    }\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getByAddress%28byte%5B%5D%29\r\n\r\n","title":"INET_NTOA and INET_ATON in Java?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getByAddress%28byte%5B%5D%29\" rel=\"nofollow\">java.net.InetAddress.getByAddress(byte[])</a></p>\n\n<p>Not exactly same as INET_NTOA, but very similar to.</p>\n\n<p>Example with long argument:</p>\n\n<pre><code>String ntoa(long raw) {\n    byte[] b = new byte[] {(byte)(raw &gt;&gt; 24), (byte)(raw &gt;&gt; 16), (byte)(raw &gt;&gt; 8), (byte)raw};\n    try {\n        return InetAddress.getByAddress(b).getHostAddress();\n    } catch (UnknownHostException e) {\n        //No way here\n        return null;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1026132,"reputation":4488,"user_id":1035411,"accept_rate":94,"display_name":"Gruber"},"score":0,"creation_date":1328277195,"post_id":9129547,"comment_id":11473772,"body_markdown":"Thanks, seems like a fruitful way to explore. Seems like there are no methods which do what I want right away.","body":"Thanks, seems like a fruitful way to explore. Seems like there are no methods which do what I want right away."}],"tags":[],"owner":{"account_id":913338,"reputation":4944,"user_id":946679,"accept_rate":100,"display_name":"zeller"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1328277696,"creation_date":1328276502,"answer_id":9129547,"question_id":9129391,"body_markdown":"Look at [InetAddress](http://docs.oracle.com/javase/6/docs/api/java/net/InetAddress.html) in the javadocs. These functions are not directly supported by the Standard API but you can extract both representations using this class.\r\nA small example:\r\n\r\n    \tInetAddress address = InetAddress.getLocalHost();\r\n    \tbyte[] byteAddress = address.getAddress();\r\n    \tSystem.out.println(Arrays.toString(byteAddress));\r\n    \tSystem.out.println(address.getHostAddress());\r\n\r\n(Keep in mind that bytes are signed.)\r\n\r\n\r\n----------\r\nIf you have long-s than yo can use [ByteBuffer](http://docs.oracle.com/javase/6/docs/api/java/nio/ByteBuffer.html), for fast and comfortable coversion. Methods: putLong() then array().","title":"INET_NTOA and INET_ATON in Java?","body":"<p>Look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/InetAddress.html\" rel=\"nofollow\">InetAddress</a> in the javadocs. These functions are not directly supported by the Standard API but you can extract both representations using this class.\nA small example:</p>\n\n<pre><code>    InetAddress address = InetAddress.getLocalHost();\n    byte[] byteAddress = address.getAddress();\n    System.out.println(Arrays.toString(byteAddress));\n    System.out.println(address.getHostAddress());\n</code></pre>\n\n<p>(Keep in mind that bytes are signed.)</p>\n\n<hr>\n\n<p>If you have long-s than yo can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow\">ByteBuffer</a>, for fast and comfortable coversion. Methods: putLong() then array().</p>\n"},{"tags":[],"owner":{"account_id":1026132,"reputation":4488,"user_id":1035411,"accept_rate":94,"display_name":"Gruber"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328881067,"creation_date":1328879722,"answer_id":9228363,"question_id":9129391,"body_markdown":"Here&#39;s what I wrote myself to get a numeric representation of a textual IPv4 address:\r\n\r\n    public static Long ipAsNumeric(String ipAsString) {\r\n        String[] segments = ipAsString.split(&quot;\\\\.&quot;);\r\n        return (long) (Long.parseLong(segments[0]) * 16777216L\r\n           + Long.parseLong(segments[1]) * 65536L\r\n           + Long.parseLong(segments[2]) * 256L + \r\n             Long.parseLong(segments[3]));\r\n    }\r\n\r\nOf course, this assumes the IPv4 address is given on a valid format.","title":"INET_NTOA and INET_ATON in Java?","body":"<p>Here's what I wrote myself to get a numeric representation of a textual IPv4 address:</p>\n\n<pre><code>public static Long ipAsNumeric(String ipAsString) {\n    String[] segments = ipAsString.split(\"\\\\.\");\n    return (long) (Long.parseLong(segments[0]) * 16777216L\n       + Long.parseLong(segments[1]) * 65536L\n       + Long.parseLong(segments[2]) * 256L + \n         Long.parseLong(segments[3]));\n}\n</code></pre>\n\n<p>Of course, this assumes the IPv4 address is given on a valid format.</p>\n"},{"tags":[],"owner":{"account_id":416360,"reputation":10634,"user_id":791694,"display_name":"Agust&#237; S&#225;nchez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419692860,"creation_date":1419692860,"answer_id":27668498,"question_id":9129391,"body_markdown":"Guava&#39;s InetAddresses will do the trick.\r\n\r\nLook at Ido&#39;s comment in https://stackoverflow.com/questions/2241229/going-from-127-0-0-1-to-2130706433-and-back-again","title":"INET_NTOA and INET_ATON in Java?","body":"<p>Guava's InetAddresses will do the trick.</p>\n\n<p>Look at Ido's comment in <a href=\"https://stackoverflow.com/questions/2241229/going-from-127-0-0-1-to-2130706433-and-back-again\">Going from 127.0.0.1 to 2130706433, and back again</a></p>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513192441,"creation_date":1513192441,"answer_id":47800553,"question_id":9129391,"body_markdown":"Using [the IPAddress Java library](https://seancfoley.github.io/IPAddress/) it is simple, one line of code for each direction works for both IPv4 and IPv6.  In fact, you can write code that works for both IPv4 and IPv6 as in the first example below.\r\nDisclaimer: I am the project manager of that library.\r\n\r\nIP-version agnostic using byte[] and/or BigInteger:\r\n\r\n\t\tIPAddress loopback = new IPAddressString(&quot;::1&quot;).getAddress();\r\n\t\tSystem.out.println(loopback.getValue());\r\n\t\tIPAddress backAgain = new IPAddressGenerator().from(loopback.getBytes());\r\n\t\tSystem.out.println(backAgain);\r\n\r\nUse ints for IPv4:\r\n\r\n\t\tIPv4Address loopbackv4 = new IPAddressString(&quot;127.0.0.1&quot;).getAddress().toIPv4();\r\n\t\tSystem.out.println(loopbackv4.intValue());\r\n\t\tIPv4Address backAgainv4 = new IPv4Address(loopbackv4.intValue());\r\n\t\tSystem.out.println(backAgainv4);\r\n\t\t\r\nUse BigInteger for IPv6:\r\n\r\n\t\tIPv6Address loopbackv6 = new IPAddressString(&quot;::1&quot;).getAddress().toIPv6();\r\n\t\tSystem.out.println(loopbackv6.getValue());\r\n\t\tIPv6Address backAgainv6 = new IPv6Address(loopbackv6.getValue());\r\n\t\tSystem.out.println(backAgainv6);\r\n        \r\nOutput:\r\n\r\n\t\t1\r\n\t\t0:0:0:0:0:0:0:1\r\n\r\n\t\t2130706433\r\n\t\t127.0.0.1\r\n\r\n\t\t1\r\n\t\t0:0:0:0:0:0:0:1\r\n","title":"INET_NTOA and INET_ATON in Java?","body":"<p>Using <a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">the IPAddress Java library</a> it is simple, one line of code for each direction works for both IPv4 and IPv6.  In fact, you can write code that works for both IPv4 and IPv6 as in the first example below.\nDisclaimer: I am the project manager of that library.</p>\n\n<p>IP-version agnostic using byte[] and/or BigInteger:</p>\n\n<pre><code>    IPAddress loopback = new IPAddressString(\"::1\").getAddress();\n    System.out.println(loopback.getValue());\n    IPAddress backAgain = new IPAddressGenerator().from(loopback.getBytes());\n    System.out.println(backAgain);\n</code></pre>\n\n<p>Use ints for IPv4:</p>\n\n<pre><code>    IPv4Address loopbackv4 = new IPAddressString(\"127.0.0.1\").getAddress().toIPv4();\n    System.out.println(loopbackv4.intValue());\n    IPv4Address backAgainv4 = new IPv4Address(loopbackv4.intValue());\n    System.out.println(backAgainv4);\n</code></pre>\n\n<p>Use BigInteger for IPv6:</p>\n\n<pre><code>    IPv6Address loopbackv6 = new IPAddressString(\"::1\").getAddress().toIPv6();\n    System.out.println(loopbackv6.getValue());\n    IPv6Address backAgainv6 = new IPv6Address(loopbackv6.getValue());\n    System.out.println(backAgainv6);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    1\n    0:0:0:0:0:0:0:1\n\n    2130706433\n    127.0.0.1\n\n    1\n    0:0:0:0:0:0:0:1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12577340,"reputation":1,"user_id":9149315,"display_name":"Jimmy Jiang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684486614,"creation_date":1684486614,"answer_id":76287533,"question_id":9129391,"body_markdown":"Just try with the following code.\r\n\r\n```\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\n\r\npublic class IpConvertUtil {\r\n    public static long inetAton(String ipAddress) throws UnknownHostException {\r\n        \r\n        InetAddress address = InetAddress.getByName(ipAddress);\r\n        byte[] bytes = address.getAddress();\r\n        long result = 0;\r\n        for (byte b : bytes) {\r\n            result = result &lt;&lt; 8 | (b &amp; 0xFF);\r\n        }\r\n        return result;\r\n        \r\n    }\r\n    \r\n    public static String inetNtoa(long address) {\r\n        return (address &gt;&gt; 24 &amp; 0xFF) + &quot;.&quot; +\r\n                (address &gt;&gt; 16 &amp; 0xFF) + &quot;.&quot; +\r\n                (address &gt;&gt; 8 &amp; 0xFF) + &quot;.&quot; +\r\n                (address &amp; 0xFF);\r\n    }\r\n}\r\n```","title":"INET_NTOA and INET_ATON in Java?","body":"<p>Just try with the following code.</p>\n<pre><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\n\npublic class IpConvertUtil {\n    public static long inetAton(String ipAddress) throws UnknownHostException {\n        \n        InetAddress address = InetAddress.getByName(ipAddress);\n        byte[] bytes = address.getAddress();\n        long result = 0;\n        for (byte b : bytes) {\n            result = result &lt;&lt; 8 | (b &amp; 0xFF);\n        }\n        return result;\n        \n    }\n    \n    public static String inetNtoa(long address) {\n        return (address &gt;&gt; 24 &amp; 0xFF) + &quot;.&quot; +\n                (address &gt;&gt; 16 &amp; 0xFF) + &quot;.&quot; +\n                (address &gt;&gt; 8 &amp; 0xFF) + &quot;.&quot; +\n                (address &amp; 0xFF);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1026132,"reputation":4488,"user_id":1035411,"accept_rate":94,"display_name":"Gruber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8865,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":9129547,"answer_count":7,"score":7,"last_activity_date":1684486614,"creation_date":1328275659,"question_id":9129391,"body_markdown":"I use Java (with Spring framework) and want to convert between numeric representations of IPv4 addresses (e.g. 2130706433) and their textual counterparts (e.g. `127.0.0.1`). Often, methods for doing this are supplied in programming languages (they&#39;re usually called `INET_NTOA` and `INET_ATON` respectively) but I can&#39;t find it in Java. \r\n\r\nAnybody knows what they&#39;re called or how to implement them?","title":"INET_NTOA and INET_ATON in Java?","body":"<p>I use Java (with Spring framework) and want to convert between numeric representations of IPv4 addresses (e.g. 2130706433) and their textual counterparts (e.g. <code>127.0.0.1</code>). Often, methods for doing this are supplied in programming languages (they're usually called <code>INET_NTOA</code> and <code>INET_ATON</code> respectively) but I can't find it in Java. </p>\n\n<p>Anybody knows what they're called or how to implement them?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1377121336,"post_id":18367539,"comment_id":26970262,"body_markdown":"If you didn&#39;t write the hashing function you&#39;re kinda stuck once you have everything in one `byte[]` if you want to avoid a copy. Why not read the hash from the network into one array and the data into another?","body":"If you didn&#39;t write the hashing function you&#39;re kinda stuck once you have everything in one <code>byte[]</code> if you want to avoid a copy. Why not read the hash from the network into one array and the data into another?"}],"answers":[{"comments":[{"owner":{"account_id":4278,"reputation":19605,"user_id":6367,"accept_rate":73,"display_name":"Eric"},"score":9,"creation_date":1377120702,"post_id":18367574,"comment_id":26969973,"body_markdown":"Thank you for your answer. Do you know if there is any way to do this without copying? My array can reach many megabytes so I would prefer to avoid copying if possible","body":"Thank you for your answer. Do you know if there is any way to do this without copying? My array can reach many megabytes so I would prefer to avoid copying if possible"},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":1,"creation_date":1377121192,"post_id":18367574,"comment_id":26970194,"body_markdown":"The bytes in byte arrays cannot be reused by different arrays. You have the `ByteBuffer` class for this purpose. Alternatively, change your SHA1 function so that it accepts the offset and length for a slice in addition to the array.","body":"The bytes in byte arrays cannot be reused by different arrays. You have the <code>ByteBuffer</code> class for this purpose. Alternatively, change your SHA1 function so that it accepts the offset and length for a slice in addition to the array."},{"owner":{"account_id":4278,"reputation":19605,"user_id":6367,"accept_rate":73,"display_name":"Eric"},"score":0,"creation_date":1377121421,"post_id":18367574,"comment_id":26970299,"body_markdown":"I don&#39;t think I can change my hash algo since it is javax.crypto.mac. I have no control on parameters passed to it.","body":"I don&#39;t think I can change my hash algo since it is javax.crypto.mac. I have no control on parameters passed to it."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":4,"creation_date":1377121693,"post_id":18367574,"comment_id":26970426,"body_markdown":"Use the `update(byte[],int,int)` method (http://docs.oracle.com/javase/7/docs/api/javax/crypto/Mac.html#update%28byte[],%20int,%20int%29)","body":"Use the <code>update(byte[],int,int)</code> method (<a href=\"http://docs.oracle.com/javase/7/docs/api/javax/crypto/Mac.html#update%28byte[],%20int,%20int%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/crypto/&hellip;</a>)"}],"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":4,"down_vote_count":0,"up_vote_count":134,"is_accepted":true,"score":134,"last_activity_date":1377118698,"creation_date":1377118698,"answer_id":18367574,"question_id":18367539,"body_markdown":"You can use the [`Arrays.copyOfRange`][1] method. For example:\r\n\r\n    // slice from index 5 to index 9\r\n    byte[] slice = Arrays.copyOfRange(myArray, 5, 10);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOfRange%28byte%5B%5D,%20int,%20int%29","title":"Slicing byte arrays in Java","body":"<p>You can use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOfRange%28byte%5B%5D,%20int,%20int%29\" rel=\"noreferrer\"><code>Arrays.copyOfRange</code></a> method. For example:</p>\n\n<pre><code>// slice from index 5 to index 9\nbyte[] slice = Arrays.copyOfRange(myArray, 5, 10);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1377119850,"post_id":18367722,"comment_id":26969602,"body_markdown":"Basically, if the word `ByteBuffer` exists in your answer, it&#39;s a bad answer. See Joni&#39;s answer for the bast (and only acceptable IMHO) answer.","body":"Basically, if the word <code>ByteBuffer</code> exists in your answer, it&#39;s a bad answer. See Joni&#39;s answer for the bast (and only acceptable IMHO) answer."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":7,"creation_date":1377119967,"post_id":18367722,"comment_id":26969667,"body_markdown":"I answered the OP&#39;s question, not an interpretation of his intent. In addition, If your answer doesn&#39;t have any content explaining the *why* things work, it&#39;s a bad answer.","body":"I answered the OP&#39;s question, not an interpretation of his intent. In addition, If your answer doesn&#39;t have any content explaining the <i>why</i> things work, it&#39;s a bad answer."},{"owner":{"account_id":4278,"reputation":19605,"user_id":6367,"accept_rate":73,"display_name":"Eric"},"score":0,"creation_date":1377120659,"post_id":18367722,"comment_id":26969956,"body_markdown":"Yes, thank you for your answer. I am porting code from C and I don&#39;t have any copying there, only pointer manipulation so I was expecting something alike in Java. My array can reach many megabytes so copying is pretty wasteful","body":"Yes, thank you for your answer. I am porting code from C and I don&#39;t have any copying there, only pointer manipulation so I was expecting something alike in Java. My array can reach many megabytes so copying is pretty wasteful"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":1,"creation_date":1377120791,"post_id":18367722,"comment_id":26970006,"body_markdown":"@Eric - Yeah, Java is ... different. If you trying to avoid the copy I&#39;d need more context on what the bytes represent and what you&#39;re trying to do with them.","body":"@Eric - Yeah, Java is ... different. If you trying to avoid the copy I&#39;d need more context on what the bytes represent and what you&#39;re trying to do with them."}],"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1377120037,"creation_date":1377119248,"answer_id":18367722,"question_id":18367539,"body_markdown":"The `ByteBuffer` you created is being backed by that array. When you call `slice()` you effectively receive a specific *view* of that data:\r\n\r\n&gt;Creates a new byte buffer whose content is a shared subsequence of this buffer&#39;s content.\r\n\r\nSo calling `array()` on that returned `ByteBuffer` returns the backing array in its entirety. \r\n\r\nTo extract all the bytes from that view, you could do:\r\n\r\n    byte[] bytes = new byte[slicedBuf.remaining()];\r\n    slicedBuf.read(bytes);\r\n\r\nThe bytes from that view would be copied to the new array. \r\n\r\n**Edit to add from comments below:** It&#39;s worth noting that if all you&#39;re interested in doing is copying bytes from one `byte[]` to another `byte[]`, there&#39;s no reason to use a `ByteBuffer`; simply copy the bytes. ","title":"Slicing byte arrays in Java","body":"<p>The <code>ByteBuffer</code> you created is being backed by that array. When you call <code>slice()</code> you effectively receive a specific <em>view</em> of that data:</p>\n\n<blockquote>\n  <p>Creates a new byte buffer whose content is a shared subsequence of this buffer's content.</p>\n</blockquote>\n\n<p>So calling <code>array()</code> on that returned <code>ByteBuffer</code> returns the backing array in its entirety. </p>\n\n<p>To extract all the bytes from that view, you could do:</p>\n\n<pre><code>byte[] bytes = new byte[slicedBuf.remaining()];\nslicedBuf.read(bytes);\n</code></pre>\n\n<p>The bytes from that view would be copied to the new array. </p>\n\n<p><strong>Edit to add from comments below:</strong> It's worth noting that if all you're interested in doing is copying bytes from one <code>byte[]</code> to another <code>byte[]</code>, there's no reason to use a <code>ByteBuffer</code>; simply copy the bytes. </p>\n"},{"comments":[{"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"score":0,"creation_date":1697110628,"post_id":76287520,"comment_id":136239924,"body_markdown":"Why is this a &quot;more modern&quot; approach? This method was already present in JDK1.0 (https://javaalmanac.io/jdk/1.0/api/java.lang.System.html). Arrays.copyOfRange of the accepted answer in JDK1.6.","body":"Why is this a &quot;more modern&quot; approach? This method was already present in JDK1.0 (<a href=\"https://javaalmanac.io/jdk/1.0/api/java.lang.System.html\" rel=\"nofollow noreferrer\">javaalmanac.io/jdk/1.0/api/java.lang.System.html</a>). Arrays.copyOfRange of the accepted answer in JDK1.6."}],"tags":[],"owner":{"account_id":259039,"reputation":3229,"user_id":541634,"accept_rate":83,"display_name":"Zayin Krige"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684486523,"creation_date":1684486523,"answer_id":76287520,"question_id":18367539,"body_markdown":"a more modern approach\r\n[System.arraycopy][1]\r\n\r\n    srcBuffer – the source array\r\n    srcPos – starting position in the source array\r\n    destBuffer – the destination array\r\n    destPos – starting position in the destination data\r\n    length – the number of array elements to be copied\r\n\r\n\r\n    System.arraycopy(srcBuffer, srcPos, destBuffer, destPos, length);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/System.html","title":"Slicing byte arrays in Java","body":"<p>a more modern approach\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html\" rel=\"nofollow noreferrer\">System.arraycopy</a></p>\n<pre><code>srcBuffer – the source array\nsrcPos – starting position in the source array\ndestBuffer – the destination array\ndestPos – starting position in the destination data\nlength – the number of array elements to be copied\n\n\nSystem.arraycopy(srcBuffer, srcPos, destBuffer, destPos, length);\n</code></pre>\n"}],"owner":{"account_id":4278,"reputation":19605,"user_id":6367,"accept_rate":73,"display_name":"Eric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87606,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":18367574,"answer_count":3,"score":56,"last_activity_date":1684486523,"creation_date":1377118595,"question_id":18367539,"body_markdown":"I&#39;m trying to slice a byte array to prune the first part of the array. I&#39;m using ByteBuffer but it does not behave like I would expect.\r\n\r\n    byte[] myArray = new byte[10];\r\n    ByteBuffer buf = ByteBuffer.wrap(myArray);\r\n    buf.position(5);\r\n    ByteBuffer slicedBuf = buf.slice();\r\n    byte[] newArray = slicedBuf.array();\r\n\r\nI would expect the size of newArray to be 5, containing only the last portion of my ByteBuffer. Instead, the full byte array is returned. I understand that this is because the &quot;backing buffer&quot; is the same all along. \r\n\r\nHow can I slice to have only the desired part of the array?\r\n\r\nEDIT: Added context\r\n\r\nThe bytes are received from network. The buffer is formed like this :\r\n\r\n`[ SHA1 hash ] [ data...  lots of it ]`  \r\n\r\n I already have a function that takes a byte array as a parameter and calculate the SHA1 hash. What I want is to slice the full buffer to pass only the data without the expected hash.","title":"Slicing byte arrays in Java","body":"<p>I'm trying to slice a byte array to prune the first part of the array. I'm using ByteBuffer but it does not behave like I would expect.</p>\n\n<pre><code>byte[] myArray = new byte[10];\nByteBuffer buf = ByteBuffer.wrap(myArray);\nbuf.position(5);\nByteBuffer slicedBuf = buf.slice();\nbyte[] newArray = slicedBuf.array();\n</code></pre>\n\n<p>I would expect the size of newArray to be 5, containing only the last portion of my ByteBuffer. Instead, the full byte array is returned. I understand that this is because the \"backing buffer\" is the same all along. </p>\n\n<p>How can I slice to have only the desired part of the array?</p>\n\n<p>EDIT: Added context</p>\n\n<p>The bytes are received from network. The buffer is formed like this :</p>\n\n<p><code>[ SHA1 hash ] [ data...  lots of it ]</code>  </p>\n\n<p>I already have a function that takes a byte array as a parameter and calculate the SHA1 hash. What I want is to slice the full buffer to pass only the data without the expected hash.</p>\n"},{"tags":["java","file","search","lambda"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1684481999,"post_id":76286946,"comment_id":134526669,"body_markdown":"Did you mean to use `outputLines.addAll` instead of assigning to `outputLines` (though that&#39;s probably not thread safe)? This seems like you should just `flatMap` instead of `forEach`.","body":"Did you mean to use <code>outputLines.addAll</code> instead of assigning to <code>outputLines</code> (though that&#39;s probably not thread safe)? This seems like you should just <code>flatMap</code> instead of <code>forEach</code>."}],"answers":[{"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684486386,"creation_date":1684486386,"answer_id":76287501,"question_id":76286946,"body_markdown":"Java lambdas only support references to final variables, refer to [this article on to why it is that way](https://www.baeldung.com/java-lambda-effectively-final-local-variables).\r\n\r\nIn your case you could simply do\r\n```java\r\n    public List&lt;String&gt; searchForText(List&lt;Path&gt; inputFiles, String SEARCH_TOKEN) {\r\n        final List&lt;String&gt; outputLines = new CopyOnWriteArrayList&lt;&gt;();\r\n        inputFiles.parallelStream().forEach(path -&gt; {\r\n            try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n                outputLines.clear();\r\n                outputLines.addAll(lines.filter(a -&gt; a.trim().contains(SEARCH_TOKEN)).collect(Collectors.toList()));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\n        return outputLines;\r\n    }\r\n```\r\n\r\nOr if you want to stick with the variable reassignment you could also just use a normal for each loop, which of course wouldn&#39;t be parallel anymore, like so:\r\n```java\r\n    public List&lt;String&gt; searchForText(List&lt;Path&gt; inputFiles, String SEARCH_TOKEN) {\r\n        List&lt;String&gt; outputLines = new ArrayList&lt;&gt;();\r\n\r\n        for (Path path : inputFiles) {\r\n           try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n                outputLines = lines.filter(a -&gt; a.trim().contains(SEARCH_TOKEN)).collect(Collectors.toList());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        return outputLines;\r\n    }\r\n```","title":"Problem with nested lambda expressions - unable to add to outer list vairable","body":"<p>Java lambdas only support references to final variables, refer to <a href=\"https://www.baeldung.com/java-lambda-effectively-final-local-variables\" rel=\"nofollow noreferrer\">this article on to why it is that way</a>.</p>\n<p>In your case you could simply do</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;String&gt; searchForText(List&lt;Path&gt; inputFiles, String SEARCH_TOKEN) {\n        final List&lt;String&gt; outputLines = new CopyOnWriteArrayList&lt;&gt;();\n        inputFiles.parallelStream().forEach(path -&gt; {\n            try (Stream&lt;String&gt; lines = Files.lines(path)) {\n                outputLines.clear();\n                outputLines.addAll(lines.filter(a -&gt; a.trim().contains(SEARCH_TOKEN)).collect(Collectors.toList()));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n\n        return outputLines;\n    }\n</code></pre>\n<p>Or if you want to stick with the variable reassignment you could also just use a normal for each loop, which of course wouldn't be parallel anymore, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;String&gt; searchForText(List&lt;Path&gt; inputFiles, String SEARCH_TOKEN) {\n        List&lt;String&gt; outputLines = new ArrayList&lt;&gt;();\n\n        for (Path path : inputFiles) {\n           try (Stream&lt;String&gt; lines = Files.lines(path)) {\n                outputLines = lines.filter(a -&gt; a.trim().contains(SEARCH_TOKEN)).collect(Collectors.toList());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return outputLines;\n    }\n</code></pre>\n"}],"owner":{"account_id":8635380,"reputation":21,"user_id":6465774,"display_name":"rv888"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684486386,"creation_date":1684481692,"question_id":76286946,"body_markdown":"I&#39;m trying to search a string in the parallel stream of files. There is a compilation error at (outputLines =) this step. I&#39;m unable to figure out the problem. Please help. I need to keep the code for inputFiles.parallelStream() and then for each I need to read the file line by line and then search for the string. I&#39;m unable to do so. Please advise. Thank you.\r\n\r\n\r\n```\r\n    public List&lt;String&gt; searchForText(List&lt;Path&gt; inputFiles, String SEARCH_TOKEN) {\r\n        List&lt;String&gt; outputLines = new ArrayList&lt;&gt;();\r\n        inputFiles.parallelStream().forEach(path -&gt; {\r\n            try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n                outputLines = lines.filter(a -&gt; a.trim().contains(SEARCH_TOKEN)).collect(Collectors.toList());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\n        return outputLines;\r\n    }\r\n```\r\n\r\n\r\nI tried multiple ways to add the line to outputLines but as it is called inside the lambda expression it is forcing me to be final. When there are nested lambda expressions how to add to the list from outer lambda expression from inner lambda expression. Please advise.","title":"Problem with nested lambda expressions - unable to add to outer list vairable","body":"<p>I'm trying to search a string in the parallel stream of files. There is a compilation error at (outputLines =) this step. I'm unable to figure out the problem. Please help. I need to keep the code for inputFiles.parallelStream() and then for each I need to read the file line by line and then search for the string. I'm unable to do so. Please advise. Thank you.</p>\n<pre><code>    public List&lt;String&gt; searchForText(List&lt;Path&gt; inputFiles, String SEARCH_TOKEN) {\n        List&lt;String&gt; outputLines = new ArrayList&lt;&gt;();\n        inputFiles.parallelStream().forEach(path -&gt; {\n            try (Stream&lt;String&gt; lines = Files.lines(path)) {\n                outputLines = lines.filter(a -&gt; a.trim().contains(SEARCH_TOKEN)).collect(Collectors.toList());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n\n        return outputLines;\n    }\n</code></pre>\n<p>I tried multiple ways to add the line to outputLines but as it is called inside the lambda expression it is forcing me to be final. When there are nested lambda expressions how to add to the list from outer lambda expression from inner lambda expression. Please advise.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684486119,"creation_date":1684486119,"answer_id":76287468,"question_id":76287405,"body_markdown":"Because fragments are not (re)created all the time. They&#39;re created and then reused. In order to have your textview change text appropriatelly, you need to use [OnPageChangeCallback](https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2.OnPageChangeCallback)\r\n\r\nSomething like this:\r\n```\r\nviewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n        @Override\r\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n            super.onPageScrolled(position, positionOffset, positionOffsetPixels);\r\n        }\r\n\r\n        @Override\r\n        public void onPageSelected(int position) {\r\n            super.onPageSelected(position);\r\n\r\n            //your code\r\n            switch (position)\r\n            {\r\n                case 0:\r\n                {\r\n                    myTextView.setText(&quot;0&quot;);\r\n                    //return discover_page;\r\n                }\r\n                case 1:\r\n                {\r\n                    myTextView.setText(&quot;1&quot;);\r\n                    //return top_page;\r\n                }\r\n                case 2:\r\n                {\r\n                    myTextView.setText(&quot;2&quot;);\r\n                    //return friends_page;\r\n                }\r\n                //default: return null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onPageScrollStateChanged(int state) {\r\n            super.onPageScrollStateChanged(state);\r\n        }\r\n    });\r\n```","title":"FragmentStateAdapter is not calling createfragment function when fragment changes","body":"<p>Because fragments are not (re)created all the time. They're created and then reused. In order to have your textview change text appropriatelly, you need to use <a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2.OnPageChangeCallback\" rel=\"nofollow noreferrer\">OnPageChangeCallback</a></p>\n<p>Something like this:</p>\n<pre><code>viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n        @Override\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n            super.onPageScrolled(position, positionOffset, positionOffsetPixels);\n        }\n\n        @Override\n        public void onPageSelected(int position) {\n            super.onPageSelected(position);\n\n            //your code\n            switch (position)\n            {\n                case 0:\n                {\n                    myTextView.setText(&quot;0&quot;);\n                    //return discover_page;\n                }\n                case 1:\n                {\n                    myTextView.setText(&quot;1&quot;);\n                    //return top_page;\n                }\n                case 2:\n                {\n                    myTextView.setText(&quot;2&quot;);\n                    //return friends_page;\n                }\n                //default: return null;\n            }\n        }\n\n        @Override\n        public void onPageScrollStateChanged(int state) {\n            super.onPageScrollStateChanged(state);\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":28193143,"reputation":39,"user_id":21548222,"display_name":"siflJebatkundy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76287468,"answer_count":1,"score":-1,"last_activity_date":1684486119,"creation_date":1684485602,"question_id":76287405,"body_markdown":"I have a slight issue with the createFragment method in FragmentStateAdapter. I would expect that createFragment is called every time when fragment changes in ViewPager2. However, the createFragment is called only when the first fragment change occurs. Then the createFragment method is never called again.\r\n\r\n\r\nMy code:\r\n\r\n     @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            switch (position)\r\n            {\r\n                case 0:\r\n                {\r\n                    myTextView.setText(&quot;0&quot;);\r\n                    return discover_page;\r\n                }\r\n                case 1:\r\n                {\r\n                    myTextView.setText(&quot;1&quot;);\r\n                    return top_page;\r\n                }\r\n                case 2:\r\n                {\r\n                    myTextView.setText(&quot;2&quot;);\r\n                    return friends_page;\r\n                }\r\n                default: return null;\r\n            }\r\n        }\r\n\r\nIn this code, the myTextView is set to &quot;2&quot; when the first fragment change occurs and never becomes anything else, even when fragments are being changed. Does anybody know why?","title":"FragmentStateAdapter is not calling createfragment function when fragment changes","body":"<p>I have a slight issue with the createFragment method in FragmentStateAdapter. I would expect that createFragment is called every time when fragment changes in ViewPager2. However, the createFragment is called only when the first fragment change occurs. Then the createFragment method is never called again.</p>\n<p>My code:</p>\n<pre><code> @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position)\n        {\n            case 0:\n            {\n                myTextView.setText(&quot;0&quot;);\n                return discover_page;\n            }\n            case 1:\n            {\n                myTextView.setText(&quot;1&quot;);\n                return top_page;\n            }\n            case 2:\n            {\n                myTextView.setText(&quot;2&quot;);\n                return friends_page;\n            }\n            default: return null;\n        }\n    }\n</code></pre>\n<p>In this code, the myTextView is set to &quot;2&quot; when the first fragment change occurs and never becomes anything else, even when fragments are being changed. Does anybody know why?</p>\n"},{"tags":["java","spring-boot","gradle","intellij-idea","microservices"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1682504889,"post_id":76109149,"comment_id":134225568,"body_markdown":"You can [define a composite build](https://docs.gradle.org/current/userguide/composite_builds.html#defining_composite_builds) that includes both your shared library and your application. This will use the classes built from the source over the one that can be downloaded from your repository.","body":"You can <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html#defining_composite_builds\" rel=\"nofollow noreferrer\">define a composite build</a> that includes both your shared library and your application. This will use the classes built from the source over the one that can be downloaded from your repository."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684157441,"creation_date":1684156986,"answer_id":76254541,"question_id":76109149,"body_markdown":"&gt; So here my question is how can I use &quot;Common Project&quot; in all micro services without generating common.jar.\r\n\r\nYou cannot avoid having common.jar, as soon as both Maven and Gradle dependency management handles each dependency as a separate jar file.\r\n\r\nWhat you can do is to create a parent `build.gradle` and include `common` module into it. In one of our projects we have the following structure:\r\n```\r\nroot_dir/\r\n..common/\r\n.....src\r\n.....build.gradle\r\n..sql/\r\n.....src\r\n.....build.gradle\r\n..api/\r\n.....src\r\n.....build.gradle\r\n..build.gradle \r\n..settings.gradle\r\n```\r\nHere we created `settings.gradle` in root directory:\r\n```groovy\r\nrootProject.name = &#39;parent&#39;\r\ninclude(&#39;:common&#39;)\r\ninclude(&#39;:sql&#39;)\r\ninclude(&#39;:api&#39;)\r\n```\r\nUnder the same directory we have parent `build.gradle` with properties and settings common for all submodules:\r\n```groovy\r\nallprojects {\r\n  group = &#39;&#39;\r\n  version = &#39;1.0-SNAPSHOT&#39;\r\n}\r\n\r\next {\r\n  lombokVersion = &#39;1.18.22&#39;\r\n  springBootVersion = &#39;2.6.3&#39;\r\n}\r\n\r\nsubprojects {\r\n  apply plugin: &#39;java&#39;\r\n  apply plugin: &#39;maven-publish&#39;\r\n\r\n  repositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n  }\r\n  //common dependencies\r\n  dependencies {\r\n    compileOnly &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n    annotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n\r\n    implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:$springBootVersion&quot;)\r\n  }\r\n\r\n  sourceCompatibility = 17\r\n\r\n  test {\r\n    useJUnitPlatform()\r\n  }\r\n}\r\n```\r\nThen we have `:common` and `:sql` modules, both are dependencies for `:api` module.\r\n\r\nIn the `build.gradle` of `:api` module we juwt specify dependencies:\r\n```\r\ndependencies {\r\n  implementation project(&#39;:sql&#39;)\r\n  implementation project(&#39;:common&#39;)\r\n  //...\r\n}\r\n```\r\nThis structure allows IDEA to import `common` project as a submodule and all changes to the code of that module will be automatically picked up and analyzed. So if you refactor or rename a property in POJO in `:common` module  IDEA finds all its usages in `:api` module and refactors/renames them as well.","title":"How to add a dependent project in intellij &amp; Gradle instead using jar dependency","body":"<blockquote>\n<p>So here my question is how can I use &quot;Common Project&quot; in all micro services without generating common.jar.</p>\n</blockquote>\n<p>You cannot avoid having common.jar, as soon as both Maven and Gradle dependency management handles each dependency as a separate jar file.</p>\n<p>What you can do is to create a parent <code>build.gradle</code> and include <code>common</code> module into it. In one of our projects we have the following structure:</p>\n<pre><code>root_dir/\n..common/\n.....src\n.....build.gradle\n..sql/\n.....src\n.....build.gradle\n..api/\n.....src\n.....build.gradle\n..build.gradle \n..settings.gradle\n</code></pre>\n<p>Here we created <code>settings.gradle</code> in root directory:</p>\n<pre><code>rootProject.name = 'parent'\ninclude(':common')\ninclude(':sql')\ninclude(':api')\n</code></pre>\n<p>Under the same directory we have parent <code>build.gradle</code> with properties and settings common for all submodules:</p>\n<pre><code>allprojects {\n  group = ''\n  version = '1.0-SNAPSHOT'\n}\n\next {\n  lombokVersion = '1.18.22'\n  springBootVersion = '2.6.3'\n}\n\nsubprojects {\n  apply plugin: 'java'\n  apply plugin: 'maven-publish'\n\n  repositories {\n    mavenLocal()\n    mavenCentral()\n  }\n  //common dependencies\n  dependencies {\n    compileOnly &quot;org.projectlombok:lombok:$lombokVersion&quot;\n    annotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\n\n    implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:$springBootVersion&quot;)\n  }\n\n  sourceCompatibility = 17\n\n  test {\n    useJUnitPlatform()\n  }\n}\n</code></pre>\n<p>Then we have <code>:common</code> and <code>:sql</code> modules, both are dependencies for <code>:api</code> module.</p>\n<p>In the <code>build.gradle</code> of <code>:api</code> module we juwt specify dependencies:</p>\n<pre><code>dependencies {\n  implementation project(':sql')\n  implementation project(':common')\n  //...\n}\n</code></pre>\n<p>This structure allows IDEA to import <code>common</code> project as a submodule and all changes to the code of that module will be automatically picked up and analyzed. So if you refactor or rename a property in POJO in <code>:common</code> module  IDEA finds all its usages in <code>:api</code> module and refactors/renames them as well.</p>\n"},{"tags":[],"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684423278,"creation_date":1684423278,"answer_id":76282209,"question_id":76109149,"body_markdown":"While one way is with a [multi-module gradle build](https://docs.gradle.org/current/userguide/multi_project_builds.html), this is not helpful when the individual microservices are split across multiple repos, each with their own repos and `build.gradle`.\r\n\r\nIn this case, there are additional options, each with their own caveats.\r\n\r\n## mavenLocal\r\n\r\nYou can publish your `common.jar` to your maven local with something like [this](https://stackoverflow.com/questions/42765113/how-to-publish-source-into-local-maven-repository-with-gradle).\r\n\r\nThis works well if you only have a single development machine, otherwise, each developer will have to publish to local as well.  Also, for distribution, you would have to bundle `common.jar` into the final jar, which you are likely doing already since it is included locally.\r\n\r\nThis approach would at least prevent you from having to copy/paste.\r\n\r\n## Run a maven server\r\n\r\nOr, of course, you could run a maven on some machine all your devices have access to.  [Nexus](https://www.sonatype.com/products/sonatype-nexus-repository) works well.  There are others.\r\n\r\nThis requires a dedicated &quot;server&quot; of some kind to run this.  Might not work in all envs, but might be something worth investing in.\r\n\r\n## Gradle Task\r\n\r\nAnd, of course, as a &#39;low-tech&#39; solution, if you have a common directory structure and always work out of a workspace where you have all your other repos, you can have a task in the `common`&#39;s Gradle build that after building the jar simply copies the build artifact to the other repos based on known paths and a list of repos to update.\r\n\r\nWhile potentially brittle, you could even perform git commands on those folders and prepare commits to add the changed file. YMMV on this, though, as it has plenty of its own pitfalls.\r\n\r\nThis requires all repos to be cloned, in the same relative paths, but has the advantage of simply removing the manual effort.\r\n\r\n## Scripting\r\n\r\nAnd, of course, there&#39;s no reason you have to use Gradle to do the above.  If can&#39;t use a multi-module build, and you can&#39;t use any of the other tasks, consider writing a script (bash, pwsh, python, etc), and at take advantage of some automation.\r\n\r\nYes, it has the pitfalls of the above, but it is simpler than doing a lot of manual tasks over and over, all of which have the potential of being skipped, forgotten, etc.","title":"How to add a dependent project in intellij &amp; Gradle instead using jar dependency","body":"<p>While one way is with a <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">multi-module gradle build</a>, this is not helpful when the individual microservices are split across multiple repos, each with their own repos and <code>build.gradle</code>.</p>\n<p>In this case, there are additional options, each with their own caveats.</p>\n<h2>mavenLocal</h2>\n<p>You can publish your <code>common.jar</code> to your maven local with something like <a href=\"https://stackoverflow.com/questions/42765113/how-to-publish-source-into-local-maven-repository-with-gradle\">this</a>.</p>\n<p>This works well if you only have a single development machine, otherwise, each developer will have to publish to local as well.  Also, for distribution, you would have to bundle <code>common.jar</code> into the final jar, which you are likely doing already since it is included locally.</p>\n<p>This approach would at least prevent you from having to copy/paste.</p>\n<h2>Run a maven server</h2>\n<p>Or, of course, you could run a maven on some machine all your devices have access to.  <a href=\"https://www.sonatype.com/products/sonatype-nexus-repository\" rel=\"nofollow noreferrer\">Nexus</a> works well.  There are others.</p>\n<p>This requires a dedicated &quot;server&quot; of some kind to run this.  Might not work in all envs, but might be something worth investing in.</p>\n<h2>Gradle Task</h2>\n<p>And, of course, as a 'low-tech' solution, if you have a common directory structure and always work out of a workspace where you have all your other repos, you can have a task in the <code>common</code>'s Gradle build that after building the jar simply copies the build artifact to the other repos based on known paths and a list of repos to update.</p>\n<p>While potentially brittle, you could even perform git commands on those folders and prepare commits to add the changed file. YMMV on this, though, as it has plenty of its own pitfalls.</p>\n<p>This requires all repos to be cloned, in the same relative paths, but has the advantage of simply removing the manual effort.</p>\n<h2>Scripting</h2>\n<p>And, of course, there's no reason you have to use Gradle to do the above.  If can't use a multi-module build, and you can't use any of the other tasks, consider writing a script (bash, pwsh, python, etc), and at take advantage of some automation.</p>\n<p>Yes, it has the pitfalls of the above, but it is simpler than doing a lot of manual tasks over and over, all of which have the potential of being skipped, forgotten, etc.</p>\n"},{"tags":[],"owner":{"account_id":21441031,"reputation":11,"user_id":15795585,"display_name":"Michalis Marolachakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684486105,"creation_date":1684486006,"answer_id":76287450,"question_id":76109149,"body_markdown":"I am not sure what you mean by:\r\n\r\n&gt; then build copy that jar to other micro services\r\n\r\nWhen you create a new version of common jar, you should have a pipeline that puts it in some artifactory/nexus from where other dependent micro services can pick up the new version automatically.\r\n\r\nWhat you can also do is instruct the micro services to look for the latest, or the latest version of a major release of that common library when they build\r\n\r\ne.g. `com.boa.dart:funding-common:23.+` will pick the latest version with the major version 23 (as long as you maintain backwards compatibility in each major version this can work).","title":"How to add a dependent project in intellij &amp; Gradle instead using jar dependency","body":"<p>I am not sure what you mean by:</p>\n<blockquote>\n<p>then build copy that jar to other micro services</p>\n</blockquote>\n<p>When you create a new version of common jar, you should have a pipeline that puts it in some artifactory/nexus from where other dependent micro services can pick up the new version automatically.</p>\n<p>What you can also do is instruct the micro services to look for the latest, or the latest version of a major release of that common library when they build</p>\n<p>e.g. <code>com.boa.dart:funding-common:23.+</code> will pick the latest version with the major version 23 (as long as you maintain backwards compatibility in each major version this can work).</p>\n"}],"owner":{"account_id":82939,"reputation":8206,"user_id":232867,"accept_rate":44,"display_name":"Satya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1684486105,"creation_date":1682501164,"question_id":76109149,"body_markdown":"We have multiple micro services dependent on a common code(common.jar) which is a separate project(repo). \r\nCurrently common code(common.jar) is included as dependent jar in all micro services.\r\n\r\n    gradle.properties:\r\n    implementation (&quot;com.boa.dart:funding-common:23.5.1.108&quot;)  --&gt; Prod configuration\r\n    implementation files(&quot;libs/funding-common.23.5.1.108.jar&quot;) --&gt; Local configuration\r\n\r\nAs all micro services dependent on common project, development is taking much time when there is any change required in &quot;Common Project&quot;.\r\nFirst we need to do code change in &quot;Common project&quot;, then build copy that jar to other micro services, then build each individual micro service.\r\n\r\nBut look like we can have lot of improvement in this process.\r\n\r\nSo here my question is how can I use &quot;Common Project&quot; in all micro services without generating common.jar.\r\n\r\n&gt; Here are TechStack: We are using gradle as a build tool. \r\n&gt; Spring Boot for micro Services.\r\n&gt; IntelliJ as IDE.","title":"How to add a dependent project in intellij &amp; Gradle instead using jar dependency","body":"<p>We have multiple micro services dependent on a common code(common.jar) which is a separate project(repo).\nCurrently common code(common.jar) is included as dependent jar in all micro services.</p>\n<pre><code>gradle.properties:\nimplementation (&quot;com.boa.dart:funding-common:23.5.1.108&quot;)  --&gt; Prod configuration\nimplementation files(&quot;libs/funding-common.23.5.1.108.jar&quot;) --&gt; Local configuration\n</code></pre>\n<p>As all micro services dependent on common project, development is taking much time when there is any change required in &quot;Common Project&quot;.\nFirst we need to do code change in &quot;Common project&quot;, then build copy that jar to other micro services, then build each individual micro service.</p>\n<p>But look like we can have lot of improvement in this process.</p>\n<p>So here my question is how can I use &quot;Common Project&quot; in all micro services without generating common.jar.</p>\n<blockquote>\n<p>Here are TechStack: We are using gradle as a build tool.\nSpring Boot for micro Services.\nIntelliJ as IDE.</p>\n</blockquote>\n"},{"tags":["java","android","broadcastreceiver"],"comments":[{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1684485580,"post_id":76287245,"comment_id":134527338,"body_markdown":"Please use PascalCase to create classes in Java.... [reference](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)","body":"Please use PascalCase to create classes in Java.... <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">reference</a>"}],"answers":[{"tags":[],"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684486102,"creation_date":1684486102,"answer_id":76287464,"question_id":76287245,"body_markdown":"It doesn&#39;t dismiss because you are creating a different `AlertDialog` every time you get on the `onReceive` so you should store a variable in the `NetworkDetector` class.\r\n\r\n```\r\npublic class network_detector extends BroadcastReceiver {\r\n\r\n    private AlertDialog dialog;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n         if (dialog != null) {\r\n            boolean isConnected = networkClass.isConnectedToInternet(context);\r\n            if (isConnected) {\r\n                dialog.dismiss();\r\n                dialog = null;\r\n            } else if (!dialog.isShowing()) {\r\n                showNoInternetDialog(context);\r\n            }\r\n        } else {\r\n            showNoInternetDialog(context);\r\n        }\r\n\r\n}\r\n\r\n\r\n    private void showNoInternetDialog(Context context) {\r\n        View alertdialogView = LayoutInflater.from(context).inflate(R.layout.network_dialog, null);\r\n        AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(context);\r\n        dialogBuilder.setView(alertdialogView);\r\n\r\n        dialog = dialogBuilder.create();\r\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n\r\n        dialog.setCancelable(false);\r\n        dialog.show();\r\n    }\r\n}\r\n```","title":"Android: showing an alertdialog while internet is not connected in device","body":"<p>It doesn't dismiss because you are creating a different <code>AlertDialog</code> every time you get on the <code>onReceive</code> so you should store a variable in the <code>NetworkDetector</code> class.</p>\n<pre><code>public class network_detector extends BroadcastReceiver {\n\n    private AlertDialog dialog;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n         if (dialog != null) {\n            boolean isConnected = networkClass.isConnectedToInternet(context);\n            if (isConnected) {\n                dialog.dismiss();\n                dialog = null;\n            } else if (!dialog.isShowing()) {\n                showNoInternetDialog(context);\n            }\n        } else {\n            showNoInternetDialog(context);\n        }\n\n}\n\n\n    private void showNoInternetDialog(Context context) {\n        View alertdialogView = LayoutInflater.from(context).inflate(R.layout.network_dialog, null);\n        AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(context);\n        dialogBuilder.setView(alertdialogView);\n\n        dialog = dialogBuilder.create();\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n\n        dialog.setCancelable(false);\n        dialog.show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28625477,"reputation":81,"user_id":21917572,"display_name":"abhishek_6198"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76287464,"answer_count":1,"score":1,"last_activity_date":1684486102,"creation_date":1684484144,"question_id":76287245,"body_markdown":"I want to check if the internet is connected and show a `dialog` if it is not. This is my code:\r\n\r\n**network_class.java**\r\n```\r\n public class network_class {\r\n    public static boolean isConnectedToInternet(Context context){\r\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\r\n        if (activeNetwork != null) {\r\n            if (activeNetwork.getType() == ConnectivityManager.TYPE_WIFI) {\r\n                return true;\r\n            }\r\n            else if(activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n**network_detector.java**\r\n```\r\npublic class network_detector extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        View alertdialog_1 = LayoutInflater.from(context).inflate(R.layout.network_dialog,null);\r\n        AlertDialog.Builder dialog_1 = new AlertDialog.Builder(context);\r\n        dialog_1.setView(alertdialog_1);\r\n\r\n        AlertDialog dialog = dialog_1.create();\r\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n\r\n        dialog.setCancelable(false);\r\n        if(network_class.isConnectedToInternet(context)){\r\n            if(dialog.isShowing())\r\n                dialog.cancel();\r\n        }\r\n        else\r\n            dialog.show();\r\n    }\r\n}\r\n```\r\nAfter that, I am using the receiver in my `MainActivity`:\r\n```\r\nnetwork_detector detector = new network_detector();\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    //some irrelevant code here\r\n}\r\n\r\n@Override\r\nprotected void onStart() {\r\n    IntentFilter intentFilter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\r\n    registerReceiver(detector,intentFilter);\r\n    super.onStart();\r\n}\r\n\r\n@Override\r\nprotected void onStop() {\r\n    unregisterReceiver(detector);\r\n    super.onStop();\r\n}\r\n```\r\n\r\nWhile the application is running in my device, when I switch off the internet the dialog shows (which is correct), and then again when I switch on the internet, strangely enough the dialog still keeps on showing. Why is that? Where am I going wrong?\r\n\r\n**EDIT:** These permissions are there in my `manifest`:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n```","title":"Android: showing an alertdialog while internet is not connected in device","body":"<p>I want to check if the internet is connected and show a <code>dialog</code> if it is not. This is my code:</p>\n<p><strong>network_class.java</strong></p>\n<pre><code> public class network_class {\n    public static boolean isConnectedToInternet(Context context){\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n        if (activeNetwork != null) {\n            if (activeNetwork.getType() == ConnectivityManager.TYPE_WIFI) {\n                return true;\n            }\n            else if(activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p><strong>network_detector.java</strong></p>\n<pre><code>public class network_detector extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        View alertdialog_1 = LayoutInflater.from(context).inflate(R.layout.network_dialog,null);\n        AlertDialog.Builder dialog_1 = new AlertDialog.Builder(context);\n        dialog_1.setView(alertdialog_1);\n\n        AlertDialog dialog = dialog_1.create();\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n\n        dialog.setCancelable(false);\n        if(network_class.isConnectedToInternet(context)){\n            if(dialog.isShowing())\n                dialog.cancel();\n        }\n        else\n            dialog.show();\n    }\n}\n</code></pre>\n<p>After that, I am using the receiver in my <code>MainActivity</code>:</p>\n<pre><code>network_detector detector = new network_detector();\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    //some irrelevant code here\n}\n\n@Override\nprotected void onStart() {\n    IntentFilter intentFilter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\n    registerReceiver(detector,intentFilter);\n    super.onStart();\n}\n\n@Override\nprotected void onStop() {\n    unregisterReceiver(detector);\n    super.onStop();\n}\n</code></pre>\n<p>While the application is running in my device, when I switch off the internet the dialog shows (which is correct), and then again when I switch on the internet, strangely enough the dialog still keeps on showing. Why is that? Where am I going wrong?</p>\n<p><strong>EDIT:</strong> These permissions are there in my <code>manifest</code>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"},{"tags":["java","spring","yaml","spring-cloud","gateway"],"owner":{"account_id":28633719,"reputation":1,"user_id":21924222,"display_name":"departure_L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684486008,"creation_date":1684486008,"question_id":76287451,"body_markdown":"Today, I learned how to implement the gateway for my current project, using the Spring Cloud Gateway\r\n\r\nFound a configuration in the configuration file that is:\r\n```yml\r\nspring:\r\n cloud:\r\n    gateway:\r\n      predicate:\r\n        read-body:\r\n          enabled: true\r\n```\r\nAfter reviewing Spring&#39;s official website document, I couldn&#39;t find a very useful description, only saw one sentence:\r\n[enter image description here](https://i.stack.imgur.com/EGRtK.png)\r\nAt first, I thought it was a use of ReadBodyPredicteFactory, but this PredicteFactory already has a way of using it:\r\n```yml\r\npredicates:\r\n   - Path=/**\r\n   - name: ReadBodyPredicateFactory\r\n```\r\n\r\nWhen writing my own demo and trying to use read-body, there will also be a prompt message:\r\nCannot resolve configuration property &#39;spring.cloud.gateway.predicate.read-body.enabled&#39;\r\n\r\nSo what exactly is read-body used for\r\n\r\nI would like to know how to use this configuration property","title":"What is the configuration property of read-body in Spring Cloud Gateway used for and how to use it","body":"<p>Today, I learned how to implement the gateway for my current project, using the Spring Cloud Gateway</p>\n<p>Found a configuration in the configuration file that is:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n cloud:\n    gateway:\n      predicate:\n        read-body:\n          enabled: true\n</code></pre>\n<p>After reviewing Spring's official website document, I couldn't find a very useful description, only saw one sentence:\n<a href=\"https://i.stack.imgur.com/EGRtK.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nAt first, I thought it was a use of ReadBodyPredicteFactory, but this PredicteFactory already has a way of using it:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>predicates:\n   - Path=/**\n   - name: ReadBodyPredicateFactory\n</code></pre>\n<p>When writing my own demo and trying to use read-body, there will also be a prompt message:\nCannot resolve configuration property 'spring.cloud.gateway.predicate.read-body.enabled'</p>\n<p>So what exactly is read-body used for</p>\n<p>I would like to know how to use this configuration property</p>\n"},{"tags":["java","logging","quickfixj"],"comments":[{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1684486537,"post_id":76287441,"comment_id":134527523,"body_markdown":"This could only be configured via the log framework, log4j for example","body":"This could only be configured via the log framework, log4j for example"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1684495780,"post_id":76287441,"comment_id":134529294,"body_markdown":"Maybe this helps:  https://github.com/quickfix-j/quickfixj/discussions/558","body":"Maybe this helps:  <a href=\"https://github.com/quickfix-j/quickfixj/discussions/558\" rel=\"nofollow noreferrer\">github.com/quickfix-j/quickfixj/discussions/558</a>"}],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684485919,"creation_date":1684485919,"question_id":76287441,"body_markdown":"When running a Java application with QuickFix/J library, is it possible to configure the Quickfix/J logs to be archived every midnight (or when we reach a certain size)? and to delete the logs when the max number of logs reaches x log files?\r\n\r\nSimilar behavior as logback for Java spring boot logs for example...","title":"Quickfix/J: message logs archiving and clean up","body":"<p>When running a Java application with QuickFix/J library, is it possible to configure the Quickfix/J logs to be archived every midnight (or when we reach a certain size)? and to delete the logs when the max number of logs reaches x log files?</p>\n<p>Similar behavior as logback for Java spring boot logs for example...</p>\n"},{"tags":["java","keycloak","keycloak-services"],"comments":[{"owner":{"account_id":9578335,"reputation":457,"user_id":7113627,"accept_rate":90,"display_name":"Prabhav"},"score":0,"creation_date":1522229928,"post_id":49530670,"comment_id":86067995,"body_markdown":"{ is missing in  quotes","body":"{ is missing in  quotes"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":1,"creation_date":1522238095,"post_id":49530670,"comment_id":86073890,"body_markdown":"You did not share the full code what exactly you are doing. Did you test your code if it is working with master realm or not?","body":"You did not share the full code what exactly you are doing. Did you test your code if it is working with master realm or not?"}],"answers":[{"comments":[{"owner":{"account_id":10212782,"reputation":667,"user_id":7539387,"accept_rate":40,"display_name":"Programmer"},"score":0,"creation_date":1522230989,"post_id":49530927,"comment_id":86068794,"body_markdown":"I have used the above code still the exception is there","body":"I have used the above code still the exception is there"}],"tags":[],"owner":{"account_id":11439607,"reputation":2005,"user_id":8385680,"display_name":"Harsh Mishra"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1522503154,"creation_date":1522229526,"answer_id":49530927,"question_id":49530670,"body_markdown":"Use the below line of code\r\n\r\n\r\n     RoleRepresentation testerRealmRole =\r\n     realmResource.roles().get(&quot;{rolename}&quot;).toRepresentation();","title":"Getting 403 forbidden","body":"<p>Use the below line of code</p>\n\n<pre><code> RoleRepresentation testerRealmRole =\n realmResource.roles().get(\"{rolename}\").toRepresentation();\n</code></pre>\n"}],"owner":{"account_id":10212782,"reputation":667,"user_id":7539387,"accept_rate":40,"display_name":"Programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2936,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684485628,"creation_date":1522228889,"question_id":49530670,"body_markdown":"I am trying to create the users in keycloak from java application. I am able to create users and also assign roles to the newly created users in the master realm. I have created my own realm and also added some roles in the newly created realm. While adding the users and assigning roles to the newly created users I am getting the below exception           \r\n`javax.ws.rs.ForbiddenException: HTTP 403 Forbidden`\r\n\r\nI am getting an exception in the below line        \r\n`RoleRepresentation testerRealmRole = realmResource.roles().get(&quot;rolename}&quot;).toRepresentation();`\r\n\r\nI have created the {rolename} in the realm. I am not able to find what is missing. Please, anyone, help me. Thanks in advance","title":"Getting 403 forbidden","body":"<p>I am trying to create the users in keycloak from java application. I am able to create users and also assign roles to the newly created users in the master realm. I have created my own realm and also added some roles in the newly created realm. While adding the users and assigning roles to the newly created users I am getting the below exception<br>\n<code>javax.ws.rs.ForbiddenException: HTTP 403 Forbidden</code></p>\n\n<p>I am getting an exception in the below line<br>\n<code>RoleRepresentation testerRealmRole = realmResource.roles().get(\"rolename}\").toRepresentation();</code></p>\n\n<p>I have created the {rolename} in the realm. I am not able to find what is missing. Please, anyone, help me. Thanks in advance</p>\n"},{"tags":["java","transactions","isolation-level"],"comments":[{"owner":{"account_id":4891345,"reputation":345,"user_id":3942407,"display_name":"brb tea"},"score":5,"creation_date":1443351005,"post_id":16162357,"comment_id":53451125,"body_markdown":"This completely depends on database. Different database may use different algorithms for isolation levels. Some may use MVCC (no locks on select queries), some use strict 2 phase locking (shared and exclusive locks).","body":"This completely depends on database. Different database may use different algorithms for isolation levels. Some may use MVCC (no locks on select queries), some use strict 2 phase locking (shared and exclusive locks)."}],"answers":[{"comments":[{"owner":{"account_id":1182420,"reputation":5604,"user_id":1157070,"accept_rate":39,"display_name":"lowLatency"},"score":0,"creation_date":1417588609,"post_id":16162426,"comment_id":43001911,"body_markdown":"https://docs.oracle.com/cd/B12037_01/server.101/b10743/consist.htm                    Just to add for Oracle : One can set the isolation level of a transaction by using one of these statements at the beginning of a transaction:\n\nSET TRANSACTION ISOLATION LEVEL READ COMMITTED;   \nSET TRANSACTION ISOLATION LEVEL SERIALIZABLE;   \nSET TRANSACTION READ ONLY;","body":"<a href=\"https://docs.oracle.com/cd/B12037_01/server.101/b10743/consist.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/B12037_01/server.101/b10743/consist.htm</a>                    Just to add for Oracle : One can set the isolation level of a transaction by using one of these statements at the beginning of a transaction:  SET TRANSACTION ISOLATION LEVEL READ COMMITTED;    SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;    SET TRANSACTION READ ONLY;"},{"owner":{"account_id":1182420,"reputation":5604,"user_id":1157070,"accept_rate":39,"display_name":"lowLatency"},"score":2,"creation_date":1417588724,"post_id":16162426,"comment_id":43001952,"body_markdown":"Moreover, to save the networking and processing cost of beginning each transaction with a SET TRANSACTION statement, you can use the ALTER SESSION statement to set the transaction isolation level for all subsequent transactions :\nALTER SESSION SET ISOLATION_LEVEL SERIALIZABLE;                  ALTER SESSION SET ISOLATION_LEVEL READ COMMITTED;","body":"Moreover, to save the networking and processing cost of beginning each transaction with a SET TRANSACTION statement, you can use the ALTER SESSION statement to set the transaction isolation level for all subsequent transactions : ALTER SESSION SET ISOLATION_LEVEL SERIALIZABLE;                  ALTER SESSION SET ISOLATION_LEVEL READ COMMITTED;"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1429825538,"post_id":16162426,"comment_id":47796554,"body_markdown":"I&#39;d like to mention, that the main problem of READ COMMITED refers not to returning stale data on select, but to concurrent update races, when thread C cannot commit because A has changed data in the middle of C&#39;s transaction. That needs special treatment on design level, opposite to SERIALIZABLE, where transactions cannot overlap.","body":"I&#39;d like to mention, that the main problem of READ COMMITED refers not to returning stale data on select, but to concurrent update races, when thread C cannot commit because A has changed data in the middle of C&#39;s transaction. That needs special treatment on design level, opposite to SERIALIZABLE, where transactions cannot overlap."},{"owner":{"account_id":1054830,"reputation":9695,"user_id":1057791,"accept_rate":86,"display_name":"BornToCode"},"score":16,"creation_date":1440334511,"post_id":16162426,"comment_id":52220465,"body_markdown":"Regarding REPEATABLE READ - I think a better example to demonstrate it is as follows: B starts a transaction, read data on block of sql WHERE aField &gt; 10 AND aField &lt; 20, that data is locked until transaction ends. A tries to update that data but waits because of the lock. Now when B will read that data again in that same transaction it&#39;s guaranteed to read the same data, because it&#39;s locked. Correct me if I&#39;m wrong.","body":"Regarding REPEATABLE READ - I think a better example to demonstrate it is as follows: B starts a transaction, read data on block of sql WHERE aField &gt; 10 AND aField &lt; 20, that data is locked until transaction ends. A tries to update that data but waits because of the lock. Now when B will read that data again in that same transaction it&#39;s guaranteed to read the same data, because it&#39;s locked. Correct me if I&#39;m wrong."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1441210755,"post_id":16162426,"comment_id":52589368,"body_markdown":"@BornToCode you&#39;re wrong. The example is right, if B executes the same query again, it will read the changes made by A. This is known as phantom read.","body":"@BornToCode you&#39;re wrong. The example is right, if B executes the same query again, it will read the changes made by A. This is known as phantom read."},{"owner":{"account_id":4891345,"reputation":345,"user_id":3942407,"display_name":"brb tea"},"score":0,"creation_date":1443350255,"post_id":16162426,"comment_id":53450888,"body_markdown":"@LuiggiMendoza It depends on DB. For example, in MySQL, there wont be any locks acquired for REPEATABLE READ, but MySQL uses MVCC to return same data on select statements in transaction.","body":"@LuiggiMendoza It depends on DB. For example, in MySQL, there wont be any locks acquired for REPEATABLE READ, but MySQL uses MVCC to return same data on select statements in transaction."},{"owner":{"account_id":4891345,"reputation":345,"user_id":3942407,"display_name":"brb tea"},"score":0,"creation_date":1443350441,"post_id":16162426,"comment_id":53450955,"body_markdown":"@LuiggiMendoza Answer is misleading","body":"@LuiggiMendoza Answer is misleading"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1443362638,"post_id":16162426,"comment_id":53454171,"body_markdown":"@brbtea that&#39;s the general concept about isolation level. To say that MySQL implements it different from other vendors is like asking why Oracle supports `NVL` when MySQL doesn&#39;t. I&#39;m not talking about a specific vendor for the isolation level, but if you want to do it, then please post such answer.","body":"@brbtea that&#39;s the general concept about isolation level. To say that MySQL implements it different from other vendors is like asking why Oracle supports <code>NVL</code> when MySQL doesn&#39;t. I&#39;m not talking about a specific vendor for the isolation level, but if you want to do it, then please post such answer."},{"owner":{"account_id":4891345,"reputation":345,"user_id":3942407,"display_name":"brb tea"},"score":1,"creation_date":1443363023,"post_id":16162426,"comment_id":53454304,"body_markdown":"@LuiggiMendoza As general concept, isolation levels are just about *Dirty Read*, *Non-Repeatable Read* and *Phantom Rows*. Locks (S2PL) or MVCC are implementations for different vendors.","body":"@LuiggiMendoza As general concept, isolation levels are just about <i>Dirty Read</i>, <i>Non-Repeatable Read</i> and <i>Phantom Rows</i>. Locks (S2PL) or MVCC are implementations for different vendors."},{"owner":{"account_id":1054830,"reputation":9695,"user_id":1057791,"accept_rate":86,"display_name":"BornToCode"},"score":4,"creation_date":1444626090,"post_id":16162426,"comment_id":53964736,"body_markdown":"@LuiggiMendoza - I wasn&#39;t accurate, it should be like this - the data that B read is not changed, but consequent selects made by B could return more rows. That&#39;s because **A cannot modify rows that B already read**, until A releases them. However A can **insert new rows that qualify the where condition** (and therefore next time A will execute a select it&#39;ll get a different result with more rows - a phantom read).","body":"@LuiggiMendoza - I wasn&#39;t accurate, it should be like this - the data that B read is not changed, but consequent selects made by B could return more rows. That&#39;s because <b>A cannot modify rows that B already read</b>, until A releases them. However A can <b>insert new rows that qualify the where condition</b> (and therefore next time A will execute a select it&#39;ll get a different result with more rows - a phantom read)."},{"owner":{"account_id":938568,"reputation":3010,"user_id":967062,"accept_rate":62,"display_name":"Nitin Bansal"},"score":0,"creation_date":1609568698,"post_id":16162426,"comment_id":115867612,"body_markdown":"@BornToCode in your comment &quot;until A releases them&quot;, do you mean &quot;until B releases them&quot;?","body":"@BornToCode in your comment &quot;until A releases them&quot;, do you mean &quot;until B releases them&quot;?"},{"owner":{"account_id":1054830,"reputation":9695,"user_id":1057791,"accept_rate":86,"display_name":"BornToCode"},"score":1,"creation_date":1609623838,"post_id":16162426,"comment_id":115881969,"body_markdown":"@NitinBansal - Yes, it was typo. It should be &quot;**A cannot modify rows that B already read**, until B releases them&quot;.","body":"@NitinBansal - Yes, it was typo. It should be &quot;<b>A cannot modify rows that B already read</b>, until B releases them&quot;."}],"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"comment_count":12,"down_vote_count":1,"up_vote_count":179,"is_accepted":true,"score":178,"last_activity_date":1551266558,"creation_date":1366698412,"answer_id":16162426,"question_id":16162357,"body_markdown":"&gt; **I want to understand** the lock each transaction isolation takes on the table\r\n\r\nFor example, you have 3 concurrent processes A, B and C. A starts a transaction, writes data and commit/rollback (depending on results). B just executes a `SELECT` statement to read data. C reads and updates data. All these process work on the same table T.\r\n\r\n- **READ UNCOMMITTED** - no lock on the table. You can read data in the table while writing on it. This means A writes data (uncommitted) and B can read this uncommitted data and use it (for any purpose). If A executes a rollback, B still has read the data and used it. This is the fastest but most insecure way to work with data since can lead to data holes in not physically related tables (yes, two tables can be logically but not physically related in real-world apps =\\\\).\r\n- **READ COMMITTED** - lock on committed data. You can read the data that was only committed. This means A writes data and B can&#39;t read the data saved by A until A executes a commit. The problem here is that C can update data that was read and used on B and B client won&#39;t have the updated data.\r\n- **REPEATABLE READ** - lock on a block of SQL(which is selected by using select query). This means B reads the data under some condition i.e. `WHERE aField &gt; 10 AND aField &lt; 20`, A inserts data where `aField` value is between 10 and 20, then B reads the data again and get a different result.\r\n- **SERIALIZABLE** - lock on a full table(on which Select query is fired). This means, B reads the data and **no other transaction can modify the data** on the table. This is the most secure but slowest way to work with data. Also, since a simple read operation locks **the table**, this can lead to heavy problems on production: imagine that T table is an Invoice table, user X wants to know the invoices of the day and user Y wants to create a new invoice, so while X executes the read of the invoices, Y can&#39;t add a new invoice (and when it&#39;s about money, people get really mad, especially the bosses). \r\n\r\n\r\n&gt; **I want to understand** where we define these isolation levels: only at JDBC/hibernate level or in DB also\r\n\r\nUsing JDBC, you define it using [`Connection#setTransactionIsolation`](http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#setTransactionIsolation(int)).\r\n\r\nUsing Hibernate:\r\n\r\n    &lt;property name=&quot;hibernate.connection.isolation&quot;&gt;2&lt;/property&gt;\r\n\r\nWhere\r\n\r\n- 1: READ UNCOMMITTED\r\n- 2: READ COMMITTED\r\n- 4: REPEATABLE READ\r\n- 8: SERIALIZABLE\r\n\r\nHibernate configuration is taken from [here](http://federicovarela.blogspot.com/2008/01/isolation-level-en-hibernate.html) (sorry, it&#39;s in Spanish).\r\n\r\nBy the way, you can set the isolation level on RDBMS as well:\r\n\r\n- [MySQL isolation level](http://dev.mysql.com/doc/refman/5.0/en/set-transaction.html), \r\n- [SQL Server isolation level](http://msdn.microsoft.com/en-us/library/ms173763(v=sql.110).aspx)\r\n- [Informix isolation level](http://publib.boulder.ibm.com/infocenter/idshelp/v10/index.jsp?topic=/com.ibm.sqlt.doc/sqltmst239.htm) (Personal Note: I will never forget about `SET ISOLATION TO DIRTY READ` sentence.)\r\n\r\nand on and on...\r\n","title":"Transaction isolation levels relation with locks on table","body":"<blockquote>\n  <p><strong>I want to understand</strong> the lock each transaction isolation takes on the table</p>\n</blockquote>\n\n<p>For example, you have 3 concurrent processes A, B and C. A starts a transaction, writes data and commit/rollback (depending on results). B just executes a <code>SELECT</code> statement to read data. C reads and updates data. All these process work on the same table T.</p>\n\n<ul>\n<li><strong>READ UNCOMMITTED</strong> - no lock on the table. You can read data in the table while writing on it. This means A writes data (uncommitted) and B can read this uncommitted data and use it (for any purpose). If A executes a rollback, B still has read the data and used it. This is the fastest but most insecure way to work with data since can lead to data holes in not physically related tables (yes, two tables can be logically but not physically related in real-world apps =\\).</li>\n<li><strong>READ COMMITTED</strong> - lock on committed data. You can read the data that was only committed. This means A writes data and B can't read the data saved by A until A executes a commit. The problem here is that C can update data that was read and used on B and B client won't have the updated data.</li>\n<li><strong>REPEATABLE READ</strong> - lock on a block of SQL(which is selected by using select query). This means B reads the data under some condition i.e. <code>WHERE aField &gt; 10 AND aField &lt; 20</code>, A inserts data where <code>aField</code> value is between 10 and 20, then B reads the data again and get a different result.</li>\n<li><strong>SERIALIZABLE</strong> - lock on a full table(on which Select query is fired). This means, B reads the data and <strong>no other transaction can modify the data</strong> on the table. This is the most secure but slowest way to work with data. Also, since a simple read operation locks <strong>the table</strong>, this can lead to heavy problems on production: imagine that T table is an Invoice table, user X wants to know the invoices of the day and user Y wants to create a new invoice, so while X executes the read of the invoices, Y can't add a new invoice (and when it's about money, people get really mad, especially the bosses). </li>\n</ul>\n\n<blockquote>\n  <p><strong>I want to understand</strong> where we define these isolation levels: only at JDBC/hibernate level or in DB also</p>\n</blockquote>\n\n<p>Using JDBC, you define it using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#setTransactionIsolation(int)\" rel=\"noreferrer\"><code>Connection#setTransactionIsolation</code></a>.</p>\n\n<p>Using Hibernate:</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.isolation\"&gt;2&lt;/property&gt;\n</code></pre>\n\n<p>Where</p>\n\n<ul>\n<li>1: READ UNCOMMITTED</li>\n<li>2: READ COMMITTED</li>\n<li>4: REPEATABLE READ</li>\n<li>8: SERIALIZABLE</li>\n</ul>\n\n<p>Hibernate configuration is taken from <a href=\"http://federicovarela.blogspot.com/2008/01/isolation-level-en-hibernate.html\" rel=\"noreferrer\">here</a> (sorry, it's in Spanish).</p>\n\n<p>By the way, you can set the isolation level on RDBMS as well:</p>\n\n<ul>\n<li><a href=\"http://dev.mysql.com/doc/refman/5.0/en/set-transaction.html\" rel=\"noreferrer\">MySQL isolation level</a>, </li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ms173763(v=sql.110).aspx\" rel=\"noreferrer\">SQL Server isolation level</a></li>\n<li><a href=\"http://publib.boulder.ibm.com/infocenter/idshelp/v10/index.jsp?topic=/com.ibm.sqlt.doc/sqltmst239.htm\" rel=\"noreferrer\">Informix isolation level</a> (Personal Note: I will never forget about <code>SET ISOLATION TO DIRTY READ</code> sentence.)</li>\n</ul>\n\n<p>and on and on...</p>\n"},{"tags":[],"owner":{"account_id":6699622,"reputation":1259,"user_id":5166587,"display_name":"Goyal Vicky"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662600319,"creation_date":1438717794,"answer_id":31818012,"question_id":16162357,"body_markdown":"The locks are always taken at DB level.\r\n\r\nFrom [Oracle official document][1]:\r\n\r\n&gt; To avoid conflicts during a transaction, a DBMS uses locks, mechanisms for blocking access by others to the data that is being accessed by the transaction. (Note that in auto-commit mode, where each statement is a transaction, locks are held for only one statement.) After a lock is set, it remains in force until the transaction is committed or rolled back. For example, a DBMS could lock a row of a table until updates to it have been committed. The effect of this lock would be to prevent a user from getting a dirty read, that is, reading a value before it is made permanent. (Accessing an updated value that has not been committed is considered a *dirty read* because it is possible for that value to be rolled back to its previous value. If you read a value that is later rolled back, you will have read an invalid value.)\r\n&gt; \r\n&gt; How locks are set is determined by what is called a transaction isolation level, which can range from not supporting transactions at all to supporting transactions that enforce very strict access rules.\r\n&gt; \r\n&gt; One example of a transaction isolation level is `TRANSACTION_READ_COMMITTED`, which will not allow a value to be accessed until after it has been committed. In other words, if the transaction isolation level is set to `TRANSACTION_READ_COMMITTED`, the DBMS does not allow dirty reads to occur. The interface `Connection` includes five values that represent the transaction isolation levels you can use in JDBC\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html","title":"Transaction isolation levels relation with locks on table","body":"<p>The locks are always taken at DB level.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"nofollow noreferrer\">Oracle official document</a>:</p>\n<blockquote>\n<p>To avoid conflicts during a transaction, a DBMS uses locks, mechanisms for blocking access by others to the data that is being accessed by the transaction. (Note that in auto-commit mode, where each statement is a transaction, locks are held for only one statement.) After a lock is set, it remains in force until the transaction is committed or rolled back. For example, a DBMS could lock a row of a table until updates to it have been committed. The effect of this lock would be to prevent a user from getting a dirty read, that is, reading a value before it is made permanent. (Accessing an updated value that has not been committed is considered a <em>dirty read</em> because it is possible for that value to be rolled back to its previous value. If you read a value that is later rolled back, you will have read an invalid value.)</p>\n<p>How locks are set is determined by what is called a transaction isolation level, which can range from not supporting transactions at all to supporting transactions that enforce very strict access rules.</p>\n<p>One example of a transaction isolation level is <code>TRANSACTION_READ_COMMITTED</code>, which will not allow a value to be accessed until after it has been committed. In other words, if the transaction isolation level is set to <code>TRANSACTION_READ_COMMITTED</code>, the DBMS does not allow dirty reads to occur. The interface <code>Connection</code> includes five values that represent the transaction isolation levels you can use in JDBC</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4304651,"reputation":9315,"user_id":3517383,"accept_rate":41,"display_name":"gabrielgiussi"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1453828739,"creation_date":1453828739,"answer_id":35019843,"question_id":16162357,"body_markdown":"As brb tea says, depends on the database implementation and the algorithm they use: MVCC or Two Phase Locking.\r\n\r\nCUBRID (open source RDBMS) [explains][1] the idea of this two algorithms:\r\n\r\n&gt; - Two-phase locking (2PL)\r\n&gt; \r\n&gt; The first one is when the T2 transaction tries to change the A record,\r\n&gt; it knows that the T1 transaction has already changed the A record and\r\n&gt; waits until the T1 transaction is completed because the T2 transaction\r\n&gt; cannot know whether the T1 transaction will be committed or rolled\r\n&gt; back. This method is called Two-phase locking (2PL).\r\n&gt; \r\n&gt; - Multi-version concurrency control (MVCC)\r\n&gt; \r\n&gt; The other one is to allow each of them, T1 and T2 transactions, to\r\n&gt; have their own changed versions. Even when the T1 transaction has\r\n&gt; changed the A record from 1 to 2, the T1 transaction leaves the\r\n&gt; original value 1 as it is and writes that the T1 transaction version\r\n&gt; of the A record is 2. Then, the following T2 transaction changes the A\r\n&gt; record from 1 to 3, not from 2 to 4, and writes that the T2\r\n&gt; transaction version of the A record is 3.\r\n&gt; \r\n&gt; When the T1 transaction is rolled back, it does not matter if the 2,\r\n&gt; the T1 transaction version, is not applied to the A record. After\r\n&gt; that, if the T2 transaction is committed, the 3, the T2 transaction\r\n&gt; version, will be applied to the A record. If the T1 transaction is\r\n&gt; committed prior to the T2 transaction, the A record is changed to 2,\r\n&gt; and then to 3 at the time of committing the T2 transaction. The final\r\n&gt; database status is identical to the status of executing each\r\n&gt; transaction independently, without any impact on other transactions.\r\n&gt; Therefore, it satisfies the ACID property. This method is called\r\n&gt; Multi-version concurrency control (MVCC).\r\n\r\nThe MVCC allows concurrent modifications at the cost of increased overhead in memory (because it has to maintain different versions of the same data) and computation (in REPETEABLE_READ level you can&#39;t loose updates so it must check the versions of the data, like Hiberate does with [Optimistick Locking][2]).\r\n\r\nIn 2PL [Transaction isolation levels control the following][3]:\r\n\r\n\r\n&gt; - Whether locks are taken when data is read, and what type of locks are requested.\r\n&gt; \r\n&gt; - How long the read locks are held.\r\n&gt; \r\n&gt; - Whether a read operation referencing rows modified by another transaction:\r\n&gt; \r\n&gt;    - Block until the exclusive lock on the row is freed.\r\n&gt; \r\n&gt;    - Retrieve the committed version of the row that existed at the time the statement or transaction started.\r\n&gt; \r\n&gt;    - Read the uncommitted data modification.\r\n&gt; \r\n&gt; Choosing a transaction isolation level does not affect the locks that\r\n&gt; are acquired to protect data modifications. A transaction always gets\r\n&gt; an exclusive lock on any data it modifies and holds that lock until\r\n&gt; the transaction completes, regardless of the isolation level set for\r\n&gt; that transaction. For read operations, transaction isolation levels\r\n&gt; primarily define the level of protection from the effects of\r\n&gt; modifications made by other transactions.\r\n&gt; \r\n&gt; **A lower isolation level increases the ability of many users to access\r\n&gt; data at the same time, but increases the number of concurrency\r\n&gt; effects**, such as dirty reads or lost updates, that users might\r\n&gt; encounter.\r\n\r\nConcrete examples of the relation between locks and isolation levels in [SQL Server][4] (use 2PL except on READ_COMMITED with READ_COMMITTED_SNAPSHOT=ON)\r\n\r\n - READ_UNCOMMITED: do not issue shared locks to prevent other transactions from modifying data read by the current transaction. READ UNCOMMITTED transactions are also not blocked by exclusive locks that would prevent the current transaction from reading rows that have been modified but not committed by other transactions. [...]\r\n\r\n - READ_COMMITED: \r\n\r\n   - If READ_COMMITTED_SNAPSHOT is set to OFF (the default): uses shared locks to prevent other transactions from modifying rows while the current transaction is running a read operation. The shared locks also block the statement from reading rows modified by other transactions until the other transaction is completed. [...]  Row locks are released before the next row is processed. [...]\r\n   - If READ_COMMITTED_SNAPSHOT is set to ON, the Database Engine uses row versioning to present each statement with a transactionally consistent snapshot of the data as it existed at the start of the statement. Locks are not used to protect the data from updates by other transactions.\r\n \r\n - REPETEABLE_READ: Shared locks are placed on all data read by each statement in the transaction and are held until the transaction completes.\r\n\r\n - SERIALIZABLE: Range locks are placed in the range of key values that match the search conditions of each statement executed in a transaction. [...] The range locks are held until the transaction completes.\r\n\r\n\r\n  [1]: http://www.cubrid.org/blog/cubrid-life/all-about-two-phase-locking-and-a-little-bit-mvcc/\r\n  [2]: http://docs.jboss.org/hibernate/orm/5.0/manual/en-US/html/ch13.html#transactions-optimistic\r\n  [3]: https://msdn.microsoft.com/en-us/library/ms378149%28v=sql.110%29.aspx\r\n  [4]: https://msdn.microsoft.com/en-us/library/ms173763.aspx","title":"Transaction isolation levels relation with locks on table","body":"<p>As brb tea says, depends on the database implementation and the algorithm they use: MVCC or Two Phase Locking.</p>\n\n<p>CUBRID (open source RDBMS) <a href=\"http://www.cubrid.org/blog/cubrid-life/all-about-two-phase-locking-and-a-little-bit-mvcc/\" rel=\"noreferrer\">explains</a> the idea of this two algorithms:</p>\n\n<blockquote>\n  <ul>\n  <li>Two-phase locking (2PL)</li>\n  </ul>\n  \n  <p>The first one is when the T2 transaction tries to change the A record,\n  it knows that the T1 transaction has already changed the A record and\n  waits until the T1 transaction is completed because the T2 transaction\n  cannot know whether the T1 transaction will be committed or rolled\n  back. This method is called Two-phase locking (2PL).</p>\n  \n  <ul>\n  <li>Multi-version concurrency control (MVCC)</li>\n  </ul>\n  \n  <p>The other one is to allow each of them, T1 and T2 transactions, to\n  have their own changed versions. Even when the T1 transaction has\n  changed the A record from 1 to 2, the T1 transaction leaves the\n  original value 1 as it is and writes that the T1 transaction version\n  of the A record is 2. Then, the following T2 transaction changes the A\n  record from 1 to 3, not from 2 to 4, and writes that the T2\n  transaction version of the A record is 3.</p>\n  \n  <p>When the T1 transaction is rolled back, it does not matter if the 2,\n  the T1 transaction version, is not applied to the A record. After\n  that, if the T2 transaction is committed, the 3, the T2 transaction\n  version, will be applied to the A record. If the T1 transaction is\n  committed prior to the T2 transaction, the A record is changed to 2,\n  and then to 3 at the time of committing the T2 transaction. The final\n  database status is identical to the status of executing each\n  transaction independently, without any impact on other transactions.\n  Therefore, it satisfies the ACID property. This method is called\n  Multi-version concurrency control (MVCC).</p>\n</blockquote>\n\n<p>The MVCC allows concurrent modifications at the cost of increased overhead in memory (because it has to maintain different versions of the same data) and computation (in REPETEABLE_READ level you can't loose updates so it must check the versions of the data, like Hiberate does with <a href=\"http://docs.jboss.org/hibernate/orm/5.0/manual/en-US/html/ch13.html#transactions-optimistic\" rel=\"noreferrer\">Optimistick Locking</a>).</p>\n\n<p>In 2PL <a href=\"https://msdn.microsoft.com/en-us/library/ms378149%28v=sql.110%29.aspx\" rel=\"noreferrer\">Transaction isolation levels control the following</a>:</p>\n\n<blockquote>\n  <ul>\n  <li><p>Whether locks are taken when data is read, and what type of locks are requested.</p></li>\n  <li><p>How long the read locks are held.</p></li>\n  <li><p>Whether a read operation referencing rows modified by another transaction:</p>\n  \n  <ul>\n  <li><p>Block until the exclusive lock on the row is freed.</p></li>\n  <li><p>Retrieve the committed version of the row that existed at the time the statement or transaction started.</p></li>\n  <li><p>Read the uncommitted data modification.</p></li>\n  </ul></li>\n  </ul>\n  \n  <p>Choosing a transaction isolation level does not affect the locks that\n  are acquired to protect data modifications. A transaction always gets\n  an exclusive lock on any data it modifies and holds that lock until\n  the transaction completes, regardless of the isolation level set for\n  that transaction. For read operations, transaction isolation levels\n  primarily define the level of protection from the effects of\n  modifications made by other transactions.</p>\n  \n  <p><strong>A lower isolation level increases the ability of many users to access\n  data at the same time, but increases the number of concurrency\n  effects</strong>, such as dirty reads or lost updates, that users might\n  encounter.</p>\n</blockquote>\n\n<p>Concrete examples of the relation between locks and isolation levels in <a href=\"https://msdn.microsoft.com/en-us/library/ms173763.aspx\" rel=\"noreferrer\">SQL Server</a> (use 2PL except on READ_COMMITED with READ_COMMITTED_SNAPSHOT=ON)</p>\n\n<ul>\n<li><p>READ_UNCOMMITED: do not issue shared locks to prevent other transactions from modifying data read by the current transaction. READ UNCOMMITTED transactions are also not blocked by exclusive locks that would prevent the current transaction from reading rows that have been modified but not committed by other transactions. [...]</p></li>\n<li><p>READ_COMMITED: </p>\n\n<ul>\n<li>If READ_COMMITTED_SNAPSHOT is set to OFF (the default): uses shared locks to prevent other transactions from modifying rows while the current transaction is running a read operation. The shared locks also block the statement from reading rows modified by other transactions until the other transaction is completed. [...]  Row locks are released before the next row is processed. [...]</li>\n<li>If READ_COMMITTED_SNAPSHOT is set to ON, the Database Engine uses row versioning to present each statement with a transactionally consistent snapshot of the data as it existed at the start of the statement. Locks are not used to protect the data from updates by other transactions.</li>\n</ul></li>\n<li><p>REPETEABLE_READ: Shared locks are placed on all data read by each statement in the transaction and are held until the transaction completes.</p></li>\n<li><p>SERIALIZABLE: Range locks are placed in the range of key values that match the search conditions of each statement executed in a transaction. [...] The range locks are held until the transaction completes.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28626797,"reputation":1,"user_id":21918633,"display_name":"cherryCode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684484828,"creation_date":1684484828,"answer_id":76287312,"question_id":16162357,"body_markdown":"Regarding READ COMMITTED -  I think a better example to demonstrate it is as follows：\r\n\r\nAssume:\r\ndata a =10;\r\nThread A ，B，C\r\n1. A execute A = A+1 ==》 A = 11 ;\r\nIn the meantime，B and C tries to update that data but waits because of the lock.\r\n2. A commit data after ,B query A = 11 , In the meantime ,C update A = A +1 = 12,  The problem here that is B query A = 12 again，Two queries with inconsistent data in the same transaction\r\n\r\nCorrect me if I&#39;m wrong.","title":"Transaction isolation levels relation with locks on table","body":"<p>Regarding READ COMMITTED -  I think a better example to demonstrate it is as follows：</p>\n<p>Assume:\ndata a =10;\nThread A ，B，C</p>\n<ol>\n<li>A execute A = A+1 ==》 A = 11 ;\nIn the meantime，B and C tries to update that data but waits because of the lock.</li>\n<li>A commit data after ,B query A = 11 , In the meantime ,C update A = A +1 = 12,  The problem here that is B query A = 12 again，Two queries with inconsistent data in the same transaction</li>\n</ol>\n<p>Correct me if I'm wrong.</p>\n"}],"owner":{"account_id":1182420,"reputation":5604,"user_id":1157070,"accept_rate":39,"display_name":"lowLatency"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120535,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":16162426,"answer_count":4,"score":123,"last_activity_date":1684484828,"creation_date":1366698160,"question_id":16162357,"body_markdown":"I have read about 4 levels of isolation:\r\n   \r\n\r\n    Isolation Level \t  Dirty Read   \tNonrepeatable Read \tPhantom Read  \r\n    READ UNCOMMITTED \t  Permitted \t  Permitted \t      Permitted\r\n    READ COMMITTED           \t-- \t      Permitted \t      Permitted\r\n    REPEATABLE READ \t        -- \t           -- \t          Permitted\r\n    SERIALIZABLE \t            -- \t           -- \t           --\r\n\r\n**I want to understand** the lock each transaction isolation takes on the table  \r\n\r\n    READ UNCOMMITTED - no lock on table\r\n    READ COMMITTED - lock on committed data\r\n    REPEATABLE READ - lock on block of sql(which is selected by using select query)\r\n    SERIALIZABLE - lock on full table(on which Select query is fired)\r\n\r\nbelow are the three phenomena which can occur in transaction isolation\r\n&lt;br&gt;\r\n&lt;i&gt;Dirty Read&lt;/i&gt;- no lock\r\n&lt;br&gt;\r\n&lt;i&gt;Nonrepeatable Read&lt;/i&gt; - no dirty read as lock on committed data\r\n&lt;br&gt;\r\n&lt;i&gt;Phantom Read&lt;/i&gt; - lock on block of sql(which is selected by using select query)  \r\n\r\n**I want to understand** where we define these isolation levels : only at jdbc/hibernate level or in DB also  \r\n\r\nPS: I have gone through the links in https://stackoverflow.com/questions/13647604/isolation-levels-in-oracle, but they looks clumsy and talk on database specific \r\n\r\n","title":"Transaction isolation levels relation with locks on table","body":"<p>I have read about 4 levels of isolation:</p>\n\n<pre><code>Isolation Level       Dirty Read    Nonrepeatable Read  Phantom Read  \nREAD UNCOMMITTED      Permitted       Permitted           Permitted\nREAD COMMITTED              --        Permitted           Permitted\nREPEATABLE READ             --             --             Permitted\nSERIALIZABLE                --             --              --\n</code></pre>\n\n<p><strong>I want to understand</strong> the lock each transaction isolation takes on the table  </p>\n\n<pre><code>READ UNCOMMITTED - no lock on table\nREAD COMMITTED - lock on committed data\nREPEATABLE READ - lock on block of sql(which is selected by using select query)\nSERIALIZABLE - lock on full table(on which Select query is fired)\n</code></pre>\n\n<p>below are the three phenomena which can occur in transaction isolation\n<br>\n<i>Dirty Read</i>- no lock\n<br>\n<i>Nonrepeatable Read</i> - no dirty read as lock on committed data\n<br>\n<i>Phantom Read</i> - lock on block of sql(which is selected by using select query)  </p>\n\n<p><strong>I want to understand</strong> where we define these isolation levels : only at jdbc/hibernate level or in DB also  </p>\n\n<p>PS: I have gone through the links in <a href=\"https://stackoverflow.com/questions/13647604/isolation-levels-in-oracle\">Isolation levels in oracle</a>, but they looks clumsy and talk on database specific </p>\n"},{"tags":["java","eclipse","syntax","lwjgl","java-package"],"comments":[{"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1683957653,"post_id":76241169,"comment_id":134449351,"body_markdown":"This is not a problem with OpenGL itself or with the OpenGL API.","body":"This is not a problem with OpenGL itself or with the OpenGL API."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1683957995,"post_id":76241169,"comment_id":134449375,"body_markdown":"Does this help? `import static fully.qualified.path.GL11.*;`","body":"Does this help? <code>import static fully.qualified.path.GL11.*;</code>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684484596,"creation_date":1684484596,"answer_id":76287286,"question_id":76241169,"body_markdown":"To reference static methods with qualifying them with the class name, eg `glEnable(x)` instead of `GL11.glEnable(x)`, you must import the static methods, either individually or all of them:\r\n\r\n    import static fully.qualified.path.GL11.*;\r\n\r\n","title":"Java OpenGL Syntax","body":"<p>To reference static methods with qualifying them with the class name, eg <code>glEnable(x)</code> instead of <code>GL11.glEnable(x)</code>, you must import the static methods, either individually or all of them:</p>\n<pre><code>import static fully.qualified.path.GL11.*;\n</code></pre>\n"}],"owner":{"account_id":28592432,"reputation":1,"user_id":21891337,"display_name":"DargPhoenix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1684484596,"creation_date":1683954647,"question_id":76241169,"body_markdown":"i am new here and have a little problem.\r\nI included OpenGl into eclipse and tried to run a little test program and everything is working fine as it should, but i have a problem with the syntax.\r\n\r\nHere is a little example :\r\n\r\n```\r\nGL11.glEnable(GL11.GL_DEPTH_TEST);\r\nGL11.glMatrixMode(GL11.GL_PROJECTION);\r\nGL11.glLoadIdentity();\r\nGLU.gluPerspective(45, (float)Display.getWidth()/(float)Display.getHeight(), 0.3f,1000f);\r\nGL11.glMatrixMode(GL11.GL_MODELVIEW);\r\n```\r\n\r\nAs far as i remember i didnt have to call the GL version everytime and should look like this :\r\n\r\n        \r\n```\r\nglEnable(GL_DEPTH_TEST);\r\nglMatrixMode(GL_PROJECTION);\r\nglLoadIdentity();\r\nGLU.gluPerspective(45, (float)Display.getWidth()/(float)Display.getHeight(), 0.3f, 1000f);\r\nglMatrixMode(GL_MODELVIEW);\r\n```\r\n\r\n\r\nI havnt found any answer out there because for everyone it seems to work from scratch. I start to believe that i did a mistake while including opengl into eclipse but i did it like i did it back at university.\r\n\r\n[java build path](https://i.stack.imgur.com/2HLfX.png)\r\n\r\nHopefully someone knows what i can do or not do :D\r\n\r\nI tried following tutorials on youtube and they all use the second codeblock and even if i follow the same libraries it doesnt work for me while it works in the tutorial ???\r\nI tried different build paths and didnt change anything.\r\nI tried to change the library version but didnt do anything either.\r\n\r\n","title":"Java OpenGL Syntax","body":"<p>i am new here and have a little problem.\nI included OpenGl into eclipse and tried to run a little test program and everything is working fine as it should, but i have a problem with the syntax.</p>\n<p>Here is a little example :</p>\n<pre><code>GL11.glEnable(GL11.GL_DEPTH_TEST);\nGL11.glMatrixMode(GL11.GL_PROJECTION);\nGL11.glLoadIdentity();\nGLU.gluPerspective(45, (float)Display.getWidth()/(float)Display.getHeight(), 0.3f,1000f);\nGL11.glMatrixMode(GL11.GL_MODELVIEW);\n</code></pre>\n<p>As far as i remember i didnt have to call the GL version everytime and should look like this :</p>\n<pre><code>glEnable(GL_DEPTH_TEST);\nglMatrixMode(GL_PROJECTION);\nglLoadIdentity();\nGLU.gluPerspective(45, (float)Display.getWidth()/(float)Display.getHeight(), 0.3f, 1000f);\nglMatrixMode(GL_MODELVIEW);\n</code></pre>\n<p>I havnt found any answer out there because for everyone it seems to work from scratch. I start to believe that i did a mistake while including opengl into eclipse but i did it like i did it back at university.</p>\n<p><a href=\"https://i.stack.imgur.com/2HLfX.png\" rel=\"nofollow noreferrer\">java build path</a></p>\n<p>Hopefully someone knows what i can do or not do :D</p>\n<p>I tried following tutorials on youtube and they all use the second codeblock and even if i follow the same libraries it doesnt work for me while it works in the tutorial ???\nI tried different build paths and didnt change anything.\nI tried to change the library version but didnt do anything either.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":2039154,"reputation":702,"user_id":1820778,"display_name":"Pedro"},"score":1,"creation_date":1684488198,"post_id":76287246,"comment_id":134527866,"body_markdown":"The configuration inside the plugin is applied whenever you use maven to start your application (either from your IDE or from the command line: &quot;mvn spring-boot:run&quot;). However, once the jar has been generated and you want to run it from the command line. Then you need to state the parameters in the command line.  You can find here a better explanation: https://www.baeldung.com/spring-boot-run-maven-vs-executable-jar","body":"The configuration inside the plugin is applied whenever you use maven to start your application (either from your IDE or from the command line: &quot;mvn spring-boot:run&quot;). However, once the jar has been generated and you want to run it from the command line. Then you need to state the parameters in the command line.  You can find here a better explanation: <a href=\"https://www.baeldung.com/spring-boot-run-maven-vs-executable-jar\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-run-maven-vs-executable-jar</a>"}],"owner":{"account_id":28633655,"reputation":3,"user_id":21924172,"display_name":"Noobgrammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684484149,"creation_date":1684484149,"question_id":76287246,"body_markdown":"What difference between pom.xml jvmargs and java plain args?\r\n\r\nHi,\r\n\r\nI want know abount what&#39;s difference betwwen \r\n \r\n```\r\n   &lt;plugin&gt;\r\n        &lt;groupid&gt;org.springframework.boot&lt;/groupid&gt;\r\n        &lt;artifactid&gt;spring-boot-maven-plugin&lt;/artifactid&gt;\r\n        &lt;configuration&gt;\r\n            &lt;jvmarguments&gt;\r\n                -Xms1024m -Xmx1024m\r\n            &lt;/jvmarguments&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n```\r\nand \r\n\r\n```\r\njava -Xms1024m -Xmx1024m runnable.jar\r\n```\r\n\r\nSome people told me use both of them,\r\n\r\nIs that necessary?","title":"Difference betweem Maven jvmarg and jvm args command","body":"<p>What difference between pom.xml jvmargs and java plain args?</p>\n<p>Hi,</p>\n<p>I want know abount what's difference betwwen</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;groupid&gt;org.springframework.boot&lt;/groupid&gt;\n        &lt;artifactid&gt;spring-boot-maven-plugin&lt;/artifactid&gt;\n        &lt;configuration&gt;\n            &lt;jvmarguments&gt;\n                -Xms1024m -Xmx1024m\n            &lt;/jvmarguments&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n</code></pre>\n<p>and</p>\n<pre><code>java -Xms1024m -Xmx1024m runnable.jar\n</code></pre>\n<p>Some people told me use both of them,</p>\n<p>Is that necessary?</p>\n"},{"tags":["java","spring","junit","junit5","springmockito"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684427771,"post_id":76282637,"comment_id":134519304,"body_markdown":"Hello, it looks like you don&#39;t understand the idea of mocking real classes in unit tests. Your tests look more like integration tests and not unit tests. I recommend reading some tutorials first.","body":"Hello, it looks like you don&#39;t understand the idea of mocking real classes in unit tests. Your tests look more like integration tests and not unit tests. I recommend reading some tutorials first."}],"answers":[{"comments":[{"owner":{"account_id":28629241,"reputation":3,"user_id":21920634,"display_name":"caspian"},"score":0,"creation_date":1684429640,"post_id":76282833,"comment_id":134519756,"body_markdown":"Yes, it worked! Could you please clarify a little bit this -&gt; You didn&#39;t stub any of the behavior for your dependencies. You mean adding methods like &quot;when&quot; or something else?","body":"Yes, it worked! Could you please clarify a little bit this -&gt; You didn&#39;t stub any of the behavior for your dependencies. You mean adding methods like &quot;when&quot; or something else?"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1684430920,"post_id":76282833,"comment_id":134520025,"body_markdown":"Yes. This is exactly what I meant.","body":"Yes. This is exactly what I meant."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1684438137,"post_id":76282833,"comment_id":134521470,"body_markdown":"Do you need some more help?","body":"Do you need some more help?"},{"owner":{"account_id":28629241,"reputation":3,"user_id":21920634,"display_name":"caspian"},"score":0,"creation_date":1684444867,"post_id":76282833,"comment_id":134522717,"body_markdown":"I&#39;ll try to handle it by myself, thank you for the help!","body":"I&#39;ll try to handle it by myself, thank you for the help!"}],"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684428226,"creation_date":1684428226,"answer_id":76282833,"question_id":76282637,"body_markdown":" 1. You don&#39;t need to use openMocks(). The annotation @ExtendWith(MockitoExtension.class) already did it for you.\r\n 2. You didn&#39;t stub any of the behavior for your dependencies.\r\n 3. Remove after and before methods. if you want to create Instances for your User and Dto just use private methods. You do not need to create it after every test.\r\n\r\nHere is my example of how it should look. If it worked then you can start refactoring:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class UserServiceTest {\r\n    \r\n        @Mock\r\n        private UserDAO userDAO;\r\n    \r\n        @Mock\r\n        private ModelMapper modelMapper;\r\n    \r\n        @InjectMocks\r\n        private UserService userService;\r\n    \r\n        @Test\r\n        public void testFindUser() {\r\n            // Arrange\r\n            String username = &quot;testUser&quot;;\r\n            User user = User.builder()\r\n                    .id(1)\r\n                    .username(username)\r\n                    .firstname(&quot;John&quot;)\r\n                    .surname(&quot;Doe&quot;)\r\n                    .email(&quot;johndoe@example.com&quot;)\r\n                    .phoneNumber(&quot;123456789&quot;)\r\n                    .role(Role.USER)\r\n                    .build();\r\n            when(userDAO.findUserByUsername(username)).thenReturn(user);\r\n    \r\n            UserDTO expectedDto = UserDTO.builder()\r\n                    .id(1)\r\n                    .username(username)\r\n                    .firstname(&quot;John&quot;)\r\n                    .surname(&quot;Doe&quot;)\r\n                    .email(&quot;johndoe@example.com&quot;)\r\n                    .phoneNumber(&quot;123456789&quot;)\r\n                    .role(Role.USER)\r\n                    .build();\r\n            when(userDTOMapper.apply(user)).thenReturn(expectedDto);\r\n            \r\n            UserDTO result = userService.findUser(username);\r\n            \r\n            assertEquals(expectedDto, result);\r\n        }\r\n    \r\n        @Test\r\n        public void testConvertToDto() {\r\n            // Arrange\r\n            User user = User.builder()\r\n                    .id(1)\r\n                    .username(&quot;testUser&quot;)\r\n                    .firstname(&quot;John&quot;)\r\n                    .surname(&quot;Doe&quot;)\r\n                    .email(&quot;johndoe@example.com&quot;)\r\n                    .phoneNumber(&quot;123456789&quot;)\r\n                    .role(Role.USER)\r\n                    .build();\r\n    \r\n            UserDTO expectedDto = UserDTO.builder()\r\n                    .id(1)\r\n                    .username(&quot;testUser&quot;)\r\n                    .firstname(&quot;John&quot;)\r\n                    .surname(&quot;Doe&quot;)\r\n                    .email(&quot;johndoe@example.com&quot;)\r\n                    .phoneNumber(&quot;123456789&quot;)\r\n                    .role(Role.USER)\r\n                    .build();\r\n    \r\n            when(modelMapper.map(user, UserDTO.class)).thenReturn(expectedDto);\r\n            \r\n            UserDTO result = userService.convertToDto(user);\r\n    \r\n            assertEquals(expectedDto, result);\r\n        }\r\n\r\n}\r\n\r\n\r\n","title":"Mock object is null in JUnit Test","body":"<ol>\n<li>You don't need to use openMocks(). The annotation @ExtendWith(MockitoExtension.class) already did it for you.</li>\n<li>You didn't stub any of the behavior for your dependencies.</li>\n<li>Remove after and before methods. if you want to create Instances for your User and Dto just use private methods. You do not need to create it after every test.</li>\n</ol>\n<p>Here is my example of how it should look. If it worked then you can start refactoring:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class UserServiceTest {\n\n    @Mock\n    private UserDAO userDAO;\n\n    @Mock\n    private ModelMapper modelMapper;\n\n    @InjectMocks\n    private UserService userService;\n\n    @Test\n    public void testFindUser() {\n        // Arrange\n        String username = &quot;testUser&quot;;\n        User user = User.builder()\n                .id(1)\n                .username(username)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n        when(userDAO.findUserByUsername(username)).thenReturn(user);\n\n        UserDTO expectedDto = UserDTO.builder()\n                .id(1)\n                .username(username)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n        when(userDTOMapper.apply(user)).thenReturn(expectedDto);\n        \n        UserDTO result = userService.findUser(username);\n        \n        assertEquals(expectedDto, result);\n    }\n\n    @Test\n    public void testConvertToDto() {\n        // Arrange\n        User user = User.builder()\n                .id(1)\n                .username(&quot;testUser&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n\n        UserDTO expectedDto = UserDTO.builder()\n                .id(1)\n                .username(&quot;testUser&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n\n        when(modelMapper.map(user, UserDTO.class)).thenReturn(expectedDto);\n        \n        UserDTO result = userService.convertToDto(user);\n\n        assertEquals(expectedDto, result);\n    }\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":28629241,"reputation":3,"user_id":21920634,"display_name":"caspian"},"score":0,"creation_date":1684445025,"post_id":76284103,"comment_id":134522743,"body_markdown":"It&#39;s more clear now how it actually works. Thank you for the answer.","body":"It&#39;s more clear now how it actually works. Thank you for the answer."}],"tags":[],"owner":{"account_id":18304375,"reputation":11,"user_id":13328487,"display_name":"Sendi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684440164,"creation_date":1684440164,"answer_id":76284103,"question_id":76282637,"body_markdown":"I can see you have an answer to your question already. \r\n\r\nBut here is what **&quot;mocking&quot;** and **&quot;stubbing&quot;** mean in simple words. By mocking your object, you tell the compiler to create a nullified version of the real instance of that object. So while using the methods of that instance, you might get a **NPE** or the method might return the default value of the return data type. Hence, stubbing comes in handy in this case. By using when() method of *Mockito*, you will teach *Mockito* how to act upon method calls, whether it should throw an exception, or it should call the real method, or it should do nothing.\r\n\r\nThink of JUnit and Mockito as a 4 year-old kid. When you assign a task to that kid, he might not be able to operate on his own, but he might need some instructions to do something.","title":"Mock object is null in JUnit Test","body":"<p>I can see you have an answer to your question already.</p>\n<p>But here is what <strong>&quot;mocking&quot;</strong> and <strong>&quot;stubbing&quot;</strong> mean in simple words. By mocking your object, you tell the compiler to create a nullified version of the real instance of that object. So while using the methods of that instance, you might get a <strong>NPE</strong> or the method might return the default value of the return data type. Hence, stubbing comes in handy in this case. By using when() method of <em>Mockito</em>, you will teach <em>Mockito</em> how to act upon method calls, whether it should throw an exception, or it should call the real method, or it should do nothing.</p>\n<p>Think of JUnit and Mockito as a 4 year-old kid. When you assign a task to that kid, he might not be able to operate on his own, but he might need some instructions to do something.</p>\n"}],"owner":{"account_id":28629241,"reputation":3,"user_id":21920634,"display_name":"caspian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76282833,"answer_count":2,"score":0,"last_activity_date":1684484116,"creation_date":1684426635,"question_id":76282637,"body_markdown":"I design the test in JUnit using Mockito. The problem is in the following Test:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass UserServiceTest {\r\n    \r\n    @InjectMocks\r\n    private UserService userService;\r\n    @Mock\r\n    private UserDAO userDAO;\r\n    @Mock\r\n    private ModelMapper modelMapper;\r\n    @Mock\r\n    private UserDTOMapper userDTOMapper;\r\n\r\n    private User user;\r\n    private UserDTO userDTO;\r\n\r\n    private AutoCloseable closeable;\r\n\r\n    @BeforeTestMethod\r\n    public void initMocks(){\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        userDTO = UserDTO.builder()\r\n                .username(&quot;johnny&quot;)\r\n                .firstname(&quot;John&quot;)\r\n                .surname(&quot;Rogers&quot;)\r\n                .email(&quot;john@gmail.com&quot;)\r\n                .phoneNumber(&quot;0123456789&quot;)\r\n                .role(Role.ADMIN).build();\r\n        user = User.builder()\r\n                .username(&quot;johnny&quot;)\r\n                .password(&quot;johnny123&quot;)\r\n                .firstname(&quot;John&quot;)\r\n                .surname(&quot;Rogers&quot;)\r\n                .email(&quot;john@gmail.com&quot;)\r\n                .phoneNumber(&quot;0123456789&quot;)\r\n                .role(Role.ADMIN).build();\r\n    }\r\n\r\n    @Test\r\n    void findUser() {\r\n        userDao.sace(user);\r\n        assertEquals(userDTO, userService.findUser(user.getUsername()));\r\n    }\r\n\r\n    @Test\r\n    void convertToDto() {\r\n        assertEquals(userDTO, userDTOMapper.apply(user));\r\n    }\r\n\r\n\r\n    @AfterTestMethod\r\n    public void releaseMocks() throws Exception {\r\n        closeable.close();\r\n    }\r\n}\r\n```\r\n\r\nThe test is for this service class:\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserService {\r\n\r\n    private final UserDAO userDAO;\r\n    private final ModelMapper modelMapper;\r\n    private final UserDTOMapper userDTOMapper;\r\n\r\n    public UserDTO findUser(String username) {\r\n        User user = userDAO.findUserByUsername(username);\r\n        return userDTOMapper.apply(user);\r\n    }\r\n\r\n    public UserDTO convertToDto(User user) {\r\n        return modelMapper.map(user, UserDTO.class);\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :UserDTO(id=0, username=johnny, firstname=John, surname=Rogers, email=john@gmail.com, phoneNumber=0123456789, role=USER)\r\nActual   :null\r\n&lt;Click to see difference&gt;\r\n\r\n\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\r\n\tat org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1142)\r\n```\r\n\r\nI&#39;m not really sure what&#39;s the problem or am I doing something wrong? At first, I thought that the problem is in &quot;@RequiredArgsConstructor&quot; annotation, but that&#39;s not a problem. I&#39;m sure that the solution is something simple, but I don&#39;t really understand why **all the mocked objects are NULL**","title":"Mock object is null in JUnit Test","body":"<p>I design the test in JUnit using Mockito. The problem is in the following Test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass UserServiceTest {\n    \n    @InjectMocks\n    private UserService userService;\n    @Mock\n    private UserDAO userDAO;\n    @Mock\n    private ModelMapper modelMapper;\n    @Mock\n    private UserDTOMapper userDTOMapper;\n\n    private User user;\n    private UserDTO userDTO;\n\n    private AutoCloseable closeable;\n\n    @BeforeTestMethod\n    public void initMocks(){\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @BeforeEach\n    void setUp() {\n        userDTO = UserDTO.builder()\n                .username(&quot;johnny&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Rogers&quot;)\n                .email(&quot;john@gmail.com&quot;)\n                .phoneNumber(&quot;0123456789&quot;)\n                .role(Role.ADMIN).build();\n        user = User.builder()\n                .username(&quot;johnny&quot;)\n                .password(&quot;johnny123&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Rogers&quot;)\n                .email(&quot;john@gmail.com&quot;)\n                .phoneNumber(&quot;0123456789&quot;)\n                .role(Role.ADMIN).build();\n    }\n\n    @Test\n    void findUser() {\n        userDao.sace(user);\n        assertEquals(userDTO, userService.findUser(user.getUsername()));\n    }\n\n    @Test\n    void convertToDto() {\n        assertEquals(userDTO, userDTOMapper.apply(user));\n    }\n\n\n    @AfterTestMethod\n    public void releaseMocks() throws Exception {\n        closeable.close();\n    }\n}\n</code></pre>\n<p>The test is for this service class:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UserService {\n\n    private final UserDAO userDAO;\n    private final ModelMapper modelMapper;\n    private final UserDTOMapper userDTOMapper;\n\n    public UserDTO findUser(String username) {\n        User user = userDAO.findUserByUsername(username);\n        return userDTOMapper.apply(user);\n    }\n\n    public UserDTO convertToDto(User user) {\n        return modelMapper.map(user, UserDTO.class);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :UserDTO(id=0, username=johnny, firstname=John, surname=Rogers, email=john@gmail.com, phoneNumber=0123456789, role=USER)\nActual   :null\n&lt;Click to see difference&gt;\n\n\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\n    at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\n    at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\n    at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1142)\n</code></pre>\n<p>I'm not really sure what's the problem or am I doing something wrong? At first, I thought that the problem is in &quot;@RequiredArgsConstructor&quot; annotation, but that's not a problem. I'm sure that the solution is something simple, but I don't really understand why <strong>all the mocked objects are NULL</strong></p>\n"},{"tags":["java","spring","eclipse"],"comments":[{"owner":{"account_id":4751994,"reputation":7921,"user_id":3841803,"accept_rate":69,"display_name":"singhakash"},"score":0,"creation_date":1442987511,"post_id":32731672,"comment_id":53305198,"body_markdown":"possible duplicate of [Importing Dynamic Web Project into Eclipse](http://stackoverflow.com/questions/2972447/importing-dynamic-web-project-into-eclipse)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2972447/importing-dynamic-web-project-into-eclipse\">Importing Dynamic Web Project into Eclipse</a>"},{"owner":{"account_id":5776905,"reputation":525,"user_id":4558743,"accept_rate":55,"display_name":"Priyanka Taneja"},"score":0,"creation_date":1442987931,"post_id":32731672,"comment_id":53305365,"body_markdown":"I did it but still not working","body":"I did it but still not working"},{"owner":{"account_id":6851408,"reputation":129,"user_id":5268478,"display_name":"Divya Gopal"},"score":0,"creation_date":1459105796,"post_id":32731672,"comment_id":60132545,"body_markdown":"This may help. http://stackoverflow.com/questions/22601193/eclipse-maven-spring-server-error-when-i-try-to-run-as-server-tomcat-7","body":"This may help. <a href=\"http://stackoverflow.com/questions/22601193/eclipse-maven-spring-server-error-when-i-try-to-run-as-server-tomcat-7\" title=\"eclipse maven spring server error when i try to run as server tomcat 7\">stackoverflow.com/questions/22601193/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":12617245,"reputation":522,"user_id":9256127,"display_name":"Lukas Weber"},"score":0,"creation_date":1672919836,"post_id":46783956,"comment_id":132383795,"body_markdown":"in my case should be 3.0, not bigger -&gt; that was the deal for me. Downgraded from 4.0 to 3.0 and it worked.","body":"in my case should be 3.0, not bigger -&gt; that was the deal for me. Downgraded from 4.0 to 3.0 and it worked."}],"tags":[],"owner":{"account_id":11987849,"reputation":186,"user_id":8771895,"display_name":"Zoica Grecu"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1508222467,"creation_date":1508222467,"answer_id":46783956,"question_id":32731672,"body_markdown":"I know that is a bit late, but maybe helps someone in the future. \r\nGo to Project Facets and make sure you have select the properly java version(in my case should be 1.7 for weblogic 12.1.3) and the version for Dynamic Web Module(in my case should be 3.0, not bigger). \r\nTo make sure that your app will run, here in project facets, in Runtimes tab, it will be displayed your server.\r\nThis will work for sure ;)","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>I know that is a bit late, but maybe helps someone in the future. \nGo to Project Facets and make sure you have select the properly java version(in my case should be 1.7 for weblogic 12.1.3) and the version for Dynamic Web Module(in my case should be 3.0, not bigger). \nTo make sure that your app will run, here in project facets, in Runtimes tab, it will be displayed your server.\nThis will work for sure ;)</p>\n"},{"tags":[],"owner":{"account_id":16965223,"reputation":11,"user_id":12271311,"display_name":"Abhishek Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571957076,"creation_date":1571957076,"answer_id":58550068,"question_id":32731672,"body_markdown":"Simple:   Right click on your project&gt; build path&gt; configure build path&gt;project facets&gt; change the version of java.(current version, which is installed in your computer)","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>Simple:   Right click on your project> build path> configure build path>project facets> change the version of java.(current version, which is installed in your computer)</p>\n"},{"tags":[],"owner":{"account_id":17362364,"reputation":51,"user_id":12578314,"display_name":"Onkar Borade"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1576998053,"creation_date":1576990828,"answer_id":59441726,"question_id":32731672,"body_markdown":"Right-click on project (alt + enter) &gt; properties &gt; project facts. \r\n\r\nMake sure that you have selected the checkbox of **Dynamic web module (3.0)** and select the proper **java version (1.8)**. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/75lct.png","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>Right-click on project (alt + enter) > properties > project facts. </p>\n\n<p>Make sure that you have selected the checkbox of <strong>Dynamic web module (3.0)</strong> and select the proper <strong>java version (1.8)</strong>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/75lct.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/75lct.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13845289,"reputation":154,"user_id":9994578,"display_name":"Ayush Pal"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1644168916,"creation_date":1644168916,"answer_id":71009848,"question_id":32731672,"body_markdown":"Sometimes the server might not be selected in project. Go to properties -&gt; Server \r\nSelect the server you want to run this project on.","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>Sometimes the server might not be selected in project. Go to properties -&gt; Server\nSelect the server you want to run this project on.</p>\n"},{"tags":[],"owner":{"account_id":4406198,"reputation":1601,"user_id":3590534,"accept_rate":89,"display_name":"awilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644447974,"creation_date":1644447974,"answer_id":71057922,"question_id":32731672,"body_markdown":"I got this error when I:\r\n\r\n 1. Right click project in Project Explorer\r\n 2. Select Run As -&gt; Run on Server\r\n 3. Click Finish without selecting a server\r\n\r\nI was being lazy and thinking that since there is only one server, it would automatically pick that one, but apparently not. It seems odd that the wizard would let me do that and give such a nonsensical error message.","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>I got this error when I:</p>\n<ol>\n<li>Right click project in Project Explorer</li>\n<li>Select Run As -&gt; Run on Server</li>\n<li>Click Finish without selecting a server</li>\n</ol>\n<p>I was being lazy and thinking that since there is only one server, it would automatically pick that one, but apparently not. It seems odd that the wizard would let me do that and give such a nonsensical error message.</p>\n"},{"tags":[],"owner":{"account_id":20890417,"reputation":1,"user_id":15345909,"display_name":"Software Engineer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669146332,"creation_date":1668792415,"answer_id":74493328,"question_id":32731672,"body_markdown":"I was getting the same error mentioned in the heading, that the selection could not be run on any server. This was because when we start our JSP application on the server we have to add our resources.\r\n\r\n 1. Right click on the project\r\n 2. Run application on the server\r\n 3. Select available server and click Next\r\n 4. Add resources and click Finish\r\n\r\n[![Image showing results][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/ulhRS.png","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>I was getting the same error mentioned in the heading, that the selection could not be run on any server. This was because when we start our JSP application on the server we have to add our resources.</p>\n<ol>\n<li>Right click on the project</li>\n<li>Run application on the server</li>\n<li>Select available server and click Next</li>\n<li>Add resources and click Finish</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ulhRS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ulhRS.png\" alt=\"Image showing results\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684484063,"creation_date":1684474295,"answer_id":76286220,"question_id":32731672,"body_markdown":"In my case, the `html` file to run is under `webapp\\WEB-INF`, after fix move to `webapp`, it run successfully show the html in browser.\r\n\r\nBesides, in Run On Server view as below, if you directly click `Finish`, then get error, click the `Tomcat v10.1 Server at localhost` first and `Finish`, then works.\r\n\r\n[![Run On Server][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y0MVa.png","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>In my case, the <code>html</code> file to run is under <code>webapp\\WEB-INF</code>, after fix move to <code>webapp</code>, it run successfully show the html in browser.</p>\n<p>Besides, in Run On Server view as below, if you directly click <code>Finish</code>, then get error, click the <code>Tomcat v10.1 Server at localhost</code> first and <code>Finish</code>, then works.</p>\n<p><a href=\"https://i.stack.imgur.com/Y0MVa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y0MVa.png\" alt=\"Run On Server\" /></a></p>\n"}],"owner":{"account_id":5776905,"reputation":525,"user_id":4558743,"accept_rate":55,"display_name":"Priyanka Taneja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51929,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":46783956,"answer_count":7,"score":14,"last_activity_date":1684484063,"creation_date":1442986343,"question_id":32731672,"body_markdown":" I&#39;ve been working on a dynamic web project in Eclipse. I am getting this error.\r\n    \r\n&gt;  &quot;The selection cannot be run on any server&quot;.\r\n\r\nEarlier it was working fine but now I&#39;m getting this error. I removed the server and added it again. \r\n\r\n`Project`-&gt;`Right Click`-&gt; `Properties`-&gt;`Server` No server is showing here and two options are there Restore Default and Apply. I am not able to add server here.\r\n      \r\nPlease tell me want is the problem with this.\r\n\r\nPOM.XML\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;try&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;try&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;try Maven Webapp&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;spring.version&gt;3.2.0.RELEASE&lt;/spring.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;!-- Dependencies --&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20140107&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt; \r\n\t\t\t&lt;version&gt;4.2.0.Final&lt;/version&gt; &lt;/dependency&gt; --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.132&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;try&lt;/finalName&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>I've been working on a dynamic web project in Eclipse. I am getting this error.</p>\n\n<blockquote>\n  <p>\"The selection cannot be run on any server\".</p>\n</blockquote>\n\n<p>Earlier it was working fine but now I'm getting this error. I removed the server and added it again. </p>\n\n<p><code>Project</code>-><code>Right Click</code>-> <code>Properties</code>-><code>Server</code> No server is showing here and two options are there Restore Default and Apply. I am not able to add server here.</p>\n\n<p>Please tell me want is the problem with this.</p>\n\n<p>POM.XML</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;try&lt;/groupId&gt;\n&lt;artifactId&gt;try&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;try Maven Webapp&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n&lt;properties&gt;\n    &lt;spring.version&gt;3.2.0.RELEASE&lt;/spring.version&gt;\n&lt;/properties&gt;\n\n&lt;!-- Dependencies --&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;type&gt;maven-plugin&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20140107&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt; \n        &lt;version&gt;4.2.0.Final&lt;/version&gt; &lt;/dependency&gt; --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.2.132&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n        &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n        &lt;version&gt;1.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;try&lt;/finalName&gt;\n    &lt;pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","bytecode","java-bytecode-asm"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1680828059,"post_id":75954598,"comment_id":133967339,"body_markdown":"What happens if your constants are not capable of being embedded in the opcode, say 999999 or -123456?","body":"What happens if your constants are not capable of being embedded in the opcode, say 999999 or -123456?"},{"owner":{"account_id":27395705,"reputation":11,"user_id":20897927,"display_name":"Zihe Ji"},"score":0,"creation_date":1680829295,"post_id":75954598,"comment_id":133967467,"body_markdown":"I don&#39;t think this caused the issue since the printed message from visitInsn() tells that the opcode is only 2 and 3 for dummy0 and dummy1","body":"I don&#39;t think this caused the issue since the printed message from visitInsn() tells that the opcode is only 2 and 3 for dummy0 and dummy1"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1681744781,"post_id":75954598,"comment_id":134102446,"body_markdown":"When you use compile-time constants in Java, the compiled code will use the constant value directly. Therefore, you can not distinguish between uses of `dummy1`, `notStatic`, or literal `-1` in the compiled code.","body":"When you use compile-time constants in Java, the compiled code will use the constant value directly. Therefore, you can not distinguish between uses of <code>dummy1</code>, <code>notStatic</code>, or literal <code>-1</code> in the compiled code."}],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1684489326,"post_id":76287232,"comment_id":134528092,"body_markdown":"Tried it with the non-primitive constant `final String foo = &quot;foo&quot;;`. Was inlined.","body":"Tried it with the non-primitive constant <code>final String foo = &quot;foo&quot;;</code>. Was inlined."},{"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"score":0,"creation_date":1684490559,"post_id":76287232,"comment_id":134528358,"body_markdown":"Strings are technically still primitives, since in case of constants and literals in bytecode there will be a single LDC instruction, that&#39;&#39;s also the reason why you can use them in annotations.","body":"Strings are technically still primitives, since in case of constants and literals in bytecode there will be a single LDC instruction, that&#39;&#39;s also the reason why you can use them in annotations."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1684492183,"post_id":76287232,"comment_id":134528670,"body_markdown":"Not exactly. I can load anything with an ldc, and arrays - which can&#39;t be constant - can be used in an annotation as well. Those things are not related at all.","body":"Not exactly. I can load anything with an ldc, and arrays - which can&#39;t be constant - can be used in an annotation as well. Those things are not related at all."},{"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"score":0,"creation_date":1684492708,"post_id":76287232,"comment_id":134528770,"body_markdown":"In this specific case the ldc instructions simply functions as quicker internal way of putting a string literal on the stack, I am aware that it can do more than that but in this context it doesn&#39;t matter. It gets inlined because it is a single instruction putting the value on the stack and not an actual object construction via a new and invokespecial. If you want my answer to explicitly state that every constant that is inlined as literal will be equal to a single bytecode instruction feel free to edit, I&#39;ll gratefully approve it","body":"In this specific case the ldc instructions simply functions as quicker internal way of putting a string literal on the stack, I am aware that it can do more than that but in this context it doesn&#39;t matter. It gets inlined because it is a single instruction putting the value on the stack and not an actual object construction via a new and invokespecial. If you want my answer to explicitly state that every constant that is inlined as literal will be equal to a single bytecode instruction feel free to edit, I&#39;ll gratefully approve it"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1685020176,"post_id":76287232,"comment_id":134604744,"body_markdown":"Coincidence does not imply causality. A class literal like `Thread.class` within an expression will be compiled to a single `ldc` instruction, further, class literals are allowed in annotations. Also `Class` objects are never created via `new`/`invokespecial`. Still, class literals are not compile-time constants and there’s no inlining behavior. Compile-time constants are [well defined](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.29): “*A constant expression is an expression denoting a value of primitive type **or** a String …*”. A `String` is not a primitive value.","body":"Coincidence does not imply causality. A class literal like <code>Thread.class</code> within an expression will be compiled to a single <code>ldc</code> instruction, further, class literals are allowed in annotations. Also <code>Class</code> objects are never created via <code>new</code>/<code>invokespecial</code>. Still, class literals are not compile-time constants and there’s no inlining behavior. Compile-time constants are <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">well defined</a>: “<i>A constant expression is an expression denoting a value of primitive type <b>or</b> a String …</i>”. A <code>String</code> is not a primitive value."}],"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684484055,"creation_date":1684484055,"answer_id":76287232,"question_id":75954598,"body_markdown":"As someone said in a comment primitive constants will be inlined as a literal in bytecode, so:\r\n```java\r\npublic static final int TEST_CONST = 11;\r\n\r\nprivate static void bar() {\r\n    System.out.println(TEST_CONST);\r\n}\r\n```\r\n\r\nWould compile to\r\n```java\r\npublic static final int TEST_CONST = 11;\r\n\r\nprivate static void bar() {\r\n    System.out.println(11);\r\n}\r\n```\r\n\r\nHowever non primitive constants will still have a `GETSTATIC` reference, for the primitives the best you could do is collect all primitive constants beforehand and then try to guess if a literal is referring to one of them by comparing their values, however this is far from perfect.","title":"How to record visited constants by MethodVisitor in ASM","body":"<p>As someone said in a comment primitive constants will be inlined as a literal in bytecode, so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final int TEST_CONST = 11;\n\nprivate static void bar() {\n    System.out.println(TEST_CONST);\n}\n</code></pre>\n<p>Would compile to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final int TEST_CONST = 11;\n\nprivate static void bar() {\n    System.out.println(11);\n}\n</code></pre>\n<p>However non primitive constants will still have a <code>GETSTATIC</code> reference, for the primitives the best you could do is collect all primitive constants beforehand and then try to guess if a literal is referring to one of them by comparing their values, however this is far from perfect.</p>\n"}],"owner":{"account_id":27395705,"reputation":11,"user_id":20897927,"display_name":"Zihe Ji"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684484055,"creation_date":1680826262,"question_id":75954598,"body_markdown":"I&#39;m trying to check how many times a constant is used in the given classes. My idea is to first use ClassReader.accept(ClassVisitor, ...) to visit the class, and then declare a methodVisitor for each method using MethodVisitor.visitMethod(). Then, for each MethodVisitor, I tried to use visitFieldInsn. However, this method never visits constants. Instead, every other non-constant variables are visited. \r\n\r\nHere&#39;s my code:\r\n\r\n```\r\nimport org.objectweb.asm.*;\r\n\r\nimport javax.tools.JavaCompiler;\r\nimport javax.tools.JavaFileObject;\r\nimport javax.tools.StandardJavaFileManager;\r\nimport javax.tools.ToolProvider;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Method;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class ASMVisitor {\r\n\r\n    static class SimpleMethodVisitor extends MethodVisitor {\r\n        public String currMethodName;\r\n        public List&lt;String[]&gt; constants = new ArrayList&lt;&gt;();\r\n        private final Map&lt;Object, Integer&gt; constantFrequencyMap;\r\n\r\n        public SimpleMethodVisitor(int api, MethodVisitor methodVisitor, String methodName) {\r\n            super(Opcodes.ASM9, methodVisitor);\r\n            currMethodName = methodName;\r\n            constantFrequencyMap = new HashMap&lt;&gt;();\r\n        }\r\n\r\n        @Override\r\n        public void visitMethodInsn(int opcode, java.lang.String owner, java.lang.String name, java.lang.String descriptor, boolean isInterface) {\r\n//            System.out.println(Opcodes.LDC);\r\n\r\n//            System.out.println(&quot;Visited method instruction: &quot; + opcode + &quot;, &quot; + owner + &quot;, &quot; + name + &quot;, &quot; + descriptor + &quot;, &quot; + isInterface);\r\n            super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\r\n        }\r\n\r\n        public Map&lt;Object, Integer&gt; getConstantFrequencyMap() {\r\n            return constantFrequencyMap;\r\n        }\r\n\r\n        @Override\r\n        public void visitLdcInsn(Object cst) {\r\n//            System.out.println(&quot;Method &quot; + this.currMethodName + &quot; contains ldc instruction: &quot; + cst);\r\n            super.visitLdcInsn(cst);\r\n        }\r\n\r\n        @Override\r\n        public void visitInsn(int opcode) {\r\n            System.out.println(&quot;Method &quot; + this.currMethodName + &quot; contains instruction: &quot; + opcode);\r\n            super.visitInsn(opcode);\r\n        }\r\n\r\n        @Override\r\n        public void visitFieldInsn(int opcode, String owner, String name, String descriptor) {\r\n            System.out.printf(&quot;FieldInsn: opcode = %s, Owner = %s, Name = %s, Descriptor = %s\\n&quot;,\r\n                    opcode, owner, name, descriptor);\r\n            constants.add(new String[]{owner, name, descriptor});\r\n        }\r\n\r\n    }\r\n\r\n    static class SimpleClassVisitor extends ClassVisitor {\r\n        public String currClassName;\r\n        public Map&lt;String[],Object&gt; constants;\r\n        public Set&lt;MethodVisitor&gt; mvs = new HashSet&lt;&gt;();\r\n\r\n        public SimpleClassVisitor() {\r\n            super(Opcodes.ASM9);\r\n            currClassName = &quot;&quot;;\r\n            this.constants = new HashMap&lt;&gt;();\r\n        }\r\n\r\n        @Override\r\n        public void visit(int version, int acc, String name,\r\n                                    String sig, String superName, String[] ifs) {\r\n            currClassName = name;\r\n            super.visit(version, acc, name, sig, superName, ifs);\r\n        }\r\n\r\n        @Override\r\n        public FieldVisitor visitField(int access, String name, String desc, String signature, Object value) {\r\n            System.out.printf(&quot;visitField: Name = %s, Desc = %s, Signature = %s, Value = %s\\n&quot;,\r\n                    name, desc, signature, value);\r\n\r\n            if (value != null &amp;&amp; (access &amp; Opcodes.ACC_STATIC) != 0) {\r\n                constants.put(new String[]{currClassName, name, desc}, value);\r\n            }\r\n\r\n            return super.visitField(access, name, desc, signature, value);\r\n        }\r\n\r\n        @Override\r\n        public MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions) {\r\n//            System.out.printf(&quot;visitMethod: Name = %s, Desc = %s, Signature = %s\\n&quot;, name, desc, signature);\r\n            MethodVisitor methodvisitor = super.visitMethod(access, name, desc, signature, exceptions);\r\n            MethodVisitor mv = new SimpleMethodVisitor(Opcodes.ASM9, methodvisitor, name);\r\n            mvs.add(mv);\r\n            return mv;\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n            ...\r\n            try {\r\n                byte[] bytes = Files.readAllBytes(file);\r\n                ClassReader classReader = new ClassReader(bytes);\r\n                SimpleClassVisitor scv = new SimpleClassVisitor();\r\n                classReader.accept(scv, ClassReader.SKIP_FRAMES | ClassReader.SKIP_DEBUG);\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd here is my dummy test\r\n```\r\npackage DummyTests2;\r\n\r\npublic class DummyTest1 {\r\n    public int publicIVInteger1;\r\n    public static int notFinal = -1;\r\n    public final int notStatic = -1;\r\n    public static final int dummy0 = 0;\r\n    public static final int dummy1 = -1;\r\n\r\n    public DummyTest1() {\r\n        this.publicIVInteger1 = DummyTest2.dummy1;\r\n        getPublicIVInteger1();\r\n    }\r\n\r\n    public int getPublicIVInteger1() {\r\n        setPublicIVInteger1(1);\r\n        notFinal -= dummy1;\r\n        notFinal -= dummy0;\r\n        publicIVInteger1 -= dummy1;\r\n        publicIVInteger1 -= dummy0;\r\n\r\n        return this.publicIVInteger1;\r\n    }\r\n\r\n    public void setPublicIVInteger1(int n) {\r\n        int localInt = 0;\r\n        publicIVInteger1 += dummy1;\r\n    }\r\n}\r\n```\r\n\r\nIn this case, only variables that are not constants are printed out without those constants with static and final like dummy0 and dummy1. I also tried to use visitInsn and seems like constants are visited since the corresponding instructions are visited, but the visitLdcInsn is never visited too. I wonder why constants are not recognized for visitFieldInsn and how can I do to store the frequency of constants into the constantFrequencyMap.\r\n","title":"How to record visited constants by MethodVisitor in ASM","body":"<p>I'm trying to check how many times a constant is used in the given classes. My idea is to first use ClassReader.accept(ClassVisitor, ...) to visit the class, and then declare a methodVisitor for each method using MethodVisitor.visitMethod(). Then, for each MethodVisitor, I tried to use visitFieldInsn. However, this method never visits constants. Instead, every other non-constant variables are visited.</p>\n<p>Here's my code:</p>\n<pre><code>import org.objectweb.asm.*;\n\nimport javax.tools.JavaCompiler;\nimport javax.tools.JavaFileObject;\nimport javax.tools.StandardJavaFileManager;\nimport javax.tools.ToolProvider;\nimport java.io.File;\nimport java.io.IOException;\nimport java.lang.reflect.Method;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class ASMVisitor {\n\n    static class SimpleMethodVisitor extends MethodVisitor {\n        public String currMethodName;\n        public List&lt;String[]&gt; constants = new ArrayList&lt;&gt;();\n        private final Map&lt;Object, Integer&gt; constantFrequencyMap;\n\n        public SimpleMethodVisitor(int api, MethodVisitor methodVisitor, String methodName) {\n            super(Opcodes.ASM9, methodVisitor);\n            currMethodName = methodName;\n            constantFrequencyMap = new HashMap&lt;&gt;();\n        }\n\n        @Override\n        public void visitMethodInsn(int opcode, java.lang.String owner, java.lang.String name, java.lang.String descriptor, boolean isInterface) {\n//            System.out.println(Opcodes.LDC);\n\n//            System.out.println(&quot;Visited method instruction: &quot; + opcode + &quot;, &quot; + owner + &quot;, &quot; + name + &quot;, &quot; + descriptor + &quot;, &quot; + isInterface);\n            super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\n        }\n\n        public Map&lt;Object, Integer&gt; getConstantFrequencyMap() {\n            return constantFrequencyMap;\n        }\n\n        @Override\n        public void visitLdcInsn(Object cst) {\n//            System.out.println(&quot;Method &quot; + this.currMethodName + &quot; contains ldc instruction: &quot; + cst);\n            super.visitLdcInsn(cst);\n        }\n\n        @Override\n        public void visitInsn(int opcode) {\n            System.out.println(&quot;Method &quot; + this.currMethodName + &quot; contains instruction: &quot; + opcode);\n            super.visitInsn(opcode);\n        }\n\n        @Override\n        public void visitFieldInsn(int opcode, String owner, String name, String descriptor) {\n            System.out.printf(&quot;FieldInsn: opcode = %s, Owner = %s, Name = %s, Descriptor = %s\\n&quot;,\n                    opcode, owner, name, descriptor);\n            constants.add(new String[]{owner, name, descriptor});\n        }\n\n    }\n\n    static class SimpleClassVisitor extends ClassVisitor {\n        public String currClassName;\n        public Map&lt;String[],Object&gt; constants;\n        public Set&lt;MethodVisitor&gt; mvs = new HashSet&lt;&gt;();\n\n        public SimpleClassVisitor() {\n            super(Opcodes.ASM9);\n            currClassName = &quot;&quot;;\n            this.constants = new HashMap&lt;&gt;();\n        }\n\n        @Override\n        public void visit(int version, int acc, String name,\n                                    String sig, String superName, String[] ifs) {\n            currClassName = name;\n            super.visit(version, acc, name, sig, superName, ifs);\n        }\n\n        @Override\n        public FieldVisitor visitField(int access, String name, String desc, String signature, Object value) {\n            System.out.printf(&quot;visitField: Name = %s, Desc = %s, Signature = %s, Value = %s\\n&quot;,\n                    name, desc, signature, value);\n\n            if (value != null &amp;&amp; (access &amp; Opcodes.ACC_STATIC) != 0) {\n                constants.put(new String[]{currClassName, name, desc}, value);\n            }\n\n            return super.visitField(access, name, desc, signature, value);\n        }\n\n        @Override\n        public MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions) {\n//            System.out.printf(&quot;visitMethod: Name = %s, Desc = %s, Signature = %s\\n&quot;, name, desc, signature);\n            MethodVisitor methodvisitor = super.visitMethod(access, name, desc, signature, exceptions);\n            MethodVisitor mv = new SimpleMethodVisitor(Opcodes.ASM9, methodvisitor, name);\n            mvs.add(mv);\n            return mv;\n        }\n\n    }\n\n    public static void main(String[] args) throws IOException {\n            ...\n            try {\n                byte[] bytes = Files.readAllBytes(file);\n                ClassReader classReader = new ClassReader(bytes);\n                SimpleClassVisitor scv = new SimpleClassVisitor();\n                classReader.accept(scv, ClassReader.SKIP_FRAMES | ClassReader.SKIP_DEBUG);\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>And here is my dummy test</p>\n<pre><code>package DummyTests2;\n\npublic class DummyTest1 {\n    public int publicIVInteger1;\n    public static int notFinal = -1;\n    public final int notStatic = -1;\n    public static final int dummy0 = 0;\n    public static final int dummy1 = -1;\n\n    public DummyTest1() {\n        this.publicIVInteger1 = DummyTest2.dummy1;\n        getPublicIVInteger1();\n    }\n\n    public int getPublicIVInteger1() {\n        setPublicIVInteger1(1);\n        notFinal -= dummy1;\n        notFinal -= dummy0;\n        publicIVInteger1 -= dummy1;\n        publicIVInteger1 -= dummy0;\n\n        return this.publicIVInteger1;\n    }\n\n    public void setPublicIVInteger1(int n) {\n        int localInt = 0;\n        publicIVInteger1 += dummy1;\n    }\n}\n</code></pre>\n<p>In this case, only variables that are not constants are printed out without those constants with static and final like dummy0 and dummy1. I also tried to use visitInsn and seems like constants are visited since the corresponding instructions are visited, but the visitLdcInsn is never visited too. I wonder why constants are not recognized for visitFieldInsn and how can I do to store the frequency of constants into the constantFrequencyMap.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684369613,"post_id":76273096,"comment_id":134510139,"body_markdown":"If the constants can be assigned at compile time, you should review Eclipse&#39;s Externalized Strings option.  https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Fguide%2Ftools%2Fpde_actions%2Fexternalize_strings.htm","body":"If the constants can be assigned at compile time, you should review Eclipse&#39;s Externalized Strings option.  <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Fguide%2Ftools%2Fpde_actions%2Fexternalize_strings.htm\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/&hellip;</a>"},{"owner":{"account_id":12463513,"reputation":19,"user_id":9074348,"display_name":"Dušan"},"score":0,"creation_date":1684401770,"post_id":76273096,"comment_id":134513705,"body_markdown":"@Reilas Thank you on your answer, but this won&#39;t solve our problem. :)","body":"@Reilas Thank you on your answer, but this won&#39;t solve our problem. :)"}],"answers":[{"tags":[],"owner":{"account_id":12463513,"reputation":19,"user_id":9074348,"display_name":"Dušan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684483889,"creation_date":1684483889,"answer_id":76287209,"question_id":76273096,"body_markdown":"After all investigation I&#39;ve decided to ask ChatGPT for the help. So, now we have an proper solution for selecting cross-language constants.\r\nSolution:\r\n\r\n````\r\npublic class TestConstants {\r\n    public static String STRING_TEXT;\r\n    public static String NEW_TEXT;\r\n    public static String ANOTHER_TEXT;\r\n}\r\n````\r\n````\r\npublic class EnglishConstants extends TestConstants {\r\n    static {\r\n        STRING_TEXT = &quot;String Text in English.&quot;;\r\n        NEW_TEXT = &quot;New Text in English.&quot;;\r\n        ANOTHER_TEXT = &quot;Another Text in English.&quot;;\r\n    }\r\n}\r\n````\r\n````\r\npublic class PortugueseConstants extends TestConstants {\r\n    static {\r\n        STRING_TEXT = &quot;String Text in Portuguese.&quot;;\r\n        NEW_TEXT = &quot;New Text in Portuguese.&quot;;\r\n        ANOTHER_TEXT = &quot;Another Text in Portuguese.&quot;;\r\n    }\r\n}\r\n````\r\n````\r\n\r\npublic class ConstantsFactory {\r\n    public static TestConstants getLanguageConstants(String language) {\r\n        switch (language) {\r\n            case &quot;pt-pt&quot;:\r\n                return new PortugueseConstants();\r\n            case &quot;en-us&quot;:\r\n            default:\r\n                return new EnglishConstants();\r\n        }\r\n    }\r\n}\r\n````\r\n````\r\n// Usage example\r\npublic class MainClass {\r\n    public static void main(String[] args) {\r\n        String language = System.getProperty(&quot;language&quot;);\r\n// Initialization of the TestConstant as language by parameter can be stored //in the BaseTest also\r\n        TestConstants languageConstants = ConstantsFactory.getLanguageConstants(language);\r\n\r\n        String stringText = languageConstants.STRING_TEXT;\r\n        String newText = languageConstants.NEW_TEXT;\r\n        String anotherText = languageConstants.ANOTHER_TEXT;\r\n\r\n        System.out.println(&quot;String Text: &quot; + stringText);\r\n        System.out.println(&quot;New Text: &quot; + newText);\r\n        System.out.println(&quot;Another Text: &quot; + anotherText);\r\n    }\r\n}\r\n````\r\n\r\nIf you want to run the some test use:\r\n````\r\nmvn clean test -Dlanguage=en-en\r\n````","title":"Java Select which class to initialize by parameter","body":"<p>After all investigation I've decided to ask ChatGPT for the help. So, now we have an proper solution for selecting cross-language constants.\nSolution:</p>\n<pre><code>public class TestConstants {\n    public static String STRING_TEXT;\n    public static String NEW_TEXT;\n    public static String ANOTHER_TEXT;\n}\n</code></pre>\n<pre><code>public class EnglishConstants extends TestConstants {\n    static {\n        STRING_TEXT = &quot;String Text in English.&quot;;\n        NEW_TEXT = &quot;New Text in English.&quot;;\n        ANOTHER_TEXT = &quot;Another Text in English.&quot;;\n    }\n}\n</code></pre>\n<pre><code>public class PortugueseConstants extends TestConstants {\n    static {\n        STRING_TEXT = &quot;String Text in Portuguese.&quot;;\n        NEW_TEXT = &quot;New Text in Portuguese.&quot;;\n        ANOTHER_TEXT = &quot;Another Text in Portuguese.&quot;;\n    }\n}\n</code></pre>\n<pre><code>\npublic class ConstantsFactory {\n    public static TestConstants getLanguageConstants(String language) {\n        switch (language) {\n            case &quot;pt-pt&quot;:\n                return new PortugueseConstants();\n            case &quot;en-us&quot;:\n            default:\n                return new EnglishConstants();\n        }\n    }\n}\n</code></pre>\n<pre><code>// Usage example\npublic class MainClass {\n    public static void main(String[] args) {\n        String language = System.getProperty(&quot;language&quot;);\n// Initialization of the TestConstant as language by parameter can be stored //in the BaseTest also\n        TestConstants languageConstants = ConstantsFactory.getLanguageConstants(language);\n\n        String stringText = languageConstants.STRING_TEXT;\n        String newText = languageConstants.NEW_TEXT;\n        String anotherText = languageConstants.ANOTHER_TEXT;\n\n        System.out.println(&quot;String Text: &quot; + stringText);\n        System.out.println(&quot;New Text: &quot; + newText);\n        System.out.println(&quot;Another Text: &quot; + anotherText);\n    }\n}\n</code></pre>\n<p>If you want to run the some test use:</p>\n<pre><code>mvn clean test -Dlanguage=en-en\n</code></pre>\n"}],"owner":{"account_id":12463513,"reputation":19,"user_id":9074348,"display_name":"Dušan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76287209,"answer_count":1,"score":0,"last_activity_date":1684483889,"creation_date":1684332993,"question_id":76273096,"body_markdown":"There is a main **TestConstant** class where the strings for testing are stored.\r\n\r\n```\r\npublic class TestConstants {\r\n   public static final STRING_TEXT;\r\n}\r\n```\r\nThen, there is a child class **EnglishConstants**. This class will be used if application is using English language:\r\n\r\n```\r\npublic class EnglishConstants extends TestConstants {\r\n   public static final STRING_TEXT = &quot;Text in English.&quot;;\r\n}\r\n```\r\nAt the end, there is a child class **PortugueseConstants**. This class will be used if application is using Portuguese language:\r\n\r\n```\r\npublic class PortugueseConstants extends TestConstants {\r\n   public static final STRING_TEXT = &quot;Text in Portuguese.&quot;;\r\n}\r\n```\r\nWhat&#39;s the point:\r\nWe want if it is possible, when running the test by Maven build from terminal with &quot;-Dlanguage=&quot; property provided, and based on that property &quot;STRING_TEXT&quot; to be selected in that language.\r\nSo, if the:\r\n\r\n```\r\n-Dlanguage=pt-pt is provided\r\n```\r\nTest has then to use &quot;TestConstants.STRING_TEXT&quot; and to take the value in the Portuguese language from the &quot;PortugueseConstants&quot; class.\r\n\r\n\r\n\r\n\r\n\r\nTried with factory on this question and answer:\r\nhttps://stackoverflow.com/a/28602106/9074348 ","title":"Java Select which class to initialize by parameter","body":"<p>There is a main <strong>TestConstant</strong> class where the strings for testing are stored.</p>\n<pre><code>public class TestConstants {\n   public static final STRING_TEXT;\n}\n</code></pre>\n<p>Then, there is a child class <strong>EnglishConstants</strong>. This class will be used if application is using English language:</p>\n<pre><code>public class EnglishConstants extends TestConstants {\n   public static final STRING_TEXT = &quot;Text in English.&quot;;\n}\n</code></pre>\n<p>At the end, there is a child class <strong>PortugueseConstants</strong>. This class will be used if application is using Portuguese language:</p>\n<pre><code>public class PortugueseConstants extends TestConstants {\n   public static final STRING_TEXT = &quot;Text in Portuguese.&quot;;\n}\n</code></pre>\n<p>What's the point:\nWe want if it is possible, when running the test by Maven build from terminal with &quot;-Dlanguage=&quot; property provided, and based on that property &quot;STRING_TEXT&quot; to be selected in that language.\nSo, if the:</p>\n<pre><code>-Dlanguage=pt-pt is provided\n</code></pre>\n<p>Test has then to use &quot;TestConstants.STRING_TEXT&quot; and to take the value in the Portuguese language from the &quot;PortugueseConstants&quot; class.</p>\n<p>Tried with factory on this question and answer:\n<a href=\"https://stackoverflow.com/a/28602106/9074348\">https://stackoverflow.com/a/28602106/9074348</a></p>\n"},{"tags":["java","android","unit-testing","intellij-idea"],"comments":[{"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"score":0,"creation_date":1598910054,"post_id":34750611,"comment_id":112604558,"body_markdown":"see related https://stackoverflow.com/a/63678543/448779 - may be helpful.","body":"see related <a href=\"https://stackoverflow.com/a/63678543/448779\">stackoverflow.com/a/63678543/448779</a> - may be helpful."}],"answers":[{"comments":[{"owner":{"account_id":6593338,"reputation":737,"user_id":5093897,"display_name":"Andriy"},"score":2,"creation_date":1454875898,"post_id":35244129,"comment_id":58229381,"body_markdown":"I&#39;m not sure about corresponding option in Android Studio under Windows OS, however original question was about **IntelliJ IDEA**, which does not have &quot;Instant Run&quot; switch","body":"I&#39;m not sure about corresponding option in Android Studio under Windows OS, however original question was about <b>IntelliJ IDEA</b>, which does not have &quot;Instant Run&quot; switch"}],"tags":[],"owner":{"account_id":242242,"reputation":2252,"user_id":513626,"accept_rate":100,"display_name":"MattMatt"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1454779945,"creation_date":1454779945,"answer_id":35244129,"question_id":34750611,"body_markdown":"Gabor&#39;s suggestion seemed to fix this issue for me. On a Mac (and I presume on a Windows machine, but with a different route to get there) go to Preferences:\r\n\r\nFrom the menu bar at the top **Android Studio → Preferences**\r\n\r\n*or*\r\n\r\nHit **⌘ and ,** to jump straight to it.\r\n\r\nThen in the menu search box type &quot;instant&quot;. Uncheck the box that says &quot;Enable instant run..&quot;, which looks like the image below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThat fixed it for me; didn&#39;t even need to restart/kill ADB.\r\n\r\nIt seems to be enabled by default, and I use it often to hot-swap changes during development, so I didn&#39;t think to turn it off when running Espresso tests.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Vm40k.png","title":"Unit tests terminated in Debug mode","body":"<p>Gabor's suggestion seemed to fix this issue for me. On a Mac (and I presume on a Windows machine, but with a different route to get there) go to Preferences:</p>\n\n<p>From the menu bar at the top <strong>Android Studio → Preferences</strong></p>\n\n<p><em>or</em></p>\n\n<p>Hit <strong>⌘ and ,</strong> to jump straight to it.</p>\n\n<p>Then in the menu search box type \"instant\". Uncheck the box that says \"Enable instant run..\", which looks like the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vm40k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vm40k.png\" alt=\"enter image description here\"></a></p>\n\n<p>That fixed it for me; didn't even need to restart/kill ADB.</p>\n\n<p>It seems to be enabled by default, and I use it often to hot-swap changes during development, so I didn't think to turn it off when running Espresso tests.</p>\n"},{"comments":[{"owner":{"account_id":6593338,"reputation":737,"user_id":5093897,"display_name":"Andriy"},"score":0,"creation_date":1554062243,"post_id":55444339,"comment_id":97604929,"body_markdown":"Thank you for suggestion. Please note that original question was about IntelliJ IDEA, so this solution is not applicable","body":"Thank you for suggestion. Please note that original question was about IntelliJ IDEA, so this solution is not applicable"}],"tags":[],"owner":{"account_id":15643284,"reputation":1,"user_id":11286111,"display_name":"Mohsen Dianati"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1554058992,"creation_date":1554058667,"answer_id":55444339,"question_id":34750611,"body_markdown":"To get rid of unit test problems in debug mode, I deleted all test folders in android studio explorer, then I commented three test implementation lines in build.gradle(module) file. Then I changed the combobox in android studio menu (top of the IDE) from &quot;all in app&quot; to &quot;app&quot;.\r\n\r\n\r\nhttps://i.stack.imgur.com/alPrS.png","title":"Unit tests terminated in Debug mode","body":"<p>To get rid of unit test problems in debug mode, I deleted all test folders in android studio explorer, then I commented three test implementation lines in build.gradle(module) file. Then I changed the combobox in android studio menu (top of the IDE) from \"all in app\" to \"app\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/alPrS.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/alPrS.png</a></p>\n"},{"comments":[{"owner":{"account_id":10494065,"reputation":1812,"user_id":7734945,"display_name":"Burak"},"score":0,"creation_date":1686068529,"post_id":63399650,"comment_id":134747279,"body_markdown":"Bro I am dealing with this issue for hours. I thought the crash is because of memory related. So I changed VM options, did many changes to increase memory usage. Found out that it wasn&#39;t the reason. Your suggestion just saved me. Thank you!!!","body":"Bro I am dealing with this issue for hours. I thought the crash is because of memory related. So I changed VM options, did many changes to increase memory usage. Found out that it wasn&#39;t the reason. Your suggestion just saved me. Thank you!!!"}],"tags":[],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1684483611,"creation_date":1597337007,"answer_id":63399650,"question_id":34750611,"body_markdown":"In my company&#39;s case, the fix was to:\r\n\r\n1. Open `Edit Configuration...` for `All tests` (or whatever you renamed it into).\r\n2. Switch to `Debugger` tab.\r\n3. And finally, in `Debug mode` combo-box, select the `Java` option, because:\r\n    - Although we have lots of Native codes,\r\nAndroid-studio 3.2.1 (which we were using) does not seem to support debugging both (but Java only mode works fine).\r\n\r\n&gt; **Note** that we&#39;ve seen above since Android-studio 3.2.1 until Android-studio 2022.x, **but** above might not be required in some newer version.\r\n","title":"Unit tests terminated in Debug mode","body":"<p>In my company's case, the fix was to:</p>\n<ol>\n<li>Open <code>Edit Configuration...</code> for <code>All tests</code> (or whatever you renamed it into).</li>\n<li>Switch to <code>Debugger</code> tab.</li>\n<li>And finally, in <code>Debug mode</code> combo-box, select the <code>Java</code> option, because:\n<ul>\n<li>Although we have lots of Native codes,\nAndroid-studio 3.2.1 (which we were using) does not seem to support debugging both (but Java only mode works fine).</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p><strong>Note</strong> that we've seen above since Android-studio 3.2.1 until Android-studio 2022.x, <strong>but</strong> above might not be required in some newer version.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":231483,"reputation":417,"user_id":495739,"accept_rate":75,"display_name":"Fox"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1606499542,"creation_date":1606499542,"answer_id":65041754,"question_id":34750611,"body_markdown":"In my situation, the problem is solved by setting in the test&#39;s run configuration:\r\nShorten command line -&gt; JAR manifest.\r\n","title":"Unit tests terminated in Debug mode","body":"<p>In my situation, the problem is solved by setting in the test's run configuration:\nShorten command line -&gt; JAR manifest.</p>\n"}],"owner":{"account_id":6593338,"reputation":737,"user_id":5093897,"display_name":"Andriy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8881,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1684483611,"creation_date":1452621284,"question_id":34750611,"body_markdown":"I&#39;m using IntelliJ IDEA 15.0.2 (Community Edition) under Windows 7 and Windows 10 Pro, Gradle 2.9, JDK 1.7.0_65. Operating systems installed as guests under VMware Workstation 11.1.3\r\n\r\nI have created Android Gradle application with single empty activity and wanted to check how unit test support works. There is a single unit test module ApplicationTest.java created by IDE, it contains only constructor. Right-clicking on [java] folder I created &#39;All in Module&#39; JUnit3 test configuration.\r\n\r\nTests complete successfully when I Run them, however fail if I Debug the configuration. Failure reason says &#39;Terminated&#39; ([screenshot][1], [IDEA log][2]) which explained in the documentation as &#39;Test terminated. This status is assigned to tests that were cancelled by clicking the Stop button&#39;. Just want to confirm that I didn&#39;t click the Stop button.\r\n\r\nLogcat logs don&#39;t report any failures, IDE log reports 2 tests passed too. However problem remains as IntelliJ still reports a termination.\r\n\r\nSometimes I also getting &#39;Test framework quit unexpectedly&#39; error and no tests succeed.\r\n\r\nI&#39;ve done some research and found similar questions, no real solutions mentioned. Have strong suspicion that this is a configuration issue.\r\n\r\nWhat do I do wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HSCmS.png\r\n  [2]: https://drive.google.com/file/d/0B6r9Ag-ygMRaa2VBX0RLUFNhU0U/view?usp=sharing","title":"Unit tests terminated in Debug mode","body":"<p>I'm using IntelliJ IDEA 15.0.2 (Community Edition) under Windows 7 and Windows 10 Pro, Gradle 2.9, JDK 1.7.0_65. Operating systems installed as guests under VMware Workstation 11.1.3</p>\n\n<p>I have created Android Gradle application with single empty activity and wanted to check how unit test support works. There is a single unit test module ApplicationTest.java created by IDE, it contains only constructor. Right-clicking on [java] folder I created 'All in Module' JUnit3 test configuration.</p>\n\n<p>Tests complete successfully when I Run them, however fail if I Debug the configuration. Failure reason says 'Terminated' (<a href=\"https://i.stack.imgur.com/HSCmS.png\" rel=\"noreferrer\">screenshot</a>, <a href=\"https://drive.google.com/file/d/0B6r9Ag-ygMRaa2VBX0RLUFNhU0U/view?usp=sharing\" rel=\"noreferrer\">IDEA log</a>) which explained in the documentation as 'Test terminated. This status is assigned to tests that were cancelled by clicking the Stop button'. Just want to confirm that I didn't click the Stop button.</p>\n\n<p>Logcat logs don't report any failures, IDE log reports 2 tests passed too. However problem remains as IntelliJ still reports a termination.</p>\n\n<p>Sometimes I also getting 'Test framework quit unexpectedly' error and no tests succeed.</p>\n\n<p>I've done some research and found similar questions, no real solutions mentioned. Have strong suspicion that this is a configuration issue.</p>\n\n<p>What do I do wrong?</p>\n"},{"tags":["java","file","curl"],"comments":[{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1318253410,"post_id":7713230,"comment_id":9381768,"body_markdown":"What exactly is your problem? And a bit mroe code would be helpfull, what is `httpPost` e.g.?","body":"What exactly is your problem? And a bit mroe code would be helpfull, what is <code>httpPost</code> e.g.?"},{"owner":{"account_id":465490,"reputation":191,"user_id":869613,"display_name":"amine"},"score":0,"creation_date":1318253577,"post_id":7713230,"comment_id":9381813,"body_markdown":"I&#39;m trying to send the curl command (already a Linux terminal command) using a java program. I&#39;ve tried multipart but I don&#39;t need to upload or download the file, it&#39;s rather a transfer between distant repository.","body":"I&#39;m trying to send the curl command (already a Linux terminal command) using a java program. I&#39;ve tried multipart but I don&#39;t need to upload or download the file, it&#39;s rather a transfer between distant repository."},{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1318254051,"post_id":7713230,"comment_id":9381956,"body_markdown":"Well, your Java code is incomplete. And we don&#39;t know why it does not work. So post more code please (and yes, we all know what `curl` is .... sigh). E.g. you don&#39;t call any post-method, so that fragment above can&#39;t work, obviously. You need at least an HttpURLConnection ...","body":"Well, your Java code is incomplete. And we don&#39;t know why it does not work. So post more code please (and yes, we all know what <code>curl</code> is .... sigh). E.g. you don&#39;t call any post-method, so that fragment above can&#39;t work, obviously. You need at least an HttpURLConnection ..."},{"owner":{"account_id":465490,"reputation":191,"user_id":869613,"display_name":"amine"},"score":0,"creation_date":1318255813,"post_id":7713230,"comment_id":9382423,"body_markdown":"I&#39;m using org.apache.http.client to communicate with a REST server. I&#39;ve already made requests using cURL. What I&#39;m trying to do now is to execute these requests from a java program. The problem is that in one of the requests need to make a file transfer, with curl It&#39;s made using -F option, the question is how to do it in java ?","body":"I&#39;m using org.apache.http.client to communicate with a REST server. I&#39;ve already made requests using cURL. What I&#39;m trying to do now is to execute these requests from a java program. The problem is that in one of the requests need to make a file transfer, with curl It&#39;s made using -F option, the question is how to do it in java ?"},{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1318256009,"post_id":7713230,"comment_id":9382486,"body_markdown":"By calling the correct method of your connection object. AGAIN: why can&#39;t you simply edit your question and add ALL your code? http://hc.apache.org/httpclient-3.x/methods/post.html","body":"By calling the correct method of your connection object. AGAIN: why can&#39;t you simply edit your question and add ALL your code? <a href=\"http://hc.apache.org/httpclient-3.x/methods/post.html\" rel=\"nofollow noreferrer\">hc.apache.org/httpclient-3.x/methods/post.html</a>"},{"owner":{"account_id":465490,"reputation":191,"user_id":869613,"display_name":"amine"},"score":0,"creation_date":1318257040,"post_id":7713230,"comment_id":9382804,"body_markdown":"AGAIN : The problem is just with the -F option, I&#39;ve tested the program with multiple requests and it&#39;s fine","body":"AGAIN : The problem is just with the -F option, I&#39;ve tested the program with multiple requests and it&#39;s fine"},{"owner":{"account_id":73352,"reputation":22219,"user_id":211277,"accept_rate":78,"display_name":"tolitius"},"score":1,"creation_date":1318259171,"post_id":7713230,"comment_id":9383487,"body_markdown":"This should work: [How to upload a file using Java HttpClient](http://stackoverflow.com/questions/1067655/how-to-upload-a-file-using-java-httpclient-library-working-with-php-strange-pro)","body":"This should work: <a href=\"http://stackoverflow.com/questions/1067655/how-to-upload-a-file-using-java-httpclient-library-working-with-php-strange-pro\">How to upload a file using Java HttpClient</a>"}],"answers":[{"tags":[],"owner":{"account_id":3872017,"reputation":31,"user_id":3207069,"display_name":"tjmorrison"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389972046,"creation_date":1389972046,"answer_id":21189398,"question_id":7713230,"body_markdown":"I ran across this problem yesterday. Here is a solution that uses Apache http libraries.\r\n\r\n    package curldashf;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.fluent.Request;\r\n    import org.apache.http.entity.mime.MultipartEntity;\r\n    import org.apache.http.entity.mime.content.ByteArrayBody;\r\n    import org.apache.http.util.EntityUtils;\r\n    \r\n    public class CurlDashF\r\n    {\r\n    \tpublic static void main(String[] args) throws ClientProtocolException, IOException\r\n    \t{\r\n    \t\tString filePath = &quot;file_path&quot;;\r\n    \t\tString url = &quot;http://localhost/files&quot;;\r\n    \t\tFile file = new File(filePath);\r\n    \t\tMultipartEntity entity = new MultipartEntity();\r\n    \t\tentity.addPart(&quot;file&quot;, new FileBody(file));\r\n    \t\tHttpResponse returnResponse = Request.Post(url)\r\n    \t\t\t.body(entity)\r\n    \t\t\t.execute().returnResponse();\r\n    \t\tSystem.out.println(&quot;Response status: &quot; + returnResponse.getStatusLine().getStatusCode());\r\n    \t\tSystem.out.println(EntityUtils.toString(returnResponse.getEntity()));\r\n    \t}\r\n    }\r\n\r\nSet filePath and url as necessary. If you are using something other than a file, you can substitute FileBody with ByteArrayBody, InputStreamBody or StringBody. My particular situation called for ByteArrayBody but the code above works for a file.","title":"&quot;Curl -F&quot; Java equivalent","body":"<p>I ran across this problem yesterday. Here is a solution that uses Apache http libraries.</p>\n\n<pre><code>package curldashf;\n\nimport java.io.File;\nimport java.io.IOException;\nimport org.apache.commons.io.FileUtils;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.fluent.Request;\nimport org.apache.http.entity.mime.MultipartEntity;\nimport org.apache.http.entity.mime.content.ByteArrayBody;\nimport org.apache.http.util.EntityUtils;\n\npublic class CurlDashF\n{\n    public static void main(String[] args) throws ClientProtocolException, IOException\n    {\n        String filePath = \"file_path\";\n        String url = \"http://localhost/files\";\n        File file = new File(filePath);\n        MultipartEntity entity = new MultipartEntity();\n        entity.addPart(\"file\", new FileBody(file));\n        HttpResponse returnResponse = Request.Post(url)\n            .body(entity)\n            .execute().returnResponse();\n        System.out.println(\"Response status: \" + returnResponse.getStatusLine().getStatusCode());\n        System.out.println(EntityUtils.toString(returnResponse.getEntity()));\n    }\n}\n</code></pre>\n\n<p>Set filePath and url as necessary. If you are using something other than a file, you can substitute FileBody with ByteArrayBody, InputStreamBody or StringBody. My particular situation called for ByteArrayBody but the code above works for a file.</p>\n"}],"owner":{"account_id":465490,"reputation":191,"user_id":869613,"display_name":"amine"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5622,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1684483404,"creation_date":1318252133,"question_id":7713230,"body_markdown":"What is the equivalent in java for the following curl command:\r\n\r\n    curl -X POST -F &quot;file=@$File_PATH&quot;\r\n\r\nThe request I want to execute using Java is :\r\n\r\n    curl -X POST -F &#39;file=@file_path&#39; http://localhost/files/ \r\nI was trying : \r\n    \r\n                HttpClient httpClient = new DefaultHttpClient();\t\t\r\n\t\t\r\n\t\tHttpPost httpPost = new HttpPost(_URL);\r\n\t\t\r\n\t\tFile file = new File(PATH);\r\n\r\n      \t        MultipartEntity mpEntity = new MultipartEntity();\r\n\t        ContentBody cbFile = new FileBody(file, &quot;bin&quot;);\r\n \t        mpEntity.addPart(&quot;userfile&quot;, cbFile);\r\n\r\n\t        httpPost.setEntity(mpEntity);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\tHttpResponse response = httpClient.execute(httpPost);\r\n\t\tInputStream instream = response.getEntity().getContent();","title":"&quot;Curl -F&quot; Java equivalent","body":"<p>What is the equivalent in java for the following curl command:</p>\n\n<pre><code>curl -X POST -F \"file=@$File_PATH\"\n</code></pre>\n\n<p>The request I want to execute using Java is :</p>\n\n<pre><code>curl -X POST -F 'file=@file_path' http://localhost/files/ \n</code></pre>\n\n<p>I was trying : </p>\n\n<pre><code>            HttpClient httpClient = new DefaultHttpClient();        \n\n    HttpPost httpPost = new HttpPost(_URL);\n\n    File file = new File(PATH);\n\n            MultipartEntity mpEntity = new MultipartEntity();\n        ContentBody cbFile = new FileBody(file, \"bin\");\n        mpEntity.addPart(\"userfile\", cbFile);\n\n        httpPost.setEntity(mpEntity);\n\n    HttpResponse response = httpClient.execute(httpPost);\n    InputStream instream = response.getEntity().getContent();\n</code></pre>\n"},{"tags":["java","android","7zip"],"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684482802,"creation_date":1679477323,"question_id":75810432,"body_markdown":"I want to unzip a .7z archive but I&#39;m facing a weird issue.\r\nMaybe I didn&#39;t understood well how to use the &quot;SevenZFile&quot; class from org.apache.commons:commons-compress:1.20.\r\n\r\nHere is my method which use the SevenZfile class : \r\n\r\n        public static void extract7z(File input, File outputDir) throws IOException {\r\n        SevenZFile sevenZFile = new SevenZFile(input);\r\n        SevenZArchiveEntry entry;\r\n        while ((entry = sevenZFile.getNextEntry()) != null) {\r\n            if (!entry.isDirectory()) {\r\n                File outputFile = new File(outputDir, entry.getName());\r\n                outputFile.getParentFile().mkdirs();\r\n                FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n                IOUtils.copy(sevenZFile.getInputStream(entry), outputStream);\r\n                outputStream.close();\r\n            }\r\n        }\r\n        sevenZFile.close();\r\n    }\r\n\r\nI called this method in the same file in this method :\r\n\r\n        public void saveImage(Context myContext, String myDataset) throws IOException {\r\n\r\n        AssetManager assetManager = Objects.requireNonNull(myContext).getAssets();\r\n        String[] archives = null;\r\n        String archiveName = myDataset + &quot;.7z&quot;;\r\n        String archivePath = Environment.getExternalStorageDirectory() + &quot;/&quot; + archiveName;\r\n        File archive = new File(archivePath);\r\n        File picturesFolder = new File(myContext.getExternalFilesDir(null).getParent(), &quot;Pictures&quot;);\r\n        picturesFolder.mkdirs();\r\n        try {\r\n            archives = assetManager.list(&quot;photos/&quot;+myDataset+&quot;/&quot;+&quot;archive&quot;);\r\n        } catch (IOException e) {\r\n            Log.e(&quot;tag&quot;, &quot;Failed to get asset file list.&quot;, e);\r\n        }\r\n        if (archives != null) {\r\n                InputStream in;\r\n                OutputStream out;\r\n                try {\r\n                    in = assetManager.open(&quot;photos/&quot; + myDataset + &quot;/&quot; +&quot;archive&quot;+ &quot;/&quot; +&quot;dataset3.7z&quot;);\r\n                    File outFile = new File(Environment.getExternalStorageDirectory() + &quot;/&quot; + archiveName);\r\n                    out = new FileOutputStream(outFile);\r\n                    copyFile(in, out);\r\n                    in.close();\r\n                    out.flush();\r\n                    out.close();\r\n                    extract7z(archive, picturesFolder);\r\n                    MediaScannerConnection.scanFile(myContext, new String[]{outFile.toString()}, null, new MediaScannerConnection.OnScanCompletedListener() {\r\n                        @Override\r\n                        public void onScanCompleted(String path, Uri uri) {\r\n                            Log.i(&quot;External Storage&quot;, &quot;Scanned&quot; + path + &quot;:&quot;);\r\n                            Log.i(&quot;External Storage&quot;, &quot;uri &quot; + uri);\r\n\r\n                        }\r\n                    });\r\n                } catch (IOException e) {\r\n                    Log.e(&quot;tag&quot;, &quot;Failed to copy asset file: &quot; + archiveName, e);\r\n\r\n            }\r\n        } else {\r\n            Log.e(&quot;Error NPE&quot;, &quot;null&quot;);\r\n        }\r\n    }\r\n\r\nIn this method I copy and then paste my file dataset3.7z from asset file to the external public directory. This step is working fine.\r\nBut, then, when I wanted to unzip this file in the phone I faced this error : \r\n\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1000; index=-1\r\n\r\nfrom this line : \r\n\r\n    IOUtils.copy(sevenZFile.getInputStream(entry), outputStream);\r\n\r\n\r\nI don&#39;t understand this error, I know my archive is 1000 images, but do I have to loop through the files to unzip them one by one? \r\nDoes this class work like that ?\r\n","title":"How to correctly unzip .7z archive with SevenZFile class?","body":"<p>I want to unzip a .7z archive but I'm facing a weird issue.\nMaybe I didn't understood well how to use the &quot;SevenZFile&quot; class from org.apache.commons:commons-compress:1.20.</p>\n<p>Here is my method which use the SevenZfile class :</p>\n<pre><code>    public static void extract7z(File input, File outputDir) throws IOException {\n    SevenZFile sevenZFile = new SevenZFile(input);\n    SevenZArchiveEntry entry;\n    while ((entry = sevenZFile.getNextEntry()) != null) {\n        if (!entry.isDirectory()) {\n            File outputFile = new File(outputDir, entry.getName());\n            outputFile.getParentFile().mkdirs();\n            FileOutputStream outputStream = new FileOutputStream(outputFile);\n            IOUtils.copy(sevenZFile.getInputStream(entry), outputStream);\n            outputStream.close();\n        }\n    }\n    sevenZFile.close();\n}\n</code></pre>\n<p>I called this method in the same file in this method :</p>\n<pre><code>    public void saveImage(Context myContext, String myDataset) throws IOException {\n\n    AssetManager assetManager = Objects.requireNonNull(myContext).getAssets();\n    String[] archives = null;\n    String archiveName = myDataset + &quot;.7z&quot;;\n    String archivePath = Environment.getExternalStorageDirectory() + &quot;/&quot; + archiveName;\n    File archive = new File(archivePath);\n    File picturesFolder = new File(myContext.getExternalFilesDir(null).getParent(), &quot;Pictures&quot;);\n    picturesFolder.mkdirs();\n    try {\n        archives = assetManager.list(&quot;photos/&quot;+myDataset+&quot;/&quot;+&quot;archive&quot;);\n    } catch (IOException e) {\n        Log.e(&quot;tag&quot;, &quot;Failed to get asset file list.&quot;, e);\n    }\n    if (archives != null) {\n            InputStream in;\n            OutputStream out;\n            try {\n                in = assetManager.open(&quot;photos/&quot; + myDataset + &quot;/&quot; +&quot;archive&quot;+ &quot;/&quot; +&quot;dataset3.7z&quot;);\n                File outFile = new File(Environment.getExternalStorageDirectory() + &quot;/&quot; + archiveName);\n                out = new FileOutputStream(outFile);\n                copyFile(in, out);\n                in.close();\n                out.flush();\n                out.close();\n                extract7z(archive, picturesFolder);\n                MediaScannerConnection.scanFile(myContext, new String[]{outFile.toString()}, null, new MediaScannerConnection.OnScanCompletedListener() {\n                    @Override\n                    public void onScanCompleted(String path, Uri uri) {\n                        Log.i(&quot;External Storage&quot;, &quot;Scanned&quot; + path + &quot;:&quot;);\n                        Log.i(&quot;External Storage&quot;, &quot;uri &quot; + uri);\n\n                    }\n                });\n            } catch (IOException e) {\n                Log.e(&quot;tag&quot;, &quot;Failed to copy asset file: &quot; + archiveName, e);\n\n        }\n    } else {\n        Log.e(&quot;Error NPE&quot;, &quot;null&quot;);\n    }\n}\n</code></pre>\n<p>In this method I copy and then paste my file dataset3.7z from asset file to the external public directory. This step is working fine.\nBut, then, when I wanted to unzip this file in the phone I faced this error :</p>\n<pre><code>Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1000; index=-1\n</code></pre>\n<p>from this line :</p>\n<pre><code>IOUtils.copy(sevenZFile.getInputStream(entry), outputStream);\n</code></pre>\n<p>I don't understand this error, I know my archive is 1000 images, but do I have to loop through the files to unzip them one by one?\nDoes this class work like that ?</p>\n"},{"tags":["java","php","codeigniter","curl"],"comments":[{"owner":{"account_id":9521405,"reputation":24976,"user_id":7076153,"accept_rate":50,"display_name":"Stargateur"},"score":0,"creation_date":1484631495,"post_id":41689667,"comment_id":70576104,"body_markdown":"Why c tag and java and android tag? I don&#39;t see any C not even JAVA, maybe this is specific to android, but that don&#39;t seem to be.","body":"Why c tag and java and android tag? I don&#39;t see any C not even JAVA, maybe this is specific to android, but that don&#39;t seem to be."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1484631605,"post_id":41689667,"comment_id":70576133,"body_markdown":"Also don&#39;t post api keys in public forum, it will be security risk.","body":"Also don&#39;t post api keys in public forum, it will be security risk."},{"owner":{"account_id":6609065,"reputation":151,"user_id":5104907,"display_name":"Sai Manoj Kadiyala"},"score":0,"creation_date":1484637085,"post_id":41689667,"comment_id":70578215,"body_markdown":"@VeeraKannadiga It is a test key.","body":"@VeeraKannadiga It is a test key."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1493385024,"post_id":41689667,"comment_id":74408170,"body_markdown":"@maulik Do I need to register for AUA at the uidai portal ? Can&#39;t I just use some test samples for testing purpose ? Thanks","body":"@maulik Do I need to register for AUA at the uidai portal ? Can&#39;t I just use some test samples for testing purpose ? Thanks"}],"answers":[{"comments":[{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1493383376,"post_id":41691865,"comment_id":74407095,"body_markdown":"@M A SIDDIQUI Thank you for your answer. I have some doubts which i would like to clear. What should I assign the values of $encrypted_encoded_session_key, $encrypted_pid_block, $sha256_pid_bloc_encrypted_encoded, $digital_aua_signatrure or else I will get these values from UIDAI portal after AUA registration ?","body":"@M A SIDDIQUI Thank you for your answer. I have some doubts which i would like to clear. What should I assign the values of $encrypted_encoded_session_key, $encrypted_pid_block, $sha256_pid_bloc_encrypted_encoded, $digital_aua_signatrure or else I will get these values from UIDAI portal after AUA registration ?"},{"owner":{"account_id":4659668,"reputation":2056,"user_id":3774235,"accept_rate":43,"display_name":"M A SIDDIQUI"},"score":0,"creation_date":1493454589,"post_id":41691865,"comment_id":74432591,"body_markdown":"@Lokesh those are the keys provided to you You can find that in the doc link","body":"@Lokesh those are the keys provided to you You can find that in the doc link"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1493457715,"post_id":41691865,"comment_id":74433328,"body_markdown":"I have gone through entire doc but didn&#39;t find anywhere","body":"I have gone through entire doc but didn&#39;t find anywhere"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1493463314,"post_id":41691865,"comment_id":74434722,"body_markdown":"I am referring to aadhar authentication api 2.0 document","body":"I am referring to aadhar authentication api 2.0 document"}],"tags":[],"owner":{"account_id":4659668,"reputation":2056,"user_id":3774235,"accept_rate":43,"display_name":"M A SIDDIQUI"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484640385,"creation_date":1484640385,"answer_id":41691865,"question_id":41689667,"body_markdown":"In the above code you are sending request to version 1.6 while in XML data you have mentioned version 1.5 You are missing some parameters in xml data which is being sent   and those missing data are mandatory. There are some key missing in the request section.\r\n\r\nI have solved this as per uidai guide. But haven&#39;t got successful response as you didn&#39;t provided the some keys and some keys you have provided are invalid. \r\n\r\n    &lt;?php\r\n    /**\r\n     * Read the documentation here\r\n     * https://uidai.gov.in/images/FrontPageUpdates/aadhaar_authentication_api_1_6.pdf\r\n     */\r\n    $adhar_card_no = &quot;&quot;;\r\n    \r\n    function buildUrl($adhar_card_no)\r\n    {\r\n        $host = &quot;http://auth.uidai.gov.in&quot;;\r\n        $version = 1.6;\r\n        $aua = &quot;&quot;;\r\n        $asalk = &quot;&quot;;\r\n        $uid = str_split($adhar_card_no);\r\n        $url =  $host.&quot;/&quot;.$version.&quot;/&quot;.$aua.&quot;/&quot;.$uid[0].&quot;/&quot;.$uid[1].&quot;/&quot;.$asalk;\r\n        return $url;\r\n    }\r\n    \r\n    function requestDataBuilder($uid)\r\n    {\r\n        $encrypted_encoded_session_key = &quot;&quot;;\r\n        $encrypted_pid_block = &quot;&quot;;\r\n        $sha256_pid_bloc_encrypted_encoded= &quot;&quot;;\r\n        $digital_aua_signatrure= &quot;&quot;;\r\n        /**\r\n         * Authentication data to send request --Mandatory\r\n         */\r\n        $auth_data = [\r\n            &quot;uid&quot; =&gt; $uid, //Adhaar Card No.\r\n            &quot;tid&quot; =&gt; &quot;&quot;, //Terminal Id for registered device else public\r\n            &quot;ac&quot; =&gt; &quot;&quot;, //10 char unique code, public for testing\r\n            &quot;sa&quot; =&gt; &quot;&quot;, //max length 10, same as ac possible\r\n            &quot;ver&quot; =&gt; 1.6, //Current version\r\n            &quot;txn&quot; =&gt; &quot;&quot;, //AUA transaction  identifier. max length 50, not U*\r\n            &quot;lk&quot; =&gt; &quot;&quot;, //Valid License Key, max length 64\r\n        ];\r\n        /**\r\n         * Uses data comprises of options as yes (y) or no (n) -- Mandatory\r\n         */\r\n        $uses_data = [\r\n            &quot;pi&quot; =&gt; &quot;n&quot;,\r\n            &quot;pa&quot; =&gt; &quot;n&quot;,\r\n            &quot;pfa&quot; =&gt; &quot;n&quot;,\r\n            &quot;bio&quot; =&gt; &quot;n&quot;,\r\n            &quot;bt&quot; =&gt; &quot;n&quot;,\r\n            &quot;pin&quot; =&gt; &quot;n&quot;,\r\n            &quot;otp&quot; =&gt; &quot;n&quot;\r\n        ];\r\n        /**\r\n         * Token data -- optional\r\n         */\r\n        $tkn_data = [\r\n            &quot;type&quot; =&gt; &quot;001&quot;, //only this option available for now which is mobile no.\r\n            &quot;value&quot; =&gt; &quot;&quot; //Mobile no. 10 digit only no prefix\r\n        ];\r\n        /**\r\n         * Meta Data Mandatory\r\n         */\r\n        $meta_data = [\r\n            &quot;udc&quot; =&gt; $udc, //[vendorcode][date of deployment][serial number] max length 20\r\n            &quot;fdc&quot; =&gt; &quot;NA&quot;, //Fingerprint device code. use NA or NC or given code\r\n            &quot;idc&quot; =&gt; &quot;NA&quot;, //Iris device  code,  us na or NC\r\n            &quot;pip&quot; =&gt; &quot;NA&quot;, //Public IP address of the device, or NA\r\n            &quot;lot&quot; =&gt; &quot;P&quot;, //G -lat long format. p for pincode format\r\n            &quot;lov&quot; =&gt; &quot;110025&quot; // value as per G and P- my pin change it\r\n        ];\r\n        /**\r\n         * Skey data -- Mandatory\r\n         */\r\n        $skey_data = [\r\n            &quot;ci&quot; =&gt; &quot;&quot;, //Public key certificate Identifier --mandatory\r\n            &quot;ki&quot; =&gt; &quot;&quot; //This is for advanced use only, --optional\r\n        ];\r\n    \r\n        $format = &#39;&lt;Auth uid=”&#39;.$auth_data[&#39;uid&#39;].&#39;” tid =”&#39;.$auth_data[&#39;tid&#39;].&#39;” ac=”&#39;.$auth_data[&#39;ac&#39;].&#39;” sa=”&#39;.$auth_data[&#39;sa&#39;].&#39;” ver=”&#39;.$auth_data[&#39;ver&#39;].&#39;” txn=”&#39;.$auth_data[&#39;txn&#39;].&#39;” lk=”&#39;.$auth_data[&#39;lk&#39;].&#39;”&gt;&#39;;\r\n        $format.= &#39;&lt;Uses pi=”&#39;.$uses_data[&#39;pi&#39;].&#39;” pa=”&#39;.$uses_data[&#39;pa&#39;].&#39;” pfa=”&#39;.$uses_data[&#39;pfa&#39;].&#39;” bio=”&#39;.$uses_data[&#39;bio&#39;].&#39;” bt=”&#39;.$uses_data[&#39;bt&#39;].&#39;” pin=”&#39;.$uses_data[&#39;pin&#39;].&#39;” otp=”&#39;.$uses_data[&#39;otp&#39;].&#39;”/&gt;&#39;;\r\n        $format.= &#39;&lt;Tkn type=”&#39;.$tkn_data[&#39;type&#39;].&#39;” value=”&#39;.$tkn_data[&#39;value&#39;].&#39;”/&gt;&#39;;\r\n        $format.= &#39;&lt;Meta udc=”&#39;.$meta_data[&#39;udc&#39;].&#39;” fdc=”&#39;.$meta_data[&#39;fdc&#39;].&#39;” idc=”&#39;.$meta_data[&#39;idc&#39;].&#39;” pip=”&#39;.$meta_data[&#39;pip&#39;].&#39;” lot=”&#39;.$meta_data[&#39;lot&#39;].&#39;” lov=”&#39;.$meta_data[&#39;lov&#39;].&#39;”/&gt;&#39;;\r\n        $format.= &#39;&lt;Skey ci=”&#39;.$skey_data[&#39;ci&#39;].&#39;” ki=”&#39;.$skey_data[&#39;ci&#39;].&#39;”&gt;&#39;.$encrypted_encoded_session_key.&#39;&lt;/Skey&gt;&#39;;\r\n        $format.= &#39;&lt;Data type=”X”&gt;&#39;.$encrypted_pid_block.&#39;&lt;/Data&gt;&#39;;\r\n        $format.= &#39;&lt;Hmac&gt;&#39;.$sha256_pid_bloc_encrypted_encoded.&#39;&lt;/Hmac&gt;&#39;;\r\n        $format.= &#39;&lt;Signature&gt;&#39;.$digital_aua_signatrure.&#39;&lt;/Signature&gt;&lt;/Auth&gt;&#39;;\r\n        return $format;\r\n    \r\n    }\r\n    $request_url = buildUrl($adhar_card_no);\r\n    $data_to_send = requestDataBuilder($adhar_card_no);\r\n    //setting the curl parameters.\r\n    $ch = curl_init();\r\n    $curl_options = [\r\n        CURLOPT_URL =&gt; $request_url,\r\n        CURLOPT_VERBOSE =&gt; 1,\r\n        CURLOPT_SSL_VERIFYHOST =&gt; 0,\r\n        CURLOPT_SSL_VERIFYPEER =&gt; 0,\r\n        CURLOPT_POST =&gt; 1,\r\n        CURLOPT_RETURNTRANSFER =&gt; 1,\r\n        CURLOPT_HTTPHEADER =&gt; array(&#39;Content-Type: application/xnl&#39;),\r\n        CURLOPT_POSTFIELDS =&gt; $data_to_send\r\n    ];\r\n    curl_setopt_array($ch, $curl_options);\r\n    if (curl_errno($ch)) {\r\n    // moving to display page to display curl errors\r\n        echo curl_errno($ch) ;\r\n        echo curl_error($ch);\r\n    } else {\r\n        //getting response from server\r\n        $response = curl_exec($ch);\r\n        print_r($response);\r\n        curl_close($ch);\r\n    }\r\n\r\n","title":"I want to integrate the Aadhaar Card Authentication in PHP. I tried this code for API access but I can not get any response","body":"<p>In the above code you are sending request to version 1.6 while in XML data you have mentioned version 1.5 You are missing some parameters in xml data which is being sent   and those missing data are mandatory. There are some key missing in the request section.</p>\n\n<p>I have solved this as per uidai guide. But haven't got successful response as you didn't provided the some keys and some keys you have provided are invalid. </p>\n\n<pre><code>&lt;?php\n/**\n * Read the documentation here\n * https://uidai.gov.in/images/FrontPageUpdates/aadhaar_authentication_api_1_6.pdf\n */\n$adhar_card_no = \"\";\n\nfunction buildUrl($adhar_card_no)\n{\n    $host = \"http://auth.uidai.gov.in\";\n    $version = 1.6;\n    $aua = \"\";\n    $asalk = \"\";\n    $uid = str_split($adhar_card_no);\n    $url =  $host.\"/\".$version.\"/\".$aua.\"/\".$uid[0].\"/\".$uid[1].\"/\".$asalk;\n    return $url;\n}\n\nfunction requestDataBuilder($uid)\n{\n    $encrypted_encoded_session_key = \"\";\n    $encrypted_pid_block = \"\";\n    $sha256_pid_bloc_encrypted_encoded= \"\";\n    $digital_aua_signatrure= \"\";\n    /**\n     * Authentication data to send request --Mandatory\n     */\n    $auth_data = [\n        \"uid\" =&gt; $uid, //Adhaar Card No.\n        \"tid\" =&gt; \"\", //Terminal Id for registered device else public\n        \"ac\" =&gt; \"\", //10 char unique code, public for testing\n        \"sa\" =&gt; \"\", //max length 10, same as ac possible\n        \"ver\" =&gt; 1.6, //Current version\n        \"txn\" =&gt; \"\", //AUA transaction  identifier. max length 50, not U*\n        \"lk\" =&gt; \"\", //Valid License Key, max length 64\n    ];\n    /**\n     * Uses data comprises of options as yes (y) or no (n) -- Mandatory\n     */\n    $uses_data = [\n        \"pi\" =&gt; \"n\",\n        \"pa\" =&gt; \"n\",\n        \"pfa\" =&gt; \"n\",\n        \"bio\" =&gt; \"n\",\n        \"bt\" =&gt; \"n\",\n        \"pin\" =&gt; \"n\",\n        \"otp\" =&gt; \"n\"\n    ];\n    /**\n     * Token data -- optional\n     */\n    $tkn_data = [\n        \"type\" =&gt; \"001\", //only this option available for now which is mobile no.\n        \"value\" =&gt; \"\" //Mobile no. 10 digit only no prefix\n    ];\n    /**\n     * Meta Data Mandatory\n     */\n    $meta_data = [\n        \"udc\" =&gt; $udc, //[vendorcode][date of deployment][serial number] max length 20\n        \"fdc\" =&gt; \"NA\", //Fingerprint device code. use NA or NC or given code\n        \"idc\" =&gt; \"NA\", //Iris device  code,  us na or NC\n        \"pip\" =&gt; \"NA\", //Public IP address of the device, or NA\n        \"lot\" =&gt; \"P\", //G -lat long format. p for pincode format\n        \"lov\" =&gt; \"110025\" // value as per G and P- my pin change it\n    ];\n    /**\n     * Skey data -- Mandatory\n     */\n    $skey_data = [\n        \"ci\" =&gt; \"\", //Public key certificate Identifier --mandatory\n        \"ki\" =&gt; \"\" //This is for advanced use only, --optional\n    ];\n\n    $format = '&lt;Auth uid=”'.$auth_data['uid'].'” tid =”'.$auth_data['tid'].'” ac=”'.$auth_data['ac'].'” sa=”'.$auth_data['sa'].'” ver=”'.$auth_data['ver'].'” txn=”'.$auth_data['txn'].'” lk=”'.$auth_data['lk'].'”&gt;';\n    $format.= '&lt;Uses pi=”'.$uses_data['pi'].'” pa=”'.$uses_data['pa'].'” pfa=”'.$uses_data['pfa'].'” bio=”'.$uses_data['bio'].'” bt=”'.$uses_data['bt'].'” pin=”'.$uses_data['pin'].'” otp=”'.$uses_data['otp'].'”/&gt;';\n    $format.= '&lt;Tkn type=”'.$tkn_data['type'].'” value=”'.$tkn_data['value'].'”/&gt;';\n    $format.= '&lt;Meta udc=”'.$meta_data['udc'].'” fdc=”'.$meta_data['fdc'].'” idc=”'.$meta_data['idc'].'” pip=”'.$meta_data['pip'].'” lot=”'.$meta_data['lot'].'” lov=”'.$meta_data['lov'].'”/&gt;';\n    $format.= '&lt;Skey ci=”'.$skey_data['ci'].'” ki=”'.$skey_data['ci'].'”&gt;'.$encrypted_encoded_session_key.'&lt;/Skey&gt;';\n    $format.= '&lt;Data type=”X”&gt;'.$encrypted_pid_block.'&lt;/Data&gt;';\n    $format.= '&lt;Hmac&gt;'.$sha256_pid_bloc_encrypted_encoded.'&lt;/Hmac&gt;';\n    $format.= '&lt;Signature&gt;'.$digital_aua_signatrure.'&lt;/Signature&gt;&lt;/Auth&gt;';\n    return $format;\n\n}\n$request_url = buildUrl($adhar_card_no);\n$data_to_send = requestDataBuilder($adhar_card_no);\n//setting the curl parameters.\n$ch = curl_init();\n$curl_options = [\n    CURLOPT_URL =&gt; $request_url,\n    CURLOPT_VERBOSE =&gt; 1,\n    CURLOPT_SSL_VERIFYHOST =&gt; 0,\n    CURLOPT_SSL_VERIFYPEER =&gt; 0,\n    CURLOPT_POST =&gt; 1,\n    CURLOPT_RETURNTRANSFER =&gt; 1,\n    CURLOPT_HTTPHEADER =&gt; array('Content-Type: application/xnl'),\n    CURLOPT_POSTFIELDS =&gt; $data_to_send\n];\ncurl_setopt_array($ch, $curl_options);\nif (curl_errno($ch)) {\n// moving to display page to display curl errors\n    echo curl_errno($ch) ;\n    echo curl_error($ch);\n} else {\n    //getting response from server\n    $response = curl_exec($ch);\n    print_r($response);\n    curl_close($ch);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1493638079,"post_id":41695070,"comment_id":74479882,"body_markdown":"This is not the desired result you should be getting. You are getting error number 569 which state that &quot; Digital signature verification failed (Means that authentication request XML was modified after it was signed). &quot; And also the AuthRes code is &quot;NA&quot;","body":"This is not the desired result you should be getting. You are getting error number 569 which state that &quot; Digital signature verification failed (Means that authentication request XML was modified after it was signed). &quot; And also the AuthRes code is &quot;NA&quot;"}],"tags":[],"owner":{"account_id":10047857,"reputation":11,"user_id":7428577,"display_name":"maulik "},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484650012,"creation_date":1484650012,"answer_id":41695070,"question_id":41689667,"body_markdown":"&gt;  get this response\r\n        \r\n                                                                                             &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;AuthRes code=&quot;NA&quot; err=&quot;569&quot; info=&quot;02{49951232b1f45f281c7d4f70f3cbbc57c2afd9c0d6bb5f44578bf1304d4868d4,0000000000000000000000000000000000000000000000000000000000000000,0100000000000000,NA,NA,NA,NA,NA,1.6,20ef0f0c8d0eea98772412cea9b3b92612e3e53cb5e59152b5703165f56e8a53,efa1f375d76194fa51a3556a97e641e61685f914d446979da50a551a4333ffd7,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,efa1f375d76194fa51a3556a97e641e61685f914d446979da50a551a4333ffd7}&quot; ret=&quot;n&quot; ts=&quot;2017-01-17T16:07:07.664+05:30&quot; txn=&quot;AuthDemoClient:public:20160615010712053&quot;&gt;\r\n            &lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n                &lt;SignedInfo&gt;\r\n                    &lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;/&gt;\r\n                    &lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;\r\n                    &lt;Reference URI=&quot;&quot;&gt;\r\n                        &lt;Transforms&gt;\r\n                            &lt;Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;\r\n                        &lt;/Transforms&gt;\r\n                        &lt;DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\r\n                        &lt;DigestValue&gt;PTE1p00N0sHAHhrcgK3CwOPA43+3LOY9VRpd6EefPNk=&lt;/DigestValue&gt;\r\n                    &lt;/Reference&gt;\r\n                &lt;/SignedInfo&gt;\r\n                &lt;SignatureValue&gt;Rax6Fii6UcgdQB5HyaxhjltUHwfQERLCxdB+7+in29jVo+YKJrK3kwJ3Tk3nJ/+dSTQTitaSg/gY\r\n        e+mn8E+Txepqy4SMhw9jU+DLCchYnjDUu+8MpUJ6DxlmciwFuWF0oX0KosgJhMwh5+LnkmD81O+G\r\n        gnZupgwV/eh5NRIJ9+sSdJRYlgjcOs3pT+OcATO6TQR7QOEE0b4hSps6t5cGQX8aCFdBD5ZXe9r8\r\n        ufYFqoD2o2DRBXeRzWkQGTODdD2Sa0hjWDA4jueZfci9Ybt8R84CnDYGflWO/88nKQClOAJX2f9F\r\n        /ShVyjoRqStaFrmxsKIEOJ55mONmqn67wkuUWg==&lt;/SignatureValue&gt;\r\n            &lt;/Signature&gt;\r\n        &lt;/AuthRes&gt;","title":"I want to integrate the Aadhaar Card Authentication in PHP. I tried this code for API access but I can not get any response","body":"<blockquote>\n  <p>get this response</p>\n</blockquote>\n\n<pre><code>                                                                                         &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;AuthRes code=\"NA\" err=\"569\" info=\"02{49951232b1f45f281c7d4f70f3cbbc57c2afd9c0d6bb5f44578bf1304d4868d4,0000000000000000000000000000000000000000000000000000000000000000,0100000000000000,NA,NA,NA,NA,NA,1.6,20ef0f0c8d0eea98772412cea9b3b92612e3e53cb5e59152b5703165f56e8a53,efa1f375d76194fa51a3556a97e641e61685f914d446979da50a551a4333ffd7,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,efa1f375d76194fa51a3556a97e641e61685f914d446979da50a551a4333ffd7}\" ret=\"n\" ts=\"2017-01-17T16:07:07.664+05:30\" txn=\"AuthDemoClient:public:20160615010712053\"&gt;\n        &lt;Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n            &lt;SignedInfo&gt;\n                &lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/&gt;\n                &lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"/&gt;\n                &lt;Reference URI=\"\"&gt;\n                    &lt;Transforms&gt;\n                        &lt;Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/&gt;\n                    &lt;/Transforms&gt;\n                    &lt;DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\"/&gt;\n                    &lt;DigestValue&gt;PTE1p00N0sHAHhrcgK3CwOPA43+3LOY9VRpd6EefPNk=&lt;/DigestValue&gt;\n                &lt;/Reference&gt;\n            &lt;/SignedInfo&gt;\n            &lt;SignatureValue&gt;Rax6Fii6UcgdQB5HyaxhjltUHwfQERLCxdB+7+in29jVo+YKJrK3kwJ3Tk3nJ/+dSTQTitaSg/gY\n    e+mn8E+Txepqy4SMhw9jU+DLCchYnjDUu+8MpUJ6DxlmciwFuWF0oX0KosgJhMwh5+LnkmD81O+G\n    gnZupgwV/eh5NRIJ9+sSdJRYlgjcOs3pT+OcATO6TQR7QOEE0b4hSps6t5cGQX8aCFdBD5ZXe9r8\n    ufYFqoD2o2DRBXeRzWkQGTODdD2Sa0hjWDA4jueZfci9Ybt8R84CnDYGflWO/88nKQClOAJX2f9F\n    /ShVyjoRqStaFrmxsKIEOJ55mONmqn67wkuUWg==&lt;/SignatureValue&gt;\n        &lt;/Signature&gt;\n    &lt;/AuthRes&gt;\n</code></pre>\n"}],"owner":{"account_id":10047857,"reputation":11,"user_id":7428577,"display_name":"maulik "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684482771,"creation_date":1484631107,"question_id":41689667,"body_markdown":"I want to integrate the Aadhaar Card Authentication in PHP. I can try this code but not get response.\r\nHow can get the response  using this code other wise where I was wrong? I can find more details of Aadhaar card api but not get response.\r\n\r\n    &lt;?php\r\n\r\n    $URL = &quot;http://auth.uidai.gov.in/1.6/public/9/9/MH4hSkrev2h_Feu0lBRC8NI-iqzT299_qPSSstOFbNFTwWrie29ThDo&quot;;\r\n\r\n    $xml_data = &#39;&lt;?xml version=&quot;1.0&quot;?&gt;         \r\n        &lt;Auth xmlns=&quot;http://www.uidai.gov.in/authentication/uid-auth-request/1.0&quot; \r\n              ver=&quot;1.5&quot; tid=&quot;public&quot; ac=&quot;public&quot; sa=&quot;public&quot; \r\n              lk=&quot;MKg8njN6O+QRUmYF+TrbBUCqlrCnbN/Ns6hYbnnaOk99e5UGNhhE/xQ=&quot; uid=&quot;999999990019&quot; \r\n              txn=&quot;GEO.11051880&quot;&gt; \r\n              &lt;Skey ci=&quot;20131003&quot;&gt;Nc6DrZKFk1oQXxfgnFUl0mmtYYIPl0RGaFd2oINkpChU1++xdddMx6Dlbz6mEYs3 \r\n                    IyzChGjRXN5/al9r0runFX8LspTfMchwpxaaDIOyIUguBoYmPUqJDqTQcwey6Ntc \r\n                    TJWFSgOvBg+omUkdbK/9GOQ5KWWrN+E0A9JN0IPU4IJqJZmsA6ETZlVoZteYtoMI \r\n                    Ucv53qmxNPOEmJ3s4BC3ppHRRWRFMUp/eW7DFJ33W+uInZB6yekKE0dz8fYeo03w \r\n                    2JUT1wlafL7aseb04nv5tNEbllHWafmbMpbv2pXKr+WPgytjrygt1LagGqF4a5Mr \r\n                    /UTNwsy4m/YwlkWN0QcYVw== \r\n              &lt;/Skey&gt; \r\n              &lt;Uses otp=&quot;n&quot; pin=&quot;n&quot; bio=&quot;n&quot; pa=&quot;n&quot; pfa=&quot;n&quot; pi=&quot;y&quot; /&gt; \r\n              &lt;Data&gt;YOn05vg5qMwElULpEmdiH0j6rM1XWcbQN0n+CFNQeazouCgjyPBH/a2SwbFgq/fF \r\n                    CYUm+the8gQyYC36VO49NLcNcD7WdMhweoiDYgJoCX/t87Kbq/ABoAetfX7OLAck \r\n                    /mHrTmw8tsfJgo4xGSzKZKr+pVn1O8dDHJjwgptySr7vp2Ntj6ogu6B905rsyTWw \r\n                    73iMgoILDHf5soM3Pvde+/XW5rJD9AIPQGhHnKirwkiAgNIhtWU6ttYg4t6gHHbZ \r\n                    0gVBwgjRzM3sDWKzK0EnmA== \r\n              &lt;/Data&gt; \r\n              &lt;Hmac&gt;xy+JPoVN9dsWVm4YPZFwhVBKcUzzCTVvAxikT6BT5EcPgzX2JkLFDls+kLoNMpWe \r\n              &lt;/Hmac&gt; \r\n              &lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt; \r\n                    &lt;SignedInfo&gt; \r\n                          &lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt; \r\n                          &lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt; \r\n                          &lt;Reference&gt; \r\n                                &lt;Transforms&gt; \r\n                                      &lt;Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; /&gt; \r\n                                &lt;/Transforms&gt; \r\n                                &lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt; \r\n                                &lt;DigestValue&gt;Idd9hQtO+YAR4bjfQpNxXQ/EvXc=&lt;/DigestValue&gt; \r\n                          &lt;/Reference&gt; \r\n                    &lt;/SignedInfo&gt; \r\n                    &lt;SignatureValue&gt;SyFAqzqtJ/VTWcR5cdxoIcsa7GMmgJo7X2Rtr+CVYZLaL2myg3HgaasaT7tPOa95 \r\n                          xYJwnwA/pl+S7ki+W/4Kq1nraV/wxArgE5hFTUFG8G/MOcuMy9Ajd1VPvuqMGvHA \r\n                          gzGfV+qTcU+1lhQscYnwJqqFmoViZO7NRVwPcfgadXs=&lt;/SignatureValue&gt; \r\n                    &lt;KeyInfo&gt; \r\n                          &lt;X509Data&gt; \r\n                                &lt;X509Certificate&gt;MIICfzCCAeigAwIBAgIGAbAh09VkMA0GCSqGSIb3DQEBBQUAMHoxCzAJBgNVBAYT \r\n                                      AklOMQswCQYDVQQIEwJLQTESMBAGA1UEBxMJQmFuZ2Fsb3JlMQ4wDAYDVQQKEwVV \r\n                                      SURBSTEeMBwGA1UECxMVQXV0aGVudGljYXRpb24gU2VydmVyMRowGAYDVQQDExFV \r\n                                      SURBSSBBdXRoIFNlcnZlcjAeFw0xMTA2MjgwNDQwNDRaFw0xMjA2MjgwNDQwNDRa \r\n                                      MGkxCzAJBgNVBAYTAklOMQswCQYDVQQIEwJLQTESMBAGA1UEBxMJQmFuZ2Fsb3Jl \r\n                                      MRMwEQYDVQQKEwpQdWJsaWMgQVVBMQ8wDQYDVQQLEwZQdWJsaWMxEzARBgNVBAMT \r\n                                      ClB1YmxpYyBBVUEwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAJBEgKhZZNmH \r\n                                      ejKTFaSg0Z/KN6kP98/FKpPkGTlkovJxa7KX0x74I++JhObM8SkRgCGR3DBK/YZB \r\n                                      o0ZCbvs9czTEoDA8CBMDSFLEP5z+Zi65hdNT9XQiaeN0sSY7N4cafsS/KH/LESbM \r\n                                      6I5OLvSGj10aQB8KDgwItvp/7xK6/Vu3AgMBAAGjITAfMB0GA1UdDgQWBBSd3qZJ \r\n                                      j5lPp+1zkJJCqyZoTLLWAzANBgkqhkiG9w0BAQUFAAOBgQBiGVbCITrygzpC+09u \r\n                                      R/l8w0hCInLusQMZeXgHcnxBGDSk1AQxKk5UfQmCwHNcRJMB5Zkj8+9n6T+/wx6D \r\n                                      tKDelktgIoo7w0EJ6MdVJ9Qzr5PJcYzX+ERgJEd/NNNVoPjFc2Al2odjToZdFN8+ \r\n                                      /upJnBH02TRb1Wq63OtcuyBIFA==&lt;/X509Certificate&gt; \r\n                                &lt;X509SubjectName&gt;CN=Public AUA,OU=Public,O=Public \r\n                                      AUA,L=Bangalore,ST=KA,C=IN&lt;/X509SubjectName&gt; \r\n                          &lt;/X509Data&gt; \r\n                    &lt;/KeyInfo&gt; \r\n              &lt;/Signature&gt; \r\n        &lt;/Auth&gt;&#39;;\r\n\r\n    //setting the curl parameters.\r\n    $ch = curl_init();\r\n\r\n    curl_setopt($ch, CURLOPT_URL, $URL);\r\n    curl_setopt($ch, CURLOPT_VERBOSE, 1);\r\n    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);\r\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);\r\n    curl_setopt($ch, CURLOPT_POST, 1);\r\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\r\n    curl_setopt($ch, CURLOPT_HTTPHEADER, array(&#39;Content-Type: application/xml&#39;));\r\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $xml_data);\r\n\r\n    if (curl_errno($ch)) {\r\n        // moving to display page to display curl errors\r\n        echo curl_errno($ch);\r\n        echo curl_error($ch);\r\n    } else {\r\n        //getting response from server\r\n        $response = curl_exec($ch);\r\n        print_r($response);\r\n\r\n        curl_close($ch);\r\n    }\r\n    ?&gt;\r\n","title":"I want to integrate the Aadhaar Card Authentication in PHP. I tried this code for API access but I can not get any response","body":"<p>I want to integrate the Aadhaar Card Authentication in PHP. I can try this code but not get response.\nHow can get the response  using this code other wise where I was wrong? I can find more details of Aadhaar card api but not get response.</p>\n\n<pre><code>&lt;?php\n\n$URL = \"http://auth.uidai.gov.in/1.6/public/9/9/MH4hSkrev2h_Feu0lBRC8NI-iqzT299_qPSSstOFbNFTwWrie29ThDo\";\n\n$xml_data = '&lt;?xml version=\"1.0\"?&gt;         \n    &lt;Auth xmlns=\"http://www.uidai.gov.in/authentication/uid-auth-request/1.0\" \n          ver=\"1.5\" tid=\"public\" ac=\"public\" sa=\"public\" \n          lk=\"MKg8njN6O+QRUmYF+TrbBUCqlrCnbN/Ns6hYbnnaOk99e5UGNhhE/xQ=\" uid=\"999999990019\" \n          txn=\"GEO.11051880\"&gt; \n          &lt;Skey ci=\"20131003\"&gt;Nc6DrZKFk1oQXxfgnFUl0mmtYYIPl0RGaFd2oINkpChU1++xdddMx6Dlbz6mEYs3 \n                IyzChGjRXN5/al9r0runFX8LspTfMchwpxaaDIOyIUguBoYmPUqJDqTQcwey6Ntc \n                TJWFSgOvBg+omUkdbK/9GOQ5KWWrN+E0A9JN0IPU4IJqJZmsA6ETZlVoZteYtoMI \n                Ucv53qmxNPOEmJ3s4BC3ppHRRWRFMUp/eW7DFJ33W+uInZB6yekKE0dz8fYeo03w \n                2JUT1wlafL7aseb04nv5tNEbllHWafmbMpbv2pXKr+WPgytjrygt1LagGqF4a5Mr \n                /UTNwsy4m/YwlkWN0QcYVw== \n          &lt;/Skey&gt; \n          &lt;Uses otp=\"n\" pin=\"n\" bio=\"n\" pa=\"n\" pfa=\"n\" pi=\"y\" /&gt; \n          &lt;Data&gt;YOn05vg5qMwElULpEmdiH0j6rM1XWcbQN0n+CFNQeazouCgjyPBH/a2SwbFgq/fF \n                CYUm+the8gQyYC36VO49NLcNcD7WdMhweoiDYgJoCX/t87Kbq/ABoAetfX7OLAck \n                /mHrTmw8tsfJgo4xGSzKZKr+pVn1O8dDHJjwgptySr7vp2Ntj6ogu6B905rsyTWw \n                73iMgoILDHf5soM3Pvde+/XW5rJD9AIPQGhHnKirwkiAgNIhtWU6ttYg4t6gHHbZ \n                0gVBwgjRzM3sDWKzK0EnmA== \n          &lt;/Data&gt; \n          &lt;Hmac&gt;xy+JPoVN9dsWVm4YPZFwhVBKcUzzCTVvAxikT6BT5EcPgzX2JkLFDls+kLoNMpWe \n          &lt;/Hmac&gt; \n          &lt;Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt; \n                &lt;SignedInfo&gt; \n                      &lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt; \n                      &lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /&gt; \n                      &lt;Reference&gt; \n                            &lt;Transforms&gt; \n                                  &lt;Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\" /&gt; \n                            &lt;/Transforms&gt; \n                            &lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt; \n                            &lt;DigestValue&gt;Idd9hQtO+YAR4bjfQpNxXQ/EvXc=&lt;/DigestValue&gt; \n                      &lt;/Reference&gt; \n                &lt;/SignedInfo&gt; \n                &lt;SignatureValue&gt;SyFAqzqtJ/VTWcR5cdxoIcsa7GMmgJo7X2Rtr+CVYZLaL2myg3HgaasaT7tPOa95 \n                      xYJwnwA/pl+S7ki+W/4Kq1nraV/wxArgE5hFTUFG8G/MOcuMy9Ajd1VPvuqMGvHA \n                      gzGfV+qTcU+1lhQscYnwJqqFmoViZO7NRVwPcfgadXs=&lt;/SignatureValue&gt; \n                &lt;KeyInfo&gt; \n                      &lt;X509Data&gt; \n                            &lt;X509Certificate&gt;MIICfzCCAeigAwIBAgIGAbAh09VkMA0GCSqGSIb3DQEBBQUAMHoxCzAJBgNVBAYT \n                                  AklOMQswCQYDVQQIEwJLQTESMBAGA1UEBxMJQmFuZ2Fsb3JlMQ4wDAYDVQQKEwVV \n                                  SURBSTEeMBwGA1UECxMVQXV0aGVudGljYXRpb24gU2VydmVyMRowGAYDVQQDExFV \n                                  SURBSSBBdXRoIFNlcnZlcjAeFw0xMTA2MjgwNDQwNDRaFw0xMjA2MjgwNDQwNDRa \n                                  MGkxCzAJBgNVBAYTAklOMQswCQYDVQQIEwJLQTESMBAGA1UEBxMJQmFuZ2Fsb3Jl \n                                  MRMwEQYDVQQKEwpQdWJsaWMgQVVBMQ8wDQYDVQQLEwZQdWJsaWMxEzARBgNVBAMT \n                                  ClB1YmxpYyBBVUEwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAJBEgKhZZNmH \n                                  ejKTFaSg0Z/KN6kP98/FKpPkGTlkovJxa7KX0x74I++JhObM8SkRgCGR3DBK/YZB \n                                  o0ZCbvs9czTEoDA8CBMDSFLEP5z+Zi65hdNT9XQiaeN0sSY7N4cafsS/KH/LESbM \n                                  6I5OLvSGj10aQB8KDgwItvp/7xK6/Vu3AgMBAAGjITAfMB0GA1UdDgQWBBSd3qZJ \n                                  j5lPp+1zkJJCqyZoTLLWAzANBgkqhkiG9w0BAQUFAAOBgQBiGVbCITrygzpC+09u \n                                  R/l8w0hCInLusQMZeXgHcnxBGDSk1AQxKk5UfQmCwHNcRJMB5Zkj8+9n6T+/wx6D \n                                  tKDelktgIoo7w0EJ6MdVJ9Qzr5PJcYzX+ERgJEd/NNNVoPjFc2Al2odjToZdFN8+ \n                                  /upJnBH02TRb1Wq63OtcuyBIFA==&lt;/X509Certificate&gt; \n                            &lt;X509SubjectName&gt;CN=Public AUA,OU=Public,O=Public \n                                  AUA,L=Bangalore,ST=KA,C=IN&lt;/X509SubjectName&gt; \n                      &lt;/X509Data&gt; \n                &lt;/KeyInfo&gt; \n          &lt;/Signature&gt; \n    &lt;/Auth&gt;';\n\n//setting the curl parameters.\n$ch = curl_init();\n\ncurl_setopt($ch, CURLOPT_URL, $URL);\ncurl_setopt($ch, CURLOPT_VERBOSE, 1);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);\ncurl_setopt($ch, CURLOPT_POST, 1);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-Type: application/xml'));\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $xml_data);\n\nif (curl_errno($ch)) {\n    // moving to display page to display curl errors\n    echo curl_errno($ch);\n    echo curl_error($ch);\n} else {\n    //getting response from server\n    $response = curl_exec($ch);\n    print_r($response);\n\n    curl_close($ch);\n}\n?&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":2,"creation_date":1684484509,"post_id":76287029,"comment_id":134527126,"body_markdown":"This requirement makes no sense. The user can&#39;t change its role. Only administrators can change roles. So the information is useless for regular users. But it is a security issue, because the application exposes security information.","body":"This requirement makes no sense. The user can&#39;t change its role. Only administrators can change roles. So the information is useless for regular users. But it is a security issue, because the application exposes security information."},{"owner":{"account_id":954654,"reputation":1013,"user_id":980178,"display_name":"Morten Haraldsen"},"score":0,"creation_date":1684485290,"post_id":76287029,"comment_id":134527286,"body_markdown":"Thanks for chiming in. I can tell you it makes sense in our scenario. When it comes to exposing security information, this is always a balance, and letting the user know that you need a certain role to be allowed to perform it is an acceptable one to make (again in our scenario).","body":"Thanks for chiming in. I can tell you it makes sense in our scenario. When it comes to exposing security information, this is always a balance, and letting the user know that you need a certain role to be allowed to perform it is an acceptable one to make (again in our scenario)."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1684485678,"post_id":76287029,"comment_id":134527365,"body_markdown":"My point is, that Spring Security is built on security best practices, so I wouldn&#39;t expect support to easy break these best practices. Maybe I&#39;m wrong, we will see if someone answers your question with an easy solution.","body":"My point is, that Spring Security is built on security best practices, so I wouldn&#39;t expect support to easy break these best practices. Maybe I&#39;m wrong, we will see if someone answers your question with an easy solution."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1684487133,"post_id":76287029,"comment_id":134527644,"body_markdown":"telling a user which role is missing is aiding people with malicious intents in their endeavors. I too agree, that its very bad practice to give out any type of security information that aids.","body":"telling a user which role is missing is aiding people with malicious intents in their endeavors. I too agree, that its very bad practice to give out any type of security information that aids."},{"owner":{"account_id":954654,"reputation":1013,"user_id":980178,"display_name":"Morten Haraldsen"},"score":1,"creation_date":1684490374,"post_id":76287029,"comment_id":134528318,"body_markdown":"Look, I do not claim that this is not a deviation from the perfect path, but sometimes you have to deal with real-life scenarios. Telling an authenticated user behind (sometimes several) layers of infrastructure security what role they will need to perform a task is useful so they can ask their manager to elevate their privileges. The API docs already mention what role and ACL permissions you are required to hold to perform a certain operation. There is really not any new information exposed other than making your API easier to reason with and debug. Could even have this as a staging/test only","body":"Look, I do not claim that this is not a deviation from the perfect path, but sometimes you have to deal with real-life scenarios. Telling an authenticated user behind (sometimes several) layers of infrastructure security what role they will need to perform a task is useful so they can ask their manager to elevate their privileges. The API docs already mention what role and ACL permissions you are required to hold to perform a certain operation. There is really not any new information exposed other than making your API easier to reason with and debug. Could even have this as a staging/test only"}],"owner":{"account_id":954654,"reputation":1013,"user_id":980178,"display_name":"Morten Haraldsen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684482384,"creation_date":1684482384,"question_id":76287029,"body_markdown":"The `AuthorizationManagerBeforeMethodInterceptor` has this method that unfortunately makes it really hard to create a custom exception that contains the required information about the required role:\r\n\r\n```\r\nprivate void attemptAuthorization(MethodInvocation mi) {\r\n\t\tthis.logger.debug(LogMessage.of(() -&gt; &quot;Authorizing method invocation &quot; + mi));\r\n\t\tAuthorizationDecision decision = this.authorizationManager.check(this.authentication, mi);\r\n\t\tthis.eventPublisher.publishAuthorizationEvent(this.authentication, mi, decision);\r\n\t\tif (decision != null &amp;&amp; !decision.isGranted()) {\r\n\t\t\tthis.logger.debug(LogMessage.of(() -&gt; &quot;Failed to authorize &quot; + mi + &quot; with authorization manager &quot;\r\n\t\t\t\t\t+ this.authorizationManager + &quot; and decision &quot; + decision));\r\n\t\t\tthrow new AccessDeniedException(&quot;Access Denied&quot;);\r\n\t\t}\r\n\t\tthis.logger.debug(LogMessage.of(() -&gt; &quot;Authorized method invocation &quot; + mi));\r\n\t}\r\n```\r\n\r\nI would like to use as little custom code as possible, but I still need to keep the ability to tell the user which role was missing and not just &quot;access denied&quot;.\r\n\r\nIs there a way that we could add a customizer for this?","title":"How to throw a custom AccessDenied exception in Spring Security","body":"<p>The <code>AuthorizationManagerBeforeMethodInterceptor</code> has this method that unfortunately makes it really hard to create a custom exception that contains the required information about the required role:</p>\n<pre><code>private void attemptAuthorization(MethodInvocation mi) {\n        this.logger.debug(LogMessage.of(() -&gt; &quot;Authorizing method invocation &quot; + mi));\n        AuthorizationDecision decision = this.authorizationManager.check(this.authentication, mi);\n        this.eventPublisher.publishAuthorizationEvent(this.authentication, mi, decision);\n        if (decision != null &amp;&amp; !decision.isGranted()) {\n            this.logger.debug(LogMessage.of(() -&gt; &quot;Failed to authorize &quot; + mi + &quot; with authorization manager &quot;\n                    + this.authorizationManager + &quot; and decision &quot; + decision));\n            throw new AccessDeniedException(&quot;Access Denied&quot;);\n        }\n        this.logger.debug(LogMessage.of(() -&gt; &quot;Authorized method invocation &quot; + mi));\n    }\n</code></pre>\n<p>I would like to use as little custom code as possible, but I still need to keep the ability to tell the user which role was missing and not just &quot;access denied&quot;.</p>\n<p>Is there a way that we could add a customizer for this?</p>\n"},{"tags":["java","spring-boot","microsoft-graph-api"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1684543337,"post_id":76287017,"comment_id":134537307,"body_markdown":"Your code throws that exception for several different conditions, so you can&#39;t really tell what&#39;s happening.  You need to differentiate the exception causes and log all available data, especially including the HTTP status code, so you can troubleshoot.  Without that as a minimum nobody can help.","body":"Your code throws that exception for several different conditions, so you can&#39;t really tell what&#39;s happening.  You need to differentiate the exception causes and log all available data, especially including the HTTP status code, so you can troubleshoot.  Without that as a minimum nobody can help."}],"owner":{"account_id":8129121,"reputation":1124,"user_id":6122975,"display_name":"Jose A. Matar&#225;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684482279,"creation_date":1684482279,"question_id":76287017,"body_markdown":"I&#39;m having issues with this class that I&#39;m using to download files from SharePoint. The reason I&#39;m reaching out here is that sometimes this method works correctly, and other times it doesn&#39;t and displays the error I&#39;m attaching below.\r\n\r\n```java\r\npackage xyz.derivadas.provider.sharepoint;\r\n\r\n\r\n\r\n\r\n/**\r\n * Realiza las inteeracciones con Sharepoint.\r\n */\r\n@Slf4j\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class SharePointClient {\r\n\r\n    private static final String AUTHORIZATION = &quot;Authorization&quot;;\r\n    private static final String BEARER = &quot;Bearer &quot;;\r\n    private static final String ACCEPT = &quot;Accept&quot;;\r\n    private static final String APPLICATION_OCTET_STREAM = &quot;application/octet-stream&quot;;\r\n    private static final String DRIVE_ROOT_SEARCH_TOKEN = &quot;/drive/root/search(q=&#39;&quot;;\r\n    private static final String DRIVE_ROOT_SEARCH_TOKEN_CLOSE = &quot;&#39;)&quot;;\r\n    private static final String CHARSET_JSON_SHAREPOINT_RESPONSE = &quot;UTF-8&quot;;\r\n    private static final String SITES_TOKEN_VALUE = &quot;value&quot;;\r\n    private static final String EXPECTED_TOKEN_ID = &quot;id&quot;;\r\n    private final SharePointProperties sharePointProperties;\r\n\r\n    /**\r\n     * Autentica en Microsoft Azure.\r\n     *\r\n     * @return {@link IAuthenticationResult}\r\n     * @throws Exception Si algo falla\r\n     */\r\n    private IAuthenticationResult authenticate() throws Exception {\r\n        ConfidentialClientApplication app = ConfidentialClientApplication\r\n            .builder(sharePointProperties.getClientId(), ClientCredentialFactory.createFromSecret(sharePointProperties.getClientSecret()))\r\n            .authority(sharePointProperties.getAuthority() + sharePointProperties.getTenantId())\r\n            .build();\r\n\r\n        ClientCredentialParameters parameters = ClientCredentialParameters\r\n            .builder(Collections.singleton(this.sharePointProperties.getGraphDefaultSchema()))\r\n            .build();\r\n\r\n        return app.acquireToken(parameters).join();\r\n    }\r\n\r\n    /**\r\n     * Descarga un fichero (previa autenticacion)\r\n     *\r\n     * @param fileUrl       URL en SharePoint\r\n     * @param localFilePath Ruta donde descargarlo.\r\n     * @throws Exception Si algo falla\r\n     */\r\n    @Async\r\n    public Optional&lt;Integer&gt; downloadFile(String fileUrl, String localFilePath) throws Exception {\r\n        checkFileExists(localFilePath);\r\n\r\n        IAuthenticationResult result = authenticate();\r\n        String accessToken = result.accessToken();\r\n\r\n        final String graphDownloadUrl = convertToGraphDownloadUrl(fileUrl);\r\n\r\n        try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\r\n            HttpGet httpGet = new HttpGet(graphDownloadUrl);\r\n            httpGet.addHeader(AUTHORIZATION, BEARER + accessToken);\r\n            httpGet.addHeader(ACCEPT, APPLICATION_OCTET_STREAM);\r\n\r\n            try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\r\n                log.trace(&quot;downloadFile response = {}&quot;, response);\r\n                int statusCode = response.getStatusLine().getStatusCode();\r\n                if (statusCode == 200) {\r\n                    HttpEntity entity = response.getEntity();\r\n                    if (entity != null) {\r\n                        try (OutputStream outputStream = new FileOutputStream(localFilePath)) {\r\n                            entity.writeTo(outputStream);\r\n                        }\r\n                    }\r\n                    return Optional.of(statusCode);\r\n                } else {\r\n                    final String responseString = EntityUtils.toString(response.getEntity(), CHARSET_JSON_SHAREPOINT_RESPONSE);\r\n                    log.error(&quot;Error en la descarga del fichero. El codigo de estado no es 200.&quot;);\r\n                    log.error(&quot;\\tstatusCode = {}&quot;, statusCode);\r\n                    log.error(&quot;\\tresponse = {}&quot;, responseString);\r\n                    throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Comprueba si el fichero existe.\r\n     *\r\n     * @param localFilePath Path que se quiere ver.\r\n     */\r\n    private static void checkFileExists(String localFilePath) {\r\n        File file = new File(localFilePath);\r\n        if (file.exists()) {\r\n            throw new OposhieldException(ErrorCode.DUPLICATED_FILE);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Convierte una URL de Sharepoint en una URL de graph\r\n     *\r\n     * @param sharePointUrl Sharepoint URL\r\n     * @return Graph URL\r\n     * @throws Exception Si algo ha ido mal.\r\n     */\r\n    private String convertToGraphDownloadUrl(String sharePointUrl) throws Exception {\r\n        final String siteId = getSiteId(&quot;Materialesoposiciones&quot;);\r\n        String itemId = getItemId(siteId, sharePointUrl);\r\n        return this.sharePointProperties.getGraphApiUrl().replace(&quot;{site-id}&quot;, siteId).replace(&quot;{item-id}&quot;, itemId);\r\n    }\r\n\r\n    private String getItemId(String siteId, String sharePointUrl) throws Exception {\r\n        IAuthenticationResult result = authenticate();\r\n        String accessToken = result.accessToken();\r\n\r\n        String fileName = sharePointUrl.substring(sharePointUrl.lastIndexOf(&quot;/&quot;) + 1);\r\n        String itemUrl =\r\n            this.sharePointProperties.getGraphSitesUrl() + siteId + DRIVE_ROOT_SEARCH_TOKEN + fileName + DRIVE_ROOT_SEARCH_TOKEN_CLOSE;\r\n\r\n        return getIdFromURL(accessToken, itemUrl);\r\n    }\r\n\r\n    /**\r\n     * Obtiene el siteId de graph sobre el nombre de sharepoint\r\n     *\r\n     * @param siteName Nombre del sitio en sharepoint\r\n     * @return SiteId\r\n     * @throws Exception\r\n\r\n     */\r\n    @Cacheable(&quot;SHAREPOINT_SITE_ID_CACHE&quot;)\r\n    public String getSiteId(String siteName) throws Exception {\r\n        IAuthenticationResult result = authenticate();\r\n        String accessToken = result.accessToken();\r\n\r\n        final String siteUrl = this.sharePointProperties.getGraphSitesUrl() + &quot;?search=&quot; + siteName;\r\n\r\n        return getIdFromURL(accessToken, siteUrl);\r\n    }\r\n\r\n    /**\r\n     * Realiza la peticion y procesa el JSON, obteniendo el ID\r\n     * @param accessToken Token\r\n     * @param siteUrl Site URL\r\n     * @return ID String\r\n     * @throws IOException\r\n     * @throws JSONException\r\n     */\r\n    private static String getIdFromURL(String accessToken, String siteUrl) throws IOException, JSONException {\r\n        try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\r\n            HttpGet httpGet = new HttpGet(siteUrl);\r\n            httpGet.addHeader(AUTHORIZATION, BEARER + accessToken);\r\n\r\n            try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\r\n                int statusCode = response.getStatusLine().getStatusCode();\r\n                if (statusCode == 200) {\r\n                    String jsonResponse = EntityUtils.toString(response.getEntity(), CHARSET_JSON_SHAREPOINT_RESPONSE);\r\n                    JSONObject jsonObject = new JSONObject(jsonResponse);\r\n                    JSONArray sites = jsonObject.getJSONArray(SITES_TOKEN_VALUE);\r\n                    if (sites.length() &gt; 0) {\r\n                        JSONObject site = sites.getJSONObject(0);\r\n                        return site.getString(EXPECTED_TOKEN_ID);\r\n                    } else {\r\n                        throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\r\n                    }\r\n                } else {\r\n                    throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve conducted several tests, such as waiting for some time after uploading the file before attempting to download it, or trying to download it immediately, but I haven&#39;t been able to achieve anything.\r\n\r\n```\r\n2023-05-19 07:29:52.927 ERROR 33372 --- [oposhield-task-2] x.d.p.sharepoint.SharePointClient        : Exception in downloadFile() with cause = NULL \r\n2023-05-19 07:29:52.928 ERROR 33372 --- [oposhield-task-2] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public java.util.Optional xyz.derivadas.provider.sharepoint.SharePointClient.downloadFile(java.lang.String,java.lang.String) throws java.lang.Exception \r\n\r\nxyz.derivadas.domain.error.OposhieldException: Se ha producido un error relacionado con sharepoint\r\n\tat xyz.derivadas.provider.sharepoint.SharePointClient.getIdFromURL(SharePointClient.java:187)\r\n\tat xyz.derivadas.provider.sharepoint.SharePointClient.getItemId(SharePointClient.java:143)\r\n\tat xyz.derivadas.provider.sharepoint.SharePointClient.convertToGraphDownloadUrl(SharePointClient.java:131)\r\n\tat xyz.derivadas.provider.sharepoint.SharePointClient.downloadFile(SharePointClient.java:81)\r\n\tat xyz.derivadas.provider.sharepoint.SharePointClient$$FastClassBySpringCGLIB$$677ff96c.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n\tat xyz.derivadas.aop.logging.LoggingAspect.logAround(LoggingAspect.java:109)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor108.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat tech.jhipster.async.ExceptionHandlingAsyncTaskExecutor.lambda$createWrappedRunnable$1(ExceptionHandlingAsyncTaskExecutor.java:79)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```","title":"Troubleshooting Inconsistent File Download Issues from SharePoint","body":"<p>I'm having issues with this class that I'm using to download files from SharePoint. The reason I'm reaching out here is that sometimes this method works correctly, and other times it doesn't and displays the error I'm attaching below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package xyz.derivadas.provider.sharepoint;\n\n\n\n\n/**\n * Realiza las inteeracciones con Sharepoint.\n */\n@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class SharePointClient {\n\n    private static final String AUTHORIZATION = &quot;Authorization&quot;;\n    private static final String BEARER = &quot;Bearer &quot;;\n    private static final String ACCEPT = &quot;Accept&quot;;\n    private static final String APPLICATION_OCTET_STREAM = &quot;application/octet-stream&quot;;\n    private static final String DRIVE_ROOT_SEARCH_TOKEN = &quot;/drive/root/search(q='&quot;;\n    private static final String DRIVE_ROOT_SEARCH_TOKEN_CLOSE = &quot;')&quot;;\n    private static final String CHARSET_JSON_SHAREPOINT_RESPONSE = &quot;UTF-8&quot;;\n    private static final String SITES_TOKEN_VALUE = &quot;value&quot;;\n    private static final String EXPECTED_TOKEN_ID = &quot;id&quot;;\n    private final SharePointProperties sharePointProperties;\n\n    /**\n     * Autentica en Microsoft Azure.\n     *\n     * @return {@link IAuthenticationResult}\n     * @throws Exception Si algo falla\n     */\n    private IAuthenticationResult authenticate() throws Exception {\n        ConfidentialClientApplication app = ConfidentialClientApplication\n            .builder(sharePointProperties.getClientId(), ClientCredentialFactory.createFromSecret(sharePointProperties.getClientSecret()))\n            .authority(sharePointProperties.getAuthority() + sharePointProperties.getTenantId())\n            .build();\n\n        ClientCredentialParameters parameters = ClientCredentialParameters\n            .builder(Collections.singleton(this.sharePointProperties.getGraphDefaultSchema()))\n            .build();\n\n        return app.acquireToken(parameters).join();\n    }\n\n    /**\n     * Descarga un fichero (previa autenticacion)\n     *\n     * @param fileUrl       URL en SharePoint\n     * @param localFilePath Ruta donde descargarlo.\n     * @throws Exception Si algo falla\n     */\n    @Async\n    public Optional&lt;Integer&gt; downloadFile(String fileUrl, String localFilePath) throws Exception {\n        checkFileExists(localFilePath);\n\n        IAuthenticationResult result = authenticate();\n        String accessToken = result.accessToken();\n\n        final String graphDownloadUrl = convertToGraphDownloadUrl(fileUrl);\n\n        try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\n            HttpGet httpGet = new HttpGet(graphDownloadUrl);\n            httpGet.addHeader(AUTHORIZATION, BEARER + accessToken);\n            httpGet.addHeader(ACCEPT, APPLICATION_OCTET_STREAM);\n\n            try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\n                log.trace(&quot;downloadFile response = {}&quot;, response);\n                int statusCode = response.getStatusLine().getStatusCode();\n                if (statusCode == 200) {\n                    HttpEntity entity = response.getEntity();\n                    if (entity != null) {\n                        try (OutputStream outputStream = new FileOutputStream(localFilePath)) {\n                            entity.writeTo(outputStream);\n                        }\n                    }\n                    return Optional.of(statusCode);\n                } else {\n                    final String responseString = EntityUtils.toString(response.getEntity(), CHARSET_JSON_SHAREPOINT_RESPONSE);\n                    log.error(&quot;Error en la descarga del fichero. El codigo de estado no es 200.&quot;);\n                    log.error(&quot;\\tstatusCode = {}&quot;, statusCode);\n                    log.error(&quot;\\tresponse = {}&quot;, responseString);\n                    throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\n                }\n            }\n        }\n    }\n\n    /**\n     * Comprueba si el fichero existe.\n     *\n     * @param localFilePath Path que se quiere ver.\n     */\n    private static void checkFileExists(String localFilePath) {\n        File file = new File(localFilePath);\n        if (file.exists()) {\n            throw new OposhieldException(ErrorCode.DUPLICATED_FILE);\n        }\n    }\n\n    /**\n     * Convierte una URL de Sharepoint en una URL de graph\n     *\n     * @param sharePointUrl Sharepoint URL\n     * @return Graph URL\n     * @throws Exception Si algo ha ido mal.\n     */\n    private String convertToGraphDownloadUrl(String sharePointUrl) throws Exception {\n        final String siteId = getSiteId(&quot;Materialesoposiciones&quot;);\n        String itemId = getItemId(siteId, sharePointUrl);\n        return this.sharePointProperties.getGraphApiUrl().replace(&quot;{site-id}&quot;, siteId).replace(&quot;{item-id}&quot;, itemId);\n    }\n\n    private String getItemId(String siteId, String sharePointUrl) throws Exception {\n        IAuthenticationResult result = authenticate();\n        String accessToken = result.accessToken();\n\n        String fileName = sharePointUrl.substring(sharePointUrl.lastIndexOf(&quot;/&quot;) + 1);\n        String itemUrl =\n            this.sharePointProperties.getGraphSitesUrl() + siteId + DRIVE_ROOT_SEARCH_TOKEN + fileName + DRIVE_ROOT_SEARCH_TOKEN_CLOSE;\n\n        return getIdFromURL(accessToken, itemUrl);\n    }\n\n    /**\n     * Obtiene el siteId de graph sobre el nombre de sharepoint\n     *\n     * @param siteName Nombre del sitio en sharepoint\n     * @return SiteId\n     * @throws Exception\n\n     */\n    @Cacheable(&quot;SHAREPOINT_SITE_ID_CACHE&quot;)\n    public String getSiteId(String siteName) throws Exception {\n        IAuthenticationResult result = authenticate();\n        String accessToken = result.accessToken();\n\n        final String siteUrl = this.sharePointProperties.getGraphSitesUrl() + &quot;?search=&quot; + siteName;\n\n        return getIdFromURL(accessToken, siteUrl);\n    }\n\n    /**\n     * Realiza la peticion y procesa el JSON, obteniendo el ID\n     * @param accessToken Token\n     * @param siteUrl Site URL\n     * @return ID String\n     * @throws IOException\n     * @throws JSONException\n     */\n    private static String getIdFromURL(String accessToken, String siteUrl) throws IOException, JSONException {\n        try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\n            HttpGet httpGet = new HttpGet(siteUrl);\n            httpGet.addHeader(AUTHORIZATION, BEARER + accessToken);\n\n            try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\n                int statusCode = response.getStatusLine().getStatusCode();\n                if (statusCode == 200) {\n                    String jsonResponse = EntityUtils.toString(response.getEntity(), CHARSET_JSON_SHAREPOINT_RESPONSE);\n                    JSONObject jsonObject = new JSONObject(jsonResponse);\n                    JSONArray sites = jsonObject.getJSONArray(SITES_TOKEN_VALUE);\n                    if (sites.length() &gt; 0) {\n                        JSONObject site = sites.getJSONObject(0);\n                        return site.getString(EXPECTED_TOKEN_ID);\n                    } else {\n                        throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\n                    }\n                } else {\n                    throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I've conducted several tests, such as waiting for some time after uploading the file before attempting to download it, or trying to download it immediately, but I haven't been able to achieve anything.</p>\n<pre><code>2023-05-19 07:29:52.927 ERROR 33372 --- [oposhield-task-2] x.d.p.sharepoint.SharePointClient        : Exception in downloadFile() with cause = NULL \n2023-05-19 07:29:52.928 ERROR 33372 --- [oposhield-task-2] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public java.util.Optional xyz.derivadas.provider.sharepoint.SharePointClient.downloadFile(java.lang.String,java.lang.String) throws java.lang.Exception \n\nxyz.derivadas.domain.error.OposhieldException: Se ha producido un error relacionado con sharepoint\n    at xyz.derivadas.provider.sharepoint.SharePointClient.getIdFromURL(SharePointClient.java:187)\n    at xyz.derivadas.provider.sharepoint.SharePointClient.getItemId(SharePointClient.java:143)\n    at xyz.derivadas.provider.sharepoint.SharePointClient.convertToGraphDownloadUrl(SharePointClient.java:131)\n    at xyz.derivadas.provider.sharepoint.SharePointClient.downloadFile(SharePointClient.java:81)\n    at xyz.derivadas.provider.sharepoint.SharePointClient$$FastClassBySpringCGLIB$$677ff96c.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n    at xyz.derivadas.aop.logging.LoggingAspect.logAround(LoggingAspect.java:109)\n    at jdk.internal.reflect.GeneratedMethodAccessor108.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at tech.jhipster.async.ExceptionHandlingAsyncTaskExecutor.lambda$createWrappedRunnable$1(ExceptionHandlingAsyncTaskExecutor.java:79)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","reflection","jvm"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1684489454,"post_id":76286862,"comment_id":134528126,"body_markdown":"Instrument `Unsafe.defineClass`?","body":"Instrument <code>Unsafe.defineClass</code>?"},{"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"score":0,"creation_date":1684490641,"post_id":76286862,"comment_id":134528373,"body_markdown":"That is the opposite of what I am trying to do, I want the the &quot;source&quot; bytecode that got defined to a java.lang.Class instance","body":"That is the opposite of what I am trying to do, I want the the &quot;source&quot; bytecode that got defined to a java.lang.Class instance"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1684490775,"post_id":76286862,"comment_id":134528393,"body_markdown":"No, that is exactly what you want: get the bytes passed to `Unsafe.defineClass`.","body":"No, that is exactly what you want: get the bytes passed to <code>Unsafe.defineClass</code>."},{"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"score":0,"creation_date":1684490957,"post_id":76286862,"comment_id":134528424,"body_markdown":"Oh sorry you are right, though it raises the question of how I would do that, I know about agents and redefining classes but could you link an article, blog or thread explaining it since I don&#39;t have much experience with it","body":"Oh sorry you are right, though it raises the question of how I would do that, I know about agents and redefining classes but could you link an article, blog or thread explaining it since I don&#39;t have much experience with it"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1684747887,"post_id":76286862,"comment_id":134556880,"body_markdown":"What library are you using? Most libraries allow to get the bytecode in the first place, without the need to intercept the creation of a runtime class.","body":"What library are you using? Most libraries allow to get the bytecode in the first place, without the need to intercept the creation of a runtime class."}],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684482200,"creation_date":1684480946,"question_id":76286862,"body_markdown":"I&#39;m using a library which generates some classes at runtime, now I want to export them to look at their bytecode since reflection on the classes doesn&#39;t give me enough info about them.\r\n\r\nI tried using\r\n```java\r\ngeneratedClassInstance.getClass().getResourceAsStream(generatedClassInstance.getClass().getSimpleName() + &quot;.class&quot;)\r\n```\r\n\r\nAfter this not working I looked at how the class is defined/loaded and it is a simple call to Unsafe#defineClass - so the classes bytes aren&#39;t stored in any type of collection.","title":"Get or recreate .class file of java.lang.Class instance","body":"<p>I'm using a library which generates some classes at runtime, now I want to export them to look at their bytecode since reflection on the classes doesn't give me enough info about them.</p>\n<p>I tried using</p>\n<pre class=\"lang-java prettyprint-override\"><code>generatedClassInstance.getClass().getResourceAsStream(generatedClassInstance.getClass().getSimpleName() + &quot;.class&quot;)\n</code></pre>\n<p>After this not working I looked at how the class is defined/loaded and it is a simple call to Unsafe#defineClass - so the classes bytes aren't stored in any type of collection.</p>\n"},{"tags":["java","spring-boot","tomcat","ignite"],"answers":[{"comments":[{"owner":{"account_id":28628639,"reputation":23,"user_id":21920140,"display_name":"Andrew"},"score":0,"creation_date":1684432496,"post_id":76282947,"comment_id":134520373,"body_markdown":"I had added these JVM options specified by grid gain within Intellij IDE and created the war file again for deployment on Tomcat, but even with these options set it appears like it does not resolve the issue","body":"I had added these JVM options specified by grid gain within Intellij IDE and created the war file again for deployment on Tomcat, but even with these options set it appears like it does not resolve the issue"},{"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"score":0,"creation_date":1684479125,"post_id":76282947,"comment_id":134526156,"body_markdown":"@Andrew you need to run Tomcat itself with these options, it&#39;s not being &quot;packaged&quot; into the war in any way.","body":"@Andrew you need to run Tomcat itself with these options, it&#39;s not being &quot;packaged&quot; into the war in any way."},{"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"score":0,"creation_date":1684507966,"post_id":76282947,"comment_id":134532004,"body_markdown":"What&#39;s the problem with shutdown.bat?","body":"What&#39;s the problem with shutdown.bat?"},{"owner":{"account_id":28628639,"reputation":23,"user_id":21920140,"display_name":"Andrew"},"score":0,"creation_date":1684508148,"post_id":76282947,"comment_id":134532037,"body_markdown":"i have set these arguments in the tomcat config file Catalina.bat under the Catalina_Opts and ignite now works, however it doesn&#39;t seem like shutdown.bat is working the same as before. Normally when running shutdown.bat it will shutdown the server and close the startup.bat console window. while it does seem to shutdown the server it no longer closes the console. I just want to make sure this is not an issue","body":"i have set these arguments in the tomcat config file Catalina.bat under the Catalina_Opts and ignite now works, however it doesn&#39;t seem like shutdown.bat is working the same as before. Normally when running shutdown.bat it will shutdown the server and close the startup.bat console window. while it does seem to shutdown the server it no longer closes the console. I just want to make sure this is not an issue"}],"tags":[],"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684429287,"creation_date":1684429287,"answer_id":76282947,"question_id":76281806,"body_markdown":"The reason is your Tomcat seems to be running under Java 17. All the deployed apps reside in the same `JVM`, so you need to run it with proper startup options (with --add-opens). Please refer to the [docs][1].\r\n\r\nThis behaviour was introduced as a part of the Jigsaw project - [JSR 376][2].\r\n\r\nThis [question][3] sheds some light as well.\r\n\r\n\r\n  [1]: https://www.gridgain.com/docs/latest/getting-started/quick-start/java#running-gridgain-with-java-11\r\n  [2]: https://openjdk.org/projects/jigsaw/spec/\r\n  [3]: https://stackoverflow.com/questions/44056405/whats-the-difference-between-add-exports-and-add-opens-in-java-9","title":"Issues with Springboot and Apache Ignite deployment on Tomcat","body":"<p>The reason is your Tomcat seems to be running under Java 17. All the deployed apps reside in the same <code>JVM</code>, so you need to run it with proper startup options (with --add-opens). Please refer to the <a href=\"https://www.gridgain.com/docs/latest/getting-started/quick-start/java#running-gridgain-with-java-11\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>This behaviour was introduced as a part of the Jigsaw project - <a href=\"https://openjdk.org/projects/jigsaw/spec/\" rel=\"nofollow noreferrer\">JSR 376</a>.</p>\n<p>This <a href=\"https://stackoverflow.com/questions/44056405/whats-the-difference-between-add-exports-and-add-opens-in-java-9\">question</a> sheds some light as well.</p>\n"}],"owner":{"account_id":28628639,"reputation":23,"user_id":21920140,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76282947,"answer_count":1,"score":1,"last_activity_date":1684481853,"creation_date":1684420148,"question_id":76281806,"body_markdown":"I am currently trying to develop an api that utilizes apache ignite as an in memory cache. In the IDE I am able to get everything running and the ignite cache starts up with no issues. When I try to deploy the war file onto tomcat it seems like there is an issue trying to start up ignite. From what I have seen it looks to be possible but I cant seem to find any configuration settings whether it be in Tomcat or ignite that will allow me to do so. \r\n\r\nThe following is my pom.xml dependencies\r\n```xml\r\n    &lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;ignite.version&gt;2.14.0&lt;/ignite.version&gt;\r\n\t\t&lt;h2.version&gt;1.4.197&lt;/h2.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!--To enable tomcat deployment--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ignite-spring-boot-autoconfigure-ext&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ignite-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${ignite.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${ignite.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nFor testing purposes I just start up ignite with \r\n\r\n    Ignition.start()\r\n\r\nupon requesting an api endpoint to start up the ignite node i see the following error logs in Tomcat\r\n```\r\n`2023-05-18T10:17:23.483-04:00 ERROR 2540 --- [nio-8080-exec-6] o.s.b.w.servlet.support.ErrorPageFilter  : Forwarding to error page from request [/test] due to exception [null]\r\n\r\njava.lang.ExceptionInInitializerError: null\r\n        at org.apache.ignite.internal.util.IgniteUtils.&lt;clinit&gt;(IgniteUtils.java:888) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:558) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:541) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at org.apache.ignite.Ignition.start(Ignition.java:310) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at com.example.demo.testController.test(testController.java:26) ~[classes/:0.0.1-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[servlet-api.jar:6.0]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[servlet-api.jar:6.0]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-websocket.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:124) ~[spring-boot-3.0.6.jar:3.0.6]\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:99) ~[spring-boot-3.0.6.jar:3.0.6]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:117) ~[spring-boot-3.0.6.jar:3.0.6]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:676) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[catalina.jar:10.1.8]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-coyote.jar:10.1.8]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-coyote.jar:10.1.8]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-coyote.jar:10.1.8]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-coyote.jar:10.1.8]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-coyote.jar:10.1.8]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:10.1.8]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:10.1.8]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:10.1.8]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.lang.RuntimeException: java.nio.DirectByteBuffer.address field is unavailable.\r\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1570) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1557) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\r\n        at org.apache.ignite.internal.util.GridUnsafe.bufferAddressOffset(GridUnsafe.java:1557) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at org.apache.ignite.internal.util.GridUnsafe.&lt;clinit&gt;(GridUnsafe.java:109) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        ... 62 common frames omitted\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field long java.nio.Buffer.address accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @34967d5f\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\r\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\r\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1562) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        ... 66 common frames omitted`\r\n```","title":"Issues with Springboot and Apache Ignite deployment on Tomcat","body":"<p>I am currently trying to develop an api that utilizes apache ignite as an in memory cache. In the IDE I am able to get everything running and the ignite cache starts up with no issues. When I try to deploy the war file onto tomcat it seems like there is an issue trying to start up ignite. From what I have seen it looks to be possible but I cant seem to find any configuration settings whether it be in Tomcat or ignite that will allow me to do so.</p>\n<p>The following is my pom.xml dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;ignite.version&gt;2.14.0&lt;/ignite.version&gt;\n        &lt;h2.version&gt;1.4.197&lt;/h2.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!--To enable tomcat deployment--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-spring-boot-autoconfigure-ext&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-core&lt;/artifactId&gt;\n            &lt;version&gt;${ignite.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\n            &lt;version&gt;${ignite.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>For testing purposes I just start up ignite with</p>\n<pre><code>Ignition.start()\n</code></pre>\n<p>upon requesting an api endpoint to start up the ignite node i see the following error logs in Tomcat</p>\n<pre><code>`2023-05-18T10:17:23.483-04:00 ERROR 2540 --- [nio-8080-exec-6] o.s.b.w.servlet.support.ErrorPageFilter  : Forwarding to error page from request [/test] due to exception [null]\n\njava.lang.ExceptionInInitializerError: null\n        at org.apache.ignite.internal.util.IgniteUtils.&lt;clinit&gt;(IgniteUtils.java:888) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:558) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:541) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.Ignition.start(Ignition.java:310) ~[ignite-core-2.14.0.jar:2.14.0]\n        at com.example.demo.testController.test(testController.java:26) ~[classes/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[servlet-api.jar:6.0]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[servlet-api.jar:6.0]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-websocket.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:124) ~[spring-boot-3.0.6.jar:3.0.6]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:99) ~[spring-boot-3.0.6.jar:3.0.6]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:117) ~[spring-boot-3.0.6.jar:3.0.6]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:676) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[catalina.jar:10.1.8]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:10.1.8]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:10.1.8]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:10.1.8]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.lang.RuntimeException: java.nio.DirectByteBuffer.address field is unavailable.\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1570) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1557) ~[ignite-core-2.14.0.jar:2.14.0]\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\n        at org.apache.ignite.internal.util.GridUnsafe.bufferAddressOffset(GridUnsafe.java:1557) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.util.GridUnsafe.&lt;clinit&gt;(GridUnsafe.java:109) ~[ignite-core-2.14.0.jar:2.14.0]\n        ... 62 common frames omitted\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field long java.nio.Buffer.address accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @34967d5f\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1562) ~[ignite-core-2.14.0.jar:2.14.0]\n        ... 66 common frames omitted`\n</code></pre>\n"},{"tags":["java","elasticsearch","elasticsearch-java-api","elasticsearch-java-api-client"],"answers":[{"tags":[],"owner":{"account_id":26282304,"reputation":36,"user_id":19950609,"display_name":"AnkhSquirrel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684447827,"creation_date":1684446328,"answer_id":76284674,"question_id":76278180,"body_markdown":"Could you try replacing *index* with *create* like this?\r\n\r\n    br.operations(op -&gt; op           \r\n            .create(c -&gt; c            \r\n                .index(&quot;products&quot;)       \r\n                .id(product.getSku())\r\n                .document(product)\r\n            )\r\n        );\r\n\r\nReading the [Bulk API doc][1] about data streams, *index* does update existing documents if they exist, and it&#39;s probably why you can&#39;t use that. Using *create* should create new indexes, as expected of [data streams][2].\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/8.7/docs-bulk.html#docs-bulk-api-desc\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/data-streams.html#backing-indices","title":"Bulk insert in elasticsearch using elasticsearch-java","body":"<p>Could you try replacing <em>index</em> with <em>create</em> like this?</p>\n<pre><code>br.operations(op -&gt; op           \n        .create(c -&gt; c            \n            .index(&quot;products&quot;)       \n            .id(product.getSku())\n            .document(product)\n        )\n    );\n</code></pre>\n<p>Reading the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.7/docs-bulk.html#docs-bulk-api-desc\" rel=\"nofollow noreferrer\">Bulk API doc</a> about data streams, <em>index</em> does update existing documents if they exist, and it's probably why you can't use that. Using <em>create</em> should create new indexes, as expected of <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/data-streams.html#backing-indices\" rel=\"nofollow noreferrer\">data streams</a>.</p>\n"}],"owner":{"account_id":28620378,"reputation":13,"user_id":21913548,"display_name":"Ssk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76284674,"answer_count":1,"score":1,"last_activity_date":1684481850,"creation_date":1684390277,"question_id":76278180,"body_markdown":"I&#39;m trying to bulk insert documents in elasticsearch using java with (elasticsearch-java).\r\n\r\nI checked official documentation of elasticsearch-java and found information around bulk indexing in index, and i&#39;m able to insert bulk data in index.\r\nhttps://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html\r\n```\r\nList&lt;Product&gt; products = fetchProducts();\r\n\r\nBulkRequest.Builder br = new BulkRequest.Builder();\r\n\r\nfor (Product product : products) {\r\n    br.operations(op -&gt; op           \r\n        .index(idx -&gt; idx            \r\n            .index(&quot;products&quot;)       \r\n            .id(product.getSku())\r\n            .document(product)\r\n        )\r\n    );\r\n}\r\n\r\nBulkResponse result = esClient.bulk(br.build());\r\n\r\n// Log errors, if any\r\nif (result.errors()) {\r\n    logger.error(&quot;Bulk had errors&quot;);\r\n    for (BulkResponseItem item: result.items()) {\r\n        if (item.error() != null) {\r\n            logger.error(item.error().reason());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut when I&#39;m trying to insert data in datastream using this code i&#39;m getting below error:\r\n**only write ops with an op type of create are allowed in data-streams**\r\n\r\n\r\n```\r\nclass Product\r\n{\r\n   String name;\r\n   Map&lt;String, Object&gt; info;\r\n}\r\n```\r\n\r\nHow can we bulk insert data from java object.\r\n\r\nThanks in advance.\r\n\r\n\r\n\r\nI tried below solution, but getting error while inserting in data stream \r\n```\r\nList&lt;Product&gt; products = fetchProducts();\r\n\r\nBulkRequest.Builder br = new BulkRequest.Builder();\r\n\r\nfor (Product product : products) {\r\n    br.operations(op -&gt; op           \r\n        .index(idx -&gt; idx            \r\n            .index(&quot;products&quot;)       \r\n            .id(product.getSku())\r\n            .document(product)\r\n        )\r\n    );\r\n}\r\n\r\nBulkResponse result = esClient.bulk(br.build());\r\n\r\n// Log errors, if any\r\nif (result.errors()) {\r\n    logger.error(&quot;Bulk had errors&quot;);\r\n    for (BulkResponseItem item: result.items()) {\r\n        if (item.error() != null) {\r\n            logger.error(item.error().reason());\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Bulk insert in elasticsearch using elasticsearch-java","body":"<p>I'm trying to bulk insert documents in elasticsearch using java with (elasticsearch-java).</p>\n<p>I checked official documentation of elasticsearch-java and found information around bulk indexing in index, and i'm able to insert bulk data in index.\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html</a></p>\n<pre><code>List&lt;Product&gt; products = fetchProducts();\n\nBulkRequest.Builder br = new BulkRequest.Builder();\n\nfor (Product product : products) {\n    br.operations(op -&gt; op           \n        .index(idx -&gt; idx            \n            .index(&quot;products&quot;)       \n            .id(product.getSku())\n            .document(product)\n        )\n    );\n}\n\nBulkResponse result = esClient.bulk(br.build());\n\n// Log errors, if any\nif (result.errors()) {\n    logger.error(&quot;Bulk had errors&quot;);\n    for (BulkResponseItem item: result.items()) {\n        if (item.error() != null) {\n            logger.error(item.error().reason());\n        }\n    }\n}\n</code></pre>\n<p>But when I'm trying to insert data in datastream using this code i'm getting below error:\n<strong>only write ops with an op type of create are allowed in data-streams</strong></p>\n<pre><code>class Product\n{\n   String name;\n   Map&lt;String, Object&gt; info;\n}\n</code></pre>\n<p>How can we bulk insert data from java object.</p>\n<p>Thanks in advance.</p>\n<p>I tried below solution, but getting error while inserting in data stream</p>\n<pre><code>List&lt;Product&gt; products = fetchProducts();\n\nBulkRequest.Builder br = new BulkRequest.Builder();\n\nfor (Product product : products) {\n    br.operations(op -&gt; op           \n        .index(idx -&gt; idx            \n            .index(&quot;products&quot;)       \n            .id(product.getSku())\n            .document(product)\n        )\n    );\n}\n\nBulkResponse result = esClient.bulk(br.build());\n\n// Log errors, if any\nif (result.errors()) {\n    logger.error(&quot;Bulk had errors&quot;);\n    for (BulkResponseItem item: result.items()) {\n        if (item.error() != null) {\n            logger.error(item.error().reason());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","javabeans"],"answers":[{"tags":[],"owner":{"account_id":12862796,"reputation":96,"user_id":9304033,"display_name":"lautumn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684481461,"creation_date":1684481461,"answer_id":76286921,"question_id":74799065,"body_markdown":"You can refer to the following methods. [Can I manually load @ConfigurationProperties without the Spring AppContext?](https://stackoverflow.com/a/60335339/9304033)\r\n\r\n```java\r\nProperties myPropertiesFromSomeOtherFile = ...;\r\n\r\nConfigurationPropertySource propertySource = new MapConfigurationPropertySource(myPropertiesFromSomeOtherFile);\r\nBinder binder = new Binder(propertySource);\r\n\r\nMyBean myBean = binder.bind(&quot;foo.bar&quot;, MyBean.class).get();\r\n\r\n```","title":"How to manually bind ConfigurationProperties to a bean / create bean from ConfigurationProperties in Spring Boot","body":"<p>You can refer to the following methods. <a href=\"https://stackoverflow.com/a/60335339/9304033\">Can I manually load @ConfigurationProperties without the Spring AppContext?</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties myPropertiesFromSomeOtherFile = ...;\n\nConfigurationPropertySource propertySource = new MapConfigurationPropertySource(myPropertiesFromSomeOtherFile);\nBinder binder = new Binder(propertySource);\n\nMyBean myBean = binder.bind(&quot;foo.bar&quot;, MyBean.class).get();\n\n</code></pre>\n"}],"owner":{"account_id":22395067,"reputation":23,"user_id":16606459,"display_name":"curious_capybara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76286921,"answer_count":1,"score":1,"last_activity_date":1684481461,"creation_date":1671024803,"question_id":74799065,"body_markdown":"I use Spring Boot for a project, where configuration files are bound to a bean via \r\n\r\n```\r\n@ConfigurationProperties(prefix=&quot;foo.bar&quot;, ignoreUnknownFields = true)\r\nclass myBean{\r\n  private String propertyA;\r\n  private String propertyB;\r\n  ...\r\n} \r\n```\r\n\r\nThis works quite well, the properties are filled in a process that does not matter much for this problem - it just provides the properties of the prefix defined in the annotation.\r\n\r\nHowever, I would like to create another bean of the same class and have it filled with properties from another file.\r\n\r\nIdeally, this would be something like \r\n\r\n```\r\nMyBean otherBean = (MyBean) WhatEverClass.createBeanFromProperties(MyBean.class, Properties myPropertiesFromSomeOtherFile);\r\n```\r\n\r\nIs there some Class which is able to this Properties-to-Bean Mapping?\r\n\r\n\r\n\r\nI have searched for Classes which could implement this functionality.\r\nDefaultListableBeanFactory only provides already created Beans but I have no method to point Spring to a specific property file for this bean (except for changing the annotation, but I need the prefix mapped to this bean)","title":"How to manually bind ConfigurationProperties to a bean / create bean from ConfigurationProperties in Spring Boot","body":"<p>I use Spring Boot for a project, where configuration files are bound to a bean via</p>\n<pre><code>@ConfigurationProperties(prefix=&quot;foo.bar&quot;, ignoreUnknownFields = true)\nclass myBean{\n  private String propertyA;\n  private String propertyB;\n  ...\n} \n</code></pre>\n<p>This works quite well, the properties are filled in a process that does not matter much for this problem - it just provides the properties of the prefix defined in the annotation.</p>\n<p>However, I would like to create another bean of the same class and have it filled with properties from another file.</p>\n<p>Ideally, this would be something like</p>\n<pre><code>MyBean otherBean = (MyBean) WhatEverClass.createBeanFromProperties(MyBean.class, Properties myPropertiesFromSomeOtherFile);\n</code></pre>\n<p>Is there some Class which is able to this Properties-to-Bean Mapping?</p>\n<p>I have searched for Classes which could implement this functionality.\nDefaultListableBeanFactory only provides already created Beans but I have no method to point Spring to a specific property file for this bean (except for changing the annotation, but I need the prefix mapped to this bean)</p>\n"},{"tags":["java","coding-style","boolean"],"comments":[{"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"score":9,"creation_date":1271570819,"post_id":2661110,"comment_id":2678572,"body_markdown":"I personally like the comparison against a literal for readability reasons - at high resolutions (and increasing age), the exclamation tends to be &quot;absorbed&quot; by many letters.","body":"I personally like the comparison against a literal for readability reasons - at high resolutions (and increasing age), the exclamation tends to be &quot;absorbed&quot; by many letters."},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1271575044,"post_id":2661110,"comment_id":2678730,"body_markdown":"@Uri: a good enough IDE should be able to make `!` stand out as much as you&#39;d like if that&#39;s truly a problem.","body":"@Uri: a good enough IDE should be able to make <code>!</code> stand out as much as you&#39;d like if that&#39;s truly a problem."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":57,"creation_date":1271581213,"post_id":2661110,"comment_id":2678973,"body_markdown":"`if (b == false == true == true) {` You want to be sure.","body":"<code>if (b == false == true == true) {</code> You want to be sure."},{"owner":{"account_id":32038,"reputation":18896,"user_id":88409,"accept_rate":38,"display_name":"Triynko"},"score":0,"creation_date":1299799995,"post_id":2661110,"comment_id":5933554,"body_markdown":"It comes down to whether it&#39;s faster to perform a logical negation on a boolean or compare one boolean value to another boolean constant, before the final resulting boolean is checked by the if statement.  I&#39;d imagine that the negation would be faster, because it could be issued directly on a memory address and handled by a hardware circuit that doesn&#39;t need to read or write or compare a thing.  Just one way of thinking about it.","body":"It comes down to whether it&#39;s faster to perform a logical negation on a boolean or compare one boolean value to another boolean constant, before the final resulting boolean is checked by the if statement.  I&#39;d imagine that the negation would be faster, because it could be issued directly on a memory address and handled by a hardware circuit that doesn&#39;t need to read or write or compare a thing.  Just one way of thinking about it."},{"owner":{"account_id":958632,"reputation":3372,"user_id":983442,"accept_rate":79,"display_name":"Nacht"},"score":0,"creation_date":1331066196,"post_id":2661110,"comment_id":12164555,"body_markdown":"@Uri, why not simply separate the ! with a space? e.g.: if ( ! x )","body":"@Uri, why not simply separate the ! with a space? e.g.: if ( ! x )"},{"owner":{"account_id":958632,"reputation":3372,"user_id":983442,"accept_rate":79,"display_name":"Nacht"},"score":2,"creation_date":1331066492,"post_id":2661110,"comment_id":12164683,"body_markdown":"@Triynko, usually this kind of thing is optimized out, so that doesnt matter, and if it isnt, it&#39;s not going to cause a noticable difference.","body":"@Triynko, usually this kind of thing is optimized out, so that doesnt matter, and if it isnt, it&#39;s not going to cause a noticable difference."},{"owner":{"account_id":958632,"reputation":3372,"user_id":983442,"accept_rate":79,"display_name":"Nacht"},"score":10,"creation_date":1333594307,"post_id":2661110,"comment_id":12816410,"body_markdown":"The truth is that people only use &quot;== true&quot; and the like because they haven&#39;t actually thought about it, and when it&#39;s pointed out to them they claim &quot;readability&quot; to save face.","body":"The truth is that people only use &quot;== true&quot; and the like because they haven&#39;t actually thought about it, and when it&#39;s pointed out to them they claim &quot;readability&quot; to save face."}],"answers":[{"comments":[{"owner":{"account_id":46249,"reputation":94060,"user_id":136540,"accept_rate":83,"display_name":"Michael Aaron Safyan"},"score":5,"creation_date":1271565166,"post_id":2661119,"comment_id":2678377,"body_markdown":"@Michael, Java doesn&#39;t implicitly convert int to boolean like in C++, but otherwise agree 100%; the former is sloppy newbie syntax, and the latter is preferred.","body":"@Michael, Java doesn&#39;t implicitly convert int to boolean like in C++, but otherwise agree 100%; the former is sloppy newbie syntax, and the latter is preferred."},{"owner":{"account_id":107926,"reputation":435,"user_id":286713,"display_name":"M.Bearden"},"score":2,"creation_date":1419009577,"post_id":2661119,"comment_id":43567054,"body_markdown":"Well, now you know, thanks to this post, that some experienced programmers write &quot;== false&quot;--not just &quot;beginners&quot;, and you can clearly read their reasons why, as given multiple times in the replies here.  (Hmmm...was that a subconscious ad hominem?  &quot;I like this, and the only people I&#39;ve ever seen who don&#39;t agree with my preference are merely &#39;beginners&#39;.&quot;)","body":"Well, now you know, thanks to this post, that some experienced programmers write &quot;== false&quot;--not just &quot;beginners&quot;, and you can clearly read their reasons why, as given multiple times in the replies here.  (Hmmm...was that a subconscious ad hominem?  &quot;I like this, and the only people I&#39;ve ever seen who don&#39;t agree with my preference are merely &#39;beginners&#39;.&quot;)"},{"owner":{"account_id":118337,"reputation":170832,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"score":1,"creation_date":1419014713,"post_id":2661119,"comment_id":43569504,"body_markdown":"@M.Bearden Seriously? All I was saying was that I, personally, have almost never seen experienced programmers directly compare with `true` or `false`, whereas when I was a TA in college I would see it all the time from novices who simply didn&#39;t realize it was redundant. That doesn&#39;t mean if you do that you&#39;re a bad person, it&#39;s just uncommon. You took quite a lot of offense to a random remark from five years ago that wasn&#39;t directed at anybody; write code however you like","body":"@M.Bearden Seriously? All I was saying was that I, personally, have almost never seen experienced programmers directly compare with <code>true</code> or <code>false</code>, whereas when I was a TA in college I would see it all the time from novices who simply didn&#39;t realize it was redundant. That doesn&#39;t mean if you do that you&#39;re a bad person, it&#39;s just uncommon. You took quite a lot of offense to a random remark from five years ago that wasn&#39;t directed at anybody; write code however you like"},{"owner":{"account_id":107926,"reputation":435,"user_id":286713,"display_name":"M.Bearden"},"score":0,"creation_date":1419021296,"post_id":2661119,"comment_id":43572462,"body_markdown":"@MichaelMrozek.  Yes, that was overly sensitive of me.  My point is: Better to discuss issues like conciseness and readability, and realize that the differences in opinion are probably due to the different weights different people place on those.  Here is another discussion on exact same topic that I hit while searching on this, that calls out those issues pretty well, and it again indicates that it&#39;s not &quot;sloppy beginner-ness&quot; to think one way or the other: http://stackoverflow.com/questions/13763386/what-is-the-preferred-coding-style-for-checking-if-something-is-false","body":"@MichaelMrozek.  Yes, that was overly sensitive of me.  My point is: Better to discuss issues like conciseness and readability, and realize that the differences in opinion are probably due to the different weights different people place on those.  Here is another discussion on exact same topic that I hit while searching on this, that calls out those issues pretty well, and it again indicates that it&#39;s not &quot;sloppy beginner-ness&quot; to think one way or the other: <a href=\"http://stackoverflow.com/questions/13763386/what-is-the-preferred-coding-style-for-checking-if-something-is-false\" title=\"what is the preferred coding style for checking if something is false\">stackoverflow.com/questions/13763386/&hellip;</a>"}],"tags":[],"owner":{"account_id":118337,"reputation":170832,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1271564297,"creation_date":1271564297,"answer_id":2661119,"question_id":2661110,"body_markdown":"I&#39;ve never seen the former except in code written by beginners; it&#39;s always the latter, and I don&#39;t think anyone is really confused by it. On the other hand, I think\r\n\r\n    int x;\r\n    ...\r\n    if(x) //...\r\n\r\nvs\r\n\r\n    if(x != 0) //...\r\n\r\nis much more debatable, and in that case I do prefer the second","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>I've never seen the former except in code written by beginners; it's always the latter, and I don't think anyone is really confused by it. On the other hand, I think</p>\n\n<pre><code>int x;\n...\nif(x) //...\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>if(x != 0) //...\n</code></pre>\n\n<p>is much more debatable, and in that case I do prefer the second</p>\n"},{"tags":[],"owner":{"account_id":52266,"reputation":77724,"user_id":156142,"accept_rate":100,"display_name":"ChaosPandion"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1271564304,"creation_date":1271564304,"answer_id":2661120,"question_id":2661110,"body_markdown":"In my opinion it is simply annoying. Not something I would cause a ruckus over though.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>In my opinion it is simply annoying. Not something I would cause a ruckus over though.</p>\n"},{"comments":[{"owner":{"account_id":46249,"reputation":94060,"user_id":136540,"accept_rate":83,"display_name":"Michael Aaron Safyan"},"score":9,"creation_date":1271565321,"post_id":2661121,"comment_id":2678384,"body_markdown":"+1 for recommending long, descriptive variable names. However, I think &quot;if (userIsAllowedToLogin())&quot; is preferable to &quot;if (userIsAllowedToLogin()==true)&quot; as the former is more readable.","body":"+1 for recommending long, descriptive variable names. However, I think &quot;if (userIsAllowedToLogin())&quot; is preferable to &quot;if (userIsAllowedToLogin()==true)&quot; as the former is more readable."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1271570792,"post_id":2661121,"comment_id":2678569,"body_markdown":"@Michael, did you forget a `!` ?","body":"@Michael, did you forget a <code>!</code> ?"},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1271693077,"post_id":2661121,"comment_id":2687144,"body_markdown":"I&#39;d prefer `if( canAuthenticate() )` or `if( isAuthorized() )`. I find `userIsAllowedToLogin` ambiguous. Does it mean that the user can view the login page (e.g., the IP address is not banned) or does it mean that the user has been authenticated (e.g., correct name and password)?","body":"I&#39;d prefer <code>if( canAuthenticate() )</code> or <code>if( isAuthorized() )</code>. I find <code>userIsAllowedToLogin</code> ambiguous. Does it mean that the user can view the login page (e.g., the IP address is not banned) or does it mean that the user has been authenticated (e.g., correct name and password)?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1271694732,"post_id":2661121,"comment_id":2687353,"body_markdown":"@Dave: It was just a bit exaggerated example. As long as the variable name is self-explaining enough.","body":"@Dave: It was just a bit exaggerated example. As long as the variable name is self-explaining enough."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":5,"creation_date":1271696075,"post_id":2661121,"comment_id":2687514,"body_markdown":"@BalusC: I know; it&#39;s a pet peeve. Long method names -- like `isCurrentUserLoggedInAsRole` -- are sometimes a symptom of a larger problem: a misplaced method. (For example, the `User` class should know its assigned roles: `user.isAssigned( role )`.)","body":"@BalusC: I know; it&#39;s a pet peeve. Long method names -- like <code>isCurrentUserLoggedInAsRole</code> -- are sometimes a symptom of a larger problem: a misplaced method. (For example, the <code>User</code> class should know its assigned roles: <code>user.isAssigned( role )</code>.)"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":5,"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1643749370,"creation_date":1271564322,"answer_id":2661121,"question_id":2661110,"body_markdown":"It&#39;s not necessarily bad, it&#39;s just superfluous. Also, the actual variable name weights a lot. I would prefer for example `if (userIsAllowedToLogin)` over `if (b)` or even worse `if (flag)`.\r\n\r\nAs to the performance concern, the compiler optimizes it away at any way.\r\n\r\nAs to the authoritative sources, I can&#39;t find something explicitly in the [Java Code Conventions][1] as originally written by Sun, but at least [Checkstyle][2] has a [`SimplifyBooleanExpression`][3] module which would warn about that.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-contents.html\r\n  [2]: https://checkstyle.sourceforge.io\r\n  [3]: https://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>It's not necessarily bad, it's just superfluous. Also, the actual variable name weights a lot. I would prefer for example <code>if (userIsAllowedToLogin)</code> over <code>if (b)</code> or even worse <code>if (flag)</code>.</p>\n<p>As to the performance concern, the compiler optimizes it away at any way.</p>\n<p>As to the authoritative sources, I can't find something explicitly in the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-contents.html\" rel=\"nofollow noreferrer\">Java Code Conventions</a> as originally written by Sun, but at least <a href=\"https://checkstyle.sourceforge.io\" rel=\"nofollow noreferrer\">Checkstyle</a> has a <a href=\"https://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression\" rel=\"nofollow noreferrer\"><code>SimplifyBooleanExpression</code></a> module which would warn about that.</p>\n"},{"tags":[],"owner":{"account_id":7104,"reputation":38618,"user_id":12193,"accept_rate":98,"display_name":"Head Geek"},"comment_count":0,"down_vote_count":5,"up_vote_count":9,"is_accepted":false,"score":4,"last_activity_date":1271564332,"creation_date":1271564332,"answer_id":2661122,"question_id":2661110,"body_markdown":"I prefer the first, because it&#39;s clearer. The machine can read either equally well, but I try to write code for other *people* to read, not just the machine.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>I prefer the first, because it's clearer. The machine can read either equally well, but I try to write code for other <em>people</em> to read, not just the machine.</p>\n"},{"tags":[],"owner":{"account_id":67988,"reputation":64041,"user_id":198643,"display_name":"Thomas"},"comment_count":0,"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1314979625,"creation_date":1271564600,"answer_id":2661130,"question_id":2661110,"body_markdown":"You should not use the first style. I have seen people use:\r\n\r\n- `if ( b == true )`\r\n- `if ( b == false )`\r\n\r\nI personally find it hard to read but it is passable. However, a big problem I have with that style is that it leads to the incredibly counter-intuitive examples you showed:\r\n\r\n- `if ( b != true )`\r\n- `if ( b != false )`\r\n\r\nThat takes more effort on the part of the reader to determine the authors intent. Personally, I find including an explicit comparison to true or false to be redundant and thus harder to read, but that&#39;s me.\r\n\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>You should not use the first style. I have seen people use:</p>\n\n<ul>\n<li><code>if ( b == true )</code></li>\n<li><code>if ( b == false )</code></li>\n</ul>\n\n<p>I personally find it hard to read but it is passable. However, a big problem I have with that style is that it leads to the incredibly counter-intuitive examples you showed:</p>\n\n<ul>\n<li><code>if ( b != true )</code></li>\n<li><code>if ( b != false )</code></li>\n</ul>\n\n<p>That takes more effort on the part of the reader to determine the authors intent. Personally, I find including an explicit comparison to true or false to be redundant and thus harder to read, but that's me.</p>\n"},{"comments":[{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":8,"creation_date":1271566354,"post_id":2661150,"comment_id":2678428,"body_markdown":"I wouldn&#39;t say &quot;overriding&quot; reason. Unless you time travel to 15 years ago your compiler will warn about this typo.","body":"I wouldn&#39;t say &quot;overriding&quot; reason. Unless you time travel to 15 years ago your compiler will warn about this typo."},{"owner":{"account_id":56304,"reputation":117517,"user_id":168657,"accept_rate":92,"display_name":"mob"},"score":0,"creation_date":1271569787,"post_id":2661150,"comment_id":2678546,"body_markdown":"`while (b = false)` is valid Java syntax (if `b` is a `boolean`) and a compiler will not catch it.","body":"<code>while (b = false)</code> is valid Java syntax (if <code>b</code> is a <code>boolean</code>) and a compiler will not catch it."},{"owner":{"account_id":84543,"reputation":22147,"user_id":236255,"accept_rate":74,"display_name":"Stephen Swensen"},"score":1,"creation_date":1271570230,"post_id":2661150,"comment_id":2678555,"body_markdown":"John probably meant your IDE.  Note this is not valid in C#... jab!","body":"John probably meant your IDE.  Note this is not valid in C#... jab!"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":1,"creation_date":1271570892,"post_id":2661150,"comment_id":2678575,"body_markdown":"Yes, IDE&#39;s and style checkers will warn you about this kind of thing.  I wouldn&#39;t be surprised if the command-line compiler can detect it as well, although it doesn&#39;t warn you by default.  My point is that this isn&#39;t *just* a style choice.","body":"Yes, IDE&#39;s and style checkers will warn you about this kind of thing.  I wouldn&#39;t be surprised if the command-line compiler can detect it as well, although it doesn&#39;t warn you by default.  My point is that this isn&#39;t <i>just</i> a style choice."},{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":1,"creation_date":1271676835,"post_id":2661150,"comment_id":2684845,"body_markdown":"@John and @mobrule - Eclipse warns about this, but only if you set the &quot;Parameter assignment&quot; option true (it defaults to false).","body":"@John and @mobrule - Eclipse warns about this, but only if you set the &quot;Parameter assignment&quot; option true (it defaults to false)."},{"owner":{"account_id":89883,"reputation":23781,"user_id":247702,"accept_rate":92,"display_name":"user247702"},"score":3,"creation_date":1339746155,"post_id":2661150,"comment_id":14449680,"body_markdown":"@StephenSwensen it is valid in C#, but it will generate a warning. `Assignment in conditional expression is always constant; did you mean to use == instead of = ?`","body":"@StephenSwensen it is valid in C#, but it will generate a warning. <code>Assignment in conditional expression is always constant; did you mean to use == instead of = ?</code>"},{"owner":{"account_id":11389889,"reputation":99,"user_id":8350330,"display_name":"Adam Brinded"},"score":3,"creation_date":1515889537,"post_id":2661150,"comment_id":83473921,"body_markdown":"An easy way to prevent this is to instead compare the constant value (lhs) to the variable (rhs). So `while (true == loggedIn)`. This way it throws a compile-time error rather than runtime.","body":"An easy way to prevent this is to instead compare the constant value (lhs) to the variable (rhs). So <code>while (true == loggedIn)</code>. This way it throws a compile-time error rather than runtime."}],"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"comment_count":7,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1271570547,"creation_date":1271565249,"answer_id":2661150,"question_id":2661110,"body_markdown":"The overriding reason why you shouldn&#39;t use the first style is because both of these are valid:\r\n\r\n    if (b = false) //...\r\n    \r\n    while (b = true) //...\r\n\r\nThat is, if you accidentally leave out one character, you create an assignment instead of a comparison.  An assignment expression evaluates to the value that was assigned, so the first statement above assigns the value `false` to `b` and evaluates to `false`.  The second assigns `true` to `b`, so it always evaluates to `true`, no matter what you do with `b` inside the loop.\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>The overriding reason why you shouldn't use the first style is because both of these are valid:</p>\n\n<pre><code>if (b = false) //...\n\nwhile (b = true) //...\n</code></pre>\n\n<p>That is, if you accidentally leave out one character, you create an assignment instead of a comparison.  An assignment expression evaluates to the value that was assigned, so the first statement above assigns the value <code>false</code> to <code>b</code> and evaluates to <code>false</code>.  The second assigns <code>true</code> to <code>b</code>, so it always evaluates to <code>true</code>, no matter what you do with <code>b</code> inside the loop.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1271691134,"post_id":2661160,"comment_id":2686845,"body_markdown":"The convention is `isEdited`, not `IsEdited` (the latter would be a class)","body":"The convention is <code>isEdited</code>, not <code>IsEdited</code> (the latter would be a class)"}],"tags":[],"owner":{"account_id":58609,"reputation":21703,"user_id":175421,"accept_rate":89,"display_name":"Mahesh Velaga"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1271692579,"creation_date":1271565713,"answer_id":2661160,"question_id":2661110,"body_markdown":"IMHO, I think if you just make the bool variable names prepended with `&quot;Is&quot;`, it will be self evident and more meaningful and then, you can remove the explicit comparison with `true` or `false`\r\n\r\n**Example:**\r\n\r\n    isEdited  // use IsEdited in case of property names\r\n    isAuthorized // use IsAuthorized in case of property names\r\n\r\netc","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>IMHO, I think if you just make the bool variable names prepended with <code>\"Is\"</code>, it will be self evident and more meaningful and then, you can remove the explicit comparison with <code>true</code> or <code>false</code></p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>isEdited  // use IsEdited in case of property names\nisAuthorized // use IsAuthorized in case of property names\n</code></pre>\n\n<p>etc</p>\n"},{"comments":[{"owner":{"account_id":369777,"reputation":1532,"user_id":717338,"accept_rate":95,"display_name":"Harag"},"score":4,"creation_date":1445002445,"post_id":2661298,"comment_id":54151152,"body_markdown":"I agree, I too prefer to use ==false compared to (!) from a readability point of view - when maintaining other peoples code, as you say, code blindness IS a thing and does happen.  if (K) {}  or if (!K) {} sometimes you can spend ages working out why something isn&#39;t working then spot the ! in the condition.","body":"I agree, I too prefer to use ==false compared to (!) from a readability point of view - when maintaining other peoples code, as you say, code blindness IS a thing and does happen.  if (K) {}  or if (!K) {} sometimes you can spend ages working out why something isn&#39;t working then spot the ! in the condition."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1523544062,"post_id":2661298,"comment_id":86613567,"body_markdown":"The best way to solve this is to have the boolean expression test for true instead of false, and order the if-then-blocks accordingly.   This may look weird if the true block is empty though.","body":"The best way to solve this is to have the boolean expression test for true instead of false, and order the if-then-blocks accordingly.   This may look weird if the true block is empty though."},{"owner":{"account_id":1464388,"reputation":3904,"user_id":1377706,"accept_rate":83,"display_name":"Pharap"},"score":0,"creation_date":1684233819,"post_id":2661298,"comment_id":134484637,"body_markdown":"Since nobody has mentioned yet: C and C++ actually allow `not` as a synonym of `!` as part of the [alternative operator representations](https://en.cppreference.com/w/cpp/language/operator_alternative), it&#39;s just the case that nobody ever uses it for whatever reason. (In C++ they&#39;re built into the language, [in C the header `iso646.h` must be included](https://en.wikipedia.org/wiki/C_alternative_tokens?useskin=vector).) So if one&#39;s issue is with `!` being less readable than `not` then for C and C++ (at least) there is another alternative to using `== true` or `== false`.","body":"Since nobody has mentioned yet: C and C++ actually allow <code>not</code> as a synonym of <code>!</code> as part of the <a href=\"https://en.cppreference.com/w/cpp/language/operator_alternative\" rel=\"nofollow noreferrer\">alternative operator representations</a>, it&#39;s just the case that nobody ever uses it for whatever reason. (In C++ they&#39;re built into the language, <a href=\"https://en.wikipedia.org/wiki/C_alternative_tokens?useskin=vector\" rel=\"nofollow noreferrer\">in C the header <code>iso646.h</code> must be included</a>.) So if one&#39;s issue is with <code>!</code> being less readable than <code>not</code> then for C and C++ (at least) there is another alternative to using <code>== true</code> or <code>== false</code>."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1684244642,"post_id":2661298,"comment_id":134487386,"body_markdown":"@Pharap then you run into maintainability issues.","body":"@Pharap then you run into maintainability issues."},{"owner":{"account_id":1464388,"reputation":3904,"user_id":1377706,"accept_rate":83,"display_name":"Pharap"},"score":0,"creation_date":1684534233,"post_id":2661298,"comment_id":134536519,"body_markdown":"@Thorbj&#248;rnRavnAndersen Alright, I&#39;ll bite. How does using `not` instead of `!` make the code less maintainable than using `== false`?","body":"@Thorbj&#248;rnRavnAndersen Alright, I&#39;ll bite. How does using <code>not</code> instead of <code>!</code> make the code less maintainable than using <code>== false</code>?"}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":5,"down_vote_count":6,"up_vote_count":44,"is_accepted":false,"score":38,"last_activity_date":1444207578,"creation_date":1271570623,"answer_id":2661298,"question_id":2661110,"body_markdown":"This is strongly a matter of taste.\r\n\r\nPersonally I&#39;ve found that `if (!a) {` is a lot less _readable_ (EDIT: to me) than `if (a == false) {` and hence more error prone when maintaining the code later, and I&#39;ve converted to use the latter form.\r\n\r\nBasically I dislike the choice of symbols for logic operations instead of words (C versus Pascal), because to _me_ `a = 10 and not b = 20` reads easier than `a == 10 &amp;&amp; !(b==20)`, but that is the way it is in Java.\r\n\r\nAnybody who puts the &quot;== false&quot; approach down in favour of &quot;!&quot; clearly never had stared at code for too long and missed that exclamation mark.  Yes you can get code-blind.\r\n\r\n\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>This is strongly a matter of taste.</p>\n\n<p>Personally I've found that <code>if (!a) {</code> is a lot less <em>readable</em> (EDIT: to me) than <code>if (a == false) {</code> and hence more error prone when maintaining the code later, and I've converted to use the latter form.</p>\n\n<p>Basically I dislike the choice of symbols for logic operations instead of words (C versus Pascal), because to <em>me</em> <code>a = 10 and not b = 20</code> reads easier than <code>a == 10 &amp;&amp; !(b==20)</code>, but that is the way it is in Java.</p>\n\n<p>Anybody who puts the \"== false\" approach down in favour of \"!\" clearly never had stared at code for too long and missed that exclamation mark.  Yes you can get code-blind.</p>\n"},{"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1275251925,"post_id":2661503,"comment_id":2995354,"body_markdown":"but don&#39;t take it to far. believe it or not, I have already seen code like this:\n\nif (a)\n  ;\nelse\n  doSomething();","body":"but don&#39;t take it to far. believe it or not, I have already seen code like this:  if (a)   ; else   doSomething();"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1275395098,"post_id":2661503,"comment_id":3006212,"body_markdown":"In which case I would prefer if (!a) doSomething();  But it likely you will find that you can change the code so that &#39;b&#39; stores true instead of false and false instead of true and there is no need for a negation.  IMHO it is fairly rare you need if (a) in one place *and* if (!a) in an unrelated block of code.","body":"In which case I would prefer if (!a) doSomething();  But it likely you will find that you can change the code so that &#39;b&#39; stores true instead of false and false instead of true and there is no need for a negation.  IMHO it is fairly rare you need if (a) in one place <i>and</i> if (!a) in an unrelated block of code."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1271576608,"creation_date":1271576608,"answer_id":2661503,"question_id":2661110,"body_markdown":"Personally, I would refactor the code so I am not using a negative test. for example.\r\n\r\n    if (b == false) {\r\n       // false\r\n    } else {\r\n       // true\r\n    }\r\n\r\nor\r\n\r\n    boolean b = false;\r\n    while(b == false) {\r\n      if (condition)\r\n          b = true;\r\n    }\r\n\r\nIMHO, In 90% of cases, code can be refactored so the negative test is not required.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>Personally, I would refactor the code so I am not using a negative test. for example.</p>\n\n<pre><code>if (b == false) {\n   // false\n} else {\n   // true\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>boolean b = false;\nwhile(b == false) {\n  if (condition)\n      b = true;\n}\n</code></pre>\n\n<p>IMHO, In 90% of cases, code can be refactored so the negative test is not required.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1275251232,"creation_date":1275251232,"answer_id":2940179,"question_id":2661110,"body_markdown":"I would say it is bad.\r\n\r\n    while (!b) {\r\n        // do something \r\n    }\r\n\r\nreads much better than\r\n\r\n    while (b != true) {\r\n        // do something \r\n    }","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>I would say it is bad.</p>\n\n<pre><code>while (!b) {\n    // do something \n}\n</code></pre>\n\n<p>reads much better than</p>\n\n<pre><code>while (b != true) {\n    // do something \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2197648,"reputation":400,"user_id":1942917,"accept_rate":100,"display_name":"Preza8"},"score":0,"creation_date":1513991751,"post_id":14753618,"comment_id":82867898,"body_markdown":"I think there is a more significant readability issues in that code that the condition. Look at strcmp. Not exactly effortless IMO.","body":"I think there is a more significant readability issues in that code that the condition. Look at strcmp. Not exactly effortless IMO."},{"owner":{"account_id":1464388,"reputation":3904,"user_id":1377706,"accept_rate":83,"display_name":"Pharap"},"score":0,"creation_date":1684234323,"post_id":14753618,"comment_id":134484757,"body_markdown":"@Preza8 I don&#39;t disagree that `strcmp` is a terrible name, but C and C++ are stuck with it for historical reasons, and creating a more nicely named wrapper function would likely violate the [principle of least surprise](https://en.wikipedia.org/wiki/Principle_of_least_astonishment?useskin=vector), so it can&#39;t really be helped. (Assuming that this was C code, which seems likely.)","body":"@Preza8 I don&#39;t disagree that <code>strcmp</code> is a terrible name, but C and C++ are stuck with it for historical reasons, and creating a more nicely named wrapper function would likely violate the <a href=\"https://en.wikipedia.org/wiki/Principle_of_least_astonishment?useskin=vector\" rel=\"nofollow noreferrer\">principle of least surprise</a>, so it can&#39;t really be helped. (Assuming that this was C code, which seems likely.)"}],"tags":[],"owner":{"account_id":1821125,"reputation":1119,"user_id":2051109,"accept_rate":60,"display_name":"BOC"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360247739,"creation_date":1360247739,"answer_id":14753618,"question_id":2661110,"body_markdown":"The normal guideline is to never test against boolean. Some argue that the additional verbosity adds to clarity. The added code may help some people, but every reader will need to read more code.\r\n\r\nThis morning, I have lost 1/2 hour to find a bug. The code was \r\n\r\n        if ( !strcmp(runway_in_use,&quot;CLOSED&quot;) == IPAS_FALSE)\r\n          printf(&quot; ACTIVE    FALSE \\n&quot;);   else\r\n          printf(&quot; ACTIVE    TRUE \\n&quot;);\r\n\r\n\r\nIf it was coded with normal convention, I would have seen a lot faster that it was wrong:\r\n\r\n        if (strcmp(runway_in_use, &quot;CLOSED&quot;))\r\n          printf(&quot; ACTIVE    FALSE \\n&quot;);   else\r\n          printf(&quot; ACTIVE    TRUE \\n&quot;);\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>The normal guideline is to never test against boolean. Some argue that the additional verbosity adds to clarity. The added code may help some people, but every reader will need to read more code.</p>\n\n<p>This morning, I have lost 1/2 hour to find a bug. The code was </p>\n\n<pre><code>    if ( !strcmp(runway_in_use,\"CLOSED\") == IPAS_FALSE)\n      printf(\" ACTIVE    FALSE \\n\");   else\n      printf(\" ACTIVE    TRUE \\n\");\n</code></pre>\n\n<p>If it was coded with normal convention, I would have seen a lot faster that it was wrong:</p>\n\n<pre><code>    if (strcmp(runway_in_use, \"CLOSED\"))\n      printf(\" ACTIVE    FALSE \\n\");   else\n      printf(\" ACTIVE    TRUE \\n\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":445338,"reputation":7451,"user_id":837726,"accept_rate":91,"display_name":"Joel"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1369149558,"creation_date":1369149558,"answer_id":16673583,"question_id":2661110,"body_markdown":"I prefer the long approach, but I compare using `==` instead of `!=` 99% of time. \r\n\r\nI know this question is about Java, but I often switch between languages, and in `C#`, for instance, comparing with  (for isntance) `== false` can help when dealing with nullable bool types. So I got this habbit of comparing with `true` or `false` but using the `==` operator.  \r\n\r\nI do these:\r\n\r\n`if(isSomething == false)` or `if(isSomething == true)`\r\n\r\nbut I hate these:\r\n\r\n`if(isSomething != false)` or `if(isSomething != true)`\r\n\r\nfor obvious readability reasons! \r\n\r\nAs long as you keep your code readable, it will not matter.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>I prefer the long approach, but I compare using <code>==</code> instead of <code>!=</code> 99% of time. </p>\n\n<p>I know this question is about Java, but I often switch between languages, and in <code>C#</code>, for instance, comparing with  (for isntance) <code>== false</code> can help when dealing with nullable bool types. So I got this habbit of comparing with <code>true</code> or <code>false</code> but using the <code>==</code> operator.  </p>\n\n<p>I do these:</p>\n\n<p><code>if(isSomething == false)</code> or <code>if(isSomething == true)</code></p>\n\n<p>but I hate these:</p>\n\n<p><code>if(isSomething != false)</code> or <code>if(isSomething != true)</code></p>\n\n<p>for obvious readability reasons! </p>\n\n<p>As long as you keep your code readable, it will not matter.</p>\n"},{"tags":[],"owner":{"account_id":4105281,"reputation":66,"user_id":3369540,"display_name":"Kees Huizing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444209732,"creation_date":1444209732,"answer_id":32988507,"question_id":2661110,"body_markdown":"One of the reasons the first one (b==false) is frowned upon is that beginners often do not realize that the second alternative (!b) is possible at all. So using the first form may point at a misconception with boolean expressions and boolean variables. This way, using the second form has become some kind of a sjiboleth: when someone writes this, he/she probably understands what&#39;s going on. \r\n\r\nI believe that this has caused the difference to be considered more important than it really is.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>One of the reasons the first one (b==false) is frowned upon is that beginners often do not realize that the second alternative (!b) is possible at all. So using the first form may point at a misconception with boolean expressions and boolean variables. This way, using the second form has become some kind of a sjiboleth: when someone writes this, he/she probably understands what's going on. </p>\n\n<p>I believe that this has caused the difference to be considered more important than it really is.</p>\n"},{"comments":[{"owner":{"account_id":2674465,"reputation":4633,"user_id":2311167,"display_name":"Adrian W"},"score":1,"creation_date":1610631984,"post_id":50061866,"comment_id":116197652,"body_markdown":"The question is about comparing a boolean expression to a boolean _constant_.","body":"The question is about comparing a boolean expression to a boolean <i>constant</i>."}],"tags":[],"owner":{"account_id":1460117,"reputation":133,"user_id":1374669,"display_name":"lifesoordinary"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524830043,"creation_date":1524830043,"answer_id":50061866,"question_id":2661110,"body_markdown":"This is my first answer on StackOverflow so be nice...\r\nRecently while refactoring I noticed that 2 blocks of code had almost the exact same code but one used had \r\n\r\n    for (Alert alert : alerts) {\r\n        Long currentId = alert.getUserId();\r\n\r\n\t\tif (vipList.contains(currentId)) {\r\n\t\t    customersToNotify.add(alert);\r\n\r\n\t\t    if (customersToNotify.size() == maxAlerts) {\r\n\t\t        break;\r\n\t\t\t}\r\n\t    }\r\n    }\r\nand the other had \r\n\r\n    for (Alert alert : alerts) {\r\n        Long currentId = alert.getUserId();\r\n\r\n\t\tif (!vipList.contains(currentId)) {\r\n\t\t    customersToNotify.add(alert);\r\n\r\n\t\t    if (customersToNotify.size() == maxAlerts) {\r\n\t\t        break;\r\n\t\t\t}\r\n\t    }\r\n    }\r\n\r\nso in this case it made sense to create a method which worked for both conditions like this using `boolean == condition` to flip the meaning\r\n\r\n\tprivate void appendCustomersToNotify(List&lt;Alert&gt; alerts\r\n\t\t\tList&lt;Alert&gt; customersToNotify, List&lt;Long&gt; vipList, boolean vip){\r\n\r\n\t\tfor (Alert alert : alerts) {\r\n\t\t\tLong currentId = alertItem.getUserId();\r\n\r\n\t\t\tif (vip == vipList.contains(currentId)) {\r\n\t\t\t\tcustomersToNotify.add(alertItem);\r\n\r\n\t\t\t\tif (customersToNotify.size() == maxAlerts) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>This is my first answer on StackOverflow so be nice...\nRecently while refactoring I noticed that 2 blocks of code had almost the exact same code but one used had </p>\n\n<pre><code>for (Alert alert : alerts) {\n    Long currentId = alert.getUserId();\n\n    if (vipList.contains(currentId)) {\n        customersToNotify.add(alert);\n\n        if (customersToNotify.size() == maxAlerts) {\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>and the other had </p>\n\n<pre><code>for (Alert alert : alerts) {\n    Long currentId = alert.getUserId();\n\n    if (!vipList.contains(currentId)) {\n        customersToNotify.add(alert);\n\n        if (customersToNotify.size() == maxAlerts) {\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>so in this case it made sense to create a method which worked for both conditions like this using <code>boolean == condition</code> to flip the meaning</p>\n\n<pre><code>private void appendCustomersToNotify(List&lt;Alert&gt; alerts\n        List&lt;Alert&gt; customersToNotify, List&lt;Long&gt; vipList, boolean vip){\n\n    for (Alert alert : alerts) {\n        Long currentId = alertItem.getUserId();\n\n        if (vip == vipList.contains(currentId)) {\n            customersToNotify.add(alertItem);\n\n            if (customersToNotify.size() == maxAlerts) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684481331,"creation_date":1586247392,"answer_id":61075619,"question_id":2661110,"body_markdown":"While both are valid, to me the first feels like a type mismatch.\r\n\r\nTo me `b == false` looks as wrong as `(i == 0) == false`.  It is like: huh?\r\n\r\nBooleans are not an enum with 2 possible values.  You don&#39;t compare them.  Boolean are predicates and represent some truth.  They have specific operators like `&amp;`, `|`, `^`, `!`.\r\n\r\nTo reverse the truth of an expression use the operator &#39;!&#39;, pronounced as &quot;not&quot;.\r\n\r\nWith proper naming it becomes natural: `!isEmpty` reads &quot;not is empty&quot;, quite readable to me.   \r\nWhile `isEmpty == false` reads something like &quot;it is false that it is empty&quot;, which I need more time to process.\r\n\r\nCoding style guidelines in Java and other language generally discourage &quot;== true/false&quot; style.\r\n\r\nSonar  \r\nhttps://rules.sonarsource.com/java/RSPEC-1125\r\n\r\nCheckStyle  \r\nhttps://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression\r\n\r\nTSLint  \r\nhttps://palantir.github.io/tslint/rules/no-boolean-literal-compare/\r\n\r\nC#  \r\nhttps://www.c-sharpcorner.com/article/common-code-smell-mistakes-in-c-sharp-part-1/\r\n\r\nC# queries  \r\nhttps://help.semmle.com/wiki/display/CSHARP/Unnecessarily+complex+Boolean+expression\r\n\r\nBut the following Codeshare blog entry shows cases in javascript where &quot;b == true&quot; can be useful.  This might explain why people do it.  \r\nhttps://codeshare.co.uk/blog/please-tell-me-you-dont-write-if-true-equals-true/\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>While both are valid, to me the first feels like a type mismatch.</p>\n<p>To me <code>b == false</code> looks as wrong as <code>(i == 0) == false</code>.  It is like: huh?</p>\n<p>Booleans are not an enum with 2 possible values.  You don't compare them.  Boolean are predicates and represent some truth.  They have specific operators like <code>&amp;</code>, <code>|</code>, <code>^</code>, <code>!</code>.</p>\n<p>To reverse the truth of an expression use the operator '!', pronounced as &quot;not&quot;.</p>\n<p>With proper naming it becomes natural: <code>!isEmpty</code> reads &quot;not is empty&quot;, quite readable to me.<br />\nWhile <code>isEmpty == false</code> reads something like &quot;it is false that it is empty&quot;, which I need more time to process.</p>\n<p>Coding style guidelines in Java and other language generally discourage &quot;== true/false&quot; style.</p>\n<p>Sonar<br />\n<a href=\"https://rules.sonarsource.com/java/RSPEC-1125\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-1125</a></p>\n<p>CheckStyle<br />\n<a href=\"https://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression\" rel=\"nofollow noreferrer\">https://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression</a></p>\n<p>TSLint<br />\n<a href=\"https://palantir.github.io/tslint/rules/no-boolean-literal-compare/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/rules/no-boolean-literal-compare/</a></p>\n<p>C#<br />\n<a href=\"https://www.c-sharpcorner.com/article/common-code-smell-mistakes-in-c-sharp-part-1/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/article/common-code-smell-mistakes-in-c-sharp-part-1/</a></p>\n<p>C# queries<br />\n<a href=\"https://help.semmle.com/wiki/display/CSHARP/Unnecessarily+complex+Boolean+expression\" rel=\"nofollow noreferrer\">https://help.semmle.com/wiki/display/CSHARP/Unnecessarily+complex+Boolean+expression</a></p>\n<p>But the following Codeshare blog entry shows cases in javascript where &quot;b == true&quot; can be useful.  This might explain why people do it.<br />\n<a href=\"https://codeshare.co.uk/blog/please-tell-me-you-dont-write-if-true-equals-true/\" rel=\"nofollow noreferrer\">https://codeshare.co.uk/blog/please-tell-me-you-dont-write-if-true-equals-true/</a></p>\n"},{"tags":[],"owner":{"account_id":21228254,"reputation":11,"user_id":15613504,"display_name":"poipoi300"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618253195,"creation_date":1618248684,"answer_id":67063031,"question_id":2661110,"body_markdown":"I won&#39;t go into all of the details at length because many people have already answered correctly.\r\n\r\nFunctionality-wise, it gives the same result.\r\n\r\nAs far as styling goes, it&#39;s a matter of preference, but I do believe `!condition` to be more readable.\r\n\r\nFor the performance argument, I have seen many say that it makes no difference, but they have nothing to justify their claims. Let&#39;s go just a bit deeper into that one. So what happens when you compare them?\r\n\r\nFirst, logically: \r\n\r\n`if(condition == false)`\r\n\r\nIn this case, `if` is comparing its desired value to execute with the value between the parentheses, which has to be computed.\r\n\r\n`if(!condition)`\r\n\r\nIn this case, `if` is directly compared to the opposite(NOT) of the condition. So instead of 2 comparisons, it is one comparison and 1 NOT operation, which is faster.\r\n\r\nI wouldn&#39;t just say this without having tested it of course. Here is a quick screenshot of the test I did. `!condition` is nearly twice as fast over 10 million iterations.\r\nhttps://i.stack.imgur.com/EKUIz.jpg\r\n\r\nEDIT: I tested this in C#, compiled with visual studio. Some compilers may be smarter and optimize it properly, which would make the performance the same.\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>I won't go into all of the details at length because many people have already answered correctly.</p>\n<p>Functionality-wise, it gives the same result.</p>\n<p>As far as styling goes, it's a matter of preference, but I do believe <code>!condition</code> to be more readable.</p>\n<p>For the performance argument, I have seen many say that it makes no difference, but they have nothing to justify their claims. Let's go just a bit deeper into that one. So what happens when you compare them?</p>\n<p>First, logically:</p>\n<p><code>if(condition == false)</code></p>\n<p>In this case, <code>if</code> is comparing its desired value to execute with the value between the parentheses, which has to be computed.</p>\n<p><code>if(!condition)</code></p>\n<p>In this case, <code>if</code> is directly compared to the opposite(NOT) of the condition. So instead of 2 comparisons, it is one comparison and 1 NOT operation, which is faster.</p>\n<p>I wouldn't just say this without having tested it of course. Here is a quick screenshot of the test I did. <code>!condition</code> is nearly twice as fast over 10 million iterations.\n<a href=\"https://i.stack.imgur.com/EKUIz.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/EKUIz.jpg</a></p>\n<p>EDIT: I tested this in C#, compiled with visual studio. Some compilers may be smarter and optimize it properly, which would make the performance the same.</p>\n"}],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39029,"favorite_count":0,"down_vote_count":2,"up_vote_count":83,"closed_date":1691001513,"accepted_answer_id":2661121,"answer_count":16,"score":81,"last_activity_date":1684481331,"creation_date":1271564103,"question_id":2661110,"body_markdown":"Is it bad to write:\r\n\r\n    if (b == false) //...\r\n\r\n    while (b != true) //...\r\n\r\nIs it _always_ better to instead write:\r\n\r\n    if (!b) //...\r\n\r\n    while (!b) //...\r\n\r\nPresumably there is no difference in performance (or is there?), but how do you weigh the explicitness, the conciseness, the clarity, the readability, etc between the two?\r\n\r\n### Update\r\n\r\nTo limit the subjectivity, I&#39;d also appreciate any quotes from authoritative coding style guidelines over which is always preferable or which to use when.\r\n\r\n---\r\n\r\n_Note_: the variable name `b` is just used as an example, ala `foo` and `bar`.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>Is it bad to write:</p>\n\n<pre><code>if (b == false) //...\n\nwhile (b != true) //...\n</code></pre>\n\n<p>Is it <em>always</em> better to instead write:</p>\n\n<pre><code>if (!b) //...\n\nwhile (!b) //...\n</code></pre>\n\n<p>Presumably there is no difference in performance (or is there?), but how do you weigh the explicitness, the conciseness, the clarity, the readability, etc between the two?</p>\n\n<h3>Update</h3>\n\n<p>To limit the subjectivity, I'd also appreciate any quotes from authoritative coding style guidelines over which is always preferable or which to use when.</p>\n\n<hr>\n\n<p><em>Note</em>: the variable name <code>b</code> is just used as an example, ala <code>foo</code> and <code>bar</code>.</p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":1,"creation_date":1684409239,"post_id":76280110,"comment_id":134515015,"body_markdown":"Can you share the full stack trace?","body":"Can you share the full stack trace?"},{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":1,"creation_date":1684409451,"post_id":76280110,"comment_id":134515051,"body_markdown":"If you check the logs you will probably find a message like &quot;Found app shell configuration annotations in non AppShellConfigurator classes&quot;, and following the list of the annotation that should be moved","body":"If you check the logs you will probably find a message like &quot;Found app shell configuration annotations in non AppShellConfigurator classes&quot;, and following the list of the annotation that should be moved"}],"owner":{"account_id":13795396,"reputation":37,"user_id":9956737,"display_name":"nikolas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684481271,"creation_date":1684407371,"question_id":76280110,"body_markdown":"    2023-05-18T12:54:22.736+02:00  INFO 20376 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-05-18T12:54:22.738+02:00  INFO 20376 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2093 ms\r\n    2023-05-18T12:54:22.934+02:00 ERROR 20376 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\r\n    \r\n    java.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$VaadinAppShellContextListener\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:191) ~[vaadin-spring-24.0.6.jar:na]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:213) ~[vaadin-spring-24.0.6.jar:na]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:213) ~[vaadin-spring-24.0.6.jar:na]\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4452) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat it.unidoc.cdr.core.Application.main(Application.java:20) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\r\ni have this problem when run in intellij and jdk 17 on windows11\r\n","title":"vaadin strange bug when run application","body":"<pre><code>2023-05-18T12:54:22.736+02:00  INFO 20376 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-18T12:54:22.738+02:00  INFO 20376 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2093 ms\n2023-05-18T12:54:22.934+02:00 ERROR 20376 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\n\njava.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$VaadinAppShellContextListener\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:191) ~[vaadin-spring-24.0.6.jar:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:213) ~[vaadin-spring-24.0.6.jar:na]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:213) ~[vaadin-spring-24.0.6.jar:na]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4452) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at it.unidoc.cdr.core.Application.main(Application.java:20) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n</code></pre>\n<p>i have this problem when run in intellij and jdk 17 on windows11</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","elasticsearch-8"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670337234,"creation_date":1670337234,"answer_id":74704271,"question_id":74703974,"body_markdown":"This is nothing from Spring Data Elasticsearch , it might be an issue in the Elasticsearch client. You might want to create an issue with Elasticsearch (https://github.com/elastic/elasticsearch-java/issues) ","title":"Elasticsearch 8.x java migrating from QueryBuilders.geoShapeQuery to geoShapeQuery class","body":"<p>This is nothing from Spring Data Elasticsearch , it might be an issue in the Elasticsearch client. You might want to create an issue with Elasticsearch (<a href=\"https://github.com/elastic/elasticsearch-java/issues\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch-java/issues</a>)</p>\n"},{"tags":[],"owner":{"account_id":5428764,"reputation":135,"user_id":4320288,"display_name":"Shalom Ohayon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670396671,"creation_date":1670396671,"answer_id":74712861,"question_id":74703974,"body_markdown":"I am posting my solution if someone have the same issue...\r\n\r\nMy solution is to create a JSONObject via ObjectMapper (jackson) and then use JsonData\r\n\r\n    ObjectMapper om = new ObjectMapper();\t\t\r\n    var node = om.readTree(&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;:[&quot;+ lon +&quot;,&quot;+ lat + &quot;]}&quot;);\r\n\tJsonData shape = JsonData.of(node);\r\n\tQuery geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\r\n       .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\r\n","title":"Elasticsearch 8.x java migrating from QueryBuilders.geoShapeQuery to geoShapeQuery class","body":"<p>I am posting my solution if someone have the same issue...</p>\n<p>My solution is to create a JSONObject via ObjectMapper (jackson) and then use JsonData</p>\n<pre><code>ObjectMapper om = new ObjectMapper();       \nvar node = om.readTree(&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;:[&quot;+ lon +&quot;,&quot;+ lat + &quot;]}&quot;);\nJsonData shape = JsonData.of(node);\nQuery geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\n   .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16866920,"reputation":11,"user_id":12196408,"display_name":"NoKnow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677766573,"creation_date":1677766573,"answer_id":75616675,"question_id":74703974,"body_markdown":"in addition to the accepted answer, you can simply send the shape as WKT formatted String (and avoid custom converters)\r\n\r\n\r\n    JsonData shape = JsonData.of(WellKnownText.toWKT(new Point(longitude,latitude))); // will create a simple ValueNode, no JSON conversion\r\n    Query geoShape = QueryBuilders.geoShape().field(&quot;coordinates&quot;)\r\n      .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)).build()._toQuery();\r\n\r\n","title":"Elasticsearch 8.x java migrating from QueryBuilders.geoShapeQuery to geoShapeQuery class","body":"<p>in addition to the accepted answer, you can simply send the shape as WKT formatted String (and avoid custom converters)</p>\n<pre><code>JsonData shape = JsonData.of(WellKnownText.toWKT(new Point(longitude,latitude))); // will create a simple ValueNode, no JSON conversion\nQuery geoShape = QueryBuilders.geoShape().field(&quot;coordinates&quot;)\n  .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)).build()._toQuery();\n</code></pre>\n"}],"owner":{"account_id":5428764,"reputation":135,"user_id":4320288,"display_name":"Shalom Ohayon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74712861,"answer_count":3,"score":0,"last_activity_date":1684480936,"creation_date":1670335960,"question_id":74703974,"body_markdown":"I am trying to move from Spring data elasticsearch 4.x to 5.x &amp; spring-boot-starter-data-elasticsearch 3.0.0 in order to remove rhlc from my code.\r\n\r\nOne of my query is a geoShapeQuery \r\n\r\nHere my old code :\r\n\r\n    GeoShapeQueryBuilder geoShape = QueryBuilders.geoShapeQuery(ConvertUtils.FULL_GEO,new Point(lon, lat));\r\n\tgeoShape.relation(ShapeRelation.CONTAINS);\r\n\tQueryBuilder bool = new BoolQueryBuilder().filter(geoShape).should(rankFeature);\r\n\r\nI am trying to use the new class of geoShapeQuery without success \r\n\r\n    JsonData shape = JsonData.of(&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;: [ 13.0, 53.0 ]}&quot;);\r\n\tQuery geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\r\n\t\t\t\t\t.shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\r\n\tQuery bool = BoolQuery.of(b-&gt;b\r\n\t\t\t\t\t.filter(geoShape)\r\n\t\t\t\t\t.should(rankFeature)\r\n\t\t\t\t\t)._toQuery();\r\n\r\n\r\nWhen I am debugging I am seeing that the geopshape object put the shape as a String instead of a JSON object.\r\n\r\n&gt; Query: {&quot;geo_shape&quot;:{&quot;fullGeo&quot;:{&quot;shape&quot;:**&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;: [ 13.0, 53.0 ]}&quot;**,&quot;relation&quot;:&quot;contains&quot;}}}\r\n\r\n\r\nI am expecting to have this (without the double quote):\r\n&gt; Query: {&quot;geo_shape&quot;:{&quot;fullGeo&quot;:{&quot;shape&quot;:**{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;: [ 13.0, 53.0 ]}**,&quot;relation&quot;:&quot;contains&quot;}}}\r\n\r\nI don&#39;t know what I am doing wrong.","title":"Elasticsearch 8.x java migrating from QueryBuilders.geoShapeQuery to geoShapeQuery class","body":"<p>I am trying to move from Spring data elasticsearch 4.x to 5.x &amp; spring-boot-starter-data-elasticsearch 3.0.0 in order to remove rhlc from my code.</p>\n<p>One of my query is a geoShapeQuery</p>\n<p>Here my old code :</p>\n<pre><code>GeoShapeQueryBuilder geoShape = QueryBuilders.geoShapeQuery(ConvertUtils.FULL_GEO,new Point(lon, lat));\ngeoShape.relation(ShapeRelation.CONTAINS);\nQueryBuilder bool = new BoolQueryBuilder().filter(geoShape).should(rankFeature);\n</code></pre>\n<p>I am trying to use the new class of geoShapeQuery without success</p>\n<pre><code>JsonData shape = JsonData.of(&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;: [ 13.0, 53.0 ]}&quot;);\nQuery geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\n                .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\nQuery bool = BoolQuery.of(b-&gt;b\n                .filter(geoShape)\n                .should(rankFeature)\n                )._toQuery();\n</code></pre>\n<p>When I am debugging I am seeing that the geopshape object put the shape as a String instead of a JSON object.</p>\n<blockquote>\n<p>Query: {&quot;geo_shape&quot;:{&quot;fullGeo&quot;:{&quot;shape&quot;:<strong>&quot;{&quot;type&quot;: &quot;point&quot;,&quot;coordinates&quot;: [ 13.0, 53.0 ]}&quot;</strong>,&quot;relation&quot;:&quot;contains&quot;}}}</p>\n</blockquote>\n<p>I am expecting to have this (without the double quote):</p>\n<blockquote>\n<p>Query: {&quot;geo_shape&quot;:{&quot;fullGeo&quot;:{&quot;shape&quot;:<strong>{&quot;type&quot;: &quot;point&quot;,&quot;coordinates&quot;: [ 13.0, 53.0 ]}</strong>,&quot;relation&quot;:&quot;contains&quot;}}}</p>\n</blockquote>\n<p>I don't know what I am doing wrong.</p>\n"},{"tags":["java","spring-boot","cassandra","cql","datastax-java-driver"],"comments":[{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":0,"creation_date":1684355275,"post_id":76275293,"comment_id":134508225,"body_markdown":"what cass version are you using?","body":"what cass version are you using?"}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684350285,"creation_date":1684350285,"answer_id":76275432,"question_id":76275293,"body_markdown":"TTL is bound to a specific cell, so when you&#39;re updating only specific columns, then only them are updated. To update everything, you need to update all values \r\n","title":"How do I update a column value and set a TTL for the whole row?","body":"<p>TTL is bound to a specific cell, so when you're updating only specific columns, then only them are updated. To update everything, you need to update all values</p>\n"},{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684480817,"creation_date":1684480817,"answer_id":76286848,"question_id":76275293,"body_markdown":"The TTL only applies to the columns in the statement, not to all the columns in the row nor all the rows in the partition.\r\n\r\nThe only workaround I could think of is to set a default TTL on the table using the `default_time_to_live` option. Cheers!","title":"How do I update a column value and set a TTL for the whole row?","body":"<p>The TTL only applies to the columns in the statement, not to all the columns in the row nor all the rows in the partition.</p>\n<p>The only workaround I could think of is to set a default TTL on the table using the <code>default_time_to_live</code> option. Cheers!</p>\n"}],"owner":{"account_id":15207208,"reputation":21,"user_id":10976839,"display_name":"Martin Dardis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76275432,"answer_count":2,"score":1,"last_activity_date":1684480817,"creation_date":1684349043,"question_id":76275293,"body_markdown":"i&#39;m trying to update a column value (not key column) and to set new TTL for the whole row. \r\nBut when i execute the generated statement, only column ttl was updates and the other columns remain with the original, producing NULL values in future reads.\r\n\r\nMy app was written in Java and using datastax for querying, and the function for generating the statement is something like this.\r\n\r\n```java \r\nprivate Statement updateLastActivityStatement(int ttl, Long ts){\r\n    return QueryBuilder.update(KEY_SPACE, TABLE_NAME)\r\n        .with(QueryBuilder.set(LAST_ACTIVITY, ts))\r\n        .where(QueryBuilder.eq(ENTRY_ID, userA))\r\n        .and(QueryBuilder.eq(ID, userB))\r\n        .using(QueryBuilder.ttl(ttl));\r\n}\r\n```","title":"How do I update a column value and set a TTL for the whole row?","body":"<p>i'm trying to update a column value (not key column) and to set new TTL for the whole row.\nBut when i execute the generated statement, only column ttl was updates and the other columns remain with the original, producing NULL values in future reads.</p>\n<p>My app was written in Java and using datastax for querying, and the function for generating the statement is something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Statement updateLastActivityStatement(int ttl, Long ts){\n    return QueryBuilder.update(KEY_SPACE, TABLE_NAME)\n        .with(QueryBuilder.set(LAST_ACTIVITY, ts))\n        .where(QueryBuilder.eq(ENTRY_ID, userA))\n        .and(QueryBuilder.eq(ID, userB))\n        .using(QueryBuilder.ttl(ttl));\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","csrf"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1561281239,"creation_date":1561273627,"answer_id":56721773,"question_id":56713604,"body_markdown":"To exclude a particular URL from CSRF protection , you could use `&lt;csrf request-matcher-ref=&quot;csrfMatcher&quot;&gt;` . The `csrfMatcher` is the `RequestMatcher` which defines which URL request will have CSRF protection. \r\n\r\n[Docs][1] has an example to just excluding a particular URL while still keeping other default settings remain unchanged: \r\n\r\n    &lt;http ...&gt;\r\n        &lt;csrf request-matcher-ref=&quot;csrfMatcher&quot;/&gt;\r\n        ...\r\n    &lt;/http&gt;\r\n    \r\n    \r\n    &lt;beans:bean id=&quot;csrfMatcher&quot; class=&quot;org.springframework.security.web.util.matcher.AndRequestMatcher&quot;&gt;\r\n        &lt;beans:constructor-arg value=&quot;#{T(org.springframework.security.web.csrf.CsrfFilter).DEFAULT_CSRF_MATCHER}&quot;/&gt;\r\n        &lt;beans:constructor-arg&gt;\r\n            &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.NegatedRequestMatcher&quot;&gt;\r\n              &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.AntPathRequestMatcher&quot;&gt;\r\n                &lt;beans:constructor-arg value=&quot;/webhook/**&quot;/&gt;\r\n              &lt;/beans:bean&gt;\r\n            &lt;/beans:bean&gt;\r\n        &lt;/beans:constructor-arg&gt;\r\n    &lt;/beans:bean&gt;\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#websocket-sockjs-csrf","title":"Spring security bypass CSRF verification for specific URL&#39;s","body":"<p>To exclude a particular URL from CSRF protection , you could use <code>&lt;csrf request-matcher-ref=\"csrfMatcher\"&gt;</code> . The <code>csrfMatcher</code> is the <code>RequestMatcher</code> which defines which URL request will have CSRF protection. </p>\n\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#websocket-sockjs-csrf\" rel=\"nofollow noreferrer\">Docs</a> has an example to just excluding a particular URL while still keeping other default settings remain unchanged: </p>\n\n<pre><code>&lt;http ...&gt;\n    &lt;csrf request-matcher-ref=\"csrfMatcher\"/&gt;\n    ...\n&lt;/http&gt;\n\n\n&lt;beans:bean id=\"csrfMatcher\" class=\"org.springframework.security.web.util.matcher.AndRequestMatcher\"&gt;\n    &lt;beans:constructor-arg value=\"#{T(org.springframework.security.web.csrf.CsrfFilter).DEFAULT_CSRF_MATCHER}\"/&gt;\n    &lt;beans:constructor-arg&gt;\n        &lt;beans:bean class=\"org.springframework.security.web.util.matcher.NegatedRequestMatcher\"&gt;\n          &lt;beans:bean class=\"org.springframework.security.web.util.matcher.AntPathRequestMatcher\"&gt;\n            &lt;beans:constructor-arg value=\"/webhook/**\"/&gt;\n          &lt;/beans:bean&gt;\n        &lt;/beans:bean&gt;\n    &lt;/beans:constructor-arg&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11287994,"reputation":144,"user_id":8278152,"display_name":"Sandip Jangra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684480748,"creation_date":1684480748,"answer_id":76286840,"question_id":56713604,"body_markdown":"For anyone, If Answer from @ken Chan doesnt work due to pom definition errors. Please try below configurations.\r\n\r\nI am using spring security 3.2 and below configurations worked for me. \r\n\r\n    &lt;beans:bean id=&quot;csrfMatcher&quot; class=&quot;org.springframework.security.web.util.matcher.AndRequestMatcher&quot;&gt;\r\n                    &lt;beans:constructor-arg name=&quot;requestMatchers&quot;&gt;\r\n                            &lt;beans:list&gt;\r\n                                    &lt;beans:bean class=&quot;org.springframework.security.web.csrf.CsrfFilter$DefaultRequiresCsrfMatcher&quot; /&gt;\r\n                                    &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.NegatedRequestMatcher&quot;&gt;\r\n                                            &lt;beans:constructor-arg&gt;\r\n                                                    &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.AntPathRequestMatcher&quot;&gt;\r\n                                                            &lt;beans:constructor-arg value=&quot;/j_spring_security_check&quot;/&gt;\r\n                                                    &lt;/beans:bean&gt;\r\n                                            &lt;/beans:constructor-arg&gt;\r\n                                    &lt;/beans:bean&gt;\r\n                            &lt;/beans:list&gt;\r\n                    &lt;/beans:constructor-arg&gt;\r\n            &lt;/beans:bean&gt;\r\n\r\n**Please add block of NegatedRequestMatcher in the list if you want to bypass multiple urls.**","title":"Spring security bypass CSRF verification for specific URL&#39;s","body":"<p>For anyone, If Answer from @ken Chan doesnt work due to pom definition errors. Please try below configurations.</p>\n<p>I am using spring security 3.2 and below configurations worked for me.</p>\n<pre><code>&lt;beans:bean id=&quot;csrfMatcher&quot; class=&quot;org.springframework.security.web.util.matcher.AndRequestMatcher&quot;&gt;\n                &lt;beans:constructor-arg name=&quot;requestMatchers&quot;&gt;\n                        &lt;beans:list&gt;\n                                &lt;beans:bean class=&quot;org.springframework.security.web.csrf.CsrfFilter$DefaultRequiresCsrfMatcher&quot; /&gt;\n                                &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.NegatedRequestMatcher&quot;&gt;\n                                        &lt;beans:constructor-arg&gt;\n                                                &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.AntPathRequestMatcher&quot;&gt;\n                                                        &lt;beans:constructor-arg value=&quot;/j_spring_security_check&quot;/&gt;\n                                                &lt;/beans:bean&gt;\n                                        &lt;/beans:constructor-arg&gt;\n                                &lt;/beans:bean&gt;\n                        &lt;/beans:list&gt;\n                &lt;/beans:constructor-arg&gt;\n        &lt;/beans:bean&gt;\n</code></pre>\n<p><strong>Please add block of NegatedRequestMatcher in the list if you want to bypass multiple urls.</strong></p>\n"}],"owner":{"account_id":8361588,"reputation":1393,"user_id":6279687,"accept_rate":93,"display_name":"Abhishek Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2932,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":56721773,"answer_count":2,"score":1,"last_activity_date":1684480748,"creation_date":1561189392,"question_id":56713604,"body_markdown":"I have a spring security + MVC based project. \r\n\r\nThe web aspect of the project has already been developed by previous developers. I am tasked with exposing some API&#39;s\r\non which an service provider is going to do callback.\r\n\r\nTo archive this I have done the following code.\r\n\r\n\r\n    @RestController\r\n    public class LeegalityController {\r\n    \r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(LeegalityController.class);\r\n    \r\n    \t@RequestMapping(value = &quot;webhook/{user}/{id}&quot;, method = RequestMethod.POST)\r\n    \tpublic ResponseEntity&lt;String&gt; webhook(@PathVariable(&quot;user&quot;) int user, @PathVariable(&quot;id&quot;) String id,\r\n    \t\t\t@RequestBody LeegalityReqResp reqResp, HttpServletRequest request) {\r\n    \t\ttry {\r\n    \t\t\tlogger.info(&quot;webhook()== user[&quot; + user + &quot;] == id[&quot; + id + &quot;]&quot;);\r\n    \t\t\tlogger.info(&quot;webhook()== LeegalityReqResp--&gt;&quot; + reqResp.toString());\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlogger.error(&quot;webhook() Error==[&quot; + e.getMessage() + &quot;]&quot;, e);\r\n    \t\t}\r\n    \r\n    \t\treturn new ResponseEntity&lt;String&gt;(&quot;success&quot;, HttpStatus.OK);\r\n    \t}\r\n    \r\n    }\r\n\r\nHowever while testing the API via postman I got the following error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zLnrf.jpg\r\n\r\n\r\n\r\nI have tried some changes in security configuration xml as below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans\r\n    \txmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n    \txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    \t\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/security\r\n    \t\thttp://www.springframework.org/schema/security/spring-security.xsd&quot;&gt;\r\n    \r\n    \r\n    \t&lt;http pattern=&quot;*/webhook/**&quot; security=&quot;none&quot; create-session=&quot;stateless&quot; /&gt;\r\n    \r\n    \t&lt;http auto-config=&quot;true&quot;&gt;\r\n    \t\t&lt;intercept-url pattern=&quot;/&quot;\r\n    \t\t\taccess=&quot;hasAnyRole(&#39;ROLE_ADMIN&#39;,&#39;ROLE_ONE&#39;,&#39;ROLE_TWO&#39;)&quot; /&gt;\r\n    \t\t\t\r\n    \t\t&lt;!-- &lt;intercept-url pattern=&quot;/webhook/**&quot; method=&quot;POST&quot; access=&quot;permitAll&quot; /&gt; --&gt;\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t&lt;intercept-url pattern=&quot;/admin&quot;\r\n    \t\t\taccess=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot; /&gt;\r\n    \t\t\t\r\n    \t\t&lt;intercept-url pattern=&quot;/otp&quot;\r\n    \t\t\taccess=&quot;hasAnyRole(&#39;ROLE_ONE&#39;,&#39;ROLE_TWO&#39;)&quot; /&gt;\r\n    \t\r\n    \r\n    \t\t&lt;form-login login-page=&quot;/ProjectName-Home&quot;\r\n    \t\t\tdefault-target-url=&quot;/&quot; authentication-failure-url=&quot;/login?error&quot;\r\n    \t\t\tusername-parameter=&quot;username&quot; password-parameter=&quot;password&quot; /&gt;\r\n    \t\t\t\r\n    \t\t&lt;logout logout-success-url=&quot;/login?logout&quot; /&gt;\r\n    \t&lt;/http&gt;\r\n    \r\n    \t&lt;authentication-manager\r\n    \t\talias=&quot;authenticationManager&quot;&gt;\r\n    \t\t&lt;authentication-provider\r\n    \t\t\tref=&quot;userAuthenticationProvider&quot;&gt;\r\n    \t\t&lt;/authentication-provider&gt;\r\n    \r\n    \t&lt;/authentication-manager&gt;\r\n    \r\n    \t&lt;beans:bean id=&quot;userAuthenticationProvider&quot;\r\n    \t\tclass=&quot;com.java.ProjectName.service.user.UserAuthenticationProvider&quot;&gt;&lt;/beans:bean&gt;\r\n    \r\n    \t&lt;beans:bean id=&quot;encoder&quot;\r\n    \t\tclass=&quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&quot;&gt;\r\n    \t\t&lt;beans:constructor-arg name=&quot;strength&quot;\r\n    \t\t\tvalue=&quot;11&quot; /&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    &lt;/beans:beans&gt;\r\n\r\n\r\nWhat should I do to make sure this `/webhook/*` is excluded from CSRF verification. Any help is appreciated and thank you in advance.\r\n\r\nMy spring version is 4.2.0.RELEASE and spring security version is 4.0.2.RELEASE.\r\n\r\n","title":"Spring security bypass CSRF verification for specific URL&#39;s","body":"<p>I have a spring security + MVC based project. </p>\n\n<p>The web aspect of the project has already been developed by previous developers. I am tasked with exposing some API's\non which an service provider is going to do callback.</p>\n\n<p>To archive this I have done the following code.</p>\n\n<pre><code>@RestController\npublic class LeegalityController {\n\n    private static final Logger logger = LoggerFactory.getLogger(LeegalityController.class);\n\n    @RequestMapping(value = \"webhook/{user}/{id}\", method = RequestMethod.POST)\n    public ResponseEntity&lt;String&gt; webhook(@PathVariable(\"user\") int user, @PathVariable(\"id\") String id,\n            @RequestBody LeegalityReqResp reqResp, HttpServletRequest request) {\n        try {\n            logger.info(\"webhook()== user[\" + user + \"] == id[\" + id + \"]\");\n            logger.info(\"webhook()== LeegalityReqResp--&gt;\" + reqResp.toString());\n\n        } catch (Exception e) {\n            logger.error(\"webhook() Error==[\" + e.getMessage() + \"]\", e);\n        }\n\n        return new ResponseEntity&lt;String&gt;(\"success\", HttpStatus.OK);\n    }\n\n}\n</code></pre>\n\n<p>However while testing the API via postman I got the following error</p>\n\n<p><a href=\"https://i.stack.imgur.com/zLnrf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zLnrf.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried some changes in security configuration xml as below</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans\n    xmlns=\"http://www.springframework.org/schema/security\"\n    xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/security\n        http://www.springframework.org/schema/security/spring-security.xsd\"&gt;\n\n\n    &lt;http pattern=\"*/webhook/**\" security=\"none\" create-session=\"stateless\" /&gt;\n\n    &lt;http auto-config=\"true\"&gt;\n        &lt;intercept-url pattern=\"/\"\n            access=\"hasAnyRole('ROLE_ADMIN','ROLE_ONE','ROLE_TWO')\" /&gt;\n\n        &lt;!-- &lt;intercept-url pattern=\"/webhook/**\" method=\"POST\" access=\"permitAll\" /&gt; --&gt;\n\n\n        &lt;intercept-url pattern=\"/admin\"\n            access=\"hasRole('ROLE_ADMIN')\" /&gt;\n\n        &lt;intercept-url pattern=\"/otp\"\n            access=\"hasAnyRole('ROLE_ONE','ROLE_TWO')\" /&gt;\n\n\n        &lt;form-login login-page=\"/ProjectName-Home\"\n            default-target-url=\"/\" authentication-failure-url=\"/login?error\"\n            username-parameter=\"username\" password-parameter=\"password\" /&gt;\n\n        &lt;logout logout-success-url=\"/login?logout\" /&gt;\n    &lt;/http&gt;\n\n    &lt;authentication-manager\n        alias=\"authenticationManager\"&gt;\n        &lt;authentication-provider\n            ref=\"userAuthenticationProvider\"&gt;\n        &lt;/authentication-provider&gt;\n\n    &lt;/authentication-manager&gt;\n\n    &lt;beans:bean id=\"userAuthenticationProvider\"\n        class=\"com.java.ProjectName.service.user.UserAuthenticationProvider\"&gt;&lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"encoder\"\n        class=\"org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder\"&gt;\n        &lt;beans:constructor-arg name=\"strength\"\n            value=\"11\" /&gt;\n    &lt;/beans:bean&gt;\n&lt;/beans:beans&gt;\n</code></pre>\n\n<p>What should I do to make sure this <code>/webhook/*</code> is excluded from CSRF verification. Any help is appreciated and thank you in advance.</p>\n\n<p>My spring version is 4.2.0.RELEASE and spring security version is 4.0.2.RELEASE.</p>\n"},{"tags":["java","android","android-fragments","nullpointerexception"],"comments":[{"owner":{"account_id":10992239,"reputation":472,"user_id":8075762,"display_name":"Amanpreet Kaur"},"score":0,"creation_date":1684390188,"post_id":76277839,"comment_id":134511829,"body_markdown":"Can you please add the error logs for more clarification","body":"Can you please add the error logs for more clarification"},{"owner":{"account_id":28625014,"reputation":1,"user_id":21917206,"display_name":"Xoszagas"},"score":0,"creation_date":1684401440,"post_id":76277839,"comment_id":134513625,"body_markdown":"Full project is here: https://drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/view?usp=sharing","body":"Full project is here: <a href=\"https://drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/&hellip;</a>"},{"owner":{"account_id":10992239,"reputation":472,"user_id":8075762,"display_name":"Amanpreet Kaur"},"score":0,"creation_date":1684478595,"post_id":76277839,"comment_id":134526064,"body_markdown":"you can upload your project on github and share link as then you can check the changes from repository easily","body":"you can upload your project on github and share link as then you can check the changes from repository easily"}],"answers":[{"comments":[{"owner":{"account_id":28625014,"reputation":1,"user_id":21917206,"display_name":"Xoszagas"},"score":0,"creation_date":1684394956,"post_id":76278342,"comment_id":134512495,"body_markdown":"When I returned from Slideshow or Gallery, adapter of OneFragment and recyclerView of OneFragment are null.","body":"When I returned from Slideshow or Gallery, adapter of OneFragment and recyclerView of OneFragment are null."},{"owner":{"account_id":28625014,"reputation":1,"user_id":21917206,"display_name":"Xoszagas"},"score":0,"creation_date":1684401481,"post_id":76278342,"comment_id":134513636,"body_markdown":"Full project is here: https://drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/view?usp=sharing","body":"Full project is here: <a href=\"https://drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/&hellip;</a>"}],"tags":[],"owner":{"account_id":11672847,"reputation":204,"user_id":8547372,"display_name":"Dharmeet Soni"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684392073,"creation_date":1684392073,"answer_id":76278342,"question_id":76277839,"body_markdown":"As I try to solve that which I understand your object is not being called when you just calling constructor of the oneFragment. So I suggest you to try below code into the constructor of oneFragment.\r\ntry to add this code on constructor and can check.\r\nalso add try catch to prevent unwanted condition of null pointer or etc. on clearBox method befor calling it.\r\n\r\n`public OneFragment(int k) {\r\n boxList = new ArrayList&lt;&gt;();\r\n for(int i=0; i&lt;t; i++) {boxList.add(new Box(i+1, Mode.NOTCHECKED));}\r\n}`","title":"ArrayList of Fragment of ViewPager2 is null after I switched another fragment from NavigationView. How can I solve this problem?","body":"<p>As I try to solve that which I understand your object is not being called when you just calling constructor of the oneFragment. So I suggest you to try below code into the constructor of oneFragment.\ntry to add this code on constructor and can check.\nalso add try catch to prevent unwanted condition of null pointer or etc. on clearBox method befor calling it.</p>\n<p><code>public OneFragment(int k) { boxList = new ArrayList&lt;&gt;(); for(int i=0; i&lt;t; i++) {boxList.add(new Box(i+1, Mode.NOTCHECKED));} }</code></p>\n"}],"owner":{"account_id":28625014,"reputation":1,"user_id":21917206,"display_name":"Xoszagas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684480492,"creation_date":1684385733,"question_id":76277839,"body_markdown":"I am making an Android project. I created a `RecyclerView` in `ViewPager2` as follows:\r\n\r\n1. [Screenshot 1](https://i.stack.imgur.com/0XY68.jpg)\r\n\r\n2. [Screenshot 2](https://i.stack.imgur.com/B9HSL.jpg)\r\n\r\nI switched to `Gallery` or `Slideshow`. Then, I returned back to `Home` and clicked the `Clear Box` button. As soon as I clicked the button, the app crashed. The error was a `nullPointerException`.\r\n\r\nMy Adapter code:\r\n```\r\npublic class MyAdapter extends FragmentStateAdapter {\r\n    private ArrayList&lt;Fragment&gt; fragmentList = new ArrayList&lt;&gt;();\r\n\r\n    public MyAdapter(@NonNull FragmentActivity fragmentActivity) {\r\n        super(fragmentActivity);\r\n    }\r\n\r\n    public MyAdapter(@NonNull Fragment fragment) {\r\n        super(fragment);\r\n    }\r\n\r\n    public MyAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n        super(fragmentManager, lifecycle);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        return fragmentList.get(position);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return fragmentList.size();\r\n    }\r\n\r\n    public void addFragment(Fragment fragment) {\r\n        fragmentList.add(fragment);\r\n    }\r\n}\r\n```\r\n\r\nMy fragment code:\r\n```\r\npublic class OneFragment extends Fragment {\r\n    Button button;\r\n    RecyclerView recyclerView;\r\n    BoxAdapter adapter;\r\n    private List&lt;Box&gt; boxList;\r\n    private LinearLayout linearLayout;\r\n    int t;\r\n\r\n    public OneFragment(int k) {\r\n        t = k;\r\n        Log.d(&quot;QQQ&quot;, &quot;OneFragment constructor called&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view;\r\n        view = inflater.inflate(R.layout.fragment_one, container, false);\r\n        linearLayout = view.findViewById(R.id.linearlayout);\r\n        button = view.findViewById(R.id.click);\r\n        recyclerView = view.findViewById(R.id.recyclerview);\r\n        boxList = new ArrayList&lt;&gt;();\r\n       \r\n        for(int i=0; i&lt;t; i++) {\r\n            boxList.add(new Box(i+1, Mode.NOTCHECKED));\r\n        }\r\n        adapter = new BoxAdapter(getActivity(), boxList);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(getActivity(), &quot;You clicked me. T= &quot;+t, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n\r\n    public void clearBox() {\r\n        boxList.clear();\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n\r\n    public int getBoxSize() {\r\n        if(boxList == null) {\r\n            return -1;\r\n        } else {\r\n            return boxList.size();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy home fragment code:\r\n```\r\npublic class HomeFragment extends Fragment {\r\n\r\n    private FragmentHomeBinding binding;\r\n    private Button button;\r\n    private ViewPager2 viewPager2;\r\n    private MyAdapter myAdapter;\r\n    private OneFragment oneFragment;\r\n    private TwoFragment twoFragment;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        HomeViewModel homeViewModel = new ViewModelProvider(this).get(HomeViewModel.class);\r\n\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();   \r\n        button = binding.clearbox;\r\n        viewPager2 = binding.viewpager;\r\n\r\n        int q;\r\n        q = new Random().nextInt(10 - 1 + 1) + 1;\r\n       \r\n        oneFragment = new OneFragment(q);\r\n        twoFragment = new TwoFragment();\r\n\r\n        myAdapter = new MyAdapter(getChildFragmentManager(), getLifecycle());\r\n\r\n        myAdapter.addFragment(oneFragment);\r\n        myAdapter.addFragment(twoFragment);\r\n        myAdapter.notifyDataSetChanged();\r\n        viewPager2.setAdapter(myAdapter);      \r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                oneFragment.clearBox();  // app crashed on this line. Null pointer after returned from Gallery or Slideshow. Why?                \r\n            }\r\n        });\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n```\r\n\r\nThe error that I got:\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.navbartest2, PID: 18771\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.example.navbartest2.adapter.BoxAdapter.notifyDataSetChanged()&#39; on a null object reference\r\n        at com.example.navbartest2.fragment.OneFragment.clearBox(OneFragment.java:82)\r\n        at com.example.navbartest2.ui.home.HomeFragment$1.onClick(HomeFragment.java:72)\r\n        at android.view.View.performClick(View.java:8160)\r\n        at android.widget.TextView.performClick(TextView.java:16222)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\r\n        at android.view.View.performClickInternal(View.java:8137)\r\n        at android.view.View.access$3700(View.java:888)\r\n        at android.view.View$PerformClick.run(View.java:30236)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:246)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8653)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n```\r\n\r\nAny help is appreciated.","title":"ArrayList of Fragment of ViewPager2 is null after I switched another fragment from NavigationView. How can I solve this problem?","body":"<p>I am making an Android project. I created a <code>RecyclerView</code> in <code>ViewPager2</code> as follows:</p>\n<ol>\n<li><p><a href=\"https://i.stack.imgur.com/0XY68.jpg\" rel=\"nofollow noreferrer\">Screenshot 1</a></p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/B9HSL.jpg\" rel=\"nofollow noreferrer\">Screenshot 2</a></p>\n</li>\n</ol>\n<p>I switched to <code>Gallery</code> or <code>Slideshow</code>. Then, I returned back to <code>Home</code> and clicked the <code>Clear Box</code> button. As soon as I clicked the button, the app crashed. The error was a <code>nullPointerException</code>.</p>\n<p>My Adapter code:</p>\n<pre><code>public class MyAdapter extends FragmentStateAdapter {\n    private ArrayList&lt;Fragment&gt; fragmentList = new ArrayList&lt;&gt;();\n\n    public MyAdapter(@NonNull FragmentActivity fragmentActivity) {\n        super(fragmentActivity);\n    }\n\n    public MyAdapter(@NonNull Fragment fragment) {\n        super(fragment);\n    }\n\n    public MyAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n        super(fragmentManager, lifecycle);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        return fragmentList.get(position);\n    }\n\n    @Override\n    public int getItemCount() {\n        return fragmentList.size();\n    }\n\n    public void addFragment(Fragment fragment) {\n        fragmentList.add(fragment);\n    }\n}\n</code></pre>\n<p>My fragment code:</p>\n<pre><code>public class OneFragment extends Fragment {\n    Button button;\n    RecyclerView recyclerView;\n    BoxAdapter adapter;\n    private List&lt;Box&gt; boxList;\n    private LinearLayout linearLayout;\n    int t;\n\n    public OneFragment(int k) {\n        t = k;\n        Log.d(&quot;QQQ&quot;, &quot;OneFragment constructor called&quot;);\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view;\n        view = inflater.inflate(R.layout.fragment_one, container, false);\n        linearLayout = view.findViewById(R.id.linearlayout);\n        button = view.findViewById(R.id.click);\n        recyclerView = view.findViewById(R.id.recyclerview);\n        boxList = new ArrayList&lt;&gt;();\n       \n        for(int i=0; i&lt;t; i++) {\n            boxList.add(new Box(i+1, Mode.NOTCHECKED));\n        }\n        adapter = new BoxAdapter(getActivity(), boxList);\n        recyclerView.setAdapter(adapter);\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getActivity(), &quot;You clicked me. T= &quot;+t, Toast.LENGTH_SHORT).show();\n            }\n        });\n        return view;\n    }\n\n    public void clearBox() {\n        boxList.clear();\n        adapter.notifyDataSetChanged();\n    }\n\n    public int getBoxSize() {\n        if(boxList == null) {\n            return -1;\n        } else {\n            return boxList.size();\n        }\n    }\n}\n</code></pre>\n<p>My home fragment code:</p>\n<pre><code>public class HomeFragment extends Fragment {\n\n    private FragmentHomeBinding binding;\n    private Button button;\n    private ViewPager2 viewPager2;\n    private MyAdapter myAdapter;\n    private OneFragment oneFragment;\n    private TwoFragment twoFragment;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        HomeViewModel homeViewModel = new ViewModelProvider(this).get(HomeViewModel.class);\n\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();   \n        button = binding.clearbox;\n        viewPager2 = binding.viewpager;\n\n        int q;\n        q = new Random().nextInt(10 - 1 + 1) + 1;\n       \n        oneFragment = new OneFragment(q);\n        twoFragment = new TwoFragment();\n\n        myAdapter = new MyAdapter(getChildFragmentManager(), getLifecycle());\n\n        myAdapter.addFragment(oneFragment);\n        myAdapter.addFragment(twoFragment);\n        myAdapter.notifyDataSetChanged();\n        viewPager2.setAdapter(myAdapter);      \n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                oneFragment.clearBox();  // app crashed on this line. Null pointer after returned from Gallery or Slideshow. Why?                \n            }\n        });\n\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n</code></pre>\n<p>The error that I got:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.navbartest2, PID: 18771\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void com.example.navbartest2.adapter.BoxAdapter.notifyDataSetChanged()' on a null object reference\n        at com.example.navbartest2.fragment.OneFragment.clearBox(OneFragment.java:82)\n        at com.example.navbartest2.ui.home.HomeFragment$1.onClick(HomeFragment.java:72)\n        at android.view.View.performClick(View.java:8160)\n        at android.widget.TextView.performClick(TextView.java:16222)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\n        at android.view.View.performClickInternal(View.java:8137)\n        at android.view.View.access$3700(View.java:888)\n        at android.view.View$PerformClick.run(View.java:30236)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:246)\n        at android.app.ActivityThread.main(ActivityThread.java:8653)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684480262,"creation_date":1684480262,"answer_id":76286796,"question_id":76286434,"body_markdown":"If your `AuthenticationRequest` builder is a simple POJO builder without any database calls or synchronized methods, etc, it will not cause any blocking.\r\n\r\nUsually, it&#39;s recommended to move such a code into the chain. In the Reactor, nothing happens until you subscribe, but if you move your code outside of a chain, it can be executed before subscribing (as part of the chain assembling phase). \r\n\r\nFor example, this code prints &quot;hello world&quot; even if there is no subscription on Reactor chain:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    getData();\r\n}\r\n\r\npublic static Mono&lt;String&gt; getData() {\r\n    var req = new MyRequest(1);\r\n    System.out.println(&quot;hello world&quot;);\r\n    return Mono.defer(() -&gt; Mono.just(req))\r\n        .map(Object::toString);\r\n}\r\n```\r\n\r\nBut this code prints nothing: \r\n```\r\npublic static void main(String[] args) {\r\n    getData();\r\n}\r\n\r\npublic static Mono&lt;String&gt; getData() {\r\n    return Mono.defer(() -&gt; {\r\n            var req = new MyRequest(1);\r\n            System.out.println(&quot;hello world&quot;);\r\n            return Mono.just(req);\r\n        })\r\n        .map(Object::toString);\r\n}\r\n```\r\n\r\nSee more details here: https://stackoverflow.com/a/76275996/6933090\r\n\r\nBut actually, in your case, nothing wrong should happen if you move it outside of `Mono.defer` (as in your example), but it&#39;s anyway better to move it into a chain like this:\r\n\r\n```java\r\nMono.fromCallable(() -&gt; AuthenticationRequest.builder()\r\n        .withAuthenticationProvider(provider)\r\n        .withRedirectUri(redirectUri)\r\n        .withSubject(subject)\r\n        .build())\r\n    .map(req -&gt; authenticationClient.authenticate(req))\r\n    .map(this::mapAuthenticateResponse)\r\n```","title":"Does building a POJO outside of the mono method cause blocking behaviour?","body":"<p>If your <code>AuthenticationRequest</code> builder is a simple POJO builder without any database calls or synchronized methods, etc, it will not cause any blocking.</p>\n<p>Usually, it's recommended to move such a code into the chain. In the Reactor, nothing happens until you subscribe, but if you move your code outside of a chain, it can be executed before subscribing (as part of the chain assembling phase).</p>\n<p>For example, this code prints &quot;hello world&quot; even if there is no subscription on Reactor chain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    getData();\n}\n\npublic static Mono&lt;String&gt; getData() {\n    var req = new MyRequest(1);\n    System.out.println(&quot;hello world&quot;);\n    return Mono.defer(() -&gt; Mono.just(req))\n        .map(Object::toString);\n}\n</code></pre>\n<p>But this code prints nothing:</p>\n<pre><code>public static void main(String[] args) {\n    getData();\n}\n\npublic static Mono&lt;String&gt; getData() {\n    return Mono.defer(() -&gt; {\n            var req = new MyRequest(1);\n            System.out.println(&quot;hello world&quot;);\n            return Mono.just(req);\n        })\n        .map(Object::toString);\n}\n</code></pre>\n<p>See more details here: <a href=\"https://stackoverflow.com/a/76275996/6933090\">https://stackoverflow.com/a/76275996/6933090</a></p>\n<p>But actually, in your case, nothing wrong should happen if you move it outside of <code>Mono.defer</code> (as in your example), but it's anyway better to move it into a chain like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.fromCallable(() -&gt; AuthenticationRequest.builder()\n        .withAuthenticationProvider(provider)\n        .withRedirectUri(redirectUri)\n        .withSubject(subject)\n        .build())\n    .map(req -&gt; authenticationClient.authenticate(req))\n    .map(this::mapAuthenticateResponse)\n</code></pre>\n"}],"owner":{"account_id":21194265,"reputation":11,"user_id":15586150,"display_name":"Joel W. Blomster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684480262,"creation_date":1684476719,"question_id":76286434,"body_markdown":"Currently I have a method which looks like this:\r\n\r\n```\r\npublic Mono&lt;Either&lt;CommunicationException, AuthenticateResponse&gt;&gt; authenticate(String provider, String subject, String redirectUri) {\r\n    final var req = AuthenticationRequest.builder().withAuthenticationProvider(provider).withRedirectUri(redirectUri).withSubject(subject).build();\r\n        return Mono.defer(() -&gt; Mono.just(authenticationClient.authenticate(req))\r\n                        .map(this::mapAuthenticateResponse)\r\n                        .map(Either::&lt;CommunicationException, AuthenticateResponse&gt;right))\r\n                .doOnError(err -&gt; LOGGER.error(&quot;Failed to authenticate&quot;, err))\r\n                .onErrorResume(e -&gt; Mono.just(new CommunicationException(e.getMessage())).map(Either::left));\r\n}\r\n```\r\nI am a bit unsure how it with reactive chains, will this be non-blocking even though the request is built outside of the Mono.defer() method? \r\n\r\n\r\nI am not sure how I would go about debugging this.","title":"Does building a POJO outside of the mono method cause blocking behaviour?","body":"<p>Currently I have a method which looks like this:</p>\n<pre><code>public Mono&lt;Either&lt;CommunicationException, AuthenticateResponse&gt;&gt; authenticate(String provider, String subject, String redirectUri) {\n    final var req = AuthenticationRequest.builder().withAuthenticationProvider(provider).withRedirectUri(redirectUri).withSubject(subject).build();\n        return Mono.defer(() -&gt; Mono.just(authenticationClient.authenticate(req))\n                        .map(this::mapAuthenticateResponse)\n                        .map(Either::&lt;CommunicationException, AuthenticateResponse&gt;right))\n                .doOnError(err -&gt; LOGGER.error(&quot;Failed to authenticate&quot;, err))\n                .onErrorResume(e -&gt; Mono.just(new CommunicationException(e.getMessage())).map(Either::left));\n}\n</code></pre>\n<p>I am a bit unsure how it with reactive chains, will this be non-blocking even though the request is built outside of the Mono.defer() method?</p>\n<p>I am not sure how I would go about debugging this.</p>\n"},{"tags":["java","dependencies","java-native-interface"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1684409365,"post_id":76279827,"comment_id":134515037,"body_markdown":"What do you mean by a dependency? Where is the code? Post a minimal reproducible example as explained in the help center page: http://stackoverflow.com/help/minimal-reproducible-example","body":"What do you mean by a dependency? Where is the code? Post a minimal reproducible example as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1684416242,"post_id":76279827,"comment_id":134516529,"body_markdown":"What command-line tools?  How are you building your `myLib.so`?  It&#39;s possible to &quot;successfully&quot; *build* a shared object and have missing symbols if you omit any dependencies, but that library will then fail to load.","body":"What command-line tools?  How are you building your <code>myLib.so</code>?  It&#39;s possible to &quot;successfully&quot; <i>build</i> a shared object and have missing symbols if you omit any dependencies, but that library will then fail to load."},{"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"score":0,"creation_date":1684422116,"post_id":76279827,"comment_id":134517935,"body_markdown":"Yes,@AndrewHenle you could be right.  Although the liner does not complain, I was beginning to suspect that I have not linked everything correctly.  Your observation that it is possible to successfully build a shared object without all the dependencies makes sense and would explain the observed failures.  Thanks.","body":"Yes,@AndrewHenle you could be right.  Although the liner does not complain, I was beginning to suspect that I have not linked everything correctly.  Your observation that it is possible to successfully build a shared object without all the dependencies makes sense and would explain the observed failures.  Thanks."},{"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"score":0,"creation_date":1684425424,"post_id":76279827,"comment_id":134518797,"body_markdown":"@aled:  I have added a minimum reproducible example.  Sorry it took a while - I started from scratch to keep things simpler.","body":"@aled:  I have added a minimum reproducible example.  Sorry it took a while - I started from scratch to keep things simpler."}],"answers":[{"tags":[],"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684480222,"creation_date":1684480222,"answer_id":76286790,"question_id":76279827,"body_markdown":"I think that I have now got it working.  I will post my script for posterity:\r\n```\r\n#!/bin/sh\r\n\r\n#  Example of building JNI app.  \r\n# Designed to run on linux using GCC and a suitable java compiler\r\n#\r\n# Uses an app &#39;HelloWorld&#39; which invokes a shared library &#39;foo&#39;.\r\n# Foo depends upon &#39;bar&#39; which is bound to foo either as\r\n# - an object (bar.o)\r\n# - a static library (bar.a)\r\n# - a dynamic library (libBar.so)\r\n#\r\n# The java app is run once with each of the three forms of the shared library (libFoo.so) \r\n\r\n# compile java and create jni header file\r\njavac HelloWorld.java\r\njavac -h . HelloWorld.java\r\n\r\n\r\n# compile bar\r\ngcc -c -Wall -Werror -fpic bar.c\r\n\r\n# link object into shared library\r\ngcc -shared -o libBar.so bar.o\r\n\r\n# link object into static library\r\nar rcs bar.a bar.o\r\n\r\n# compile foo\r\ngcc -c -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/linux&quot; -Wall -Werror -fpic foo.c\r\n\r\n# Set up the LD_LIBRARY_PATH to resolve dynamic libraries at run time\r\n# current working directory as a variable\r\ncwd=$(pwd)\r\nLD_LIBRARY_PATH=$cwd:$LD_LIBRARY_PATH\r\n# echo &quot;LD_LIBRARY_PATH: $LD_LIBRARY_PATH&quot;\r\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH\r\n\r\necho\r\necho\r\necho\r\necho &quot;************** Using Bar as object *************&quot;\r\n# link object into shared library an object library for Bar\r\ngcc -shared -o libFoo.so foo.o bar.o\r\njava -Djava.library.path=. HelloWorld\r\n\r\necho\r\necho\r\necho\r\necho &quot;************** Using Bar as static library *************&quot;\r\n# link object into shared library a static library for Bar\r\ngcc -shared -o libFoo.so foo.o -L . bar.a\r\njava -Djava.library.path=. HelloWorld\r\n\r\necho\r\necho\r\necho\r\necho &quot;************** Using Bar as dynamic library *************&quot;\r\n# link object into shared library using a dynamic library for Bar\r\ngcc -shared -o libFoo.so foo.o -L . -lBar\r\njava -Djava.library.path=. HelloWorld\r\n```","title":"My JNI app cannot resolve dependencies of my shared app","body":"<p>I think that I have now got it working.  I will post my script for posterity:</p>\n<pre><code>#!/bin/sh\n\n#  Example of building JNI app.  \n# Designed to run on linux using GCC and a suitable java compiler\n#\n# Uses an app 'HelloWorld' which invokes a shared library 'foo'.\n# Foo depends upon 'bar' which is bound to foo either as\n# - an object (bar.o)\n# - a static library (bar.a)\n# - a dynamic library (libBar.so)\n#\n# The java app is run once with each of the three forms of the shared library (libFoo.so) \n\n# compile java and create jni header file\njavac HelloWorld.java\njavac -h . HelloWorld.java\n\n\n# compile bar\ngcc -c -Wall -Werror -fpic bar.c\n\n# link object into shared library\ngcc -shared -o libBar.so bar.o\n\n# link object into static library\nar rcs bar.a bar.o\n\n# compile foo\ngcc -c -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/linux&quot; -Wall -Werror -fpic foo.c\n\n# Set up the LD_LIBRARY_PATH to resolve dynamic libraries at run time\n# current working directory as a variable\ncwd=$(pwd)\nLD_LIBRARY_PATH=$cwd:$LD_LIBRARY_PATH\n# echo &quot;LD_LIBRARY_PATH: $LD_LIBRARY_PATH&quot;\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH\n\necho\necho\necho\necho &quot;************** Using Bar as object *************&quot;\n# link object into shared library an object library for Bar\ngcc -shared -o libFoo.so foo.o bar.o\njava -Djava.library.path=. HelloWorld\n\necho\necho\necho\necho &quot;************** Using Bar as static library *************&quot;\n# link object into shared library a static library for Bar\ngcc -shared -o libFoo.so foo.o -L . bar.a\njava -Djava.library.path=. HelloWorld\n\necho\necho\necho\necho &quot;************** Using Bar as dynamic library *************&quot;\n# link object into shared library using a dynamic library for Bar\ngcc -shared -o libFoo.so foo.o -L . -lBar\njava -Djava.library.path=. HelloWorld\n</code></pre>\n"}],"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76286790,"answer_count":1,"score":0,"last_activity_date":1684480222,"creation_date":1684405209,"question_id":76279827,"body_markdown":"I want to use 3rd party shared libs from my Java app via JNI.\r\n\r\n(I am running on Manjaro Linux, using command line tools at the moment)\r\n\r\nI can build and run this all fine if I do not create a dependency in myLib.so on the 3rd party libraries.  \r\nAs soon as I create a dependency from myLib.so to 3rd party lib the Java invocation fails with\r\n```\r\njava: symbol lookup error: myLib.so: undefined symbol: acOpenSystem\r\n```\r\n\r\nI have tried setting the library path to the locations of the libraries, but this still fails.\r\n\r\n```\r\njava -Djava.library.path=.:$ARENA_LIBS:$ARENALIBS2 MyClass\r\n```\r\n\r\nI am sure that there is something simple that I am missing, but I cannot seem to divine the answer from the web.  Please help.  Even a link to a blindingly obvious resource that I failed to find would be welcome ;-)\r\n\r\nThanks\r\n\r\nEdit: Here is the source.  HelloWorld -&gt; Foo -&gt; Bar\r\nBar.c\r\n```\r\n#include &lt;stdio.h&gt;\r\n \r\nvoid bar(void)\r\n{\r\n    puts(&quot;\\nHello, I am a shared library called BAR&quot;);\r\n}\r\n```\r\n\r\nbar.h\r\n```\r\n#ifndef bar_h__\r\n#define bar_h__\r\n \r\nextern void bar(void);\r\n \r\n#endif  // bar_h_\r\n```\r\n\r\nfoo.c:\r\n```\r\n#include &lt;jni.h&gt;\r\n#include &lt;stdio.h&gt;\r\n#include &quot;bar.h&quot;\r\n#include &quot;HelloWorld.h&quot;\r\n \r\n// https://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html\r\n \r\nvoid foo(void)\r\n{\r\n    puts(&quot;\\nHello, I am a shared library&quot;);\r\n    bar();\r\n}\r\n\r\nJNIEXPORT void JNICALL Java_HelloWorld_foo\r\n  (JNIEnv *, jobject) {\r\n    foo();\r\n }\r\n```\r\n\r\nfoo.h:\r\n```\r\n#ifndef foo_h__\r\n#define foo_h__\r\n \r\nextern void foo(void);\r\n \r\n#endif  // foo_h_\r\n```\r\n\r\nHelloWorld.h:\r\n```\r\n/* DO NOT EDIT THIS FILE - it is machine generated */\r\n#include &lt;jni.h&gt;\r\n/* Header for class HelloWorld */\r\n\r\n#ifndef _Included_HelloWorld\r\n#define _Included_HelloWorld\r\n#ifdef __cplusplus\r\nextern &quot;C&quot; {\r\n#endif\r\n/*\r\n * Class:     HelloWorld\r\n * Method:    foo\r\n * Signature: ()V\r\n */\r\nJNIEXPORT void JNICALL Java_HelloWorld_foo\r\n  (JNIEnv *, jobject);\r\n\r\n#ifdef __cplusplus\r\n}\r\n#endif\r\n#endif\r\n```\r\n\r\nHelloWorld.java:\r\n```\r\n\r\nimport java.io.File;\r\n\r\nclass HelloWorld {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            File file = new File(&quot;libFoo.so&quot;);\r\n            String path = file.getAbsoluteFile().toPath().toString();\r\n            System.out.println(&quot;path = &quot;+ path);\r\n            System.load(path);\r\n            System.out.println(&quot;Hello from java app&quot;); // Display the string.\r\n            new HelloWorld().foo();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    private native void foo();\r\n}\r\n```\r\n\r\nAnd my script file:\r\n```\r\n#!/bin/sh\r\n\r\nSCRIPT_DIR=$( cd -- &quot;$( dirname -- &quot;${BASH_SOURCE[0]}&quot; )&quot; &amp;&gt; /dev/null &amp;&amp; pwd )\r\n\r\n# https://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html\r\n# compile foo\r\ngcc -c -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/linux&quot; -Wall -Werror -fpic foo.c\r\n# link object into shared library\r\ngcc -shared -o libFoo.so foo.o\r\n\r\n# compile bar\r\ngcc -c -Wall -Werror -fpic bar.c\r\n# link object into shared library\r\ngcc -shared -o libBar.so bar.o\r\n\r\n\r\nLD_LIBRARY_PATH=::$LD_LIBRARY_PATH\r\nexport LD_LIBRARY_PATH\r\ngcc -L$SCRIPT_DIR -o test hello-world.c -lFoo -lBar\r\n\r\n./test\r\n\r\n\r\nLD_LIBRARY_PATH=$SCRIPT_DIR:$LD_LIBRARY_PATH\r\necho &quot;LD_LIBRARY_PATH: $LD_LIBRARY_PATH&quot;\r\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH\r\n\r\njavac HelloWorld.java\r\njavac -h . HelloWorld.java\r\njava -Djava.library.path=. HelloWorld\r\n\r\n```\r\n\r\nAnd for completeness, the source for the c executable that proves that the problem is not in the c code:\r\n```\r\n#include &lt;stdio.h&gt;      // C Standard IO Header\r\n#include &quot;foo.h&quot;\r\n\r\nint main(int argc, char *argv[]) {\r\n    printf(&quot;Hello from executable&quot;);\r\n    foo();\r\n}\r\n```\r\n\r\nThe executable in c runs fine, but the java application gives an error:\r\n```\r\nHello from java app\r\n\r\nHello, I am a shared library\r\njava: symbol lookup error: /mnt/data/singer/c/experiment/libFoo.so: undefined symbol: bar\r\n```\r\n\r\n```\r\njava -version\r\nopenjdk version &quot;17.0.5&quot; 2022-10-18\r\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)\r\n\r\ngcc --version\r\ngcc (GCC) 12.2.1 20230201\r\n\r\n```\r\n\r\nRunning on Manjaro 22.1","title":"My JNI app cannot resolve dependencies of my shared app","body":"<p>I want to use 3rd party shared libs from my Java app via JNI.</p>\n<p>(I am running on Manjaro Linux, using command line tools at the moment)</p>\n<p>I can build and run this all fine if I do not create a dependency in myLib.so on the 3rd party libraries.<br />\nAs soon as I create a dependency from myLib.so to 3rd party lib the Java invocation fails with</p>\n<pre><code>java: symbol lookup error: myLib.so: undefined symbol: acOpenSystem\n</code></pre>\n<p>I have tried setting the library path to the locations of the libraries, but this still fails.</p>\n<pre><code>java -Djava.library.path=.:$ARENA_LIBS:$ARENALIBS2 MyClass\n</code></pre>\n<p>I am sure that there is something simple that I am missing, but I cannot seem to divine the answer from the web.  Please help.  Even a link to a blindingly obvious resource that I failed to find would be welcome ;-)</p>\n<p>Thanks</p>\n<p>Edit: Here is the source.  HelloWorld -&gt; Foo -&gt; Bar\nBar.c</p>\n<pre><code>#include &lt;stdio.h&gt;\n \nvoid bar(void)\n{\n    puts(&quot;\\nHello, I am a shared library called BAR&quot;);\n}\n</code></pre>\n<p>bar.h</p>\n<pre><code>#ifndef bar_h__\n#define bar_h__\n \nextern void bar(void);\n \n#endif  // bar_h_\n</code></pre>\n<p>foo.c:</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;stdio.h&gt;\n#include &quot;bar.h&quot;\n#include &quot;HelloWorld.h&quot;\n \n// https://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html\n \nvoid foo(void)\n{\n    puts(&quot;\\nHello, I am a shared library&quot;);\n    bar();\n}\n\nJNIEXPORT void JNICALL Java_HelloWorld_foo\n  (JNIEnv *, jobject) {\n    foo();\n }\n</code></pre>\n<p>foo.h:</p>\n<pre><code>#ifndef foo_h__\n#define foo_h__\n \nextern void foo(void);\n \n#endif  // foo_h_\n</code></pre>\n<p>HelloWorld.h:</p>\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class HelloWorld */\n\n#ifndef _Included_HelloWorld\n#define _Included_HelloWorld\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n/*\n * Class:     HelloWorld\n * Method:    foo\n * Signature: ()V\n */\nJNIEXPORT void JNICALL Java_HelloWorld_foo\n  (JNIEnv *, jobject);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n<p>HelloWorld.java:</p>\n<pre><code>\nimport java.io.File;\n\nclass HelloWorld {\n\n    public static void main(String[] args) {\n        try {\n            File file = new File(&quot;libFoo.so&quot;);\n            String path = file.getAbsoluteFile().toPath().toString();\n            System.out.println(&quot;path = &quot;+ path);\n            System.load(path);\n            System.out.println(&quot;Hello from java app&quot;); // Display the string.\n            new HelloWorld().foo();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    private native void foo();\n}\n</code></pre>\n<p>And my script file:</p>\n<pre><code>#!/bin/sh\n\nSCRIPT_DIR=$( cd -- &quot;$( dirname -- &quot;${BASH_SOURCE[0]}&quot; )&quot; &amp;&gt; /dev/null &amp;&amp; pwd )\n\n# https://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html\n# compile foo\ngcc -c -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/linux&quot; -Wall -Werror -fpic foo.c\n# link object into shared library\ngcc -shared -o libFoo.so foo.o\n\n# compile bar\ngcc -c -Wall -Werror -fpic bar.c\n# link object into shared library\ngcc -shared -o libBar.so bar.o\n\n\nLD_LIBRARY_PATH=::$LD_LIBRARY_PATH\nexport LD_LIBRARY_PATH\ngcc -L$SCRIPT_DIR -o test hello-world.c -lFoo -lBar\n\n./test\n\n\nLD_LIBRARY_PATH=$SCRIPT_DIR:$LD_LIBRARY_PATH\necho &quot;LD_LIBRARY_PATH: $LD_LIBRARY_PATH&quot;\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH\n\njavac HelloWorld.java\njavac -h . HelloWorld.java\njava -Djava.library.path=. HelloWorld\n\n</code></pre>\n<p>And for completeness, the source for the c executable that proves that the problem is not in the c code:</p>\n<pre><code>#include &lt;stdio.h&gt;      // C Standard IO Header\n#include &quot;foo.h&quot;\n\nint main(int argc, char *argv[]) {\n    printf(&quot;Hello from executable&quot;);\n    foo();\n}\n</code></pre>\n<p>The executable in c runs fine, but the java application gives an error:</p>\n<pre><code>Hello from java app\n\nHello, I am a shared library\njava: symbol lookup error: /mnt/data/singer/c/experiment/libFoo.so: undefined symbol: bar\n</code></pre>\n<pre><code>java -version\nopenjdk version &quot;17.0.5&quot; 2022-10-18\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)\n\ngcc --version\ngcc (GCC) 12.2.1 20230201\n\n</code></pre>\n<p>Running on Manjaro 22.1</p>\n"},{"tags":["java","junit4"],"comments":[{"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"score":1,"creation_date":1330667202,"post_id":9528581,"comment_id":12071291,"body_markdown":"Can you show the source code of this class?","body":"Can you show the source code of this class?"},{"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"score":1,"creation_date":1330667538,"post_id":9528581,"comment_id":12071353,"body_markdown":"A test case would be one of the methods in a test class. Having your tests depend of a certain execution order is not a good practice, as elaborated here: http://stackoverflow.com/q/3693626/422353","body":"A test case would be one of the methods in a test class. Having your tests depend of a certain execution order is not a good practice, as elaborated here: <a href=\"http://stackoverflow.com/q/3693626/422353\">stackoverflow.com/q/3693626/422353</a>"},{"owner":{"account_id":198615,"reputation":3049,"user_id":443380,"accept_rate":62,"display_name":"crazyaboutliv"},"score":0,"creation_date":1330673472,"post_id":9528581,"comment_id":12072597,"body_markdown":"Yes, I had read that and realize that unit tests , in the ideal world, should not be executed in some specific order. Sadly, thats how things work here  . A cab cannot be deleted before being created and penalized. So order becomes important.","body":"Yes, I had read that and realize that unit tests , in the ideal world, should not be executed in some specific order. Sadly, thats how things work here  . A cab cannot be deleted before being created and penalized. So order becomes important."},{"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"score":0,"creation_date":1330678879,"post_id":9528581,"comment_id":12073781,"body_markdown":"how is testUpdate() going to work if testCreate() fails?","body":"how is testUpdate() going to work if testCreate() fails?"},{"owner":{"account_id":198615,"reputation":3049,"user_id":443380,"accept_rate":62,"display_name":"crazyaboutliv"},"score":0,"creation_date":1330681085,"post_id":9528581,"comment_id":12074391,"body_markdown":"It does not.  Hence the order is important","body":"It does not.  Hence the order is important"}],"answers":[{"comments":[{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":0,"creation_date":1684457847,"post_id":9529014,"comment_id":134524154,"body_markdown":"&quot;Each test runs in its own test fixture to isolate tests from the changes made by other tests&quot; - are they unit tests?, integration, GUI, system integration tests? Do not copy paste document and provide the answer.","body":"&quot;Each test runs in its own test fixture to isolate tests from the changes made by other tests&quot; - are they unit tests?, integration, GUI, system integration tests? Do not copy paste document and provide the answer."},{"owner":{"account_id":915369,"reputation":8469,"user_id":948268,"accept_rate":71,"display_name":"Kuldeep Jain"},"score":0,"creation_date":1684479893,"post_id":9529014,"comment_id":134526277,"body_markdown":"@RamPrakash The question and this answer both refers to `junit tests` which is a unit testing framework hence answer to your first question is &quot;they are unit tests&quot;. Secondly, I have been using (asking/answering questions) SO for quite some time now and I don&#39;t think it&#39;s recommended anywhere to not provide official documentation or relevant link/snippet. I understand it could be a personal choice to not like an answer with such things, so I respect that but IMHO this answer is inline with SO policy and is also upvoted by 18 people so far, so I am assuming it helped them.","body":"@RamPrakash The question and this answer both refers to <code>junit tests</code> which is a unit testing framework hence answer to your first question is &quot;they are unit tests&quot;. Secondly, I have been using (asking/answering questions) SO for quite some time now and I don&#39;t think it&#39;s recommended anywhere to not provide official documentation or relevant link/snippet. I understand it could be a personal choice to not like an answer with such things, so I respect that but IMHO this answer is inline with SO policy and is also upvoted by 18 people so far, so I am assuming it helped them."}],"tags":[],"owner":{"account_id":915369,"reputation":8469,"user_id":948268,"accept_rate":71,"display_name":"Kuldeep Jain"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1684479987,"creation_date":1330669699,"answer_id":9529014,"question_id":9528581,"body_markdown":"Generally junit tests(test methods) should not depend on each other. \r\nFollowing is taken from [junit FAQ][1]\r\n\r\n&gt; Each test runs in its own test fixture to isolate tests from the\r\n&gt; changes made by other tests. That is, tests don&#39;t share the state of\r\n&gt; objects in the test fixture. Because the tests are isolated, they can\r\n&gt; be run in any order...... The ordering of test-method invocations is not\r\n&gt; guaranteed.\r\n\r\nSo if you want to do some common initialization stuff then you could do that in the method annotated with `@Before` and cleanup in method annotated with `@After`. Or else if that initialization is not required for all tests methods in your test class then you could put that in private methods and call them appropriately from your tests.\r\n\r\nOn a side note, if you still want to do ordering of tests then you may have a look at `TestNG`.\r\n\r\n  [1]: https://junit.org/junit4/faq.html#atests_2","title":"Specifying order of execution in JUnit test case","body":"<p>Generally junit tests(test methods) should not depend on each other.\nFollowing is taken from <a href=\"https://junit.org/junit4/faq.html#atests_2\" rel=\"nofollow noreferrer\">junit FAQ</a></p>\n<blockquote>\n<p>Each test runs in its own test fixture to isolate tests from the\nchanges made by other tests. That is, tests don't share the state of\nobjects in the test fixture. Because the tests are isolated, they can\nbe run in any order...... The ordering of test-method invocations is not\nguaranteed.</p>\n</blockquote>\n<p>So if you want to do some common initialization stuff then you could do that in the method annotated with <code>@Before</code> and cleanup in method annotated with <code>@After</code>. Or else if that initialization is not required for all tests methods in your test class then you could put that in private methods and call them appropriately from your tests.</p>\n<p>On a side note, if you still want to do ordering of tests then you may have a look at <code>TestNG</code>.</p>\n"},{"comments":[{"owner":{"account_id":198615,"reputation":3049,"user_id":443380,"accept_rate":62,"display_name":"crazyaboutliv"},"score":0,"creation_date":1330681135,"post_id":9530377,"comment_id":12074406,"body_markdown":"I can use your 2nd suggestion and write all of them in one test, but, like you said, hard to maintain. Also most of my tests are written this way ( 1 then 2 then 3 ) and only this one is giving issues ! ( And yes, I use a clean DB each time . No such issue )","body":"I can use your 2nd suggestion and write all of them in one test, but, like you said, hard to maintain. Also most of my tests are written this way ( 1 then 2 then 3 ) and only this one is giving issues ! ( And yes, I use a clean DB each time . No such issue )"},{"owner":{"account_id":915369,"reputation":8469,"user_id":948268,"accept_rate":71,"display_name":"Kuldeep Jain"},"score":0,"creation_date":1330831987,"post_id":9530377,"comment_id":12106350,"body_markdown":"@crazyaboutliv: I would say don&#39;t rely on tests being executed in order the way you are doing. As the junit doc itself says that test method execution order is not guaranteed. Moreover I have seen cases where junit tests pass when run from IDE but fail when run as part of build. And nobody would want to get into situations like this.","body":"@crazyaboutliv: I would say don&#39;t rely on tests being executed in order the way you are doing. As the junit doc itself says that test method execution order is not guaranteed. Moreover I have seen cases where junit tests pass when run from IDE but fail when run as part of build. And nobody would want to get into situations like this."},{"owner":{"account_id":4558421,"reputation":2296,"user_id":3701433,"accept_rate":46,"display_name":"Prudhvi"},"score":0,"creation_date":1437770001,"post_id":9530377,"comment_id":51187964,"body_markdown":"@DNA  Your answer is good for a single table where the insertion of values before CRUD could be added to setUp( ), but what if I have more than 1 table to test? I cannot have common tasks for all the tables that could go in to setUp( ) and tearDown( ).","body":"@DNA  Your answer is good for a single table where the insertion of values before CRUD could be added to setUp( ), but what if I have more than 1 table to test? I cannot have common tasks for all the tables that could go in to setUp( ) and tearDown( )."},{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":0,"creation_date":1437771246,"post_id":9530377,"comment_id":51188552,"body_markdown":"@prudhvi Difficult to answer without a specific example, but it is sometimes useful to create an abstract superclass, common to multiple tests, to reduce duplicated code.","body":"@prudhvi Difficult to answer without a specific example, but it is sometimes useful to create an abstract superclass, common to multiple tests, to reduce duplicated code."}],"tags":[],"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1330687646,"creation_date":1330678230,"answer_id":9530377,"question_id":9528581,"body_markdown":"Your kind of situation _is_ awkward, as it feels bad to keep duplicating work in order to isolate the tests (see below) - but note that most of the duplication can be pulled out into `setUp` and `tearDown` (`@Before`, `@After`) methods, so you don&#39;t need much extra code. Provided that the tests are not running so slowly that you stop running them often, it&#39;s better to waste a bit of CPU in the name of clean testing.\r\n\r\n    public void testAdd() throws Exception {\r\n          // wipe database\r\n          // add something\r\n          // assert that it was added\r\n    }\r\n    public void testUpdate() throws Exception {\r\n          // wipe database\r\n          // add something\r\n          // update it\r\n          // assert that it was updated\r\n    }\r\n    public void testDelete() throws Exception {\r\n          // wipe database\r\n          // add something\r\n          // delete it\r\n          // assert that it was deleted\r\n    }\r\n\r\nThe alternative is to stick everything into one test with multiple asserts, but this is harder to understand and maintain, and gives a bit less information when a test fails:\r\n\r\n    public void testCRUD() throws Exception {\r\n          // wipe database\r\n          // add something\r\n          // assert that it was added\r\n          // update it\r\n          // assert that it was updated\r\n          // delete it \r\n          // assert that it was deleted\r\n    }\r\n\r\nTesting with databases or collections or storage of any kind is tricky because one test can always affect other tests by leaving junk behind in the database/collection.  Even if your tests don&#39;t explicitly rely on one another, they may still interfere with one another, especially if one of them fails.\r\n\r\nWhere possible, use a fresh instance for each test, or wipe the data, ideally in as simple a way as possible - e.g. for a database, wiping an entire table is more likely to succeed than a very specific deletion that you might accidentally get wrong. \r\n\r\n**Update**: It&#39;s usually better to wipe data at the start of the test, so one failed test run doesn&#39;t affect the next run. ","title":"Specifying order of execution in JUnit test case","body":"<p>Your kind of situation <em>is</em> awkward, as it feels bad to keep duplicating work in order to isolate the tests (see below) - but note that most of the duplication can be pulled out into <code>setUp</code> and <code>tearDown</code> (<code>@Before</code>, <code>@After</code>) methods, so you don't need much extra code. Provided that the tests are not running so slowly that you stop running them often, it's better to waste a bit of CPU in the name of clean testing.</p>\n\n<pre><code>public void testAdd() throws Exception {\n      // wipe database\n      // add something\n      // assert that it was added\n}\npublic void testUpdate() throws Exception {\n      // wipe database\n      // add something\n      // update it\n      // assert that it was updated\n}\npublic void testDelete() throws Exception {\n      // wipe database\n      // add something\n      // delete it\n      // assert that it was deleted\n}\n</code></pre>\n\n<p>The alternative is to stick everything into one test with multiple asserts, but this is harder to understand and maintain, and gives a bit less information when a test fails:</p>\n\n<pre><code>public void testCRUD() throws Exception {\n      // wipe database\n      // add something\n      // assert that it was added\n      // update it\n      // assert that it was updated\n      // delete it \n      // assert that it was deleted\n}\n</code></pre>\n\n<p>Testing with databases or collections or storage of any kind is tricky because one test can always affect other tests by leaving junk behind in the database/collection.  Even if your tests don't explicitly rely on one another, they may still interfere with one another, especially if one of them fails.</p>\n\n<p>Where possible, use a fresh instance for each test, or wipe the data, ideally in as simple a way as possible - e.g. for a database, wiping an entire table is more likely to succeed than a very specific deletion that you might accidentally get wrong. </p>\n\n<p><strong>Update</strong>: It's usually better to wipe data at the start of the test, so one failed test run doesn't affect the next run. </p>\n"},{"tags":[],"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330679365,"creation_date":1330679365,"answer_id":9530600,"question_id":9528581,"body_markdown":"What you can do : \r\n\r\n - Cleanup the database before every test\r\n - Start by testing the first logical operation first. When you have enough confidence, assume it is correct and move to the next, etc...\r\n - Write white box tests first, but start with black box tests. For example if you have triggers or similar in your database, start with that.","title":"Specifying order of execution in JUnit test case","body":"<p>What you can do : </p>\n\n<ul>\n<li>Cleanup the database before every test</li>\n<li>Start by testing the first logical operation first. When you have enough confidence, assume it is correct and move to the next, etc...</li>\n<li>Write white box tests first, but start with black box tests. For example if you have triggers or similar in your database, start with that.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"score":0,"creation_date":1364862911,"post_id":13265376,"comment_id":22389250,"body_markdown":"Or you can just define a Test Suite..  which is a lot simpler &amp; easier.","body":"Or you can just define a Test Suite..  which is a lot simpler &amp; easier."},{"owner":{"account_id":1175701,"reputation":1059,"user_id":1151800,"display_name":"kornero"},"score":0,"creation_date":1369216035,"post_id":13265376,"comment_id":24016586,"body_markdown":"@ThomasW it is not easier when you already have 5000+ tests...","body":"@ThomasW it is not easier when you already have 5000+ tests..."}],"tags":[],"owner":{"account_id":1175701,"reputation":1059,"user_id":1151800,"display_name":"kornero"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1352274832,"creation_date":1352274832,"answer_id":13265376,"question_id":9528581,"body_markdown":"If you want to run junit tests in order &quot;just as they present in your source code&quot;, \r\nsee my note about this here:\r\n\r\n[How to run junit tests in order as they present in your source code][1]\r\n\r\nBut it is really not a good idea, tests must be independent.\r\n\r\n\r\n  [1]: http://intellijava.blogspot.com/2012/05/junit-and-java-7.html","title":"Specifying order of execution in JUnit test case","body":"<p>If you want to run junit tests in order \"just as they present in your source code\", \nsee my note about this here:</p>\n\n<p><a href=\"http://intellijava.blogspot.com/2012/05/junit-and-java-7.html\" rel=\"nofollow\">How to run junit tests in order as they present in your source code</a></p>\n\n<p>But it is really not a good idea, tests must be independent.</p>\n"},{"tags":[],"owner":{"account_id":1405991,"reputation":51,"user_id":1333694,"display_name":"mudd"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1365101688,"creation_date":1365101688,"answer_id":15819421,"question_id":9528581,"body_markdown":"In general, JUnit does not guarantee the ordering of test cases. It&#39;s not guaranteed to be alphabetical, nor the order in the file. If the ordering of tests were important, then one depends on the output of the previous. What if the first one failed? Should we even bother with the later (and dependent) tests? Probably not.\r\n\r\n\r\nSo if we had this:\r\n\r\n    @Test\r\n    public void first(){...}\r\n    \r\n    @Test\r\n    public void second() {...}\r\n    \r\n    @Test\r\n    public void third() {...}\r\n\r\nWe don&#39;t know what order they will run in. Since we are hoping they go in order, and we should probably not bother running second or third if the previous one(s) failed, we can do this instead:\r\n\r\n    @Test\r\n    public void firstThree(){\r\n        first();\r\n        second();\r\n        third();\r\n    }\r\n    \r\n    public void first(){...}\r\n    public void second() {...}\r\n    public void third() {...}\r\n\r\nNotice that we only have one @Test this time, and it guarantees ordering.\r\n","title":"Specifying order of execution in JUnit test case","body":"<p>In general, JUnit does not guarantee the ordering of test cases. It's not guaranteed to be alphabetical, nor the order in the file. If the ordering of tests were important, then one depends on the output of the previous. What if the first one failed? Should we even bother with the later (and dependent) tests? Probably not.</p>\n\n<p>So if we had this:</p>\n\n<pre><code>@Test\npublic void first(){...}\n\n@Test\npublic void second() {...}\n\n@Test\npublic void third() {...}\n</code></pre>\n\n<p>We don't know what order they will run in. Since we are hoping they go in order, and we should probably not bother running second or third if the previous one(s) failed, we can do this instead:</p>\n\n<pre><code>@Test\npublic void firstThree(){\n    first();\n    second();\n    third();\n}\n\npublic void first(){...}\npublic void second() {...}\npublic void third() {...}\n</code></pre>\n\n<p>Notice that we only have one @Test this time, and it guarantees ordering.</p>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1365159974,"creation_date":1365159974,"answer_id":15832294,"question_id":9528581,"body_markdown":"If you&#39;re determined you would want to have order of execution for your tests, JUnit 4.11 now supports this through an annotation. See [this thread](https://stackoverflow.com/questions/13723125/create-my-own-methodsorter-for-junits-fixmethodorder) for more discussion - basically, you would use\r\n\r\n    @FixMethodOrder\r\n\r\nto guarantee some test order that way. It is discouraged though.","title":"Specifying order of execution in JUnit test case","body":"<p>If you're determined you would want to have order of execution for your tests, JUnit 4.11 now supports this through an annotation. See <a href=\"https://stackoverflow.com/questions/13723125/create-my-own-methodsorter-for-junits-fixmethodorder\">this thread</a> for more discussion - basically, you would use</p>\n\n<pre><code>@FixMethodOrder\n</code></pre>\n\n<p>to guarantee some test order that way. It is discouraged though.</p>\n"},{"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1477739076,"post_id":17663772,"comment_id":67893034,"body_markdown":"Note: blog you&#39;re referencing was written by someone who [already provided an answer before you did](http://stackoverflow.com/a/13265376/365237)","body":"Note: blog you&#39;re referencing was written by someone who <a href=\"http://stackoverflow.com/a/13265376/365237\">already provided an answer before you did</a>"},{"owner":{"account_id":1641190,"reputation":2546,"user_id":1513568,"display_name":"Joshua Wilson"},"score":0,"creation_date":1478033589,"post_id":17663772,"comment_id":67990323,"body_markdown":"So it is, thanks for pointing that out. If I recall correctly, I already read the blog and figured it out for some unit tests I was working on. When I saw this question, I thought others might want to know too. I guess I should have read all the answers more carefully. I meant no offense. If @kornero wants, I&#39;ll delete the post.","body":"So it is, thanks for pointing that out. If I recall correctly, I already read the blog and figured it out for some unit tests I was working on. When I saw this question, I thought others might want to know too. I guess I should have read all the answers more carefully. I meant no offense. If @kornero wants, I&#39;ll delete the post."}],"tags":[],"owner":{"account_id":1641190,"reputation":2546,"user_id":1513568,"display_name":"Joshua Wilson"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1373921750,"creation_date":1373921750,"answer_id":17663772,"question_id":9528581,"body_markdown":"If you are using **Java 7** then you should know that Junit gets the list of all tests using &quot;Method[] getDeclaredMethods()&quot; from java.lang.Class.  You can read from the javadoc of this method or from junit docs that: &quot;**The elements in the array returned are not sorted and are not in any particular order.**&quot;, but in previous jvm implementation methods list was ordered as they were in source code.\r\n\r\nThis was taken from this [blog][1] and he provides a work around.\r\n\r\n\r\n  [1]: http://intellijava.blogspot.com/2012/05/junit-and-java-7.html","title":"Specifying order of execution in JUnit test case","body":"<p>If you are using <strong>Java 7</strong> then you should know that Junit gets the list of all tests using \"Method[] getDeclaredMethods()\" from java.lang.Class.  You can read from the javadoc of this method or from junit docs that: \"<strong>The elements in the array returned are not sorted and are not in any particular order.</strong>\", but in previous jvm implementation methods list was ordered as they were in source code.</p>\n\n<p>This was taken from this <a href=\"http://intellijava.blogspot.com/2012/05/junit-and-java-7.html\">blog</a> and he provides a work around.</p>\n"}],"owner":{"account_id":198615,"reputation":3049,"user_id":443380,"accept_rate":62,"display_name":"crazyaboutliv"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66387,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"closed_date":1381923110,"accepted_answer_id":9530377,"answer_count":7,"score":21,"last_activity_date":1684479987,"creation_date":1330666931,"question_id":9528581,"body_markdown":"I have a test case where I add an entity, update it and delete the same.  Hence, the order of execution is important here. I want it to be :\r\n\r\n 1. Create\r\n 2. Update\r\n 3. Delete \r\n\r\nStrangely, for just one test case ( out of 15) , JUnit executes it in the following order :\r\n\r\n 3. Delete\r\n 2. Update\r\n 1. Create  . \r\n\r\nHow do I tell JUnit  to execute them in a specific order ? In other cases, JUnit works totally fine ( executing serially ) . And why does JUnit behave weirdly in this one case ? \r\n\r\nRelevant code snippet below : \r\n\t\r\n        private static Date date;\r\n        private static int entity;\r\n        static Parking p;\r\n        public ParkingTests(String name) {\r\n\t       super(name);\r\n        }\r\n        public void testAdd() throws Exception {\r\n               //Add code here\r\n        }\r\n        public void testUpdate() throws Exception {\r\n                //update code here\r\n        }\r\n        public void testDelete() throws Exception {\r\n                //delete code here\r\n        }\r\n      }\r\n\r\nIt gets weirder. I run a lot of test cases as part of a suite.  If I run just the Parking case, the order is maintained. If I run it along with others, it is sometimes maintained, sometimes not !  ","title":"Specifying order of execution in JUnit test case","body":"<p>I have a test case where I add an entity, update it and delete the same.  Hence, the order of execution is important here. I want it to be :</p>\n\n<ol>\n<li>Create</li>\n<li>Update</li>\n<li>Delete </li>\n</ol>\n\n<p>Strangely, for just one test case ( out of 15) , JUnit executes it in the following order :</p>\n\n<ol>\n<li>Delete</li>\n<li>Update</li>\n<li>Create  . </li>\n</ol>\n\n<p>How do I tell JUnit  to execute them in a specific order ? In other cases, JUnit works totally fine ( executing serially ) . And why does JUnit behave weirdly in this one case ? </p>\n\n<p>Relevant code snippet below : </p>\n\n<pre><code>    private static Date date;\n    private static int entity;\n    static Parking p;\n    public ParkingTests(String name) {\n       super(name);\n    }\n    public void testAdd() throws Exception {\n           //Add code here\n    }\n    public void testUpdate() throws Exception {\n            //update code here\n    }\n    public void testDelete() throws Exception {\n            //delete code here\n    }\n  }\n</code></pre>\n\n<p>It gets weirder. I run a lot of test cases as part of a suite.  If I run just the Parking case, the order is maintained. If I run it along with others, it is sometimes maintained, sometimes not !  </p>\n"},{"tags":["java","eclipse","maven","tycho"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1684475401,"post_id":76285057,"comment_id":134525594,"body_markdown":"It isn&#39;t possible to debug this from just a log. What is `toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator`? What does &quot;kind of taken&quot; mean.","body":"It isn&#39;t possible to debug this from just a log. What is <code>toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigura&zwnj;&#8203;tor</code>? What does &quot;kind of taken&quot; mean."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1684477807,"post_id":76285057,"comment_id":134525932,"body_markdown":"[Vogella&#39;s Tycho example](https://github.com/vogellacompany/tycho-example) works for me. One cannot say what you did wrong if you do not tell what you did differently.","body":"<a href=\"https://github.com/vogellacompany/tycho-example\" rel=\"nofollow noreferrer\">Vogella&#39;s Tycho example</a> works for me. One cannot say what you did wrong if you do not tell what you did differently."}],"owner":{"account_id":24736058,"reputation":1,"user_id":18623409,"display_name":"tim.z.hood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684479497,"creation_date":1684451900,"question_id":76285057,"body_markdown":"I&#39;m trying and failing to build an Eclipse RCP application with Tycho.\r\n\r\nThe application is kind of taken from Vogella&#39;s tutorial.\r\n\r\nI run &quot;mvn clean verify&quot; and the error I&#39;m getting is :-\r\n```\r\n    [INFO] --- tycho-p2-repository:2.7.5:assemble-repository (default-assemble-repository) @ com.jim.mp.build.product ---\r\n    [WARNING] Parameter &#39;qualifier&#39; (user property &#39;buildQualifier&#39;) is read-only, must not be used in configuration\r\n    [INFO]\r\n    [INFO] --- tycho-p2-repository:2.7.5:archive-repository (default-archive-repository) @ com.jim.mp.build.product ---\r\n    [WARNING] Parameter &#39;qualifier&#39; (user property &#39;buildQualifier&#39;) is read-only, must not be used in configuration\r\n    [INFO] Building zip: C:\\My_Devs\\Eclipse-Headless-Tycho-Vogella\\com.jim.mp.build\\releng\\com.jim.mp.build.product\\target\\com.jim.mp.build.product-1.0.0-SNAPSHOT.zip\r\n    [INFO]\r\n    [INFO] --- tycho-p2-director:2.7.5:materialize-products (materialize-products) @ com.jim.mp.build.product ---\r\n    [INFO] Installing product com.vogella.tasks.product.product for environment win32/win32/x86_64 to C:\\My_Devs\\Eclipse-Headless-Tycho-Vogella\\com.jim.mp.build\\releng\\com.jim.mp.build.product\\target\\products\\com.vogella.tasks.product.product\\win32\\win32\\x86_64\r\n    Installing com.vogella.tasks.product.product 0.0.1.\r\n    Installation failed.\r\n    Cannot complete the install because one or more required items could not be found.\r\n            Software being installed: to-do 0.0.1 (com.vogella.tasks.product.product 0.0.1)\r\n            Missing requirement: toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator 0.0.1 requires &#39;osgi.bundle; org.eclipse.equinox.simpleconfigurator 0.0.0&#39; but it could not be found\r\n            Cannot satisfy dependency:\r\n                    From: to-do 0.0.1 (com.vogella.tasks.product.product 0.0.1)\r\n                    To: org.eclipse.equinox.p2.iu; toolingcom.vogella.tasks.product.product.configuration [0.0.1,0.0.1]\r\n            Cannot satisfy dependency:\r\n                    From: toolingcom.vogella.tasks.product.product.configuration 0.0.1\r\n                    To: org.eclipse.equinox.p2.iu; toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator [0.0.1,0.0.1]\r\n```\r\n\r\nI&#39;ve tried Tycho versions `2.7.5` and `3.0.4`\r\nI&#39;ve tried removing `org.eclipse.equinox.simpleconfigurator` from my product file entirely\r\nI&#39;ve tried completely deleting my Maven .m2 repo and starting from scratch\r\n\r\nWas hoping for an error free Tycho build of my simple application\r\n\r\nI actually got the errors above\r\n\r\n","title":"Eclipse Tycho is failing: Cannot satisfy dependency: To: org.eclipse.equinox.p2.iu; toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator","body":"<p>I'm trying and failing to build an Eclipse RCP application with Tycho.</p>\n<p>The application is kind of taken from Vogella's tutorial.</p>\n<p>I run &quot;mvn clean verify&quot; and the error I'm getting is :-</p>\n<pre><code>    [INFO] --- tycho-p2-repository:2.7.5:assemble-repository (default-assemble-repository) @ com.jim.mp.build.product ---\n    [WARNING] Parameter 'qualifier' (user property 'buildQualifier') is read-only, must not be used in configuration\n    [INFO]\n    [INFO] --- tycho-p2-repository:2.7.5:archive-repository (default-archive-repository) @ com.jim.mp.build.product ---\n    [WARNING] Parameter 'qualifier' (user property 'buildQualifier') is read-only, must not be used in configuration\n    [INFO] Building zip: C:\\My_Devs\\Eclipse-Headless-Tycho-Vogella\\com.jim.mp.build\\releng\\com.jim.mp.build.product\\target\\com.jim.mp.build.product-1.0.0-SNAPSHOT.zip\n    [INFO]\n    [INFO] --- tycho-p2-director:2.7.5:materialize-products (materialize-products) @ com.jim.mp.build.product ---\n    [INFO] Installing product com.vogella.tasks.product.product for environment win32/win32/x86_64 to C:\\My_Devs\\Eclipse-Headless-Tycho-Vogella\\com.jim.mp.build\\releng\\com.jim.mp.build.product\\target\\products\\com.vogella.tasks.product.product\\win32\\win32\\x86_64\n    Installing com.vogella.tasks.product.product 0.0.1.\n    Installation failed.\n    Cannot complete the install because one or more required items could not be found.\n            Software being installed: to-do 0.0.1 (com.vogella.tasks.product.product 0.0.1)\n            Missing requirement: toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator 0.0.1 requires 'osgi.bundle; org.eclipse.equinox.simpleconfigurator 0.0.0' but it could not be found\n            Cannot satisfy dependency:\n                    From: to-do 0.0.1 (com.vogella.tasks.product.product 0.0.1)\n                    To: org.eclipse.equinox.p2.iu; toolingcom.vogella.tasks.product.product.configuration [0.0.1,0.0.1]\n            Cannot satisfy dependency:\n                    From: toolingcom.vogella.tasks.product.product.configuration 0.0.1\n                    To: org.eclipse.equinox.p2.iu; toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator [0.0.1,0.0.1]\n</code></pre>\n<p>I've tried Tycho versions <code>2.7.5</code> and <code>3.0.4</code>\nI've tried removing <code>org.eclipse.equinox.simpleconfigurator</code> from my product file entirely\nI've tried completely deleting my Maven .m2 repo and starting from scratch</p>\n<p>Was hoping for an error free Tycho build of my simple application</p>\n<p>I actually got the errors above</p>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1564577160,"post_id":57290897,"comment_id":101076555,"body_markdown":"Which version of Java are you using ?","body":"Which version of Java are you using ?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1564577320,"post_id":57290897,"comment_id":101076660,"body_markdown":"Latest - java version &quot;12.0.1&quot; 2019-04-16","body":"Latest - java version &quot;12.0.1&quot; 2019-04-16"}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1564581932,"post_id":57291506,"comment_id":101079651,"body_markdown":"What about &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;?","body":"What about &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProce&zwnj;&#8203;ssor&lt;/processor&gt;?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1564582442,"post_id":57291506,"comment_id":101079991,"body_markdown":"Looks like it&#39;s not working. I&#39;m trying to implement this code: https://pastebin.com/GW7MxMDN I get `cannot find symbol\n[ERROR]   symbol:   variable PaymentTransactions_` probably because `PaymentTransactions_` is not generated. Do you know should I create `PaymentTransactions_` manually?","body":"Looks like it&#39;s not working. I&#39;m trying to implement this code: <a href=\"https://pastebin.com/GW7MxMDN\" rel=\"nofollow noreferrer\">pastebin.com/GW7MxMDN</a> I get <code>cannot find symbol [ERROR]   symbol:   variable PaymentTransactions_</code> probably because <code>PaymentTransactions_</code> is not generated. Do you know should I create <code>PaymentTransactions_</code> manually?"},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1564582531,"post_id":57291506,"comment_id":101080068,"body_markdown":"Let me check, by the way, are you able to build the project using maven command ?","body":"Let me check, by the way, are you able to build the project using maven command ?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1564583065,"post_id":57291506,"comment_id":101080406,"body_markdown":"using `clean package`?","body":"using <code>clean package</code>?"},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1564583490,"post_id":57291506,"comment_id":101080694,"body_markdown":"It means you are able to build the project using maven command, it is about not generating the classes. Can you check this link. https://stackoverflow.com/questions/30764266/generate-the-jpa-metamodel-files-using-maven-processor-plugin-what-is-a-conven","body":"It means you are able to build the project using maven command, it is about not generating the classes. Can you check this link. <a href=\"https://stackoverflow.com/questions/30764266/generate-the-jpa-metamodel-files-using-maven-processor-plugin-what-is-a-conven\" title=\"generate the jpa metamodel files using maven processor plugin what is a conven\">stackoverflow.com/questions/30764266/&hellip;</a>"},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1564583537,"post_id":57291506,"comment_id":101080729,"body_markdown":"You can also check this link. https://github.com/jinahya/jpa-metamodels-with-maven-example/blob/master/pom.xml","body":"You can also check this link. <a href=\"https://github.com/jinahya/jpa-metamodels-with-maven-example/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/jinahya/jpa-metamodels-with-maven-example/blob/&hellip;</a>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1564585071,"post_id":57291506,"comment_id":101081753,"body_markdown":"But I think it&#39;s for older Java versions?","body":"But I think it&#39;s for older Java versions?"},{"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"score":0,"creation_date":1664352836,"post_id":57291506,"comment_id":130449415,"body_markdown":"I can confirm that the answer of @Sambit works. His configuration makes the files being generated at target/generated-sources/annotations. This can easily be overseen. The directory can be added as source folder in IDEs as eclipse. When doing so compile errors for non resolvable types in IDEs may be solved.","body":"I can confirm that the answer of @Sambit works. His configuration makes the files being generated at target/generated-sources/annotations. This can easily be overseen. The directory can be added as source folder in IDEs as eclipse. When doing so compile errors for non resolvable types in IDEs may be solved."},{"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"score":0,"creation_date":1664353181,"post_id":57291506,"comment_id":130449540,"body_markdown":"BTW: No other plugins or configurations are necessary for jpa static model generation!","body":"BTW: No other plugins or configurations are necessary for jpa static model generation!"}],"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"comment_count":9,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1564578496,"creation_date":1564578496,"answer_id":57291506,"question_id":57290897,"body_markdown":"In case of Java 12, use the below code snippet inside build in pom.xml.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;release&gt;12&lt;/release&gt;  \r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAfter this, add the below for jpamodelgen.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n      &lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n      &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>In case of Java 12, use the below code snippet inside build in pom.xml.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;12&lt;/release&gt;  \n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>After this, add the below for jpamodelgen.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n  &lt;version&gt;5.4.3.Final&lt;/version&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1564645637,"post_id":57304043,"comment_id":101101170,"body_markdown":"Thanks, yesterday I tried this but I get `Plugin execution not covered by lifecycle configuration: org.bsc.maven:maven-processor-plugin:3.1.0:process (execution: process, phase: generate-sources)` at line 218 here: https://pastebin.com/kRLDwa8s","body":"Thanks, yesterday I tried this but I get <code>Plugin execution not covered by lifecycle configuration: org.bsc.maven:maven-processor-plugin:3.1.0:process (execution: process, phase: generate-sources)</code> at line 218 here: <a href=\"https://pastebin.com/kRLDwa8s\" rel=\"nofollow noreferrer\">pastebin.com/kRLDwa8s</a>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1564645737,"post_id":57304043,"comment_id":101101229,"body_markdown":"Let me try to solve it by adding &lt;pluginManagement&gt;","body":"Let me try to solve it by adding &lt;pluginManagement&gt;"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1564646262,"post_id":57304043,"comment_id":101101497,"body_markdown":"Unfortunately I can build the project but again meta models are not generated. ... Very strange.....","body":"Unfortunately I can build the project but again meta models are not generated. ... Very strange....."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1564651040,"post_id":57304043,"comment_id":101104059,"body_markdown":"Do I need to make some specific configuration for Spring?","body":"Do I need to make some specific configuration for Spring?"}],"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564645208,"creation_date":1564645208,"answer_id":57304043,"question_id":57290897,"body_markdown":"Remove `&lt;scope&gt;provided&lt;/scope&gt;` from \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAdd plugin\r\n\r\n        &lt;plugins&gt;\r\n            ...\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;process&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;processors&gt;\r\n                                &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\r\n                            &lt;/processors&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n                        &lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            ...\r\n        &lt;/plugins&gt;\r\n\r\nAnd then rebuild\r\n\r\n    mvn clean package -DskipTests","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>Remove <code>&lt;scope&gt;provided&lt;/scope&gt;</code> from </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;version&gt;5.4.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Add plugin</p>\n\n<pre><code>    &lt;plugins&gt;\n        ...\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;process&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;processors&gt;\n                            &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n                        &lt;/processors&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                    &lt;version&gt;5.4.3.Final&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        ...\n    &lt;/plugins&gt;\n</code></pre>\n\n<p>And then rebuild</p>\n\n<pre><code>mvn clean package -DskipTests\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":2,"creation_date":1639559350,"post_id":67500340,"comment_id":124377009,"body_markdown":"If you are using Spring Boot, you can use `&lt;version&gt;${hibernate.version}&lt;/version&gt;` so that the version is aligned with the one that Spring Boot recommends.","body":"If you are using Spring Boot, you can use <code>&lt;version&gt;${hibernate.version}&lt;&#47;version&gt;</code> so that the version is aligned with the one that Spring Boot recommends."}],"tags":[],"owner":{"account_id":7276662,"reputation":123,"user_id":6003138,"display_name":"Marcus Schulz"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1620809736,"creation_date":1620809736,"answer_id":67500340,"question_id":57290897,"body_markdown":"I usually just add the hibernate-jpamodelgen to the annotationprocessorpath of the compiler plugin. That prevents the processor to be packaged in the deployment.\r\n\r\n     &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;annotationProcessorPaths&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n              &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n              &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n              &lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n        \r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>I usually just add the hibernate-jpamodelgen to the annotationprocessorpath of the compiler plugin. That prevents the processor to be packaged in the deployment.</p>\n<pre><code> &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;annotationProcessorPaths&gt;\n        &lt;path&gt;\n          &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n          &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n          &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/path&gt;\n        &lt;path&gt;\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n          &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n          &lt;version&gt;5.4.3.Final&lt;/version&gt;\n        &lt;/path&gt;\n      &lt;/annotationProcessorPaths&gt;\n    \n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18641079,"reputation":51,"user_id":13586810,"display_name":"Cesar Manuel Cruzata"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629812310,"creation_date":1629812310,"answer_id":68908680,"question_id":57290897,"body_markdown":"This works for me\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t        \t&lt;path&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;2.2.11.RELEASE&lt;/version&gt;\r\n\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;5.4.22.Final&lt;/version&gt;\r\n\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;profiles&gt;\r\n  &lt;profile&gt;\r\n\t\t&lt;id&gt;dev&lt;/id&gt;\r\n\t\t&lt;activation&gt;\r\n\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t&lt;/activation&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\n    import com.mycompany.myapp.domain.*; // for static metamodels\r\n    import com.mycompany.myapp.domain.User\r\n    \r\n    public class UserQueryService {\r\n    \r\n    private Specification&lt;User&gt; createSpecification(UserCriteria criteria) {\r\n      Specification&lt;User&gt; specification = Specification.where(null);\r\n      if (criteria != null) {\r\n        if (criteria.getId() != null) {\r\n           specification = specification.and(buildSpecification(criteria.getId(), User_.id));\r\n        }\r\n      }\r\n      return specification;\r\n    }    \r\n    }","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>This works for me</p>\n<p>pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n                        &lt;version&gt;2.2.11.RELEASE&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                            &lt;version&gt;5.4.22.Final&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;profiles&gt;\n  &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;properties&gt;\n            &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<pre><code>import com.mycompany.myapp.domain.*; // for static metamodels\nimport com.mycompany.myapp.domain.User\n\npublic class UserQueryService {\n\nprivate Specification&lt;User&gt; createSpecification(UserCriteria criteria) {\n  Specification&lt;User&gt; specification = Specification.where(null);\n  if (criteria != null) {\n    if (criteria.getId() != null) {\n       specification = specification.and(buildSpecification(criteria.getId(), User_.id));\n    }\n  }\n  return specification;\n}    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16494912,"reputation":1,"user_id":11917731,"display_name":"Oliver Matz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684478902,"creation_date":1684478902,"answer_id":76286637,"question_id":57290897,"body_markdown":"Adding hibernate-jpamodelgen to my dependencies did not do the job for me, but rather created dependency conflicts, which caused the dependencyConvergence of the maven-enforcer-plugin to complain unless I combined it with scope &#39;protected&#39;. Besides, it does not seem plausible to me to declare a runtime dependency unless I have one.\r\n\r\nIt turned out not to be necessary for me: I used Cesar&#39;s approach, but unlike in Cesar&#39;s case, I did not need to add\r\nhibernate-jpamodelgen or anything else to my dependencies.\r\n\r\nI already had a processor added to the maven-compiler-plugin, namely mapstruct-processor.\r\nLike Cesar suggested, I added the hibernate-jpamodelgen to that configuration. In my case, the result was:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;11&lt;/source&gt;\r\n            &lt;target&gt;11&lt;/target&gt;\r\n            &lt;annotationProcessorPaths&gt;\r\n                &lt;path&gt;\r\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n                &lt;/path&gt;\r\n                &lt;!-- The following path declaration is the only thing I added to make hibernate-jpamodelgen run --&gt;\r\n                &lt;path&gt;\r\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.3.20.Final&lt;/version&gt;\r\n                &lt;/path&gt;\r\n            &lt;/annotationProcessorPaths&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>Adding hibernate-jpamodelgen to my dependencies did not do the job for me, but rather created dependency conflicts, which caused the dependencyConvergence of the maven-enforcer-plugin to complain unless I combined it with scope 'protected'. Besides, it does not seem plausible to me to declare a runtime dependency unless I have one.</p>\n<p>It turned out not to be necessary for me: I used Cesar's approach, but unlike in Cesar's case, I did not need to add\nhibernate-jpamodelgen or anything else to my dependencies.</p>\n<p>I already had a processor added to the maven-compiler-plugin, namely mapstruct-processor.\nLike Cesar suggested, I added the hibernate-jpamodelgen to that configuration. In my case, the result was:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;11&lt;/source&gt;\n        &lt;target&gt;11&lt;/target&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;1.4.2.Final&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;!-- The following path declaration is the only thing I added to make hibernate-jpamodelgen run --&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                &lt;version&gt;5.3.20.Final&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17350,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1684478902,"creation_date":1564576568,"question_id":57290897,"body_markdown":"I want to configure `hibernate-jpamodelgen` into Maven `pom.xml`. I tried this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;plugin&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;org.plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Plugin&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t ........\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;datalis_plugin&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;10&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;10&lt;/target&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n    \t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;1.18.6&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n    \t\t\t\t\t&lt;compilerArguments&gt;\r\n    \t\t\t\t\t\t&lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\r\n    \t\t\t\t\t&lt;/compilerArguments&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;    \t\t\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\t\r\n    &lt;/project&gt;\r\n\r\nFull POM: https://pastebin.com/VjucMAYL\r\n\r\nBut I get error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project org.plugin: Compilation failure\r\n    [ERROR] Annotation processor &#39;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&#39; not found\r\n\r\n\r\nDo you know how I can fix this issue?\r\n\r\nI used this quite: https://docs.jboss.org/hibernate/jpamodelgen/1.0/reference/en-US/html_single/","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>I want to configure <code>hibernate-jpamodelgen</code> into Maven <code>pom.xml</code>. I tried this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;org.plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Plugin&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;parent&gt;\n         ........\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n            &lt;version&gt;5.4.3.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;datalis_plugin&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;10&lt;/source&gt;\n                    &lt;target&gt;10&lt;/target&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.6&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;               \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;   \n&lt;/project&gt;\n</code></pre>\n<p>Full POM: <a href=\"https://pastebin.com/VjucMAYL\" rel=\"noreferrer\">https://pastebin.com/VjucMAYL</a></p>\n<p>But I get error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project org.plugin: Compilation failure\n[ERROR] Annotation processor 'org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor' not found\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n<p>I used this quite: <a href=\"https://docs.jboss.org/hibernate/jpamodelgen/1.0/reference/en-US/html_single/\" rel=\"noreferrer\">https://docs.jboss.org/hibernate/jpamodelgen/1.0/reference/en-US/html_single/</a></p>\n"},{"tags":["java","spring","soap"],"answers":[{"tags":[],"owner":{"account_id":1355184,"reputation":321,"user_id":1293726,"display_name":"ericl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518806907,"creation_date":1518806907,"answer_id":48833102,"question_id":48832483,"body_markdown":"I&#39;m not sure if this helps but found some [documentation][1]\r\n\r\nFor setting WS-Addressing headers on the client, you can use the org.springframework.ws.soap.addressing.client.ActionCallback. ...\r\n\r\n    webServiceTemplate.marshalSendAndReceive(o, new ActionCallback(&quot;http://samples/RequestOrder&quot;));\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-ws/site/reference/html/client.html","title":"Adding a custom http header to a spring boot WS call (wstemplate)","body":"<p>I'm not sure if this helps but found some <a href=\"https://docs.spring.io/spring-ws/site/reference/html/client.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<p>For setting WS-Addressing headers on the client, you can use the org.springframework.ws.soap.addressing.client.ActionCallback. ...</p>\n\n<pre><code>webServiceTemplate.marshalSendAndReceive(o, new ActionCallback(\"http://samples/RequestOrder\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12961460,"reputation":31,"user_id":9370587,"display_name":"Kryten"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518810065,"creation_date":1518808155,"answer_id":48833357,"question_id":48832483,"body_markdown":"\r\n\r\npublic class WsHttpHeaderCallback implements WebServiceMessageCallback\r\n{\r\n\r\n    public WsHttpHeaderCallback()\r\n    {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    public void doWithMessage(WebServiceMessage message) throws IOException, TransformerException\r\n    {\r\n    \tString headerKey=&quot;headerkey&quot;;\r\n    \tString headerValue=&quot;headervalue&quot;;\r\n        addRequestHeader(headerKey, headerValue);     \r\n    }\r\n    \r\n    private void addRequestHeader(String headerKey, String headerValue) throws IOException\r\n    {\r\n\r\n        TransportContext context = TransportContextHolder.getTransportContext();\r\n        WebServiceConnection connection = context.getConnection();\r\n        \r\n        if (connection instanceof HttpUrlConnection) {\r\n            HttpUrlConnection conn = (HttpUrlConnection) connection;\r\n            \r\n            conn.addRequestHeader(headerKey, headerValue); \r\n            \r\n        }\r\n    }   \r\n}","title":"Adding a custom http header to a spring boot WS call (wstemplate)","body":"<p>public class WsHttpHeaderCallback implements WebServiceMessageCallback\n{</p>\n\n<pre><code>public WsHttpHeaderCallback()\n{\n    super();\n}\n\n@Override\npublic void doWithMessage(WebServiceMessage message) throws IOException, TransformerException\n{\n    String headerKey=\"headerkey\";\n    String headerValue=\"headervalue\";\n    addRequestHeader(headerKey, headerValue);     \n}\n\nprivate void addRequestHeader(String headerKey, String headerValue) throws IOException\n{\n\n    TransportContext context = TransportContextHolder.getTransportContext();\n    WebServiceConnection connection = context.getConnection();\n\n    if (connection instanceof HttpUrlConnection) {\n        HttpUrlConnection conn = (HttpUrlConnection) connection;\n\n        conn.addRequestHeader(headerKey, headerValue); \n\n    }\n}   \n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":4791251,"reputation":151,"user_id":3870391,"display_name":"JN Gerbaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684478744,"creation_date":1536829547,"answer_id":52310279,"question_id":48832483,"body_markdown":"I&#39;ve faced the same problem. If it can help someone, I&#39;ve found a solution here: [Spring WS Add Soap Header in Client][1]\r\n\r\nThe idea is to create a class implementing `org.springframework.ws.client.core.WebServiceMessageCallback` and override the `doWithMessage()` method.\r\nThe `doItMessage()` method takes a `WebServiceMessage` as argument and is invoked by the `springWs` process before sending the request, allowing to modify it before it is send.\r\n\r\nWhat is done in the example above is marshalling the object and adding it to the header of the request.\r\n\r\nIn my case I have to be careful with XML annotations of the object to be set as header, especially the @XmlRootElement with the namespace attribute.\r\n\r\nOnce this is done, the `WSClient` has to be adjusted to use the `marshalSendAndReceive()` method that takes a request and an uri, a payload object, and a `WebServiceMessageCallback`.\r\n\r\n  [1]: https://memorynotfound.com/spring-ws-add-soap-header-client/","title":"Adding a custom http header to a spring boot WS call (wstemplate)","body":"<p>I've faced the same problem. If it can help someone, I've found a solution here: <a href=\"https://memorynotfound.com/spring-ws-add-soap-header-client/\" rel=\"nofollow noreferrer\">Spring WS Add Soap Header in Client</a></p>\n<p>The idea is to create a class implementing <code>org.springframework.ws.client.core.WebServiceMessageCallback</code> and override the <code>doWithMessage()</code> method.\nThe <code>doItMessage()</code> method takes a <code>WebServiceMessage</code> as argument and is invoked by the <code>springWs</code> process before sending the request, allowing to modify it before it is send.</p>\n<p>What is done in the example above is marshalling the object and adding it to the header of the request.</p>\n<p>In my case I have to be careful with XML annotations of the object to be set as header, especially the @XmlRootElement with the namespace attribute.</p>\n<p>Once this is done, the <code>WSClient</code> has to be adjusted to use the <code>marshalSendAndReceive()</code> method that takes a request and an uri, a payload object, and a <code>WebServiceMessageCallback</code>.</p>\n"}],"owner":{"account_id":12961460,"reputation":31,"user_id":9370587,"display_name":"Kryten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3752,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684478744,"creation_date":1518804040,"question_id":48832483,"body_markdown":"I followed this guide &quot;Consuming a SOAP web service&quot;, at\r\nhttps://spring.io/guides/gs/consuming-web-service/ \r\nand changed it to call my own internal SOAP service, it makes the call\r\nas expected, however now I need to pass an http header via the WsTemplate,\r\nwhat is the easiest way to do this?","title":"Adding a custom http header to a spring boot WS call (wstemplate)","body":"<p>I followed this guide \"Consuming a SOAP web service\", at\n<a href=\"https://spring.io/guides/gs/consuming-web-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/</a> \nand changed it to call my own internal SOAP service, it makes the call\nas expected, however now I need to pass an http header via the WsTemplate,\nwhat is the easiest way to do this?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":8780993,"reputation":2797,"user_id":6564620,"display_name":"maow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684477916,"creation_date":1684477595,"answer_id":76286510,"question_id":76282603,"body_markdown":"This is unfortunately just how hopping windows work in Kafka streams. Think about it this way: If you want a new window every second over 24h this means you have `24*60*60 = 86400` windows open. Every time a new event comes in, you need to add it to every single window (and remove the events that dropped out of the window). Yes, 99.9% of the events are the same everywhere but there is no way for Kafka streams to know this. \r\n\r\nIf you have 1Mb data per day this would already use 86.4Gb RAM. Also note that this is actually adding your value to 86400 state stores. The throughput should be abysmal. Ultimately you need to reduce the cardinality somehow (or buy enough ram to fit the state of your aggregations 86400 times).\r\n\r\nI ran into similar problems (trying to get hourly aggregates for data spanning years). However I controlled the API this was queried by and my solution at that time was to aggregate multiple levels (monthly, daily, hourly) and &quot;sum together&quot; the result on the fly. That came at the cost of a lot of complexity and a bit of latency as I needed to store the data somewhere and write logic to query it but at least it worked. \r\n\r\nThinking about it again, a alternative could be to aggregate tumbling windows per second, use `suppress` to throw only one event at the end of the interval and then aggregate the tumbling window events with a hopping window. This won&#39;t help much with RAM, but save a lot of computation at least.\r\n\r\nYou could also ask your PM whether what get this data down to a single second is worth the cost or whether 15 seconds would also suffice. \r\n","title":"Kafka Streams Hopping Window generates thousands of windows","body":"<p>This is unfortunately just how hopping windows work in Kafka streams. Think about it this way: If you want a new window every second over 24h this means you have <code>24*60*60 = 86400</code> windows open. Every time a new event comes in, you need to add it to every single window (and remove the events that dropped out of the window). Yes, 99.9% of the events are the same everywhere but there is no way for Kafka streams to know this.</p>\n<p>If you have 1Mb data per day this would already use 86.4Gb RAM. Also note that this is actually adding your value to 86400 state stores. The throughput should be abysmal. Ultimately you need to reduce the cardinality somehow (or buy enough ram to fit the state of your aggregations 86400 times).</p>\n<p>I ran into similar problems (trying to get hourly aggregates for data spanning years). However I controlled the API this was queried by and my solution at that time was to aggregate multiple levels (monthly, daily, hourly) and &quot;sum together&quot; the result on the fly. That came at the cost of a lot of complexity and a bit of latency as I needed to store the data somewhere and write logic to query it but at least it worked.</p>\n<p>Thinking about it again, a alternative could be to aggregate tumbling windows per second, use <code>suppress</code> to throw only one event at the end of the interval and then aggregate the tumbling window events with a hopping window. This won't help much with RAM, but save a lot of computation at least.</p>\n<p>You could also ask your PM whether what get this data down to a single second is worth the cost or whether 15 seconds would also suffice.</p>\n"}],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76286510,"answer_count":1,"score":0,"last_activity_date":1684477916,"creation_date":1684426378,"question_id":76282603,"body_markdown":"I have the following topology definition for exchange tickers with hopping window of 24 hours. What I want to achieve is to simply calculate a moving window for every second from last 24 hours. The answer to this is the hopping window, but the problem is that it generates window for every second for last and next 24 hours which ends with OOM error.\r\n\r\nHow to achieve it? The tumbling window is no option here, since it is static and deos not allow duplicates.\r\n\r\n        \r\n        kStreamBuilder.stream(config.input())\r\n                .mapValues(new TickerConverter())\r\n                .groupByKey()\r\n                .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofHours(24)).advanceBy(Duration.ofSeconds(1)))\r\n                .aggregate(TickerInit::new, new Aggregator(), buildStateStore(STORE))\r\n                .mapValues(new TickerConverter())\r\n                .toStream((key, value) -&gt; key.key())\r\n                .to(config.output().name());","title":"Kafka Streams Hopping Window generates thousands of windows","body":"<p>I have the following topology definition for exchange tickers with hopping window of 24 hours. What I want to achieve is to simply calculate a moving window for every second from last 24 hours. The answer to this is the hopping window, but the problem is that it generates window for every second for last and next 24 hours which ends with OOM error.</p>\n<p>How to achieve it? The tumbling window is no option here, since it is static and deos not allow duplicates.</p>\n<pre><code>    kStreamBuilder.stream(config.input())\n            .mapValues(new TickerConverter())\n            .groupByKey()\n            .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofHours(24)).advanceBy(Duration.ofSeconds(1)))\n            .aggregate(TickerInit::new, new Aggregator(), buildStateStore(STORE))\n            .mapValues(new TickerConverter())\n            .toStream((key, value) -&gt; key.key())\n            .to(config.output().name());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","gradle"],"answers":[{"comments":[{"owner":{"account_id":19297027,"reputation":11,"user_id":14105796,"display_name":"Karim Nashaat"},"score":0,"creation_date":1684401657,"post_id":76277931,"comment_id":134513680,"body_markdown":"Thanks for your response, I did so and updated the project with Maven; however, I am still getting this error in the pom.xml **&quot;Missing artifact com.regula.documentreader:webclient:jar.5.+&quot; **","body":"Thanks for your response, I did so and updated the project with Maven; however, I am still getting this error in the pom.xml **&quot;Missing artifact com.regula.documentreader:webclient:jar.5.+&quot; **"},{"owner":{"account_id":28147062,"reputation":16,"user_id":21509215,"display_name":"ebc149"},"score":0,"creation_date":1684477042,"post_id":76277931,"comment_id":134525814,"body_markdown":"Sorry, of course you will have to specify version, &quot;5.+&quot; is not precise, if you&#39;ll check repo https://maven.regulaforensics.com/RegulaDocumentReaderWebClient/com/regula/documentreader/webclient/ the latest 5th version is 5.8.4, so change tag into: `&lt;version&gt;5.8.4&lt;/version&gt;`","body":"Sorry, of course you will have to specify version, &quot;5.+&quot; is not precise, if you&#39;ll check repo <a href=\"https://maven.regulaforensics.com/RegulaDocumentReaderWebClient/com/regula/documentreader/webclient/\" rel=\"nofollow noreferrer\">maven.regulaforensics.com/RegulaDocumentReaderWebClient/com/&zwnj;&#8203;&hellip;</a> the latest 5th version is 5.8.4, so change tag into: <code>&lt;version&gt;5.8.4&lt;&#47;version&gt;</code>"},{"owner":{"account_id":19297027,"reputation":11,"user_id":14105796,"display_name":"Karim Nashaat"},"score":0,"creation_date":1684503695,"post_id":76277931,"comment_id":134530991,"body_markdown":"Thanks very much for your response!!. Yes, it worked after updating the version of the dependency.","body":"Thanks very much for your response!!. Yes, it worked after updating the version of the dependency."}],"tags":[],"owner":{"account_id":28147062,"reputation":16,"user_id":21509215,"display_name":"ebc149"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684477072,"creation_date":1684387130,"answer_id":76277931,"question_id":76277850,"body_markdown":"In your application pom.xml, you add a repository tag then, a dependency tag, like this:\r\n\r\n    &lt;repositories&gt;\r\n\t    &lt;repository&gt;\r\n\t\t    &lt;id&gt;regulaforensics&lt;/id&gt;\r\n\t\t    &lt;url&gt;https://maven.regulaforensics.com/RegulaDocumentReaderWebClient&lt;/url&gt;\r\n\t    &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nthen\r\n\r\n    &lt;dependencies&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.regula.documentreader&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;webclient&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.8.4&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n","title":"Gradle file to Maven","body":"<p>In your application pom.xml, you add a repository tag then, a dependency tag, like this:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;regulaforensics&lt;/id&gt;\n        &lt;url&gt;https://maven.regulaforensics.com/RegulaDocumentReaderWebClient&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>then</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.regula.documentreader&lt;/groupId&gt;\n        &lt;artifactId&gt;webclient&lt;/artifactId&gt;\n        &lt;version&gt;5.8.4&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":19297027,"reputation":11,"user_id":14105796,"display_name":"Karim Nashaat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76277931,"answer_count":1,"score":0,"last_activity_date":1684477072,"creation_date":1684385904,"question_id":76277850,"body_markdown":"I want to add this dependency to my maven spring application. \r\n\r\n    repositories {\r\n        maven {\r\n            url = uri(&quot;https://maven.regulaforensics.com/RegulaDocumentReaderWebClient&quot;)\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation(&quot;com.regula.documentreader:webclient:5.+&quot;)\r\n    }\r\n\r\nI am having this code which is of a gradle file and I want to add this dependency to my Spring application. \r\n","title":"Gradle file to Maven","body":"<p>I want to add this dependency to my maven spring application.</p>\n<pre><code>repositories {\n    maven {\n        url = uri(&quot;https://maven.regulaforensics.com/RegulaDocumentReaderWebClient&quot;)\n    }\n}\n\ndependencies {\n    implementation(&quot;com.regula.documentreader:webclient:5.+&quot;)\n}\n</code></pre>\n<p>I am having this code which is of a gradle file and I want to add this dependency to my Spring application.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9800,"page":425,"page_size":100}
