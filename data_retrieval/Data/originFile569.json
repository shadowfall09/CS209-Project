{"items":[{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"score":0,"creation_date":1455610773,"post_id":35402616,"comment_id":58553210,"body_markdown":"please post more infos, how do start the jobs? it looks rather strange to see cglib work there, did you configure any AOP functions?","body":"please post more infos, how do start the jobs? it looks rather strange to see cglib work there, did you configure any AOP functions?"},{"owner":{"account_id":4710206,"reputation":333,"user_id":3810920,"accept_rate":67,"display_name":"arnaldop"},"score":0,"creation_date":1455660146,"post_id":35402616,"comment_id":58585838,"body_markdown":"I added the code that launches the job. Is this all you need?","body":"I added the code that launches the job. Is this all you need?"},{"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"score":0,"creation_date":1455694018,"post_id":35402616,"comment_id":58597668,"body_markdown":"wrong guess from my side, cglib proxies are needed for the stepscoped objects, i debugged here a simple itemwriter example, close is called only once, is your writer used elsewhere? is  the job running twice?","body":"wrong guess from my side, cglib proxies are needed for the stepscoped objects, i debugged here a simple itemwriter example, close is called only once, is your writer used elsewhere? is  the job running twice?"},{"owner":{"account_id":4710206,"reputation":333,"user_id":3810920,"accept_rate":67,"display_name":"arnaldop"},"score":0,"creation_date":1455720438,"post_id":35402616,"comment_id":58615995,"body_markdown":"Found the problem. The way I was handling StepExecution was causing my writer object to reuse StepExecutions, clobbering data. This was also causing some writer objects to have the closed method invoked twice. Not sure why the stack trace is different, but once I fixed the reuse problem, the close problem went away. Thanks!","body":"Found the problem. The way I was handling StepExecution was causing my writer object to reuse StepExecutions, clobbering data. This was also causing some writer objects to have the closed method invoked twice. Not sure why the stack trace is different, but once I fixed the reuse problem, the close problem went away. Thanks!"},{"owner":{"account_id":100999,"reputation":373,"user_id":271955,"accept_rate":60,"display_name":"Zachary Carter"},"score":0,"creation_date":1472058954,"post_id":35402616,"comment_id":65604166,"body_markdown":"Could you please clarify your answer? What exactly did you fix regarding StepExecution and how you were handling it? I&#39;m running into the same problem but I haven&#39;t defined any StepExecution related beans / configuration. Only similarity is that we&#39;re both extending from AbstractItemStreamItemWriter","body":"Could you please clarify your answer? What exactly did you fix regarding StepExecution and how you were handling it? I&#39;m running into the same problem but I haven&#39;t defined any StepExecution related beans / configuration. Only similarity is that we&#39;re both extending from AbstractItemStreamItemWriter"},{"owner":{"account_id":4710206,"reputation":333,"user_id":3810920,"accept_rate":67,"display_name":"arnaldop"},"score":0,"creation_date":1478464548,"post_id":35402616,"comment_id":68153866,"body_markdown":"Unfortunately, Zachary, I don&#39;t remember exactly what I did, and no longer have access to the codebase. One thing I do remember that is not included in my answer is that the way I was defining my workflow, I did not have a way to &quot;stop&quot;, or signal that I had reached the end. Therefore, it kept looping over the same data. I had to know from my input stream that I had no more data and let the StepExecution that it was done. Hope this helps!","body":"Unfortunately, Zachary, I don&#39;t remember exactly what I did, and no longer have access to the codebase. One thing I do remember that is not included in my answer is that the way I was defining my workflow, I did not have a way to &quot;stop&quot;, or signal that I had reached the end. Therefore, it kept looping over the same data. I had to know from my input stream that I had no more data and let the StepExecution that it was done. Hope this helps!"}],"answers":[{"tags":[],"owner":{"account_id":5859401,"reputation":1532,"user_id":4615649,"display_name":"CRISTIAN ROMERO MATESANZ"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1538642983,"creation_date":1538642983,"answer_id":52642676,"question_id":35402616,"body_markdown":"I had a terrible headache because of this error.\r\n\r\nSpring tries to automatically infer a destroyMethod when using Java configuration (but it does not do so when using XML configuration). To disable this automatic inference, use:\r\n\r\n     @Bean(destroyMethod=&quot;&quot;)\r\n\r\nNow using this annotation Spring stop calling my method twice and it will only be \r\ncalled once by Spring batch.","title":"Spring Batch custom writer close method getting called twice (requiring special handling)","body":"<p>I had a terrible headache because of this error.</p>\n\n<p>Spring tries to automatically infer a destroyMethod when using Java configuration (but it does not do so when using XML configuration). To disable this automatic inference, use:</p>\n\n<pre><code> @Bean(destroyMethod=\"\")\n</code></pre>\n\n<p>Now using this annotation Spring stop calling my method twice and it will only be \ncalled once by Spring batch.</p>\n"},{"tags":[],"owner":{"account_id":2131277,"reputation":51,"user_id":1892057,"display_name":"gizmo71"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670938748,"creation_date":1670938748,"answer_id":74785749,"question_id":35402616,"body_markdown":"In addition to the `destroyMethod=&quot;&quot;` trick, if you have several methods producing beans of the same type, you can have that type implement `DisposableBean` and include an empty `destroy()` method to avoid `close()` being called.","title":"Spring Batch custom writer close method getting called twice (requiring special handling)","body":"<p>In addition to the <code>destroyMethod=&quot;&quot;</code> trick, if you have several methods producing beans of the same type, you can have that type implement <code>DisposableBean</code> and include an empty <code>destroy()</code> method to avoid <code>close()</code> being called.</p>\n"},{"tags":[],"owner":{"account_id":260495,"reputation":984,"user_id":544084,"display_name":"Jim Cox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678994951,"creation_date":1678904606,"answer_id":75748701,"question_id":35402616,"body_markdown":"It&#39;s being called twice because you are missing @StepScope on your step bean.  ","title":"Spring Batch custom writer close method getting called twice (requiring special handling)","body":"<p>It's being called twice because you are missing @StepScope on your step bean.</p>\n"}],"owner":{"account_id":4710206,"reputation":333,"user_id":3810920,"accept_rate":67,"display_name":"arnaldop"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2232,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678994951,"creation_date":1455516838,"question_id":35402616,"body_markdown":"I have the following writer class prototype:\r\n\r\n    public class MyWriter extends AbstractItemStreamItemWriter&lt;FieldSet&gt; {\r\n        ...\r\n        @Override\r\n\t\tpublic void close()\r\n\t\t{\r\n    \t\t...\r\n    \t{\r\n    \t...\r\n    }\r\n\r\nMy Job is defined by these `@Beans`:\r\n\r\n    \t@Bean\r\n    \tprotected Step step(ItemReader&lt;FieldSet&gt; reader, ItemWriter&lt;FieldSet&gt; writer)\r\n    \t{\r\n    \t\treturn stepBuilder.get(&quot;step&quot;)\r\n    \t\t\t.&lt;FieldSet, FieldSet&gt; chunk(chunkSize)\r\n    \t\t\t.reader(reader)\r\n    \t\t\t.writer(writer)\r\n    \t\t\t.listener(this)\r\n    \t\t\t.build();\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tprotected Job myImportJob(Step step, JobExecutionListener jobExecutionListener)\r\n    \t{\r\n    \t\treturn jobBuilder\r\n    \t\t\t.get(&quot;myImportJob&quot;)\r\n    \t\t\t.listener(jobExecutionListener)\r\n    \t\t\t.start(step)\r\n    \t\t\t.build();\r\n    \t}\r\n\r\nThe job is triggered from a MQ listener like this:\r\n\r\n    @Autowired\r\n    private Job job;\r\n\r\n    @Autowired\r\n    private JobLauncher jobLauncher;\r\n\r\n    @JmsListener(destination = &quot;queue_name&quot;)\r\n    public void receiveMessage(TextMessage message) throws JMSException\r\n    {\r\n    \tlog.warn(&quot;Received message {} with listener {}.&quot;, message, this);\r\n        \r\n\t   \tJobParametersBuilder jobParametersBuilder = new JobParametersBuilder();\r\n\t    \r\n\t   \t// add job parameters here\r\n\t   \t...\r\n\t    \r\n\t   \tJobParameters jobParameters = jobParametersBuilder.toJobParameters();\r\n\t    \r\n\t   \ttry\r\n\t   \t{\r\n\t   \t\tJobExecution jobExecution = jobLauncher.run(job, jobParameters);\r\n\t   \t\tlog.trace(&quot;jobExecution = &quot; + jobExecution);\r\n\t   \t}\r\n\t   \tcatch (JobExecutionException jee)\r\n\t   \t{\r\n\t   \t\tlog.warn(&quot;Could not run job {}&quot;, job);\r\n\t   \t}\r\n    }\r\n\r\nThe problem I&#39;m encountering is that MyWriter&#39;s close method gets called twice. The stack traces for each call are:\r\n\r\n    Thread [DefaultMessageListenerContainer-2] (Suspended (breakpoint at line 162 in MyWriter))\t\r\n    \tMyWriter.close() line: 162\t\r\n    \tMyWriter$$FastClassBySpringCGLIB$$80508a22.invoke(int, Object, Object[]) line: not available\t\r\n    \tMethodProxy.invoke(Object, Object[]) line: 204\t\r\n    \tCglibAopProxy$CglibMethodInvocation.invokeJoinpoint() line: 720\t\r\n    \tCglibAopProxy$CglibMethodInvocation(ReflectiveMethodInvocation).proceed() line: 157\t\r\n    \tDelegatingIntroductionInterceptor.doProceed(MethodInvocation) line: 133\t\r\n    \tDelegatingIntroductionInterceptor.invoke(MethodInvocation) line: 121\t\r\n    \tCglibAopProxy$CglibMethodInvocation(ReflectiveMethodInvocation).proceed() line: 179\t\r\n    \tCglibAopProxy$DynamicAdvisedInterceptor.intercept(Object, Method, Object[], MethodProxy) line: 655\t\r\n    \tMyWriter$$EnhancerBySpringCGLIB$$e345242b.close() line: not available\t\r\n    \tCompositeItemStream.close() line: 85\t\r\n    \tTaskletStep.close(ExecutionContext) line: 305\t\r\n    \tTaskletStep(AbstractStep).execute(StepExecution) line: 271\t\r\n    --&gt;\tSimpleStepHandler.handleStep(Step, JobExecution) line: 148\t\r\n    \tSimpleJob(AbstractJob).handleStep(Step, JobExecution) line: 392\t\r\n    \tSimpleJob.doExecute(JobExecution) line: 135\t\r\n    \tSimpleJob(AbstractJob).execute(JobExecution) line: 306\t\r\n    \tSimpleJobLauncher$1.run() line: 135\t\r\n    \tSyncTaskExecutor.execute(Runnable) line: 50\t\r\n    \tSimpleJobLauncher.run(Job, JobParameters) line: 128\t\r\n    \tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n    \tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 62\t\r\n    \tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43\t\r\n    \tMethod.invoke(Object, Object...) line: 497\t\r\n    \tAopUtils.invokeJoinpointUsingReflection(Object, Method, Object[]) line: 302\t\r\n    \tReflectiveMethodInvocation.invokeJoinpoint() line: 190\t\r\n    \tReflectiveMethodInvocation.proceed() line: 157\t\r\n    \tSimpleBatchConfiguration$PassthruAdvice.invoke(MethodInvocation) line: 127\t\r\n    \tReflectiveMethodInvocation.proceed() line: 179\t\r\n    \tJdkDynamicAopProxy.invoke(Object, Method, Object[]) line: 208\t\r\n    \t$Proxy105.run(Job, JobParameters) line: not available\t\r\n    \tMyMQListener$$EnhancerBySpringCGLIB$$28277c0e(MyMQListener).receiveMessage(TextMessage) line: 74\t\r\n    \tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n    \tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 62\t\r\n    \tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43\t\r\n    \tMethod.invoke(Object, Object...) line: 497\t\r\n    \tInvocableHandlerMethod.doInvoke(Object...) line: 198\t\r\n    \tInvocableHandlerMethod.invoke(Message&lt;?&gt;, Object...) line: 116\t\r\n    \tMessagingMessageListenerAdapter.invokeHandler(Message, Session, Message&lt;?&gt;) line: 90\t\r\n    \tMessagingMessageListenerAdapter.onMessage(Message, Session) line: 66\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).doInvokeListener(SessionAwareMessageListener, Session, Message) line: 721\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).invokeListener(Session, Message) line: 681\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).doExecuteListener(Session, Message) line: 651\t\r\n    \tDefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).doReceiveAndExecute(Object, Session, MessageConsumer, TransactionStatus) line: 315\t\r\n    \tDefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).receiveAndExecute(Object, Session, MessageConsumer) line: 253\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener() line: 1150\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop() line: 1142\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.run() line: 1039\t\r\n    \tThread.run() line: 745\t\r\n\r\nand\r\n\r\n    Thread [DefaultMessageListenerContainer-2] (Suspended (breakpoint at line 162 in MyWriter))\t\r\n    \tMyWriter.close() line: 162\t\r\n    \tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n    \tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 62\t\r\n    \tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43\t\r\n    \tMethod.invoke(Object, Object...) line: 497\t\r\n    \tDisposableBeanAdapter.invokeCustomDestroyMethod(Method) line: 354\t\r\n    \tDisposableBeanAdapter.destroy() line: 277\t\r\n    \tDisposableBeanAdapter.run() line: 236\t\r\n    \tStepContext.close() line: 213\t\r\n    \tStepSynchronizationManager$1.close(StepContext) line: 53\t\r\n    \tStepSynchronizationManager$1.close(Object) line: 36\t\r\n    \tStepSynchronizationManager$1(SynchronizationManagerSupport&lt;E,C&gt;).release() line: 190\t\r\n    \tStepSynchronizationManager.release() line: 112\t\r\n    \tTaskletStep(AbstractStep).doExecutionRelease() line: 290\t\r\n    \tTaskletStep(AbstractStep).execute(StepExecution) line: 278\t\r\n    --&gt;\tSimpleStepHandler.handleStep(Step, JobExecution) line: 148\t\r\n    \tSimpleJob(AbstractJob).handleStep(Step, JobExecution) line: 392\t\r\n    \tSimpleJob.doExecute(JobExecution) line: 135\t\r\n    \tSimpleJob(AbstractJob).execute(JobExecution) line: 306\t\r\n    \tSimpleJobLauncher$1.run() line: 135\t\r\n    \tSyncTaskExecutor.execute(Runnable) line: 50\t\r\n    \tSimpleJobLauncher.run(Job, JobParameters) line: 128\t\r\n    \tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n    \tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 62\t\r\n    \tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43\t\r\n    \tMethod.invoke(Object, Object...) line: 497\t\r\n    \tAopUtils.invokeJoinpointUsingReflection(Object, Method, Object[]) line: 302\t\r\n    \tReflectiveMethodInvocation.invokeJoinpoint() line: 190\t\r\n    \tReflectiveMethodInvocation.proceed() line: 157\t\r\n    \tSimpleBatchConfiguration$PassthruAdvice.invoke(MethodInvocation) line: 127\t\r\n    \tReflectiveMethodInvocation.proceed() line: 179\t\r\n    \tJdkDynamicAopProxy.invoke(Object, Method, Object[]) line: 208\t\r\n    \t$Proxy105.run(Job, JobParameters) line: not available\t\r\n    \tMyMQListener$$EnhancerBySpringCGLIB$$28277c0e(MyMQListener).receiveMessage(TextMessage) line: 74\t\r\n    \tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n    \tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 62\t\r\n    \tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43\t\r\n    \tMethod.invoke(Object, Object...) line: 497\t\r\n    \tInvocableHandlerMethod.doInvoke(Object...) line: 198\t\r\n    \tInvocableHandlerMethod.invoke(Message&lt;?&gt;, Object...) line: 116\t\r\n    \tMessagingMessageListenerAdapter.invokeHandler(Message, Session, Message&lt;?&gt;) line: 90\t\r\n    \tMessagingMessageListenerAdapter.onMessage(Message, Session) line: 66\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).doInvokeListener(SessionAwareMessageListener, Session, Message) line: 721\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).invokeListener(Session, Message) line: 681\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).doExecuteListener(Session, Message) line: 651\t\r\n    \tDefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).doReceiveAndExecute(Object, Session, MessageConsumer, TransactionStatus) line: 315\t\r\n    \tDefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).receiveAndExecute(Object, Session, MessageConsumer) line: 253\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener() line: 1150\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop() line: 1142\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.run() line: 1039\t\r\n    \tThread.run() line: 745\t\r\n\r\nThe last common line in the stack is `SimpleStepHandler.handleStep(Step, JobExecution) line: 148`, marked with arrows.\r\n\r\nI currently have a special class-level boolean variable that only exists to make sure the guts of the close method only run once, but this seems not quite right to me.\r\n\r\nThere are no exceptions or problems with reading or writing. This is not due to Skip or Restart functionality.\r\n\r\nHow can I keep the ItemWriter.close() method from getting called twice?","title":"Spring Batch custom writer close method getting called twice (requiring special handling)","body":"<p>I have the following writer class prototype:</p>\n\n<pre><code>public class MyWriter extends AbstractItemStreamItemWriter&lt;FieldSet&gt; {\n    ...\n    @Override\n    public void close()\n    {\n        ...\n    {\n    ...\n}\n</code></pre>\n\n<p>My Job is defined by these <code>@Beans</code>:</p>\n\n<pre><code>    @Bean\n    protected Step step(ItemReader&lt;FieldSet&gt; reader, ItemWriter&lt;FieldSet&gt; writer)\n    {\n        return stepBuilder.get(\"step\")\n            .&lt;FieldSet, FieldSet&gt; chunk(chunkSize)\n            .reader(reader)\n            .writer(writer)\n            .listener(this)\n            .build();\n    }\n\n    @Bean\n    protected Job myImportJob(Step step, JobExecutionListener jobExecutionListener)\n    {\n        return jobBuilder\n            .get(\"myImportJob\")\n            .listener(jobExecutionListener)\n            .start(step)\n            .build();\n    }\n</code></pre>\n\n<p>The job is triggered from a MQ listener like this:</p>\n\n<pre><code>@Autowired\nprivate Job job;\n\n@Autowired\nprivate JobLauncher jobLauncher;\n\n@JmsListener(destination = \"queue_name\")\npublic void receiveMessage(TextMessage message) throws JMSException\n{\n    log.warn(\"Received message {} with listener {}.\", message, this);\n\n    JobParametersBuilder jobParametersBuilder = new JobParametersBuilder();\n\n    // add job parameters here\n    ...\n\n    JobParameters jobParameters = jobParametersBuilder.toJobParameters();\n\n    try\n    {\n        JobExecution jobExecution = jobLauncher.run(job, jobParameters);\n        log.trace(\"jobExecution = \" + jobExecution);\n    }\n    catch (JobExecutionException jee)\n    {\n        log.warn(\"Could not run job {}\", job);\n    }\n}\n</code></pre>\n\n<p>The problem I'm encountering is that MyWriter's close method gets called twice. The stack traces for each call are:</p>\n\n<pre><code>Thread [DefaultMessageListenerContainer-2] (Suspended (breakpoint at line 162 in MyWriter)) \n    MyWriter.close() line: 162  \n    MyWriter$$FastClassBySpringCGLIB$$80508a22.invoke(int, Object, Object[]) line: not available    \n    MethodProxy.invoke(Object, Object[]) line: 204  \n    CglibAopProxy$CglibMethodInvocation.invokeJoinpoint() line: 720 \n    CglibAopProxy$CglibMethodInvocation(ReflectiveMethodInvocation).proceed() line: 157 \n    DelegatingIntroductionInterceptor.doProceed(MethodInvocation) line: 133 \n    DelegatingIntroductionInterceptor.invoke(MethodInvocation) line: 121    \n    CglibAopProxy$CglibMethodInvocation(ReflectiveMethodInvocation).proceed() line: 179 \n    CglibAopProxy$DynamicAdvisedInterceptor.intercept(Object, Method, Object[], MethodProxy) line: 655  \n    MyWriter$$EnhancerBySpringCGLIB$$e345242b.close() line: not available   \n    CompositeItemStream.close() line: 85    \n    TaskletStep.close(ExecutionContext) line: 305   \n    TaskletStep(AbstractStep).execute(StepExecution) line: 271  \n--&gt; SimpleStepHandler.handleStep(Step, JobExecution) line: 148  \n    SimpleJob(AbstractJob).handleStep(Step, JobExecution) line: 392 \n    SimpleJob.doExecute(JobExecution) line: 135 \n    SimpleJob(AbstractJob).execute(JobExecution) line: 306  \n    SimpleJobLauncher$1.run() line: 135 \n    SyncTaskExecutor.execute(Runnable) line: 50 \n    SimpleJobLauncher.run(Job, JobParameters) line: 128 \n    NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \n    NativeMethodAccessorImpl.invoke(Object, Object[]) line: 62  \n    DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43  \n    Method.invoke(Object, Object...) line: 497  \n    AopUtils.invokeJoinpointUsingReflection(Object, Method, Object[]) line: 302 \n    ReflectiveMethodInvocation.invokeJoinpoint() line: 190  \n    ReflectiveMethodInvocation.proceed() line: 157  \n    SimpleBatchConfiguration$PassthruAdvice.invoke(MethodInvocation) line: 127  \n    ReflectiveMethodInvocation.proceed() line: 179  \n    JdkDynamicAopProxy.invoke(Object, Method, Object[]) line: 208   \n    $Proxy105.run(Job, JobParameters) line: not available   \n    MyMQListener$$EnhancerBySpringCGLIB$$28277c0e(MyMQListener).receiveMessage(TextMessage) line: 74    \n    NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \n    NativeMethodAccessorImpl.invoke(Object, Object[]) line: 62  \n    DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43  \n    Method.invoke(Object, Object...) line: 497  \n    InvocableHandlerMethod.doInvoke(Object...) line: 198    \n    InvocableHandlerMethod.invoke(Message&lt;?&gt;, Object...) line: 116  \n    MessagingMessageListenerAdapter.invokeHandler(Message, Session, Message&lt;?&gt;) line: 90    \n    MessagingMessageListenerAdapter.onMessage(Message, Session) line: 66    \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).doInvokeListener(SessionAwareMessageListener, Session, Message) line: 721 \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).invokeListener(Session, Message) line: 681    \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).doExecuteListener(Session, Message) line: 651 \n    DefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).doReceiveAndExecute(Object, Session, MessageConsumer, TransactionStatus) line: 315 \n    DefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).receiveAndExecute(Object, Session, MessageConsumer) line: 253  \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener() line: 1150 \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop() line: 1142 \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run() line: 1039    \n    Thread.run() line: 745  \n</code></pre>\n\n<p>and</p>\n\n<pre><code>Thread [DefaultMessageListenerContainer-2] (Suspended (breakpoint at line 162 in MyWriter)) \n    MyWriter.close() line: 162  \n    NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \n    NativeMethodAccessorImpl.invoke(Object, Object[]) line: 62  \n    DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43  \n    Method.invoke(Object, Object...) line: 497  \n    DisposableBeanAdapter.invokeCustomDestroyMethod(Method) line: 354   \n    DisposableBeanAdapter.destroy() line: 277   \n    DisposableBeanAdapter.run() line: 236   \n    StepContext.close() line: 213   \n    StepSynchronizationManager$1.close(StepContext) line: 53    \n    StepSynchronizationManager$1.close(Object) line: 36 \n    StepSynchronizationManager$1(SynchronizationManagerSupport&lt;E,C&gt;).release() line: 190    \n    StepSynchronizationManager.release() line: 112  \n    TaskletStep(AbstractStep).doExecutionRelease() line: 290    \n    TaskletStep(AbstractStep).execute(StepExecution) line: 278  \n--&gt; SimpleStepHandler.handleStep(Step, JobExecution) line: 148  \n    SimpleJob(AbstractJob).handleStep(Step, JobExecution) line: 392 \n    SimpleJob.doExecute(JobExecution) line: 135 \n    SimpleJob(AbstractJob).execute(JobExecution) line: 306  \n    SimpleJobLauncher$1.run() line: 135 \n    SyncTaskExecutor.execute(Runnable) line: 50 \n    SimpleJobLauncher.run(Job, JobParameters) line: 128 \n    NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \n    NativeMethodAccessorImpl.invoke(Object, Object[]) line: 62  \n    DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43  \n    Method.invoke(Object, Object...) line: 497  \n    AopUtils.invokeJoinpointUsingReflection(Object, Method, Object[]) line: 302 \n    ReflectiveMethodInvocation.invokeJoinpoint() line: 190  \n    ReflectiveMethodInvocation.proceed() line: 157  \n    SimpleBatchConfiguration$PassthruAdvice.invoke(MethodInvocation) line: 127  \n    ReflectiveMethodInvocation.proceed() line: 179  \n    JdkDynamicAopProxy.invoke(Object, Method, Object[]) line: 208   \n    $Proxy105.run(Job, JobParameters) line: not available   \n    MyMQListener$$EnhancerBySpringCGLIB$$28277c0e(MyMQListener).receiveMessage(TextMessage) line: 74    \n    NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \n    NativeMethodAccessorImpl.invoke(Object, Object[]) line: 62  \n    DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43  \n    Method.invoke(Object, Object...) line: 497  \n    InvocableHandlerMethod.doInvoke(Object...) line: 198    \n    InvocableHandlerMethod.invoke(Message&lt;?&gt;, Object...) line: 116  \n    MessagingMessageListenerAdapter.invokeHandler(Message, Session, Message&lt;?&gt;) line: 90    \n    MessagingMessageListenerAdapter.onMessage(Message, Session) line: 66    \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).doInvokeListener(SessionAwareMessageListener, Session, Message) line: 721 \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).invokeListener(Session, Message) line: 681    \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).doExecuteListener(Session, Message) line: 651 \n    DefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).doReceiveAndExecute(Object, Session, MessageConsumer, TransactionStatus) line: 315 \n    DefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).receiveAndExecute(Object, Session, MessageConsumer) line: 253  \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener() line: 1150 \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop() line: 1142 \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run() line: 1039    \n    Thread.run() line: 745  \n</code></pre>\n\n<p>The last common line in the stack is <code>SimpleStepHandler.handleStep(Step, JobExecution) line: 148</code>, marked with arrows.</p>\n\n<p>I currently have a special class-level boolean variable that only exists to make sure the guts of the close method only run once, but this seems not quite right to me.</p>\n\n<p>There are no exceptions or problems with reading or writing. This is not due to Skip or Restart functionality.</p>\n\n<p>How can I keep the ItemWriter.close() method from getting called twice?</p>\n"},{"tags":["java","mysql","jsp","datetime","jdbc"],"comments":[{"owner":{"account_id":1194436,"reputation":5099,"user_id":1166447,"display_name":"Jhanvi"},"score":0,"creation_date":1384928316,"post_id":20088808,"comment_id":29929263,"body_markdown":"Please write some code.","body":"Please write some code."}],"answers":[{"tags":[],"owner":{"account_id":2496531,"reputation":2781,"user_id":2172752,"display_name":"MartenCatcher"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1384929684,"creation_date":1384929062,"answer_id":20089003,"question_id":20088808,"body_markdown":"To set date to prepared statement you need change type of value:\r\n\r\n    String date = request.getParameter(&quot;date&quot;);\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); // your template here\r\n    java.util.Date dateStr = formatter.parse(date);\r\n    java.sql.Date dateDB = new java.sql.Date(dateStr.getTime());\r\n\r\nnow convert String date to java.sql.Date and use another method:\r\n\r\n    preparedStatement.setDate(4,dateDB);","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>To set date to prepared statement you need change type of value:</p>\n\n<pre><code>String date = request.getParameter(\"date\");\nSimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd\"); // your template here\njava.util.Date dateStr = formatter.parse(date);\njava.sql.Date dateDB = new java.sql.Date(dateStr.getTime());\n</code></pre>\n\n<p>now convert String date to java.sql.Date and use another method:</p>\n\n<pre><code>preparedStatement.setDate(4,dateDB);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3605301,"reputation":320,"user_id":3007597,"display_name":"sumitsabhnani"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1549182726,"creation_date":1384929297,"answer_id":20089065,"question_id":20088808,"body_markdown":"Try reformating the date\r\n\r\n       String date = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;)\r\n                                 .format(new Date(request.getParameter(&quot;date&quot;)));\r\n\r\nand then insert into the database.\r\nNote that request.getParameter(&quot;date&quot;) should be in format 11/20/2013 for this to work or you can use a similar way to achieve.","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>Try reformating the date</p>\n\n<pre><code>   String date = new SimpleDateFormat(\"yyyy-MM-dd\")\n                             .format(new Date(request.getParameter(\"date\")));\n</code></pre>\n\n<p>and then insert into the database.\nNote that request.getParameter(\"date\") should be in format 11/20/2013 for this to work or you can use a similar way to achieve.</p>\n"},{"tags":[],"owner":{"account_id":40307,"reputation":3297,"user_id":116810,"accept_rate":80,"display_name":"Kimball Robinson"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1422918573,"creation_date":1422916898,"answer_id":28288202,"question_id":20088808,"body_markdown":"I had a similar error.  It turns out I just needed to update the jar version for mysql-connector-java (using maven)\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;...&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>I had a similar error.  It turns out I just needed to update the jar version for mysql-connector-java (using maven)</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;...&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7646572,"reputation":5204,"user_id":5797023,"display_name":"Serhii Maksymchuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487342537,"creation_date":1487235037,"answer_id":42268975,"question_id":20088808,"body_markdown":"If someone will have similar error for entity field with Data type annotated as `@Temporal`, the solution for me was to replace annotation value `TemporalType.TIMESTAMP` by `TemporalType.TIME`:\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date dateField;\r\n\r\nshould be like this:\r\n\r\n    @Temporal(TemporalType.TIME)\r\n    private Date dateField;\r\n\r\nAnother way to resolve this problem without any changes in code (at least for me) was to run application on higher Tomcat version, hope it will help.","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>If someone will have similar error for entity field with Data type annotated as <code>@Temporal</code>, the solution for me was to replace annotation value <code>TemporalType.TIMESTAMP</code> by <code>TemporalType.TIME</code>:</p>\n\n<pre><code>@Temporal(TemporalType.TIMESTAMP)\nprivate Date dateField;\n</code></pre>\n\n<p>should be like this:</p>\n\n<pre><code>@Temporal(TemporalType.TIME)\nprivate Date dateField;\n</code></pre>\n\n<p>Another way to resolve this problem without any changes in code (at least for me) was to run application on higher Tomcat version, hope it will help.</p>\n"},{"tags":[],"owner":{"account_id":4572120,"reputation":1820,"user_id":3711562,"display_name":"Anantha Raju C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497614708,"creation_date":1497614708,"answer_id":44588850,"question_id":20088808,"body_markdown":"Make sure that the Date value that you are trying to insert into the table is exactly in the format defined in the date column of your table. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xH2Bb.png","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>Make sure that the Date value that you are trying to insert into the table is exactly in the format defined in the date column of your table. </p>\n\n<p><a href=\"https://i.stack.imgur.com/xH2Bb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xH2Bb.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499033044,"creation_date":1499033044,"answer_id":44875611,"question_id":20088808,"body_markdown":"I know this is an old thread, but none of these solutions solved the problem for me. What worked for me was to upgrade hibernate to version 5.2.10.Final (see [this SO post][1]).\r\n\r\nRunning Spring Boot and Spring Data JPA 1.5.4.RELEASE and hibernate 5.2.10.Final.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43897326/java-zoneddatetime-save-in-the-database","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>I know this is an old thread, but none of these solutions solved the problem for me. What worked for me was to upgrade hibernate to version 5.2.10.Final (see <a href=\"https://stackoverflow.com/questions/43897326/java-zoneddatetime-save-in-the-database\">this SO post</a>).</p>\n\n<p>Running Spring Boot and Spring Data JPA 1.5.4.RELEASE and hibernate 5.2.10.Final.</p>\n"},{"tags":[],"owner":{"account_id":139351,"reputation":907,"user_id":344887,"display_name":"JERKER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665047191,"creation_date":1665047191,"answer_id":73971225,"question_id":20088808,"body_markdown":"Accepted answer only handles date, not datetime. Anyways...\r\n\r\nMy problem was it didn&#39;t accept really old datetime&#39;s. I generated date in .net environment, where default date was &quot;1900-01-01 01:01:01&quot;. I had to change date to somthing later in time... Ooops.\r\n\r\nMy error message:\r\n\r\n    com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: &#39;1900-01-01 01:01:01&#39; for column &#39;added&#39; at row 1","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>Accepted answer only handles date, not datetime. Anyways...</p>\n<p>My problem was it didn't accept really old datetime's. I generated date in .net environment, where default date was &quot;1900-01-01 01:01:01&quot;. I had to change date to somthing later in time... Ooops.</p>\n<p>My error message:</p>\n<pre><code>com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: '1900-01-01 01:01:01' for column 'added' at row 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986826,"reputation":2226,"user_id":4175822,"display_name":"spacether"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678739945,"creation_date":1677796689,"answer_id":75621494,"question_id":20088808,"body_markdown":"This issue came up for me using mysql and inserting TIMESTAMP data. When times in dropped DST hours were input, mysql was unable to insert a record with that timestamp data. There are mysql docs on how to fix it here:\r\nhttps://dev.mysql.com/doc/connector-j/8.0/en/connector-j-time-instants.html\r\n\r\nAnd I fixed it by appending:\r\n`?connectionTimeZone=LOCAL&amp;forceConnectionTimeZoneToSession=true` onto the db connection url which is solution 2b","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>This issue came up for me using mysql and inserting TIMESTAMP data. When times in dropped DST hours were input, mysql was unable to insert a record with that timestamp data. There are mysql docs on how to fix it here:\n<a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-time-instants.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-time-instants.html</a></p>\n<p>And I fixed it by appending:\n<code>?connectionTimeZone=LOCAL&amp;forceConnectionTimeZoneToSession=true</code> onto the db connection url which is solution 2b</p>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678994255,"creation_date":1678994255,"answer_id":75760751,"question_id":20088808,"body_markdown":"In my case, I was converting an epoch time value that was precise to the millisecond to a Timestamp object then I was using that object in my PreparedStatement. The solution for me was to simply divide the time value by 1000 so that it was only accurate to the second and it worked.","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>In my case, I was converting an epoch time value that was precise to the millisecond to a Timestamp object then I was using that object in my PreparedStatement. The solution for me was to simply divide the time value by 1000 so that it was only accurate to the second and it worked.</p>\n"}],"owner":{"account_id":3532319,"reputation":409,"user_id":2951465,"accept_rate":44,"display_name":"user2951465"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126312,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":20089003,"answer_count":9,"score":22,"last_activity_date":1678994255,"creation_date":1384928283,"question_id":20088808,"body_markdown":"Can anyone help me with a sample JSP code to store date in a MySql database through JDBC?\r\nWhen I try to execute the code given below, I get the following exception:\r\n\r\n&gt; com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: &#39;&#39; for column &#39;date&#39; at row 1\r\n\r\nHow to overcome this problem? Following is my code:\r\n        \r\n    Connection con = null;\r\n\r\n    String StaffName = request.getParameter(&quot;StaffName&quot;);\r\n    // String subcode = request.getParameter(&quot;subcode&quot;);\r\n    String hourId = request.getParameter(&quot;hourId&quot;);\r\n    if (hourId == null)\r\n        hourId = &quot;&quot;;\r\n    String day = request.getParameter(&quot;day&quot;);\r\n    if (day == null)\r\n        day = &quot;&quot;;\r\n    String date = request.getParameter(&quot;date&quot;);\r\n    try {\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/StaffAllocation&quot;, &quot;root&quot;, &quot;success&quot;);\r\n\r\n        // PreparedStatement stat = con.PrepareStatement();\r\n        String updateString = &quot;INSERT INTO tblstaffallocation (StaffName,hourId,daysId,date) VALUES (?,?,?,?)&quot;;\r\n        PreparedStatement preparedStatement = con.prepareStatement(updateString);\r\n\r\n        preparedStatement.setString(1, StaffName);\r\n        preparedStatement.setInt(2, 0);\r\n        preparedStatement.setInt(3, 0);\r\n        preparedStatement.setString(4, date);\r\n    } catch (Exception e) {\r\n        out.print(e);\r\n    }","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>Can anyone help me with a sample JSP code to store date in a MySql database through JDBC?\nWhen I try to execute the code given below, I get the following exception:</p>\n\n<blockquote>\n  <p>com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: '' for column 'date' at row 1</p>\n</blockquote>\n\n<p>How to overcome this problem? Following is my code:</p>\n\n<pre><code>Connection con = null;\n\nString StaffName = request.getParameter(\"StaffName\");\n// String subcode = request.getParameter(\"subcode\");\nString hourId = request.getParameter(\"hourId\");\nif (hourId == null)\n    hourId = \"\";\nString day = request.getParameter(\"day\");\nif (day == null)\n    day = \"\";\nString date = request.getParameter(\"date\");\ntry {\n    Class.forName(\"com.mysql.jdbc.Driver\");\n    con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/StaffAllocation\", \"root\", \"success\");\n\n    // PreparedStatement stat = con.PrepareStatement();\n    String updateString = \"INSERT INTO tblstaffallocation (StaffName,hourId,daysId,date) VALUES (?,?,?,?)\";\n    PreparedStatement preparedStatement = con.prepareStatement(updateString);\n\n    preparedStatement.setString(1, StaffName);\n    preparedStatement.setInt(2, 0);\n    preparedStatement.setInt(3, 0);\n    preparedStatement.setString(4, date);\n} catch (Exception e) {\n    out.print(e);\n}\n</code></pre>\n"},{"tags":["java","spring","boot"],"comments":[{"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"score":0,"creation_date":1675771442,"post_id":75372874,"comment_id":132996395,"body_markdown":"can you provide your application configuration","body":"can you provide your application configuration"},{"owner":{"account_id":21739251,"reputation":179,"user_id":16046846,"display_name":"Konstantinos K."},"score":0,"creation_date":1675780789,"post_id":75372874,"comment_id":132999588,"body_markdown":"Can you provide us with your full pom.xml file;","body":"Can you provide us with your full pom.xml file;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675800645,"post_id":75372874,"comment_id":133005864,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":27724829,"reputation":11,"user_id":21164598,"display_name":"kiran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678993988,"creation_date":1676011128,"answer_id":75407685,"question_id":75372874,"body_markdown":"it was fixed after adding the keystore properties to management port .\r\n\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n             include: [&quot;health&quot;, &quot;info&quot;, &quot;metrics&quot;, &quot;prometheus&quot;, &quot;bindings&quot;, &quot;beans&quot;, &quot;env&quot;, &quot;loggers&quot;,&quot;actuator&quot;]\r\n          base-path: /\r\n          path-mapping:\r\n            prometheus: metrics\r\n        prometheus:\r\n          enabled: true\r\n      server:\r\n        port: ${npbprog.metrics.server.port}\r\n        ssl:\r\n          enabled: true \r\n           key-store: ${ssl.key-store}\r\n        key-store-type: ${ssl.key-store-type}\r\n        key-store-password: ${ssl.key-store-password}\r\n        key-password: ${ssl.key-password}\r\n        key-alias: ${ssl.key-alias}\r\n        protocol: TLS \r\n        enabled-protocols: \r\n        - TLSv1.2  \r\n\r\n","title":"Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Could not load key","body":"<p>it was fixed after adding the keystore properties to management port .</p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n         include: [&quot;health&quot;, &quot;info&quot;, &quot;metrics&quot;, &quot;prometheus&quot;, &quot;bindings&quot;, &quot;beans&quot;, &quot;env&quot;, &quot;loggers&quot;,&quot;actuator&quot;]\n      base-path: /\n      path-mapping:\n        prometheus: metrics\n    prometheus:\n      enabled: true\n  server:\n    port: ${npbprog.metrics.server.port}\n    ssl:\n      enabled: true \n       key-store: ${ssl.key-store}\n    key-store-type: ${ssl.key-store-type}\n    key-store-password: ${ssl.key-store-password}\n    key-password: ${ssl.key-password}\n    key-alias: ${ssl.key-alias}\n    protocol: TLS \n    enabled-protocols: \n    - TLSv1.2  \n</code></pre>\n"}],"owner":{"account_id":27724829,"reputation":11,"user_id":21164598,"display_name":"kiran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2019,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75407685,"answer_count":1,"score":0,"last_activity_date":1678993988,"creation_date":1675770147,"question_id":75372874,"body_markdown":"Any one help me with this below error \r\n\r\n org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Could not load key store &#39;null&#39;\r\n\r\ni have placed the key store file out side the project . i check key file also using keytool list command. Still application not starting .\r\n\r\ni am using java 11 , maven 3.6.3 . spring boot 2.3.2 release \r\n\r\ni did not find any solutions for it .\r\n\r\nbut i tried loading keystore inside the project , outside, adding new key file . northing works .","title":"Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Could not load key","body":"<p>Any one help me with this below error</p>\n<p>org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Could not load key store 'null'</p>\n<p>i have placed the key store file out side the project . i check key file also using keytool list command. Still application not starting .</p>\n<p>i am using java 11 , maven 3.6.3 . spring boot 2.3.2 release</p>\n<p>i did not find any solutions for it .</p>\n<p>but i tried loading keystore inside the project , outside, adding new key file . northing works .</p>\n"},{"tags":["java","xpath","webdriver"],"comments":[{"owner":{"account_id":1203541,"reputation":24718,"user_id":1173729,"accept_rate":75,"display_name":"Arran"},"score":7,"creation_date":1383298008,"post_id":19721111,"comment_id":29302835,"body_markdown":"I don&#39;t get it...what&#39;s wrong with an **equals** search? ...`//button[text()=&#39;abc&#39;]`....?","body":"I don&#39;t get it...what&#39;s wrong with an <b>equals</b> search? ...<code>&#47;&#47;button[text()=&#39;abc&#39;]</code>....?"},{"owner":{"account_id":2922082,"reputation":3729,"user_id":2504101,"accept_rate":86,"display_name":"olyv"},"score":3,"creation_date":1383304581,"post_id":19721111,"comment_id":29305593,"body_markdown":"@Arrana looks like the wrong was `//button[Text=&#39;abc&#39;]` but the right one is `//button[Text()=&#39;abc&#39;]` (as you wrote)","body":"@Arrana looks like the wrong was <code>&#47;&#47;button[Text=&#39;abc&#39;]</code> but the right one is <code>&#47;&#47;button[Text()=&#39;abc&#39;]</code> (as you wrote)"},{"owner":{"account_id":3263191,"reputation":521,"user_id":2748305,"accept_rate":25,"display_name":"souvik"},"score":0,"creation_date":1465393300,"post_id":19721111,"comment_id":62882339,"body_markdown":"Yes its absolutely right....it would be something like an Equal search...//button[text()=&#39;abc&#39;] this xpath works properly...thanks a lot.","body":"Yes its absolutely right....it would be something like an Equal search...//button[text()=&#39;abc&#39;] this xpath works properly...thanks a lot."},{"owner":{"account_id":1617069,"reputation":19784,"user_id":4094231,"accept_rate":46,"display_name":"Umair Ayub"},"score":0,"creation_date":1640153785,"post_id":19721111,"comment_id":124525350,"body_markdown":"How to do case-insensitive exact match?","body":"How to do case-insensitive exact match?"}],"answers":[{"tags":[],"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383283223,"creation_date":1383283223,"answer_id":19721251,"question_id":19721111,"body_markdown":"Try with ends-with instead of contains. If the buttons dont have unique attributes, you can add the parent hierarchy as well. Like //table/tr/td[1].","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>Try with ends-with instead of contains. If the buttons dont have unique attributes, you can add the parent hierarchy as well. Like //table/tr/td[1].</p>\n"},{"tags":[],"owner":{"account_id":2922082,"reputation":3729,"user_id":2504101,"accept_rate":86,"display_name":"olyv"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1383292910,"creation_date":1383292910,"answer_id":19722904,"question_id":19721111,"body_markdown":"I would use next xpath `//button[text()=&#39;abc&#39;]`. You have mentioned `text()` function but I&#39;m not sure syntax was correct. Also you tried to use `contains()` -- it searches partial text and WebDriver gets first element found. I your case it is `&lt;button&gt;abcd&lt;/button&gt;` button","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>I would use next xpath <code>//button[text()='abc']</code>. You have mentioned <code>text()</code> function but I'm not sure syntax was correct. Also you tried to use <code>contains()</code> -- it searches partial text and WebDriver gets first element found. I your case it is <code>&lt;button&gt;abcd&lt;/button&gt;</code> button</p>\n"},{"tags":[],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1529415267,"creation_date":1523516530,"answer_id":49790024,"question_id":19721111,"body_markdown":"    //button[.=&quot;abc&quot;]\r\n\r\nThe dot before the equality operator will do the text comparison.  Another example is `/PROJECT[.=&quot;MyProject&quot;]` from the [xPath Java tutorial][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/jaxp/xslt/xpath.html","title":"How to search node by exact text match using Xpath in webdriver","body":"<pre><code>//button[.=\"abc\"]\n</code></pre>\n\n<p>The dot before the equality operator will do the text comparison.  Another example is <code>/PROJECT[.=\"MyProject\"]</code> from the <a href=\"https://docs.oracle.com/javase/tutorial/jaxp/xslt/xpath.html\" rel=\"noreferrer\">xPath Java tutorial</a>.</p>\n"},{"tags":[],"owner":{"account_id":9096692,"reputation":363,"user_id":6770421,"display_name":"Priyanka Chaturvedi"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1531556076,"creation_date":1531556076,"answer_id":51336623,"question_id":19721111,"body_markdown":"To find the element &#39;abcd&#39; you can simply use:\r\n\r\n    //button[contains(text(),&#39;abcd&#39;)]\r\n\r\nTo find &#39;abc&#39; use the normalize-space() function which will clean up your text for comparison purposes. \r\n\r\n    //button[normalize-space(text())=&#39;abc&#39;]\r\n\r\n","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>To find the element 'abcd' you can simply use:</p>\n\n<pre><code>//button[contains(text(),'abcd')]\n</code></pre>\n\n<p>To find 'abc' use the normalize-space() function which will clean up your text for comparison purposes. </p>\n\n<pre><code>//button[normalize-space(text())='abc']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8779620,"reputation":161,"user_id":6563634,"display_name":"asadahm"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1566198820,"creation_date":1566197229,"answer_id":57551685,"question_id":19721111,"body_markdown":"For exact search:\r\n\r\n    button[text()=&#39;abc&#39;]\r\n\r\nFor pattern matching search:\r\n\r\n    button[starts-with(.,&#39;abc&#39;)]","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>For exact search:</p>\n\n<pre><code>button[text()='abc']\n</code></pre>\n\n<p>For pattern matching search:</p>\n\n<pre><code>button[starts-with(.,'abc')]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18145525,"reputation":1,"user_id":13198896,"display_name":"Anshu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603372031,"creation_date":1603287534,"answer_id":64464799,"question_id":19721111,"body_markdown":"Using something like below worked perfectly fine for me. \r\n````\r\n//button[(contains(.,&#39;abc&#39;)) and not(contains(.,&#39;abcd&#39;))]\r\n````","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>Using something like below worked perfectly fine for me.</p>\n<pre><code>//button[(contains(.,'abc')) and not(contains(.,'abcd'))]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27634478,"reputation":1,"user_id":21092697,"display_name":"Nikunj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674816254,"creation_date":1674816254,"answer_id":75257011,"question_id":19721111,"body_markdown":"For exact search:\r\n.//button[./text()=&#39;abc&#39;]\r\n\r\nNote: make you there is no space is available into ","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>For exact search:\n.//button[./text()='abc']</p>\n<p>Note: make you there is no space is available into</p>\n"},{"tags":[],"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678993770,"creation_date":1678993770,"answer_id":75760683,"question_id":19721111,"body_markdown":"`//td//text()` will select both buttons\r\n\r\n`(//td//text())[1]` will select `&lt;button&gt;abcd&lt;/button&gt;` \r\n\r\n`(//td//text())[2]` will select `&lt;button&gt;abc&lt;/button&gt;` \r\n","title":"How to search node by exact text match using Xpath in webdriver","body":"<p><code>//td//text()</code> will select both buttons</p>\n<p><code>(//td//text())[1]</code> will select <code>&lt;button&gt;abcd&lt;/button&gt;</code></p>\n<p><code>(//td//text())[2]</code> will select <code>&lt;button&gt;abc&lt;/button&gt;</code></p>\n"}],"owner":{"account_id":3263191,"reputation":521,"user_id":2748305,"accept_rate":25,"display_name":"souvik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103792,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":8,"score":49,"last_activity_date":1678993770,"creation_date":1383282257,"question_id":19721111,"body_markdown":"I need a little help regarding searching an exact text using xpath in webDriver.\r\n\r\nSuppose i have the html as follows..\r\n\r\n    &lt;html&gt;&lt;body&gt;\r\n      &lt;table&gt;\r\n        &lt;tr&gt;\r\n          &lt;td&gt;&lt;button&gt;abcd&lt;/button&gt;&lt;/td&gt;\r\n          &lt;td&gt;&lt;button&gt;abc&lt;/button&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/table&gt;\r\n    &lt;/body&gt;&lt;/html&gt;\r\n\r\nNow i want to click button &quot;abc&quot;\r\n\r\nI used xpath as `//button[contains(text(),&#39;abc&#39;)]` but it is always performing on button &quot;abcd&quot; as it also contain the text &quot;abc&quot;. In this regards I need a predicate or some other procedure which can search exact text instead of containing text.\r\n\r\nI also tried with `//button[matches(text(),&#39;abc&#39;)]`,  `//button[matches($string,&#39;abc&#39;)]`, `//button[Text=&#39;abc&#39;)]`, `//button[.=&#39;abc&#39;)]` and many more but none of these worked out to identify &quot;abc&quot; button. \r\n\r\nI do not know if there is any problem regarding my xpath version as I&#39;m not aware of the version. But I&#39;m using java 1.6 JDK.\r\n\r\nThough my exact scenario is not the example shown but similar logic needs to be applied.\r\n\r\nHence any help or suggestion would be highly appreciated.","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>I need a little help regarding searching an exact text using xpath in webDriver.</p>\n\n<p>Suppose i have the html as follows..</p>\n\n<pre><code>&lt;html&gt;&lt;body&gt;\n  &lt;table&gt;\n    &lt;tr&gt;\n      &lt;td&gt;&lt;button&gt;abcd&lt;/button&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;button&gt;abc&lt;/button&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Now i want to click button \"abc\"</p>\n\n<p>I used xpath as <code>//button[contains(text(),'abc')]</code> but it is always performing on button \"abcd\" as it also contain the text \"abc\". In this regards I need a predicate or some other procedure which can search exact text instead of containing text.</p>\n\n<p>I also tried with <code>//button[matches(text(),'abc')]</code>,  <code>//button[matches($string,'abc')]</code>, <code>//button[Text='abc')]</code>, <code>//button[.='abc')]</code> and many more but none of these worked out to identify \"abc\" button. </p>\n\n<p>I do not know if there is any problem regarding my xpath version as I'm not aware of the version. But I'm using java 1.6 JDK.</p>\n\n<p>Though my exact scenario is not the example shown but similar logic needs to be applied.</p>\n\n<p>Hence any help or suggestion would be highly appreciated.</p>\n"},{"tags":["java","kotlin","initialization"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1678990525,"post_id":75760082,"comment_id":133644739,"body_markdown":"Fairly sure in Java `String name = &quot;Name&quot;` will actually be run _in_ the Java constructor if you inspect the byte code.  I am not familiar with Kotlin but it seems like `init` may be similar in the way that it works.","body":"Fairly sure in Java <code>String name = &quot;Name&quot;</code> will actually be run <i>in</i> the Java constructor if you inspect the byte code.  I am not familiar with Kotlin but it seems like <code>init</code> may be similar in the way that it works."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1678992425,"post_id":75760082,"comment_id":133645267,"body_markdown":"By &quot;before&quot;, do you mean written on a higher line in your file, or *executed* earlier in time? The second is not exactly true in your Java code above. `name` is initialized after the implicit super-constructor call that is first called inside your constructor.","body":"By &quot;before&quot;, do you mean written on a higher line in your file, or <i>executed</i> earlier in time? The second is not exactly true in your Java code above. <code>name</code> is initialized after the implicit super-constructor call that is first called inside your constructor."},{"owner":{"account_id":10074708,"reputation":1692,"user_id":7447228,"accept_rate":0,"display_name":"Ekaterina"},"score":0,"creation_date":1678992835,"post_id":75760082,"comment_id":133645386,"body_markdown":"executed earlier in time than the constructor of Cat1 class","body":"executed earlier in time than the constructor of Cat1 class"}],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678991761,"creation_date":1678991761,"answer_id":75760375,"question_id":75760082,"body_markdown":"&gt; Is it possible to initialize Kotlin instance variables before constructor like in Java\r\n\r\nYes, it is.\r\n\r\n&gt; Is there a similar code in Kotlin?\r\n\r\nYes, it&#39;s almost exactly the same. Explained in the documentation: \r\n\r\nhttps://kotlinlang.org/docs/classes.html#constructors\r\n\r\n&gt; Can we initialize an instance variable before the constructor?\r\n\r\nYes, you can.","title":"Is it possible to initialize Kotlin instance variables before constructor like in Java","body":"<blockquote>\n<p>Is it possible to initialize Kotlin instance variables before constructor like in Java</p>\n</blockquote>\n<p>Yes, it is.</p>\n<blockquote>\n<p>Is there a similar code in Kotlin?</p>\n</blockquote>\n<p>Yes, it's almost exactly the same. Explained in the documentation:</p>\n<p><a href=\"https://kotlinlang.org/docs/classes.html#constructors\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/classes.html#constructors</a></p>\n<blockquote>\n<p>Can we initialize an instance variable before the constructor?</p>\n</blockquote>\n<p>Yes, you can.</p>\n"},{"tags":[],"owner":{"account_id":26536005,"reputation":1,"user_id":21410102,"display_name":"Raquel Plane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678992170,"creation_date":1678992170,"answer_id":75760441,"question_id":75760082,"body_markdown":"In Kotlin you cannot instantiate a variable before the constructor but you can do something similar.\r\n\r\n 1. \r\n You can declare a variable without initialising it and then add its value to it in a function. This allows you to add its own functionality to it.\r\nFor example:\r\n\r\n    class one {\r\n      lateinit var variable1: String\r\n      \r\n      constructor(){}\r\n      \r\n      fun play() {\r\n        variable1 = &quot;one&quot;\r\n      }\r\n    }\r\n\r\n 2. \r\nYou can declare the variable with a null and then assign a value to it in the constructor. \r\nFor example:\r\n\r\n    class two(val parameter: Int) {\r\n        var two: String? = null\r\n    \r\n        init {\r\n            two= &quot;two&quot;\r\n        }\r\n    }\r\n\r\n","title":"Is it possible to initialize Kotlin instance variables before constructor like in Java","body":"<p>In Kotlin you cannot instantiate a variable before the constructor but you can do something similar.</p>\n<p>1.\nYou can declare a variable without initialising it and then add its value to it in a function. This allows you to add its own functionality to it.\nFor example:</p>\n<pre><code>class one {\n  lateinit var variable1: String\n  \n  constructor(){}\n  \n  fun play() {\n    variable1 = &quot;one&quot;\n  }\n}\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p>You can declare the variable with a null and then assign a value to it in the constructor.\nFor example:</p>\n<pre><code>class two(val parameter: Int) {\n    var two: String? = null\n\n    init {\n        two= &quot;two&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678993491,"creation_date":1678993491,"answer_id":75760644,"question_id":75760082,"body_markdown":"Just to be clear about what we&#39;re talking about, in your Java example, the member variables are getting initialized here:\r\n\r\n```java\r\npublic class Cat1 {\r\n    String name = &quot;Name&quot;;\r\n\r\n    public Cat1() {\r\n        // super(); &lt;-- Implicit when you omit it\r\n        // name gets initialized at this point of time during constructor call.\r\n        System.out.println(name); \r\n    }\r\n}\r\n```\r\n\r\nSo it&#39;s not initialized before the constructor, but it&#39;s initialized immediately following the super-constructor call.\r\n\r\nIn Kotlin, you have both property initializations and `init` blocks that are called *after* the initialization of any properties in the *primary* constructor, but before the code in the blocks of any *secondary* constructors.\r\n\r\nProperty initializations and `init` blocks are called in order from top to bottom.\r\n\r\nSo the simplest way to duplicate your class example is to use a primary constructor and an `init` block after your property:\r\n```kotlin\r\npublic class Cat1() { \r\n    var name: String = &quot;Name&quot;\r\n\r\n    init {\r\n        println(name)\r\n    }\r\n}\r\n```\r\nNote, parentheses for the primary constructor are optional if it has no parameters and there are no secondary constructors.\r\n\r\nIf you have a secondary constructor, your properties will initialized before its block of code:\r\n\r\n```kotlin\r\npublic class Cat1 { \r\n    var name: String = &quot;Name&quot;\r\n\r\n    constructor() {\r\n        println(name)\r\n    }\r\n}\r\n```\r\n...even if they are declared later (just like in Java):\r\n```kotlin\r\npublic class Cat1 { \r\n    constructor() {\r\n        println(name)\r\n    }\r\n\r\n    var name: String = &quot;Name&quot;\r\n}\r\n```","title":"Is it possible to initialize Kotlin instance variables before constructor like in Java","body":"<p>Just to be clear about what we're talking about, in your Java example, the member variables are getting initialized here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cat1 {\n    String name = &quot;Name&quot;;\n\n    public Cat1() {\n        // super(); &lt;-- Implicit when you omit it\n        // name gets initialized at this point of time during constructor call.\n        System.out.println(name); \n    }\n}\n</code></pre>\n<p>So it's not initialized before the constructor, but it's initialized immediately following the super-constructor call.</p>\n<p>In Kotlin, you have both property initializations and <code>init</code> blocks that are called <em>after</em> the initialization of any properties in the <em>primary</em> constructor, but before the code in the blocks of any <em>secondary</em> constructors.</p>\n<p>Property initializations and <code>init</code> blocks are called in order from top to bottom.</p>\n<p>So the simplest way to duplicate your class example is to use a primary constructor and an <code>init</code> block after your property:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>public class Cat1() { \n    var name: String = &quot;Name&quot;\n\n    init {\n        println(name)\n    }\n}\n</code></pre>\n<p>Note, parentheses for the primary constructor are optional if it has no parameters and there are no secondary constructors.</p>\n<p>If you have a secondary constructor, your properties will initialized before its block of code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>public class Cat1 { \n    var name: String = &quot;Name&quot;\n\n    constructor() {\n        println(name)\n    }\n}\n</code></pre>\n<p>...even if they are declared later (just like in Java):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>public class Cat1 { \n    constructor() {\n        println(name)\n    }\n\n    var name: String = &quot;Name&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":10074708,"reputation":1692,"user_id":7447228,"accept_rate":0,"display_name":"Ekaterina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75760644,"answer_count":3,"score":0,"last_activity_date":1678993491,"creation_date":1678990002,"question_id":75760082,"body_markdown":"In Java the `name` is initialized before the constructor:\r\n\r\n     public class Cat1 {\r\n        String name = &quot;Name&quot;;\r\n    \r\n        public Cat1() {\r\n            System.out.println(name);  //prints &quot; Name&quot;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new Cat1();\r\n        }\r\n    }\r\n\r\nIs there a similar code in Kotlin? Can we initialize an instance variable before the constructor?","title":"Is it possible to initialize Kotlin instance variables before constructor like in Java","body":"<p>In Java the <code>name</code> is initialized before the constructor:</p>\n<pre><code> public class Cat1 {\n    String name = &quot;Name&quot;;\n\n    public Cat1() {\n        System.out.println(name);  //prints &quot; Name&quot;\n    }\n\n    public static void main(String[] args) {\n        new Cat1();\n    }\n}\n</code></pre>\n<p>Is there a similar code in Kotlin? Can we initialize an instance variable before the constructor?</p>\n"},{"tags":["java","input"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1678993906,"post_id":75760580,"comment_id":133645632,"body_markdown":"&quot;The scanner reads up to the white space&quot; I think you are confused, your current code does not read anything, you do not have `keyboard.nextLine` or `keyboard.next` or any variation that moves the pointer. (I am not the downvoter)","body":"&quot;The scanner reads up to the white space&quot; I think you are confused, your current code does not read anything, you do not have <code>keyboard.nextLine</code> or <code>keyboard.next</code> or any variation that moves the pointer. (I am not the downvoter)"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1678994053,"post_id":75760580,"comment_id":133645666,"body_markdown":"https://stackoverflow.com/a/8352102/11434552 might have some information that can help you","body":"<a href=\"https://stackoverflow.com/a/8352102/11434552\">stackoverflow.com/a/8352102/11434552</a> might have some information that can help you"},{"owner":{"account_id":15958638,"reputation":11,"user_id":12740138,"display_name":"Kon"},"score":0,"creation_date":1678994809,"post_id":75760580,"comment_id":133645815,"body_markdown":"But keyboard.hasNext() asks for input doesn’t it ? At least in the above program , i get true after I enter something. So my question is why do I get true if there’s no next input ? Thanks a lot for your comments","body":"But keyboard.hasNext() asks for input doesn’t it ? At least in the above program , i get true after I enter something. So my question is why do I get true if there’s no next input ? Thanks a lot for your comments"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1678995204,"post_id":75760580,"comment_id":133645920,"body_markdown":"The [Javadocs](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNext--) state that &quot;This method may _block_ while waiting for input to scan.  The scanner does not advance past any input.&quot;  It blocks it does not &quot;ask for input&quot; and it does not move past the first character without using another method.","body":"The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNext--\" rel=\"nofollow noreferrer\">Javadocs</a> state that &quot;This method may <i>block</i> while waiting for input to scan.  The scanner does not advance past any input.&quot;  It blocks it does not &quot;ask for input&quot; and it does not move past the first character without using another method."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1678995364,"post_id":75760580,"comment_id":133645966,"body_markdown":"Here is another answer that pretty much answers your question directly: https://stackoverflow.com/a/29528355/11434552","body":"Here is another answer that pretty much answers your question directly: <a href=\"https://stackoverflow.com/a/29528355/11434552\">stackoverflow.com/a/29528355/11434552</a>"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1678995509,"post_id":75760580,"comment_id":133646002,"body_markdown":"So to summarize I think you are confused on two things.  1 - You need to call a `next` method in order to actually read the data, and 2 - `hasNext` will always be `true` if you are reading from `System.in` and not from a file.","body":"So to summarize I think you are confused on two things.  1 - You need to call a <code>next</code> method in order to actually read the data, and 2 - <code>hasNext</code> will always be <code>true</code> if you are reading from <code>System.in</code> and not from a file."},{"owner":{"account_id":15958638,"reputation":11,"user_id":12740138,"display_name":"Kon"},"score":0,"creation_date":1678995599,"post_id":75760580,"comment_id":133646023,"body_markdown":"This is great Nexevis! Appreciate it.","body":"This is great Nexevis! Appreciate it."}],"owner":{"account_id":15958638,"reputation":11,"user_id":12740138,"display_name":"Kon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678993076,"creation_date":1678992996,"question_id":75760580,"body_markdown":"Relatively new to Java and probably a very trivial question but I have been getting super confused. Suppose I have the following program:\r\n\r\n     Scanner keyboard = new Scanner(System.in);\r\n     System.out.println(keyboard.hasNext());\r\n\r\nWhen I run this program, it prompts me to enter something, I press enter and then the console output is (obviously) true. But precisely, how does the hasNext() method work? From the Oracle website: returns true if the scanner has another token in its input. In my example, there only **one** input . How exactly is being read and why exactly do I get true if there&#39;s **no next** input into the program? From what I understand the scanner breaks the input into tokens based on the delimiter (in this case we have the default delimiter), so in my case, say i enter &quot;test&quot;, then press enter. The scanner reads up to the white space but then there&#39;s no next token to read? Then why is hasNext true?\r\n\r\nHopfully not too silly but I am genuinely confused. \r\nMany thanks!\r\n\r\n\r\n\r\nI have tried various runs on the above code and i always get true. (obviously ctrl+D , ctrl+C kill the program)","title":"keyboard.hasNext() for console input","body":"<p>Relatively new to Java and probably a very trivial question but I have been getting super confused. Suppose I have the following program:</p>\n<pre><code> Scanner keyboard = new Scanner(System.in);\n System.out.println(keyboard.hasNext());\n</code></pre>\n<p>When I run this program, it prompts me to enter something, I press enter and then the console output is (obviously) true. But precisely, how does the hasNext() method work? From the Oracle website: returns true if the scanner has another token in its input. In my example, there only <strong>one</strong> input . How exactly is being read and why exactly do I get true if there's <strong>no next</strong> input into the program? From what I understand the scanner breaks the input into tokens based on the delimiter (in this case we have the default delimiter), so in my case, say i enter &quot;test&quot;, then press enter. The scanner reads up to the white space but then there's no next token to read? Then why is hasNext true?</p>\n<p>Hopfully not too silly but I am genuinely confused.\nMany thanks!</p>\n<p>I have tried various runs on the above code and i always get true. (obviously ctrl+D , ctrl+C kill the program)</p>\n"},{"tags":["java","maven","selenium-webdriver","inheritance","testng"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1678915055,"post_id":75719899,"comment_id":133627897,"body_markdown":"just because you&#39;ve extended a class doesn&#39;t mean all new class objects inherit the same instance of that super object.  They&#39;ll inherit properties and methods that are defined there (unless overridden) but without dependency injection you won&#39;t have the same driver.  I&#39;d stick with your frameworks architecture, which seems to be more about static classes.","body":"just because you&#39;ve extended a class doesn&#39;t mean all new class objects inherit the same instance of that super object.  They&#39;ll inherit properties and methods that are defined there (unless overridden) but without dependency injection you won&#39;t have the same driver.  I&#39;d stick with your frameworks architecture, which seems to be more about static classes."}],"answers":[{"tags":[],"owner":{"account_id":3411393,"reputation":306,"user_id":2861219,"accept_rate":100,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678700612,"creation_date":1678700130,"answer_id":75720113,"question_id":75719899,"body_markdown":"You&#39;re getting this  *java.lang.NullPointerException* because, in your first &#39;BasicAuthPages&#39; class, you have declared ```Webdriver driver ``` but this driver is NOT initialized.\r\n\r\nWhereas, in your second &#39;BasicAuthPages&#39; class, &#39;driver&#39; is initialized under the constructor of &#39;BasicAuthPages&#39; class. Hence, its working fine.\r\n\r\nIn first case, since you&#39;re extending the base class, no need to declare ```Webdriver driver ``` again in your page class &#39;BasicAuthPages&#39;. Since you have only declared the driver but not initialized, you&#39;re getting NullPOinterException when you&#39;re trying to access driver.","title":"The WebDriver initialized in BaseClass is not getting inherited in PageClass","body":"<p>You're getting this  <em>java.lang.NullPointerException</em> because, in your first 'BasicAuthPages' class, you have declared <code>Webdriver driver </code> but this driver is NOT initialized.</p>\n<p>Whereas, in your second 'BasicAuthPages' class, 'driver' is initialized under the constructor of 'BasicAuthPages' class. Hence, its working fine.</p>\n<p>In first case, since you're extending the base class, no need to declare <code>Webdriver driver </code> again in your page class 'BasicAuthPages'. Since you have only declared the driver but not initialized, you're getting NullPOinterException when you're trying to access driver.</p>\n"},{"tags":[],"owner":{"account_id":8333123,"reputation":51,"user_id":6260960,"display_name":"gords"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678701678,"creation_date":1678701678,"answer_id":75720352,"question_id":75719899,"body_markdown":"If you ever want to run tests in parallel (needed for a big suite of tests to run as quickly as possible) then the driver is best initialised in the test class\r\n\r\nIf the Page Object classes inherit from the Base class, then pass in the driver during initalisation","title":"The WebDriver initialized in BaseClass is not getting inherited in PageClass","body":"<p>If you ever want to run tests in parallel (needed for a big suite of tests to run as quickly as possible) then the driver is best initialised in the test class</p>\n<p>If the Page Object classes inherit from the Base class, then pass in the driver during initalisation</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678706407,"creation_date":1678706407,"answer_id":75721184,"question_id":75719899,"body_markdown":"Try using `super()` keyword in the `BaseAuthPages` constructor as below:\r\n\r\n````\r\npublic class BasicAuthPages extends BaseClass {\r\n\r\n//WebDriver driver;\r\npublic BasicAuthPages() {\r\n\t\tsuper();\r\n}\t\r\nBy congratulationMessage = By.xpath(&quot;//p[contains(text(),&#39;Congratulations&#39;)]&quot;);\r\n````\r\n\r\n`super` keyword is used to refer to parent class objects. In your case, to the `BaseClass` objects.","title":"The WebDriver initialized in BaseClass is not getting inherited in PageClass","body":"<p>Try using <code>super()</code> keyword in the <code>BaseAuthPages</code> constructor as below:</p>\n<pre><code>public class BasicAuthPages extends BaseClass {\n\n//WebDriver driver;\npublic BasicAuthPages() {\n        super();\n}   \nBy congratulationMessage = By.xpath(&quot;//p[contains(text(),'Congratulations')]&quot;);\n</code></pre>\n<p><code>super</code> keyword is used to refer to parent class objects. In your case, to the <code>BaseClass</code> objects.</p>\n"},{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678992848,"creation_date":1678992848,"answer_id":75760553,"question_id":75719899,"body_markdown":"Make below change so that Driver it is stored as Static will tie it to Class rather Instance of the Class\r\n\r\n    protected WebDriver driver;\r\n   to \r\n\r\n    protected static WebDriver driver;\r\n\r\nWhen you are Inheriting Base class everything will be null as your inheriting the properties of this class ,not the initialisation done in BaseClass by TestNG\r\n\r\n","title":"The WebDriver initialized in BaseClass is not getting inherited in PageClass","body":"<p>Make below change so that Driver it is stored as Static will tie it to Class rather Instance of the Class</p>\n<pre><code>protected WebDriver driver;\n</code></pre>\n<p>to</p>\n<pre><code>protected static WebDriver driver;\n</code></pre>\n<p>When you are Inheriting Base class everything will be null as your inheriting the properties of this class ,not the initialisation done in BaseClass by TestNG</p>\n"}],"owner":{"account_id":21808223,"reputation":9,"user_id":16106145,"display_name":"Sandesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1678992848,"creation_date":1678699006,"question_id":75719899,"body_markdown":"I am writing a simple Selenium with TestNG code. I have initialized the driver in the Base Class and both the page class and test class are extending base class, however, the driver is not getting inherited in the page class. However, the same driver is getting inherited in the test class. Can someone please explain why this is happening? **Edited: removed the WebDriver driver from the pageclass but it giving the same error :java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null**\r\n\r\n**Base Class**\r\n\r\n    public class BaseClass {\r\n\tprotected WebDriver driver;\r\n\tprotected String username;\r\n\tprotected String password;\r\n\tprotected String browserName;\r\n\tprotected String url;\r\n\r\n\t@BeforeSuite\r\n\tpublic void setUp() throws IOException, InterruptedException {\r\n\t\tusername = &quot;admin&quot;;\r\n\t\tpassword = &quot;admin&quot;;\r\n\t\tbrowserName = &quot;chrome&quot;;\r\n\t\turl = &quot;https://practice-cybertekschool.herokuapp.com/&quot;;\r\n\r\n\t\t// get the driver setp and type and the browser\r\n\t\tif (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\r\n\t\t\tWebDriverManager.chromedriver().setup();\r\n\t\t\tdriver = new ChromeDriver();\r\n\t\t} else if (browserName.equalsIgnoreCase(&quot;FireFox&quot;)) {\r\n\t\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\t\tdriver = new FirefoxDriver();\r\n\t\t} else if (browserName.equalsIgnoreCase(&quot;Edge&quot;)) {\r\n\t\t\tWebDriverManager.edgedriver().setup();\r\n\t\t\tdriver = new EdgeDriver();\r\n\t\t}\r\n\r\n\t\tdriver.manage().deleteAllCookies();\r\n\t\tdriver.manage().window().maximize();\r\n\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t\tdriver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\r\n\t\tdriver.get(url);\r\n\r\n\t}\r\n\r\n\t@AfterSuite\r\n\tpublic void tearDown() {\r\n\t\tdriver.quit();\r\n\t}\r\n\r\n    }\r\n\r\n**Page Class**\r\n   \r\n\r\n     public class BasicAuthPages extends BaseClass {\r\n\r\n    \tBy congratulationMessage = By.xpath(&quot;//p[contains(text(),&#39;Congratulations&#39;)]&quot;);\r\n    \t\r\n\r\n\t// for authentication\r\n\tpublic boolean authentication() {\r\n\t\r\n\t\tdriver.get(&quot;https://&quot;+username+&quot;:&quot;+password+&quot;@practice-cybertekschool.herokuapp.com/basic_auth&quot;);\r\n\t\treturn authenticationMessage();\r\n\t}\r\n\r\n\t// to get authentication message\r\n\tprivate boolean authenticationMessage() {\r\n\t\tString message = driver.findElement(congratulationMessage).getText();\r\n\t\t//System.out.println(message);\r\n\t\tif (message.equals(&quot;Congratulations! You must have the proper credentials.&quot;)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\n\r\n**Test Class**\r\n\r\n    public class Tests extends BaseClass {\r\n    \tBasicAuthPages basicAuthPages;\r\n    \t\r\n\r\n\t@Test\r\n\tpublic void authTest() {\r\n\t\tbasicAuthPages = new BasicAuthPages();\r\n\t\tBoolean success = basicAuthPages.authentication();\r\n\t\t// System.out.println(username+&quot; :&quot;+password);\r\n\t\tAssert.assertTrue(success);\r\n\t}\r\n    }\r\n\r\nOn running this, it gives java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null exception. However, the driver gets initialized in Test class and if I make the following changes, it runs. \r\n\r\n**Base Class**\r\n\r\n    public class BaseClass {\r\n\tprotected WebDriver driver;\r\n\tprotected String username;\r\n\tprotected String password;\r\n\tprotected String browserName;\r\n\tprotected String url;\r\n\r\n\t@BeforeSuite\r\n\tpublic void setUp() throws IOException, InterruptedException {\r\n\t\tusername = &quot;admin&quot;;\r\n\t\tpassword = &quot;admin&quot;;\r\n\t\tbrowserName = &quot;chrome&quot;;\r\n\t\turl = &quot;https://practice-cybertekschool.herokuapp.com/&quot;;\r\n\r\n\t\t// get the driver setp and type and the browser\r\n\t\tif (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\r\n\t\t\tWebDriverManager.chromedriver().setup();\r\n\t\t\tdriver = new ChromeDriver();\r\n\t\t} else if (browserName.equalsIgnoreCase(&quot;FireFox&quot;)) {\r\n\t\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\t\tdriver = new FirefoxDriver();\r\n\t\t} else if (browserName.equalsIgnoreCase(&quot;Edge&quot;)) {\r\n\t\t\tWebDriverManager.edgedriver().setup();\r\n\t\t\tdriver = new EdgeDriver();\r\n\t\t}\r\n\r\n\t\tdriver.manage().deleteAllCookies();\r\n\t\tdriver.manage().window().maximize();\r\n\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t\tdriver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\r\n\t\tdriver.get(url);\r\n\r\n\t}\r\n\r\n\t@AfterSuite\r\n\tpublic void tearDown() {\r\n\t\tdriver.quit();\r\n\t}\r\n}\r\n\r\n**Page Class**\r\n\r\n    public class BasicAuthPages extends BaseClass {\r\n\tWebDriver driver;\r\n\tBy congratulationMessage = By.xpath(&quot;//p[contains(text(),&#39;Congratulations&#39;)]&quot;);\r\n\r\n\tpublic BasicAuthPages(WebDriver driver) {\r\n\t\tthis.driver = driver;\r\n\t}\r\n\r\n\t// for authentication\r\n\tpublic boolean authentication(String username, String password) {\r\n\t\tdriver.get(&quot;https://&quot;+username+&quot;:&quot;+password+&quot;@practice-cybertekschool.herokuapp.com/basic_auth&quot;);\r\n\t\treturn authenticationMessage();\r\n\t}\r\n\r\n\t// to get authentication message\r\n\tprivate boolean authenticationMessage() {\r\n\t\tString message = driver.findElement(congratulationMessage).getText();\r\n\t\t//System.out.println(message);\r\n\t\tif (message.equals(&quot;Congratulations! You must have the proper credentials.&quot;)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\n**Test Class**\r\n\r\n    public class Tests extends BaseClass {\r\n\tBasicAuthPages basicAuthPages;\r\n\tCheckBoxPages checkBoxPages;\r\n\r\n\t@Test\r\n\tpublic void authTest() {\r\n\t\tbasicAuthPages = new BasicAuthPages(driver);\r\n\t\tBoolean success = basicAuthPages.authentication(username, password);\r\n\t\t// System.out.println(username+&quot; :&quot;+password);\r\n\t\tAssert.assertTrue(success);\r\n\t}\r\n    }\r\n**Please someone explain me why the driver is not getting inherited in the first case? The driver gets inherited in the second one where it gets inherited in the test class and why not on the first one on the page class? Thank you in advance** \r\n ","title":"The WebDriver initialized in BaseClass is not getting inherited in PageClass","body":"<p>I am writing a simple Selenium with TestNG code. I have initialized the driver in the Base Class and both the page class and test class are extending base class, however, the driver is not getting inherited in the page class. However, the same driver is getting inherited in the test class. Can someone please explain why this is happening? <strong>Edited: removed the WebDriver driver from the pageclass but it giving the same error :java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null</strong></p>\n<p><strong>Base Class</strong></p>\n<pre><code>public class BaseClass {\nprotected WebDriver driver;\nprotected String username;\nprotected String password;\nprotected String browserName;\nprotected String url;\n\n@BeforeSuite\npublic void setUp() throws IOException, InterruptedException {\n    username = &quot;admin&quot;;\n    password = &quot;admin&quot;;\n    browserName = &quot;chrome&quot;;\n    url = &quot;https://practice-cybertekschool.herokuapp.com/&quot;;\n\n    // get the driver setp and type and the browser\n    if (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n    } else if (browserName.equalsIgnoreCase(&quot;FireFox&quot;)) {\n        WebDriverManager.firefoxdriver().setup();\n        driver = new FirefoxDriver();\n    } else if (browserName.equalsIgnoreCase(&quot;Edge&quot;)) {\n        WebDriverManager.edgedriver().setup();\n        driver = new EdgeDriver();\n    }\n\n    driver.manage().deleteAllCookies();\n    driver.manage().window().maximize();\n\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\n    driver.get(url);\n\n}\n\n@AfterSuite\npublic void tearDown() {\n    driver.quit();\n}\n\n}\n</code></pre>\n<p><strong>Page Class</strong></p>\n<pre><code> public class BasicAuthPages extends BaseClass {\n\n    By congratulationMessage = By.xpath(&quot;//p[contains(text(),'Congratulations')]&quot;);\n    \n\n// for authentication\npublic boolean authentication() {\n\n    driver.get(&quot;https://&quot;+username+&quot;:&quot;+password+&quot;@practice-cybertekschool.herokuapp.com/basic_auth&quot;);\n    return authenticationMessage();\n}\n\n// to get authentication message\nprivate boolean authenticationMessage() {\n    String message = driver.findElement(congratulationMessage).getText();\n    //System.out.println(message);\n    if (message.equals(&quot;Congratulations! You must have the proper credentials.&quot;)) {\n        return true;\n    }\n\n    else {\n        return false;\n    }\n}\n\n}\n</code></pre>\n<p><strong>Test Class</strong></p>\n<pre><code>public class Tests extends BaseClass {\n    BasicAuthPages basicAuthPages;\n    \n\n@Test\npublic void authTest() {\n    basicAuthPages = new BasicAuthPages();\n    Boolean success = basicAuthPages.authentication();\n    // System.out.println(username+&quot; :&quot;+password);\n    Assert.assertTrue(success);\n}\n}\n</code></pre>\n<p>On running this, it gives java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null exception. However, the driver gets initialized in Test class and if I make the following changes, it runs.</p>\n<p><strong>Base Class</strong></p>\n<pre><code>public class BaseClass {\nprotected WebDriver driver;\nprotected String username;\nprotected String password;\nprotected String browserName;\nprotected String url;\n\n@BeforeSuite\npublic void setUp() throws IOException, InterruptedException {\n    username = &quot;admin&quot;;\n    password = &quot;admin&quot;;\n    browserName = &quot;chrome&quot;;\n    url = &quot;https://practice-cybertekschool.herokuapp.com/&quot;;\n\n    // get the driver setp and type and the browser\n    if (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n    } else if (browserName.equalsIgnoreCase(&quot;FireFox&quot;)) {\n        WebDriverManager.firefoxdriver().setup();\n        driver = new FirefoxDriver();\n    } else if (browserName.equalsIgnoreCase(&quot;Edge&quot;)) {\n        WebDriverManager.edgedriver().setup();\n        driver = new EdgeDriver();\n    }\n\n    driver.manage().deleteAllCookies();\n    driver.manage().window().maximize();\n\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\n    driver.get(url);\n\n}\n\n@AfterSuite\npublic void tearDown() {\n    driver.quit();\n}\n</code></pre>\n<p>}</p>\n<p><strong>Page Class</strong></p>\n<pre><code>public class BasicAuthPages extends BaseClass {\nWebDriver driver;\nBy congratulationMessage = By.xpath(&quot;//p[contains(text(),'Congratulations')]&quot;);\n\npublic BasicAuthPages(WebDriver driver) {\n    this.driver = driver;\n}\n\n// for authentication\npublic boolean authentication(String username, String password) {\n    driver.get(&quot;https://&quot;+username+&quot;:&quot;+password+&quot;@practice-cybertekschool.herokuapp.com/basic_auth&quot;);\n    return authenticationMessage();\n}\n\n// to get authentication message\nprivate boolean authenticationMessage() {\n    String message = driver.findElement(congratulationMessage).getText();\n    //System.out.println(message);\n    if (message.equals(&quot;Congratulations! You must have the proper credentials.&quot;)) {\n        return true;\n    }\n\n    else {\n        return false;\n    }\n}\n\n}\n</code></pre>\n<p><strong>Test Class</strong></p>\n<pre><code>public class Tests extends BaseClass {\nBasicAuthPages basicAuthPages;\nCheckBoxPages checkBoxPages;\n\n@Test\npublic void authTest() {\n    basicAuthPages = new BasicAuthPages(driver);\n    Boolean success = basicAuthPages.authentication(username, password);\n    // System.out.println(username+&quot; :&quot;+password);\n    Assert.assertTrue(success);\n}\n}\n</code></pre>\n<p><strong>Please someone explain me why the driver is not getting inherited in the first case? The driver gets inherited in the second one where it gets inherited in the test class and why not on the first one on the page class? Thank you in advance</strong></p>\n"},{"tags":["java","gradle","annotation-processing","ecj"],"comments":[{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1679089086,"post_id":75760483,"comment_id":133664931,"body_markdown":"It looks like `my.AnnotationProcessor` doesnt have a public no-args constructor - if this isn&#39;t the case, can you share its contents?","body":"It looks like <code>my.AnnotationProcessor</code> doesnt have a public no-args constructor - if this isn&#39;t the case, can you share its contents?"},{"owner":{"account_id":1531936,"reputation":349,"user_id":1428945,"accept_rate":64,"display_name":"user1428945"},"score":0,"creation_date":1679090640,"post_id":75760483,"comment_id":133665184,"body_markdown":"I did add a public no-arg constructor to `my.AnnotationProcessor`, it did not fix the error.","body":"I did add a public no-arg constructor to <code>my.AnnotationProcessor</code>, it did not fix the error."},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1679106892,"post_id":75760483,"comment_id":133666820,"body_markdown":"Sharing the code is going to help in looking for other issues, or reproducing the issue to make concrete suggestions. The `--add-opens` is not required by other annotation processors, so it shouldn&#39;t be needed here, and other annotation processors don&#39;t require it. I think this is less likely to help, but perhaps share the rest of the dependency setup as well (since it seems missing)?","body":"Sharing the code is going to help in looking for other issues, or reproducing the issue to make concrete suggestions. The <code>--add-opens</code> is not required by other annotation processors, so it shouldn&#39;t be needed here, and other annotation processors don&#39;t require it. I think this is less likely to help, but perhaps share the rest of the dependency setup as well (since it seems missing)?"}],"owner":{"account_id":1531936,"reputation":349,"user_id":1428945,"accept_rate":64,"display_name":"user1428945"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678992392,"creation_date":1678992392,"question_id":75760483,"body_markdown":"I&#39;m trying to compile a gradle project with the ECJ compiler.  I have an annotation processor in one of the projects, that the other projects depend on.\r\n\r\nWhen ECJ attempts to run the annotation processor, it produces this error:\r\n\r\n```\r\n1. ERROR in C:\\...\\MyClass.java (at line 0)\r\n        package my.package;\r\n        ^\r\nInternal compiler error: java.util.ServiceConfigurationError: javax.annotation.processing.Processor: my.AnnotationProcessor Unable to get public no-arg constructor at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\r\n```\r\n\r\nI tried adding a public, no-arg constructor to the annotation processor and it didn&#39;t fix the error.  I also tried adding **--add-opens java.base/java.util=ALL-UNNAMED** to the commandline arguments, that also did not work.  \r\n\r\nThis is the gradle configuration:\r\n\r\n```\r\nconfigurations {\r\n    ecj\r\n}\r\ndependencies {\r\n    ecj &#39;org.eclipse.jdt:ecj:3.25.0&#39;\r\n}\r\ntasks.withType(JavaCompile) {\r\n    options.headerOutputDirectory.convention(null) //To stop gradle from passing in -h, which ecj doesn&#39;t recognize\r\n}\r\ncompileJava {\r\n    options.fork = true\r\n    options.forkOptions.with {\r\n    executable = &#39;java&#39;\r\n    jvmArgs = [&#39;-classpath&#39;, project.configurations.ecj.asPath, &#39;--add-opens&#39;, &#39;java.base/java.util=ALL-UNNAMED&#39;, &#39;org.eclipse.jdt.internal.compiler.batch.Main&#39;]\r\n    }\r\n}\r\n```\r\n\r\n","title":"Gradle annotation processor with ECJ compiler produces &quot;Unable to get public no-arg constructor&quot; error","body":"<p>I'm trying to compile a gradle project with the ECJ compiler.  I have an annotation processor in one of the projects, that the other projects depend on.</p>\n<p>When ECJ attempts to run the annotation processor, it produces this error:</p>\n<pre><code>1. ERROR in C:\\...\\MyClass.java (at line 0)\n        package my.package;\n        ^\nInternal compiler error: java.util.ServiceConfigurationError: javax.annotation.processing.Processor: my.AnnotationProcessor Unable to get public no-arg constructor at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\n</code></pre>\n<p>I tried adding a public, no-arg constructor to the annotation processor and it didn't fix the error.  I also tried adding <strong>--add-opens java.base/java.util=ALL-UNNAMED</strong> to the commandline arguments, that also did not work.</p>\n<p>This is the gradle configuration:</p>\n<pre><code>configurations {\n    ecj\n}\ndependencies {\n    ecj 'org.eclipse.jdt:ecj:3.25.0'\n}\ntasks.withType(JavaCompile) {\n    options.headerOutputDirectory.convention(null) //To stop gradle from passing in -h, which ecj doesn't recognize\n}\ncompileJava {\n    options.fork = true\n    options.forkOptions.with {\n    executable = 'java'\n    jvmArgs = ['-classpath', project.configurations.ecj.asPath, '--add-opens', 'java.base/java.util=ALL-UNNAMED', 'org.eclipse.jdt.internal.compiler.batch.Main']\n    }\n}\n</code></pre>\n"},{"tags":["java","android","grpc","runtimeexception","clarifai"],"owner":{"account_id":28020964,"reputation":1205,"user_id":21401783,"display_name":"Dinux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678992182,"creation_date":1678990087,"question_id":75760094,"body_markdown":"I am building an Android app to predict objects in an image. I am using the Clarifai gRPC Java client for the purpose. However, I am getting a RuntimeException: An error occurred while executing doInBackground(). \r\n\r\nMy code:\r\n\r\n```\r\npublic class ClarifaiTask extends AsyncTask&lt;File, Integer, Boolean&gt; {\r\n\r\n    protected Boolean doInBackground(File... images) {\r\n        Security.insertProviderAt(Conscrypt.newProvider(), 1);\r\n\r\n        V2Grpc.V2BlockingStub stub = V2Grpc.newBlockingStub(ClarifaiChannel.INSTANCE.getGrpcChannel()).withCallCredentials(new ClarifaiCallCredentials(API_KEY));\r\n\r\n        MultiOutputResponse response = stub.postModelOutputs(PostModelOutputsRequest.newBuilder().setModelId(MODEL_ID).addInputs(Input.newBuilder().setData(Data.newBuilder().setImage(Image.newBuilder().setUrl(IMG_URL)))).build());\r\n\r\n        if (response.getStatus().getCode() != StatusCode.SUCCESS) {\r\n            throw new RuntimeException(&quot;Request failed, status: &quot; + response.getStatus());\r\n        }\r\n\r\n        for (Concept c : response.getOutputs(0).getData().getConceptsList()) {\r\n            System.out.println(String.format(&quot;%12s: %,.2f&quot;, c.getName(), c.getValue()));\r\n        }\r\n\r\n        return true;\r\n    }\r\n    protected void onPostExecute(Boolean result) {\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\nMy error:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\r\n    Process: com.package.name, PID: 5221\r\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\r\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:381)\r\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:250)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:269)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n     Caused by: java.lang.RuntimeException: Request failed, status: code: FAILURE\r\n    description: &quot;Failure&quot;\r\n    req_id: &quot;dc2dbb8c4460e2b7e25a6bf9304ad582&quot;\r\n    \r\n        at com.package.name.ClarifaiTask.doInBackground(ClarifaiTask.java:65)\r\n        at com.package.name.ClarifaiTask.doInBackground(ClarifaiTask.java:37)\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n```\r\nAny help would be appreciated.","title":"Clarifai gRPC Java client throwing RuntimeException: An error occurred while executing doInBackground()","body":"<p>I am building an Android app to predict objects in an image. I am using the Clarifai gRPC Java client for the purpose. However, I am getting a RuntimeException: An error occurred while executing doInBackground().</p>\n<p>My code:</p>\n<pre><code>public class ClarifaiTask extends AsyncTask&lt;File, Integer, Boolean&gt; {\n\n    protected Boolean doInBackground(File... images) {\n        Security.insertProviderAt(Conscrypt.newProvider(), 1);\n\n        V2Grpc.V2BlockingStub stub = V2Grpc.newBlockingStub(ClarifaiChannel.INSTANCE.getGrpcChannel()).withCallCredentials(new ClarifaiCallCredentials(API_KEY));\n\n        MultiOutputResponse response = stub.postModelOutputs(PostModelOutputsRequest.newBuilder().setModelId(MODEL_ID).addInputs(Input.newBuilder().setData(Data.newBuilder().setImage(Image.newBuilder().setUrl(IMG_URL)))).build());\n\n        if (response.getStatus().getCode() != StatusCode.SUCCESS) {\n            throw new RuntimeException(&quot;Request failed, status: &quot; + response.getStatus());\n        }\n\n        for (Concept c : response.getOutputs(0).getData().getConceptsList()) {\n            System.out.println(String.format(&quot;%12s: %,.2f&quot;, c.getName(), c.getValue()));\n        }\n\n        return true;\n    }\n    protected void onPostExecute(Boolean result) {\n        \n    }\n}\n</code></pre>\n<p>My error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\n    Process: com.package.name, PID: 5221\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:381)\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:250)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:269)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n     Caused by: java.lang.RuntimeException: Request failed, status: code: FAILURE\n    description: &quot;Failure&quot;\n    req_id: &quot;dc2dbb8c4460e2b7e25a6bf9304ad582&quot;\n    \n        at com.package.name.ClarifaiTask.doInBackground(ClarifaiTask.java:65)\n        at com.package.name.ClarifaiTask.doInBackground(ClarifaiTask.java:37)\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264)\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","string","split","collections"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1678988958,"post_id":75759857,"comment_id":133644284,"body_markdown":"You are looking for [String.indexOf()](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(int)) and [String.lastIndexOf()](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(int)).","body":"You are looking for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(int)\" rel=\"nofollow noreferrer\">String.indexOf()</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(int)\" rel=\"nofollow noreferrer\">String.lastIndexOf()</a>."},{"owner":{"account_id":18822418,"reputation":1,"user_id":13728117,"display_name":"Savaant"},"score":1,"creation_date":1678989384,"post_id":75759857,"comment_id":133644406,"body_markdown":"[This link](https://stackoverflow.com/questions/56411197/how-to-pull-from-a-string-into-first-middle-and-last-name-and-how-to-recogniz) might be of use to your particular case.","body":"<a href=\"https://stackoverflow.com/questions/56411197/how-to-pull-from-a-string-into-first-middle-and-last-name-and-how-to-recogniz\">This link</a> might be of use to your particular case."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1678989821,"post_id":75759857,"comment_id":133644523,"body_markdown":"Mandatory read: [Falsehoods Programmers Believe About Names](https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/)","body":"Mandatory read: <a href=\"https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/\" rel=\"nofollow noreferrer\">Falsehoods Programmers Believe About Names</a>"},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1678990996,"post_id":75759857,"comment_id":133644877,"body_markdown":"What about &quot;Joe Michael Parker Jr&quot;, is the last name &quot;Jr&quot;?","body":"What about &quot;Joe Michael Parker Jr&quot;, is the last name &quot;Jr&quot;?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1678995672,"post_id":75759857,"comment_id":133646046,"body_markdown":"`name = name.substring(0, name.indexOf(&quot; &quot;)) + name.substring(name.lastIndexOf(&quot; &quot;));`","body":"<code>name = name.substring(0, name.indexOf(&quot; &quot;)) + name.substring(name.lastIndexOf(&quot; &quot;));</code>"}],"answers":[{"tags":[],"owner":{"account_id":17247129,"reputation":28,"user_id":12488111,"display_name":"KuNet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678989396,"creation_date":1678989396,"answer_id":75759981,"question_id":75759857,"body_markdown":"As Chaosfire has stated, it&#39;s possible to use `String.indexOf()` and `String.lastIndexOf()` to search for where the first and last spaces are. After that, it&#39;s just a matter of using those indexes to break the original string into substrings.\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String name = &quot;Enrico \\&quot;The Goat\\&quot; Fermi&quot;;\r\n        int firstBreak = name.indexOf(&quot; &quot;);\r\n        int lastBreak = name.lastIndexOf(&quot; &quot;);\r\n\r\n        System.out.println(name.substring(0, firstBreak)); // first name\r\n        System.out.println(name.substring(firstBreak + 1, lastBreak)); // middle name\r\n        System.out.println(name.substring(lastBreak + 1)); // last name\r\n    }\r\n}\r\n```","title":"Java string splitting issue","body":"<p>As Chaosfire has stated, it's possible to use <code>String.indexOf()</code> and <code>String.lastIndexOf()</code> to search for where the first and last spaces are. After that, it's just a matter of using those indexes to break the original string into substrings.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String name = &quot;Enrico \\&quot;The Goat\\&quot; Fermi&quot;;\n        int firstBreak = name.indexOf(&quot; &quot;);\n        int lastBreak = name.lastIndexOf(&quot; &quot;);\n\n        System.out.println(name.substring(0, firstBreak)); // first name\n        System.out.println(name.substring(firstBreak + 1, lastBreak)); // middle name\n        System.out.println(name.substring(lastBreak + 1)); // last name\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28035253,"reputation":3,"user_id":21413761,"display_name":"user21413761"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75759981,"answer_count":1,"score":0,"last_activity_date":1678991805,"creation_date":1678988689,"question_id":75759857,"body_markdown":"String name = &quot;Chris Mike Soloman Miller Cooper&quot;;\r\nI want to split this string to firstname=(first word), lastname=(last word), middlename=(remaining all words). how can I do it without using for loop. Any java 8 feature to implement here ?\r\nDesired ans:\r\nfirstname = Chris, lastname = Cooper, middlename = Mike Soloman Miller\r\nI have tried this but I don&#39;t want to use for loop.\r\n\r\n    String name = &quot;Chris Mike Soloman Miller Cooper&quot;;\r\n    String [] fullName = name.split(&quot; &quot;);\r\n    String firstName = fullName[0];\r\n    String lastName = fullName[fullName.length-1];\r\n    StringBuilder middleName = new StringBuilder();\r\n    for(int i=1; i&lt;fullName.length-1; i++) {\r\n\t    middleName.append(fullName[i]);\r\n\t    middleName.append(&quot; &quot;);\r\n    }\r\n   String middleName = \r\n    String.valueOf(middleName.toString().trim());","title":"Java string splitting issue","body":"<p>String name = &quot;Chris Mike Soloman Miller Cooper&quot;;\nI want to split this string to firstname=(first word), lastname=(last word), middlename=(remaining all words). how can I do it without using for loop. Any java 8 feature to implement here ?\nDesired ans:\nfirstname = Chris, lastname = Cooper, middlename = Mike Soloman Miller\nI have tried this but I don't want to use for loop.</p>\n<pre><code>String name = &quot;Chris Mike Soloman Miller Cooper&quot;;\nString [] fullName = name.split(&quot; &quot;);\nString firstName = fullName[0];\nString lastName = fullName[fullName.length-1];\nStringBuilder middleName = new StringBuilder();\nfor(int i=1; i&lt;fullName.length-1; i++) {\n    middleName.append(fullName[i]);\n    middleName.append(&quot; &quot;);\n}\n</code></pre>\n<p>String middleName =\nString.valueOf(middleName.toString().trim());</p>\n"},{"tags":["java","spring","spring-boot","hardcode"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1678985556,"post_id":75758791,"comment_id":133643264,"body_markdown":"I don&#39;t understand the reason it needs to be threadsafe. All classes and instances are to share the same value. Also the value that is visible to all threads should change at the same time.","body":"I don&#39;t understand the reason it needs to be threadsafe. All classes and instances are to share the same value. Also the value that is visible to all threads should change at the same time."},{"owner":{"account_id":14742273,"reputation":81,"user_id":10646656,"display_name":"asdasasd"},"score":0,"creation_date":1678985844,"post_id":75758791,"comment_id":133643353,"body_markdown":"@JohnWilliams yes, should change at same time. So, it needs to be thread safe? Can i use static?","body":"@JohnWilliams yes, should change at same time. So, it needs to be thread safe? Can i use static?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1678986292,"post_id":75758791,"comment_id":133643482,"body_markdown":"Yes, use a static. neededString does **not** need to be thread safe, it needs to be the opposite.","body":"Yes, use a static. neededString does <b>not</b> need to be thread safe, it needs to be the opposite."},{"owner":{"account_id":14742273,"reputation":81,"user_id":10646656,"display_name":"asdasasd"},"score":0,"creation_date":1678989299,"post_id":75758791,"comment_id":133644380,"body_markdown":"@JohnWilliams static string and initialize with postconstruct?","body":"@JohnWilliams static string and initialize with postconstruct?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678989699,"post_id":75758791,"comment_id":133644493,"body_markdown":"Yes, if it needs initialisation logic.","body":"Yes, if it needs initialisation logic."},{"owner":{"account_id":14742273,"reputation":81,"user_id":10646656,"display_name":"asdasasd"},"score":0,"creation_date":1678990583,"post_id":75758791,"comment_id":133644755,"body_markdown":"@JohnWilliams methodSome() needs to use that variable. Both class needs that variable so at first, it needs to be initialized at somewhere. Maybe at another bean or postconstruct are the options i think.","body":"@JohnWilliams methodSome() needs to use that variable. Both class needs that variable so at first, it needs to be initialized at somewhere. Maybe at another bean or postconstruct are the options i think."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678991232,"creation_date":1678991232,"answer_id":75760278,"question_id":75758791,"body_markdown":"This is first class:\r\n\r\n    @Service\r\n    public class ServiceA{\r\n    \r\n    @Autowired\r\n    ServiceB serviceB;\r\n    \r\n    public static String neededString;\r\n\r\n    @PostConstruct\r\n    public void setupNeededString() {\r\n        neededString = “”;\r\n    }\r\n   \r\n    public void methodSome(){\r\n    //uses neededString\r\n    }\r\n    \r\n    }\r\n\r\nThis is second\r\n\r\n    @Service\r\n    public class ServiceB{\r\n    \r\n    \r\n    \r\n    public void methodSome(){\r\n    //uses ServiceA.neededString\r\n    }\r\n    }\r\n\r\n","title":"Best way to initialize a variable and use it in 2 service classes in java , as thread safe","body":"<p>This is first class:</p>\n<pre><code>@Service\npublic class ServiceA{\n\n@Autowired\nServiceB serviceB;\n\npublic static String neededString;\n\n@PostConstruct\npublic void setupNeededString() {\n    neededString = “”;\n}\n\npublic void methodSome(){\n//uses neededString\n}\n\n}\n</code></pre>\n<p>This is second</p>\n<pre><code>@Service\npublic class ServiceB{\n\n\n\npublic void methodSome(){\n//uses ServiceA.neededString\n}\n}\n</code></pre>\n"}],"owner":{"account_id":14742273,"reputation":81,"user_id":10646656,"display_name":"asdasasd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678991232,"creation_date":1678982910,"question_id":75758791,"body_markdown":"\r\nThis is first class:\r\n\r\n    @Service\r\n    public class ServiceA{\r\n    \r\n    @Autowired\r\n    ServiceB serviceB;\r\n    \r\n    String neededString;\r\n    \r\n    public void methodSome(){\r\n    //uses neededString\r\n    }\r\n    \r\n    }\r\n\r\nThis is second\r\n\r\n    @Service\r\n    public class ServiceB{\r\n    \r\n    String neededString;\r\n    \r\n    public void methodSome(){\r\n    //uses neededString\r\n    }\r\n    }\r\n\r\nand i need to get the variable from another service:\r\n\r\n    neededString = thirdServiceToReturn();\r\n\r\n\r\nBoth classes need that **neededString** variable to do their own methods. I can get from 3. service in the method seperately or i can get with **PostConstruct** for each class.\r\n\r\nBut i want to get from a common place for both classes. Maybe from 2. class . I can try **static** but it wont be thread safe i guess.\r\n\r\nThe variable wont change for months maybe. It takes some values and returns from database. After some deploy, it can change so, it should get new one at some point.\r\n\r\nI use `Spring Boot` also. What do you suggest?\r\n\r\nMaybe a `Constant` class with `@Bean` and do the initializing there and then `Autowired` to second class? Like that:\r\nhttps://stackoverflow.com/questions/59559302/is-there-any-way-to-pass-autowired-variable-to-some-other-class-in-a-spring-boo\r\n\r\nThe variable will change in future. It is reading from database, which is derived with @cached so it will read from cache until the application is restarted or is deployed. Variable needs to be parametric, not hardcoded.\r\n\r\n`Static variable` is not thread safe. I want to reach the solution. Thread safe.","title":"Best way to initialize a variable and use it in 2 service classes in java , as thread safe","body":"<p>This is first class:</p>\n<pre><code>@Service\npublic class ServiceA{\n\n@Autowired\nServiceB serviceB;\n\nString neededString;\n\npublic void methodSome(){\n//uses neededString\n}\n\n}\n</code></pre>\n<p>This is second</p>\n<pre><code>@Service\npublic class ServiceB{\n\nString neededString;\n\npublic void methodSome(){\n//uses neededString\n}\n}\n</code></pre>\n<p>and i need to get the variable from another service:</p>\n<pre><code>neededString = thirdServiceToReturn();\n</code></pre>\n<p>Both classes need that <strong>neededString</strong> variable to do their own methods. I can get from 3. service in the method seperately or i can get with <strong>PostConstruct</strong> for each class.</p>\n<p>But i want to get from a common place for both classes. Maybe from 2. class . I can try <strong>static</strong> but it wont be thread safe i guess.</p>\n<p>The variable wont change for months maybe. It takes some values and returns from database. After some deploy, it can change so, it should get new one at some point.</p>\n<p>I use <code>Spring Boot</code> also. What do you suggest?</p>\n<p>Maybe a <code>Constant</code> class with <code>@Bean</code> and do the initializing there and then <code>Autowired</code> to second class? Like that:\n<a href=\"https://stackoverflow.com/questions/59559302/is-there-any-way-to-pass-autowired-variable-to-some-other-class-in-a-spring-boo\">Is there any way to pass @Autowired variable to some other class in a Spring Boot application?</a></p>\n<p>The variable will change in future. It is reading from database, which is derived with @cached so it will read from cache until the application is restarted or is deployed. Variable needs to be parametric, not hardcoded.</p>\n<p><code>Static variable</code> is not thread safe. I want to reach the solution. Thread safe.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1678999511,"post_id":75760217,"comment_id":133646904,"body_markdown":"`BoundStatement` vs `BatchStatement` looks suspicious.","body":"<code>BoundStatement</code> vs <code>BatchStatement</code> looks suspicious."},{"owner":{"account_id":24256934,"reputation":47,"user_id":18207142,"display_name":"Cris Manrique"},"score":0,"creation_date":1679005251,"post_id":75760217,"comment_id":133648127,"body_markdown":"Yup that was it lol. Thank you","body":"Yup that was it lol. Thank you"}],"owner":{"account_id":24256934,"reputation":47,"user_id":18207142,"display_name":"Cris Manrique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678990899,"creation_date":1678990899,"question_id":75760217,"body_markdown":"I&#39;m trying to create some junits for a dao class using junit5, but i keep getting an NPE. Below is my junit. \r\n\r\n``` @Test\r\n  void saveObject) throws ParseException, TimeoutException, ExecutionException, InterruptedException {\r\n    Object rec16 = getRec16_3();\r\n    Mockito.when(cassandraSession.getOrCreateStatement(any(String.class)))\r\n        .thenReturn(preparedStatement);\r\n    Mockito.when(preparedStatement.bind()).thenReturn(boundStatement);\r\n    Mockito.when(boundStatement.setString(anyInt(), any(String.class))).thenReturn(boundStatement);\r\n    Mockito.when(boundStatement.setTimestamp(anyInt(), any(Date.class))).thenReturn(boundStatement);\r\n    Mockito.when(boundStatement.setLong(anyInt(), anyLong())).thenReturn(boundStatement);\r\n    Mockito.when(boundStatement.setDouble(anyInt(), any(Double.class))).thenReturn(boundStatement);\r\n    Mockito.when(boundStatement.setInt(anyInt(), anyInt())).thenReturn(boundStatement);\r\n    Mockito.when(cassandraSuppSession.getCassandraSession()).thenReturn(session);\r\n    Mockito.when(session.executeAsync(any(BoundStatement.class))).thenReturn(resultSetFuture);\r\n    Mockito.when(resultSetFuture.getUninterruptibly(anyLong(), any(TimeUnit.class))).thenReturn(resultSet);\r\n    objectDao.saveObject(rec16);\r\n  }\r\n```\r\nAnd the part where it&#39;s failing is in the below method on ```getUninterruptibly(CASSANDRA_QUERY_WAIT_IN_SECONDS, TimeUnit.SECONDS);```\r\n\r\n```\r\nprivate void executeBatch(BatchStatement objectBatch, String tableName) {\r\n    try {\r\n      cassandraSuppSession\r\n          .getCassandraSession()\r\n          .executeAsync(objectBatch)\r\n          .getUninterruptibly(CASSANDRA_QUERY_WAIT_IN_SECONDS, TimeUnit.SECONDS);\r\n    } catch (TimeoutException e) {\r\n      throw new RuntimeException(&quot;Exception inserting into &quot; + tableName, e);\r\n    } finally {\r\n      objectBatch.clear();\r\n    }\r\n  }\r\n```\r\nTurning the ```executeAsync``` call into a synchronous call (```execute```) and removing the ```getUinterruptibly``` method allows the junit to run successfully. So i know my issue is within this block, but no idea how to resolve it. I do want to keep the async call instead of switching to a sync call. Any ideas?\r\n","title":"How to resolve an NPE during mock of resultSet.getUninterruptibly","body":"<p>I'm trying to create some junits for a dao class using junit5, but i keep getting an NPE. Below is my junit.</p>\n<pre><code>  void saveObject) throws ParseException, TimeoutException, ExecutionException, InterruptedException {\n    Object rec16 = getRec16_3();\n    Mockito.when(cassandraSession.getOrCreateStatement(any(String.class)))\n        .thenReturn(preparedStatement);\n    Mockito.when(preparedStatement.bind()).thenReturn(boundStatement);\n    Mockito.when(boundStatement.setString(anyInt(), any(String.class))).thenReturn(boundStatement);\n    Mockito.when(boundStatement.setTimestamp(anyInt(), any(Date.class))).thenReturn(boundStatement);\n    Mockito.when(boundStatement.setLong(anyInt(), anyLong())).thenReturn(boundStatement);\n    Mockito.when(boundStatement.setDouble(anyInt(), any(Double.class))).thenReturn(boundStatement);\n    Mockito.when(boundStatement.setInt(anyInt(), anyInt())).thenReturn(boundStatement);\n    Mockito.when(cassandraSuppSession.getCassandraSession()).thenReturn(session);\n    Mockito.when(session.executeAsync(any(BoundStatement.class))).thenReturn(resultSetFuture);\n    Mockito.when(resultSetFuture.getUninterruptibly(anyLong(), any(TimeUnit.class))).thenReturn(resultSet);\n    objectDao.saveObject(rec16);\n  }\n</code></pre>\n<p>And the part where it's failing is in the below method on <code>getUninterruptibly(CASSANDRA_QUERY_WAIT_IN_SECONDS, TimeUnit.SECONDS);</code></p>\n<pre><code>private void executeBatch(BatchStatement objectBatch, String tableName) {\n    try {\n      cassandraSuppSession\n          .getCassandraSession()\n          .executeAsync(objectBatch)\n          .getUninterruptibly(CASSANDRA_QUERY_WAIT_IN_SECONDS, TimeUnit.SECONDS);\n    } catch (TimeoutException e) {\n      throw new RuntimeException(&quot;Exception inserting into &quot; + tableName, e);\n    } finally {\n      objectBatch.clear();\n    }\n  }\n</code></pre>\n<p>Turning the <code>executeAsync</code> call into a synchronous call (<code>execute</code>) and removing the <code>getUinterruptibly</code> method allows the junit to run successfully. So i know my issue is within this block, but no idea how to resolve it. I do want to keep the async call instead of switching to a sync call. Any ideas?</p>\n"},{"tags":["java","spring-boot","azure"],"comments":[{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678613519,"post_id":75712170,"comment_id":133564517,"body_markdown":"Please edit your question and include the code you’ve written.","body":"Please edit your question and include the code you’ve written."},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678613774,"post_id":75712170,"comment_id":133564553,"body_markdown":"okay i will post it write now","body":"okay i will post it write now"},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678613945,"post_id":75712170,"comment_id":133564575,"body_markdown":"plase check the code above @Guarav Mantri","body":"plase check the code above @Guarav Mantri"},{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678624137,"post_id":75712170,"comment_id":133565923,"body_markdown":"Can you share the SAS URL? Please obfuscate the account name and sig portion in your SAS URL before sharing.","body":"Can you share the SAS URL? Please obfuscate the account name and sig portion in your SAS URL before sharing."},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678624370,"post_id":75712170,"comment_id":133565953,"body_markdown":"https://accountName.blob.core.windows.net/containerName/subDircetoty1/subDircetoty2/subDircetoty3/filename?sv=2021-12-02&amp;st=2023-03-12T10%3A50%3A20Z&amp;se=2023-03-13T10%3A50%3A15Z&amp;sr=b&amp;sp=r&amp;sig=sig , that&#39;s the generated url","body":"<a href=\"https://accountName.blob.core.windows.net/containerName/subDircetoty1/subDircetoty2/subDircetoty3/filename?sv=2021-12-02&amp;st=2023-03-12T10%3A50%3A20Z&amp;se=2023-03-13T10%3A50%3A15Z&amp;sr=b&amp;sp=r&amp;sig=sig\" rel=\"nofollow noreferrer\">accountName.blob.core.windows.net/containerName/subDircetoty&zwnj;&#8203;1/&hellip;</a> , that&#39;s the generated url"},{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678625739,"post_id":75712170,"comment_id":133566161,"body_markdown":"Thanks! Your SAS Token looks ok to me. What happens when you copy the SAS URL and paste it in a browser? Do you still get 404 error?","body":"Thanks! Your SAS Token looks ok to me. What happens when you copy the SAS URL and paste it in a browser? Do you still get 404 error?"},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678625888,"post_id":75712170,"comment_id":133566185,"body_markdown":"yes !!  should the container be public ? although when the path is containerName/fileName it downloads normally .","body":"yes !!  should the container be public ? although when the path is containerName/fileName it downloads normally ."},{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678626062,"post_id":75712170,"comment_id":133566209,"body_markdown":"No, the container need not be public (in fact, it **should not** be public unless really needed). I am wondering if there&#39;s something special in your virtual directory name considering everything works if the blob is put directly beneath a container.","body":"No, the container need not be public (in fact, it <b>should not</b> be public unless really needed). I am wondering if there&#39;s something special in your virtual directory name considering everything works if the blob is put directly beneath a container."},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678626607,"post_id":75712170,"comment_id":133566281,"body_markdown":"can the subDirectory name be a uuid or not ?","body":"can the subDirectory name be a uuid or not ?"},{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678627867,"post_id":75712170,"comment_id":133566457,"body_markdown":"Sure, it can be. no issues with that.","body":"Sure, it can be. no issues with that."},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678628616,"post_id":75712170,"comment_id":133566570,"body_markdown":"is there any special configuration to be done from azure portal side ?","body":"is there any special configuration to be done from azure portal side ?"},{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678628711,"post_id":75712170,"comment_id":133566586,"body_markdown":"Not that I can think of.","body":"Not that I can think of."}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678990557,"creation_date":1678713096,"answer_id":75722329,"question_id":75712170,"body_markdown":"I have reproduced your requirement in my environment using below code and got expected results. Check if it helps you to fix the issue and achieve your requirement. \r\n\r\n- *Be sure that your container has the required privileges*.\r\n\r\nHere, I&#39;m using the post mapping to upload the file via REST API call.\r\n\r\n```Java\r\n@PostMapping(&quot;/upload&quot;)\r\n\tpublic String uploadFile(@RequestParam(value = &quot;file&quot;) MultipartFile file) throws IOException {\r\n\r\n\t\tString str = &quot;DefaultEndpointsProtocol=https;AccountName=&lt;your_account_name&gt;;AccountKey=&lt;your_account_key&gt;;EndpointSuffix=core.windows.net&quot;;\r\n\r\n\t\tOffsetDateTime expiryTime = OffsetDateTime.now().plusDays(1);\r\n\t\tBlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\r\n\t\tBlobServiceSasSignatureValues values = new BlobServiceSasSignatureValues(expiryTime, permission)\r\n\t\t\t\t.setStartTime(OffsetDateTime.now());\r\n\t\tBlobContainerClient container = new BlobContainerClientBuilder().connectionString(str)\r\n\t\t\t\t.containerName(&quot;&lt;your_container_name&gt;&quot;).buildClient();\r\n\r\n\t\tBlobClient blob = container.getBlobClient(&quot;ParentDir/&quot;+&quot;ChildDir/&quot;+file.getOriginalFilename());\r\n\t\tblob.upload(file.getInputStream(), file.getSize(), true);\r\n\t\tString sasToken = blob.generateSas(values);\r\n\r\n\t\tString  result  = java.net.URLDecoder.decode(blob.getBlobUrl()  +  &quot;?&quot;,  StandardCharsets.UTF_8.name());\r\n\r\n     return result +  sasToken;\r\n}\r\n```\r\n**Update:**\r\n\r\nwhen calling the BlobClient class, if we pass the filename as parameter in the `container.getBlobClient()`, it will create file inside the container.\r\nTo create file inside the directory, we have to pass directory with `/` along with the filename inside the `container.getBlobClient()` as shown below:\r\n\r\n```java\r\nBlobClient blob = container.getBlobClient(&quot;ParentDir/&quot;+&quot;ChildDir/&quot;+file.getOriginalFilename());\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/BIg2j.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/j3Y3g.png)\r\n\r\n**Updated Output:**\r\n\r\nI could download the file with the generated URL as shown below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/6WBri.png)\r\n\r\n","title":"Cant generate a download link for a file that exists in virtual directory in azure using spring boot","body":"<p>I have reproduced your requirement in my environment using below code and got expected results. Check if it helps you to fix the issue and achieve your requirement.</p>\n<ul>\n<li><em>Be sure that your container has the required privileges</em>.</li>\n</ul>\n<p>Here, I'm using the post mapping to upload the file via REST API call.</p>\n<pre><code>@PostMapping(&quot;/upload&quot;)\n    public String uploadFile(@RequestParam(value = &quot;file&quot;) MultipartFile file) throws IOException {\n\n        String str = &quot;DefaultEndpointsProtocol=https;AccountName=&lt;your_account_name&gt;;AccountKey=&lt;your_account_key&gt;;EndpointSuffix=core.windows.net&quot;;\n\n        OffsetDateTime expiryTime = OffsetDateTime.now().plusDays(1);\n        BlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\n        BlobServiceSasSignatureValues values = new BlobServiceSasSignatureValues(expiryTime, permission)\n                .setStartTime(OffsetDateTime.now());\n        BlobContainerClient container = new BlobContainerClientBuilder().connectionString(str)\n                .containerName(&quot;&lt;your_container_name&gt;&quot;).buildClient();\n\n        BlobClient blob = container.getBlobClient(&quot;ParentDir/&quot;+&quot;ChildDir/&quot;+file.getOriginalFilename());\n        blob.upload(file.getInputStream(), file.getSize(), true);\n        String sasToken = blob.generateSas(values);\n\n        String  result  = java.net.URLDecoder.decode(blob.getBlobUrl()  +  &quot;?&quot;,  StandardCharsets.UTF_8.name());\n\n     return result +  sasToken;\n}\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>when calling the BlobClient class, if we pass the filename as parameter in the <code>container.getBlobClient()</code>, it will create file inside the container.\nTo create file inside the directory, we have to pass directory with <code>/</code> along with the filename inside the <code>container.getBlobClient()</code> as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BlobClient blob = container.getBlobClient(&quot;ParentDir/&quot;+&quot;ChildDir/&quot;+file.getOriginalFilename());\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/BIg2j.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/j3Y3g.png\" alt=\"enter image description here\" /></p>\n<p><strong>Updated Output:</strong></p>\n<p>I could download the file with the generated URL as shown below:</p>\n<p><img src=\"https://i.stack.imgur.com/6WBri.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75722329,"answer_count":1,"score":1,"last_activity_date":1678990557,"creation_date":1678613124,"question_id":75712170,"body_markdown":"i have a container which consists of many virtual directories for example :\r\nhttps://accountName.blob.core.windows.net/containerName/blobName , and the blob name is a virtual directory on azure let&#39;s say for example : number/name/UUID/anotherUUID/file.txt and iam trying to download the file.txt but each time i get the following error : \r\n&lt;Code&gt;BlobNotFound&lt;/Code&gt;\r\nalthough i can generate the download link using sas token from azure portal and get a download link for the file and it is downloaded succesfully , but when i generate the download link from inside my spring boot application i get the error above .\r\n\r\nhere is the code for uploading a blob : \r\n\r\n \r\n\r\n        BlobClient blob = container.getBlobClient(filePath); // where file path is the virutal directory path\r\n         blob.upload(BinaryData.fromBytes(bytes));\r\n    \r\n    and here is the code for downloading the blob :\r\n    \r\n     BlobClient blobClient = blobServiceClient.getBlobContainerClient(container name)\r\n              .getBlobClient(filepath);\r\n    \r\n          OffsetDateTime expiryTime = OffsetDateTime.now()\r\n                                                    .plusDays(1);\r\n          BlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\r\n          BlobServiceSasSignatureValues values = new BlobServiceSasSignatureValues(expiryTime, permission).setStartTime(\r\n              OffsetDateTime.now());\r\n          String sasToken = blobClient.generateSas(values);\r\n    \r\n          String fileUrl = blobClient.getBlobUrl();\r\n          StringBuilder stringBuilder = new StringBuilder(fileUrl);\r\n          stringBuilder.append(&quot;?&quot;);\r\n          String last = stringBuilder.toString();\r\n          String result = java.net.URLDecoder.decode(last, StandardCharsets.UTF_8.name());\r\n    \r\n          return result+sasToken;","title":"Cant generate a download link for a file that exists in virtual directory in azure using spring boot","body":"<p>i have a container which consists of many virtual directories for example :\n<a href=\"https://accountName.blob.core.windows.net/containerName/blobName\" rel=\"nofollow noreferrer\">https://accountName.blob.core.windows.net/containerName/blobName</a> , and the blob name is a virtual directory on azure let's say for example : number/name/UUID/anotherUUID/file.txt and iam trying to download the file.txt but each time i get the following error :\n<Code>BlobNotFound</Code>\nalthough i can generate the download link using sas token from azure portal and get a download link for the file and it is downloaded succesfully , but when i generate the download link from inside my spring boot application i get the error above .</p>\n<p>here is the code for uploading a blob :</p>\n<pre><code>    BlobClient blob = container.getBlobClient(filePath); // where file path is the virutal directory path\n     blob.upload(BinaryData.fromBytes(bytes));\n\nand here is the code for downloading the blob :\n\n BlobClient blobClient = blobServiceClient.getBlobContainerClient(container name)\n          .getBlobClient(filepath);\n\n      OffsetDateTime expiryTime = OffsetDateTime.now()\n                                                .plusDays(1);\n      BlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\n      BlobServiceSasSignatureValues values = new BlobServiceSasSignatureValues(expiryTime, permission).setStartTime(\n          OffsetDateTime.now());\n      String sasToken = blobClient.generateSas(values);\n\n      String fileUrl = blobClient.getBlobUrl();\n      StringBuilder stringBuilder = new StringBuilder(fileUrl);\n      stringBuilder.append(&quot;?&quot;);\n      String last = stringBuilder.toString();\n      String result = java.net.URLDecoder.decode(last, StandardCharsets.UTF_8.name());\n\n      return result+sasToken;\n</code></pre>\n"},{"tags":["java","android","c++","qt","qt5"],"comments":[{"owner":{"account_id":26238260,"reputation":13,"user_id":19913032,"display_name":"VoiceShifter"},"score":0,"creation_date":1678838884,"post_id":75739034,"comment_id":133610547,"body_markdown":"Well, I rolled back to java 14, didnt change any","body":"Well, I rolled back to java 14, didnt change any"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678882943,"post_id":75739034,"comment_id":133618589,"body_markdown":"Downvote can come from the multiple things named. You mention emulators but it doesn&#39;t seems to be the subject, and no we don&#39;t see you downgrade java, only that you tried jdk 16. If your question is beeing closed and you think it&#39;s wrong, and you want to understand why your question specially, there is [meta] for this","body":"Downvote can come from the multiple things named. You mention emulators but it doesn&#39;t seems to be the subject, and no we don&#39;t see you downgrade java, only that you tried jdk 16. If your question is beeing closed and you think it&#39;s wrong, and you want to understand why your question specially, there is <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a> for this"},{"owner":{"account_id":26238260,"reputation":13,"user_id":19913032,"display_name":"VoiceShifter"},"score":0,"creation_date":1678892957,"post_id":75739034,"comment_id":133621855,"body_markdown":"Thanks for reply, Im surely dumb and used wrong words, Its seems to be true, that I only changed JDK. Is changing a enviroment variable considering changing Java? Since I cant find a way to download official java installer after oracle policy changes. Or using openJDK is a way here?","body":"Thanks for reply, Im surely dumb and used wrong words, Its seems to be true, that I only changed JDK. Is changing a enviroment variable considering changing Java? Since I cant find a way to download official java installer after oracle policy changes. Or using openJDK is a way here?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678894811,"post_id":75739034,"comment_id":133622474,"body_markdown":"OpenJDK should be the solution, and &quot;changing JDK&quot; is very large things. Also, even if we could understand, the picture is different from what you said ^^ ELse, I suggest you to upgrade gradle","body":"OpenJDK should be the solution, and &quot;changing JDK&quot; is very large things. Also, even if we could understand, the picture is different from what you said ^^ ELse, I suggest you to upgrade gradle"},{"owner":{"account_id":26238260,"reputation":13,"user_id":19913032,"display_name":"VoiceShifter"},"score":0,"creation_date":1678913918,"post_id":75739034,"comment_id":133627646,"body_markdown":"Okay, I did things, tell me If I did wrong thing. I downloaded grandle separately(I believe it was installed with android studio before), added to environment variables and such, I downloaded OpenJDK and choose it in Qt in JDK location, deleted every java I had(there was 7 and 8, so I first uninstalled 8, tried with 7, no changes), ran into same problem, changed to another version of openJDK, same. Installed java back, nothing changes. Sorry if Im doing everything wrong, but can you tell if this is what you ment?","body":"Okay, I did things, tell me If I did wrong thing. I downloaded grandle separately(I believe it was installed with android studio before), added to environment variables and such, I downloaded OpenJDK and choose it in Qt in JDK location, deleted every java I had(there was 7 and 8, so I first uninstalled 8, tried with 7, no changes), ran into same problem, changed to another version of openJDK, same. Installed java back, nothing changes. Sorry if Im doing everything wrong, but can you tell if this is what you ment?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678951541,"post_id":75739034,"comment_id":133632976,"body_markdown":"Does this answer your question? [Gradle: Could not determine java version from &#39;11.0.2&#39;](https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2) I was meaning to upgrade both, and use Java 16 but with latest version of gradle, upgraded separatly of Qt (or downloaded by Qt if it can)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2\">Gradle: Could not determine java version from &#39;11.0.2&#39;</a> I was meaning to upgrade both, and use Java 16 but with latest version of gradle, upgraded separatly of Qt (or downloaded by Qt if it can)"}],"answers":[{"tags":[],"owner":{"account_id":26238260,"reputation":13,"user_id":19913032,"display_name":"VoiceShifter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678990091,"creation_date":1678989883,"answer_id":75760058,"question_id":75739034,"body_markdown":"Oh god I didnt expect this rabit hole to be so deep. First thing - Thanks to Elikill58, he&#39;s a god. \r\nI dont yet know if JDK change any-thing. I managed to start project on java 8 update 361, Eclipse Foundation\\jdk-16.0.2.7-hotspot, but I guess it has nothing to do with java or JDK, untill its not 10 years old. \r\nWhat I did:\r\n\r\n - Download and install Gradle \r\n - Create a new project\r\n - Run it once\r\n - Go to generated folder-&gt;android.build-&gt;gradle.properties.\r\n\r\n- [Here what you will see][1]\r\n\r\nIn my case - its 7.4.2, I changed it to this, it was 3.2.0.\r\nYou also need to go to android-build\\gradle\\wrapper-&gt;gradle-wrapper.properties and change it to gradle you install (cmd - &quot;gradle --version&quot;). Those versions may not be the same, its ok.\r\nAnd after that I managed to lauch a project. I dont know, maybe you could run gradle init in project folder, will check this later, untill then - this is a working methon on QT 5.12.12\r\n\r\nYou may read https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2 article, it didnt help me, but it gave me right direction.\r\n\r\nKeep in mind - before that I had Android Studio installed and I was thinking, that it installed everything for me.\r\n\r\n  [1]: https://i.stack.imgur.com/Lk8PJ.png","title":"Could not determine java version from &quot;N&quot;. QT","body":"<p>Oh god I didnt expect this rabit hole to be so deep. First thing - Thanks to Elikill58, he's a god.\nI dont yet know if JDK change any-thing. I managed to start project on java 8 update 361, Eclipse Foundation\\jdk-16.0.2.7-hotspot, but I guess it has nothing to do with java or JDK, untill its not 10 years old.\nWhat I did:</p>\n<ul>\n<li><p>Download and install Gradle</p>\n</li>\n<li><p>Create a new project</p>\n</li>\n<li><p>Run it once</p>\n</li>\n<li><p>Go to generated folder-&gt;android.build-&gt;gradle.properties.</p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/Lk8PJ.png\" rel=\"nofollow noreferrer\">Here what you will see</a></p>\n</li>\n</ul>\n<p>In my case - its 7.4.2, I changed it to this, it was 3.2.0.\nYou also need to go to android-build\\gradle\\wrapper-&gt;gradle-wrapper.properties and change it to gradle you install (cmd - &quot;gradle --version&quot;). Those versions may not be the same, its ok.\nAnd after that I managed to lauch a project. I dont know, maybe you could run gradle init in project folder, will check this later, untill then - this is a working methon on QT 5.12.12</p>\n<p>You may read <a href=\"https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2\">Gradle: Could not determine java version from &#39;11.0.2&#39;</a> article, it didnt help me, but it gave me right direction.</p>\n<p>Keep in mind - before that I had Android Studio installed and I was thinking, that it installed everything for me.</p>\n"}],"owner":{"account_id":26238260,"reputation":13,"user_id":19913032,"display_name":"VoiceShifter"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75760058,"answer_count":1,"score":-2,"last_activity_date":1678990091,"creation_date":1678833792,"question_id":75739034,"body_markdown":"I wanted to start android developing with QT, but ran into a problem.\r\n![Pic related](https://i.stack.imgur.com/40UX8.png)\r\n\r\nQt version is 5.12.12\r\n![Pic related](https://i.stack.imgur.com/CH0vt.png)\r\n\r\nInstalled offline, didnt turn off anything in installation.\r\n\r\nIm running standart project, hello world, here is errors\r\n![Pic related](https://i.stack.imgur.com/yPCL6.png)\r\n\r\nThe thing is - emulator starts, but doesnt launch project.\r\n\r\nFound on qt forum, that I need to downgrade java to 1.8 or lower, the thing is - on picture you see already downgraded java. I started with 1.9, went to 1.8 and now on 1.6, nothing changes, exept error changing mentioned java version. Probably will try even lower one, but hopes are low.","title":"Could not determine java version from &quot;N&quot;. QT","body":"<p>I wanted to start android developing with QT, but ran into a problem.\n<img src=\"https://i.stack.imgur.com/40UX8.png\" alt=\"Pic related\" /></p>\n<p>Qt version is 5.12.12\n<img src=\"https://i.stack.imgur.com/CH0vt.png\" alt=\"Pic related\" /></p>\n<p>Installed offline, didnt turn off anything in installation.</p>\n<p>Im running standart project, hello world, here is errors\n<img src=\"https://i.stack.imgur.com/yPCL6.png\" alt=\"Pic related\" /></p>\n<p>The thing is - emulator starts, but doesnt launch project.</p>\n<p>Found on qt forum, that I need to downgrade java to 1.8 or lower, the thing is - on picture you see already downgraded java. I started with 1.9, went to 1.8 and now on 1.6, nothing changes, exept error changing mentioned java version. Probably will try even lower one, but hopes are low.</p>\n"},{"tags":["java","arrays","integer"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1678987078,"post_id":75759387,"comment_id":133643689,"body_markdown":"Create a record `Boxer` with 3 fields, then fill two `List&lt;Boxer&gt;` for both weights, then sort them by score and take the last element.","body":"Create a record <code>Boxer</code> with 3 fields, then fill two <code>List&lt;Boxer&gt;</code> for both weights, then sort them by score and take the last element."},{"owner":{"account_id":28034994,"reputation":1,"user_id":21413552,"display_name":"aurellia"},"score":0,"creation_date":1678987801,"post_id":75759387,"comment_id":133643899,"body_markdown":"what do you mean by boxer... T-T i&#39;m sorry i&#39;m a super beginner @f1sh","body":"what do you mean by boxer... T-T i&#39;m sorry i&#39;m a super beginner @f1sh"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678988026,"post_id":75759387,"comment_id":133643969,"body_markdown":"Have you learned about Java classes?  Boxer would be a class (or a record as suggested by @f1sh)  And another way to do this would be to use a map.","body":"Have you learned about Java classes?  Boxer would be a class (or a record as suggested by @f1sh)  And another way to do this would be to use a map."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678988605,"post_id":75759387,"comment_id":133644166,"body_markdown":"Check out [The Java Tutorials](https://docs.oracle.com/javase/tutorial/index.html) for more about the basics of Java (note that `record&#39;s` won&#39;t be covered there but `classes` will).","body":"Check out <a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a> for more about the basics of Java (note that <code>record&#39;s</code> won&#39;t be covered there but <code>classes</code> will)."},{"owner":{"account_id":28034994,"reputation":1,"user_id":21413552,"display_name":"aurellia"},"score":0,"creation_date":1678990146,"post_id":75759387,"comment_id":133644633,"body_markdown":"@WJS okaayy thankyou for the inputs :)","body":"@WJS okaayy thankyou for the inputs :)"}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678989657,"creation_date":1678989657,"answer_id":75760023,"question_id":75759387,"body_markdown":"You can utilize Java 8+ &#39;s collection utilities to find the max values.\r\n\r\nJust parse each line into an object and place it in a list. You can now group by division, and for each division list, locate the max. You must make sure your `Boxer` class implements `Comparable` for `Collection.max` to actually work.\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class BoxingScores {\r\n    public static void main(String[] args) {\r\n        BoxingCompetition competition = parseFile(&quot;/boxingcompetition.txt&quot;);\r\n        Map&lt;String, List&lt;Boxer&gt;&gt; grouped = competition.getBoxers().stream()\r\n                .collect(Collectors.groupingBy(Boxer::getDivision));\r\n        List&lt;Boxer&gt; topScores = grouped.entrySet().stream()\r\n                .map(Map.Entry::getValue)\r\n                .map(Collections::max)\r\n                .collect(Collectors.toList());\r\n        System.out.println(topScores);\r\n    }\r\n\r\n    private static BoxingCompetition parseFile(String filename) {\r\n        List&lt;Boxer&gt; boxers = new ArrayList&lt;&gt;();\r\n        Scanner scan = new Scanner(BoxingScores.class.getResourceAsStream(filename));\r\n        int competitions = scan.nextInt();\r\n        scan.nextLine();\r\n        System.out.printf(&quot;Competitions: %d%n&quot;, competitions);\r\n\r\n        while (scan.hasNextLine()) {\r\n            String line = scan.nextLine();\r\n            String[] tokens = line.split(&quot;,&quot;);\r\n            String name = tokens[0];\r\n            int score = Integer.parseInt(tokens[1]);\r\n            String division = tokens[2];\r\n            boxers.add(new Boxer(name, division, score));\r\n        }\r\n\r\n        scan.close();\r\n\r\n        return new BoxingCompetition(competitions, boxers);\r\n    }\r\n\r\n    private static class BoxingCompetition {\r\n        private int count;\r\n        private List&lt;Boxer&gt; boxers;\r\n\r\n        public BoxingCompetition(int count, List&lt;Boxer&gt; boxers) {\r\n            this.count = count;\r\n            this.boxers = boxers;\r\n        }\r\n\r\n        public int getCount() {\r\n            return count;\r\n        }\r\n\r\n        public void setCount(int count) {\r\n            this.count = count;\r\n        }\r\n\r\n        public List&lt;Boxer&gt; getBoxers() {\r\n            return boxers;\r\n        }\r\n\r\n        public void setBoxers(List&lt;Boxer&gt; boxers) {\r\n            this.boxers = boxers;\r\n        }\r\n    }\r\n\r\n    private static class Boxer implements Comparable&lt;Boxer&gt; {\r\n        private String name;\r\n        private String division;\r\n        private int score;\r\n\r\n        public Boxer(String name, String division, int score) {\r\n            this.name = name;\r\n            this.division = division;\r\n            this.score = score;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getDivision() {\r\n            return division;\r\n        }\r\n\r\n        public void setDivision(String division) {\r\n            this.division = division;\r\n        }\r\n\r\n        public int getScore() {\r\n            return score;\r\n        }\r\n\r\n        public void setScore(int score) {\r\n            this.score = score;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Boxer other) {\r\n            return this.score - other.score; // Descending\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;{ name: \\&quot;%s\\&quot;, division: \\&quot;%s\\&quot;, score: %d }&quot;, name, division, score);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```json\r\n[\r\n  { name: &quot;Eva&quot;, division: &quot;flyweight&quot;, score: 96 },\r\n  { name: &quot;Harry&quot;, division: &quot;featherweight&quot;, score: 90 }\r\n]\r\n```","title":"How to create array from elements from another file in Java","body":"<p>You can utilize Java 8+ 's collection utilities to find the max values.</p>\n<p>Just parse each line into an object and place it in a list. You can now group by division, and for each division list, locate the max. You must make sure your <code>Boxer</code> class implements <code>Comparable</code> for <code>Collection.max</code> to actually work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.stream.Collectors;\n\npublic class BoxingScores {\n    public static void main(String[] args) {\n        BoxingCompetition competition = parseFile(&quot;/boxingcompetition.txt&quot;);\n        Map&lt;String, List&lt;Boxer&gt;&gt; grouped = competition.getBoxers().stream()\n                .collect(Collectors.groupingBy(Boxer::getDivision));\n        List&lt;Boxer&gt; topScores = grouped.entrySet().stream()\n                .map(Map.Entry::getValue)\n                .map(Collections::max)\n                .collect(Collectors.toList());\n        System.out.println(topScores);\n    }\n\n    private static BoxingCompetition parseFile(String filename) {\n        List&lt;Boxer&gt; boxers = new ArrayList&lt;&gt;();\n        Scanner scan = new Scanner(BoxingScores.class.getResourceAsStream(filename));\n        int competitions = scan.nextInt();\n        scan.nextLine();\n        System.out.printf(&quot;Competitions: %d%n&quot;, competitions);\n\n        while (scan.hasNextLine()) {\n            String line = scan.nextLine();\n            String[] tokens = line.split(&quot;,&quot;);\n            String name = tokens[0];\n            int score = Integer.parseInt(tokens[1]);\n            String division = tokens[2];\n            boxers.add(new Boxer(name, division, score));\n        }\n\n        scan.close();\n\n        return new BoxingCompetition(competitions, boxers);\n    }\n\n    private static class BoxingCompetition {\n        private int count;\n        private List&lt;Boxer&gt; boxers;\n\n        public BoxingCompetition(int count, List&lt;Boxer&gt; boxers) {\n            this.count = count;\n            this.boxers = boxers;\n        }\n\n        public int getCount() {\n            return count;\n        }\n\n        public void setCount(int count) {\n            this.count = count;\n        }\n\n        public List&lt;Boxer&gt; getBoxers() {\n            return boxers;\n        }\n\n        public void setBoxers(List&lt;Boxer&gt; boxers) {\n            this.boxers = boxers;\n        }\n    }\n\n    private static class Boxer implements Comparable&lt;Boxer&gt; {\n        private String name;\n        private String division;\n        private int score;\n\n        public Boxer(String name, String division, int score) {\n            this.name = name;\n            this.division = division;\n            this.score = score;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public String getDivision() {\n            return division;\n        }\n\n        public void setDivision(String division) {\n            this.division = division;\n        }\n\n        public int getScore() {\n            return score;\n        }\n\n        public void setScore(int score) {\n            this.score = score;\n        }\n\n        @Override\n        public int compareTo(Boxer other) {\n            return this.score - other.score; // Descending\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;{ name: \\&quot;%s\\&quot;, division: \\&quot;%s\\&quot;, score: %d }&quot;, name, division, score);\n        }\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  { name: &quot;Eva&quot;, division: &quot;flyweight&quot;, score: 96 },\n  { name: &quot;Harry&quot;, division: &quot;featherweight&quot;, score: 90 }\n]\n</code></pre>\n"}],"owner":{"account_id":28034994,"reputation":1,"user_id":21413552,"display_name":"aurellia"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1678988170,"answer_count":1,"score":-2,"last_activity_date":1678989657,"creation_date":1678986173,"question_id":75759387,"body_markdown":"[my coursework](https://i.stack.imgur.com/M232X.png)\r\n\r\nso I want to create an array each for the score of flyweight and featherweight. but i have no idea how. this is my code so far\r\n```\r\nScanner readFile = new Scanner (Main.class.getResourceAsStream(&quot;boxingcompetition.txt&quot;));\r\n        int competition = Integer.parseInt(readFile.nextLine());\r\n        int totalCompetition = competition *2;\r\n        \r\n        String line;\r\n        String[] lineSplit;\r\n        String name;\r\n        int score;\r\n        String categories;\r\n        \r\n        for (int i = 1; i&lt;= totalCompetition; i++)\r\n        {\r\n            line = readFile.nextLine();\r\n            lineSplit = line.split(&quot;,&quot;);\r\n            name = lineSplit[0];\r\n            score = Integer.parseInt(lineSplit[1]);\r\n            categories = lineSplit[2];\r\n            \r\n            if (categories.equals(&quot;flyweight&quot;))\r\n            {}\r\n```","title":"How to create array from elements from another file in Java","body":"<p><a href=\"https://i.stack.imgur.com/M232X.png\" rel=\"nofollow noreferrer\">my coursework</a></p>\n<p>so I want to create an array each for the score of flyweight and featherweight. but i have no idea how. this is my code so far</p>\n<pre><code>Scanner readFile = new Scanner (Main.class.getResourceAsStream(&quot;boxingcompetition.txt&quot;));\n        int competition = Integer.parseInt(readFile.nextLine());\n        int totalCompetition = competition *2;\n        \n        String line;\n        String[] lineSplit;\n        String name;\n        int score;\n        String categories;\n        \n        for (int i = 1; i&lt;= totalCompetition; i++)\n        {\n            line = readFile.nextLine();\n            lineSplit = line.split(&quot;,&quot;);\n            name = lineSplit[0];\n            score = Integer.parseInt(lineSplit[1]);\n            categories = lineSplit[2];\n            \n            if (categories.equals(&quot;flyweight&quot;))\n            {}\n</code></pre>\n"},{"tags":["java","gpu","opencl","gpgpu","aparapi"],"comments":[{"owner":{"account_id":20380,"reputation":22503,"user_id":48660,"accept_rate":70,"display_name":"pmdj"},"score":0,"creation_date":1679062712,"post_id":75365328,"comment_id":133658490,"body_markdown":"It sounds like the problem here is that you&#39;re confusing maximum **image** size with maximum **work-group** size. I&#39;m unfortunately not familiar with the OpenCL wrapper you&#39;re using, but make sure you don&#39;t try to make the group size the same as the total work size when enqueuing.","body":"It sounds like the problem here is that you&#39;re confusing maximum <b>image</b> size with maximum <b>work-group</b> size. I&#39;m unfortunately not familiar with the OpenCL wrapper you&#39;re using, but make sure you don&#39;t try to make the group size the same as the total work size when enqueuing."},{"owner":{"account_id":16453092,"reputation":852,"user_id":11886026,"display_name":"Trayan Momkov"},"score":0,"creation_date":1679241830,"post_id":75365328,"comment_id":133682111,"body_markdown":"@pmdj I think you are right. **work-group** is called **localSize** if I&#39;m not mistaken. Aparapi automatically chooses the best localSize. You can set it manually with `create(size, localSize)` as long as `size % localSize == 0`. In my case I have size of 10240 and the chosen localSize is 640. But when Aparapi tries to run the code I get the error: `!!!!!!! Kernel overall local size: 640 exceeds maximum kernel allowed local size of: 256 failed (null)` The question is: Can we somehow change this maximum kernel allowed local size?","body":"@pmdj I think you are right. <b>work-group</b> is called <b>localSize</b> if I&#39;m not mistaken. Aparapi automatically chooses the best localSize. You can set it manually with <code>create(size, localSize)</code> as long as <code>size % localSize == 0</code>. In my case I have size of 10240 and the chosen localSize is 640. But when Aparapi tries to run the code I get the error: <code>!!!!!!! Kernel overall local size: 640 exceeds maximum kernel allowed local size of: 256 failed (null)</code> The question is: Can we somehow change this maximum kernel allowed local size?"},{"owner":{"account_id":20380,"reputation":22503,"user_id":48660,"accept_rate":70,"display_name":"pmdj"},"score":0,"creation_date":1679299863,"post_id":75365328,"comment_id":133689898,"body_markdown":"The local size is a limitation of the hardware &amp; driver, and also the resource usage of the kernel itself. You don’t need any work groups at all (group size 1) if you don’t use local memory. This won’t have any negative performance impact.","body":"The local size is a limitation of the hardware &amp; driver, and also the resource usage of the kernel itself. You don’t need any work groups at all (group size 1) if you don’t use local memory. This won’t have any negative performance impact."},{"owner":{"account_id":16453092,"reputation":852,"user_id":11886026,"display_name":"Trayan Momkov"},"score":0,"creation_date":1681047021,"post_id":75365328,"comment_id":133992933,"body_markdown":"The localSize matters. 256 is definitely faster than 1 in my case.","body":"The localSize matters. 256 is definitely faster than 1 in my case."}],"owner":{"account_id":27581834,"reputation":21,"user_id":21050883,"display_name":"forreg16"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678989301,"creation_date":1675708691,"question_id":75365328,"body_markdown":"When I use Aparapi with an **AMD Radeon R7 450** graphics card with older drivers installed, the maximum value of the size parameter in the code below can be 268,435,455.\r\nWhich corresponds to the **2D image size** 16384 X 16384 = 268,435,456 (screenshot below).\r\nWhen I usually use the **AMD Radeon RX 5700 XT** graphics card, which also has a **2D image size** of 16384 X 16384 = 268,435,456, I get this error:\r\n**Total Local Kernel Size: Exceeds Maximum Allowed Local Kernel Size: 256 failed [ERROR] Failed to execute command**\r\nThat is size value cannot be greater than 256.\r\nSame issue with **NVIDIA GeForce RTX 3060 Ti** even though it has a **2D image size** of 32768 X 32768 = 1,073,741,824.\r\nTell me what could be the problem? Why is code performance lower in this case on newer video cards?\r\n\r\nCode:\r\n```\r\n        int size = 268435455;\r\n        double[] a = new double[size];\r\n        double[] b = new double[size];\r\n        double[] c = new double[size];\r\n\r\n        for (int i = 0; i &lt; size; i++)\r\n        {\r\n            a[i] = i;\r\n            b[i] = i;\r\n        }\r\n\r\n        Kernel kernel = new Kernel()\r\n        {\r\n            @Override \r\n            public void run() \r\n            {\r\n                int gid = getGlobalId();                \r\n                c[gid] = a[gid] + b[gid];\r\n            }            \r\n        };\r\n\r\n        kernel.execute(size);          \r\n        kernel.dispose();\r\n```\r\n\r\n\r\n\r\nscreen GPU Caps Viewer\r\nAMD Radeon R7 450:\r\n[![enter image description here](https://i.stack.imgur.com/SYU7E.png)](https://i.stack.imgur.com/SYU7E.png)\r\nAMD Radeon RX 5700 XT:\r\n[![enter image description here](https://i.stack.imgur.com/iDuS9.png)](https://i.stack.imgur.com/iDuS9.png)\r\nNVIDIA GeForce RTX 3060 Ti:\r\n[![enter image description here](https://i.stack.imgur.com/ug3B8.png)](https://i.stack.imgur.com/ug3B8.png)\r\n\r\nADDITION:\r\n \r\nWe managed to work around this problem in this way. If you use this code, the size can be greater than 256\r\n\r\n```\r\nRange range = Range.create2D(size, 1);\r\nkernel.execute(range);\r\nkernel.dispose();\r\n```\r\n\r\nBut if the array is two-dimensional, as in this case, then for AMD Radeon RX 5700 XT **Range.create 2D(size, 1)** works with a size greater than 256, but not for NVIDIA GeForce RTX 3060 Ti. For NVIDIA GeForce RTX 3060 Ti still size more than 256 does not work.\r\n\r\n```\r\n        Kernel kernel = new Kernel()\r\n        {\r\n            @Override \r\n            public void run() \r\n            {\r\n                int gid = getGlobalId();\r\n                \r\n                for (int i = 0; i &lt; size; i++)\r\n                {                  \r\n                    c[i][gid] = a[i][gid] + b[i][gid];\r\n                }\r\n            } \r\n\t    }\r\n```\r\nPerhaps, for Aparapi AMD video cards are preferable to NVIDIA. Keep this in mind when buying a video card.","title":"ERROR exceeds maximum kernel allowed local size","body":"<p>When I use Aparapi with an <strong>AMD Radeon R7 450</strong> graphics card with older drivers installed, the maximum value of the size parameter in the code below can be 268,435,455.\nWhich corresponds to the <strong>2D image size</strong> 16384 X 16384 = 268,435,456 (screenshot below).\nWhen I usually use the <strong>AMD Radeon RX 5700 XT</strong> graphics card, which also has a <strong>2D image size</strong> of 16384 X 16384 = 268,435,456, I get this error:\n<strong>Total Local Kernel Size: Exceeds Maximum Allowed Local Kernel Size: 256 failed [ERROR] Failed to execute command</strong>\nThat is size value cannot be greater than 256.\nSame issue with <strong>NVIDIA GeForce RTX 3060 Ti</strong> even though it has a <strong>2D image size</strong> of 32768 X 32768 = 1,073,741,824.\nTell me what could be the problem? Why is code performance lower in this case on newer video cards?</p>\n<p>Code:</p>\n<pre><code>        int size = 268435455;\n        double[] a = new double[size];\n        double[] b = new double[size];\n        double[] c = new double[size];\n\n        for (int i = 0; i &lt; size; i++)\n        {\n            a[i] = i;\n            b[i] = i;\n        }\n\n        Kernel kernel = new Kernel()\n        {\n            @Override \n            public void run() \n            {\n                int gid = getGlobalId();                \n                c[gid] = a[gid] + b[gid];\n            }            \n        };\n\n        kernel.execute(size);          \n        kernel.dispose();\n</code></pre>\n<p>screen GPU Caps Viewer\nAMD Radeon R7 450:\n<a href=\"https://i.stack.imgur.com/SYU7E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SYU7E.png\" alt=\"enter image description here\" /></a>\nAMD Radeon RX 5700 XT:\n<a href=\"https://i.stack.imgur.com/iDuS9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iDuS9.png\" alt=\"enter image description here\" /></a>\nNVIDIA GeForce RTX 3060 Ti:\n<a href=\"https://i.stack.imgur.com/ug3B8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ug3B8.png\" alt=\"enter image description here\" /></a></p>\n<p>ADDITION:</p>\n<p>We managed to work around this problem in this way. If you use this code, the size can be greater than 256</p>\n<pre><code>Range range = Range.create2D(size, 1);\nkernel.execute(range);\nkernel.dispose();\n</code></pre>\n<p>But if the array is two-dimensional, as in this case, then for AMD Radeon RX 5700 XT <strong>Range.create 2D(size, 1)</strong> works with a size greater than 256, but not for NVIDIA GeForce RTX 3060 Ti. For NVIDIA GeForce RTX 3060 Ti still size more than 256 does not work.</p>\n<pre><code>        Kernel kernel = new Kernel()\n        {\n            @Override \n            public void run() \n            {\n                int gid = getGlobalId();\n                \n                for (int i = 0; i &lt; size; i++)\n                {                  \n                    c[i][gid] = a[i][gid] + b[i][gid];\n                }\n            } \n        }\n</code></pre>\n<p>Perhaps, for Aparapi AMD video cards are preferable to NVIDIA. Keep this in mind when buying a video card.</p>\n"},{"tags":["java","reactjs","cors","cxf","tomcat9"],"comments":[{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1678994581,"post_id":75759922,"comment_id":133645767,"body_markdown":"Change the value of `cors.exposed.headers` to `alias,authorization,content-type,customerid`.","body":"Change the value of <code>cors.exposed.headers</code> to <code>alias,authorization,content-type,customerid</code>."},{"owner":{"account_id":24509069,"reputation":23,"user_id":18423650,"display_name":"David D"},"score":0,"creation_date":1678999666,"post_id":75759922,"comment_id":133646935,"body_markdown":"I have already added what you mentioned, however, I still cannot see the headers in the response and, even worse, I continue to have the CORS block. :(","body":"I have already added what you mentioned, however, I still cannot see the headers in the response and, even worse, I continue to have the CORS block. :("},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1679000157,"post_id":75759922,"comment_id":133647028,"body_markdown":"Ah, hold on, I&#39;ve just noticed something in the request: `access-control-request-private-network: true`. You&#39;re sending a request from a more public to a more local network; see https://github.com/WICG/local-network-access. Not sure Tomcat&#39;s CORS thing supports that yet.","body":"Ah, hold on, I&#39;ve just noticed something in the request: <code>access-control-request-private-network: true</code>. You&#39;re sending a request from a more public to a more local network; see <a href=\"https://github.com/WICG/local-network-access\" rel=\"nofollow noreferrer\">github.com/WICG/local-network-access</a>. Not sure Tomcat&#39;s CORS thing supports that yet."},{"owner":{"account_id":24509069,"reputation":23,"user_id":18423650,"display_name":"David D"},"score":1,"creation_date":1680498715,"post_id":75759922,"comment_id":133902704,"body_markdown":"A few days ago I solved it, the conclusion is as follows:\n1. In my web.xml I had a security-constraint filter which was blocking OPTIONS requests.\n2. Adding custom headers is also part of the solution because if they are not added, the request is blocked.\n3. Adding or keeping in mind the Access-Control-Request-Headers header is also part of the solution because this header is allowed to enable the validation of custom headers and others. \nThank you for your help @jub0bs, it was greatly appreciated.","body":"A few days ago I solved it, the conclusion is as follows: 1. In my web.xml I had a security-constraint filter which was blocking OPTIONS requests. 2. Adding custom headers is also part of the solution because if they are not added, the request is blocked. 3. Adding or keeping in mind the Access-Control-Request-Headers header is also part of the solution because this header is allowed to enable the validation of custom headers and others.  Thank you for your help @jub0bs, it was greatly appreciated."},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1680503056,"post_id":75759922,"comment_id":133903212,"body_markdown":"Glad you figured it out. Remember that, on Stack Overflow, you can write an answer to your own question.","body":"Glad you figured it out. Remember that, on Stack Overflow, you can write an answer to your own question."}],"owner":{"account_id":24509069,"reputation":23,"user_id":18423650,"display_name":"David D"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678989085,"creation_date":1678989085,"question_id":75759922,"body_markdown":"I’m currently having problems with CORS in Tomcat, when I consume a service from React from another domain I receive the following error\r\n`Access to fetch at &#39;https://tomcat:8443/post/service &#39; from origin &#39;https://domainReact:8443/react&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status.`\r\nMy configuration on the backend is as follows:\r\nTomcat9/conf/web.xml\r\n```\r\n&lt;filter&gt;\r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\r\n            &lt;param-value&gt;*&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.support.credentials&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.request.decorate&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\r\n            &lt;param-value&gt;GET,POST,DELETE,OPTIONS,PUT&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\r\n            &lt;param-value&gt;Content-Type,X-Requested-With,Access-Control-Request-Method,Access-Control-Request-Headers,accept,Origin,Access-Control-Allows-Origin,alias,Authorization,customerId&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\r\n            &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-Credentials,Access-Control-Request-Headers&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.preflight.maxage&lt;/param-name&gt;\r\n            &lt;param-value&gt;1728000&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;CSRF&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.apache.catalina.filters.CsrfPreventionFilter&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;entryPoints&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/html,/html/&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    &lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;CSRF&lt;/filter-name&gt;\r\n\t\t&lt;servlet-name&gt;servlet&lt;/servlet-name&gt;\r\n\t&lt;/filter-mapping&gt;\r\n```\r\nNetwork\r\n```\r\nGeneral:\r\nRequest URL: https://tomcat:8443/post/service\r\nRequest Method: OPTIONS\r\nStatus Code: 403 \r\nRemote Address: 172.16.0.233:8443\r\nReferrer Policy: strict-origin-when-cross-origin\r\n\r\nRequest:\r\n:authority: https://tomcat:8443\r\n:method: OPTIONS\r\n:path: /post/service\r\n:scheme: https\r\naccept: */*\r\naccept-encoding: gzip, deflate, br\r\naccess-control-request-headers: alias,authorization,content-type,customerid\r\naccess-control-request-method: POST\r\naccess-control-request-private-network: true\r\norigin: https://domainReact:8443/react\r\nreferer: https://domainReact:8443/react/\r\nsec-fetch-dest: empty\r\nsec-fetch-mode: cors\r\nsec-fetch-site: same-site\r\n\r\nResponse:\r\nControl-Request-Headers\r\ncache-control: private\r\ncontent-length: 683\r\ncontent-type: text/html;charset=utf-8\r\n```\r\nI have two custom headers, the API is exposed with JAX-RS and has no CORS filters.\r\n\r\n\r\n\r\nI tried removing the tomcat/conf/web.xml filter, however, I received the same error. I tried consuming the service from Java and it worked without problems. The problem arises when it is consumed with React or Javascript. I added my custom headers to the Tomcat filter, but the result is the same when consumed from React.\r\nI still don’t understand why the headers are not visible in the response when the service is consumed. Is there something that could be misconfigured in Tomcat?","title":"Why is there a CORS block even though there is no CORS restriction on my backend?","body":"<p>I’m currently having problems with CORS in Tomcat, when I consume a service from React from another domain I receive the following error\n<code>Access to fetch at 'https://tomcat:8443/post/service ' from origin 'https://domainReact:8443/react' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status.</code>\nMy configuration on the backend is as follows:\nTomcat9/conf/web.xml</p>\n<pre><code>&lt;filter&gt;\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\n            &lt;param-value&gt;*&lt;/param-value&gt;\n        &lt;/init-param&gt;\n\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.support.credentials&lt;/param-name&gt;\n            &lt;param-value&gt;false&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.request.decorate&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\n            &lt;param-value&gt;GET,POST,DELETE,OPTIONS,PUT&lt;/param-value&gt;\n        &lt;/init-param&gt;\n\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\n            &lt;param-value&gt;Content-Type,X-Requested-With,Access-Control-Request-Method,Access-Control-Request-Headers,accept,Origin,Access-Control-Allows-Origin,alias,Authorization,customerId&lt;/param-value&gt;\n        &lt;/init-param&gt;\n\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\n            &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-Credentials,Access-Control-Request-Headers&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.preflight.maxage&lt;/param-name&gt;\n            &lt;param-value&gt;1728000&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;CSRF&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.catalina.filters.CsrfPreventionFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;entryPoints&lt;/param-name&gt;\n            &lt;param-value&gt;/html,/html/&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;CSRF&lt;/filter-name&gt;\n        &lt;servlet-name&gt;servlet&lt;/servlet-name&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n<p>Network</p>\n<pre><code>General:\nRequest URL: https://tomcat:8443/post/service\nRequest Method: OPTIONS\nStatus Code: 403 \nRemote Address: 172.16.0.233:8443\nReferrer Policy: strict-origin-when-cross-origin\n\nRequest:\n:authority: https://tomcat:8443\n:method: OPTIONS\n:path: /post/service\n:scheme: https\naccept: */*\naccept-encoding: gzip, deflate, br\naccess-control-request-headers: alias,authorization,content-type,customerid\naccess-control-request-method: POST\naccess-control-request-private-network: true\norigin: https://domainReact:8443/react\nreferer: https://domainReact:8443/react/\nsec-fetch-dest: empty\nsec-fetch-mode: cors\nsec-fetch-site: same-site\n\nResponse:\nControl-Request-Headers\ncache-control: private\ncontent-length: 683\ncontent-type: text/html;charset=utf-8\n</code></pre>\n<p>I have two custom headers, the API is exposed with JAX-RS and has no CORS filters.</p>\n<p>I tried removing the tomcat/conf/web.xml filter, however, I received the same error. I tried consuming the service from Java and it worked without problems. The problem arises when it is consumed with React or Javascript. I added my custom headers to the Tomcat filter, but the result is the same when consumed from React.\nI still don’t understand why the headers are not visible in the response when the service is consumed. Is there something that could be misconfigured in Tomcat?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1678989118,"post_id":75752865,"comment_id":133644322,"body_markdown":"Don&#39;t put your entire project in a post. Reduce it to _only_ the code to show off the problem. If you have a button that you make transparent, show code that only sets up your frame, adds the button, and then shows off the transparency problem on mouse-over, without anything else. Have a look at the [mcve] article for tips on how to reduce your code.","body":"Don&#39;t put your entire project in a post. Reduce it to <i>only</i> the code to show off the problem. If you have a button that you make transparent, show code that only sets up your frame, adds the button, and then shows off the transparency problem on mouse-over, without anything else. Have a look at the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> article for tips on how to reduce your code."}],"owner":{"account_id":28029819,"reputation":1,"user_id":21409188,"display_name":"김명섭"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678988958,"creation_date":1678949023,"question_id":75752865,"body_markdown":"I&#39;m sorry in advance if the translation is weird.\r\n\r\nI made the button of Java transparent and inserted a rounded icon to complete the button as shown below.\r\n\r\nStrangely, however, every time you put your mouse cursor on a button, a strange white box is created. How can I solve it?\r\n\r\n(Button Part Code)\r\n```\r\n// 버튼 추가\r\n\t\tJButton DataListenBotton = new JButton(ListenBtnOff);\r\n\t\t\r\n\t\t// 위치 및 크기\r\n\t\tDataListenBotton.setBounds(388, 17, 207, 31);\r\n\t\t\r\n\t\t// 색깔 지정\r\n\t\tDataListenBotton.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\t// 테두리 제거\r\n\t\tDataListenBotton.setBorderPainted(false);\r\n\t\t\r\n\t\t// 내용 채우기 제거\r\n\t\tDataListenBotton.setContentAreaFilled(false);\r\n\t\t\r\n\t\t// 선택 시 테두리 제거\r\n\t\tDataListenBotton.setFocusPainted(false);\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tDataListenBotton.setOpaque(false);\r\n\t\t\r\n\t\t// Listen 버튼 - 추가\r\n\t\tSub_Panel_01.add(DataListenBotton);\r\n\t\t\r\n\t\tDataListenBotton.addActionListener(event -&gt; {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&#39;!&#39;);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tDataListenBotton.addMouseListener(new java.awt.event.MouseAdapter() {\r\n\t\t    public void mouseEntered(java.awt.event.MouseEvent evt) {\r\n\t\t    \tDataListenBotton.setIcon(ListenBtnOn);\r\n\t\t    }\r\n\r\n\t\t    public void mouseExited(java.awt.event.MouseEvent evt) {\r\n\t\t    \tDataListenBotton.setIcon(ListenBtnOff);\r\n\t\t    }\r\n\t\t});\r\n```\r\n\r\n(All Code)\r\n```\r\nimport java.awt.EventQueue;\r\nimport java.awt.FlowLayout;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.border.Border;\r\nimport javax.swing.border.EmptyBorder;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.Insets;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.Socket;\r\nimport java.net.SocketAddress;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.Properties;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.TimeUnit;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.SwingConstants;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.DefaultComboBoxModel;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTable;\r\nimport java.awt.Component;\r\n\r\nimport javax.swing.table.DefaultTableCellRenderer;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.table.TableColumnModel;\r\nimport javax.swing.JFormattedTextField;\r\nimport java.awt.Toolkit;\r\nimport java.awt.GridLayout;\r\nimport javax.swing.JRadioButton;\r\nimport javax.swing.JCheckBox;\r\nimport com.toedter.calendar.JDateChooser;\r\nimport com.toedter.components.JLocaleChooser;\r\n\r\npublic class Main_View extends JFrame {\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t// 배경 패널\r\n\tprivate JPanel BackGround_Panel;\r\n\t\r\n\t// 수신 시간\r\n\tpublic static JLabel DateLabel = new JLabel(&quot;최근 데이터 수신 시간 : 2023-03-14 AM 11:05:30&quot;);\r\n\t\r\n\t// 실시간 배터리 데이터 영역\r\n\tprivate JPanel Sub_Panel_01;\r\n\t\r\n\t// 실시간 차트 영역\r\n\tprivate JPanel Sub_Panel_02;\r\n\t\r\n\t// 시리얼 설정 영역\r\n\tprivate JPanel Sub_Panel_03;\r\n\t\r\n\t// 메인 생성\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 메인 화면 생성\r\n\t\t\t\t\tMain_View frame = new Main_View();\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 화면 보이게 설정\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic Main_View() {\r\n\t\tsetAutoRequestFocus(false);\r\n\t\t\r\n\t\t// 아이콘 설정\r\n\t\tsetIconImage(Toolkit.getDefaultToolkit().getImage(View.class.getResource(&quot;/Image/GB_ICON.png&quot;)));\r\n\t\t\r\n\t\t// 배경 색상 설정\r\n\t\tsetBackground(new Color(128, 128, 128));\r\n\t\t\r\n\t\t// 화면 크기 변경 방지 설정\r\n\t\tsetResizable(false);\r\n\t\t\r\n\t\t// 기본 폰트 설정\r\n\t\tsetFont(new Font(&quot;굴림&quot;, Font.BOLD, 12));\r\n\t\t\r\n\t\t// 타이틀 설정\r\n\t\tsetTitle(&quot;Wireless Battery Data Gathering System&quot;);\r\n\t\t\r\n\t\t// 프로그램 종료 설정\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\t// 화면 크기 설정(고정)\r\n\t\tsetBounds(0, 0, 1326, 521);\r\n\t\tsetSize(1326, 521);\r\n\t\t\r\n\t\t// 프로그램을 화면 가운데 정렬 설정\r\n\t\tsetLocationRelativeTo(null);\r\n\t\t\r\n\t\t// 배경 패널 추가\r\n\t\tBackGround_Panel = new JPanel();\r\n\t\t\r\n\t\t// 배경 패널 보더 설정\r\n\t\tBackGround_Panel.setBorder(null);\r\n\t\t\r\n\t\t// 배경 패널 크기\r\n\t\tBackGround_Panel.setBounds(0, 0, 1310, 482);\r\n\t\t\r\n\t\t// 배경 패널 레이아웃 설정\r\n\t\tBackGround_Panel.setLayout(null);\r\n        \r\n        // 배경 이미지 생성\r\n        ImageIcon bsImg = new ImageIcon(Main_View.class.getResource(&quot;/Image/Main_Background_Image.png&quot;));\r\n        \r\n        // 이미지를 삽입할 라벨 생성\r\n        JLabel Background_Image = new JLabel();\r\n\t\t\r\n        // 이미지 삽입\r\n        Background_Image.setIcon(bsImg);\r\n        \r\n        // 이미지 사이즈 지정\r\n        Background_Image.setBounds(0, 0, 1310, 482);\r\n        \r\n        // 선택되었을 때 이미지\r\n        ImageIcon checkBoxOn = new ImageIcon(Main_View.class.getResource(&quot;/Image/CheckToggle_On.png&quot;));\r\n        \r\n        // 선택이 안 되었을 때 이미지\r\n        ImageIcon checkBoxOff = new ImageIcon(Main_View.class.getResource(&quot;/Image/CheckToggle_Off.png&quot;));\r\n\t\t\r\n        // 체크 박스 설정 영역\r\n\t\tJCheckBox WriteLog_CheckBox = new JCheckBox(checkBoxOff);\r\n\t\t\r\n\t\t// 선택되었을 때 이미지 변경\r\n\t\tWriteLog_CheckBox.setSelectedIcon(checkBoxOn);\r\n\t\t\r\n\t\t// 위치 및 크기\r\n\t\tWriteLog_CheckBox.setBounds(614, 71, 21, 23);\r\n\t\t\r\n\t\t// 색깔 지정\r\n\t\tWriteLog_CheckBox.setBackground(new Color(0, 0, 0));\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tWriteLog_CheckBox.setOpaque(false);\r\n\t\t\r\n\t\t// 체크박스 - 추가\r\n\t\tBackGround_Panel.add(WriteLog_CheckBox);\r\n\t\t\r\n\t\t// 텍스트 설정 영역\r\n\t\tJLabel WirteLog = new JLabel(&quot;Write Log&quot;);\r\n\t\tWirteLog.setHorizontalAlignment(SwingConstants.RIGHT);\r\n\t\tWirteLog.setForeground(Color.WHITE);\r\n\t\tWirteLog.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tWirteLog.setBounds(546, 75, 65, 15);\r\n\t\tBackGround_Panel.add(WirteLog);\r\n\t\tDateLabel.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\t\r\n\t\t// 최근 수신 날짜 - 색깔 지정\r\n\t\tDateLabel.setForeground(new Color(255, 255, 255));\r\n\t\t\r\n\t\t// 최근 수신 날짜 - 위치 지정\r\n\t\tDateLabel.setBounds(66, 75, 269, 15);\r\n\t\t\r\n\t\t// 최근 수신 날짜 - 추가\r\n\t\tBackGround_Panel.add(DateLabel);\r\n\t\t\r\n\t\t// 기본 설정\r\n\t\tSub_Panel_01 = new JPanel();\r\n\t\t\r\n\t\t// 배경 패널 보더 설정\r\n\t\tSub_Panel_01.setBorder(null);\r\n\t\t\r\n\t\t// 배경 패널 보더 설정\r\n\t\tSub_Panel_01.setLayout(null);\r\n\t\t\r\n\t\t// 배경 패널 크기\r\n\t\tSub_Panel_01.setBounds(38, 89, 770, 190);\r\n\t\t\r\n\t\t// 배경 이미지 생성\r\n        ImageIcon subImage_01 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image01.png&quot;));\r\n\t\t\r\n\t\t// 기본 설정\r\n\t\tSub_Panel_03 = new JPanel();\r\n\t\t\r\n\t\t// 배경 패널 보더 설정\r\n\t\tSub_Panel_03.setBorder(null);\r\n\t\t\t\t\r\n\t\t// 배경 패널 레이아웃 설정\r\n\t\tSub_Panel_03.setLayout(null);\r\n\t\t\t\t\r\n\t\t// 배경 패널 크기\r\n\t\tSub_Panel_03.setBounds(647, 89, 654, 382);\r\n\t\t\t\t\r\n\t\t// 배경 이미지\r\n\t\tJLabel Sub_Background_03 = new JLabel();\r\n\t\t\r\n\t\t// 배경 이미지 생성\r\n        ImageIcon subImage_03 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image03.png&quot;));\r\n\t\t\t\t\r\n        // 이미지 삽입\r\n        Sub_Background_03.setIcon(subImage_03);\r\n        \r\n        // 이미지 사이즈 지정\r\n        Sub_Background_03.setBounds(0, 0, 654, 382);\r\n        \r\n\t\t// 투명하게\r\n\t\tSub_Panel_03.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\t// 이미지 추가\r\n\t\tSub_Panel_03.add(Sub_Background_03);\r\n\t\t\r\n\t\t// 시리얼 설정 - 추가\r\n\t\tBackGround_Panel.add(Sub_Panel_03);\r\n        \r\n\t\t// 배경 이미지\r\n\t\tJLabel Sub_Background_01 = new JLabel();\r\n\t\t\r\n\t\t// 이미지 삽입\r\n\t\tSub_Background_01.setIcon(subImage_01);\r\n\t\t\r\n\t\t// 이미지 사이즈 지정\r\n\t\tSub_Background_01.setBounds(0, 0, 770, 190);\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tSub_Panel_01.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\tJLabel Module_Id_Text = new JLabel(&quot;01&quot;);\r\n\t\tModule_Id_Text.setFont(new Font(&quot;Gulim&quot;, Font.PLAIN, 12));\r\n\t\tModule_Id_Text.setBounds(122, 66, 102, 13);\r\n\t\tSub_Panel_01.add(Module_Id_Text);\r\n\t\t\r\n\t\tJLabel TimeStamp_Text = new JLabel(&quot;24&quot;);\r\n\t\tTimeStamp_Text.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tTimeStamp_Text.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tTimeStamp_Text.setBounds(332, 66, 83, 13);\r\n\t\tSub_Panel_01.add(TimeStamp_Text);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_01 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_01.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_01.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_01.setBounds(150, 90, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_01);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_02 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_02.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_02.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_02.setBounds(150, 114, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_02);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_03 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_03.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_03.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_03.setBounds(150, 139, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_03);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_04 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_04.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_04.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_04.setBounds(150, 163, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_04);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_05 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_05.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_05.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_05.setBounds(332, 90, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_05);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_06 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_06.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_06.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_06.setBounds(332, 114, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_06);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_07 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_07.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_07.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_07.setBounds(332, 139, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_07);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_08 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_08.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_08.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_08.setBounds(332, 163, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_08);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_09 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_09.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_09.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_09.setBounds(533, 66, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_09);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_10 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_10.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_10.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_10.setBounds(533, 90, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_10);\r\n\t\t\r\n\t\tJLabel Cell_Temperature_Text_01 = new JLabel(&quot;21.32&#176;C&quot;);\r\n\t\tCell_Temperature_Text_01.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Temperature_Text_01.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Temperature_Text_01.setBounds(533, 114, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Temperature_Text_01);\r\n\t\t\r\n\t\tJLabel Cell_Temperature_Text_02 = new JLabel(&quot;21.32&#176;C&quot;);\r\n\t\tCell_Temperature_Text_02.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Temperature_Text_02.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Temperature_Text_02.setBounds(533, 139, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Temperature_Text_02);\r\n\t\t\r\n\t\tJLabel Cell_Temperature_Text_03 = new JLabel(&quot;21.32&#176;C&quot;);\r\n\t\tCell_Temperature_Text_03.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Temperature_Text_03.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Temperature_Text_03.setBounds(533, 163, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Temperature_Text_03);\r\n\t\t\r\n\t\t// 선택되었을 때 이미지\r\n        ImageIcon ListenBtnOn = new ImageIcon(Main_View.class.getResource(&quot;/Image/Button_Listen_Image_On.png&quot;));\r\n        \r\n        // 선택이 안 되었을 때 이미지\r\n        ImageIcon ListenBtnOff = new ImageIcon(Main_View.class.getResource(&quot;/Image/Button_Listen_Image_Off.png&quot;));\r\n\t\t\r\n\t\t// 버튼 추가\r\n\t\tJButton DataListenBotton = new JButton(ListenBtnOff);\r\n\t\t\r\n\t\t// 위치 및 크기\r\n\t\tDataListenBotton.setBounds(388, 17, 207, 31);\r\n\t\t\r\n\t\t// 색깔 지정\r\n\t\tDataListenBotton.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\t// 테두리 제거\r\n\t\tDataListenBotton.setBorderPainted(false);\r\n\t\t\r\n\t\t// 내용 채우기 제거\r\n\t\tDataListenBotton.setContentAreaFilled(false);\r\n\t\t\r\n\t\t// 선택 시 테두리 제거\r\n\t\tDataListenBotton.setFocusPainted(false);\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tDataListenBotton.setOpaque(false);\r\n\t\t\r\n\t\t// Listen 버튼 - 추가\r\n\t\tSub_Panel_01.add(DataListenBotton);\r\n\t\t\r\n\t\tDataListenBotton.addActionListener(event -&gt; {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&#39;!&#39;);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tDataListenBotton.addMouseListener(new java.awt.event.MouseAdapter() {\r\n\t\t    public void mouseEntered(java.awt.event.MouseEvent evt) {\r\n\t\t    \tDataListenBotton.setIcon(ListenBtnOn);\r\n\t\t    }\r\n\r\n\t\t    public void mouseExited(java.awt.event.MouseEvent evt) {\r\n\t\t    \tDataListenBotton.setIcon(ListenBtnOff);\r\n\t\t    }\r\n\t\t});\r\n\t\t\r\n\t\t// 이미지 추가\r\n\t\tSub_Panel_01.add(Sub_Background_01);\r\n\t\t\r\n\t\t// 실시간 데이터 확인 - 추가\r\n\t\tBackGround_Panel.add(Sub_Panel_01);\r\n\t\t\r\n\t\t// 기본 설정\r\n\t\tSub_Panel_02 = new JPanel();\r\n\t\t\r\n\t\t// 배경 패널 보더 설정\r\n\t\tSub_Panel_02.setBorder(null);\r\n\t\t\r\n\t\t// 배경 패널 레이아웃 설정\r\n\t\tSub_Panel_02.setLayout(null);\r\n\t\t\r\n\t\t// 배경 패널 크기\r\n\t\tSub_Panel_02.setBounds(38, 280, 770, 190);\r\n\t\t\r\n\t\t// 배경 이미지 생성\r\n        ImageIcon subImage_02 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image02.png&quot;));\r\n\t\t\r\n        // 배경 이미지\r\n\t\tJLabel Sub_Background_02 = new JLabel();\r\n\t\t\r\n\t\t// 이미지 삽입\r\n\t\tSub_Background_02.setIcon(subImage_02);\r\n\t\t\r\n\t\t// 이미지 사이즈 지정\r\n\t\tSub_Background_02.setBounds(0, 0, 770, 190);\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tSub_Panel_02.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\t// 이미지 추가\r\n\t\tSub_Panel_02.add(Sub_Background_02);\r\n\t\t\r\n\t\t// 실시간 데이터 확인 - 추가\r\n\t\tBackGround_Panel.add(Sub_Panel_02);\r\n\t\t\r\n\t\t// 배경 이미지 삽입\r\n\t\tBackGround_Panel.add(Background_Image);\r\n\t\t\r\n\t\t// 배경 패널 추가\r\n\t\tsetContentPane(BackGround_Panel);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n(picture of the problem)\r\n\r\nThe first time you turned on the program (normal)\r\n[enter image description here](https://i.stack.imgur.com/Ie7xP.png)\r\n\r\nBring the mouse cursor over (a translucent white box appears)\r\n[enter image description here](https://i.stack.imgur.com/1vDLO.png)\r\n\r\nBring the mouse cursor over several times (whiter and then completely white)\r\n[enter image description here](https://i.stack.imgur.com/FtIf4.png)\r\n\r\n\r\n```\r\n// 색깔 지정\r\n\t\tDataListenBotton.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\t// 테두리 제거\r\n\t\tDataListenBotton.setBorderPainted(false);\r\n\t\t\r\n\t\t// 내용 채우기 제거\r\n\t\tDataListenBotton.setContentAreaFilled(false);\r\n\t\t\r\n\t\t// 선택 시 테두리 제거\r\n\t\tDataListenBotton.setFocusPainted(false);\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tDataListenBotton.setOpaque(false);\r\n```\r\n","title":"I made the button of Java Swing transparent and inserted the image, and a white box occurs","body":"<p>I'm sorry in advance if the translation is weird.</p>\n<p>I made the button of Java transparent and inserted a rounded icon to complete the button as shown below.</p>\n<p>Strangely, however, every time you put your mouse cursor on a button, a strange white box is created. How can I solve it?</p>\n<p>(Button Part Code)</p>\n<pre><code>// 버튼 추가\n        JButton DataListenBotton = new JButton(ListenBtnOff);\n        \n        // 위치 및 크기\n        DataListenBotton.setBounds(388, 17, 207, 31);\n        \n        // 색깔 지정\n        DataListenBotton.setBackground(new Color(0, 0, 0, 0));\n        \n        // 테두리 제거\n        DataListenBotton.setBorderPainted(false);\n        \n        // 내용 채우기 제거\n        DataListenBotton.setContentAreaFilled(false);\n        \n        // 선택 시 테두리 제거\n        DataListenBotton.setFocusPainted(false);\n        \n        // 투명하게\n        DataListenBotton.setOpaque(false);\n        \n        // Listen 버튼 - 추가\n        Sub_Panel_01.add(DataListenBotton);\n        \n        DataListenBotton.addActionListener(event -&gt; {\n            \n            System.out.println('!');\n            \n        });\n        \n        DataListenBotton.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mouseEntered(java.awt.event.MouseEvent evt) {\n                DataListenBotton.setIcon(ListenBtnOn);\n            }\n\n            public void mouseExited(java.awt.event.MouseEvent evt) {\n                DataListenBotton.setIcon(ListenBtnOff);\n            }\n        });\n</code></pre>\n<p>(All Code)</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.FlowLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.border.Border;\nimport javax.swing.border.EmptyBorder;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.Insets;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.Socket;\nimport java.net.SocketAddress;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Properties;\nimport java.util.Scanner;\nimport java.util.concurrent.TimeUnit;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.SwingConstants;\nimport javax.swing.JComboBox;\nimport javax.swing.JDialog;\nimport javax.swing.JFileChooser;\nimport javax.swing.JButton;\nimport javax.swing.JTextField;\nimport javax.swing.BorderFactory;\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.ImageIcon;\nimport javax.swing.JTextArea;\nimport javax.swing.JTable;\nimport java.awt.Component;\n\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableColumnModel;\nimport javax.swing.JFormattedTextField;\nimport java.awt.Toolkit;\nimport java.awt.GridLayout;\nimport javax.swing.JRadioButton;\nimport javax.swing.JCheckBox;\nimport com.toedter.calendar.JDateChooser;\nimport com.toedter.components.JLocaleChooser;\n\npublic class Main_View extends JFrame {\n    \n    private static final long serialVersionUID = 1L;\n    \n    // 배경 패널\n    private JPanel BackGround_Panel;\n    \n    // 수신 시간\n    public static JLabel DateLabel = new JLabel(&quot;최근 데이터 수신 시간 : 2023-03-14 AM 11:05:30&quot;);\n    \n    // 실시간 배터리 데이터 영역\n    private JPanel Sub_Panel_01;\n    \n    // 실시간 차트 영역\n    private JPanel Sub_Panel_02;\n    \n    // 시리얼 설정 영역\n    private JPanel Sub_Panel_03;\n    \n    // 메인 생성\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    // 메인 화면 생성\n                    Main_View frame = new Main_View();\n                    \n                    // 화면 보이게 설정\n                    frame.setVisible(true);\n                    \n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public Main_View() {\n        setAutoRequestFocus(false);\n        \n        // 아이콘 설정\n        setIconImage(Toolkit.getDefaultToolkit().getImage(View.class.getResource(&quot;/Image/GB_ICON.png&quot;)));\n        \n        // 배경 색상 설정\n        setBackground(new Color(128, 128, 128));\n        \n        // 화면 크기 변경 방지 설정\n        setResizable(false);\n        \n        // 기본 폰트 설정\n        setFont(new Font(&quot;굴림&quot;, Font.BOLD, 12));\n        \n        // 타이틀 설정\n        setTitle(&quot;Wireless Battery Data Gathering System&quot;);\n        \n        // 프로그램 종료 설정\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        // 화면 크기 설정(고정)\n        setBounds(0, 0, 1326, 521);\n        setSize(1326, 521);\n        \n        // 프로그램을 화면 가운데 정렬 설정\n        setLocationRelativeTo(null);\n        \n        // 배경 패널 추가\n        BackGround_Panel = new JPanel();\n        \n        // 배경 패널 보더 설정\n        BackGround_Panel.setBorder(null);\n        \n        // 배경 패널 크기\n        BackGround_Panel.setBounds(0, 0, 1310, 482);\n        \n        // 배경 패널 레이아웃 설정\n        BackGround_Panel.setLayout(null);\n        \n        // 배경 이미지 생성\n        ImageIcon bsImg = new ImageIcon(Main_View.class.getResource(&quot;/Image/Main_Background_Image.png&quot;));\n        \n        // 이미지를 삽입할 라벨 생성\n        JLabel Background_Image = new JLabel();\n        \n        // 이미지 삽입\n        Background_Image.setIcon(bsImg);\n        \n        // 이미지 사이즈 지정\n        Background_Image.setBounds(0, 0, 1310, 482);\n        \n        // 선택되었을 때 이미지\n        ImageIcon checkBoxOn = new ImageIcon(Main_View.class.getResource(&quot;/Image/CheckToggle_On.png&quot;));\n        \n        // 선택이 안 되었을 때 이미지\n        ImageIcon checkBoxOff = new ImageIcon(Main_View.class.getResource(&quot;/Image/CheckToggle_Off.png&quot;));\n        \n        // 체크 박스 설정 영역\n        JCheckBox WriteLog_CheckBox = new JCheckBox(checkBoxOff);\n        \n        // 선택되었을 때 이미지 변경\n        WriteLog_CheckBox.setSelectedIcon(checkBoxOn);\n        \n        // 위치 및 크기\n        WriteLog_CheckBox.setBounds(614, 71, 21, 23);\n        \n        // 색깔 지정\n        WriteLog_CheckBox.setBackground(new Color(0, 0, 0));\n        \n        // 투명하게\n        WriteLog_CheckBox.setOpaque(false);\n        \n        // 체크박스 - 추가\n        BackGround_Panel.add(WriteLog_CheckBox);\n        \n        // 텍스트 설정 영역\n        JLabel WirteLog = new JLabel(&quot;Write Log&quot;);\n        WirteLog.setHorizontalAlignment(SwingConstants.RIGHT);\n        WirteLog.setForeground(Color.WHITE);\n        WirteLog.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        WirteLog.setBounds(546, 75, 65, 15);\n        BackGround_Panel.add(WirteLog);\n        DateLabel.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        \n        // 최근 수신 날짜 - 색깔 지정\n        DateLabel.setForeground(new Color(255, 255, 255));\n        \n        // 최근 수신 날짜 - 위치 지정\n        DateLabel.setBounds(66, 75, 269, 15);\n        \n        // 최근 수신 날짜 - 추가\n        BackGround_Panel.add(DateLabel);\n        \n        // 기본 설정\n        Sub_Panel_01 = new JPanel();\n        \n        // 배경 패널 보더 설정\n        Sub_Panel_01.setBorder(null);\n        \n        // 배경 패널 보더 설정\n        Sub_Panel_01.setLayout(null);\n        \n        // 배경 패널 크기\n        Sub_Panel_01.setBounds(38, 89, 770, 190);\n        \n        // 배경 이미지 생성\n        ImageIcon subImage_01 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image01.png&quot;));\n        \n        // 기본 설정\n        Sub_Panel_03 = new JPanel();\n        \n        // 배경 패널 보더 설정\n        Sub_Panel_03.setBorder(null);\n                \n        // 배경 패널 레이아웃 설정\n        Sub_Panel_03.setLayout(null);\n                \n        // 배경 패널 크기\n        Sub_Panel_03.setBounds(647, 89, 654, 382);\n                \n        // 배경 이미지\n        JLabel Sub_Background_03 = new JLabel();\n        \n        // 배경 이미지 생성\n        ImageIcon subImage_03 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image03.png&quot;));\n                \n        // 이미지 삽입\n        Sub_Background_03.setIcon(subImage_03);\n        \n        // 이미지 사이즈 지정\n        Sub_Background_03.setBounds(0, 0, 654, 382);\n        \n        // 투명하게\n        Sub_Panel_03.setBackground(new Color(0, 0, 0, 0));\n        \n        // 이미지 추가\n        Sub_Panel_03.add(Sub_Background_03);\n        \n        // 시리얼 설정 - 추가\n        BackGround_Panel.add(Sub_Panel_03);\n        \n        // 배경 이미지\n        JLabel Sub_Background_01 = new JLabel();\n        \n        // 이미지 삽입\n        Sub_Background_01.setIcon(subImage_01);\n        \n        // 이미지 사이즈 지정\n        Sub_Background_01.setBounds(0, 0, 770, 190);\n        \n        // 투명하게\n        Sub_Panel_01.setBackground(new Color(0, 0, 0, 0));\n        \n        JLabel Module_Id_Text = new JLabel(&quot;01&quot;);\n        Module_Id_Text.setFont(new Font(&quot;Gulim&quot;, Font.PLAIN, 12));\n        Module_Id_Text.setBounds(122, 66, 102, 13);\n        Sub_Panel_01.add(Module_Id_Text);\n        \n        JLabel TimeStamp_Text = new JLabel(&quot;24&quot;);\n        TimeStamp_Text.setHorizontalAlignment(SwingConstants.CENTER);\n        TimeStamp_Text.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        TimeStamp_Text.setBounds(332, 66, 83, 13);\n        Sub_Panel_01.add(TimeStamp_Text);\n        \n        JLabel Cell_Voltage_Text_01 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_01.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_01.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_01.setBounds(150, 90, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_01);\n        \n        JLabel Cell_Voltage_Text_02 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_02.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_02.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_02.setBounds(150, 114, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_02);\n        \n        JLabel Cell_Voltage_Text_03 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_03.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_03.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_03.setBounds(150, 139, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_03);\n        \n        JLabel Cell_Voltage_Text_04 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_04.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_04.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_04.setBounds(150, 163, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_04);\n        \n        JLabel Cell_Voltage_Text_05 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_05.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_05.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_05.setBounds(332, 90, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_05);\n        \n        JLabel Cell_Voltage_Text_06 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_06.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_06.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_06.setBounds(332, 114, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_06);\n        \n        JLabel Cell_Voltage_Text_07 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_07.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_07.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_07.setBounds(332, 139, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_07);\n        \n        JLabel Cell_Voltage_Text_08 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_08.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_08.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_08.setBounds(332, 163, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_08);\n        \n        JLabel Cell_Voltage_Text_09 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_09.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_09.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_09.setBounds(533, 66, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_09);\n        \n        JLabel Cell_Voltage_Text_10 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_10.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_10.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_10.setBounds(533, 90, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_10);\n        \n        JLabel Cell_Temperature_Text_01 = new JLabel(&quot;21.32°C&quot;);\n        Cell_Temperature_Text_01.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Temperature_Text_01.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Temperature_Text_01.setBounds(533, 114, 83, 13);\n        Sub_Panel_01.add(Cell_Temperature_Text_01);\n        \n        JLabel Cell_Temperature_Text_02 = new JLabel(&quot;21.32°C&quot;);\n        Cell_Temperature_Text_02.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Temperature_Text_02.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Temperature_Text_02.setBounds(533, 139, 83, 13);\n        Sub_Panel_01.add(Cell_Temperature_Text_02);\n        \n        JLabel Cell_Temperature_Text_03 = new JLabel(&quot;21.32°C&quot;);\n        Cell_Temperature_Text_03.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Temperature_Text_03.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Temperature_Text_03.setBounds(533, 163, 83, 13);\n        Sub_Panel_01.add(Cell_Temperature_Text_03);\n        \n        // 선택되었을 때 이미지\n        ImageIcon ListenBtnOn = new ImageIcon(Main_View.class.getResource(&quot;/Image/Button_Listen_Image_On.png&quot;));\n        \n        // 선택이 안 되었을 때 이미지\n        ImageIcon ListenBtnOff = new ImageIcon(Main_View.class.getResource(&quot;/Image/Button_Listen_Image_Off.png&quot;));\n        \n        // 버튼 추가\n        JButton DataListenBotton = new JButton(ListenBtnOff);\n        \n        // 위치 및 크기\n        DataListenBotton.setBounds(388, 17, 207, 31);\n        \n        // 색깔 지정\n        DataListenBotton.setBackground(new Color(0, 0, 0, 0));\n        \n        // 테두리 제거\n        DataListenBotton.setBorderPainted(false);\n        \n        // 내용 채우기 제거\n        DataListenBotton.setContentAreaFilled(false);\n        \n        // 선택 시 테두리 제거\n        DataListenBotton.setFocusPainted(false);\n        \n        // 투명하게\n        DataListenBotton.setOpaque(false);\n        \n        // Listen 버튼 - 추가\n        Sub_Panel_01.add(DataListenBotton);\n        \n        DataListenBotton.addActionListener(event -&gt; {\n            \n            System.out.println('!');\n            \n        });\n        \n        DataListenBotton.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mouseEntered(java.awt.event.MouseEvent evt) {\n                DataListenBotton.setIcon(ListenBtnOn);\n            }\n\n            public void mouseExited(java.awt.event.MouseEvent evt) {\n                DataListenBotton.setIcon(ListenBtnOff);\n            }\n        });\n        \n        // 이미지 추가\n        Sub_Panel_01.add(Sub_Background_01);\n        \n        // 실시간 데이터 확인 - 추가\n        BackGround_Panel.add(Sub_Panel_01);\n        \n        // 기본 설정\n        Sub_Panel_02 = new JPanel();\n        \n        // 배경 패널 보더 설정\n        Sub_Panel_02.setBorder(null);\n        \n        // 배경 패널 레이아웃 설정\n        Sub_Panel_02.setLayout(null);\n        \n        // 배경 패널 크기\n        Sub_Panel_02.setBounds(38, 280, 770, 190);\n        \n        // 배경 이미지 생성\n        ImageIcon subImage_02 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image02.png&quot;));\n        \n        // 배경 이미지\n        JLabel Sub_Background_02 = new JLabel();\n        \n        // 이미지 삽입\n        Sub_Background_02.setIcon(subImage_02);\n        \n        // 이미지 사이즈 지정\n        Sub_Background_02.setBounds(0, 0, 770, 190);\n        \n        // 투명하게\n        Sub_Panel_02.setBackground(new Color(0, 0, 0, 0));\n        \n        // 이미지 추가\n        Sub_Panel_02.add(Sub_Background_02);\n        \n        // 실시간 데이터 확인 - 추가\n        BackGround_Panel.add(Sub_Panel_02);\n        \n        // 배경 이미지 삽입\n        BackGround_Panel.add(Background_Image);\n        \n        // 배경 패널 추가\n        setContentPane(BackGround_Panel);\n    }\n}\n\n</code></pre>\n<p>(picture of the problem)</p>\n<p>The first time you turned on the program (normal)\n<a href=\"https://i.stack.imgur.com/Ie7xP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Bring the mouse cursor over (a translucent white box appears)\n<a href=\"https://i.stack.imgur.com/1vDLO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Bring the mouse cursor over several times (whiter and then completely white)\n<a href=\"https://i.stack.imgur.com/FtIf4.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>// 색깔 지정\n        DataListenBotton.setBackground(new Color(0, 0, 0, 0));\n        \n        // 테두리 제거\n        DataListenBotton.setBorderPainted(false);\n        \n        // 내용 채우기 제거\n        DataListenBotton.setContentAreaFilled(false);\n        \n        // 선택 시 테두리 제거\n        DataListenBotton.setFocusPainted(false);\n        \n        // 투명하게\n        DataListenBotton.setOpaque(false);\n</code></pre>\n"},{"tags":["java","spring","reactive-programming","spring-webflux","server-response"],"answers":[{"tags":[],"owner":{"account_id":8499365,"reputation":51,"user_id":6372930,"display_name":"Yiğit Anıl"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1584879662,"creation_date":1584879662,"answer_id":60799233,"question_id":60740572,"body_markdown":"As far as i know **ServerResponse** is used at the controller or router function.\r\nFor testing you can use **WebTestClient**\r\n\r\n\r\n\r\n    @Autowired\r\n\tWebTestClient webTestClient;\r\n\t\r\n\r\n\t@Test\r\n\tvoid test() {\r\n\r\n\t\twebTestClient.get()\r\n\t\t\t\t.exchange()\r\n\t\t\t\t.expectStatus()\r\n\t\t\t\t.isOk()\r\n\t\t\t\t.expectHeader()\r\n\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.expectBody()\r\n\t\t\t\t.jsonPath(&quot;data.name&quot;).isEqualTo(&quot;name&quot;);\r\n\t\t\t\t\r\n\r\n\t}\r\n\r\n\r\nor\r\n\r\n    @Autowired\r\n\tWebTestClient webTestClient;\r\n\t\r\n\r\n\t@Test\r\n\tvoid test() {\r\n\r\n\t\tFluxExchangeResult&lt;String&gt; result = webTestClient.get()\r\n\t\t\t\t.exchange()\r\n\t\t\t\t.returnResult(String.class);\r\n\r\n\t\tint rawStatusCode = result.getRawStatusCode();\r\n\t\tHttpStatus status = result.getStatus();\r\n\t\tHttpHeaders responseHeaders = result.getResponseHeaders();\r\n\t\tString stringResponseBody = result.getResponseBody().blockFirst();\r\n\t\t\t\t\r\n\t}\r\n","title":"How to get body as String from ServerResponse for test?","body":"<p>As far as i know <strong>ServerResponse</strong> is used at the controller or router function.\nFor testing you can use <strong>WebTestClient</strong></p>\n\n<pre><code>@Autowired\nWebTestClient webTestClient;\n\n\n@Test\nvoid test() {\n\n    webTestClient.get()\n            .exchange()\n            .expectStatus()\n            .isOk()\n            .expectHeader()\n            .contentType(MediaType.APPLICATION_JSON)\n            .expectBody()\n            .jsonPath(\"data.name\").isEqualTo(\"name\");\n\n\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@Autowired\nWebTestClient webTestClient;\n\n\n@Test\nvoid test() {\n\n    FluxExchangeResult&lt;String&gt; result = webTestClient.get()\n            .exchange()\n            .returnResult(String.class);\n\n    int rawStatusCode = result.getRawStatusCode();\n    HttpStatus status = result.getStatus();\n    HttpHeaders responseHeaders = result.getResponseHeaders();\n    String stringResponseBody = result.getResponseBody().blockFirst();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7815823,"reputation":300,"user_id":5910564,"display_name":"Alan Yeung"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1596066706,"creation_date":1596066706,"answer_id":63164161,"question_id":60740572,"body_markdown":"I was digging around for something similar for unit testing purposes, and stitched together the below code. It&#39;s in Kotlin, but should be relatively easy to translate to Java and solve your problem (though it definitely does seem a bit hacky). \r\n\r\n```\r\n    fun fetchBodyAsString(serverResponse: ServerResponse): String {\r\n        val DEFAULT_CONTEXT: ServerResponse.Context = object : ServerResponse.Context {\r\n            override fun messageWriters(): List&lt;HttpMessageWriter&lt;*&gt;&gt; {\r\n                return HandlerStrategies.withDefaults().messageWriters()\r\n            }\r\n\r\n            override fun viewResolvers(): List&lt;ViewResolver&gt; {\r\n                return Collections.emptyList()\r\n            }\r\n        }\r\n\r\n        // Only way I could figure out how to get the ServerResponse body was to have it write to an exchange\r\n        val request = MockServerHttpRequest.get(&quot;http://thisdoenstmatter.com&quot;).build()\r\n        val exchange = MockServerWebExchange.from(request)\r\n        serverResponse.writeTo(exchange, DEFAULT_CONTEXT).block()\r\n        val response = exchange.response\r\n        return response.bodyAsString.block()!!\r\n    }\r\n```\r\n\r\nBasically needed to create a fake `MockServerWebExchange` and have the `ServerResponse` write to it to translate it into a `MockServerHttpResponse` of which you can pull the response body out of fairly painlessly. This is definitely not elegant, but it works. \r\n\r\nAlso note, I didn&#39;t test the above function itself, just that it compiles. It should work though as the function&#39;s inner code is exactly what we&#39;re using.\r\n\r\nAs for your other questions about `ServerResponse`, I don&#39;t know the answers, but am curious about that as well!","title":"How to get body as String from ServerResponse for test?","body":"<p>I was digging around for something similar for unit testing purposes, and stitched together the below code. It's in Kotlin, but should be relatively easy to translate to Java and solve your problem (though it definitely does seem a bit hacky).</p>\n<pre><code>    fun fetchBodyAsString(serverResponse: ServerResponse): String {\n        val DEFAULT_CONTEXT: ServerResponse.Context = object : ServerResponse.Context {\n            override fun messageWriters(): List&lt;HttpMessageWriter&lt;*&gt;&gt; {\n                return HandlerStrategies.withDefaults().messageWriters()\n            }\n\n            override fun viewResolvers(): List&lt;ViewResolver&gt; {\n                return Collections.emptyList()\n            }\n        }\n\n        // Only way I could figure out how to get the ServerResponse body was to have it write to an exchange\n        val request = MockServerHttpRequest.get(&quot;http://thisdoenstmatter.com&quot;).build()\n        val exchange = MockServerWebExchange.from(request)\n        serverResponse.writeTo(exchange, DEFAULT_CONTEXT).block()\n        val response = exchange.response\n        return response.bodyAsString.block()!!\n    }\n</code></pre>\n<p>Basically needed to create a fake <code>MockServerWebExchange</code> and have the <code>ServerResponse</code> write to it to translate it into a <code>MockServerHttpResponse</code> of which you can pull the response body out of fairly painlessly. This is definitely not elegant, but it works.</p>\n<p>Also note, I didn't test the above function itself, just that it compiles. It should work though as the function's inner code is exactly what we're using.</p>\n<p>As for your other questions about <code>ServerResponse</code>, I don't know the answers, but am curious about that as well!</p>\n"},{"tags":[],"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611608329,"creation_date":1611608329,"answer_id":65892338,"question_id":60740572,"body_markdown":"This is based on Alan Yeung solution above, except in Java. There has to be a better &#39;native&#39; way to do this without loading application context.\r\n\r\n\r\n    public class ServerResponseExtractor {\r\n    \r\n      public static &lt;T&gt; T serverResponseAsObject(ServerResponse serverResponse,\r\n          ObjectMapper mapper, Class&lt;T&gt; type) {\r\n        String response = serverResponseAsString(serverResponse);\r\n        try {\r\n          return mapper.readValue(response, type);\r\n        } catch (JsonProcessingException e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      }\r\n    \r\n      public static String serverResponseAsString(ServerResponse serverResponse) {\r\n        MockServerWebExchange exchange = MockServerWebExchange.from(\r\n                MockServerHttpRequest.get(&quot;/foo/foo&quot;));\r\n    \r\n        DebugServerContext debugServerContext = new DebugServerContext();\r\n        serverResponse.writeTo(exchange, debugServerContext).block();\r\n    \r\n        MockServerHttpResponse response = exchange.getResponse();\r\n        return response.getBodyAsString().block();\r\n    \r\n      }\r\n    \r\n      private static class DebugServerContext implements ServerResponse.Context {\r\n        @Override\r\n        public List&lt;HttpMessageWriter&lt;?&gt;&gt; messageWriters() {\r\n          return HandlerStrategies.withDefaults().messageWriters();\r\n        }\r\n        @Override\r\n        public List&lt;ViewResolver&gt; viewResolvers() {\r\n          return Collections.emptyList();\r\n        }\r\n      }\r\n    \r\n    }","title":"How to get body as String from ServerResponse for test?","body":"<p>This is based on Alan Yeung solution above, except in Java. There has to be a better 'native' way to do this without loading application context.</p>\n<pre><code>public class ServerResponseExtractor {\n\n  public static &lt;T&gt; T serverResponseAsObject(ServerResponse serverResponse,\n      ObjectMapper mapper, Class&lt;T&gt; type) {\n    String response = serverResponseAsString(serverResponse);\n    try {\n      return mapper.readValue(response, type);\n    } catch (JsonProcessingException e) {\n      throw new RuntimeException(e);\n    }\n  }\n\n  public static String serverResponseAsString(ServerResponse serverResponse) {\n    MockServerWebExchange exchange = MockServerWebExchange.from(\n            MockServerHttpRequest.get(&quot;/foo/foo&quot;));\n\n    DebugServerContext debugServerContext = new DebugServerContext();\n    serverResponse.writeTo(exchange, debugServerContext).block();\n\n    MockServerHttpResponse response = exchange.getResponse();\n    return response.getBodyAsString().block();\n\n  }\n\n  private static class DebugServerContext implements ServerResponse.Context {\n    @Override\n    public List&lt;HttpMessageWriter&lt;?&gt;&gt; messageWriters() {\n      return HandlerStrategies.withDefaults().messageWriters();\n    }\n    @Override\n    public List&lt;ViewResolver&gt; viewResolvers() {\n      return Collections.emptyList();\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":239994,"reputation":24567,"user_id":509967,"accept_rate":74,"display_name":"Bobbake4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674664887,"creation_date":1674664887,"answer_id":75237158,"question_id":60740572,"body_markdown":"Another way to test the body inside a unit test is to cast the `ServerResponse` to an `EntityResponse`. This does show a warning for an unchecked cast but inside a controlled unit test I wasn&#39;t too worried about it. This just exposes the object that was set using `bodyValue()` before it is serialized. If you are trying to test the serialization of said body this might not work for your needs.\r\n\r\n\r\n```kotlin\r\nval entityResponse = serverResponse as EntityResponse&lt;{ Insert Class of Body }&gt;\r\nval bodyObject = entityResponse.entity()\r\n\r\n```","title":"How to get body as String from ServerResponse for test?","body":"<p>Another way to test the body inside a unit test is to cast the <code>ServerResponse</code> to an <code>EntityResponse</code>. This does show a warning for an unchecked cast but inside a controlled unit test I wasn't too worried about it. This just exposes the object that was set using <code>bodyValue()</code> before it is serialized. If you are trying to test the serialization of said body this might not work for your needs.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val entityResponse = serverResponse as EntityResponse&lt;{ Insert Class of Body }&gt;\nval bodyObject = entityResponse.entity()\n\n</code></pre>\n"}],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10348,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":63164161,"answer_count":4,"score":9,"last_activity_date":1678988862,"creation_date":1584538027,"question_id":60740572,"body_markdown":"Say we have an instance of `o.s.w.reactive.function.server.ServerResponse`.\r\n\r\nWhat is the proper way to fetch the contents of its body, in other words how to implement `fetchBodyAsString` function?\r\n\r\n\r\n    test(){\r\n      ServerResponse response = getResponseFromService(&quot;mock data&quot;);\r\n      \r\n      String body = fetchBodyAsString(response);\r\n    \r\n      assertEquals(&quot;hello&quot;, body);\r\n    }\r\n\r\nCould you also elaborate a bit on why does `ServerResponse` have methods for everything (`cookies(), headers(), statusCode()`), but the response body? I guess there should be a way to get the body with  `writeTo()` method, although it is absolutely vague how to use it.","title":"How to get body as String from ServerResponse for test?","body":"<p>Say we have an instance of <code>o.s.w.reactive.function.server.ServerResponse</code>.</p>\n\n<p>What is the proper way to fetch the contents of its body, in other words how to implement <code>fetchBodyAsString</code> function?</p>\n\n<pre><code>test(){\n  ServerResponse response = getResponseFromService(\"mock data\");\n\n  String body = fetchBodyAsString(response);\n\n  assertEquals(\"hello\", body);\n}\n</code></pre>\n\n<p>Could you also elaborate a bit on why does <code>ServerResponse</code> have methods for everything (<code>cookies(), headers(), statusCode()</code>), but the response body? I guess there should be a way to get the body with  <code>writeTo()</code> method, although it is absolutely vague how to use it.</p>\n"},{"tags":["java","archunit"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676468305,"post_id":75460512,"comment_id":133142184,"body_markdown":"Can you include an example of such a class in your question?","body":"Can you include an example of such a class in your question?"},{"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"score":0,"creation_date":1676469242,"post_id":75460512,"comment_id":133142495,"body_markdown":"@knittl done, i added class structure","body":"@knittl done, i added class structure"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678910412,"post_id":75460512,"comment_id":133626833,"body_markdown":"Did the provided answer work for you?","body":"Did the provided answer work for you?"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676492364,"creation_date":1676491324,"answer_id":75464904,"question_id":75460512,"body_markdown":"This should work:\r\n\r\n    @ArchTest\r\n    final static ArchRule rule = ArchRuleDefinition.classes()\r\n            .that().areMetaAnnotatedWith(Immutable.class)\r\n            .or().areAssignableTo(CanBeAnnotated.Predicates.metaAnnotatedWith(Immutable.class))\r\n            .should(...)\r\n\r\nIt applies the rule to all classes that are meta-annnotated with `@Immutable` or that extend/implement a class/interface that itself is annotameta-annotated with `@Immutable`.\r\n\r\nIf you require more flexibility, you can also define your own predicates to select the relevant classes, e.g.:\r\n\r\n    @ArchTest\r\n    static ArchRule rule = ArchRuleDefinition.classes()\r\n            .that().areMetaAnnotatedWith(nameEndsWith(&quot;Immutable&quot;))\r\n            .or().areAssignableTo(CanBeAnnotated.Predicates.metaAnnotatedWith(nameEndsWith(&quot;Immutable&quot;)))\r\n            .should(...);\r\n\r\n    private static DescribedPredicate&lt;JavaAnnotation&lt;?&gt;&gt; nameEndsWith(final String suffix) {\r\n        return DescribedPredicate.describe(\r\n                &quot;annotation name ending with &quot; + suffix,\r\n                javaAnnotation -&gt; javaAnnotation.getRawType().getSimpleName().endsWith(suffix));\r\n    }\r\n","title":"How to build a rule: assignableTo metaannotated?","body":"<p>This should work:</p>\n<pre><code>@ArchTest\nfinal static ArchRule rule = ArchRuleDefinition.classes()\n        .that().areMetaAnnotatedWith(Immutable.class)\n        .or().areAssignableTo(CanBeAnnotated.Predicates.metaAnnotatedWith(Immutable.class))\n        .should(...)\n</code></pre>\n<p>It applies the rule to all classes that are meta-annnotated with <code>@Immutable</code> or that extend/implement a class/interface that itself is annotameta-annotated with <code>@Immutable</code>.</p>\n<p>If you require more flexibility, you can also define your own predicates to select the relevant classes, e.g.:</p>\n<pre><code>@ArchTest\nstatic ArchRule rule = ArchRuleDefinition.classes()\n        .that().areMetaAnnotatedWith(nameEndsWith(&quot;Immutable&quot;))\n        .or().areAssignableTo(CanBeAnnotated.Predicates.metaAnnotatedWith(nameEndsWith(&quot;Immutable&quot;)))\n        .should(...);\n\nprivate static DescribedPredicate&lt;JavaAnnotation&lt;?&gt;&gt; nameEndsWith(final String suffix) {\n    return DescribedPredicate.describe(\n            &quot;annotation name ending with &quot; + suffix,\n            javaAnnotation -&gt; javaAnnotation.getRawType().getSimpleName().endsWith(suffix));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678988850,"creation_date":1678988850,"answer_id":75759886,"question_id":75460512,"body_markdown":"that worked for me\r\n\r\n    final DescribedPredicate&lt;HasType&gt; immutable =\r\n                    rawType(simpleNameEndingWith(&quot;Immutable&quot;)); // string due to multiple annotation providers\r\n    \r\n    fields().that()\r\n         .areDeclaredInClassesThat().areMetaAnnotatedWith(immutable) \r\n         .or().areDeclaredInClassesThat()\r\n                     .implement(INTERFACES.and(metaAnnotatedWith(immutable))) ","title":"How to build a rule: assignableTo metaannotated?","body":"<p>that worked for me</p>\n<pre><code>final DescribedPredicate&lt;HasType&gt; immutable =\n                rawType(simpleNameEndingWith(&quot;Immutable&quot;)); // string due to multiple annotation providers\n\nfields().that()\n     .areDeclaredInClassesThat().areMetaAnnotatedWith(immutable) \n     .or().areDeclaredInClassesThat()\n                 .implement(INTERFACES.and(metaAnnotatedWith(immutable))) \n</code></pre>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678988850,"creation_date":1676467794,"question_id":75460512,"body_markdown":"I want to find all classes that are `metaAnnotated` or are `assignableTo` `metaannotated` with any version of `Immutable` annotation.\r\n\r\nThat is all classes metaAnnotated as immutable or implementing / extending anything that&#39;s metaAnnotated as immutable.\r\n\r\nI tried:\r\n\r\n```\r\nDescribedPredicate m = simpleNameEndingWith(&quot;Immutable&quot;);\r\nDescribedPredicate a = CanBeAnnotated.Predicates.metaAnnotatedWith(m);\r\n\r\nSystem.out.println(productionClasses.that(a));\r\n```\r\n\r\nbut it throws runtime exception:\r\n&gt; java.lang.ClassCastException: class com.tngtech.archunit.core.domain.JavaAnnotation cannot be cast to class com.tngtech.archunit.core.domain.JavaClass (com.tngtech.archunit.core.domain.JavaAnnotation and com.tngtech.archunit.core.domain.JavaClass are in unnamed module of loader &#39;app&#39;)\r\n\r\nHow can I find all those classes?\r\n\r\nSample structure\r\n```\r\nclass A extends B {}\r\nclass B implements C {}\r\n\r\n@AnnotationD\r\ninterface C {}\r\n\r\n@Immutable\r\n@interface AnnotationD {}\r\n```\r\nI want to find class A and B because they are assignable to classes meta-annotated with @Immutable.","title":"How to build a rule: assignableTo metaannotated?","body":"<p>I want to find all classes that are <code>metaAnnotated</code> or are <code>assignableTo</code> <code>metaannotated</code> with any version of <code>Immutable</code> annotation.</p>\n<p>That is all classes metaAnnotated as immutable or implementing / extending anything that's metaAnnotated as immutable.</p>\n<p>I tried:</p>\n<pre><code>DescribedPredicate m = simpleNameEndingWith(&quot;Immutable&quot;);\nDescribedPredicate a = CanBeAnnotated.Predicates.metaAnnotatedWith(m);\n\nSystem.out.println(productionClasses.that(a));\n</code></pre>\n<p>but it throws runtime exception:</p>\n<blockquote>\n<p>java.lang.ClassCastException: class com.tngtech.archunit.core.domain.JavaAnnotation cannot be cast to class com.tngtech.archunit.core.domain.JavaClass (com.tngtech.archunit.core.domain.JavaAnnotation and com.tngtech.archunit.core.domain.JavaClass are in unnamed module of loader 'app')</p>\n</blockquote>\n<p>How can I find all those classes?</p>\n<p>Sample structure</p>\n<pre><code>class A extends B {}\nclass B implements C {}\n\n@AnnotationD\ninterface C {}\n\n@Immutable\n@interface AnnotationD {}\n</code></pre>\n<p>I want to find class A and B because they are assignable to classes meta-annotated with @Immutable.</p>\n"},{"tags":["java","soap","xsd","jaxb","saaj"],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678292296,"creation_date":1678292296,"answer_id":75675560,"question_id":75643159,"body_markdown":"I would try\r\n\r\n    @XmlRootElement(name = &quot;AirShoppingRQ&quot;, namespace = &quot;http://www.iata.org/IATA/EDIST/2017.2&quot;)\r\n    public class AirShoppingRQ {\r\n    }\r\n\r\nor if you have a schema with that namespace as the targetNamespace I think you can use e.g.\r\n\r\n    @XmlRootElement(name = &quot;AirShoppingRQ&quot;, namespace = &quot;##default&quot;)\r\n    public class AirShoppingRQ {\r\n    }","title":"Change xmlns value of soap root element","body":"<p>I would try</p>\n<pre><code>@XmlRootElement(name = &quot;AirShoppingRQ&quot;, namespace = &quot;http://www.iata.org/IATA/EDIST/2017.2&quot;)\npublic class AirShoppingRQ {\n}\n</code></pre>\n<p>or if you have a schema with that namespace as the targetNamespace I think you can use e.g.</p>\n<pre><code>@XmlRootElement(name = &quot;AirShoppingRQ&quot;, namespace = &quot;##default&quot;)\npublic class AirShoppingRQ {\n}\n</code></pre>\n"}],"owner":{"account_id":7241283,"reputation":183,"user_id":5524788,"accept_rate":86,"display_name":"Jill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678988063,"creation_date":1678028816,"question_id":75643159,"body_markdown":"I need to change the xmlns empty string value that is getting generated. \r\n\r\n    &lt;SOAP-ENV:Body&gt;\r\n            &lt;AirShoppingRQ xmlns=&quot;&quot;\r\n                 xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; Version=&quot;17.2&quot; &gt; \r\n\r\n  \r\n\r\nExpected : \r\n\r\n    &lt;SOAP-ENV:Body&gt;\r\n            &lt;AirShoppingRQ xmlns=&quot;http://www.iata.org/IATA/EDIST/2017.2&quot;\r\n                 xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; Version=&quot;17.2&quot; &gt;\r\n\r\nHave tried editing packag-info.java as \r\n\r\n        @javax.xml.bind.annotation.XmlSchema(\r\n            xmlns = {\r\n                    @javax.xml.bind.annotation.XmlNs(prefix = &quot;xsd&quot;,\r\n                            namespaceURI = &quot;http://www.w3.org/2001/XMLSchema&quot;),\r\n                    @javax.xml.bind.annotation.XmlNs(prefix = &quot;xsi&quot;,\r\n                            namespaceURI = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;)\r\n            }\r\n    )\r\n\r\nbelow is the root element : \r\n\r\n    @XmlRootElement(name = &quot;AirShoppingRQ&quot;)\r\n    public class AirShoppingRQ {\r\n    }\r\nEven though i tried removing it as attribute, but not able to add it again.\r\n\r\n     SOAPElement x = (SOAPElement) body.getChildElements().next();\r\n            x.removeAttribute(&quot;xmlns&quot;);\r\n\r\nPlease note : **xmlns should not have any &quot;ns2&quot; or &quot;ns3&quot; prefix** ,as server is not accepting it.\r\n\r\n   Can anyone please help ?","title":"Change xmlns value of soap root element","body":"<p>I need to change the xmlns empty string value that is getting generated.</p>\n<pre><code>&lt;SOAP-ENV:Body&gt;\n        &lt;AirShoppingRQ xmlns=&quot;&quot;\n             xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; Version=&quot;17.2&quot; &gt; \n</code></pre>\n<p>Expected :</p>\n<pre><code>&lt;SOAP-ENV:Body&gt;\n        &lt;AirShoppingRQ xmlns=&quot;http://www.iata.org/IATA/EDIST/2017.2&quot;\n             xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; Version=&quot;17.2&quot; &gt;\n</code></pre>\n<p>Have tried editing packag-info.java as</p>\n<pre><code>    @javax.xml.bind.annotation.XmlSchema(\n        xmlns = {\n                @javax.xml.bind.annotation.XmlNs(prefix = &quot;xsd&quot;,\n                        namespaceURI = &quot;http://www.w3.org/2001/XMLSchema&quot;),\n                @javax.xml.bind.annotation.XmlNs(prefix = &quot;xsi&quot;,\n                        namespaceURI = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;)\n        }\n)\n</code></pre>\n<p>below is the root element :</p>\n<pre><code>@XmlRootElement(name = &quot;AirShoppingRQ&quot;)\npublic class AirShoppingRQ {\n}\n</code></pre>\n<p>Even though i tried removing it as attribute, but not able to add it again.</p>\n<pre><code> SOAPElement x = (SOAPElement) body.getChildElements().next();\n        x.removeAttribute(&quot;xmlns&quot;);\n</code></pre>\n<p>Please note : <strong>xmlns should not have any &quot;ns2&quot; or &quot;ns3&quot; prefix</strong> ,as server is not accepting it.</p>\n<p>Can anyone please help ?</p>\n"},{"tags":["java","android","service","nfc","hce"],"answers":[{"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678987737,"creation_date":1678987737,"answer_id":75759680,"question_id":75736515,"body_markdown":"I&#39;m answering my own question with the solution that is working.\r\n\r\nThe main error was to try to get the context in the constructor of the service:\r\n\r\n    public HceService() {\r\n        // check for a specific file in internal storage\r\n        System.out.println(&quot;start HceService&quot;);\r\n        System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\r\n        System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\r\n\r\n        File file = getFilesDir();\r\n        //File file2 = getExternalFilesDir(null);\r\n        System.out.println(&quot;file exists: &quot; + file.exists());\r\n    }\r\n\r\nAt this time the context is not available yet and I received the Null Pointer Exception.\r\n\r\nThe solution is to **move the code from the constructor to the onCreate-method**:\r\n\r\n    public HceService() {\r\n        /*\r\n        // move these lines to onCreate method\r\n        // check for a specific file in internal storage\r\n        System.out.println(&quot;start HceService&quot;);\r\n        System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\r\n        System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\r\n\r\n        File file = getFilesDir();\r\n        //File file2 = getExternalFilesDir(null);\r\n        System.out.println(&quot;file exists: &quot; + file.exists());\r\n         */\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        // check for a specific file in internal storage\r\n        System.out.println(&quot;start HceService&quot;);\r\n        System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\r\n        System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\r\n\r\n        File file = getFilesDir();\r\n        //File file2 = getExternalFilesDir(null);\r\n        System.out.println(&quot;file exists: &quot; + file.exists());\r\n    }\r\n\r\nThis is the result:\r\n\r\n    I/System.out: start HceService\r\n    I/System.out: getBaseContext: android.app.ContextImpl@ecd5e6\r\n    I/System.out: getApplicationContext: android.app.Application@3e75727\r\n    I/System.out: file exists: true\r\n\r\n","title":"Service class (HostApduService) has no access to files ()NPE NullPointerException)","body":"<p>I'm answering my own question with the solution that is working.</p>\n<p>The main error was to try to get the context in the constructor of the service:</p>\n<pre><code>public HceService() {\n    // check for a specific file in internal storage\n    System.out.println(&quot;start HceService&quot;);\n    System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\n    System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\n\n    File file = getFilesDir();\n    //File file2 = getExternalFilesDir(null);\n    System.out.println(&quot;file exists: &quot; + file.exists());\n}\n</code></pre>\n<p>At this time the context is not available yet and I received the Null Pointer Exception.</p>\n<p>The solution is to <strong>move the code from the constructor to the onCreate-method</strong>:</p>\n<pre><code>public HceService() {\n    /*\n    // move these lines to onCreate method\n    // check for a specific file in internal storage\n    System.out.println(&quot;start HceService&quot;);\n    System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\n    System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\n\n    File file = getFilesDir();\n    //File file2 = getExternalFilesDir(null);\n    System.out.println(&quot;file exists: &quot; + file.exists());\n     */\n}\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    // check for a specific file in internal storage\n    System.out.println(&quot;start HceService&quot;);\n    System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\n    System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\n\n    File file = getFilesDir();\n    //File file2 = getExternalFilesDir(null);\n    System.out.println(&quot;file exists: &quot; + file.exists());\n}\n</code></pre>\n<p>This is the result:</p>\n<pre><code>I/System.out: start HceService\nI/System.out: getBaseContext: android.app.ContextImpl@ecd5e6\nI/System.out: getApplicationContext: android.app.Application@3e75727\nI/System.out: file exists: true\n</code></pre>\n"}],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75759680,"answer_count":1,"score":0,"last_activity_date":1678987737,"creation_date":1678814948,"question_id":75736515,"body_markdown":"I&#39;m trying to implement a Credit Card emulating app and setup a HostApduService-class that runs like expected.\r\n\r\nNow I&#39;m trying to load card data from a file (can be in internal or external storage, fixed name and folder) to be more flexible with the card data I&#39;m going to emulate.\r\n\r\nAlthough HostApduService is a service with a context **I&#39;m not been able to access files from the service** - I&#39;m always getting a &quot;**java.lang.NullPointerException**&quot;:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: de.androidcrypto.hcecreditcardemulator, PID: 26574\r\n        java.lang.RuntimeException: Unable to instantiate service de.androidcrypto.hcecreditcardemulator.HceService: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File android.content.Context.getFilesDir()&#39; on a null object reference\r\n            at android.app.ActivityThread.handleCreateService(ActivityThread.java:3529)\r\n            at android.app.ActivityThread.-wrap4(Unknown Source:0)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1786)\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6944)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File android.content.Context.getFilesDir()&#39; on a null object reference\r\n            at android.content.ContextWrapper.getFilesDir(ContextWrapper.java:237)\r\n            at de.androidcrypto.hcecreditcardemulator.HceService.&lt;init&gt;(HceService.java:13)\r\n            at java.lang.Class.newInstance(Native Method)\r\n            at android.app.ActivityThread.handleCreateService(ActivityThread.java:3526)\r\n            at android.app.ActivityThread.-wrap4(Unknown Source:0)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1786)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n            at android.os.Looper.loop(Looper.java:164)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:6944)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)&#160;\r\n\r\n**Edit March 15th:** I checked that the `getBaseContext()` returns `null`but `getApplicationContext()` forced the `NullPointerException`. Due to this the `getFiles()` fails with the NPE as well.\r\n\r\nThis is the (very shortened) HceService.java class I&#39;m using:\r\n\r\n    package de.androidcrypto.hcecreditcardemulator;\r\n    \r\n    import android.nfc.cardemulation.HostApduService;\r\n    import android.os.Bundle;\r\n    \r\n    import java.io.File;\r\n    \r\n    public class HceService extends HostApduService {\r\n    \r\n        public HceService() {\r\n            // check for a specific file in internal storage\r\n            System.out.println(&quot;start HceService&quot;);\r\n            File file = getFilesDir();\r\n            //File file2 = getExternalFilesDir(null);\r\n            System.out.println(&quot;file exists: &quot; + file.exists());\r\n        }\r\n    \r\n        @Override\r\n        public byte[] processCommandApdu(byte[] bytes, Bundle bundle) {\r\n            return new byte[0];\r\n        }\r\n    \r\n        @Override\r\n        public void onDeactivated(int i) {\r\n    \r\n        }\r\n    }\r\n\r\nIt will be started from AndroidManifest.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;!-- Card emulation was introduced in API 19. --&gt;\r\n        &lt;!-- Min/target SDK versions (&lt;uses-sdk&gt;) managed by build.gradle --&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.nfc.hce&quot; android:required=&quot;true&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.HceCreditCardEmulator&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;!-- BEGIN_INCLUDE(CardEmulationManifest) --&gt;\r\n            &lt;!-- Service for handling communication with NFC terminal. --&gt;\r\n            &lt;service android:name=&quot;.HceService&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;android.permission.BIND_NFC_SERVICE&quot;&gt;\r\n                &lt;!-- Intent filter indicating that we support card emulation. --&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.nfc.cardemulation.action.HOST_APDU_SERVICE&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;!-- Required XML configuration file, listing the AIDs that we are emulating cards\r\n                     for. This defines what protocols our card emulation service supports. --&gt;\r\n                &lt;meta-data android:name=&quot;android.nfc.cardemulation.host_apdu_service&quot;\r\n                    android:resource=&quot;@xml/aid_list&quot;/&gt;\r\n            &lt;/service&gt;\r\n            &lt;!-- END_INCLUDE(CardEmulationManifest) --&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nand has this aid.xml-file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;aid-group android:description=&quot;@string/card_title&quot; android:category=&quot;payment&quot;&gt;\r\n            &lt;aid-filter android:name=&quot;F222222222&quot;/&gt;\r\n            &lt;aid-filter android:name=&quot;325041592E5359532E4444463031&quot;/&gt;\r\n            &lt;aid-filter android:name=&quot;A0000000031010&quot;/&gt;\r\n        &lt;/aid-group&gt;\r\n    &lt;!-- END_INCLUDE(CardEmulationXML) --&gt;\r\n    &lt;/host-apdu-service&gt;\r\n\r\nAs it has the category &quot;payments&quot; the service can be easily switched in the device&#39;s settings:\r\n\r\n    Settings -&gt; connections -&gt; NFC -&gt; Tap and pay -&gt; tab &quot;payments&quot; select &quot;HCE&quot;\r\n\r\nAt this time the NPE is thrown on this line 13 in HceService.java:\r\n\r\n    File file = getFilesDir();\r\n\r\n**So the main question is: how can I access to a file from a Service or better HostApduService class ?**. Is there a way to provide a non-null context to the service ?\r\n\r\nThanks in advance.","title":"Service class (HostApduService) has no access to files ()NPE NullPointerException)","body":"<p>I'm trying to implement a Credit Card emulating app and setup a HostApduService-class that runs like expected.</p>\n<p>Now I'm trying to load card data from a file (can be in internal or external storage, fixed name and folder) to be more flexible with the card data I'm going to emulate.</p>\n<p>Although HostApduService is a service with a context <strong>I'm not been able to access files from the service</strong> - I'm always getting a &quot;<strong>java.lang.NullPointerException</strong>&quot;:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: de.androidcrypto.hcecreditcardemulator, PID: 26574\n    java.lang.RuntimeException: Unable to instantiate service de.androidcrypto.hcecreditcardemulator.HceService: java.lang.NullPointerException: Attempt to invoke virtual method 'java.io.File android.content.Context.getFilesDir()' on a null object reference\n        at android.app.ActivityThread.handleCreateService(ActivityThread.java:3529)\n        at android.app.ActivityThread.-wrap4(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1786)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6944)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.io.File android.content.Context.getFilesDir()' on a null object reference\n        at android.content.ContextWrapper.getFilesDir(ContextWrapper.java:237)\n        at de.androidcrypto.hcecreditcardemulator.HceService.&lt;init&gt;(HceService.java:13)\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.ActivityThread.handleCreateService(ActivityThread.java:3526)\n        at android.app.ActivityThread.-wrap4(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1786) \n        at android.os.Handler.dispatchMessage(Handler.java:105) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6944) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374) \n</code></pre>\n<p><strong>Edit March 15th:</strong> I checked that the <code>getBaseContext()</code> returns <code>null</code>but <code>getApplicationContext()</code> forced the <code>NullPointerException</code>. Due to this the <code>getFiles()</code> fails with the NPE as well.</p>\n<p>This is the (very shortened) HceService.java class I'm using:</p>\n<pre><code>package de.androidcrypto.hcecreditcardemulator;\n\nimport android.nfc.cardemulation.HostApduService;\nimport android.os.Bundle;\n\nimport java.io.File;\n\npublic class HceService extends HostApduService {\n\n    public HceService() {\n        // check for a specific file in internal storage\n        System.out.println(&quot;start HceService&quot;);\n        File file = getFilesDir();\n        //File file2 = getExternalFilesDir(null);\n        System.out.println(&quot;file exists: &quot; + file.exists());\n    }\n\n    @Override\n    public byte[] processCommandApdu(byte[] bytes, Bundle bundle) {\n        return new byte[0];\n    }\n\n    @Override\n    public void onDeactivated(int i) {\n\n    }\n}\n</code></pre>\n<p>It will be started from AndroidManifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;!-- Card emulation was introduced in API 19. --&gt;\n    &lt;!-- Min/target SDK versions (&lt;uses-sdk&gt;) managed by build.gradle --&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.nfc.hce&quot; android:required=&quot;true&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.HceCreditCardEmulator&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;!-- BEGIN_INCLUDE(CardEmulationManifest) --&gt;\n        &lt;!-- Service for handling communication with NFC terminal. --&gt;\n        &lt;service android:name=&quot;.HceService&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;android.permission.BIND_NFC_SERVICE&quot;&gt;\n            &lt;!-- Intent filter indicating that we support card emulation. --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.nfc.cardemulation.action.HOST_APDU_SERVICE&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n            &lt;/intent-filter&gt;\n            &lt;!-- Required XML configuration file, listing the AIDs that we are emulating cards\n                 for. This defines what protocols our card emulation service supports. --&gt;\n            &lt;meta-data android:name=&quot;android.nfc.cardemulation.host_apdu_service&quot;\n                android:resource=&quot;@xml/aid_list&quot;/&gt;\n        &lt;/service&gt;\n        &lt;!-- END_INCLUDE(CardEmulationManifest) --&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>and has this aid.xml-file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;aid-group android:description=&quot;@string/card_title&quot; android:category=&quot;payment&quot;&gt;\n        &lt;aid-filter android:name=&quot;F222222222&quot;/&gt;\n        &lt;aid-filter android:name=&quot;325041592E5359532E4444463031&quot;/&gt;\n        &lt;aid-filter android:name=&quot;A0000000031010&quot;/&gt;\n    &lt;/aid-group&gt;\n&lt;!-- END_INCLUDE(CardEmulationXML) --&gt;\n&lt;/host-apdu-service&gt;\n</code></pre>\n<p>As it has the category &quot;payments&quot; the service can be easily switched in the device's settings:</p>\n<pre><code>Settings -&gt; connections -&gt; NFC -&gt; Tap and pay -&gt; tab &quot;payments&quot; select &quot;HCE&quot;\n</code></pre>\n<p>At this time the NPE is thrown on this line 13 in HceService.java:</p>\n<pre><code>File file = getFilesDir();\n</code></pre>\n<p><strong>So the main question is: how can I access to a file from a Service or better HostApduService class ?</strong>. Is there a way to provide a non-null context to the service ?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","proxy"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1678979858,"post_id":75757980,"comment_id":133641426,"body_markdown":"I can&#39;t see why that would be the same thing, you didn&#39;t say how `properties` variable is set or its type.","body":"I can&#39;t see why that would be the same thing, you didn&#39;t say how <code>properties</code> variable is set or its type."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1678980770,"post_id":75757980,"comment_id":133641752,"body_markdown":"What library are you using? What does its documentation say about configuring a proxy? Why do you assume that passing those properties will magically make the library use them?","body":"What library are you using? What does its documentation say about configuring a proxy? Why do you assume that passing those properties will magically make the library use them?"},{"owner":{"account_id":9107344,"reputation":889,"user_id":6777238,"accept_rate":80,"display_name":"gjin"},"score":0,"creation_date":1678983293,"post_id":75757980,"comment_id":133642527,"body_markdown":"@Jorn because https://stackoverflow.com/questions/120797/how-do-i-set-the-proxy-to-be-used-by-the-jvm and https://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html","body":"@Jorn because <a href=\"https://stackoverflow.com/questions/120797/how-do-i-set-the-proxy-to-be-used-by-the-jvm\" title=\"how do i set the proxy to be used by the jvm\">stackoverflow.com/questions/120797/&hellip;</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/doc-files/&hellip;</a>"},{"owner":{"account_id":9107344,"reputation":889,"user_id":6777238,"accept_rate":80,"display_name":"gjin"},"score":0,"creation_date":1678983542,"post_id":75757980,"comment_id":133642611,"body_markdown":"@And It&#39;s a pojo. A few vars and their getters and setters. Used to pass host and port values.","body":"@And It&#39;s a pojo. A few vars and their getters and setters. Used to pass host and port values."},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":1,"creation_date":1678983945,"post_id":75757980,"comment_id":133642753,"body_markdown":"That oracle documentation is for the jvm not the `HttpHost` class. Jsut from the start is states that: `There are a few standard system properties used to alter the mechanisms and behavior of the various classes of the java.net package`","body":"That oracle documentation is for the jvm not the <code>HttpHost</code> class. Jsut from the start is states that: <code>There are a few standard system properties used to alter the mechanisms and behavior of the various classes of the java.net package</code>"}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678987673,"creation_date":1678987673,"answer_id":75759674,"question_id":75757980,"body_markdown":"`RequestConfig.Builder` is a low-level API, it does NOT resolve proxy automatically.\r\n\r\nTo make your code work the same way as `HttpClient` you need to choose and configure proxy manually:\r\n```\r\npublic static void main(String[] args) {\r\n    URI uri = URI.create(&quot;https://www.google.com&quot;);\r\n    RequestConfig config = RequestConfig.custom()\r\n        .setProxy(resolveProxy(uri))\r\n        .build();\r\n    ...\r\n}\r\n\r\nstatic HttpHost resolveProxy(URI uri) {\r\n    return ProxySelector.getDefault().select(uri).stream().map(it -&gt; {\r\n        if (it.type() != Proxy.Type.HTTP) {\r\n            return null;\r\n        }\r\n        if (!(it.address() instanceof InetSocketAddress)) {\r\n            return null;\r\n        }\r\n        InetSocketAddress address = (InetSocketAddress) it.address();\r\n        return new HttpHost(\r\n            address.isUnresolved() ? address.getHostName() : address.getAddress().getHostAddress(),\r\n            address.getPort()\r\n        );\r\n    }).filter(Objects::nonNull).findFirst().orElse(null);\r\n}\r\n```","title":"Difference between setting up proxy at startup and after","body":"<p><code>RequestConfig.Builder</code> is a low-level API, it does NOT resolve proxy automatically.</p>\n<p>To make your code work the same way as <code>HttpClient</code> you need to choose and configure proxy manually:</p>\n<pre><code>public static void main(String[] args) {\n    URI uri = URI.create(&quot;https://www.google.com&quot;);\n    RequestConfig config = RequestConfig.custom()\n        .setProxy(resolveProxy(uri))\n        .build();\n    ...\n}\n\nstatic HttpHost resolveProxy(URI uri) {\n    return ProxySelector.getDefault().select(uri).stream().map(it -&gt; {\n        if (it.type() != Proxy.Type.HTTP) {\n            return null;\n        }\n        if (!(it.address() instanceof InetSocketAddress)) {\n            return null;\n        }\n        InetSocketAddress address = (InetSocketAddress) it.address();\n        return new HttpHost(\n            address.isUnresolved() ? address.getHostName() : address.getAddress().getHostAddress(),\n            address.getPort()\n        );\n    }).filter(Objects::nonNull).findFirst().orElse(null);\n}\n</code></pre>\n"}],"owner":{"account_id":9107344,"reputation":889,"user_id":6777238,"accept_rate":80,"display_name":"gjin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678987673,"creation_date":1678978798,"question_id":75757980,"body_markdown":"This works.\r\n\r\n    HttpHost proxy = new HttpHost(properties.getProxyHost(), properties.getProxyPort());\r\n    RequestConfig config = RequestConfig.custom()\r\n      .setProxy(proxy)\r\n      .build();\r\n    \r\n    URI uri = new URIBuilder(properties.getUri())\r\n      .build();\r\n    \r\n    HttpGet request = new HttpGet(uri);\r\n    request.setConfig(config);\r\n    \r\n    HttpResponse response = client.execute(request);\r\n\r\n\r\nBut when I try to set the proxy at startup\r\n\r\n    java \\\r\n    ${JAVA_OPTS} \\\r\n    -Dhttp.proxyHost=my-proxy \\\r\n    -Dhttp.proxyPort=my-port \\\r\n    -jar ${PROJECT_DIR}/${TARGET_JAR} \\\r\n\r\nAnd run this script\r\n\r\n    URI uri = new URIBuilder(properties.getUri())\r\n      .build();\r\n    \r\n    HttpGet request = new HttpGet(uri);\r\n    \r\n    HttpResponse response = client.execute(request);\r\n\r\nIt fails with this error\r\n\r\n    I/O exception (java.net.SocketException) caught when processing request to {s}-&gt;https://site-address:443: Network is unreachable (connect failed)\r\n\r\nWhy does it fail? Isn&#39;t this basicaly the same thing?\r\n\r\nEdit\r\n\r\nMy dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n      &lt;version&gt;4.5.13&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Difference between setting up proxy at startup and after","body":"<p>This works.</p>\n<pre><code>HttpHost proxy = new HttpHost(properties.getProxyHost(), properties.getProxyPort());\nRequestConfig config = RequestConfig.custom()\n  .setProxy(proxy)\n  .build();\n\nURI uri = new URIBuilder(properties.getUri())\n  .build();\n\nHttpGet request = new HttpGet(uri);\nrequest.setConfig(config);\n\nHttpResponse response = client.execute(request);\n</code></pre>\n<p>But when I try to set the proxy at startup</p>\n<pre><code>java \\\n${JAVA_OPTS} \\\n-Dhttp.proxyHost=my-proxy \\\n-Dhttp.proxyPort=my-port \\\n-jar ${PROJECT_DIR}/${TARGET_JAR} \\\n</code></pre>\n<p>And run this script</p>\n<pre><code>URI uri = new URIBuilder(properties.getUri())\n  .build();\n\nHttpGet request = new HttpGet(uri);\n\nHttpResponse response = client.execute(request);\n</code></pre>\n<p>It fails with this error</p>\n<pre><code>I/O exception (java.net.SocketException) caught when processing request to {s}-&gt;https://site-address:443: Network is unreachable (connect failed)\n</code></pre>\n<p>Why does it fail? Isn't this basicaly the same thing?</p>\n<p>Edit</p>\n<p>My dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n  &lt;version&gt;4.5.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678979672,"post_id":75758053,"comment_id":133641374,"body_markdown":"The above comment applies to &#39;ans.getText() == randomElement&#39;","body":"The above comment applies to &#39;ans.getText() == randomElement&#39;"}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678987169,"creation_date":1678987169,"answer_id":75759584,"question_id":75758053,"body_markdown":"You would not use a loop, because you would be awaiting user input.\r\n\r\nYour button&#39;s action listener would wait for the user to click a button. There would be no loops inside the hander function, unless you are iterating over the buttons.\r\n\r\nAll you need to do is subtract the guessed letter from the target letter. If the delta (difference) is 0, and the player has not exhausted all their guesses, then they win. Else, if they run out, let them know they lost and reveal the letter. If they still have guesses let them now if they guessed too low/high.\r\n\r\nIn the Swing app below, if the player guesses too high, all buttons after the button (including the guessed button) will be disabled. This is a simple UX design to make guessing easier for the user.  \r\n\r\n**Note:** I created an interface called `InputAcceptor` that has an `acceptInput(input:String):void` signature. I then gave this interface to the `ButtonListener`&#39;s constructor for handling buttons input and passing its text around.\r\n\r\n### GuessApp.java\r\n\r\n```java\r\nimport java.util.List;\r\nimport java.util.OptionalInt;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\nimport java.awt.GridLayout;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class GuessApp implements InputAcceptor, Runnable {\r\n    private static final char[] alphabet;\r\n\r\n    private List&lt;JButton&gt; buttons;\r\n    private ButtonListener buttonListener;\r\n\r\n    private char letterToGuess;\r\n    private int guessesLeft;\r\n    private int maxGuesses;\r\n\r\n    static {\r\n        alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\r\n    }\r\n\r\n    public GuessApp(int maxGuesses) {\r\n        this.maxGuesses = maxGuesses;\r\n        this.buttonListener = new ButtonListener(this);\r\n\r\n        setup();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new GuessApp(3));\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        JFrame frame = new JFrame(&quot;Guess a Letter&quot;);\r\n        frame.setContentPane(initializeContent());\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void acceptInput(String input) {\r\n        int buttonIndex = indexOf(buttons, input, JButton::getText).orElse(-1);\r\n        char guessed = input.toUpperCase().charAt(0);\r\n        int diff = guessed - letterToGuess;\r\n\r\n        guessesLeft--;\r\n\r\n        if (diff == 0) {\r\n            int response = JOptionPane.showConfirmDialog(null,\r\n                    String.format(&quot;You won with %d guess(es) left! Restart?&quot;, this.guessesLeft),\r\n                    &quot;Congratulations!&quot;,\r\n                    JOptionPane.INFORMATION_MESSAGE);\r\n            if (response == JOptionPane.OK_OPTION) {\r\n                setup();\r\n            } else if (response == JOptionPane.NO_OPTION || response == JOptionPane.CANCEL_OPTION) {\r\n                System.exit(0);\r\n            }\r\n        } else {\r\n            if (guessesLeft &lt; 1) {\r\n                int response = JOptionPane.showConfirmDialog(null,\r\n                        String.format(&quot;You ran out of guesses! The answer was %c. Restart?&quot;, this.letterToGuess),\r\n                        &quot;You Lose!&quot;,\r\n                        JOptionPane.ERROR_MESSAGE);\r\n                if (response == JOptionPane.OK_OPTION) {\r\n                    setup();\r\n                } else if (response == JOptionPane.NO_OPTION) {\r\n                    System.exit(0);\r\n                }\r\n            } else {\r\n                if (diff &gt; 0) {\r\n                    JOptionPane.showMessageDialog(null,\r\n                            String.format(&quot;You need to guess lower than %c&quot;, guessed),\r\n                            &quot;Too High&quot;,\r\n                            JOptionPane.WARNING_MESSAGE);\r\n                    disableButtons(buttonIndex, buttons.size());\r\n                } else {\r\n                    JOptionPane.showMessageDialog(null,\r\n                            String.format(&quot;You need to guess higher than %c&quot;, guessed),\r\n                            &quot;Too Low&quot;,\r\n                            JOptionPane.WARNING_MESSAGE);\r\n                    disableButtons(0, buttonIndex + 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    protected void setup() {\r\n        this.guessesLeft = maxGuesses;\r\n        this.letterToGuess = randomValue(alphabet);\r\n        if (buttons != null &amp;&amp; !buttons.isEmpty()) {\r\n            buttons.forEach(button -&gt; {\r\n                if (!button.isEnabled()) {\r\n                    button.setEnabled(true);\r\n                }\r\n            });\r\n        }\r\n        System.out.printf(&quot;Answer: %c%n&quot;, this.letterToGuess);\r\n    }\r\n\r\n    protected JPanel initializeContent() {\r\n        JPanel container = new JPanel(new GridLayout(4, 8));\r\n        buttons = generateButtons();\r\n        buttons.forEach(button -&gt; {\r\n            button.addActionListener(buttonListener);\r\n            container.add(button);\r\n        });\r\n        return container;\r\n    }\r\n\r\n    private List&lt;JButton&gt; generateButtons() {\r\n        return IntStream\r\n                .range(0, alphabet.length)\r\n                .mapToObj(i -&gt; alphabet[i])\r\n                .map(letter -&gt; new JButton(Character.toString(letter)))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    private void disableButtons(int from, int to) {\r\n        for (int i = from; i &lt; to; i++) {\r\n            if (buttons.get(i).isEnabled()) {\r\n                buttons.get(i).setEnabled(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static char randomValue(char[] arr) {\r\n        int index = (int) (Math.random() * arr.length);\r\n        return arr[index];\r\n    }\r\n\r\n    private static &lt;E&gt; OptionalInt indexOf(List&lt;E&gt; list, String text, Function&lt;E, String&gt; predicate) {\r\n        return IntStream.range(0, list.size())\r\n                .filter(i -&gt; text.equals(predicate.apply(list.get(i))))\r\n                .findFirst();\r\n    }\r\n}\r\n```\r\n\r\n### InputAcceptor.java\r\n\r\n```java\r\npublic interface InputAcceptor {\r\n    void acceptInput(String input);\r\n}\r\n```\r\n\r\n### ButtonListener.java\r\n\r\n```java\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.JButton;\r\n\r\npublic class ButtonListener implements ActionListener {\r\n    private InputAcceptor inputAcceptor;\r\n\r\n    public ButtonListener(InputAcceptor inputAcceptor) {\r\n        this.inputAcceptor = inputAcceptor;\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (!(e.getSource() instanceof JButton)) {\r\n            throw new IllegalArgumentException(&quot;Event source must be a JButton&quot;);\r\n        }\r\n        this.inputAcceptor.acceptInput(((JButton) e.getSource()).getText());\r\n    }\r\n}\r\n```","title":"Nested For-loops ignoring nested Ifs in a java random guessing game","body":"<p>You would not use a loop, because you would be awaiting user input.</p>\n<p>Your button's action listener would wait for the user to click a button. There would be no loops inside the hander function, unless you are iterating over the buttons.</p>\n<p>All you need to do is subtract the guessed letter from the target letter. If the delta (difference) is 0, and the player has not exhausted all their guesses, then they win. Else, if they run out, let them know they lost and reveal the letter. If they still have guesses let them now if they guessed too low/high.</p>\n<p>In the Swing app below, if the player guesses too high, all buttons after the button (including the guessed button) will be disabled. This is a simple UX design to make guessing easier for the user.</p>\n<p><strong>Note:</strong> I created an interface called <code>InputAcceptor</code> that has an <code>acceptInput(input:String):void</code> signature. I then gave this interface to the <code>ButtonListener</code>'s constructor for handling buttons input and passing its text around.</p>\n<h3>GuessApp.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.OptionalInt;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nimport java.awt.GridLayout;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class GuessApp implements InputAcceptor, Runnable {\n    private static final char[] alphabet;\n\n    private List&lt;JButton&gt; buttons;\n    private ButtonListener buttonListener;\n\n    private char letterToGuess;\n    private int guessesLeft;\n    private int maxGuesses;\n\n    static {\n        alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\n    }\n\n    public GuessApp(int maxGuesses) {\n        this.maxGuesses = maxGuesses;\n        this.buttonListener = new ButtonListener(this);\n\n        setup();\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new GuessApp(3));\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Guess a Letter&quot;);\n        frame.setContentPane(initializeContent());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    @Override\n    public void acceptInput(String input) {\n        int buttonIndex = indexOf(buttons, input, JButton::getText).orElse(-1);\n        char guessed = input.toUpperCase().charAt(0);\n        int diff = guessed - letterToGuess;\n\n        guessesLeft--;\n\n        if (diff == 0) {\n            int response = JOptionPane.showConfirmDialog(null,\n                    String.format(&quot;You won with %d guess(es) left! Restart?&quot;, this.guessesLeft),\n                    &quot;Congratulations!&quot;,\n                    JOptionPane.INFORMATION_MESSAGE);\n            if (response == JOptionPane.OK_OPTION) {\n                setup();\n            } else if (response == JOptionPane.NO_OPTION || response == JOptionPane.CANCEL_OPTION) {\n                System.exit(0);\n            }\n        } else {\n            if (guessesLeft &lt; 1) {\n                int response = JOptionPane.showConfirmDialog(null,\n                        String.format(&quot;You ran out of guesses! The answer was %c. Restart?&quot;, this.letterToGuess),\n                        &quot;You Lose!&quot;,\n                        JOptionPane.ERROR_MESSAGE);\n                if (response == JOptionPane.OK_OPTION) {\n                    setup();\n                } else if (response == JOptionPane.NO_OPTION) {\n                    System.exit(0);\n                }\n            } else {\n                if (diff &gt; 0) {\n                    JOptionPane.showMessageDialog(null,\n                            String.format(&quot;You need to guess lower than %c&quot;, guessed),\n                            &quot;Too High&quot;,\n                            JOptionPane.WARNING_MESSAGE);\n                    disableButtons(buttonIndex, buttons.size());\n                } else {\n                    JOptionPane.showMessageDialog(null,\n                            String.format(&quot;You need to guess higher than %c&quot;, guessed),\n                            &quot;Too Low&quot;,\n                            JOptionPane.WARNING_MESSAGE);\n                    disableButtons(0, buttonIndex + 1);\n                }\n            }\n        }\n    }\n\n    protected void setup() {\n        this.guessesLeft = maxGuesses;\n        this.letterToGuess = randomValue(alphabet);\n        if (buttons != null &amp;&amp; !buttons.isEmpty()) {\n            buttons.forEach(button -&gt; {\n                if (!button.isEnabled()) {\n                    button.setEnabled(true);\n                }\n            });\n        }\n        System.out.printf(&quot;Answer: %c%n&quot;, this.letterToGuess);\n    }\n\n    protected JPanel initializeContent() {\n        JPanel container = new JPanel(new GridLayout(4, 8));\n        buttons = generateButtons();\n        buttons.forEach(button -&gt; {\n            button.addActionListener(buttonListener);\n            container.add(button);\n        });\n        return container;\n    }\n\n    private List&lt;JButton&gt; generateButtons() {\n        return IntStream\n                .range(0, alphabet.length)\n                .mapToObj(i -&gt; alphabet[i])\n                .map(letter -&gt; new JButton(Character.toString(letter)))\n                .collect(Collectors.toList());\n    }\n\n    private void disableButtons(int from, int to) {\n        for (int i = from; i &lt; to; i++) {\n            if (buttons.get(i).isEnabled()) {\n                buttons.get(i).setEnabled(false);\n            }\n        }\n    }\n\n    public static char randomValue(char[] arr) {\n        int index = (int) (Math.random() * arr.length);\n        return arr[index];\n    }\n\n    private static &lt;E&gt; OptionalInt indexOf(List&lt;E&gt; list, String text, Function&lt;E, String&gt; predicate) {\n        return IntStream.range(0, list.size())\n                .filter(i -&gt; text.equals(predicate.apply(list.get(i))))\n                .findFirst();\n    }\n}\n</code></pre>\n<h3>InputAcceptor.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public interface InputAcceptor {\n    void acceptInput(String input);\n}\n</code></pre>\n<h3>ButtonListener.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\n\npublic class ButtonListener implements ActionListener {\n    private InputAcceptor inputAcceptor;\n\n    public ButtonListener(InputAcceptor inputAcceptor) {\n        this.inputAcceptor = inputAcceptor;\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if (!(e.getSource() instanceof JButton)) {\n            throw new IllegalArgumentException(&quot;Event source must be a JButton&quot;);\n        }\n        this.inputAcceptor.acceptInput(((JButton) e.getSource()).getText());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23880988,"reputation":21,"user_id":17881693,"display_name":"i dont know how to code"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1678979649,"accepted_answer_id":75759584,"answer_count":1,"score":-2,"last_activity_date":1678987169,"creation_date":1678979199,"question_id":75758053,"body_markdown":"I&#39;ve been using JForm for this code, but I somehow can&#39;t get the for loop to work. I&#39;m not even quite sure if the for loop is the problem here. There should be a maximum of 3 attempts, submitting 3 different answers on the same button, trying to guess a single character from an array. Plus, despite me entering the random element as displayed, it would still display that I got it wrong :(( I would really appreciate help on this for a project! \r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        //Scanner gags = new Scanner(System.in); \r\n                String newr = ans.getText();\r\n                \r\n        \r\n\t\tfor (int i = 0; i &lt; 3; i++) {\r\n                    \r\n                    if (ans.getText() == randomElement) {\r\n                        \r\n                        finalAns.setText(&quot;You got it right!&quot;);\r\n                        \r\n                    } \r\n                    \r\n                    else {\r\n\t\t\t\r\n                        for (int j = 0; j &lt; 0; j++){\r\n                            if (arriba[j] == newr){\r\n                                if (j &gt; go){\r\n                                    guesses.setText(&quot;guess lower&quot;);\r\n                                }\r\n                                if (j &lt; go){\r\n                                    guesses.setText(&quot;guess higher&quot;);\r\n                                }\r\n                            }\r\n                        }\r\n                                 }\t\r\n                } while  (++attemptsNum &lt; maxAttempts );\r\n\r\n                 if (attemptsNum == maxAttempts)\r\n                    ambotGags.setText(&quot;You lose. The letter was : &quot; + randomElement);\r\n\t\t//}\r\n                \r\n                \r\n    } ","title":"Nested For-loops ignoring nested Ifs in a java random guessing game","body":"<p>I've been using JForm for this code, but I somehow can't get the for loop to work. I'm not even quite sure if the for loop is the problem here. There should be a maximum of 3 attempts, submitting 3 different answers on the same button, trying to guess a single character from an array. Plus, despite me entering the random element as displayed, it would still display that I got it wrong :(( I would really appreciate help on this for a project!</p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    //Scanner gags = new Scanner(System.in); \n            String newr = ans.getText();\n            \n    \n    for (int i = 0; i &lt; 3; i++) {\n                \n                if (ans.getText() == randomElement) {\n                    \n                    finalAns.setText(&quot;You got it right!&quot;);\n                    \n                } \n                \n                else {\n        \n                    for (int j = 0; j &lt; 0; j++){\n                        if (arriba[j] == newr){\n                            if (j &gt; go){\n                                guesses.setText(&quot;guess lower&quot;);\n                            }\n                            if (j &lt; go){\n                                guesses.setText(&quot;guess higher&quot;);\n                            }\n                        }\n                    }\n                             }  \n            } while  (++attemptsNum &lt; maxAttempts );\n\n             if (attemptsNum == maxAttempts)\n                ambotGags.setText(&quot;You lose. The letter was : &quot; + randomElement);\n    //}\n            \n            \n} \n</code></pre>\n"},{"tags":["java","csv","character-encoding","export-to-csv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678979754,"post_id":75758011,"comment_id":133641396,"body_markdown":"You should be using a `Writer` not the raw output stream with UTF-8 as the encoding and that as the response charset","body":"You should be using a <code>Writer</code> not the raw output stream with UTF-8 as the encoding and that as the response charset"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1678980483,"post_id":75758011,"comment_id":133641656,"body_markdown":"`try (Writer out = new OutputStreamWriter(response.getOutputStream(), StandardCharsets.UTF_8)) {\n            out.write(csv);\n        }\n`","body":"<code>try (Writer out = new OutputStreamWriter(response.getOutputStream(), StandardCharsets.UTF_8)) {             out.write(csv);         } </code>"},{"owner":{"account_id":20222102,"reputation":65,"user_id":14831247,"display_name":"Hippo"},"score":0,"creation_date":1678982449,"post_id":75758011,"comment_id":133642267,"body_markdown":"I tried your code and adapt it and it works now! I had to change the charset from UTF-8 to ISO-8859, thanks a lot @g00se","body":"I tried your code and adapt it and it works now! I had to change the charset from UTF-8 to ISO-8859, thanks a lot @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678986328,"post_id":75758011,"comment_id":133643490,"body_markdown":"*I had to change the charset from UTF-8 to ISO-8859* Why so?","body":"<i>I had to change the charset from UTF-8 to ISO-8859</i> Why so?"},{"owner":{"account_id":20222102,"reputation":65,"user_id":14831247,"display_name":"Hippo"},"score":0,"creation_date":1678987285,"post_id":75758011,"comment_id":133643749,"body_markdown":"I guess it&#39;s the encoding supported by my application, the issue i get appears when the  downloaded file was encoded with UTF-8 charset","body":"I guess it&#39;s the encoding supported by my application, the issue i get appears when the  downloaded file was encoded with UTF-8 charset"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678988004,"post_id":75758011,"comment_id":133643961,"body_markdown":"Just seems strange these days to find &#39;something&#39; won&#39;t read a file encoded as UTF-8","body":"Just seems strange these days to find &#39;something&#39; won&#39;t read a file encoded as UTF-8"},{"owner":{"account_id":20222102,"reputation":65,"user_id":14831247,"display_name":"Hippo"},"score":0,"creation_date":1679306446,"post_id":75758011,"comment_id":133691611,"body_markdown":"Yes i agree, but it&#39;s a very old application (+20 years...) so i guess it&#39;s wasn&#39;t the same encoding standard at this time","body":"Yes i agree, but it&#39;s a very old application (+20 years...) so i guess it&#39;s wasn&#39;t the same encoding standard at this time"}],"owner":{"account_id":20222102,"reputation":65,"user_id":14831247,"display_name":"Hippo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678986847,"creation_date":1678979000,"question_id":75758011,"body_markdown":"I&#39;m working on a Struts 1 application (Java 1.8.0_333) for a client, and I have an encoding issue when export CSV data. I&#39;m using WebLogic version 12.1 locally, on this environment. I have no problems with special characters (accents are correctly displayed):\r\n \r\n[![Local display][1]][1]\r\n\r\nBut on the testing server of the client, I have a strange encoding problem:\r\n\r\n[![Server display][2]][2]\r\n\r\nI think it&#39;s something related to the OS, server run on Linux and my local OS is Windows. \r\n\r\nHere is the code of the CSV export:\r\n\r\n```java\r\npublic ActionForward exporter(final ActionMapping mapping, final ActionForm aForm, final HttpServletRequest request,\r\n\t\tfinal HttpServletResponse response) throws HibernateException, ServletException, IOException {\r\n\r\n\tDateFormat format = new SimpleDateFormat(&quot;dd_MM_yyyy&quot;);\r\n\tString filename = &quot;agents&quot; + format.format(new Date()) + &quot;.csv&quot;;\r\n\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\r\n\r\n\tfinal Session session = Persistance.getSession();\r\n\r\n\tArrayList&lt;Agents&gt; listAgents = null;\r\n\tString q = &quot;FROM Agents agents JOIN FETCH agents.organisation WHERE agents.supprime = &#39;0&#39;  &quot;;\r\n\r\n\t// export agents actifs\r\n\tif (&quot;active&quot;.equals(request.getParameter(&quot;choix&quot;))) {\r\n\t\tq += &quot; AND statut_agent = &#39;1&#39;&quot;;\r\n\t}\r\n\r\n\t// export agents d&#233;sactiv&#233;s\r\n\tif (&quot;desactive&quot;.equals(request.getParameter(&quot;choix&quot;))) {\r\n\t\tq += &quot; AND statut_agent = &#39;0&#39;&quot;;\r\n\t}\r\n\r\n\tq += &quot; ORDER BY agents.nom, agents.prenom, agents.organisation.label&quot;;\r\n\tlistAgents = (ArrayList&lt;Agents&gt;) session.createQuery(q).list();\r\n\r\n\t//FileWriter csvWriter = new FileWriter(filename);\r\n\r\n\t// ent&#234;tes\r\n\tString csv = &quot;Nom;Prenom;Service;ID_UNITE;Batiment;Actif\\n&quot;;\r\n\r\n\tfor (Agents agent : listAgents) {\r\n\t\tString organisation = agent.getOrganisation().getLabel() == null ? &quot;&quot; : agent.getOrganisation().getLabel();\r\n\t\tString batiment = agent.getBatiment() == null ? &quot;&quot; : agent.getBatiment();\r\n\t\tcsv += agent.getNom() + &quot;;&quot; + agent.getPrenom() + &quot;;&quot; + organisation + &quot;;&quot; + agent.getOrganisation().getIdUnite() + &quot;;&quot;\r\n\t\t\t\t+ batiment + &quot;;&quot;\r\n\t\t\t\t+ (&quot;1&quot;.equals(agent.getStatut_agent()) ? &quot;Oui&quot; : &quot;Non&quot;) + &quot;\\n&quot;;\r\n\t}\r\n\r\n\tServletOutputStream out = response.getOutputStream();\r\n\tout.write(csv.getBytes());\r\n\tout.flush();\r\n\tout.close();\r\n\r\n\treturn mapping.findForward(&quot;exporter&quot;);\r\n}\r\n```\r\n\r\nI tried to display the encoding of the csv downloaded and I noted a difference between local/server:\r\n\r\n- CSV from local: `file dev.csv -- Output : ISO-8859 text` - No encoding problems\r\n- CSV from server: `file server.csv -- Output : Unicode text, UTF-8 text` - Encoding problems\r\n\r\nThanks in advance for your response\r\n\r\n  [1]: https://i.stack.imgur.com/UdB2U.png\r\n  [2]: https://i.stack.imgur.com/aRpsM.png","title":"Java Struts 1 Encoding issue","body":"<p>I'm working on a Struts 1 application (Java 1.8.0_333) for a client, and I have an encoding issue when export CSV data. I'm using WebLogic version 12.1 locally, on this environment. I have no problems with special characters (accents are correctly displayed):</p>\n<p><a href=\"https://i.stack.imgur.com/UdB2U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UdB2U.png\" alt=\"Local display\" /></a></p>\n<p>But on the testing server of the client, I have a strange encoding problem:</p>\n<p><a href=\"https://i.stack.imgur.com/aRpsM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aRpsM.png\" alt=\"Server display\" /></a></p>\n<p>I think it's something related to the OS, server run on Linux and my local OS is Windows.</p>\n<p>Here is the code of the CSV export:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ActionForward exporter(final ActionMapping mapping, final ActionForm aForm, final HttpServletRequest request,\n        final HttpServletResponse response) throws HibernateException, ServletException, IOException {\n\n    DateFormat format = new SimpleDateFormat(&quot;dd_MM_yyyy&quot;);\n    String filename = &quot;agents&quot; + format.format(new Date()) + &quot;.csv&quot;;\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\n\n    final Session session = Persistance.getSession();\n\n    ArrayList&lt;Agents&gt; listAgents = null;\n    String q = &quot;FROM Agents agents JOIN FETCH agents.organisation WHERE agents.supprime = '0'  &quot;;\n\n    // export agents actifs\n    if (&quot;active&quot;.equals(request.getParameter(&quot;choix&quot;))) {\n        q += &quot; AND statut_agent = '1'&quot;;\n    }\n\n    // export agents désactivés\n    if (&quot;desactive&quot;.equals(request.getParameter(&quot;choix&quot;))) {\n        q += &quot; AND statut_agent = '0'&quot;;\n    }\n\n    q += &quot; ORDER BY agents.nom, agents.prenom, agents.organisation.label&quot;;\n    listAgents = (ArrayList&lt;Agents&gt;) session.createQuery(q).list();\n\n    //FileWriter csvWriter = new FileWriter(filename);\n\n    // entêtes\n    String csv = &quot;Nom;Prenom;Service;ID_UNITE;Batiment;Actif\\n&quot;;\n\n    for (Agents agent : listAgents) {\n        String organisation = agent.getOrganisation().getLabel() == null ? &quot;&quot; : agent.getOrganisation().getLabel();\n        String batiment = agent.getBatiment() == null ? &quot;&quot; : agent.getBatiment();\n        csv += agent.getNom() + &quot;;&quot; + agent.getPrenom() + &quot;;&quot; + organisation + &quot;;&quot; + agent.getOrganisation().getIdUnite() + &quot;;&quot;\n                + batiment + &quot;;&quot;\n                + (&quot;1&quot;.equals(agent.getStatut_agent()) ? &quot;Oui&quot; : &quot;Non&quot;) + &quot;\\n&quot;;\n    }\n\n    ServletOutputStream out = response.getOutputStream();\n    out.write(csv.getBytes());\n    out.flush();\n    out.close();\n\n    return mapping.findForward(&quot;exporter&quot;);\n}\n</code></pre>\n<p>I tried to display the encoding of the csv downloaded and I noted a difference between local/server:</p>\n<ul>\n<li>CSV from local: <code>file dev.csv -- Output : ISO-8859 text</code> - No encoding problems</li>\n<li>CSV from server: <code>file server.csv -- Output : Unicode text, UTF-8 text</code> - Encoding problems</li>\n</ul>\n<p>Thanks in advance for your response</p>\n"},{"tags":["java","android","facebook-login","facebook-android-sdk"],"comments":[{"owner":{"account_id":6549060,"reputation":255,"user_id":5064034,"accept_rate":100,"display_name":"sabith.ak"},"score":0,"creation_date":1679573434,"post_id":71317253,"comment_id":133747540,"body_markdown":"I resolved the same bug by upgrading Facebook dependency to the latest(16.0.0).","body":"I resolved the same bug by upgrading Facebook dependency to the latest(16.0.0)."}],"answers":[{"tags":[],"owner":{"account_id":3078147,"reputation":835,"user_id":2607017,"accept_rate":53,"display_name":"Zhang Zhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646197013,"creation_date":1646194872,"answer_id":71317432,"question_id":71317253,"body_markdown":"According to the post:\r\nhttps://stackoverflow.com/questions/67297326/how-to-use-facebook-sign-in-callbackmanager-with-onactivityresult-deprecated\r\n\r\nIt seems after Facebook Android SDK 12, the approach of using \r\n\r\n&gt; onActivityResult\r\n\r\n is deprecated. And as of today, I am posting this question (2/March/2022), Facebook official developer document: https://developers.facebook.com/docs/facebook-login/android/#9--register-a-callback\r\nis still telling everyone the old way of doing Facebook login.\r\n\r\nI hope this post could help others facing the same problem.\r\n\r\nThe following are the solution\r\n\r\nSample code:\r\nhttps://github.com/facebook/facebook-android-sdk/blob/main/samples/FBLoginSample/src/main/java/com/facebook/fbloginsample/FacebookLoginActivity.java\r\n\r\nSolution:\r\n1. Remove\r\n\r\n    callbackManager.onActivityResult(requestCode, resultCode, data);\r\nfrom onActivityResult\r\n2. Setup your Facebook button with permission\r\n\r\n    LoginButton mLoginButton = findViewById(R.id.login_button);\r\n    mLoginButton.setPermissions(Arrays.asList(&quot;public_profile&quot;, &quot;email&quot;));\r\n\r\n3. Replace LoginManager with your LoginButton instance. Change:\r\n\r\n    LoginManager.getInstance().registerCallback(callbackManager,\r\n                    new FacebookCallback&lt;LoginResult&gt;() {\r\nChange to:\r\n\r\n    mLoginButton.registerCallback(callbackManager,\r\n                    new FacebookCallback&lt;LoginResult&gt;() {","title":"Android CallbackManager call back stopped working after upgrading to Facebook SDK 12.0.0 (Or 13)","body":"<p>According to the post:\n<a href=\"https://stackoverflow.com/questions/67297326/how-to-use-facebook-sign-in-callbackmanager-with-onactivityresult-deprecated\">How to use Facebook Sign in CallbackManager with onActivityResult deprecated?</a></p>\n<p>It seems after Facebook Android SDK 12, the approach of using</p>\n<blockquote>\n<p>onActivityResult</p>\n</blockquote>\n<p>is deprecated. And as of today, I am posting this question (2/March/2022), Facebook official developer document: <a href=\"https://developers.facebook.com/docs/facebook-login/android/#9--register-a-callback\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/facebook-login/android/#9--register-a-callback</a>\nis still telling everyone the old way of doing Facebook login.</p>\n<p>I hope this post could help others facing the same problem.</p>\n<p>The following are the solution</p>\n<p>Sample code:\n<a href=\"https://github.com/facebook/facebook-android-sdk/blob/main/samples/FBLoginSample/src/main/java/com/facebook/fbloginsample/FacebookLoginActivity.java\" rel=\"nofollow noreferrer\">https://github.com/facebook/facebook-android-sdk/blob/main/samples/FBLoginSample/src/main/java/com/facebook/fbloginsample/FacebookLoginActivity.java</a></p>\n<p>Solution:</p>\n<ol>\n<li><p>Remove</p>\n<p>callbackManager.onActivityResult(requestCode, resultCode, data);\nfrom onActivityResult</p>\n</li>\n<li><p>Setup your Facebook button with permission</p>\n<p>LoginButton mLoginButton = findViewById(R.id.login_button);\nmLoginButton.setPermissions(Arrays.asList(&quot;public_profile&quot;, &quot;email&quot;));</p>\n</li>\n<li><p>Replace LoginManager with your LoginButton instance. Change:</p>\n<p>LoginManager.getInstance().registerCallback(callbackManager,\nnew FacebookCallback() {\nChange to:</p>\n<p>mLoginButton.registerCallback(callbackManager,\nnew FacebookCallback() {</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18779513,"reputation":1070,"user_id":13694485,"display_name":"PRANAV SINGH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668779607,"creation_date":1668779607,"answer_id":74490705,"question_id":71317253,"body_markdown":"Emil&#39;s comment is correct we can&#39;t use loginButton solution with LoginManger. But after several hours of experiments I solved it by downgrading the dependencies version please refer this: https://stackoverflow.com/a/74490644/13694485","title":"Android CallbackManager call back stopped working after upgrading to Facebook SDK 12.0.0 (Or 13)","body":"<p>Emil's comment is correct we can't use loginButton solution with LoginManger. But after several hours of experiments I solved it by downgrading the dependencies version please refer this: <a href=\"https://stackoverflow.com/a/74490644/13694485\">https://stackoverflow.com/a/74490644/13694485</a></p>\n"},{"tags":[],"owner":{"account_id":9720883,"reputation":173,"user_id":7209673,"display_name":"Gabriel Trifa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678986731,"creation_date":1678986731,"answer_id":75759496,"question_id":71317253,"body_markdown":"The issue was fixed for me after updating to the latest (for now) version: 16.0.0 (I had 13.2.0). No code changes were needed besides this.","title":"Android CallbackManager call back stopped working after upgrading to Facebook SDK 12.0.0 (Or 13)","body":"<p>The issue was fixed for me after updating to the latest (for now) version: 16.0.0 (I had 13.2.0). No code changes were needed besides this.</p>\n"}],"owner":{"account_id":3078147,"reputation":835,"user_id":2607017,"accept_rate":53,"display_name":"Zhang Zhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1614,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71317432,"answer_count":3,"score":2,"last_activity_date":1678986731,"creation_date":1646193029,"question_id":71317253,"body_markdown":"I have an Android app that does login via Facebook.\r\nEverything was working when I was on Facebook SDK\r\n\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:11.1.1&#39;\r\n\r\nHowever, recently I noticed in my Gradle file that there is an update available for Facebook SDK, so I updated it to\r\n\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:13.0.0&#39;\r\n\r\nAnd then the problem happens.\r\n\r\nBefore I have my code setup like the following:\r\n\r\n    private void facebookSignInSetup() {\r\n        //Facebook login setup\r\n        callbackManager = CallbackManager.Factory.create();\r\n        LoginManager.getInstance().registerCallback(callbackManager,\r\n                new FacebookCallback&lt;LoginResult&gt;() {\r\n                    @Override\r\n                    public void onSuccess(LoginResult loginResult) {\r\n                      ....\r\n                    }\r\n\r\nAnd in my Activity class I have the following code:\r\n\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            callbackManager.onActivityResult(requestCode, resultCode, data);\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            ......\r\n        }\r\n\r\nWhen I was on Facebook SDK 11.1.1, after user login via Facebook, method: onActivityResult is fired then FacebookCallback registered is fired.\r\n\r\nAfter upgrading to Facebook SDK 13.0.0 (I tried 12.0.0 also having the same problem), after the user login to Facebook, onActivityResult is called, however, FacebookCallback is not called.\r\n\r\nHence my login process is broken.\r\n\r\nAnyone has the same problem and is the resolution?","title":"Android CallbackManager call back stopped working after upgrading to Facebook SDK 12.0.0 (Or 13)","body":"<p>I have an Android app that does login via Facebook.\nEverything was working when I was on Facebook SDK</p>\n<pre><code>implementation 'com.facebook.android:facebook-android-sdk:11.1.1'\n</code></pre>\n<p>However, recently I noticed in my Gradle file that there is an update available for Facebook SDK, so I updated it to</p>\n<pre><code>implementation 'com.facebook.android:facebook-android-sdk:13.0.0'\n</code></pre>\n<p>And then the problem happens.</p>\n<p>Before I have my code setup like the following:</p>\n<pre><code>private void facebookSignInSetup() {\n    //Facebook login setup\n    callbackManager = CallbackManager.Factory.create();\n    LoginManager.getInstance().registerCallback(callbackManager,\n            new FacebookCallback&lt;LoginResult&gt;() {\n                @Override\n                public void onSuccess(LoginResult loginResult) {\n                  ....\n                }\n</code></pre>\n<p>And in my Activity class I have the following code:</p>\n<pre><code>    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        callbackManager.onActivityResult(requestCode, resultCode, data);\n        super.onActivityResult(requestCode, resultCode, data);\n        ......\n    }\n</code></pre>\n<p>When I was on Facebook SDK 11.1.1, after user login via Facebook, method: onActivityResult is fired then FacebookCallback registered is fired.</p>\n<p>After upgrading to Facebook SDK 13.0.0 (I tried 12.0.0 also having the same problem), after the user login to Facebook, onActivityResult is called, however, FacebookCallback is not called.</p>\n<p>Hence my login process is broken.</p>\n<p>Anyone has the same problem and is the resolution?</p>\n"},{"tags":["java","exception","maze"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1679129871,"post_id":75748868,"comment_id":133668636,"body_markdown":"**Comments have been [moved to chat](https://chat.stackoverflow.com/rooms/252583/discussion-on-question-by-joel-alex-how-do-i-change-my-code-so-it-stops-catching); please do not continue the discussion here.** Before posting a comment below this one, please review the [purposes of comments](/help/privileges/comment). Comments that do not request clarification or suggest improvements usually belong as an [answer](/help/how-to-answer), on [meta], or in [chat]. Comments continuing discussion may be removed.","body":"<b>Comments have been <a href=\"https://chat.stackoverflow.com/rooms/252583/discussion-on-question-by-joel-alex-how-do-i-change-my-code-so-it-stops-catching\">moved to chat</a>; please do not continue the discussion here.</b> Before posting a comment below this one, please review the <a href=\"/help/privileges/comment\">purposes of comments</a>. Comments that do not request clarification or suggest improvements usually belong as an <a href=\"/help/how-to-answer\">answer</a>, on <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>, or in <a href=\"https://chat.stackoverflow.com/\">Stack Overflow Chat</a>. Comments continuing discussion may be removed."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678986586,"creation_date":1678986586,"answer_id":75759469,"question_id":75748868,"body_markdown":"First, move the line to extract the next character that was input to just below the `for` loop statement:\r\n\r\n    while (true) {\r\n          System.out.println(&quot;\\nWhat direction would you like to move?&quot;\r\n             + &quot;(Controls: w - a - s - d): &quot;);\r\n          tempInput = myInput.nextLine();          \r\n          try {             \r\n            for (int i = 0; i &lt; tempInput.length(); i++) {       \r\n              playerMove = tempInput.toUpperCase().charAt(i);\r\n    ... \r\n\r\nNote this uses the index controlled by the `for` loop, rather than always using `0`. \r\n\r\nNext, examine the `playerMove` to put it into one of the following categories:\r\n\r\n - Whitespace: `continue;` the `for` loop.\r\n - Valid and possible: process the move.\r\n - Valid and impossible:\r\n - - Bump into wall: Display error message\r\n - - Out of bounds: Display error message\r\n\r\nBy &quot;valid&quot;, I mean one of w, a, s, d, as specified in the question. By &quot;valid and impossible&quot;, I mean the input criteria were met, but the move would go out of bounds or into a wall. \r\n \r\nDon&#39;t try to use exceptions to categorize the move. Use `break` to exit a loop and `continue` to jump to the next iteration. \r\n\r\nExample:\r\n\r\n      for (int i = 0; i &lt; tempInput.length(); i++) {       \r\n          playerMove = tempInput.toUpperCase().charAt(i);\r\n      if (Character.isWhitespace (playerMove) { \r\n          continue;\r\n      }\r\n      if (    playerMove != &#39;W&#39; &amp;&amp; playerMove != &#39;D&#39; \r\n           &amp;&amp; playerMove != &#39;A&#39; &amp;&amp; playerMove != &#39;S&#39;) {\r\n        System.out.println (&quot;\\nPlease provide a move, the only valid moves&quot;\r\n              + &quot; are w, a, s or d.&quot;);\r\n        continue;\r\n      }\r\n\r\nThat would be followed by code to check if the player remains in bounds and avoids a wall. After that would be the code to make valid move.\r\n                     \r\n               \r\n\r\n\r\n","title":"How do I change my code so it stops catching valid inputs?","body":"<p>First, move the line to extract the next character that was input to just below the <code>for</code> loop statement:</p>\n<pre><code>while (true) {\n      System.out.println(&quot;\\nWhat direction would you like to move?&quot;\n         + &quot;(Controls: w - a - s - d): &quot;);\n      tempInput = myInput.nextLine();          \n      try {             \n        for (int i = 0; i &lt; tempInput.length(); i++) {       \n          playerMove = tempInput.toUpperCase().charAt(i);\n... \n</code></pre>\n<p>Note this uses the index controlled by the <code>for</code> loop, rather than always using <code>0</code>.</p>\n<p>Next, examine the <code>playerMove</code> to put it into one of the following categories:</p>\n<ul>\n<li>Whitespace: <code>continue;</code> the <code>for</code> loop.</li>\n<li>Valid and possible: process the move.</li>\n<li>Valid and impossible:</li>\n<li>\n<ul>\n<li>Bump into wall: Display error message</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>Out of bounds: Display error message</li>\n</ul>\n</li>\n</ul>\n<p>By &quot;valid&quot;, I mean one of w, a, s, d, as specified in the question. By &quot;valid and impossible&quot;, I mean the input criteria were met, but the move would go out of bounds or into a wall.</p>\n<p>Don't try to use exceptions to categorize the move. Use <code>break</code> to exit a loop and <code>continue</code> to jump to the next iteration.</p>\n<p>Example:</p>\n<pre><code>  for (int i = 0; i &lt; tempInput.length(); i++) {       \n      playerMove = tempInput.toUpperCase().charAt(i);\n  if (Character.isWhitespace (playerMove) { \n      continue;\n  }\n  if (    playerMove != 'W' &amp;&amp; playerMove != 'D' \n       &amp;&amp; playerMove != 'A' &amp;&amp; playerMove != 'S') {\n    System.out.println (&quot;\\nPlease provide a move, the only valid moves&quot;\n          + &quot; are w, a, s or d.&quot;);\n    continue;\n  }\n</code></pre>\n<p>That would be followed by code to check if the player remains in bounds and avoids a wall. After that would be the code to make valid move.</p>\n"}],"owner":{"account_id":27820929,"reputation":3,"user_id":21241331,"display_name":"Joel Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75759469,"answer_count":1,"score":-1,"last_activity_date":1678986586,"creation_date":1678905652,"question_id":75748868,"body_markdown":"I am a java beginner that has to complete a school assignment. It tells me to create a maze that allow the user to move through the maze until he/she reaches the end. The movement keys are w, a, s, d. I&#39;ve made the maze and basically created the program, however my try and catch block is forcing an error even if the input is valid. \r\n\r\nThis is my maze, the player is represented by an asterisk and E means the end. An X represents a wall and any space is a path. \r\n\r\n     X  X  X  X  X  X  X  X  X  X  X \r\n     X     X  X        X  X  X     X \r\n     X     X  X     X  X  X  X     X \r\n     X              X  X  X  X     X \r\n     X  X     X  X  E        X     X \r\n     X  X     X  X  X  X     X     X \r\n     X  X     X  X  X  X     X       \r\n     X  X                          X \r\n     X  X  X     X     X  X  X     X \r\n     X  X  X  X  X  X  X  X  X  *  X \r\n\r\nThis is my code, I apologize if it is too long.\r\n```\r\n    Scanner myInput = new Scanner(System.in);\r\n    String mazeOutput = &quot;&quot;, tempInput;\r\n    char playerMove;\r\n    int playerRowPosition, playerColPosition;\r\n```\r\nOuterWhile:\r\n```\r\n        while (!mapOfMaze[4][5].equals(&quot; * &quot;))\r\n        {\r\n          \r\n          for(int row = 0; row &lt; mapOfMaze.length; row++)\r\n          {\r\n            for(int col = 0; col &lt; mapOfMaze[row].length; col++)\r\n            {\r\n              System.out.print(mapOfMaze[row][col]);\r\n            }\r\n            \r\n            System.out.println(&quot;&quot;);\r\n          }\r\n```        \r\n          \r\n    InnerWhile:\r\n  ```        \r\n          while (true)\r\n          {\r\n            System.out.println(&quot;\\nWhat direction would you like to move (Controls: w - a - s - d): &quot;);\r\n            tempInput = myInput.nextLine();\r\n            \r\n            try\r\n            {\r\n               \r\n              for (int i = 0; i &lt; tempInput.length(); i++)\r\n              {       \r\n                if (Character.isDigit(tempInput.charAt(i)))\r\n                {\r\n                  Integer.parseInt(&quot;a&quot;);\r\n                }  \r\n              }                \r\n              \r\n              if (tempInput.length() != 1)\r\n              {\r\n                Integer.parseInt(&quot;a&quot;);\r\n              }\r\n              \r\n              playerMove = tempInput.toUpperCase().charAt(0);\r\n              \r\n              if ((int)playerMove == 87 || (int)playerMove == 65 || (int)playerMove == 83 || (int)playerMove == 68)\r\n              {\r\n                playerMove = playerMove;\r\n              }\r\n              \r\n              else\r\n              {\r\n                Integer.parseInt(&quot;a&quot;);\r\n              }\r\n              break;\r\n            }\r\n            \r\n            catch (NumberFormatException error)\r\n            {\r\n              System.out.println(&quot;\\nPlease provide a move, the only valid moves are w, a, s or d.&quot;);      \r\n            }\r\n          }\r\n```\r\n  continue OuterWhile   \r\n```     \r\n          try\r\n          {\r\n            playerRowPosition = 9;\r\n            playerColPosition = 8;\r\n            \r\n            if ((int)playerMove == 87 &amp;&amp; mapOfMaze[playerRowPosition - 1][playerColPosition].equals(&quot;   &quot;))\r\n            {\r\n              playerRowPosition = playerRowPosition - 1;\r\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\r\n            }\r\n            \r\n            else if ((int)playerMove == 65 &amp;&amp; mapOfMaze[playerRowPosition][playerColPosition - 1].equals(&quot;   &quot;))\r\n            {\r\n              playerColPosition = playerColPosition - 1;\r\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\r\n            }\r\n            \r\n            else if ((int)playerMove == 83 &amp;&amp; mapOfMaze[playerRowPosition + 1][playerColPosition].equals(&quot;   &quot;))\r\n            {\r\n              playerRowPosition = playerRowPosition + 1;\r\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\r\n            }\r\n            \r\n            else if ((int)playerMove == 68 &amp;&amp; mapOfMaze[playerRowPosition][playerColPosition + 1].equals(&quot;   &quot;))\r\n            {\r\n              playerColPosition = playerColPosition + 1;\r\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\r\n            }\r\n            \r\n            else\r\n            {\r\n              throw new NumberFormatException ();\r\n            }\r\n          }\r\n          \r\n          catch (NumberFormatException error)\r\n          {\r\n            System.out.println(&quot;\\nThat move is not possible, the player is not able to move on walls or out of the maze.&quot;);\r\n          }\r\n        }\r\n ```    \r\n\r\n\r\nI tried to change the position of the player based on the input but also catch any exceptions, but it seems like the code is catching valid inputs as well. \r\nFor example, if I input w, the output will be \r\n\r\n```\r\nWhat direction would you like to move (Controls: w - a - s - d): \r\n [DrJava Input Box]\r\n\r\nThat move is not possible, the player is not able to move on walls or out of the maze.\r\n```\r\n\r\nI appreciate any help.\r\n","title":"How do I change my code so it stops catching valid inputs?","body":"<p>I am a java beginner that has to complete a school assignment. It tells me to create a maze that allow the user to move through the maze until he/she reaches the end. The movement keys are w, a, s, d. I've made the maze and basically created the program, however my try and catch block is forcing an error even if the input is valid.</p>\n<p>This is my maze, the player is represented by an asterisk and E means the end. An X represents a wall and any space is a path.</p>\n<pre><code> X  X  X  X  X  X  X  X  X  X  X \n X     X  X        X  X  X     X \n X     X  X     X  X  X  X     X \n X              X  X  X  X     X \n X  X     X  X  E        X     X \n X  X     X  X  X  X     X     X \n X  X     X  X  X  X     X       \n X  X                          X \n X  X  X     X     X  X  X     X \n X  X  X  X  X  X  X  X  X  *  X \n</code></pre>\n<p>This is my code, I apologize if it is too long.</p>\n<pre><code>    Scanner myInput = new Scanner(System.in);\n    String mazeOutput = &quot;&quot;, tempInput;\n    char playerMove;\n    int playerRowPosition, playerColPosition;\n</code></pre>\n<p>OuterWhile:</p>\n<pre><code>        while (!mapOfMaze[4][5].equals(&quot; * &quot;))\n        {\n          \n          for(int row = 0; row &lt; mapOfMaze.length; row++)\n          {\n            for(int col = 0; col &lt; mapOfMaze[row].length; col++)\n            {\n              System.out.print(mapOfMaze[row][col]);\n            }\n            \n            System.out.println(&quot;&quot;);\n          }\n</code></pre>\n<pre><code>InnerWhile:\n</code></pre>\n<pre><code>        while (true)\n        {\n          System.out.println(&quot;\\nWhat direction would you like to move (Controls: w - a - s - d): &quot;);\n          tempInput = myInput.nextLine();\n          \n          try\n          {\n             \n            for (int i = 0; i &lt; tempInput.length(); i++)\n            {       \n              if (Character.isDigit(tempInput.charAt(i)))\n              {\n                Integer.parseInt(&quot;a&quot;);\n              }  \n            }                \n            \n            if (tempInput.length() != 1)\n            {\n              Integer.parseInt(&quot;a&quot;);\n            }\n            \n            playerMove = tempInput.toUpperCase().charAt(0);\n            \n            if ((int)playerMove == 87 || (int)playerMove == 65 || (int)playerMove == 83 || (int)playerMove == 68)\n            {\n              playerMove = playerMove;\n            }\n            \n            else\n            {\n              Integer.parseInt(&quot;a&quot;);\n            }\n            break;\n          }\n          \n          catch (NumberFormatException error)\n          {\n            System.out.println(&quot;\\nPlease provide a move, the only valid moves are w, a, s or d.&quot;);      \n          }\n        }\n</code></pre>\n<p>continue OuterWhile</p>\n<pre><code>          try\n          {\n            playerRowPosition = 9;\n            playerColPosition = 8;\n            \n            if ((int)playerMove == 87 &amp;&amp; mapOfMaze[playerRowPosition - 1][playerColPosition].equals(&quot;   &quot;))\n            {\n              playerRowPosition = playerRowPosition - 1;\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\n            }\n            \n            else if ((int)playerMove == 65 &amp;&amp; mapOfMaze[playerRowPosition][playerColPosition - 1].equals(&quot;   &quot;))\n            {\n              playerColPosition = playerColPosition - 1;\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\n            }\n            \n            else if ((int)playerMove == 83 &amp;&amp; mapOfMaze[playerRowPosition + 1][playerColPosition].equals(&quot;   &quot;))\n            {\n              playerRowPosition = playerRowPosition + 1;\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\n            }\n            \n            else if ((int)playerMove == 68 &amp;&amp; mapOfMaze[playerRowPosition][playerColPosition + 1].equals(&quot;   &quot;))\n            {\n              playerColPosition = playerColPosition + 1;\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\n            }\n            \n            else\n            {\n              throw new NumberFormatException ();\n            }\n          }\n          \n          catch (NumberFormatException error)\n          {\n            System.out.println(&quot;\\nThat move is not possible, the player is not able to move on walls or out of the maze.&quot;);\n          }\n        }\n</code></pre>\n<p>I tried to change the position of the player based on the input but also catch any exceptions, but it seems like the code is catching valid inputs as well.\nFor example, if I input w, the output will be</p>\n<pre><code>What direction would you like to move (Controls: w - a - s - d): \n [DrJava Input Box]\n\nThat move is not possible, the player is not able to move on walls or out of the maze.\n</code></pre>\n<p>I appreciate any help.</p>\n"},{"tags":["java","gradle","multi-module"],"owner":{"account_id":9842817,"reputation":515,"user_id":7291343,"display_name":"Roni Koren Kurtberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678986543,"creation_date":1678986543,"question_id":75759463,"body_markdown":"I have two classes: `ClassA` that is using (as a dependency) `ClassB`.\r\nClassA is having an application.conf file within the resources, while also ClassB within its own resources. \r\nWhile creating `ClassA` jar, when it is reaching the code of ClassB that is loading the application.conf, it&#39;s telling that there are some configurations missing, which means that it&#39;s still reading `ClassA` application.conf.\r\n\r\nQuestion is, how I can work on a multi-module project in gradle, and use two different application.conf file. There is any special configuration for that in the build.gradle? Other than stating the dependency? \r\n","title":"Cannot read application.conf of a dependent module in gradle","body":"<p>I have two classes: <code>ClassA</code> that is using (as a dependency) <code>ClassB</code>.\nClassA is having an application.conf file within the resources, while also ClassB within its own resources.\nWhile creating <code>ClassA</code> jar, when it is reaching the code of ClassB that is loading the application.conf, it's telling that there are some configurations missing, which means that it's still reading <code>ClassA</code> application.conf.</p>\n<p>Question is, how I can work on a multi-module project in gradle, and use two different application.conf file. There is any special configuration for that in the build.gradle? Other than stating the dependency?</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":4276,"reputation":14213,"user_id":6365,"accept_rate":65,"display_name":"Michael Barker"},"score":0,"creation_date":1274509916,"post_id":2883970,"comment_id":2935221,"body_markdown":"You probably don&#39;t want to use more than 16 buffers for a read or a write.  I know Java 5 had a hard limit of 16 (would accept more but would only read/write 16 of them) due to limit within Solaris.","body":"You probably don&#39;t want to use more than 16 buffers for a read or a write.  I know Java 5 had a hard limit of 16 (would accept more but would only read/write 16 of them) due to limit within Solaris."}],"answers":[{"tags":[],"owner":{"account_id":109303,"reputation":3464,"user_id":289684,"display_name":"Ha."},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1274507412,"creation_date":1274507412,"answer_id":2887108,"question_id":2883970,"body_markdown":"Does `packets.poll()` creates every time a new `Buffer`? If not, your are writing wrong data in the first case.","title":"Java: GatheringByteChannel advantages?","body":"<p>Does <code>packets.poll()</code> creates every time a new <code>Buffer</code>? If not, your are writing wrong data in the first case.</p>\n"},{"tags":[],"owner":{"account_id":1010291,"reputation":393,"user_id":1023009,"accept_rate":50,"display_name":"squarewav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678986498,"creation_date":1678986498,"answer_id":75759455,"question_id":2883970,"body_markdown":"GatheringByteChannel and ScatteringByteChannel maps to writev and readv system calls (or equivalent on other systems) with struct iovec to hold multiple buffers.\r\n\r\nFor a network socket this means that the data will appear in the same network frame to the extent that it would if all data were in one buffer. This might be used to encode a header in a one buffer, load data from a file into another direct buffer but be written to the socket as if they were one continuous buffer. If writev semantics were not used in this case, the header and file data might be written in separate network frames which has significant implications at the network level. \r\n\r\nFor a file, writing multiple buffers as if they were one has implications for file consistency. If you write data to a file with two separate writes and the second write fails, the file data will not be consistent. Write operations are atomic as far as the operating system is concerned (although that wasn&#39;t always true and may not be true for certain systems). When writev is used, the file should be consistent and get both buffers or neither.","title":"Java: GatheringByteChannel advantages?","body":"<p>GatheringByteChannel and ScatteringByteChannel maps to writev and readv system calls (or equivalent on other systems) with struct iovec to hold multiple buffers.</p>\n<p>For a network socket this means that the data will appear in the same network frame to the extent that it would if all data were in one buffer. This might be used to encode a header in a one buffer, load data from a file into another direct buffer but be written to the socket as if they were one continuous buffer. If writev semantics were not used in this case, the header and file data might be written in separate network frames which has significant implications at the network level.</p>\n<p>For a file, writing multiple buffers as if they were one has implications for file consistency. If you write data to a file with two separate writes and the second write fails, the file data will not be consistent. Write operations are atomic as far as the operating system is concerned (although that wasn't always true and may not be true for certain systems). When writev is used, the file should be consistent and get both buffers or neither.</p>\n"}],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678986498,"creation_date":1274460808,"question_id":2883970,"body_markdown":"I&#39;m wondering when the [GatheringByteChannel][1]&#39;s write methods (taking in an array of ByteBuffers) have advantages over the &quot;regular&quot; WritableByteChannel write methods. \r\n\r\nI tried a test where I could use the regular vs. the gathering write method on a FileChannel, with approx 400KB/sec total in ByteBuffers of between 23-27 bytes in length in both cases. Gathering writes used an array of 64. The regular method used up approx 12% of my CPU, and the gathering method used up approx 16% of my CPU (worse than the regular method!)\r\n\r\nThis tells me it&#39;s NOT useful to use gathering writes on a FileChannel around this range of operating parameters. Why would this be the case, and when would you ever use GatheringByteChannel? (on network I/O?)\r\n\r\nRelevant differences here:\r\n\r\n    public void log(Queue&lt;Packet&gt; packets) throws IOException\r\n\t{\r\n\t\tif (this.gather)\r\n\t\t{\r\n\t\t\tint Nbuf = 64;\r\n\t\t\tByteBuffer[] bbufs = new ByteBuffer[Nbuf];\r\n\t\t\tint i = 0;\r\n\t\t\tPacket p;\r\n\t\t\twhile ((p = packets.poll()) != null)\r\n\t\t\t{\r\n\t\t\t\tbbufs[i++] = p.getBuffer();\r\n\t\t\t\tif (i == Nbuf)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.fc.write(bbufs);\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (i &gt; 0)\r\n\t\t\t{\r\n\t\t\t\tthis.fc.write(bbufs, 0, i);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tPacket p;\r\n\t\t\twhile ((p = packets.poll()) != null)\r\n\t\t\t{\r\n\t\t\t\tthis.fc.write(p.getBuffer());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**update:**\r\n\r\nI did some testing and the gathering approach for various lengths of ByteBuffers seems to have no benefit for file I/O. Far more relevant was the &quot;fragmentation&quot; of the I/O stream via byte buffer length. I changed my program so it copied a relatively large (27MB) file via reading the input into byte buffers of a particular length. The program starts to slow down significantly if the buffers are less than 256 bytes in length.\r\n\r\nI decided to try a third option, namely to write my own simple &quot;gathering&quot; routine that takes buffers and consolidates them into a larger buffer before writing to a filechannel. This blows away the GatheringByteChannel `write(ByteBuffer[] buffers)` method for speed. (Note: The *reading* size is the same for all three modes of writing, so the fact that I&#39;m creating a bunch of small ByteBuffers and using them to read I/O isn&#39;t causing a significant slowdown.) I&#39;m kind of disappointed that Java doesn&#39;t just do this for you. Oh well.\r\n\r\n    enum GatherType { NONE, AUTOMATIC, MANUAL }\r\n\r\n    static class BufferWriter\r\n\t{\r\n\t\tfinal private FileChannel fc;\r\n\t\tprivate GatherType gather = GatherType.NONE;\r\n\t\t\r\n\t\tBufferWriter(FileChannel f) { this.fc = f; } \r\n\t\t\r\n\t\tpublic void setGather(GatherType gather) { this.gather=gather; }\r\n\t\tpublic void write(Queue&lt;ByteBuffer&gt; buffers) throws IOException\r\n\t\t{\r\n\t\t\tswitch (this.gather)\r\n\t\t\t{\r\n\t\t\t\tcase AUTOMATIC:\r\n\t\t\t\t{\r\n\t\t\t\t\tint Nbuf = 64;\r\n\t\t\t\t\tByteBuffer[] bbufs = new ByteBuffer[Nbuf];\r\n\t\t\t\t\tint i = 0;\r\n\t\t\t\t\tByteBuffer b;\r\n\t\t\t\t\twhile ((b = buffers.poll()) != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbbufs[i++] = b;\r\n\t\t\t\t\t\tif (i == Nbuf)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.fc.write(bbufs);\r\n\t\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (i &gt; 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.fc.write(bbufs, 0, i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase MANUAL:\r\n\t\t\t\t{\r\n\t\t\t\t\tByteBuffer consolidatedBuffer = ByteBuffer.allocate(4096);\r\n\t\t\t\t\tByteBuffer b;\r\n\t\t\t\t\twhile ((b = buffers.poll()) != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (b.remaining() &gt; consolidatedBuffer.remaining())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsolidatedBuffer.flip();\r\n\t\t\t\t\t\t\tthis.fc.write(consolidatedBuffer);\r\n\t\t\t\t\t\t\tconsolidatedBuffer.clear();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (b.remaining() &gt; consolidatedBuffer.remaining())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.fc.write(b);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsolidatedBuffer.put(b);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsolidatedBuffer.flip();\r\n\t\t\t\t\tif (consolidatedBuffer.hasRemaining())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.fc.write(consolidatedBuffer);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase NONE:\r\n\t\t\t\t{\r\n\t\t\t\t\tByteBuffer b;\r\n\t\t\t\t\twhile ((b = buffers.poll()) != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.fc.write(b);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/nio/channels/GatheringByteChannel.html\r\n","title":"Java: GatheringByteChannel advantages?","body":"<p>I'm wondering when the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/nio/channels/GatheringByteChannel.html\" rel=\"nofollow noreferrer\">GatheringByteChannel</a>'s write methods (taking in an array of ByteBuffers) have advantages over the \"regular\" WritableByteChannel write methods. </p>\n\n<p>I tried a test where I could use the regular vs. the gathering write method on a FileChannel, with approx 400KB/sec total in ByteBuffers of between 23-27 bytes in length in both cases. Gathering writes used an array of 64. The regular method used up approx 12% of my CPU, and the gathering method used up approx 16% of my CPU (worse than the regular method!)</p>\n\n<p>This tells me it's NOT useful to use gathering writes on a FileChannel around this range of operating parameters. Why would this be the case, and when would you ever use GatheringByteChannel? (on network I/O?)</p>\n\n<p>Relevant differences here:</p>\n\n<pre><code>public void log(Queue&lt;Packet&gt; packets) throws IOException\n{\n    if (this.gather)\n    {\n        int Nbuf = 64;\n        ByteBuffer[] bbufs = new ByteBuffer[Nbuf];\n        int i = 0;\n        Packet p;\n        while ((p = packets.poll()) != null)\n        {\n            bbufs[i++] = p.getBuffer();\n            if (i == Nbuf)\n            {\n                this.fc.write(bbufs);\n                i = 0;\n            }\n        }\n        if (i &gt; 0)\n        {\n            this.fc.write(bbufs, 0, i);\n        }\n    }\n    else\n    {\n        Packet p;\n        while ((p = packets.poll()) != null)\n        {\n            this.fc.write(p.getBuffer());\n        }\n    }\n}\n</code></pre>\n\n<p><strong>update:</strong></p>\n\n<p>I did some testing and the gathering approach for various lengths of ByteBuffers seems to have no benefit for file I/O. Far more relevant was the \"fragmentation\" of the I/O stream via byte buffer length. I changed my program so it copied a relatively large (27MB) file via reading the input into byte buffers of a particular length. The program starts to slow down significantly if the buffers are less than 256 bytes in length.</p>\n\n<p>I decided to try a third option, namely to write my own simple \"gathering\" routine that takes buffers and consolidates them into a larger buffer before writing to a filechannel. This blows away the GatheringByteChannel <code>write(ByteBuffer[] buffers)</code> method for speed. (Note: The <em>reading</em> size is the same for all three modes of writing, so the fact that I'm creating a bunch of small ByteBuffers and using them to read I/O isn't causing a significant slowdown.) I'm kind of disappointed that Java doesn't just do this for you. Oh well.</p>\n\n<pre><code>enum GatherType { NONE, AUTOMATIC, MANUAL }\n\nstatic class BufferWriter\n{\n    final private FileChannel fc;\n    private GatherType gather = GatherType.NONE;\n\n    BufferWriter(FileChannel f) { this.fc = f; } \n\n    public void setGather(GatherType gather) { this.gather=gather; }\n    public void write(Queue&lt;ByteBuffer&gt; buffers) throws IOException\n    {\n        switch (this.gather)\n        {\n            case AUTOMATIC:\n            {\n                int Nbuf = 64;\n                ByteBuffer[] bbufs = new ByteBuffer[Nbuf];\n                int i = 0;\n                ByteBuffer b;\n                while ((b = buffers.poll()) != null)\n                {\n                    bbufs[i++] = b;\n                    if (i == Nbuf)\n                    {\n                        this.fc.write(bbufs);\n                        i = 0;\n                    }\n                }\n                if (i &gt; 0)\n                {\n                    this.fc.write(bbufs, 0, i);\n                }\n            }\n            break;\n            case MANUAL:\n            {\n                ByteBuffer consolidatedBuffer = ByteBuffer.allocate(4096);\n                ByteBuffer b;\n                while ((b = buffers.poll()) != null)\n                {\n                    if (b.remaining() &gt; consolidatedBuffer.remaining())\n                    {\n                        consolidatedBuffer.flip();\n                        this.fc.write(consolidatedBuffer);\n                        consolidatedBuffer.clear();\n                    }\n\n                    if (b.remaining() &gt; consolidatedBuffer.remaining())\n                    {\n                        this.fc.write(b);\n                    }\n                    else\n                    {\n                        consolidatedBuffer.put(b);\n                    }\n                }\n\n                consolidatedBuffer.flip();\n                if (consolidatedBuffer.hasRemaining())\n                {\n                    this.fc.write(consolidatedBuffer);\n                }\n            }\n            break;\n            case NONE:\n            {\n                ByteBuffer b;\n                while ((b = buffers.poll()) != null)\n                {\n                    this.fc.write(b);\n                }\n            }\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","azure","github","github-actions"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1678985086,"post_id":75759126,"comment_id":133643123,"body_markdown":"Don&#39;t put them in GitHub.  Put them in a credential store of some kind.","body":"Don&#39;t put them in GitHub.  Put them in a credential store of some kind."}],"answers":[{"tags":[],"owner":{"account_id":19286557,"reputation":1,"user_id":14097402,"display_name":"Gireesh d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678986424,"creation_date":1678985986,"answer_id":75759350,"question_id":75759126,"body_markdown":"Set Your User Name &amp; Password to some environmental variables in your system ..\r\nLike \r\n\r\nDB_USERNAME=&quot;username&quot;\r\n\r\nDB_PASSWORD=&quot;password&quot; \r\n\r\nuse System.getProperty to fetch that value and use in your code..\r\n```\r\nString dbUsername = System.getenv(&quot;DB_USERNAME&quot;);\r\nString dbPassword = System.getenv(&quot;DB_PASSWORD&quot;);\r\n\r\n```\r\nMake sure to set those env variables in Azure App As Well\r\n\r\nI&#39;m not aware of Azure App If there is a way to set while deploying. this works","title":"How to hide credentials in Github Repository: Spring Boot and Azure","body":"<p>Set Your User Name &amp; Password to some environmental variables in your system ..\nLike</p>\n<p>DB_USERNAME=&quot;username&quot;</p>\n<p>DB_PASSWORD=&quot;password&quot;</p>\n<p>use System.getProperty to fetch that value and use in your code..</p>\n<pre><code>String dbUsername = System.getenv(&quot;DB_USERNAME&quot;);\nString dbPassword = System.getenv(&quot;DB_PASSWORD&quot;);\n\n</code></pre>\n<p>Make sure to set those env variables in Azure App As Well</p>\n<p>I'm not aware of Azure App If there is a way to set while deploying. this works</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678986424,"creation_date":1678984819,"question_id":75759126,"body_markdown":"I have a **Spring Boot Application** which uses **Azure Storage** for several features. Also, I will be deploying it on Azure App Service and also use a SQL database on Azure. I have to upload the code on GitHub. I am not sure how I can hide my **db credentials** and **connection urls** from public access on GitHub. The repository needs to be public. Please help!","title":"How to hide credentials in Github Repository: Spring Boot and Azure","body":"<p>I have a <strong>Spring Boot Application</strong> which uses <strong>Azure Storage</strong> for several features. Also, I will be deploying it on Azure App Service and also use a SQL database on Azure. I have to upload the code on GitHub. I am not sure how I can hide my <strong>db credentials</strong> and <strong>connection urls</strong> from public access on GitHub. The repository needs to be public. Please help!</p>\n"},{"tags":["java","google-my-business-api","google-my-business","google-business-profile-api"],"comments":[{"owner":{"account_id":267372,"reputation":9372,"user_id":555515,"accept_rate":78,"display_name":"neuront"},"score":0,"creation_date":1673423373,"post_id":74938272,"comment_id":132492901,"body_markdown":"I have the same question, and additionally, the old `reportInsights` API allows getting insights from up to 10 locations, while `getDailyMetricsTimeSeries` seems to take only one location at a time. It is very very unfortunate.","body":"I have the same question, and additionally, the old <code>reportInsights</code> API allows getting insights from up to 10 locations, while <code>getDailyMetricsTimeSeries</code> seems to take only one location at a time. It is very very unfortunate."}],"answers":[{"tags":[],"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672263259,"creation_date":1672263259,"answer_id":74945206,"question_id":74938272,"body_markdown":"If setting `dailyMetric` to `&quot;CALL_CLICKS&quot;` works and setting it to `&quot;CALL_CLICKS,WEBSITE_CLICKS&quot;` does not work, it would seem that the new API does not support that use case anymore.","title":"How to set multiple metrics for setDailyMetric method while sending request to Business Profile Performance API?","body":"<p>If setting <code>dailyMetric</code> to <code>&quot;CALL_CLICKS&quot;</code> works and setting it to <code>&quot;CALL_CLICKS,WEBSITE_CLICKS&quot;</code> does not work, it would seem that the new API does not support that use case anymore.</p>\n"},{"tags":[],"owner":{"account_id":15273161,"reputation":71,"user_id":11019735,"display_name":"Andrew Walker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678986099,"creation_date":1678986099,"answer_id":75759373,"question_id":74938272,"body_markdown":"As of March 16th, 2023, Google added a new method [locations.fetchMultiDailyMetricsTimeSeries](https://developers.google.com/my-business/reference/performance/rest/v1/locations/fetchMultiDailyMetricsTimeSeries#MultiDailyMetricTimeSeries) that serves the same function as &quot;ALL&quot; in the old 4.9 API.","title":"How to set multiple metrics for setDailyMetric method while sending request to Business Profile Performance API?","body":"<p>As of March 16th, 2023, Google added a new method <a href=\"https://developers.google.com/my-business/reference/performance/rest/v1/locations/fetchMultiDailyMetricsTimeSeries#MultiDailyMetricTimeSeries\" rel=\"nofollow noreferrer\">locations.fetchMultiDailyMetricsTimeSeries</a> that serves the same function as &quot;ALL&quot; in the old 4.9 API.</p>\n"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75759373,"answer_count":2,"score":2,"last_activity_date":1678986099,"creation_date":1672218334,"question_id":74938272,"body_markdown":"Following this link [getDailyMetricsTimeSeries][1], I wanna have all the metrics in one request, since I have many locations for every client, it does not seem to be professional if I send one separate request for every single metric.\r\n\r\nbefore in [Google My business V4.9][2] we could use &quot;ALL&quot; to request all available metrics. Unfortunately, this is not working with the new API. Can I get ALL the metrics in ONE single request from Google Business Profile Performance API? \r\n\r\n Here is my code in JAVA: \r\nsupposing that the variable *business_profile_performance* is the initialiser global parameters via its Builder and also takes care of authentication. \r\n\r\n    try {\r\n\r\n\t\t\t\t\tBusinessProfilePerformance.Locations.GetDailyMetricsTimeSeries metricReport =\r\n\t\t\t\t\t\t\tbusiness_profile_perfomance.locations().\r\n\t\t\t\t\t\t\tgetDailyMetricsTimeSeries(&quot;My locationID&quot; ).\r\n\t\t\t\t\t\t\tsetDailyMetric(dailyMetric).\r\n\t\t\t\t\t\t\tsetDailyRangeStartDateYear(Integer.valueOf(&quot;the desired start Year&quot;)).\r\n\t\t\t\t\t\t\tsetDailyRangeStartDateMonth(Integer.valueOf(&quot; the desired start Month&quot; )).\r\n\t\t\t\t\t\t\tsetDailyRangeStartDateDay(Integer.valueOf(&quot; the desired start Day &quot;)).\r\n\r\n\t\t\t\t\t\t\tsetDailyRangeEndDateYear(Integer.valueOf(&quot;the desired End Year&quot; )).\r\n\t\t\t\t\t\t\tsetDailyRangeEndDateMonth(Integer.valueOf(&quot; the desired End Month&quot;)).\r\n\t\t\t\t\t\t\tsetDailyRangeEndDateDay(Integer.valueOf(&quot;the desired End Day&quot;));\r\n\r\n\t\t\t\t\tGetDailyMetricsTimeSeriesResponse response = metricReport.execute();\r\n\t\t\t\t\tif (!response.isEmpty()) {\r\n\t\t\t\t\t\tSystem.out.println(dailyMetric + &quot; Response == &quot; + response);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tSystem.out.println(e);\r\n\t\t\t\t}\r\n\r\nI used a list&lt;string&gt; for my *dailyMetric* variable, and using a for loop it takes turn as photo below: \r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://developers.google.com/my-business/reference/performance/rest/v1/locations/getDailyMetricsTimeSeries#DailyMetric\r\n  [2]: https://developers.google.com/my-business/reference/rest/v4/Metric\r\n  [3]: https://i.stack.imgur.com/Sw0qQ.png","title":"How to set multiple metrics for setDailyMetric method while sending request to Business Profile Performance API?","body":"<p>Following this link <a href=\"https://developers.google.com/my-business/reference/performance/rest/v1/locations/getDailyMetricsTimeSeries#DailyMetric\" rel=\"nofollow noreferrer\">getDailyMetricsTimeSeries</a>, I wanna have all the metrics in one request, since I have many locations for every client, it does not seem to be professional if I send one separate request for every single metric.</p>\n<p>before in <a href=\"https://developers.google.com/my-business/reference/rest/v4/Metric\" rel=\"nofollow noreferrer\">Google My business V4.9</a> we could use &quot;ALL&quot; to request all available metrics. Unfortunately, this is not working with the new API. Can I get ALL the metrics in ONE single request from Google Business Profile Performance API?</p>\n<p>Here is my code in JAVA:\nsupposing that the variable <em>business_profile_performance</em> is the initialiser global parameters via its Builder and also takes care of authentication.</p>\n<pre><code>try {\n\n                BusinessProfilePerformance.Locations.GetDailyMetricsTimeSeries metricReport =\n                        business_profile_perfomance.locations().\n                        getDailyMetricsTimeSeries(&quot;My locationID&quot; ).\n                        setDailyMetric(dailyMetric).\n                        setDailyRangeStartDateYear(Integer.valueOf(&quot;the desired start Year&quot;)).\n                        setDailyRangeStartDateMonth(Integer.valueOf(&quot; the desired start Month&quot; )).\n                        setDailyRangeStartDateDay(Integer.valueOf(&quot; the desired start Day &quot;)).\n\n                        setDailyRangeEndDateYear(Integer.valueOf(&quot;the desired End Year&quot; )).\n                        setDailyRangeEndDateMonth(Integer.valueOf(&quot; the desired End Month&quot;)).\n                        setDailyRangeEndDateDay(Integer.valueOf(&quot;the desired End Day&quot;));\n\n                GetDailyMetricsTimeSeriesResponse response = metricReport.execute();\n                if (!response.isEmpty()) {\n                    System.out.println(dailyMetric + &quot; Response == &quot; + response);\n                }\n\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n</code></pre>\n<p>I used a list for my <em>dailyMetric</em> variable, and using a for loop it takes turn as photo below:</p>\n<p><a href=\"https://i.stack.imgur.com/Sw0qQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sw0qQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":28032115,"reputation":1,"user_id":21411146,"display_name":"Hamo Harutyunyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678985858,"creation_date":1678985737,"question_id":75759315,"body_markdown":"I need to give size to my bitmaps and I use Bitmap.createScaledBitmap(), but my app loads very slowly. How can I fix it?\r\nCode example:\r\n\r\n\r\n        bitmapUsual1 = Bitmap.createScaledBitmap(bitmapUsual1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapUsual2 = Bitmap.createScaledBitmap(bitmapUsual2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapDTSH1 = Bitmap.createScaledBitmap(bitmapDTSH1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapDTSH2 = Bitmap.createScaledBitmap(bitmapDTSH2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapDTS1 = Bitmap.createScaledBitmap(bitmapDTS1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapDTS2 = Bitmap.createScaledBitmap(bitmapDTS2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapDTH1 = Bitmap.createScaledBitmap(bitmapDTH1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n\r\nI don&#39;t know what to do :(","title":"How do Bitmap.createScaledBitmap() faster?","body":"<p>I need to give size to my bitmaps and I use Bitmap.createScaledBitmap(), but my app loads very slowly. How can I fix it?\nCode example:</p>\n<pre><code>    bitmapUsual1 = Bitmap.createScaledBitmap(bitmapUsual1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapUsual2 = Bitmap.createScaledBitmap(bitmapUsual2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapDTSH1 = Bitmap.createScaledBitmap(bitmapDTSH1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapDTSH2 = Bitmap.createScaledBitmap(bitmapDTSH2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapDTS1 = Bitmap.createScaledBitmap(bitmapDTS1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapDTS2 = Bitmap.createScaledBitmap(bitmapDTS2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapDTH1 = Bitmap.createScaledBitmap(bitmapDTH1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n</code></pre>\n<p>.\n.\n.\n.\n.\n.</p>\n<p>I don't know what to do :(</p>\n"},{"tags":["java","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1678991971,"post_id":75759263,"comment_id":133645160,"body_markdown":"What servlet container or application server are you running in?","body":"What servlet container or application server are you running in?"},{"owner":{"account_id":26589839,"reputation":21,"user_id":20213228,"display_name":"DB2fan"},"score":0,"creation_date":1678992501,"post_id":75759263,"comment_id":133645303,"body_markdown":"I am using JBOSS","body":"I am using JBOSS"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1679004117,"post_id":75759263,"comment_id":133647895,"body_markdown":"Which version? Newer versions it should be pretty easy.","body":"Which version? Newer versions it should be pretty easy."},{"owner":{"account_id":26589839,"reputation":21,"user_id":20213228,"display_name":"DB2fan"},"score":0,"creation_date":1679040454,"post_id":75759263,"comment_id":133652898,"body_markdown":"It is Red Hat JBoss 7.3","body":"It is Red Hat JBoss 7.3"},{"owner":{"account_id":26589839,"reputation":21,"user_id":20213228,"display_name":"DB2fan"},"score":0,"creation_date":1679041528,"post_id":75759263,"comment_id":133653136,"body_markdown":"The thing is how can I ignore the project url?","body":"The thing is how can I ignore the project url?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1679108347,"post_id":75759263,"comment_id":133666951,"body_markdown":"What do you mean by the &quot;project url&quot;? The &quot;JAXRS-RESTEasy&quot; part?","body":"What do you mean by the &quot;project url&quot;? The &quot;JAXRS-RESTEasy&quot; part?"}],"owner":{"account_id":26589839,"reputation":21,"user_id":20213228,"display_name":"DB2fan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678985632,"creation_date":1678985477,"question_id":75759263,"body_markdown":"I am using a RESTeasy and want to host the web application on the url\r\n[http://localhost:8080/rest/JAXRS-RESTEasy/][1], now it is hosted on\r\n[http://localhost:8080/JAXRS-RESTEasy/rest/][2]\r\n\r\nHow I have to change the current web.xml?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n    \t&lt;display-name&gt;JAXRS-RESTEasy&lt;/display-name&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;resteasy-servlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    \t&lt;!-- this should be the same URL pattern as the servlet-mapping property --&gt;\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/rest&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;resteasy-servlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;\r\n    \t\t\torg.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher\r\n    \t\t&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;com.javacodegeeks.enterprise.rest.resteasy.MyRESTApplication&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/servlet&gt;   \t\r\n    &lt;/web-app&gt;\r\n\r\nThe java code\r\n\r\n    package com.javacodegeeks.enterprise.rest.resteasy;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import javax.ws.rs.core.Application;\r\n     \r\n    \r\n        public class MyRESTApplication  extends Application {\r\n        \t\r\n        \tprivate Set&lt;Object&gt; singletons = new HashSet&lt;Object&gt;();\r\n        \t \r\n        \tpublic MyRESTApplication() {\r\n        \t\tsingletons.add(new RESTEasyHelloWorldService());\r\n        \t}\r\n         \r\n        \t@Override\r\n        \tpublic Set&lt;Object&gt; getSingletons() {\r\n        \t\treturn singletons;\r\n        \t}\r\n        \r\n        }\r\n\r\n\r\n  [1]: http://localhost:8080/rest/JAXRS-RESTEasy/\r\n  [2]: http://localhost:8080/JAXRS-RESTEasy/rest/","title":"Configuring web.xml in resteasy","body":"<p>I am using a RESTeasy and want to host the web application on the url\n<a href=\"http://localhost:8080/rest/JAXRS-RESTEasy/\" rel=\"nofollow noreferrer\">http://localhost:8080/rest/JAXRS-RESTEasy/</a>, now it is hosted on\n<a href=\"http://localhost:8080/JAXRS-RESTEasy/rest/\" rel=\"nofollow noreferrer\">http://localhost:8080/JAXRS-RESTEasy/rest/</a></p>\n<p>How I have to change the current web.xml?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n    id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n    &lt;display-name&gt;JAXRS-RESTEasy&lt;/display-name&gt;\n    \n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;resteasy-servlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;!-- this should be the same URL pattern as the servlet-mapping property --&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\n        &lt;param-value&gt;/rest&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;resteasy-servlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;\n            org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher\n        &lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n            &lt;param-value&gt;com.javacodegeeks.enterprise.rest.resteasy.MyRESTApplication&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/servlet&gt;      \n&lt;/web-app&gt;\n</code></pre>\n<p>The java code</p>\n<pre><code>package com.javacodegeeks.enterprise.rest.resteasy;\n\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.ws.rs.core.Application;\n \n\n    public class MyRESTApplication  extends Application {\n        \n        private Set&lt;Object&gt; singletons = new HashSet&lt;Object&gt;();\n         \n        public MyRESTApplication() {\n            singletons.add(new RESTEasyHelloWorldService());\n        }\n     \n        @Override\n        public Set&lt;Object&gt; getSingletons() {\n            return singletons;\n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","json","spring-boot","datetime","jackson"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1678989392,"post_id":75759094,"comment_id":133644409,"body_markdown":"Sorry, this does not make sense. A `Date` neither prints like `2022-01-30T23:00:00.000+00:00` nor like `1675119600000`. Typically like `Mon Jan 31 00:00:00 CET 2022`, though the subclasses of `Date` look different. Also the two results are equal (they denote the same point in time), so you are getting the value that you asked for. What makes you think that t is not right? And how did you obtain the formats you mention? A [mre], please?","body":"Sorry, this does not make sense. A <code>Date</code> neither prints like <code>2022-01-30T23:00:00.000+00:00</code> nor like <code>1675119600000</code>. Typically like <code>Mon Jan 31 00:00:00 CET 2022</code>, though the subclasses of <code>Date</code> look different. Also the two results are equal (they denote the same point in time), so you are getting the value that you asked for. What makes you think that t is not right? And how did you obtain the formats you mention? A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1678989528,"post_id":75759094,"comment_id":133644448,"body_markdown":"Not answering your question, you should not use the `Date` class at all. It was poorly designed and is long outdated. Use `Instant` (or another appropriate class) from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"Not answering your question, you should not use the <code>Date</code> class at all. It was poorly designed and is long outdated. Use <code>Instant</code> (or another appropriate class) from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679059991,"post_id":75759094,"comment_id":133657699,"body_markdown":"I am assuming that your Date is a java.util.Date. I tested with spring-boot 2.7.7 (jdk11) and 3.0.4 (jdk17) and it always returns it formatted as follows: &quot;2023-03-17T13:32:52.644+00:00&quot;. I need some more code to determine the actual class of Date.","body":"I am assuming that your Date is a java.util.Date. I tested with spring-boot 2.7.7 (jdk11) and 3.0.4 (jdk17) and it always returns it formatted as follows: &quot;2023-03-17T13:32:52.644+00:00&quot;. I need some more code to determine the actual class of Date."}],"owner":{"account_id":28034713,"reputation":1,"user_id":21413312,"display_name":"Jeanne Lauwers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678985176,"creation_date":1678984644,"question_id":75759094,"body_markdown":"I have built my application to Sprint version 2.7.7. Now, when a date is returned by a Controller method, we receive it as a TimeStamp in milliseconds.\r\n\r\nFor example this method:\r\n\r\n```\r\n@PostMapping(&quot;stbClobil&quot;)\r\npublic Date getClobil(\r\n\t\t@RequestParam(name = &quot;idBilan&quot;) Integer idBilan, \r\n\t\t@RequestParam(name = &quot;idDomaine&quot;) Integer idDomaine) {\r\n\tSystem.out.println( this.stbService.getMaxClobil(idBalance, idDomain));\r\n\treturn this.stbService.getMaxClobil(idBalance, idDomain);\r\n}\r\n```\r\n\r\nInstead of returning this date: `2022-01-30T23:00:00.000+00:00`, it returns this: `1675119600000`.\r\n\r\nHowever, when returning a JSON object with a date attribute, the date is in the correct format.\r\n\r\nI tried to use the `@JsonFormat`, without success.\r\nI also tried to change in the properties like this: \r\n`spring.jackson.serialization.write-dates-as-timestamps=false`\r\nAnd also, I tried to change the properties of `spring.mvc.date`, `spring.mvc.date-time`, `spring.mvc.time`, without success too.","title":"Date Format Spring in milliseconds when it was previously in format : yyyy-MM-dd HH:mm:ss.SSS","body":"<p>I have built my application to Sprint version 2.7.7. Now, when a date is returned by a Controller method, we receive it as a TimeStamp in milliseconds.</p>\n<p>For example this method:</p>\n<pre><code>@PostMapping(&quot;stbClobil&quot;)\npublic Date getClobil(\n        @RequestParam(name = &quot;idBilan&quot;) Integer idBilan, \n        @RequestParam(name = &quot;idDomaine&quot;) Integer idDomaine) {\n    System.out.println( this.stbService.getMaxClobil(idBalance, idDomain));\n    return this.stbService.getMaxClobil(idBalance, idDomain);\n}\n</code></pre>\n<p>Instead of returning this date: <code>2022-01-30T23:00:00.000+00:00</code>, it returns this: <code>1675119600000</code>.</p>\n<p>However, when returning a JSON object with a date attribute, the date is in the correct format.</p>\n<p>I tried to use the <code>@JsonFormat</code>, without success.\nI also tried to change in the properties like this:\n<code>spring.jackson.serialization.write-dates-as-timestamps=false</code>\nAnd also, I tried to change the properties of <code>spring.mvc.date</code>, <code>spring.mvc.date-time</code>, <code>spring.mvc.time</code>, without success too.</p>\n"},{"tags":["java","swing","jframe","jpanel","jbutton"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1678983051,"post_id":75758665,"comment_id":133642434,"body_markdown":"You need to put this in the containing `JFrame` and post as a [mre] that can be compiled and run.  And in general, don&#39;t use `setBounds()` to position components.  Use a layout manager.  I would also define the `JButton` and its `actionListener` outside of the constructor. You might consider making the `actonListener` an inner class.","body":"You need to put this in the containing <code>JFrame</code> and post as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that can be compiled and run.  And in general, don&#39;t use <code>setBounds()</code> to position components.  Use a layout manager.  I would also define the <code>JButton</code> and its <code>actionListener</code> outside of the constructor. You might consider making the <code>actonListener</code> an inner class."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1678983386,"post_id":75758665,"comment_id":133642559,"body_markdown":"I have done those changes, yet there is no difference","body":"I have done those changes, yet there is no difference"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1678984804,"post_id":75758665,"comment_id":133643037,"body_markdown":"to put it more strongly than @WJS - a null layout is __wrong__ (very very near to) always!","body":"to put it more strongly than @WJS - a null layout is <b>wrong</b> (very very near to) always!"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1678984856,"post_id":75758665,"comment_id":133643060,"body_markdown":"@kleopatra well, I didn&#39;t stress that but it&#39;s what I meant.","body":"@kleopatra well, I didn&#39;t stress that but it&#39;s what I meant."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678984919,"post_id":75758665,"comment_id":133643080,"body_markdown":"@WJS yeah ... :))","body":"@WJS yeah ... :))"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678984627,"creation_date":1678983729,"answer_id":75758943,"question_id":75758665,"body_markdown":"Try this.\r\n- I added a private class that implements the actionListener.\r\n- Moved file and button declarations as instance fields.\r\n- Returns the preferred size when `getPreferredSize()` is called.\r\n- added JFrame.pack() to size the components.\r\n\r\nAlso, check out [The Java Tutorials](https://docs.oracle.com/javase/tutorial/index.html) for many examples of using Swing as well as how to paint.\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Desktop;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class FrameDemo extends JPanel {\r\n    JFrame frame = new JFrame();\r\n    JButton b = new JButton();\r\n    String app = &quot;res/files/debugging.jar&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new FrameDemo().start());\r\n    }\r\n\r\n    public void start() {\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        b.setText(&quot;Login&quot;);\r\n        b.addActionListener(new MyActionListener());\r\n        Dimension size = b.getPreferredSize();\r\n        this.setLayout(new FlowLayout());\r\n        add(b);\r\n        this.add(b);\r\n    }\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(600,400);\r\n    }\r\n    public FrameDemo() {\r\n        frame.add(this);\r\n        this.setBackground(Color.darkGray);\r\n        frame.setVisible(true);\r\n        frame.pack();\r\n    }\r\n\r\n    private class MyActionListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent evt) {\r\n            if (app != null) {\r\n                File file = new File(app);\r\n                try {\r\n                    Desktop.getDesktop().open(file);\r\n\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","title":"JButton and JPanel not being shown on JFrame","body":"<p>Try this.</p>\n<ul>\n<li>I added a private class that implements the actionListener.</li>\n<li>Moved file and button declarations as instance fields.</li>\n<li>Returns the preferred size when <code>getPreferredSize()</code> is called.</li>\n<li>added JFrame.pack() to size the components.</li>\n</ul>\n<p>Also, check out <a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a> for many examples of using Swing as well as how to paint.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Desktop;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class FrameDemo extends JPanel {\n    JFrame frame = new JFrame();\n    JButton b = new JButton();\n    String app = &quot;res/files/debugging.jar&quot;;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new FrameDemo().start());\n    }\n\n    public void start() {\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        b.setText(&quot;Login&quot;);\n        b.addActionListener(new MyActionListener());\n        Dimension size = b.getPreferredSize();\n        this.setLayout(new FlowLayout());\n        add(b);\n        this.add(b);\n    }\n    public Dimension getPreferredSize() {\n        return new Dimension(600,400);\n    }\n    public FrameDemo() {\n        frame.add(this);\n        this.setBackground(Color.darkGray);\n        frame.setVisible(true);\n        frame.pack();\n    }\n\n    private class MyActionListener implements ActionListener {\n        public void actionPerformed(ActionEvent evt) {\n            if (app != null) {\n                File file = new File(app);\n                try {\n                    Desktop.getDesktop().open(file);\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75758943,"answer_count":1,"score":-1,"last_activity_date":1678984627,"creation_date":1678982285,"question_id":75758665,"body_markdown":"I have made a program where there is a &quot;login&quot; button at the bottom, this was working fine for sometime before it started not showing background of the JPanel on which the JButton is placed. After trying for sometime I had discovered that the JButton gets displayed **only** when I hover over it.\r\n\r\nI tried excluding specific areas of the code and I realized this glitch occurred when I initialized the variable JButton, even excluding the `addAll();` method (from the code given below) makes the JPanel visible.\r\nThe code is very basic and simple\r\n```\r\npublic Panel() {\r\n\t\tthis.setBackground(Color.darkGray);\r\n\t\tthis.setSize(600,400);\r\n\t\tthis.setVisible(true);\r\n\t\taddAll();\r\n\t}\r\n\r\n\tprivate void addAll() {\r\n\t\tString app = &quot;res/files/debugging.jar&quot;;\r\n\t\tJButton b = new JButton();\r\n\t\t\r\n\t\tb.addActionListener(new ActionListener() {\r\n\r\n\t\t\tpublic void actionPerformed(ActionEvent evt) {\r\n\t\t\t\t if (app!=null) {\r\n\t\t\t\t\t File file = new File(app);\r\n\t\t\t\t\t try {\r\n\t\t\t\t\t\tDesktop.getDesktop().open(file);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t            }});\r\n\t\tb.setText(&quot;Login&quot;);\r\n\t\tDimension size = b.getPreferredSize();\r\n\t\tb.setBounds(250,290,(int)size.getWidth(),(int)size.getHeight());\r\n\t\tthis.setLayout(null);\r\n\t\tthis.add(b);\r\n\t}\r\n```\r\nPanel extends the class JPanel.\r\nThe JFrame being used is provided below\r\n```\r\npublic static void main(String[] args) {\r\n\t\tJFrame frame = new JFrame();\r\n\t\t\r\n\t\t\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setResizable(false);\r\n\t\tframe.setTitle(&quot;Login to your Account&quot;);\r\n\t\t//frame.setIconImage(frameIcon);\r\n\t\tframe.setSize(600,400);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.add(new Panel());\r\n\t}\r\n```","title":"JButton and JPanel not being shown on JFrame","body":"<p>I have made a program where there is a &quot;login&quot; button at the bottom, this was working fine for sometime before it started not showing background of the JPanel on which the JButton is placed. After trying for sometime I had discovered that the JButton gets displayed <strong>only</strong> when I hover over it.</p>\n<p>I tried excluding specific areas of the code and I realized this glitch occurred when I initialized the variable JButton, even excluding the <code>addAll();</code> method (from the code given below) makes the JPanel visible.\nThe code is very basic and simple</p>\n<pre><code>public Panel() {\n        this.setBackground(Color.darkGray);\n        this.setSize(600,400);\n        this.setVisible(true);\n        addAll();\n    }\n\n    private void addAll() {\n        String app = &quot;res/files/debugging.jar&quot;;\n        JButton b = new JButton();\n        \n        b.addActionListener(new ActionListener() {\n\n            public void actionPerformed(ActionEvent evt) {\n                 if (app!=null) {\n                     File file = new File(app);\n                     try {\n                        Desktop.getDesktop().open(file);\n                        \n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                 }\n                }});\n        b.setText(&quot;Login&quot;);\n        Dimension size = b.getPreferredSize();\n        b.setBounds(250,290,(int)size.getWidth(),(int)size.getHeight());\n        this.setLayout(null);\n        this.add(b);\n    }\n</code></pre>\n<p>Panel extends the class JPanel.\nThe JFrame being used is provided below</p>\n<pre><code>public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        \n        \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setTitle(&quot;Login to your Account&quot;);\n        //frame.setIconImage(frameIcon);\n        frame.setSize(600,400);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n        frame.add(new Panel());\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1678980794,"post_id":75758338,"comment_id":133641758,"body_markdown":"you need to join() all your threads otherwise the program will exit after the loop.","body":"you need to join() all your threads otherwise the program will exit after the loop."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":1,"creation_date":1678981006,"post_id":75758338,"comment_id":133641823,"body_markdown":"and you didnt understand what CDL does...you don&#39;t release a CDL, you count down until it reaches 0 and then all threads pass through it. all threads which await() will be blocked, until other threads will reduce the latch to 0. so your program does nothing. all thread are blocked.","body":"and you didnt understand what CDL does...you don&#39;t release a CDL, you count down until it reaches 0 and then all threads pass through it. all threads which await() will be blocked, until other threads will reduce the latch to 0. so your program does nothing. all thread are blocked."},{"owner":{"account_id":1802065,"reputation":123,"user_id":1640135,"display_name":"Karthikeyan"},"score":0,"creation_date":1678981252,"post_id":75758338,"comment_id":133641901,"body_markdown":"I stared learning CDL and i wanted to understand by implementing this sample can you help me out by changing the code so i can get an idea about the CDL.I could not get your solutions on the comment you gave me.","body":"I stared learning CDL and i wanted to understand by implementing this sample can you help me out by changing the code so i can get an idea about the CDL.I could not get your solutions on the comment you gave me."}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678984607,"creation_date":1678984607,"answer_id":75759088,"question_id":75758338,"body_markdown":"There are two types of concurrency structures you need:\r\n\r\n- `CountDownLatch` to track completion of all jobs and \r\n- `Semaphore` to control exclusive access to the limited resource\r\n\r\nSee an example:\r\n\r\n```\r\nprivate static final int NUM_FLIGHTS = 5;\r\nprivate static final int RUNWAY_CAPACITY = 1;\r\n\r\npublic static void main(String[] args) throws InterruptedException {\r\n    Semaphore semaphore = new Semaphore(RUNWAY_CAPACITY);\r\n    CountDownLatch latch = new CountDownLatch(NUM_FLIGHTS);\r\n\r\n    for (int i = 0; i &lt; NUM_FLIGHTS; i++) {\r\n        Runway flight = new Runway(i + 1, semaphore, latch);\r\n        new Thread(flight).start();\r\n    }\r\n    latch.await();\r\n    System.out.println(&quot;All flights have been managed.&quot;);\r\n}\r\n\r\nprivate static class Runway implements Runnable {\r\n    private final int flightNum;\r\n    private final Semaphore semaphore;\r\n    private final CountDownLatch latch;\r\n\r\n    public Runway(int flightNum, Semaphore semaphore, CountDownLatch latch) {\r\n        this.flightNum = flightNum;\r\n        this.semaphore = semaphore;\r\n        this.latch = latch;\r\n    }\r\n\r\n    public void run() {\r\n        try {\r\n            // Wait for runway availability\r\n            semaphore.acquire(1);\r\n\r\n            // Land/take off the flight\r\n            if (flightNum % 2 == 0) {\r\n                System.out.println(&quot;Flight &quot; + flightNum + &quot; is taking off [&quot; + Thread.currentThread().getName() + &quot;]&quot;);\r\n            } else {\r\n                System.out.println(&quot;Flight &quot; + flightNum + &quot; is landing [&quot; + Thread.currentThread().getName() + &quot;]&quot;);\r\n            }\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            // Release the runway\r\n            semaphore.release(1);\r\n\r\n            // Notify main thread about completion\r\n            latch.countDown();\r\n        }\r\n    }\r\n}\r\n```","title":"CountDownLatch for designing a runway","body":"<p>There are two types of concurrency structures you need:</p>\n<ul>\n<li><code>CountDownLatch</code> to track completion of all jobs and</li>\n<li><code>Semaphore</code> to control exclusive access to the limited resource</li>\n</ul>\n<p>See an example:</p>\n<pre><code>private static final int NUM_FLIGHTS = 5;\nprivate static final int RUNWAY_CAPACITY = 1;\n\npublic static void main(String[] args) throws InterruptedException {\n    Semaphore semaphore = new Semaphore(RUNWAY_CAPACITY);\n    CountDownLatch latch = new CountDownLatch(NUM_FLIGHTS);\n\n    for (int i = 0; i &lt; NUM_FLIGHTS; i++) {\n        Runway flight = new Runway(i + 1, semaphore, latch);\n        new Thread(flight).start();\n    }\n    latch.await();\n    System.out.println(&quot;All flights have been managed.&quot;);\n}\n\nprivate static class Runway implements Runnable {\n    private final int flightNum;\n    private final Semaphore semaphore;\n    private final CountDownLatch latch;\n\n    public Runway(int flightNum, Semaphore semaphore, CountDownLatch latch) {\n        this.flightNum = flightNum;\n        this.semaphore = semaphore;\n        this.latch = latch;\n    }\n\n    public void run() {\n        try {\n            // Wait for runway availability\n            semaphore.acquire(1);\n\n            // Land/take off the flight\n            if (flightNum % 2 == 0) {\n                System.out.println(&quot;Flight &quot; + flightNum + &quot; is taking off [&quot; + Thread.currentThread().getName() + &quot;]&quot;);\n            } else {\n                System.out.println(&quot;Flight &quot; + flightNum + &quot; is landing [&quot; + Thread.currentThread().getName() + &quot;]&quot;);\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } finally {\n            // Release the runway\n            semaphore.release(1);\n\n            // Notify main thread about completion\n            latch.countDown();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1802065,"reputation":123,"user_id":1640135,"display_name":"Karthikeyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75759088,"answer_count":1,"score":1,"last_activity_date":1678984607,"creation_date":1678980607,"question_id":75758338,"body_markdown":"I am trying to design a solution for problem using countdownlatch. I have only one runway  the flights landing and takeoff should use that runway while one flight is landing or take off the other flight has to wait still the run is free so it tried to implement it through countdownlatch but it is not working can anyone help to find the issue with the below code.\r\n\r\n```\r\npublic class LandingArrivingFlights {\r\n    private static final int NUM_FLIGHTS = 5;\r\n    private static final int RUNWAY_CAPACITY = 1;\r\n\r\n    public static void main(String[] args) {\r\n        CountDownLatch latch = new CountDownLatch(RUNWAY_CAPACITY);\r\n\r\n        for (int i = 0; i &lt; NUM_FLIGHTS; i++) {\r\n            Runway flight = new Runway(i + 1, latch);\r\n            new Thread(flight).start();\r\n        }\r\n    }\r\n\r\n    private static class Runway implements Runnable {\r\n        private int flightNum;\r\n        private CountDownLatch latch;\r\n\r\n        public Runway(int flightNum, CountDownLatch latch) {\r\n            this.flightNum = flightNum;\r\n            this.latch = latch;\r\n        }\r\n\r\n        public void run() {\r\n            try {\r\n                // Wait for runway availability\r\n                latch.await();\r\n\r\n                // Land/take off the flight\r\n                if (flightNum % 2 == 0) {\r\n                    System.out.println(&quot;Flight &quot; + flightNum + &quot; is taking off.&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Flight &quot; + flightNum + &quot; is landing.&quot;);\r\n                }\r\n\r\n                // Release the runway\r\n                latch.countDown();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"CountDownLatch for designing a runway","body":"<p>I am trying to design a solution for problem using countdownlatch. I have only one runway  the flights landing and takeoff should use that runway while one flight is landing or take off the other flight has to wait still the run is free so it tried to implement it through countdownlatch but it is not working can anyone help to find the issue with the below code.</p>\n<pre><code>public class LandingArrivingFlights {\n    private static final int NUM_FLIGHTS = 5;\n    private static final int RUNWAY_CAPACITY = 1;\n\n    public static void main(String[] args) {\n        CountDownLatch latch = new CountDownLatch(RUNWAY_CAPACITY);\n\n        for (int i = 0; i &lt; NUM_FLIGHTS; i++) {\n            Runway flight = new Runway(i + 1, latch);\n            new Thread(flight).start();\n        }\n    }\n\n    private static class Runway implements Runnable {\n        private int flightNum;\n        private CountDownLatch latch;\n\n        public Runway(int flightNum, CountDownLatch latch) {\n            this.flightNum = flightNum;\n            this.latch = latch;\n        }\n\n        public void run() {\n            try {\n                // Wait for runway availability\n                latch.await();\n\n                // Land/take off the flight\n                if (flightNum % 2 == 0) {\n                    System.out.println(&quot;Flight &quot; + flightNum + &quot; is taking off.&quot;);\n                } else {\n                    System.out.println(&quot;Flight &quot; + flightNum + &quot; is landing.&quot;);\n                }\n\n                // Release the runway\n                latch.countDown();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2684795,"reputation":182440,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1595696387,"post_id":63091009,"comment_id":111566739,"body_markdown":"probably, `for (int i = fis.read(), i &gt;= 0, i = fis.read()) {\n            System.out.print((char) i ); }` is more readable","body":"probably, <code>for (int i = fis.read(), i &gt;= 0, i = fis.read()) {             System.out.print((char) i ); }</code> is more readable"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1595696483,"post_id":63091009,"comment_id":111566767,"body_markdown":"Note that 1) input streams are for reading bytes, not chars: use an `InputStreamReader` if you want to read chars; 2) the read on the variable declaration and immediately following print shouldn&#39;t be there: if the file is empty, the read will yield -1.","body":"Note that 1) input streams are for reading bytes, not chars: use an <code>InputStreamReader</code> if you want to read chars; 2) the read on the variable declaration and immediately following print shouldn&#39;t be there: if the file is empty, the read will yield -1."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1595697297,"post_id":63091009,"comment_id":111566982,"body_markdown":"&quot;why we put i = fis.read() in a parenthesis&quot; because of [operators precedence](https://introcs.cs.princeton.edu/java/11precedence/). Assignment operator `=` has lower precedence than comparison operator `!=` or `==` so if we have code like `a = b == c` it would be interpreted as if it was written like `a = (b == c)` but in case of your example you first want to assign value from `fis.read()` to `i` and then compare it against `-1`.","body":"&quot;why we put i = fis.read() in a parenthesis&quot; because of <a href=\"https://introcs.cs.princeton.edu/java/11precedence/\" rel=\"nofollow noreferrer\">operators precedence</a>. Assignment operator <code>=</code> has lower precedence than comparison operator <code>!=</code> or <code>==</code> so if we have code like <code>a = b == c</code> it would be interpreted as if it was written like <code>a = (b == c)</code> but in case of your example you first want to assign value from <code>fis.read()</code> to <code>i</code> and then compare it against <code>-1</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1595697328,"post_id":63091009,"comment_id":111566991,"body_markdown":"Also your code doesn&#39;t contain `if ((i = fis.read()) != -1)` but `while ((i = fis.read()) != -1)`.","body":"Also your code doesn&#39;t contain <code>if ((i = fis.read()) != -1)</code> but <code>while ((i = fis.read()) != -1)</code>."}],"answers":[{"tags":[],"owner":{"account_id":10032767,"reputation":381,"user_id":7418626,"display_name":"Nima"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595698350,"creation_date":1595696191,"answer_id":63091028,"question_id":63091009,"body_markdown":"**First Question**\r\n\r\nThat means you would continue reading from the stream until you reached the end. When `fis.read()` returns `-1`, that means that you reached the end of the stream and there is no more data to read.\r\n\r\n**Second Question**\r\n\r\n    i = fis.read() != -1\r\n\r\nYou might get the impression that the compiler does not know the proper order of execution and there are two scenarios:\r\n\r\n - We check `fis.read() != -1` (`boolean` result) then assign it to `i`\r\n - We get `fis.read()` and assign it to `i` then check `i != -1`\r\n\r\nBut java has well-defined rules, there is only one because of operator precedence.\r\n\r\nSee the table at:\r\nhttps://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\r\n\r\nAssignment has a lower precedence than `!=`, so definitely the first scenario will happen.\r\nBut that is not what we want. (We don&#39;t want `i` to be the boolean result of `fis.read() != -1`)\r\n\r\nAlso see:\r\nhttps://introcs.cs.princeton.edu/java/11precedence/#:~:text=Java%20has%20well-defined%20rules,be%20overridden%20by%20explicit%20parentheses.\r\n\r\n**&quot;Precedence rules can be overridden by explicit parentheses&quot;**\r\n\r\nSo we explicitly put the parentheses to make sure the statement inside it (`i = fis.read()`) is executed first and the second scenario happens.","title":"what exactly if ((i = fis.read()) != -1) means in this program?","body":"<p><strong>First Question</strong></p>\n<p>That means you would continue reading from the stream until you reached the end. When <code>fis.read()</code> returns <code>-1</code>, that means that you reached the end of the stream and there is no more data to read.</p>\n<p><strong>Second Question</strong></p>\n<pre><code>i = fis.read() != -1\n</code></pre>\n<p>You might get the impression that the compiler does not know the proper order of execution and there are two scenarios:</p>\n<ul>\n<li>We check <code>fis.read() != -1</code> (<code>boolean</code> result) then assign it to <code>i</code></li>\n<li>We get <code>fis.read()</code> and assign it to <code>i</code> then check <code>i != -1</code></li>\n</ul>\n<p>But java has well-defined rules, there is only one because of operator precedence.</p>\n<p>See the table at:\n<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html</a></p>\n<p>Assignment has a lower precedence than <code>!=</code>, so definitely the first scenario will happen.\nBut that is not what we want. (We don't want <code>i</code> to be the boolean result of <code>fis.read() != -1</code>)</p>\n<p>Also see:\n<a href=\"https://introcs.cs.princeton.edu/java/11precedence/#:%7E:text=Java%20has%20well-defined%20rules,be%20overridden%20by%20explicit%20parentheses\" rel=\"nofollow noreferrer\">https://introcs.cs.princeton.edu/java/11precedence/#:~:text=Java%20has%20well-defined%20rules,be%20overridden%20by%20explicit%20parentheses</a>.</p>\n<p><strong>&quot;Precedence rules can be overridden by explicit parentheses&quot;</strong></p>\n<p>So we explicitly put the parentheses to make sure the statement inside it (<code>i = fis.read()</code>) is executed first and the second scenario happens.</p>\n"},{"tags":[],"owner":{"account_id":17581272,"reputation":575,"user_id":12755035,"display_name":"ThRnk"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1595696617,"creation_date":1595696255,"answer_id":63091036,"question_id":63091009,"body_markdown":"It means \r\n\r\n&gt; &quot;read until the find the end of file char&quot;.\r\n\r\nAnd for the second question:\r\n\r\n    while((i = fis.read())!= -1) {\r\n        System.out.print((char) i );\r\n    }\r\n\r\nThe `(i = fis.read())` defines that &quot;i variable&quot; for the print below while check if it&#39;s different from `-1`.","title":"what exactly if ((i = fis.read()) != -1) means in this program?","body":"<p>It means</p>\n<blockquote>\n<p>&quot;read until the find the end of file char&quot;.</p>\n</blockquote>\n<p>And for the second question:</p>\n<pre><code>while((i = fis.read())!= -1) {\n    System.out.print((char) i );\n}\n</code></pre>\n<p>The <code>(i = fis.read())</code> defines that &quot;i variable&quot; for the print below while check if it's different from <code>-1</code>.</p>\n"},{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595696405,"creation_date":1595696405,"answer_id":63091057,"question_id":63091009,"body_markdown":"You can think of `(i = fis.read())!= -1` as doing two separate things.\r\n\r\nFirst `i = fis.read()` is executed. That is, you read a byte from the input stream. If there is nothing to read then i is set to -1.\r\n\r\nSecond this comparison happens: `i != -1` If that is true the loop continues. If that is false the loop ends.","title":"what exactly if ((i = fis.read()) != -1) means in this program?","body":"<p>You can think of <code>(i = fis.read())!= -1</code> as doing two separate things.</p>\n<p>First <code>i = fis.read()</code> is executed. That is, you read a byte from the input stream. If there is nothing to read then i is set to -1.</p>\n<p>Second this comparison happens: <code>i != -1</code> If that is true the loop continues. If that is false the loop ends.</p>\n"},{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1606163889,"creation_date":1595696599,"answer_id":63091099,"question_id":63091009,"body_markdown":"[`FileInputStream`][1] &#39;s `read()` method follows this logic:\r\n\r\n&gt;    *Reads a byte of data from this input stream. \r\n    This method blocks if no input is yet available.*\r\n\r\nThe method will **return**:\r\n\r\n&gt;    *The next byte of data, or -1 if the end of the file is reached.*\r\n\r\nSo `-1` is its flag for the `EOF` check. With this in mind, this code snippet \r\n    \r\n    while((i = fis.read())!= -1) \r\n          System.out.print((char) i);\r\n      \r\nIs telling that:\r\n\r\n **1**. Assign `fis.read()` to the var `i`\r\n\r\n **2a**. If `i != -1`, print the `ASCII char` representing the integer just read from the inputstream, and *continue the loop*.\r\n\r\n **2b**. If `i == -1`, *end the loop* / stop reading, because it reached the end of file.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html#read()","title":"what exactly if ((i = fis.read()) != -1) means in this program?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html#read()\" rel=\"nofollow noreferrer\"><code>FileInputStream</code></a> 's <code>read()</code> method follows this logic:</p>\n<blockquote>\n<p><em>Reads a byte of data from this input stream.\nThis method blocks if no input is yet available.</em></p>\n</blockquote>\n<p>The method will <strong>return</strong>:</p>\n<blockquote>\n<p><em>The next byte of data, or -1 if the end of the file is reached.</em></p>\n</blockquote>\n<p>So <code>-1</code> is its flag for the <code>EOF</code> check. With this in mind, this code snippet</p>\n<pre><code>while((i = fis.read())!= -1) \n      System.out.print((char) i);\n  \n</code></pre>\n<p>Is telling that:</p>\n<p><strong>1</strong>. Assign <code>fis.read()</code> to the var <code>i</code></p>\n<p><strong>2a</strong>. If <code>i != -1</code>, print the <code>ASCII char</code> representing the integer just read from the inputstream, and <em>continue the loop</em>.</p>\n<p><strong>2b</strong>. If <code>i == -1</code>, <em>end the loop</em> / stop reading, because it reached the end of file.</p>\n"}],"owner":{"account_id":18586945,"reputation":39,"user_id":13545083,"display_name":"Rsp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2071,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63091099,"answer_count":4,"score":3,"last_activity_date":1678984157,"creation_date":1595696084,"question_id":63091009,"body_markdown":"   \r\n\r\n    package IO;\r\n    import java.io.*;\r\n    public class test {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tFile f1 = new File(&quot;C:\\\\Users\\\\rs\\\\New folder\\\\myname.txt&quot;);\r\n\t\ttry {\r\n\t\t\tFileInputStream fis = new FileInputStream(f1);\r\n\t\t\tint i = fis.read();\t\t\r\n\t\t\tSystem.out.print((char)i);\r\n\t\t\twhile((i = fis.read())!= -1) {\r\n\t\t\t\tSystem.out.print((char) i );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\r\n\t }\r\n\r\n    }\r\nI am a new java programmer and i have a trouble in this code. This code reads bytes from my file (f1) and I can cast this bytes to char and print them, but something is here that I do not understand and its the condition in my while loop. What it exactly means? I mean what exactly `if ((i = fis.read()) != -1)` means??? And the second question is why we put \r\n`i = fis.read()` in a paranthesis???\r\nMy file has a text (1 line) in it.","title":"what exactly if ((i = fis.read()) != -1) means in this program?","body":"<pre><code>package IO;\nimport java.io.*;\npublic class test {\n\npublic static void main(String[] args) throws IOException {\n    File f1 = new File(&quot;C:\\\\Users\\\\rs\\\\New folder\\\\myname.txt&quot;);\n    try {\n        FileInputStream fis = new FileInputStream(f1);\n        int i = fis.read();     \n        System.out.print((char)i);\n        while((i = fis.read())!= -1) {\n            System.out.print((char) i );\n        }\n        \n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    \n\n }\n\n}\n</code></pre>\n<p>I am a new java programmer and i have a trouble in this code. This code reads bytes from my file (f1) and I can cast this bytes to char and print them, but something is here that I do not understand and its the condition in my while loop. What it exactly means? I mean what exactly <code>if ((i = fis.read()) != -1)</code> means??? And the second question is why we put\n<code>i = fis.read()</code> in a paranthesis???\nMy file has a text (1 line) in it.</p>\n"},{"tags":["java","selenium","selenium-webdriver","wait","predicate"],"answers":[{"tags":[],"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1678983872,"creation_date":1388750938,"answer_id":20903328,"question_id":20903231,"body_markdown":"You need to call `ignoring` with an exception to ignore while the `WebDriver` will wait.\r\n\r\n    FluentWait&lt;WebDriver&gt; fluentWait = new FluentWait&lt;&gt;(driver)\r\n            .withTimeout(30, TimeUnit.SECONDS)\r\n            .pollingEvery(200, TimeUnit.MILLISECONDS)\r\n            .ignoring(NoSuchElementException.class);\r\n\r\nSee the documentation of [FluentWait][1] for more information. But beware that this condition is already implemented in [ExpectedConditions][2], so you should use:\r\n\r\n    WebElement element = (new WebDriverWait(driver, 10))\r\n       .until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\r\n\r\n[*Fewer versions of Selenium][3]:\r\n\r\n    withTimeout(long, TimeUnit) has become withTimeout(Duration)\r\n    pollingEvery(long, TimeUnit) has become pollingEvery(Duration)\r\n\r\nSo the code will look as such:\r\n\r\n```\r\nFluentWait&lt;WebDriver&gt; fluentWait = new FluentWait&lt;&gt;(driver)\r\n        .withTimeout(Duration.ofSeconds(30)\r\n        .pollingEvery(Duration.ofMillis(200)\r\n        .ignoring(NoSuchElementException.class);\r\n```\r\n\r\nA basic tutorial for waiting can be found [here][4].\r\n\r\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html\r\n  [2]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\r\n  [3]: https://seleniumhq.github.io/selenium/docs/api/java/\r\n  [4]: https://www.selenium.dev/documentation/webdriver/waits/\r\n","title":"How to make Selenium wait until an element is present?","body":"<p>You need to call <code>ignoring</code> with an exception to ignore while the <code>WebDriver</code> will wait.</p>\n<pre><code>FluentWait&lt;WebDriver&gt; fluentWait = new FluentWait&lt;&gt;(driver)\n        .withTimeout(30, TimeUnit.SECONDS)\n        .pollingEvery(200, TimeUnit.MILLISECONDS)\n        .ignoring(NoSuchElementException.class);\n</code></pre>\n<p>See the documentation of <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html\" rel=\"nofollow noreferrer\">FluentWait</a> for more information. But beware that this condition is already implemented in <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"nofollow noreferrer\">ExpectedConditions</a>, so you should use:</p>\n<pre><code>WebElement element = (new WebDriverWait(driver, 10))\n   .until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\n</code></pre>\n<p><a href=\"https://seleniumhq.github.io/selenium/docs/api/java/\" rel=\"nofollow noreferrer\">*Fewer versions of Selenium</a>:</p>\n<pre><code>withTimeout(long, TimeUnit) has become withTimeout(Duration)\npollingEvery(long, TimeUnit) has become pollingEvery(Duration)\n</code></pre>\n<p>So the code will look as such:</p>\n<pre><code>FluentWait&lt;WebDriver&gt; fluentWait = new FluentWait&lt;&gt;(driver)\n        .withTimeout(Duration.ofSeconds(30)\n        .pollingEvery(Duration.ofMillis(200)\n        .ignoring(NoSuchElementException.class);\n</code></pre>\n<p>A basic tutorial for waiting can be found <a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":274340,"reputation":480,"user_id":566511,"display_name":"Andrei Solntsev"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1419719639,"creation_date":1419719639,"answer_id":27672065,"question_id":20903231,"body_markdown":"Let me recommend you using [Selenide][1] library. \r\nIt allows writing much more concise and readable tests. It can wait for presence of elements with much shorter syntax:\r\n\r\n    $(&quot;#elementId&quot;).shouldBe(visible);\r\n\r\nHere is a sample project for testing Google search:\r\nhttps://github.com/selenide-examples/google\r\n\r\n\r\n  [1]: http://selenide.org","title":"How to make Selenium wait until an element is present?","body":"<p>Let me recommend you using <a href=\"http://selenide.org\" rel=\"nofollow\">Selenide</a> library. \nIt allows writing much more concise and readable tests. It can wait for presence of elements with much shorter syntax:</p>\n\n<pre><code>$(\"#elementId\").shouldBe(visible);\n</code></pre>\n\n<p>Here is a sample project for testing Google search:\n<a href=\"https://github.com/selenide-examples/google\" rel=\"nofollow\">https://github.com/selenide-examples/google</a></p>\n"},{"tags":[],"owner":{"account_id":8987344,"reputation":119,"user_id":6700507,"display_name":"Ashwini"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1471607643,"creation_date":1471606498,"answer_id":39038067,"question_id":20903231,"body_markdown":"    public WebElement fluientWaitforElement(WebElement element, int timoutSec, int pollingSec) {\r\n    \r\n    \tFluentWait&lt;WebDriver&gt; fWait = new FluentWait&lt;WebDriver&gt;(driver).withTimeout(timoutSec, TimeUnit.SECONDS)\r\n    \t\t.pollingEvery(pollingSec, TimeUnit.SECONDS)\r\n    \t\t.ignoring(NoSuchElementException.class, TimeoutException.class).ignoring(StaleElementReferenceException.class);\r\n    \r\n    \tfor (int i = 0; i &lt; 2; i++) {\r\n    \t    try {\r\n    \t    \t//fWait.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//*[@id=&#39;reportmanager-wrapper&#39;]/div[1]/div[2]/ul/li/span[3]/i[@data-original--title=&#39;We are processing through trillions of data events, this insight may take more than 15 minutes to complete.&#39;]&quot;)));\r\n    \t\tfWait.until(ExpectedConditions.visibilityOf(element));\r\n    \t\tfWait.until(ExpectedConditions.elementToBeClickable(element));\r\n    \t    } catch (Exception e) {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Element Not found trying again - &quot; + element.toString().substring(70));\r\n    \t\te.printStackTrace();\r\n    \r\n    \t    }\r\n    \t}\r\n    \r\n    \treturn element;\r\n    \r\n        }\r\n\r\n","title":"How to make Selenium wait until an element is present?","body":"<pre><code>public WebElement fluientWaitforElement(WebElement element, int timoutSec, int pollingSec) {\n\n    FluentWait&lt;WebDriver&gt; fWait = new FluentWait&lt;WebDriver&gt;(driver).withTimeout(timoutSec, TimeUnit.SECONDS)\n        .pollingEvery(pollingSec, TimeUnit.SECONDS)\n        .ignoring(NoSuchElementException.class, TimeoutException.class).ignoring(StaleElementReferenceException.class);\n\n    for (int i = 0; i &lt; 2; i++) {\n        try {\n            //fWait.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(\"//*[@id='reportmanager-wrapper']/div[1]/div[2]/ul/li/span[3]/i[@data-original--title='We are processing through trillions of data events, this insight may take more than 15 minutes to complete.']\")));\n        fWait.until(ExpectedConditions.visibilityOf(element));\n        fWait.until(ExpectedConditions.elementToBeClickable(element));\n        } catch (Exception e) {\n\n        System.out.println(\"Element Not found trying again - \" + element.toString().substring(70));\n        e.printStackTrace();\n\n        }\n    }\n\n    return element;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4759986,"reputation":529,"user_id":3847595,"accept_rate":67,"display_name":"palandlom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497734948,"creation_date":1497734948,"answer_id":44609539,"question_id":20903231,"body_markdown":"FluentWait throws a NoSuchElementException is case of the confusion\r\n\r\n    org.openqa.selenium.NoSuchElementException;\t\t\r\nwith\r\n\r\n    java.util.NoSuchElementException\r\n\r\nin \r\n\r\n    .ignoring(NoSuchElementException.class)\r\n\r\n","title":"How to make Selenium wait until an element is present?","body":"<p>FluentWait throws a NoSuchElementException is case of the confusion</p>\n\n<pre><code>org.openqa.selenium.NoSuchElementException;     \n</code></pre>\n\n<p>with</p>\n\n<pre><code>java.util.NoSuchElementException\n</code></pre>\n\n<p>in </p>\n\n<pre><code>.ignoring(NoSuchElementException.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10344813,"reputation":191,"user_id":7630101,"display_name":"bhupendra"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1667259950,"creation_date":1526281446,"answer_id":50324722,"question_id":20903231,"body_markdown":"Use:\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 5)\r\n    wait.until(ExpectedConditions.visibilityOf(element));\r\n\r\nYou can use this as some time before loading the whole page, the code gets executed and throws an error. The time is in seconds.\r\n\r\n\r\n\r\n\r\n","title":"How to make Selenium wait until an element is present?","body":"<p>Use:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 5)\nwait.until(ExpectedConditions.visibilityOf(element));\n</code></pre>\n<p>You can use this as some time before loading the whole page, the code gets executed and throws an error. The time is in seconds.</p>\n"}],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260118,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":20903328,"answer_count":5,"score":62,"last_activity_date":1678983872,"creation_date":1388750623,"question_id":20903231,"body_markdown":"I&#39;m trying to make Selenium wait for an element that is dynamically added to the DOM after page load. I tried this:\r\n\r\n    fluentWait.until(ExpectedConditions.presenceOfElement(By.id(&quot;elementId&quot;));\r\n\r\nIn case it helps, here is `fluentWait`:\r\n\r\n    FluentWait fluentWait = new FluentWait&lt;&gt;(webDriver) {\r\n        .withTimeout(30, TimeUnit.SECONDS)\r\n        .pollingEvery(200, TimeUnit.MILLISECONDS);\r\n    }\r\n\r\nBut it throws a `NoSuchElementException`. It looks like `presenceOfElement` expects the element to be there, so this is flawed. This must be bread and butter to Selenium, and I don&#39;t want to reinvent the wheel... Is there an alternative, ideally without rolling my own `Predicate`?\r\n","title":"How to make Selenium wait until an element is present?","body":"<p>I'm trying to make Selenium wait for an element that is dynamically added to the DOM after page load. I tried this:</p>\n<pre><code>fluentWait.until(ExpectedConditions.presenceOfElement(By.id(&quot;elementId&quot;));\n</code></pre>\n<p>In case it helps, here is <code>fluentWait</code>:</p>\n<pre><code>FluentWait fluentWait = new FluentWait&lt;&gt;(webDriver) {\n    .withTimeout(30, TimeUnit.SECONDS)\n    .pollingEvery(200, TimeUnit.MILLISECONDS);\n}\n</code></pre>\n<p>But it throws a <code>NoSuchElementException</code>. It looks like <code>presenceOfElement</code> expects the element to be there, so this is flawed. This must be bread and butter to Selenium, and I don't want to reinvent the wheel... Is there an alternative, ideally without rolling my own <code>Predicate</code>?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679034335,"post_id":75758962,"comment_id":133651671,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"owner":{"account_id":26292922,"reputation":1,"user_id":19959661,"display_name":"Arup Tarafdar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678983850,"creation_date":1678983850,"question_id":75758962,"body_markdown":"I am making a chat app, using Firebase Realtime Database. Now, the username and avatar of the user is saved in another node, and the chat node contains the user_id of the author. Hence, to display the username, I read the user id from the chat node, and then add an event listener for the UserData node. The problem is that the user data listener for the same sender id runs at once, and then the other which messes up the order, grouping message from one user and then the other\r\n\r\n The Code:\r\n```\r\n       DatabaseReference group_chat_reference = uni_ref\r\n                .child(&quot;Spaces&quot;)\r\n                .child(&quot;Space_data&quot;)\r\n                .child(space_name)\r\n                .child(&quot;Group_Chat&quot;);\r\n        Query group_chat_query;\r\n        first_time = false;\r\n        group_chats_arrayList.clear();\r\n        limit_to_last += 50;\r\n        last_item_visible_pos += 50;\r\n        group_chat_query = group_chat_reference.limitToLast(limit_to_last);\r\n\r\n        group_chat_query.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                String message = snapshot.child(&quot;message&quot;).getValue(String.class);\r\n                Long timestamp = snapshot.child(&quot;timestamp&quot;).getValue(Long.class);\r\n                String sender = snapshot.child(&quot;sender&quot;).getValue(String.class);\r\n                DatabaseReference userdata = uni_ref.child(&quot;UserData&quot;)\r\n                        .child(sender);\r\n                System.out.println(&quot;EVENT LISTENER ADDED FOR: &quot; + sender);\r\n                userdata.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        System.out.println(snapshot.child(&quot;Username&quot;).getValue(String.class));\r\n                        boolean date_visible = false, show_profile_pic_and_avatar = false;\r\n                        int avatar = getResources().getIdentifier(snapshot.child(&quot;Avatar&quot;).getValue(String.class), &quot;drawable&quot;, getPackageName());\r\n                        if (group_chats_arrayList.size() == 0 || !date_format.format(group_chats_arrayList.get(group_chats_arrayList.size() - 1).time_stamp).equals(date_format.format(timestamp))) {\r\n                            date_visible = true;\r\n                        }\r\n                        if((group_chats_arrayList.size() != 0) &amp;&amp; (!group_chats_arrayList.get(group_chats_arrayList.size() - 1).sender_uid.equals(FirebaseAuth.getInstance().getUid()) || !group_chats_arrayList.get(group_chats_arrayList.size() - 1).sender_uid.equals(sender))){\r\n                            show_profile_pic_and_avatar = true;\r\n                        }\r\n                        group_chats_arrayList.add(new Model_Chat_Inside(message, sender, timestamp, date_visible, snapshot.child(&quot;Username&quot;).getValue(String.class), avatar, show_profile_pic_and_avatar, true));\r\n                        adapter.notifyItemInserted(group_chats_arrayList.size());\r\n                        if (fab.getVisibility() != View.VISIBLE) {\r\n                            recyclerView.scrollToPosition(group_chats_arrayList.size() - 1);\r\n                        }\r\n                        else{\r\n                            recyclerView.scrollToPosition(last_item_visible_pos);\r\n                        }\r\n                        userdata.removeEventListener(this);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n```\r\n\r\nThe output should be:\r\n\r\n&gt; user1: Hey how are you!\r\n&gt; \r\n&gt; user2: I am fine what about you??\r\n&gt; \r\n&gt; user2: A nice weather innit\r\n&gt; \r\n&gt; user1: Yeah sure it is \r\n&gt; \r\n&gt; user2: Alright see ya later\r\n&gt; \r\n&gt; user1: Bye\r\n\r\nThe output that I am getting:\r\n&gt; user1: Hey how are you!\r\n&gt; \r\n&gt; user1: Yeah sure it is \r\n&gt; \r\n&gt; user1: Bye\r\n&gt; \r\n&gt; user2: I am fine what about you??\r\n&gt; \r\n&gt; user2: A nice weather innit\r\n&gt; \r\n&gt; user2: Alright see ya later\r\n\r\nIs there a way I can adjust what I have to achieve the output that I desire?","title":"ValueEventListener for the same node runs at once when called one after other, resulting in jumbled output","body":"<p>I am making a chat app, using Firebase Realtime Database. Now, the username and avatar of the user is saved in another node, and the chat node contains the user_id of the author. Hence, to display the username, I read the user id from the chat node, and then add an event listener for the UserData node. The problem is that the user data listener for the same sender id runs at once, and then the other which messes up the order, grouping message from one user and then the other</p>\n<p>The Code:</p>\n<pre><code>       DatabaseReference group_chat_reference = uni_ref\n                .child(&quot;Spaces&quot;)\n                .child(&quot;Space_data&quot;)\n                .child(space_name)\n                .child(&quot;Group_Chat&quot;);\n        Query group_chat_query;\n        first_time = false;\n        group_chats_arrayList.clear();\n        limit_to_last += 50;\n        last_item_visible_pos += 50;\n        group_chat_query = group_chat_reference.limitToLast(limit_to_last);\n\n        group_chat_query.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                String message = snapshot.child(&quot;message&quot;).getValue(String.class);\n                Long timestamp = snapshot.child(&quot;timestamp&quot;).getValue(Long.class);\n                String sender = snapshot.child(&quot;sender&quot;).getValue(String.class);\n                DatabaseReference userdata = uni_ref.child(&quot;UserData&quot;)\n                        .child(sender);\n                System.out.println(&quot;EVENT LISTENER ADDED FOR: &quot; + sender);\n                userdata.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        System.out.println(snapshot.child(&quot;Username&quot;).getValue(String.class));\n                        boolean date_visible = false, show_profile_pic_and_avatar = false;\n                        int avatar = getResources().getIdentifier(snapshot.child(&quot;Avatar&quot;).getValue(String.class), &quot;drawable&quot;, getPackageName());\n                        if (group_chats_arrayList.size() == 0 || !date_format.format(group_chats_arrayList.get(group_chats_arrayList.size() - 1).time_stamp).equals(date_format.format(timestamp))) {\n                            date_visible = true;\n                        }\n                        if((group_chats_arrayList.size() != 0) &amp;&amp; (!group_chats_arrayList.get(group_chats_arrayList.size() - 1).sender_uid.equals(FirebaseAuth.getInstance().getUid()) || !group_chats_arrayList.get(group_chats_arrayList.size() - 1).sender_uid.equals(sender))){\n                            show_profile_pic_and_avatar = true;\n                        }\n                        group_chats_arrayList.add(new Model_Chat_Inside(message, sender, timestamp, date_visible, snapshot.child(&quot;Username&quot;).getValue(String.class), avatar, show_profile_pic_and_avatar, true));\n                        adapter.notifyItemInserted(group_chats_arrayList.size());\n                        if (fab.getVisibility() != View.VISIBLE) {\n                            recyclerView.scrollToPosition(group_chats_arrayList.size() - 1);\n                        }\n                        else{\n                            recyclerView.scrollToPosition(last_item_visible_pos);\n                        }\n                        userdata.removeEventListener(this);\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n            }\n\n            @Override\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n            }\n\n            @Override\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n</code></pre>\n<p>The output should be:</p>\n<blockquote>\n<p>user1: Hey how are you!</p>\n<p>user2: I am fine what about you??</p>\n<p>user2: A nice weather innit</p>\n<p>user1: Yeah sure it is</p>\n<p>user2: Alright see ya later</p>\n<p>user1: Bye</p>\n</blockquote>\n<p>The output that I am getting:</p>\n<blockquote>\n<p>user1: Hey how are you!</p>\n<p>user1: Yeah sure it is</p>\n<p>user1: Bye</p>\n<p>user2: I am fine what about you??</p>\n<p>user2: A nice weather innit</p>\n<p>user2: Alright see ya later</p>\n</blockquote>\n<p>Is there a way I can adjust what I have to achieve the output that I desire?</p>\n"},{"tags":["java","queue","executorservice"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1678984723,"post_id":75758937,"comment_id":133643001,"body_markdown":"Your elements are not expiring (we have no way to check from your code snippet) or you are processing them slower than they are being added (...). Possibly both.","body":"Your elements are not expiring (we have no way to check from your code snippet) or you are processing them slower than they are being added (...). Possibly both."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1678984914,"post_id":75758937,"comment_id":133643078,"body_markdown":"Add a bit of logging after the `take` and see if anything expires at all.","body":"Add a bit of logging after the <code>take</code> and see if anything expires at all."}],"owner":{"account_id":1582951,"reputation":67,"user_id":1467889,"display_name":"Alberto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678983684,"creation_date":1678983684,"question_id":75758937,"body_markdown":"I&#39;ve been trying to identify if this section of code is the cause of an application running out of memory, as is proposed by a MAT report.\r\n\r\n&gt; One instance of java.util.concurrent.DelayQueue loaded by &lt;system class loader&gt; occupies 10,866,002,360 (22.41%) bytes. \r\n\r\nin summary the code snippet is \r\n\r\n    private final ExecutorService timerExecutor = Executors.newSingleThreadExecutor(timerThreadFactory);\r\n    private final ExecutorService responseHandlerExecutor = Executors.newCachedThreadPool(responseHandlerThreadFactory);\r\n    \r\n    timerExecutor.execute(() -&gt; {\r\n                    while (true) {\r\n                        try {\r\n                            ResponseCallback responseCb = delayQueue.take();\r\n                            if (!responseCb.isProcessed()) {\r\n                                LOG.warn(&quot;RPC request with id {} timedout &quot;, responseCb.getRpcId());\r\n                                responseHandlerExecutor.execute(() -&gt; responseCb.sendResponse(null));\r\n                            }\r\n                        } catch (InterruptedException e) {\r\n                            LOG.info(&quot;interrupted while waiting for an element from delayQueue&quot;, e);\r\n                            break;\r\n                        } catch (Exception e) {\r\n                            LOG.warn(&quot;error while sending response from timeout handler&quot;, e);\r\n                        }\r\n                    }\r\n                });\r\n\r\nAnother report from a profiler mentions  that most memory allocation where made by one thread from responseHandlerExecutor\r\n\r\nTo me this doesn&#39;t look obvious. Not sure if someone could give me some insight.\r\n","title":"Running out of memory with DelayQueue","body":"<p>I've been trying to identify if this section of code is the cause of an application running out of memory, as is proposed by a MAT report.</p>\n<blockquote>\n<p>One instance of java.util.concurrent.DelayQueue loaded by  occupies 10,866,002,360 (22.41%) bytes.</p>\n</blockquote>\n<p>in summary the code snippet is</p>\n<pre><code>private final ExecutorService timerExecutor = Executors.newSingleThreadExecutor(timerThreadFactory);\nprivate final ExecutorService responseHandlerExecutor = Executors.newCachedThreadPool(responseHandlerThreadFactory);\n\ntimerExecutor.execute(() -&gt; {\n                while (true) {\n                    try {\n                        ResponseCallback responseCb = delayQueue.take();\n                        if (!responseCb.isProcessed()) {\n                            LOG.warn(&quot;RPC request with id {} timedout &quot;, responseCb.getRpcId());\n                            responseHandlerExecutor.execute(() -&gt; responseCb.sendResponse(null));\n                        }\n                    } catch (InterruptedException e) {\n                        LOG.info(&quot;interrupted while waiting for an element from delayQueue&quot;, e);\n                        break;\n                    } catch (Exception e) {\n                        LOG.warn(&quot;error while sending response from timeout handler&quot;, e);\n                    }\n                }\n            });\n</code></pre>\n<p>Another report from a profiler mentions  that most memory allocation where made by one thread from responseHandlerExecutor</p>\n<p>To me this doesn't look obvious. Not sure if someone could give me some insight.</p>\n"},{"tags":["java","log4j","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1642101514,"post_id":70681866,"comment_id":124988979,"body_markdown":"The documentation says a system property https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j1.2Bridge.","body":"The documentation says a system property <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j1.2Bridge\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646950348,"post_id":70681866,"comment_id":126257232,"body_markdown":"Does this answer your question? [Setting system properties for Log4j in Tomcat](https://stackoverflow.com/questions/70843538/setting-system-properties-for-log4j-in-tomcat)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70843538/setting-system-properties-for-log4j-in-tomcat\">Setting system properties for Log4j in Tomcat</a>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646950454,"post_id":70681866,"comment_id":126257256,"body_markdown":"Basically since Log4j 2.10 _&quot;system property&quot;_ refers to any property source (cf. [documentation](https://logging.apache.org/log4j/2.x/manual/configuration.html#SystemProperties)).","body":"Basically since Log4j 2.10 <i>&quot;system property&quot;</i> refers to any property source (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#SystemProperties\" rel=\"nofollow noreferrer\">documentation</a>)."}],"answers":[{"tags":[],"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678983596,"creation_date":1646935015,"answer_id":71428722,"question_id":70681866,"body_markdown":"You can set it via the command line when you run your program.  E.g. `java -Dlog4j1.compatibility=&quot;true&quot; myapp`.  \r\n\r\nSee https://www.ibm.com/docs/en/i/7.4?topic=java-system-properties\r\n\r\nIf you use gradle you can include it in  gradle.properties.  \r\nhttps://javabydeveloper.com/gradle-system-properties-via-command-line-step-by-step-example/\r\n","title":"where to add system property log4j1.compatibility=true in log4j","body":"<p>You can set it via the command line when you run your program.  E.g. <code>java -Dlog4j1.compatibility=&quot;true&quot; myapp</code>.</p>\n<p>See <a href=\"https://www.ibm.com/docs/en/i/7.4?topic=java-system-properties\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/i/7.4?topic=java-system-properties</a></p>\n<p>If you use gradle you can include it in  gradle.properties.<br />\n<a href=\"https://javabydeveloper.com/gradle-system-properties-via-command-line-step-by-step-example/\" rel=\"nofollow noreferrer\">https://javabydeveloper.com/gradle-system-properties-via-command-line-step-by-step-example/</a></p>\n"}],"owner":{"account_id":23754979,"reputation":63,"user_id":17771205,"display_name":"Pradeep Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678983596,"creation_date":1641991803,"question_id":70681866,"body_markdown":" I am using wildfly22 with log4j.properties file \r\n\r\n    where we need to add  system property value -\r\n    log4j1.compatibility=true.\r\n    \r\n    any help is appreciated.\r\n    thanks.\r\n   \r\n   \r\n     ","title":"where to add system property log4j1.compatibility=true in log4j","body":"<p>I am using wildfly22 with log4j.properties file</p>\n<pre><code>where we need to add  system property value -\nlog4j1.compatibility=true.\n\nany help is appreciated.\nthanks.\n\n\n \n</code></pre>\n"},{"tags":["java","android","minimize","onbackpressed"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":1,"creation_date":1678983212,"post_id":75753756,"comment_id":133642495,"body_markdown":"From your extremely limited description, maybe you&#39;re looking for Picture-in-Picture: https://developer.android.com/develop/ui/views/picture-in-picture","body":"From your extremely limited description, maybe you&#39;re looking for Picture-in-Picture: <a href=\"https://developer.android.com/develop/ui/views/picture-in-picture\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/picture-in-picture</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1678987533,"post_id":75753756,"comment_id":133643826,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":27811853,"reputation":323,"user_id":21234100,"display_name":"WebDesk Solution"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678977425,"creation_date":1678977425,"answer_id":75757748,"question_id":75753756,"body_markdown":"The code below demonstrates how to emulate the home button press when the user presses the back button, and in my opinion, treating the back event as a home event is necessary.\r\n\r\n     public void minimizeApp() \r\n     {\r\n        Intent startMain = new Intent(Intent.ACTION_MAIN);\r\n        startMain.addCategory(Intent.CATEGORY_HOME);\r\n        startMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startActivity(startMain);\r\n     }","title":"How to minimize app on pressing back button or home button in android","body":"<p>The code below demonstrates how to emulate the home button press when the user presses the back button, and in my opinion, treating the back event as a home event is necessary.</p>\n<pre><code> public void minimizeApp() \n {\n    Intent startMain = new Intent(Intent.ACTION_MAIN);\n    startMain.addCategory(Intent.CATEGORY_HOME);\n    startMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    startActivity(startMain);\n }\n</code></pre>\n"}],"owner":{"account_id":24292647,"reputation":1,"user_id":18237371,"display_name":"Sita Soni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678983230,"creation_date":1678956021,"question_id":75753756,"body_markdown":"I want to show app in particular  size on pressing back button or home button.","title":"How to minimize app on pressing back button or home button in android","body":"<p>I want to show app in particular  size on pressing back button or home button.</p>\n"},{"tags":["java","post","httpurlconnection","serversocket"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679028118,"post_id":75758846,"comment_id":133650908,"body_markdown":"(1) Why does your client want to use the `http` protocol to connect to your server? (2) Does your server use the Http protocol? (3) I don&#39;t see any http implementation on your server. (4) Please stop using the http protocol to connect to your server. (5) The easiest way to test your server is to open a terminal and execute the command `telnet 127.0.0.1 9876`.","body":"(1) Why does your client want to use the <code>http</code> protocol to connect to your server? (2) Does your server use the Http protocol? (3) I don&#39;t see any http implementation on your server. (4) Please stop using the http protocol to connect to your server. (5) The easiest way to test your server is to open a terminal and execute the command <code>telnet 127.0.0.1 9876</code>."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679028725,"post_id":75758846,"comment_id":133650995,"body_markdown":"if you want write a simple http server yourself, you can reference this `Create a Simple Web Server in Java (1) - HTTP Server`(https://www.codeproject.com/Tips/1040097/Create-a-Simple-Web-Server-in-Java-HTTP-Server)","body":"if you want write a simple http server yourself, you can reference this <code>Create a Simple Web Server in Java (1) - HTTP Server</code>(<a href=\"https://www.codeproject.com/Tips/1040097/Create-a-Simple-Web-Server-in-Java-HTTP-Server\" rel=\"nofollow noreferrer\">codeproject.com/Tips/1040097/&hellip;</a>)"}],"owner":{"account_id":28024924,"reputation":9,"user_id":21405109,"display_name":"Giovanni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678983164,"creation_date":1678983164,"question_id":75758846,"body_markdown":"I&#39;m trying to configure a system client-server.\r\nThe server uses a java server socket, and the client uses and http url connection to connect to the server.\r\n\r\n\r\nThe code of the server is:\r\n\r\n```\r\nprivate static ServerSocket server;\r\nprivate static int port = 9876;\r\nserver = new ServerSocket(port);\r\nwhile(true){\r\n    System.out.println(&quot;Waiting for the client request&quot;);\r\n    Socket socket = server.accept();\r\n    InputStream inputStream = socket.getInputStream();\r\n    ObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\r\n\r\n    Object object = objectInputStream.readObject();\r\n    if (object instanceof String) {\r\n        String payload = (String) object;\r\n        System.out.println(&quot;Payload received from client: &quot; + payload);\r\n    }\r\nsocket.close();\r\n```\r\n\r\n\r\n\r\nThe code of the client is:\r\n\r\n```\r\nint serverPort = 9876;\r\nString serverURL = &quot;http://localhost:&quot; + serverPort;\r\nObject payload = &quot;Test payload&quot;;\r\nHttpURLConnection connection = null;\r\n\r\ntry {\r\n    URL url = new URL(serverURL);\r\n    connection = (HttpURLConnection) url.openConnection();\r\n    connection.setDoInput(true);\r\n    connection.setDoOutput(true);\r\n\r\n    connection.setRequestMethod(&quot;POST&quot;);\r\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n\r\n    OutputStream outputStream = connection.getOutputStream();\r\n    ObjectOutputStream objectOutputStream = new ObjectOutputStream(outputStream);\r\n\r\n    objectOutputStream.writeObject(payload);\r\n    objectOutputStream.flush();\r\n    objectOutputStream.close();\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n} finally {\r\n    if (connection != null) {\r\n        connection.disconnect();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThe error returned by the system is: java.io.EOFException in this line:    \r\nObjectInputStream objectInputStream = new ObjectInputStream(inputStream).\r\nWhat could be the probelm?\r\nThank you for your time!\r\n\r\n\r\nI tried to use different functions to read the stream, but I need to use the class ObjectInputStream.\r\nUsing that, it doesn&#39;t work. ","title":"Sending POST request using http url connection java","body":"<p>I'm trying to configure a system client-server.\nThe server uses a java server socket, and the client uses and http url connection to connect to the server.</p>\n<p>The code of the server is:</p>\n<pre><code>private static ServerSocket server;\nprivate static int port = 9876;\nserver = new ServerSocket(port);\nwhile(true){\n    System.out.println(&quot;Waiting for the client request&quot;);\n    Socket socket = server.accept();\n    InputStream inputStream = socket.getInputStream();\n    ObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\n\n    Object object = objectInputStream.readObject();\n    if (object instanceof String) {\n        String payload = (String) object;\n        System.out.println(&quot;Payload received from client: &quot; + payload);\n    }\nsocket.close();\n</code></pre>\n<p>The code of the client is:</p>\n<pre><code>int serverPort = 9876;\nString serverURL = &quot;http://localhost:&quot; + serverPort;\nObject payload = &quot;Test payload&quot;;\nHttpURLConnection connection = null;\n\ntry {\n    URL url = new URL(serverURL);\n    connection = (HttpURLConnection) url.openConnection();\n    connection.setDoInput(true);\n    connection.setDoOutput(true);\n\n    connection.setRequestMethod(&quot;POST&quot;);\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n\n    OutputStream outputStream = connection.getOutputStream();\n    ObjectOutputStream objectOutputStream = new ObjectOutputStream(outputStream);\n\n    objectOutputStream.writeObject(payload);\n    objectOutputStream.flush();\n    objectOutputStream.close();\n} catch (IOException e) {\n    e.printStackTrace();\n} finally {\n    if (connection != null) {\n        connection.disconnect();\n        }\n    }\n}\n</code></pre>\n<p>The error returned by the system is: java.io.EOFException in this line:<br />\nObjectInputStream objectInputStream = new ObjectInputStream(inputStream).\nWhat could be the probelm?\nThank you for your time!</p>\n<p>I tried to use different functions to read the stream, but I need to use the class ObjectInputStream.\nUsing that, it doesn't work.</p>\n"},{"tags":["java","database","system-design","bloom-filter"],"comments":[{"owner":{"account_id":11360961,"reputation":647,"user_id":8408137,"display_name":"fshabashev"},"score":0,"creation_date":1678703903,"post_id":75720376,"comment_id":133578668,"body_markdown":"why don&#39;t you just use indexes?","body":"why don&#39;t you just use indexes?"},{"owner":{"account_id":16211503,"reputation":197,"user_id":11705388,"display_name":"Alex Sparrow"},"score":0,"creation_date":1678776370,"post_id":75720376,"comment_id":133594255,"body_markdown":"@fshabashev: I agree with your point. Can I use it without an indexing column?\nI want to search name or email","body":"@fshabashev: I agree with your point. Can I use it without an indexing column? I want to search name or email"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678982284,"post_id":75720376,"comment_id":133642215,"body_markdown":"It doesn&#39;t have to search all 40 million entries. If using binary search, the correct entry can be determined to exist or not exist with ~26 comparisons. Why do you think that the database would have to search through all entries?","body":"It doesn&#39;t have to search all 40 million entries. If using binary search, the correct entry can be determined to exist or not exist with ~26 comparisons. Why do you think that the database would have to search through all entries?"}],"answers":[{"tags":[],"owner":{"account_id":1096969,"reputation":1372,"user_id":6997699,"display_name":"AndrewR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678982096,"creation_date":1678982096,"answer_id":75758622,"question_id":75720376,"body_markdown":"Traditional approach is to build an index on data and do look ups there. That will give you sub linear lookup time (in big O notation terms).\r\n\r\nEven with sub linear time, you still may get some meaningful gains with a bloom filter. If there are many lookup for non existing records, then a bloom filter will be a cheap approach to terminate those lookups early.\r\n\r\nOverall, having an index and/or a bloom filter adds complexity to your system; this is where I would explore how the system performs around given requirements.","title":"Can I use Bloom Filters in searching?","body":"<p>Traditional approach is to build an index on data and do look ups there. That will give you sub linear lookup time (in big O notation terms).</p>\n<p>Even with sub linear time, you still may get some meaningful gains with a bloom filter. If there are many lookup for non existing records, then a bloom filter will be a cheap approach to terminate those lookups early.</p>\n<p>Overall, having an index and/or a bloom filter adds complexity to your system; this is where I would explore how the system performs around given requirements.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678982952,"creation_date":1678982952,"answer_id":75758796,"question_id":75720376,"body_markdown":"If a key is added to a Bloom filter, the filter will not falsely report that it is absent in later queries. However, if a key is never added to a Bloom filter, the filter may falsely report its presence. In other words, you won&#39;t get false negatives, but you may get false positives. This probability of a false positive depends on the size of the filter. This doesn&#39;t seem like a huge problem; there is only a small chance of doing a search unnecessarily, and in the end, you get the correct result either way.\r\n\r\nHowever, you say that your user IDs are stored in a &quot;table&quot; in a &quot;database.&quot; If it&#39;s an indexed field in a relational database, you should be able to test for its presence in O(log(n)) time; for 40 million entries, this is on the order of 25 operations, and I would expect this time to be dwarfed by overhead like network traffic. And, with this approach, the index search can easily result in additional information, like the user record, while a Bloom filter check can&#39;t associate values with a key.\r\n\r\nSo, my recommendation would be to use something that supports a traditional index, and avoid the novelty of a Bloom filter for this. I would look for alternatives only when supported by profiling metrics that show that lookup misses are a bottleneck.","title":"Can I use Bloom Filters in searching?","body":"<p>If a key is added to a Bloom filter, the filter will not falsely report that it is absent in later queries. However, if a key is never added to a Bloom filter, the filter may falsely report its presence. In other words, you won't get false negatives, but you may get false positives. This probability of a false positive depends on the size of the filter. This doesn't seem like a huge problem; there is only a small chance of doing a search unnecessarily, and in the end, you get the correct result either way.</p>\n<p>However, you say that your user IDs are stored in a &quot;table&quot; in a &quot;database.&quot; If it's an indexed field in a relational database, you should be able to test for its presence in O(log(n)) time; for 40 million entries, this is on the order of 25 operations, and I would expect this time to be dwarfed by overhead like network traffic. And, with this approach, the index search can easily result in additional information, like the user record, while a Bloom filter check can't associate values with a key.</p>\n<p>So, my recommendation would be to use something that supports a traditional index, and avoid the novelty of a Bloom filter for this. I would look for alternatives only when supported by profiling metrics that show that lookup misses are a bottleneck.</p>\n"}],"owner":{"account_id":16211503,"reputation":197,"user_id":11705388,"display_name":"Alex Sparrow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1678982952,"creation_date":1678701799,"question_id":75720376,"body_markdown":"I have a single table in my database that contains 40 million user data entries. My goal is to determine whether a user is present or not, based on their unique ID.\r\n\r\nHowever, if I were to provide an incorrect ID, the database would search through all 40 million entries before returning an empty result set.\r\n\r\nTo optimize this process, I am considering not checking the database at all if the user ID is not present in the database. This would help to reduce the number of unnecessary queries made to the database. \r\n\r\nWould it be possible to use a bloom filter in this case?","title":"Can I use Bloom Filters in searching?","body":"<p>I have a single table in my database that contains 40 million user data entries. My goal is to determine whether a user is present or not, based on their unique ID.</p>\n<p>However, if I were to provide an incorrect ID, the database would search through all 40 million entries before returning an empty result set.</p>\n<p>To optimize this process, I am considering not checking the database at all if the user ID is not present in the database. This would help to reduce the number of unnecessary queries made to the database.</p>\n<p>Would it be possible to use a bloom filter in this case?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1399784469,"post_id":23589058,"comment_id":36205337,"body_markdown":"Your post is confusing. Of course, `==` is enough if you are really talking about **variables**. What is the real scenario?","body":"Your post is confusing. Of course, <code>==</code> is enough if you are really talking about <b>variables</b>. What is the real scenario?"},{"owner":{"account_id":1777742,"reputation":583,"user_id":1621190,"display_name":"Newyacht Zhang"},"score":0,"creation_date":1399784475,"post_id":23589058,"comment_id":36205339,"body_markdown":"the java doc does not answer this question.","body":"the java doc does not answer this question."},{"owner":{"account_id":173890,"reputation":30412,"user_id":402884,"accept_rate":75,"display_name":"Chris Martin"},"score":1,"creation_date":1399784916,"post_id":23589058,"comment_id":36205418,"body_markdown":"The presence of `==` on `Object`s is tantamount to a bug in Java. Occasions for its use are rare.","body":"The presence of <code>==</code> on <code>Object</code>s is tantamount to a bug in Java. Occasions for its use are rare."},{"owner":{"account_id":2029833,"reputation":11611,"user_id":1813853,"display_name":"Chris Hayes"},"score":1,"creation_date":1399785171,"post_id":23589058,"comment_id":36205471,"body_markdown":"You *could* use `==` for UUIDs, but only if you had some very strong guarantees about how they&#39;re used (never created via deserialization; never copied; never provided by any outside code). It&#39;s not worth it. Use `.equals`.","body":"You <i>could</i> use <code>==</code> for UUIDs, but only if you had some very strong guarantees about how they&#39;re used (never created via deserialization; never copied; never provided by any outside code). It&#39;s not worth it. Use <code>.equals</code>."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1399784695,"creation_date":1399784695,"answer_id":23589114,"question_id":23589058,"body_markdown":"Well...no.\r\n\r\n`==` against an object checks for reference equality.  That is, it checks to see if these two objects are literally the same spot in memory.\r\n\r\n`.equals()` will check for actual object equivalence.  And, the [Javadoc for `UUID`](http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html#compareTo(java.util.UUID)) goes into great detail to explain when two `UUID` instances are equivalent.","title":"To compare UUID, can I use == or have to use UUID.equals(UUID)?","body":"<p>Well...no.</p>\n\n<p><code>==</code> against an object checks for reference equality.  That is, it checks to see if these two objects are literally the same spot in memory.</p>\n\n<p><code>.equals()</code> will check for actual object equivalence.  And, the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html#compareTo%28java.util.UUID%29\" rel=\"noreferrer\">Javadoc for <code>UUID</code></a> goes into great detail to explain when two <code>UUID</code> instances are equivalent.</p>\n"},{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1651918810,"creation_date":1399788539,"answer_id":23589523,"question_id":23589058,"body_markdown":"It depends: which type of equality do you want?\r\n\r\n    UUID a = new UUID(12345678, 87654321);\r\n    UUID b = new UUID(12345678, 87654321);\r\n    UUID c = new UUID(11111111, 22222222);\r\n\r\n    System.out.println(a == a); // returns true\r\n    System.out.println(a.equals(a)); // returns true\r\n\r\n    System.out.println(a == b); // returns false\r\n    System.out.println(a.equals(b)); // returns true\r\n\r\n    System.out.println(a == c); // returns false\r\n    System.out.println(a.equals(c)); // returns false\r\n\r\n`a == b` is true only if `a` and `b` are the same object. If they are two identical objects, it will still be false.\r\n\r\n`a.equals(b)` is true if `a` and `b` are the same UUID value - if their two parts are the same.\r\n\r\nIt&#39;s a rhetorical question, by the way. Almost always you want `.equals`. There isn&#39;t much use for `==` with UUIDs.","title":"To compare UUID, can I use == or have to use UUID.equals(UUID)?","body":"<p>It depends: which type of equality do you want?</p>\n<pre><code>UUID a = new UUID(12345678, 87654321);\nUUID b = new UUID(12345678, 87654321);\nUUID c = new UUID(11111111, 22222222);\n\nSystem.out.println(a == a); // returns true\nSystem.out.println(a.equals(a)); // returns true\n\nSystem.out.println(a == b); // returns false\nSystem.out.println(a.equals(b)); // returns true\n\nSystem.out.println(a == c); // returns false\nSystem.out.println(a.equals(c)); // returns false\n</code></pre>\n<p><code>a == b</code> is true only if <code>a</code> and <code>b</code> are the same object. If they are two identical objects, it will still be false.</p>\n<p><code>a.equals(b)</code> is true if <code>a</code> and <code>b</code> are the same UUID value - if their two parts are the same.</p>\n<p>It's a rhetorical question, by the way. Almost always you want <code>.equals</code>. There isn't much use for <code>==</code> with UUIDs.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600636731,"creation_date":1600636731,"answer_id":63983775,"question_id":23589058,"body_markdown":"Uncommonly they are no flyweight objects because of bad ood (and wont be for compatibility reasons)! So, its a mind-trap.\r\n\r\nOnly in flyweight objects who provide a static-factory-method to create instances only you can be quite sure take usage of `==` instead of `.equals(`. Unfortunately because you have a public constructor its no flyweight-pattern.\r\n\r\nThis means you indeed have to use `.equals(`.","title":"To compare UUID, can I use == or have to use UUID.equals(UUID)?","body":"<p>Uncommonly they are no flyweight objects because of bad ood (and wont be for compatibility reasons)! So, its a mind-trap.</p>\n<p>Only in flyweight objects who provide a static-factory-method to create instances only you can be quite sure take usage of <code>==</code> instead of <code>.equals(</code>. Unfortunately because you have a public constructor its no flyweight-pattern.</p>\n<p>This means you indeed have to use <code>.equals(</code>.</p>\n"},{"tags":[],"owner":{"account_id":25597204,"reputation":1,"user_id":19372761,"display_name":"Nisarg Mistry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655738572,"creation_date":1655709699,"answer_id":72683526,"question_id":23589058,"body_markdown":"The `equals()` method of `UUID` class in Java is used to check for the equality of one UUID with another. The method returns `true` if both the UUIDs are exactly identical bit by bit.\r\n\r\nSyntax:\r\n\r\n```java\r\npublic boolean equals(Object uuidObj)\r\n```","title":"To compare UUID, can I use == or have to use UUID.equals(UUID)?","body":"<p>The <code>equals()</code> method of <code>UUID</code> class in Java is used to check for the equality of one UUID with another. The method returns <code>true</code> if both the UUIDs are exactly identical bit by bit.</p>\n<p>Syntax:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean equals(Object uuidObj)\n</code></pre>\n"}],"owner":{"account_id":1777742,"reputation":583,"user_id":1621190,"display_name":"Newyacht Zhang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53249,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":23589523,"answer_count":4,"score":58,"last_activity_date":1678982738,"creation_date":1399784200,"question_id":23589058,"body_markdown":"Just start using `java.util.UUID`. My question is if I have two UUID variables, say u1 and u2, and I would like to check if they are equal, can I safely use expression `u1 == u2` or have to write `u1.equals(u2)`? assuming both are not null. \r\n\r\nBTW, I am using its `randomUUID` method to create new UUID values, but I think this should not be matter. \r\nI wonder as UUID is unique, each value could be a singleton, then it is safe to use `u1 == u2`.  \r\n\r\n    void method1(UUID u1, UUID u2) {\r\n     \r\n       // I know it is always safe to use equal method\r\n       if (u1.equals(u2)){ \r\n         // do something\r\n       }\r\n    \r\n       // is it safe to use  ==\r\n       if (u1 == u2) {\r\n         // do something\r\n       }\r\n    }\r\n\r\n","title":"To compare UUID, can I use == or have to use UUID.equals(UUID)?","body":"<p>Just start using <code>java.util.UUID</code>. My question is if I have two UUID variables, say u1 and u2, and I would like to check if they are equal, can I safely use expression <code>u1 == u2</code> or have to write <code>u1.equals(u2)</code>? assuming both are not null. </p>\n\n<p>BTW, I am using its <code>randomUUID</code> method to create new UUID values, but I think this should not be matter. \nI wonder as UUID is unique, each value could be a singleton, then it is safe to use <code>u1 == u2</code>.  </p>\n\n<pre><code>void method1(UUID u1, UUID u2) {\n\n   // I know it is always safe to use equal method\n   if (u1.equals(u2)){ \n     // do something\n   }\n\n   // is it safe to use  ==\n   if (u1 == u2) {\n     // do something\n   }\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"score":0,"creation_date":1376372186,"post_id":18201381,"comment_id":26675602,"body_markdown":"Both of them return me the same answer","body":"Both of them return me the same answer"},{"owner":{"account_id":4184282,"reputation":33,"user_id":3428403,"display_name":"Sajjad Ali"},"score":0,"creation_date":1443767749,"post_id":18201381,"comment_id":53631900,"body_markdown":"row.getNoOfPhysicalCell() will take non-empty cell count but row.getLastCellNum() will take last number of cell.values of them may vary if you have empty or null cells in your excel sheet.","body":"row.getNoOfPhysicalCell() will take non-empty cell count but row.getLastCellNum() will take last number of cell.values of them may vary if you have empty or null cells in your excel sheet."}],"answers":[{"tags":[],"owner":{"account_id":2519746,"reputation":8347,"user_id":2190336,"display_name":"Prabhaker A"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1376373008,"creation_date":1376372580,"answer_id":18201465,"question_id":18201381,"body_markdown":"[getLastCellNum()](http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFRow.html#getLastCellNum())\r\n&gt;Gets the index of the last cell contained in this row PLUS ONE  \r\n\r\n[getPhysicalNumberOfCells()](http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFRow.html#getPhysicalNumberOfCells)\r\n&gt;gets the number of defined cells (NOT number of cells in the actual row!). That is to say if only columns 0,4,5 have values then there would be 3.  \r\n","title":"Apache POI : Difference between row.getLastCellNum and row.getNoOfPhysicalCell","body":"<p><a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFRow.html#getLastCellNum%28%29\" rel=\"nofollow\">getLastCellNum()</a></p>\n\n<blockquote>\n  <p>Gets the index of the last cell contained in this row PLUS ONE  </p>\n</blockquote>\n\n<p><a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFRow.html#getPhysicalNumberOfCells\" rel=\"nofollow\">getPhysicalNumberOfCells()</a></p>\n\n<blockquote>\n  <p>gets the number of defined cells (NOT number of cells in the actual row!). That is to say if only columns 0,4,5 have values then there would be 3.  </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20918570,"reputation":1,"user_id":15367707,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678982595,"creation_date":1678982498,"answer_id":75758705,"question_id":18201381,"body_markdown":"getLastRowNum() retrieves the index of the last row in a spreadsheet. These indexes are 0 based, and if you have no missing rows, 100th row that is the last row will have index 99. getPhysicalNumberOfRows() returns the number of rows actually used in the spreadsheet. Unused rows are just missing from the spreadsheet. So you could have a situation where you only have one row at row 100th. In that case getPhysicalNumberOfRows() would return 1, but getLastRowNum() would return 99.","title":"Apache POI : Difference between row.getLastCellNum and row.getNoOfPhysicalCell","body":"<p>getLastRowNum() retrieves the index of the last row in a spreadsheet. These indexes are 0 based, and if you have no missing rows, 100th row that is the last row will have index 99. getPhysicalNumberOfRows() returns the number of rows actually used in the spreadsheet. Unused rows are just missing from the spreadsheet. So you could have a situation where you only have one row at row 100th. In that case getPhysicalNumberOfRows() would return 1, but getLastRowNum() would return 99.</p>\n"}],"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18201465,"answer_count":2,"score":0,"last_activity_date":1678982595,"creation_date":1376372155,"question_id":18201381,"body_markdown":"What is the difference between `row.getLastCellNum()` and `row.getNoOfPhysicalCell()` in POI HSSFRow ? Or are they same ?","title":"Apache POI : Difference between row.getLastCellNum and row.getNoOfPhysicalCell","body":"<p>What is the difference between <code>row.getLastCellNum()</code> and <code>row.getNoOfPhysicalCell()</code> in POI HSSFRow ? Or are they same ?</p>\n"},{"tags":["java","spring-webflux","aggregation"],"owner":{"account_id":21442704,"reputation":31,"user_id":15796921,"display_name":"paulo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678982402,"creation_date":1678968571,"question_id":75756063,"body_markdown":"I have a method that does a aggregatio action an in the end ir returns:\r\n\r\n    return reactiveMongoTemplate.aggregate(agg,\r\n                    reactiveMongoTemplate.getCollectionName(TagEntity.class), TagWithConditionalDTO.class);\r\n\r\nand im trying to write a unit test for it. so far, i have this code:\r\n\r\n    @Test\r\n    public void testGetTagsWithCategory() {\r\n    \r\n        List&lt;TagWithConditionalDTO&gt; expectedTags = Arrays.asList(\r\n                new TagWithConditionalDTO(&quot;1&quot;, &quot;Tag 1&quot;, &quot;Desc&quot;, &quot;Category&quot;, &quot;1&quot;),\r\n                new TagWithConditionalDTO(&quot;2&quot;, &quot;Tag 2&quot;, &quot;Desc&quot;, &quot;Category&quot;, &quot;1&quot;)\r\n        );\r\n    \r\n        when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), eq(TagWithConditionalDTO.class)))\r\n                .thenReturn(Flux.fromIterable(expectedTags));\r\n    \r\n        Flux&lt;ConditionalTagWithConditionalDTO&gt; result = conditionalTagService.getTagsWithCategory();\r\n    \r\n    \r\n        ArgumentCaptor&lt;Aggregation&gt; aggregationCaptor = ArgumentCaptor.forClass(Aggregation.class);\r\n        ArgumentCaptor&lt;Class&gt; resultTypeCaptor = ArgumentCaptor.forClass(Class.class);\r\n        verify(reactiveMongoTemplate).aggregate(aggregationCaptor.capture(), &quot;Tag&quot;, resultTypeCaptor.capture());\r\n        Aggregation aggregation = aggregationCaptor.getValue();\r\n        assertThat(aggregation.toString(), containsString(&quot;$lookup&quot;));\r\n        assertThat(aggregation.toString(), containsString(&quot;$unwind&quot;));\r\n        assertThat(aggregation.toString(), containsString(&quot;$addFields&quot;));\r\n        assertThat(resultTypeCaptor.getValue(), equalTo(ConditionalTagWithConditionalDTO.class));\r\n    }\r\n\r\n\r\nThe problem with this code, is that in on when\r\n\r\n    when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), eq(ConditionalTagWithCategoryDTO.class)))\r\n                    .thenReturn(Flux.fromIterable(expectedConditionalTags));\r\n\r\nit gives me the error &quot;Cannot resolve method &#39;aggregate(T, String, Bson)&#39;&#39;&quot;\r\n\r\ni&#39;ve tried to do it like this: \r\n\r\n    when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), ConditionalTagWithCategoryDTO.class))\r\n                    .thenReturn(Flux.fromIterable(expectedConditionalTags));\r\n\r\nthen i can run the test, but it doesnt work. returns the error \r\n\r\n    Invalid use of argument matchers!\r\n    3 matchers expected, 1 recorded\r\n\r\nso what can i do to solve it?\r\nthank you for helping me.","title":"How to mock reactiveMongoTemplate.aggregate?","body":"<p>I have a method that does a aggregatio action an in the end ir returns:</p>\n<pre><code>return reactiveMongoTemplate.aggregate(agg,\n                reactiveMongoTemplate.getCollectionName(TagEntity.class), TagWithConditionalDTO.class);\n</code></pre>\n<p>and im trying to write a unit test for it. so far, i have this code:</p>\n<pre><code>@Test\npublic void testGetTagsWithCategory() {\n\n    List&lt;TagWithConditionalDTO&gt; expectedTags = Arrays.asList(\n            new TagWithConditionalDTO(&quot;1&quot;, &quot;Tag 1&quot;, &quot;Desc&quot;, &quot;Category&quot;, &quot;1&quot;),\n            new TagWithConditionalDTO(&quot;2&quot;, &quot;Tag 2&quot;, &quot;Desc&quot;, &quot;Category&quot;, &quot;1&quot;)\n    );\n\n    when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), eq(TagWithConditionalDTO.class)))\n            .thenReturn(Flux.fromIterable(expectedTags));\n\n    Flux&lt;ConditionalTagWithConditionalDTO&gt; result = conditionalTagService.getTagsWithCategory();\n\n\n    ArgumentCaptor&lt;Aggregation&gt; aggregationCaptor = ArgumentCaptor.forClass(Aggregation.class);\n    ArgumentCaptor&lt;Class&gt; resultTypeCaptor = ArgumentCaptor.forClass(Class.class);\n    verify(reactiveMongoTemplate).aggregate(aggregationCaptor.capture(), &quot;Tag&quot;, resultTypeCaptor.capture());\n    Aggregation aggregation = aggregationCaptor.getValue();\n    assertThat(aggregation.toString(), containsString(&quot;$lookup&quot;));\n    assertThat(aggregation.toString(), containsString(&quot;$unwind&quot;));\n    assertThat(aggregation.toString(), containsString(&quot;$addFields&quot;));\n    assertThat(resultTypeCaptor.getValue(), equalTo(ConditionalTagWithConditionalDTO.class));\n}\n</code></pre>\n<p>The problem with this code, is that in on when</p>\n<pre><code>when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), eq(ConditionalTagWithCategoryDTO.class)))\n                .thenReturn(Flux.fromIterable(expectedConditionalTags));\n</code></pre>\n<p>it gives me the error &quot;Cannot resolve method 'aggregate(T, String, Bson)''&quot;</p>\n<p>i've tried to do it like this:</p>\n<pre><code>when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), ConditionalTagWithCategoryDTO.class))\n                .thenReturn(Flux.fromIterable(expectedConditionalTags));\n</code></pre>\n<p>then i can run the test, but it doesnt work. returns the error</p>\n<pre><code>Invalid use of argument matchers!\n3 matchers expected, 1 recorded\n</code></pre>\n<p>so what can i do to solve it?\nthank you for helping me.</p>\n"},{"tags":["java","apache-nifi"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1600704700,"post_id":63991172,"comment_id":113164897,"body_markdown":"EvaluateXPath does not support namespaces. just remove all `s:` prefixes from xpath","body":"EvaluateXPath does not support namespaces. just remove all <code>s:</code> prefixes from xpath"},{"owner":{"account_id":13550471,"reputation":98,"user_id":9775470,"display_name":"Dario Lurido"},"score":0,"creation_date":1600759722,"post_id":63991172,"comment_id":113180884,"body_markdown":"I tried but nothing, it returns NO MATCH, as a solution I found this\n\n&#39;&#39;&#39; //*[local-name()=&#39;ByteListFile&#39;]  &#39;&#39;&#39;","body":"I tried but nothing, it returns NO MATCH, as a solution I found this  &#39;&#39;&#39; //*[local-name()=&#39;ByteListFile&#39;]  &#39;&#39;&#39;"}],"answers":[{"tags":[],"owner":{"account_id":145181,"reputation":1559,"user_id":354806,"display_name":"Valtoni Boaventura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678982003,"creation_date":1678982003,"answer_id":75758601,"question_id":63991172,"body_markdown":"You can try to replace your namespace prefix with asteriks:\r\n```\r\n/*:Envelope/*:Body/GetDataSetResponse/GetDataSetResult/*:ByteListFile\r\n```\r\nBUT GetDataSetResponse and GetDataSetResult have owns namespaces. This might not work. If is the case, you can add two additional EvaluateXPath in sequence and get each of then in sequence.","title":"Nifi EvaluateXPath","body":"<p>You can try to replace your namespace prefix with asteriks:</p>\n<pre><code>/*:Envelope/*:Body/GetDataSetResponse/GetDataSetResult/*:ByteListFile\n</code></pre>\n<p>BUT GetDataSetResponse and GetDataSetResult have owns namespaces. This might not work. If is the case, you can add two additional EvaluateXPath in sequence and get each of then in sequence.</p>\n"}],"owner":{"account_id":13550471,"reputation":98,"user_id":9775470,"display_name":"Dario Lurido"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678982003,"creation_date":1600687008,"question_id":63991172,"body_markdown":"I have a problem with this XML in Nifi processor EvaluateXPath\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;s:Envelope xmlns:s=&quot;http://....&quot;&gt;\r\n        &lt;s:Body&gt;\r\n            &lt;GetDataSetResponse xmlns=&quot;http://....&quot;&gt;\r\n             &lt;GetDataSetResult xmlns:a=&quot;http://....&quot;xmlns:i=&quot;http://....&quot;&gt;\r\n                &lt;a:ByteListFile&gt;BLABLABLA&lt;/a:ByteListFile&gt;\r\n                &lt;a:CodEsito&gt;OK&lt;/a:CodEsito&gt;\r\n                &lt;a:DescEsito&gt;OK&lt;/a:DescEsito&gt;\r\n                &lt;a:OutputValue&gt;1&lt;/a:OutputValue&gt;\r\n             &lt;/GetDataSetResult&gt;\r\n          &lt;/GetDataSetResponse&gt;\r\n       &lt;/s:Body&gt;\r\n    &lt;/s:Envelope&gt;\r\n\r\n \r\n\r\ni want to check this out  BLABLABLA , but nifi doesn&#39;t want to let me.. i use this expression \r\n\r\n&#39;&#39;&#39;\r\n/s:Envelope/s:Body/GetDataSetResponse/GetDataSetResult/a:ByteListFile\r\n&#39;&#39;&#39;\r\n\r\nthe error is : Prefix s han not been declared \r\n\r\nsomeone help me! THX","title":"Nifi EvaluateXPath","body":"<p>I have a problem with this XML in Nifi processor EvaluateXPath</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;s:Envelope xmlns:s=&quot;http://....&quot;&gt;\n    &lt;s:Body&gt;\n        &lt;GetDataSetResponse xmlns=&quot;http://....&quot;&gt;\n         &lt;GetDataSetResult xmlns:a=&quot;http://....&quot;xmlns:i=&quot;http://....&quot;&gt;\n            &lt;a:ByteListFile&gt;BLABLABLA&lt;/a:ByteListFile&gt;\n            &lt;a:CodEsito&gt;OK&lt;/a:CodEsito&gt;\n            &lt;a:DescEsito&gt;OK&lt;/a:DescEsito&gt;\n            &lt;a:OutputValue&gt;1&lt;/a:OutputValue&gt;\n         &lt;/GetDataSetResult&gt;\n      &lt;/GetDataSetResponse&gt;\n   &lt;/s:Body&gt;\n&lt;/s:Envelope&gt;\n</code></pre>\n<p>i want to check this out  BLABLABLA , but nifi doesn't want to let me.. i use this expression</p>\n<p>'''\n/s:Envelope/s:Body/GetDataSetResponse/GetDataSetResult/a:ByteListFile\n'''</p>\n<p>the error is : Prefix s han not been declared</p>\n<p>someone help me! THX</p>\n"},{"tags":["java","spring-boot","rest","vaadin","vaadin-flow"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675784176,"creation_date":1675777852,"answer_id":75374300,"question_id":75372808,"body_markdown":"    @RequestMapping(&quot;/test&quot;) \r\n\r\ndoes not contain api! So it should be:\r\n\r\n    @RequestMapping(&quot;/api/test&quot;)\r\n\r\nThen you must also adjust the security configuration:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n \r\n        http.authorizeRequests()\r\n       .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;).permitAll();\r\n\r\n        super.configure(http);\r\n        setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\r\n\r\n\r\n        http.rememberMe().key(&quot;ABC&quot;)\r\n            .tokenValiditySeconds(2 * 24 * 60 * 60)\r\n            .userDetailsService(this.userDetailsService);\r\n\r\n        http.logout()\r\n            .invalidateHttpSession(true)\r\n            .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        super.configure(web);\r\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\r\n    }\r\n","title":"Vaadin 23 Rest-API and UI in Spring Boot app","body":"<pre><code>@RequestMapping(&quot;/test&quot;) \n</code></pre>\n<p>does not contain api! So it should be:</p>\n<pre><code>@RequestMapping(&quot;/api/test&quot;)\n</code></pre>\n<p>Then you must also adjust the security configuration:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    http.authorizeRequests()\n   .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;).permitAll();\n\n    super.configure(http);\n    setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\n\n\n    http.rememberMe().key(&quot;ABC&quot;)\n        .tokenValiditySeconds(2 * 24 * 60 * 60)\n        .userDetailsService(this.userDetailsService);\n\n    http.logout()\n        .invalidateHttpSession(true)\n        .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\n}\n\n@Override\npublic void configure(WebSecurity web) throws Exception {\n    super.configure(web);\n    web.ignoring().antMatchers(&quot;/images/*.png&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18336090,"reputation":17,"user_id":13353450,"display_name":"Buddhima Chamaranga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678174511,"creation_date":1678174511,"answer_id":75659102,"question_id":75372808,"body_markdown":"    @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring().antMatchers(&quot;/api/**&quot;);\r\n            super.configure(web);\r\n    }\r\n\r\nthis may work add this to your security configarations","title":"Vaadin 23 Rest-API and UI in Spring Boot app","body":"<pre><code>@Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/api/**&quot;);\n        super.configure(web);\n}\n</code></pre>\n<p>this may work add this to your security configarations</p>\n"},{"tags":[],"owner":{"account_id":11528836,"reputation":31,"user_id":8448386,"display_name":"Sam Nya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678981901,"creation_date":1678981901,"answer_id":75758583,"question_id":75372808,"body_markdown":"So basically you need to tell Spring security to permit your api and disable csrf for it.\r\n\r\n\r\n```java\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests().antMatchers(&quot;/images/**&quot;).permitAll();\r\n        http.authorizeRequests().antMatchers(&quot;/public/**&quot;).permitAll();\r\n\r\n\r\n        // Permit your api\r\n        // If you don&#39;t need authentication, just use permitAll to /api/**\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/api/auth/login&quot;).permitAll()\r\n                .antMatchers(&quot;/api/**&quot;).hasRole(&quot;USER&quot;);\r\n\r\n\r\n        // Maybe you need token header filter for your api authentication\r\n        // Following other Spring Security tutorial to implement it.\r\n        // https://stackoverflow.com/questions/41975045/how-to-design-a-good-jwt-authentication-filter\r\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        // Vaadin Security\r\n        super.configure(http);\r\n        setLoginView(http, LoginView.class);\r\n\r\n        // IMPORTENT: csrf must disable for Rest API, otherwise post\r\n        // request won&#39;t work\r\n        http.cors().and().csrf().ignoringAntMatchers(&quot;/api/**&quot;);\r\n    }\r\n```\r\n\r\nOnly one small problem I noticed was JSESSIONID cookie will still sent to every Rest api response but I don&#39;t use that for authentication. \r\n\r\nAnd set SessionCreationPolicy to STATELESS seems break Vaadin session.\r\n\r\n```java\r\nhttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n```\r\n\r\n","title":"Vaadin 23 Rest-API and UI in Spring Boot app","body":"<p>So basically you need to tell Spring security to permit your api and disable csrf for it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().antMatchers(&quot;/images/**&quot;).permitAll();\n        http.authorizeRequests().antMatchers(&quot;/public/**&quot;).permitAll();\n\n\n        // Permit your api\n        // If you don't need authentication, just use permitAll to /api/**\n        http.authorizeRequests()\n                .antMatchers(&quot;/api/auth/login&quot;).permitAll()\n                .antMatchers(&quot;/api/**&quot;).hasRole(&quot;USER&quot;);\n\n\n        // Maybe you need token header filter for your api authentication\n        // Following other Spring Security tutorial to implement it.\n        // https://stackoverflow.com/questions/41975045/how-to-design-a-good-jwt-authentication-filter\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        // Vaadin Security\n        super.configure(http);\n        setLoginView(http, LoginView.class);\n\n        // IMPORTENT: csrf must disable for Rest API, otherwise post\n        // request won't work\n        http.cors().and().csrf().ignoringAntMatchers(&quot;/api/**&quot;);\n    }\n</code></pre>\n<p>Only one small problem I noticed was JSESSIONID cookie will still sent to every Rest api response but I don't use that for authentication.</p>\n<p>And set SessionCreationPolicy to STATELESS seems break Vaadin session.</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n</code></pre>\n"}],"owner":{"account_id":27187046,"reputation":23,"user_id":20721373,"display_name":"Szyu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75374300,"answer_count":3,"score":2,"last_activity_date":1678981901,"creation_date":1675769797,"question_id":75372808,"body_markdown":"I&#39;ve developed a small application with Vaadin 23.3.5. Until now I only used Spring Boot Security in combination with the default LoginView to authenticate and then use the MainLayout to navigate through my application. But now I require the possibility to access certain informations from outside the app. So the best way to do that would be to implement a REST-API.\r\n\r\nBut no matter what I try, I just can&#39;t seem to get it working. I read that I should not use JAX-RS with Spring Boot applications when I want to have stateless webservices, so I tried to stick with libraries offered by Spring. I also tried to integrate working examples from other people into my application, but none of them worked for me.\r\n\r\nI want to have some configuration, when I use http://localhost:8080/project/ui, then I can access my view layer (i.e. LoginView), but when I use http://localhost:8080/project/api, I want to be able to call my webservices.\r\n\r\nin my applicatoin.properties, I declared &quot;/project&quot; to be my context-path and &quot;/ui/*&quot; to be my urlMapping like this:\r\n\r\n\r\n```\r\nserver.servlet.context-path=/project\r\nserver.port=${PORT:8080}\r\n\r\nvaadin.urlMapping=/ui/*\r\nvaadin.excludeUrls=/api/**\r\n```\r\n\r\nMy configuration used in my class extending from VaadinWebSecurity:\r\n\r\n```\r\n@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\r\n\r\n        this.applyUrlMapping(&quot;api&quot;);\r\n\r\n        http.rememberMe().key(&quot;ABC&quot;)\r\n            .tokenValiditySeconds(2 * 24 * 60 * 60)\r\n            .userDetailsService(this.userDetailsService);\r\n        http.logout()\r\n            .invalidateHttpSession(true)\r\n            .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        super.configure(web);\r\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\r\n    }\r\n```\r\n\r\nand finally my Controller class I want to access via postman:\r\n\r\n```\r\n@RequestMapping(&quot;/test&quot;)\r\n@RestController()\r\npublic class TestRestController {\r\n\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\npublic String hello() {\r\nreturn &quot;Hello World!&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIt seems like I can access the &quot;hello&quot;-method when using http://localhost:8080/project/test/hello in my browser, but there are two things not working:\r\n1. the &quot;/api/*&quot; path is not recognized\r\n2. (this is more critical) when I use postman to access the same resource, I can some auto-generated doc as response instead of &quot;Hello World&quot;...\r\n\r\n\r\n```\r\n&lt;!doctype html&gt;&lt;!--\r\nThis file is auto-generated by Vaadin.\r\n--&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n &lt;head&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.VaadinLicenseChecker = {  maybeCheck: (productInfo) =&gt; {  }};window.Vaadin.devTools = window.Vaadin.devTools || {};window.Vaadin.devTools.createdCvdlElements = window.Vaadin.devTools.createdCvdlElements || [];const originalCustomElementDefineFn = window.customElements.define;window.customElements.define = function (tagName, constructor, ...args) {const { cvdlName, version } = constructor;if (cvdlName &amp;&amp; version) {  const { connectedCallback } = constructor.prototype;  constructor.prototype.connectedCallback = function () {    window.Vaadin.devTools.createdCvdlElements.push(this);    if (connectedCallback) {      connectedCallback.call(this);    }  }}originalCustomElementDefineFn.call(this, tagName, constructor, ...args);};&lt;/script&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.ConsoleErrors = window.Vaadin.ConsoleErrors || [];const browserConsoleError = window.console.error.bind(window.console);console.error = (...args) =&gt; {    browserConsoleError(...args);    window.Vaadin.ConsoleErrors.push(args);};window.onerror = (message, source, lineno, colno, error) =&gt; {const location=source+&#39;:&#39;+lineno+&#39;:&#39;+colno;window.Vaadin.ConsoleErrors.push([message, &#39;(&#39;+location+&#39;)&#39;]);};window.addEventListener(&#39;unhandledrejection&#39;, e =&gt; {    window.Vaadin.ConsoleErrors.push([e.reason]);});&lt;/script&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.TypeScript= {};&lt;/script&gt;\r\n  &lt;meta name=&quot;_csrf_parameter&quot; content=&quot;_csrf&quot;&gt;\r\n  &lt;meta name=&quot;_csrf_header&quot; content=&quot;X-CSRF-TOKEN&quot;&gt;\r\n  &lt;meta name=&quot;_csrf&quot; content=&quot;df39cb78-0c37-4125-8d87-68e986050db5&quot;&gt;&lt;base href=&quot;.&quot;&gt;\r\n  &lt;script type=&quot;text/javascript&quot;&gt;window.JSCompiler_renameProperty = function(a) { return a;}&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot;&gt;import { inject } from &quot;/project/ui/VAADIN/@vite-plugin-checker-runtime&quot;;\r\ninject({\r\n  overlayConfig: {},\r\n  base: &quot;/project/ui/VAADIN/&quot;,\r\n});&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/@vite/client&quot;&gt;&lt;/script&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n  &lt;style&gt;\r\n    body, #outlet {\r\n      height: 100vh;\r\n      width: 100%;\r\n      margin: 0;\r\n    }\r\n  &lt;/style&gt; &lt;!-- index.ts is included here automatically (either by the dev server or during the build) --&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vite-devmode.ts&quot;&gt;&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vaadin.ts&quot;&gt;&lt;/script&gt;\r\n  &lt;style&gt;.v-reconnect-dialog,.v-system-error {position: absolute;color: black;background: white;top: 1em;right: 1em;border: 1px solid black;padding: 1em;z-index: 10000;max-width: calc(100vw - 4em);max-height: calc(100vh - 4em);overflow: auto;} .v-system-error {color: indianred;pointer-events: auto;} .v-system-error h3, .v-system-error b {color: red;}&lt;/style&gt;\r\n  &lt;style&gt;[hidden] { display: none !important; }&lt;/style&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;apple-touch-fullscreen&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;project&quot;&gt;\r\n  &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;#ffffff&quot;&gt;\r\n  &lt;link rel=&quot;manifest&quot; href=&quot;manifest.webmanifest&quot;&gt;\r\n  &lt;link sizes=&quot;16x16&quot; rel=&quot;shortcut icon&quot; href=&quot;icons/icon-16x16.png&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;32x32&quot; rel=&quot;icon&quot; href=&quot;icons/icon-32x32.png&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;96x96&quot; rel=&quot;icon&quot; href=&quot;icons/icon-96x96.png?1713631522&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;180x180&quot; rel=&quot;apple-touch-icon&quot; href=&quot;icons/icon-180x180.png?-533695959&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2048x2732&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-2048x2732.png?-1201942874&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2732x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2732x2048.png?266277477&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1668x2388&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2388.png?-1539431919&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2388x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2388x1668.png?598404288&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1668x2224&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2224.png?1678662124&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2224x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2224x1668.png?746534339&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1620x2160&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1620x2160.png?-770300885&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2160x1620&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2160x1620.png?-525914264&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1536x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1536x2048.png?713310212&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2048x1536&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2048x1536.png?1750378074&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1284x2778&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1284x2778.png?1984992155&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2778x1284&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2778x1284.png?389448020&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1170x2532&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1170x2532.png?-743684054&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2532x1170&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2532x1170.png?2114630635&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1125x2436&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1125x2436.png?-688834165&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2436x1125&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2436x1125.png?-221066565&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1242x2688&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2688.png?-313405698&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2688x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2688x1242.png?20506735&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;828x1792&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-828x1792.png?1276193420&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1792x828&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1792x828.png?1725405299&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1242x2208&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2208.png?1508207887&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2208x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2208x1242.png?-167637239&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;750x1334&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-750x1334.png?-1346703542&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1334x750&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1334x750.png?-1196513029&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;640x1136&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-640x1136.png?893776263&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1136x640&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1136x640.png?-1834685424&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;script&gt;if (&#39;serviceWorker&#39; in navigator) {\r\n  window.addEventListener(&#39;load&#39;, function() {\r\n    navigator.serviceWorker.register(&#39;sw.js&#39;)\r\n  });\r\n}&lt;/script&gt;\r\n &lt;/head&gt;\r\n &lt;body&gt;&lt;!-- This outlet div is where the views are rendered --&gt;\r\n  &lt;div id=&quot;outlet&quot;&gt;&lt;/div&gt;\r\n  &lt;script&gt;window.Vaadin = window.Vaadin || {};\r\nwindow.Vaadin.registrations = window.Vaadin.registrations || [];\r\nwindow.Vaadin.registrations.push({&quot;is&quot;:&quot;flow/SpringInstantiator&quot;,&quot;version&quot;:&quot;23.3.0.alpha1&quot;},{&quot;is&quot;:&quot;routing/server&quot;,&quot;version&quot;:&quot;23.3.0.alpha1&quot;},{&quot;is&quot;:&quot;flow/AtmospherePushConnection&quot;,&quot;version&quot;:&quot;2.7.3.slf4jvaadin4&quot;},{&quot;is&quot;:&quot;java&quot;,&quot;version&quot;:&quot;17.0.5&quot;});&lt;/script&gt;&lt;vaadin-dev-tools url=&quot;&quot; springbootlivereloadport=&quot;35729&quot;&gt;&lt;/vaadin-dev-tools&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI tried using code examples from Stackoverflow and the official Vaadin forum, as well as examples from Github and other places. But I found no example or description that would fit my requirements as having both &quot;:8080/project/ui/*&quot; and &quot;:8080/project/api/*&quot; working together.\r\n\r\nCould anyone possibly point me in the right direction please?\r\n","title":"Vaadin 23 Rest-API and UI in Spring Boot app","body":"<p>I've developed a small application with Vaadin 23.3.5. Until now I only used Spring Boot Security in combination with the default LoginView to authenticate and then use the MainLayout to navigate through my application. But now I require the possibility to access certain informations from outside the app. So the best way to do that would be to implement a REST-API.</p>\n<p>But no matter what I try, I just can't seem to get it working. I read that I should not use JAX-RS with Spring Boot applications when I want to have stateless webservices, so I tried to stick with libraries offered by Spring. I also tried to integrate working examples from other people into my application, but none of them worked for me.</p>\n<p>I want to have some configuration, when I use http://localhost:8080/project/ui, then I can access my view layer (i.e. LoginView), but when I use http://localhost:8080/project/api, I want to be able to call my webservices.</p>\n<p>in my applicatoin.properties, I declared &quot;/project&quot; to be my context-path and &quot;/ui/*&quot; to be my urlMapping like this:</p>\n<pre><code>server.servlet.context-path=/project\nserver.port=${PORT:8080}\n\nvaadin.urlMapping=/ui/*\nvaadin.excludeUrls=/api/**\n</code></pre>\n<p>My configuration used in my class extending from VaadinWebSecurity:</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\n\n        this.applyUrlMapping(&quot;api&quot;);\n\n        http.rememberMe().key(&quot;ABC&quot;)\n            .tokenValiditySeconds(2 * 24 * 60 * 60)\n            .userDetailsService(this.userDetailsService);\n        http.logout()\n            .invalidateHttpSession(true)\n            .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        super.configure(web);\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\n    }\n</code></pre>\n<p>and finally my Controller class I want to access via postman:</p>\n<pre><code>@RequestMapping(&quot;/test&quot;)\n@RestController()\npublic class TestRestController {\n\n\n    @GetMapping(&quot;/hello&quot;)\npublic String hello() {\nreturn &quot;Hello World!&quot;;\n    }\n\n}\n</code></pre>\n<p>It seems like I can access the &quot;hello&quot;-method when using http://localhost:8080/project/test/hello in my browser, but there are two things not working:</p>\n<ol>\n<li>the &quot;/api/*&quot; path is not recognized</li>\n<li>(this is more critical) when I use postman to access the same resource, I can some auto-generated doc as response instead of &quot;Hello World&quot;...</li>\n</ol>\n<pre><code>&lt;!doctype html&gt;&lt;!--\nThis file is auto-generated by Vaadin.\n--&gt;\n&lt;html lang=&quot;en&quot;&gt;\n &lt;head&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.VaadinLicenseChecker = {  maybeCheck: (productInfo) =&gt; {  }};window.Vaadin.devTools = window.Vaadin.devTools || {};window.Vaadin.devTools.createdCvdlElements = window.Vaadin.devTools.createdCvdlElements || [];const originalCustomElementDefineFn = window.customElements.define;window.customElements.define = function (tagName, constructor, ...args) {const { cvdlName, version } = constructor;if (cvdlName &amp;&amp; version) {  const { connectedCallback } = constructor.prototype;  constructor.prototype.connectedCallback = function () {    window.Vaadin.devTools.createdCvdlElements.push(this);    if (connectedCallback) {      connectedCallback.call(this);    }  }}originalCustomElementDefineFn.call(this, tagName, constructor, ...args);};&lt;/script&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.ConsoleErrors = window.Vaadin.ConsoleErrors || [];const browserConsoleError = window.console.error.bind(window.console);console.error = (...args) =&gt; {    browserConsoleError(...args);    window.Vaadin.ConsoleErrors.push(args);};window.onerror = (message, source, lineno, colno, error) =&gt; {const location=source+':'+lineno+':'+colno;window.Vaadin.ConsoleErrors.push([message, '('+location+')']);};window.addEventListener('unhandledrejection', e =&gt; {    window.Vaadin.ConsoleErrors.push([e.reason]);});&lt;/script&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.TypeScript= {};&lt;/script&gt;\n  &lt;meta name=&quot;_csrf_parameter&quot; content=&quot;_csrf&quot;&gt;\n  &lt;meta name=&quot;_csrf_header&quot; content=&quot;X-CSRF-TOKEN&quot;&gt;\n  &lt;meta name=&quot;_csrf&quot; content=&quot;df39cb78-0c37-4125-8d87-68e986050db5&quot;&gt;&lt;base href=&quot;.&quot;&gt;\n  &lt;script type=&quot;text/javascript&quot;&gt;window.JSCompiler_renameProperty = function(a) { return a;}&lt;/script&gt;\n  &lt;script type=&quot;module&quot;&gt;import { inject } from &quot;/project/ui/VAADIN/@vite-plugin-checker-runtime&quot;;\ninject({\n  overlayConfig: {},\n  base: &quot;/project/ui/VAADIN/&quot;,\n});&lt;/script&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/@vite/client&quot;&gt;&lt;/script&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n  &lt;style&gt;\n    body, #outlet {\n      height: 100vh;\n      width: 100%;\n      margin: 0;\n    }\n  &lt;/style&gt; &lt;!-- index.ts is included here automatically (either by the dev server or during the build) --&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vite-devmode.ts&quot;&gt;&lt;/script&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vaadin.ts&quot;&gt;&lt;/script&gt;\n  &lt;style&gt;.v-reconnect-dialog,.v-system-error {position: absolute;color: black;background: white;top: 1em;right: 1em;border: 1px solid black;padding: 1em;z-index: 10000;max-width: calc(100vw - 4em);max-height: calc(100vh - 4em);overflow: auto;} .v-system-error {color: indianred;pointer-events: auto;} .v-system-error h3, .v-system-error b {color: red;}&lt;/style&gt;\n  &lt;style&gt;[hidden] { display: none !important; }&lt;/style&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;apple-touch-fullscreen&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;project&quot;&gt;\n  &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;#ffffff&quot;&gt;\n  &lt;link rel=&quot;manifest&quot; href=&quot;manifest.webmanifest&quot;&gt;\n  &lt;link sizes=&quot;16x16&quot; rel=&quot;shortcut icon&quot; href=&quot;icons/icon-16x16.png&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;32x32&quot; rel=&quot;icon&quot; href=&quot;icons/icon-32x32.png&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;96x96&quot; rel=&quot;icon&quot; href=&quot;icons/icon-96x96.png?1713631522&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;180x180&quot; rel=&quot;apple-touch-icon&quot; href=&quot;icons/icon-180x180.png?-533695959&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2048x2732&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-2048x2732.png?-1201942874&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2732x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2732x2048.png?266277477&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1668x2388&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2388.png?-1539431919&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2388x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2388x1668.png?598404288&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1668x2224&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2224.png?1678662124&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2224x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2224x1668.png?746534339&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1620x2160&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1620x2160.png?-770300885&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2160x1620&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2160x1620.png?-525914264&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1536x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1536x2048.png?713310212&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2048x1536&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2048x1536.png?1750378074&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1284x2778&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1284x2778.png?1984992155&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2778x1284&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2778x1284.png?389448020&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1170x2532&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1170x2532.png?-743684054&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2532x1170&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2532x1170.png?2114630635&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1125x2436&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1125x2436.png?-688834165&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2436x1125&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2436x1125.png?-221066565&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1242x2688&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2688.png?-313405698&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2688x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2688x1242.png?20506735&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;828x1792&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-828x1792.png?1276193420&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1792x828&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1792x828.png?1725405299&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1242x2208&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2208.png?1508207887&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2208x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2208x1242.png?-167637239&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;750x1334&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-750x1334.png?-1346703542&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1334x750&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1334x750.png?-1196513029&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;640x1136&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-640x1136.png?893776263&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1136x640&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1136x640.png?-1834685424&quot; type=&quot;image/png&quot;&gt;\n  &lt;script&gt;if ('serviceWorker' in navigator) {\n  window.addEventListener('load', function() {\n    navigator.serviceWorker.register('sw.js')\n  });\n}&lt;/script&gt;\n &lt;/head&gt;\n &lt;body&gt;&lt;!-- This outlet div is where the views are rendered --&gt;\n  &lt;div id=&quot;outlet&quot;&gt;&lt;/div&gt;\n  &lt;script&gt;window.Vaadin = window.Vaadin || {};\nwindow.Vaadin.registrations = window.Vaadin.registrations || [];\nwindow.Vaadin.registrations.push({&quot;is&quot;:&quot;flow/SpringInstantiator&quot;,&quot;version&quot;:&quot;23.3.0.alpha1&quot;},{&quot;is&quot;:&quot;routing/server&quot;,&quot;version&quot;:&quot;23.3.0.alpha1&quot;},{&quot;is&quot;:&quot;flow/AtmospherePushConnection&quot;,&quot;version&quot;:&quot;2.7.3.slf4jvaadin4&quot;},{&quot;is&quot;:&quot;java&quot;,&quot;version&quot;:&quot;17.0.5&quot;});&lt;/script&gt;&lt;vaadin-dev-tools url=&quot;&quot; springbootlivereloadport=&quot;35729&quot;&gt;&lt;/vaadin-dev-tools&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I tried using code examples from Stackoverflow and the official Vaadin forum, as well as examples from Github and other places. But I found no example or description that would fit my requirements as having both &quot;:8080/project/ui/<em>&quot; and &quot;:8080/project/api/</em>&quot; working together.</p>\n<p>Could anyone possibly point me in the right direction please?</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea","testng"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1678984219,"post_id":75758526,"comment_id":133642840,"body_markdown":"So what is the issue? Are you getting any error message or any failure?","body":"So what is the issue? Are you getting any error message or any failure?"},{"owner":{"account_id":18987793,"reputation":1,"user_id":13857683,"display_name":"Denis Kuznecow"},"score":0,"creation_date":1678986439,"post_id":75758526,"comment_id":133643515,"body_markdown":"I am getting an error when running the test method setUp and i can&#39;t solve it. do you need any additional information?","body":"I am getting an error when running the test method setUp and i can&#39;t solve it. do you need any additional information?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1678992639,"post_id":75758526,"comment_id":133645337,"body_markdown":"&quot;WebDriver driver = new ChromeDriver();&quot; creates a new in-method-scope instance of &quot;driver&quot;.  Try with:  driver = new ChromeDriver();  (I&#39;m also assuming the duplicate properties for driver and loginPage are a typo?)","body":"&quot;WebDriver driver = new ChromeDriver();&quot; creates a new in-method-scope instance of &quot;driver&quot;.  Try with:  driver = new ChromeDriver();  (I&#39;m also assuming the duplicate properties for driver and loginPage are a typo?)"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1678996428,"post_id":75758526,"comment_id":133646232,"body_markdown":"@DenisKuznecow which error? Is it compilation error or runtime error. What do you expect vs what you actually get.","body":"@DenisKuznecow which error? Is it compilation error or runtime error. What do you expect vs what you actually get."},{"owner":{"account_id":18987793,"reputation":1,"user_id":13857683,"display_name":"Denis Kuznecow"},"score":0,"creation_date":1679031761,"post_id":75758526,"comment_id":133651328,"body_markdown":"Alexey R.\nerror output &quot;Method SetUp requires 1 parameters but 0 were supplied in the @Configuration annotation.&quot; in run terminal Intelligence idea","body":"Alexey R. error output &quot;Method SetUp requires 1 parameters but 0 were supplied in the @Configuration annotation.&quot; in run terminal Intelligence idea"},{"owner":{"account_id":18987793,"reputation":1,"user_id":13857683,"display_name":"Denis Kuznecow"},"score":0,"creation_date":1679031908,"post_id":75758526,"comment_id":133651343,"body_markdown":"pcalkins\n&quot;I&#39;m also assuming the duplicate properties for driver and loginPage are a typo&quot; - Yes. I defined it in another class С: driver = new ChromeDriver();","body":"pcalkins &quot;I&#39;m also assuming the duplicate properties for driver and loginPage are a typo&quot; - Yes. I defined it in another class С: driver = new ChromeDriver();"}],"owner":{"account_id":18987793,"reputation":1,"user_id":13857683,"display_name":"Denis Kuznecow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678981686,"creation_date":1678981686,"question_id":75758526,"body_markdown":"\r\n    package TestCart;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import static org.testng.Assert.assertEquals;\r\n    \r\n    import org.testng.annotations.BeforeTest;\r\n    import static org.testng.Assert.assertTrue;\r\n    \r\n    import org.testng.annotations.Test;\r\n    \r\n    \r\n    public class LoginEnter {\r\n    \r\n        private WebDriver driver;\r\n        private LoginPage loginPage;\r\n    \r\n    private WebDriver driver;\r\n    private LoginPage loginPage;\r\n\r\n    @BeforeTest\r\n    public void setUp() {\r\n        WebDriver driver = new ChromeDriver();\r\n        loginPage = new LoginPage(driver);\r\n    \r\n    }\r\n    \r\n    @Test\r\n    public void successfulLoginTest() {\r\n    \r\n    loginPage.open();\r\n        assertTrue(loginPage.atPage());\r\n        loginPage.enterUserName(&quot;standard_user&quot;);\r\n        loginPage.enterPassword(&quot;secret_sauce&quot;);\r\n        loginPage.clickLogin();\r\n    \r\n    }\r\n    \r\n    @Test\r\n    public void wrongPasswordLoginTest() {\r\n    \r\n    loginPage.open();\r\n        assertTrue(loginPage.atPage());\r\n        loginPage.enterUserName(&quot;standard_user&quot;);\r\n        loginPage.enterPassword(&quot;secret_sauce&quot;);\r\n        loginPage.clickLogin();\r\n    \r\n    }\r\n    \r\n    @Test\r\n    public void wrongLoginNameLoginTest() {\r\n        driver.get(&quot;https://saucedemo.com&quot;);\r\n        driver.findElement(By.id(&quot;//*[@id=\\&quot;user-name\\&quot;]&quot;)).sendKeys(&quot;test&quot;);\r\n        driver.findElement(By.id(&quot;//*[@id=\\\\\\&quot;password\\\\\\&quot;]\\&quot;&quot;)).sendKeys(&quot;test&quot;);\r\n        assertEquals(&quot;Home Page&quot;, driver.getTitle());\r\n    }\r\n    }\r\n\r\nI tried to rewrite the code, change the test logs, turned to neural networks and this is what they gave me\r\n\r\n**The code block shown is a setup method which initializes the \\`driver\\` object as \\`ChromeDriver\\` and \\`loginPage\\` object as \\`LoginPage\\` with the \\`driver\\`. Without additional context or the complete code, it is not possible to say whether there is any mistake in this setup code. However, it is important to ensure that the necessary Selenium and ChromeDriver imports are added at the top of the file and that \\`loginPage\\` has been properly defined and is accessible within the test class.**\r\n\r\nI tried to rewrite the code and change the dependencies of the method, although the build builds normally[enter image description here](https://i.stack.imgur.com/gZIhw.png)","title":"error when running test on public void method when defining driver","body":"<pre><code>package TestCart;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport static org.testng.Assert.assertEquals;\n\nimport org.testng.annotations.BeforeTest;\nimport static org.testng.Assert.assertTrue;\n\nimport org.testng.annotations.Test;\n\n\npublic class LoginEnter {\n\n    private WebDriver driver;\n    private LoginPage loginPage;\n\nprivate WebDriver driver;\nprivate LoginPage loginPage;\n\n@BeforeTest\npublic void setUp() {\n    WebDriver driver = new ChromeDriver();\n    loginPage = new LoginPage(driver);\n\n}\n\n@Test\npublic void successfulLoginTest() {\n\nloginPage.open();\n    assertTrue(loginPage.atPage());\n    loginPage.enterUserName(&quot;standard_user&quot;);\n    loginPage.enterPassword(&quot;secret_sauce&quot;);\n    loginPage.clickLogin();\n\n}\n\n@Test\npublic void wrongPasswordLoginTest() {\n\nloginPage.open();\n    assertTrue(loginPage.atPage());\n    loginPage.enterUserName(&quot;standard_user&quot;);\n    loginPage.enterPassword(&quot;secret_sauce&quot;);\n    loginPage.clickLogin();\n\n}\n\n@Test\npublic void wrongLoginNameLoginTest() {\n    driver.get(&quot;https://saucedemo.com&quot;);\n    driver.findElement(By.id(&quot;//*[@id=\\&quot;user-name\\&quot;]&quot;)).sendKeys(&quot;test&quot;);\n    driver.findElement(By.id(&quot;//*[@id=\\\\\\&quot;password\\\\\\&quot;]\\&quot;&quot;)).sendKeys(&quot;test&quot;);\n    assertEquals(&quot;Home Page&quot;, driver.getTitle());\n}\n}\n</code></pre>\n<p>I tried to rewrite the code, change the test logs, turned to neural networks and this is what they gave me</p>\n<p><strong>The code block shown is a setup method which initializes the `driver` object as `ChromeDriver` and `loginPage` object as `LoginPage` with the `driver`. Without additional context or the complete code, it is not possible to say whether there is any mistake in this setup code. However, it is important to ensure that the necessary Selenium and ChromeDriver imports are added at the top of the file and that `loginPage` has been properly defined and is accessible within the test class.</strong></p>\n<p>I tried to rewrite the code and change the dependencies of the method, although the build builds normally<a href=\"https://i.stack.imgur.com/gZIhw.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","google-chrome","selenium-webdriver","testing","captcha"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676649806,"post_id":75485955,"comment_id":133186003,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1669643,"reputation":526,"user_id":1536343,"display_name":"Je Je"},"score":0,"creation_date":1678983893,"post_id":75485955,"comment_id":133642732,"body_markdown":"alternatively, there is a google api to interact with gmail etc, to circonvent this problem..","body":"alternatively, there is a google api to interact with gmail etc, to circonvent this problem.."}],"answers":[{"tags":[],"owner":{"account_id":2156954,"reputation":5870,"user_id":1911941,"accept_rate":100,"display_name":"ELITE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678981510,"creation_date":1678981510,"answer_id":75758492,"question_id":75485955,"body_markdown":"**There are two ways to do this.**\r\n\r\n\r\n1) Take screenshot of the captcha image web element and try to find the text inside the image using `tesseract` which uses `OCR` technique to get text from image.\r\n2) Use third party service like Fast Captcha ([How to bypass image captcha using java selenium automation][1]), which gives you the text from image and you have to paste it in the captcha text box.\r\n\r\n&gt;The question I have is, what do you want to achieve by logging into google account using selenium? Google provides various APIs to use their services.\r\n\r\n\r\n  [1]: https://thedataextractors.com/how-to-bypass-image-captcha-using-selenium-java.html","title":"Google login using Selenium (CAPTCHA appears only in CI)","body":"<p><strong>There are two ways to do this.</strong></p>\n<ol>\n<li>Take screenshot of the captcha image web element and try to find the text inside the image using <code>tesseract</code> which uses <code>OCR</code> technique to get text from image.</li>\n<li>Use third party service like Fast Captcha (<a href=\"https://thedataextractors.com/how-to-bypass-image-captcha-using-selenium-java.html\" rel=\"nofollow noreferrer\">How to bypass image captcha using java selenium automation</a>), which gives you the text from image and you have to paste it in the captcha text box.</li>\n</ol>\n<blockquote>\n<p>The question I have is, what do you want to achieve by logging into google account using selenium? Google provides various APIs to use their services.</p>\n</blockquote>\n"}],"owner":{"account_id":27812645,"reputation":11,"user_id":21234744,"display_name":"AnisCht"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678981510,"creation_date":1676646288,"question_id":75485955,"body_markdown":"I write a test using Selenium WebDriver (JAVA) to do an authentification on a google account. It&#39;s work in local but not in the CI. When I run the test on a CI , it gets a CAPTCHA as seen in the screenshot below. I don&#39;t know how to bypass the captcha or solve this issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\ni try some solutions find on this website but without success\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5mQkIm.png","title":"Google login using Selenium (CAPTCHA appears only in CI)","body":"<p>I write a test using Selenium WebDriver (JAVA) to do an authentification on a google account. It's work in local but not in the CI. When I run the test on a CI , it gets a CAPTCHA as seen in the screenshot below. I don't know how to bypass the captcha or solve this issue.</p>\n<p><a href=\"https://i.stack.imgur.com/5mQkIm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5mQkIm.png\" alt=\"enter image description here\" /></a></p>\n<p>i try some solutions find on this website but without success</p>\n"},{"tags":["java","kotlin","spring-webflux"],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678981487,"creation_date":1678981487,"question_id":75758490,"body_markdown":"I&#39;m just studying Project Reactor and trying to save several lists to the database. Is there any way to remove the &#39;map&#39; method? Or will the code of the &#39;saveAll&#39; method be executed asynchronously and the costs of synchronous map traversal will be minimal?\r\nCan I improve this code somehow?\r\n\r\n```\r\nclass CarService(val repository: CarRepository) {\r\n\r\n    fun saveAll(cars: Map&lt;Int, List&lt;Car&gt;&gt;): Flux&lt;String&gt; {\r\n        return Flux.concat(cars.map { entry -&gt;\r\n            repository.saveAll(entry.key, entry.value)\r\n                .onErrorResume {\r\n                    print(&quot;Error&quot;)\r\n                    Mono.empty()\r\n                }\r\n        })\r\n    }\r\n}\r\n\r\nclass Car\r\n\r\nclass CarRepository(databaseClient: DatabaseClient) {\r\n    //...\r\n    \r\n    fun saveAll(num: Int, cars: List&lt;Car&gt;): Flux&lt;String&gt; {\r\n        return databaseClient.inConnectionMany { connection -&gt;\r\n            val statement = connection.createStatement(sqlQuery)\r\n                .returnGeneratedValues(&quot;id&quot;)\r\n            cars.forEachIndexed { i, car -&gt;statement.bind(i, car).add()}\r\n            Flux.from(statement.execute())\r\n                .flatMap{result -&gt; result.map { row, rowMetadata -&gt; row.get(&quot;id&quot;, String::class.java)} }\r\n        }\r\n    }\r\n}\r\n```","title":"Saving multiple lists to a database using reactive (Spring Reactor)","body":"<p>I'm just studying Project Reactor and trying to save several lists to the database. Is there any way to remove the 'map' method? Or will the code of the 'saveAll' method be executed asynchronously and the costs of synchronous map traversal will be minimal?\nCan I improve this code somehow?</p>\n<pre><code>class CarService(val repository: CarRepository) {\n\n    fun saveAll(cars: Map&lt;Int, List&lt;Car&gt;&gt;): Flux&lt;String&gt; {\n        return Flux.concat(cars.map { entry -&gt;\n            repository.saveAll(entry.key, entry.value)\n                .onErrorResume {\n                    print(&quot;Error&quot;)\n                    Mono.empty()\n                }\n        })\n    }\n}\n\nclass Car\n\nclass CarRepository(databaseClient: DatabaseClient) {\n    //...\n    \n    fun saveAll(num: Int, cars: List&lt;Car&gt;): Flux&lt;String&gt; {\n        return databaseClient.inConnectionMany { connection -&gt;\n            val statement = connection.createStatement(sqlQuery)\n                .returnGeneratedValues(&quot;id&quot;)\n            cars.forEachIndexed { i, car -&gt;statement.bind(i, car).add()}\n            Flux.from(statement.execute())\n                .flatMap{result -&gt; result.map { row, rowMetadata -&gt; row.get(&quot;id&quot;, String::class.java)} }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","pdf","pdfbox"],"comments":[{"owner":{"account_id":11524089,"reputation":161,"user_id":8445079,"display_name":"Paolino L Angeletti"},"score":0,"creation_date":1678981456,"post_id":75758376,"comment_id":133641963,"body_markdown":"to solve the first point is to understand what uri.getPath() returns. try to run in debug or putting a log and read what the instruction return.\ni tell this because File pdf = new File(uri.getPath()); should be correct.","body":"to solve the first point is to understand what uri.getPath() returns. try to run in debug or putting a log and read what the instruction return. i tell this because File pdf = new File(uri.getPath()); should be correct."},{"owner":{"account_id":18982820,"reputation":13,"user_id":18290206,"display_name":"Bastian"},"score":0,"creation_date":1678983368,"post_id":75758376,"comment_id":133642554,"body_markdown":"So the log gives me &quot;/document/document:1000000018&quot; which kinda looks wrong to me as a file path idk. I also figured out know what uri even is (I remembered websites xD) but still the problem remains. You are right there is no problem with the new File(uri.getPath()); but I do not really get the error at the fis. Do I have to save the File somewhere or something like this?","body":"So the log gives me &quot;/document/document:1000000018&quot; which kinda looks wrong to me as a file path idk. I also figured out know what uri even is (I remembered websites xD) but still the problem remains. You are right there is no problem with the new File(uri.getPath()); but I do not really get the error at the fis. Do I have to save the File somewhere or something like this?"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678981473,"creation_date":1678981473,"answer_id":75758486,"question_id":75758376,"body_markdown":"No. Uri.getPath() does not give you a path to a file.\r\n\r\nYou got a nice uri and that uri gives you access to the file.\r\n\r\nUri.toString() shows you the content scheme.\r\n\r\nJust open an InputStream for the obtained uri.\r\n\r\nThe rest is the same as with FileInputStream.\r\n\r\n    InputStream is = getContentResolver().openInputStream(uri);","title":"Extract text from pdf java android","body":"<p>No. Uri.getPath() does not give you a path to a file.</p>\n<p>You got a nice uri and that uri gives you access to the file.</p>\n<p>Uri.toString() shows you the content scheme.</p>\n<p>Just open an InputStream for the obtained uri.</p>\n<p>The rest is the same as with FileInputStream.</p>\n<pre><code>InputStream is = getContentResolver().openInputStream(uri);\n</code></pre>\n"}],"owner":{"account_id":18982820,"reputation":13,"user_id":18290206,"display_name":"Bastian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75758486,"answer_count":1,"score":1,"last_activity_date":1678981473,"creation_date":1678980901,"question_id":75758376,"body_markdown":"I&#39;m trying to extract the raw text from a pdf file with android studio java (api 26 min and api33 is the emulator) and apache pdfbox\r\n\r\nThis is my code. There seems to be a problem with converting a uri to an ordinary file, because I get a FileNotFoundException error in this line &quot;FileInputStream fis = new FileInputStream(pdf);&quot;. I&#39;m not 100% sure if uri.getPath() really gives me the path I need for a file.\r\n\r\nThanks for any help\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; resultLauncher;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        resultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                result -&gt; {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        Intent data = result.getData();\r\n                        Uri uri = data.getData();\r\n                        try {\r\n                            readTextFromPDF(uri);\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n    public void chooseFile(View view) {\r\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        intent.setType(&quot;application/pdf&quot;);\r\n        resultLauncher.launch(intent);\r\n    }\r\n\r\n    private void readTextFromPDF(Uri uri) throws IOException {\r\n        File pdf = new File(uri.getPath());\r\n        FileInputStream fis = new FileInputStream(pdf);\r\n\r\n        PDDocument document = PDDocument.load(fis);\r\n        PDFTextStripper pdfTextStripper = new PDFTextStripper();\r\n        String text = pdfTextStripper.getText(document);\r\n\r\n        TextView textView = findViewById(R.id.test);\r\n        textView.setText(text);\r\n\r\n        document.close();\r\n        fis.close();\r\n    }\r\n\r\n\r\n}\r\n```\r\n","title":"Extract text from pdf java android","body":"<p>I'm trying to extract the raw text from a pdf file with android studio java (api 26 min and api33 is the emulator) and apache pdfbox</p>\n<p>This is my code. There seems to be a problem with converting a uri to an ordinary file, because I get a FileNotFoundException error in this line &quot;FileInputStream fis = new FileInputStream(pdf);&quot;. I'm not 100% sure if uri.getPath() really gives me the path I need for a file.</p>\n<p>Thanks for any help</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ActivityResultLauncher&lt;Intent&gt; resultLauncher;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        resultLauncher = registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                result -&gt; {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        Intent data = result.getData();\n                        Uri uri = data.getData();\n                        try {\n                            readTextFromPDF(uri);\n                        } catch (IOException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                });\n    }\n    public void chooseFile(View view) {\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        intent.setType(&quot;application/pdf&quot;);\n        resultLauncher.launch(intent);\n    }\n\n    private void readTextFromPDF(Uri uri) throws IOException {\n        File pdf = new File(uri.getPath());\n        FileInputStream fis = new FileInputStream(pdf);\n\n        PDDocument document = PDDocument.load(fis);\n        PDFTextStripper pdfTextStripper = new PDFTextStripper();\n        String text = pdfTextStripper.getText(document);\n\n        TextView textView = findViewById(R.id.test);\n        textView.setText(text);\n\n        document.close();\n        fis.close();\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi","xlsx"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1678976490,"post_id":75757544,"comment_id":133640264,"body_markdown":"can you share the code","body":"can you share the code"},{"owner":{"account_id":21076034,"reputation":13,"user_id":15491446,"display_name":"insane"},"score":0,"creation_date":1678977486,"post_id":75757544,"comment_id":133640607,"body_markdown":"updated post by adding code sample","body":"updated post by adding code sample"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1678981820,"post_id":75757544,"comment_id":133642080,"body_markdown":"Does this answer your question? [How can I access password protected Excel workbook in Java using POI api](https://stackoverflow.com/questions/3042694/how-can-i-access-password-protected-excel-workbook-in-java-using-poi-api)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3042694/how-can-i-access-password-protected-excel-workbook-in-java-using-poi-api\">How can I access password protected Excel workbook in Java using POI api</a>"}],"owner":{"account_id":21076034,"reputation":13,"user_id":15491446,"display_name":"insane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678981439,"creation_date":1678976405,"question_id":75757544,"body_markdown":"I have an excel file with table which cells are locked. I want to insert a new row between existing locked rows, but with editing abilities. Is it able in Apache POI?\r\n\r\nI tried to use many different sheet protection options\r\n\r\nExample of code:\r\n\r\n    var book = new SXSSFWorkbook();\r\n    var sheet = book.createSheet(SHEET_NAME);\r\n    sheet.protectSheet(&quot;password&quot;);\r\n    var unlockedStyle = book.createCellStyle();\r\n    unlockedStyle.setLocked(false);\r\n    \r\n    var lockedStyle = book.createCellStyle();\r\n    lockedStyle.setLocked(true);\r\n    \r\n    for (int rowNum = 0; rowNum &lt; 20; rowNum++) {\r\n\t    var row = sheet.createRow(rowNum);\r\n\t    for (int colNum = 0; colNum &lt; 10; colNum++) {\r\n\t\t    var cell = row.createCell(colNum);\r\n\t\t    cell.setCellStyle(lockedStyle);\r\n\t    }\r\n    }\r\n    \r\n    for (int colNum = 0; colNum &lt; 10; colNum++) {\r\n\t    sheet.setDefaultColumnStyle(colNum, unlockedStyle);\r\n    }","title":"Apache POI. Insert an editing row between locked rows","body":"<p>I have an excel file with table which cells are locked. I want to insert a new row between existing locked rows, but with editing abilities. Is it able in Apache POI?</p>\n<p>I tried to use many different sheet protection options</p>\n<p>Example of code:</p>\n<pre><code>var book = new SXSSFWorkbook();\nvar sheet = book.createSheet(SHEET_NAME);\nsheet.protectSheet(&quot;password&quot;);\nvar unlockedStyle = book.createCellStyle();\nunlockedStyle.setLocked(false);\n\nvar lockedStyle = book.createCellStyle();\nlockedStyle.setLocked(true);\n\nfor (int rowNum = 0; rowNum &lt; 20; rowNum++) {\n    var row = sheet.createRow(rowNum);\n    for (int colNum = 0; colNum &lt; 10; colNum++) {\n        var cell = row.createCell(colNum);\n        cell.setCellStyle(lockedStyle);\n    }\n}\n\nfor (int colNum = 0; colNum &lt; 10; colNum++) {\n    sheet.setDefaultColumnStyle(colNum, unlockedStyle);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1678388660,"post_id":75688841,"comment_id":133527641,"body_markdown":"Private methods are part of the implementation. They are not unit tested. Or, more accurately, they are unit tested indirectly by unit testing the public methods which rely on the private methods.","body":"Private methods are part of the implementation. They are not unit tested. Or, more accurately, they are unit tested indirectly by unit testing the public methods which rely on the private methods."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678397141,"post_id":75688841,"comment_id":133529581,"body_markdown":"Regarding your edit: If a downstream application detected the issue, then presumably there is some sort of state involved that you could test for in the unit test. In other words, that `extras` call must have a visible side-effect that you can make assertions about.","body":"Regarding your edit: If a downstream application detected the issue, then presumably there is some sort of state involved that you could test for in the unit test. In other words, that <code>extras</code> call must have a visible side-effect that you can make assertions about."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1678485011,"post_id":75688841,"comment_id":133548347,"body_markdown":"You can`verify(pennyCancelOrderService) .requestCancelOrder(ctxCaptor.capture())` with an appropriate `ArgumentCaptor` and then assert that the passed context contains the expected data.","body":"You can<code>verify(pennyCancelOrderService) .requestCancelOrder(ctxCaptor.capture())</code> with an appropriate <code>ArgumentCaptor</code> and then assert that the passed context contains the expected data."}],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678396887,"creation_date":1678396887,"answer_id":75690160,"question_id":75688841,"body_markdown":"&gt; I recently encountered an issue where the line .extras(VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras())) was missing but it wasn&#39;t picked up until an an issue was detected by a downstream application. I&#39;d like to put something in place where if this was accidentally removed, it would not go unnoticed.\r\n\r\nWhat was the issue the downstream application encountered? Presumably there is some external state (perhaps the very `CancelOrder` object being returned) that is effected by the addition or removal of that line. Test that.\r\n\r\nIn other words:\r\n\r\n    @Test\r\n    public void generateCancelOrder() {\r\n       // TODO: Get current state of the world before method is called\r\n      \r\n       CurrentState state = createDummyCurrentState();\r\n       Contract contract = createDummyContract();\r\n       CancelOrder order = generateCancelOrder(state, contract);\r\n       \r\n       // Assert expected state on state, contract, order, some other object, or any combination of all of the above\r\n    }\r\n       ","title":"Unit test to check a value that gets returned from a private method","body":"<blockquote>\n<p>I recently encountered an issue where the line .extras(VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras())) was missing but it wasn't picked up until an an issue was detected by a downstream application. I'd like to put something in place where if this was accidentally removed, it would not go unnoticed.</p>\n</blockquote>\n<p>What was the issue the downstream application encountered? Presumably there is some external state (perhaps the very <code>CancelOrder</code> object being returned) that is effected by the addition or removal of that line. Test that.</p>\n<p>In other words:</p>\n<pre><code>@Test\npublic void generateCancelOrder() {\n   // TODO: Get current state of the world before method is called\n  \n   CurrentState state = createDummyCurrentState();\n   Contract contract = createDummyContract();\n   CancelOrder order = generateCancelOrder(state, contract);\n   \n   // Assert expected state on state, contract, order, some other object, or any combination of all of the above\n}\n   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678981309,"creation_date":1678981309,"answer_id":75758458,"question_id":75688841,"body_markdown":"I added a test check that `VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()` was called once when `generateCancelOrder()` was run.","title":"Unit test to check a value that gets returned from a private method","body":"<p>I added a test check that <code>VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()</code> was called once when <code>generateCancelOrder()</code> was run.</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75758458,"answer_count":2,"score":0,"last_activity_date":1678981309,"creation_date":1678387517,"question_id":75688841,"body_markdown":"I have these two methods in my `Java` class:\r\n\r\n```Java\r\npublic CancelOrder generateCancelOrder(\r\n  final CurrentState currentState,\r\n  final Contract contract) {\r\n\r\n    Context ctx = new Context();\r\n    ctx.setVariable(\r\n        ORDER_STATE_NOW, trans(currentState, contract));\r\n\r\n    PennyOrderDetails pennyCancelOrderDetails =\r\n        pennyCancelOrderService.requestCancelOrder(ctx);\r\n\r\n    return CancelOrderResponse.builder()\r\n        .premiumSummary(pennyCancelOrderDetails.getOrderSummary())\r\n        .build();\r\n}\r\n\r\nprivate QuoteMessageCurrentState transform(\r\n  final CurrentState currentState, final Contract contract) {\r\nreturn QuoteMessageCurrentState.builder()\r\n    .fromRequest(messageTemplateChanges.change(currentState, contract))\r\n    .extras(\r\n        VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()))\r\n    .build();\r\n}\r\n```\r\n\r\n`extras` is a string value. Is there any way I can unit test this that I can confirm what that value is so as to ensure a value is returned for this and that it is the correct value?\r\n\r\nI&#39;m aware that private methods shouldn&#39;t be unit tested. I recently encountered an issue where the line `.extras(VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()))` was missing but it wasn&#39;t picked up until an an issue was detected by a downstream application. I&#39;d like to put something in place where if this was accidentally removed, it would not go unnoticed.","title":"Unit test to check a value that gets returned from a private method","body":"<p>I have these two methods in my <code>Java</code> class:</p>\n<pre><code>public CancelOrder generateCancelOrder(\n  final CurrentState currentState,\n  final Contract contract) {\n\n    Context ctx = new Context();\n    ctx.setVariable(\n        ORDER_STATE_NOW, trans(currentState, contract));\n\n    PennyOrderDetails pennyCancelOrderDetails =\n        pennyCancelOrderService.requestCancelOrder(ctx);\n\n    return CancelOrderResponse.builder()\n        .premiumSummary(pennyCancelOrderDetails.getOrderSummary())\n        .build();\n}\n\nprivate QuoteMessageCurrentState transform(\n  final CurrentState currentState, final Contract contract) {\nreturn QuoteMessageCurrentState.builder()\n    .fromRequest(messageTemplateChanges.change(currentState, contract))\n    .extras(\n        VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()))\n    .build();\n}\n</code></pre>\n<p><code>extras</code> is a string value. Is there any way I can unit test this that I can confirm what that value is so as to ensure a value is returned for this and that it is the correct value?</p>\n<p>I'm aware that private methods shouldn't be unit tested. I recently encountered an issue where the line <code>.extras(VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()))</code> was missing but it wasn't picked up until an an issue was detected by a downstream application. I'd like to put something in place where if this was accidentally removed, it would not go unnoticed.</p>\n"},{"tags":["java","maven","jmh"],"comments":[{"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"score":0,"creation_date":1594055092,"post_id":62760852,"comment_id":110986190,"body_markdown":"try to run mvn -X and inspect the output","body":"try to run mvn -X and inspect the output"},{"owner":{"account_id":1558450,"reputation":1184,"user_id":1448906,"accept_rate":70,"display_name":"a3dsfcv"},"score":0,"creation_date":1594055656,"post_id":62760852,"comment_id":110986454,"body_markdown":"Haven&#39;t found anything about annotation preprocessors there. Nothing suspicious, Anyway, what should I pay attention to?","body":"Haven&#39;t found anything about annotation preprocessors there. Nothing suspicious, Anyway, what should I pay attention to?"}],"answers":[{"tags":[],"owner":{"account_id":1558450,"reputation":1184,"user_id":1448906,"accept_rate":70,"display_name":"a3dsfcv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594077132,"creation_date":1594077132,"answer_id":62765801,"question_id":62760852,"body_markdown":"Posting the solution: \r\nMy project has `annotationProcessorPaths` inside `maven-compiler-plugin`. So any new preprocessor should be added to this path","title":"Annotation processor for JMH is not working. How can I investigate the reason?","body":"<p>Posting the solution:\nMy project has <code>annotationProcessorPaths</code> inside <code>maven-compiler-plugin</code>. So any new preprocessor should be added to this path</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678981133,"creation_date":1678981133,"answer_id":75758422,"question_id":62760852,"body_markdown":"Here is how it&#39;s done:\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;annotationProcessorPaths&gt;\r\n      &lt;!-- WORKAROUND: https://issues.apache.org/jira/browse/MCOMPILER-369 --&gt;\r\n      &lt;path&gt;\r\n        &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\r\n        &lt;version&gt;${jmh.version}&lt;/version&gt;\r\n      &lt;/path&gt;\r\n    &lt;/annotationProcessorPaths&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Annotation processor for JMH is not working. How can I investigate the reason?","body":"<p>Here is how it's done:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;annotationProcessorPaths&gt;\n      &lt;!-- WORKAROUND: https://issues.apache.org/jira/browse/MCOMPILER-369 --&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n        &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\n        &lt;version&gt;${jmh.version}&lt;/version&gt;\n      &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1558450,"reputation":1184,"user_id":1448906,"accept_rate":70,"display_name":"a3dsfcv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678981133,"creation_date":1594054526,"question_id":62760852,"body_markdown":"I recently joined the company and need to add jmh tests. I created a test project and add simple jmh test there, it runs. But when I move my test, dependencies and `maven-shade-plugin` to my work project - jhm tests are not visible as the tests. \r\nI&#39;ve noticed that no classed generated under `target/generated-source/annotations` what is vital for jmh.\r\n\r\nWhat should be my steps to investigate the issue? I&#39;ve also noticed that there are other annotation processing libraries is used. I wonder if that can be the reason of some conflict. ","title":"Annotation processor for JMH is not working. How can I investigate the reason?","body":"<p>I recently joined the company and need to add jmh tests. I created a test project and add simple jmh test there, it runs. But when I move my test, dependencies and <code>maven-shade-plugin</code> to my work project - jhm tests are not visible as the tests.\nI've noticed that no classed generated under <code>target/generated-source/annotations</code> what is vital for jmh.</p>\n<p>What should be my steps to investigate the issue? I've also noticed that there are other annotation processing libraries is used. I wonder if that can be the reason of some conflict.</p>\n"},{"tags":["java","android","xamarin","android-recyclerview","android-animation"],"answers":[{"tags":[],"owner":{"display_name":"user3126480"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472044797,"creation_date":1472044797,"answer_id":39124520,"question_id":39124434,"body_markdown":"This might not be the answer, but it might help. I think you should set a delay between your animations. \r\n\r\n    new Handler().postDelayed(new Runnable()\r\n    {\r\n       @Override\r\n       public void run()\r\n       {\r\n         // your code that you want to delay here\r\n       }\r\n    }, 1000/* 1000ms = 1sec delay */);","title":"Animate RecyclerView items one by one","body":"<p>This might not be the answer, but it might help. I think you should set a delay between your animations. </p>\n\n<pre><code>new Handler().postDelayed(new Runnable()\n{\n   @Override\n   public void run()\n   {\n     // your code that you want to delay here\n   }\n}, 1000/* 1000ms = 1sec delay */);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":370965,"reputation":10053,"user_id":719212,"accept_rate":83,"display_name":"ductran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1472393769,"creation_date":1472378813,"answer_id":39190160,"question_id":39124434,"body_markdown":"How about this:\r\n    \r\n    public override void OnBindViewHolder(RecyclerView.ViewHolder holder, int position)\r\n    {\r\n        myHolder = holder as MyView;\r\n        if (position &gt; mCurrentPosition)\r\n        {\r\n            Handler h = new Handler();\r\n            int currentAnim = Android.Resource.Animation.SlideInLeft;\r\n            Action myAction = () =&gt; \r\n            {\r\n                SetAnimation(holder.ItemView, currentAnim);\r\n            };\r\n\r\n            h.PostDelayed(myAction, 1000);\r\n\r\n            \r\n            mCurrentPosition = position;\r\n        }\r\n\r\n    }\r\n\r\n**Update**: if you want to animate all items in order, you should put logic code out side an adapter.&lt;br&gt;\r\nFor example, in activity, after set adapter for RecyleView\r\n\r\n       List&lt;YourObject&gt; data; // your data list for RecycleView\r\n\r\n       // CALL this code after set adapter for RecycleView\r\n       Handler h = new Handler();\r\n       int currentAnim = Android.Resource.Animation.SlideInLeft;\r\n       Action myAction = () =&gt; \r\n       {     \r\n          // assume you use LinearLayoutManager  for RecyecleView\r\n\t\t    View itemView = linearLayoutManager.findViewByPosition(0);\r\n\t\t\tStartAnimation(itemView, 0);\r\n       };\r\n\r\n       h.PostDelayed(myAction, 1000);\r\n       \r\n\r\n       private void StartAnimation(View view, int position)\r\n\t\t{\r\n\r\n\t\t\tAnimation anim = AnimationUtils.LoadAnimation(mContext, currentAnim);\r\n\t\t\tanim.SetInterpolator(mContext, Android.Resource.Interpolator.Bounce);\r\n\t\t\tview.StartAnimation(anim);\r\n\t\t\tanim.AnimationEnd += (sender, e) =&gt;\r\n\t\t\t{\r\n\t\t\t\t// animate next item\r\n\r\n\t\t\t\t++position;\r\n\t\t\t\tif (position &lt; data.size()) // data is your array list\r\n                {\r\n\t\t\t\t\r\n\t\t\t\t\t// assume you use LinearLayoutManager  for RecyecleView\r\n\t\t\t\t\tView itemView = linearLayoutManager.findViewByPosition(position);\r\n\t\t\t\t\tif (itemView != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tStartAnimation(itemView, position);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n","title":"Animate RecyclerView items one by one","body":"<p>How about this:</p>\n\n<pre><code>public override void OnBindViewHolder(RecyclerView.ViewHolder holder, int position)\n{\n    myHolder = holder as MyView;\n    if (position &gt; mCurrentPosition)\n    {\n        Handler h = new Handler();\n        int currentAnim = Android.Resource.Animation.SlideInLeft;\n        Action myAction = () =&gt; \n        {\n            SetAnimation(holder.ItemView, currentAnim);\n        };\n\n        h.PostDelayed(myAction, 1000);\n\n\n        mCurrentPosition = position;\n    }\n\n}\n</code></pre>\n\n<p><strong>Update</strong>: if you want to animate all items in order, you should put logic code out side an adapter.<br>\nFor example, in activity, after set adapter for RecyleView</p>\n\n<pre><code>   List&lt;YourObject&gt; data; // your data list for RecycleView\n\n   // CALL this code after set adapter for RecycleView\n   Handler h = new Handler();\n   int currentAnim = Android.Resource.Animation.SlideInLeft;\n   Action myAction = () =&gt; \n   {     \n      // assume you use LinearLayoutManager  for RecyecleView\n        View itemView = linearLayoutManager.findViewByPosition(0);\n        StartAnimation(itemView, 0);\n   };\n\n   h.PostDelayed(myAction, 1000);\n\n\n   private void StartAnimation(View view, int position)\n    {\n\n        Animation anim = AnimationUtils.LoadAnimation(mContext, currentAnim);\n        anim.SetInterpolator(mContext, Android.Resource.Interpolator.Bounce);\n        view.StartAnimation(anim);\n        anim.AnimationEnd += (sender, e) =&gt;\n        {\n            // animate next item\n\n            ++position;\n            if (position &lt; data.size()) // data is your array list\n            {\n\n                // assume you use LinearLayoutManager  for RecyecleView\n                View itemView = linearLayoutManager.findViewByPosition(position);\n                if (itemView != null)\n                {\n                    StartAnimation(itemView, position);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11701637,"reputation":11,"user_id":8566479,"display_name":"ANKsite"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504665346,"creation_date":1504665346,"answer_id":46065929,"question_id":39124434,"body_markdown":"You need to add delay time to your animation and increment the delay every item bind.\r\n\r\n    int delayAnimate = 300; //global variable\r\n\t\r\n\t@Override\r\n    public void onBindViewHolder(final MyViewHolder holder, int position) {\r\n\t\t//set view to INVISIBLE before animate\r\n        holder.viewAnimate.setVisibility(View.INVISIBLE);\r\n        setAnimation(holder.ll_root);\r\n    }\r\n\t\r\n\tprivate void setAnimation(final View view) {\r\n        Handler handler = new Handler();\r\n        handler.postDelayed(new Runnable() {\r\n            public void run() {\r\n                Animation animation = AnimationUtils.loadAnimation(mContext, android.R.anim.slide_in_left);\r\n                if(view!=null){\r\n                    view.startAnimation(animation);\r\n                    view.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n        }, delayAnimate);\r\n        delayAnimate+=300;\r\n    }","title":"Animate RecyclerView items one by one","body":"<p>You need to add delay time to your animation and increment the delay every item bind.</p>\n\n<pre><code>int delayAnimate = 300; //global variable\n\n@Override\npublic void onBindViewHolder(final MyViewHolder holder, int position) {\n    //set view to INVISIBLE before animate\n    holder.viewAnimate.setVisibility(View.INVISIBLE);\n    setAnimation(holder.ll_root);\n}\n\nprivate void setAnimation(final View view) {\n    Handler handler = new Handler();\n    handler.postDelayed(new Runnable() {\n        public void run() {\n            Animation animation = AnimationUtils.loadAnimation(mContext, android.R.anim.slide_in_left);\n            if(view!=null){\n                view.startAnimation(animation);\n                view.setVisibility(View.VISIBLE);\n            }\n        }\n    }, delayAnimate);\n    delayAnimate+=300;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13445839,"reputation":11,"user_id":9701810,"display_name":"msLalith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524718657,"creation_date":1524718657,"answer_id":50035104,"question_id":39124434,"body_markdown":"    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        Handler().postDelayed({\r\n            // animate here\r\n        }, DURATION * position)\r\n    }\r\n\r\nDURATION * position helps to animate recyclerview items one by one.&lt;br&gt;DURATION is best when set between 50-75.\r\n","title":"Animate RecyclerView items one by one","body":"<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    Handler().postDelayed({\n        // animate here\n    }, DURATION * position)\n}\n</code></pre>\n\n<p>DURATION * position helps to animate recyclerview items one by one.<br>DURATION is best when set between 50-75.</p>\n"},{"tags":[],"owner":{"account_id":27906462,"reputation":1,"user_id":21309549,"display_name":"Dilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678981127,"creation_date":1678981127,"answer_id":75758420,"question_id":39124434,"body_markdown":"This line of code add in **onBindViewHolder**\r\n\r\n\r\n          @Override\r\n            protected void onBindViewHolder(@NonNull final MainActiviy.PostsViewHolder holder, final int position, @NonNull final Post model)\r\n            {\r\n\r\n\r\n                Animation animation = AnimationUtils.loadAnimation(holder.itemView.getContext(),android.R.anim.slide_in_left);\r\n                holder.itemView.setAnimation(animation);\r\n                \r\n              \r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n            \r\n","title":"Animate RecyclerView items one by one","body":"<p>This line of code add in <strong>onBindViewHolder</strong></p>\n<pre><code>      @Override\n        protected void onBindViewHolder(@NonNull final MainActiviy.PostsViewHolder holder, final int position, @NonNull final Post model)\n        {\n\n\n            Animation animation = AnimationUtils.loadAnimation(holder.itemView.getContext(),android.R.anim.slide_in_left);\n            holder.itemView.setAnimation(animation);\n            \n          \n\n        }\n\n\n\n\n\n        \n</code></pre>\n"}],"owner":{"account_id":162806,"reputation":2917,"user_id":384511,"accept_rate":59,"display_name":"amitairos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10233,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39190160,"answer_count":5,"score":4,"last_activity_date":1678981127,"creation_date":1472044593,"question_id":39124434,"body_markdown":"I&#39;m trying to animate my `RecyclerView` items in my app. I tried using this code in my adapter:\r\n\r\n        public override void OnBindViewHolder(RecyclerView.ViewHolder holder, int position)\r\n        {\r\n            myHolder = holder as MyView;\r\n            if (position &gt; mCurrentPosition)\r\n            {\r\n                int currentAnim = Android.Resource.Animation.SlideInLeft;\r\n                SetAnimation(holder.ItemView, currentAnim);\r\n                mCurrentPosition = position;\r\n            }\r\n\r\n        }\r\n\r\n        private void SetAnimation(View view, int currentAnim)\r\n        {\r\n            \r\n            Animation anim = AnimationUtils.LoadAnimation(mContext, currentAnim);\r\n            anim.SetInterpolator(mContext, Android.Resource.Interpolator.Bounce);\r\n            view.StartAnimation(anim);\r\n        }\r\n\r\n\r\nHowever, because all of my items appear together when the view is created, and not added when the user clicks a button, for example, all of the items animate together.   \r\n\r\nI want the items to animate one after the other, in the order of their position.  \r\nHow is this possible to do?","title":"Animate RecyclerView items one by one","body":"<p>I'm trying to animate my <code>RecyclerView</code> items in my app. I tried using this code in my adapter:</p>\n\n<pre><code>    public override void OnBindViewHolder(RecyclerView.ViewHolder holder, int position)\n    {\n        myHolder = holder as MyView;\n        if (position &gt; mCurrentPosition)\n        {\n            int currentAnim = Android.Resource.Animation.SlideInLeft;\n            SetAnimation(holder.ItemView, currentAnim);\n            mCurrentPosition = position;\n        }\n\n    }\n\n    private void SetAnimation(View view, int currentAnim)\n    {\n\n        Animation anim = AnimationUtils.LoadAnimation(mContext, currentAnim);\n        anim.SetInterpolator(mContext, Android.Resource.Interpolator.Bounce);\n        view.StartAnimation(anim);\n    }\n</code></pre>\n\n<p>However, because all of my items appear together when the view is created, and not added when the user clicks a button, for example, all of the items animate together.   </p>\n\n<p>I want the items to animate one after the other, in the order of their position.<br>\nHow is this possible to do?</p>\n"},{"tags":["java","paho","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":4470608,"reputation":592,"user_id":3637038,"display_name":"Richard Tyregrim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471597411,"creation_date":1471597411,"answer_id":39035078,"question_id":39034316,"body_markdown":"Just try to connect to the master, surround the call with appropriate error handling. If timed out or connection error, simply have code in handlers to call slave instead. If no response there either, bail out and assume the chain is broken. \r\n\r\nAlso the cluster could use a different configuration to expose only a single IP, which makes more sense. So that here are one alias queue facing out but logical queues on different machines in the cluster. This will help you later if you want to distribute to externals the possibility to connect to the cluster. ","title":"Eclipse paho connecting to distributed broker","body":"<p>Just try to connect to the master, surround the call with appropriate error handling. If timed out or connection error, simply have code in handlers to call slave instead. If no response there either, bail out and assume the chain is broken. </p>\n\n<p>Also the cluster could use a different configuration to expose only a single IP, which makes more sense. So that here are one alias queue facing out but logical queues on different machines in the cluster. This will help you later if you want to distribute to externals the possibility to connect to the cluster. </p>\n"},{"tags":[],"owner":{"account_id":5772118,"reputation":849,"user_id":4555266,"accept_rate":68,"display_name":"aries"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678980894,"creation_date":1478699801,"answer_id":40508712,"question_id":39034316,"body_markdown":"Client libraries in many languages have this option. The list can be checked here:\r\nhttps://www.eclipse.org/paho/index.php?page=downloads.php\r\n\r\nFor those clients for which &quot;high-availability&quot; is marked, support list of urls to be specified using the &quot;MqttConnectOptions&quot;.\r\n\r\nExample:\r\n\r\n            String[] URIs = {&quot;address1&quot;,&quot;address2&quot;};\r\n            MqttConnectOptions mqttConnectOptions = new MqttConnectOptions();\r\n            mqttConnectOptions.setServerURIs(URIs);","title":"Eclipse paho connecting to distributed broker","body":"<p>Client libraries in many languages have this option. The list can be checked here:\n<a href=\"https://www.eclipse.org/paho/index.php?page=downloads.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/paho/index.php?page=downloads.php</a></p>\n<p>For those clients for which &quot;high-availability&quot; is marked, support list of urls to be specified using the &quot;MqttConnectOptions&quot;.</p>\n<p>Example:</p>\n<pre><code>        String[] URIs = {&quot;address1&quot;,&quot;address2&quot;};\n        MqttConnectOptions mqttConnectOptions = new MqttConnectOptions();\n        mqttConnectOptions.setServerURIs(URIs);\n</code></pre>\n"}],"owner":{"account_id":5772118,"reputation":849,"user_id":4555266,"accept_rate":68,"display_name":"aries"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40508712,"answer_count":2,"score":1,"last_activity_date":1678980894,"creation_date":1471594863,"question_id":39034316,"body_markdown":"I am using Apache Artemis as my mqtt broker. I have an Artemis cluster which is configured in Master-Slave fashion. When the Master server fails, the backup server takes over and the client has to connect to the slave server. Master and slave are having different IP.\r\n\r\nIs there an option to specify multiple connect url (address of master and slave) while creating a MqttClient object in eclipse paho?\r\n\r\nSomething like\r\n\r\n    MqttClient cl = new MqttClient(&quot;LIST OF IPs&quot;, &quot;Publisher&quot;, new    \r\n    MemoryPersistence());\r\n\r\ninstead of just \r\n\r\n    MqttClient cl = new MqttClient(&quot;tcp://localhost:1883&quot;, &quot;Publisher&quot;, new \r\n    MemoryPersistence());\r\n\r\nsuch that when the connection to first address fails, a connection to the next address is tried.\r\n\r\nCould someone please guide in this? Much appreciated.","title":"Eclipse paho connecting to distributed broker","body":"<p>I am using Apache Artemis as my mqtt broker. I have an Artemis cluster which is configured in Master-Slave fashion. When the Master server fails, the backup server takes over and the client has to connect to the slave server. Master and slave are having different IP.</p>\n\n<p>Is there an option to specify multiple connect url (address of master and slave) while creating a MqttClient object in eclipse paho?</p>\n\n<p>Something like</p>\n\n<pre><code>MqttClient cl = new MqttClient(\"LIST OF IPs\", \"Publisher\", new    \nMemoryPersistence());\n</code></pre>\n\n<p>instead of just </p>\n\n<pre><code>MqttClient cl = new MqttClient(\"tcp://localhost:1883\", \"Publisher\", new \nMemoryPersistence());\n</code></pre>\n\n<p>such that when the connection to first address fails, a connection to the next address is tried.</p>\n\n<p>Could someone please guide in this? Much appreciated.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1678963063,"post_id":75754964,"comment_id":133636065,"body_markdown":"You mean `IntSupplier call1 = () -&gt; method1(a, b);` and `call1.getAsInt();`?","body":"You mean <code>IntSupplier call1 = () -&gt; method1(a, b);</code> and <code>call1.getAsInt();</code>?"},{"owner":{"account_id":12975436,"reputation":17,"user_id":9379598,"display_name":"vaanchit kaul"},"score":0,"creation_date":1678963172,"post_id":75754964,"comment_id":133636121,"body_markdown":"Can we make it for any return type?","body":"Can we make it for any return type?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1678963291,"post_id":75754964,"comment_id":133636169,"body_markdown":"@vaanchitkaul use a `Supplier&lt;T&gt;`, see Bohemian&#39;s answer below for an example.","body":"@vaanchitkaul use a <code>Supplier&lt;T&gt;</code>, see Bohemian&#39;s answer below for an example."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678963158,"creation_date":1678963158,"answer_id":75755069,"question_id":75754964,"body_markdown":"Use lambdas:\r\n\r\n    Supplier&lt;Integer&gt; call1 = () -&gt; method1(a,b);\r\n    Supplier&lt;Integer&gt; call2 = () -&gt; method2(a,b,c);\r\n\r\nThen later:\r\n\r\n    return call1.get() + call2.get();\r\n\r\n    ","title":"Put function call into a variable in Java","body":"<p>Use lambdas:</p>\n<pre><code>Supplier&lt;Integer&gt; call1 = () -&gt; method1(a,b);\nSupplier&lt;Integer&gt; call2 = () -&gt; method2(a,b,c);\n</code></pre>\n<p>Then later:</p>\n<pre><code>return call1.get() + call2.get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678980449,"creation_date":1678977988,"answer_id":75757861,"question_id":75754964,"body_markdown":" Somehow we need to check how many arguments and then split the parameter before sending it to invoke method as I did in methodInvoke.\r\n\r\nMain class \r\n\r\n    public static void main(String[] args) {\r\n            try {\r\n                Class clazz = DummyClass.class;\r\n                //If I want run all methods in the same instance\r\n                Object instance = clazz.newInstance();\r\n                // this method is void\r\n                CreateCall.call(clazz, instance, &quot;setObject&quot;, new Object[]{1, 2});\r\n                System.out.println(&quot;a : &quot; + CreateCall.call(clazz, instance, &quot;getA&quot;));\r\n                System.out.println(&quot;b : &quot; + CreateCall.call(clazz, instance, &quot;getB&quot;));\r\n                System.out.println(&quot; a + b :&quot; + CreateCall.call(clazz, instance, &quot;sum&quot;));\r\n            } catch (InstantiationException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IllegalAccessException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (InvocationTargetException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\nCreateCall class\r\n\r\n    class CreateCall {\r\n        public static Object call(Class clazz, Object instance, String methodName, Object... args) throws InstantiationException, IllegalAccessException, InvocationTargetException {\r\n            Object result = null;\r\n            Method[] methods = clazz.getDeclaredMethods();\r\n            for (Method method : methods) {\r\n                if (method.getName().equals(methodName))\r\n                    result = methodInvoke(instance, method, args);\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        private static Object methodInvoke(Object instance, Method method, Object[] args) throws InvocationTargetException, IllegalAccessException {\r\n            return switch (method.getParameterCount()) {\r\n                case 0 -&gt; method.invoke(instance);\r\n                case 1 -&gt; method.invoke(instance, args[0]);\r\n                case 2 -&gt; method.invoke(instance, args[0], args[1]);\r\n                case 3 -&gt; method.invoke(instance, args[0], args[1], args[2]);\r\n                default -&gt; method.invoke(instance, args);\r\n            };\r\n        }\r\n    }\r\n\r\n","title":"Put function call into a variable in Java","body":"<p>Somehow we need to check how many arguments and then split the parameter before sending it to invoke method as I did in methodInvoke.</p>\n<p>Main class</p>\n<pre><code>public static void main(String[] args) {\n        try {\n            Class clazz = DummyClass.class;\n            //If I want run all methods in the same instance\n            Object instance = clazz.newInstance();\n            // this method is void\n            CreateCall.call(clazz, instance, &quot;setObject&quot;, new Object[]{1, 2});\n            System.out.println(&quot;a : &quot; + CreateCall.call(clazz, instance, &quot;getA&quot;));\n            System.out.println(&quot;b : &quot; + CreateCall.call(clazz, instance, &quot;getB&quot;));\n            System.out.println(&quot; a + b :&quot; + CreateCall.call(clazz, instance, &quot;sum&quot;));\n        } catch (InstantiationException e) {\n            throw new RuntimeException(e);\n        } catch (IllegalAccessException e) {\n            throw new RuntimeException(e);\n        } catch (InvocationTargetException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>CreateCall class</p>\n<pre><code>class CreateCall {\n    public static Object call(Class clazz, Object instance, String methodName, Object... args) throws InstantiationException, IllegalAccessException, InvocationTargetException {\n        Object result = null;\n        Method[] methods = clazz.getDeclaredMethods();\n        for (Method method : methods) {\n            if (method.getName().equals(methodName))\n                result = methodInvoke(instance, method, args);\n        }\n        return result;\n    }\n\n    private static Object methodInvoke(Object instance, Method method, Object[] args) throws InvocationTargetException, IllegalAccessException {\n        return switch (method.getParameterCount()) {\n            case 0 -&gt; method.invoke(instance);\n            case 1 -&gt; method.invoke(instance, args[0]);\n            case 2 -&gt; method.invoke(instance, args[0], args[1]);\n            case 3 -&gt; method.invoke(instance, args[0], args[1], args[2]);\n            default -&gt; method.invoke(instance, args);\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12975436,"reputation":17,"user_id":9379598,"display_name":"vaanchit kaul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75755069,"answer_count":2,"score":0,"last_activity_date":1678980449,"creation_date":1678962744,"question_id":75754964,"body_markdown":"I wanted to know if there&#39;s a way in Java to put the entire method call, with the parameters, into a variable and then just call something like `variable.call()` to actually call it. It should work for any number of parameters. For example:\r\n\r\n```\r\nclass MyClass{\r\n    int method1(int a, int b){\r\n        return a*b;\r\n    }\r\n    int method2(int a, int b, int c){\r\n        return a*b*c;\r\n    }\r\n    int main(){\r\n        int a=1,b=2;\r\n        var call1=createCall(&quot;method1&quot;,a,b), call2=createCall(&quot;method2&quot;,a,b,c);\r\n        return call1.call()+call2.call();\r\n    }\r\n}\r\n```\r\n\r\nI referenced [this](https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string), but this requires for me to define the call-structure for the different calls because of the change in either type or number of parameters.","title":"Put function call into a variable in Java","body":"<p>I wanted to know if there's a way in Java to put the entire method call, with the parameters, into a variable and then just call something like <code>variable.call()</code> to actually call it. It should work for any number of parameters. For example:</p>\n<pre><code>class MyClass{\n    int method1(int a, int b){\n        return a*b;\n    }\n    int method2(int a, int b, int c){\n        return a*b*c;\n    }\n    int main(){\n        int a=1,b=2;\n        var call1=createCall(&quot;method1&quot;,a,b), call2=createCall(&quot;method2&quot;,a,b,c);\n        return call1.call()+call2.call();\n    }\n}\n</code></pre>\n<p>I referenced <a href=\"https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\">this</a>, but this requires for me to define the call-structure for the different calls because of the change in either type or number of parameters.</p>\n"},{"tags":["java","gradle","build","classloader","jmh"],"answers":[{"tags":[],"owner":{"account_id":8633465,"reputation":99,"user_id":6464416,"display_name":"Arijeet Bhakat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678980400,"creation_date":1678980400,"answer_id":75758302,"question_id":70394933,"body_markdown":"I have seen a similar use case where because of the architecture the benchmarks were being run on the application, and it was evident from the JMH log (use verbose mode for more logs) that the fork is running with the classpath which was missing the ForkedMain class.\r\n\r\nSo if we tried moving the `jmh-core` library to the classpath the next issue was `ERROR: Unable to find the resource: /META-INF/BenchmarkList` because the fork wasn&#39;t able to find the BenchmarkList, again because of the way the application was architected.\r\n\r\n\r\nEven though it is not recommended, but you can try setting the forks to 0 by `.forks(0)` or `@Forks(0)` and that should perform the test under the same process. (Forks are used to normalize the run-to-run variance)\r\n\r\n\r\nAdditional note: Also, the JMH won&#39;t help you out with the dependency injection, so you will have to manually ensure that the corresponding required dependencies are present for the test when you are not working with dummies","title":"JMH, Gradle - Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain","body":"<p>I have seen a similar use case where because of the architecture the benchmarks were being run on the application, and it was evident from the JMH log (use verbose mode for more logs) that the fork is running with the classpath which was missing the ForkedMain class.</p>\n<p>So if we tried moving the <code>jmh-core</code> library to the classpath the next issue was <code>ERROR: Unable to find the resource: /META-INF/BenchmarkList</code> because the fork wasn't able to find the BenchmarkList, again because of the way the application was architected.</p>\n<p>Even though it is not recommended, but you can try setting the forks to 0 by <code>.forks(0)</code> or <code>@Forks(0)</code> and that should perform the test under the same process. (Forks are used to normalize the run-to-run variance)</p>\n<p>Additional note: Also, the JMH won't help you out with the dependency injection, so you will have to manually ensure that the corresponding required dependencies are present for the test when you are not working with dummies</p>\n"}],"owner":{"account_id":18391865,"reputation":53,"user_id":13397358,"display_name":"ExtraExtremeERA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678980400,"creation_date":1639752664,"question_id":70394933,"body_markdown":"**Details:**\r\n1. I use Gradle as my build system.\r\n2. I need to run microbenchmarks when &quot;main&quot; application is running. (Due to bad architecture using adapters everywhere, there is no way to do dummies) My running method is:\r\n```java\r\npublic void benchmark() throws RunnerException {\r\n        getLogger().info(&quot;Starting microbenchmarks with JMH...&quot;);\r\n        Options opts = new OptionsBuilder()\r\n                .include(ElectricGroupBenchmark.class.getSimpleName())\r\n                .forks(1)\r\n                .threads(1)\r\n                .build();\r\n        new Runner(opts).run();\r\n}\r\n```\r\n3. Application I am developing is loaded by &quot;main&quot; application using class loader, so I don&#39;t need to shade its API and some other dependencies, that&#39;s why I don&#39;t use [gradle jmh plugin](https://github.com/melix/jmh-gradle-plugin), if I try to add dependencies using ```jmhCompileOnly``` then jmhJar will fail because plugin&#39;s sub-task generating jmh classes wouldn&#39;t deal with API classes that&#39;s not shaded in jar. Instead I use:\r\n```groovy\r\n    implementation group: &#39;org.openjdk.jmh&#39;, name: &#39;jmh-core&#39;, version: &#39;1.33&#39;\r\n    annotationProcessor group: &#39;org.openjdk.jmh&#39;, name: &#39;jmh-generator-annprocess&#39;, version: &#39;1.33&#39;\r\n```\r\nAnd this simple options to shade JMH into jar:\r\n```groovy\r\njar {\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it)}\r\n    }\r\n}\r\n```\r\nIf I try to run benchmarks while my &quot;main&quot; application is running and loaded this jar with microbenchmarks, I&#39;ll get:\r\n```\r\n[17:13:58 INFO]: # JMH version: 1.33\r\n[17:13:58 INFO]: # VM version: JDK 17.0.1, OpenJDK 64-Bit Server VM, 17.0.1+12-jvmci-21.3-b05\r\n[17:13:58 INFO]: # VM invoker: /usr/lib/jvm/graalvm-ce-java17-21.3.0/bin/java\r\n[17:13:58 INFO]: # VM options: -XX:ThreadPriorityPolicy=1 -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCIProduct -XX:-UnlockExperimentalVMOptions -javaagent:/home/denery/IdeaProjects/ElectricityMBenchmarks/.server/paper-1.17.1-400.jar -Xms1G -Xmx1G -Dfile.encoding=UTF-8 -Duser.country=RU -Duser.language=ru -Duser.variant\r\n[17:13:58 INFO]: # Blackhole mode: full + dont-inline hint (default, use -Djmh.blackhole.autoDetect=true to auto-detect)\r\n[17:13:58 INFO]: # Warmup: 3 iterations, 10 s each\r\n[17:13:58 INFO]: # Measurement: 3 iterations, 10 s each\r\n[17:13:58 INFO]: # Timeout: 10 min per iteration\r\n[17:13:58 INFO]: # Threads: 1 thread, will synchronize iterations\r\n[17:13:58 INFO]: # Benchmark mode: Average time, time/op\r\n[17:13:58 INFO]: # Benchmark: ru.worldm.electricity.benchmarks.ElectricGroupBenchmark.connectBenchmark\r\n[17:13:58 INFO]: \r\n[17:13:58 INFO]: # Run progress: 0,00% complete, ETA 00:01:00\r\n[17:13:58 INFO]: # Fork: 1 of 1\r\n[17:13:58 INFO]: OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.\r\n[17:14:00 INFO]: Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain\r\n[17:14:00 INFO]: Caused by: java.lang.ClassNotFoundException: org.openjdk.jmh.runner.ForkedMain\r\n[17:14:00 INFO]: &lt;forked VM failed with exit code 1&gt;\r\n[17:14:00 INFO]: &lt;stdout last=&#39;20 lines&#39;&gt;\r\n[17:14:00 INFO]: &lt;/stdout&gt;\r\n[17:14:00 INFO]: &lt;stderr last=&#39;20 lines&#39;&gt;\r\n[17:14:00 INFO]: OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.\r\n[17:14:00 INFO]: Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain\r\n[17:14:00 INFO]: Caused by: java.lang.ClassNotFoundException: org.openjdk.jmh.runner.ForkedMain\r\n[17:14:00 INFO]: &lt;/stderr&gt;\r\n[17:14:00 INFO]: \r\n[17:14:00 INFO]: # Run complete. Total time: 00:00:00\r\n[17:14:00 INFO]: \r\n[17:14:00 INFO]: REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on\r\n[17:14:00 INFO]: why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial\r\n[17:14:00 INFO]: experiments, perform baseline and negative tests that provide experimental control, make sure\r\n[17:14:00 INFO]: the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.\r\n[17:14:00 INFO]: Do not assume the numbers tell you what you want them to tell.\r\n[17:14:00 INFO]: \r\n[17:14:00 INFO]: Benchmark  Mode  Cnt  Score   Error  Units\r\n```\r\nBut org.openjdk.jmh.runner.ForkedMain is shaded into my Jar which is loaded my &quot;main&quot; application, what&#39;s problem in there?","title":"JMH, Gradle - Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain","body":"<p><strong>Details:</strong></p>\n<ol>\n<li>I use Gradle as my build system.</li>\n<li>I need to run microbenchmarks when &quot;main&quot; application is running. (Due to bad architecture using adapters everywhere, there is no way to do dummies) My running method is:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public void benchmark() throws RunnerException {\n        getLogger().info(&quot;Starting microbenchmarks with JMH...&quot;);\n        Options opts = new OptionsBuilder()\n                .include(ElectricGroupBenchmark.class.getSimpleName())\n                .forks(1)\n                .threads(1)\n                .build();\n        new Runner(opts).run();\n}\n</code></pre>\n<ol start=\"3\">\n<li>Application I am developing is loaded by &quot;main&quot; application using class loader, so I don't need to shade its API and some other dependencies, that's why I don't use <a href=\"https://github.com/melix/jmh-gradle-plugin\" rel=\"nofollow noreferrer\">gradle jmh plugin</a>, if I try to add dependencies using <code>jmhCompileOnly</code> then jmhJar will fail because plugin's sub-task generating jmh classes wouldn't deal with API classes that's not shaded in jar. Instead I use:</li>\n</ol>\n<pre><code>    implementation group: 'org.openjdk.jmh', name: 'jmh-core', version: '1.33'\n    annotationProcessor group: 'org.openjdk.jmh', name: 'jmh-generator-annprocess', version: '1.33'\n</code></pre>\n<p>And this simple options to shade JMH into jar:</p>\n<pre><code>jar {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it)}\n    }\n}\n</code></pre>\n<p>If I try to run benchmarks while my &quot;main&quot; application is running and loaded this jar with microbenchmarks, I'll get:</p>\n<pre><code>[17:13:58 INFO]: # JMH version: 1.33\n[17:13:58 INFO]: # VM version: JDK 17.0.1, OpenJDK 64-Bit Server VM, 17.0.1+12-jvmci-21.3-b05\n[17:13:58 INFO]: # VM invoker: /usr/lib/jvm/graalvm-ce-java17-21.3.0/bin/java\n[17:13:58 INFO]: # VM options: -XX:ThreadPriorityPolicy=1 -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCIProduct -XX:-UnlockExperimentalVMOptions -javaagent:/home/denery/IdeaProjects/ElectricityMBenchmarks/.server/paper-1.17.1-400.jar -Xms1G -Xmx1G -Dfile.encoding=UTF-8 -Duser.country=RU -Duser.language=ru -Duser.variant\n[17:13:58 INFO]: # Blackhole mode: full + dont-inline hint (default, use -Djmh.blackhole.autoDetect=true to auto-detect)\n[17:13:58 INFO]: # Warmup: 3 iterations, 10 s each\n[17:13:58 INFO]: # Measurement: 3 iterations, 10 s each\n[17:13:58 INFO]: # Timeout: 10 min per iteration\n[17:13:58 INFO]: # Threads: 1 thread, will synchronize iterations\n[17:13:58 INFO]: # Benchmark mode: Average time, time/op\n[17:13:58 INFO]: # Benchmark: ru.worldm.electricity.benchmarks.ElectricGroupBenchmark.connectBenchmark\n[17:13:58 INFO]: \n[17:13:58 INFO]: # Run progress: 0,00% complete, ETA 00:01:00\n[17:13:58 INFO]: # Fork: 1 of 1\n[17:13:58 INFO]: OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.\n[17:14:00 INFO]: Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain\n[17:14:00 INFO]: Caused by: java.lang.ClassNotFoundException: org.openjdk.jmh.runner.ForkedMain\n[17:14:00 INFO]: &lt;forked VM failed with exit code 1&gt;\n[17:14:00 INFO]: &lt;stdout last='20 lines'&gt;\n[17:14:00 INFO]: &lt;/stdout&gt;\n[17:14:00 INFO]: &lt;stderr last='20 lines'&gt;\n[17:14:00 INFO]: OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.\n[17:14:00 INFO]: Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain\n[17:14:00 INFO]: Caused by: java.lang.ClassNotFoundException: org.openjdk.jmh.runner.ForkedMain\n[17:14:00 INFO]: &lt;/stderr&gt;\n[17:14:00 INFO]: \n[17:14:00 INFO]: # Run complete. Total time: 00:00:00\n[17:14:00 INFO]: \n[17:14:00 INFO]: REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on\n[17:14:00 INFO]: why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial\n[17:14:00 INFO]: experiments, perform baseline and negative tests that provide experimental control, make sure\n[17:14:00 INFO]: the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.\n[17:14:00 INFO]: Do not assume the numbers tell you what you want them to tell.\n[17:14:00 INFO]: \n[17:14:00 INFO]: Benchmark  Mode  Cnt  Score   Error  Units\n</code></pre>\n<p>But org.openjdk.jmh.runner.ForkedMain is shaded into my Jar which is loaded my &quot;main&quot; application, what's problem in there?</p>\n"},{"tags":["java","docker","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1678980567,"post_id":75758274,"comment_id":133641694,"body_markdown":"Only if you run IDE inside the VM and connect to it via the Gateway. https://www.jetbrains.com/remote-development/.","body":"Only if you run IDE inside the VM and connect to it via the Gateway. <a href=\"https://www.jetbrains.com/remote-development/\" rel=\"nofollow noreferrer\">jetbrains.com/remote-development</a>."},{"owner":{"account_id":104398,"reputation":4444,"user_id":279147,"accept_rate":50,"display_name":"Christopher Thomas"},"score":0,"creation_date":1678982129,"post_id":75758274,"comment_id":133642160,"body_markdown":"hmm, unfortunate that I can&#39;t configure java and intellij to put all the gradle stuff into the project folder, which when mounted for development could be used to resolve this information locally and inside the container","body":"hmm, unfortunate that I can&#39;t configure java and intellij to put all the gradle stuff into the project folder, which when mounted for development could be used to resolve this information locally and inside the container"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1678983206,"post_id":75758274,"comment_id":133642492,"body_markdown":"You can have a local copy of the project on your system and deploy it to Docker for testing, see https://www.jetbrains.com/help/idea/running-a-java-app-in-a-container.html.","body":"You can have a local copy of the project on your system and deploy it to Docker for testing, see <a href=\"https://www.jetbrains.com/help/idea/running-a-java-app-in-a-container.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/running-a-java-app-in-a-container.ht&zwnj;&#8203;ml</a>."},{"owner":{"account_id":104398,"reputation":4444,"user_id":279147,"accept_rate":50,"display_name":"Christopher Thomas"},"score":0,"creation_date":1678984374,"post_id":75758274,"comment_id":133642899,"body_markdown":"I would always have a local copy of the project on the computer, but the container is where it&#39;s being run, and gradle is executing, so the issue is, how to have both working at the same time. I found some option that lets me configure gradle to define the class path. I was thinking to put that into the project directory. Then tell IntelliJ to use that same directory for the classpath","body":"I would always have a local copy of the project on the computer, but the container is where it&#39;s being run, and gradle is executing, so the issue is, how to have both working at the same time. I found some option that lets me configure gradle to define the class path. I was thinking to put that into the project directory. Then tell IntelliJ to use that same directory for the classpath"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1678984457,"post_id":75758274,"comment_id":133642930,"body_markdown":"Gradle sets the classpath for your project. It should work locally. If it doesn&#39;t work, please provide the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Gradle sets the classpath for your project. It should work locally. If it doesn&#39;t work, please provide the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}],"owner":{"account_id":104398,"reputation":4444,"user_id":279147,"accept_rate":50,"display_name":"Christopher Thomas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678980210,"creation_date":1678980210,"question_id":75758274,"body_markdown":"When my app is running inside a docker container, the problem is the integration between the environment inside the container and outside the container means my IDE does not know what classes are defined and all the gradle packages that I think my java app is setting in the class path are not available for my IDE (IntelliJ in this case).\r\n\r\nIs there a solution to this, that would allow me to properly work in Docker, yet have some IDE integration for autocomplete and associated functionality?","title":"When java app run inside Docker Container, IDE cannot find classes, how to connect them together?","body":"<p>When my app is running inside a docker container, the problem is the integration between the environment inside the container and outside the container means my IDE does not know what classes are defined and all the gradle packages that I think my java app is setting in the class path are not available for my IDE (IntelliJ in this case).</p>\n<p>Is there a solution to this, that would allow me to properly work in Docker, yet have some IDE integration for autocomplete and associated functionality?</p>\n"},{"tags":["java","spring","kotlin","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678980136,"creation_date":1678814436,"answer_id":75736423,"question_id":75733304,"body_markdown":"&gt; Is there a way of defaulting for empty string to null without writing\r\n&gt; custom deserializer?\r\n\r\nYes, you can enable the [`ACCEPT_EMPTY_STRING_AS_NULL_OBJECT`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_EMPTY_STRING_AS_NULL_OBJECT) deserialization feature to allow JSON empty String value (&quot;&quot;) to be bound as `null` for POJOs and other structured values (Maps, Collections):\r\n\r\n~~~\r\nval mapper = ObjectMapper()\r\nmapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT)\r\nval testRequest = mapper1.readValue&lt;TestRequest&gt;(request)\r\n~~~\r\n\r\nIf the change is limited to just one endpoint like you described you can create inside the bound controller a new `ObjectMapper` mapper with the enabled feature to avoid unknown side effects in other parts of your application and convert the `RequestBody` value to a `string` value, then passing the string value to the local mapper.","title":"Kotlin Spring optional RequestBody map empty string to null","body":"<blockquote>\n<p>Is there a way of defaulting for empty string to null without writing\ncustom deserializer?</p>\n</blockquote>\n<p>Yes, you can enable the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_EMPTY_STRING_AS_NULL_OBJECT\" rel=\"nofollow noreferrer\"><code>ACCEPT_EMPTY_STRING_AS_NULL_OBJECT</code></a> deserialization feature to allow JSON empty String value (&quot;&quot;) to be bound as <code>null</code> for POJOs and other structured values (Maps, Collections):</p>\n<pre><code>val mapper = ObjectMapper()\nmapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT)\nval testRequest = mapper1.readValue&lt;TestRequest&gt;(request)\n</code></pre>\n<p>If the change is limited to just one endpoint like you described you can create inside the bound controller a new <code>ObjectMapper</code> mapper with the enabled feature to avoid unknown side effects in other parts of your application and convert the <code>RequestBody</code> value to a <code>string</code> value, then passing the string value to the local mapper.</p>\n"}],"owner":{"account_id":25541651,"reputation":53,"user_id":19327603,"display_name":"Lofalan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75736423,"answer_count":1,"score":3,"last_activity_date":1678980136,"creation_date":1678797854,"question_id":75733304,"body_markdown":"Recently I did a change to an **API** which at first should&#39;ve been backwards compatible, but due to the client my endpoint started responding **400 Bad Request**, what I did is added optional RequestBody to **PUT** endpoint which shouldn&#39;t have cause any issues since it&#39;s optional, but client send empty string value which can&#39;t be deserialized into object and Jackson fails to deserialize.\r\n\r\nMy dto object:\r\n\r\n```\r\ndata class TestRequest(@field:Future val expiresDatetime: Instant? )\r\n```\r\n\r\nEndpoint definition:\r\n\r\n```\r\n@PutMapping(&quot;/{testId}/revoke&quot;)\r\nfun revoke(\r\n@PathVariable testId: String,\r\n@Valid\r\n@RequestBody(required = false)\r\nrequest: TestRequest? = null,\r\n): TestRevokeResponse =\r\ntestService.revoke(testId, request)\r\n```\r\n\r\nUpon debugging what is being sent to the endpoint I noticed these headers:\r\n`Content-Type: application/json content-type: application/json; charset=utf-8 content-length: 2`\r\n\r\nAnd payload being: `&quot;&quot;`\r\n\r\nIs there a way of defaulting for empty string to null without writing custom deserializer?\r\n\r\n I&#39;ve tried writting my own deserializer but it seems as an overhead for such a case to create deserializer.","title":"Kotlin Spring optional RequestBody map empty string to null","body":"<p>Recently I did a change to an <strong>API</strong> which at first should've been backwards compatible, but due to the client my endpoint started responding <strong>400 Bad Request</strong>, what I did is added optional RequestBody to <strong>PUT</strong> endpoint which shouldn't have cause any issues since it's optional, but client send empty string value which can't be deserialized into object and Jackson fails to deserialize.</p>\n<p>My dto object:</p>\n<pre><code>data class TestRequest(@field:Future val expiresDatetime: Instant? )\n</code></pre>\n<p>Endpoint definition:</p>\n<pre><code>@PutMapping(&quot;/{testId}/revoke&quot;)\nfun revoke(\n@PathVariable testId: String,\n@Valid\n@RequestBody(required = false)\nrequest: TestRequest? = null,\n): TestRevokeResponse =\ntestService.revoke(testId, request)\n</code></pre>\n<p>Upon debugging what is being sent to the endpoint I noticed these headers:\n<code>Content-Type: application/json content-type: application/json; charset=utf-8 content-length: 2</code></p>\n<p>And payload being: <code>&quot;&quot;</code></p>\n<p>Is there a way of defaulting for empty string to null without writing custom deserializer?</p>\n<p>I've tried writting my own deserializer but it seems as an overhead for such a case to create deserializer.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678979463,"post_id":75758061,"comment_id":133641309,"body_markdown":"Take out &#39;@ExceptionHandler(NotFoundException.class) &amp; &#39;@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)","body":"Take out &#39;@ExceptionHandler(NotFoundException.class) &amp; &#39;@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)"}],"answers":[{"tags":[],"owner":{"account_id":28034117,"reputation":26,"user_id":21412826,"display_name":"Сулейман Хаттабыч"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678980125,"creation_date":1678980125,"answer_id":75758260,"question_id":75758061,"body_markdown":"Your handler need a parameter same as your exception:\r\n\r\n    @ExceptionHandler(NotFoundException.class)\r\n    public Response handleException(NotFoundException e) {\r\n        return new Response(e.getMessage());\r\n    }","title":"Problem handling Exception with Spring boot","body":"<p>Your handler need a parameter same as your exception:</p>\n<pre><code>@ExceptionHandler(NotFoundException.class)\npublic Response handleException(NotFoundException e) {\n    return new Response(e.getMessage());\n}\n</code></pre>\n"}],"owner":{"account_id":28033904,"reputation":3,"user_id":21412641,"display_name":"Loppy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679152755,"accepted_answer_id":75758260,"answer_count":1,"score":0,"last_activity_date":1678980125,"creation_date":1678979263,"question_id":75758061,"body_markdown":"I&#39;m new to the Spring universe so i decided to try something simple to learn it.\r\ni tryed to create a simple rest api with simple crud operations. The problem comes out trying to handle the different type of exceptions.\r\n\r\nI tryed to handle the exception in the @RestController class with this function:\r\n    \r\n```\r\n@ExceptionHandler(NotFoundException.class)\r\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    @GetMapping(value = &quot;userino/{id}&quot;)\r\n    public User getUserino(@PathVariable long id){\r\n        Optional&lt;User&gt; u = userRepo.findById(id);\r\n\r\n        if(u.isPresent())\r\n            return u.get();\r\n        \r\n        throw new NotFoundException(&quot;Inexistent user &quot;+id);\r\n        \r\n    }\r\n```\r\n\r\nbut using the path &quot;localhost:8080/userino/3&quot; (User 3 doesn&#39;t exist) on postman i visualize the following message: \r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-03-16T14:46:10.041+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/userino/3&quot;\r\n}\r\n\r\n```\r\nHow do i fix this? i just want to visualize my own Error message.\r\nthx to evryone\r\n\r\ni expet to visualize my own txt error nt the default one.","title":"Problem handling Exception with Spring boot","body":"<p>I'm new to the Spring universe so i decided to try something simple to learn it.\ni tryed to create a simple rest api with simple crud operations. The problem comes out trying to handle the different type of exceptions.</p>\n<p>I tryed to handle the exception in the @RestController class with this function:</p>\n<pre><code>@ExceptionHandler(NotFoundException.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @GetMapping(value = &quot;userino/{id}&quot;)\n    public User getUserino(@PathVariable long id){\n        Optional&lt;User&gt; u = userRepo.findById(id);\n\n        if(u.isPresent())\n            return u.get();\n        \n        throw new NotFoundException(&quot;Inexistent user &quot;+id);\n        \n    }\n</code></pre>\n<p>but using the path &quot;localhost:8080/userino/3&quot; (User 3 doesn't exist) on postman i visualize the following message:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-03-16T14:46:10.041+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/userino/3&quot;\n}\n\n</code></pre>\n<p>How do i fix this? i just want to visualize my own Error message.\nthx to evryone</p>\n<p>i expet to visualize my own txt error nt the default one.</p>\n"},{"tags":["java","spi","java-9","service-locator","module-info"],"comments":[{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":4,"creation_date":1507473342,"post_id":46632187,"comment_id":80213809,"body_markdown":"I assume you meant to add `provides eu.com.example.text.spi.TextAPI with eu.com.example.implb.text.TextB` as TextB is the implementation (not the service type).","body":"I assume you meant to add <code>provides eu.com.example.text.spi.TextAPI with eu.com.example.implb.text.TextB</code> as TextB is the implementation (not the service type)."},{"owner":{"account_id":1295412,"reputation":396,"user_id":1246599,"accept_rate":70,"display_name":"Radosław Osiński"},"score":0,"creation_date":1507473548,"post_id":46632187,"comment_id":80213871,"body_markdown":"Thank you very much! I have spend on this typo few hours. That solved my problem.","body":"Thank you very much! I have spend on this typo few hours. That solved my problem."}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1507473752,"creation_date":1507473379,"answer_id":46632280,"question_id":46632187,"body_markdown":"You can change to using:-\r\n\r\n    provides eu.com.example.text.spi.TextAPI with eu.com.example.implb.text.TextB; \r\n    // you provide a service through its implementation\r\n\r\ninstead of \r\n\r\n    provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI; \r\n\r\n\r\n***[Services](http://openjdk.java.net/projects/jigsaw/spec/sotms/#services)*** in the document provides a sample around the implementation.\r\n","title":"SPI + JDK 9 + module-info.java","body":"<p>You can change to using:-</p>\n\n<pre><code>provides eu.com.example.text.spi.TextAPI with eu.com.example.implb.text.TextB; \n// you provide a service through its implementation\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI; \n</code></pre>\n\n<p><strong><em><a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/#services\" rel=\"nofollow noreferrer\">Services</a></em></strong> in the document provides a sample around the implementation.</p>\n"},{"tags":[],"owner":{"account_id":10894943,"reputation":529,"user_id":8009264,"display_name":"Yuresh Karunanayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628480745,"creation_date":1628480745,"answer_id":68706624,"question_id":46632187,"body_markdown":"A module can specify that it provides a service with a specific type of service providers. It is declared using `provides` and `with` keyword.\r\n\r\nsyntax : **provides** serviceType **with** implementationTypes;\r\n\r\n( Can specify multiple implementations types as a comma-separated list )\r\n\r\nTherefore in your module `eu.com.example.implb.text` should add following statement.\r\n\r\n\r\n\r\n    provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\r\n\r\n\r\nNOTE : `provides` does not equal `exports`. So any other modules that requires `eu.com.example.implb.text` will not access `eu.com.example.implb.text.TextB` if it doesn&#39;t exports.","title":"SPI + JDK 9 + module-info.java","body":"<p>A module can specify that it provides a service with a specific type of service providers. It is declared using <code>provides</code> and <code>with</code> keyword.</p>\n<p>syntax : <strong>provides</strong> serviceType <strong>with</strong> implementationTypes;</p>\n<p>( Can specify multiple implementations types as a comma-separated list )</p>\n<p>Therefore in your module <code>eu.com.example.implb.text</code> should add following statement.</p>\n<pre><code>provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\n</code></pre>\n<p>NOTE : <code>provides</code> does not equal <code>exports</code>. So any other modules that requires <code>eu.com.example.implb.text</code> will not access <code>eu.com.example.implb.text.TextB</code> if it doesn't exports.</p>\n"}],"owner":{"account_id":1295412,"reputation":396,"user_id":1246599,"accept_rate":70,"display_name":"Radosław Osiński"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1413,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":46632280,"answer_count":2,"score":7,"last_activity_date":1678979993,"creation_date":1507472808,"question_id":46632187,"body_markdown":"I am experimenting with SPI on JDK 9. Entire example works on JDK 9 without &quot;module-info.java&quot;. After adding &quot;module-info.java&quot; ServiceLocator is not finding implementing class. I am confused and I cannot find working SPI example in modularized JDK 9 project.\r\n\r\n\r\nSo my example project looks like this:\r\n\r\n    /spidemo\r\n    ├── apiModule\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     └── main\r\n    │&#160;&#160;         └── java\r\n    │&#160;&#160;             ├── eu\r\n    │&#160;&#160;             │&#160;&#160; └── com\r\n    │&#160;&#160;             │&#160;&#160;     └── example\r\n    │&#160;&#160;             │&#160;&#160;         └── text\r\n    │&#160;&#160;             │&#160;&#160;             └── spi\r\n    │&#160;&#160;             │&#160;&#160;                 └── TextAPI.java\r\n    │&#160;&#160;             └── module-info.java\r\n    ├── applicationB\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     └── main\r\n    │&#160;&#160;         ├── java\r\n    │&#160;&#160;         │&#160;&#160; └── eu\r\n    │&#160;&#160;         │&#160;&#160;     └── com\r\n    │&#160;&#160;         │&#160;&#160;         └── example\r\n    │&#160;&#160;         │&#160;&#160;             └── spi\r\n    │&#160;&#160;         │&#160;&#160;                 └── b\r\n    │&#160;&#160;         │&#160;&#160;                     └── application\r\n    │&#160;&#160;         │&#160;&#160;                         └── DemoB.java\r\n    │&#160;&#160;         └── module-info.java\r\n    ├── applicationCommon\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     └── main\r\n    │&#160;&#160;         └── java\r\n    │&#160;&#160;             ├── eu\r\n    │&#160;&#160;             │&#160;&#160; └── com\r\n    │&#160;&#160;             │&#160;&#160;     └── example\r\n    │&#160;&#160;             │&#160;&#160;         └── spi\r\n    │&#160;&#160;             │&#160;&#160;             └── application\r\n    │&#160;&#160;             │&#160;&#160;                 └── TextAPIProvider.java\r\n    │&#160;&#160;             └── module-info.java\r\n    ├── implementationB\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     └── main\r\n    │&#160;&#160;         ├── java\r\n    │&#160;&#160;         │&#160;&#160; └── eu\r\n    │&#160;&#160;         │&#160;&#160;     └── com\r\n    │&#160;&#160;         │&#160;&#160;         └── example\r\n    │&#160;&#160;         │&#160;&#160;             └── implb\r\n    │&#160;&#160;         │&#160;&#160;                 └── text\r\n    │&#160;&#160;         │&#160;&#160;                     └── TextB.java\r\n    │&#160;&#160;         ├── module-info.java\r\n    │&#160;&#160;         └── resources\r\n    │&#160;&#160;             └── META-INF\r\n    │&#160;&#160;                 └── services\r\n    │&#160;&#160;                     └── eu.com.example.text.spi.TextAPI\r\n\r\nI have introduced interface:\r\n\r\n    package eu.com.example.text.spi;\r\n    public interface TextAPI {\r\n        String getHelloWorldText();\r\n    }\r\nThis interface is implemented by:\r\n   \r\n    package eu.com.example.implb.text;\r\n    import eu.com.example.text.spi.TextAPI;\r\n    public class TextB implements TextAPI { \r\n        public String getHelloWorldText() {\r\n            return &quot;Text from B implementation&quot;;\r\n        }\r\n    }\r\n\r\nThe implementation is searched by code similar to:\r\n\r\n    package eu.com.example.spi.application;\r\n    import eu.com.example.text.spi.DefaultTextAPI;\r\n    import eu.com.example.text.spi.TextAPI;\r\n    import java.util.ServiceLoader;\r\n    public class TextAPIProvider {\r\n    \r\n        public static TextAPI getProvider(String providerName) {\r\n            ServiceLoader&lt;TextAPI&gt; serviceLoader = ServiceLoader.load(TextAPI.class);\r\n            for (TextAPI provider : serviceLoader) {\r\n                String className = provider.getClass().getName();\r\n                if (providerName.equals(className)) {\r\n                    return provider;\r\n                }\r\n            }\r\n            throw new RuntimeException(providerName + &quot; provider is not found!&quot;);\r\n        }\r\n    }\r\nAnd now is the fun part. When I am executing class below without:\r\n\r\n - /implementationB/src/main/java/module-info.java\r\n - /applicationB/src/main/java/module-info.java\r\n\r\nthen implementation class is found and text is printed out.\r\n\r\n    package eu.com.example.spi.b.application;\r\n    import eu.com.example.spi.application.TextAPIProvider;\r\n    public class DemoB {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;---&gt; &quot; + TextAPIProvider.getProvider(&quot;eu.com.example.implb.text.TextB&quot;).getHelloWorldText());\r\n        }\r\n    }\r\nAfter introducing this two &quot;module-info.java&quot; files implementation class is not found by ServiceLocator.\r\nContent of /applicationB/src/main/java/module-info.java:\r\n\r\n    module eu.com.example.applicationB {\r\n        requires eu.com.example.apiModule;\r\n        requires transitive eu.com.example.applicationCommon;\r\n        uses eu.com.example.text.spi.TextAPI;\r\n    }\r\nContent of /implementationB/src/main/java/module-info.java:\r\n\r\n    module eu.com.example.implb.text {\r\n        requires eu.com.example.apiModule;\r\n        exports eu.com.example.implb.text;\r\n    //    provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\r\n    }\r\nWhen I uncomment:\r\n\r\n    provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\r\nline then compilation error occurs:\r\n\r\n    .../implementationB/src/main/java/module-info.java:[7,74] the service implementation type must be a subtype of the service interface type, or have a public static no-args method named &quot;provider&quot; returning the service implementation\r\n    .../implementationB/src/main/java/module-info.java:[7,5] service implementation must be defined in the same module as the provides directive\r\n\r\nI have tried to change package names as compilation error sugests, but then I have introduced &quot;split package&quot; issues. \r\n\r\nWhat I should do to use ServiceLocator in fully modularized JDK 9? Is it possible? Have anyone seen working example?\r\nCode can be also seen here: https://github.com/RadoslawOsinski/spidemo","title":"SPI + JDK 9 + module-info.java","body":"<p>I am experimenting with SPI on JDK 9. Entire example works on JDK 9 without &quot;module-info.java&quot;. After adding &quot;module-info.java&quot; ServiceLocator is not finding implementing class. I am confused and I cannot find working SPI example in modularized JDK 9 project.</p>\n<p>So my example project looks like this:</p>\n<pre><code>/spidemo\n├── apiModule\n│   ├── pom.xml\n│   └── src\n│       └── main\n│           └── java\n│               ├── eu\n│               │   └── com\n│               │       └── example\n│               │           └── text\n│               │               └── spi\n│               │                   └── TextAPI.java\n│               └── module-info.java\n├── applicationB\n│   ├── pom.xml\n│   └── src\n│       └── main\n│           ├── java\n│           │   └── eu\n│           │       └── com\n│           │           └── example\n│           │               └── spi\n│           │                   └── b\n│           │                       └── application\n│           │                           └── DemoB.java\n│           └── module-info.java\n├── applicationCommon\n│   ├── pom.xml\n│   └── src\n│       └── main\n│           └── java\n│               ├── eu\n│               │   └── com\n│               │       └── example\n│               │           └── spi\n│               │               └── application\n│               │                   └── TextAPIProvider.java\n│               └── module-info.java\n├── implementationB\n│   ├── pom.xml\n│   └── src\n│       └── main\n│           ├── java\n│           │   └── eu\n│           │       └── com\n│           │           └── example\n│           │               └── implb\n│           │                   └── text\n│           │                       └── TextB.java\n│           ├── module-info.java\n│           └── resources\n│               └── META-INF\n│                   └── services\n│                       └── eu.com.example.text.spi.TextAPI\n</code></pre>\n<p>I have introduced interface:</p>\n<pre><code>package eu.com.example.text.spi;\npublic interface TextAPI {\n    String getHelloWorldText();\n}\n</code></pre>\n<p>This interface is implemented by:</p>\n<pre><code>package eu.com.example.implb.text;\nimport eu.com.example.text.spi.TextAPI;\npublic class TextB implements TextAPI { \n    public String getHelloWorldText() {\n        return &quot;Text from B implementation&quot;;\n    }\n}\n</code></pre>\n<p>The implementation is searched by code similar to:</p>\n<pre><code>package eu.com.example.spi.application;\nimport eu.com.example.text.spi.DefaultTextAPI;\nimport eu.com.example.text.spi.TextAPI;\nimport java.util.ServiceLoader;\npublic class TextAPIProvider {\n\n    public static TextAPI getProvider(String providerName) {\n        ServiceLoader&lt;TextAPI&gt; serviceLoader = ServiceLoader.load(TextAPI.class);\n        for (TextAPI provider : serviceLoader) {\n            String className = provider.getClass().getName();\n            if (providerName.equals(className)) {\n                return provider;\n            }\n        }\n        throw new RuntimeException(providerName + &quot; provider is not found!&quot;);\n    }\n}\n</code></pre>\n<p>And now is the fun part. When I am executing class below without:</p>\n<ul>\n<li>/implementationB/src/main/java/module-info.java</li>\n<li>/applicationB/src/main/java/module-info.java</li>\n</ul>\n<p>then implementation class is found and text is printed out.</p>\n<pre><code>package eu.com.example.spi.b.application;\nimport eu.com.example.spi.application.TextAPIProvider;\npublic class DemoB {\n    public static void main(String[] args) {\n        System.out.println(&quot;---&gt; &quot; + TextAPIProvider.getProvider(&quot;eu.com.example.implb.text.TextB&quot;).getHelloWorldText());\n    }\n}\n</code></pre>\n<p>After introducing this two &quot;module-info.java&quot; files implementation class is not found by ServiceLocator.\nContent of /applicationB/src/main/java/module-info.java:</p>\n<pre><code>module eu.com.example.applicationB {\n    requires eu.com.example.apiModule;\n    requires transitive eu.com.example.applicationCommon;\n    uses eu.com.example.text.spi.TextAPI;\n}\n</code></pre>\n<p>Content of /implementationB/src/main/java/module-info.java:</p>\n<pre><code>module eu.com.example.implb.text {\n    requires eu.com.example.apiModule;\n    exports eu.com.example.implb.text;\n//    provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\n}\n</code></pre>\n<p>When I uncomment:</p>\n<pre><code>provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\n</code></pre>\n<p>line then compilation error occurs:</p>\n<pre><code>.../implementationB/src/main/java/module-info.java:[7,74] the service implementation type must be a subtype of the service interface type, or have a public static no-args method named &quot;provider&quot; returning the service implementation\n.../implementationB/src/main/java/module-info.java:[7,5] service implementation must be defined in the same module as the provides directive\n</code></pre>\n<p>I have tried to change package names as compilation error sugests, but then I have introduced &quot;split package&quot; issues.</p>\n<p>What I should do to use ServiceLocator in fully modularized JDK 9? Is it possible? Have anyone seen working example?\nCode can be also seen here: <a href=\"https://github.com/RadoslawOsinski/spidemo\" rel=\"nofollow noreferrer\">https://github.com/RadoslawOsinski/spidemo</a></p>\n"},{"tags":["java","compiler-errors","java-9","java-module","java-platform-module-system"],"comments":[{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":2,"creation_date":1487664730,"post_id":42358084,"comment_id":71873835,"body_markdown":"Small improvements (possibly): When extracting the module name from the JAR name, the module system will throw out substrings that look like versions ~&gt; try it without renaming them. The module path accepts directories as well ~&gt; in case you have a dir that only contains dependencies, put it on the module path directly.","body":"Small improvements (possibly): When extracting the module name from the JAR name, the module system will throw out substrings that look like versions ~&gt; try it without renaming them. The module path accepts directories as well ~&gt; in case you have a dir that only contains dependencies, put it on the module path directly."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":2,"creation_date":1487699173,"post_id":42358084,"comment_id":71898095,"body_markdown":"Unrelated to your current question, I&#39;d suggest upgrading to a newer build of JDK 9. Build 148 (I think) made some significant changes to the accessibility of private types and members via reflection. Current build is 157.","body":"Unrelated to your current question, I&#39;d suggest upgrading to a newer build of JDK 9. Build 148 (I think) made some significant changes to the accessibility of private types and members via reflection. Current build is 157."}],"answers":[{"tags":[],"owner":{"account_id":4714434,"reputation":41866,"user_id":3814029,"accept_rate":67,"display_name":"Andy Guibert"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1487648760,"creation_date":1487648338,"answer_id":42358212,"question_id":42358084,"body_markdown":"&gt; Am I using the new module system correctly?\r\n\r\nYes.  What you are seeing is intended behavior, and this is because JPMS modules do not allow split packages.\r\n\r\nIn case you are not familiar with the term &quot;split packages&quot; it essentially means two members of the same package coming from two different modules.  \r\n\r\nFor example:&lt;br&gt;\r\ncom.foo.A (from moduleA.jar)&lt;br&gt;\r\ncom.foo.B (from moduleB.jar)&lt;br&gt;\r\n\r\n&gt; What can I do about this error?\r\n\r\nYou have two options:\r\n\r\n1. (harder) &quot;unsplit&quot; the package dependencies.  However this could be difficult or impossible if you are not familiar with the inner workings of the library\r\n2. (easier) combine the two jars into a single jar (and therefore a single automatic module) as you mentioned above.  I agree that it is not a &quot;good&quot; solution, but having split packages in the first place is generally not a good idea either.\r\n\r\n&gt; Do these dependencies prevent me from updating, or should I just wait for rx to update their libs?\r\n\r\nHopefully rx will eventually update their libs to not have split packages at some point in the future.  Until then, my recommendation would be to just smash the two jars together into a single jar (option #2).","title":"Package conflicts with automatic modules in Java 9","body":"<blockquote>\n  <p>Am I using the new module system correctly?</p>\n</blockquote>\n\n<p>Yes.  What you are seeing is intended behavior, and this is because JPMS modules do not allow split packages.</p>\n\n<p>In case you are not familiar with the term \"split packages\" it essentially means two members of the same package coming from two different modules.  </p>\n\n<p>For example:<br>\ncom.foo.A (from moduleA.jar)<br>\ncom.foo.B (from moduleB.jar)<br></p>\n\n<blockquote>\n  <p>What can I do about this error?</p>\n</blockquote>\n\n<p>You have two options:</p>\n\n<ol>\n<li>(harder) \"unsplit\" the package dependencies.  However this could be difficult or impossible if you are not familiar with the inner workings of the library</li>\n<li>(easier) combine the two jars into a single jar (and therefore a single automatic module) as you mentioned above.  I agree that it is not a \"good\" solution, but having split packages in the first place is generally not a good idea either.</li>\n</ol>\n\n<blockquote>\n  <p>Do these dependencies prevent me from updating, or should I just wait for rx to update their libs?</p>\n</blockquote>\n\n<p>Hopefully rx will eventually update their libs to not have split packages at some point in the future.  Until then, my recommendation would be to just smash the two jars together into a single jar (option #2).</p>\n"},{"tags":[],"owner":{"account_id":1295412,"reputation":396,"user_id":1246599,"accept_rate":70,"display_name":"Radosław Osiński"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678979898,"creation_date":1502627890,"answer_id":45660433,"question_id":42358084,"body_markdown":"I had a similar problem:\r\n\r\n    error: module flyway.core reads package javax.transaction.xa from both jboss.transaction.api.1.2.spec and java.sql\r\n    error: module slf4j.api reads package javax.transaction.xa from both jboss.transaction.api.1.2.spec and java.sql\r\n    error: module hibernate.core reads package javax.transaction.xa from both jboss.transaction.api.1.2.spec and java.sql\r\n    .../src/main/java/module-info.java:1: error: module eu.com.x reads package javax.transaction.xa from both java.sql and jboss.transaction.api.1.2.spec\r\n\r\nI could get rid of split packages compilation problem by checking my project transitive dependencies (&quot;gradle dependencies&quot; or &quot;mvn dependency:tree&quot; could be helpful) and excluding by code similar to:\r\n\r\n    configurations.all {\r\n        exclude group: &#39;org.jboss.spec.javax.transaction&#39;, module: &#39;jboss-transaction-api_1.2_spec&#39;\r\n    }\r\nor\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n          &lt;version&gt;5.2.10.Final&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.jboss.spec.javax.transaction&lt;/groupId&gt;\r\n              &lt;artifactId&gt;jboss-transaction-api_1.2_spec&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt; \r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nNo jar repackaging was needed im my problem. This problem have not occurred on #JDK8. Probably excluding dependencies does not help in every project.","title":"Package conflicts with automatic modules in Java 9","body":"<p>I had a similar problem:</p>\n<pre><code>error: module flyway.core reads package javax.transaction.xa from both jboss.transaction.api.1.2.spec and java.sql\nerror: module slf4j.api reads package javax.transaction.xa from both jboss.transaction.api.1.2.spec and java.sql\nerror: module hibernate.core reads package javax.transaction.xa from both jboss.transaction.api.1.2.spec and java.sql\n.../src/main/java/module-info.java:1: error: module eu.com.x reads package javax.transaction.xa from both java.sql and jboss.transaction.api.1.2.spec\n</code></pre>\n<p>I could get rid of split packages compilation problem by checking my project transitive dependencies (&quot;gradle dependencies&quot; or &quot;mvn dependency:tree&quot; could be helpful) and excluding by code similar to:</p>\n<pre><code>configurations.all {\n    exclude group: 'org.jboss.spec.javax.transaction', module: 'jboss-transaction-api_1.2_spec'\n}\n</code></pre>\n<p>or</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;5.2.10.Final&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.jboss.spec.javax.transaction&lt;/groupId&gt;\n          &lt;artifactId&gt;jboss-transaction-api_1.2_spec&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt; \n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>No jar repackaging was needed im my problem. This problem have not occurred on #JDK8. Probably excluding dependencies does not help in every project.</p>\n"},{"tags":[],"owner":{"account_id":5476205,"reputation":459,"user_id":4354157,"accept_rate":20,"display_name":"kamel2005"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540914117,"creation_date":1540914117,"answer_id":53068018,"question_id":42358084,"body_markdown":"i have been facing the same issue with java.transaction.xa read package from both javaee and java.transaction.xa. \r\nAnd i fixed it by adding this line to my modul-info.java\r\n\r\n     opens javax.transaction.xa;\r\n\r\nIt worked fine but a hint shown up saying the package javax.transaction.xa is empty or doesn&#39;t exists. however the source code compile correctly.\r\n","title":"Package conflicts with automatic modules in Java 9","body":"<p>i have been facing the same issue with java.transaction.xa read package from both javaee and java.transaction.xa. \nAnd i fixed it by adding this line to my modul-info.java</p>\n\n<pre><code> opens javax.transaction.xa;\n</code></pre>\n\n<p>It worked fine but a hint shown up saying the package javax.transaction.xa is empty or doesn't exists. however the source code compile correctly.</p>\n"}],"owner":{"account_id":3977767,"reputation":22190,"user_id":3280538,"accept_rate":74,"display_name":"flakes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20167,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":42358212,"answer_count":3,"score":31,"last_activity_date":1678979898,"creation_date":1487647574,"question_id":42358084,"body_markdown":"With Java 9 on the close horizon I thought it would be a good learning exercise  to port some of my projects over to Java 9. In one of my projects I have dependencies for [rxjava][1] and [rxjavafx][2]\r\n\r\n&lt;!-- language: groovy --&gt;\r\n\r\n    dependencies {\r\n        compile &#39;io.reactivex:rxjava:1.2.6&#39;\r\n        compile &#39;io.reactivex:rxjavafx:1.0.0&#39;\r\n        ...\r\n    }\r\n\r\nI want to create this project as a named-module. To do this I need to create a `module-info.java` file and I need to specify the requirements for `rxjava` and `rxjavafx` here. However, these libs don&#39;t have any module info yet.\r\n\r\nIn order to work around this I&#39;ve read that [I need to create Automatic Modules][3]. From what I understand, I need to rename the `rxjava` and `rxjavafx` jars to have a simple name and then list the jars in the `--module-path` parameter. I then add a `requires` directive in my `module-info.java` with the jar names.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    module com.foo.bar {\r\n        requires rxjavafx;\r\n        requires rxjava;\r\n    }\r\n\r\nI wrote a gradle task to edit the jar names for me, and it appears to be working in most cases. It takes all the jars that need to be compiled and renames them to not include version-info or slashes. The files are then concatenated into a `:` separated string:\r\n\r\n&lt;!-- language: groovy --&gt;\r\n\r\n    tasks.withType(JavaCompile) {\r\n        delete { delete &#39;/tmp/gradle&#39; }\r\n        copy {\r\n            from configurations.compile + configurations.testCompile\r\n            into &#39;/tmp/gradle&#39;\r\n            rename &#39;(.*)-[0-9]+\\\\..*.jar&#39;, &#39;$1.jar&#39;\r\n            rename { String fileName -&gt; fileName.replace(&quot;-&quot;, &quot;&quot;) }\r\n        }\r\n        options.compilerArgs += [&#39;--module-path&#39;, fileTree(dir: &#39;/tmp/gradle&#39;, include: &#39;*.jar&#39;).getFiles().join(&#39;:&#39;)]\r\n    }\r\n\r\nNaturally the `rx` libraries share some of their package names... this however causes the compiler to spit back errors such as:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    error: module  reads package rx.subscriptions from both rxjava and rxjavafx\r\n    error: module  reads package rx.schedulers from both rxjava and rxjavafx\r\n    error: module  reads package rx.observables from both rxjava and rxjavafx\r\n    error: module rxjava reads package rx.subscriptions from both rxjavafx and rxjava\r\n    error: module rxjava reads package rx.schedulers from both rxjavafx and rxjava\r\n    error: module rxjava reads package rx.observables from both rxjavafx and rxjava\r\n    error: module rxjavafx reads package rx.subscriptions from both rxjava and rxjavafx\r\n    error: module rxjavafx reads package rx.schedulers from both rxjava and rxjavafx\r\n    error: module rxjavafx reads package rx.observables from both rxjava and rxjavafx\r\n\r\nIt seems like the only way to get around this issue would be to re-package the contents of `rxjava` and `rxjavafx` into a single jar and add that as a single module. This doesn&#39;t seem like a good solution though...\r\n\r\nSo my questions are:\r\n\r\n - Am I using the new module system correctly?\r\n - What can I do about this error? and\r\n - Do these dependencies prevent me from updating, or should I just wait for rx to update their libs?\r\n\r\n---------\r\n\r\n*Note: I&#39;ve tried running this with standard `java`/`javac` and they cause the same issues. Also here is my java version:*\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    java version &quot;9-ea&quot;\r\n    Java(TM) SE Runtime Environment (build 9-ea+140)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 9-ea+140, mixed mode)\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/io.reactivex/rxjava\r\n  [2]: https://mvnrepository.com/artifact/io.reactivex/rxjavafx\r\n  [3]: http://openjdk.java.net/projects/jigsaw/spec/sotms/#automatic-modules\r\n\r\n","title":"Package conflicts with automatic modules in Java 9","body":"<p>With Java 9 on the close horizon I thought it would be a good learning exercise  to port some of my projects over to Java 9. In one of my projects I have dependencies for <a href=\"https://mvnrepository.com/artifact/io.reactivex/rxjava\" rel=\"noreferrer\">rxjava</a> and <a href=\"https://mvnrepository.com/artifact/io.reactivex/rxjavafx\" rel=\"noreferrer\">rxjavafx</a></p>\n\n<pre><code>dependencies {\n    compile 'io.reactivex:rxjava:1.2.6'\n    compile 'io.reactivex:rxjavafx:1.0.0'\n    ...\n}\n</code></pre>\n\n<p>I want to create this project as a named-module. To do this I need to create a <code>module-info.java</code> file and I need to specify the requirements for <code>rxjava</code> and <code>rxjavafx</code> here. However, these libs don't have any module info yet.</p>\n\n<p>In order to work around this I've read that <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/#automatic-modules\" rel=\"noreferrer\">I need to create Automatic Modules</a>. From what I understand, I need to rename the <code>rxjava</code> and <code>rxjavafx</code> jars to have a simple name and then list the jars in the <code>--module-path</code> parameter. I then add a <code>requires</code> directive in my <code>module-info.java</code> with the jar names.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>module com.foo.bar {\n    requires rxjavafx;\n    requires rxjava;\n}\n</code></pre>\n\n<p>I wrote a gradle task to edit the jar names for me, and it appears to be working in most cases. It takes all the jars that need to be compiled and renames them to not include version-info or slashes. The files are then concatenated into a <code>:</code> separated string:</p>\n\n<pre><code>tasks.withType(JavaCompile) {\n    delete { delete '/tmp/gradle' }\n    copy {\n        from configurations.compile + configurations.testCompile\n        into '/tmp/gradle'\n        rename '(.*)-[0-9]+\\\\..*.jar', '$1.jar'\n        rename { String fileName -&gt; fileName.replace(\"-\", \"\") }\n    }\n    options.compilerArgs += ['--module-path', fileTree(dir: '/tmp/gradle', include: '*.jar').getFiles().join(':')]\n}\n</code></pre>\n\n<p>Naturally the <code>rx</code> libraries share some of their package names... this however causes the compiler to spit back errors such as:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>error: module  reads package rx.subscriptions from both rxjava and rxjavafx\nerror: module  reads package rx.schedulers from both rxjava and rxjavafx\nerror: module  reads package rx.observables from both rxjava and rxjavafx\nerror: module rxjava reads package rx.subscriptions from both rxjavafx and rxjava\nerror: module rxjava reads package rx.schedulers from both rxjavafx and rxjava\nerror: module rxjava reads package rx.observables from both rxjavafx and rxjava\nerror: module rxjavafx reads package rx.subscriptions from both rxjava and rxjavafx\nerror: module rxjavafx reads package rx.schedulers from both rxjava and rxjavafx\nerror: module rxjavafx reads package rx.observables from both rxjava and rxjavafx\n</code></pre>\n\n<p>It seems like the only way to get around this issue would be to re-package the contents of <code>rxjava</code> and <code>rxjavafx</code> into a single jar and add that as a single module. This doesn't seem like a good solution though...</p>\n\n<p>So my questions are:</p>\n\n<ul>\n<li>Am I using the new module system correctly?</li>\n<li>What can I do about this error? and</li>\n<li>Do these dependencies prevent me from updating, or should I just wait for rx to update their libs?</li>\n</ul>\n\n<hr>\n\n<p><em>Note: I've tried running this with standard <code>java</code>/<code>javac</code> and they cause the same issues. Also here is my java version:</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java version \"9-ea\"\nJava(TM) SE Runtime Environment (build 9-ea+140)\nJava HotSpot(TM) 64-Bit Server VM (build 9-ea+140, mixed mode)\n</code></pre>\n"},{"tags":["java","eclipse","gradle"],"answers":[{"tags":[],"owner":{"account_id":314592,"reputation":1392,"user_id":2475509,"accept_rate":60,"display_name":"judoole"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1472795795,"creation_date":1472795795,"answer_id":39285227,"question_id":39284159,"body_markdown":"The simplest would be to set log level to info using `--info`\r\n\r\nIf you would like to not browse through the output you could add a line similar to this inside your JavaExec task \r\n\r\n    doFirst{\r\n      sourceSets.main.runtimeClasspath.each { println it}\r\n    }","title":"How do i print out the JAVA classpath in gradle?","body":"<p>The simplest would be to set log level to info using <code>--info</code></p>\n\n<p>If you would like to not browse through the output you could add a line similar to this inside your JavaExec task </p>\n\n<pre><code>doFirst{\n  sourceSets.main.runtimeClasspath.each { println it}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":289450,"reputation":10754,"user_id":590437,"accept_rate":83,"display_name":"Holger Brandl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526480158,"creation_date":1526480158,"answer_id":50373363,"question_id":39284159,"body_markdown":"Or add  `println configurations.runtime.resolve()` to your `build.gradle`.\r\n ","title":"How do i print out the JAVA classpath in gradle?","body":"<p>Or add  <code>println configurations.runtime.resolve()</code> to your <code>build.gradle</code>.</p>\n"},{"tags":[],"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527842702,"creation_date":1527842702,"answer_id":50639444,"question_id":39284159,"body_markdown":"With gradle v4 I was unable to get either of the above options to work, but using `--debug` and `grep classpath` did find the information.","title":"How do i print out the JAVA classpath in gradle?","body":"<p>With gradle v4 I was unable to get either of the above options to work, but using <code>--debug</code> and <code>grep classpath</code> did find the information.</p>\n"},{"tags":[],"owner":{"account_id":3819506,"reputation":249,"user_id":3167916,"display_name":"user3167916"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1587158782,"creation_date":1587139350,"answer_id":61275842,"question_id":39284159,"body_markdown":"```\r\nsourceSets.main.compileClasspath.asPath\r\n```\r\n\r\nFor printing, you can write below the line in your task:\r\n\r\n```\r\nprintln &quot;Classpath = ${sourceSets.main.compileClasspath.asPath}&quot;;\r\n```","title":"How do i print out the JAVA classpath in gradle?","body":"<pre><code>sourceSets.main.compileClasspath.asPath\n</code></pre>\n\n<p>For printing, you can write below the line in your task:</p>\n\n<pre><code>println \"Classpath = ${sourceSets.main.compileClasspath.asPath}\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197068,"reputation":1346,"user_id":5434180,"accept_rate":75,"display_name":"Cleber Jorge Amaral"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678979865,"creation_date":1678979865,"answer_id":75758199,"question_id":39284159,"body_markdown":"You can use gradle/gradlew command for that:\r\n\r\n    ./gradlew dependencies --configuration compileClasspath\r\n\r\nor for the runtime classpath:\r\n\r\n    ./gradlew dependencies --configuration runtimeClasspath","title":"How do i print out the JAVA classpath in gradle?","body":"<p>You can use gradle/gradlew command for that:</p>\n<pre><code>./gradlew dependencies --configuration compileClasspath\n</code></pre>\n<p>or for the runtime classpath:</p>\n<pre><code>./gradlew dependencies --configuration runtimeClasspath\n</code></pre>\n"}],"owner":{"account_id":2038213,"reputation":315,"user_id":1820020,"accept_rate":12,"display_name":"Ice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24822,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1678979865,"creation_date":1472789348,"question_id":39284159,"body_markdown":"I am currently using gradle integration with ecplise. Is there a way to print out the classpath of a javaexec task? ","title":"How do i print out the JAVA classpath in gradle?","body":"<p>I am currently using gradle integration with ecplise. Is there a way to print out the classpath of a javaexec task? </p>\n"},{"tags":["java","firefox","vaadin","overlay","contextmenu"],"owner":{"account_id":28033345,"reputation":1,"user_id":21412170,"display_name":"randomGuy123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678979690,"creation_date":1678975431,"question_id":75757373,"body_markdown":"I created a ContextMenu with the framework Vaadin and tried to open it.(it has been confirmed to me that it is not a bug of vaadin). The ContextMenu does not render correctly. In the DOM the element is displayed and is also recognizable by the mouse pointer, but it is not visible. Only after enlarging the window or going into the DOM with the mouse pointer the element is displayed. (see attached gif) Chrome has no problems with it. \r\nIf I take the following css styling from the application everything works.\r\n```\r\n.c-drawer-add__wrapper {\r\n    background: var(--lumo-base-color);\r\n    bottom: 0;\r\n    display: none;\r\n    left: 0;\r\n    padding: var(--lumo-space-m);\r\n    position: absolute;\r\n    top: 0;\r\n    transition: left 400ms;\r\n    width: 275px;\r\n    z-index: 800;\r\n}\r\n```\r\n\r\n```\r\n:host(.c-app-layout:not([no-scroll])) [content] {\r\n    overflow: inherit;\r\n}\r\n```\r\n\r\n```\r\n:host([drawer-opened]) [part=&#39;drawer&#39;],\r\n:host(:not([drawer-opened])) [part=&#39;drawer&#39;] {\r\n    visibility: visible;\r\n}\r\n```\r\n\r\nHowever, these should not affect the ContextMenu because they are in the shadow DOM of other web components.  Has anyone had a similar problem?\r\n\r\n\r\n\r\nI tried to remove all related js and css files from the component. The context menu should be displayed normally.\r\n\r\n[Context Menu Bug Gif][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OnMHB.gif","title":"Why does the context menu of Vaadin not render correctly in Firefox","body":"<p>I created a ContextMenu with the framework Vaadin and tried to open it.(it has been confirmed to me that it is not a bug of vaadin). The ContextMenu does not render correctly. In the DOM the element is displayed and is also recognizable by the mouse pointer, but it is not visible. Only after enlarging the window or going into the DOM with the mouse pointer the element is displayed. (see attached gif) Chrome has no problems with it.\nIf I take the following css styling from the application everything works.</p>\n<pre><code>.c-drawer-add__wrapper {\n    background: var(--lumo-base-color);\n    bottom: 0;\n    display: none;\n    left: 0;\n    padding: var(--lumo-space-m);\n    position: absolute;\n    top: 0;\n    transition: left 400ms;\n    width: 275px;\n    z-index: 800;\n}\n</code></pre>\n<pre><code>:host(.c-app-layout:not([no-scroll])) [content] {\n    overflow: inherit;\n}\n</code></pre>\n<pre><code>:host([drawer-opened]) [part='drawer'],\n:host(:not([drawer-opened])) [part='drawer'] {\n    visibility: visible;\n}\n</code></pre>\n<p>However, these should not affect the ContextMenu because they are in the shadow DOM of other web components.  Has anyone had a similar problem?</p>\n<p>I tried to remove all related js and css files from the component. The context menu should be displayed normally.</p>\n<p><a href=\"https://i.stack.imgur.com/OnMHB.gif\" rel=\"nofollow noreferrer\">Context Menu Bug Gif</a></p>\n"},{"tags":["java","android","android-notification.mediastyle"],"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678979569,"creation_date":1678979569,"question_id":75758128,"body_markdown":"I&#39;m using `MediaStyle notification`. the notification symbol (`smallIcon`) isn&#39;t displayed in Android &gt;= 11 when `MediaStyle` is enabled.\r\n\r\nAs I disable `MediaStyle`, then the symbol is shown.\r\nPermissions are set:\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\r\n\r\n\r\n\r\n    NotificationCompat.Builder builder =\r\n       new NotificationCompat.Builder(mContext, CHANNEL_ID);\r\n\r\n    builder.setContentTitle(&quot;title&quot;)\r\n        .setContentText(&quot;context&quot;)\r\n        .setSubText(&quot;text&quot;)\r\n        .setBadgeIconType(NotificationCompat.BADGE_ICON_LARGE)\r\n        .setLargeIcon(iconLarge)\r\n        .setContentIntent(pIntent)\r\n        .setColor(ContextCompat.getColor(getInstance().getmContext(), R.color.lightColor))\r\n        .setSmallIcon(R.drawable.notification_transparent)\r\n        .setDeleteIntent(MediaButtonReceiver.buildMediaButtonPendingIntent(context,PlaybackStateCompat.ACTION_STOP));\r\n\r\n    builder.addAction(...1...);\r\n    builder.addAction(...2...);\r\n    builder.addAction(...3...);\r\n    builder.setStyle(new androidx.media.app.NotificationCompat.MediaStyle()\r\n\t\t.setShowActionsInCompactView(0,1,2)\r\n\t\t.setMediaSession(mMediaSessionCompat.getSessionToken()));\r\n    mNotificationManager.notify(NOTIFICATION_ID,builder.build());\r\n\r\n\r\nThanks,\r\n\r\nGGK\r\n\r\n\r\n","title":"Small Icon in MediaStyle Notification not shown","body":"<p>I'm using <code>MediaStyle notification</code>. the notification symbol (<code>smallIcon</code>) isn't displayed in Android &gt;= 11 when <code>MediaStyle</code> is enabled.</p>\n<p>As I disable <code>MediaStyle</code>, then the symbol is shown.\nPermissions are set:</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\n\n\n\nNotificationCompat.Builder builder =\n   new NotificationCompat.Builder(mContext, CHANNEL_ID);\n\nbuilder.setContentTitle(&quot;title&quot;)\n    .setContentText(&quot;context&quot;)\n    .setSubText(&quot;text&quot;)\n    .setBadgeIconType(NotificationCompat.BADGE_ICON_LARGE)\n    .setLargeIcon(iconLarge)\n    .setContentIntent(pIntent)\n    .setColor(ContextCompat.getColor(getInstance().getmContext(), R.color.lightColor))\n    .setSmallIcon(R.drawable.notification_transparent)\n    .setDeleteIntent(MediaButtonReceiver.buildMediaButtonPendingIntent(context,PlaybackStateCompat.ACTION_STOP));\n\nbuilder.addAction(...1...);\nbuilder.addAction(...2...);\nbuilder.addAction(...3...);\nbuilder.setStyle(new androidx.media.app.NotificationCompat.MediaStyle()\n    .setShowActionsInCompactView(0,1,2)\n    .setMediaSession(mMediaSessionCompat.getSessionToken()));\nmNotificationManager.notify(NOTIFICATION_ID,builder.build());\n</code></pre>\n<p>Thanks,</p>\n<p>GGK</p>\n"},{"tags":["java","exception","mocking","mockito"],"comments":[{"owner":{"account_id":3095117,"reputation":504,"user_id":2620485,"display_name":"Willian"},"score":2,"creation_date":1500928833,"post_id":15156857,"comment_id":77541689,"body_markdown":"Possible duplicate of [How to make mock to void methods with mockito](https://stackoverflow.com/questions/2276271/how-to-make-mock-to-void-methods-with-mockito)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2276271/how-to-make-mock-to-void-methods-with-mockito\">How to make mock to void methods with mockito</a>"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":3,"up_vote_count":1122,"is_accepted":true,"score":1119,"last_activity_date":1594928154,"creation_date":1362138488,"answer_id":15157021,"question_id":15156857,"body_markdown":"The parentheses are poorly placed.\r\n\r\nYou need to use:\r\n\r\n    doThrow(new Exception()).when(mockedObject).methodReturningVoid(...);\r\n                                              ^\r\n\r\nand **NOT** use:\r\n\r\n    doThrow(new Exception()).when(mockedObject.methodReturningVoid(...));\r\n                                                                       ^\r\n\r\nThis is explained in [the documentation][1]\r\n\r\n\r\n  [1]: http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#stubbing_with_exceptions","title":"Mockito test a void method throws an exception","body":"<p>The parentheses are poorly placed.</p>\n<p>You need to use:</p>\n<pre><code>doThrow(new Exception()).when(mockedObject).methodReturningVoid(...);\n                                          ^\n</code></pre>\n<p>and <strong>NOT</strong> use:</p>\n<pre><code>doThrow(new Exception()).when(mockedObject.methodReturningVoid(...));\n                                                                   ^\n</code></pre>\n<p>This is explained in <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#stubbing_with_exceptions\" rel=\"noreferrer\">the documentation</a></p>\n"},{"tags":[],"owner":{"account_id":1026421,"reputation":6737,"user_id":1035634,"display_name":"Ondrej Burkert"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1604937957,"creation_date":1540476069,"answer_id":52991225,"question_id":15156857,"body_markdown":"If you ever wondered how to do it using the new BDD style of Mockito:\r\n\r\n    willThrow(new Exception()).given(mockedObject).methodReturningVoid(...));\r\n\r\nAnd for future reference one may need to throw exception and then do nothing:\r\n\r\n    willThrow(new Exception()).willDoNothing().given(mockedObject).methodReturningVoid(...));","title":"Mockito test a void method throws an exception","body":"<p>If you ever wondered how to do it using the new BDD style of Mockito:</p>\n<pre><code>willThrow(new Exception()).given(mockedObject).methodReturningVoid(...));\n</code></pre>\n<p>And for future reference one may need to throw exception and then do nothing:</p>\n<pre><code>willThrow(new Exception()).willDoNothing().given(mockedObject).methodReturningVoid(...));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14980763,"reputation":1,"user_id":10814812,"display_name":"Ayushi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1654260119,"creation_date":1638858154,"answer_id":70255711,"question_id":15156857,"body_markdown":"You can try something like the below:\r\n       \r\n     given(class.method()).willAnswer(invocation -&gt; {\r\n              throw new ExceptionClassName();\r\n            });\r\n        \r\nIn my case, I wanted to throw an explicit exception for a try block,my method block was something like below\r\n        \r\n         public boolean methodName(param) throws SomeException{\r\n        \r\n            try(FileOutputStream out = new FileOutputStream(param.getOutputFile())) {\r\n              //some implementation\r\n            } catch (IOException ioException) {\r\n              throw new SomeException(ioException.getMessage());\r\n            } catch (SomeException someException) {\r\n              throw new SomeException (someException.getMessage());\r\n            } catch (SomeOtherException someOtherException) {\r\n              throw new SomeException (someOtherException.getMessage());\r\n            }\r\n            return true;\r\n          }\r\n    \r\nI have covered all the above exceptions for sonar coverage like below\r\n        \r\n       given(new FileOutputStream(fileInfo.getOutputFile())).willAnswer(invocation -&gt; {\r\n          throw new IOException();\r\n        });\r\n        Assertions.assertThrows(SomeException.class, () -&gt;\r\n        {\r\n          ClassName.methodName(param);\r\n        });\r\n\r\n","title":"Mockito test a void method throws an exception","body":"<p>You can try something like the below:</p>\n<pre><code> given(class.method()).willAnswer(invocation -&gt; {\n          throw new ExceptionClassName();\n        });\n    \n</code></pre>\n<p>In my case, I wanted to throw an explicit exception for a try block,my method block was something like below</p>\n<pre><code>     public boolean methodName(param) throws SomeException{\n    \n        try(FileOutputStream out = new FileOutputStream(param.getOutputFile())) {\n          //some implementation\n        } catch (IOException ioException) {\n          throw new SomeException(ioException.getMessage());\n        } catch (SomeException someException) {\n          throw new SomeException (someException.getMessage());\n        } catch (SomeOtherException someOtherException) {\n          throw new SomeException (someOtherException.getMessage());\n        }\n        return true;\n      }\n</code></pre>\n<p>I have covered all the above exceptions for sonar coverage like below</p>\n<pre><code>   given(new FileOutputStream(fileInfo.getOutputFile())).willAnswer(invocation -&gt; {\n      throw new IOException();\n    });\n    Assertions.assertThrows(SomeException.class, () -&gt;\n    {\n      ClassName.methodName(param);\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19090913,"reputation":491,"user_id":13941207,"display_name":"EACUAMBA"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678979543,"creation_date":1678979543,"answer_id":75758120,"question_id":15156857,"body_markdown":"I was having a issue trying to test @Retryable with three method calls when runtime exception occurred, I made like so and worked for me.\r\n\r\n         Mockito.doThrow(RuntimeException.class)\r\n                .doThrow(RuntimeException.class)\r\n                .doNothing()\r\n                .when(youMockInstance)\r\n                .methodToTest(&lt;parameter if your method has&gt;);","title":"Mockito test a void method throws an exception","body":"<p>I was having a issue trying to test @Retryable with three method calls when runtime exception occurred, I made like so and worked for me.</p>\n<pre><code>     Mockito.doThrow(RuntimeException.class)\n            .doThrow(RuntimeException.class)\n            .doNothing()\n            .when(youMockInstance)\n            .methodToTest(&lt;parameter if your method has&gt;);\n</code></pre>\n"}],"owner":{"account_id":239533,"reputation":16137,"user_id":509213,"accept_rate":83,"display_name":"edwardmlyte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491385,"favorite_count":0,"down_vote_count":0,"up_vote_count":606,"accepted_answer_id":15157021,"answer_count":4,"score":606,"last_activity_date":1678979543,"creation_date":1362138033,"question_id":15156857,"body_markdown":"I have a method with a `void` return type. It can also throw a number of exceptions so I&#39;d like to test those exceptions being thrown. All attempts have failed with the same reason:\r\n\r\n&gt;The method when(T) in the type Stubber is not applicable for the arguments (void)\r\n\r\nAny ideas how I can get the method to throw a specified exception?\r\n\r\n    doThrow(new Exception()).when(mockedObject.methodReturningVoid(...));","title":"Mockito test a void method throws an exception","body":"<p>I have a method with a <code>void</code> return type. It can also throw a number of exceptions so I'd like to test those exceptions being thrown. All attempts have failed with the same reason:</p>\n\n<blockquote>\n  <p>The method when(T) in the type Stubber is not applicable for the arguments (void)</p>\n</blockquote>\n\n<p>Any ideas how I can get the method to throw a specified exception?</p>\n\n<pre><code>doThrow(new Exception()).when(mockedObject.methodReturningVoid(...));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1678974087,"post_id":75757009,"comment_id":133639458,"body_markdown":"You say &quot;you&#39;re having problems&quot;: **which problems**? What happens in that case? Do you get the wrong answer? Do you get an exception? Does it fail to compile? You need to learn to be **more specific** with your problem descriptions.","body":"You say &quot;you&#39;re having problems&quot;: <b>which problems</b>? What happens in that case? Do you get the wrong answer? Do you get an exception? Does it fail to compile? You need to learn to be <b>more specific</b> with your problem descriptions."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1678974586,"post_id":75757009,"comment_id":133639632,"body_markdown":"This code appears to be working for a few testcases I tried. What kind of problems did you encounter? Also show us how you **call** this method.","body":"This code appears to be working for a few testcases I tried. What kind of problems did you encounter? Also show us how you <b>call</b> this method."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1678975001,"post_id":75757009,"comment_id":133639762,"body_markdown":"Ah I think I see where you went wrong: `v.length` does not change in your program. You need to check the value of `pos` instead.","body":"Ah I think I see where you went wrong: <code>v.length</code> does not change in your program. You need to check the value of <code>pos</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678974331,"creation_date":1678974331,"answer_id":75757152,"question_id":75757009,"body_markdown":"Try this:\r\n```java\r\npublic static int Ejercicio22f(int[] v, int pos) {\r\n\tif (pos == 0) {\r\n\t\tif (v[pos] == 0) {\r\n\t\t\treturn 1;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t} else {\r\n\t\tif (v[pos] == 0) {\r\n\t\t\treturn Ejercicio22f(v, pos - 1) + 1;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nOn first run, pass in `v.length - 1` as the `pos` argument.","title":"Amount of zeros at the end of an array with recursions","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int Ejercicio22f(int[] v, int pos) {\n    if (pos == 0) {\n        if (v[pos] == 0) {\n            return 1;\n        } else {\n            return 0;\n        }\n    } else {\n        if (v[pos] == 0) {\n            return Ejercicio22f(v, pos - 1) + 1;\n        } else {\n            return 0;\n        }\n    }\n}\n</code></pre>\n<p>On first run, pass in <code>v.length - 1</code> as the <code>pos</code> argument.</p>\n"},{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678976900,"creation_date":1678975097,"answer_id":75757304,"question_id":75757009,"body_markdown":"A lot of your current checks are ad-hoc: They work for specific edge-cases, but not in a general case. With recursion, there are two important things to have: a base case (where you stop recursing), and a recursive step. If we consider the problem on its face, we can consider starting at the end, with a base case being that we found a non-zero element:\r\n\r\n    public static int findTrailingZeroes(int[] arr) {\r\n        return findTrailingZeroes(arr, arr.length - 1);\r\n    }\r\n\r\n    //Returns the total number of trailing zeroes from &#39;pos&#39; or earlier\r\n    private static int findTrailingZeroes(int[] arr, int pos) {\r\n        if (arr[pos] != 0) {\r\n            return 0; //we found nothing in this step!\r\n        }\r\n        //TODO: Recursive step, which calls #findTrailingZeroes again\r\n    }\r\n\r\nSo now we have an algorithm which will start at the end of the array, stopping when it finds a non-zero character. Notice that &quot;stopping recursion&quot; is the same as not calling your own method again. Now, in considering the recursive step, after the `if` statement we know that the current position is a `0`. So, at least at this position, we knows there&#39;s exactly `1 + rest_of_zeroes` zeroes from here towards the start of the array. Further, `rest_of_zeroes` can be calculated (by definition of our method) via `findTrailingZeroes(arr, pos - 1)`, so that&#39;s our recursive step!\r\n\r\n    public static int findTrailingZeroes(int[] arr) {\r\n        return findTrailingZeroes(arr, arr.length - 1);\r\n    }\r\n\r\n    //Returns the total number of trailing zeroes from &#39;pos&#39; or earlier\r\n    private static int findTrailingZeroes(int[] arr, int pos) {\r\n        if (pos &lt; 0 || arr[pos] != 0) { //Notice the addition of &#39;pos &lt; 0&#39;\r\n            return 0; //If &#39;pos &lt; 0&#39;, then we hit the end of the array, no more counting!\r\n        }\r\n        return 1 + findTrailingZeroes(arr, pos - 1);\r\n    }\r\n\r\nIn the end, as you recurse over the array, you&#39;ll end up &quot;counting&quot; the zeroes:\r\n\r\n    arr = [1, 2, 3, 0, 0, 0, 0, 0]\r\n    Depth  Expression\r\n    1      1 + rest\r\n    2      1 + 1 + rest\r\n    3      1 + 1 + 1 + rest\r\n    4      1 + 1 + 1 + 1 + rest\r\n    5      1 + 1 + 1 + 1 + 1 + rest\r\n    6      1 + 1 + 1 + 1 + 1 + 0\r\n    Done","title":"Amount of zeros at the end of an array with recursions","body":"<p>A lot of your current checks are ad-hoc: They work for specific edge-cases, but not in a general case. With recursion, there are two important things to have: a base case (where you stop recursing), and a recursive step. If we consider the problem on its face, we can consider starting at the end, with a base case being that we found a non-zero element:</p>\n<pre><code>public static int findTrailingZeroes(int[] arr) {\n    return findTrailingZeroes(arr, arr.length - 1);\n}\n\n//Returns the total number of trailing zeroes from 'pos' or earlier\nprivate static int findTrailingZeroes(int[] arr, int pos) {\n    if (arr[pos] != 0) {\n        return 0; //we found nothing in this step!\n    }\n    //TODO: Recursive step, which calls #findTrailingZeroes again\n}\n</code></pre>\n<p>So now we have an algorithm which will start at the end of the array, stopping when it finds a non-zero character. Notice that &quot;stopping recursion&quot; is the same as not calling your own method again. Now, in considering the recursive step, after the <code>if</code> statement we know that the current position is a <code>0</code>. So, at least at this position, we knows there's exactly <code>1 + rest_of_zeroes</code> zeroes from here towards the start of the array. Further, <code>rest_of_zeroes</code> can be calculated (by definition of our method) via <code>findTrailingZeroes(arr, pos - 1)</code>, so that's our recursive step!</p>\n<pre><code>public static int findTrailingZeroes(int[] arr) {\n    return findTrailingZeroes(arr, arr.length - 1);\n}\n\n//Returns the total number of trailing zeroes from 'pos' or earlier\nprivate static int findTrailingZeroes(int[] arr, int pos) {\n    if (pos &lt; 0 || arr[pos] != 0) { //Notice the addition of 'pos &lt; 0'\n        return 0; //If 'pos &lt; 0', then we hit the end of the array, no more counting!\n    }\n    return 1 + findTrailingZeroes(arr, pos - 1);\n}\n</code></pre>\n<p>In the end, as you recurse over the array, you'll end up &quot;counting&quot; the zeroes:</p>\n<pre><code>arr = [1, 2, 3, 0, 0, 0, 0, 0]\nDepth  Expression\n1      1 + rest\n2      1 + 1 + rest\n3      1 + 1 + 1 + rest\n4      1 + 1 + 1 + 1 + rest\n5      1 + 1 + 1 + 1 + 1 + rest\n6      1 + 1 + 1 + 1 + 1 + 0\nDone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678979243,"creation_date":1678978608,"answer_id":75757955,"question_id":75757009,"body_markdown":"You don&#39;t really need to sum up anything. Just subtract `pos` from the `array length - 1`.  \r\n```\r\nint[][] array = {{1,2,3,4},{0,0,0,0,0,0,0},{1,2,3,0,0,0},{}};\r\nfor(int[] arr : array) {\r\n     System.out.println(Arrays.toString(arr) + \r\n             &quot; -&gt; &quot; + trailingZeros(arr, arr.length-1));\r\n}\r\n```\r\nprints\r\n```\r\n[1, 2, 3, 4] -&gt; 0\r\n[0, 0, 0, 0, 0, 0, 0] -&gt; 7\r\n[1, 2, 3, 0, 0, 0] -&gt; 3\r\n[] -&gt; 0\r\n```\r\nThe method\r\n```\r\n public static int trailingZeros(int [] array, int pos) {\r\n     if (pos &gt;= 0 &amp;&amp; array[pos] == 0) {\r\n         return trailingZeros(array, pos - 1);\r\n     }\r\n     return array.length - 1 - pos;\r\n }\r\n","title":"Amount of zeros at the end of an array with recursions","body":"<p>You don't really need to sum up anything. Just subtract <code>pos</code> from the <code>array length - 1</code>.</p>\n<pre><code>int[][] array = {{1,2,3,4},{0,0,0,0,0,0,0},{1,2,3,0,0,0},{}};\nfor(int[] arr : array) {\n     System.out.println(Arrays.toString(arr) + \n             &quot; -&gt; &quot; + trailingZeros(arr, arr.length-1));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[1, 2, 3, 4] -&gt; 0\n[0, 0, 0, 0, 0, 0, 0] -&gt; 7\n[1, 2, 3, 0, 0, 0] -&gt; 3\n[] -&gt; 0\n</code></pre>\n<p>The method</p>\n<pre><code> public static int trailingZeros(int [] array, int pos) {\n     if (pos &gt;= 0 &amp;&amp; array[pos] == 0) {\n         return trailingZeros(array, pos - 1);\n     }\n     return array.length - 1 - pos;\n }\n</code></pre>\n"}],"owner":{"account_id":27991778,"reputation":35,"user_id":21377483,"display_name":"CDAMXI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678996490,"accepted_answer_id":75757152,"answer_count":3,"score":0,"last_activity_date":1678979243,"creation_date":1678973651,"question_id":75757009,"body_markdown":"I want to count how many zeros are at the end of the array using recursions. But I&#39;m having problems with an array with all of it&#39;s elements equal to 0 because it&#39;s giving me the wrong answer.\r\n\r\nI&#39;ve tried putting the position in the range (0,v.length-1], putting one of the two conditions and not putting said range\r\n\r\nHere&#39;s what I&#39;ve done so far\r\n\r\n```\r\npublic static int Ejercicio22f(int[] v,int pos){\r\n        if(pos&lt;=v.length-1){\r\n            if(v.length==0){return 0;}\r\n            else if(v.length==1){\r\n                if(v[v.length-1]!=0){return 0;}\r\n                else{return 1;}\r\n            } else{\r\n                if(v[pos]==0 &amp;&amp; pos&gt;0){return 1+Ejercicio22f(v,pos-1);}\r\n                else if(v[0]==0){return v.length;}\r\n                else{return 0;}\r\n            }\r\n        } else{return Ejercicio22f(v, v.length-1);}\r\n    }\r\n```\r\n","title":"Amount of zeros at the end of an array with recursions","body":"<p>I want to count how many zeros are at the end of the array using recursions. But I'm having problems with an array with all of it's elements equal to 0 because it's giving me the wrong answer.</p>\n<p>I've tried putting the position in the range (0,v.length-1], putting one of the two conditions and not putting said range</p>\n<p>Here's what I've done so far</p>\n<pre><code>public static int Ejercicio22f(int[] v,int pos){\n        if(pos&lt;=v.length-1){\n            if(v.length==0){return 0;}\n            else if(v.length==1){\n                if(v[v.length-1]!=0){return 0;}\n                else{return 1;}\n            } else{\n                if(v[pos]==0 &amp;&amp; pos&gt;0){return 1+Ejercicio22f(v,pos-1);}\n                else if(v[0]==0){return v.length;}\n                else{return 0;}\n            }\n        } else{return Ejercicio22f(v, v.length-1);}\n    }\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1522941654,"creation_date":1522941654,"answer_id":49676038,"question_id":49675843,"body_markdown":"You use libraries that generate classes at runtime (proxy classes). \r\nYou should never rely on `getClass()` of these proxy classes to compare class of two instances as you don&#39;t have the hand and guarantee on how Hibernate (here) and Spring (as you use it) generate them.   \r\nAs alternative in your `equals()` you should use the `instanceof` operator to determine whether an object is an instance of a class known at compile time :\r\n\r\n    if (myObject instanceof MyClass){\r\n       ...\r\n    }\r\n\r\nWhatever, `instanceof` should always be favored in `equals()` implementation to not break the method behavior for subclass instances.","title":"getClass() in equals() gives an unexpected result for my entities","body":"<p>You use libraries that generate classes at runtime (proxy classes). \nYou should never rely on <code>getClass()</code> of these proxy classes to compare class of two instances as you don't have the hand and guarantee on how Hibernate (here) and Spring (as you use it) generate them.<br>\nAs alternative in your <code>equals()</code> you should use the <code>instanceof</code> operator to determine whether an object is an instance of a class known at compile time :</p>\n\n<pre><code>if (myObject instanceof MyClass){\n   ...\n}\n</code></pre>\n\n<p>Whatever, <code>instanceof</code> should always be favored in <code>equals()</code> implementation to not break the method behavior for subclass instances.</p>\n"},{"tags":[],"owner":{"account_id":2126396,"reputation":1473,"user_id":1888434,"display_name":"TomerBu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678979056,"creation_date":1678979056,"answer_id":75758023,"question_id":49675843,"body_markdown":"to be safe, you should compare the proxy class.\r\nHere is a sample implementation of equals and hashcode from &#39;Jpa Buddy&#39;.\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\r\n        Book book = (Book) o;\r\n        return getId() != null &amp;&amp; Objects.equals(getId(), book.getId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\ninstanceof is less efficient and should not be used here.","title":"getClass() in equals() gives an unexpected result for my entities","body":"<p>to be safe, you should compare the proxy class.\nHere is a sample implementation of equals and hashcode from 'Jpa Buddy'.</p>\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\n    Book book = (Book) o;\n    return getId() != null &amp;&amp; Objects.equals(getId(), book.getId());\n}\n\n@Override\npublic int hashCode() {\n    return getClass().hashCode();\n}\n</code></pre>\n<p>instanceof is less efficient and should not be used here.</p>\n"}],"owner":{"account_id":13301487,"reputation":23,"user_id":9602861,"display_name":"Tomasu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49676038,"answer_count":2,"score":2,"last_activity_date":1678979056,"creation_date":1522941104,"question_id":49675843,"body_markdown":"I&#39;ve a method that dissociate two object.  \r\nAt the beginning of the method i retrieve from the DB(SpringData JPA/HIBERNATE) both the objects, that we well name object1 of type A and object2 of type B, then i compare `object1.getB().equals(object2)` and though the `object1.getB` is the same of `object2` the result is `false`. Why? If i debug the method i can see that object2 and the property B of the object 2 have the same class that is `B_$$_jvst1a4_5`. Why have this strange name? shouldn&#39;t be only B? In the `equals` method infact when compare\r\n\r\n    if (getClass() != obj.getClass())\r\n        return false;\r\n\r\ni obtain `B != B_$$_jvst1a4_5` and so return false.\r\n\r\nSomeone can explain me this behaviour?\r\n\r\n\r\n\r\n\r\n\r\n\t\r\n","title":"getClass() in equals() gives an unexpected result for my entities","body":"<p>I've a method that dissociate two object.<br>\nAt the beginning of the method i retrieve from the DB(SpringData JPA/HIBERNATE) both the objects, that we well name object1 of type A and object2 of type B, then i compare <code>object1.getB().equals(object2)</code> and though the <code>object1.getB</code> is the same of <code>object2</code> the result is <code>false</code>. Why? If i debug the method i can see that object2 and the property B of the object 2 have the same class that is <code>B_$$_jvst1a4_5</code>. Why have this strange name? shouldn't be only B? In the <code>equals</code> method infact when compare</p>\n\n<pre><code>if (getClass() != obj.getClass())\n    return false;\n</code></pre>\n\n<p>i obtain <code>B != B_$$_jvst1a4_5</code> and so return false.</p>\n\n<p>Someone can explain me this behaviour?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678979776,"post_id":75757991,"comment_id":133641404,"body_markdown":"is the client the webapp running in tomcat or something calling tomcat?","body":"is the client the webapp running in tomcat or something calling tomcat?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1678980002,"post_id":75757991,"comment_id":133641480,"body_markdown":"Beware of outdated and insecure TLS protocols https://stackoverflow.com/a/67804650/2834978","body":"Beware of outdated and insecure TLS protocols <a href=\"https://stackoverflow.com/a/67804650/2834978\">stackoverflow.com/a/67804650/2834978</a>"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1678981573,"post_id":75757991,"comment_id":133642002,"body_markdown":"Welcome to stackoverflow. Please take the [tour], read [ask] and edit your question with detailed steps to reproduce (e.g. a [mcve]) and make sure that there is indeed a question and not just an error message.","body":"Welcome to stackoverflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and edit your question with detailed steps to reproduce (e.g. a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) and make sure that there is indeed a question and not just an error message."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679029060,"post_id":75757991,"comment_id":133651036,"body_markdown":"@kamran, Is your JDK version lower than 8?","body":"@kamran, Is your JDK version lower than 8?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679037741,"post_id":75757991,"comment_id":133652254,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27870745,"reputation":1,"user_id":21281319,"display_name":"kamran"},"score":0,"creation_date":1679069995,"post_id":75757991,"comment_id":133660636,"body_markdown":"webapp is running . I am using java 1.8. I updated jre security file and remove TLS 1.1 . trying to pull data from sql server using java code . using tomcat as server .","body":"webapp is running . I am using java 1.8. I updated jre security file and remove TLS 1.1 . trying to pull data from sql server using java code . using tomcat as server ."}],"owner":{"account_id":27870745,"reputation":1,"user_id":21281319,"display_name":"kamran"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680196597,"answer_count":0,"score":0,"last_activity_date":1678978865,"creation_date":1678978865,"question_id":75757991,"body_markdown":"The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]\r\n\r\nconnecting with sql server with java tomcat server using eclipse \r\n","title":"The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12] how to fix","body":"<p>The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]</p>\n<p>connecting with sql server with java tomcat server using eclipse</p>\n"},{"tags":["java","intellij-idea","code-inspection","unused-variables"],"comments":[{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":2,"creation_date":1481643050,"post_id":41124617,"comment_id":69453434,"body_markdown":"Show us the code, please.","body":"Show us the code, please."}],"answers":[{"tags":[],"owner":{"account_id":2650998,"reputation":29491,"user_id":3411681,"accept_rate":61,"display_name":"Marcelo Glasberg"},"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1481643946,"creation_date":1481643189,"answer_id":41124864,"question_id":41124617,"body_markdown":"There are two separate warnings. One says the field was **never assigned** a value, which is the one you have disabled. The other says the field was **never used**, which is the warning you are getting. \r\n\r\nAdd `Inject` to *settings -&gt; editor -&gt; inspections -&gt; java -&gt; declaration redundancy -&gt; unused declarations -&gt; entry points -&gt; annotations -&gt; Mark as entry point if annotated by*","title":"“Variable is never assigned” warning in IntelliJ IDEA can be suppressed only &quot;partially&quot;","body":"<p>There are two separate warnings. One says the field was <strong>never assigned</strong> a value, which is the one you have disabled. The other says the field was <strong>never used</strong>, which is the warning you are getting. </p>\n\n<p>Add <code>Inject</code> to <em>settings -> editor -> inspections -> java -> declaration redundancy -> unused declarations -> entry points -> annotations -> Mark as entry point if annotated by</em></p>\n"},{"tags":[],"owner":{"account_id":1419220,"reputation":916,"user_id":1344203,"display_name":"rychu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481700658,"creation_date":1481700658,"answer_id":41137060,"question_id":41124617,"body_markdown":"It seems that it was a bug in IDEA. I&#39;ve just updated to IDEA **2016.3.1** and now `@Inject` and `@Resource` annotations put in the &quot;entry points&quot; section do not work - they have to be put in the &quot;fields&quot; window (although when they are in &quot;entry points&quot; section I can still observe the &quot;old&quot; behavior i.e. annotated fields are not detected by code inspection yet they are underlined in the editor and yellow marker is visible).","title":"“Variable is never assigned” warning in IntelliJ IDEA can be suppressed only &quot;partially&quot;","body":"<p>It seems that it was a bug in IDEA. I've just updated to IDEA <strong>2016.3.1</strong> and now <code>@Inject</code> and <code>@Resource</code> annotations put in the \"entry points\" section do not work - they have to be put in the \"fields\" window (although when they are in \"entry points\" section I can still observe the \"old\" behavior i.e. annotated fields are not detected by code inspection yet they are underlined in the editor and yellow marker is visible).</p>\n"},{"tags":[],"owner":{"account_id":3648149,"reputation":2060,"user_id":3040886,"accept_rate":20,"display_name":"Ronny Shibley"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1511506889,"creation_date":1511506889,"answer_id":47467892,"question_id":41124617,"body_markdown":"Highlight the field, type Alt + Enter &quot;Windows&quot; or  ⌥⏎ &quot;Mac&quot; or Just click on the Light Bulb. Select the &quot;Suppress for fields annotated by {annotation name}.\r\n\r\n\r\n\r\n\r\n","title":"“Variable is never assigned” warning in IntelliJ IDEA can be suppressed only &quot;partially&quot;","body":"<p>Highlight the field, type Alt + Enter \"Windows\" or  ⌥⏎ \"Mac\" or Just click on the Light Bulb. Select the \"Suppress for fields annotated by {annotation name}.</p>\n"},{"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1592426378,"creation_date":1592426378,"answer_id":62437991,"question_id":41124617,"body_markdown":"You can just choose to ignore it in some cases where it actually make sense,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat you can do is hover the affected area and press &lt;kbd&gt;Alt&lt;/kbd&gt; +  &lt;kbd&gt;Enter&lt;/kbd&gt; in &quot;Windows&quot; or &lt;kbd&gt;alt/option/⌥&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt; in &quot;Mac&quot;, **and chose to suppress it**.\r\n\r\nYou&#39;ll see,\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ihdp3.png\r\n  [2]: https://i.stack.imgur.com/3bSYa.png","title":"“Variable is never assigned” warning in IntelliJ IDEA can be suppressed only &quot;partially&quot;","body":"<p>You can just choose to ignore it in some cases where it actually make sense,</p>\n\n<p><a href=\"https://i.stack.imgur.com/ihdp3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ihdp3.png\" alt=\"enter image description here\"></a></p>\n\n<p>What you can do is hover the affected area and press <kbd>Alt</kbd> +  <kbd>Enter</kbd> in \"Windows\" or <kbd>alt/option/⌥</kbd> + <kbd>Enter</kbd> in \"Mac\", <strong>and chose to suppress it</strong>.</p>\n\n<p>You'll see,</p>\n\n<p><a href=\"https://i.stack.imgur.com/3bSYa.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3bSYa.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3904164,"reputation":2111,"user_id":3276902,"accept_rate":83,"display_name":"timguy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678978836,"creation_date":1675421537,"answer_id":75334658,"question_id":41124617,"body_markdown":"**Update 2023**\r\n\r\nI had this issue before, but the screens look different now:\r\n- I don&#39;t have `Suppress unused warning if annotated...`\r\n- Now, it is `Assume fields annotated by ...@Autowired as implicitly written`\r\n\r\nThe first option didn&#39;t appear.\r\nI had to select the variable name, instead of the type.\r\n\r\n[![Context Actions Dialog][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L2wjn.png","title":"“Variable is never assigned” warning in IntelliJ IDEA can be suppressed only &quot;partially&quot;","body":"<p><strong>Update 2023</strong></p>\n<p>I had this issue before, but the screens look different now:</p>\n<ul>\n<li>I don't have <code>Suppress unused warning if annotated...</code></li>\n<li>Now, it is <code>Assume fields annotated by ...@Autowired as implicitly written</code></li>\n</ul>\n<p>The first option didn't appear.\nI had to select the variable name, instead of the type.</p>\n<p><a href=\"https://i.stack.imgur.com/L2wjn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L2wjn.png\" alt=\"Context Actions Dialog\" /></a></p>\n"}],"owner":{"account_id":1419220,"reputation":916,"user_id":1344203,"display_name":"rychu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39244,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":41124864,"answer_count":5,"score":55,"last_activity_date":1678978836,"creation_date":1481642438,"question_id":41124617,"body_markdown":"Java EE + IntelliJ Idea 2016.3: I&#39;ve written a class and declared a private field with a `@Inject` annotation. \r\n\r\nI have successfully got rid of the &quot;unused declaration&quot; notification from the &quot;inspection results&quot; window by adding `javax.inject.Inject` to *settings -&gt; editor -&gt; inspections -&gt; Java -&gt; declaration redundancy -&gt; unused declarations -&gt; entry points -&gt; annotations -&gt; mark field as implicitly written when annotated by* (based on [this post][1]). \r\n\r\nUnfortunately the field is still underlined and a yellow marker is present on the scroll bar. Do I configure this separately or am I doing something wrong?\r\n\r\n  [1]: https://stackoverflow.com/questions/6762012/suppress-variable-is-never-assigned-warning-in-intellij-idea","title":"“Variable is never assigned” warning in IntelliJ IDEA can be suppressed only &quot;partially&quot;","body":"<p>Java EE + IntelliJ Idea 2016.3: I've written a class and declared a private field with a <code>@Inject</code> annotation. </p>\n\n<p>I have successfully got rid of the \"unused declaration\" notification from the \"inspection results\" window by adding <code>javax.inject.Inject</code> to <em>settings -> editor -> inspections -> Java -> declaration redundancy -> unused declarations -> entry points -> annotations -> mark field as implicitly written when annotated by</em> (based on <a href=\"https://stackoverflow.com/questions/6762012/suppress-variable-is-never-assigned-warning-in-intellij-idea\">this post</a>). </p>\n\n<p>Unfortunately the field is still underlined and a yellow marker is present on the scroll bar. Do I configure this separately or am I doing something wrong?</p>\n"},{"tags":["java","spring-boot","jackson","gson","json-deserialization"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":2,"creation_date":1678976993,"post_id":75757606,"comment_id":133640440,"body_markdown":"That is not a valid JSON string. The value `abc.def.ghi` needs to be enclosed in quotes. Looks like Google&#39;s Gson library is more forgiving. Jackson is much more strict.","body":"That is not a valid JSON string. The value <code>abc.def.ghi</code> needs to be enclosed in quotes. Looks like Google&#39;s Gson library is more forgiving. Jackson is much more strict."},{"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"score":0,"creation_date":1678977107,"post_id":75757606,"comment_id":133640483,"body_markdown":"At first glance Jackson only seems to support missing quotes for property _names_, not property _values_ (although according to the spec both is malformed).","body":"At first glance Jackson only seems to support missing quotes for property <i>names</i>, not property <i>values</i> (although according to the spec both is malformed)."},{"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"score":0,"creation_date":1678977227,"post_id":75757606,"comment_id":133640521,"body_markdown":"See https://github.com/FasterXML/jackson-core/issues/723","body":"See <a href=\"https://github.com/FasterXML/jackson-core/issues/723\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-core/issues/723</a>"},{"owner":{"account_id":20052674,"reputation":3,"user_id":14701041,"display_name":"Faizan Ahmed"},"score":0,"creation_date":1678979016,"post_id":75757606,"comment_id":133641145,"body_markdown":"Thanks @Marvin, this does give some clarity about how to proceed.","body":"Thanks @Marvin, this does give some clarity about how to proceed."}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678978396,"creation_date":1678978396,"answer_id":75757925,"question_id":75757606,"body_markdown":"A simple; na&#239;ve solution would be to use a regular expression to fix the offending JSON:\r\n\r\nPattern: `(?&lt;=&quot;:\\s?)(?&lt;unquoted&gt;[^\\{\\}&quot;]+)(?=,?)`\r\n\r\nThis pattern includes a positive lookbehind that checks for a preceding quote. followed by a colon and an optional space. This would be a potential key/prop. \r\n\r\n```java\r\nimport java.util.Map;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class Deserializer {\r\n\r\n    private static final ObjectMapper objectMapper;\r\n    private static final TypeReference&lt;Map&lt;String, String&gt;&gt; mapType;\r\n\r\n    static {\r\n        objectMapper = new ObjectMapper();\r\n        mapType = new TypeReference&lt;Map&lt;String, String&gt;&gt;() { };\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n        String invalidJsonString = &quot;{\\&quot;jwt\\&quot;:abc.def.ghi}&quot;;\r\n        String jsonString = fixUnquotedJsonValues(invalidJsonString);\r\n        Map&lt;String, String&gt; tokens = objectMapper.readValue(jsonString, mapType);\r\n\r\n        System.out.println(tokens);\r\n    }\r\n\r\n    public static String fixUnquotedJsonValues(String invalidJson) {\r\n        return invalidJson.replaceAll(\r\n                &quot;(?&lt;=\\\\\\&quot;:\\\\s?)(?&lt;unquoted&gt;[^\\\\{\\\\}\\\\\\&quot;]+)(?=,?)&quot;,\r\n                &quot;\\&quot;${unquoted}\\&quot;&quot;);\r\n    }\r\n}\r\n```","title":"Replace usage of new Gson().fromJson() with com.fasterxml.jackson.databind.ObjectMapper covering all the cases","body":"<p>A simple; naïve solution would be to use a regular expression to fix the offending JSON:</p>\n<p>Pattern: <code>(?&lt;=&quot;:\\s?)(?&lt;unquoted&gt;[^\\{\\}&quot;]+)(?=,?)</code></p>\n<p>This pattern includes a positive lookbehind that checks for a preceding quote. followed by a colon and an optional space. This would be a potential key/prop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class Deserializer {\n\n    private static final ObjectMapper objectMapper;\n    private static final TypeReference&lt;Map&lt;String, String&gt;&gt; mapType;\n\n    static {\n        objectMapper = new ObjectMapper();\n        mapType = new TypeReference&lt;Map&lt;String, String&gt;&gt;() { };\n    }\n\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        String invalidJsonString = &quot;{\\&quot;jwt\\&quot;:abc.def.ghi}&quot;;\n        String jsonString = fixUnquotedJsonValues(invalidJsonString);\n        Map&lt;String, String&gt; tokens = objectMapper.readValue(jsonString, mapType);\n\n        System.out.println(tokens);\n    }\n\n    public static String fixUnquotedJsonValues(String invalidJson) {\n        return invalidJson.replaceAll(\n                &quot;(?&lt;=\\\\\\&quot;:\\\\s?)(?&lt;unquoted&gt;[^\\\\{\\\\}\\\\\\&quot;]+)(?=,?)&quot;,\n                &quot;\\&quot;${unquoted}\\&quot;&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20052674,"reputation":3,"user_id":14701041,"display_name":"Faizan Ahmed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75757925,"answer_count":1,"score":0,"last_activity_date":1678978396,"creation_date":1678976674,"question_id":75757606,"body_markdown":"Currently we are using Gson to convert a JSON String to Map&lt;String, String&gt;. **It is required to eliminate use of Gson completely and replace it with ObjectMapper.** \r\n\r\nCurrently if we are to convert following Json String to a Map&lt;String, String&gt; \r\n\r\n```&quot;{&quot;jwt&quot;:abc.def.ghi}&quot;```\r\n\r\nNote that the value against the key &quot;jwt&quot; is not a string. \r\n\r\n\r\n```\r\nString jsonString = &quot;{\\&quot;jwt\\&quot;:abc.def.ghi}&quot;;\r\nType type = new TypeToken&lt;Map&lt;String, String&gt;&gt;(){}.getType();\r\nMap&lt;String, String&gt; tokens = new Gson().fromJson(jsonString, type);\r\n```\r\n\r\nGson successfully converts it to \r\n\r\n```tokens = {&quot;jwt&quot;:&quot;abc.def.ghi&quot;}```\r\n\r\nCorresponding Code using ObjectMapper: \r\n\r\n```\r\nMap&lt;String, String&gt; tokens = objectMapper.readValue(jsonString, new TypeReference&lt;&gt;() {});\r\n```\r\n\r\n\r\nWhen tried using ObjectMapper, following exception is thrown: \r\n\r\ncom.fasterxml.jackson.core.JsonParseException Unrecognised token &#39;abc.def.ghi&#39; found ....\r\n\r\nThe issue is that unlike Gson, ObjectMapper is not able to parse ```abc.def.ghi``` to ```&quot;abc.def.ghi&quot;```.\r\n\r\nWhat should be my correct approach to achieve the required result. \r\n\r\nI have tried ```objectMapper.writeValueAsString()``` before passing it to the ```readValue()```. Still no progress. \r\n","title":"Replace usage of new Gson().fromJson() with com.fasterxml.jackson.databind.ObjectMapper covering all the cases","body":"<p>Currently we are using Gson to convert a JSON String to Map&lt;String, String&gt;. <strong>It is required to eliminate use of Gson completely and replace it with ObjectMapper.</strong></p>\n<p>Currently if we are to convert following Json String to a Map&lt;String, String&gt;</p>\n<p><code>&quot;{&quot;jwt&quot;:abc.def.ghi}&quot;</code></p>\n<p>Note that the value against the key &quot;jwt&quot; is not a string.</p>\n<pre><code>String jsonString = &quot;{\\&quot;jwt\\&quot;:abc.def.ghi}&quot;;\nType type = new TypeToken&lt;Map&lt;String, String&gt;&gt;(){}.getType();\nMap&lt;String, String&gt; tokens = new Gson().fromJson(jsonString, type);\n</code></pre>\n<p>Gson successfully converts it to</p>\n<p><code>tokens = {&quot;jwt&quot;:&quot;abc.def.ghi&quot;}</code></p>\n<p>Corresponding Code using ObjectMapper:</p>\n<pre><code>Map&lt;String, String&gt; tokens = objectMapper.readValue(jsonString, new TypeReference&lt;&gt;() {});\n</code></pre>\n<p>When tried using ObjectMapper, following exception is thrown:</p>\n<p>com.fasterxml.jackson.core.JsonParseException Unrecognised token 'abc.def.ghi' found ....</p>\n<p>The issue is that unlike Gson, ObjectMapper is not able to parse <code>abc.def.ghi</code> to <code>&quot;abc.def.ghi&quot;</code>.</p>\n<p>What should be my correct approach to achieve the required result.</p>\n<p>I have tried <code>objectMapper.writeValueAsString()</code> before passing it to the <code>readValue()</code>. Still no progress.</p>\n"},{"tags":["java","java-8","enums"],"comments":[{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":5,"creation_date":1678882605,"post_id":75744555,"comment_id":133618506,"body_markdown":"off-topic recommendation: don&#39;t store dynamic data (like users) in an enum - use the enum as a property of the users and store them in instances of a normal class","body":"off-topic recommendation: don&#39;t store dynamic data (like users) in an enum - use the enum as a property of the users and store them in instances of a normal class"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":8,"creation_date":1678882660,"post_id":75744555,"comment_id":133618522,"body_markdown":"What are you trying to model here? The data here doesn&#39;t make a lot of sene to me just by looking at it.","body":"What are you trying to model here? The data here doesn&#39;t make a lot of sene to me just by looking at it."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678883373,"post_id":75744555,"comment_id":133618723,"body_markdown":"It’s certainly possible to obtain the result that you want, and perhaps even in some elegant way, who knows? Before we can guide you, you need to explain your real goal.","body":"It’s certainly possible to obtain the result that you want, and perhaps even in some elegant way, who knows? Before we can guide you, you need to explain your real goal."},{"owner":{"account_id":26608091,"reputation":91,"user_id":20228611,"display_name":"buec95"},"score":0,"creation_date":1678883562,"post_id":75744555,"comment_id":133618777,"body_markdown":"Added the original idea as edit I hope it&#39;s formulated in an understandable way","body":"Added the original idea as edit I hope it&#39;s formulated in an understandable way"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1678883597,"post_id":75744555,"comment_id":133618788,"body_markdown":"@buec95 imho that still doesn&#39;t explain why you want to use enums and not regular classes.","body":"@buec95 imho that still doesn&#39;t explain why you want to use enums and not regular classes."},{"owner":{"account_id":26608091,"reputation":91,"user_id":20228611,"display_name":"buec95"},"score":1,"creation_date":1678883643,"post_id":75744555,"comment_id":133618803,"body_markdown":"My idea was to make an enum however I am also open for a regular class solution","body":"My idea was to make an enum however I am also open for a regular class solution"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1678884497,"post_id":75744555,"comment_id":133619044,"body_markdown":"What was your appeal to enums? What did they do that a normal class didn&#39;t for you? (Auto-complete names, constants, ....?)","body":"What was your appeal to enums? What did they do that a normal class didn&#39;t for you? (Auto-complete names, constants, ....?)"},{"owner":{"account_id":26608091,"reputation":91,"user_id":20228611,"display_name":"buec95"},"score":0,"creation_date":1678884681,"post_id":75744555,"comment_id":133619084,"body_markdown":"The first attempt was to use constants for the index of the tablecolumns but as this would lead to a high number of constants and names (Some tables might have the same column but at different index) I choose the Enum as this would be sufficent for this usecase. However now the goal is to solve all at once I just stayed at the enum solution as it was suitable for the original usecase.","body":"The first attempt was to use constants for the index of the tablecolumns but as this would lead to a high number of constants and names (Some tables might have the same column but at different index) I choose the Enum as this would be sufficent for this usecase. However now the goal is to solve all at once I just stayed at the enum solution as it was suitable for the original usecase."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1678889776,"post_id":75744555,"comment_id":133620748,"body_markdown":"As said by Sweeper, your example doesn’t make any sense at all. Why is `Switzerland.ID` associated with `&quot;Hans&quot;`, `Switzerland.NAME` associated with `&quot;Jan&quot;` and `Switzerland.STATE` with `&quot;Fritz&quot;`? On a technical level, each `enum` constant does already have a name and an ordinal number, so if you declare `enum Person { Paul, Jan, Jack }`, there is already `Person.Paul.name() == &quot;Paul&quot;`, `Person.Paul.ordinal() == 0`, `Person.Jan.name() == &quot;Jan&quot;`, `Person.Jan.ordinal() == 1`, `Person.Jack.name() == &quot;Jack&quot;`, and `Person.Jack.ordinal() == 2`. But as said by SIMULATAN, persons are not constant.","body":"As said by Sweeper, your example doesn’t make any sense at all. Why is <code>Switzerland.ID</code> associated with <code>&quot;Hans&quot;</code>, <code>Switzerland.NAME</code> associated with <code>&quot;Jan&quot;</code> and <code>Switzerland.STATE</code> with <code>&quot;Fritz&quot;</code>? On a technical level, each <code>enum</code> constant does already have a name and an ordinal number, so if you declare <code>enum Person { Paul, Jan, Jack }</code>, there is already <code>Person.Paul.name() == &quot;Paul&quot;</code>, <code>Person.Paul.ordinal() == 0</code>, <code>Person.Jan.name() == &quot;Jan&quot;</code>, <code>Person.Jan.ordinal() == 1</code>, <code>Person.Jack.name() == &quot;Jack&quot;</code>, and <code>Person.Jack.ordinal() == 2</code>. But as said by SIMULATAN, persons are not constant."},{"owner":{"account_id":26608091,"reputation":91,"user_id":20228611,"display_name":"buec95"},"score":0,"creation_date":1678890122,"post_id":75744555,"comment_id":133620855,"body_markdown":"The names and countries are just an example. The original use-case is the one mentioned in the edit section. I need an enum/class per table where each element in the enum/class describes one column and has attributes like index, name, width and similar.","body":"The names and countries are just an example. The original use-case is the one mentioned in the edit section. I need an enum/class per table where each element in the enum/class describes one column and has attributes like index, name, width and similar."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1678891054,"post_id":75744555,"comment_id":133621198,"body_markdown":"As said, name and index are implied when you keep the constant name in sync with the column name and declare the constants in the intended order. Still, if you don’t need special `enum` features like `EnumMap`/`EnumSet`, etc., you’re probably better off using a `record ColumnDescription(String name, int index, int width, …) {}` and some explicitly declared `static final ColumnDescription …` fields. Or just `static final List&lt;ColumnDescription&gt; TABLE_XYZ_COLUMNS = List.of(…);`","body":"As said, name and index are implied when you keep the constant name in sync with the column name and declare the constants in the intended order. Still, if you don’t need special <code>enum</code> features like <code>EnumMap</code>/<code>EnumSet</code>, etc., you’re probably better off using a <code>record ColumnDescription(String name, int index, int width, …) {}</code> and some explicitly declared <code>static final ColumnDescription …</code> fields. Or just <code>static final List&lt;ColumnDescription&gt; TABLE_XYZ_COLUMNS = List.of(…);</code>"},{"owner":{"account_id":26608091,"reputation":91,"user_id":20228611,"display_name":"buec95"},"score":0,"creation_date":1678893694,"post_id":75744555,"comment_id":133622097,"body_markdown":"That sounds good could you provide me a code example as I am not quite sure as far as I see the record class does not solve my problem as I have to create one variable for one column: So I have to include the table name in the variable name as for example the column &quot;ID&quot; could appear as first column in one table but as 3rd in another table. Do I miss something?","body":"That sounds good could you provide me a code example as I am not quite sure as far as I see the record class does not solve my problem as I have to create one variable for one column: So I have to include the table name in the variable name as for example the column &quot;ID&quot; could appear as first column in one table but as 3rd in another table. Do I miss something?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678896522,"post_id":75744555,"comment_id":133623051,"body_markdown":"It depends on how you actually want to use these declarations. As said, you can have a declaration like `static final List&lt;ColumnDescription&gt; TABLE_ABC_COLUMNS = List.of(new ColumnDescription(&quot;ID&quot;), new ColumnDescription(&quot;FOO&quot;)), TABLE_XYZ_COLUMNS = List.of(new ColumnDescription(&quot;ID&quot;), new ColumnDescription(&quot;BAR&quot;));` where table names are implied by the variable name holding the list and the column indices are implied by the position inside the list. You can also make this information explicit. It all depends on which actual operations you have to support.","body":"It depends on how you actually want to use these declarations. As said, you can have a declaration like <code>static final List&lt;ColumnDescription&gt; TABLE_ABC_COLUMNS = List.of(new ColumnDescription(&quot;ID&quot;), new ColumnDescription(&quot;FOO&quot;)), TABLE_XYZ_COLUMNS = List.of(new ColumnDescription(&quot;ID&quot;), new ColumnDescription(&quot;BAR&quot;));</code> where table names are implied by the variable name holding the list and the column indices are implied by the position inside the list. You can also make this information explicit. It all depends on which actual operations you have to support."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1678938283,"post_id":75744555,"comment_id":133631169,"body_markdown":"The whole point of an enum is to have typesafe constants in your code base. For example, the compiler can detect if cases are uncovered in a `switch`. Creating enums dynamically doesn&#39;t make any sense to me. I&#39;d think Records or plain classes would fit better. Maybe you should add more details to your question regarding what you tried with an interface and how it didn&#39;t work.","body":"The whole point of an enum is to have typesafe constants in your code base. For example, the compiler can detect if cases are uncovered in a <code>switch</code>. Creating enums dynamically doesn&#39;t make any sense to me. I&#39;d think Records or plain classes would fit better. Maybe you should add more details to your question regarding what you tried with an interface and how it didn&#39;t work."},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1678978408,"post_id":75744555,"comment_id":133640938,"body_markdown":"An initialization block might be helpful here: https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html","body":"An initialization block might be helpful here: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/initial.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678961680,"creation_date":1678961680,"answer_id":75754779,"question_id":75744555,"body_markdown":"The primary benefit of enums is type safe constants. If you have columns of many different tables mixed into one enum, you&#39;re losing out on type safety.\r\n\r\nBut enums can implement interfaces. And we can define an interface that all our &quot;table-definition&quot; enums should implement like this:\r\n\r\n```\r\n/**\r\n * Interface for enums that define a table. Should not be implemented by non-enum classes.\r\n */\r\npublic interface TableDefinition&lt;T extends Enum&lt;T&gt;&gt; {\r\n    int getPreferredWidth();\r\n    Class&lt;?&gt; getColumnClass();\r\n}\r\n```\r\n\r\nNote that this interface *could* be implemented outside of an enum (there&#39;s no way in the type system that I know of to *force* an interface to only be implemented using `enum`), but we really only want enums.\r\n\r\nThen we&#39;ll define a method like this somewhere (it should *probably* be a non-static method of `ColumnModel`, but I&#39;ll pretend you can&#39;t change that class for some reason):\r\n\r\n```\r\nstatic &lt;T extends Enum&lt;T&gt; &amp; TableDefinition&lt;T&gt;&gt; void applyPreferredWidth(ColumnModel cm, Class&lt;T&gt; clazz) {\r\n    for (T column : clazz.getEnumConstants()) {\r\n        cm.getColumn(column.ordinal()).setPreferredWidth(column.getPreferredWidth());\r\n    }\r\n}\r\n```\r\n\r\nNow *this method* (and it&#39;s magic type parameter) ensures that the class passed to it references a class that&#39;s *both* and `enum` *and* implements our interface. This means we can use `enum` methods like `ordinal()` (which we&#39;ll just interpret as the column index) and our own methods like `getPreferredWidth()`.\r\n\r\nNow an implementation of this enum could simply look like this:\r\n\r\n```\r\npublic enum ExampleTable implements TableDefinition&lt;ExampleTable&gt; {\r\n    ID(Integer.class, 50),\r\n    NAME(String.class, 200),\r\n    CREATOR(String.class, 150),\r\n    CREATED(Instant.class, 100);\r\n\r\n    private final Class&lt;?&gt; columnClass;\r\n    private final int preferredWidth;\r\n\r\n    ExampleTable(Class&lt;?&gt; columnClass, int preferredWidth) {\r\n        this.columnClass = columnClass;\r\n        this.preferredWidth = preferredWidth;\r\n    }\r\n\r\n    @Override\r\n    public int getPreferredWidth() {\r\n        return preferredWidth;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;?&gt; getColumnClass() {\r\n        return columnClass;\r\n    }\r\n}\r\n```","title":"Customized Enum in Java8","body":"<p>The primary benefit of enums is type safe constants. If you have columns of many different tables mixed into one enum, you're losing out on type safety.</p>\n<p>But enums can implement interfaces. And we can define an interface that all our &quot;table-definition&quot; enums should implement like this:</p>\n<pre><code>/**\n * Interface for enums that define a table. Should not be implemented by non-enum classes.\n */\npublic interface TableDefinition&lt;T extends Enum&lt;T&gt;&gt; {\n    int getPreferredWidth();\n    Class&lt;?&gt; getColumnClass();\n}\n</code></pre>\n<p>Note that this interface <em>could</em> be implemented outside of an enum (there's no way in the type system that I know of to <em>force</em> an interface to only be implemented using <code>enum</code>), but we really only want enums.</p>\n<p>Then we'll define a method like this somewhere (it should <em>probably</em> be a non-static method of <code>ColumnModel</code>, but I'll pretend you can't change that class for some reason):</p>\n<pre><code>static &lt;T extends Enum&lt;T&gt; &amp; TableDefinition&lt;T&gt;&gt; void applyPreferredWidth(ColumnModel cm, Class&lt;T&gt; clazz) {\n    for (T column : clazz.getEnumConstants()) {\n        cm.getColumn(column.ordinal()).setPreferredWidth(column.getPreferredWidth());\n    }\n}\n</code></pre>\n<p>Now <em>this method</em> (and it's magic type parameter) ensures that the class passed to it references a class that's <em>both</em> and <code>enum</code> <em>and</em> implements our interface. This means we can use <code>enum</code> methods like <code>ordinal()</code> (which we'll just interpret as the column index) and our own methods like <code>getPreferredWidth()</code>.</p>\n<p>Now an implementation of this enum could simply look like this:</p>\n<pre><code>public enum ExampleTable implements TableDefinition&lt;ExampleTable&gt; {\n    ID(Integer.class, 50),\n    NAME(String.class, 200),\n    CREATOR(String.class, 150),\n    CREATED(Instant.class, 100);\n\n    private final Class&lt;?&gt; columnClass;\n    private final int preferredWidth;\n\n    ExampleTable(Class&lt;?&gt; columnClass, int preferredWidth) {\n        this.columnClass = columnClass;\n        this.preferredWidth = preferredWidth;\n    }\n\n    @Override\n    public int getPreferredWidth() {\n        return preferredWidth;\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass() {\n        return columnClass;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12854975,"reputation":26,"user_id":9298602,"display_name":"Bourne Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678969459,"creation_date":1678969418,"answer_id":75756227,"question_id":75744555,"body_markdown":"If you don&#39;t want to write constructer and getter method. You can try lombok.\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nAnd you can write enum like this.\r\n```\r\npackage com.example;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\n\r\npublic class EnumClass {\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    public enum TableA {\r\n        ID(Integer.class, 50);\r\n\r\n        private final Class&lt;?&gt; aClass;\r\n        private final Integer width;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Class&lt;?&gt; aClass = TableA.ID.getAClass();\r\n        Integer width = TableA.ID.getWidth();\r\n    }\r\n}\r\n```\r\nBut you still need to write fields...","title":"Customized Enum in Java8","body":"<p>If you don't want to write constructer and getter method. You can try lombok.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And you can write enum like this.</p>\n<pre><code>package com.example;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\n\npublic class EnumClass {\n\n    @AllArgsConstructor\n    @Getter\n    public enum TableA {\n        ID(Integer.class, 50);\n\n        private final Class&lt;?&gt; aClass;\n        private final Integer width;\n    }\n\n    public static void main(String[] args) {\n        Class&lt;?&gt; aClass = TableA.ID.getAClass();\n        Integer width = TableA.ID.getWidth();\n    }\n}\n</code></pre>\n<p>But you still need to write fields...</p>\n"}],"owner":{"account_id":26608091,"reputation":91,"user_id":20228611,"display_name":"buec95"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1678978201,"creation_date":1678882482,"question_id":75744555,"body_markdown":"To clarify my goal I rephrased the question. Here the use-case I am trying to solve: At the moment there are more than 50 tables in my project. At several locations these tables are used(Rendering, TableModel, etc.) The project is quite old and also includes some features which might not be necessary today however that&#39;s a different topic. One example where a table is used is this one:     \r\n\r\n    exampleTable.getColumnModel().getColumn(0).setPreferredWidth(50);          \r\n    exampleTable.getColumnModel().getColumn(1).setPreferredWidth(200);        \r\n    exampleTable.getColumnModel().getColumn(2).setPreferredWidth(150);         \r\n    exampleTable.getColumnModel().getColumn(3).setPreferredWidth(100);\t\r\n\r\nand in the table model:\r\n\r\n\tpublic Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n\r\n\t\tif (columnIndex == 0) {\r\n\t\t\treturn Integer.class;\r\n\t\t} else if (columnIndex == 3) {\r\n\t\t\treturn Date.class;\r\n\t\t}\r\n\t\treturn String.class; \r\n\r\n\t}\r\n\r\n\tpublic int getColumnCount() {\r\n\t\treturn 4;\r\n\t}\r\n\r\n\tpublic String getColumnName(int column) {\r\n\t\tint x=0;\r\n\t\tif (column == x++) {\r\n\t\t\treturn Texts.TableColumn.ID;\r\n\t\t} else if (column == x++) {\r\n\t\t\treturn Texts.TableColumn.NAME;\r\n\t\t} else if (column == x++) {\r\n\t\t\treturn Texts.TableColumn.CREATOR;\r\n\t\t} else if (column == x++) {\r\n\t\t\treturn Texts.TableColumn.CREATED;\r\n\t\t} else {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t}\r\n\r\nNow my first attempt was to use constants for the index so I can directly read which column is meant (no widt, text, etc.) Example:\r\n\r\n    exampleTable.getColumnModel().getColumn(Constants.EXPL_TAB_COL_ID).setPreferredWidth(50);\r\n\r\nHowever this has the negative side effect, that I have to use the Table name in the constant-name as for example the column ID can appear in multiple tables at different positions. The next attempt was to solve the problem by using Enums which actually worked for the original use-case of replacing the indeices with &quot;Constants/Enums&quot; for the readability:\r\n\r\n    exampleTable.getColumnModel().getColumn(TAB_EXPL.ID.ordinal()).setPreferredWidth(50);\r\n\r\nHowever as the optimal solution would solve all the problems at once my goal is to find like this:\r\n\r\n\t\tfor (TAB_EXPL col : TAB_EXPL.values()) {\r\n\t\t   exampleTable.getColumnModel().getColumn(col.getIndex()).setPreferredWidth(col.getPreferredWidth);\r\n\t\t}\r\n\r\n\tpublic Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n\r\n\t\tif (columnIndex == TAB_EXPL.ID.getIndex()) {\r\n\t\t\treturn Integer.class;\r\n\t\t} else if (columnIndex == TAB_EXPL.CREATED.getIndex()) {\r\n\t\t\treturn Date.class;\r\n\t\t}\r\n\t\treturn String.class; \r\n\r\n\t}\r\n\r\n\tpublic int getColumnCount() {\r\n\t\treturn TAB_EXPL.values().length;\r\n\t}\r\n\r\n\tpublic String getColumnName(int column) {\r\n\t\tfor (TAB_EXPL col : TAB_EXPL.values()) {\r\n\t\t\treturn col.getName();\r\n\t\t}\r\n\t}\r\n\r\nIt doesn&#39;t matter if it&#39;s a class, enum or record it should just solve the problem. I also tried an approach with the EnumMap type in combination with a record however I failed when I tried to use multiple arguments(Record is defined with int Index, String name) in the put() method of the EnumMap. Also the put()-Method has to be called in a constructor or another method which makes the enum/constant attempt useless:\r\n\r\n    eMap.put(TAB_EXPL.ID, (0, &quot;Id&quot;));\r\n\r\nHope this helps to understand the problem and that someone can help me.\r\n\r\n**EDIT2 SOLUTION:** I found a solution myself, however it is not exactly the one I searched and it does only work for Java version 9+. Here is an example in case someone has a similar problem or any additional ideas:\r\n\r\n    import java.util.Map;\r\n    import java.util.EnumMap;\r\n    \r\n    public class HelloWorld {\r\n        public enum TAB_EXPL{ID,DATE,USER};\r\n        public enum TAB_ATT{ID,NAME,STATE};\r\n        public static void main(String[] args) {\r\n\r\n\r\n        class RecordTableColumn {\r\n            \r\n            private final int index;\r\n            private final String name;\r\n            private final int colWidth;\r\n        \r\n            public RecordTableColumn(int index, String name, int colWidth) {\r\n                this.index = index;\r\n                this.name = name;\r\n                this.colWidth = colWidth;\r\n            }\r\n        \r\n            public int getIndex() {\r\n                return index;\r\n            }\r\n        \r\n            public String getName() {\r\n                return name;\r\n            }\r\n            \r\n            public int getColWidth() {\r\n                return colWidth;\r\n            }\r\n        }\r\n\r\n        EnumMap&lt;TAB_EXPL, RecordTableColumn&gt; TabExpl = new EnumMap&lt;&gt;(Map.ofEntries(\r\n            Map.entry(TAB_EXPL.ID, new RecordTableColumn(0, &quot;Id&quot;, 10)),\r\n            Map.entry(TAB_EXPL.DATE, new RecordTableColumn(1, &quot;Date&quot;, 30)),\r\n            Map.entry(TAB_EXPL.USER, new RecordTableColumn(2, &quot;User&quot;, 100))\r\n            ));\r\n\r\n        EnumMap&lt;TAB_ATT, RecordTableColumn&gt; TabAtt = new EnumMap&lt;&gt;(Map.ofEntries(\r\n            Map.entry(TAB_ATT.ID, new RecordTableColumn(0, &quot;Id&quot;, 10)),\r\n            Map.entry(TAB_ATT.NAME, new RecordTableColumn(1, &quot;Name&quot;, 100)),\r\n            Map.entry(TAB_ATT.STATE, new RecordTableColumn(2, &quot;State&quot;, 50))\r\n            ));\r\n\r\n        System.out.println(&quot;Table Example:&quot;);\r\n        for (TAB_EXPL col : TAB_EXPL.values()) {\r\n            System.out.println(&quot;Index: &quot; + TabExpl.get(col).getIndex());\r\n            System.out.println(&quot;Name: &quot; + TabExpl.get(col).getName());\r\n            System.out.println(&quot;Column Width: &quot; + TabExpl.get(col).getColWidth());\r\n        }  \r\n        System.out.println(&quot;---------------------------------------------&quot;);\r\n        System.out.println(&quot;Table Att:&quot;);\r\n        for (TAB_ATT col : TAB_ATT.values()) {\r\n            System.out.println(&quot;Index: &quot; + TabAtt.get(col).getIndex());\r\n            System.out.println(&quot;Name: &quot; + TabAtt.get(col).getName());\r\n            System.out.println(&quot;Column Width: &quot; + TabAtt.get(col).getColWidth());\r\n        }  \r\n            \r\n    }\r\n}\r\n\r\n\r\n","title":"Customized Enum in Java8","body":"<p>To clarify my goal I rephrased the question. Here the use-case I am trying to solve: At the moment there are more than 50 tables in my project. At several locations these tables are used(Rendering, TableModel, etc.) The project is quite old and also includes some features which might not be necessary today however that's a different topic. One example where a table is used is this one:</p>\n<pre><code>exampleTable.getColumnModel().getColumn(0).setPreferredWidth(50);          \nexampleTable.getColumnModel().getColumn(1).setPreferredWidth(200);        \nexampleTable.getColumnModel().getColumn(2).setPreferredWidth(150);         \nexampleTable.getColumnModel().getColumn(3).setPreferredWidth(100);  \n</code></pre>\n<p>and in the table model:</p>\n<pre><code>public Class&lt;?&gt; getColumnClass(int columnIndex) {\n\n    if (columnIndex == 0) {\n        return Integer.class;\n    } else if (columnIndex == 3) {\n        return Date.class;\n    }\n    return String.class; \n\n}\n\npublic int getColumnCount() {\n    return 4;\n}\n\npublic String getColumnName(int column) {\n    int x=0;\n    if (column == x++) {\n        return Texts.TableColumn.ID;\n    } else if (column == x++) {\n        return Texts.TableColumn.NAME;\n    } else if (column == x++) {\n        return Texts.TableColumn.CREATOR;\n    } else if (column == x++) {\n        return Texts.TableColumn.CREATED;\n    } else {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Now my first attempt was to use constants for the index so I can directly read which column is meant (no widt, text, etc.) Example:</p>\n<pre><code>exampleTable.getColumnModel().getColumn(Constants.EXPL_TAB_COL_ID).setPreferredWidth(50);\n</code></pre>\n<p>However this has the negative side effect, that I have to use the Table name in the constant-name as for example the column ID can appear in multiple tables at different positions. The next attempt was to solve the problem by using Enums which actually worked for the original use-case of replacing the indeices with &quot;Constants/Enums&quot; for the readability:</p>\n<pre><code>exampleTable.getColumnModel().getColumn(TAB_EXPL.ID.ordinal()).setPreferredWidth(50);\n</code></pre>\n<p>However as the optimal solution would solve all the problems at once my goal is to find like this:</p>\n<pre><code>    for (TAB_EXPL col : TAB_EXPL.values()) {\n       exampleTable.getColumnModel().getColumn(col.getIndex()).setPreferredWidth(col.getPreferredWidth);\n    }\n\npublic Class&lt;?&gt; getColumnClass(int columnIndex) {\n\n    if (columnIndex == TAB_EXPL.ID.getIndex()) {\n        return Integer.class;\n    } else if (columnIndex == TAB_EXPL.CREATED.getIndex()) {\n        return Date.class;\n    }\n    return String.class; \n\n}\n\npublic int getColumnCount() {\n    return TAB_EXPL.values().length;\n}\n\npublic String getColumnName(int column) {\n    for (TAB_EXPL col : TAB_EXPL.values()) {\n        return col.getName();\n    }\n}\n</code></pre>\n<p>It doesn't matter if it's a class, enum or record it should just solve the problem. I also tried an approach with the EnumMap type in combination with a record however I failed when I tried to use multiple arguments(Record is defined with int Index, String name) in the put() method of the EnumMap. Also the put()-Method has to be called in a constructor or another method which makes the enum/constant attempt useless:</p>\n<pre><code>eMap.put(TAB_EXPL.ID, (0, &quot;Id&quot;));\n</code></pre>\n<p>Hope this helps to understand the problem and that someone can help me.</p>\n<p><strong>EDIT2 SOLUTION:</strong> I found a solution myself, however it is not exactly the one I searched and it does only work for Java version 9+. Here is an example in case someone has a similar problem or any additional ideas:</p>\n<pre><code>import java.util.Map;\nimport java.util.EnumMap;\n\npublic class HelloWorld {\n    public enum TAB_EXPL{ID,DATE,USER};\n    public enum TAB_ATT{ID,NAME,STATE};\n    public static void main(String[] args) {\n\n\n    class RecordTableColumn {\n        \n        private final int index;\n        private final String name;\n        private final int colWidth;\n    \n        public RecordTableColumn(int index, String name, int colWidth) {\n            this.index = index;\n            this.name = name;\n            this.colWidth = colWidth;\n        }\n    \n        public int getIndex() {\n            return index;\n        }\n    \n        public String getName() {\n            return name;\n        }\n        \n        public int getColWidth() {\n            return colWidth;\n        }\n    }\n\n    EnumMap&lt;TAB_EXPL, RecordTableColumn&gt; TabExpl = new EnumMap&lt;&gt;(Map.ofEntries(\n        Map.entry(TAB_EXPL.ID, new RecordTableColumn(0, &quot;Id&quot;, 10)),\n        Map.entry(TAB_EXPL.DATE, new RecordTableColumn(1, &quot;Date&quot;, 30)),\n        Map.entry(TAB_EXPL.USER, new RecordTableColumn(2, &quot;User&quot;, 100))\n        ));\n\n    EnumMap&lt;TAB_ATT, RecordTableColumn&gt; TabAtt = new EnumMap&lt;&gt;(Map.ofEntries(\n        Map.entry(TAB_ATT.ID, new RecordTableColumn(0, &quot;Id&quot;, 10)),\n        Map.entry(TAB_ATT.NAME, new RecordTableColumn(1, &quot;Name&quot;, 100)),\n        Map.entry(TAB_ATT.STATE, new RecordTableColumn(2, &quot;State&quot;, 50))\n        ));\n\n    System.out.println(&quot;Table Example:&quot;);\n    for (TAB_EXPL col : TAB_EXPL.values()) {\n        System.out.println(&quot;Index: &quot; + TabExpl.get(col).getIndex());\n        System.out.println(&quot;Name: &quot; + TabExpl.get(col).getName());\n        System.out.println(&quot;Column Width: &quot; + TabExpl.get(col).getColWidth());\n    }  \n    System.out.println(&quot;---------------------------------------------&quot;);\n    System.out.println(&quot;Table Att:&quot;);\n    for (TAB_ATT col : TAB_ATT.values()) {\n        System.out.println(&quot;Index: &quot; + TabAtt.get(col).getIndex());\n        System.out.println(&quot;Name: &quot; + TabAtt.get(col).getName());\n        System.out.println(&quot;Column Width: &quot; + TabAtt.get(col).getColWidth());\n    }  \n        \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1534404186,"post_id":51871635,"comment_id":90694620,"body_markdown":"That is no error. It is a warning","body":"That is no error. It is a warning"},{"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"score":1,"creation_date":1534404215,"post_id":51871635,"comment_id":90694636,"body_markdown":"please see the error after warning massage","body":"please see the error after warning massage"},{"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"score":0,"creation_date":1534404265,"post_id":51871635,"comment_id":90694670,"body_markdown":"Codes run but after gives few output its stopped..","body":"Codes run but after gives few output its stopped.."}],"answers":[{"tags":[],"owner":{"account_id":2812953,"reputation":3076,"user_id":2418793,"accept_rate":62,"display_name":"Azurespot"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1569274160,"creation_date":1569274160,"answer_id":58070434,"question_id":51871635,"body_markdown":"I was having the same thread warning issue with that `org.codehaus.mojo` package that also included a `java.lang.IllegalThreadStateException` and this command worked for me:\r\n\r\n`mvn compile exec:java -Dexec.cleanupDaemonThreads=false`","title":"couldn&#39;t destroy threadgroup org.codehaus.mojo.exec.ExecJavaMojo$IsolatedThreadGroup[name=SitemapCheck.SitemapAction,maxpri=10]","body":"<p>I was having the same thread warning issue with that <code>org.codehaus.mojo</code> package that also included a <code>java.lang.IllegalThreadStateException</code> and this command worked for me:</p>\n\n<p><code>mvn compile exec:java -Dexec.cleanupDaemonThreads=false</code></p>\n"},{"tags":[],"owner":{"account_id":4501201,"reputation":4375,"user_id":3659670,"display_name":"Conffusion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675370506,"creation_date":1674234348,"answer_id":75187197,"question_id":51871635,"body_markdown":"To build further on the answer of [@Azurespot](https://stackoverflow.com/a/58070434/15792398), you can specify this parameter within the pom.xml:\r\n\r\n    &lt;properties&gt;\r\n        &lt;exec.cleanupDaemonThreads&gt;false&lt;/exec.cleanupDaemonThreads&gt;\r\n    &lt;/properties&gt;\r\n\r\nfrom now on you can just launch it with:\r\n\r\n    mvn compile exec:java","title":"couldn&#39;t destroy threadgroup org.codehaus.mojo.exec.ExecJavaMojo$IsolatedThreadGroup[name=SitemapCheck.SitemapAction,maxpri=10]","body":"<p>To build further on the answer of <a href=\"https://stackoverflow.com/a/58070434/15792398\">@Azurespot</a>, you can specify this parameter within the pom.xml:</p>\n<pre><code>&lt;properties&gt;\n    &lt;exec.cleanupDaemonThreads&gt;false&lt;/exec.cleanupDaemonThreads&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>from now on you can just launch it with:</p>\n<pre><code>mvn compile exec:java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16603824,"reputation":734,"user_id":11998821,"display_name":"Shamsheer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678977346,"creation_date":1678977346,"answer_id":75757735,"question_id":51871635,"body_markdown":"**The command that works along with the main class** \r\n\r\n***Also works with mongoDB Learning Platform for the java.lang.IllegalThreadStateException Exception***\r\n\r\n    mvn exec:java -Dexec.mainClass=com.mdbu.app.DemoApp -Dexec.cleanupDaemonThreads=false","title":"couldn&#39;t destroy threadgroup org.codehaus.mojo.exec.ExecJavaMojo$IsolatedThreadGroup[name=SitemapCheck.SitemapAction,maxpri=10]","body":"<p><strong>The command that works along with the main class</strong></p>\n<p><em><strong>Also works with mongoDB Learning Platform for the java.lang.IllegalThreadStateException Exception</strong></em></p>\n<pre><code>mvn exec:java -Dexec.mainClass=com.mdbu.app.DemoApp -Dexec.cleanupDaemonThreads=false\n</code></pre>\n"}],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7295,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":58070434,"answer_count":3,"score":18,"last_activity_date":1678977346,"creation_date":1534404093,"question_id":51871635,"body_markdown":"I have java maven project which is working fine in my computer but when i upload this project to the ubuntu server and trying to run it on command line using following command its give me error.\r\n\r\n**Command line code:**\r\n\r\n    mvn exec:java -Dexec.mainClass=SitemapCheck.SitemapAction\r\n**Its give me error Like**\r\n\r\n    [WARNING] NOTE: 2 thread(s) did not finish despite being asked to  via interruption. This is not a problem with exec:java, it is a problem with the running code. Although not serious, it should be remedied.\r\n    [WARNING] Couldn&#39;t destroy threadgroup org.codehaus.mojo.exec.ExecJavaMojo$IsolatedThreadGroup[name=SitemapCheck.SitemapAction,maxpri=10]\r\n    java.lang.IllegalThreadStateException\r\n            at java.lang.ThreadGroup.destroy(ThreadGroup.java:778)\r\n            at org.codehaus.mojo.exec.ExecJavaMojo.execute(ExecJavaMojo.java:321)\r\n            at\r\n\r\nAfter search on the internet i found one solution but unfortunately its not working\r\n\r\n     cleanupDaemonThreads = false\r\n\r\nCan anyone please suggest me how can i fixed the error?","title":"couldn&#39;t destroy threadgroup org.codehaus.mojo.exec.ExecJavaMojo$IsolatedThreadGroup[name=SitemapCheck.SitemapAction,maxpri=10]","body":"<p>I have java maven project which is working fine in my computer but when i upload this project to the ubuntu server and trying to run it on command line using following command its give me error.</p>\n\n<p><strong>Command line code:</strong></p>\n\n<pre><code>mvn exec:java -Dexec.mainClass=SitemapCheck.SitemapAction\n</code></pre>\n\n<p><strong>Its give me error Like</strong></p>\n\n<pre><code>[WARNING] NOTE: 2 thread(s) did not finish despite being asked to  via interruption. This is not a problem with exec:java, it is a problem with the running code. Although not serious, it should be remedied.\n[WARNING] Couldn't destroy threadgroup org.codehaus.mojo.exec.ExecJavaMojo$IsolatedThreadGroup[name=SitemapCheck.SitemapAction,maxpri=10]\njava.lang.IllegalThreadStateException\n        at java.lang.ThreadGroup.destroy(ThreadGroup.java:778)\n        at org.codehaus.mojo.exec.ExecJavaMojo.execute(ExecJavaMojo.java:321)\n        at\n</code></pre>\n\n<p>After search on the internet i found one solution but unfortunately its not working</p>\n\n<pre><code> cleanupDaemonThreads = false\n</code></pre>\n\n<p>Can anyone please suggest me how can i fixed the error?</p>\n"},{"tags":["java","maven","jar","javadoc","maven-javadoc-plugin"],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678977140,"creation_date":1678949768,"answer_id":75752961,"question_id":75751162,"body_markdown":"# Quick answer\r\nThe quick answer is: you don&#39;t need to add other settings in `pom.xml` (if you have no other requirements).\r\n\r\n## generate 3 files\r\nYou only need to generate 3 files (xxx.jar, xxx-sources.jar, xxx-javadoc.jar).\r\n\r\nIn the state of using the default value, you don&#39;t need to add any other additional settings.\r\n\r\nRun Command:\r\n\r\n```\r\nmvn clean package source:jar javadoc:jar\r\n```\r\n\r\n## Install sources and javadoc jar\r\n\r\nRun Command:\r\n\r\n```\r\nmvn install:install-file \\\r\n    -Dfile=Hello-1.0-SNAPSHOT.jar \\\r\n    -DpomFile=pom.xml \\\r\n    -Dsources=Hello-1.0-SNAPSHOT-sources.jar \\\r\n    -Djavadoc=Hello-1.0-SNAPSHOT-javadoc.jar \\\r\n    -DgroupId=org.example \\\r\n    -DartifactId=Hello \\\r\n    -Dversion=1.0-SNAPSHOT \\\r\n    -Dpackaging=jar \\\r\n    -Dclassifier=sources \\\r\n    -DgeneratePom=true \\\r\n    -DcreateChecksum=true\r\n```\r\n\r\n# Example Project\r\n\r\n```\r\nHello\r\n├── pom.xml\r\n└── src\r\n    └── main\r\n        └── java\r\n            └── org\r\n                └── example\r\n                    └── Hello.java\r\n```\r\n\r\n## pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Hello&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n## Hello.java\r\n\r\n```\r\npackage org.example;\r\n\r\n/**\r\n * Hello This is a demo class.\r\n */\r\npublic class Hello {\r\n\r\n    /**\r\n     * default constructor\r\n     */\r\n    public Hello(){\r\n\r\n    }\r\n\r\n    /**\r\n     * echo Demo Method\r\n     * @param msg any string.\r\n     * @return Return the original parameter content you passed in.\r\n     */\r\n    public String echo(String msg){\r\n        return msg;\r\n    }\r\n\r\n    /**\r\n     * hello Demo Method\r\n     * @param msg any string.\r\n     * @return Return &quot;HELLO&quot; plus the original parameter content you passed in.\r\n     */\r\n    public String hello(String msg){\r\n        return &quot;HELLO &quot;+msg;\r\n    }\r\n}\r\n```\r\n\r\n## ## generate 3 files\r\nYou only need to generate 3 files (xxx.jar, xxx-sources.jar, xxx-javadoc.jar).\r\n\r\nIn the state of using the default value, you don&#39;t need to add any other additional settings.\r\n\r\nRun Command:\r\n\r\n```\r\nmvn clean package source:jar javadoc:jar\r\n```\r\n\r\n## Install sources and javadoc jar\r\n\r\nRun Command: Copy `pom.xml` to `target` dir\r\n\r\n```\r\ncopy pom.xml targert/\r\n```\r\n\r\ntarget dir files\r\n\r\n```\r\ntarget\r\n├── Hello-1.0-SNAPSHOT.jar\r\n├── Hello-1.0-SNAPSHOT-javadoc.jar\r\n├── Hello-1.0-SNAPSHOT-sources.jar\r\n└── pom.xml\r\n```\r\n\r\nRun Command: install jar and source jar , javadoc jar to maven local repo (`~/.m2`)\r\n\r\n```\r\ncd target\r\n\r\nmvn install:install-file \\\r\n    -Dfile=Hello-1.0-SNAPSHOT.jar \\\r\n    -DpomFile=pom.xml \\\r\n    -Dsources=Hello-1.0-SNAPSHOT-sources.jar \\\r\n    -Djavadoc=Hello-1.0-SNAPSHOT-javadoc.jar \\\r\n    -DgroupId=org.example \\\r\n    -DartifactId=Hello \\\r\n    -Dversion=1.0-SNAPSHOT \\\r\n    -Dpackaging=jar \\\r\n    -Dclassifier=sources \\\r\n    -DgeneratePom=true \\\r\n    -DcreateChecksum=true\r\n```\r\n\r\n(Ref: https://maven.apache.org/plugins/maven-install-plugin/usage.html )\r\n\r\n# Test Project - TestHello\r\n\r\n```\r\nTestHello\r\n├── pom.xml\r\n└── src\r\n    └── main\r\n        └── java\r\n            └── org\r\n                └── example\r\n                    └── Main.java\r\n```\r\n\r\n## pom.xml\r\n\r\nADD org.example Hello dependency\r\n\r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Hello&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n## Open TestHello in IDEA\r\n\r\nthen you can use Ctl+Q , show  javadoc,\r\nyou can use Key F4 `Jump to Source`.","title":"Creation of Java jar library in Intellij which includes Quickdock (doc that is shown when pressing ctrl+Q)","body":"<h1>Quick answer</h1>\n<p>The quick answer is: you don't need to add other settings in <code>pom.xml</code> (if you have no other requirements).</p>\n<h2>generate 3 files</h2>\n<p>You only need to generate 3 files (xxx.jar, xxx-sources.jar, xxx-javadoc.jar).</p>\n<p>In the state of using the default value, you don't need to add any other additional settings.</p>\n<p>Run Command:</p>\n<pre><code>mvn clean package source:jar javadoc:jar\n</code></pre>\n<h2>Install sources and javadoc jar</h2>\n<p>Run Command:</p>\n<pre><code>mvn install:install-file \\\n    -Dfile=Hello-1.0-SNAPSHOT.jar \\\n    -DpomFile=pom.xml \\\n    -Dsources=Hello-1.0-SNAPSHOT-sources.jar \\\n    -Djavadoc=Hello-1.0-SNAPSHOT-javadoc.jar \\\n    -DgroupId=org.example \\\n    -DartifactId=Hello \\\n    -Dversion=1.0-SNAPSHOT \\\n    -Dpackaging=jar \\\n    -Dclassifier=sources \\\n    -DgeneratePom=true \\\n    -DcreateChecksum=true\n</code></pre>\n<h1>Example Project</h1>\n<pre><code>Hello\n├── pom.xml\n└── src\n    └── main\n        └── java\n            └── org\n                └── example\n                    └── Hello.java\n</code></pre>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Hello&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h2>Hello.java</h2>\n<pre><code>package org.example;\n\n/**\n * Hello This is a demo class.\n */\npublic class Hello {\n\n    /**\n     * default constructor\n     */\n    public Hello(){\n\n    }\n\n    /**\n     * echo Demo Method\n     * @param msg any string.\n     * @return Return the original parameter content you passed in.\n     */\n    public String echo(String msg){\n        return msg;\n    }\n\n    /**\n     * hello Demo Method\n     * @param msg any string.\n     * @return Return &quot;HELLO&quot; plus the original parameter content you passed in.\n     */\n    public String hello(String msg){\n        return &quot;HELLO &quot;+msg;\n    }\n}\n</code></pre>\n<h2>## generate 3 files</h2>\n<p>You only need to generate 3 files (xxx.jar, xxx-sources.jar, xxx-javadoc.jar).</p>\n<p>In the state of using the default value, you don't need to add any other additional settings.</p>\n<p>Run Command:</p>\n<pre><code>mvn clean package source:jar javadoc:jar\n</code></pre>\n<h2>Install sources and javadoc jar</h2>\n<p>Run Command: Copy <code>pom.xml</code> to <code>target</code> dir</p>\n<pre><code>copy pom.xml targert/\n</code></pre>\n<p>target dir files</p>\n<pre><code>target\n├── Hello-1.0-SNAPSHOT.jar\n├── Hello-1.0-SNAPSHOT-javadoc.jar\n├── Hello-1.0-SNAPSHOT-sources.jar\n└── pom.xml\n</code></pre>\n<p>Run Command: install jar and source jar , javadoc jar to maven local repo (<code>~/.m2</code>)</p>\n<pre><code>cd target\n\nmvn install:install-file \\\n    -Dfile=Hello-1.0-SNAPSHOT.jar \\\n    -DpomFile=pom.xml \\\n    -Dsources=Hello-1.0-SNAPSHOT-sources.jar \\\n    -Djavadoc=Hello-1.0-SNAPSHOT-javadoc.jar \\\n    -DgroupId=org.example \\\n    -DartifactId=Hello \\\n    -Dversion=1.0-SNAPSHOT \\\n    -Dpackaging=jar \\\n    -Dclassifier=sources \\\n    -DgeneratePom=true \\\n    -DcreateChecksum=true\n</code></pre>\n<p>(Ref: <a href=\"https://maven.apache.org/plugins/maven-install-plugin/usage.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-install-plugin/usage.html</a> )</p>\n<h1>Test Project - TestHello</h1>\n<pre><code>TestHello\n├── pom.xml\n└── src\n    └── main\n        └── java\n            └── org\n                └── example\n                    └── Main.java\n</code></pre>\n<h2>pom.xml</h2>\n<p>ADD org.example Hello dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\n        &lt;artifactId&gt;Hello&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<h2>Open TestHello in IDEA</h2>\n<p>then you can use Ctl+Q , show  javadoc,\nyou can use Key F4 <code>Jump to Source</code>.</p>\n"},{"tags":[],"owner":{"account_id":26694824,"reputation":35,"user_id":20635311,"display_name":"mad_mosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678976137,"creation_date":1678976137,"answer_id":75757499,"question_id":75751162,"body_markdown":"&quot;Server&quot; pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mylib&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\nwhen running mvn install the output goes to ~/.m2/repository/com/example/mylib\r\n\r\n&quot;client&quot; pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mylib&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen pressing ctrl+Q in Intellij, the java-doc is present\r\n","title":"Creation of Java jar library in Intellij which includes Quickdock (doc that is shown when pressing ctrl+Q)","body":"<p>&quot;Server&quot; pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mylib&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>when running mvn install the output goes to ~/.m2/repository/com/example/mylib</p>\n<p>&quot;client&quot; pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mylib&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When pressing ctrl+Q in Intellij, the java-doc is present</p>\n"}],"owner":{"account_id":26694824,"reputation":35,"user_id":20635311,"display_name":"mad_mosel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75752961,"answer_count":2,"score":0,"last_activity_date":1678977140,"creation_date":1678926146,"question_id":75751162,"body_markdown":"I want to export my code in a jar so I can reuse it in other projects.\r\nThe question here is how to include the java-doc i wrote in the code in a way that it is displayed in the project where I use the jar file when displaying Quick documentation lookup (intellij ctrl+Q). How can I achieve that?\r\n\r\nI commented the code where I need reference for usage like\r\n\r\n     /**\r\n     /* This is the method that is doing ....\r\n     /* @returns further info\r\n     public void bla() { ... }\r\n\r\nI managed to export a separate jar file for java-doc and classes using maven. I want the docs to be displayed when I press ctrl+Q. I tried to import the docs manually - it works but this is really annoying. I want to tie them together in a jar containing both. \r\n\r\nI&#39;ve searched a lot of questions in here, the answer&#39;s are mostly like: &quot;just don&#39;t do that because java is not meant to do so. ... &quot;\r\n*update: as I know now, that makes sense. I didn&#39;t knew how the repo-manegment of maven worked so I was confused on that. For others who are stuck here: the libs are stored in .m2/repository/com.example.lib/1.x/ (at least at my PC) where source.jar and java-doc.jar are stored sperate*\r\n\r\nBut if I include the dependencies from maven remote repository, the docs will be available locally. I will have a quick reference by just pressing ctr+Q. I really want to have this with my own libs because I cant remember code I wrote years ago.\r\n\r\nCan someone please help me with that? What should I type in pom.xml?\r\n\r\n","title":"Creation of Java jar library in Intellij which includes Quickdock (doc that is shown when pressing ctrl+Q)","body":"<p>I want to export my code in a jar so I can reuse it in other projects.\nThe question here is how to include the java-doc i wrote in the code in a way that it is displayed in the project where I use the jar file when displaying Quick documentation lookup (intellij ctrl+Q). How can I achieve that?</p>\n<p>I commented the code where I need reference for usage like</p>\n<pre><code> /**\n /* This is the method that is doing ....\n /* @returns further info\n public void bla() { ... }\n</code></pre>\n<p>I managed to export a separate jar file for java-doc and classes using maven. I want the docs to be displayed when I press ctrl+Q. I tried to import the docs manually - it works but this is really annoying. I want to tie them together in a jar containing both.</p>\n<p>I've searched a lot of questions in here, the answer's are mostly like: &quot;just don't do that because java is not meant to do so. ... &quot;\n<em>update: as I know now, that makes sense. I didn't knew how the repo-manegment of maven worked so I was confused on that. For others who are stuck here: the libs are stored in .m2/repository/com.example.lib/1.x/ (at least at my PC) where source.jar and java-doc.jar are stored sperate</em></p>\n<p>But if I include the dependencies from maven remote repository, the docs will be available locally. I will have a quick reference by just pressing ctr+Q. I really want to have this with my own libs because I cant remember code I wrote years ago.</p>\n<p>Can someone please help me with that? What should I type in pom.xml?</p>\n"},{"tags":["python","java","image","image-processing"],"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1679990497,"post_id":75757000,"comment_id":133815507,"body_markdown":"can you provide the formula you used?","body":"can you provide the formula you used?"}],"owner":{"account_id":22989515,"reputation":39,"user_id":17115228,"display_name":"chews"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678976660,"creation_date":1678973596,"question_id":75757000,"body_markdown":"Although it a lot of topic about this but I dont really understanding when look up for exactly what in this problems.When I see some implementation FFT2 and apply them to Guassian kernel it has the diffirence from the numpy.fft.fft2 that also I apply them into its, specifically I have kernel like this:\r\n\r\n```\r\nkernel = np.fft.fft2(kernel)\r\nreturn kernel\r\n\r\n#KERNEL\r\n[[0.07511361 0.1238414  0.07511361]\r\n\r\n [0.1238414  0.20417996 0.1238414 ]\r\n\r\n [0.07511361 0.1238414  0.07511361]]\r\n```\r\nIn python:\r\n```\r\n#Results\r\n\r\n[[-0.01580538-2.73757188e-02j -0.08889707+1.53974244e-01j\r\n   0.03161076-3.46944695e-18j]\r\n [-0.08889707+1.53974244e-01j  1.        +0.00000000e+00j\r\n  -0.08889707-1.53974244e-01j]\r\n [ 0.03161076+3.46944695e-18j -0.08889707-1.53974244e-01j\r\n  -0.01580538+2.73757188e-02j]]\r\n```\r\nIn the implementation java:\r\n```\r\n0.6666666666666667 + 0.6666666666666667i   -0.059264713333333344 + -0.059264713333333344i    -0.05926471333333333 + -0.05926471333333333i \r\n\r\n-0.05926471333333333 + -0.05926471333333333i   -0.010536923333333337 + -0.010536923333333337i      0.021073846666666618 + 0.021073846666666618i \r\n\r\n-0.05926471333333332 + -0.05926471333333332i    0.021073846666666625 + 0.021073846666666625i    -0.010536923333333283 + -0.010536923333333283i \r\n```\r\nAnd the code when apply is:\r\n```\r\npublic static double[][] FFT2D(double[][] inputData,\r\n                      double[][] realOut,\r\n                      double[][] imagOut,\r\n                      double[][] amplitudeOut){\r\n    int height = inputData.length;\r\n    int width = inputData[0].length;\r\n   \r\n    System.out.println(&quot;height = &quot; + height);\r\n    System.out.println(&quot;width = &quot; + width);\r\n    for(int yWave = 0;yWave &lt; height;yWave++){\r\n      for(int xWave = 0;xWave &lt; width;xWave++){\r\n        for(int ySpace = 0;ySpace &lt; height;\r\n                                       ySpace++){\r\n          for(int xSpace = 0;xSpace &lt; width;\r\n                                       xSpace++){\r\n      realOut[yWave][xWave] += (inputData[ySpace][xSpace]*Math.cos(2*Math.PI*((1.0*\r\n                             xWave*xSpace/width)+(1.0*yWave*ySpace/height))))\r\n                              /Math.sqrt(width*height);\r\n       imagOut[yWave][xWave ] -= (inputData[ySpace][xSpace]*Math.sin(2*Math.PI*((1.0*xWave*\r\n                               xSpace/width) + (1.0*yWave*ySpace/height))))\r\n                             /Math.sqrt(width*height);\r\n \r\n       amplitudeOut[yWave][xWave] =  Math.sqrt( realOut[yWave][xWave] * realOut[yWave][xWave] +\r\n                   imagOut[yWave][xWave] * imagOut[yWave][xWave]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n     //return realOut and imagOut;\r\n}\r\npublic static void main(String[] args){\r\n\r\n int rows = 3;\r\n    int cols = 3;\r\n    \r\n    double[][] spatialData = \r\n[[0.07511361 0.1238414  0.07511361]\r\n\r\n [0.1238414  0.20417996 0.1238414 ]\r\n\r\n [0.07511361 0.1238414  0.07511361]];\r\n                                    \r\n    double[][] realSpect=new double[rows][cols];\r\n    double[][] imagSpect = new double[rows][cols];\r\n    double[][] amplitudeSpect = new double[rows][cols];\r\n    //Now perform the transform\r\n    realSpect = FFT2D(spatialData,realSpect,\r\n                       imagSpect,amplitudeSpect);\r\n    imagSpect = FFT2D(spatialData,realSpect,\r\n                       imagSpect,amplitudeSpect);\r\n                       \r\n    for(int i=0;i&lt;rows;i++){\r\n        for(int j=0;j &lt; cols;j++){\r\n            System.out.printf(realSpect[i][j] +&quot; + &quot; +imagSpect[i][j]+&quot;i    &quot;);\r\n        }\r\n        System.out.println(&quot;\\n&quot;);\r\n    }\r\n    }\r\n}\r\n```\r\n\r\nIs it wrong when apply in java like these? Thank you all for helping me!\r\n\r\n","title":"Result in fast fourier transform in python is different","body":"<p>Although it a lot of topic about this but I dont really understanding when look up for exactly what in this problems.When I see some implementation FFT2 and apply them to Guassian kernel it has the diffirence from the numpy.fft.fft2 that also I apply them into its, specifically I have kernel like this:</p>\n<pre><code>kernel = np.fft.fft2(kernel)\nreturn kernel\n\n#KERNEL\n[[0.07511361 0.1238414  0.07511361]\n\n [0.1238414  0.20417996 0.1238414 ]\n\n [0.07511361 0.1238414  0.07511361]]\n</code></pre>\n<p>In python:</p>\n<pre><code>#Results\n\n[[-0.01580538-2.73757188e-02j -0.08889707+1.53974244e-01j\n   0.03161076-3.46944695e-18j]\n [-0.08889707+1.53974244e-01j  1.        +0.00000000e+00j\n  -0.08889707-1.53974244e-01j]\n [ 0.03161076+3.46944695e-18j -0.08889707-1.53974244e-01j\n  -0.01580538+2.73757188e-02j]]\n</code></pre>\n<p>In the implementation java:</p>\n<pre><code>0.6666666666666667 + 0.6666666666666667i   -0.059264713333333344 + -0.059264713333333344i    -0.05926471333333333 + -0.05926471333333333i \n\n-0.05926471333333333 + -0.05926471333333333i   -0.010536923333333337 + -0.010536923333333337i      0.021073846666666618 + 0.021073846666666618i \n\n-0.05926471333333332 + -0.05926471333333332i    0.021073846666666625 + 0.021073846666666625i    -0.010536923333333283 + -0.010536923333333283i \n</code></pre>\n<p>And the code when apply is:</p>\n<pre><code>public static double[][] FFT2D(double[][] inputData,\n                      double[][] realOut,\n                      double[][] imagOut,\n                      double[][] amplitudeOut){\n    int height = inputData.length;\n    int width = inputData[0].length;\n   \n    System.out.println(&quot;height = &quot; + height);\n    System.out.println(&quot;width = &quot; + width);\n    for(int yWave = 0;yWave &lt; height;yWave++){\n      for(int xWave = 0;xWave &lt; width;xWave++){\n        for(int ySpace = 0;ySpace &lt; height;\n                                       ySpace++){\n          for(int xSpace = 0;xSpace &lt; width;\n                                       xSpace++){\n      realOut[yWave][xWave] += (inputData[ySpace][xSpace]*Math.cos(2*Math.PI*((1.0*\n                             xWave*xSpace/width)+(1.0*yWave*ySpace/height))))\n                              /Math.sqrt(width*height);\n       imagOut[yWave][xWave ] -= (inputData[ySpace][xSpace]*Math.sin(2*Math.PI*((1.0*xWave*\n                               xSpace/width) + (1.0*yWave*ySpace/height))))\n                             /Math.sqrt(width*height);\n \n       amplitudeOut[yWave][xWave] =  Math.sqrt( realOut[yWave][xWave] * realOut[yWave][xWave] +\n                   imagOut[yWave][xWave] * imagOut[yWave][xWave]);\n          }\n        }\n      }\n    }\n     //return realOut and imagOut;\n}\npublic static void main(String[] args){\n\n int rows = 3;\n    int cols = 3;\n    \n    double[][] spatialData = \n[[0.07511361 0.1238414  0.07511361]\n\n [0.1238414  0.20417996 0.1238414 ]\n\n [0.07511361 0.1238414  0.07511361]];\n                                    \n    double[][] realSpect=new double[rows][cols];\n    double[][] imagSpect = new double[rows][cols];\n    double[][] amplitudeSpect = new double[rows][cols];\n    //Now perform the transform\n    realSpect = FFT2D(spatialData,realSpect,\n                       imagSpect,amplitudeSpect);\n    imagSpect = FFT2D(spatialData,realSpect,\n                       imagSpect,amplitudeSpect);\n                       \n    for(int i=0;i&lt;rows;i++){\n        for(int j=0;j &lt; cols;j++){\n            System.out.printf(realSpect[i][j] +&quot; + &quot; +imagSpect[i][j]+&quot;i    &quot;);\n        }\n        System.out.println(&quot;\\n&quot;);\n    }\n    }\n}\n</code></pre>\n<p>Is it wrong when apply in java like these? Thank you all for helping me!</p>\n"},{"tags":["java","file","binary","byte","binaryfiles"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1678964418,"post_id":75755236,"comment_id":133636536,"body_markdown":"&quot;binary file&quot; and &quot;lines&quot; doesn&#39;t really match. &quot;lines&quot; exist in text files and are separated by CR and/or LF. In Binary files those values don&#39;t exist/are interpreted differently. Generally you can use a `DataInputStream` to read a couple of commonly used basic data types in Java using `readInt` (for 4 bytes numbers), `readLong` for 8-byte numbers, ...","body":"&quot;binary file&quot; and &quot;lines&quot; doesn&#39;t really match. &quot;lines&quot; exist in text files and are separated by CR and/or LF. In Binary files those values don&#39;t exist/are interpreted differently. Generally you can use a <code>DataInputStream</code> to read a couple of commonly used basic data types in Java using <code>readInt</code> (for 4 bytes numbers), <code>readLong</code> for 8-byte numbers, ..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678964642,"post_id":75755236,"comment_id":133636599,"body_markdown":"How do you know when to stop reading single byte numbers and start reading double byte numbers? That is: how are your &quot;lines&quot; delimited?","body":"How do you know when to stop reading single byte numbers and start reading double byte numbers? That is: how are your &quot;lines&quot; delimited?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678965210,"post_id":75755236,"comment_id":133636749,"body_markdown":"As @JoachimSauer says, that&#39;s a bad mix. You should pick one or the other, probably the text file. Then your problem will disappear","body":"As @JoachimSauer says, that&#39;s a bad mix. You should pick one or the other, probably the text file. Then your problem will disappear"},{"owner":{"account_id":28031715,"reputation":1,"user_id":21410796,"display_name":"treplejigbart"},"score":0,"creation_date":1678971642,"post_id":75755236,"comment_id":133638660,"body_markdown":"my lines are determined by the ASCII value 10 which amounts to backspace, after the value 251 there&#39;s a 10, and it goes on to the 2-byte values","body":"my lines are determined by the ASCII value 10 which amounts to backspace, after the value 251 there&#39;s a 10, and it goes on to the 2-byte values"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678971899,"post_id":75755236,"comment_id":133638759,"body_markdown":"That&#39;s a newline character. You should stick to (proper) text file","body":"That&#39;s a newline character. You should stick to (proper) text file"},{"owner":{"account_id":28031715,"reputation":1,"user_id":21410796,"display_name":"treplejigbart"},"score":0,"creation_date":1678972006,"post_id":75755236,"comment_id":133638798,"body_markdown":"unfortunately i have to have it in a binary one, that&#39;s the task I was given by my Professor, At first i did it in a text file just to see how my code behaves, and everything went smoothly, but i can figure out how to do it in a binary one.","body":"unfortunately i have to have it in a binary one, that&#39;s the task I was given by my Professor, At first i did it in a text file just to see how my code behaves, and everything went smoothly, but i can figure out how to do it in a binary one."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678973561,"post_id":75755236,"comment_id":133639289,"body_markdown":"Binary files are based on offsets / record pointers and don&#39;t contain separators as such.","body":"Binary files are based on offsets / record pointers and don&#39;t contain separators as such."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678976966,"post_id":75755236,"comment_id":133640431,"body_markdown":"I mean technically you can easily define a binary format with arbitrary-length segments that are separated by some byte value, but that&#39;d be quite pointless and annoying (since you&#39;d need to have an escape mechanism if that value ever had to be present *inside* of such a segment).","body":"I mean technically you can easily define a binary format with arbitrary-length segments that are separated by some byte value, but that&#39;d be quite pointless and annoying (since you&#39;d need to have an escape mechanism if that value ever had to be present <i>inside</i> of such a segment)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678977662,"post_id":75755236,"comment_id":133640680,"body_markdown":"Off the top of my head, you could define a binary format of record pointers followed by data values. The record pointer would tell you 1. whether group of primes or not 2. How many of them there are","body":"Off the top of my head, you could define a binary format of record pointers followed by data values. The record pointer would tell you 1. whether group of primes or not 2. How many of them there are"}],"owner":{"account_id":28031715,"reputation":1,"user_id":21410796,"display_name":"treplejigbart"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678976580,"creation_date":1678963972,"question_id":75755236,"body_markdown":"I have a binary file with 3 different lines, each line contains non spaced prime numbers. the first one contains primes from 2 - 251 (the ones that can be fit into 1 byte), the second one starts from 257 and goes on to the biggest prime number that can be fit into 2 bytes, and so on.\r\n\r\nUsing FileImputStream I can only get the 1 line which means it only reads 1 byte at a time\r\n\r\nmy code:\r\n\r\n\r\n    public static void read() throws IOException {\r\n        int tmp = 0;\r\n        ArrayList&lt;Integer&gt; PrimesFromFile = new ArrayList&lt;&gt;();\r\n      \r\n\r\n\r\n        FileInputStream file = new FileInputStream(&quot;S28006Set1.bin&quot;);\r\n        DataInputStream In = new DataInputStream(file);\r\n        while (( tmp  = (In.read()&lt;&lt; 8)) != -1) { \r\n            PrimesFromFile.add(tmp);\r\n\r\n        }\r\n         \r\n    }\r\n\r\n\r\n\r\nCould anyone show me how to read more than 1 byte of info from a file into one int/ArrayList of ints?\r\n\r\nI tried to use bitshift to get a value written on 2 bytes into 1 int, but can&#39;t seem to figure out how to do so.","title":"How to read more that 1 byte from a binary file into a value in java?","body":"<p>I have a binary file with 3 different lines, each line contains non spaced prime numbers. the first one contains primes from 2 - 251 (the ones that can be fit into 1 byte), the second one starts from 257 and goes on to the biggest prime number that can be fit into 2 bytes, and so on.</p>\n<p>Using FileImputStream I can only get the 1 line which means it only reads 1 byte at a time</p>\n<p>my code:</p>\n<pre><code>public static void read() throws IOException {\n    int tmp = 0;\n    ArrayList&lt;Integer&gt; PrimesFromFile = new ArrayList&lt;&gt;();\n  \n\n\n    FileInputStream file = new FileInputStream(&quot;S28006Set1.bin&quot;);\n    DataInputStream In = new DataInputStream(file);\n    while (( tmp  = (In.read()&lt;&lt; 8)) != -1) { \n        PrimesFromFile.add(tmp);\n\n    }\n     \n}\n</code></pre>\n<p>Could anyone show me how to read more than 1 byte of info from a file into one int/ArrayList of ints?</p>\n<p>I tried to use bitshift to get a value written on 2 bytes into 1 int, but can't seem to figure out how to do so.</p>\n"},{"tags":["java","spring-boot","tomcat","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1679051096,"post_id":75757510,"comment_id":133655517,"body_markdown":"Upload-Requests using the Vaadin Upload component? How long did the application run before the error happens? For how long is restarting helping?","body":"Upload-Requests using the Vaadin Upload component? How long did the application run before the error happens? For how long is restarting helping?"},{"owner":{"account_id":3832504,"reputation":21,"user_id":3177714,"display_name":"Joel Padamadan"},"score":0,"creation_date":1679160297,"post_id":75757510,"comment_id":133673407,"body_markdown":"@cfrick - I see &quot;Unexpected server error&quot; immediately when I try to upload files using the Vaadin upload component. This issue is resolved after the restart and it&#39;s been a week now without this issue.","body":"@cfrick - I see &quot;Unexpected server error&quot; immediately when I try to upload files using the Vaadin upload component. This issue is resolved after the restart and it&#39;s been a week now without this issue."},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1679165970,"post_id":75757510,"comment_id":133674245,"body_markdown":"And how long was the server up before it happended?  I have no clue about the nuances on windows, but temp files on unix are not visible to others but claim the space until closed. Can you 100% rule out, that a) you leak temp files and b) nothing else actually filled the disk and restarting helping was just a fluke?","body":"And how long was the server up before it happended?  I have no clue about the nuances on windows, but temp files on unix are not visible to others but claim the space until closed. Can you 100% rule out, that a) you leak temp files and b) nothing else actually filled the disk and restarting helping was just a fluke?"}],"owner":{"account_id":3832504,"reputation":21,"user_id":3177714,"display_name":"Joel Padamadan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678976205,"creation_date":1678976205,"question_id":75757510,"body_markdown":"All upload request to Tomcat is failing with 500 internal error. The issue got resolved when I restarted Tomcat. The error claims that the disk space is not enough but there is plenty of space on the disk so not able to understand the cause. The application logs were not generated. Any idea what is causing this error?\r\n\r\n**Environment details**\r\n\r\nTomcat 8.5.41\r\n\r\nUI application: Spring boot + Vaadin 14\r\n\r\n**Log snippet**\r\n\r\norg.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. D:\\Automator\\install\\apache\\apache-tomcat-8.5.41\\work\\Catalina\\localhost\\automator-ui\\upload_61b77b79_c760_41e1_81fb_495567fa24cb_00005763.tmp (There is not enough space on the disk)","title":"Tomcat 8.5.41: Failed to parse multipart servlet request","body":"<p>All upload request to Tomcat is failing with 500 internal error. The issue got resolved when I restarted Tomcat. The error claims that the disk space is not enough but there is plenty of space on the disk so not able to understand the cause. The application logs were not generated. Any idea what is causing this error?</p>\n<p><strong>Environment details</strong></p>\n<p>Tomcat 8.5.41</p>\n<p>UI application: Spring boot + Vaadin 14</p>\n<p><strong>Log snippet</strong></p>\n<p>org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. D:\\Automator\\install\\apache\\apache-tomcat-8.5.41\\work\\Catalina\\localhost\\automator-ui\\upload_61b77b79_c760_41e1_81fb_495567fa24cb_00005763.tmp (There is not enough space on the disk)</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1454941936,"post_id":35272072,"comment_id":58255677,"body_markdown":"Have you looked at the [Javadoc for `Method`](https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html)? e.g. `getParameterTypes()` tells you how many parameters it expects (via its length), and the types they should have.","body":"Have you looked at the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html\" rel=\"nofollow noreferrer\">Javadoc for <code>Method</code></a>? e.g. <code>getParameterTypes()</code> tells you how many parameters it expects (via its length), and the types they should have."},{"owner":{"account_id":4556100,"reputation":3497,"user_id":3699808,"accept_rate":83,"display_name":"mhlz"},"score":0,"creation_date":1454942043,"post_id":35272072,"comment_id":58255743,"body_markdown":"What do you expect to happen when calling a method that requires 3 arguments with 0 arguments?","body":"What do you expect to happen when calling a method that requires 3 arguments with 0 arguments?"},{"owner":{"account_id":3158884,"reputation":43,"user_id":2670598,"display_name":"Go Coding"},"score":1,"creation_date":1454946909,"post_id":35272072,"comment_id":58259181,"body_markdown":"Thank you both @Andy Turner and @mhlz. So are you saying something like`Class&lt;?&gt; klasses = m.getParameterTypes();\n           Object[] oobjects = new Object[klasses.length];\n           for (int x =0; x&lt;klasses.length; x++)\n               oobjects[x] = klasses[x].newInstance();\n           Object value = m.invoke(myclass, oobjects);` will suffice?","body":"Thank you both @Andy Turner and @mhlz. So are you saying something like<code>Class&lt;?&gt; klasses = m.getParameterTypes();            Object[] oobjects = new Object[klasses.length];            for (int x =0; x&lt;klasses.length; x++)                oobjects[x] = klasses[x].newInstance();            Object value = m.invoke(myclass, oobjects);</code> will suffice?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1454946981,"post_id":35272072,"comment_id":58259234,"body_markdown":"@GoCoding looks basically right; try it.","body":"@GoCoding looks basically right; try it."},{"owner":{"account_id":3158884,"reputation":43,"user_id":2670598,"display_name":"Go Coding"},"score":0,"creation_date":1454947188,"post_id":35272072,"comment_id":58259384,"body_markdown":"@AndyTurner great! much appreciated. I&#39;ll edit the original post in case someone else could use this.","body":"@AndyTurner great! much appreciated. I&#39;ll edit the original post in case someone else could use this."},{"owner":{"account_id":4257527,"reputation":589,"user_id":3482801,"display_name":"Straw1239"},"score":0,"creation_date":1454951770,"post_id":35272072,"comment_id":58262397,"body_markdown":"I think possibly the more important question is why you want to use reflection- just messing around and trying to figure it out? If not, usually there are better ways to avoid it.","body":"I think possibly the more important question is why you want to use reflection- just messing around and trying to figure it out? If not, usually there are better ways to avoid it."},{"owner":{"account_id":3158884,"reputation":43,"user_id":2670598,"display_name":"Go Coding"},"score":0,"creation_date":1454957771,"post_id":35272072,"comment_id":58265723,"body_markdown":"@Straw1239 I&#39;m using it in conjunction with a couple of custom annotations to help me build a series of dynamic sqls. You&#39;ll probably going to suggest Hibernate? I thought about it but it&#39;s like a sledge hammer and walnut ... However I&#39;m open to suggestions ...","body":"@Straw1239 I&#39;m using it in conjunction with a couple of custom annotations to help me build a series of dynamic sqls. You&#39;ll probably going to suggest Hibernate? I thought about it but it&#39;s like a sledge hammer and walnut ... However I&#39;m open to suggestions ..."}],"answers":[{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1678975761,"creation_date":1678975761,"answer_id":75757439,"question_id":35272072,"body_markdown":"    private static Object methodInvoke(Object instance, Method method, Object[] args) throws InvocationTargetException, IllegalAccessException {\r\n                return switch (method.getParameterCount()) {\r\n                    case 0 -&gt; method.invoke(instance);\r\n                    case 1 -&gt; method.invoke(instance, args[0]);\r\n                    case 2 -&gt; method.invoke(instance, args[0], args[1]);\r\n                    case 3 -&gt; method.invoke(instance, args[0], args[1], args[2]);\r\n                    default -&gt; method.invoke(instance, args);\r\n                };\r\n    }","title":"Java reflection how to invoke a method with unknown number of arguments?","body":"<pre><code>private static Object methodInvoke(Object instance, Method method, Object[] args) throws InvocationTargetException, IllegalAccessException {\n            return switch (method.getParameterCount()) {\n                case 0 -&gt; method.invoke(instance);\n                case 1 -&gt; method.invoke(instance, args[0]);\n                case 2 -&gt; method.invoke(instance, args[0], args[1]);\n                case 3 -&gt; method.invoke(instance, args[0], args[1], args[2]);\n                default -&gt; method.invoke(instance, args);\n            };\n}\n</code></pre>\n"}],"owner":{"account_id":3158884,"reputation":43,"user_id":2670598,"display_name":"Go Coding"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3048,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678975761,"creation_date":1454941851,"question_id":35272072,"body_markdown":"I&#39;m trying to invoke a method with an unknown number of parameter (when being invoked) using reflection.\r\n\r\nI&#39;ve seen a number of similar questions here, e.g. &lt;https://stackoverflow.com/questions/8843953/how-to-invoke-method-with-variable-arguments-in-java-using-reflection&gt; or &lt;https://stackoverflow.com/questions/2407071/how-to-invoke-a-method-in-java-using-reflection&gt; but these use methods names: ` ReflectionExample.class.getMethod(&quot;test&quot;, int.class)` which is not what I&#39;m trying to do.\r\n\r\nPlease see the sample code below:\r\n\r\n    /* an arbitary class extending a base class */\r\n    public class MyClass extends MyBaseClass {\r\n        \r\n        private String message = &quot;&quot;;\r\n     \r\n        public void setMessage(String value){\r\n            this.message = value;\r\n        }\r\n        \r\n        public String getMessage(){\r\n            return this.message;\r\n        }\r\n        \r\n        public String method1(){\r\n            /* blah blah */\r\n            return getMessage();\r\n        }\r\n     }\r\n\r\n    /* another class extending the arbitary class */\r\n    public class MyOtherClass extends MyClass {\r\n        \r\n        public List&lt;T extends MyClass&gt; method2(SomeEnum enumValue, Object otherValue){\r\n            List&lt;MyClass&gt; list = new ArrayList&lt;MyClass&gt;();\r\n            MyClass c = new MyClass();\r\n            c.setMessage(&quot;first message: &quot; + enumValue.toString());\r\n            list.add(c);\r\n            MyClass c = new MyClass();\r\n            c.setMessage(&quot;second message: &quot; + otherValue.toString());\r\n            list.add(c);\r\n            return list;\r\n        }\r\n        \r\n        public Object method3(Object param1, Object param2, Object param3){\r\n            /* ... */\r\n        }\r\n    }\r\n\r\n    /* use reflection to determine how to process the result */\r\n    public class Resolver{\r\n      \r\n      public void DoReflect(MyBaseClass obj){\r\n         \r\n         Method[] methods = obj.getMethods();\r\n         \r\n         for (Method m : methods){\r\n           /*\r\n            * this invoke works fine for MyClass.method1\r\n            * but throws an exception for MyOtherClass.method2 or MyOtherClass.method3\r\n            */\r\n\r\n           /* many thanks to Andy Turner for his assistance.\r\n              I&#39;ve edited the original post to show his recommended solution */\r\n           Class&lt;?&gt;[] klasses = m.getParameterTypes(); \r\n           Object[] oobjects = new Object[klasses.length]; \r\n           for (int x =0; x&lt;klasses.length; x++) \r\n               oobjects[x] = klasses[x].newInstance(); \r\n           Object value = m.invoke(myclass, oobjects)\r\n           \r\n           // ... do some stuff\r\n         }\r\n      }\r\n    }\r\n\r\nI would very much appreciate any help you could give me on this.\r\n\r\nThanks in advance.\r\n","title":"Java reflection how to invoke a method with unknown number of arguments?","body":"<p>I'm trying to invoke a method with an unknown number of parameter (when being invoked) using reflection.</p>\n\n<p>I've seen a number of similar questions here, e.g. <a href=\"https://stackoverflow.com/questions/8843953/how-to-invoke-method-with-variable-arguments-in-java-using-reflection\">How to invoke method with variable arguments in java using reflection?</a> or <a href=\"https://stackoverflow.com/questions/2407071/how-to-invoke-a-method-in-java-using-reflection\">How to invoke a method in java using reflection</a> but these use methods names: <code>ReflectionExample.class.getMethod(\"test\", int.class)</code> which is not what I'm trying to do.</p>\n\n<p>Please see the sample code below:</p>\n\n<pre><code>/* an arbitary class extending a base class */\npublic class MyClass extends MyBaseClass {\n\n    private String message = \"\";\n\n    public void setMessage(String value){\n        this.message = value;\n    }\n\n    public String getMessage(){\n        return this.message;\n    }\n\n    public String method1(){\n        /* blah blah */\n        return getMessage();\n    }\n }\n\n/* another class extending the arbitary class */\npublic class MyOtherClass extends MyClass {\n\n    public List&lt;T extends MyClass&gt; method2(SomeEnum enumValue, Object otherValue){\n        List&lt;MyClass&gt; list = new ArrayList&lt;MyClass&gt;();\n        MyClass c = new MyClass();\n        c.setMessage(\"first message: \" + enumValue.toString());\n        list.add(c);\n        MyClass c = new MyClass();\n        c.setMessage(\"second message: \" + otherValue.toString());\n        list.add(c);\n        return list;\n    }\n\n    public Object method3(Object param1, Object param2, Object param3){\n        /* ... */\n    }\n}\n\n/* use reflection to determine how to process the result */\npublic class Resolver{\n\n  public void DoReflect(MyBaseClass obj){\n\n     Method[] methods = obj.getMethods();\n\n     for (Method m : methods){\n       /*\n        * this invoke works fine for MyClass.method1\n        * but throws an exception for MyOtherClass.method2 or MyOtherClass.method3\n        */\n\n       /* many thanks to Andy Turner for his assistance.\n          I've edited the original post to show his recommended solution */\n       Class&lt;?&gt;[] klasses = m.getParameterTypes(); \n       Object[] oobjects = new Object[klasses.length]; \n       for (int x =0; x&lt;klasses.length; x++) \n           oobjects[x] = klasses[x].newInstance(); \n       Object value = m.invoke(myclass, oobjects)\n\n       // ... do some stuff\n     }\n  }\n}\n</code></pre>\n\n<p>I would very much appreciate any help you could give me on this.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","maven","apache-tika"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1677433538,"post_id":75573537,"comment_id":133332565,"body_markdown":"Is there a good reason why you are using a SNAPSHOT version? Why not using the release version 2.7.0... ?","body":"Is there a good reason why you are using a SNAPSHOT version? Why not using the release version 2.7.0... ?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1677440828,"post_id":75573537,"comment_id":133333863,"body_markdown":"What happens if you use the more normal `tika-parsers` dependency?","body":"What happens if you use the more normal <code>tika-parsers</code> dependency?"}],"answers":[{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678975463,"creation_date":1677447122,"answer_id":75575137,"question_id":75573537,"body_markdown":"## TL;DR\r\n\r\nThese are the relevant `dependency` sections in `pom.xml` which are required to run your example:\r\n\r\n```xml\r\n&lt;project&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tika-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tika-async-cli&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## Full answer\r\n\r\nFirst of all, as @khmarbaise has noticed, your `tika-async-cli` dependency version looks faulty. As of 26 February, there are only 2 versions of artifact [`tika-async-cli`](https://mvnrepository.com/artifact/org.apache.tika/tika-async-cli) available for download: `2.6.0` and `2.7.0`. The one you&#39;ve shared is not on the list and `mvn install` throws an error when trying to fetch that version from Maven Central.\r\n\r\nYou need both `tika-core` and `tika-parsers-*` dependencies to run your example.\r\n\r\nYou&#39;ve already included `tika-core` since `tika-async-cli` includes it as a direct dependency:\r\n\r\n```bash\r\n$ mvn dependency:tree\r\n# ...\r\n[INFO] +- org.apache.tika:tika-async-cli:jar:2.7.0:compile\r\n[INFO] |  +- org.apache.tika:tika-core:jar:2.7.0:compile\r\n[INFO] |  |  \\- commons-io:commons-io:jar:2.11.0:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.19.0:compile       \r\n[INFO] |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile     \r\n[INFO] |  \\- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.19.0:compile\r\n# ...\r\n```\r\n\r\nAs @Gagravarr has hinted, one of the `tika-parsers-*` was missing in your `dependencies` section. Currently these come as 3 separate dependencies:\r\n- `tika-parsers-standard-package`,\r\n- `tika-parser-scientific-module`,\r\n- `tika-parser-sqlite3-module`.\r\n\r\nAs I understand, this came about with Tika 2.0 (more on that [here](https://cwiki.apache.org/confluence/display/TIKA/Migrating+to+Tika+2.0.0)). For your purposes, `tika-parsers-standard-package` seems sufficient.\r\n\r\nThe https://github.com/apache/tika README somewhat proposes the [Maven Configuration](https://github.com/apache/tika#maven-dependencies) but it is unfortunately incomplete.\r\n\r\nI *suspect* you do not see an exception because Tika falls back to an [`EmptyParser`](https://github.com/apache/tika/blob/2.7.0/tika-core/src/main/java/org/apache/tika/parser/EmptyParser.java) when parsers are not loaded. It creates an empty XHTML document in the background and such a document has no text content. Hence your code outputs an empty string.","title":"tika.parseToString returns empty string","body":"<h2>TL;DR</h2>\n<p>These are the relevant <code>dependency</code> sections in <code>pom.xml</code> which are required to run your example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n        &lt;artifactId&gt;tika-bom&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n      &lt;artifactId&gt;tika-async-cli&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n      &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Full answer</h2>\n<p>First of all, as @khmarbaise has noticed, your <code>tika-async-cli</code> dependency version looks faulty. As of 26 February, there are only 2 versions of artifact <a href=\"https://mvnrepository.com/artifact/org.apache.tika/tika-async-cli\" rel=\"nofollow noreferrer\"><code>tika-async-cli</code></a> available for download: <code>2.6.0</code> and <code>2.7.0</code>. The one you've shared is not on the list and <code>mvn install</code> throws an error when trying to fetch that version from Maven Central.</p>\n<p>You need both <code>tika-core</code> and <code>tika-parsers-*</code> dependencies to run your example.</p>\n<p>You've already included <code>tika-core</code> since <code>tika-async-cli</code> includes it as a direct dependency:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ mvn dependency:tree\n# ...\n[INFO] +- org.apache.tika:tika-async-cli:jar:2.7.0:compile\n[INFO] |  +- org.apache.tika:tika-core:jar:2.7.0:compile\n[INFO] |  |  \\- commons-io:commons-io:jar:2.11.0:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.19.0:compile       \n[INFO] |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile     \n[INFO] |  \\- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.19.0:compile\n# ...\n</code></pre>\n<p>As @Gagravarr has hinted, one of the <code>tika-parsers-*</code> was missing in your <code>dependencies</code> section. Currently these come as 3 separate dependencies:</p>\n<ul>\n<li><code>tika-parsers-standard-package</code>,</li>\n<li><code>tika-parser-scientific-module</code>,</li>\n<li><code>tika-parser-sqlite3-module</code>.</li>\n</ul>\n<p>As I understand, this came about with Tika 2.0 (more on that <a href=\"https://cwiki.apache.org/confluence/display/TIKA/Migrating+to+Tika+2.0.0\" rel=\"nofollow noreferrer\">here</a>). For your purposes, <code>tika-parsers-standard-package</code> seems sufficient.</p>\n<p>The <a href=\"https://github.com/apache/tika\" rel=\"nofollow noreferrer\">https://github.com/apache/tika</a> README somewhat proposes the <a href=\"https://github.com/apache/tika#maven-dependencies\" rel=\"nofollow noreferrer\">Maven Configuration</a> but it is unfortunately incomplete.</p>\n<p>I <em>suspect</em> you do not see an exception because Tika falls back to an <a href=\"https://github.com/apache/tika/blob/2.7.0/tika-core/src/main/java/org/apache/tika/parser/EmptyParser.java\" rel=\"nofollow noreferrer\"><code>EmptyParser</code></a> when parsers are not loaded. It creates an empty XHTML document in the background and such a document has no text content. Hence your code outputs an empty string.</p>\n"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75575137,"answer_count":1,"score":1,"last_activity_date":1678975463,"creation_date":1677430256,"question_id":75573537,"body_markdown":"Why the following application won&#39;t print the file contents?\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.apache.tika.Tika;\r\nimport java.io.File;\r\n\r\npublic class TikaFirstTry {\r\n    public static void main(String[] args) throws Exception {\r\n        Tika tika = new Tika();\r\n\r\n        for (String fileName : args){\r\n            System.out.println(fileName);\r\n            String text = tika.parseToString(new File(fileName));\r\n            System.out.println(&quot;text is: &quot; + text);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe file __foo.txt__ contains: \r\n\r\n    pizzaaaaa\r\n\r\nThe program output is:\r\n\r\n    C:/Users/me/Desktop/foo.txt\r\n    text is: \r\n\r\nand no exception is thrown...\r\n\r\nmy pom contains\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tika-async-cli&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"tika.parseToString returns empty string","body":"<p>Why the following application won't print the file contents?</p>\n<pre><code>package org.example;\n\nimport org.apache.tika.Tika;\nimport java.io.File;\n\npublic class TikaFirstTry {\n    public static void main(String[] args) throws Exception {\n        Tika tika = new Tika();\n\n        for (String fileName : args){\n            System.out.println(fileName);\n            String text = tika.parseToString(new File(fileName));\n            System.out.println(&quot;text is: &quot; + text);\n        }\n    }\n}\n</code></pre>\n<p>The file <strong>foo.txt</strong> contains:</p>\n<pre><code>pizzaaaaa\n</code></pre>\n<p>The program output is:</p>\n<pre><code>C:/Users/me/Desktop/foo.txt\ntext is: \n</code></pre>\n<p>and no exception is thrown...</p>\n<p>my pom contains</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-async-cli&lt;/artifactId&gt;\n    &lt;version&gt;2.7.1-SNAPSHOT&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","kotlin","google-cloud-platform","google-cloud-tasks"],"comments":[{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1634672305,"post_id":69635932,"comment_id":123087293,"body_markdown":"You are manually building the request with HTTP Headers and Body. That means you must also include the &quot;Authorization: Bearer TOKEN&quot; yourself.","body":"You are manually building the request with HTTP Headers and Body. That means you must also include the &quot;Authorization: Bearer TOKEN&quot; yourself."},{"owner":{"account_id":23082781,"reputation":13,"user_id":17194812,"display_name":"bc12345"},"score":0,"creation_date":1634673153,"post_id":69635932,"comment_id":123087554,"body_markdown":"Looking into GoogleAPI implementation it appears if you pass it a OIDC token it will automatically attach that as an Authorization header. This did also work locally with no change in the code. Probably worth noting that the HttpRequest is from Google not a normal HttpRequest that would require you manually add auth headers. I&#39;ll edit and add the imports.","body":"Looking into GoogleAPI implementation it appears if you pass it a OIDC token it will automatically attach that as an Authorization header. This did also work locally with no change in the code. Probably worth noting that the HttpRequest is from Google not a normal HttpRequest that would require you manually add auth headers. I&#39;ll edit and add the imports."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1634673688,"post_id":69635932,"comment_id":123087742,"body_markdown":"If you put a breakpoint and debug into your method, _does_ that generated http request have the authorization header with the bearer token?","body":"If you put a breakpoint and debug into your method, <i>does</i> that generated http request have the authorization header with the bearer token?"},{"owner":{"account_id":23082781,"reputation":13,"user_id":17194812,"display_name":"bc12345"},"score":0,"creation_date":1634680565,"post_id":69635932,"comment_id":123089663,"body_markdown":"After a bit of digging it is passing a bearer token in the request. Its using the token I believe from calling `gcloud auth application-default print-access-token` although that may be the same form as the OIDC token.","body":"After a bit of digging it is passing a bearer token in the request. Its using the token I believe from calling <code>gcloud auth application-default print-access-token</code> although that may be the same form as the OIDC token."}],"answers":[{"tags":[],"owner":{"account_id":1647402,"reputation":184,"user_id":1518677,"display_name":"brainchrist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678975160,"creation_date":1678975160,"answer_id":75757318,"question_id":69635932,"body_markdown":"In my case I was getting this error when trying to use an OIDC token for a service that didn&#39;t support that method of authentication. Using an OAuth token instead worked for me.\r\n\r\n\r\n    fun createTask(filename: String?) {\r\n            val locationId = &quot;us-central1&quot;\r\n            CloudTasksClient.create().use { client -&gt;\r\n                val queuePath = QueueName.of(projectId, locationId, queueName).toString()\r\n\r\n            val tokenBuilder =\r\n                OAuthToken.newBuilder().setServiceAccountEmail(serviceAccount).build()\r\n\r\n            val taskBuilder = Task.newBuilder()\r\n                .setHttpRequest(\r\n                    HttpRequest.newBuilder()\r\n                        .setBody(\r\n                            ByteString.copyFrom(\r\n                                filename,\r\n                                Charset.defaultCharset()\r\n                            )\r\n                        )\r\n                        .setHttpMethod(HttpMethod.POST)\r\n                        .setOAuthToken(tokenBuilder)\r\n                        .setUrl(url)\r\n                        .build()\r\n                )\r\n            client.createTask(queuePath, taskBuilder.build())\r\n        }\r\n    }","title":"UNAUTHENTICATED error when attempted to create Google Cloud Task from Java (Kotlin)","body":"<p>In my case I was getting this error when trying to use an OIDC token for a service that didn't support that method of authentication. Using an OAuth token instead worked for me.</p>\n<pre><code>fun createTask(filename: String?) {\n        val locationId = &quot;us-central1&quot;\n        CloudTasksClient.create().use { client -&gt;\n            val queuePath = QueueName.of(projectId, locationId, queueName).toString()\n\n        val tokenBuilder =\n            OAuthToken.newBuilder().setServiceAccountEmail(serviceAccount).build()\n\n        val taskBuilder = Task.newBuilder()\n            .setHttpRequest(\n                HttpRequest.newBuilder()\n                    .setBody(\n                        ByteString.copyFrom(\n                            filename,\n                            Charset.defaultCharset()\n                        )\n                    )\n                    .setHttpMethod(HttpMethod.POST)\n                    .setOAuthToken(tokenBuilder)\n                    .setUrl(url)\n                    .build()\n            )\n        client.createTask(queuePath, taskBuilder.build())\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23082781,"reputation":13,"user_id":17194812,"display_name":"bc12345"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678975160,"creation_date":1634667670,"question_id":69635932,"body_markdown":"We are attempting to create a google cloud task in our Kotlin code (same error in Java). When running locally the code works exactly as expected. Once we deploy to our DEV instance on Kubernetes, we receive the following error when attempting to create the task:\r\n\r\n**UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential**\r\n\r\nOur code is as follows and mimics the code provided in the [Google Docs](https://cloud.google.com/tasks/docs/creating-http-target-tasks#using-the-console)\r\n\r\nThe code is as follows. \r\n\r\n``` \r\nfun createTask(filename: String?) {\r\n        val locationId = &quot;us-central1&quot;\r\n        CloudTasksClient.create().use { client -&gt;\r\n            val queuePath = QueueName.of(projectId, locationId, queueName).toString()\r\n\r\n            val oidcTokenBuilder =\r\n                OidcToken.newBuilder().setServiceAccountEmail(serviceAccount).build()\r\n\r\n            val taskBuilder = Task.newBuilder()\r\n                .setHttpRequest(\r\n                    HttpRequest.newBuilder()\r\n                        .setBody(\r\n                            ByteString.copyFrom(\r\n                                filename,\r\n                                Charset.defaultCharset()\r\n                            )\r\n                        )\r\n                        .setHttpMethod(HttpMethod.POST)\r\n                        .setOidcToken(oidcTokenBuilder)\r\n                        .setUrl(url)\r\n                        .build()\r\n                )\r\n            client.createTask(queuePath, taskBuilder.build())\r\n        }\r\n    }\r\n```\r\n\r\nour service account seems to have the right credentials and we&#39;ve tried just hardcoding it rather than using it as a variable but to no luck once deployed. As said before this code runs fine in our local environment using the same service account it&#39;s deployed with. \r\n\r\n\r\nEDIT: The HttpRequest comes from the com.google.cloud.tasks.v2 library. \r\n","title":"UNAUTHENTICATED error when attempted to create Google Cloud Task from Java (Kotlin)","body":"<p>We are attempting to create a google cloud task in our Kotlin code (same error in Java). When running locally the code works exactly as expected. Once we deploy to our DEV instance on Kubernetes, we receive the following error when attempting to create the task:</p>\n<p><strong>UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential</strong></p>\n<p>Our code is as follows and mimics the code provided in the <a href=\"https://cloud.google.com/tasks/docs/creating-http-target-tasks#using-the-console\" rel=\"nofollow noreferrer\">Google Docs</a></p>\n<p>The code is as follows.</p>\n<pre><code>fun createTask(filename: String?) {\n        val locationId = &quot;us-central1&quot;\n        CloudTasksClient.create().use { client -&gt;\n            val queuePath = QueueName.of(projectId, locationId, queueName).toString()\n\n            val oidcTokenBuilder =\n                OidcToken.newBuilder().setServiceAccountEmail(serviceAccount).build()\n\n            val taskBuilder = Task.newBuilder()\n                .setHttpRequest(\n                    HttpRequest.newBuilder()\n                        .setBody(\n                            ByteString.copyFrom(\n                                filename,\n                                Charset.defaultCharset()\n                            )\n                        )\n                        .setHttpMethod(HttpMethod.POST)\n                        .setOidcToken(oidcTokenBuilder)\n                        .setUrl(url)\n                        .build()\n                )\n            client.createTask(queuePath, taskBuilder.build())\n        }\n    }\n</code></pre>\n<p>our service account seems to have the right credentials and we've tried just hardcoding it rather than using it as a variable but to no luck once deployed. As said before this code runs fine in our local environment using the same service account it's deployed with.</p>\n<p>EDIT: The HttpRequest comes from the com.google.cloud.tasks.v2 library.</p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"score":0,"creation_date":1678986534,"post_id":75757310,"comment_id":133643543,"body_markdown":"I&#39;ve tried to reproduce it into [plain mongo query](https://mongoplayground.net/p/vARGhMil-iQ) but there is no complete data in the example and maybe the type of `resultNew` is important. Here mongo says that `$concatArrays` require an array and your problem is related with deserializing array into `long` so I maybe it&#39;s related.","body":"I&#39;ve tried to reproduce it into <a href=\"https://mongoplayground.net/p/vARGhMil-iQ\" rel=\"nofollow noreferrer\">plain mongo query</a> but there is no complete data in the example and maybe the type of <code>resultNew</code> is important. Here mongo says that <code>$concatArrays</code> require an array and your problem is related with deserializing array into <code>long</code> so I maybe it&#39;s related."}],"owner":{"account_id":19540743,"reputation":303,"user_id":14298525,"display_name":"mifol68042"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678975114,"creation_date":1678975114,"question_id":75757310,"body_markdown":"I am trying to do aggregations on my collections using Spring Starter Data Mongo - 2.7.8 and Spring Boot 2.7.7.\r\n\r\nIn my repository of that collection, I have the following code:\r\n\r\n```\r\n@Repository\r\npublic interface MyModelRepository extends MongoRepository&lt;MyModel, Long&gt; {\r\n\r\n    @Aggregation(pipeline = {&quot;{$match: {&#39;myId&#39;:{$in:?1},&#39;myProjectId&#39; : ?0,&#39;lastExecutionTime&#39;:{ &#39;$nin&#39;: [null, &#39;&#39;]}}}&quot;,\r\n      &quot;{$project: {&#39;_id&#39; : ?1,&#39;resultNew&#39; : &#39;$resultNew&#39;}}&quot;,\r\n      &quot;{$addFields: {&#39;latestResult&#39;: { $first: &#39;$resultNew&#39;}}}&quot;,\r\n      &quot;{$project: {&#39;combinedResult&#39;: {$reduce: {input: &#39;$latestResult&#39;,initialValue: [],in: { $concatArrays: [&#39;$$value&#39;, &#39;$$this&#39;] }}}}}&quot;,\r\n      &quot;{ $lookup: {from: &#39;report&#39;,localField:&#39;combinedResult&#39;,foreignField:&#39;_id&#39;,as:&#39;combinedResult&#39;  }}&quot;,\r\n      &quot;{$project: {&#39;status&#39; : &#39;$combinedResult.status&#39;}}&quot;})\r\n    List&lt;MyDto&gt; getData(String myProjectId, List&lt;Long&gt; myIds);\r\n\r\n}\r\n```\r\n\r\nIn my model, I have this written:\r\n\r\n```\r\n@XmlRootElement(name = &quot;myCollection&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@Getter\r\n@Setter\r\n@Component\r\npublic class MyModel implements Cloneable, Serializable {\r\n\r\n    private static long serialVersionUID = 1L;\r\n    \r\n    @Id\r\n    private String id;\r\n\r\n    private long myId;\r\n\r\n    private String myProjectId;\r\n\r\n    .... // some other fields\r\n\r\n}\r\n```\r\n\r\nAnd my DTO class:\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class MyDto {\r\n\r\n    @Id\r\n    private long id;\r\n\r\n    private List&lt;String&gt; status;\r\n\r\n}\r\n```\r\n\r\nI am not sure what is wrong but I get the following error:\r\n\r\n&gt; org.springframework.data.mapping.MappingException: Cannot convert [3, 4, 6, ....] of type class java.util.ArrayList into an instance of long! Implement a custom Converter&lt;class java.util.ArrayList, long&gt; and register it with the CustomConversions. Parent object was: [empty]\r\n\r\n\r\nI am confused on why I am facing this problem. I don&#39;t want to use mongoTemplate but stick to Spring Starter Data MongoDB only.","title":"Spring Data Mongo not able to do aggregate via lookup","body":"<p>I am trying to do aggregations on my collections using Spring Starter Data Mongo - 2.7.8 and Spring Boot 2.7.7.</p>\n<p>In my repository of that collection, I have the following code:</p>\n<pre><code>@Repository\npublic interface MyModelRepository extends MongoRepository&lt;MyModel, Long&gt; {\n\n    @Aggregation(pipeline = {&quot;{$match: {'myId':{$in:?1},'myProjectId' : ?0,'lastExecutionTime':{ '$nin': [null, '']}}}&quot;,\n      &quot;{$project: {'_id' : ?1,'resultNew' : '$resultNew'}}&quot;,\n      &quot;{$addFields: {'latestResult': { $first: '$resultNew'}}}&quot;,\n      &quot;{$project: {'combinedResult': {$reduce: {input: '$latestResult',initialValue: [],in: { $concatArrays: ['$$value', '$$this'] }}}}}&quot;,\n      &quot;{ $lookup: {from: 'report',localField:'combinedResult',foreignField:'_id',as:'combinedResult'  }}&quot;,\n      &quot;{$project: {'status' : '$combinedResult.status'}}&quot;})\n    List&lt;MyDto&gt; getData(String myProjectId, List&lt;Long&gt; myIds);\n\n}\n</code></pre>\n<p>In my model, I have this written:</p>\n<pre><code>@XmlRootElement(name = &quot;myCollection&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@Getter\n@Setter\n@Component\npublic class MyModel implements Cloneable, Serializable {\n\n    private static long serialVersionUID = 1L;\n    \n    @Id\n    private String id;\n\n    private long myId;\n\n    private String myProjectId;\n\n    .... // some other fields\n\n}\n</code></pre>\n<p>And my DTO class:</p>\n<pre><code>@Getter\n@Setter\npublic class MyDto {\n\n    @Id\n    private long id;\n\n    private List&lt;String&gt; status;\n\n}\n</code></pre>\n<p>I am not sure what is wrong but I get the following error:</p>\n<blockquote>\n<p>org.springframework.data.mapping.MappingException: Cannot convert [3, 4, 6, ....] of type class java.util.ArrayList into an instance of long! Implement a custom Converter&lt;class java.util.ArrayList, long&gt; and register it with the CustomConversions. Parent object was: [empty]</p>\n</blockquote>\n<p>I am confused on why I am facing this problem. I don't want to use mongoTemplate but stick to Spring Starter Data MongoDB only.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":3701688,"reputation":3358,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1458329565,"post_id":36092805,"comment_id":59829975,"body_markdown":"You could just edit your question instead of adding a comment and leaving the incorrect text.","body":"You could just edit your question instead of adding a comment and leaving the incorrect text."},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1458329756,"post_id":36092805,"comment_id":59830073,"body_markdown":"Add as many backslash you can until it works.","body":"Add as many backslash you can until it works."}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678974999,"creation_date":1458329891,"answer_id":36092919,"question_id":36092805,"body_markdown":"Backslash is special character in string literals - we can use it to create `\\n` or escape `&quot;` like `\\&quot;`.  \r\n\r\nBut backslash is also special in regular expression engine - for instance we can use it to use default character classes like `\\w` `\\d` `\\s`.\r\n\r\nSo if you want to create string which will *represent* regex/text like `\\w` you need to write it as `&quot;\\\\w&quot;`. \r\n\r\nIf you want to write regex which will represent `\\` literal then text representing such regex needs to look like `\\\\` which means String representing such text needs to be written as `&quot;\\\\\\\\&quot;`.   \r\nIn other words we need to escape backslash twice: \r\n\r\n- once in regex `\\\\`  \r\n- and once in string `&quot;\\\\\\\\&quot;`. \r\n\r\nIf you want to pass to regex engine literal which will represent tab then you don&#39;t need to escape backslash at all. Java will understand `&quot;\\t&quot;` string as string representing tab character and you can pass such string to your regex engine without problems.  \r\n\r\nFor our comfort regex engine in Java interprets text representing `\\t` (also `\\r` and `\\n`) same way as string literals interpret `&quot;\\t&quot;`. In other words we can pass to regex engine text which will represent `\\` character and `t` character and be sure that it will be interpreted as representation of tab character.\r\n\r\nSo code like `split(&quot;\\t&quot;)` or `split(&quot;\\\\t&quot;)` will try to split on tab.  \r\n\r\nCode like `split(&quot;\\\\\\\\t&quot;)` will try to split text not on tab character, but on `\\` character followed by `t`. It happens because `&quot;\\\\\\\\&quot;` as explained represents text `\\\\` which regex engine sees as escaped `\\` (so it is treated as literal).","title":"Java Regular Expression - how to use backslash","body":"<p>Backslash is special character in string literals - we can use it to create <code>\\n</code> or escape <code>&quot;</code> like <code>\\&quot;</code>.</p>\n<p>But backslash is also special in regular expression engine - for instance we can use it to use default character classes like <code>\\w</code> <code>\\d</code> <code>\\s</code>.</p>\n<p>So if you want to create string which will <em>represent</em> regex/text like <code>\\w</code> you need to write it as <code>&quot;\\\\w&quot;</code>.</p>\n<p>If you want to write regex which will represent <code>\\</code> literal then text representing such regex needs to look like <code>\\\\</code> which means String representing such text needs to be written as <code>&quot;\\\\\\\\&quot;</code>.<br />\nIn other words we need to escape backslash twice:</p>\n<ul>\n<li>once in regex <code>\\\\</code></li>\n<li>and once in string <code>&quot;\\\\\\\\&quot;</code>.</li>\n</ul>\n<p>If you want to pass to regex engine literal which will represent tab then you don't need to escape backslash at all. Java will understand <code>&quot;\\t&quot;</code> string as string representing tab character and you can pass such string to your regex engine without problems.</p>\n<p>For our comfort regex engine in Java interprets text representing <code>\\t</code> (also <code>\\r</code> and <code>\\n</code>) same way as string literals interpret <code>&quot;\\t&quot;</code>. In other words we can pass to regex engine text which will represent <code>\\</code> character and <code>t</code> character and be sure that it will be interpreted as representation of tab character.</p>\n<p>So code like <code>split(&quot;\\t&quot;)</code> or <code>split(&quot;\\\\t&quot;)</code> will try to split on tab.</p>\n<p>Code like <code>split(&quot;\\\\\\\\t&quot;)</code> will try to split text not on tab character, but on <code>\\</code> character followed by <code>t</code>. It happens because <code>&quot;\\\\\\\\&quot;</code> as explained represents text <code>\\\\</code> which regex engine sees as escaped <code>\\</code> (so it is treated as literal).</p>\n"}],"owner":{"account_id":7908102,"reputation":305,"user_id":5972935,"display_name":"yyyyyyyyoung"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":870,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1458364405,"accepted_answer_id":36092919,"answer_count":1,"score":0,"last_activity_date":1678974999,"creation_date":1458329394,"question_id":36092805,"body_markdown":"I am really confused with how to escape. Sometimes I just need to prepend a backslash but sometimes I need to prepend double backslash like `&quot;\\\\.&quot;`.\r\nCould any one tell me why?\r\n\r\nAlso, could anyone give me an explanation of difference in \r\n\r\n- `String.split(&quot;\\t&quot;)`, \r\n- `String.split(&quot;\\\\t&quot;)`, \r\n- `String.split(&quot;\\\\\\t&quot;)`, \r\n- `String.split(&quot;\\\\\\\\t&quot;)`? ","title":"Java Regular Expression - how to use backslash","body":"<p>I am really confused with how to escape. Sometimes I just need to prepend a backslash but sometimes I need to prepend double backslash like <code>\"\\\\.\"</code>.\nCould any one tell me why?</p>\n\n<p>Also, could anyone give me an explanation of difference in </p>\n\n<ul>\n<li><code>String.split(\"\\t\")</code>, </li>\n<li><code>String.split(\"\\\\t\")</code>, </li>\n<li><code>String.split(\"\\\\\\t\")</code>, </li>\n<li><code>String.split(\"\\\\\\\\t\")</code>? </li>\n</ul>\n"},{"tags":["java","android","google-maps","google-maps-android-api-2","android-studio-electric-eel"],"comments":[{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1685070447,"post_id":75756700,"comment_id":134613063,"body_markdown":"You can use [fusedLocationProviderClient](https://developers.google.com/android/reference/com/google/android/gms/location/FusedLocationProviderClient). Or check this [documentation guide](https://developers.google.com/maps/documentation/android-sdk/location).","body":"You can use <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/FusedLocationProviderClient\" rel=\"nofollow noreferrer\">fusedLocationProviderClient</a>. Or check this <a href=\"https://developers.google.com/maps/documentation/android-sdk/location\" rel=\"nofollow noreferrer\">documentation guide</a>."}],"owner":{"account_id":28032896,"reputation":11,"user_id":21411796,"display_name":"FellSachi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678974851,"creation_date":1678972082,"question_id":75756700,"body_markdown":"I am creating an app, and it has a bottom navigation bar. One of the pages I am going to use for a map with the current location. The following shows my code so far for that page. Can this code be changed so that when entering the page, the current location is received first ?\r\n\r\nThis is the code in the MapsFragment.java file.\r\n\r\n```\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport com.google.android.gms.maps.CameraUpdate;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\n\r\npublic class MapsFragment extends Fragment {\r\n\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public MapsFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static MapsFragment newInstance(String param1, String param2) {\r\n        MapsFragment fragment = new MapsFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Initialize view\r\n        View view=inflater.inflate(R.layout.fragment_maps, container, false);\r\n\r\n        // Initialize map fragment\r\n        SupportMapFragment supportMapFragment=(SupportMapFragment)\r\n                getChildFragmentManager().findFragmentById(R.id.google_map);\r\n\r\n        // Async map\r\n        supportMapFragment.getMapAsync(new OnMapReadyCallback() {\r\n            @Override\r\n            public void onMapReady(GoogleMap googleMap) {\r\n                // When map is loaded\r\n                googleMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n                    @Override\r\n                    public void onMapClick(LatLng latLng) {\r\n                        // When clicked on map\r\n                        // Initialize marker options\r\n                        MarkerOptions markerOptions=new MarkerOptions();\r\n                        // Set position of marker\r\n                        markerOptions.position(latLng);\r\n                        // Set title of marker\r\n                        markerOptions.title(latLng.latitude+&quot; : &quot;+latLng.longitude);\r\n                        // Remove all marker\r\n                        googleMap.clear();\r\n                        // Animating to zoom the marker\r\n                        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng,10));\r\n                        // Add marker on map\r\n                        googleMap.addMarker(markerOptions);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n```","title":"How do I get the current location on the Android Studio map activity?","body":"<p>I am creating an app, and it has a bottom navigation bar. One of the pages I am going to use for a map with the current location. The following shows my code so far for that page. Can this code be changed so that when entering the page, the current location is received first ?</p>\n<p>This is the code in the MapsFragment.java file.</p>\n<pre><code>import android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport com.google.android.gms.maps.CameraUpdate;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\npublic class MapsFragment extends Fragment {\n\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    private String mParam1;\n    private String mParam2;\n\n    public MapsFragment() {\n        // Required empty public constructor\n    }\n\n    public static MapsFragment newInstance(String param1, String param2) {\n        MapsFragment fragment = new MapsFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Initialize view\n        View view=inflater.inflate(R.layout.fragment_maps, container, false);\n\n        // Initialize map fragment\n        SupportMapFragment supportMapFragment=(SupportMapFragment)\n                getChildFragmentManager().findFragmentById(R.id.google_map);\n\n        // Async map\n        supportMapFragment.getMapAsync(new OnMapReadyCallback() {\n            @Override\n            public void onMapReady(GoogleMap googleMap) {\n                // When map is loaded\n                googleMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n                    @Override\n                    public void onMapClick(LatLng latLng) {\n                        // When clicked on map\n                        // Initialize marker options\n                        MarkerOptions markerOptions=new MarkerOptions();\n                        // Set position of marker\n                        markerOptions.position(latLng);\n                        // Set title of marker\n                        markerOptions.title(latLng.latitude+&quot; : &quot;+latLng.longitude);\n                        // Remove all marker\n                        googleMap.clear();\n                        // Animating to zoom the marker\n                        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng,10));\n                        // Add marker on map\n                        googleMap.addMarker(markerOptions);\n                    }\n                });\n            }\n        });\n\n        return view;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678959480,"creation_date":1678959480,"answer_id":75754362,"question_id":75754258,"body_markdown":"The best way to me, is scenario 1, but add the `mappedBy` attribute on the `@OneToMany`annotation of the `books`collection.","title":"Unexpected behavior when using @JoinColumn for ONE-TO-MANY association [SpringBoot]","body":"<p>The best way to me, is scenario 1, but add the <code>mappedBy</code> attribute on the <code>@OneToMany</code>annotation of the <code>books</code>collection.</p>\n"}],"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678974818,"creation_date":1678958959,"question_id":75754258,"body_markdown":"I was practicing One-to-many association between two entities that are - **Book** and **Library** &lt;br&gt;\r\nI m using SpringBoot 2 alongside Spring-data-jpa and H2 database. &lt;br&gt;&lt;br&gt;\r\nMy aim was to establish a unidirectional mapping in such a way that by using `@OneToMany annotation` within Library entity, so that library table maintains a join table entry. On the other hand, I have used `@ManyToOne annotation` within Book Entity which maintains a column for foreign key (library_Id).\r\n\r\n***Scenario 1 :***\r\nUnder this scenario when I m not using @JoinColumn annotation along with `@OneToMany` annotated field within Library Entity everything works as expected i.e. a join table is being maintained by the library table whereas a foreign key is stored in book table. Below I have shared the code as well as outputs screenshots for this scenario : &lt;br&gt;\r\n\r\nBook.java \r\n\r\n    @Entity\r\n    @Table(name = &quot;book_table&quot;)\r\n    public class Book {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id ;\r\n        private String title ;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;library_id&quot;)\r\n        private Library library ;\r\n    \r\n        public Book() {\r\n        }\r\n    \r\n        public Book(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public Library getLibrary() {\r\n            return library;\r\n        }\r\n    \r\n        public void setLibrary(Library library) {\r\n            this.library = library;\r\n        }\r\n    }\r\n\r\nLibrary.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;lib_table&quot;)\r\n    public class Library {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id ;\r\n    \r\n        private String libname ;\r\n        @OneToMany\r\n        private List &lt;Book&gt; books = new ArrayList&lt;&gt;() ;\r\n    \r\n        public Library() {\r\n        }\r\n    \r\n        public Library(String libname) {\r\n            this.libname = libname;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getLibname() {\r\n            return libname;\r\n        }\r\n    \r\n        public List&lt;Book&gt; getBooks() {\r\n            return books;\r\n        }\r\n    \r\n        public void setBooks(List&lt;Book&gt; books) {\r\n            this.books = books;\r\n        }\r\n    }\r\n\r\nMain Method \r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \t\tConfigurableApplicationContext context = SpringApplication.run(OneToManyApplication.class, args);\r\n    \t\tBookRepo bookrepo = context.getBean(BookRepo.class) ;\r\n    \t\tLibRepo libRepo = context.getBean(LibRepo.class) ;\r\n    \r\n    \t\tLibrary lib1 = new Library(&quot;MIT Library&quot;) ;\r\n    \t\tLibrary lib2 = new Library(&quot;Vivekanand Library&quot;) ;\r\n    \t\tlibRepo.save(lib1) ;\r\n    \t\tlibRepo.save(lib2) ;\r\n    \r\n    \t\tBook book1 = new Book(&quot;Science&quot; ) ;\r\n    \t\tBook book2 = new Book(&quot;Dharma&quot; );\r\n    \t\tBook book3 = new Book(&quot;Philosophy&quot;) ;\r\n    \r\n    \t\tbook1.setLibrary(lib1);\r\n    \t\tbook2.setLibrary(lib2);\r\n    \t\tbook3.setLibrary(lib1);\r\n    \r\n    \t\tbookrepo.save(book1) ;\r\n    \t\tbookrepo.save(book2) ;\r\n    \t\tbookrepo.save(book3) ;\r\n    \r\n    \t\tList&lt;Book&gt; booklist1 = Arrays.asList(book1, book3) ;\r\n    \t\tList&lt;Book&gt; booklist2 = Arrays.asList(book2) ;\r\n    \r\n    \t\tlib1.setBooks(booklist1);\r\n    \t\tlib2.setBooks(booklist2);\r\n    \t\tlibRepo.save(lib1) ;\r\n    \t\tlibRepo.save(lib2) ;\r\n    \r\n    \t}\r\n\r\n**Output :** &lt;br&gt;\r\n&lt;img src=&quot;https://i.stack.imgur.com/TiS2f.png&quot; width=&quot;500&quot; /&gt;\r\n\r\n&lt;br&gt;\r\n&lt;b&gt;&lt;i&gt;Scenario 2 :&lt;/i&gt;&lt;/b&gt;\r\nUnder this scenario, I tried using @JoinColumn annotation along with @OneToMany annotated field within Library Entity. This breaks the expected behavior since now there is no join table being maintained as well as one more column is introduced in book table. Below I have shared the modified code as well as outputs screenshots for this scenario :\r\n&lt;br&gt;&lt;br&gt;\r\nLibrary.java (modified)\r\n\r\n    @Entity\r\n    @Table(name = &quot;lib_table&quot;)\r\n    public class Library {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id ;\r\n    \r\n        private String libname ;\r\n        @OneToMany\r\n        @JoinColumn(name = &quot;booklist_id&quot;)              // only modified line\r\n        private List &lt;Book&gt; books = new ArrayList&lt;&gt;() ;\r\n    \r\n        public Library() {\r\n        }\r\n    \r\n        public Library(String libname) {\r\n            this.libname = libname;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getLibname() {\r\n            return libname;\r\n        }\r\n    \r\n        public List&lt;Book&gt; getBooks() {\r\n            return books;\r\n        }\r\n    \r\n        public void setBooks(List&lt;Book&gt; books) {\r\n            this.books = books;\r\n        }\r\n    }\r\n\r\n**Output :** &lt;br&gt;\r\n&lt;img src=&quot;https://i.stack.imgur.com/NUhEk.png&quot; width=&quot;500&quot; /&gt;\r\n&lt;br&gt;&lt;br&gt;\r\n**Kindly help me with the underlying logic which makes the join table disappear as well as introduction of one more column in Book table in the second scenario.**\r\n\r\n\r\n**NOTE :** In both the scenarios, I have used `@JoinColumn annotation` on `private Library library;` field present within Book Entity.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NUhEk.png","title":"Unexpected behavior when using @JoinColumn for ONE-TO-MANY association [SpringBoot]","body":"<p>I was practicing One-to-many association between two entities that are - <strong>Book</strong> and <strong>Library</strong> <br>\nI m using SpringBoot 2 alongside Spring-data-jpa and H2 database. <br><br>\nMy aim was to establish a unidirectional mapping in such a way that by using <code>@OneToMany annotation</code> within Library entity, so that library table maintains a join table entry. On the other hand, I have used <code>@ManyToOne annotation</code> within Book Entity which maintains a column for foreign key (library_Id).</p>\n<p><em><strong>Scenario 1 :</strong></em>\nUnder this scenario when I m not using @JoinColumn annotation along with <code>@OneToMany</code> annotated field within Library Entity everything works as expected i.e. a join table is being maintained by the library table whereas a foreign key is stored in book table. Below I have shared the code as well as outputs screenshots for this scenario : <br></p>\n<p>Book.java</p>\n<pre><code>@Entity\n@Table(name = &quot;book_table&quot;)\npublic class Book {\n\n    @Id\n    @GeneratedValue\n    private Long id ;\n    private String title ;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;library_id&quot;)\n    private Library library ;\n\n    public Book() {\n    }\n\n    public Book(String title) {\n        this.title = title;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public Library getLibrary() {\n        return library;\n    }\n\n    public void setLibrary(Library library) {\n        this.library = library;\n    }\n}\n</code></pre>\n<p>Library.java</p>\n<pre><code>@Entity\n@Table(name = &quot;lib_table&quot;)\npublic class Library {\n\n    @Id\n    @GeneratedValue\n    private Long id ;\n\n    private String libname ;\n    @OneToMany\n    private List &lt;Book&gt; books = new ArrayList&lt;&gt;() ;\n\n    public Library() {\n    }\n\n    public Library(String libname) {\n        this.libname = libname;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getLibname() {\n        return libname;\n    }\n\n    public List&lt;Book&gt; getBooks() {\n        return books;\n    }\n\n    public void setBooks(List&lt;Book&gt; books) {\n        this.books = books;\n    }\n}\n</code></pre>\n<p>Main Method</p>\n<pre><code>public static void main(String[] args) {\n\n        ConfigurableApplicationContext context = SpringApplication.run(OneToManyApplication.class, args);\n        BookRepo bookrepo = context.getBean(BookRepo.class) ;\n        LibRepo libRepo = context.getBean(LibRepo.class) ;\n\n        Library lib1 = new Library(&quot;MIT Library&quot;) ;\n        Library lib2 = new Library(&quot;Vivekanand Library&quot;) ;\n        libRepo.save(lib1) ;\n        libRepo.save(lib2) ;\n\n        Book book1 = new Book(&quot;Science&quot; ) ;\n        Book book2 = new Book(&quot;Dharma&quot; );\n        Book book3 = new Book(&quot;Philosophy&quot;) ;\n\n        book1.setLibrary(lib1);\n        book2.setLibrary(lib2);\n        book3.setLibrary(lib1);\n\n        bookrepo.save(book1) ;\n        bookrepo.save(book2) ;\n        bookrepo.save(book3) ;\n\n        List&lt;Book&gt; booklist1 = Arrays.asList(book1, book3) ;\n        List&lt;Book&gt; booklist2 = Arrays.asList(book2) ;\n\n        lib1.setBooks(booklist1);\n        lib2.setBooks(booklist2);\n        libRepo.save(lib1) ;\n        libRepo.save(lib2) ;\n\n    }\n</code></pre>\n<p><strong>Output :</strong> <br>\n<img src=\"https://i.stack.imgur.com/TiS2f.png\" width=\"500\" /></p>\n<br>\n<b><i>Scenario 2 :</i></b>\nUnder this scenario, I tried using @JoinColumn annotation along with @OneToMany annotated field within Library Entity. This breaks the expected behavior since now there is no join table being maintained as well as one more column is introduced in book table. Below I have shared the modified code as well as outputs screenshots for this scenario :\n<br><br>\nLibrary.java (modified)\n<pre><code>@Entity\n@Table(name = &quot;lib_table&quot;)\npublic class Library {\n\n    @Id\n    @GeneratedValue\n    private Long id ;\n\n    private String libname ;\n    @OneToMany\n    @JoinColumn(name = &quot;booklist_id&quot;)              // only modified line\n    private List &lt;Book&gt; books = new ArrayList&lt;&gt;() ;\n\n    public Library() {\n    }\n\n    public Library(String libname) {\n        this.libname = libname;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getLibname() {\n        return libname;\n    }\n\n    public List&lt;Book&gt; getBooks() {\n        return books;\n    }\n\n    public void setBooks(List&lt;Book&gt; books) {\n        this.books = books;\n    }\n}\n</code></pre>\n<p><strong>Output :</strong> <br>\n<img src=\"https://i.stack.imgur.com/NUhEk.png\" width=\"500\" />\n<br><br>\n<strong>Kindly help me with the underlying logic which makes the join table disappear as well as introduction of one more column in Book table in the second scenario.</strong></p>\n<p><strong>NOTE :</strong> In both the scenarios, I have used <code>@JoinColumn annotation</code> on <code>private Library library;</code> field present within Book Entity.</p>\n"},{"tags":["java","sql-server","spring","hibernate"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1678974564,"post_id":75757138,"comment_id":133639623,"body_markdown":"You apparently can&#39;t have a table named `user` in SQL Server. Try naming it `user_tbl`.","body":"You apparently can&#39;t have a table named <code>user</code> in SQL Server. Try naming it <code>user_tbl</code>."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1679001149,"post_id":75757138,"comment_id":133647241,"body_markdown":"@ElliottFrisch you certainly can but because `user` is a reserved word you need to enquote it with square brackets, i.e.: `create table dbo.[User] ( ... )`. It&#39;s still named `User` in `sys.objects`, you just need the square brackets when referencing it using T-SQL syntax.","body":"@ElliottFrisch you certainly can but because <code>user</code> is a reserved word you need to enquote it with square brackets, i.e.: <code>create table dbo.[User] ( ... )</code>. It&#39;s still named <code>User</code> in <code>sys.objects</code>, you just need the square brackets when referencing it using T-SQL syntax."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679003208,"post_id":75757138,"comment_id":133647706,"body_markdown":"@AlwaysLearning I considered that, and while I know it would work for T-SQL, would it still work for MySQL? Because I wasn&#39;t sure I just commented.","body":"@AlwaysLearning I considered that, and while I know it would work for T-SQL, would it still work for MySQL? Because I wasn&#39;t sure I just commented."}],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678974812,"creation_date":1678974264,"question_id":75757138,"body_markdown":"I have a spring boot application(https://github.com/khandelwal-arpit/springboot-starterkit-mysql)that works fine when I use a MySQL database and configuration. However I want to migrate to MS SQL Server because I can&#39;t live update data visuals in Microsoft Power Bi when using MySQL so that&#39;s why the change is necessary.\r\n\r\nThis is the MySQL Configuration in the application.properties file:\r\n```\r\n#Default server port\r\nserver.port=8080\r\n\r\n### MySQL\r\nspring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:brs}?useSSL=false&amp;allowPublicKeyRetrieval=true\r\nspring.datasource.username=${MYSQL_USER:root}\r\nspring.datasource.password=${MYSQL_USER_PASSWORD:password}\r\n\r\n##Set active profile\r\nspring.profiles.active=@activatedProperties@\r\n\r\n#logging.level.web=${LOG_LEVEL:DEBUG}\r\n#management.endpoints.web.exposure.include=*\r\nserver.error.whitelabel.enabled=false\r\n```\r\n\r\nConfiguration for MS SQL Server:\r\n```\r\n#Default server port\r\nserver.port=8080\r\n\r\n# MS SQL Server JDBC properties\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=brs\r\nspring.datasource.username=jay\r\nspring.datasource.password=M@nUnit3dBaCk0nT0p\r\n\r\n# Hibernate properties\r\nspring.jpa.database-platform=org.hibernate.dialect.SQLServer2012Dialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n**Console logged exceptions PS: There&#39;s more but it&#39;s too long**\r\n\r\n&gt;org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (user_id bigint identity not null, email varchar(255), first_name varchar(255), last_name varchar(255), mobile_number varchar(255), password varchar(255), primary key (user_id))&quot; via JDBC Statement\r\n&lt;br&gt;&lt;br&gt;org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table agency add constraint FK8y56hykf78k5u3wmutny52wcf foreign key (owner_user_id) references user&quot; via JDBC Statement\r\n&lt;br&gt;&lt;br&gt;org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table ticket add constraint FKdvt57mcco3ogsosi97odw563o foreign key (user_id) references user&quot; via JDBC Statement\r\n&lt;br&gt;&lt;br&gt;org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table user_role add constraint FK859n2jvi8ivhui0rl0esws6o foreign key (user_id) references user&quot; via JDBC Statement\r\n&lt;br&gt;&lt;br&gt;java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n&lt;br&gt;&lt;br&gt;Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n&lt;br&gt;&lt;br&gt;Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword &#39;user&#39;.\r\n\r\n","title":"Runtime exceptions when trying to migrate from MySQL to MS SQL Server","body":"<p>I have a spring boot application(<a href=\"https://github.com/khandelwal-arpit/springboot-starterkit-mysql\" rel=\"nofollow noreferrer\">https://github.com/khandelwal-arpit/springboot-starterkit-mysql</a>)that works fine when I use a MySQL database and configuration. However I want to migrate to MS SQL Server because I can't live update data visuals in Microsoft Power Bi when using MySQL so that's why the change is necessary.</p>\n<p>This is the MySQL Configuration in the application.properties file:</p>\n<pre><code>#Default server port\nserver.port=8080\n\n### MySQL\nspring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:brs}?useSSL=false&amp;allowPublicKeyRetrieval=true\nspring.datasource.username=${MYSQL_USER:root}\nspring.datasource.password=${MYSQL_USER_PASSWORD:password}\n\n##Set active profile\nspring.profiles.active=@activatedProperties@\n\n#logging.level.web=${LOG_LEVEL:DEBUG}\n#management.endpoints.web.exposure.include=*\nserver.error.whitelabel.enabled=false\n</code></pre>\n<p>Configuration for MS SQL Server:</p>\n<pre><code>#Default server port\nserver.port=8080\n\n# MS SQL Server JDBC properties\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=brs\nspring.datasource.username=jay\nspring.datasource.password=M@nUnit3dBaCk0nT0p\n\n# Hibernate properties\nspring.jpa.database-platform=org.hibernate.dialect.SQLServer2012Dialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p><strong>Console logged exceptions PS: There's more but it's too long</strong></p>\n<blockquote>\n<p>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (user_id bigint identity not null, email varchar(255), first_name varchar(255), last_name varchar(255), mobile_number varchar(255), password varchar(255), primary key (user_id))&quot; via JDBC Statement\n<br><br>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table agency add constraint FK8y56hykf78k5u3wmutny52wcf foreign key (owner_user_id) references user&quot; via JDBC Statement\n<br><br>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table ticket add constraint FKdvt57mcco3ogsosi97odw563o foreign key (user_id) references user&quot; via JDBC Statement\n<br><br>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table user_role add constraint FK859n2jvi8ivhui0rl0esws6o foreign key (user_id) references user&quot; via JDBC Statement\n<br><br>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n<br><br>Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n<br><br>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'user'.</p>\n</blockquote>\n"},{"tags":["java","amazon-s3","aws-java-sdk-2.x"],"owner":{"account_id":28019164,"reputation":1,"user_id":21400295,"display_name":"MentalW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678974522,"creation_date":1678845900,"question_id":75739922,"body_markdown":"I am currently writing a Java application to handle files and directories transfers to AWS S3.\r\nI am new to the AWS Java SDK and use version 2.20.22 for my current development.\r\n\r\nOne of the key feature I want to include is to use a strong enough checksum algorithm to ensure the integrity of all our files saved to S3.\r\n\r\nAs we will have to upload large contents (several TB of data), I&#39;d like to use the `S3TransferManager` to handle file transfers to rely on its checksum computation while transferring files and automatic multi-part upload to help improve performance.\r\n\r\nI managed to upload individual files using `S3TransferManager` SHA-256 checksum algorithm by specifying `checksumAlgorithm(ChecksumAlgorithm.SHA256)` in the `putObjectRequest()`.\r\n\r\nNow I want to handle full directory upload using `S3TransferManager.uploadDirectory()` but I can&#39;t figure how to activate the SHA-256 checksum so it only uses default CRC32 checksum type.\r\n\r\nI searched the web a long time and read the SDK doc, developer guide,... to no avail but I never found the way to activate specific checksum when using `S3TransferManager.uploadDirectory()` method. I can&#39;t apply the same checksum config parameter I used to upload single files as the `UploadDirectoryRequest` do not seems to provide a way to set it for directory operations...\r\n\r\nCan somebody tell me if it even could be done, and if so how ?","title":"AWS Java SDK 2 - Upload Directory to S3 using S3TransferManager and SHA-256 checksum","body":"<p>I am currently writing a Java application to handle files and directories transfers to AWS S3.\nI am new to the AWS Java SDK and use version 2.20.22 for my current development.</p>\n<p>One of the key feature I want to include is to use a strong enough checksum algorithm to ensure the integrity of all our files saved to S3.</p>\n<p>As we will have to upload large contents (several TB of data), I'd like to use the <code>S3TransferManager</code> to handle file transfers to rely on its checksum computation while transferring files and automatic multi-part upload to help improve performance.</p>\n<p>I managed to upload individual files using <code>S3TransferManager</code> SHA-256 checksum algorithm by specifying <code>checksumAlgorithm(ChecksumAlgorithm.SHA256)</code> in the <code>putObjectRequest()</code>.</p>\n<p>Now I want to handle full directory upload using <code>S3TransferManager.uploadDirectory()</code> but I can't figure how to activate the SHA-256 checksum so it only uses default CRC32 checksum type.</p>\n<p>I searched the web a long time and read the SDK doc, developer guide,... to no avail but I never found the way to activate specific checksum when using <code>S3TransferManager.uploadDirectory()</code> method. I can't apply the same checksum config parameter I used to upload single files as the <code>UploadDirectoryRequest</code> do not seems to provide a way to set it for directory operations...</p>\n<p>Can somebody tell me if it even could be done, and if so how ?</p>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1678974375,"post_id":75756963,"comment_id":133639553,"body_markdown":"Generally speaking when you use `BigDecimal` for precise results, you should avoid having *any* `float` or `double` values of any kind in that code. You already create `price` correctly (using a String literal), I suggest you use the same approach for the interest rate and get rid of the `double.interestRate`.","body":"Generally speaking when you use <code>BigDecimal</code> for precise results, you should avoid having <i>any</i> <code>float</code> or <code>double</code> values of any kind in that code. You already create <code>price</code> correctly (using a String literal), I suggest you use the same approach for the interest rate and get rid of the <code>double.interestRate</code>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678974169,"creation_date":1678974169,"answer_id":75757118,"question_id":75756963,"body_markdown":"Pass the `MathContext` as the second argument to each call to `divide`, e.g.\r\n\r\n```java\r\nbMileage.divide(new BigDecimal(12), precision)\r\n```","title":"Issues with bigdecimal","body":"<p>Pass the <code>MathContext</code> as the second argument to each call to <code>divide</code>, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>bMileage.divide(new BigDecimal(12), precision)\n</code></pre>\n"}],"owner":{"account_id":11741622,"reputation":302,"user_id":8593764,"display_name":"jennifer ruurs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75757118,"answer_count":1,"score":3,"last_activity_date":1678974169,"creation_date":1678973413,"question_id":75756963,"body_markdown":"I am trying to calculate leaseRate which is a big decial, However I receive the following error:\r\n`Non-terminating decimal expansion; no exact representable decimal result`\r\nI see that this is round issue, however I think that I solved this with `MathContext precision = new MathContext(2);`\r\n\r\nI made a small example this issue:\r\n\r\n```\r\npublic class Test {\r\n  public static void main(String[] args) {\r\n    MathContext precision = new MathContext(2);\r\n    int mileage = 10;\r\n    int duration = 20;\r\n    BigDecimal price = new BigDecimal(&quot;34234.34&quot;,precision);\r\n    double interestRate = 4.57;\r\n    BigDecimal bMileage = new BigDecimal(mileage, precision);\r\n    BigDecimal bDuration = new BigDecimal(duration,precision);\r\n    BigDecimal bInterestRate = new BigDecimal(interestRate,precision);\r\n    BigDecimal leaseRate = ((((bMileage.divide(\r\n        new BigDecimal(12,precision))).multiply(bDuration)).divide(\r\n        price)).add(\r\n        ((bInterestRate.divide(new BigDecimal(100,precision))).multiply(\r\n            price)).divide(new BigDecimal(12,precision))));\r\n    System.out.println(leaseRate);\r\n  }\r\n}\r\n```\r\n\r\nWhat is wrong with my code?","title":"Issues with bigdecimal","body":"<p>I am trying to calculate leaseRate which is a big decial, However I receive the following error:\n<code>Non-terminating decimal expansion; no exact representable decimal result</code>\nI see that this is round issue, however I think that I solved this with <code>MathContext precision = new MathContext(2);</code></p>\n<p>I made a small example this issue:</p>\n<pre><code>public class Test {\n  public static void main(String[] args) {\n    MathContext precision = new MathContext(2);\n    int mileage = 10;\n    int duration = 20;\n    BigDecimal price = new BigDecimal(&quot;34234.34&quot;,precision);\n    double interestRate = 4.57;\n    BigDecimal bMileage = new BigDecimal(mileage, precision);\n    BigDecimal bDuration = new BigDecimal(duration,precision);\n    BigDecimal bInterestRate = new BigDecimal(interestRate,precision);\n    BigDecimal leaseRate = ((((bMileage.divide(\n        new BigDecimal(12,precision))).multiply(bDuration)).divide(\n        price)).add(\n        ((bInterestRate.divide(new BigDecimal(100,precision))).multiply(\n            price)).divide(new BigDecimal(12,precision))));\n    System.out.println(leaseRate);\n  }\n}\n</code></pre>\n<p>What is wrong with my code?</p>\n"},{"tags":["c#","java",".net","annotations"],"answers":[{"tags":[],"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1678974160,"creation_date":1336164261,"answer_id":10455908,"question_id":10455900,"body_markdown":"[Attributes][1] are to C# what annotations are to Java\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/csharp/advanced-topics/reflection-and-attributes/","title":"Java Annotation C# equivalent","body":"<p><a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/advanced-topics/reflection-and-attributes/\" rel=\"nofollow noreferrer\">Attributes</a> are to C# what annotations are to Java</p>\n"}],"owner":{"account_id":989562,"reputation":1906,"user_id":1007240,"accept_rate":69,"display_name":"Mittchel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22889,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"closed_date":1337799547,"accepted_answer_id":10455908,"answer_count":1,"score":24,"last_activity_date":1678974160,"creation_date":1336164212,"question_id":10455900,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [What are the similarities and differences between Java Annotations and C# Attributes?](https://stackoverflow.com/questions/553857/what-are-the-similarities-and-differences-between-java-annotations-and-c-sharp-a)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nCurrently we are translating an Java project into C#, but we&#39;re having problems finding out what the C# equivalent is for Java annotation. How do we write the exact same thing as this java code into C#?:\r\n\r\n    public @interface LatitudeAnnotation {\r\n    \tpublic String author() default &quot;Themaopdracht 7 tester&quot;;\r\n    }\r\n\r\n\r\n","title":"Java Annotation C# equivalent","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/553857/what-are-the-similarities-and-differences-between-java-annotations-and-c-sharp-a\">What are the similarities and differences between Java Annotations and C# Attributes?</a>  </p>\n</blockquote>\n\n\n\n<p>Currently we are translating an Java project into C#, but we're having problems finding out what the C# equivalent is for Java annotation. How do we write the exact same thing as this java code into C#?:</p>\n\n<pre><code>public @interface LatitudeAnnotation {\n    public String author() default \"Themaopdracht 7 tester\";\n}\n</code></pre>\n"},{"tags":["java","loops","for-loop","if-statement","modulo"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1678971424,"post_id":75756507,"comment_id":133638578,"body_markdown":"Your code is not covering all the bases. Have you checked-out [`NumberInWords.java`](https://github.com/busaeed/Integer-To-Words-Java/blob/master/NumberInWords.java)? This code was linked by [Bu Saeed](https://stackoverflow.com/a/62600424/1762224).","body":"Your code is not covering all the bases. Have you checked-out <a href=\"https://github.com/busaeed/Integer-To-Words-Java/blob/master/NumberInWords.java\" rel=\"nofollow noreferrer\"><code>NumberInWords.java</code></a>? This code was linked by <a href=\"https://stackoverflow.com/a/62600424/1762224\">Bu Saeed</a>."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1678971448,"post_id":75756507,"comment_id":133638586,"body_markdown":"Does this answer your question? [How to convert number to words in java](https://stackoverflow.com/questions/3911966/how-to-convert-number-to-words-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3911966/how-to-convert-number-to-words-in-java\">How to convert number to words in java</a>"},{"owner":{"account_id":3068449,"reputation":2571,"user_id":2599657,"accept_rate":60,"display_name":"sashok_bg"},"score":1,"creation_date":1678974602,"post_id":75756507,"comment_id":133639638,"body_markdown":"Use unit tests .. start as early as possible in your career you will not regret it !","body":"Use unit tests .. start as early as possible in your career you will not regret it !"}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678973781,"creation_date":1678973781,"answer_id":75757033,"question_id":75756507,"body_markdown":"There are a few problems with the code that must be fixed: \r\n\r\nHere&#39;s the corrected code:\r\n\r\n    public class NumberToWords {\r\n        public static String intToWords(int num) {\r\n            String ones [] = {&quot;&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;, &quot;twelve&quot;, &quot;thirteen&quot;, &quot;fourteen&quot;, &quot;fifteen&quot;, &quot;sixteen&quot;, &quot;seventeen&quot;, &quot;eighteen&quot;, &quot;nineteen&quot;};\r\n            String tens [] = {&quot;&quot;, &quot;&quot;, &quot;twenty&quot;, &quot;thirty&quot;, &quot;forty&quot;, &quot;fifty&quot;, &quot;sixty&quot;, &quot;seventy&quot;, &quot;eighty&quot;, &quot;ninety&quot;};\r\n            String words = &quot;&quot;;\r\n            \r\n            \r\n            if (num == 0) {\r\n                return &quot;zero&quot;;\r\n            } else if (num &gt;= 100) {\r\n                words += ones[num / 100] + &quot; hundred &quot;;\r\n                if (num % 100 != 0) {\r\n                    words += &quot;and &quot;;\r\n                    if (num % 100 &lt; 20) {\r\n                        words += ones[num % 100];\r\n                    } else {\r\n                        words += tens[(num % 100) / 10] + &quot; &quot; + ones[num % 10];\r\n                    }\r\n                }\r\n            } else if (num &gt;= 20 &amp;&amp; num &lt;= 99) {\r\n                words += tens[num / 10] + &quot; &quot; + ones[num % 10];\r\n            } else if (num &lt; 20) {\r\n                words += ones[num];\r\n            }\r\n            return words.trim();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int num;\r\n            System.out.print(&quot;Enter a number between 0-999, or -1 to exit: &quot;);\r\n            Scanner scanner=new Scanner(System.in);\r\n            while ((num = scanner.nextInt()) != -1) {\r\n                String words = intToWords(num);\r\n                System.out.println(&quot;In Words: &quot; + words);\r\n                System.out.print(&quot;Enter a number between 0-999, or -1 to exit:&quot;);\r\n            }\r\n            scanner.close();\r\n        }\r\n    }","title":"I can never get my java program that takes ints and spits out their representations in word formats to work","body":"<p>There are a few problems with the code that must be fixed:</p>\n<p>Here's the corrected code:</p>\n<pre><code>public class NumberToWords {\n    public static String intToWords(int num) {\n        String ones [] = {&quot;&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;, &quot;twelve&quot;, &quot;thirteen&quot;, &quot;fourteen&quot;, &quot;fifteen&quot;, &quot;sixteen&quot;, &quot;seventeen&quot;, &quot;eighteen&quot;, &quot;nineteen&quot;};\n        String tens [] = {&quot;&quot;, &quot;&quot;, &quot;twenty&quot;, &quot;thirty&quot;, &quot;forty&quot;, &quot;fifty&quot;, &quot;sixty&quot;, &quot;seventy&quot;, &quot;eighty&quot;, &quot;ninety&quot;};\n        String words = &quot;&quot;;\n        \n        \n        if (num == 0) {\n            return &quot;zero&quot;;\n        } else if (num &gt;= 100) {\n            words += ones[num / 100] + &quot; hundred &quot;;\n            if (num % 100 != 0) {\n                words += &quot;and &quot;;\n                if (num % 100 &lt; 20) {\n                    words += ones[num % 100];\n                } else {\n                    words += tens[(num % 100) / 10] + &quot; &quot; + ones[num % 10];\n                }\n            }\n        } else if (num &gt;= 20 &amp;&amp; num &lt;= 99) {\n            words += tens[num / 10] + &quot; &quot; + ones[num % 10];\n        } else if (num &lt; 20) {\n            words += ones[num];\n        }\n        return words.trim();\n    }\n\n    public static void main(String[] args) {\n        int num;\n        System.out.print(&quot;Enter a number between 0-999, or -1 to exit: &quot;);\n        Scanner scanner=new Scanner(System.in);\n        while ((num = scanner.nextInt()) != -1) {\n            String words = intToWords(num);\n            System.out.println(&quot;In Words: &quot; + words);\n            System.out.print(&quot;Enter a number between 0-999, or -1 to exit:&quot;);\n        }\n        scanner.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22766965,"reputation":11,"user_id":16924865,"display_name":"FatherFabian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75757033,"answer_count":1,"score":0,"last_activity_date":1678973781,"creation_date":1678970978,"question_id":75756507,"body_markdown":"```\r\npublic class NumberToWords {\r\n    public static String intToWords(int num) {\r\n        String ones [] = {&quot;&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;, &quot;twelve&quot;, &quot;thirteen&quot;, &quot;fourteen&quot;, &quot;fifteen&quot;, &quot;sixteen&quot;, &quot;seventeen&quot;, &quot;eighteen&quot;, &quot;nineteen&quot;};\r\n        String tens [] = {&quot;&quot;, &quot;&quot;, &quot;twenty&quot;, &quot;thirty&quot;, &quot;fourty&quot;, &quot;fifty&quot;, &quot;sixty&quot;, &quot;seventy&quot;, &quot;eighty&quot;, &quot;ninety&quot;};\r\n        String words = &quot;&quot;;\r\n        \r\n        \r\n        if (num == 0) {\r\n          return &quot;zero&quot;;\r\n        }\r\n        else if (num &gt;= 100) { // 112 one hundred and \r\n          words += ones[num / 100] + &quot; &quot; + &quot;hundred &quot;;\r\n          if (num % 10 != 0) {\r\n            words += &quot;and &quot; + tens[(num % 100)/10]; /* + &quot; &quot; + ones[num % 10];*/\r\n            if (num % 100 &lt; 19 &amp;&amp; num % 10 &lt; 9) {\r\n              words += &quot; &quot; + ones[num % 10];\r\n              if (num % 10 == 0){\r\n                words += tens[(num % 100) / 10]; //AROUND THIS AREA IS WHERE THE PROBLEM OCCURS\r\n              }\r\n              // if (num % 100 &gt; 9) {\r\n              //   words += ones[(num % 100)];\r\n              // }\r\n              }\r\n            }\r\n          }\r\n        // else if (num &gt;= 100) {\r\n          \r\n        // } \r\n        else if (num &gt; 20 &amp;&amp; num &lt;= 99) {\r\n           words += tens[num /10] + &quot; &quot; + ones[num %= 10];\r\n        }\r\n        else if (num &lt; 20) {\r\n          words += ones[num];\r\n        }\r\n        return words.trim();\r\n    }\r\n    // public static String intToRoman(int num) {\r\n    //    //Write your code here \r\n    //   String [] ones = {&quot;I&quot;, &quot;II&quot;, &quot;III&quot; &quot;IV&quot; &quot;V&quot;, &quot;VI&quot;, &quot;VII&quot;, &quot;VIII&quot; &quot;IX&quot;}\r\n    //   String [] tens = {&quot;X&quot;, &quot;XX&quot;, &quot;XXX&quot;, &quot;XXX&quot;, &quot;XL&quot;, &quot;L&quot;, &quot;LX&quot;, &quot;LXX&quot;, &quot;LXXX&quot;, &quot;LC&quot;, &quot;C&quot;}\r\n    //   // char [] r = {&#39;I&#39;, &#39;V&#39;, &#39;X&#39;, }\r\n    // }\r\n\r\n    public static void main(String[] args) {\r\n\t\t//Write your code here \r\n      int num;\r\n      // do {\r\n      System.out.print(&quot;Enter a number between 0-999, or -1 to exit: &quot;);\r\n        while ((num = In.nextInt()) != -1){\r\n          String words = intToWords(num);\r\n          System.out.println(&quot;In Words: &quot;+words);\r\n                    System.out.print(&quot;Enter a number between 0-999, or -1 to exit:&quot;);\r\n        }\r\n\r\n      // }while (true);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI always am only able to get either the hundreds such as &#39;378&#39; or &#39;555&#39; to work but never this AND the hundred teens such as &#39;112&#39; or &#39;211&#39; These print &quot;one hundred and two&quot; and two hundred and one respectively if they don&#39;t fail all together with a outside of length error. Edit: Also test case such as 366 or 244 doesn&#39;t output properly.","title":"I can never get my java program that takes ints and spits out their representations in word formats to work","body":"<pre><code>public class NumberToWords {\n    public static String intToWords(int num) {\n        String ones [] = {&quot;&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;, &quot;twelve&quot;, &quot;thirteen&quot;, &quot;fourteen&quot;, &quot;fifteen&quot;, &quot;sixteen&quot;, &quot;seventeen&quot;, &quot;eighteen&quot;, &quot;nineteen&quot;};\n        String tens [] = {&quot;&quot;, &quot;&quot;, &quot;twenty&quot;, &quot;thirty&quot;, &quot;fourty&quot;, &quot;fifty&quot;, &quot;sixty&quot;, &quot;seventy&quot;, &quot;eighty&quot;, &quot;ninety&quot;};\n        String words = &quot;&quot;;\n        \n        \n        if (num == 0) {\n          return &quot;zero&quot;;\n        }\n        else if (num &gt;= 100) { // 112 one hundred and \n          words += ones[num / 100] + &quot; &quot; + &quot;hundred &quot;;\n          if (num % 10 != 0) {\n            words += &quot;and &quot; + tens[(num % 100)/10]; /* + &quot; &quot; + ones[num % 10];*/\n            if (num % 100 &lt; 19 &amp;&amp; num % 10 &lt; 9) {\n              words += &quot; &quot; + ones[num % 10];\n              if (num % 10 == 0){\n                words += tens[(num % 100) / 10]; //AROUND THIS AREA IS WHERE THE PROBLEM OCCURS\n              }\n              // if (num % 100 &gt; 9) {\n              //   words += ones[(num % 100)];\n              // }\n              }\n            }\n          }\n        // else if (num &gt;= 100) {\n          \n        // } \n        else if (num &gt; 20 &amp;&amp; num &lt;= 99) {\n           words += tens[num /10] + &quot; &quot; + ones[num %= 10];\n        }\n        else if (num &lt; 20) {\n          words += ones[num];\n        }\n        return words.trim();\n    }\n    // public static String intToRoman(int num) {\n    //    //Write your code here \n    //   String [] ones = {&quot;I&quot;, &quot;II&quot;, &quot;III&quot; &quot;IV&quot; &quot;V&quot;, &quot;VI&quot;, &quot;VII&quot;, &quot;VIII&quot; &quot;IX&quot;}\n    //   String [] tens = {&quot;X&quot;, &quot;XX&quot;, &quot;XXX&quot;, &quot;XXX&quot;, &quot;XL&quot;, &quot;L&quot;, &quot;LX&quot;, &quot;LXX&quot;, &quot;LXXX&quot;, &quot;LC&quot;, &quot;C&quot;}\n    //   // char [] r = {'I', 'V', 'X', }\n    // }\n\n    public static void main(String[] args) {\n        //Write your code here \n      int num;\n      // do {\n      System.out.print(&quot;Enter a number between 0-999, or -1 to exit: &quot;);\n        while ((num = In.nextInt()) != -1){\n          String words = intToWords(num);\n          System.out.println(&quot;In Words: &quot;+words);\n                    System.out.print(&quot;Enter a number between 0-999, or -1 to exit:&quot;);\n        }\n\n      // }while (true);\n    }\n}\n</code></pre>\n<p>I always am only able to get either the hundreds such as '378' or '555' to work but never this AND the hundred teens such as '112' or '211' These print &quot;one hundred and two&quot; and two hundred and one respectively if they don't fail all together with a outside of length error. Edit: Also test case such as 366 or 244 doesn't output properly.</p>\n"},{"tags":["java","android","in-app-update"],"comments":[{"owner":{"account_id":11524089,"reputation":161,"user_id":8445079,"display_name":"Paolino L Angeletti"},"score":0,"creation_date":1678978177,"post_id":75757019,"comment_id":133640862,"body_markdown":"the arrow function are called lambda expressions, and if the flow don&#39;t access the successListener, you have to set the failureListener and check if some error occurs.","body":"the arrow function are called lambda expressions, and if the flow don&#39;t access the successListener, you have to set the failureListener and check if some error occurs."}],"owner":{"account_id":12244530,"reputation":2176,"user_id":8936551,"accept_rate":20,"display_name":"sejn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678973715,"creation_date":1678973715,"question_id":75757019,"body_markdown":"I have followed the in-app update of android to check the in-app update [prompt][1]. But it failed to show the prompt in some apps. I have noticed that the while debugging the debugger not entered into the arrow function for some of the apps(multiple apps in its build variants) \r\n\r\n    Task&lt;AppUpdateInfo&gt; appUpdateInfoTask = appUpdateManager.getAppUpdateInfo();\r\n            Log.i(TAG_UPDATE_PROMPT , &quot;App update availablity &quot;);\r\n            appUpdateInfoTask.addOnSuccessListener(appUpdateInfo -&gt; {\r\n                Log.i(TAG_UPDATE_PROMPT , &quot;App update availablity1111 &quot;);\r\n                if (appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE\r\n                        &amp;&amp; appUpdateInfo.isUpdateTypeAllowed(AppUpdateType.FLEXIBLE)) {\r\n                    startUpdateFlow(appUpdateInfo);\r\n                } else if (appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_NOT_AVAILABLE) {\r\n                    Log.i(TAG_UPDATE_PROMPT + &quot;Already updated&quot;, String.valueOf(appUpdateInfo.updateAvailability()));\r\n                } else if (appUpdateInfo.installStatus() == InstallStatus.DOWNLOADED) {\r\n                    popupSnackBarForCompleteUpdate();\r\n                } else {\r\n                    Log.i(TAG_UPDATE_PROMPT + &quot;Unable to process update availability &quot;, String.valueOf(appUpdateInfo.updateAvailability()));\r\n                }\r\n            });\r\n\r\n\r\n  [1]: https://developer.android.com/guide/playcore/in-app-updates","title":"Android AppUpdate not working properly with arrow function","body":"<p>I have followed the in-app update of android to check the in-app update <a href=\"https://developer.android.com/guide/playcore/in-app-updates\" rel=\"nofollow noreferrer\">prompt</a>. But it failed to show the prompt in some apps. I have noticed that the while debugging the debugger not entered into the arrow function for some of the apps(multiple apps in its build variants)</p>\n<pre><code>Task&lt;AppUpdateInfo&gt; appUpdateInfoTask = appUpdateManager.getAppUpdateInfo();\n        Log.i(TAG_UPDATE_PROMPT , &quot;App update availablity &quot;);\n        appUpdateInfoTask.addOnSuccessListener(appUpdateInfo -&gt; {\n            Log.i(TAG_UPDATE_PROMPT , &quot;App update availablity1111 &quot;);\n            if (appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE\n                    &amp;&amp; appUpdateInfo.isUpdateTypeAllowed(AppUpdateType.FLEXIBLE)) {\n                startUpdateFlow(appUpdateInfo);\n            } else if (appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_NOT_AVAILABLE) {\n                Log.i(TAG_UPDATE_PROMPT + &quot;Already updated&quot;, String.valueOf(appUpdateInfo.updateAvailability()));\n            } else if (appUpdateInfo.installStatus() == InstallStatus.DOWNLOADED) {\n                popupSnackBarForCompleteUpdate();\n            } else {\n                Log.i(TAG_UPDATE_PROMPT + &quot;Unable to process update availability &quot;, String.valueOf(appUpdateInfo.updateAvailability()));\n            }\n        });\n</code></pre>\n"},{"tags":["java","maven","gluon","gluon-mobile","gluonfx"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1678809432,"post_id":75734583,"comment_id":133603585,"body_markdown":"Have you tried using command line options, like: `mvn -Pandroid -Dhttp.proxyHost=&lt;host&gt; -Dhttp.proxyPort=&lt;port&gt; -Dhttps.proxyHost=&lt;host&gt; -Dhttps.proxyPort=&lt;port&gt; gluonfx:build...`?","body":"Have you tried using command line options, like: <code>mvn -Pandroid -Dhttp.proxyHost=&lt;host&gt; -Dhttp.proxyPort=&lt;port&gt; -Dhttps.proxyHost=&lt;host&gt; -Dhttps.proxyPort=&lt;port&gt; gluonfx:build...</code>?"},{"owner":{"account_id":11058050,"reputation":1,"user_id":8120338,"display_name":"Julian Pfeiffer"},"score":0,"creation_date":1678973641,"post_id":75734583,"comment_id":133639311,"body_markdown":"This did only solve one problem, now the next one occured, I edited the main question and added the errors","body":"This did only solve one problem, now the next one occured, I edited the main question and added the errors"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1678986474,"post_id":75734583,"comment_id":133643524,"body_markdown":"Right, as you can see from the log, the java command line doesn&#39;t include the proxy options of the maven command line. You might want to try `JAVA_TOOL_OPTIONS` as in [here](https://stackoverflow.com/a/32511851/3956070)?","body":"Right, as you can see from the log, the java command line doesn&#39;t include the proxy options of the maven command line. You might want to try <code>JAVA_TOOL_OPTIONS</code> as in <a href=\"https://stackoverflow.com/a/32511851/3956070\">here</a>?"},{"owner":{"account_id":11058050,"reputation":1,"user_id":8120338,"display_name":"Julian Pfeiffer"},"score":0,"creation_date":1679038104,"post_id":75734583,"comment_id":133652352,"body_markdown":"This would maybe work, but unfortunately with the java options env variable set, gluon cannot determine the graalvm version, cause in the class InternalProjectConfiguration.java the method getGraalVMJavaVersion tries to read the version in the first line of the output of the command &quot;java -version&quot;. But the first line is now &quot;Picked up JAVA_TOOL_OPTIONS: ...&quot;","body":"This would maybe work, but unfortunately with the java options env variable set, gluon cannot determine the graalvm version, cause in the class InternalProjectConfiguration.java the method getGraalVMJavaVersion tries to read the version in the first line of the output of the command &quot;java -version&quot;. But the first line is now &quot;Picked up JAVA_TOOL_OPTIONS: ...&quot;"},{"owner":{"account_id":11058050,"reputation":1,"user_id":8120338,"display_name":"Julian Pfeiffer"},"score":0,"creation_date":1679041547,"post_id":75734583,"comment_id":133653142,"body_markdown":"Even if i try to execute the command mentioned in the log file with the proxy options added, it fails, maybe the SdkManagerCli needs some additional proxy configuration","body":"Even if i try to execute the command mentioned in the log file with the proxy options added, it fails, maybe the SdkManagerCli needs some additional proxy configuration"},{"owner":{"account_id":11058050,"reputation":1,"user_id":8120338,"display_name":"Julian Pfeiffer"},"score":0,"creation_date":1679042383,"post_id":75734583,"comment_id":133653331,"body_markdown":"Obviously the android sdk manager needs the proxy configured manually: https://stackoverflow.com/questions/42296708/how-to-set-proxy-for-android-sdk-manager\nBut using thiy way, i need to execute the command by hand","body":"Obviously the android sdk manager needs the proxy configured manually: <a href=\"https://stackoverflow.com/questions/42296708/how-to-set-proxy-for-android-sdk-manager\" title=\"how to set proxy for android sdk manager\">stackoverflow.com/questions/42296708/&hellip;</a> But using thiy way, i need to execute the command by hand"}],"owner":{"account_id":11058050,"reputation":1,"user_id":8120338,"display_name":"Julian Pfeiffer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678973600,"creation_date":1678804648,"question_id":75734583,"body_markdown":"I&#39;m trying to build the GluonFX example project &quot;HelloFX&quot; as mentioned here: [https://docs.gluonhq.com/#platforms_android](https://docs.gluonhq.com/#platforms_android) under section 5.4.4.\r\n\r\nThe main problem is, my computer runs behind a corporate proxy and however the gluonfx build script does not use the system proxy, because after downloading all maven dependencies the build fails.\r\n\r\nThe command I&#39;m using is `mvn -Pandroid gluonfx:compile`.\r\n\r\nOutput:\r\n```\r\njulian@debian:~/Downloads/gluon-samples-master/HelloFX$ mvn -Pandroid gluonfx:compile\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] --------------------&lt; com.gluonhq.samples:hellofx &gt;---------------------\r\n[INFO] Building HelloFX 1.0.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] &gt;&gt;&gt; gluonfx-maven-plugin:1.0.16:compile (default-cli) &gt; process-classes @ hellofx &gt;&gt;&gt;\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hellofx ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 2 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ hellofx ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] \r\n[INFO] &lt;&lt;&lt; gluonfx-maven-plugin:1.0.16:compile (default-cli) &lt; process-classes @ hellofx &lt;&lt;&lt;\r\n[INFO] \r\n[INFO] \r\n[INFO] --- gluonfx-maven-plugin:1.0.16:compile (default-cli) @ hellofx ---\r\nM&#228;rz 14, 2023 2:58:46 PM com.gluonhq.substrate.util.Logger logInfo\r\nINFORMATION: Substrate is tested with the Gluon&#39;s GraalVM build which you can find at https://github.com/gluonhq/graal/releases.\r\nWhile you can still use other GraalVM builds, there is no guarantee that these will work properly with Substrate\r\nM&#228;rz 14, 2023 2:58:46 PM com.gluonhq.substrate.util.Logger logInfo\r\nINFORMATION: ANDROID_SDK not found and will be downloaded.\r\nM&#228;rz 14, 2023 2:58:46 PM com.gluonhq.substrate.util.Logger logInfo\r\nINFORMATION: ANDROID_NDK not found and will be downloaded.\r\nM&#228;rz 14, 2023 2:58:46 PM com.gluonhq.substrate.util.Logger logInfo\r\nINFORMATION: sysroot path not found and will be downloaded.\r\nM&#228;rz 14, 2023 2:58:46 PM com.gluonhq.substrate.util.Logger logInfo\r\nINFORMATION: Downloading Java Static Libs...\r\nM&#228;rz 14, 2023 2:58:47 PM com.gluonhq.substrate.util.Logger logSevere\r\nSCHWERWIEGEND: Downloading failed: download2.gluonhq.com\r\nCheck the log files under null\r\nAnd please check https://docs.gluonhq.com/ for more information.\r\n\r\njava.lang.RuntimeException: Error downloading zips: Error: /home/julian/.gluon/substrate/staticjdk-android-aarch64-gvm-18-ea+prep18-8.zip does not exist\r\n\tat com.gluonhq.substrate.util.FileDeps.setupDependencies(FileDeps.java:350)\r\n\tat com.gluonhq.substrate.util.FileDeps.resolvePath(FileDeps.java:181)\r\n\tat com.gluonhq.substrate.util.FileDeps.getAndroidSDKPath(FileDeps.java:125)\r\n\tat com.gluonhq.substrate.target.AndroidTargetConfiguration.&lt;init&gt;(AndroidTargetConfiguration.java:101)\r\n\tat com.gluonhq.substrate.SubstrateDispatcher.getTargetConfiguration(SubstrateDispatcher.java:402)\r\n\tat com.gluonhq.substrate.SubstrateDispatcher.&lt;init&gt;(SubstrateDispatcher.java:387)\r\n\tat com.gluonhq.NativeBaseMojo.createSubstrateDispatcher(NativeBaseMojo.java:159)\r\n\tat com.gluonhq.NativeCompileMojo.execute(NativeCompileMojo.java:53)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  10.129 s\r\n[INFO] Finished at: 2023-03-14T14:58:47+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.gluonhq:gluonfx-maven-plugin:1.0.16:compile (default-cli) on project hellofx: Error: Error downloading zips: Error: /home/julian/.gluon/substrate/staticjdk-android-aarch64-gvm-18-ea+prep18-8.zip does not exist -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nThe proxy is configured in settings.xml as well as in the environment variables HTTP_PROXY and HTTPS_PROXY.\r\nI&#39;m running Debian in a VM on Windows 10 and I&#39;m using CNTLM to provide proxy authentification.\r\n\r\nJava Version 17\r\nGraalVM Version 17\r\nDebian 11.6\r\n\r\nHow can i configure a proxy for the GluonFX Maven Plugin?\r\n\r\n------------------------------------------------------\r\nEDIT:\r\nI solved the first problem by using the options -Dhttp.proxyHost -Dhttp.proxyPort -Dhttps.proxyHost and -Dhttps.proxyPort\r\n\r\nNow the next problem regarding the network connection occurs whilst fetching the Android toolchains:\r\n\r\n```\r\nINFORMATION: Downloading Android toolchain. It may take several minutes depending on your bandwidth.\r\nM&#228;rz 16, 2023 2:15:58 PM com.gluonhq.substrate.util.Logger logSevere\r\nSCHWERWIEGEND: Process sdkmanager failed with result: 1\r\nCheck the log files under null\r\nAnd please check https://docs.gluonhq.com/ for more information.\r\nM&#228;rz 16, 2023 2:15:58 PM com.gluonhq.substrate.util.Logger logInfo\r\nINFORMATION: Logging process [sdkmanager] to file: /home/julian/Downloads/gluon-samples-master/HelloFX/target/gluonfx/log/process-sdkmanager-1678972558372.log\r\n..\r\njava.lang.RuntimeException: Error downloading zips: Could not run the Android sdk manager\r\n\tat com.gluonhq.substrate.util.FileDeps.setupDependencies(FileDeps.java:350)\r\n\tat com.gluonhq.substrate.util.FileDeps.resolvePath(FileDeps.java:181)\r\n\tat com.gluonhq.substrate.util.FileDeps.getAndroidNDKPath(FileDeps.java:136)\r\n\tat com.gluonhq.substrate.target.AndroidTargetConfiguration.&lt;init&gt;(AndroidTargetConfiguration.java:102)\r\n\tat com.gluonhq.substrate.SubstrateDispatcher.getTargetConfiguration(SubstrateDispatcher.java:402)\r\n\tat com.gluonhq.substrate.SubstrateDispatcher.&lt;init&gt;(SubstrateDispatcher.java:387)\r\n\tat com.gluonhq.NativeBaseMojo.createSubstrateDispatcher(NativeBaseMojo.java:159)\r\n\tat com.gluonhq.NativeCompileMojo.execute(NativeCompileMojo.java:53)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  4.067 s\r\n[INFO] Finished at: 2023-03-16T14:15:58+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n[ERROR] Failed to execute goal com.gluonhq:gluonfx-maven-plugin:1.0.16:compile (default-cli) on project hellofx: Error: Error downloading zips: Could not run the Android sdk manager -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  7.746 s\r\n[INFO] Finished at: 2023-03-16T14:15:58+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.gluonhq:gluonfx-maven-plugin:1.0.16:build (default-cli) on project hellofx: Error, gluonfx:build failed -&gt; [Help 1]\r\n```\r\n\r\nThe log file:\r\n```\r\nProcess\r\n=======\r\nsdkmanager\r\n\r\nCommand Line\r\n============\r\n/home/julian/Downloads/graalvm-svm-java17-linux-gluon-22.1.0.1-Final/bin/java -Dcom.android.sdklib.toolsdir=/home/julian/.gluon/substrate/Android/tools --illegal-access=permit -classpath /home/julian/.gluon/substrate/Android/tools/lib/*:/home/julian/.gluon/substrate/Android/tools/lib/java11/* com.android.sdklib.tool.sdkmanager.SdkManagerCli platforms;android-31 build-tools;31.0.0 platform-tools extras;android;m2repository extras;google;m2repository ndk-bundle\r\n\r\nOutput\r\n======\r\nOpenJDK 64-Bit Server VM warning: Ignoring option --illegal-access=permit; support was removed in 17.0\r\nLoading package information...                                                  \r\nLoading local repository...                                                     \r\n[                                       ] 3% Loading local repository...        \r\n[                                       ] 3% Fetch remote repository...         \r\n[                                       ] 3% Fetch remote repository...         \r\n                                                                                \r\nWarning: Failed to connect to host: https://dl.google.com/android/repository/addons_list-3.xml\r\n[                                       ] 3% Fetch remote repository...         \r\n[=                                      ] 3% Fetch remote repository...         \r\n                                                                                \r\nWarning: Failed to connect to host: https://dl.google.com/android/repository/addons_list-2.xml\r\n[=                                      ] 3% Fetch remote repository...         \r\n[=                                      ] 3% Fetch remote repository...         \r\n                                                                                \r\nWarning: Failed to connect to host: https://dl.google.com/android/repository/addons_list-1.xml\r\n[=                                      ] 3% Fetch remote repository...         \r\n[=                                      ] 3% Fetch remote repository...         \r\n                                                                                \r\nWarning: Failed to download any source lists!\r\n[=                                      ] 3% Fetch remote repository...         \r\n                                                                                \r\nWarning: File /home/julian/.android/repositories.cfg could not be loaded.\r\n[=                                      ] 3% Fetch remote repository...         \r\n                                                                                \r\nWarning: java.net.UnknownHostException: dl.google.com\r\n[=                                      ] 3% Fetch remote repository...         \r\n[=                                      ] 3% Computing updates...               \r\n[===                                    ] 8% Computing updates...               \r\n[===                                    ] 8% Computing updates...               \r\n[===                                    ] 10% Computing updates...              \r\n                                                                                \r\nWarning: Failed to find package platforms;android-31\r\n[===                                    ] 10% Computing updates...              \r\n\r\n\r\nResult\r\n======\r\n```","title":"Use GluonFX mobile behind a corporate proxy","body":"<p>I'm trying to build the GluonFX example project &quot;HelloFX&quot; as mentioned here: <a href=\"https://docs.gluonhq.com/#platforms_android\" rel=\"nofollow noreferrer\">https://docs.gluonhq.com/#platforms_android</a> under section 5.4.4.</p>\n<p>The main problem is, my computer runs behind a corporate proxy and however the gluonfx build script does not use the system proxy, because after downloading all maven dependencies the build fails.</p>\n<p>The command I'm using is <code>mvn -Pandroid gluonfx:compile</code>.</p>\n<p>Output:</p>\n<pre><code>julian@debian:~/Downloads/gluon-samples-master/HelloFX$ mvn -Pandroid gluonfx:compile\n[INFO] Scanning for projects...\n[INFO] \n[INFO] --------------------&lt; com.gluonhq.samples:hellofx &gt;---------------------\n[INFO] Building HelloFX 1.0.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] &gt;&gt;&gt; gluonfx-maven-plugin:1.0.16:compile (default-cli) &gt; process-classes @ hellofx &gt;&gt;&gt;\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hellofx ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 2 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ hellofx ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] &lt;&lt;&lt; gluonfx-maven-plugin:1.0.16:compile (default-cli) &lt; process-classes @ hellofx &lt;&lt;&lt;\n[INFO] \n[INFO] \n[INFO] --- gluonfx-maven-plugin:1.0.16:compile (default-cli) @ hellofx ---\nMärz 14, 2023 2:58:46 PM com.gluonhq.substrate.util.Logger logInfo\nINFORMATION: Substrate is tested with the Gluon's GraalVM build which you can find at https://github.com/gluonhq/graal/releases.\nWhile you can still use other GraalVM builds, there is no guarantee that these will work properly with Substrate\nMärz 14, 2023 2:58:46 PM com.gluonhq.substrate.util.Logger logInfo\nINFORMATION: ANDROID_SDK not found and will be downloaded.\nMärz 14, 2023 2:58:46 PM com.gluonhq.substrate.util.Logger logInfo\nINFORMATION: ANDROID_NDK not found and will be downloaded.\nMärz 14, 2023 2:58:46 PM com.gluonhq.substrate.util.Logger logInfo\nINFORMATION: sysroot path not found and will be downloaded.\nMärz 14, 2023 2:58:46 PM com.gluonhq.substrate.util.Logger logInfo\nINFORMATION: Downloading Java Static Libs...\nMärz 14, 2023 2:58:47 PM com.gluonhq.substrate.util.Logger logSevere\nSCHWERWIEGEND: Downloading failed: download2.gluonhq.com\nCheck the log files under null\nAnd please check https://docs.gluonhq.com/ for more information.\n\njava.lang.RuntimeException: Error downloading zips: Error: /home/julian/.gluon/substrate/staticjdk-android-aarch64-gvm-18-ea+prep18-8.zip does not exist\n    at com.gluonhq.substrate.util.FileDeps.setupDependencies(FileDeps.java:350)\n    at com.gluonhq.substrate.util.FileDeps.resolvePath(FileDeps.java:181)\n    at com.gluonhq.substrate.util.FileDeps.getAndroidSDKPath(FileDeps.java:125)\n    at com.gluonhq.substrate.target.AndroidTargetConfiguration.&lt;init&gt;(AndroidTargetConfiguration.java:101)\n    at com.gluonhq.substrate.SubstrateDispatcher.getTargetConfiguration(SubstrateDispatcher.java:402)\n    at com.gluonhq.substrate.SubstrateDispatcher.&lt;init&gt;(SubstrateDispatcher.java:387)\n    at com.gluonhq.NativeBaseMojo.createSubstrateDispatcher(NativeBaseMojo.java:159)\n    at com.gluonhq.NativeCompileMojo.execute(NativeCompileMojo.java:53)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  10.129 s\n[INFO] Finished at: 2023-03-14T14:58:47+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.gluonhq:gluonfx-maven-plugin:1.0.16:compile (default-cli) on project hellofx: Error: Error downloading zips: Error: /home/julian/.gluon/substrate/staticjdk-android-aarch64-gvm-18-ea+prep18-8.zip does not exist -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>The proxy is configured in settings.xml as well as in the environment variables HTTP_PROXY and HTTPS_PROXY.\nI'm running Debian in a VM on Windows 10 and I'm using CNTLM to provide proxy authentification.</p>\n<p>Java Version 17\nGraalVM Version 17\nDebian 11.6</p>\n<p>How can i configure a proxy for the GluonFX Maven Plugin?</p>\n<hr />\n<p>EDIT:\nI solved the first problem by using the options -Dhttp.proxyHost -Dhttp.proxyPort -Dhttps.proxyHost and -Dhttps.proxyPort</p>\n<p>Now the next problem regarding the network connection occurs whilst fetching the Android toolchains:</p>\n<pre><code>INFORMATION: Downloading Android toolchain. It may take several minutes depending on your bandwidth.\nMärz 16, 2023 2:15:58 PM com.gluonhq.substrate.util.Logger logSevere\nSCHWERWIEGEND: Process sdkmanager failed with result: 1\nCheck the log files under null\nAnd please check https://docs.gluonhq.com/ for more information.\nMärz 16, 2023 2:15:58 PM com.gluonhq.substrate.util.Logger logInfo\nINFORMATION: Logging process [sdkmanager] to file: /home/julian/Downloads/gluon-samples-master/HelloFX/target/gluonfx/log/process-sdkmanager-1678972558372.log\n..\njava.lang.RuntimeException: Error downloading zips: Could not run the Android sdk manager\n    at com.gluonhq.substrate.util.FileDeps.setupDependencies(FileDeps.java:350)\n    at com.gluonhq.substrate.util.FileDeps.resolvePath(FileDeps.java:181)\n    at com.gluonhq.substrate.util.FileDeps.getAndroidNDKPath(FileDeps.java:136)\n    at com.gluonhq.substrate.target.AndroidTargetConfiguration.&lt;init&gt;(AndroidTargetConfiguration.java:102)\n    at com.gluonhq.substrate.SubstrateDispatcher.getTargetConfiguration(SubstrateDispatcher.java:402)\n    at com.gluonhq.substrate.SubstrateDispatcher.&lt;init&gt;(SubstrateDispatcher.java:387)\n    at com.gluonhq.NativeBaseMojo.createSubstrateDispatcher(NativeBaseMojo.java:159)\n    at com.gluonhq.NativeCompileMojo.execute(NativeCompileMojo.java:53)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.067 s\n[INFO] Finished at: 2023-03-16T14:15:58+01:00\n[INFO] ------------------------------------------------------------------------\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[ERROR] Failed to execute goal com.gluonhq:gluonfx-maven-plugin:1.0.16:compile (default-cli) on project hellofx: Error: Error downloading zips: Could not run the Android sdk manager -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  7.746 s\n[INFO] Finished at: 2023-03-16T14:15:58+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.gluonhq:gluonfx-maven-plugin:1.0.16:build (default-cli) on project hellofx: Error, gluonfx:build failed -&gt; [Help 1]\n</code></pre>\n<p>The log file:</p>\n<pre><code>Process\n=======\nsdkmanager\n\nCommand Line\n============\n/home/julian/Downloads/graalvm-svm-java17-linux-gluon-22.1.0.1-Final/bin/java -Dcom.android.sdklib.toolsdir=/home/julian/.gluon/substrate/Android/tools --illegal-access=permit -classpath /home/julian/.gluon/substrate/Android/tools/lib/*:/home/julian/.gluon/substrate/Android/tools/lib/java11/* com.android.sdklib.tool.sdkmanager.SdkManagerCli platforms;android-31 build-tools;31.0.0 platform-tools extras;android;m2repository extras;google;m2repository ndk-bundle\n\nOutput\n======\nOpenJDK 64-Bit Server VM warning: Ignoring option --illegal-access=permit; support was removed in 17.0\nLoading package information...                                                  \nLoading local repository...                                                     \n[                                       ] 3% Loading local repository...        \n[                                       ] 3% Fetch remote repository...         \n[                                       ] 3% Fetch remote repository...         \n                                                                                \nWarning: Failed to connect to host: https://dl.google.com/android/repository/addons_list-3.xml\n[                                       ] 3% Fetch remote repository...         \n[=                                      ] 3% Fetch remote repository...         \n                                                                                \nWarning: Failed to connect to host: https://dl.google.com/android/repository/addons_list-2.xml\n[=                                      ] 3% Fetch remote repository...         \n[=                                      ] 3% Fetch remote repository...         \n                                                                                \nWarning: Failed to connect to host: https://dl.google.com/android/repository/addons_list-1.xml\n[=                                      ] 3% Fetch remote repository...         \n[=                                      ] 3% Fetch remote repository...         \n                                                                                \nWarning: Failed to download any source lists!\n[=                                      ] 3% Fetch remote repository...         \n                                                                                \nWarning: File /home/julian/.android/repositories.cfg could not be loaded.\n[=                                      ] 3% Fetch remote repository...         \n                                                                                \nWarning: java.net.UnknownHostException: dl.google.com\n[=                                      ] 3% Fetch remote repository...         \n[=                                      ] 3% Computing updates...               \n[===                                    ] 8% Computing updates...               \n[===                                    ] 8% Computing updates...               \n[===                                    ] 10% Computing updates...              \n                                                                                \nWarning: Failed to find package platforms;android-31\n[===                                    ] 10% Computing updates...              \n\n\nResult\n======\n</code></pre>\n"},{"tags":["java","google-api","google-drive-api"],"answers":[{"tags":[],"owner":{"account_id":17011891,"reputation":3362,"user_id":12306687,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678973421,"creation_date":1678973421,"answer_id":75756964,"question_id":75753920,"body_markdown":"You also need to change the scopes in your code. It seems that the quickstart that you got was originally for Drive Activity because it&#39;s requesting the scope `DriveActivityScopes.DRIVE_ACTIVITY_READONLY`. This only allows you to read Drive Activity information and nothing else. Since you changed the code to upload a file you have to change or add the necessary scope.\r\n\r\nYou can usually find the required scopes in the page of each API. To upload an image with [`files.create`](https://developers.google.com/drive/api/v3/reference/files/create) you can use one of the following scopes:\r\n\r\n- `https://www.googleapis.com/auth/drive`\r\n\r\n- `https://www.googleapis.com/auth/drive.file`\r\n\r\n\r\nThe `drive` scope allows you wider access, while `drive.file` only allows you to access the files that your app created. As a rule, you should only use the scopes you need for a specific action and avoid getting full access if you don&#39;t need it.\r\n\r\nYou can find the equivalent for Java in their [documentation](https://developers.google.com/resources/api-libraries/documentation/drive/v3/java/latest/com/google/api/services/drive/DriveScopes.html). All this explanation boils down to changing this line:\r\n\r\n```\r\n    private static final List&lt;String&gt; SCOPES =\r\n            Arrays.asList(DriveActivityScopes.DRIVE_ACTIVITY_READONLY);\r\n```\r\n\r\nTo this:\r\n\r\n```\r\n    private static final List&lt;String&gt; SCOPES =\r\n            Arrays.asList(DriveScopes.DRIVE_FILE);\r\n```\r\n\r\nOr this:\r\n\r\n```\r\n    private static final List&lt;String&gt; SCOPES =\r\n            Arrays.asList(DriveScopes.DRIVE);\r\n```\r\n","title":"Google Drive Java API error when trying to upload a jpg to the drive","body":"<p>You also need to change the scopes in your code. It seems that the quickstart that you got was originally for Drive Activity because it's requesting the scope <code>DriveActivityScopes.DRIVE_ACTIVITY_READONLY</code>. This only allows you to read Drive Activity information and nothing else. Since you changed the code to upload a file you have to change or add the necessary scope.</p>\n<p>You can usually find the required scopes in the page of each API. To upload an image with <a href=\"https://developers.google.com/drive/api/v3/reference/files/create\" rel=\"nofollow noreferrer\"><code>files.create</code></a> you can use one of the following scopes:</p>\n<ul>\n<li><p><code>https://www.googleapis.com/auth/drive</code></p>\n</li>\n<li><p><code>https://www.googleapis.com/auth/drive.file</code></p>\n</li>\n</ul>\n<p>The <code>drive</code> scope allows you wider access, while <code>drive.file</code> only allows you to access the files that your app created. As a rule, you should only use the scopes you need for a specific action and avoid getting full access if you don't need it.</p>\n<p>You can find the equivalent for Java in their <a href=\"https://developers.google.com/resources/api-libraries/documentation/drive/v3/java/latest/com/google/api/services/drive/DriveScopes.html\" rel=\"nofollow noreferrer\">documentation</a>. All this explanation boils down to changing this line:</p>\n<pre><code>    private static final List&lt;String&gt; SCOPES =\n            Arrays.asList(DriveActivityScopes.DRIVE_ACTIVITY_READONLY);\n</code></pre>\n<p>To this:</p>\n<pre><code>    private static final List&lt;String&gt; SCOPES =\n            Arrays.asList(DriveScopes.DRIVE_FILE);\n</code></pre>\n<p>Or this:</p>\n<pre><code>    private static final List&lt;String&gt; SCOPES =\n            Arrays.asList(DriveScopes.DRIVE);\n</code></pre>\n"}],"owner":{"account_id":18856786,"reputation":43,"user_id":13754545,"display_name":"Zoboo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678973421,"creation_date":1678957110,"question_id":75753920,"body_markdown":"I am trying to upload a file to the google drive, but I am getting some errors regarding Permissions and Scopes. I followed the tutorial, the following 2 classes were copy and pasted from the java quick start, but when I run the code it gives an error which I pasted below. When I go to authenticate, it only mentions permissions for viewing, but I made sure to select all of them in the &quot;OAuth Consent Screen&quot;. What am I missing here?\r\n\r\nMain class:\r\n```import com.google.api.client.auth.oauth2.Credential;\r\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\r\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.http.AbstractInputStreamContent;\r\nimport com.google.api.client.http.ByteArrayContent;\r\nimport com.google.api.client.http.FileContent;\r\nimport com.google.api.client.http.HttpTransport;\r\nimport com.google.api.client.json.JsonFactory;\r\nimport com.google.api.client.json.gson.GsonFactory;\r\nimport com.google.api.client.util.store.FileDataStoreFactory;\r\nimport com.google.api.services.drive.Drive;\r\nimport com.google.api.services.drive.DriveScopes;\r\nimport com.google.api.services.driveactivity.v2.DriveActivityScopes;\r\nimport com.google.api.services.driveactivity.v2.model.*;\r\nimport com.google.api.services.driveactivity.v2.model.File;\r\n\r\nimport java.io.*;\r\nimport java.nio.file.Files;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class DriveActivityQuickstart {\r\n    /**\r\n     * Application name.\r\n     */\r\n    private static final String APPLICATION_NAME = &quot;Drive Activity API Java Quickstart&quot;;\r\n\r\n    /**\r\n     * Directory to store authorization tokens for this application.\r\n     */\r\n    private static final java.io.File DATA_STORE_DIR = new java.io.File(&quot;tokens&quot;);\r\n    /**\r\n     * Global instance of the JSON factory.\r\n     */\r\n    private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n    /**\r\n     * Global instance of the scopes required by this quickstart.\r\n     *\r\n     * &lt;p&gt;If modifying these scopes, delete your previously saved tokens/ folder.\r\n     */\r\n    private static final List&lt;String&gt; SCOPES =\r\n            Arrays.asList(DriveActivityScopes.DRIVE_ACTIVITY_READONLY);\r\n    private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\r\n    /**\r\n     * Global instance of the {@link FileDataStoreFactory}.\r\n     */\r\n    private static FileDataStoreFactory DATA_STORE_FACTORY;\r\n    /**\r\n     * Global instance of the HTTP transport.\r\n     */\r\n    private static HttpTransport HTTP_TRANSPORT;\r\n\r\n    static {\r\n        try {\r\n            HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            DATA_STORE_FACTORY = new FileDataStoreFactory(DATA_STORE_DIR);\r\n        } catch (Throwable t) {\r\n            t.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Creates an authorized Credential object.\r\n     *\r\n     * @return an authorized Credential object.\r\n     * @throws IOException\r\n     */\r\n    public static Credential authorize() throws IOException {\r\n        // Load client secrets.\r\n        InputStream in = DriveActivityQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n        if (in == null) {\r\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n        }\r\n        GoogleClientSecrets clientSecrets =\r\n                GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\r\n        // Build flow and trigger user authorization request.\r\n        GoogleAuthorizationCodeFlow flow =\r\n                new GoogleAuthorizationCodeFlow.Builder(\r\n                        HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                        .setDataStoreFactory(DATA_STORE_FACTORY)\r\n                        .setAccessType(&quot;offline&quot;)\r\n                        .build();\r\n        Credential credential =\r\n                new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver())\r\n                        .authorize(&quot;user&quot;);\r\n        System.out.println(&quot;Credentials saved to &quot; + DATA_STORE_DIR.getAbsolutePath());\r\n\r\n        return credential;\r\n    }\r\n\r\n    /**\r\n     * Build and return an authorized Drive Activity client service.\r\n     *\r\n     * @return an authorized DriveActivity client service\r\n     * @throws IOException\r\n     */\r\n    public static com.google.api.services.driveactivity.v2.DriveActivity getDriveActivityService()\r\n            throws IOException {\r\n        Credential credential = authorize();\r\n        com.google.api.services.driveactivity.v2.DriveActivity service =\r\n                new com.google.api.services.driveactivity.v2.DriveActivity.Builder(\r\n                        HTTP_TRANSPORT, JSON_FACTORY, credential)\r\n                        .setApplicationName(APPLICATION_NAME)\r\n                        .build();\r\n        return service;\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        // Build a new authorized API client service.\r\n        com.google.api.services.driveactivity.v2.DriveActivity service = getDriveActivityService();\r\n\r\n        // Print the recent activity in your Google Drive.\r\n        QueryDriveActivityResponse result =\r\n                service.activity().query(new QueryDriveActivityRequest().setPageSize(10)).execute();\r\n        List&lt;DriveActivity&gt; activities = result.getActivities();\r\n        if (activities == null || activities.size() == 0) {\r\n            System.out.println(&quot;No activity.&quot;);\r\n        } else {\r\n            System.out.println(&quot;Recent activity:&quot;);\r\n            for (DriveActivity activity : activities) {\r\n                String time = getTimeInfo(activity);\r\n                String action = getActionInfo(activity.getPrimaryActionDetail());\r\n                List&lt;String&gt; actors =\r\n                        activity.getActors().stream()\r\n                                .map(DriveActivityQuickstart::getActorInfo)\r\n                                .collect(Collectors.toList());\r\n                List&lt;String&gt; targets =\r\n                        activity.getTargets().stream()\r\n                                .map(DriveActivityQuickstart::getTargetInfo)\r\n                                .collect(Collectors.toList());\r\n                System.out.printf(\r\n                        &quot;%s: %s, %s, %s\\n&quot;, time, truncated(actors), action, truncated(targets));\r\n            }\r\n        }\r\n\r\n        UploadBasic.uploadBasic();\r\n\r\n    }\r\n\r\n    /**\r\n     * Returns a string representation of the first elements in a list.\r\n     */\r\n    private static String truncated(List&lt;String&gt; array) {\r\n        return truncatedTo(array, 2);\r\n    }\r\n\r\n    /**\r\n     * Returns a string representation of the first elements in a list.\r\n     */\r\n    private static String truncatedTo(List&lt;String&gt; array, int limit) {\r\n        String contents = array.stream().limit(limit).collect(Collectors.joining(&quot;, &quot;));\r\n        String more = array.size() &gt; limit ? &quot;, ...&quot; : &quot;&quot;;\r\n        return &quot;[&quot; + contents + more + &quot;]&quot;;\r\n    }\r\n\r\n    /**\r\n     * Returns the name of a set property in an object, or else &quot;unknown&quot;.\r\n     */\r\n    private static &lt;T&gt; String getOneOf(AbstractMap&lt;String, T&gt; obj) {\r\n        Iterator&lt;String&gt; iterator = obj.keySet().iterator();\r\n        return iterator.hasNext() ? iterator.next() : &quot;unknown&quot;;\r\n    }\r\n\r\n    /**\r\n     * Returns a time associated with an activity.\r\n     */\r\n    private static String getTimeInfo(DriveActivity activity) {\r\n        if (activity.getTimestamp() != null) {\r\n            return activity.getTimestamp();\r\n        }\r\n        if (activity.getTimeRange() != null) {\r\n            return activity.getTimeRange().getEndTime();\r\n        }\r\n        return &quot;unknown&quot;;\r\n    }\r\n\r\n    /**\r\n     * Returns the type of action.\r\n     */\r\n    private static String getActionInfo(ActionDetail actionDetail) {\r\n        return getOneOf(actionDetail);\r\n    }\r\n\r\n    /**\r\n     * Returns user information, or the type of user if not a known user.\r\n     */\r\n    private static String getUserInfo(User user) {\r\n        if (user.getKnownUser() != null) {\r\n            KnownUser knownUser = user.getKnownUser();\r\n            Boolean isMe = knownUser.getIsCurrentUser();\r\n            return (isMe != null &amp;&amp; isMe) ? &quot;people/me&quot; : knownUser.getPersonName();\r\n        }\r\n        return getOneOf(user);\r\n    }\r\n\r\n    /**\r\n     * Returns actor information, or the type of actor if not a user.\r\n     */\r\n    private static String getActorInfo(Actor actor) {\r\n        if (actor.getUser() != null) {\r\n            return getUserInfo(actor.getUser());\r\n        }\r\n        return getOneOf(actor);\r\n    }\r\n\r\n    /**\r\n     * Returns the type of a target and an associated title.\r\n     */\r\n    private static String getTargetInfo(Target target) {\r\n        if (target.getDriveItem() != null) {\r\n            return &quot;driveItem:\\&quot;&quot; + target.getDriveItem().getTitle() + &quot;\\&quot;&quot;;\r\n        }\r\n        if (target.getDrive() != null) {\r\n            return &quot;drive:\\&quot;&quot; + target.getDrive().getTitle() + &quot;\\&quot;&quot;;\r\n        }\r\n        if (target.getFileComment() != null) {\r\n            DriveItem parent = target.getFileComment().getParent();\r\n            if (parent != null) {\r\n                return &quot;fileComment:\\&quot;&quot; + parent.getTitle() + &quot;\\&quot;&quot;;\r\n            }\r\n            return &quot;fileComment:unknown&quot;;\r\n        }\r\n        return getOneOf(target);\r\n    }\r\n}\r\n```\r\n\r\nUploading class:\r\n```\r\nimport com.google.api.client.googleapis.json.GoogleJsonResponseException;\r\nimport com.google.api.client.http.AbstractInputStreamContent;\r\nimport com.google.api.client.http.FileContent;\r\nimport com.google.api.client.http.HttpRequestInitializer;\r\nimport com.google.api.client.http.javanet.NetHttpTransport;\r\nimport com.google.api.client.json.gson.GsonFactory;\r\nimport com.google.api.services.drive.Drive;\r\nimport com.google.api.services.drive.DriveScopes;\r\nimport com.google.api.services.drive.model.File;\r\nimport com.google.auth.http.HttpCredentialsAdapter;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\n\r\n/* Class to demonstrate use of Drive insert file API */\r\npublic class UploadBasic {\r\n\r\n    /**\r\n     * Upload new file.\r\n     *\r\n     * @return Inserted file metadata if successful, {@code null} otherwise.\r\n     * @throws IOException if service account credentials file not found.\r\n     */\r\n    public static String uploadBasic() throws IOException {\r\n        // Load pre-authorized user credentials from the environment.\r\n        // TODO(developer) - See https://developers.google.com/identity for\r\n        // guides on implementing OAuth2 for your application.\r\n        GoogleCredentials credentials = GoogleCredentials.getApplicationDefault()\r\n                .createScoped(Arrays.asList(DriveScopes.DRIVE_FILE));\r\n        HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(\r\n                credentials);\r\n\r\n        // Build a new authorized API client service.\r\n        Drive service = new Drive.Builder(new NetHttpTransport(),\r\n                GsonFactory.getDefaultInstance(),\r\n                requestInitializer)\r\n                .setApplicationName(&quot;Drive samples&quot;)\r\n                .build();\r\n        // Upload file photo.jpg on drive.\r\n        File fileMetadata = new File();\r\n//        fileMetadata.set(&quot;photo.jpg&quot;, null);\r\n        fileMetadata.setName(&quot;photo.jpg&quot;);\r\n        // File&#39;s content.\r\n        java.io.File filePath = new java.io.File(&quot;files/photo.jpg&quot;);\r\n        // Specify media type and file-path for file.\r\n        FileContent mediaContent = new FileContent(&quot;image/jpeg&quot;, filePath);\r\n        try {\r\n            System.out.println(&quot;TESTING THIS LINE&quot;);\r\n            File file = service.files().create(fileMetadata, mediaContent)\r\n                    .setFields(&quot;id&quot;)\r\n                    .execute();\r\n            System.out.println(&quot;File ID: &quot; + file.getId());\r\n            return file.getId();\r\n        } catch (GoogleJsonResponseException e) {\r\n            // TODO(developer) - handle error appropriately\r\n            System.err.println(&quot;Unable to upload file: &quot; + e.getDetails());\r\n            throw e;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nerror:\r\n```\r\n\r\n    &gt; Task :run FAILED\r\nCredentials saved to C:\\java\\Quickstart\\tokens\r\nRecent activity:\r\n2023-03-15T02:55:06.045Z: [people/me], edit, [driveItem:&quot;count.txt&quot;]\r\n2023-03-15T02:53:57.041Z: [people/me], edit, [driveItem:&quot;count.txt&quot;]\r\n2023-03-15T02:50:31.803Z: [people/me], edit, [driveItem:&quot;count.txt&quot;]\r\n2023-03-15T02:50:12.453Z: [people/me], create, [driveItem:&quot;count.txt&quot;]\r\n2023-03-15T02:49:55.521Z: [people/me], delete, [driveItem:&quot;Untitled document&quot;]\r\n2023-03-15T02:48:32.831Z: [people/me], edit, [driveItem:&quot;Untitled document&quot;]\r\n2023-03-15T02:48:32.513Z: [people/me], create, [driveItem:&quot;Untitled document&quot;]\r\nTESTING THIS LINE\r\nUnable to upload file: {&quot;code&quot;:403,&quot;details&quot;:[{&quot;@type&quot;:&quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,&quot;reason&quot;:&quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;,&quot;domain&quot;:&quot;googleapis.com&quot;,&quot;metadata&quot;:{&quot;method&quot;:&quot;google.apps.drive.v3.DriveFiles.Create&quot;,&quot;se\r\nrvice&quot;:&quot;drive.googleapis.com&quot;}}],&quot;errors&quot;:[{&quot;domain&quot;:&quot;global&quot;,&quot;message&quot;:&quot;Insufficient Permission&quot;,&quot;reason&quot;:&quot;insufficientPermissions&quot;}],&quot;message&quot;:&quot;Request had insufficient authentication scopes.&quot;,&quot;status&quot;:&quot;PERMISSION_DENIED&quot;}\r\nException in thread &quot;main&quot; com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\r\nPOST https://www.googleapis.com/upload/drive/v3/files?fields=id&amp;uploadType=resumable\r\n{\r\n  &quot;code&quot;: 403,\r\n  &quot;details&quot;: [\r\n    {\r\n      &quot;@type&quot;: &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\r\n      &quot;reason&quot;: &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;,\r\n      &quot;domain&quot;: &quot;googleapis.com&quot;,\r\n      &quot;metadata&quot;: {\r\n        &quot;method&quot;: &quot;google.apps.drive.v3.DriveFiles.Create&quot;,\r\n        &quot;service&quot;: &quot;drive.googleapis.com&quot;\r\n      }\r\n    }\r\n  ],\r\n  &quot;errors&quot;: [\r\n    {\r\n      &quot;domain&quot;: &quot;global&quot;,\r\n      &quot;message&quot;: &quot;Insufficient Permission&quot;,\r\n      &quot;reason&quot;: &quot;insufficientPermissions&quot;\r\n    }\r\n  ],\r\n  &quot;message&quot;: &quot;Request had insufficient authentication scopes.&quot;,\r\n  &quot;status&quot;: &quot;PERMISSION_DENIED&quot;\r\n}\r\n        at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:146)\r\n        at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:118)\r\n        at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:37)\r\n        at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:570)\r\n        at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:493)\r\n        at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:603)\r\n        at UploadBasic.uploadBasic(UploadBasic.java:51)\r\n        at DriveActivityQuickstart.main(DriveActivityQuickstart.java:143)\r\n```","title":"Google Drive Java API error when trying to upload a jpg to the drive","body":"<p>I am trying to upload a file to the google drive, but I am getting some errors regarding Permissions and Scopes. I followed the tutorial, the following 2 classes were copy and pasted from the java quick start, but when I run the code it gives an error which I pasted below. When I go to authenticate, it only mentions permissions for viewing, but I made sure to select all of them in the &quot;OAuth Consent Screen&quot;. What am I missing here?</p>\n<p>Main class:</p>\n<pre><code>import com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.http.AbstractInputStreamContent;\nimport com.google.api.client.http.ByteArrayContent;\nimport com.google.api.client.http.FileContent;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.gson.GsonFactory;\nimport com.google.api.client.util.store.FileDataStoreFactory;\nimport com.google.api.services.drive.Drive;\nimport com.google.api.services.drive.DriveScopes;\nimport com.google.api.services.driveactivity.v2.DriveActivityScopes;\nimport com.google.api.services.driveactivity.v2.model.*;\nimport com.google.api.services.driveactivity.v2.model.File;\n\nimport java.io.*;\nimport java.nio.file.Files;\nimport java.security.GeneralSecurityException;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class DriveActivityQuickstart {\n    /**\n     * Application name.\n     */\n    private static final String APPLICATION_NAME = &quot;Drive Activity API Java Quickstart&quot;;\n\n    /**\n     * Directory to store authorization tokens for this application.\n     */\n    private static final java.io.File DATA_STORE_DIR = new java.io.File(&quot;tokens&quot;);\n    /**\n     * Global instance of the JSON factory.\n     */\n    private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n    /**\n     * Global instance of the scopes required by this quickstart.\n     *\n     * &lt;p&gt;If modifying these scopes, delete your previously saved tokens/ folder.\n     */\n    private static final List&lt;String&gt; SCOPES =\n            Arrays.asList(DriveActivityScopes.DRIVE_ACTIVITY_READONLY);\n    private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\n    /**\n     * Global instance of the {@link FileDataStoreFactory}.\n     */\n    private static FileDataStoreFactory DATA_STORE_FACTORY;\n    /**\n     * Global instance of the HTTP transport.\n     */\n    private static HttpTransport HTTP_TRANSPORT;\n\n    static {\n        try {\n            HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n            DATA_STORE_FACTORY = new FileDataStoreFactory(DATA_STORE_DIR);\n        } catch (Throwable t) {\n            t.printStackTrace();\n            System.exit(1);\n        }\n    }\n\n    /**\n     * Creates an authorized Credential object.\n     *\n     * @return an authorized Credential object.\n     * @throws IOException\n     */\n    public static Credential authorize() throws IOException {\n        // Load client secrets.\n        InputStream in = DriveActivityQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n        GoogleClientSecrets clientSecrets =\n                GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow =\n                new GoogleAuthorizationCodeFlow.Builder(\n                        HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                        .setDataStoreFactory(DATA_STORE_FACTORY)\n                        .setAccessType(&quot;offline&quot;)\n                        .build();\n        Credential credential =\n                new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver())\n                        .authorize(&quot;user&quot;);\n        System.out.println(&quot;Credentials saved to &quot; + DATA_STORE_DIR.getAbsolutePath());\n\n        return credential;\n    }\n\n    /**\n     * Build and return an authorized Drive Activity client service.\n     *\n     * @return an authorized DriveActivity client service\n     * @throws IOException\n     */\n    public static com.google.api.services.driveactivity.v2.DriveActivity getDriveActivityService()\n            throws IOException {\n        Credential credential = authorize();\n        com.google.api.services.driveactivity.v2.DriveActivity service =\n                new com.google.api.services.driveactivity.v2.DriveActivity.Builder(\n                        HTTP_TRANSPORT, JSON_FACTORY, credential)\n                        .setApplicationName(APPLICATION_NAME)\n                        .build();\n        return service;\n    }\n\n    public static void main(String[] args) throws IOException {\n        // Build a new authorized API client service.\n        com.google.api.services.driveactivity.v2.DriveActivity service = getDriveActivityService();\n\n        // Print the recent activity in your Google Drive.\n        QueryDriveActivityResponse result =\n                service.activity().query(new QueryDriveActivityRequest().setPageSize(10)).execute();\n        List&lt;DriveActivity&gt; activities = result.getActivities();\n        if (activities == null || activities.size() == 0) {\n            System.out.println(&quot;No activity.&quot;);\n        } else {\n            System.out.println(&quot;Recent activity:&quot;);\n            for (DriveActivity activity : activities) {\n                String time = getTimeInfo(activity);\n                String action = getActionInfo(activity.getPrimaryActionDetail());\n                List&lt;String&gt; actors =\n                        activity.getActors().stream()\n                                .map(DriveActivityQuickstart::getActorInfo)\n                                .collect(Collectors.toList());\n                List&lt;String&gt; targets =\n                        activity.getTargets().stream()\n                                .map(DriveActivityQuickstart::getTargetInfo)\n                                .collect(Collectors.toList());\n                System.out.printf(\n                        &quot;%s: %s, %s, %s\\n&quot;, time, truncated(actors), action, truncated(targets));\n            }\n        }\n\n        UploadBasic.uploadBasic();\n\n    }\n\n    /**\n     * Returns a string representation of the first elements in a list.\n     */\n    private static String truncated(List&lt;String&gt; array) {\n        return truncatedTo(array, 2);\n    }\n\n    /**\n     * Returns a string representation of the first elements in a list.\n     */\n    private static String truncatedTo(List&lt;String&gt; array, int limit) {\n        String contents = array.stream().limit(limit).collect(Collectors.joining(&quot;, &quot;));\n        String more = array.size() &gt; limit ? &quot;, ...&quot; : &quot;&quot;;\n        return &quot;[&quot; + contents + more + &quot;]&quot;;\n    }\n\n    /**\n     * Returns the name of a set property in an object, or else &quot;unknown&quot;.\n     */\n    private static &lt;T&gt; String getOneOf(AbstractMap&lt;String, T&gt; obj) {\n        Iterator&lt;String&gt; iterator = obj.keySet().iterator();\n        return iterator.hasNext() ? iterator.next() : &quot;unknown&quot;;\n    }\n\n    /**\n     * Returns a time associated with an activity.\n     */\n    private static String getTimeInfo(DriveActivity activity) {\n        if (activity.getTimestamp() != null) {\n            return activity.getTimestamp();\n        }\n        if (activity.getTimeRange() != null) {\n            return activity.getTimeRange().getEndTime();\n        }\n        return &quot;unknown&quot;;\n    }\n\n    /**\n     * Returns the type of action.\n     */\n    private static String getActionInfo(ActionDetail actionDetail) {\n        return getOneOf(actionDetail);\n    }\n\n    /**\n     * Returns user information, or the type of user if not a known user.\n     */\n    private static String getUserInfo(User user) {\n        if (user.getKnownUser() != null) {\n            KnownUser knownUser = user.getKnownUser();\n            Boolean isMe = knownUser.getIsCurrentUser();\n            return (isMe != null &amp;&amp; isMe) ? &quot;people/me&quot; : knownUser.getPersonName();\n        }\n        return getOneOf(user);\n    }\n\n    /**\n     * Returns actor information, or the type of actor if not a user.\n     */\n    private static String getActorInfo(Actor actor) {\n        if (actor.getUser() != null) {\n            return getUserInfo(actor.getUser());\n        }\n        return getOneOf(actor);\n    }\n\n    /**\n     * Returns the type of a target and an associated title.\n     */\n    private static String getTargetInfo(Target target) {\n        if (target.getDriveItem() != null) {\n            return &quot;driveItem:\\&quot;&quot; + target.getDriveItem().getTitle() + &quot;\\&quot;&quot;;\n        }\n        if (target.getDrive() != null) {\n            return &quot;drive:\\&quot;&quot; + target.getDrive().getTitle() + &quot;\\&quot;&quot;;\n        }\n        if (target.getFileComment() != null) {\n            DriveItem parent = target.getFileComment().getParent();\n            if (parent != null) {\n                return &quot;fileComment:\\&quot;&quot; + parent.getTitle() + &quot;\\&quot;&quot;;\n            }\n            return &quot;fileComment:unknown&quot;;\n        }\n        return getOneOf(target);\n    }\n}\n</code></pre>\n<p>Uploading class:</p>\n<pre><code>import com.google.api.client.googleapis.json.GoogleJsonResponseException;\nimport com.google.api.client.http.AbstractInputStreamContent;\nimport com.google.api.client.http.FileContent;\nimport com.google.api.client.http.HttpRequestInitializer;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.gson.GsonFactory;\nimport com.google.api.services.drive.Drive;\nimport com.google.api.services.drive.DriveScopes;\nimport com.google.api.services.drive.model.File;\nimport com.google.auth.http.HttpCredentialsAdapter;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport java.io.IOException;\nimport java.util.Arrays;\n\n/* Class to demonstrate use of Drive insert file API */\npublic class UploadBasic {\n\n    /**\n     * Upload new file.\n     *\n     * @return Inserted file metadata if successful, {@code null} otherwise.\n     * @throws IOException if service account credentials file not found.\n     */\n    public static String uploadBasic() throws IOException {\n        // Load pre-authorized user credentials from the environment.\n        // TODO(developer) - See https://developers.google.com/identity for\n        // guides on implementing OAuth2 for your application.\n        GoogleCredentials credentials = GoogleCredentials.getApplicationDefault()\n                .createScoped(Arrays.asList(DriveScopes.DRIVE_FILE));\n        HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(\n                credentials);\n\n        // Build a new authorized API client service.\n        Drive service = new Drive.Builder(new NetHttpTransport(),\n                GsonFactory.getDefaultInstance(),\n                requestInitializer)\n                .setApplicationName(&quot;Drive samples&quot;)\n                .build();\n        // Upload file photo.jpg on drive.\n        File fileMetadata = new File();\n//        fileMetadata.set(&quot;photo.jpg&quot;, null);\n        fileMetadata.setName(&quot;photo.jpg&quot;);\n        // File's content.\n        java.io.File filePath = new java.io.File(&quot;files/photo.jpg&quot;);\n        // Specify media type and file-path for file.\n        FileContent mediaContent = new FileContent(&quot;image/jpeg&quot;, filePath);\n        try {\n            System.out.println(&quot;TESTING THIS LINE&quot;);\n            File file = service.files().create(fileMetadata, mediaContent)\n                    .setFields(&quot;id&quot;)\n                    .execute();\n            System.out.println(&quot;File ID: &quot; + file.getId());\n            return file.getId();\n        } catch (GoogleJsonResponseException e) {\n            // TODO(developer) - handle error appropriately\n            System.err.println(&quot;Unable to upload file: &quot; + e.getDetails());\n            throw e;\n        }\n    }\n}\n</code></pre>\n<p>error:</p>\n<pre><code>\n    &gt; Task :run FAILED\nCredentials saved to C:\\java\\Quickstart\\tokens\nRecent activity:\n2023-03-15T02:55:06.045Z: [people/me], edit, [driveItem:&quot;count.txt&quot;]\n2023-03-15T02:53:57.041Z: [people/me], edit, [driveItem:&quot;count.txt&quot;]\n2023-03-15T02:50:31.803Z: [people/me], edit, [driveItem:&quot;count.txt&quot;]\n2023-03-15T02:50:12.453Z: [people/me], create, [driveItem:&quot;count.txt&quot;]\n2023-03-15T02:49:55.521Z: [people/me], delete, [driveItem:&quot;Untitled document&quot;]\n2023-03-15T02:48:32.831Z: [people/me], edit, [driveItem:&quot;Untitled document&quot;]\n2023-03-15T02:48:32.513Z: [people/me], create, [driveItem:&quot;Untitled document&quot;]\nTESTING THIS LINE\nUnable to upload file: {&quot;code&quot;:403,&quot;details&quot;:[{&quot;@type&quot;:&quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,&quot;reason&quot;:&quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;,&quot;domain&quot;:&quot;googleapis.com&quot;,&quot;metadata&quot;:{&quot;method&quot;:&quot;google.apps.drive.v3.DriveFiles.Create&quot;,&quot;se\nrvice&quot;:&quot;drive.googleapis.com&quot;}}],&quot;errors&quot;:[{&quot;domain&quot;:&quot;global&quot;,&quot;message&quot;:&quot;Insufficient Permission&quot;,&quot;reason&quot;:&quot;insufficientPermissions&quot;}],&quot;message&quot;:&quot;Request had insufficient authentication scopes.&quot;,&quot;status&quot;:&quot;PERMISSION_DENIED&quot;}\nException in thread &quot;main&quot; com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\nPOST https://www.googleapis.com/upload/drive/v3/files?fields=id&amp;uploadType=resumable\n{\n  &quot;code&quot;: 403,\n  &quot;details&quot;: [\n    {\n      &quot;@type&quot;: &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\n      &quot;reason&quot;: &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;,\n      &quot;domain&quot;: &quot;googleapis.com&quot;,\n      &quot;metadata&quot;: {\n        &quot;method&quot;: &quot;google.apps.drive.v3.DriveFiles.Create&quot;,\n        &quot;service&quot;: &quot;drive.googleapis.com&quot;\n      }\n    }\n  ],\n  &quot;errors&quot;: [\n    {\n      &quot;domain&quot;: &quot;global&quot;,\n      &quot;message&quot;: &quot;Insufficient Permission&quot;,\n      &quot;reason&quot;: &quot;insufficientPermissions&quot;\n    }\n  ],\n  &quot;message&quot;: &quot;Request had insufficient authentication scopes.&quot;,\n  &quot;status&quot;: &quot;PERMISSION_DENIED&quot;\n}\n        at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:146)\n        at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:118)\n        at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:37)\n        at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:570)\n        at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:493)\n        at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:603)\n        at UploadBasic.uploadBasic(UploadBasic.java:51)\n        at DriveActivityQuickstart.main(DriveActivityQuickstart.java:143)\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":14218012,"reputation":83,"user_id":10271308,"display_name":"akingokay"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1538036622,"creation_date":1538036315,"answer_id":52532476,"question_id":52532319,"body_markdown":"Use Spring `JdbcTemplate` if you don&#39;t want to access your database schema via a domain model. Using JPA you need to make sure that database schema maps correctly to the domain model.\r\n\r\nPerformance is almost similar at both spring `JdbcTemplate` and JPA.\r\n\r\nJPA is the Java Persistence API, which is Java&#39;s standard API for object-relational mapping. \r\n\r\nThe Spring Framework consists of a collection of projects, and one of these projects is Spring Data. \r\n\r\nThe goal of Spring Data is to make it easier to work with different kinds of databases, from traditional relational databases to NoSQL databases. Spring Data supports JPA via the Spring Data JPA subproject.\r\n","title":"Spring Data vs Spring Data JPA vs JdbcTemplate","body":"<p>Use Spring <code>JdbcTemplate</code> if you don't want to access your database schema via a domain model. Using JPA you need to make sure that database schema maps correctly to the domain model.</p>\n\n<p>Performance is almost similar at both spring <code>JdbcTemplate</code> and JPA.</p>\n\n<p>JPA is the Java Persistence API, which is Java's standard API for object-relational mapping. </p>\n\n<p>The Spring Framework consists of a collection of projects, and one of these projects is Spring Data. </p>\n\n<p>The goal of Spring Data is to make it easier to work with different kinds of databases, from traditional relational databases to NoSQL databases. Spring Data supports JPA via the Spring Data JPA subproject.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1538036789,"creation_date":1538036789,"answer_id":52532606,"question_id":52532319,"body_markdown":"[`JdbcTemplate`][1] is part of the [**Spring Framework**][2] itself. \r\n\r\n[**Spring Data**][3] is the project which consists of multiple sub-projects where [**Spring Data JPA**][4] is one of those sub-projects. Spring Data and the sub projects build on top of the Spring Framework. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\r\n[2]: https://spring.io/projects/spring-framework\r\n[3]: https://spring.io/projects/spring-data\r\n[4]: https://spring.io/projects/spring-data-jpa","title":"Spring Data vs Spring Data JPA vs JdbcTemplate","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"noreferrer\"><code>JdbcTemplate</code></a> is part of the <a href=\"https://spring.io/projects/spring-framework\" rel=\"noreferrer\"><strong>Spring Framework</strong></a> itself. </p>\n\n<p><a href=\"https://spring.io/projects/spring-data\" rel=\"noreferrer\"><strong>Spring Data</strong></a> is the project which consists of multiple sub-projects where <a href=\"https://spring.io/projects/spring-data-jpa\" rel=\"noreferrer\"><strong>Spring Data JPA</strong></a> is one of those sub-projects. Spring Data and the sub projects build on top of the Spring Framework. </p>\n"},{"tags":[],"owner":{"account_id":16735950,"reputation":437,"user_id":12097072,"display_name":"stoneshishang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678973265,"creation_date":1635540393,"answer_id":69774598,"question_id":52532319,"body_markdown":"Here is one of my experienced colleague&#39;s recommendation:\r\n\r\nTo determine which technology to use, this is the order he prefers:\r\n\r\n1) Use standard JPA methods for a straight forward solution - with Mappings, you can do joins seamlessly, accelerates the dev process and error handling is straight forward.\r\n2) Use JPA Native query if you want to remove the JPA overhead.\r\n3) USE JPA result set mappings for complex join queries and custom object mappings.....\r\n4) Use JDBC template if performance is the sole goal - Overheads : dev process is slow as you have to write your own code and error handling mechanism..\r\n\r\n**UPDATE:**\r\n\r\n5. If company is switching to different Database that uses slightly different SQL syntax. using JDBC template will add a lot of work on tweaking the SQL to new database because it only works on the previous database.\r\n   \r\n   However, if user used JPA, they don&#39;t have to touch the query when switching database. Saves a ton of work. \r\n","title":"Spring Data vs Spring Data JPA vs JdbcTemplate","body":"<p>Here is one of my experienced colleague's recommendation:</p>\n<p>To determine which technology to use, this is the order he prefers:</p>\n<ol>\n<li>Use standard JPA methods for a straight forward solution - with Mappings, you can do joins seamlessly, accelerates the dev process and error handling is straight forward.</li>\n<li>Use JPA Native query if you want to remove the JPA overhead.</li>\n<li>USE JPA result set mappings for complex join queries and custom object mappings.....</li>\n<li>Use JDBC template if performance is the sole goal - Overheads : dev process is slow as you have to write your own code and error handling mechanism..</li>\n</ol>\n<p><strong>UPDATE:</strong></p>\n<ol start=\"5\">\n<li><p>If company is switching to different Database that uses slightly different SQL syntax. using JDBC template will add a lot of work on tweaking the SQL to new database because it only works on the previous database.</p>\n<p>However, if user used JPA, they don't have to touch the query when switching database. Saves a ton of work.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":10013305,"reputation":113,"user_id":7405500,"display_name":"Noor Rehman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9098,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":52532606,"answer_count":3,"score":8,"last_activity_date":1678973265,"creation_date":1538035699,"question_id":52532319,"body_markdown":"I was confident that `Spring Data` and `Spring Data JPA` refers as same, but then I watched a tutorial on youtube about [Spring Data][1] and he is using `JdbcTemplate` in that tutorial. So I got confused there. \r\n\r\nI want to clarify that what is difference between `Spring Data` and `JdbcTemplate`? `JdbcTemplate` and `Spring Data JPA` are parts of `Spring Data`?\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=eR_JFtqyNL4&amp;list=PL1A506B159E5BD13E","title":"Spring Data vs Spring Data JPA vs JdbcTemplate","body":"<p>I was confident that <code>Spring Data</code> and <code>Spring Data JPA</code> refers as same, but then I watched a tutorial on youtube about <a href=\"https://www.youtube.com/watch?v=eR_JFtqyNL4&amp;list=PL1A506B159E5BD13E\" rel=\"noreferrer\">Spring Data</a> and he is using <code>JdbcTemplate</code> in that tutorial. So I got confused there. </p>\n\n<p>I want to clarify that what is difference between <code>Spring Data</code> and <code>JdbcTemplate</code>? <code>JdbcTemplate</code> and <code>Spring Data JPA</code> are parts of <code>Spring Data</code>?</p>\n"},{"tags":["java","flyway"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1678975064,"post_id":75756915,"comment_id":133639782,"body_markdown":"How that could be a security concern when particular team is responsible for contents of final application? Just do not pack there anything you should not pack.","body":"How that could be a security concern when particular team is responsible for contents of final application? Just do not pack there anything you should not pack."},{"owner":{"account_id":195680,"reputation":2749,"user_id":438727,"accept_rate":89,"display_name":"mohamnag"},"score":0,"creation_date":1679036517,"post_id":75756915,"comment_id":133652006,"body_markdown":"so we should avoid the whole Java ecosystem? we have 3rd party libs, open source ones, ... and looking at the amount of supply chain attacks recently, its such a naive stance to ignore it. Flyway shall provide a way to limit the search to specific JARs.","body":"so we should avoid the whole Java ecosystem? we have 3rd party libs, open source ones, ... and looking at the amount of supply chain attacks recently, its such a naive stance to ignore it. Flyway shall provide a way to limit the search to specific JARs."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679038978,"post_id":75756915,"comment_id":133652553,"body_markdown":"you are looking for technological solution where the organisational one is required: if you do not trust 3rd-party libraries - do not include them into application (3rd-party library might contain malicious jdbc driver, why do you not concern about that?). BTW, just change flyway namespace from common `db/migration` to something more specific for your application or organisation and get ultimate confidence about &quot;security&quot;.","body":"you are looking for technological solution where the organisational one is required: if you do not trust 3rd-party libraries - do not include them into application (3rd-party library might contain malicious jdbc driver, why do you not concern about that?). BTW, just change flyway namespace from common <code>db&#47;migration</code> to something more specific for your application or organisation and get ultimate confidence about &quot;security&quot;."}],"owner":{"account_id":195680,"reputation":2749,"user_id":438727,"accept_rate":89,"display_name":"mohamnag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678973216,"creation_date":1678973216,"question_id":75756915,"body_markdown":"I have some SQL migrations packed into a JAR (lets call it `com.example:sql-migrations`). Scripts are located in `src/main/resources/db/migration` in that package and are included inside the JAR.\r\n\r\nIn a separate project, I&#39;m including that JAR as dependency and I&#39;m successfully using Flyway to apply those migrations by using `.locations(&quot;classpath:db/migration&quot;)` while configuring Flyway.\r\n\r\nUp until here everything is working and those are being applied. BUT this is giving me a bit of bad feeling as it seems Flyway is looking for any resource matching that path and applying it no matter from which JAR its being found. This might result in some security problems. Is there any way to restrict that classpath resource to a specific JAR? something like `&quot;classpath:com.example:sql-migrations!db/migration&quot;`? I tried many combinations and non works, also nothing on docs.\r\n\r\n\r\nPS: This question might look similar to lots of the others related to Flyway, but its actually never asked.","title":"Flyway apply migrations from an specific JAR dependency","body":"<p>I have some SQL migrations packed into a JAR (lets call it <code>com.example:sql-migrations</code>). Scripts are located in <code>src/main/resources/db/migration</code> in that package and are included inside the JAR.</p>\n<p>In a separate project, I'm including that JAR as dependency and I'm successfully using Flyway to apply those migrations by using <code>.locations(&quot;classpath:db/migration&quot;)</code> while configuring Flyway.</p>\n<p>Up until here everything is working and those are being applied. BUT this is giving me a bit of bad feeling as it seems Flyway is looking for any resource matching that path and applying it no matter from which JAR its being found. This might result in some security problems. Is there any way to restrict that classpath resource to a specific JAR? something like <code>&quot;classpath:com.example:sql-migrations!db/migration&quot;</code>? I tried many combinations and non works, also nothing on docs.</p>\n<p>PS: This question might look similar to lots of the others related to Flyway, but its actually never asked.</p>\n"},{"tags":["java","json","builder"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1678973433,"post_id":75755667,"comment_id":133639249,"body_markdown":"Even if you could give the field two names somehow, how do you expect your JSON serializer to know which one you mean for a specific instance?","body":"Even if you could give the field two names somehow, how do you expect your JSON serializer to know which one you mean for a specific instance?"}],"answers":[{"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678973152,"creation_date":1678968232,"answer_id":75756002,"question_id":75755667,"body_markdown":"you need to tell lombok what is the name of the field you want in a constructor and annotate with @Builder. see the following code and static class Metric\r\n\r\n    import lombok.Builder;\r\n    import lombok.Value;\r\n\r\n    public class Test {\r\n\r\n    @Value\r\n    @Builder\r\n    public static class Input {\r\n        String name;\r\n        Source source;\r\n    }\r\n\r\n    @Value\r\n    public static class Source {\r\n        Metric metric ;\r\n        \r\n        @Builder\r\n        public Source(Metric state, Metric metric) {\r\n            this.metric = state != null ? state : metric;\r\n        }\r\n    }\r\n\r\n    @Value\r\n    @Builder\r\n    public static class Metric {\r\n        String ref;\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        Input.builder()\r\n                .name(&quot;state&quot;)\r\n                .source(Source.builder()\r\n                        .state(Metric.builder()\r\n                                .ref(&quot;ref&quot;)\r\n                                .build())\r\n                        .build())\r\n                .build();\r\n           \r\n           Input.builder()\r\n                .name(&quot;state&quot;)\r\n                .source(Source.builder()\r\n                        .metric(Metric.builder()\r\n                                .ref(&quot;ref&quot;)\r\n                                .build())\r\n                        .build())\r\n                .build();\r\n        }\r\n    }","title":"Builder Pattern and Json alias name","body":"<p>you need to tell lombok what is the name of the field you want in a constructor and annotate with @Builder. see the following code and static class Metric</p>\n<pre><code>import lombok.Builder;\nimport lombok.Value;\n\npublic class Test {\n\n@Value\n@Builder\npublic static class Input {\n    String name;\n    Source source;\n}\n\n@Value\npublic static class Source {\n    Metric metric ;\n    \n    @Builder\n    public Source(Metric state, Metric metric) {\n        this.metric = state != null ? state : metric;\n    }\n}\n\n@Value\n@Builder\npublic static class Metric {\n    String ref;\n}\n\npublic static void main(String... args) {\n    Input.builder()\n            .name(&quot;state&quot;)\n            .source(Source.builder()\n                    .state(Metric.builder()\n                            .ref(&quot;ref&quot;)\n                            .build())\n                    .build())\n            .build();\n       \n       Input.builder()\n            .name(&quot;state&quot;)\n            .source(Source.builder()\n                    .metric(Metric.builder()\n                            .ref(&quot;ref&quot;)\n                            .build())\n                    .build())\n            .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75756002,"answer_count":1,"score":0,"last_activity_date":1678973152,"creation_date":1678966224,"question_id":75755667,"body_markdown":"I want to construct the builder object for the below class \r\n   \r\n\r\n    @Value\r\n    @Builder\r\n    public static class Input {\r\n        String name;\r\n        Source source;\r\n    }\r\n\r\n    @Value\r\n    @Builder\r\n    public static class Source {\r\n        //@JsonAlias({&quot;metric&quot;, state&quot;})\r\n        //@JsonProperty(&quot;state&quot;)\r\n        Metric metric ;\r\n    }\r\n\r\n    @Value\r\n    @Builder\r\n    public static class Metric {\r\n        String ref;\r\n    }\r\n\r\nI want to construct the objects like \r\n    \r\n\r\n    Input.builder()\r\n            .name(&quot;state&quot;)\r\n            .source(Source.builder()\r\n                .metric(Metric.builder()\r\n                    .ref(&quot;ref&quot;)\r\n                    .build())\r\n                .build())\r\n            .build()\r\n\r\nAt the same time , the &#39;metric&#39; name will be changed like &#39;state&#39; in one of the scenarios,\r\n\r\n    Input.builder()\r\n            .name(&quot;state&quot;)\r\n            .source(Source.builder()\r\n                .state(Metric.builder()\r\n                    .ref(&quot;ref&quot;)\r\n                    .build())\r\n                .build())\r\n            .build()\r\n\r\nConstructing the objects differ only in the name of metric / state. The structure remains same. I tried with @JsonAlias and not finding it helpful. Can anyone give me the correct reference or how to use the different name in builder pattern when the structure is same?","title":"Builder Pattern and Json alias name","body":"<p>I want to construct the builder object for the below class</p>\n<pre><code>@Value\n@Builder\npublic static class Input {\n    String name;\n    Source source;\n}\n\n@Value\n@Builder\npublic static class Source {\n    //@JsonAlias({&quot;metric&quot;, state&quot;})\n    //@JsonProperty(&quot;state&quot;)\n    Metric metric ;\n}\n\n@Value\n@Builder\npublic static class Metric {\n    String ref;\n}\n</code></pre>\n<p>I want to construct the objects like</p>\n<pre><code>Input.builder()\n        .name(&quot;state&quot;)\n        .source(Source.builder()\n            .metric(Metric.builder()\n                .ref(&quot;ref&quot;)\n                .build())\n            .build())\n        .build()\n</code></pre>\n<p>At the same time , the 'metric' name will be changed like 'state' in one of the scenarios,</p>\n<pre><code>Input.builder()\n        .name(&quot;state&quot;)\n        .source(Source.builder()\n            .state(Metric.builder()\n                .ref(&quot;ref&quot;)\n                .build())\n            .build())\n        .build()\n</code></pre>\n<p>Constructing the objects differ only in the name of metric / state. The structure remains same. I tried with @JsonAlias and not finding it helpful. Can anyone give me the correct reference or how to use the different name in builder pattern when the structure is same?</p>\n"},{"tags":["java","hash","base64","decode","sha256"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678981377,"post_id":75756848,"comment_id":133641939,"body_markdown":"Are you sending it through a channel that doesn&#39;t have any consistency checks of its own?","body":"Are you sending it through a channel that doesn&#39;t have any consistency checks of its own?"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678973117,"creation_date":1678973117,"answer_id":75756898,"question_id":75756848,"body_markdown":"This is very vague and primarily opinion; but if &quot;other program&quot; can receive the binary contents without base64 encoding I would decode before taking the hash. A base64 encoded payload is 33-37% larger than the decoded payload, so that&#39;s an instant (minimum) 33% reduction in network traffic to &quot;other program&quot;.","title":"Should I calculate hash of endoded file (Base64) or should I decode it first?","body":"<p>This is very vague and primarily opinion; but if &quot;other program&quot; can receive the binary contents without base64 encoding I would decode before taking the hash. A base64 encoded payload is 33-37% larger than the decoded payload, so that's an instant (minimum) 33% reduction in network traffic to &quot;other program&quot;.</p>\n"}],"owner":{"account_id":10625598,"reputation":121,"user_id":10955901,"display_name":"MrSman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678981953,"answer_count":1,"score":-1,"last_activity_date":1678973117,"creation_date":1678972851,"question_id":75756848,"body_markdown":"I have a question related to calculating hash. I have a program that receive a Base64 encoded file and I want to send that file to other program but checking the integrity. I will calculate de hash before send the file so I can send both and the other program will check the integrity.\r\n\r\nIs there any difference between calculating hash of the encoded file and decode it first? Is there a best practice? I don&#39;t know if I should decode the file first and calculate hash of decoded one.\r\n\r\nThanks.","title":"Should I calculate hash of endoded file (Base64) or should I decode it first?","body":"<p>I have a question related to calculating hash. I have a program that receive a Base64 encoded file and I want to send that file to other program but checking the integrity. I will calculate de hash before send the file so I can send both and the other program will check the integrity.</p>\n<p>Is there any difference between calculating hash of the encoded file and decode it first? Is there a best practice? I don't know if I should decode the file first and calculate hash of decoded one.</p>\n<p>Thanks.</p>\n"},{"tags":["java","elasticsearch","lucene"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1572190222,"post_id":58580752,"comment_id":103476019,"body_markdown":"Did you check this https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-query-builders.html","body":"Did you check this <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-query-builders.html\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/client/java-rest/current/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1158581,"reputation":17184,"user_id":1138559,"accept_rate":99,"display_name":"Alkis Kalogeris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572213788,"creation_date":1572213788,"answer_id":58583753,"question_id":58580752,"body_markdown":"The choices you have are below:\r\n\r\n 1. Use query_string, not recommended for user-generated input. It will not work exactly as you expect it to. Moreover, it could be dangerous if you do not disable certain special characters and keywords\r\n 2. Use  simple_query_string, it is the user-facing alternative to query_string. It doesn&#39;t support AND, OR, LIKE though. You will need to parse the input and transform it into the simple_query_string syntax\r\n 3. Use the new sql rest api. The example you provided seems like a WHERE clause of SQL command https://www.elastic.co/guide/en/elasticsearch/reference/current/sql-rest.html .","title":"Elastic - Use Java High Level Rest Client To Perform a String Query","body":"<p>The choices you have are below:</p>\n\n<ol>\n<li>Use query_string, not recommended for user-generated input. It will not work exactly as you expect it to. Moreover, it could be dangerous if you do not disable certain special characters and keywords</li>\n<li>Use  simple_query_string, it is the user-facing alternative to query_string. It doesn't support AND, OR, LIKE though. You will need to parse the input and transform it into the simple_query_string syntax</li>\n<li>Use the new sql rest api. The example you provided seems like a WHERE clause of SQL command <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/sql-rest.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/sql-rest.html</a> .</li>\n</ol>\n"}],"owner":{"account_id":10893195,"reputation":679,"user_id":8712899,"display_name":"אברגיל יעקובו"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678973086,"creation_date":1572189946,"question_id":58580752,"body_markdown":"I&#39;m writing a service for our company, using Java, in order to make it easier for the users to query Elastic. For that mission I&#39;m using &quot;Java High Level REST Client&quot;.\r\n\r\nLet&#39;s say I have a query that looks like this:\r\n\r\n    host=&#39;hostnameOne&#39; AND (owner=&#39;Sam&#39; OR cpuNum=5) OR type LIKE &#39;Ubuntu&#39;\r\n\r\nIs there a way to use QueryBuilder or anything similar in order to build this query easily? I saw there is something called &#39;simpleQueryStringQuery&#39; but I failed while trying to convert the query above.\r\n","title":"Elastic - Use Java High Level Rest Client To Perform a String Query","body":"<p>I'm writing a service for our company, using Java, in order to make it easier for the users to query Elastic. For that mission I'm using \"Java High Level REST Client\".</p>\n\n<p>Let's say I have a query that looks like this:</p>\n\n<pre><code>host='hostnameOne' AND (owner='Sam' OR cpuNum=5) OR type LIKE 'Ubuntu'\n</code></pre>\n\n<p>Is there a way to use QueryBuilder or anything similar in order to build this query easily? I saw there is something called 'simpleQueryStringQuery' but I failed while trying to convert the query above.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9423,"page":569,"page_size":100}
