{"items":[{"tags":["java","spring-webflux","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677690093,"creation_date":1677690093,"answer_id":75606826,"question_id":75600874,"body_markdown":"You don&#39;t need to `block` here. In reactive you need to build a flow combining different operators\r\n\r\n```\r\nMono&lt;Void&gt; res = resultAMono\r\n        .flatMap(a -&gt; Flux.merge(loadB(a), loadC()).then());\r\n```  \r\n\r\nWe are using `Flux.merge` here because both `loadB` &amp; `loadC` return `Mono&lt;Void&gt;` and we don&#39;t need results.\r\n\r\nIn case results are needed `Mono&lt;B&gt; loadB(A a)` &amp; `Mono&lt;C&gt; loadC()` we can use `Mono.zip` to resolve publishers in parallel.\r\n\r\n```\r\nMono&lt;Tuple2&lt;B, C&gt;&gt; res = resultAMono\r\n        .flatMap(a -&gt; Mono.zip(loadB(a), loadC()));\r\n```\r\n\r\nBoth `Flux.merge` &amp; `Mono.zip` subscribes to publishers eagerly. ","title":"Execute Monos sequentially/parallel","body":"<p>You don't need to <code>block</code> here. In reactive you need to build a flow combining different operators</p>\n<pre><code>Mono&lt;Void&gt; res = resultAMono\n        .flatMap(a -&gt; Flux.merge(loadB(a), loadC()).then());\n</code></pre>\n<p>We are using <code>Flux.merge</code> here because both <code>loadB</code> &amp; <code>loadC</code> return <code>Mono&lt;Void&gt;</code> and we don't need results.</p>\n<p>In case results are needed <code>Mono&lt;B&gt; loadB(A a)</code> &amp; <code>Mono&lt;C&gt; loadC()</code> we can use <code>Mono.zip</code> to resolve publishers in parallel.</p>\n<pre><code>Mono&lt;Tuple2&lt;B, C&gt;&gt; res = resultAMono\n        .flatMap(a -&gt; Mono.zip(loadB(a), loadC()));\n</code></pre>\n<p>Both <code>Flux.merge</code> &amp; <code>Mono.zip</code> subscribes to publishers eagerly.</p>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75606826,"answer_count":1,"score":0,"last_activity_date":1677690093,"creation_date":1677657303,"question_id":75600874,"body_markdown":"I have this situation:\r\n    \r\n    Mono&lt;List&lt;String&gt;&gt; resultAMono = listA();\r\n    Mono&lt;Void&gt; resultBMono = loadB(resultAMono.block());\r\n    Mono&lt;Void&gt; resultCMono = loadC();\r\n\r\nI want to execute resultAMono sequentially, and the resultBMono and resultCMono parallelly, because resultBMono depends of the result of resultAMono","title":"Execute Monos sequentially/parallel","body":"<p>I have this situation:</p>\n<pre><code>Mono&lt;List&lt;String&gt;&gt; resultAMono = listA();\nMono&lt;Void&gt; resultBMono = loadB(resultAMono.block());\nMono&lt;Void&gt; resultCMono = loadC();\n</code></pre>\n<p>I want to execute resultAMono sequentially, and the resultBMono and resultCMono parallelly, because resultBMono depends of the result of resultAMono</p>\n"},{"tags":["java","spring-boot","swagger-ui","springdoc","mixed-content"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1677658148,"post_id":75597838,"comment_id":133379199,"body_markdown":"What&#39;s the error message on the Console tab in the browser dev tools?","body":"What&#39;s the error message on the Console tab in the browser dev tools?"},{"owner":{"account_id":18223065,"reputation":11,"user_id":13263452,"display_name":"Palio"},"score":0,"creation_date":1677679596,"post_id":75597838,"comment_id":133385343,"body_markdown":"Hi @Helen, I&#180;m looking into the Console and this message show\n\n\nMixed Content: The page at &#39;https://&lt;myproductionUrl&gt;/swagger-ui/index.html#/Ravel/getLabelFormats&#39; was loaded over HTTPS, but requested an insecure resource &#39;http://&lt;myproductionAPIUrl&gt;/labels?language=10&amp;includeData=false&#39;. This request has been blocked; the content must be served over HTTPS.\n\nHow can enabled https or what configuration is missing ? Thanks a lot","body":"Hi @Helen, I&#180;m looking into the Console and this message show   Mixed Content: The page at &#39;https://&lt;myproductionUrl&gt;/swagger-ui/index.html#/Ravel/getL&zwnj;&#8203;abelFormats&#39; was loaded over HTTPS, but requested an insecure resource &#39;http://&lt;myproductionAPIUrl&gt;/labels?language=10&amp;includeData=&zwnj;&#8203;false&#39;. This request has been blocked; the content must be served over HTTPS.  How can enabled https or what configuration is missing ? Thanks a lot"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1677689053,"post_id":75597838,"comment_id":133388654,"body_markdown":"Interesting. Is `http://&lt;myproductionAPIUrl&gt;` or the use of `http://` hard-coded anywhere in your code/configs? I think in your case the API base URL in Springdoc/Swagger UI configs is supposed to be set to `/` (i.e. the server root) so that Swagger UI will send API calls to exactly the same server/protocol from where it&#39;s served.","body":"Interesting. Is <code>http:&#47;&#47;&lt;myproductionAPIUrl&gt;</code> or the use of <code>http:&#47;&#47;</code> hard-coded anywhere in your code/configs? I think in your case the API base URL in Springdoc/Swagger UI configs is supposed to be set to <code>&#47;</code> (i.e. the server root) so that Swagger UI will send API calls to exactly the same server/protocol from where it&#39;s served."},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1677689806,"post_id":75597838,"comment_id":133388893,"body_markdown":"Maybe the suggestions here will help? -&gt; https://github.com/springdoc/springdoc-openapi/issues/118","body":"Maybe the suggestions here will help? -&gt; <a href=\"https://github.com/springdoc/springdoc-openapi/issues/118\" rel=\"nofollow noreferrer\">github.com/springdoc/springdoc-openapi/issues/118</a>"},{"owner":{"account_id":18223065,"reputation":11,"user_id":13263452,"display_name":"Palio"},"score":0,"creation_date":1677703074,"post_id":75597838,"comment_id":133392562,"body_markdown":"Hi, @Helen thank you so much, it a little works now, I put some configuration from your last response, and addition from this link [link](https://stackoverflow.com/questions/37671125/how-to-configure-spring-security-to-allow-swagger-url-to-be-accessed-without-aut)\n\nI have a question if it&#180;s possible set manually headers for all EndPoints ? I mean that if it is possible that from code all Apis have for example a specific header (&quot;customheader&quot;:&quot;value&quot;)","body":"Hi, @Helen thank you so much, it a little works now, I put some configuration from your last response, and addition from this link <a href=\"https://stackoverflow.com/questions/37671125/how-to-configure-spring-security-to-allow-swagger-url-to-be-accessed-without-aut\">link</a>  I have a question if it&#180;s possible set manually headers for all EndPoints ? I mean that if it is possible that from code all Apis have for example a specific header (&quot;customheader&quot;:&quot;value&quot;)"}],"owner":{"account_id":18223065,"reputation":11,"user_id":13263452,"display_name":"Palio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677689470,"creation_date":1677622615,"question_id":75597838,"body_markdown":"Recently I&#39;ve moved from SpringFox 2 to Springdoc + OpenAPI 3. It&#39;s a bit faster and it works perfectly in my local environment.\r\n\r\nWhen I try to use it in the production environment, the Swagger UI page opens fine. The problem is when I hit the API endpoint, Swagger UI shows this error message:\r\n\r\n[![Error in Swagger UI][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hplRq.png\r\n\r\nThe error in the browser console is:\r\n\r\n&gt; Mixed Content: The page at &#39;https://&amp;lt;myproductionUrl&gt;/swagger-ui/index.html#/Ravel/getLabelFormats&#39; was loaded over HTTPS, but requested an insecure resource &#39;http://&amp;lt;myproductionAPIUrl&gt;/labels?language=10&amp;includeData=false&#39;. This request has been blocked; the content must be served over HTTPS.\r\n\r\n\r\nI enabled CORS in my Spring Boot project:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n                .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n\r\n        registry.addResourceHandler(&quot;/webjars/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;);\r\n    }\r\n\r\nThis is my Pom file:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-annotations --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-models --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.79.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nMy `application.yml` file configuration:\r\n\r\n&lt;!-- language: lang-yaml --&gt;\r\n\r\n    springdoc:\r\n      swagger-ui:\r\n        enabled: true\r\n        disable-swagger-default-url: true\r\n      api-docs:\r\n        path: /v3/api-docs\r\n\r\nJava 8&lt;br/&gt;\r\nSpring Boot 2.7.8\r\n\r\nI don&#39;t know what configuration I&#39;ve forgot. Can someone orient me?","title":"How to fix the mixed content error in Swagger UI?","body":"<p>Recently I've moved from SpringFox 2 to Springdoc + OpenAPI 3. It's a bit faster and it works perfectly in my local environment.</p>\n<p>When I try to use it in the production environment, the Swagger UI page opens fine. The problem is when I hit the API endpoint, Swagger UI shows this error message:</p>\n<p><a href=\"https://i.stack.imgur.com/hplRq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hplRq.png\" alt=\"Error in Swagger UI\" /></a></p>\n<p>The error in the browser console is:</p>\n<blockquote>\n<p>Mixed Content: The page at 'https://&lt;myproductionUrl&gt;/swagger-ui/index.html#/Ravel/getLabelFormats' was loaded over HTTPS, but requested an insecure resource 'http://&lt;myproductionAPIUrl&gt;/labels?language=10&amp;includeData=false'. This request has been blocked; the content must be served over HTTPS.</p>\n</blockquote>\n<p>I enabled CORS in my Spring Boot project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;swagger-ui.html&quot;)\n            .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n\n    registry.addResourceHandler(&quot;/webjars/**&quot;)\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n}\n\n@Override\npublic void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;);\n}\n</code></pre>\n<p>This is my Pom file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.9&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-annotations --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-models --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\n        &lt;version&gt;2.2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\n        &lt;version&gt;4.1.79.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>My <code>application.yml</code> file configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>springdoc:\n  swagger-ui:\n    enabled: true\n    disable-swagger-default-url: true\n  api-docs:\n    path: /v3/api-docs\n</code></pre>\n<p>Java 8<br/>\nSpring Boot 2.7.8</p>\n<p>I don't know what configuration I've forgot. Can someone orient me?</p>\n"},{"tags":["java","docker","out-of-memory","restart"],"comments":[{"owner":{"account_id":64170,"reputation":9368,"user_id":189572,"accept_rate":90,"display_name":"Max"},"score":0,"creation_date":1606566976,"post_id":65048873,"comment_id":115001491,"body_markdown":"I believe Docker won&#39;t restart if the container fails  within 10 seconds. https://docs.docker.com/config/containers/start-containers-automatically/#restart-policy-details","body":"I believe Docker won&#39;t restart if the container fails  within 10 seconds. <a href=\"https://docs.docker.com/config/containers/start-containers-automatically/#restart-policy-details\" rel=\"nofollow noreferrer\">docs.docker.com/config/containers/&hellip;</a>"},{"owner":{"account_id":1438425,"reputation":669,"user_id":1359285,"display_name":"Bruno"},"score":0,"creation_date":1606580405,"post_id":65048873,"comment_id":115005580,"body_markdown":"Hmm, thank you, I didn&#39;t know. If that is the case there should be an option to delay the restart X seconds otherwise it looks like it doesn&#39;t work properly in this case. Every morning I just do docker start xxx and it boots fine.","body":"Hmm, thank you, I didn&#39;t know. If that is the case there should be an option to delay the restart X seconds otherwise it looks like it doesn&#39;t work properly in this case. Every morning I just do docker start xxx and it boots fine."},{"owner":{"account_id":64170,"reputation":9368,"user_id":189572,"accept_rate":90,"display_name":"Max"},"score":0,"creation_date":1606587177,"post_id":65048873,"comment_id":115007691,"body_markdown":"Could it be flaky and only fail occasionally? Maybe add some logging to identify the root cause of the occasional failures?","body":"Could it be flaky and only fail occasionally? Maybe add some logging to identify the root cause of the occasional failures?"}],"answers":[{"tags":[],"owner":{"account_id":27431324,"reputation":1,"user_id":20927971,"display_name":"Wahida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677689344,"creation_date":1677689344,"answer_id":75606687,"question_id":65048873,"body_markdown":"Option ExitOnOutOfMemoryError solved the problem for me. This is a part of docker-compose file : \r\n```\r\nservices:\r\n  app:\r\n    image: my_image \r\n    ports:\r\n      - 8080:8080\r\n    environment: \r\n      - &quot;JAVA_OPTS=-XX:+ExitOnOutOfMemoryError&quot;\r\n    restart: always\r\n```","title":"Docker container with --restart=always not restarting after Out of Memory error","body":"<p>Option ExitOnOutOfMemoryError solved the problem for me. This is a part of docker-compose file :</p>\n<pre><code>services:\n  app:\n    image: my_image \n    ports:\n      - 8080:8080\n    environment: \n      - &quot;JAVA_OPTS=-XX:+ExitOnOutOfMemoryError&quot;\n    restart: always\n</code></pre>\n"}],"owner":{"account_id":1438425,"reputation":669,"user_id":1359285,"display_name":"Bruno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677689344,"creation_date":1606561278,"question_id":65048873,"body_markdown":"As you can see bellow my restart police is set to &quot;always&quot;, but almost every night I get an out of memory (expected and not the issue I&#39;m trying to solve here) and in the morning the container is stopped.\r\nIf we check the RestartCount property it says 2, does this mean that it restarted twice and then stopped? Is it possible that it failed during the start process for some reason and stopped trying? \r\nEverything works fine when I start it again manually. \r\n\r\nHere is the docker inspect result, let me know if you have a clue on what&#39;s happening.\r\n\r\n    {\r\n        &quot;Id&quot;: &quot;...&quot;,\r\n        &quot;Created&quot;: &quot;2020-11-26T16:32:57.611591274Z&quot;,\r\n        &quot;Path&quot;: &quot;/bin/sh&quot;,\r\n        &quot;Args&quot;: [\r\n            &quot;-c&quot;,\r\n            &quot;/entrypoint.sh $profile $service_name&quot;\r\n        ],\r\n        &quot;State&quot;: {\r\n            &quot;Status&quot;: &quot;exited&quot;,\r\n            &quot;Running&quot;: false,\r\n            &quot;Paused&quot;: false,\r\n            &quot;Restarting&quot;: false,\r\n            &quot;OOMKilled&quot;: false,\r\n            &quot;Dead&quot;: false,\r\n            &quot;Pid&quot;: 0,\r\n            &quot;ExitCode&quot;: 137,\r\n            &quot;Error&quot;: &quot;OCI runtime create failed: container_linux.go:349: starting container process caused \\&quot;process_linux.go:449: container init caused \\\\\\&quot;process_linux.go:432: running prestart hook 0 caused \\\\\\\\\\\\\\&quot;error running hook: exit status 2, stdout: , stderr: fatal error: runtime: out of memory\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\nruntime stack:\\\\\\\\\\\\\\\\nruntime.throw(0x5630cae5b359, 0x16)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/panic.go:774 +0x74 fp=0x7ffffee76988 sp=0x7ffffee76958 pc=0x5630c9507714\\\\\\\\\\\\\\\\nruntime.sysMap(0xc000000000, 0x4000000, 0x5630cd2a71f8)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mem_linux.go:169 +0xc7 fp=0x7ffffee769c8 sp=0x7ffffee76988 pc=0x5630c94f0457\\\\\\\\\\\\\\\\nruntime.(*mheap).sysAlloc(0x5630cd28aa40, 0x2000, 0x0, 0x0)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/malloc.go:701 +0x1cf fp=0x7ffffee76a70 sp=0x7ffffee769c8 pc=0x5630c94e33ff\\\\\\\\\\\\\\\\nruntime.(*mheap).grow(0x5630cd28aa40, 0x1, 0xffffffff)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mheap.go:1255 +0xa5 fp=0x7ffffee76ac0 sp=0x7ffffee76a70 pc=0x5630c94fe605\\\\\\\\\\\\\\\\nruntime.(*mheap).allocSpanLocked(0x5630cd28aa40, 0x1, 0x5630cd2a7208, 0x1)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mheap.go:1170 +0x268 fp=0x7ffffee76b40 sp=0x7ffffee76ac0 pc=0x5630c94fe498\\\\\\\\\\\\\\\\nruntime.(*mheap).alloc_m(0x5630cd28aa40, 0x1, 0x5630c953002a, 0x0)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mheap.go:1022 +0xc6 fp=0x7ffffee76b90 sp=0x7ffffee76b40 pc=0x5630c94fdd36\\\\\\\\\\\\\\\\nruntime.(*mheap).alloc.func1()\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mheap.go:1093 +0x4e fp=0x7ffffee76bc8 sp=0x7ffffee76b90 pc=0x5630c95339de\\\\\\\\\\\\\\\\nruntime.(*mheap).alloc(0x5630cd28aa40, 0x1, 0x1002a, 0x40000)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mheap.go:1092 +0x8c fp=0x7ffffee76c18 sp=0x7ffffee76bc8 pc=0x5630c94fe01c\\\\\\\\\\\\\\\\nruntime.(*mcentral).grow(0x5630cd28b878, 0x0)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mcentral.go:255 +0x7d fp=0x7ffffee76c58 sp=0x7ffffee76c18 pc=0x5630c94efe7d\\\\\\\\\\\\\\\\nruntime.(*mcentral).cacheSpan(0x5630cd28b878, 0x7f7e1619e000)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mcentral.go:106 +0x300 fp=0x7ffffee76cb8 sp=0x7ffffee76c58 pc=0x5630c94ef9a0\\\\\\\\\\\\\\\\nruntime.(*mcache).refill(0x7f7e1619e008, 0x2a)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mcache.go:138 +0x87 fp=0x7ffffee76cd8 sp=0x7ffffee76cb8 pc=0x5630c94ef437\\\\\\\\\\\\\\\\nruntime.(*mcache).nextFree(0x7f7e1619e008, 0x5630cd2a722a, 0x7f7e1619e008, 0x8, 0xfffffffffffffff8)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/malloc.go:854 +0x89 fp=0x7ffffee76d10 sp=0x7ffffee76cd8 pc=0x5630c94e3c29\\\\\\\\\\\\\\\\nruntime.mallocgc(0x180, 0x5630cc009ea0, 0x1, 0x5630cd2a7260)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/malloc.go:1022 +0x7a5 fp=0x7ffffee76db0 sp=0x7ffffee76d10 pc=0x5630c94e4575\\\\\\\\\\\\\\\\nruntime.newobject(0x5630cc009ea0, 0x4000)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/malloc.go:1151 +0x3a fp=0x7ffffee76de0 sp=0x7ffffee76db0 pc=0x5630c94e497a\\\\\\\\\\\\\\\\nruntime.malg(0x1196e00008000, 0x5630cd28d0e8)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/proc.go:3232 +0x33 fp=0x7ffffee76e20 sp=0x7ffffee76de0 pc=0x5630c9510be3\\\\\\\\\\\\\\\\nruntime.mpreinit(...)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/os_linux.go:324\\\\\\\\\\\\\\\\nruntime.mcommoninit(0x5630cd285500)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/proc.go:626 +0xc6 fp=0x7ffffee76e58 sp=0x7ffffee76e20 pc=0x5630c950a516\\\\\\\\\\\\\\\\nruntime.schedinit()\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/proc.go:543 +0x76 fp=0x7ffffee76eb0 sp=0x7ffffee76e58 pc=0x5630c950a176\\\\\\\\\\\\\\\\nruntime.rt0_go(0x7ffffee76fb8, 0x4, 0x7ffffee76fb8, 0x0, 0x7f7e1515c02a, 0x4, 0x7ffffee76fb8, 0x4fee76fe0, 0x5630c9535da0, 0x0, ...)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/asm_amd64.s:214 +0x129 fp=0x7ffffee76eb8 sp=0x7ffffee76eb0 pc=0x5630c9535ed9\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\&quot;\\\\\\&quot;\\&quot;: unknown&quot;,\r\n            &quot;StartedAt&quot;: &quot;2020-11-27T02:53:11.621911146Z&quot;,\r\n            &quot;FinishedAt&quot;: &quot;2020-11-28T02:53:12.35136947Z&quot;\r\n        },\r\n        &quot;Image&quot;: &quot;...&quot;,\r\n        &quot;ResolvConfPath&quot;: &quot;/.../resolv.conf&quot;,\r\n        &quot;HostnamePath&quot;: &quot;/.../hostname&quot;,\r\n        &quot;HostsPath&quot;: &quot;/.../hosts&quot;,\r\n        &quot;LogPath&quot;: &quot;/...-json.log&quot;,\r\n        &quot;Name&quot;: &quot;/service&quot;,\r\n        &quot;RestartCount&quot;: 2,\r\n        &quot;Driver&quot;: &quot;overlay2&quot;,\r\n        &quot;Platform&quot;: &quot;linux&quot;,\r\n        &quot;MountLabel&quot;: &quot;&quot;,\r\n        &quot;ProcessLabel&quot;: &quot;&quot;,\r\n        &quot;AppArmorProfile&quot;: &quot;&quot;,\r\n        &quot;ExecIDs&quot;: null,\r\n        &quot;HostConfig&quot;: {\r\n            &quot;Binds&quot;: [\r\n                &quot;/home/ec2-user/logs:/logs&quot;,\r\n                &quot;/var/www:/www&quot;\r\n            ],\r\n            &quot;ContainerIDFile&quot;: &quot;&quot;,\r\n            &quot;LogConfig&quot;: {\r\n                &quot;Type&quot;: &quot;json-file&quot;,\r\n                &quot;Config&quot;: {}\r\n            },\r\n            &quot;NetworkMode&quot;: &quot;default&quot;,\r\n            &quot;PortBindings&quot;: {\r\n                &quot;8082/tcp&quot;: [\r\n                    {\r\n                        &quot;HostIp&quot;: &quot;&quot;,\r\n                        &quot;HostPort&quot;: &quot;8082&quot;\r\n                    }\r\n                ]\r\n            },\r\n            &quot;RestartPolicy&quot;: {\r\n                &quot;Name&quot;: &quot;always&quot;,\r\n                &quot;MaximumRetryCount&quot;: 0\r\n            },\r\n            &quot;AutoRemove&quot;: false,\r\n            &quot;VolumeDriver&quot;: &quot;&quot;,\r\n            &quot;VolumesFrom&quot;: null,\r\n            &quot;CapAdd&quot;: null,\r\n            &quot;CapDrop&quot;: null,\r\n            &quot;Capabilities&quot;: null,\r\n            &quot;Dns&quot;: [],\r\n            &quot;DnsOptions&quot;: [],\r\n            &quot;DnsSearch&quot;: [],\r\n            &quot;ExtraHosts&quot;: null,\r\n            &quot;GroupAdd&quot;: null,\r\n            &quot;IpcMode&quot;: &quot;private&quot;,\r\n            &quot;Cgroup&quot;: &quot;&quot;,\r\n            &quot;Links&quot;: null,\r\n            &quot;OomScoreAdj&quot;: 0,\r\n            &quot;PidMode&quot;: &quot;&quot;,\r\n            &quot;Privileged&quot;: false,\r\n            &quot;PublishAllPorts&quot;: false,\r\n            &quot;ReadonlyRootfs&quot;: false,\r\n            &quot;SecurityOpt&quot;: null,\r\n            &quot;UTSMode&quot;: &quot;&quot;,\r\n            &quot;UsernsMode&quot;: &quot;&quot;,\r\n            &quot;ShmSize&quot;: 67108864,\r\n            &quot;Runtime&quot;: &quot;runc&quot;,\r\n            &quot;ConsoleSize&quot;: [\r\n                0,\r\n                0\r\n            ],\r\n            &quot;Isolation&quot;: &quot;&quot;,\r\n            &quot;CpuShares&quot;: 0,\r\n            &quot;Memory&quot;: 629145600,\r\n            &quot;NanoCpus&quot;: 0,\r\n            &quot;CgroupParent&quot;: &quot;&quot;,\r\n            &quot;BlkioWeight&quot;: 0,\r\n            &quot;BlkioWeightDevice&quot;: [],\r\n            &quot;BlkioDeviceReadBps&quot;: null,\r\n            &quot;BlkioDeviceWriteBps&quot;: null,\r\n            &quot;BlkioDeviceReadIOps&quot;: null,\r\n            &quot;BlkioDeviceWriteIOps&quot;: null,\r\n            &quot;CpuPeriod&quot;: 0,\r\n            &quot;CpuQuota&quot;: 0,\r\n            &quot;CpuRealtimePeriod&quot;: 0,\r\n            &quot;CpuRealtimeRuntime&quot;: 0,\r\n            &quot;CpusetCpus&quot;: &quot;&quot;,\r\n            &quot;CpusetMems&quot;: &quot;&quot;,\r\n            &quot;Devices&quot;: [],\r\n            &quot;DeviceCgroupRules&quot;: null,\r\n            &quot;DeviceRequests&quot;: null,\r\n            &quot;KernelMemory&quot;: 0,\r\n            &quot;KernelMemoryTCP&quot;: 0,\r\n            &quot;MemoryReservation&quot;: 0,\r\n            &quot;MemorySwap&quot;: 1258291200,\r\n            &quot;MemorySwappiness&quot;: null,\r\n            &quot;OomKillDisable&quot;: false,\r\n            &quot;PidsLimit&quot;: null,\r\n            &quot;Ulimits&quot;: [\r\n                {\r\n                    &quot;Name&quot;: &quot;nofile&quot;,\r\n                    &quot;Hard&quot;: 4096,\r\n                    &quot;Soft&quot;: 1024\r\n                }\r\n            ],\r\n            &quot;CpuCount&quot;: 0,\r\n            &quot;CpuPercent&quot;: 0,\r\n            &quot;IOMaximumIOps&quot;: 0,\r\n            &quot;IOMaximumBandwidth&quot;: 0,\r\n            &quot;MaskedPaths&quot;: [\r\n                &quot;/proc/asound&quot;,\r\n                &quot;/proc/acpi&quot;,\r\n                &quot;/proc/kcore&quot;,\r\n                &quot;/proc/keys&quot;,\r\n                &quot;/proc/latency_stats&quot;,\r\n                &quot;/proc/timer_list&quot;,\r\n                &quot;/proc/timer_stats&quot;,\r\n                &quot;/proc/sched_debug&quot;,\r\n                &quot;/proc/scsi&quot;,\r\n                &quot;/sys/firmware&quot;\r\n            ],\r\n            &quot;ReadonlyPaths&quot;: [\r\n                &quot;/proc/bus&quot;,\r\n                &quot;/proc/fs&quot;,\r\n                &quot;/proc/irq&quot;,\r\n                &quot;/proc/sys&quot;,\r\n                &quot;/proc/sysrq-trigger&quot;\r\n            ]\r\n        },\r\n        &quot;GraphDriver&quot;: {\r\n            &quot;Data&quot;: {\r\n                &quot;LowerDir&quot;: &quot;/.../diff&quot;,\r\n                &quot;MergedDir&quot;: &quot;/.../merged&quot;,\r\n                &quot;UpperDir&quot;: &quot;/.../diff&quot;,\r\n                &quot;WorkDir&quot;: &quot;/.../work&quot;\r\n            },\r\n            &quot;Name&quot;: &quot;overlay2&quot;\r\n        },\r\n        &quot;Mounts&quot;: [\r\n            {\r\n                &quot;Type&quot;: &quot;bind&quot;,\r\n                &quot;Source&quot;: &quot;/home/ec2-user/logs/service&quot;,\r\n                &quot;Destination&quot;: &quot;/logs&quot;,\r\n                &quot;Mode&quot;: &quot;&quot;,\r\n                &quot;RW&quot;: true,\r\n                &quot;Propagation&quot;: &quot;rprivate&quot;\r\n            },\r\n            {\r\n                &quot;Type&quot;: &quot;bind&quot;,\r\n                &quot;Source&quot;: &quot;/var/www/service&quot;,\r\n                &quot;Destination&quot;: &quot;/www&quot;,\r\n                &quot;Mode&quot;: &quot;&quot;,\r\n                &quot;RW&quot;: true,\r\n                &quot;Propagation&quot;: &quot;rprivate&quot;\r\n            }\r\n        ],\r\n        &quot;Config&quot;: {\r\n            &quot;Hostname&quot;: &quot;b20730462c1d&quot;,\r\n            &quot;Domainname&quot;: &quot;&quot;,\r\n            &quot;User&quot;: &quot;&quot;,\r\n            &quot;AttachStdin&quot;: false,\r\n            &quot;AttachStdout&quot;: false,\r\n            &quot;AttachStderr&quot;: false,\r\n            &quot;ExposedPorts&quot;: {\r\n                &quot;8082/tcp&quot;: {}\r\n            },\r\n            &quot;Tty&quot;: true,\r\n            &quot;OpenStdin&quot;: false,\r\n            &quot;StdinOnce&quot;: false,\r\n            &quot;Env&quot;: [\r\n                &quot;TZ=Europe/Lisbon&quot;,\r\n                &quot;JAVA_OPTS=-XX:MinRAMPercentage=60 -XX:MaxRAMPercentage=95 -XshowSettings:vm&quot;,\r\n                &quot;PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,\r\n                &quot;LANG=en_US.UTF-8&quot;,\r\n                &quot;LANGUAGE=en_US:en&quot;,\r\n                &quot;LC_ALL=en_US.UTF-8&quot;,\r\n                &quot;JAVA_VERSION=jdk-11.0.7+10&quot;,\r\n                &quot;JAVA_HOME=/opt/java/openjdk&quot;,\r\n                &quot;profile=prod&quot;,\r\n                &quot;service_name=service&quot;\r\n            ],\r\n            &quot;Cmd&quot;: null,\r\n            &quot;Image&quot;: &quot;...:latest&quot;,\r\n            &quot;Volumes&quot;: null,\r\n            &quot;WorkingDir&quot;: &quot;&quot;,\r\n            &quot;Entrypoint&quot;: [\r\n                &quot;/bin/sh&quot;,\r\n                &quot;-c&quot;,\r\n                &quot;/entrypoint.sh $profile $service_name&quot;\r\n            ],\r\n            &quot;OnBuild&quot;: null,\r\n            &quot;Labels&quot;: {\r\n                &quot;name&quot;: &quot;...&quot;,\r\n                &quot;version&quot;: &quot;\\&quot;0.0.1\\&quot;&quot;\r\n            }\r\n        },\r\n        &quot;NetworkSettings&quot;: {\r\n            &quot;Bridge&quot;: &quot;&quot;,\r\n            &quot;SandboxID&quot;: &quot;...&quot;,\r\n            &quot;HairpinMode&quot;: false,\r\n            &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,\r\n            &quot;LinkLocalIPv6PrefixLen&quot;: 0,\r\n            &quot;Ports&quot;: {},\r\n            &quot;SandboxKey&quot;: &quot;/var/run/docker/netns/3873dd087817&quot;,\r\n            &quot;SecondaryIPAddresses&quot;: null,\r\n            &quot;SecondaryIPv6Addresses&quot;: null,\r\n            &quot;EndpointID&quot;: &quot;&quot;,\r\n            &quot;Gateway&quot;: &quot;&quot;,\r\n            &quot;GlobalIPv6Address&quot;: &quot;&quot;,\r\n            &quot;GlobalIPv6PrefixLen&quot;: 0,\r\n            &quot;IPAddress&quot;: &quot;&quot;,\r\n            &quot;IPPrefixLen&quot;: 0,\r\n            &quot;IPv6Gateway&quot;: &quot;&quot;,\r\n            &quot;MacAddress&quot;: &quot;&quot;,\r\n            &quot;Networks&quot;: {\r\n                &quot;bridge&quot;: {\r\n                    &quot;IPAMConfig&quot;: null,\r\n                    &quot;Links&quot;: null,\r\n                    &quot;Aliases&quot;: null,\r\n                    &quot;NetworkID&quot;: &quot;...&quot;,\r\n                    &quot;EndpointID&quot;: &quot;&quot;,\r\n                    &quot;Gateway&quot;: &quot;&quot;,\r\n                    &quot;IPAddress&quot;: &quot;&quot;,\r\n                    &quot;IPPrefixLen&quot;: 0,\r\n                    &quot;IPv6Gateway&quot;: &quot;&quot;,\r\n                    &quot;GlobalIPv6Address&quot;: &quot;&quot;,\r\n                    &quot;GlobalIPv6PrefixLen&quot;: 0,\r\n                    &quot;MacAddress&quot;: &quot;&quot;,\r\n                    &quot;DriverOpts&quot;: null\r\n                }\r\n            }\r\n        }\r\n    }","title":"Docker container with --restart=always not restarting after Out of Memory error","body":"<p>As you can see bellow my restart police is set to &quot;always&quot;, but almost every night I get an out of memory (expected and not the issue I'm trying to solve here) and in the morning the container is stopped.\nIf we check the RestartCount property it says 2, does this mean that it restarted twice and then stopped? Is it possible that it failed during the start process for some reason and stopped trying?\nEverything works fine when I start it again manually.</p>\n<p>Here is the docker inspect result, let me know if you have a clue on what's happening.</p>\n<pre><code>{\n    &quot;Id&quot;: &quot;...&quot;,\n    &quot;Created&quot;: &quot;2020-11-26T16:32:57.611591274Z&quot;,\n    &quot;Path&quot;: &quot;/bin/sh&quot;,\n    &quot;Args&quot;: [\n        &quot;-c&quot;,\n        &quot;/entrypoint.sh $profile $service_name&quot;\n    ],\n    &quot;State&quot;: {\n        &quot;Status&quot;: &quot;exited&quot;,\n        &quot;Running&quot;: false,\n        &quot;Paused&quot;: false,\n        &quot;Restarting&quot;: false,\n        &quot;OOMKilled&quot;: false,\n        &quot;Dead&quot;: false,\n        &quot;Pid&quot;: 0,\n        &quot;ExitCode&quot;: 137,\n        &quot;Error&quot;: &quot;OCI runtime create failed: container_linux.go:349: starting container process caused \\&quot;process_linux.go:449: container init caused \\\\\\&quot;process_linux.go:432: running prestart hook 0 caused \\\\\\\\\\\\\\&quot;error running hook: exit status 2, stdout: , stderr: fatal error: runtime: out of memory\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\nruntime stack:\\\\\\\\\\\\\\\\nruntime.throw(0x5630cae5b359, 0x16)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/panic.go:774 +0x74 fp=0x7ffffee76988 sp=0x7ffffee76958 pc=0x5630c9507714\\\\\\\\\\\\\\\\nruntime.sysMap(0xc000000000, 0x4000000, 0x5630cd2a71f8)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mem_linux.go:169 +0xc7 fp=0x7ffffee769c8 sp=0x7ffffee76988 pc=0x5630c94f0457\\\\\\\\\\\\\\\\nruntime.(*mheap).sysAlloc(0x5630cd28aa40, 0x2000, 0x0, 0x0)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/malloc.go:701 +0x1cf fp=0x7ffffee76a70 sp=0x7ffffee769c8 pc=0x5630c94e33ff\\\\\\\\\\\\\\\\nruntime.(*mheap).grow(0x5630cd28aa40, 0x1, 0xffffffff)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mheap.go:1255 +0xa5 fp=0x7ffffee76ac0 sp=0x7ffffee76a70 pc=0x5630c94fe605\\\\\\\\\\\\\\\\nruntime.(*mheap).allocSpanLocked(0x5630cd28aa40, 0x1, 0x5630cd2a7208, 0x1)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mheap.go:1170 +0x268 fp=0x7ffffee76b40 sp=0x7ffffee76ac0 pc=0x5630c94fe498\\\\\\\\\\\\\\\\nruntime.(*mheap).alloc_m(0x5630cd28aa40, 0x1, 0x5630c953002a, 0x0)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mheap.go:1022 +0xc6 fp=0x7ffffee76b90 sp=0x7ffffee76b40 pc=0x5630c94fdd36\\\\\\\\\\\\\\\\nruntime.(*mheap).alloc.func1()\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mheap.go:1093 +0x4e fp=0x7ffffee76bc8 sp=0x7ffffee76b90 pc=0x5630c95339de\\\\\\\\\\\\\\\\nruntime.(*mheap).alloc(0x5630cd28aa40, 0x1, 0x1002a, 0x40000)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mheap.go:1092 +0x8c fp=0x7ffffee76c18 sp=0x7ffffee76bc8 pc=0x5630c94fe01c\\\\\\\\\\\\\\\\nruntime.(*mcentral).grow(0x5630cd28b878, 0x0)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mcentral.go:255 +0x7d fp=0x7ffffee76c58 sp=0x7ffffee76c18 pc=0x5630c94efe7d\\\\\\\\\\\\\\\\nruntime.(*mcentral).cacheSpan(0x5630cd28b878, 0x7f7e1619e000)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mcentral.go:106 +0x300 fp=0x7ffffee76cb8 sp=0x7ffffee76c58 pc=0x5630c94ef9a0\\\\\\\\\\\\\\\\nruntime.(*mcache).refill(0x7f7e1619e008, 0x2a)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/mcache.go:138 +0x87 fp=0x7ffffee76cd8 sp=0x7ffffee76cb8 pc=0x5630c94ef437\\\\\\\\\\\\\\\\nruntime.(*mcache).nextFree(0x7f7e1619e008, 0x5630cd2a722a, 0x7f7e1619e008, 0x8, 0xfffffffffffffff8)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/malloc.go:854 +0x89 fp=0x7ffffee76d10 sp=0x7ffffee76cd8 pc=0x5630c94e3c29\\\\\\\\\\\\\\\\nruntime.mallocgc(0x180, 0x5630cc009ea0, 0x1, 0x5630cd2a7260)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/malloc.go:1022 +0x7a5 fp=0x7ffffee76db0 sp=0x7ffffee76d10 pc=0x5630c94e4575\\\\\\\\\\\\\\\\nruntime.newobject(0x5630cc009ea0, 0x4000)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/malloc.go:1151 +0x3a fp=0x7ffffee76de0 sp=0x7ffffee76db0 pc=0x5630c94e497a\\\\\\\\\\\\\\\\nruntime.malg(0x1196e00008000, 0x5630cd28d0e8)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/proc.go:3232 +0x33 fp=0x7ffffee76e20 sp=0x7ffffee76de0 pc=0x5630c9510be3\\\\\\\\\\\\\\\\nruntime.mpreinit(...)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/os_linux.go:324\\\\\\\\\\\\\\\\nruntime.mcommoninit(0x5630cd285500)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/proc.go:626 +0xc6 fp=0x7ffffee76e58 sp=0x7ffffee76e20 pc=0x5630c950a516\\\\\\\\\\\\\\\\nruntime.schedinit()\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/proc.go:543 +0x76 fp=0x7ffffee76eb0 sp=0x7ffffee76e58 pc=0x5630c950a176\\\\\\\\\\\\\\\\nruntime.rt0_go(0x7ffffee76fb8, 0x4, 0x7ffffee76fb8, 0x0, 0x7f7e1515c02a, 0x4, 0x7ffffee76fb8, 0x4fee76fe0, 0x5630c9535da0, 0x0, ...)\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t/usr/lib/golang/src/runtime/asm_amd64.s:214 +0x129 fp=0x7ffffee76eb8 sp=0x7ffffee76eb0 pc=0x5630c9535ed9\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\&quot;\\\\\\&quot;\\&quot;: unknown&quot;,\n        &quot;StartedAt&quot;: &quot;2020-11-27T02:53:11.621911146Z&quot;,\n        &quot;FinishedAt&quot;: &quot;2020-11-28T02:53:12.35136947Z&quot;\n    },\n    &quot;Image&quot;: &quot;...&quot;,\n    &quot;ResolvConfPath&quot;: &quot;/.../resolv.conf&quot;,\n    &quot;HostnamePath&quot;: &quot;/.../hostname&quot;,\n    &quot;HostsPath&quot;: &quot;/.../hosts&quot;,\n    &quot;LogPath&quot;: &quot;/...-json.log&quot;,\n    &quot;Name&quot;: &quot;/service&quot;,\n    &quot;RestartCount&quot;: 2,\n    &quot;Driver&quot;: &quot;overlay2&quot;,\n    &quot;Platform&quot;: &quot;linux&quot;,\n    &quot;MountLabel&quot;: &quot;&quot;,\n    &quot;ProcessLabel&quot;: &quot;&quot;,\n    &quot;AppArmorProfile&quot;: &quot;&quot;,\n    &quot;ExecIDs&quot;: null,\n    &quot;HostConfig&quot;: {\n        &quot;Binds&quot;: [\n            &quot;/home/ec2-user/logs:/logs&quot;,\n            &quot;/var/www:/www&quot;\n        ],\n        &quot;ContainerIDFile&quot;: &quot;&quot;,\n        &quot;LogConfig&quot;: {\n            &quot;Type&quot;: &quot;json-file&quot;,\n            &quot;Config&quot;: {}\n        },\n        &quot;NetworkMode&quot;: &quot;default&quot;,\n        &quot;PortBindings&quot;: {\n            &quot;8082/tcp&quot;: [\n                {\n                    &quot;HostIp&quot;: &quot;&quot;,\n                    &quot;HostPort&quot;: &quot;8082&quot;\n                }\n            ]\n        },\n        &quot;RestartPolicy&quot;: {\n            &quot;Name&quot;: &quot;always&quot;,\n            &quot;MaximumRetryCount&quot;: 0\n        },\n        &quot;AutoRemove&quot;: false,\n        &quot;VolumeDriver&quot;: &quot;&quot;,\n        &quot;VolumesFrom&quot;: null,\n        &quot;CapAdd&quot;: null,\n        &quot;CapDrop&quot;: null,\n        &quot;Capabilities&quot;: null,\n        &quot;Dns&quot;: [],\n        &quot;DnsOptions&quot;: [],\n        &quot;DnsSearch&quot;: [],\n        &quot;ExtraHosts&quot;: null,\n        &quot;GroupAdd&quot;: null,\n        &quot;IpcMode&quot;: &quot;private&quot;,\n        &quot;Cgroup&quot;: &quot;&quot;,\n        &quot;Links&quot;: null,\n        &quot;OomScoreAdj&quot;: 0,\n        &quot;PidMode&quot;: &quot;&quot;,\n        &quot;Privileged&quot;: false,\n        &quot;PublishAllPorts&quot;: false,\n        &quot;ReadonlyRootfs&quot;: false,\n        &quot;SecurityOpt&quot;: null,\n        &quot;UTSMode&quot;: &quot;&quot;,\n        &quot;UsernsMode&quot;: &quot;&quot;,\n        &quot;ShmSize&quot;: 67108864,\n        &quot;Runtime&quot;: &quot;runc&quot;,\n        &quot;ConsoleSize&quot;: [\n            0,\n            0\n        ],\n        &quot;Isolation&quot;: &quot;&quot;,\n        &quot;CpuShares&quot;: 0,\n        &quot;Memory&quot;: 629145600,\n        &quot;NanoCpus&quot;: 0,\n        &quot;CgroupParent&quot;: &quot;&quot;,\n        &quot;BlkioWeight&quot;: 0,\n        &quot;BlkioWeightDevice&quot;: [],\n        &quot;BlkioDeviceReadBps&quot;: null,\n        &quot;BlkioDeviceWriteBps&quot;: null,\n        &quot;BlkioDeviceReadIOps&quot;: null,\n        &quot;BlkioDeviceWriteIOps&quot;: null,\n        &quot;CpuPeriod&quot;: 0,\n        &quot;CpuQuota&quot;: 0,\n        &quot;CpuRealtimePeriod&quot;: 0,\n        &quot;CpuRealtimeRuntime&quot;: 0,\n        &quot;CpusetCpus&quot;: &quot;&quot;,\n        &quot;CpusetMems&quot;: &quot;&quot;,\n        &quot;Devices&quot;: [],\n        &quot;DeviceCgroupRules&quot;: null,\n        &quot;DeviceRequests&quot;: null,\n        &quot;KernelMemory&quot;: 0,\n        &quot;KernelMemoryTCP&quot;: 0,\n        &quot;MemoryReservation&quot;: 0,\n        &quot;MemorySwap&quot;: 1258291200,\n        &quot;MemorySwappiness&quot;: null,\n        &quot;OomKillDisable&quot;: false,\n        &quot;PidsLimit&quot;: null,\n        &quot;Ulimits&quot;: [\n            {\n                &quot;Name&quot;: &quot;nofile&quot;,\n                &quot;Hard&quot;: 4096,\n                &quot;Soft&quot;: 1024\n            }\n        ],\n        &quot;CpuCount&quot;: 0,\n        &quot;CpuPercent&quot;: 0,\n        &quot;IOMaximumIOps&quot;: 0,\n        &quot;IOMaximumBandwidth&quot;: 0,\n        &quot;MaskedPaths&quot;: [\n            &quot;/proc/asound&quot;,\n            &quot;/proc/acpi&quot;,\n            &quot;/proc/kcore&quot;,\n            &quot;/proc/keys&quot;,\n            &quot;/proc/latency_stats&quot;,\n            &quot;/proc/timer_list&quot;,\n            &quot;/proc/timer_stats&quot;,\n            &quot;/proc/sched_debug&quot;,\n            &quot;/proc/scsi&quot;,\n            &quot;/sys/firmware&quot;\n        ],\n        &quot;ReadonlyPaths&quot;: [\n            &quot;/proc/bus&quot;,\n            &quot;/proc/fs&quot;,\n            &quot;/proc/irq&quot;,\n            &quot;/proc/sys&quot;,\n            &quot;/proc/sysrq-trigger&quot;\n        ]\n    },\n    &quot;GraphDriver&quot;: {\n        &quot;Data&quot;: {\n            &quot;LowerDir&quot;: &quot;/.../diff&quot;,\n            &quot;MergedDir&quot;: &quot;/.../merged&quot;,\n            &quot;UpperDir&quot;: &quot;/.../diff&quot;,\n            &quot;WorkDir&quot;: &quot;/.../work&quot;\n        },\n        &quot;Name&quot;: &quot;overlay2&quot;\n    },\n    &quot;Mounts&quot;: [\n        {\n            &quot;Type&quot;: &quot;bind&quot;,\n            &quot;Source&quot;: &quot;/home/ec2-user/logs/service&quot;,\n            &quot;Destination&quot;: &quot;/logs&quot;,\n            &quot;Mode&quot;: &quot;&quot;,\n            &quot;RW&quot;: true,\n            &quot;Propagation&quot;: &quot;rprivate&quot;\n        },\n        {\n            &quot;Type&quot;: &quot;bind&quot;,\n            &quot;Source&quot;: &quot;/var/www/service&quot;,\n            &quot;Destination&quot;: &quot;/www&quot;,\n            &quot;Mode&quot;: &quot;&quot;,\n            &quot;RW&quot;: true,\n            &quot;Propagation&quot;: &quot;rprivate&quot;\n        }\n    ],\n    &quot;Config&quot;: {\n        &quot;Hostname&quot;: &quot;b20730462c1d&quot;,\n        &quot;Domainname&quot;: &quot;&quot;,\n        &quot;User&quot;: &quot;&quot;,\n        &quot;AttachStdin&quot;: false,\n        &quot;AttachStdout&quot;: false,\n        &quot;AttachStderr&quot;: false,\n        &quot;ExposedPorts&quot;: {\n            &quot;8082/tcp&quot;: {}\n        },\n        &quot;Tty&quot;: true,\n        &quot;OpenStdin&quot;: false,\n        &quot;StdinOnce&quot;: false,\n        &quot;Env&quot;: [\n            &quot;TZ=Europe/Lisbon&quot;,\n            &quot;JAVA_OPTS=-XX:MinRAMPercentage=60 -XX:MaxRAMPercentage=95 -XshowSettings:vm&quot;,\n            &quot;PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,\n            &quot;LANG=en_US.UTF-8&quot;,\n            &quot;LANGUAGE=en_US:en&quot;,\n            &quot;LC_ALL=en_US.UTF-8&quot;,\n            &quot;JAVA_VERSION=jdk-11.0.7+10&quot;,\n            &quot;JAVA_HOME=/opt/java/openjdk&quot;,\n            &quot;profile=prod&quot;,\n            &quot;service_name=service&quot;\n        ],\n        &quot;Cmd&quot;: null,\n        &quot;Image&quot;: &quot;...:latest&quot;,\n        &quot;Volumes&quot;: null,\n        &quot;WorkingDir&quot;: &quot;&quot;,\n        &quot;Entrypoint&quot;: [\n            &quot;/bin/sh&quot;,\n            &quot;-c&quot;,\n            &quot;/entrypoint.sh $profile $service_name&quot;\n        ],\n        &quot;OnBuild&quot;: null,\n        &quot;Labels&quot;: {\n            &quot;name&quot;: &quot;...&quot;,\n            &quot;version&quot;: &quot;\\&quot;0.0.1\\&quot;&quot;\n        }\n    },\n    &quot;NetworkSettings&quot;: {\n        &quot;Bridge&quot;: &quot;&quot;,\n        &quot;SandboxID&quot;: &quot;...&quot;,\n        &quot;HairpinMode&quot;: false,\n        &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,\n        &quot;LinkLocalIPv6PrefixLen&quot;: 0,\n        &quot;Ports&quot;: {},\n        &quot;SandboxKey&quot;: &quot;/var/run/docker/netns/3873dd087817&quot;,\n        &quot;SecondaryIPAddresses&quot;: null,\n        &quot;SecondaryIPv6Addresses&quot;: null,\n        &quot;EndpointID&quot;: &quot;&quot;,\n        &quot;Gateway&quot;: &quot;&quot;,\n        &quot;GlobalIPv6Address&quot;: &quot;&quot;,\n        &quot;GlobalIPv6PrefixLen&quot;: 0,\n        &quot;IPAddress&quot;: &quot;&quot;,\n        &quot;IPPrefixLen&quot;: 0,\n        &quot;IPv6Gateway&quot;: &quot;&quot;,\n        &quot;MacAddress&quot;: &quot;&quot;,\n        &quot;Networks&quot;: {\n            &quot;bridge&quot;: {\n                &quot;IPAMConfig&quot;: null,\n                &quot;Links&quot;: null,\n                &quot;Aliases&quot;: null,\n                &quot;NetworkID&quot;: &quot;...&quot;,\n                &quot;EndpointID&quot;: &quot;&quot;,\n                &quot;Gateway&quot;: &quot;&quot;,\n                &quot;IPAddress&quot;: &quot;&quot;,\n                &quot;IPPrefixLen&quot;: 0,\n                &quot;IPv6Gateway&quot;: &quot;&quot;,\n                &quot;GlobalIPv6Address&quot;: &quot;&quot;,\n                &quot;GlobalIPv6PrefixLen&quot;: 0,\n                &quot;MacAddress&quot;: &quot;&quot;,\n                &quot;DriverOpts&quot;: null\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-data-rest"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677689303,"creation_date":1677684705,"answer_id":75605808,"question_id":75604082,"body_markdown":"You will be able to POST in a single call. Obviously the city and country must exist before the call.\r\n\r\nIn your instance I would expect the payload to be as follows:\r\n\r\n    POST http://localhost:8080/api/users\r\n    {\r\n        &quot;firstName&quot; : &quot;Joe&quot;,\r\n        &quot;lastName&quot; : &quot;Bloggs&quot;,\r\n        &quot;userName&quot; : &quot;user1&quot;,\r\n        &quot;city&quot; : &quot;http://localhost:8080/api/cities/1&quot;,\r\n        &quot;country&quot; : &quot;http://localhost:8080/api/countries/1&quot;\r\n    }\r\n\r\n","title":"Using Spring Data Rest POST for linking","body":"<p>You will be able to POST in a single call. Obviously the city and country must exist before the call.</p>\n<p>In your instance I would expect the payload to be as follows:</p>\n<pre><code>POST http://localhost:8080/api/users\n{\n    &quot;firstName&quot; : &quot;Joe&quot;,\n    &quot;lastName&quot; : &quot;Bloggs&quot;,\n    &quot;userName&quot; : &quot;user1&quot;,\n    &quot;city&quot; : &quot;http://localhost:8080/api/cities/1&quot;,\n    &quot;country&quot; : &quot;http://localhost:8080/api/countries/1&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":12047620,"reputation":99,"user_id":8811993,"display_name":"Kiran Kyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75605808,"answer_count":1,"score":1,"last_activity_date":1677689303,"creation_date":1677675634,"question_id":75604082,"body_markdown":"I&#39;m creating a user registration form in `React`. My backend is `Spring Data Rest`. The registration form has `firstName`, `lastName`, `username`, `city` &amp; `country` fields. `city` &amp; `country` fields are standard list so they come from `city` &amp; `country` tables. \r\n\r\nIn a regular Java MVC application, we would post the details like `&quot;firstName=Scot&amp;lastName=Taylor&amp;username=scot_taylor&amp;city=45&amp;country=32&quot;` at `/registration` url which will be collected at the Spring Controller in the following DTO.\r\n\r\n&lt;!-- language:java --&gt;\r\n    public class UserDetailDto {\r\n\r\n        private String firstName;\r\n        private String lastName,\r\n        private String username;\r\n        private Long city;   // primary key for city table\r\n        private Long country; // primary key for city table\r\n\r\n        // skipped other code like getter/setter\r\n    }\r\n\r\nThis DTO will then be passed to `registration service`. The `registration service` will load city &amp; country entities, associate to new `User` entity and save into the database.\r\n\r\nReading the spring data rest documentation it appears, I need to perform following 3 HTTP calls.\r\n 1. `POST:` to save User. `/users`\r\n 2. `PUT:` to update city relation `/users/1/city`\r\n 3. `PUT:` to update country relation `/users/1/country`\r\n\r\nHow can I implement the same in one api call with spring data rest &amp; react?","title":"Using Spring Data Rest POST for linking","body":"<p>I'm creating a user registration form in <code>React</code>. My backend is <code>Spring Data Rest</code>. The registration form has <code>firstName</code>, <code>lastName</code>, <code>username</code>, <code>city</code> &amp; <code>country</code> fields. <code>city</code> &amp; <code>country</code> fields are standard list so they come from <code>city</code> &amp; <code>country</code> tables.</p>\n<p>In a regular Java MVC application, we would post the details like <code>&quot;firstName=Scot&amp;lastName=Taylor&amp;username=scot_taylor&amp;city=45&amp;country=32&quot;</code> at <code>/registration</code> url which will be collected at the Spring Controller in the following DTO.</p>\n\n<pre><code>public class UserDetailDto {\n\n    private String firstName;\n    private String lastName,\n    private String username;\n    private Long city;   // primary key for city table\n    private Long country; // primary key for city table\n\n    // skipped other code like getter/setter\n}\n</code></pre>\n<p>This DTO will then be passed to <code>registration service</code>. The <code>registration service</code> will load city &amp; country entities, associate to new <code>User</code> entity and save into the database.</p>\n<p>Reading the spring data rest documentation it appears, I need to perform following 3 HTTP calls.</p>\n<ol>\n<li><code>POST:</code> to save User. <code>/users</code></li>\n<li><code>PUT:</code> to update city relation <code>/users/1/city</code></li>\n<li><code>PUT:</code> to update country relation <code>/users/1/country</code></li>\n</ol>\n<p>How can I implement the same in one api call with spring data rest &amp; react?</p>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1657651539,"post_id":72956920,"comment_id":128860003,"body_markdown":"It&#39;s not a part of the SDK. This class is available in `IDE_HOME\\plugins\\ExpressionLanguage\\lib\\el-support.jar`","body":"It&#39;s not a part of the SDK. This class is available in <code>IDE_HOME\\plugins\\ExpressionLanguage\\lib\\el-support.jar</code>"},{"owner":{"account_id":17234593,"reputation":1,"user_id":12478333,"display_name":"SightStudio"},"score":0,"creation_date":1657655594,"post_id":72956920,"comment_id":128861273,"body_markdown":"@CrazyCoder oh it works! it looks like i have to put that jar in project manually..\n\nthanks for help you saved my time","body":"@CrazyCoder oh it works! it looks like i have to put that jar in project manually..  thanks for help you saved my time"}],"answers":[{"tags":[],"owner":{"account_id":26408261,"reputation":1,"user_id":20057673,"display_name":"spacemiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668410056,"creation_date":1668410056,"answer_id":74428053,"question_id":72956920,"body_markdown":"change your `build.gradle.kts` file to above version\r\n```\r\nplugins {\r\n    id(&quot;java&quot;)\r\n    id(&quot;org.jetbrains.intellij&quot;) version &quot;1.9.0&quot;\r\n}\r\n\r\n....\r\nintellij {\r\n    version.set(&quot;2022.1&quot;)\r\n    type.set(&quot;IU&quot;) // Target IDE Platform\r\n    plugins.set(listOf(&quot;com.intellij.javaee.el&quot;))\r\n}\r\n```","title":"intellij sdk cannot import ElVariablesProvider","body":"<p>change your <code>build.gradle.kts</code> file to above version</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n    id(&quot;org.jetbrains.intellij&quot;) version &quot;1.9.0&quot;\n}\n\n....\nintellij {\n    version.set(&quot;2022.1&quot;)\n    type.set(&quot;IU&quot;) // Target IDE Platform\n    plugins.set(listOf(&quot;com.intellij.javaee.el&quot;))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17234593,"reputation":1,"user_id":12478333,"display_name":"SightStudio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677688880,"creation_date":1677688816,"answer_id":75606590,"question_id":72956920,"body_markdown":"i found out myself. \r\n\r\n\r\n```\r\ndependencies {\r\n    implementation(fileTree(&quot;libs&quot;))\r\n}\r\n\r\n```\r\n\r\nget the plugin jar direct from the plugin page and added it locally...\r\n\r\nhttps://plugins.jetbrains.com/plugin/20208-jakarta-ee-expression-language-el-/versions\r\n\r\n\r\n[image for intellij][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V3yry.png\r\n\r\n\r\nI couldn&#39;t find better way.","title":"intellij sdk cannot import ElVariablesProvider","body":"<p>i found out myself.</p>\n<pre><code>dependencies {\n    implementation(fileTree(&quot;libs&quot;))\n}\n\n</code></pre>\n<p>get the plugin jar direct from the plugin page and added it locally...</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/20208-jakarta-ee-expression-language-el-/versions\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/20208-jakarta-ee-expression-language-el-/versions</a></p>\n<p><a href=\"https://i.stack.imgur.com/V3yry.png\" rel=\"nofollow noreferrer\">image for intellij</a></p>\n<p>I couldn't find better way.</p>\n"}],"owner":{"account_id":17234593,"reputation":1,"user_id":12478333,"display_name":"SightStudio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75606590,"answer_count":2,"score":0,"last_activity_date":1677688880,"creation_date":1657650845,"question_id":72956920,"body_markdown":"i&#39;m try to create custom SpEL autocomplete Plugin,\r\nwhich is can reference native string as SpEl in Intellij IDEA\r\n\r\nlike Spring Data Cache&#39;s **@Cachebale**\r\n\r\n    @Cacheable(key=#{dto.getField()})\r\n    public int someMethod(ExampleDto dto)\r\n\r\n\r\n    @MyCustomAnnotation(value=#{dto.getField()})\r\n    public int someMethod(ExampleDto dto)\r\n\r\n[similar intellij youtrack issue i found,][1]\r\n\r\n\r\nsaids that i can create pluings by using \r\n\r\n    com.intellij.javaee.el.providers.ElVariablesProvider\r\n\r\n\r\nbut every time i tried, i can&#39;t import that class when create intellij plugin..\r\n\r\n[in intellij document,][2]\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-253565/Spring-Expression-Language-in-custom-annotations-With-parameter-detection\r\n  [2]: https://plugins.jetbrains.com/docs/intellij/api-changes-list-2021.html#intellij-idea-ultimate-20213\r\n\r\nuse com.intellij.javaee.el plugin for ElVariablesProvider\r\nbut i cannot found it.. \r\n\r\nis there a way to use plugin or ElVariablesProvider for developing intellij plugin?\r\nsry for my bad english.","title":"intellij sdk cannot import ElVariablesProvider","body":"<p>i'm try to create custom SpEL autocomplete Plugin,\nwhich is can reference native string as SpEl in Intellij IDEA</p>\n<p>like Spring Data Cache's <strong>@Cachebale</strong></p>\n<pre><code>@Cacheable(key=#{dto.getField()})\npublic int someMethod(ExampleDto dto)\n\n\n@MyCustomAnnotation(value=#{dto.getField()})\npublic int someMethod(ExampleDto dto)\n</code></pre>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-253565/Spring-Expression-Language-in-custom-annotations-With-parameter-detection\" rel=\"nofollow noreferrer\">similar intellij youtrack issue i found,</a></p>\n<p>saids that i can create pluings by using</p>\n<pre><code>com.intellij.javaee.el.providers.ElVariablesProvider\n</code></pre>\n<p>but every time i tried, i can't import that class when create intellij plugin..</p>\n<p><a href=\"https://plugins.jetbrains.com/docs/intellij/api-changes-list-2021.html#intellij-idea-ultimate-20213\" rel=\"nofollow noreferrer\">in intellij document,</a></p>\n<p>use com.intellij.javaee.el plugin for ElVariablesProvider\nbut i cannot found it..</p>\n<p>is there a way to use plugin or ElVariablesProvider for developing intellij plugin?\nsry for my bad english.</p>\n"},{"tags":["java","testing","junit","mockito","classloader"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677687429,"post_id":75606050,"comment_id":133388091,"body_markdown":"Don&#39;t mock it. Inject a function as a parameter","body":"Don&#39;t mock it. Inject a function as a parameter"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1677688031,"post_id":75606050,"comment_id":133388314,"body_markdown":"@Michael Can you share more details, please, what function exactly to inject as a parameter to test?","body":"@Michael Can you share more details, please, what function exactly to inject as a parameter to test?"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677688800,"creation_date":1677688800,"answer_id":75606588,"question_id":75606050,"body_markdown":"Don&#39;t mock it. Inject a function as a parameter.\r\n\r\n    public static KeyPair getKeyPairFromKeystore(JwtConfigProperties jwtConfigProperties,\r\n                                                 KeystoreConfigProperties keystoreConfigProperties,\r\n                                                 Function&lt;String, InputStream&gt; getInputStream\r\n    ) {\r\n\r\n        //...\r\n        try (InputStream in = getInputStream.apply(&quot;security/&quot; + keystoreName)) {\r\n            //...\r\n        }\r\n    }\r\n\r\nIn your real code, pass a function\r\n\r\n    getKeyPairFromKeystore(..., ...,\r\n        str -&gt; Thread.currentThread()\r\n            .getContextClassLoader()\r\n            .getResourceAsStream(str)\r\n    )\r\n\r\nIn your test, pass whatever function returns the InputStream you want for the test.","title":"How to properly mock Classloader to not break the real one Thread.currentThread().getContextClassLoader()","body":"<p>Don't mock it. Inject a function as a parameter.</p>\n<pre><code>public static KeyPair getKeyPairFromKeystore(JwtConfigProperties jwtConfigProperties,\n                                             KeystoreConfigProperties keystoreConfigProperties,\n                                             Function&lt;String, InputStream&gt; getInputStream\n) {\n\n    //...\n    try (InputStream in = getInputStream.apply(&quot;security/&quot; + keystoreName)) {\n        //...\n    }\n}\n</code></pre>\n<p>In your real code, pass a function</p>\n<pre><code>getKeyPairFromKeystore(..., ...,\n    str -&gt; Thread.currentThread()\n        .getContextClassLoader()\n        .getResourceAsStream(str)\n)\n</code></pre>\n<p>In your test, pass whatever function returns the InputStream you want for the test.</p>\n"}],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75606588,"answer_count":1,"score":0,"last_activity_date":1677688800,"creation_date":1677686083,"question_id":75606050,"body_markdown":"I have in legacy method Thread.currentThread()\r\n                .getContextClassLoader()\r\n                .getResourceAsStream(&quot;security/&quot; + keystoreName), So when i am mocking Classloader then i am broking real classloader and next tests doesnt works, So i have 2 solutions, but dont know how to implement it. The first one somehow mock/use Classloader and first get real Classloader and after test set back the real one to Thread. The second one somehow create file and use it in test and i dont know how to. Help please with solution and what to do\r\n\r\nThe method from utility class\r\n\r\n```\r\npublic static KeyPair getKeyPairFromKeystore(JwtConfigProperties jwtConfigProperties,\r\n                                                 KeystoreConfigProperties keystoreConfigProperties) {\r\n        log.info( &quot;Called get keypair from keystore&quot;);\r\n\r\n        KeyStore.PrivateKeyEntry privateKeyEntry = null;\r\n        Certificate cert = null;\r\n\r\n        String keystoreName = keystoreConfigProperties.getName();\r\n\r\n        try (InputStream in = Thread.currentThread()\r\n                .getContextClassLoader()\r\n                .getResourceAsStream(&quot;security/&quot; + keystoreName)\r\n        ) {\r\n            if (in == null) {\r\n                log.info(&quot;Input file is null!&quot;);\r\n                throw new NoSuchElementException(&quot;Input file  is null&quot;);\r\n            }\r\n\r\n            char[] keystorePassword = keystoreConfigProperties.getPassword().toCharArray();\r\n            char[] jwtPassword = jwtConfigProperties.getPassword().toCharArray();\r\n            String jwtAlias = jwtConfigProperties.getAlias();\r\n\r\n            //enforcing jceks\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;JCEKS&quot;);\r\n            keyStore.load(in, keystorePassword);\r\n            KeyStore.PasswordProtection keyPassword = new KeyStore\r\n                    .PasswordProtection(jwtPassword);\r\n            privateKeyEntry = (KeyStore.PrivateKeyEntry) keyStore.getEntry(jwtAlias, keyPassword);\r\n            cert = keyStore.getCertificate(jwtAlias);\r\n            log.debug(&quot;Public key: {}&quot;, cert.getPublicKey().toString());\r\n        } catch (KeyStoreException | IOException | NoSuchAlgorithmException\r\n                | CertificateException | UnrecoverableEntryException e) {\r\n            log.error(&quot;Error message: {}, Exception: {}&quot;, e.getMessage(), e);\r\n        }\r\n\r\n        return new KeyPair(Objects.requireNonNull(cert).getPublicKey(),\r\n            Objects.requireNonNull(privateKeyEntry).getPrivateKey());\r\n    }\r\n```\r\nJwtConfigProperties &amp; KeystoreConfigProperties it`s configuration properties from application.yml\r\n\r\nMy test\r\n\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class KeystoreUtilTest {\r\n\r\n\r\n    @Mock\r\n    private ClassLoader newLoader;\r\n\r\n    @Mock\r\n    private InputStream in;\r\n\r\n    @Mock\r\n    private KeyStore keystore;\r\n\r\n\r\n    @Test\r\n    public void testGetKeyPairFromKeystore_validPublicKey() throws KeyStoreException {\r\n\r\n        Certificate certificate = mock(Certificate.class);\r\n        PublicKey publicKey = mock(PublicKey.class);\r\n\r\n        JwtConfigProperties jwtConfigProperties = new JwtConfigProperties();\r\n        jwtConfigProperties.setAlias(&quot;alias&quot;);\r\n        jwtConfigProperties.setPassword(&quot;password&quot;);\r\n        KeystoreConfigProperties keystoreConfigProperties = new KeystoreConfigProperties();\r\n        keystoreConfigProperties.setName(&quot;name&quot;);\r\n        keystoreConfigProperties.setPassword(&quot;password&quot;);\r\n        Thread.currentThread().setContextClassLoader(newLoader);\r\n\r\n        when(newLoader.getResourceAsStream(&quot;security/&quot; + keystoreConfigProperties.getName())).thenReturn(in);\r\n\r\n        try (MockedStatic&lt;KeyStore&gt; keyStoreMockedStatic = mockStatic(KeyStore.class)) {\r\n\r\n            keyStoreMockedStatic\r\n                    .when(() -&gt; KeyStore.getInstance(&quot;JCEKS&quot;))\r\n                    .thenReturn(keystore);\r\n\r\n            keyStoreMockedStatic\r\n                    .when(() -&gt; KeyStore.getInstance(&quot;JCEKS&quot;).getCertificate(&quot;alias&quot;))\r\n                    .thenReturn(certificate);\r\n\r\n            keyStoreMockedStatic\r\n                    .when(() -&gt; KeyStore.getInstance(&quot;JCEKS&quot;).getCertificate(&quot;alias&quot;).getPublicKey())\r\n                    .thenReturn(publicKey);\r\n\r\n            assertThrows(NullPointerException.class,\r\n                    () -&gt; KeystoreUtil.getKeyPairFromKeystore(jwtConfigProperties, keystoreConfigProperties));\r\n            verify(keystore, times(2)).getCertificate(&quot;alias&quot;);\r\n            keyStoreMockedStatic\r\n                    .verify(() -&gt; KeyStore.getInstance(&quot;JCEKS&quot;), times(3));\r\n        }\r\n\r\n    }\r\n```\r\n\r\nIn the test, I am mocking Classloader, but the real one stopped his work and tests don&#39;t start after this test\r\n \r\n\r\n","title":"How to properly mock Classloader to not break the real one Thread.currentThread().getContextClassLoader()","body":"<p>I have in legacy method Thread.currentThread()\n.getContextClassLoader()\n.getResourceAsStream(&quot;security/&quot; + keystoreName), So when i am mocking Classloader then i am broking real classloader and next tests doesnt works, So i have 2 solutions, but dont know how to implement it. The first one somehow mock/use Classloader and first get real Classloader and after test set back the real one to Thread. The second one somehow create file and use it in test and i dont know how to. Help please with solution and what to do</p>\n<p>The method from utility class</p>\n<pre><code>public static KeyPair getKeyPairFromKeystore(JwtConfigProperties jwtConfigProperties,\n                                                 KeystoreConfigProperties keystoreConfigProperties) {\n        log.info( &quot;Called get keypair from keystore&quot;);\n\n        KeyStore.PrivateKeyEntry privateKeyEntry = null;\n        Certificate cert = null;\n\n        String keystoreName = keystoreConfigProperties.getName();\n\n        try (InputStream in = Thread.currentThread()\n                .getContextClassLoader()\n                .getResourceAsStream(&quot;security/&quot; + keystoreName)\n        ) {\n            if (in == null) {\n                log.info(&quot;Input file is null!&quot;);\n                throw new NoSuchElementException(&quot;Input file  is null&quot;);\n            }\n\n            char[] keystorePassword = keystoreConfigProperties.getPassword().toCharArray();\n            char[] jwtPassword = jwtConfigProperties.getPassword().toCharArray();\n            String jwtAlias = jwtConfigProperties.getAlias();\n\n            //enforcing jceks\n            KeyStore keyStore = KeyStore.getInstance(&quot;JCEKS&quot;);\n            keyStore.load(in, keystorePassword);\n            KeyStore.PasswordProtection keyPassword = new KeyStore\n                    .PasswordProtection(jwtPassword);\n            privateKeyEntry = (KeyStore.PrivateKeyEntry) keyStore.getEntry(jwtAlias, keyPassword);\n            cert = keyStore.getCertificate(jwtAlias);\n            log.debug(&quot;Public key: {}&quot;, cert.getPublicKey().toString());\n        } catch (KeyStoreException | IOException | NoSuchAlgorithmException\n                | CertificateException | UnrecoverableEntryException e) {\n            log.error(&quot;Error message: {}, Exception: {}&quot;, e.getMessage(), e);\n        }\n\n        return new KeyPair(Objects.requireNonNull(cert).getPublicKey(),\n            Objects.requireNonNull(privateKeyEntry).getPrivateKey());\n    }\n</code></pre>\n<p>JwtConfigProperties &amp; KeystoreConfigProperties it`s configuration properties from application.yml</p>\n<p>My test</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class KeystoreUtilTest {\n\n\n    @Mock\n    private ClassLoader newLoader;\n\n    @Mock\n    private InputStream in;\n\n    @Mock\n    private KeyStore keystore;\n\n\n    @Test\n    public void testGetKeyPairFromKeystore_validPublicKey() throws KeyStoreException {\n\n        Certificate certificate = mock(Certificate.class);\n        PublicKey publicKey = mock(PublicKey.class);\n\n        JwtConfigProperties jwtConfigProperties = new JwtConfigProperties();\n        jwtConfigProperties.setAlias(&quot;alias&quot;);\n        jwtConfigProperties.setPassword(&quot;password&quot;);\n        KeystoreConfigProperties keystoreConfigProperties = new KeystoreConfigProperties();\n        keystoreConfigProperties.setName(&quot;name&quot;);\n        keystoreConfigProperties.setPassword(&quot;password&quot;);\n        Thread.currentThread().setContextClassLoader(newLoader);\n\n        when(newLoader.getResourceAsStream(&quot;security/&quot; + keystoreConfigProperties.getName())).thenReturn(in);\n\n        try (MockedStatic&lt;KeyStore&gt; keyStoreMockedStatic = mockStatic(KeyStore.class)) {\n\n            keyStoreMockedStatic\n                    .when(() -&gt; KeyStore.getInstance(&quot;JCEKS&quot;))\n                    .thenReturn(keystore);\n\n            keyStoreMockedStatic\n                    .when(() -&gt; KeyStore.getInstance(&quot;JCEKS&quot;).getCertificate(&quot;alias&quot;))\n                    .thenReturn(certificate);\n\n            keyStoreMockedStatic\n                    .when(() -&gt; KeyStore.getInstance(&quot;JCEKS&quot;).getCertificate(&quot;alias&quot;).getPublicKey())\n                    .thenReturn(publicKey);\n\n            assertThrows(NullPointerException.class,\n                    () -&gt; KeystoreUtil.getKeyPairFromKeystore(jwtConfigProperties, keystoreConfigProperties));\n            verify(keystore, times(2)).getCertificate(&quot;alias&quot;);\n            keyStoreMockedStatic\n                    .verify(() -&gt; KeyStore.getInstance(&quot;JCEKS&quot;), times(3));\n        }\n\n    }\n</code></pre>\n<p>In the test, I am mocking Classloader, but the real one stopped his work and tests don't start after this test</p>\n"},{"tags":["java","spring-boot","maven","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677799397,"post_id":75606413,"comment_id":133414059,"body_markdown":"please post your full pom","body":"please post your full pom"}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677688189,"creation_date":1677688189,"answer_id":75606479,"question_id":75606413,"body_markdown":"If you want to figure out where 3.4.10 is coming from, use `mvn dependency:tree` which will output the dependency graph.  Using that, you can determine which jar is transitively providing reactor-core.  Once you&#39;ve found the jar, simply add reactor-core as an exclusion.\r\n\r\nI should warn you, though, unless you have a very good reason for overriding the version that Spring is providing, I wouldn&#39;t change it.","title":"How can I work with specific version of dependency in maven?","body":"<p>If you want to figure out where 3.4.10 is coming from, use <code>mvn dependency:tree</code> which will output the dependency graph.  Using that, you can determine which jar is transitively providing reactor-core.  Once you've found the jar, simply add reactor-core as an exclusion.</p>\n<p>I should warn you, though, unless you have a very good reason for overriding the version that Spring is providing, I wouldn't change it.</p>\n"},{"tags":[],"owner":{"display_name":"user18876695"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677688693,"creation_date":1677688693,"answer_id":75606573,"question_id":75606413,"body_markdown":"This dependency reactor-core is a dependency of spring-boot-web-flux. \r\n\r\nBy adding the dependency manually you override the dependency that came bundled with the starter dependency and it&#39;s possible that they are not compatible. \r\n\r\nIf you remove the reactor core dependency from your pom and do a clean install the same error occurs?","title":"How can I work with specific version of dependency in maven?","body":"<p>This dependency reactor-core is a dependency of spring-boot-web-flux.</p>\n<p>By adding the dependency manually you override the dependency that came bundled with the starter dependency and it's possible that they are not compatible.</p>\n<p>If you remove the reactor core dependency from your pom and do a clean install the same error occurs?</p>\n"}],"owner":{"account_id":7407752,"reputation":157,"user_id":5636168,"accept_rate":33,"display_name":"5frags"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677688693,"creation_date":1677687813,"question_id":75606413,"body_markdown":"I have a project in springboot 3, I want to consume some service from internet, I implemented a webclient, here my webclien definition\r\n\r\n    @Bean\r\n        public WebClient createWebClient(@Value(&quot;${internet.service.url}&quot;) String urlInternet) {\r\n            return WebClient.builder().baseUrl(urlInternet)\r\n                    .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                    .build();\r\n        }\r\nHere my invocation\r\n\r\n    public InternetCreateResponse walletCreate(InternetCreateRequest request) {\r\n        Mono&lt;InternetCreateResponse&gt; response =  webClient.post().uri(&quot;create_account&quot;)\r\n                .body(Mono.just(request), InternetCreateRequest.class)\r\n                .retrieve()\r\n                .onStatus(\r\n                        (HttpStatusCode::is4xxClientError),\r\n                        error -&gt; Mono.error(new RuntimeException(&quot;something was wrong&quot;)))\r\n                .onStatus(HttpStatusCode::is5xxServerError,\r\n                        error -&gt; Mono.error(new RuntimeException(&quot;Server is down&quot;)))\r\n                .bodyToMono(InternetCreateResponse.class);\r\n        return response.block();\r\n    }\r\nBut when I executed response.block() I have an error, here stacktrace\r\n\r\n    Exception in thread &quot;grpc-default-executor-0&quot; java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;\r\n\tat reactor.netty.http.client.HttpClientConnect$HttpObserver.&lt;init&gt;(HttpClientConnect.java:329)\r\n\tat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.lambda$subscribe$0(HttpClientConnect.java:259)\r\n\tat reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:57)\r\n\tat reactor.core.publisher.FluxRetryWhen.subscribe(FluxRetryWhen.java:77)\r\n\tat reactor.core.publisher.MonoRetryWhen.subscribeOrReturn(MonoRetryWhen.java:46)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\r\n\tat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.subscribe(HttpClientConnect.java:272)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4361)\r\n\tat reactor.core.publisher.Mono.block(Mono.java:1705)\r\n\tat io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\r\n\tat io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)\r\n\tat io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)\r\n\tat io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)\r\n\tat io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)\r\n\tat io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)\r\n\tat io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)\r\n\tat io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86)\r\n\tat io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:340)\r\n\tat io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:866)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nHere spring webflux and reactor\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\nBut I haven&#39;t idea I got reactor-core version 3.4.10\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe message in stacktrace is clear, but unfortunately I can&#39;t tell maven I want to exclude that version, I saw some link like [this][2] or [this][3] or [this][4] or [this][5] but it doesn&#39;t work that I expected.\r\nI want to work with reactor-core version 3.5.3 that contains reactor.core.publisher.MonoSink.contextView() method.\r\n\r\nAny idea how I can do it?\r\n\r\nOr anoter way I can do it?\r\n\r\n  [1]: https://i.stack.imgur.com/zeaUu.png\r\n  [2]: https://stackoverflow.com/questions/49065920/maven-force-to-use-dependency\r\n  [3]: https://stackoverflow.com/questions/30571/how-do-i-tell-maven-to-use-the-latest-version-of-a-dependency\r\n  [4]: https://stackoverflow.com/questions/29738112/how-to-exclude-older-versions-of-maven-dependency-and-use-new-version-of-it\r\n  [5]: https://stackoverflow.com/questions/39276024/import-dependency-management-with-exclusion","title":"How can I work with specific version of dependency in maven?","body":"<p>I have a project in springboot 3, I want to consume some service from internet, I implemented a webclient, here my webclien definition</p>\n<pre><code>@Bean\n    public WebClient createWebClient(@Value(&quot;${internet.service.url}&quot;) String urlInternet) {\n        return WebClient.builder().baseUrl(urlInternet)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .build();\n    }\n</code></pre>\n<p>Here my invocation</p>\n<pre><code>public InternetCreateResponse walletCreate(InternetCreateRequest request) {\n    Mono&lt;InternetCreateResponse&gt; response =  webClient.post().uri(&quot;create_account&quot;)\n            .body(Mono.just(request), InternetCreateRequest.class)\n            .retrieve()\n            .onStatus(\n                    (HttpStatusCode::is4xxClientError),\n                    error -&gt; Mono.error(new RuntimeException(&quot;something was wrong&quot;)))\n            .onStatus(HttpStatusCode::is5xxServerError,\n                    error -&gt; Mono.error(new RuntimeException(&quot;Server is down&quot;)))\n            .bodyToMono(InternetCreateResponse.class);\n    return response.block();\n}\n</code></pre>\n<p>But when I executed response.block() I have an error, here stacktrace</p>\n<pre><code>Exception in thread &quot;grpc-default-executor-0&quot; java.lang.NoSuchMethodError: 'reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()'\nat reactor.netty.http.client.HttpClientConnect$HttpObserver.&lt;init&gt;(HttpClientConnect.java:329)\nat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.lambda$subscribe$0(HttpClientConnect.java:259)\nat reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:57)\nat reactor.core.publisher.FluxRetryWhen.subscribe(FluxRetryWhen.java:77)\nat reactor.core.publisher.MonoRetryWhen.subscribeOrReturn(MonoRetryWhen.java:46)\nat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\nat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.subscribe(HttpClientConnect.java:272)\nat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\nat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\nat reactor.core.publisher.Mono.subscribe(Mono.java:4361)\nat reactor.core.publisher.Mono.block(Mono.java:1705)\nat io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\nat io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)\nat io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)\nat io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)\nat io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)\nat io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)\nat io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)\nat io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86)\nat io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:340)\nat io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:866)\nat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\nat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Here spring webflux and reactor</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n            &lt;version&gt;3.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But I haven't idea I got reactor-core version 3.4.10</p>\n<p><a href=\"https://i.stack.imgur.com/zeaUu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zeaUu.png\" alt=\"enter image description here\" /></a></p>\n<p>The message in stacktrace is clear, but unfortunately I can't tell maven I want to exclude that version, I saw some link like <a href=\"https://stackoverflow.com/questions/49065920/maven-force-to-use-dependency\">this</a> or <a href=\"https://stackoverflow.com/questions/30571/how-do-i-tell-maven-to-use-the-latest-version-of-a-dependency\">this</a> or <a href=\"https://stackoverflow.com/questions/29738112/how-to-exclude-older-versions-of-maven-dependency-and-use-new-version-of-it\">this</a> or <a href=\"https://stackoverflow.com/questions/39276024/import-dependency-management-with-exclusion\">this</a> but it doesn't work that I expected.\nI want to work with reactor-core version 3.5.3 that contains reactor.core.publisher.MonoSink.contextView() method.</p>\n<p>Any idea how I can do it?</p>\n<p>Or anoter way I can do it?</p>\n"},{"tags":["java","spring-boot","logging","logback","slf4j"],"comments":[{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":1,"creation_date":1677689446,"post_id":75606363,"comment_id":133388784,"body_markdown":"Note: read the lower answers to the duplicate question.  `file.max-history: 50` will be part of your solution.  50 is an arbitrary number","body":"Note: read the lower answers to the duplicate question.  <code>file.max-history: 50</code> will be part of your solution.  50 is an arbitrary number"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677701098,"post_id":75606363,"comment_id":133392044,"body_markdown":"@CLOSERS Why did you close without reading the question? I had already read that page but not solved my problem. I hope you read at least comments.","body":"@CLOSERS Why did you close without reading the question? I had already read that page but not solved my problem. I hope you read at least comments."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677701129,"post_id":75606363,"comment_id":133392053,"body_markdown":"@DwB It is for rolling, but I want to remove old log files completely.","body":"@DwB It is for rolling, but I want to remove old log files completely."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1677765839,"post_id":75606363,"comment_id":133405251,"body_markdown":"As noted in my comment, file.max-history defines the maximum number of files that will stick around.","body":"As noted in my comment, file.max-history defines the maximum number of files that will stick around."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677766451,"post_id":75606363,"comment_id":133405463,"body_markdown":"@DwB `logging.file.max-size` seems to work, but `logging.file.max-history` is not and it continues to create a new log even if it exceed the given max number. Any idea?","body":"@DwB <code>logging.file.max-size</code> seems to work, but <code>logging.file.max-history</code> is not and it continues to create a new log even if it exceed the given max number. Any idea?"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677689393,"answer_count":0,"score":0,"last_activity_date":1677688663,"creation_date":1677687601,"question_id":75606363,"body_markdown":"I use the following logging config in my Spring Boot apps and save logs in that log file. But it creates many files (e.g. `application.log.2023-02-26.0.gz`) and after a certain period of time, I need to delete old log files based on size or creation date. \r\n\r\n```\r\nlogging:\r\n  pattern:\r\n    console: &quot;%d %-5level %logger : %msg%n&quot;\r\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&quot;\r\n  level:\r\n    org.springframework.web: error\r\n    org.hibernate: error\r\n    com.demo.app: debug\r\n  file:\r\n    name: &#39;./logs/application.log&#39;\r\n```\r\n\r\nSo, how can I remove old log files automatically? ","title":"How to delete Spring Boot logging files automatically?","body":"<p>I use the following logging config in my Spring Boot apps and save logs in that log file. But it creates many files (e.g. <code>application.log.2023-02-26.0.gz</code>) and after a certain period of time, I need to delete old log files based on size or creation date.</p>\n<pre><code>logging:\n  pattern:\n    console: &quot;%d %-5level %logger : %msg%n&quot;\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&quot;\n  level:\n    org.springframework.web: error\n    org.hibernate: error\n    com.demo.app: debug\n  file:\n    name: './logs/application.log'\n</code></pre>\n<p>So, how can I remove old log files automatically?</p>\n"},{"tags":["java","netbeans","ide"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586676829,"creation_date":1586676829,"answer_id":61168175,"question_id":61167631,"body_markdown":"Run the `mvn` command using `--quiet` or `-q` parameter:\r\n\r\n    mvn --quiet ...\r\n\r\nor\r\n\r\n    mvn -q ... ...\r\n\r\nIf you want to suppress the display of transfer progress when downloading or uploading, use `--no-transfer-progress` or `-ntp`:\r\n\r\n    mvn --no-transfer-progress ....\r\n\r\nor\r\n\r\n    mvn -ntp ... ....\r\n\r\nCheck [here][1] for reference.\r\n\r\nClick the **Maven Settings** button shown in the screenshot below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nType **-q** in the box shown in the screenshot below:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nPress **OK** button and then run your class.\r\n\r\n\r\n  [1]: http://maven.apache.org/ref/3.6.3/maven-embedder/cli.html\r\n  [2]: https://i.stack.imgur.com/cO7iy.png\r\n  [3]: https://i.stack.imgur.com/bpcB8.png","title":"Is it possible to delete/hide extra lines in NetBeans IDE output screen? If possible then how?","body":"<p>Run the <code>mvn</code> command using <code>--quiet</code> or <code>-q</code> parameter:</p>\n\n<pre><code>mvn --quiet ...\n</code></pre>\n\n<p>or</p>\n\n<pre><code>mvn -q ... ...\n</code></pre>\n\n<p>If you want to suppress the display of transfer progress when downloading or uploading, use <code>--no-transfer-progress</code> or <code>-ntp</code>:</p>\n\n<pre><code>mvn --no-transfer-progress ....\n</code></pre>\n\n<p>or</p>\n\n<pre><code>mvn -ntp ... ....\n</code></pre>\n\n<p>Check <a href=\"http://maven.apache.org/ref/3.6.3/maven-embedder/cli.html\" rel=\"nofollow noreferrer\">here</a> for reference.</p>\n\n<p>Click the <strong>Maven Settings</strong> button shown in the screenshot below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cO7iy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cO7iy.png\" alt=\"enter image description here\"></a></p>\n\n<p>Type <strong>-q</strong> in the box shown in the screenshot below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bpcB8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bpcB8.png\" alt=\"enter image description here\"></a></p>\n\n<p>Press <strong>OK</strong> button and then run your class.</p>\n"},{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1586678518,"creation_date":1586678518,"answer_id":61168458,"question_id":61167631,"body_markdown":"Multiple sources write to the Output window in NetBeans. It would be difficult to track them all down, and probably impossible to prevent all of them writing to the Output window for all project types, but even if you could do that it wouldn&#39;t really be a good idea because if there was a problem you wouldn&#39;t get any diagnostics at all. \r\n\r\nHowever, there is a simple alternative approach that may (or may not) be acceptable to you:\r\n\r\n- Instead of preventing all other sources from writing to the Output window, just create a separate `PrintStream` for your application&#39;s output. \r\n- If you make that new `PrintStream` a project file, you can have it open in NetBeans and see it updated as you run your project.\r\n- To create the `PrintStream` as a project file use this form of its constructors: `PrintStream ps2 = new PrintStream(&quot;MyOutput.txt&quot;);` which will create a file named **MyOutput.txt** directly under the root of your project. \r\n\r\nHere&#39;s a trivial application which does that:\r\n\r\n    package output;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    import java.io.PrintStream;\r\n    \r\n    public class Output {\r\n    \r\n        public static void main(String[] args) throws FileNotFoundException {\r\n                PrintStream ps2 = new PrintStream(&quot;MyOutput.txt&quot;);\r\n                ps2.println(&quot;abcdef&quot;);\r\n                ps2.println(&quot;This text is not going to the Output window!!!!&quot;);\r\n                System.out.println(&quot;Hello world&quot;);            \r\n        }\r\n    }\r\n\r\n\r\nEach time you run the application the content of the edit window for MyOutput.txt is refreshed:\r\n\r\n[![PrintStreamOutput][1]][1]\r\n\r\nNotes:\r\n\r\n- You can still (optionally) direct output to the Output window using `System.out` and `System.err` if you wish. \r\n- If you later want to redirect your application&#39;s output to the Output window, just modify the declaration of the `PrintStream` like this: `PrintStream ps2 = new PrintStream(System.out, true);`\r\n\r\n  [1]: https://i.stack.imgur.com/YBWKj.png","title":"Is it possible to delete/hide extra lines in NetBeans IDE output screen? If possible then how?","body":"<p>Multiple sources write to the Output window in NetBeans. It would be difficult to track them all down, and probably impossible to prevent all of them writing to the Output window for all project types, but even if you could do that it wouldn't really be a good idea because if there was a problem you wouldn't get any diagnostics at all. </p>\n\n<p>However, there is a simple alternative approach that may (or may not) be acceptable to you:</p>\n\n<ul>\n<li>Instead of preventing all other sources from writing to the Output window, just create a separate <code>PrintStream</code> for your application's output. </li>\n<li>If you make that new <code>PrintStream</code> a project file, you can have it open in NetBeans and see it updated as you run your project.</li>\n<li>To create the <code>PrintStream</code> as a project file use this form of its constructors: <code>PrintStream ps2 = new PrintStream(\"MyOutput.txt\");</code> which will create a file named <strong>MyOutput.txt</strong> directly under the root of your project. </li>\n</ul>\n\n<p>Here's a trivial application which does that:</p>\n\n<pre><code>package output;\n\nimport java.io.FileNotFoundException;\nimport java.io.PrintStream;\n\npublic class Output {\n\n    public static void main(String[] args) throws FileNotFoundException {\n            PrintStream ps2 = new PrintStream(\"MyOutput.txt\");\n            ps2.println(\"abcdef\");\n            ps2.println(\"This text is not going to the Output window!!!!\");\n            System.out.println(\"Hello world\");            \n    }\n}\n</code></pre>\n\n<p>Each time you run the application the content of the edit window for MyOutput.txt is refreshed:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YBWKj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YBWKj.png\" alt=\"PrintStreamOutput\"></a></p>\n\n<p>Notes:</p>\n\n<ul>\n<li>You can still (optionally) direct output to the Output window using <code>System.out</code> and <code>System.err</code> if you wish. </li>\n<li>If you later want to redirect your application's output to the Output window, just modify the declaration of the <code>PrintStream</code> like this: <code>PrintStream ps2 = new PrintStream(System.out, true);</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20895101,"reputation":19,"user_id":15349568,"display_name":"Sameer Sawarkar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1615146397,"creation_date":1615146397,"answer_id":66520713,"question_id":61167631,"body_markdown":"[Simply Put &quot;-q&quot; in &quot;global execution options&quot; in maven setting][1]\r\n\r\nSimply Put &quot;-q&quot; in &quot;Global execution options&quot; in maven setting!\r\n\r\n  [1]: https://i.stack.imgur.com/VFMJr.png","title":"Is it possible to delete/hide extra lines in NetBeans IDE output screen? If possible then how?","body":"<p><a href=\"https://i.stack.imgur.com/VFMJr.png\" rel=\"nofollow noreferrer\">Simply Put &quot;-q&quot; in &quot;global execution options&quot; in maven setting</a></p>\n<p>Simply Put &quot;-q&quot; in &quot;Global execution options&quot; in maven setting!</p>\n"},{"tags":[],"owner":{"account_id":15151036,"reputation":1056,"user_id":10933373,"display_name":"gfmoore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677688316,"creation_date":1677688005,"answer_id":75606448,"question_id":61167631,"body_markdown":"Following @skomisa idea I added -l log.txt (in Maven settings @Arvind Kumar Avinash) and detached a window showing log.txt (use files tab to see it).\r\n\r\nIt worked quite well, though I wasn&#39;t sure how to keep it on top, so resized main NetBeans window. \r\n\r\nWhat is useful is that the font size now follows the editor window which makes it useful for displaying to a class. :)\r\n\r\nEdit: split the editor windows -  drag the log.txt window to the far right and release - two open editor window :)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VBBxX.png","title":"Is it possible to delete/hide extra lines in NetBeans IDE output screen? If possible then how?","body":"<p>Following @skomisa idea I added -l log.txt (in Maven settings @Arvind Kumar Avinash) and detached a window showing log.txt (use files tab to see it).</p>\n<p>It worked quite well, though I wasn't sure how to keep it on top, so resized main NetBeans window.</p>\n<p>What is useful is that the font size now follows the editor window which makes it useful for displaying to a class. :)</p>\n<p>Edit: split the editor windows -  drag the log.txt window to the far right and release - two open editor window :)</p>\n<p><a href=\"https://i.stack.imgur.com/VBBxX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VBBxX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17816898,"reputation":11,"user_id":12940251,"display_name":"Dabananda Mitra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1714,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1677688316,"creation_date":1586672586,"question_id":61167631,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI just want to get program&#39;s output in output screen. I want to get rid of the extra lines.\r\nPlease help me if you have the solution. [image link][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/fgQVb.png","title":"Is it possible to delete/hide extra lines in NetBeans IDE output screen? If possible then how?","body":"<p><a href=\"https://i.stack.imgur.com/fgQVb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fgQVb.png\" alt=\"enter image description here\"></a></p>\n\n<p>I just want to get program's output in output screen. I want to get rid of the extra lines.\nPlease help me if you have the solution. <a href=\"https://i.stack.imgur.com/fgQVb.png\" rel=\"nofollow noreferrer\">image link</a></p>\n"},{"tags":["java","android","rust","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637326128,"creation_date":1637326128,"answer_id":70035103,"question_id":70032899,"body_markdown":"The [`dc_wrapper.c`](https://github.com/deltachat/deltachat-android/blob/master/jni/dc_wrapper.c) file contains C functions of the form `Java_com_b44t_*` that implements the `native` methods in the corresponding [Java package](https://github.com/deltachat/deltachat-android/tree/master/src/com/b44t/messenger).\r\n\r\nIn order to get this working on any platform, you need to create a build system (Make, CMake, Xmake, Ninja, ...) that:\r\n1) compiles the Rust crate into a static library;\r\n2) compiles the `dc_wrapper.c` into a dynamically loadable library that is linked with the rust crate.\r\n\r\nFinally, you can use the `com.b44t.messenger.*` classes from Java, which should automatically load the library created in step two.\r\nThe `android.mk` file is mostly android-specific compile options, so you should not look too hard at it.","title":"Delta Chat Rust integration in Spring Boot App","body":"<p>The <a href=\"https://github.com/deltachat/deltachat-android/blob/master/jni/dc_wrapper.c\" rel=\"nofollow noreferrer\"><code>dc_wrapper.c</code></a> file contains C functions of the form <code>Java_com_b44t_*</code> that implements the <code>native</code> methods in the corresponding <a href=\"https://github.com/deltachat/deltachat-android/tree/master/src/com/b44t/messenger\" rel=\"nofollow noreferrer\">Java package</a>.</p>\n<p>In order to get this working on any platform, you need to create a build system (Make, CMake, Xmake, Ninja, ...) that:</p>\n<ol>\n<li>compiles the Rust crate into a static library;</li>\n<li>compiles the <code>dc_wrapper.c</code> into a dynamically loadable library that is linked with the rust crate.</li>\n</ol>\n<p>Finally, you can use the <code>com.b44t.messenger.*</code> classes from Java, which should automatically load the library created in step two.\nThe <code>android.mk</code> file is mostly android-specific compile options, so you should not look too hard at it.</p>\n"},{"tags":[],"owner":{"account_id":10380176,"reputation":384,"user_id":7655232,"display_name":"Simon Laux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677688151,"creation_date":1677688151,"answer_id":75606471,"question_id":70032899,"body_markdown":"You can try https://github.com/angelo-fuchs/dc-jni-playground, it is not currently maintained, but it could give you some hints to make it work.\r\n\r\nThat repo is an attempt for making the java bindings usable standalone, not only inside of the deltachat android source code.","title":"Delta Chat Rust integration in Spring Boot App","body":"<p>You can try <a href=\"https://github.com/angelo-fuchs/dc-jni-playground\" rel=\"nofollow noreferrer\">https://github.com/angelo-fuchs/dc-jni-playground</a>, it is not currently maintained, but it could give you some hints to make it work.</p>\n<p>That repo is an attempt for making the java bindings usable standalone, not only inside of the deltachat android source code.</p>\n"}],"owner":{"account_id":15845065,"reputation":3,"user_id":11432572,"display_name":"Roberto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677688151,"creation_date":1637315596,"question_id":70032899,"body_markdown":"i&#39;m currently building a Spring Boot Application and i want to send some Mails via Chat over IMAP. Deltachat implements COI.\r\nDeltaChat offers an API written in RUST.\r\nhttps://github.com/deltachat/deltachat-core-rust\r\n\r\nAs written here https://support.delta.chat/t/bindings-for-java/970\r\n\r\nThe Java Bindings should be implemented by the Android App \r\nhttps://github.com/deltachat/deltachat-android/tree/master/src/com/b44t/messenger\r\n\r\nPlus I need to get up the JNI:\r\nhttps://github.com/deltachat/deltachat-android/tree/master/jni\r\n\r\nI copied the two folders jni and messenger into a separate java project along with deltachat-core-rust Projekt.\r\nHowever, I am not sure how to connect the Java classes to the C code.\r\nWhat is the best way to do this?\r\nIn the JNI folder there is still the Android.mk class, do I have to implement what is implemented there myself?\r\n\r\n\r\n------------------------\r\n\r\nUpdate:\r\n\r\nNow I have created the shared library with the following code:\r\n\r\n```    \r\ncmake_minimum_required(VERSION 3.16)\r\nproject(deltachat LANGUAGES C)\r\nfind_package(JNI REQUIRED)\r\n\r\n# generate libnative.jnilib\r\ninclude_directories(${JNI_INCLUDE_DIRS} )\r\n\r\nadd_library(native MODULE dc_wrapper.c ${CMAKE_CURRENT_SOURCE_DIR}/deltachat-core-rust/deltachat-ffi/deltachat.h)\r\n#set_target_properties(native PROPERTIES SUFFIX &quot;.jnilib&quot;)\r\ntarget_link_libraries(native ${JNI_LIBRARIES} )\r\ntarget_link_libraries(native ${CMAKE_CURRENT_SOURCE_DIR}/deltachat-core-rust/target/release/libdeltachat.a)\r\n```\r\n\r\nIs this correct?\r\n\r\nWhen i try to run this: \r\n```    \r\nimport messenger.DcContext;\r\n\r\npublic class MainJni {\r\n\r\n    static {\r\n        System.loadLibrary(&quot;native&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        DcContext dcContext = new DcContext(&quot;ubuntu&quot;, &quot;example.db&quot;);\r\n\r\n        if(dcContext == null){\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```    \r\n\r\nI get this error\r\n```  \r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /home/robin/Documents/DeltaChatCoreJavaBindings/src/jni/build/libnative.so: /home/robin/Documents/DeltaChatCoreJavaBindings/src/jni/build/libnative.so: undefined symbol: SSL_get_error\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2442)\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2498)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2694)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2659)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:1873)\r\n\tat MainJni.&lt;clinit&gt;(MainJni.java:6)\r\n```  \r\n\r\nAny suggestions?","title":"Delta Chat Rust integration in Spring Boot App","body":"<p>i'm currently building a Spring Boot Application and i want to send some Mails via Chat over IMAP. Deltachat implements COI.\nDeltaChat offers an API written in RUST.\n<a href=\"https://github.com/deltachat/deltachat-core-rust\" rel=\"nofollow noreferrer\">https://github.com/deltachat/deltachat-core-rust</a></p>\n<p>As written here <a href=\"https://support.delta.chat/t/bindings-for-java/970\" rel=\"nofollow noreferrer\">https://support.delta.chat/t/bindings-for-java/970</a></p>\n<p>The Java Bindings should be implemented by the Android App\n<a href=\"https://github.com/deltachat/deltachat-android/tree/master/src/com/b44t/messenger\" rel=\"nofollow noreferrer\">https://github.com/deltachat/deltachat-android/tree/master/src/com/b44t/messenger</a></p>\n<p>Plus I need to get up the JNI:\n<a href=\"https://github.com/deltachat/deltachat-android/tree/master/jni\" rel=\"nofollow noreferrer\">https://github.com/deltachat/deltachat-android/tree/master/jni</a></p>\n<p>I copied the two folders jni and messenger into a separate java project along with deltachat-core-rust Projekt.\nHowever, I am not sure how to connect the Java classes to the C code.\nWhat is the best way to do this?\nIn the JNI folder there is still the Android.mk class, do I have to implement what is implemented there myself?</p>\n<hr />\n<p>Update:</p>\n<p>Now I have created the shared library with the following code:</p>\n<pre><code>cmake_minimum_required(VERSION 3.16)\nproject(deltachat LANGUAGES C)\nfind_package(JNI REQUIRED)\n\n# generate libnative.jnilib\ninclude_directories(${JNI_INCLUDE_DIRS} )\n\nadd_library(native MODULE dc_wrapper.c ${CMAKE_CURRENT_SOURCE_DIR}/deltachat-core-rust/deltachat-ffi/deltachat.h)\n#set_target_properties(native PROPERTIES SUFFIX &quot;.jnilib&quot;)\ntarget_link_libraries(native ${JNI_LIBRARIES} )\ntarget_link_libraries(native ${CMAKE_CURRENT_SOURCE_DIR}/deltachat-core-rust/target/release/libdeltachat.a)\n</code></pre>\n<p>Is this correct?</p>\n<p>When i try to run this:</p>\n<pre><code>import messenger.DcContext;\n\npublic class MainJni {\n\n    static {\n        System.loadLibrary(&quot;native&quot;);\n    }\n\n    public static void main(String[] args) {\n        DcContext dcContext = new DcContext(&quot;ubuntu&quot;, &quot;example.db&quot;);\n\n        if(dcContext == null){\n\n        }\n    }\n\n\n}\n</code></pre>\n<p>I get this error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /home/robin/Documents/DeltaChatCoreJavaBindings/src/jni/build/libnative.so: /home/robin/Documents/DeltaChatCoreJavaBindings/src/jni/build/libnative.so: undefined symbol: SSL_get_error\n    at java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\n    at java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2442)\n    at java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2498)\n    at java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2694)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2659)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\n    at java.base/java.lang.System.loadLibrary(System.java:1873)\n    at MainJni.&lt;clinit&gt;(MainJni.java:6)\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1677600284,"post_id":75594456,"comment_id":133368108,"body_markdown":"This is just mathematics. That method calculates what the targeted surface must be with the given formula (r&#178;) and then uses the opposite to calculate the radius that is needed to get such a surface. Just math.","body":"This is just mathematics. That method calculates what the targeted surface must be with the given formula (r&#178;) and then uses the opposite to calculate the radius that is needed to get such a surface. Just math."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1677602030,"post_id":75594456,"comment_id":133368719,"body_markdown":"You should probably add a `public double getArea()` method, and call that instead inside of `add()`. Additionally, if `add()` returns a `Circle`, how does `return this.radius;` compile and work? That should probably be `return this;`.","body":"You should probably add a <code>public double getArea()</code> method, and call that instead inside of <code>add()</code>. Additionally, if <code>add()</code> returns a <code>Circle</code>, how does <code>return this.radius;</code> compile and work? That should probably be <code>return this;</code>."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677601089,"creation_date":1677601089,"answer_id":75594667,"question_id":75594456,"body_markdown":"This is just mathematics applied in code. \r\n\r\nIt was asked to create the method `add`. I rephrase what it needs to do: it should take a Circle instance as argument, and then mutate the current Circle instance so its surface has now to the other&#39;s surface added to it.\r\n\r\nIf we perform that action as a math&#39;s exercise we could say we have two circles defined by their radi: &#119903;&lt;sub&gt;1&lt;/sub&gt; and &#119903;&lt;sub&gt;2&lt;/sub&gt;\r\n\r\nThe surface of the first circle is &#119904;&lt;sub&gt;1&lt;/sub&gt; and it can be calculated from its radius as:\r\n\r\n&#119904;&lt;sub&gt;1&lt;/sub&gt; = &#119903;&lt;sub&gt;1&lt;/sub&gt;&#178;\r\n\r\nAnd the second circle has a surface of:\r\n\r\n&#119904;&lt;sub&gt;2&lt;/sub&gt; = &#119903;&lt;sub&gt;2&lt;/sub&gt;&#178;\r\n\r\nNow we want to calculate a third radius (&#119903;&lt;sub&gt;3&lt;/sub&gt;) such that the corresponding surface &#119904;&lt;sub&gt;3&lt;/sub&gt; is the sum of the two original surfaces, i.e. &#119904;&lt;sub&gt;1&lt;/sub&gt; + &#119904;&lt;sub&gt;2&lt;/sub&gt;. So we need to solve these equations:\r\n\r\n1. &#119904;&lt;sub&gt;1&lt;/sub&gt; = &#119903;&lt;sub&gt;1&lt;/sub&gt;&#178;\r\n2. &#119904;&lt;sub&gt;2&lt;/sub&gt; = &#119903;&lt;sub&gt;2&lt;/sub&gt;&#178;\r\n3. &#119904;&lt;sub&gt;3&lt;/sub&gt; = &#119903;&lt;sub&gt;3&lt;/sub&gt;&#178;\r\n4. &#119904;&lt;sub&gt;3&lt;/sub&gt; = &#119904;&lt;sub&gt;1&lt;/sub&gt; + &#119904;&lt;sub&gt;2&lt;/sub&gt;\r\n\r\nGiven are: &#119903;&lt;sub&gt;1&lt;/sub&gt; and &#119903;&lt;sub&gt;2&lt;/sub&gt;, and asked is &#119903;&lt;sub&gt;3&lt;/sub&gt;.\r\n\r\nSo let&#39;s solve that:\r\n\r\nIf in equality (4) we substitute all &#119904;&lt;sub&gt;&#119894;&lt;/sub&gt;, using the other three equalities, we derive:\r\n\r\n&#119903;&lt;sub&gt;3&lt;/sub&gt;&#178; = &#119903;&lt;sub&gt;1&lt;/sub&gt;&#178; + &#119903;&lt;sub&gt;2&lt;/sub&gt;&#178;\r\n\r\n...which reduces to:\r\n\r\n&#119903;&lt;sub&gt;3&lt;/sub&gt;&#178; = &#119903;&lt;sub&gt;1&lt;/sub&gt;&#178; + &#119903;&lt;sub&gt;2&lt;/sub&gt;&#178;\r\n\r\n...which reduces to:\r\n\r\n&#119903;&lt;sub&gt;3&lt;/sub&gt; = (&#119903;&lt;sub&gt;1&lt;/sub&gt;&#178; + &#119903;&lt;sub&gt;2&lt;/sub&gt;&#178;)\r\n\r\nThe code does this in a bit overkill way, as the involvement of `PI` is not needed, but OK, it&#39;s what this code is doing.","title":"how to implement a method add which needs a Circle object as its only parameter","body":"<p>This is just mathematics applied in code.</p>\n<p>It was asked to create the method <code>add</code>. I rephrase what it needs to do: it should take a Circle instance as argument, and then mutate the current Circle instance so its surface has now to the other's surface added to it.</p>\n<p>If we perform that action as a math's exercise we could say we have two circles defined by their radi: <sub>1</sub> and <sub>2</sub></p>\n<p>The surface of the first circle is <sub>1</sub> and it can be calculated from its radius as:</p>\n<p><sub>1</sub> = <sub>1</sub></p>\n<p>And the second circle has a surface of:</p>\n<p><sub>2</sub> = <sub>2</sub></p>\n<p>Now we want to calculate a third radius (<sub>3</sub>) such that the corresponding surface <sub>3</sub> is the sum of the two original surfaces, i.e. <sub>1</sub> + <sub>2</sub>. So we need to solve these equations:</p>\n<ol>\n<li><sub>1</sub> = <sub>1</sub></li>\n<li><sub>2</sub> = <sub>2</sub></li>\n<li><sub>3</sub> = <sub>3</sub></li>\n<li><sub>3</sub> = <sub>1</sub> + <sub>2</sub></li>\n</ol>\n<p>Given are: <sub>1</sub> and <sub>2</sub>, and asked is <sub>3</sub>.</p>\n<p>So let's solve that:</p>\n<p>If in equality (4) we substitute all <sub></sub>, using the other three equalities, we derive:</p>\n<p><sub>3</sub> = <sub>1</sub> + <sub>2</sub></p>\n<p>...which reduces to:</p>\n<p><sub>3</sub> = <sub>1</sub> + <sub>2</sub></p>\n<p>...which reduces to:</p>\n<p><sub>3</sub> = (<sub>1</sub> + <sub>2</sub>)</p>\n<p>The code does this in a bit overkill way, as the involvement of <code>PI</code> is not needed, but OK, it's what this code is doing.</p>\n"}],"owner":{"account_id":27840973,"reputation":3,"user_id":21257467,"display_name":"w.sia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75594667,"answer_count":1,"score":0,"last_activity_date":1677688035,"creation_date":1677599969,"question_id":75594456,"body_markdown":"The question is to implement a method called add that uses Circle as the only parameter. The question looks like this \r\n```\r\npublic class Circle {\r\n    double radius;\r\n\r\n    public Circle(double radius) {\r\n        this.radius = radius;\r\n    }\r\n\r\n    public double getRadius() {\r\n        return radius;\r\n    }\r\n\r\n    // Your code for method add goes here...\r\n  \r\n}\r\n\r\n```\r\nCould someone help me to understand the add method listed below?  The question is that we need have a method that does the operation of adding a circle to another is defined as the area of the resultant circle having an area equal to the sum of areas of the original two circles. (Recall that the area of a circle is given by r2.) \r\n```\r\npublic class Circle {\r\n    private double radius;\r\n    private final double PI = Math.PI;\r\n\r\n    public Circle(double radius) {\r\n        this.radius = radius;\r\n    }\r\n\r\n    public double getRadius() {\r\n        return radius;\r\n    }\r\n\r\n    // Add method\r\n\r\n    public Circle add(Circle circle) {\r\n        double sumOfAreas = PI * Math.pow(this.radius, 2) + PI * Math.pow(circle.radius, 2);\r\n        this.radius = Math.sqrt(sumOfAreas / PI);\r\n        return this.radius;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni thought the add method with circle as the parameter would like something like this?\r\n\r\n```\r\npublic add ( double circle) {\r\n.....}\r\n```\r\n\r\nThe class Circle should work with the main given \r\n```\r\n\r\npublic class TestCircle {\r\n    public static void main (String[] args) {\r\n        Circle c1 = new Circle(3.5);\r\n        Circle c2 = new Circle(6.8);\r\n        Circle c3 = new Circle(12.9);\r\n        \r\n        System.out.println(&quot;Before adding,&quot;);\r\n        System.out.println(&quot;Radius of the first circle is &quot; + c1.getRadius());\r\n        System.out.println(&quot;Radius of the second circle is &quot; + c2.getRadius());\r\n        System.out.println(&quot;Radius of the third circle is &quot; + c3.getRadius());\r\n        \r\n        c1.add(c2).add(c3);\r\n        \r\n        System.out.println(&quot;After adding,&quot;);\r\n        System.out.println(&quot;Radius of the first circle is &quot; + c1.getRadius());\r\n        System.out.println(&quot;Radius of the second circle is &quot; + c2.getRadius());\r\n        System.out.println(&quot;Radius of the third circle is &quot; + c3.getRadius());\r\n    }\r\n}\r\n```\r\n\r\nand the console should print out\r\n```\r\nBefore adding,\r\nRadius of the first circle is 3.5\r\nRadius of the second circle is 6.8\r\nRadius of the third circle is 12.9\r\nAfter adding,\r\nRadius of the first circle is 14.996666296213968\r\nRadius of the second circle is 6.8\r\nRadius of the third circle is 12.9\r\n\r\n\r\n```\r\n\r\n\r\nim not entirely clear on what the add method does in the example shown, or are there other methods?\r\n","title":"how to implement a method add which needs a Circle object as its only parameter","body":"<p>The question is to implement a method called add that uses Circle as the only parameter. The question looks like this</p>\n<pre><code>public class Circle {\n    double radius;\n\n    public Circle(double radius) {\n        this.radius = radius;\n    }\n\n    public double getRadius() {\n        return radius;\n    }\n\n    // Your code for method add goes here...\n  \n}\n\n</code></pre>\n<p>Could someone help me to understand the add method listed below?  The question is that we need have a method that does the operation of adding a circle to another is defined as the area of the resultant circle having an area equal to the sum of areas of the original two circles. (Recall that the area of a circle is given by r2.)</p>\n<pre><code>public class Circle {\n    private double radius;\n    private final double PI = Math.PI;\n\n    public Circle(double radius) {\n        this.radius = radius;\n    }\n\n    public double getRadius() {\n        return radius;\n    }\n\n    // Add method\n\n    public Circle add(Circle circle) {\n        double sumOfAreas = PI * Math.pow(this.radius, 2) + PI * Math.pow(circle.radius, 2);\n        this.radius = Math.sqrt(sumOfAreas / PI);\n        return this.radius;\n    }\n}\n\n</code></pre>\n<p>i thought the add method with circle as the parameter would like something like this?</p>\n<pre><code>public add ( double circle) {\n.....}\n</code></pre>\n<p>The class Circle should work with the main given</p>\n<pre><code>\npublic class TestCircle {\n    public static void main (String[] args) {\n        Circle c1 = new Circle(3.5);\n        Circle c2 = new Circle(6.8);\n        Circle c3 = new Circle(12.9);\n        \n        System.out.println(&quot;Before adding,&quot;);\n        System.out.println(&quot;Radius of the first circle is &quot; + c1.getRadius());\n        System.out.println(&quot;Radius of the second circle is &quot; + c2.getRadius());\n        System.out.println(&quot;Radius of the third circle is &quot; + c3.getRadius());\n        \n        c1.add(c2).add(c3);\n        \n        System.out.println(&quot;After adding,&quot;);\n        System.out.println(&quot;Radius of the first circle is &quot; + c1.getRadius());\n        System.out.println(&quot;Radius of the second circle is &quot; + c2.getRadius());\n        System.out.println(&quot;Radius of the third circle is &quot; + c3.getRadius());\n    }\n}\n</code></pre>\n<p>and the console should print out</p>\n<pre><code>Before adding,\nRadius of the first circle is 3.5\nRadius of the second circle is 6.8\nRadius of the third circle is 12.9\nAfter adding,\nRadius of the first circle is 14.996666296213968\nRadius of the second circle is 6.8\nRadius of the third circle is 12.9\n\n\n</code></pre>\n<p>im not entirely clear on what the add method does in the example shown, or are there other methods?</p>\n"},{"tags":["java","tuples","java-stream","jboss-arquillian"],"answers":[{"tags":[],"owner":{"account_id":27910744,"reputation":1,"user_id":21313001,"display_name":"user21313001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677686191,"creation_date":1677686191,"answer_id":75606078,"question_id":75605963,"body_markdown":"have you tried adding DISTINCT to your SELECT, i.e. \r\nSELECT DISTINCT p.provinceName, ...","title":"Writing a Java Arquillian test for a Map Tuple method","body":"<p>have you tried adding DISTINCT to your SELECT, i.e.\nSELECT DISTINCT p.provinceName, ...</p>\n"}],"owner":{"account_id":23475675,"reputation":5,"user_id":17528508,"display_name":"CheckDeck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677687631,"creation_date":1677685529,"question_id":75605963,"body_markdown":"I&#39;m attempting to write an Arquillian test to test the following method:\r\n```\r\n    // provinceName is key, provinceAbbreviation is value\r\n    public Map&lt;String, String&gt; regionMap() {\r\n        return em.createQuery(&quot;&quot;&quot;\r\n            select distinct p.provinceName as prov_id, p.provinceAbbreviation as prov_value\r\n            from CanadianPersonalIncomeTaxRate p\r\n            order by p.provinceName &quot;&quot;&quot;, Tuple.class)\r\n                .getResultStream()\r\n                .collect(Collectors.toMap(\r\n                                tuple -&gt; tuple.get(0, String.class),\r\n                                tuple -&gt; tuple.get(1, String.class)\r\n                        )\r\n                );\r\n    }\r\n```\r\nThe purpose of the method is to map through my list of canadian provinces with tax information, and return one value for each unique canadian province. The expected output is the @CsvSource below\r\nHere is my test method currently:\r\n```\r\n  @Order(2)\r\n    @ParameterizedTest\r\n    @CsvSource({\r\n            &quot;13,Alberta,AB,Yukon,YT&quot;\r\n    })\r\n    void regionMap(int expectedSize, String firstProvinceName, String firstProvinceAbbreviation,\r\n                   String lastProvinceName, String lastProvinceAbbreviation) {\r\n        assertNotNull(_canadianPersonalIncomeTaxRateRepository);\r\n        // Arrange\r\n        Map&lt;String, String&gt; provinceList = _canadianPersonalIncomeTaxRateRepository.regionMap();\r\n        // Assert\r\n        assertEquals(expectedSize, provinceList.size());\r\n        assertEquals(firstProvinceName, provinceList.get(0) );\r\n        assertEquals(firstProvinceAbbreviation, provinceList.get(1) );\r\n       // assertEquals(lastProvinceName, provinceList.get() );\r\n       // assertEquals(lastProvinceAbbreviation, provinceList.get() );\r\n\r\n    }\r\n```\r\nWhen I attempt to run the test, my error message states that my String values are null: IE Expected is Alberta but return is null. The expected size passes though. \r\n[Test Error message][1]\r\n\r\nI understand that my key is provinceName, and my value is provinceAbbreviation. For my return from the tuple I&#39;m expecting both of these values to be returned. What am I getting wrong for this test to work? Any insight is greatly appreciated\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3JWVw.jpg","title":"Writing a Java Arquillian test for a Map Tuple method","body":"<p>I'm attempting to write an Arquillian test to test the following method:</p>\n<pre><code>    // provinceName is key, provinceAbbreviation is value\n    public Map&lt;String, String&gt; regionMap() {\n        return em.createQuery(&quot;&quot;&quot;\n            select distinct p.provinceName as prov_id, p.provinceAbbreviation as prov_value\n            from CanadianPersonalIncomeTaxRate p\n            order by p.provinceName &quot;&quot;&quot;, Tuple.class)\n                .getResultStream()\n                .collect(Collectors.toMap(\n                                tuple -&gt; tuple.get(0, String.class),\n                                tuple -&gt; tuple.get(1, String.class)\n                        )\n                );\n    }\n</code></pre>\n<p>The purpose of the method is to map through my list of canadian provinces with tax information, and return one value for each unique canadian province. The expected output is the @CsvSource below\nHere is my test method currently:</p>\n<pre><code>  @Order(2)\n    @ParameterizedTest\n    @CsvSource({\n            &quot;13,Alberta,AB,Yukon,YT&quot;\n    })\n    void regionMap(int expectedSize, String firstProvinceName, String firstProvinceAbbreviation,\n                   String lastProvinceName, String lastProvinceAbbreviation) {\n        assertNotNull(_canadianPersonalIncomeTaxRateRepository);\n        // Arrange\n        Map&lt;String, String&gt; provinceList = _canadianPersonalIncomeTaxRateRepository.regionMap();\n        // Assert\n        assertEquals(expectedSize, provinceList.size());\n        assertEquals(firstProvinceName, provinceList.get(0) );\n        assertEquals(firstProvinceAbbreviation, provinceList.get(1) );\n       // assertEquals(lastProvinceName, provinceList.get() );\n       // assertEquals(lastProvinceAbbreviation, provinceList.get() );\n\n    }\n</code></pre>\n<p>When I attempt to run the test, my error message states that my String values are null: IE Expected is Alberta but return is null. The expected size passes though.\n<a href=\"https://i.stack.imgur.com/3JWVw.jpg\" rel=\"nofollow noreferrer\">Test Error message</a></p>\n<p>I understand that my key is provinceName, and my value is provinceAbbreviation. For my return from the tuple I'm expecting both of these values to be returned. What am I getting wrong for this test to work? Any insight is greatly appreciated</p>\n"},{"tags":["java","javac","properties-file"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1663017280,"post_id":73694722,"comment_id":130136170,"body_markdown":"You&#39;re wasting time not using a build tool.  Resource files (such as .properties files) are handled easily with something like Maven.","body":"You&#39;re wasting time not using a build tool.  Resource files (such as .properties files) are handled easily with something like Maven."},{"owner":{"account_id":16868714,"reputation":735,"user_id":12197778,"display_name":"ushka1"},"score":0,"creation_date":1663018860,"post_id":73694722,"comment_id":130136500,"body_markdown":"I&#39;ll surely be using build tools soon and probably in every next project I&#39;ll create. I just want to test and sum up my current Java Core knowledge building this project using only indispensable tools. I think that understanding how things work is always profitable.","body":"I&#39;ll surely be using build tools soon and probably in every next project I&#39;ll create. I just want to test and sum up my current Java Core knowledge building this project using only indispensable tools. I think that understanding how things work is always profitable."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1663020559,"post_id":73694722,"comment_id":130136887,"body_markdown":"Then you&#39;ll need to manually copy the `.properties` files to what appears to be your `./bin` directory.  It&#39;s unclear if these need to be in packages but, if so, they need to be copied to the appropriate subdirectory under `./bin`.  Build tools are indispensable to professionals.","body":"Then you&#39;ll need to manually copy the <code>.properties</code> files to what appears to be your <code>.&#47;bin</code> directory.  It&#39;s unclear if these need to be in packages but, if so, they need to be copied to the appropriate subdirectory under <code>.&#47;bin</code>.  Build tools are indispensable to professionals."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1677688487,"post_id":73694722,"comment_id":133388476,"body_markdown":"The adoption by build tools of the use of a &quot;resources&quot; directory was a poor decision, in my opinion. It would have been been quite natural and less contrived for them to treat any non-Java file under the &quot;java&quot; directory as class resource files.","body":"The adoption by build tools of the use of a &quot;resources&quot; directory was a poor decision, in my opinion. It would have been been quite natural and less contrived for them to treat any non-Java file under the &quot;java&quot; directory as class resource files."}],"answers":[{"tags":[],"owner":{"account_id":16868714,"reputation":735,"user_id":12197778,"display_name":"ushka1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663028761,"creation_date":1663028761,"answer_id":73696455,"question_id":73694722,"body_markdown":"Answering to my own question, but maybe someone will find this useful one day. In short `javac` always compiles `.java` files producing `.class` files. There is no way that it could process some other file (source:\r\nhttps://stackoverflow.com/questions/36682472/how-to-set-the-output-files-when-compiling-with-javac).\r\n\r\nLong story short if you want to include resources, images, text files, anything that is not `.java` file in your output, and don&#39;t want to use build tools, you have to copy it manually or use `cp` command in your build script. ","title":"Can javac process/include `.properties` files so that they appear in the output?","body":"<p>Answering to my own question, but maybe someone will find this useful one day. In short <code>javac</code> always compiles <code>.java</code> files producing <code>.class</code> files. There is no way that it could process some other file (source:\n<a href=\"https://stackoverflow.com/questions/36682472/how-to-set-the-output-files-when-compiling-with-javac\">How to set the output files when compiling with javac</a>).</p>\n<p>Long story short if you want to include resources, images, text files, anything that is not <code>.java</code> file in your output, and don't want to use build tools, you have to copy it manually or use <code>cp</code> command in your build script.</p>\n"},{"tags":[],"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677687550,"creation_date":1677685626,"answer_id":75605976,"question_id":73694722,"body_markdown":"This is why java .[jar][1] files were invented.  You want to [create a .jar file][2] and include your properties file, like so:\r\n\r\n`jar cvfm myjarname.jar MANIFEST.MF src/*.class my.properties`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jarGuide.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/deployment/jar/basicsindex.html","title":"Can javac process/include `.properties` files so that they appear in the output?","body":"<p>This is why java .<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jarGuide.html\" rel=\"nofollow noreferrer\">jar</a> files were invented.  You want to <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/basicsindex.html\" rel=\"nofollow noreferrer\">create a .jar file</a> and include your properties file, like so:</p>\n<p><code>jar cvfm myjarname.jar MANIFEST.MF src/*.class my.properties</code></p>\n"}],"owner":{"account_id":16868714,"reputation":735,"user_id":12197778,"display_name":"ushka1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677687550,"creation_date":1663013125,"question_id":73694722,"body_markdown":"Currently I&#39;m building a small personal project in Java which is a simple file server. I&#39;ve implemented basic internationalization with usage of `ResourceBundle`. I&#39;m using `.properties` files to store messages in different languages.\r\n\r\nTill now I was using Vscode built-in java compilation process which was copying `.properties` files into its corresponding directory in the output. However now I&#39;d like to write a build script for that project. \r\n\r\nMy command looks like this:\r\n`javac -d ./bin -cp ./src ./src/**/*.java`.\r\n\r\nThis command however doesn&#39;t take `.properties` files into account. I searched web whether `javac` has ability to somehow process/include this files into output but found no answer. I know I can use Maven or Ant, but I&#39;d like to make this project without usage of additional tools.","title":"Can javac process/include `.properties` files so that they appear in the output?","body":"<p>Currently I'm building a small personal project in Java which is a simple file server. I've implemented basic internationalization with usage of <code>ResourceBundle</code>. I'm using <code>.properties</code> files to store messages in different languages.</p>\n<p>Till now I was using Vscode built-in java compilation process which was copying <code>.properties</code> files into its corresponding directory in the output. However now I'd like to write a build script for that project.</p>\n<p>My command looks like this:\n<code>javac -d ./bin -cp ./src ./src/**/*.java</code>.</p>\n<p>This command however doesn't take <code>.properties</code> files into account. I searched web whether <code>javac</code> has ability to somehow process/include this files into output but found no answer. I know I can use Maven or Ant, but I'd like to make this project without usage of additional tools.</p>\n"},{"tags":["java","eclipse","maven","buildpath"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1650404747,"post_id":71931027,"comment_id":127106664,"body_markdown":"Dont put your Eclipse configuration files in source control.","body":"Dont put your Eclipse configuration files in source control."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1650437376,"post_id":71931027,"comment_id":127112423,"body_markdown":"@Thorbj&#248;rnRavnAndersen The `.project` file is intended to be shared.","body":"@Thorbj&#248;rnRavnAndersen The <code>.project</code> file is intended to be shared."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1650437603,"post_id":71931027,"comment_id":127112503,"body_markdown":"Does selecting the project folder and hitting F5 help? If you right-click a Maven project and choose _Maven &gt; Update Project..._ will the project be shown in the list of Maven projects?","body":"Does selecting the project folder and hitting F5 help? If you right-click a Maven project and choose <i>Maven &gt; Update Project...</i> will the project be shown in the list of Maven projects?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1650438159,"post_id":71931027,"comment_id":127112681,"body_markdown":"@howlger well, appears that something broke.  Of course there is no pom.xml file. I am no longer using Maven.","body":"@howlger well, appears that something broke.  Of course there is no pom.xml file. I am no longer using Maven."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1650439226,"post_id":71931027,"comment_id":127113005,"body_markdown":"@Thorbj&#248;rnRavnAndersen This might be caused by not sharing or sharing a wrong `.project` file. By the way, the `.project` file is not an Eclipse configuration file, but a project configuration/setting file introduced by Eclipse intended to be shared.","body":"@Thorbj&#248;rnRavnAndersen This might be caused by not sharing or sharing a wrong <code>.project</code> file. By the way, the <code>.project</code> file is not an Eclipse configuration file, but a project configuration/setting file introduced by Eclipse intended to be shared."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1650451328,"post_id":71931027,"comment_id":127117626,"body_markdown":"@howlger feel free to answer the actual question &#128578;","body":"@howlger feel free to answer the actual question "},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1650488425,"post_id":71931027,"comment_id":127131938,"body_markdown":"@howlger No, refreshing does not help. I just created a Maven project. Right-clicking and choosing `Maven &gt; Update Project...` shows only that new project, not the existing one.","body":"@howlger No, refreshing does not help. I just created a Maven project. Right-clicking and choosing <code>Maven &gt; Update Project...</code> shows only that new project, not the existing one."}],"answers":[{"tags":[],"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650488941,"creation_date":1650488941,"answer_id":71946210,"question_id":71931027,"body_markdown":"I was not able to fix the problem, but I was able to work around it by:\r\n\r\n 1. Creating a brand new Java project.\r\n 2. Importing the old source code.\r\n 3. Adding the libraries.\r\n 4. Running with the default run configuration.\r\n\r\nIn other words, if you get to this state, create a new project.","title":"Eclipse error: &quot;Could not read maven project&quot; for non-Maven project","body":"<p>I was not able to fix the problem, but I was able to work around it by:</p>\n<ol>\n<li>Creating a brand new Java project.</li>\n<li>Importing the old source code.</li>\n<li>Adding the libraries.</li>\n<li>Running with the default run configuration.</li>\n</ol>\n<p>In other words, if you get to this state, create a new project.</p>\n"},{"tags":[],"owner":{"account_id":27910830,"reputation":11,"user_id":21313070,"display_name":"Doug Thorne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677686846,"creation_date":1677686846,"answer_id":75606205,"question_id":71931027,"body_markdown":"I had the same issue.  What worked for me was deleting my run configurations for my builds and junits. The &quot;Could not read maven project&quot; error went away.  Sorry I was too late for you Ellen.","title":"Eclipse error: &quot;Could not read maven project&quot; for non-Maven project","body":"<p>I had the same issue.  What worked for me was deleting my run configurations for my builds and junits. The &quot;Could not read maven project&quot; error went away.  Sorry I was too late for you Ellen.</p>\n"}],"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71946210,"answer_count":2,"score":0,"last_activity_date":1677686846,"creation_date":1650400575,"question_id":71931027,"body_markdown":"I have a git Eclipse project that used to use Maven. I created a new Eclipse project on one computer, imported the source code, and successfully built it. I then committed and pushed my changes to GitHub.\r\n\r\nWhen I cloned the project on another computer (OS X) and imported it, I get this error when I try building:\r\n\r\n```\r\nCould not read maven project\r\n```\r\n\r\nWhen I click for additional details, I see:\r\n\r\n```\r\nCould not read maven project\r\nSome problems were encountered while processing the POMs:\r\n[FATAL] Non-readable POM /Users/spertus/src/wordui/pom.xml: /Users/spertus/src/wordui/pom.xml (No such file or directory) @ \r\n```\r\n\r\nOf course there is no `pom.xml` file. I am no longer using Maven.\r\n\r\nWhen I open the project Properties, the only item listed under Project Natures is Java.\r\n\r\nHere is the `.project` file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;projectDescription&gt;\r\n\t&lt;name&gt;wordui&lt;/name&gt;\r\n\t&lt;comment&gt;&lt;/comment&gt;\r\n\t&lt;projects&gt;\r\n\t&lt;/projects&gt;\r\n\t&lt;buildSpec&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t&lt;/buildSpec&gt;\r\n\t&lt;natures&gt;\r\n\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n\t&lt;/natures&gt;\r\n&lt;/projectDescription&gt;\r\n```\r\n\r\nI have tried reopening Eclipse, cleaning the project, and deleting and reimporting it, to no effect.\r\n\r\nI don&#39;t think `.classpath` should matter, but here it is:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.launching.macosx.MacOSXType/javafx-jre17&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.USER_LIBRARY/Wordnik API&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.USER_LIBRARY/JavaFX 17&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n&lt;/classpath&gt;\r\n```\r\n\r\nI am using Eclipse for Java Developers 2022-03. The run configuration is under Java Application.","title":"Eclipse error: &quot;Could not read maven project&quot; for non-Maven project","body":"<p>I have a git Eclipse project that used to use Maven. I created a new Eclipse project on one computer, imported the source code, and successfully built it. I then committed and pushed my changes to GitHub.</p>\n<p>When I cloned the project on another computer (OS X) and imported it, I get this error when I try building:</p>\n<pre><code>Could not read maven project\n</code></pre>\n<p>When I click for additional details, I see:</p>\n<pre><code>Could not read maven project\nSome problems were encountered while processing the POMs:\n[FATAL] Non-readable POM /Users/spertus/src/wordui/pom.xml: /Users/spertus/src/wordui/pom.xml (No such file or directory) @ \n</code></pre>\n<p>Of course there is no <code>pom.xml</code> file. I am no longer using Maven.</p>\n<p>When I open the project Properties, the only item listed under Project Natures is Java.</p>\n<p>Here is the <code>.project</code> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;projectDescription&gt;\n    &lt;name&gt;wordui&lt;/name&gt;\n    &lt;comment&gt;&lt;/comment&gt;\n    &lt;projects&gt;\n    &lt;/projects&gt;\n    &lt;buildSpec&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n    &lt;/buildSpec&gt;\n    &lt;natures&gt;\n        &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n    &lt;/natures&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n<p>I have tried reopening Eclipse, cleaning the project, and deleting and reimporting it, to no effect.</p>\n<p>I don't think <code>.classpath</code> should matter, but here it is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.launching.macosx.MacOSXType/javafx-jre17&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.USER_LIBRARY/Wordnik API&quot;/&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.USER_LIBRARY/JavaFX 17&quot;/&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>I am using Eclipse for Java Developers 2022-03. The run configuration is under Java Application.</p>\n"},{"tags":["java","spring","spring-boot","postman","http-method"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1677594323,"post_id":75593072,"comment_id":133366022,"body_markdown":"What are the actual values of `${url}` and `${numClient}`?","body":"What are the actual values of <code>${url}</code> and <code>${numClient}</code>?"},{"owner":{"account_id":8226926,"reputation":479,"user_id":6188947,"accept_rate":100,"display_name":"Neyt"},"score":0,"creation_date":1677594665,"post_id":75593072,"comment_id":133366170,"body_markdown":"@MCEmperor Hm...It&#39;s http : / / localhost:8092/api/mode and 123, why ? The Angular http call actually works (I separated the http because it doesn&#39;t appear otherwise)","body":"@MCEmperor Hm...It&#39;s http : / / localhost:8092/api/mode and 123, why ? The Angular http call actually works (I separated the http because it doesn&#39;t appear otherwise)"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1677595837,"post_id":75593072,"comment_id":133366594,"body_markdown":"Could you show the headers set by Postman?","body":"Could you show the headers set by Postman?"}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677686816,"creation_date":1677617312,"answer_id":75597145,"question_id":75593072,"body_markdown":"You&#39;re not sending the `Authorization` `RequestHeader` from postman.  Given that you&#39;ve defined this in your handler, you either need to add `required = false`, or pass the `Authorization` header, otherwise you&#39;ll get a 400.","title":"PATCH method with enum value doesn&#39;t work with Postman but works with browser","body":"<p>You're not sending the <code>Authorization</code> <code>RequestHeader</code> from postman.  Given that you've defined this in your handler, you either need to add <code>required = false</code>, or pass the <code>Authorization</code> header, otherwise you'll get a 400.</p>\n"}],"owner":{"account_id":8226926,"reputation":479,"user_id":6188947,"accept_rate":100,"display_name":"Neyt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75597145,"answer_count":1,"score":0,"last_activity_date":1677686816,"creation_date":1677592758,"question_id":75593072,"body_markdown":"Here is my Spring Controller with the *@PatchMapping* :\r\n``` java\r\n@PatchMapping(&quot;/mode/{numClient}&quot;)\r\npublic Response&lt;Object&gt; mode(\r\n       @PathVariable Integer numClient,\r\n       @RequestBody ModeEnum mode,\r\n       @RequestHeader(name = &quot;Authorization&quot;) String bearer\r\n    ) throws BusinessException, NoSuchElementException {\r\n    // Code here\r\n}\r\n```\r\n\r\nWith my *ModeEnum* that looks like this :\r\n\r\n``` java\r\npublic enum ModeEnum {\r\n    @JsonProperty(&quot;A&quot;)\r\n    AUTOMATIQUE(&#39;A&#39;),\r\n    @JsonProperty(&quot;M&quot;)\r\n    MANUEL(&#39;M&#39;);\r\n\r\n    private final Character mode;\r\n\r\n    private ModeEnum(Character mode) {\r\n        this.mode = mode;\r\n    }\r\n\r\n    public Character getMode() {\r\n        return this.mode;\r\n    }\r\n}\r\n```\r\n\r\nI use Angular as my frontend framework and this line of code\r\n``` typescript\r\nthis.http.patch(`${url}/${numClient}`, {mode})\r\n```\r\nsend this within the body :\r\n```\r\n{\r\n    &quot;mode&quot;: &quot;M&quot;\r\n}\r\n```\r\nand it works !\r\n\r\nNow, when I try to send the same thing with Postman (or the code Postman generate), it doesn&#39;t work, I have a 400 bad request :\r\n\r\n**Request** :\r\n[![Postman request][1]][1]\r\n\r\n**Headers** :\r\n[![Postman headers][2]][2]\r\n\r\n**Response** :\r\n[![Postman response][3]][3]\r\n\r\nWhat I tried :\r\n\r\n - use an encapsulated object instead of using directly my Enum in both Angular and Java/Spring\r\n - send an OPTIONS request first before trying my PATCH in Postman\r\n - only send &quot;A&quot; or &quot;M&quot; within the body of the Postman request\r\n\r\nBut none of them worked so I&#39;m running out of ideas :(\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n18H8.png\r\n  [2]: https://i.stack.imgur.com/intUZ.png\r\n  [3]: https://i.stack.imgur.com/2Fku9.png","title":"PATCH method with enum value doesn&#39;t work with Postman but works with browser","body":"<p>Here is my Spring Controller with the <em>@PatchMapping</em> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PatchMapping(&quot;/mode/{numClient}&quot;)\npublic Response&lt;Object&gt; mode(\n       @PathVariable Integer numClient,\n       @RequestBody ModeEnum mode,\n       @RequestHeader(name = &quot;Authorization&quot;) String bearer\n    ) throws BusinessException, NoSuchElementException {\n    // Code here\n}\n</code></pre>\n<p>With my <em>ModeEnum</em> that looks like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum ModeEnum {\n    @JsonProperty(&quot;A&quot;)\n    AUTOMATIQUE('A'),\n    @JsonProperty(&quot;M&quot;)\n    MANUEL('M');\n\n    private final Character mode;\n\n    private ModeEnum(Character mode) {\n        this.mode = mode;\n    }\n\n    public Character getMode() {\n        return this.mode;\n    }\n}\n</code></pre>\n<p>I use Angular as my frontend framework and this line of code</p>\n<pre class=\"lang-js prettyprint-override\"><code>this.http.patch(`${url}/${numClient}`, {mode})\n</code></pre>\n<p>send this within the body :</p>\n<pre><code>{\n    &quot;mode&quot;: &quot;M&quot;\n}\n</code></pre>\n<p>and it works !</p>\n<p>Now, when I try to send the same thing with Postman (or the code Postman generate), it doesn't work, I have a 400 bad request :</p>\n<p><strong>Request</strong> :\n<a href=\"https://i.stack.imgur.com/n18H8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n18H8.png\" alt=\"Postman request\" /></a></p>\n<p><strong>Headers</strong> :\n<a href=\"https://i.stack.imgur.com/intUZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/intUZ.png\" alt=\"Postman headers\" /></a></p>\n<p><strong>Response</strong> :\n<a href=\"https://i.stack.imgur.com/2Fku9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Fku9.png\" alt=\"Postman response\" /></a></p>\n<p>What I tried :</p>\n<ul>\n<li>use an encapsulated object instead of using directly my Enum in both Angular and Java/Spring</li>\n<li>send an OPTIONS request first before trying my PATCH in Postman</li>\n<li>only send &quot;A&quot; or &quot;M&quot; within the body of the Postman request</li>\n</ul>\n<p>But none of them worked so I'm running out of ideas :(</p>\n"},{"tags":["java","android","arrays","database","storing-data"],"answers":[{"tags":[],"owner":{"account_id":11524089,"reputation":161,"user_id":8445079,"display_name":"Paolino L Angeletti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677686605,"creation_date":1677686605,"answer_id":75606150,"question_id":75605296,"body_markdown":"in android you can store permanent data in 2 ways:\r\n\r\n1) implementing a local database in SQLite \r\n(see this link https://www.geeksforgeeks.org/how-to-create-and-add-data-to-sqlite-database-in-android/)\r\n2) shared preferences, with it you can store &quot;key -&gt; value&quot; informations (link: https://developer.android.com/training/data-storage/shared-preferences).\r\n\r\nIf I have well understood your problem, you need a database for your request.\r\nwriting and reading from files, if you permits me, is a tad ugly.","title":"Storing data with multiple values pernamently in Java Android Studio","body":"<p>in android you can store permanent data in 2 ways:</p>\n<ol>\n<li>implementing a local database in SQLite\n(see this link <a href=\"https://www.geeksforgeeks.org/how-to-create-and-add-data-to-sqlite-database-in-android/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-create-and-add-data-to-sqlite-database-in-android/</a>)</li>\n<li>shared preferences, with it you can store &quot;key -&gt; value&quot; informations (link: <a href=\"https://developer.android.com/training/data-storage/shared-preferences\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/shared-preferences</a>).</li>\n</ol>\n<p>If I have well understood your problem, you need a database for your request.\nwriting and reading from files, if you permits me, is a tad ugly.</p>\n"}],"owner":{"account_id":25995742,"reputation":21,"user_id":19707167,"display_name":"Karol Trawa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677686605,"creation_date":1677682230,"question_id":75605296,"body_markdown":"I need to store 1 key with 4 values (String)  \r\nSomething like this:  \r\n(value1, value2, value3, value4) &lt;- first key  \r\n(value1, value2, value3, value4) &lt;- second key  \r\n...  \r\n\r\nI want to read data to variables   \r\nvar1 = key1:value1  \r\nvar2 = key1:value2  \r\n...  \r\n\r\nAnd!  At the end i need to edit one value pernamently, so when i restart the app value dont reset.  \r\n\r\nkey1:value1 = &quot;new value&quot;  \r\n...\r\n\r\nHow i can achieve this?\r\n\r\nI have tried to make array, but they are hard coded. I think reading - writing to file/resource is the best way","title":"Storing data with multiple values pernamently in Java Android Studio","body":"<p>I need to store 1 key with 4 values (String)<br />\nSomething like this:<br />\n(value1, value2, value3, value4) &lt;- first key<br />\n(value1, value2, value3, value4) &lt;- second key<br />\n...</p>\n<p>I want to read data to variables<br />\nvar1 = key1:value1<br />\nvar2 = key1:value2<br />\n...</p>\n<p>And!  At the end i need to edit one value pernamently, so when i restart the app value dont reset.</p>\n<p>key1:value1 = &quot;new value&quot;<br />\n...</p>\n<p>How i can achieve this?</p>\n<p>I have tried to make array, but they are hard coded. I think reading - writing to file/resource is the best way</p>\n"},{"tags":["java","spring-boot","thymeleaf","pdf-generation","dynamicpdf"],"comments":[{"owner":{"account_id":4846147,"reputation":6062,"user_id":16540390,"display_name":"jabaa"},"score":0,"creation_date":1677682862,"post_id":75605200,"comment_id":133386530,"body_markdown":"Please read the tag descriptions before you use the tags. The API tag starts with: _&quot;DO NOT USE.&quot;_","body":"Please read the tag descriptions before you use the tags. The API tag starts with: <i>&quot;DO NOT USE.&quot;</i>"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1677856965,"post_id":75605200,"comment_id":133425483,"body_markdown":"From what library are those `Table`, `Paragraph`, `Cell`, ... classes? That is not something from Spring Boot or Thymeleaf AFAIK.","body":"From what library are those <code>Table</code>, <code>Paragraph</code>, <code>Cell</code>, ... classes? That is not something from Spring Boot or Thymeleaf AFAIK."}],"owner":{"account_id":18042005,"reputation":13,"user_id":13113875,"display_name":"shrimaan0205"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677685610,"creation_date":1677681831,"question_id":75605200,"body_markdown":"This is my code\r\n\r\n            // Create table for seller and buyer information\r\n            Table table = new Table(UnitValue.createPercentArray(new float[]{50, 50}));\r\n            table.setWidth(UnitValue.createPercentValue(100));\r\n                        \r\n\r\n            // Add seller and buyer information\r\n            table.addCell(new Cell().add(new        Paragraph(&quot;Seller:&quot;)).setBorder(Border.NO_BORDER).setPadding(5).setBorderRight(new SolidBorder(1)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Buyer:&quot;)).setBorder(Border.NO_BORDER).setPadding(5).setBorder(Border.NO_BORDER).setBorderLeft(new SolidBorder(1)));\r\n\r\n            table.addCell(new Cell().add(new Paragraph(&quot;XYZ Pvt. Ltd.\\nNew Delhi, India\\nGSTIN: 29AABBCCDD121ZD&quot;)).setBorder(Border.NO_BORDER).setPadding(5).setBorderRight(new SolidBorder(1)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Vedant Computers\\nNew Delhi, India\\nGSTIN: 29AABBCCDD131ZD&quot;)).setBorder(Border.NO_BORDER).setPadding(5).setBorder(Border.NO_BORDER).setBorderLeft(new SolidBorder(1)));\r\n            \r\n            // Add vertical line between columns\r\n            table.addCell(new Cell().setBorder(Border.NO_BORDER));\r\n            table.setBorder(new SolidBorder(1));\r\n            // Add the seller and buyer information table to the document\r\n            document.add(table);\r\n\r\n            // Add items information\r\n            Table itemsTable = new Table(UnitValue.createPercentArray(new float[]{25, 25, 25, 25}));\r\n            itemsTable.setWidth(UnitValue.createPercentValue(100));\r\n            itemsTable.setBorder(new SolidBorder(1));\r\n            \r\n\r\n            // Add table headers\r\n            itemsTable.addCell(new Paragraph(&quot;Item&quot;).setTextAlignment(TextAlignment.CENTER));\r\n            itemsTable.addCell(new Paragraph(&quot;Quantity&quot;).setTextAlignment(TextAlignment.CENTER));\r\n            itemsTable.addCell(new Paragraph(&quot;Rate&quot;).setTextAlignment(TextAlignment.CENTER));\r\n            itemsTable.addCell(new Paragraph(&quot;Amount&quot;).setTextAlignment(TextAlignment.CENTER));\r\n\r\n            // Add table data\r\n            itemsTable.addCell(&quot;Product 1&quot;);\r\n            itemsTable.setTextAlignment(TextAlignment.CENTER);\r\n            itemsTable.addCell(&quot;12 Nos&quot;);\r\n            itemsTable.setTextAlignment(TextAlignment.CENTER);\r\n            itemsTable.addCell(&quot;123.00&quot;);\r\n            itemsTable.setTextAlignment(TextAlignment.CENTER);\r\n            itemsTable.addCell(&quot;1476.00&quot;);\r\n            itemsTable.setTextAlignment(TextAlignment.CENTER);\r\n\r\n            document.add(itemsTable);\r\n\r\n[enter image description here](https://i.stack.imgur.com/U7ZPx.png)\r\nThe above image is the pdf generated which has the invoice. The live does not touch the border. Can someone please help?\r\nI tried everything but nothing helped.","title":"I want to touch the line in between the seller and the buyer column to the border of the table, but the line does not touch the border completely","body":"<p>This is my code</p>\n<pre><code>        // Create table for seller and buyer information\n        Table table = new Table(UnitValue.createPercentArray(new float[]{50, 50}));\n        table.setWidth(UnitValue.createPercentValue(100));\n                    \n\n        // Add seller and buyer information\n        table.addCell(new Cell().add(new        Paragraph(&quot;Seller:&quot;)).setBorder(Border.NO_BORDER).setPadding(5).setBorderRight(new SolidBorder(1)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Buyer:&quot;)).setBorder(Border.NO_BORDER).setPadding(5).setBorder(Border.NO_BORDER).setBorderLeft(new SolidBorder(1)));\n\n        table.addCell(new Cell().add(new Paragraph(&quot;XYZ Pvt. Ltd.\\nNew Delhi, India\\nGSTIN: 29AABBCCDD121ZD&quot;)).setBorder(Border.NO_BORDER).setPadding(5).setBorderRight(new SolidBorder(1)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Vedant Computers\\nNew Delhi, India\\nGSTIN: 29AABBCCDD131ZD&quot;)).setBorder(Border.NO_BORDER).setPadding(5).setBorder(Border.NO_BORDER).setBorderLeft(new SolidBorder(1)));\n        \n        // Add vertical line between columns\n        table.addCell(new Cell().setBorder(Border.NO_BORDER));\n        table.setBorder(new SolidBorder(1));\n        // Add the seller and buyer information table to the document\n        document.add(table);\n\n        // Add items information\n        Table itemsTable = new Table(UnitValue.createPercentArray(new float[]{25, 25, 25, 25}));\n        itemsTable.setWidth(UnitValue.createPercentValue(100));\n        itemsTable.setBorder(new SolidBorder(1));\n        \n\n        // Add table headers\n        itemsTable.addCell(new Paragraph(&quot;Item&quot;).setTextAlignment(TextAlignment.CENTER));\n        itemsTable.addCell(new Paragraph(&quot;Quantity&quot;).setTextAlignment(TextAlignment.CENTER));\n        itemsTable.addCell(new Paragraph(&quot;Rate&quot;).setTextAlignment(TextAlignment.CENTER));\n        itemsTable.addCell(new Paragraph(&quot;Amount&quot;).setTextAlignment(TextAlignment.CENTER));\n\n        // Add table data\n        itemsTable.addCell(&quot;Product 1&quot;);\n        itemsTable.setTextAlignment(TextAlignment.CENTER);\n        itemsTable.addCell(&quot;12 Nos&quot;);\n        itemsTable.setTextAlignment(TextAlignment.CENTER);\n        itemsTable.addCell(&quot;123.00&quot;);\n        itemsTable.setTextAlignment(TextAlignment.CENTER);\n        itemsTable.addCell(&quot;1476.00&quot;);\n        itemsTable.setTextAlignment(TextAlignment.CENTER);\n\n        document.add(itemsTable);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/U7ZPx.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe above image is the pdf generated which has the invoice. The live does not touch the border. Can someone please help?\nI tried everything but nothing helped.</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":1427644,"reputation":47311,"user_id":1350762,"display_name":"maba"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1349875393,"creation_date":1349874388,"answer_id":12820066,"question_id":12819773,"body_markdown":"According to the [Hibernate3 Maven Plugin][1] site the `hbm2java` goal binds to the `generate-sources` phase by default.\r\n\r\nAnd normally you won&#39;t have to clean the project, you run incremental builds.\r\n\r\nAnyway if you add the `maven-clean-plugin` and the `hibernate3-maven-plugin` in your `pom.xml` you will have it all in one command.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;auto-clean&lt;/id&gt;\r\n                        &lt;phase&gt;initialize&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;clean&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;hbm2java&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;hbm2java&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nIf you want the `hibernate3-maven-plugin` to be run after `compile` then just set the goal to `compile` since it will always run after default phases.\r\n\r\nSo to run all your goals with one command just run:\r\n\r\n    mvn compile\r\n\r\nAnd if you for any reason don&#39;t want to clean then just type:\r\n\r\n    mvn compile -Dclean.skip\r\n\r\n  [1]: http://mojo.codehaus.org/maven-hibernate3/hibernate3-maven-plugin/hbm2java-mojo.html","title":"Combine many Maven goals within a single one","body":"<p>According to the <a href=\"http://mojo.codehaus.org/maven-hibernate3/hibernate3-maven-plugin/hbm2java-mojo.html\" rel=\"noreferrer\">Hibernate3 Maven Plugin</a> site the <code>hbm2java</code> goal binds to the <code>generate-sources</code> phase by default.</p>\n\n<p>And normally you won't have to clean the project, you run incremental builds.</p>\n\n<p>Anyway if you add the <code>maven-clean-plugin</code> and the <code>hibernate3-maven-plugin</code> in your <code>pom.xml</code> you will have it all in one command.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;auto-clean&lt;/id&gt;\n                    &lt;phase&gt;initialize&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;clean&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;hbm2java&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;hbm2java&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>If you want the <code>hibernate3-maven-plugin</code> to be run after <code>compile</code> then just set the goal to <code>compile</code> since it will always run after default phases.</p>\n\n<p>So to run all your goals with one command just run:</p>\n\n<pre><code>mvn compile\n</code></pre>\n\n<p>And if you for any reason don't want to clean then just type:</p>\n\n<pre><code>mvn compile -Dclean.skip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1427644,"reputation":47311,"user_id":1350762,"display_name":"maba"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1349946277,"creation_date":1349946277,"answer_id":12835976,"question_id":12819773,"body_markdown":"Another solution that differs completely from my other answer would be to use the [`exec-maven-plugin`][1] with the goal [`exec:exec`][2].\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;mvn&lt;/executable&gt;\r\n                    &lt;arguments&gt;\r\n                        &lt;argument&gt;clean&lt;/argument&gt;\r\n                        &lt;argument&gt;compile&lt;/argument&gt;\r\n                        &lt;argument&gt;hibernate3:hbm2java&lt;/argument&gt;\r\n                    &lt;/arguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAnd then you just run it like this:\r\n\r\n    mvn exec:exec\r\n\r\nBy doing it this way you are not changing any of the other plugins and it is not bound to any phases either.\r\n\r\n  [1]: http://mojo.codehaus.org/exec-maven-plugin/index.html\r\n  [2]: http://mojo.codehaus.org/exec-maven-plugin/exec-mojo.html","title":"Combine many Maven goals within a single one","body":"<p>Another solution that differs completely from my other answer would be to use the <a href=\"http://mojo.codehaus.org/exec-maven-plugin/index.html\" rel=\"noreferrer\"><code>exec-maven-plugin</code></a> with the goal <a href=\"http://mojo.codehaus.org/exec-maven-plugin/exec-mojo.html\" rel=\"noreferrer\"><code>exec:exec</code></a>.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;mvn&lt;/executable&gt;\n                &lt;arguments&gt;\n                    &lt;argument&gt;clean&lt;/argument&gt;\n                    &lt;argument&gt;compile&lt;/argument&gt;\n                    &lt;argument&gt;hibernate3:hbm2java&lt;/argument&gt;\n                &lt;/arguments&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>And then you just run it like this:</p>\n\n<pre><code>mvn exec:exec\n</code></pre>\n\n<p>By doing it this way you are not changing any of the other plugins and it is not bound to any phases either.</p>\n"},{"tags":[],"owner":{"account_id":745399,"reputation":872,"user_id":731938,"display_name":"Igor Kanshyn"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1657224182,"creation_date":1536111569,"answer_id":52175932,"question_id":12819773,"body_markdown":"You can also define a **default goal** for Maven build. \r\nThen your command line call will look like this\r\n\r\n    mvn\r\n\r\n\r\n**Defining default goal**\r\n\r\nAdd the following lines to your pom.xml:\r\n\r\n    &lt;build&gt;\r\n\t    &lt;defaultGoal&gt;clean compile hibernate3:hbm2java&lt;/defaultGoal&gt;\r\n    &lt;/build&gt;\r\n","title":"Combine many Maven goals within a single one","body":"<p>You can also define a <strong>default goal</strong> for Maven build.\nThen your command line call will look like this</p>\n<pre><code>mvn\n</code></pre>\n<p><strong>Defining default goal</strong></p>\n<p>Add the following lines to your pom.xml:</p>\n<pre><code>&lt;build&gt;\n    &lt;defaultGoal&gt;clean compile hibernate3:hbm2java&lt;/defaultGoal&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43784,"reputation":365,"user_id":128151,"accept_rate":33,"display_name":"jruillier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677685606,"creation_date":1677685606,"answer_id":75605974,"question_id":12819773,"body_markdown":"Another possible option is to use [`maven-invoker-plugin`][1], like :\r\n```xml\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-invoker-plugin&lt;/artifactId&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;version&gt;3.5.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;pom&gt;pom.xml&lt;/pom&gt;\r\n                    &lt;streamLogs&gt;true&lt;/streamLogs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;run-app&lt;/id&gt;\r\n                        &lt;phase&gt;none&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;clean&lt;/goal&gt;\r\n                                &lt;goal&gt;compile&lt;/goal&gt;\r\n                                &lt;goal&gt;org.codehaus.mojo:hibernate3-maven-plugin:hbm2java&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nYou can then invoke your command with :\r\n```sh\r\nmvn invoker:run@run-app\r\n```\r\n\r\nOne advantage of this solution: your active `mvn` properties (e.g. using profiles) are propagated to given goals, which is not the case with `maven-exec-plugin`.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-invoker-plugin/run-mojo.html","title":"Combine many Maven goals within a single one","body":"<p>Another possible option is to use <a href=\"https://maven.apache.org/plugins/maven-invoker-plugin/run-mojo.html\" rel=\"nofollow noreferrer\"><code>maven-invoker-plugin</code></a>, like :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-invoker-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;pom&gt;pom.xml&lt;/pom&gt;\n                    &lt;streamLogs&gt;true&lt;/streamLogs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;run-app&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;clean&lt;/goal&gt;\n                                &lt;goal&gt;compile&lt;/goal&gt;\n                                &lt;goal&gt;org.codehaus.mojo:hibernate3-maven-plugin:hbm2java&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>You can then invoke your command with :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn invoker:run@run-app\n</code></pre>\n<p>One advantage of this solution: your active <code>mvn</code> properties (e.g. using profiles) are propagated to given goals, which is not the case with <code>maven-exec-plugin</code>.</p>\n"}],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16540,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":12835976,"answer_count":4,"score":21,"last_activity_date":1677685606,"creation_date":1349873428,"question_id":12819773,"body_markdown":"Until now, I&#39;m using the command `mvn clean compile hibernate3:hbm2java` to launch my program. Is there any way to combine those three goals within a single one, e.g. `mvn run` or `mvn myapp:run`?","title":"Combine many Maven goals within a single one","body":"<p>Until now, I'm using the command <code>mvn clean compile hibernate3:hbm2java</code> to launch my program. Is there any way to combine those three goals within a single one, e.g. <code>mvn run</code> or <code>mvn myapp:run</code>?</p>\n"},{"tags":["java","ajax","htmlunit"],"comments":[{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1677654833,"post_id":75584209,"comment_id":133378475,"body_markdown":"Do you have a sample url to reproduce your case","body":"Do you have a sample url to reproduce your case"},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1677677736,"post_id":75584209,"comment_id":133384735,"body_markdown":"the connection wrapper is not used if the request is already in the cache - try to set the connection wrapper as part of your general webclient setup before the first getPage() call","body":"the connection wrapper is not used if the request is already in the cache - try to set the connection wrapper as part of your general webclient setup before the first getPage() call"},{"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"score":0,"creation_date":1677683849,"post_id":75584209,"comment_id":133386843,"body_markdown":"thanks for your feedback :) . For example, https://js-tutorials.com/demos/jqgrid_jquery_example_demo/ can be serve as a example. If i get this url, will returm me a html page without data populated to grid but after that a ajax request is done with https://jsonplaceholder.typicode.com/posts?_search=false&amp;nd=1677683438536&amp;rows=10&amp;page=1&amp;sidx=id&amp;sord=desc . \nMy goal is handling that ajax response value/data.","body":"thanks for your feedback :) . For example, <a href=\"https://js-tutorials.com/demos/jqgrid_jquery_example_demo/\" rel=\"nofollow noreferrer\">js-tutorials.com/demos/jqgrid_jquery_example_demo</a> can be serve as a example. If i get this url, will returm me a html page without data populated to grid but after that a ajax request is done with <a href=\"https://jsonplaceholder.typicode.com/posts?_search=false&amp;nd=1677683438536&amp;rows=10&amp;page=1&amp;sidx=id&amp;sord=desc\" rel=\"nofollow noreferrer\">jsonplaceholder.typicode.com/&hellip;</a> .  My goal is handling that ajax response value/data."}],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677685496,"creation_date":1677685496,"answer_id":75605953,"question_id":75584209,"body_markdown":"This works here (HtmlUnit 2.70.0)\r\n\r\n    String url = &quot;https://js-tutorials.com/demos/jqgrid_jquery_example_demo/&quot;;\r\n\r\n    try (final WebClient webClient = new WebClient()) {\r\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\r\n        new WebConnectionWrapper(webClient) {\r\n            @Override\r\n            public WebResponse getResponse(final WebRequest request) throws IOException {\r\n                final WebResponse response = super.getResponse(request);\r\n\r\n                System.out.println(request.getUrl().toString());\r\n\r\n                if (request.getUrl().toString().startsWith(&quot;https://jsonplaceholder.typicode.com/posts&quot;)) {\r\n                    System.out.println(&quot;-----&quot;);\r\n                    System.out.println(response.getContentAsString());\r\n                    System.out.println(&quot;-----&quot;);\r\n                }\r\n                return response;\r\n            }\r\n        };\r\n\r\n        HtmlPage page = webClient.getPage(url);\r\n        webClient.waitForBackgroundJavaScript(10_000);\r\n        page = (HtmlPage) webClient.getCurrentWindow().getEnclosedPage();\r\n\r\n        System.out.println(&quot;----------------&quot;);\r\n        System.out.println(page.asNormalizedText());\r\n        System.out.println(&quot;----------------&quot;);\r\n    }\r\n}\r\n","title":"Catch all ajax requests (grid refresh) using HtmlUnit","body":"<p>This works here (HtmlUnit 2.70.0)</p>\n<pre><code>String url = &quot;https://js-tutorials.com/demos/jqgrid_jquery_example_demo/&quot;;\n\ntry (final WebClient webClient = new WebClient()) {\n    webClient.getOptions().setThrowExceptionOnScriptError(false);\n\n    new WebConnectionWrapper(webClient) {\n        @Override\n        public WebResponse getResponse(final WebRequest request) throws IOException {\n            final WebResponse response = super.getResponse(request);\n\n            System.out.println(request.getUrl().toString());\n\n            if (request.getUrl().toString().startsWith(&quot;https://jsonplaceholder.typicode.com/posts&quot;)) {\n                System.out.println(&quot;-----&quot;);\n                System.out.println(response.getContentAsString());\n                System.out.println(&quot;-----&quot;);\n            }\n            return response;\n        }\n    };\n\n    HtmlPage page = webClient.getPage(url);\n    webClient.waitForBackgroundJavaScript(10_000);\n    page = (HtmlPage) webClient.getCurrentWindow().getEnclosedPage();\n\n    System.out.println(&quot;----------------&quot;);\n    System.out.println(page.asNormalizedText());\n    System.out.println(&quot;----------------&quot;);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75605953,"answer_count":1,"score":0,"last_activity_date":1677685496,"creation_date":1677522389,"question_id":75584209,"body_markdown":"I am scrapping a website with this workflow process using HtmlUnit library.\r\n\r\n 1. Goes to root site like www.mysite.com\r\n 2. Do login (www.mysite.com/login)\r\n 3. Access to a page where table/grid is located (www.mysite.com/list)\r\n\r\nIn the last point, a table is present and is being refreshed from the server every 30s. I find those ajax requests (fecth/XHR) in chrome network developer tool, with (www.mysite.com/events) endpoint. My first approach was make a simple http connection/request after the login, but unfortunately the payload of this request is very complex and have dynamic information that i can&#39;t reproduce to apply it.\r\n\r\nSo my second approach is listen request every time the server issues.\r\n\r\ni am doing in that way\r\n\r\n     //webclient instance config\r\n    \r\n     webClient.getOptions().setJavaScriptEnabled(false);\r\n     webClient.getOptions().setCssEnabled(false);\r\n     webClient.getOptions().setDoNotTrackEnabled(false);\r\n     webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n     webClient.setAjaxController(new NicelyResynchronizingAjaxController());\r\n\r\n     // do login\r\n\r\n     HtmlPage loginPage = webClient.getPage(&quot;www.mysite.com/login&quot;);\r\n     HtmlForm form = loginPage.getForms().get(0);\r\n     form.getInputByName(&quot;email&quot;).type(username);\r\n     form.getInputByName(&quot;password&quot;).type(password);\r\n     HtmlButton button = (HtmlButton) loginPage.getElementById(&quot;submit&quot;);\r\n     button.click();\r\n\r\n     // listen ajax requests on www.mysite.com/list\r\n   \r\n     new WebConnectionWrapper(webClient) {\r\n                @Override\r\n                public WebResponse getResponse(final WebRequest request) throws IOException {\r\n                    final WebResponse response = super.getResponse(request);\r\n                    logger.info(request.getUrl().toString());\r\n                    return response;\r\n                }\r\n            };\r\n\r\n      webClient.getPage(&quot;www.mysite.com/list&quot;);\r\n      webClient.waitForBackgroundJavaScript(7000);\r\n\r\nBut i am not able to catch the ajax request (/events URI) that brings this data to refresh the grid\r\n\r\nIs something missing? Thanks","title":"Catch all ajax requests (grid refresh) using HtmlUnit","body":"<p>I am scrapping a website with this workflow process using HtmlUnit library.</p>\n<ol>\n<li>Goes to root site like <a href=\"http://www.mysite.com\" rel=\"nofollow noreferrer\">www.mysite.com</a></li>\n<li>Do login (<a href=\"http://www.mysite.com/login\" rel=\"nofollow noreferrer\">www.mysite.com/login</a>)</li>\n<li>Access to a page where table/grid is located (<a href=\"http://www.mysite.com/list\" rel=\"nofollow noreferrer\">www.mysite.com/list</a>)</li>\n</ol>\n<p>In the last point, a table is present and is being refreshed from the server every 30s. I find those ajax requests (fecth/XHR) in chrome network developer tool, with (<a href=\"http://www.mysite.com/events\" rel=\"nofollow noreferrer\">www.mysite.com/events</a>) endpoint. My first approach was make a simple http connection/request after the login, but unfortunately the payload of this request is very complex and have dynamic information that i can't reproduce to apply it.</p>\n<p>So my second approach is listen request every time the server issues.</p>\n<p>i am doing in that way</p>\n<pre><code> //webclient instance config\n\n webClient.getOptions().setJavaScriptEnabled(false);\n webClient.getOptions().setCssEnabled(false);\n webClient.getOptions().setDoNotTrackEnabled(false);\n webClient.getOptions().setThrowExceptionOnScriptError(false);\n webClient.setAjaxController(new NicelyResynchronizingAjaxController());\n\n // do login\n\n HtmlPage loginPage = webClient.getPage(&quot;www.mysite.com/login&quot;);\n HtmlForm form = loginPage.getForms().get(0);\n form.getInputByName(&quot;email&quot;).type(username);\n form.getInputByName(&quot;password&quot;).type(password);\n HtmlButton button = (HtmlButton) loginPage.getElementById(&quot;submit&quot;);\n button.click();\n\n // listen ajax requests on www.mysite.com/list\n\n new WebConnectionWrapper(webClient) {\n            @Override\n            public WebResponse getResponse(final WebRequest request) throws IOException {\n                final WebResponse response = super.getResponse(request);\n                logger.info(request.getUrl().toString());\n                return response;\n            }\n        };\n\n  webClient.getPage(&quot;www.mysite.com/list&quot;);\n  webClient.waitForBackgroundJavaScript(7000);\n</code></pre>\n<p>But i am not able to catch the ajax request (/events URI) that brings this data to refresh the grid</p>\n<p>Is something missing? Thanks</p>\n"},{"tags":["java","gradle","gitlab","gitlab-ci"],"owner":{"account_id":11555551,"reputation":650,"user_id":8466844,"display_name":"Nam V. Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1677685329,"creation_date":1677685329,"question_id":75605924,"body_markdown":"I have a Gitlab CI file to build and push the Docker image to our container registry, here is the job I want to run inside the `.gitlab-ci.yml` file:\r\n```yaml\r\nvcrawler-finance-docker-build:\r\n  stage: build image\r\n  only:\r\n    refs:\r\n      - main\r\n    changes:\r\n      - cicd/vcrawler/finance_control\r\n  variables:\r\n    SERVICE_NAME: &#39;vcrawler&#39;\r\n    FILE_CONTROL_NAME: &#39;finance_control&#39;\r\n    DOCKER_FILE: &#39;Dockerfile_finance&#39;\r\n  script:\r\n    - sh cicd/build_crawler.sh\r\n  artifacts:\r\n    reports:\r\n      dotenv:\r\n        - vcrawler/build_vcrawler.env\r\n```\r\nThe `cicd/build_crawler` script basically executes this `Dockerfile`:\r\n```Dockerfile\r\nFROM --platform=linux/amd64 gradle:jdk17 as builder\r\nWORKDIR /home/gradle\r\nCOPY ./build.gradle .\r\nCOPY . /home/gradle\r\nCOPY ./persistence ./persistence\r\nRUN gradle build -x test\r\n...\r\n```\r\nI get the error on the 6th line when I run my scripts on Gitlab Runner:\r\n```shell\r\nERROR: JAVA_HOME is set to an invalid directory: /opt/java/openjdk\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.\r\n```\r\nHowever, I don&#39;t know whether it&#39;s related but I have another Dockerfile to run another service with Gradle image: `gradle:jdk17-alpine`; it has the exact `JAVA_HOME` location, and it works fine. Thanks for any help!\r\n\r\n\r\n","title":"Gitlab CI: JAVA_HOME is set to an invalid directory: /opt/java/openjdk when building the Docker image","body":"<p>I have a Gitlab CI file to build and push the Docker image to our container registry, here is the job I want to run inside the <code>.gitlab-ci.yml</code> file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>vcrawler-finance-docker-build:\n  stage: build image\n  only:\n    refs:\n      - main\n    changes:\n      - cicd/vcrawler/finance_control\n  variables:\n    SERVICE_NAME: 'vcrawler'\n    FILE_CONTROL_NAME: 'finance_control'\n    DOCKER_FILE: 'Dockerfile_finance'\n  script:\n    - sh cicd/build_crawler.sh\n  artifacts:\n    reports:\n      dotenv:\n        - vcrawler/build_vcrawler.env\n</code></pre>\n<p>The <code>cicd/build_crawler</code> script basically executes this <code>Dockerfile</code>:</p>\n<pre><code>FROM --platform=linux/amd64 gradle:jdk17 as builder\nWORKDIR /home/gradle\nCOPY ./build.gradle .\nCOPY . /home/gradle\nCOPY ./persistence ./persistence\nRUN gradle build -x test\n...\n</code></pre>\n<p>I get the error on the 6th line when I run my scripts on Gitlab Runner:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>ERROR: JAVA_HOME is set to an invalid directory: /opt/java/openjdk\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n</code></pre>\n<p>However, I don't know whether it's related but I have another Dockerfile to run another service with Gradle image: <code>gradle:jdk17-alpine</code>; it has the exact <code>JAVA_HOME</code> location, and it works fine. Thanks for any help!</p>\n"},{"tags":["java","spring","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":5218030,"reputation":37,"user_id":4172304,"display_name":"Occams Stubble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644943666,"creation_date":1644943666,"answer_id":71130267,"question_id":64011351,"body_markdown":"I&#39;m not sure this will help you because it doesn&#39;t sound like the same problem but I&#39;ve noticed a weirdness with modified flags and collections. \r\n\r\nI get my entities back from the front end converted from JSON back to POJOs. In order to keep from having a transient object error from Hibernate, I need to reset the value in the @Id field (which was never sent to the FE). This works fine for 1-1 entities. \r\n\r\nOn collections, I found that if I create a new instance of the collection class and fill it with refreshed entities from the old collection and then assign that new collection to the old attribute, the modified flag is set to true. \r\n\r\nHowever, if I fill a new collection with refreshed entities, clear() the old collection, then add all the items in the new collection, modified flag will be false unless there were actual changes to the collection. ","title":"Hibernate Envers wrong modified flag on list","body":"<p>I'm not sure this will help you because it doesn't sound like the same problem but I've noticed a weirdness with modified flags and collections.</p>\n<p>I get my entities back from the front end converted from JSON back to POJOs. In order to keep from having a transient object error from Hibernate, I need to reset the value in the @Id field (which was never sent to the FE). This works fine for 1-1 entities.</p>\n<p>On collections, I found that if I create a new instance of the collection class and fill it with refreshed entities from the old collection and then assign that new collection to the old attribute, the modified flag is set to true.</p>\n<p>However, if I fill a new collection with refreshed entities, clear() the old collection, then add all the items in the new collection, modified flag will be false unless there were actual changes to the collection.</p>\n"}],"owner":{"account_id":15843257,"reputation":11,"user_id":11431160,"display_name":"Isiaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677685286,"creation_date":1600783076,"question_id":64011351,"body_markdown":"I use Envers to audit my data and sometimes the value of the `_MOD` is incorrect. It stays at `0` instead of `1` when I am adding an element in my list. But it happens only in a specific case.\r\n\r\nMy entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;PERSONNE&quot;)\r\n    @Audited(withModifiedFlag = true)\r\n    public class PersonEntity {\r\n\r\n       @Id\r\n       @Column(name = &quot;ID_PERSONNE&quot;)\r\n       private Long id;\r\n\r\n       @Column(name = &quot;NAME&quot;, length = 100)\r\n       private String name;\r\n\r\n       @Audited( withModifiedFlag = true, modifiedColumnName = &quot;SERVICES_MOD&quot;)\r\n       private Set&lt;PersonneServiceEntity&gt; services = new HashSet&lt;&gt;(); // Entity with attributs, gettters, setters and envers annotations...\r\n\r\n       @Audited( withModifiedFlag = true, modifiedColumnName = &quot;OPT_INS_MOD&quot;)\r\n       private Set&lt;OptinEntity&gt; optIns = new HashSet&lt;&gt;();// Entity with attributs, gettters, setters and envers annotations...\r\n\r\n      \r\n       // more fields\r\n       // + getters, setteurs, equals, tostring\r\n\r\n\r\nmy service:\r\n\r\n    // personFromDB is retrieve via an Id \r\n    private void update(PersonEntity personFromRequest, PersonEntity personFromDB) {\r\n\r\n        personFromDB.setName(personFromRequest.getName());\r\n        updateServices(personFromRequest, personFromDB); // add new support to the list\r\n        updateOptins(personFromRequest, personFromDB); // add new services to the list\r\n\r\n        personDao.saveAndFlush(personFromDB);\r\n    }\r\n\r\n\r\nThis is were the magic happens: When I am updating `name`, `services` and `optIns`. Values in my database are all correct, my entity is correctly persisted, **except one envers&#39;s column**: `OPT_INS_MOD` ( `OPT_INS_MOD == 0`).\r\nBut if I am not updating the name ( line commented ) then everything is correctly persisted including all `_MOD` values ( `OPT_INS_MOD == 1` and `SERVICES_MOD` ).\r\nAnd finally if I am switching `updateSupport(personFromRequest, personFromDB)` and `updateServices(personFromRequest, personFromDB)`, in this case `OPT_INS_MOD` is correct but not `SERVICES_MOD`. \r\n\r\nMy guess is that there is a problem when Envers is getting all modified fields. Because it does not make any sense to me.\r\n\r\nAny ideas? I am using Envers version **4.3.11.Final**\r\n\r\n","title":"Hibernate Envers wrong modified flag on list","body":"<p>I use Envers to audit my data and sometimes the value of the <code>_MOD</code> is incorrect. It stays at <code>0</code> instead of <code>1</code> when I am adding an element in my list. But it happens only in a specific case.</p>\n<p>My entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;PERSONNE&quot;)\n@Audited(withModifiedFlag = true)\npublic class PersonEntity {\n\n   @Id\n   @Column(name = &quot;ID_PERSONNE&quot;)\n   private Long id;\n\n   @Column(name = &quot;NAME&quot;, length = 100)\n   private String name;\n\n   @Audited( withModifiedFlag = true, modifiedColumnName = &quot;SERVICES_MOD&quot;)\n   private Set&lt;PersonneServiceEntity&gt; services = new HashSet&lt;&gt;(); // Entity with attributs, gettters, setters and envers annotations...\n\n   @Audited( withModifiedFlag = true, modifiedColumnName = &quot;OPT_INS_MOD&quot;)\n   private Set&lt;OptinEntity&gt; optIns = new HashSet&lt;&gt;();// Entity with attributs, gettters, setters and envers annotations...\n\n  \n   // more fields\n   // + getters, setteurs, equals, tostring\n</code></pre>\n<p>my service:</p>\n<pre><code>// personFromDB is retrieve via an Id \nprivate void update(PersonEntity personFromRequest, PersonEntity personFromDB) {\n\n    personFromDB.setName(personFromRequest.getName());\n    updateServices(personFromRequest, personFromDB); // add new support to the list\n    updateOptins(personFromRequest, personFromDB); // add new services to the list\n\n    personDao.saveAndFlush(personFromDB);\n}\n</code></pre>\n<p>This is were the magic happens: When I am updating <code>name</code>, <code>services</code> and <code>optIns</code>. Values in my database are all correct, my entity is correctly persisted, <strong>except one envers's column</strong>: <code>OPT_INS_MOD</code> ( <code>OPT_INS_MOD == 0</code>).\nBut if I am not updating the name ( line commented ) then everything is correctly persisted including all <code>_MOD</code> values ( <code>OPT_INS_MOD == 1</code> and <code>SERVICES_MOD</code> ).\nAnd finally if I am switching <code>updateSupport(personFromRequest, personFromDB)</code> and <code>updateServices(personFromRequest, personFromDB)</code>, in this case <code>OPT_INS_MOD</code> is correct but not <code>SERVICES_MOD</code>.</p>\n<p>My guess is that there is a problem when Envers is getting all modified fields. Because it does not make any sense to me.</p>\n<p>Any ideas? I am using Envers version <strong>4.3.11.Final</strong></p>\n"},{"tags":["java","polymorphism"],"answers":[{"tags":[],"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1297021242,"creation_date":1297021242,"answer_id":4915630,"question_id":4915615,"body_markdown":"Accessing an object through a reference-to-base-class means that you intend to access it via the interface specified by the base class.  If you&#39;ve declared a method `private` in the base class, then you can&#39;t access it via a reference-to-base!\r\n\r\nConsider the absurdity that would ensue if that weren&#39;t the case:\r\n\r\n    Base b;\r\n    \r\n    if (some condition) {\r\n        b = new Base();\r\n    }\r\n    else {\r\n        b = new Derived();\r\n    }\r\n    \r\n    b.ggg();  // Ok, or not?","title":"Polymorphism - access specifier changed in derived class","body":"<p>Accessing an object through a reference-to-base-class means that you intend to access it via the interface specified by the base class.  If you've declared a method <code>private</code> in the base class, then you can't access it via a reference-to-base!</p>\n\n<p>Consider the absurdity that would ensue if that weren't the case:</p>\n\n<pre><code>Base b;\n\nif (some condition) {\n    b = new Base();\n}\nelse {\n    b = new Derived();\n}\n\nb.ggg();  // Ok, or not?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85344,"reputation":5543,"user_id":237993,"display_name":"Piotr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297022532,"creation_date":1297021263,"answer_id":4915631,"question_id":4915615,"body_markdown":"In Java private members of a super class are **not** visible in derived classes. Because of that it is **not possible** in a derived class to:\r\n\r\n - _reference private members of a super class_ - they are there but you just can&#39;t acces them, they are inner details of a super class which are not meant to be used in derived classes,\r\n - _override private methods_.\r\n\r\nSo in your example `Derived.gg()` method is not overriding the `Base.gg()` method. `Derived.gg()` is just a method with the same name as the method in `Base` class but they have nothing in common. There is also no name clash because `Derived` class is not aware of a `Base.gg()` method.","title":"Polymorphism - access specifier changed in derived class","body":"<p>In Java private members of a super class are <strong>not</strong> visible in derived classes. Because of that it is <strong>not possible</strong> in a derived class to:</p>\n\n<ul>\n<li><em>reference private members of a super class</em> - they are there but you just can't acces them, they are inner details of a super class which are not meant to be used in derived classes,</li>\n<li><em>override private methods</em>.</li>\n</ul>\n\n<p>So in your example <code>Derived.gg()</code> method is not overriding the <code>Base.gg()</code> method. <code>Derived.gg()</code> is just a method with the same name as the method in <code>Base</code> class but they have nothing in common. There is also no name clash because <code>Derived</code> class is not aware of a <code>Base.gg()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":21584206,"reputation":41,"user_id":15914957,"display_name":"Yan Chun Tang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677685205,"creation_date":1677685205,"answer_id":75605901,"question_id":4915615,"body_markdown":"If you know c#, this answer will be obvious. First runtime will check the signature of parent method to see if it is virtual, then look at the child same signature method. if you can not check parent method (here private), you wiil stop at first step","title":"Polymorphism - access specifier changed in derived class","body":"<p>If you know c#, this answer will be obvious. First runtime will check the signature of parent method to see if it is virtual, then look at the child same signature method. if you can not check parent method (here private), you wiil stop at first step</p>\n"}],"owner":{"account_id":275349,"reputation":311,"user_id":568173,"accept_rate":62,"display_name":"dasman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4915630,"answer_count":3,"score":1,"last_activity_date":1677685205,"creation_date":1297021039,"question_id":4915615,"body_markdown":"Hi I just wanted to undertand the following behavior..\r\nI have defined the same method - gg() in the base and derived class with different access \r\n\r\n    Class Base  \r\n    {  \r\n    // some thing   \r\n    **private** Integer gg(){  \r\n     //return something   \r\n     }  \r\n    }\r\n    \r\n    Class Derived{  \r\n    // something  \r\n    **public** Integer gg(){  \r\n    //return something  \r\n    }  \r\n    }\r\n\r\nIn my main method when I initialize a variable   \r\n\r\n      Base d = new Derived()  \r\n\r\nand attempt to call d.gg() it says Base.gg() is private. Does modifying the access specifier make the method calls revert to the Base class method?. When i change the access specifer of gg() in base class to public,  then it calls the method in Derived class just as polymorphism should. \r\n\r\nFrom what I read about polymorphism, its ok to make the access specifier less restrictive in derived class which was the case here .\r\n \r\n\r\n \r\n\r\n\r\n","title":"Polymorphism - access specifier changed in derived class","body":"<p>Hi I just wanted to undertand the following behavior..\nI have defined the same method - gg() in the base and derived class with different access </p>\n\n<pre><code>Class Base  \n{  \n// some thing   \n**private** Integer gg(){  \n //return something   \n }  \n}\n\nClass Derived{  \n// something  \n**public** Integer gg(){  \n//return something  \n}  \n}\n</code></pre>\n\n<p>In my main method when I initialize a variable   </p>\n\n<pre><code>  Base d = new Derived()  \n</code></pre>\n\n<p>and attempt to call d.gg() it says Base.gg() is private. Does modifying the access specifier make the method calls revert to the Base class method?. When i change the access specifer of gg() in base class to public,  then it calls the method in Derived class just as polymorphism should. </p>\n\n<p>From what I read about polymorphism, its ok to make the access specifier less restrictive in derived class which was the case here .</p>\n"},{"tags":["java","date","java-time"],"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1677570547,"post_id":75589148,"comment_id":133359021,"body_markdown":"Please include your attempt at solving this problem and what issues you faced.","body":"Please include your attempt at solving this problem and what issues you faced."},{"owner":{"account_id":22866981,"reputation":131,"user_id":17010647,"display_name":"Ksu"},"score":2,"creation_date":1677571329,"post_id":75589148,"comment_id":133359204,"body_markdown":"It can be usefull - [https://www.baeldung.com/java-between-dates https://www.baeldung.com/java-string-to-date]","body":"It can be usefull - [<a href=\"https://www.baeldung.com/java-between-dates\" rel=\"nofollow noreferrer\">baeldung.com/java-between-dates</a> <a href=\"https://www.baeldung.com/java-string-to-date]\" rel=\"nofollow noreferrer\">baeldung.com/java-string-to-date]</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677572359,"post_id":75589148,"comment_id":133359468,"body_markdown":"Did you remember to search before asking? Asking because Id be surprised if you didnt find anything relevant.","body":"Did you remember to search before asking? Asking because Id be surprised if you didnt find anything relevant."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677572188,"creation_date":1677570847,"answer_id":75589219,"question_id":75589148,"body_markdown":"First of all, use `LocalDate` for handling dates. Whenever you deal with dates/times, you should strongly consider using `java.time` over `String`s. You can convert `String`s to `LocalDate`s using `LocalDate.parse`:\r\n\r\n```java\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\nLocalDate startDate = LocalDate.parse(fromDate, formatter);\r\nLocalDate endDate = LocalDate.parse(toDate, formatter);\r\n```\r\n\r\nThen, you can just add one day over and over until you reach the same date:\r\n```java\r\nfor(LocalDate date = startDate; !endDate.isBefore(date); date = date.plusDays(1)){\r\n    dates.add(date.format(formatter));\r\n    //dates.add(date);//if you want to work with a List&lt;LocalDate&gt;\r\n}\r\n```\r\n\r\nSumming up, you can use it in your method like this:\r\n\r\n```java\r\npublic List&lt;String&gt; getDatesBetween(@NotEmpty String fromDate, @NotEmpty String toDate) throws Exception {\r\n    List&lt;String&gt; dates = new ArrayList&lt;&gt;();\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    LocalDate startDate = LocalDate.parse(fromDate, formatter);\r\n    LocalDate endDate =  LocalDate.parse(toDate, formatter);\r\n    for(LocalDate date = startDate; !endDate.isBefore(date); date = date.plusDays(1)){   \r\n      dates.add(date.format(formatter));\r\n    }\r\n    return dates;\r\n}\r\n```\r\n\r\nAs, [shmosel mentioned in the comments](https://stackoverflow.com/questions/75589148/java-get-list-date-between-2-dates/75589219?noredirect=1#comment133359099_75589219), `LocalDate` uses the [`ISO_LOCAL_DATE`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE) by default so you don&#39;t have to provide a `DateTimeFormatter` in your case:\r\n\r\n```java\r\npublic List&lt;String&gt; getDatesBetween(@NotEmpty String fromDate, @NotEmpty String toDate) throws Exception {\r\n    List&lt;String&gt; dates = new ArrayList&lt;&gt;();\r\n    LocalDate startDate = LocalDate.parse(fromDate);\r\n    LocalDate endDate =  LocalDate.parse(toDate);\r\n    for(LocalDate date = startDate; !endDate.isBefore(date); date = date.plusDays(1)){\r\n        dates.add(date.toString());\r\n    }\r\n    return dates;\r\n}\r\n```","title":"Java get list date between 2 dates","body":"<p>First of all, use <code>LocalDate</code> for handling dates. Whenever you deal with dates/times, you should strongly consider using <code>java.time</code> over <code>String</code>s. You can convert <code>String</code>s to <code>LocalDate</code>s using <code>LocalDate.parse</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nLocalDate startDate = LocalDate.parse(fromDate, formatter);\nLocalDate endDate = LocalDate.parse(toDate, formatter);\n</code></pre>\n<p>Then, you can just add one day over and over until you reach the same date:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(LocalDate date = startDate; !endDate.isBefore(date); date = date.plusDays(1)){\n    dates.add(date.format(formatter));\n    //dates.add(date);//if you want to work with a List&lt;LocalDate&gt;\n}\n</code></pre>\n<p>Summing up, you can use it in your method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;String&gt; getDatesBetween(@NotEmpty String fromDate, @NotEmpty String toDate) throws Exception {\n    List&lt;String&gt; dates = new ArrayList&lt;&gt;();\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n    LocalDate startDate = LocalDate.parse(fromDate, formatter);\n    LocalDate endDate =  LocalDate.parse(toDate, formatter);\n    for(LocalDate date = startDate; !endDate.isBefore(date); date = date.plusDays(1)){   \n      dates.add(date.format(formatter));\n    }\n    return dates;\n}\n</code></pre>\n<p>As, <a href=\"https://stackoverflow.com/questions/75589148/java-get-list-date-between-2-dates/75589219?noredirect=1#comment133359099_75589219\">shmosel mentioned in the comments</a>, <code>LocalDate</code> uses the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\" rel=\"nofollow noreferrer\"><code>ISO_LOCAL_DATE</code></a> by default so you don't have to provide a <code>DateTimeFormatter</code> in your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;String&gt; getDatesBetween(@NotEmpty String fromDate, @NotEmpty String toDate) throws Exception {\n    List&lt;String&gt; dates = new ArrayList&lt;&gt;();\n    LocalDate startDate = LocalDate.parse(fromDate);\n    LocalDate endDate =  LocalDate.parse(toDate);\n    for(LocalDate date = startDate; !endDate.isBefore(date); date = date.plusDays(1)){\n        dates.add(date.toString());\n    }\n    return dates;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1677571978,"creation_date":1677571175,"answer_id":75589270,"question_id":75589148,"body_markdown":"## Java9+\r\n\r\nYou can use [`LocalDate::datesUntil`][1] which is introduced from Java9:\r\n\r\n&gt; `public Stream&lt;LocalDate&gt; datesUntil(LocalDate endExclusive)` &lt;br/&gt;\r\n&gt; Returns a **sequential ordered stream of dates**. The returned stream starts from\r\n&gt; this date (inclusive) and goes to endExclusive (exclusive) by an\r\n&gt; incremental step of 1 day. &lt;br/&gt;This method is equivalent to\r\n&gt; `datesUntil(endExclusive, Period.ofDays(1))`.\r\n\r\n\r\n    public List&lt;String&gt; getDatesBetween(@NotEmpty String fromDate, @NotEmpty String toDate){\r\n        LocalDate startDate = LocalDate.parse(fromDate);\r\n        LocalDate endDate = LocalDate.parse(toDate);\r\n        return startDate.datesUntil(endDate.plusDays(1))\r\n                .map(LocalDate::toString)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n## Java8\r\n\r\nI notice that you edit your question to ask for a solution using Java8, in this case, you can use:\r\n\r\n    LocalDate startDate = LocalDate.parse(fromDate);\r\n    LocalDate endDate = LocalDate.parse(toDate);\r\n    return Stream.iterate(startDate, d -&gt; d.plusDays(1))\r\n            .limit(ChronoUnit.DAYS.between(startDate, endDate.plusDays(1)))\r\n            .map(LocalDate::toString)\r\n            .collect(Collectors.toList());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/time/LocalDate.html#datesUntil-java.time.LocalDate-","title":"Java get list date between 2 dates","body":"<h2>Java9+</h2>\n<p>You can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/LocalDate.html#datesUntil-java.time.LocalDate-\" rel=\"nofollow noreferrer\"><code>LocalDate::datesUntil</code></a> which is introduced from Java9:</p>\n<blockquote>\n<p><code>public Stream&lt;LocalDate&gt; datesUntil(LocalDate endExclusive)</code> <br/>\nReturns a <strong>sequential ordered stream of dates</strong>. The returned stream starts from\nthis date (inclusive) and goes to endExclusive (exclusive) by an\nincremental step of 1 day. <br/>This method is equivalent to\n<code>datesUntil(endExclusive, Period.ofDays(1))</code>.</p>\n</blockquote>\n<pre><code>public List&lt;String&gt; getDatesBetween(@NotEmpty String fromDate, @NotEmpty String toDate){\n    LocalDate startDate = LocalDate.parse(fromDate);\n    LocalDate endDate = LocalDate.parse(toDate);\n    return startDate.datesUntil(endDate.plusDays(1))\n            .map(LocalDate::toString)\n            .collect(Collectors.toList());\n}\n</code></pre>\n<h2>Java8</h2>\n<p>I notice that you edit your question to ask for a solution using Java8, in this case, you can use:</p>\n<pre><code>LocalDate startDate = LocalDate.parse(fromDate);\nLocalDate endDate = LocalDate.parse(toDate);\nreturn Stream.iterate(startDate, d -&gt; d.plusDays(1))\n        .limit(ChronoUnit.DAYS.between(startDate, endDate.plusDays(1)))\n        .map(LocalDate::toString)\n        .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":19133592,"reputation":88,"user_id":13974992,"display_name":"Hungnn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1677572586,"accepted_answer_id":75589270,"answer_count":2,"score":1,"last_activity_date":1677684824,"creation_date":1677570339,"question_id":75589148,"body_markdown":"I&#39;m working on Java Date(Java 8).\\\r\nI have 2 dates, like: `2023-02-22` and `2023-02-28`\r\n\r\nMy expect output contains:\r\n\r\n`2023-02-22`, `2023-02-23`, `2023-02-24`, `2023-02-25`, `2023-02-26`, `2023-02-27`, `2023-02-28`\\\r\nDate format: `yyyy-MM-dd`\r\n\r\nMy code:\r\n\r\n```\r\npublic List&lt;String&gt; getDatesBetween(@NotEmpty String fromDate, @NotEmpty String toDate) throws Exception {\r\n     List&lt;String&gt; dates = new ArrayList&lt;&gt;();\r\n     // get dates between 2 dates\r\n     \r\n     return dates;\r\n}\r\n```\r\nHow can I get list date from this date?\r\nThanks,","title":"Java get list date between 2 dates","body":"<p>I'm working on Java Date(Java 8).<br />\nI have 2 dates, like: <code>2023-02-22</code> and <code>2023-02-28</code></p>\n<p>My expect output contains:</p>\n<p><code>2023-02-22</code>, <code>2023-02-23</code>, <code>2023-02-24</code>, <code>2023-02-25</code>, <code>2023-02-26</code>, <code>2023-02-27</code>, <code>2023-02-28</code><br />\nDate format: <code>yyyy-MM-dd</code></p>\n<p>My code:</p>\n<pre><code>public List&lt;String&gt; getDatesBetween(@NotEmpty String fromDate, @NotEmpty String toDate) throws Exception {\n     List&lt;String&gt; dates = new ArrayList&lt;&gt;();\n     // get dates between 2 dates\n     \n     return dates;\n}\n</code></pre>\n<p>How can I get list date from this date?\nThanks,</p>\n"},{"tags":["java","neo4j","gremlin"],"comments":[{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1677698270,"post_id":75605538,"comment_id":133391306,"body_markdown":"Gremlin currently does not support multi-properties (List or Set cardinality properties) on edges. Some implementations (e.g., TinkerGraph) will allow you to store an actual Java object (say a List [1,2]) as an edge property. Which back end database are you using? This will dictate whether what you are looking to do is possible","body":"Gremlin currently does not support multi-properties (List or Set cardinality properties) on edges. Some implementations (e.g., TinkerGraph) will allow you to store an actual Java object (say a List [1,2]) as an edge property. Which back end database are you using? This will dictate whether what you are looking to do is possible"},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1677698832,"post_id":75605538,"comment_id":133391424,"body_markdown":"In general, if the list will always have just two values, the query might be a lot simpler to write if you just use two properties per edge for this. For example L1 and L2 to represent [L1,L2].","body":"In general, if the list will always have just two values, the query might be a lot simpler to write if you just use two properties per edge for this. For example L1 and L2 to represent [L1,L2]."},{"owner":{"account_id":27910055,"reputation":1,"user_id":21312450,"display_name":"yumu"},"score":0,"creation_date":1677719339,"post_id":75605538,"comment_id":133395616,"body_markdown":"Thank you for your answer. Now I use neo4j as the back-end database, which supports storing lists in property. The graph in the current database is just like the picture. What I&#39;m trying to do is find some way to walk through the graph and find some paths that follow the property rules I mentioned above. Gremlin is one of my attempts. If there are others that can support this complex operation, you can also tell me. Thank you sincerely.","body":"Thank you for your answer. Now I use neo4j as the back-end database, which supports storing lists in property. The graph in the current database is just like the picture. What I&#39;m trying to do is find some way to walk through the graph and find some paths that follow the property rules I mentioned above. Gremlin is one of my attempts. If there are others that can support this complex operation, you can also tell me. Thank you sincerely."}],"owner":{"account_id":27910055,"reputation":1,"user_id":21312450,"display_name":"yumu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677684773,"creation_date":1677683271,"question_id":75605538,"body_markdown":"[Please look at this photo first][1]\r\n\r\nI am using gremlin to traverse the graph, first from vertex v1 to edge e1 to v2, and then from v2 to all outE(). Taking e2 as an example, I need to determine the relationship between e2&#39;s property and e1. \r\n\r\nThe specific rules are:For example, if the property of e1 is \\[0,1\\], the property array index-0 and index-1 of e2&#39; property corresponding value cannot be both -1. So the property of e2 is \\[0,1\\], and therefore meets the requirement, and the property of e3 is \\[0,-1\\], because index-0 is 0, not -1. However, the property of e4 is \\[-1,-1\\], and the corresponding values of its index-0 and index-1 are both -1, so it does not meet the requirements. Therefore, the final path I want to get is v1-e1-v2-e2-v3 and v1-e1-v2-e3-v4.\r\n\r\nThe gremlin traversal that I want to represent looks something like this(this is my pseudocode)\r\n\r\n```\r\nList&lt;Path&gt; paths = graphTraversalSource.V(&quot;v1&quot;)\r\n        .outE().as(&quot;e1&quot;)\r\n        .inV().outE().as(&quot;e2&quot;).where((e1, e2) -&gt; {\r\n            boolean pass = false;\r\n            for (each property: e1.property) {\r\n                if (e2.property[property] != -1) {\r\n                    pass = true;\r\n                }\r\n            }\r\n            return pass;\r\n        }).path()\r\n```\r\nOf course, the property here should be iterated for judgment. Does gremlin support such complex property judgmentIt is possible\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pKWJO.jpg","title":"Gremlin graph traversal that uses previous edge property to decide next edge, and the property is a Complex object","body":"<p><a href=\"https://i.stack.imgur.com/pKWJO.jpg\" rel=\"nofollow noreferrer\">Please look at this photo first</a></p>\n<p>I am using gremlin to traverse the graph, first from vertex v1 to edge e1 to v2, and then from v2 to all outE(). Taking e2 as an example, I need to determine the relationship between e2's property and e1.</p>\n<p>The specific rules are:For example, if the property of e1 is [0,1], the property array index-0 and index-1 of e2' property corresponding value cannot be both -1. So the property of e2 is [0,1], and therefore meets the requirement, and the property of e3 is [0,-1], because index-0 is 0, not -1. However, the property of e4 is [-1,-1], and the corresponding values of its index-0 and index-1 are both -1, so it does not meet the requirements. Therefore, the final path I want to get is v1-e1-v2-e2-v3 and v1-e1-v2-e3-v4.</p>\n<p>The gremlin traversal that I want to represent looks something like this(this is my pseudocode)</p>\n<pre><code>List&lt;Path&gt; paths = graphTraversalSource.V(&quot;v1&quot;)\n        .outE().as(&quot;e1&quot;)\n        .inV().outE().as(&quot;e2&quot;).where((e1, e2) -&gt; {\n            boolean pass = false;\n            for (each property: e1.property) {\n                if (e2.property[property] != -1) {\n                    pass = true;\n                }\n            }\n            return pass;\n        }).path()\n</code></pre>\n<p>Of course, the property here should be iterated for judgment. Does gremlin support such complex property judgmentIt is possible</p>\n"},{"tags":["java","arraylist","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":18524434,"reputation":65,"user_id":13496635,"display_name":"Arjen10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677662168,"creation_date":1677662168,"answer_id":75601615,"question_id":75600307,"body_markdown":"i think don&#39;t use JsonObject inside your code,this will make your code very bloated and difficult to understand. The correct way to do it is to wrap it in a pojo.\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n        try (InputStream in = Files.newInputStream(Paths.get(&quot;E:\\\\test\\\\res\\\\school.xlsx&quot;), READ);\r\n             Workbook workbook = new XSSFWorkbook(in)) {\r\n            Sheet sheet  = workbook.getSheetAt(0);\r\n\r\n            Row headRow = sheet.getRow(sheet.getFirstRowNum());\r\n            //get first row\r\n            List&lt;String&gt; head = IntStream.range(0, headRow.getLastCellNum())\r\n                    .mapToObj(i -&gt; headRow.getCell(i).getStringCellValue())\r\n                    .collect(Collectors.toList());\r\n\r\n            List&lt;JSONObject&gt; jsonObjects = new ArrayList&lt;&gt;();\r\n            //skip fist row\r\n            for (int i = sheet.getFirstRowNum() + 1; i &lt;= sheet.getLastRowNum(); i++) {\r\n                Row row = sheet.getRow(i);\r\n                JSONObject jsonObject = new JSONObject();\r\n                for (int j = row.getFirstCellNum(); j &lt; row.getLastCellNum(); j++) {\r\n                    Cell cell = row.getCell(j);\r\n                    switch (cell.getCellType()) {\r\n                        case STRING:\r\n                            String strV = cell.getStringCellValue();\r\n                            List&lt;JSONObject&gt; collect = Arrays.stream(strV.split(&quot;,&quot;))\r\n                                    .map(s -&gt; {\r\n                                        JSONObject classObj = new JSONObject();\r\n                                        if (!s.contains(&quot;-&quot;)) {\r\n                                            classObj.put(&quot;subject&quot;, s);\r\n                                            return classObj;\r\n                                        }\r\n                                        String[] classAndSection = s.split(&quot;-&quot;);\r\n                                        classObj.put(&quot;class&quot;, classAndSection[0]);\r\n                                        classObj.put(&quot;section&quot;, classAndSection[1]);\r\n                                        return classObj;\r\n                                    })\r\n                                    .collect(Collectors.toList());\r\n                            jsonObject.put(head.get(j), collect);\r\n                            break;\r\n                        case NUMERIC:\r\n                            //fix 2.34566E\r\n                            NumberFormat nf = NumberFormat.getInstance();\r\n                            nf.setGroupingUsed(false);\r\n                            String format = nf.format(cell.getNumericCellValue());\r\n                            //teacher\r\n                            if (j == row.getFirstCellNum()) {\r\n                                jsonObject.put(head.get(j), format);\r\n                                break;\r\n                            }\r\n                            JSONObject classObj = new JSONObject();\r\n                            classObj.put(&quot;class&quot;, format);\r\n                            jsonObject.put(head.get(j), classObj);\r\n                            break;\r\n                    }\r\n                }\r\n                jsonObjects.add(jsonObject);\r\n            }\r\n            System.out.println(JSON.toJSONString(jsonObjects));\r\n        }\r\n    }\r\n```\r\n\r\ncode running result\r\n\r\n```\r\n[\r\n  {\r\n    &quot;teacher&quot;: &quot;23424234&quot;,\r\n    &quot;classAndSection&quot;: [\r\n      {\r\n        &quot;section&quot;: &quot;A&quot;,\r\n        &quot;class&quot;: &quot;8&quot;\r\n      },\r\n      {\r\n        &quot;section&quot;: &quot;B&quot;,\r\n        &quot;class&quot;: &quot;9&quot;\r\n      }\r\n    ],\r\n    &quot;subject_name&quot;: [\r\n      {\r\n        &quot;subject&quot;: &quot;English&quot;\r\n      },\r\n      {\r\n        &quot;subject&quot;: &quot;Math&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;teacher&quot;: &quot;23424234&quot;,\r\n    &quot;classAndSection&quot;: {\r\n      &quot;class&quot;: &quot;8&quot;\r\n    },\r\n    &quot;subject_name&quot;: [\r\n      {\r\n        &quot;subject&quot;: &quot;English&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n","title":"How to iterate over a xlsx file with multiple comma separated values in cell in to a JSONArray","body":"<p>i think don't use JsonObject inside your code,this will make your code very bloated and difficult to understand. The correct way to do it is to wrap it in a pojo.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n        try (InputStream in = Files.newInputStream(Paths.get(&quot;E:\\\\test\\\\res\\\\school.xlsx&quot;), READ);\n             Workbook workbook = new XSSFWorkbook(in)) {\n            Sheet sheet  = workbook.getSheetAt(0);\n\n            Row headRow = sheet.getRow(sheet.getFirstRowNum());\n            //get first row\n            List&lt;String&gt; head = IntStream.range(0, headRow.getLastCellNum())\n                    .mapToObj(i -&gt; headRow.getCell(i).getStringCellValue())\n                    .collect(Collectors.toList());\n\n            List&lt;JSONObject&gt; jsonObjects = new ArrayList&lt;&gt;();\n            //skip fist row\n            for (int i = sheet.getFirstRowNum() + 1; i &lt;= sheet.getLastRowNum(); i++) {\n                Row row = sheet.getRow(i);\n                JSONObject jsonObject = new JSONObject();\n                for (int j = row.getFirstCellNum(); j &lt; row.getLastCellNum(); j++) {\n                    Cell cell = row.getCell(j);\n                    switch (cell.getCellType()) {\n                        case STRING:\n                            String strV = cell.getStringCellValue();\n                            List&lt;JSONObject&gt; collect = Arrays.stream(strV.split(&quot;,&quot;))\n                                    .map(s -&gt; {\n                                        JSONObject classObj = new JSONObject();\n                                        if (!s.contains(&quot;-&quot;)) {\n                                            classObj.put(&quot;subject&quot;, s);\n                                            return classObj;\n                                        }\n                                        String[] classAndSection = s.split(&quot;-&quot;);\n                                        classObj.put(&quot;class&quot;, classAndSection[0]);\n                                        classObj.put(&quot;section&quot;, classAndSection[1]);\n                                        return classObj;\n                                    })\n                                    .collect(Collectors.toList());\n                            jsonObject.put(head.get(j), collect);\n                            break;\n                        case NUMERIC:\n                            //fix 2.34566E\n                            NumberFormat nf = NumberFormat.getInstance();\n                            nf.setGroupingUsed(false);\n                            String format = nf.format(cell.getNumericCellValue());\n                            //teacher\n                            if (j == row.getFirstCellNum()) {\n                                jsonObject.put(head.get(j), format);\n                                break;\n                            }\n                            JSONObject classObj = new JSONObject();\n                            classObj.put(&quot;class&quot;, format);\n                            jsonObject.put(head.get(j), classObj);\n                            break;\n                    }\n                }\n                jsonObjects.add(jsonObject);\n            }\n            System.out.println(JSON.toJSONString(jsonObjects));\n        }\n    }\n</code></pre>\n<p>code running result</p>\n<pre><code>[\n  {\n    &quot;teacher&quot;: &quot;23424234&quot;,\n    &quot;classAndSection&quot;: [\n      {\n        &quot;section&quot;: &quot;A&quot;,\n        &quot;class&quot;: &quot;8&quot;\n      },\n      {\n        &quot;section&quot;: &quot;B&quot;,\n        &quot;class&quot;: &quot;9&quot;\n      }\n    ],\n    &quot;subject_name&quot;: [\n      {\n        &quot;subject&quot;: &quot;English&quot;\n      },\n      {\n        &quot;subject&quot;: &quot;Math&quot;\n      }\n    ]\n  },\n  {\n    &quot;teacher&quot;: &quot;23424234&quot;,\n    &quot;classAndSection&quot;: {\n      &quot;class&quot;: &quot;8&quot;\n    },\n    &quot;subject_name&quot;: [\n      {\n        &quot;subject&quot;: &quot;English&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":27899269,"reputation":3,"user_id":21303898,"display_name":"Java_Prog_Ideas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75601615,"answer_count":1,"score":0,"last_activity_date":1677684454,"creation_date":1677652888,"question_id":75600307,"body_markdown":"I am reading a xlsx file using java Apache poi util. In which the xlsx file has 3 columns as Teacher, class&amp;Section, Sunbect. The last two columns have multiple comma separated values in the cell. I need to iterate over and construct a JSONArray.\r\n\r\n[XLSX sheet](https://i.stack.imgur.com/vF6AW.png)\r\n\r\n\r\n\r\n\r\n\r\nI have tried some code \r\n\r\n```\r\ntry {\r\n\t\t\t\t\tFileInputStream inputStream = new FileInputStream(new File(&quot;C:/Users/HP/Downloads/school.xlsx&quot;));\r\n\t\t\t\t\t//FileInputStream inputStream = new FileInputStream(new File(&quot;TestExecution.xlsx&quot;));\r\n\r\n\t\t\t\t\t//HashMap&lt;Integer, Data&gt; mp= new HashMap&lt;Integer, Data&gt;();\r\n\t\t\t\t\tHashMap&lt;String, List&lt;String&gt;&gt; mp= new HashMap&lt;&gt;();\r\n\t\t\t        Workbook workbook = new XSSFWorkbook(inputStream);\r\n\r\n\t\t\t        Sheet AddCatalogSheet  = workbook.getSheetAt(0);\r\n\t\t\t      //Find number of rows in excel file\r\n\t\t\t        int rowcount = AddCatalogSheet.getLastRowNum()- AddCatalogSheet.getFirstRowNum();\r\n\t\t\t        System.out.println(&quot;Total row number: &quot;+rowcount);\r\n\t\t\t        for(int i=1; i&lt;rowcount+1; i++){\r\n\t\t\t            //Create a loop to get the cell values of a row for one iteration\r\n\t\t\t            Row row = AddCatalogSheet.getRow(i);\r\n\t\t\t            List&lt;String&gt; arrName = new ArrayList&lt;String&gt;();\r\n\t\t\t            for(int j=0; j&lt;row.getLastCellNum(); j++){\r\n\t\t\t                // Create an object reference of &#39;Cell&#39; class\r\n\t\t\t                Cell cell = row.getCell(j);\r\n\t\t\t                switch (cell.getCellType()) \r\n\t\t\t                {\r\n\t\t\t                    case Cell.CELL_TYPE_NUMERIC:\r\n\t\t\t                        //System.out.print(cell.getNumericCellValue() + &quot;\\t&quot;);\r\n\t\t\t                        arrName.add(NumberToTextConverter.toText(cell.getNumericCellValue()));\r\n\t\t\t                        break;\r\n\t\t\t                    case Cell.CELL_TYPE_STRING:\r\n\t\t\t                        //System.out.print(cell.getStringCellValue() + &quot;\\t&quot;);\r\n\t\t\t                        arrName.add(cell.getStringCellValue());\r\n\t\t\t                        break;\r\n\t\t\t                }\r\n\t\t\t                // Add all the cell values of a particular row\r\n\t\t\t                \r\n\t\t\t                }\r\n\t\t\t            System.out.println(arrName);\r\n\t\t\t            System.out.println(&quot;Size of the arrayList: &quot;+arrName.size());\r\n\t\t\t            // Create an iterator to iterate through the arrayList- &#39;arrName&#39;\r\n\t\t\t            JSONObject teacher = new JSONObject();\r\n\t\t\t            \r\n\t\t\t            JSONArray jsonArray = new JSONArray();\r\n\r\n\t\t\t            for (int counter = 0; counter &lt; arrName.size(); counter++) { \t\t      \r\n\t\t\t                System.out.println(arrName.get(counter)); \t\r\n\t\t\t                jsonArray.put(arrName.get(counter));\r\n\t\t\t            } \r\n\t\t\t            System.out.println(jsonArray.toString()); \r\n\t\t\t            }\r\n\t\t\t            \r\n\t\t\t        \r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n```\r\n\r\n\r\nMy Expected Result like :\r\n\r\n```\r\n[\r\n  {\r\n    &quot;Teacher_code&quot;: &quot;23424234&quot;,\r\n    &quot;class&quot;: [\r\n      {\r\n        &quot;class&quot;: &quot;6&quot;,\r\n        &quot;section&quot;: &quot;A&quot;\r\n      },\r\n      {\r\n        &quot;class&quot;: &quot;7&quot;,\r\n        &quot;section&quot;: &quot;B&quot;\r\n      },\r\n      {\r\n        &quot;class&quot;: &quot;8&quot;,\r\n        &quot;section&quot;: &quot;A&quot;\r\n      }\r\n    ],\r\n    &quot;subject_name&quot;: [\r\n      {\r\n        &quot;subject&quot;: &quot;Tamil&quot;\r\n      },\r\n      {\r\n        &quot;subject&quot;: &quot;English&quot;\r\n      },\r\n      {\r\n        &quot;subject&quot;: &quot;Maths&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nPlease help me to figure out this","title":"How to iterate over a xlsx file with multiple comma separated values in cell in to a JSONArray","body":"<p>I am reading a xlsx file using java Apache poi util. In which the xlsx file has 3 columns as Teacher, class&amp;Section, Sunbect. The last two columns have multiple comma separated values in the cell. I need to iterate over and construct a JSONArray.</p>\n<p><a href=\"https://i.stack.imgur.com/vF6AW.png\" rel=\"nofollow noreferrer\">XLSX sheet</a></p>\n<p>I have tried some code</p>\n<pre><code>try {\n                    FileInputStream inputStream = new FileInputStream(new File(&quot;C:/Users/HP/Downloads/school.xlsx&quot;));\n                    //FileInputStream inputStream = new FileInputStream(new File(&quot;TestExecution.xlsx&quot;));\n\n                    //HashMap&lt;Integer, Data&gt; mp= new HashMap&lt;Integer, Data&gt;();\n                    HashMap&lt;String, List&lt;String&gt;&gt; mp= new HashMap&lt;&gt;();\n                    Workbook workbook = new XSSFWorkbook(inputStream);\n\n                    Sheet AddCatalogSheet  = workbook.getSheetAt(0);\n                  //Find number of rows in excel file\n                    int rowcount = AddCatalogSheet.getLastRowNum()- AddCatalogSheet.getFirstRowNum();\n                    System.out.println(&quot;Total row number: &quot;+rowcount);\n                    for(int i=1; i&lt;rowcount+1; i++){\n                        //Create a loop to get the cell values of a row for one iteration\n                        Row row = AddCatalogSheet.getRow(i);\n                        List&lt;String&gt; arrName = new ArrayList&lt;String&gt;();\n                        for(int j=0; j&lt;row.getLastCellNum(); j++){\n                            // Create an object reference of 'Cell' class\n                            Cell cell = row.getCell(j);\n                            switch (cell.getCellType()) \n                            {\n                                case Cell.CELL_TYPE_NUMERIC:\n                                    //System.out.print(cell.getNumericCellValue() + &quot;\\t&quot;);\n                                    arrName.add(NumberToTextConverter.toText(cell.getNumericCellValue()));\n                                    break;\n                                case Cell.CELL_TYPE_STRING:\n                                    //System.out.print(cell.getStringCellValue() + &quot;\\t&quot;);\n                                    arrName.add(cell.getStringCellValue());\n                                    break;\n                            }\n                            // Add all the cell values of a particular row\n                            \n                            }\n                        System.out.println(arrName);\n                        System.out.println(&quot;Size of the arrayList: &quot;+arrName.size());\n                        // Create an iterator to iterate through the arrayList- 'arrName'\n                        JSONObject teacher = new JSONObject();\n                        \n                        JSONArray jsonArray = new JSONArray();\n\n                        for (int counter = 0; counter &lt; arrName.size(); counter++) {              \n                            System.out.println(arrName.get(counter));   \n                            jsonArray.put(arrName.get(counter));\n                        } \n                        System.out.println(jsonArray.toString()); \n                        }\n                        \n                    \n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n</code></pre>\n<p>My Expected Result like :</p>\n<pre><code>[\n  {\n    &quot;Teacher_code&quot;: &quot;23424234&quot;,\n    &quot;class&quot;: [\n      {\n        &quot;class&quot;: &quot;6&quot;,\n        &quot;section&quot;: &quot;A&quot;\n      },\n      {\n        &quot;class&quot;: &quot;7&quot;,\n        &quot;section&quot;: &quot;B&quot;\n      },\n      {\n        &quot;class&quot;: &quot;8&quot;,\n        &quot;section&quot;: &quot;A&quot;\n      }\n    ],\n    &quot;subject_name&quot;: [\n      {\n        &quot;subject&quot;: &quot;Tamil&quot;\n      },\n      {\n        &quot;subject&quot;: &quot;English&quot;\n      },\n      {\n        &quot;subject&quot;: &quot;Maths&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n<p>Please help me to figure out this</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"score":0,"creation_date":1677668568,"post_id":75602745,"comment_id":133381947,"body_markdown":"share the error you are getting","body":"share the error you are getting"},{"owner":{"account_id":23417672,"reputation":13,"user_id":17478374,"display_name":"space99"},"score":0,"creation_date":1677668820,"post_id":75602745,"comment_id":133382004,"body_markdown":"Caused by: org.hibernate.MappingException: Repeated column in mapping for entity: taskRequest column: PROJECT_SEQ_NUM_I (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:830)","body":"Caused by: org.hibernate.MappingException: Repeated column in mapping for entity: taskRequest column: PROJECT_SEQ_NUM_I (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)               at org.hibernate.mapping.PersistentClass.checkColumnDuplication&zwnj;&#8203;(PersistentClass.jav&zwnj;&#8203;a:830)"},{"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"score":0,"creation_date":1677670075,"post_id":75602745,"comment_id":133382343,"body_markdown":"the column mentioned in the exception not in the mapping you posted in the code.","body":"the column mentioned in the exception not in the mapping you posted in the code."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677683830,"post_id":75602745,"comment_id":133386833,"body_markdown":"The error tells you what to do! It isn&#39;t irrelevant at all and marking one set as read only does not prevent you from inserting records","body":"The error tells you what to do! It isn&#39;t irrelevant at all and marking one set as read only does not prevent you from inserting records"}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677683972,"creation_date":1677683972,"answer_id":75605683,"question_id":75602745,"body_markdown":" You have two mappings (tble1 and tble3) both using the same set of foreign keys in the current table. What do you think or want to happen if you create an instance that references a particular table1 instance but leave the tble3 reference as null? What values get into the database for those fk columns - do you want them left null or set to what ever values are in the col1table1/col2table1 values? JPA does not allow you to have multiple writable mappings to the same column and is requiring you to tell it how to handle things if they are not consistent\r\n\r\nPick one and mark the other as read-only by changing the join columns to be insertable=false, updatable=false:\r\n\r\n\r\n    @JoinColumns({\r\n      @JoinColumn(name=&quot;col1&quot;, referencedColumnName=&quot;col1table3&quot;, insertable=false, updatable=false),\r\n      @JoinColumn(name=&quot;col2&quot;, referencedColumnName=&quot;col2table3&quot;, insertable=false, updatable=false)\r\n    })\r\n    table3 tble3;\r\n\r\n","title":"how to have multiple @JoinColumns with existing column names","body":"<p>You have two mappings (tble1 and tble3) both using the same set of foreign keys in the current table. What do you think or want to happen if you create an instance that references a particular table1 instance but leave the tble3 reference as null? What values get into the database for those fk columns - do you want them left null or set to what ever values are in the col1table1/col2table1 values? JPA does not allow you to have multiple writable mappings to the same column and is requiring you to tell it how to handle things if they are not consistent</p>\n<p>Pick one and mark the other as read-only by changing the join columns to be insertable=false, updatable=false:</p>\n<pre><code>@JoinColumns({\n  @JoinColumn(name=&quot;col1&quot;, referencedColumnName=&quot;col1table3&quot;, insertable=false, updatable=false),\n  @JoinColumn(name=&quot;col2&quot;, referencedColumnName=&quot;col2table3&quot;, insertable=false, updatable=false)\n})\ntable3 tble3;\n</code></pre>\n"}],"owner":{"account_id":23417672,"reputation":13,"user_id":17478374,"display_name":"space99"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677683972,"creation_date":1677668206,"question_id":75602745,"body_markdown":"I would like to make use of cascading while saving entities\r\n\r\nmy table A has col1 and col2 , and i would like to map these columns to multiple tables with different column names as coltable1 , coltable2 and so on\r\n\r\nright now i am using\r\n```\r\n@JoinColumns({\r\n@JoinColumn(name=&quot;col1&quot;, referencedColumnName=&quot;col1table1&quot;),\r\n@JoinColumn(name=&quot;col2&quot;, referencedColumnName=&quot;col2table1&quot;)\r\n})\r\ntable1 tble1;\r\n\r\n@JoinColumns({\r\n@JoinColumn(name=&quot;col1&quot;, referencedColumnName=&quot;col1table3&quot;),\r\n@JoinColumn(name=&quot;col2&quot;, referencedColumnName=&quot;col2table3&quot;)\r\n})\r\ntable3 tble3;\r\n```\r\nbut I am getting repeated columns in mapping for entity&quot; error\r\n\r\nI know I can use insertable and updatable as false but since I have to insert records it&#39;s irrelevant\r\n\r\ncan anyone help?\r\n\r\n```\r\nCaused by: org.hibernate.MappingException: Repeated column in mapping for entity: taskRequest column: PROJECT_SEQ_NUM_I (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;) at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:830)\r\n```","title":"how to have multiple @JoinColumns with existing column names","body":"<p>I would like to make use of cascading while saving entities</p>\n<p>my table A has col1 and col2 , and i would like to map these columns to multiple tables with different column names as coltable1 , coltable2 and so on</p>\n<p>right now i am using</p>\n<pre><code>@JoinColumns({\n@JoinColumn(name=&quot;col1&quot;, referencedColumnName=&quot;col1table1&quot;),\n@JoinColumn(name=&quot;col2&quot;, referencedColumnName=&quot;col2table1&quot;)\n})\ntable1 tble1;\n\n@JoinColumns({\n@JoinColumn(name=&quot;col1&quot;, referencedColumnName=&quot;col1table3&quot;),\n@JoinColumn(name=&quot;col2&quot;, referencedColumnName=&quot;col2table3&quot;)\n})\ntable3 tble3;\n</code></pre>\n<p>but I am getting repeated columns in mapping for entity&quot; error</p>\n<p>I know I can use insertable and updatable as false but since I have to insert records it's irrelevant</p>\n<p>can anyone help?</p>\n<pre><code>Caused by: org.hibernate.MappingException: Repeated column in mapping for entity: taskRequest column: PROJECT_SEQ_NUM_I (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;) at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:830)\n</code></pre>\n"},{"tags":["java","annotations","lombok"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677659301,"post_id":75601146,"comment_id":133379451,"body_markdown":"I&#39;m not aware of any","body":"I&#39;m not aware of any"}],"answers":[{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677661363,"creation_date":1677660075,"answer_id":75601307,"question_id":75601146,"body_markdown":"I am not aware of solutions with lombok, but there are alternatives.\r\n\r\nThough it might not be a beautiful solutiuon, you can invoke the getter-methods from your class through reflection:\r\n\r\n```\r\n        Object[] objects = Arrays.stream(ItemPrimaryKey.class.getMethods())\r\n                .filter(method -&gt; Pattern.compile(&quot;getCompositeKeyColumn.&quot;).matcher(method.getName()).matches())\r\n                .sorted(Comparator.comparing(Method::getName))\r\n                .map(method -&gt; {\r\n                    try {\r\n                        return method.invoke(itemPrimaryKey);\r\n                    } catch (Exception e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                })\r\n                .toArray(Object[]::new);\r\n```\r\nNote that the order here is determined by sorting on the getter-name, which works with your specific example, but not generally. Also, the pattern might need adjustments if other fields in the class is needed.\r\n\r\nHowever, at this point, you might be better off by creating an instance method in your class which returns the fields in an array.","title":"Is there a Lombok annotation to get all fields of an object of a class as an Object array?","body":"<p>I am not aware of solutions with lombok, but there are alternatives.</p>\n<p>Though it might not be a beautiful solutiuon, you can invoke the getter-methods from your class through reflection:</p>\n<pre><code>        Object[] objects = Arrays.stream(ItemPrimaryKey.class.getMethods())\n                .filter(method -&gt; Pattern.compile(&quot;getCompositeKeyColumn.&quot;).matcher(method.getName()).matches())\n                .sorted(Comparator.comparing(Method::getName))\n                .map(method -&gt; {\n                    try {\n                        return method.invoke(itemPrimaryKey);\n                    } catch (Exception e) {\n                        throw new RuntimeException(e);\n                    }\n                })\n                .toArray(Object[]::new);\n</code></pre>\n<p>Note that the order here is determined by sorting on the getter-name, which works with your specific example, but not generally. Also, the pattern might need adjustments if other fields in the class is needed.</p>\n<p>However, at this point, you might be better off by creating an instance method in your class which returns the fields in an array.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677661820,"creation_date":1677661820,"answer_id":75601567,"question_id":75601146,"body_markdown":"you won&#39;t be able to do it with Lombok. If you are looking for alternatives, one way would be to convert the object to a hashmap using jackson, and then get all the keys:\r\n\r\n    private static String[] getFieldNames(Object obj) {\r\n    \tMap&lt;String, Object&gt; map = new ObjectMapper().convertValue(obj, Map.class);\r\n    \treturn map.keySet().toArray();\r\n    }\r\n\r\nthough, I would rather manually enter the field names in the query, if it is not something that can dynamically change.\r\n\r\n","title":"Is there a Lombok annotation to get all fields of an object of a class as an Object array?","body":"<p>you won't be able to do it with Lombok. If you are looking for alternatives, one way would be to convert the object to a hashmap using jackson, and then get all the keys:</p>\n<pre><code>private static String[] getFieldNames(Object obj) {\n    Map&lt;String, Object&gt; map = new ObjectMapper().convertValue(obj, Map.class);\n    return map.keySet().toArray();\n}\n</code></pre>\n<p>though, I would rather manually enter the field names in the query, if it is not something that can dynamically change.</p>\n"},{"tags":[],"owner":{"account_id":15390179,"reputation":15,"user_id":11103156,"display_name":"Stoyko Stoev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677683852,"creation_date":1677682926,"answer_id":75605461,"question_id":75601146,"body_markdown":"I have adapted [trandafir-emanuel](https://stackoverflow.com/users/12706564/trandafir-emanuel)&#39;s answer to the simplest possible solution I could think of. Classes only need to extend this abstract class, and they&#39;ll have `toVarArgs()` working out of the box (previously called `getForVarArgs()` - I had to rename it to something not starting with `get`, because otherwise Jackson tried to use the method during serialization).\r\n\r\nAlso, the order of definition of the fields is respected, which is clearly important in this case.\r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\n\r\nabstract class VarArgsConvertible {\r\n    private Object[] thisAsVarArgs = null;\r\n\r\n    public Object[] toVarArgs() {\r\n        if (thisAsVarArgs == null) {\r\n            Map&lt;?, ?&gt; thisAsMap = new ObjectMapper().convertValue(this, LinkedHashMap.class);\r\n            thisAsVarArgs = thisAsMap.values().toArray();\r\n        }\r\n\r\n        return thisAsVarArgs;\r\n    }\r\n}\r\n\r\n```","title":"Is there a Lombok annotation to get all fields of an object of a class as an Object array?","body":"<p>I have adapted <a href=\"https://stackoverflow.com/users/12706564/trandafir-emanuel\">trandafir-emanuel</a>'s answer to the simplest possible solution I could think of. Classes only need to extend this abstract class, and they'll have <code>toVarArgs()</code> working out of the box (previously called <code>getForVarArgs()</code> - I had to rename it to something not starting with <code>get</code>, because otherwise Jackson tried to use the method during serialization).</p>\n<p>Also, the order of definition of the fields is respected, which is clearly important in this case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\nabstract class VarArgsConvertible {\n    private Object[] thisAsVarArgs = null;\n\n    public Object[] toVarArgs() {\n        if (thisAsVarArgs == null) {\n            Map&lt;?, ?&gt; thisAsMap = new ObjectMapper().convertValue(this, LinkedHashMap.class);\n            thisAsVarArgs = thisAsMap.values().toArray();\n        }\n\n        return thisAsVarArgs;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":15390179,"reputation":15,"user_id":11103156,"display_name":"Stoyko Stoev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75601567,"answer_count":3,"score":0,"last_activity_date":1677683852,"creation_date":1677659106,"question_id":75601146,"body_markdown":"I have a class which represents the primary key (which is a composite one) of a database table.\r\n\r\n```java\r\n@Value\r\npublic class ItemPrimaryKey {\r\n    String compositeKeyColumnA;\r\n    String compositeKeyColumnB;\r\n    String compositeKeyColumnC;\r\n    String compositeKeyColumnD;\r\n}\r\n```\r\n\r\nWhen I want to read a row from the table by primary key, I should do the following:\r\n\r\n```java\r\njdbcTemplate.query(\r\n    READ_ITEM_BY_PK_QUERY,\r\n    new BeanPropertyRowMapper&lt;&gt;(Item.class),\r\n    itemPrimaryKey.getCompositeKeyColumnA(),\r\n    itemPrimaryKey.getCompositeKeyColumnB(),\r\n    itemPrimaryKey.getCompositeKeyColumnC(),\r\n    itemPrimaryKey.getCompositeKeyColumnD());\r\n```\r\n\r\nHowever, because the `query` method of `JdbcTemplate` takes `Object...` as its last parameter, I can do the following:\r\n\r\n```java\r\npublic class ItemPrimaryKey {\r\n    // ...\r\n    public Object[] getForVarArgs() {\r\n        return new Object[] { compositeKeyColumnA, compositeKeyColumnB, compositeKeyColumnC, compositeKeyColumnD };\r\n    }\r\n}\r\n```\r\n\r\n```java\r\njdbcTemplate.query(\r\n    READ_ITEM_BY_PK_QUERY,\r\n    new BeanPropertyRowMapper&lt;&gt;(Item.class),\r\n    itemPrimaryKey.getForVarArgs());\r\n```\r\n\r\nSince I have the above situation for multiple classes/DB tables, I would like to achieve it with a Lombok annotation, if possible. Is there one that does this?\r\n\r\nI have looked through Lombok&#39;s documentation, and googled, but I found no such thing. However, maybe there is a configuration for an existing annotation that could still achieve this?","title":"Is there a Lombok annotation to get all fields of an object of a class as an Object array?","body":"<p>I have a class which represents the primary key (which is a composite one) of a database table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\npublic class ItemPrimaryKey {\n    String compositeKeyColumnA;\n    String compositeKeyColumnB;\n    String compositeKeyColumnC;\n    String compositeKeyColumnD;\n}\n</code></pre>\n<p>When I want to read a row from the table by primary key, I should do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jdbcTemplate.query(\n    READ_ITEM_BY_PK_QUERY,\n    new BeanPropertyRowMapper&lt;&gt;(Item.class),\n    itemPrimaryKey.getCompositeKeyColumnA(),\n    itemPrimaryKey.getCompositeKeyColumnB(),\n    itemPrimaryKey.getCompositeKeyColumnC(),\n    itemPrimaryKey.getCompositeKeyColumnD());\n</code></pre>\n<p>However, because the <code>query</code> method of <code>JdbcTemplate</code> takes <code>Object...</code> as its last parameter, I can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ItemPrimaryKey {\n    // ...\n    public Object[] getForVarArgs() {\n        return new Object[] { compositeKeyColumnA, compositeKeyColumnB, compositeKeyColumnC, compositeKeyColumnD };\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>jdbcTemplate.query(\n    READ_ITEM_BY_PK_QUERY,\n    new BeanPropertyRowMapper&lt;&gt;(Item.class),\n    itemPrimaryKey.getForVarArgs());\n</code></pre>\n<p>Since I have the above situation for multiple classes/DB tables, I would like to achieve it with a Lombok annotation, if possible. Is there one that does this?</p>\n<p>I have looked through Lombok's documentation, and googled, but I found no such thing. However, maybe there is a configuration for an existing annotation that could still achieve this?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":57476,"reputation":443,"user_id":172191,"display_name":"Eric Barr"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1670922960,"creation_date":1383236644,"answer_id":19711793,"question_id":19711695,"body_markdown":"This should do the trick:\r\n\r\n    mapper.readValue(fileReader, MyClass.class);\r\n\r\nI say should because I&#39;m using that with a `String`, not a `BufferedReader` but it should still work.\r\n\r\nHere&#39;s my code:\r\n\r\n    String inputString = // I grab my string here\r\n    MySessionClass sessionObject;\r\n    try {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        sessionObject = objectMapper.readValue(inputString, MySessionClass.class);\r\n\r\nHere&#39;s the official documentation for that call: [http://jackson.codehaus.org/1.7.9/javadoc/org/codehaus/jackson/map/ObjectMapper.html#readValue(java.lang.String, java.lang.Class)][1]\r\n\r\nYou can also define a custom deserializer when you instantiate the `ObjectMapper`:\r\nhttp://wiki.fasterxml.com/JacksonHowToCustomDeserializers\r\n\r\nEdit:\r\nI just remembered something else. If your object coming in has more properties than the `POJO` has and you just want to ignore the extras you&#39;ll want to set this:\r\n\r\n```\r\nobjectMapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n```\r\n\r\nOr you&#39;ll get an error that it can&#39;t find the property to set into.\r\n\r\n  [1]: http://jackson.codehaus.org/1.7.9/javadoc/org/codehaus/jackson/map/ObjectMapper.html#readValue%28java.lang.String,%20java.lang.Class%29\r\n","title":"Convert JsonNode into POJO","body":"<p>This should do the trick:</p>\n<pre><code>mapper.readValue(fileReader, MyClass.class);\n</code></pre>\n<p>I say should because I'm using that with a <code>String</code>, not a <code>BufferedReader</code> but it should still work.</p>\n<p>Here's my code:</p>\n<pre><code>String inputString = // I grab my string here\nMySessionClass sessionObject;\ntry {\n    ObjectMapper objectMapper = new ObjectMapper();\n    sessionObject = objectMapper.readValue(inputString, MySessionClass.class);\n</code></pre>\n<p>Here's the official documentation for that call: <a href=\"http://jackson.codehaus.org/1.7.9/javadoc/org/codehaus/jackson/map/ObjectMapper.html#readValue%28java.lang.String,%20java.lang.Class%29\" rel=\"nofollow noreferrer\">http://jackson.codehaus.org/1.7.9/javadoc/org/codehaus/jackson/map/ObjectMapper.html#readValue(java.lang.String, java.lang.Class)</a></p>\n<p>You can also define a custom deserializer when you instantiate the <code>ObjectMapper</code>:\n<a href=\"http://wiki.fasterxml.com/JacksonHowToCustomDeserializers\" rel=\"nofollow noreferrer\">http://wiki.fasterxml.com/JacksonHowToCustomDeserializers</a></p>\n<p>Edit:\nI just remembered something else. If your object coming in has more properties than the <code>POJO</code> has and you just want to ignore the extras you'll want to set this:</p>\n<pre><code>objectMapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n<p>Or you'll get an error that it can't find the property to set into.</p>\n"},{"tags":[],"owner":{"account_id":4168761,"reputation":4800,"user_id":3417109,"display_name":"gx0r"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413325022,"creation_date":1413325022,"answer_id":26371326,"question_id":19711695,"body_markdown":"\r\n    String jsonInput = &quot;{ \\&quot;hi\\&quot;: \\&quot;Assume this is the JSON\\&quot;} &quot;;\r\n    com.fasterxml.jackson.databind.ObjectMapper mapper =\r\n        new com.fasterxml.jackson.databind.ObjectMapper();\r\n    MyClass myObject = objectMapper.readValue(jsonInput, MyClass.class);\r\n\r\n\r\nIf your JSON input in has more properties than your POJO has and you just want to ignore the extras in Jackson 2.4, you can configure your ObjectMapper as follows. **This syntax is different from older Jackson versions.** (If you use the wrong syntax, it will silently do nothing.)\r\n\r\n    mapper.disable(com.fasterxml.jackson.databind.DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n\r\n","title":"Convert JsonNode into POJO","body":"<pre><code>String jsonInput = \"{ \\\"hi\\\": \\\"Assume this is the JSON\\\"} \";\ncom.fasterxml.jackson.databind.ObjectMapper mapper =\n    new com.fasterxml.jackson.databind.ObjectMapper();\nMyClass myObject = objectMapper.readValue(jsonInput, MyClass.class);\n</code></pre>\n\n<p>If your JSON input in has more properties than your POJO has and you just want to ignore the extras in Jackson 2.4, you can configure your ObjectMapper as follows. <strong>This syntax is different from older Jackson versions.</strong> (If you use the wrong syntax, it will silently do nothing.)</p>\n\n<pre><code>mapper.disable(com.fasterxml.jackson.databind.DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125541,"reputation":361,"user_id":321379,"display_name":"mumrah"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1420510688,"creation_date":1420510688,"answer_id":27791122,"question_id":19711695,"body_markdown":"If you&#39;re using org.codehaus.jackson, this has been possible since 1.6. You can convert a JsonNode to a POJO with &lt;code&gt;ObjectMapper#readValue&lt;/code&gt;: http://jackson.codehaus.org/1.9.4/javadoc/org/codehaus/jackson/map/ObjectMapper.html#readValue(org.codehaus.jackson.JsonNode, java.lang.Class)\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonParser jsonParser = mapper.getJsonFactory().createJsonParser(&quot;{\\&quot;foo\\&quot;:\\&quot;bar\\&quot;}&quot;);\r\n    JsonNode tree = jsonParser.readValueAsTree();\r\n    // Do stuff to the tree\r\n    mapper.readValue(tree, Foo.class);\r\n&lt;/code&gt;&lt;/pre&gt;","title":"Convert JsonNode into POJO","body":"<p>If you're using org.codehaus.jackson, this has been possible since 1.6. You can convert a JsonNode to a POJO with <code>ObjectMapper#readValue</code>: <a href=\"http://jackson.codehaus.org/1.9.4/javadoc/org/codehaus/jackson/map/ObjectMapper.html#readValue(org.codehaus.jackson.JsonNode\" rel=\"noreferrer\">http://jackson.codehaus.org/1.9.4/javadoc/org/codehaus/jackson/map/ObjectMapper.html#readValue(org.codehaus.jackson.JsonNode</a>, java.lang.Class)</p>\n\n<pre><code>\n    ObjectMapper mapper = new ObjectMapper();\n    JsonParser jsonParser = mapper.getJsonFactory().createJsonParser(\"{\\\"foo\\\":\\\"bar\\\"}\");\n    JsonNode tree = jsonParser.readValueAsTree();\n    // Do stuff to the tree\n    mapper.readValue(tree, Foo.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3422645,"reputation":6245,"user_id":2869635,"accept_rate":100,"display_name":"icedtrees"},"down_vote_count":0,"up_vote_count":396,"is_accepted":true,"score":396,"last_activity_date":1426421927,"creation_date":1424853572,"answer_id":28714523,"question_id":19711695,"body_markdown":"In Jackson 2.4, you can convert as follows:\r\n\r\n    MyClass newJsonNode = jsonObjectMapper.treeToValue(someJsonNode, MyClass.class);\r\n\r\nwhere `jsonObjectMapper` is a Jackson `ObjectMapper`.\r\n\r\n---\r\n\r\nIn older versions of Jackson, it would be\r\n\r\n    MyClass newJsonNode = jsonObjectMapper.readValue(someJsonNode, MyClass.class);","title":"Convert JsonNode into POJO","body":"<p>In Jackson 2.4, you can convert as follows:</p>\n\n<pre><code>MyClass newJsonNode = jsonObjectMapper.treeToValue(someJsonNode, MyClass.class);\n</code></pre>\n\n<p>where <code>jsonObjectMapper</code> is a Jackson <code>ObjectMapper</code>.</p>\n\n<hr>\n\n<p>In older versions of Jackson, it would be</p>\n\n<pre><code>MyClass newJsonNode = jsonObjectMapper.readValue(someJsonNode, MyClass.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":965193,"reputation":2134,"user_id":988738,"accept_rate":74,"display_name":"xbmono"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643257477,"creation_date":1643257477,"answer_id":70873346,"question_id":19711695,"body_markdown":"This is also a different way and can be used for an array of objects\r\n\r\n```\r\nObjectReader reader = mapper.readerFor(new TypeReference&lt;List&lt;SomeClass&gt;&gt;() {\r\n});\r\nassert someJsonNode.isArray()\r\nList&lt;SomeClass&gt; list = reader.readValue(someJsonNode);\r\n```","title":"Convert JsonNode into POJO","body":"<p>This is also a different way and can be used for an array of objects</p>\n<pre><code>ObjectReader reader = mapper.readerFor(new TypeReference&lt;List&lt;SomeClass&gt;&gt;() {\n});\nassert someJsonNode.isArray()\nList&lt;SomeClass&gt; list = reader.readValue(someJsonNode);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677683806,"creation_date":1677683806,"answer_id":75605644,"question_id":19711695,"body_markdown":"If you don&#39;t have an `ObjectMapper` (if you&#39;re in a [custom deserializer](https://stackoverflow.com/questions/56915449/convert-jsonnode-to-pojo-inside-a-custom-deserializer/), for instance), you can use the `ObjectCodec` from the `JsonParser` parameter like this:\r\n\r\n```java\r\njsonParser.getCodec().treeToValue(root.get(&quot;something&quot;), MyClass.class)\r\n```\r\n\r\nThis will give you the `something` object back according to existing serialization rules for `MyClass`.\r\n\r\nThanks to [@galcyurio](https://stackoverflow.com/questions/19711695/convert-jsonnode-into-pojo#comment88151460_28714523) for the comment:\r\n\r\n&gt; You can also use this method in StdDeserializer: p.codec.treeToValue\r\n\r\n","title":"Convert JsonNode into POJO","body":"<p>If you don't have an <code>ObjectMapper</code> (if you're in a <a href=\"https://stackoverflow.com/questions/56915449/convert-jsonnode-to-pojo-inside-a-custom-deserializer/\">custom deserializer</a>, for instance), you can use the <code>ObjectCodec</code> from the <code>JsonParser</code> parameter like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jsonParser.getCodec().treeToValue(root.get(&quot;something&quot;), MyClass.class)\n</code></pre>\n<p>This will give you the <code>something</code> object back according to existing serialization rules for <code>MyClass</code>.</p>\n<p>Thanks to <a href=\"https://stackoverflow.com/questions/19711695/convert-jsonnode-into-pojo#comment88151460_28714523\">@galcyurio</a> for the comment:</p>\n<blockquote>\n<p>You can also use this method in StdDeserializer: p.codec.treeToValue</p>\n</blockquote>\n"}],"owner":{"account_id":973568,"reputation":4442,"user_id":995548,"accept_rate":88,"display_name":"Alexandre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219196,"favorite_count":0,"down_vote_count":0,"up_vote_count":220,"accepted_answer_id":28714523,"answer_count":6,"score":220,"last_activity_date":1677683806,"creation_date":1383236318,"question_id":19711695,"body_markdown":"This may seem a little unusual, but I am looking for an efficient way to transform/map a `JsonNode` into a `POJO`.\r\n\r\nI store some of my Model&#39;s information in json files and I have to support a couple of version of my model.\r\n\r\nWhat I do is load the json file in memory in a JsonNode, apply a couple of versioning strategies  to make it match the latest version of my Model.\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        BufferedReader fileReader = new BufferedReader(new FileReader(projPath));\r\n\r\n        JsonNode rootNode = mapper.readTree(fileReader);\r\n\r\n        //Upgrade our file in memory\r\n        applyVersioningStrategy(rootNode);\r\n\r\n        ProjectModel project = mapJsonNodeToProject(rootNode);\r\n\r\n\r\nUnless there&#39;s a faster way to do it, I will probably end up simply manually applying the `JsonNodes` to my Model","title":"Convert JsonNode into POJO","body":"<p>This may seem a little unusual, but I am looking for an efficient way to transform/map a <code>JsonNode</code> into a <code>POJO</code>.</p>\n\n<p>I store some of my Model's information in json files and I have to support a couple of version of my model.</p>\n\n<p>What I do is load the json file in memory in a JsonNode, apply a couple of versioning strategies  to make it match the latest version of my Model.</p>\n\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    BufferedReader fileReader = new BufferedReader(new FileReader(projPath));\n\n    JsonNode rootNode = mapper.readTree(fileReader);\n\n    //Upgrade our file in memory\n    applyVersioningStrategy(rootNode);\n\n    ProjectModel project = mapJsonNodeToProject(rootNode);\n</code></pre>\n\n<p>Unless there's a faster way to do it, I will probably end up simply manually applying the <code>JsonNodes</code> to my Model</p>\n"},{"tags":["java","date-arithmetic"],"comments":[{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":5,"creation_date":1375167435,"post_id":17940200,"comment_id":26215099,"body_markdown":"Please have a look at Joda time, which has built in support for this.","body":"Please have a look at Joda time, which has built in support for this."},{"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"score":1,"creation_date":1375167504,"post_id":17940200,"comment_id":26215130,"body_markdown":"whats wrong with you code, you just need some tweaks to achieve required output, let try it","body":"whats wrong with you code, you just need some tweaks to achieve required output, let try it"},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1375167521,"post_id":17940200,"comment_id":26215141,"body_markdown":"First find the difference in hours , with the remainder find the difference in minutes and then the seconds !","body":"First find the difference in hours , with the remainder find the difference in minutes and then the seconds !"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1375167555,"post_id":17940200,"comment_id":26215152,"body_markdown":"You need to clarify what your problem is.  Some might assume you have trouble doing the calculations when it appears to me you are having trouble writing the logic for the output.","body":"You need to clarify what your problem is.  Some might assume you have trouble doing the calculations when it appears to me you are having trouble writing the logic for the output."},{"owner":{"account_id":2544346,"reputation":1944,"user_id":2209477,"accept_rate":78,"display_name":"J888"},"score":0,"creation_date":1375167563,"post_id":17940200,"comment_id":26215154,"body_markdown":"@Abu not sure how to do the same for date","body":"@Abu not sure how to do the same for date"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1375167585,"post_id":17940200,"comment_id":26215169,"body_markdown":"@J888 divide by another 24x, there are 24 hours in a day.","body":"@J888 divide by another 24x, there are 24 hours in a day."},{"owner":{"account_id":2544346,"reputation":1944,"user_id":2209477,"accept_rate":78,"display_name":"J888"},"score":0,"creation_date":1375167606,"post_id":17940200,"comment_id":26215182,"body_markdown":"@TheNewIdiot not sure how to do the same for date","body":"@TheNewIdiot not sure how to do the same for date"},{"owner":{"account_id":2544346,"reputation":1944,"user_id":2209477,"accept_rate":78,"display_name":"J888"},"score":1,"creation_date":1375167623,"post_id":17940200,"comment_id":26215193,"body_markdown":"@PeterLawrey I have provided different examples","body":"@PeterLawrey I have provided different examples"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1375167706,"post_id":17940200,"comment_id":26215224,"body_markdown":"@J888 You need a function which will give you the text for the number of days as words.  Do numbers really need to have a padded 0 at the start.","body":"@J888 You need a function which will give you the text for the number of days as words.  Do numbers really need to have a padded 0 at the start."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1375167741,"post_id":17940200,"comment_id":26215236,"body_markdown":"@PeterLawrey: Well there are *usually* 24 hours in a day. Not always though, due to DST transitions. We&#39;d need to know more about what these date/time values really represent - which time zone they started in.","body":"@PeterLawrey: Well there are <i>usually</i> 24 hours in a day. Not always though, due to DST transitions. We&#39;d need to know more about what these date/time values really represent - which time zone they started in."},{"owner":{"account_id":3065881,"reputation":421,"user_id":2597590,"accept_rate":65,"display_name":"Tim Norman"},"score":1,"creation_date":1375167763,"post_id":17940200,"comment_id":26215250,"body_markdown":"@aquestion duplication means two questions which expects the same results, the expected output of this question is different with the one you provided.","body":"@aquestion duplication means two questions which expects the same results, the expected output of this question is different with the one you provided."},{"owner":{"account_id":2905575,"reputation":1062,"user_id":2491050,"accept_rate":62,"display_name":"Shahrzad"},"score":0,"creation_date":1375167826,"post_id":17940200,"comment_id":26215283,"body_markdown":"Check this there are 22 answers hope you will solve the problem, after that simply use SimpleDateFormat to format accordingly.\n\nhttp://stackoverflow.com/questions/1555262/calculating-the-difference-between-two-java-date-instances","body":"Check this there are 22 answers hope you will solve the problem, after that simply use SimpleDateFormat to format accordingly.  <a href=\"http://stackoverflow.com/questions/1555262/calculating-the-difference-between-two-java-date-instances\" title=\"calculating the difference between two java date instances\">stackoverflow.com/questions/1555262/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1878619,"reputation":3619,"user_id":1699268,"accept_rate":83,"display_name":"MayurB"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1475081395,"creation_date":1375167497,"answer_id":17940266,"question_id":17940200,"body_markdown":"Use [Joda-Time][1] library\r\n\r\n\r\n    DateTime startTime, endTime;\r\n    Period p = new Period(startTime, endTime);\r\n    long hours = p.getHours();\r\n    long minutes = p.getMinutes();\r\n\r\n\r\nJoda Time has a concept of time Interval:\r\n\r\n    Interval interval = new Interval(oldTime, new Instant());\r\n\r\n\r\nOne more example\r\n[Date Difference][2]\r\n\r\n\r\nOne more [Link][3]\r\n\r\nor with Java-8 (which integrated Joda-Time concepts)\r\n\r\n    Instant start, end;//\r\n    Duration dur = Duration.between(start, stop);\r\n    long hours = dur.toHours();\r\n    long minutes = dur.toMinutes();\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n  [2]: http://www.roseindia.net/java/beginners/DateDifferent.shtml\r\n  [3]: http://www.mkyong.com/java/how-to-calculate-date-time-difference-in-java/","title":"How to find the duration of difference between two dates in java?","body":"<p>Use <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda-Time</a> library</p>\n\n<pre><code>DateTime startTime, endTime;\nPeriod p = new Period(startTime, endTime);\nlong hours = p.getHours();\nlong minutes = p.getMinutes();\n</code></pre>\n\n<p>Joda Time has a concept of time Interval:</p>\n\n<pre><code>Interval interval = new Interval(oldTime, new Instant());\n</code></pre>\n\n<p>One more example\n<a href=\"http://www.roseindia.net/java/beginners/DateDifferent.shtml\" rel=\"noreferrer\">Date Difference</a></p>\n\n<p>One more <a href=\"http://www.mkyong.com/java/how-to-calculate-date-time-difference-in-java/\" rel=\"noreferrer\">Link</a></p>\n\n<p>or with Java-8 (which integrated Joda-Time concepts)</p>\n\n<pre><code>Instant start, end;//\nDuration dur = Duration.between(start, stop);\nlong hours = dur.toHours();\nlong minutes = dur.toMinutes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":265261,"reputation":6048,"user_id":552116,"accept_rate":77,"display_name":"Ghostman"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1375301125,"creation_date":1375167510,"answer_id":17940272,"question_id":17940200,"body_markdown":"As Michael Borgwardt writes in [his answer here][1]:\r\n\r\n&gt;     int diffInDays = (int)( (newerDate.getTime() - olderDate.getTime()) \r\n&gt;                      / (1000 * 60 * 60 * 24) )\r\n&gt; \r\n&gt; Note that this works with UTC dates, so the difference may be a day\r\n&gt; off if you look at local dates. And getting it to work correctly with\r\n&gt; local dates requires a completely different approach due to daylight\r\n&gt; savings time.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3491723/552116\r\n  [2]: https://stackoverflow.com/a/3491723/552116","title":"How to find the duration of difference between two dates in java?","body":"<p>As Michael Borgwardt writes in <a href=\"https://stackoverflow.com/a/3491723/552116\">his answer here</a>:</p>\n\n<blockquote>\n<pre><code>int diffInDays = (int)( (newerDate.getTime() - olderDate.getTime()) \n                 / (1000 * 60 * 60 * 24) )\n</code></pre>\n  \n  <p>Note that this works with UTC dates, so the difference may be a day\n  off if you look at local dates. And getting it to work correctly with\n  local dates requires a completely different approach due to daylight\n  savings time.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":534774,"reputation":8305,"user_id":2696031,"accept_rate":100,"display_name":"Shamim Ahmmed"},"down_vote_count":1,"up_vote_count":228,"is_accepted":false,"score":227,"last_activity_date":1537386392,"creation_date":1375168779,"answer_id":17940648,"question_id":17940200,"body_markdown":"The date difference conversion could be handled in a better way using Java built-in class, [TimeUnit][1]. It provides utility methods to do that:\r\n\r\n    Date startDate = // Set start date\r\n    Date endDate   = // Set end date\r\n\r\n    long duration  = endDate.getTime() - startDate.getTime();\r\n\r\n    long diffInSeconds = TimeUnit.MILLISECONDS.toSeconds(duration);\r\n    long diffInMinutes = TimeUnit.MILLISECONDS.toMinutes(duration);\r\n    long diffInHours = TimeUnit.MILLISECONDS.toHours(duration);\r\n    long diffInDays = TimeUnit.MILLISECONDS.toDays(duration);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html","title":"How to find the duration of difference between two dates in java?","body":"<p>The date difference conversion could be handled in a better way using Java built-in class, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"noreferrer\">TimeUnit</a>. It provides utility methods to do that:</p>\n\n<pre><code>Date startDate = // Set start date\nDate endDate   = // Set end date\n\nlong duration  = endDate.getTime() - startDate.getTime();\n\nlong diffInSeconds = TimeUnit.MILLISECONDS.toSeconds(duration);\nlong diffInMinutes = TimeUnit.MILLISECONDS.toMinutes(duration);\nlong diffInHours = TimeUnit.MILLISECONDS.toHours(duration);\nlong diffInDays = TimeUnit.MILLISECONDS.toDays(duration);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1386522"},"down_vote_count":6,"up_vote_count":79,"is_accepted":true,"score":73,"last_activity_date":1384066725,"creation_date":1384066725,"answer_id":19887135,"question_id":17940200,"body_markdown":"try the following \r\n\r\n\r\n    {\r\n            Date dt2 = new DateAndTime().getCurrentDateTime();\r\n    \r\n            long diff = dt2.getTime() - dt1.getTime();\r\n            long diffSeconds = diff / 1000 % 60;\r\n            long diffMinutes = diff / (60 * 1000) % 60;\r\n            long diffHours = diff / (60 * 60 * 1000);\r\n            int diffInDays = (int) ((dt2.getTime() - dt1.getTime()) / (1000 * 60 * 60 * 24));\r\n    \r\n            if (diffInDays &gt; 1) {\r\n                System.err.println(&quot;Difference in number of days (2) : &quot; + diffInDays);\r\n                return false;\r\n            } else if (diffHours &gt; 24) {\r\n    \r\n                System.err.println(&quot;&gt;24&quot;);\r\n                return false;\r\n            } else if ((diffHours == 24) &amp;&amp; (diffMinutes &gt;= 1)) {\r\n                System.err.println(&quot;minutes&quot;);\r\n                return false;\r\n            }\r\n            return true;\r\n    }","title":"How to find the duration of difference between two dates in java?","body":"<p>try the following </p>\n\n<pre><code>{\n        Date dt2 = new DateAndTime().getCurrentDateTime();\n\n        long diff = dt2.getTime() - dt1.getTime();\n        long diffSeconds = diff / 1000 % 60;\n        long diffMinutes = diff / (60 * 1000) % 60;\n        long diffHours = diff / (60 * 60 * 1000);\n        int diffInDays = (int) ((dt2.getTime() - dt1.getTime()) / (1000 * 60 * 60 * 24));\n\n        if (diffInDays &gt; 1) {\n            System.err.println(\"Difference in number of days (2) : \" + diffInDays);\n            return false;\n        } else if (diffHours &gt; 24) {\n\n            System.err.println(\"&gt;24\");\n            return false;\n        } else if ((diffHours == 24) &amp;&amp; (diffMinutes &gt;= 1)) {\n            System.err.println(\"minutes\");\n            return false;\n        }\n        return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1727939"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1447791491,"creation_date":1384832422,"answer_id":20062706,"question_id":17940200,"body_markdown":"    Date d2 = new Date();\r\n    Date d1 = new Date(1384831803875l);\r\n    \r\n    long diff = d2.getTime() - d1.getTime();\r\n    long diffSeconds = diff / 1000 % 60;\r\n    long diffMinutes = diff / (60 * 1000) % 60;\r\n    long diffHours = diff / (60 * 60 * 1000);\r\n    int diffInDays = (int) diff / (1000 * 60 * 60 * 24);\r\n    \r\n    System.out.println(diffInDays+&quot;  days&quot;);\r\n    System.out.println(diffHours+&quot;  Hour&quot;);\r\n    System.out.println(diffMinutes+&quot;  min&quot;);\r\n    System.out.println(diffSeconds+&quot;  sec&quot;);\r\n","title":"How to find the duration of difference between two dates in java?","body":"<pre><code>Date d2 = new Date();\nDate d1 = new Date(1384831803875l);\n\nlong diff = d2.getTime() - d1.getTime();\nlong diffSeconds = diff / 1000 % 60;\nlong diffMinutes = diff / (60 * 1000) % 60;\nlong diffHours = diff / (60 * 60 * 1000);\nint diffInDays = (int) diff / (1000 * 60 * 60 * 24);\n\nSystem.out.println(diffInDays+\"  days\");\nSystem.out.println(diffHours+\"  Hour\");\nSystem.out.println(diffMinutes+\"  min\");\nSystem.out.println(diffSeconds+\"  sec\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1835284,"reputation":365,"user_id":1665807,"display_name":"johnkarka"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1401920379,"creation_date":1401920379,"answer_id":24048565,"question_id":17940200,"body_markdown":"Here is how the problem can solved in Java 8 just like the answer by shamimz.\r\n\r\nSource :  http://docs.oracle.com/javase/tutorial/datetime/iso/period.html\r\n\r\n    LocalDate today = LocalDate.now();\r\n    LocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);\r\n    \r\n    Period p = Period.between(birthday, today);\r\n    long p2 = ChronoUnit.DAYS.between(birthday, today);\r\n    \r\n    System.out.println(&quot;You are &quot; + p.getYears() + &quot; years, &quot; + p.getMonths() + &quot; months, and &quot; + p.getDays() + &quot; days old. (&quot; + p2 + &quot; days total)&quot;);\r\n\r\nThe code produces output similar to the following:\r\n\r\n    You are 53 years, 4 months, and 29 days old. (19508 days total)\r\n\r\nWe have to use LocalDateTime http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html to get hour,minute,second differences. \r\n","title":"How to find the duration of difference between two dates in java?","body":"<p>Here is how the problem can solved in Java 8 just like the answer by shamimz.</p>\n\n<p>Source :  <a href=\"http://docs.oracle.com/javase/tutorial/datetime/iso/period.html\">http://docs.oracle.com/javase/tutorial/datetime/iso/period.html</a></p>\n\n<pre><code>LocalDate today = LocalDate.now();\nLocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);\n\nPeriod p = Period.between(birthday, today);\nlong p2 = ChronoUnit.DAYS.between(birthday, today);\n\nSystem.out.println(\"You are \" + p.getYears() + \" years, \" + p.getMonths() + \" months, and \" + p.getDays() + \" days old. (\" + p2 + \" days total)\");\n</code></pre>\n\n<p>The code produces output similar to the following:</p>\n\n<pre><code>You are 53 years, 4 months, and 29 days old. (19508 days total)\n</code></pre>\n\n<p>We have to use LocalDateTime <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\">http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html</a> to get hour,minute,second differences. </p>\n"},{"tags":[],"owner":{"account_id":2693973,"reputation":4489,"user_id":2330860,"accept_rate":42,"display_name":"Vishal Kumar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1445948800,"creation_date":1445948800,"answer_id":33367996,"question_id":17940200,"body_markdown":"You can create a method like\r\n\r\n    public long getDaysBetweenDates(Date d1, Date d2){\r\n    return TimeUnit.MILLISECONDS.toDays(d1.getTime() - d2.getTime());\r\n    }\r\n\r\nThis method will return the number of days between the 2 days.","title":"How to find the duration of difference between two dates in java?","body":"<p>You can create a method like</p>\n\n<pre><code>public long getDaysBetweenDates(Date d1, Date d2){\nreturn TimeUnit.MILLISECONDS.toDays(d1.getTime() - d2.getTime());\n}\n</code></pre>\n\n<p>This method will return the number of days between the 2 days.</p>\n"},{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1447792231,"creation_date":1447792231,"answer_id":33766393,"question_id":17940200,"body_markdown":"In Java 8, you can make of [`DateTimeFormatter`][1], [`Duration`][2], and [`LocalDateTime`][3]. Here is an example:\r\n\r\n    final String dateStart = &quot;11/03/14 09:29:58&quot;;\r\n    final String dateStop = &quot;11/03/14 09:33:43&quot;;\r\n\r\n    final DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n            .appendValue(ChronoField.MONTH_OF_YEAR, 2)\r\n            .appendLiteral(&#39;/&#39;)\r\n            .appendValue(ChronoField.DAY_OF_MONTH, 2)\r\n            .appendLiteral(&#39;/&#39;)\r\n            .appendValueReduced(ChronoField.YEAR, 2, 2, 2000)\r\n            .appendLiteral(&#39; &#39;)\r\n            .appendValue(ChronoField.HOUR_OF_DAY, 2)\r\n            .appendLiteral(&#39;:&#39;)\r\n            .appendValue(ChronoField.MINUTE_OF_HOUR, 2)\r\n            .appendLiteral(&#39;:&#39;)\r\n            .appendValue(ChronoField.SECOND_OF_MINUTE, 2)\r\n            .toFormatter();\r\n\r\n    final LocalDateTime start = LocalDateTime.parse(dateStart, formatter);\r\n    final LocalDateTime stop = LocalDateTime.parse(dateStop, formatter);\r\n\r\n    final Duration between = Duration.between(start, stop);\r\n\r\n    System.out.println(start);\r\n    System.out.println(stop);\r\n    System.out.println(formatter.format(start));\r\n    System.out.println(formatter.format(stop));\r\n    System.out.println(between);\r\n    System.out.println(between.get(ChronoUnit.SECONDS));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html","title":"How to find the duration of difference between two dates in java?","body":"<p>In Java 8, you can make of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>. Here is an example:</p>\n\n<pre><code>final String dateStart = \"11/03/14 09:29:58\";\nfinal String dateStop = \"11/03/14 09:33:43\";\n\nfinal DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .appendValue(ChronoField.MONTH_OF_YEAR, 2)\n        .appendLiteral('/')\n        .appendValue(ChronoField.DAY_OF_MONTH, 2)\n        .appendLiteral('/')\n        .appendValueReduced(ChronoField.YEAR, 2, 2, 2000)\n        .appendLiteral(' ')\n        .appendValue(ChronoField.HOUR_OF_DAY, 2)\n        .appendLiteral(':')\n        .appendValue(ChronoField.MINUTE_OF_HOUR, 2)\n        .appendLiteral(':')\n        .appendValue(ChronoField.SECOND_OF_MINUTE, 2)\n        .toFormatter();\n\nfinal LocalDateTime start = LocalDateTime.parse(dateStart, formatter);\nfinal LocalDateTime stop = LocalDateTime.parse(dateStop, formatter);\n\nfinal Duration between = Duration.between(start, stop);\n\nSystem.out.println(start);\nSystem.out.println(stop);\nSystem.out.println(formatter.format(start));\nSystem.out.println(formatter.format(stop));\nSystem.out.println(between);\nSystem.out.println(between.get(ChronoUnit.SECONDS));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3952869,"reputation":309,"user_id":3262488,"display_name":"AYRM1112013"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447933982,"creation_date":1447933982,"answer_id":33803199,"question_id":17940200,"body_markdown":"This is the code:\r\n\r\n            String date1 = &quot;07/15/2013&quot;;\r\n            String time1 = &quot;11:00:01&quot;;\r\n            String date2 = &quot;07/16/2013&quot;;\r\n            String time2 = &quot;22:15:10&quot;;\r\n            String format = &quot;MM/dd/yyyy HH:mm:ss&quot;;\r\n            SimpleDateFormat sdf = new SimpleDateFormat(format);\r\n            Date fromDate = sdf.parse(date1 + &quot; &quot; + time1);\r\n            Date toDate = sdf.parse(date2 + &quot; &quot; + time2);\r\n\r\n            long diff = toDate.getTime() - fromDate.getTime();\r\n            String dateFormat=&quot;duration: &quot;;\r\n            int diffDays = (int) (diff / (24 * 60 * 60 * 1000));\r\n            if(diffDays&gt;0){\r\n                dateFormat+=diffDays+&quot; day &quot;;\r\n            }\r\n            diff -= diffDays * (24 * 60 * 60 * 1000);\r\n\r\n            int diffhours = (int) (diff / (60 * 60 * 1000));\r\n            if(diffhours&gt;0){\r\n                dateFormat+=diffhours+&quot; hour &quot;;\r\n            }\r\n            diff -= diffhours * (60 * 60 * 1000);\r\n\r\n            int diffmin = (int) (diff / (60 * 1000));\r\n            if(diffmin&gt;0){\r\n                dateFormat+=diffmin+&quot; min &quot;;\r\n            }\r\n            diff -= diffmin * (60 * 1000);\r\n            \r\n            int diffsec = (int) (diff / (1000));\r\n            if(diffsec&gt;0){\r\n                dateFormat+=diffsec+&quot; sec&quot;;\r\n            }\r\n            System.out.println(dateFormat);\r\n\r\nand the out is:\r\n\r\n    duration: 1 day 11 hour 15 min 9 sec","title":"How to find the duration of difference between two dates in java?","body":"<p>This is the code:</p>\n\n<pre><code>        String date1 = \"07/15/2013\";\n        String time1 = \"11:00:01\";\n        String date2 = \"07/16/2013\";\n        String time2 = \"22:15:10\";\n        String format = \"MM/dd/yyyy HH:mm:ss\";\n        SimpleDateFormat sdf = new SimpleDateFormat(format);\n        Date fromDate = sdf.parse(date1 + \" \" + time1);\n        Date toDate = sdf.parse(date2 + \" \" + time2);\n\n        long diff = toDate.getTime() - fromDate.getTime();\n        String dateFormat=\"duration: \";\n        int diffDays = (int) (diff / (24 * 60 * 60 * 1000));\n        if(diffDays&gt;0){\n            dateFormat+=diffDays+\" day \";\n        }\n        diff -= diffDays * (24 * 60 * 60 * 1000);\n\n        int diffhours = (int) (diff / (60 * 60 * 1000));\n        if(diffhours&gt;0){\n            dateFormat+=diffhours+\" hour \";\n        }\n        diff -= diffhours * (60 * 60 * 1000);\n\n        int diffmin = (int) (diff / (60 * 1000));\n        if(diffmin&gt;0){\n            dateFormat+=diffmin+\" min \";\n        }\n        diff -= diffmin * (60 * 1000);\n\n        int diffsec = (int) (diff / (1000));\n        if(diffsec&gt;0){\n            dateFormat+=diffsec+\" sec\";\n        }\n        System.out.println(dateFormat);\n</code></pre>\n\n<p>and the out is:</p>\n\n<pre><code>duration: 1 day 11 hour 15 min 9 sec\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6942242,"reputation":11,"user_id":5328127,"display_name":"Naman Chhaparia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470938571,"creation_date":1470935704,"answer_id":38902446,"question_id":17940200,"body_markdown":"This is a program I wrote, which gets the number of days between 2 dates(no time here).\r\n\r\n    import java.util.Scanner;\r\n    public class HelloWorld {\r\n     public static void main(String args[]) {\r\n      Scanner s = new Scanner(System.in);\r\n      System.out.print(&quot;Enter starting date separated by dots: &quot;);\r\n      String inp1 = s.nextLine();\r\n      System.out.print(&quot;Enter ending date separated by dots: &quot;);\r\n      String inp2 = s.nextLine();\r\n      int[] nodim = {\r\n       0,\r\n       31,\r\n       28,\r\n       31,\r\n       30,\r\n       31,\r\n       30,\r\n       31,\r\n       31,\r\n       30,\r\n       31,\r\n       30,\r\n       31\r\n      };\r\n      String[] inpArr1 = split(inp1);\r\n      String[] inpArr2 = split(inp2);\r\n      int d1 = Integer.parseInt(inpArr1[0]);\r\n      int m1 = Integer.parseInt(inpArr1[1]);\r\n      int y1 = Integer.parseInt(inpArr1[2]);\r\n      int d2 = Integer.parseInt(inpArr2[0]);\r\n      int m2 = Integer.parseInt(inpArr2[1]);\r\n      int y2 = Integer.parseInt(inpArr2[2]);\r\n      if (y1 % 4 == 0) nodim[2] = 29;\r\n      int diff = m1 == m2 &amp;&amp; y1 == y2 ? d2 - (d1 - 1) : (nodim[m1] - (d1 - 1));\r\n      int mm1 = m1 + 1, mm2 = m2 - 1, yy1 = y1, yy2 = y2;\r\n      for (; yy1 &lt;= yy2; yy1++, mm1 = 1) {\r\n       mm2 = yy1 == yy2 ? (m2 - 1) : 12;\r\n       if (yy1 % 4 == 0) nodim[2] = 29;\r\n       else nodim[2] = 28;\r\n       if (mm2 == 0) {\r\n        mm2 = 12;\r\n        yy2 = yy2 - 1;\r\n       }\r\n       for (; mm1 &lt;= mm2 &amp;&amp; yy1 &lt;= yy2; mm1++) diff = diff + nodim[mm1];\r\n      }\r\n      System.out.print(&quot;No. of days from &quot; + inp1 + &quot; to &quot; + inp2 + &quot; is &quot; + diff);\r\n     }\r\n     public static String[] split(String s) {\r\n      String[] retval = {\r\n       &quot;&quot;,\r\n       &quot;&quot;,\r\n       &quot;&quot;\r\n      };\r\n      s = s + &quot;.&quot;;\r\n      s = s + &quot; &quot;;\r\n      for (int i = 0; i &lt;= 2; i++) {\r\n       retval[i] = s.substring(0, s.indexOf(&quot;.&quot;));\r\n       s = s.substring((s.indexOf(&quot;.&quot;) + 1), s.length());\r\n      }\r\n      return retval;\r\n     }\r\n    }\r\n\r\nhttp://pastebin.com/HRsjTtUf","title":"How to find the duration of difference between two dates in java?","body":"<p>This is a program I wrote, which gets the number of days between 2 dates(no time here).</p>\n\n<pre><code>import java.util.Scanner;\npublic class HelloWorld {\n public static void main(String args[]) {\n  Scanner s = new Scanner(System.in);\n  System.out.print(\"Enter starting date separated by dots: \");\n  String inp1 = s.nextLine();\n  System.out.print(\"Enter ending date separated by dots: \");\n  String inp2 = s.nextLine();\n  int[] nodim = {\n   0,\n   31,\n   28,\n   31,\n   30,\n   31,\n   30,\n   31,\n   31,\n   30,\n   31,\n   30,\n   31\n  };\n  String[] inpArr1 = split(inp1);\n  String[] inpArr2 = split(inp2);\n  int d1 = Integer.parseInt(inpArr1[0]);\n  int m1 = Integer.parseInt(inpArr1[1]);\n  int y1 = Integer.parseInt(inpArr1[2]);\n  int d2 = Integer.parseInt(inpArr2[0]);\n  int m2 = Integer.parseInt(inpArr2[1]);\n  int y2 = Integer.parseInt(inpArr2[2]);\n  if (y1 % 4 == 0) nodim[2] = 29;\n  int diff = m1 == m2 &amp;&amp; y1 == y2 ? d2 - (d1 - 1) : (nodim[m1] - (d1 - 1));\n  int mm1 = m1 + 1, mm2 = m2 - 1, yy1 = y1, yy2 = y2;\n  for (; yy1 &lt;= yy2; yy1++, mm1 = 1) {\n   mm2 = yy1 == yy2 ? (m2 - 1) : 12;\n   if (yy1 % 4 == 0) nodim[2] = 29;\n   else nodim[2] = 28;\n   if (mm2 == 0) {\n    mm2 = 12;\n    yy2 = yy2 - 1;\n   }\n   for (; mm1 &lt;= mm2 &amp;&amp; yy1 &lt;= yy2; mm1++) diff = diff + nodim[mm1];\n  }\n  System.out.print(\"No. of days from \" + inp1 + \" to \" + inp2 + \" is \" + diff);\n }\n public static String[] split(String s) {\n  String[] retval = {\n   \"\",\n   \"\",\n   \"\"\n  };\n  s = s + \".\";\n  s = s + \" \";\n  for (int i = 0; i &lt;= 2; i++) {\n   retval[i] = s.substring(0, s.indexOf(\".\"));\n   s = s.substring((s.indexOf(\".\") + 1), s.length());\n  }\n  return retval;\n }\n}\n</code></pre>\n\n<p><a href=\"http://pastebin.com/HRsjTtUf\" rel=\"nofollow\">http://pastebin.com/HRsjTtUf</a></p>\n"},{"tags":[],"owner":{"account_id":10066633,"reputation":1,"user_id":7441644,"display_name":"Sugriv Shekhar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1484837041,"creation_date":1484837041,"answer_id":41744610,"question_id":17940200,"body_markdown":"       // calculating the difference b/w startDate and endDate\r\n\t\t\tString startDate = &quot;01-01-2016&quot;;\r\n\t\t\tString endDate = simpleDateFormat.format(currentDate);\r\n\r\n\t\t\tdate1 = simpleDateFormat.parse(startDate);\r\n\t\t\tdate2 = simpleDateFormat.parse(endDate);\r\n\r\n\t\t\tlong getDiff = date2.getTime() - date1.getTime();\r\n\r\n\t\t\t// using TimeUnit class from java.util.concurrent package\r\n\t\t\tlong getDaysDiff = TimeUnit.MILLISECONDS.toDays(getDiff);\r\n\r\n\r\n[How to calculate difference between two dates in Java][1]\r\n\r\n\r\n  [1]: http://www.websparrow.org/tutorials/java/how-to-calculate-difference-between-two-dates-in-java","title":"How to find the duration of difference between two dates in java?","body":"<pre><code>   // calculating the difference b/w startDate and endDate\n        String startDate = \"01-01-2016\";\n        String endDate = simpleDateFormat.format(currentDate);\n\n        date1 = simpleDateFormat.parse(startDate);\n        date2 = simpleDateFormat.parse(endDate);\n\n        long getDiff = date2.getTime() - date1.getTime();\n\n        // using TimeUnit class from java.util.concurrent package\n        long getDaysDiff = TimeUnit.MILLISECONDS.toDays(getDiff);\n</code></pre>\n\n<p><a href=\"http://www.websparrow.org/tutorials/java/how-to-calculate-difference-between-two-dates-in-java\" rel=\"nofollow noreferrer\">How to calculate difference between two dates in Java</a></p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488008597,"creation_date":1488008597,"answer_id":42453365,"question_id":17940200,"body_markdown":"I solved the similar problem using a simple method recently. \r\n\r\n    public static void main(String[] args) throws IOException, ParseException {\r\n            TimeZone utc = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n            Calendar calendar = Calendar.getInstance(utc);\r\n            Date until = calendar.getTime();\r\n            calendar.add(Calendar.DAY_OF_MONTH, -7);\r\n            Date since = calendar.getTime();\r\n            long durationInSeconds  = TimeUnit.MILLISECONDS.toSeconds(until.getTime() - since.getTime());\r\n    \r\n            long SECONDS_IN_A_MINUTE = 60;\r\n            long MINUTES_IN_AN_HOUR = 60;\r\n            long HOURS_IN_A_DAY = 24;\r\n            long DAYS_IN_A_MONTH = 30;\r\n            long MONTHS_IN_A_YEAR = 12;\r\n    \r\n            long sec = (durationInSeconds &gt;= SECONDS_IN_A_MINUTE) ? durationInSeconds % SECONDS_IN_A_MINUTE : durationInSeconds;\r\n            long min = (durationInSeconds /= SECONDS_IN_A_MINUTE) &gt;= MINUTES_IN_AN_HOUR ? durationInSeconds%MINUTES_IN_AN_HOUR : durationInSeconds;\r\n            long hrs = (durationInSeconds /= MINUTES_IN_AN_HOUR) &gt;= HOURS_IN_A_DAY ? durationInSeconds % HOURS_IN_A_DAY : durationInSeconds;\r\n            long days = (durationInSeconds /= HOURS_IN_A_DAY) &gt;= DAYS_IN_A_MONTH ? durationInSeconds % DAYS_IN_A_MONTH : durationInSeconds;\r\n            long months = (durationInSeconds /=DAYS_IN_A_MONTH) &gt;= MONTHS_IN_A_YEAR ? durationInSeconds % MONTHS_IN_A_YEAR : durationInSeconds;\r\n            long years = (durationInSeconds /= MONTHS_IN_A_YEAR);\r\n    \r\n            String duration = getDuration(sec,min,hrs,days,months,years);\r\n            System.out.println(duration);\r\n        }\r\n        private static String getDuration(long secs, long mins, long hrs, long days, long months, long years) {\r\n            StringBuffer sb = new StringBuffer();\r\n            String EMPTY_STRING = &quot;&quot;;\r\n            sb.append(years &gt; 0 ? years + (years &gt; 1 ? &quot; years &quot; : &quot; year &quot;): EMPTY_STRING);\r\n            sb.append(months &gt; 0 ? months + (months &gt; 1 ? &quot; months &quot; : &quot; month &quot;): EMPTY_STRING);\r\n            sb.append(days &gt; 0 ? days + (days &gt; 1 ? &quot; days &quot; : &quot; day &quot;): EMPTY_STRING);\r\n            sb.append(hrs &gt; 0 ? hrs + (hrs &gt; 1 ? &quot; hours &quot; : &quot; hour &quot;): EMPTY_STRING);\r\n            sb.append(mins &gt; 0 ? mins + (mins &gt; 1 ? &quot; mins &quot; : &quot; min &quot;): EMPTY_STRING);\r\n            sb.append(secs &gt; 0 ? secs + (secs &gt; 1 ? &quot; secs &quot; : &quot; secs &quot;): EMPTY_STRING);\r\n            sb.append(&quot;ago&quot;);\r\n            return sb.toString();\r\n        }\r\n\r\nAnd as expected it prints: `7 days ago`.","title":"How to find the duration of difference between two dates in java?","body":"<p>I solved the similar problem using a simple method recently. </p>\n\n<pre><code>public static void main(String[] args) throws IOException, ParseException {\n        TimeZone utc = TimeZone.getTimeZone(\"UTC\");\n        Calendar calendar = Calendar.getInstance(utc);\n        Date until = calendar.getTime();\n        calendar.add(Calendar.DAY_OF_MONTH, -7);\n        Date since = calendar.getTime();\n        long durationInSeconds  = TimeUnit.MILLISECONDS.toSeconds(until.getTime() - since.getTime());\n\n        long SECONDS_IN_A_MINUTE = 60;\n        long MINUTES_IN_AN_HOUR = 60;\n        long HOURS_IN_A_DAY = 24;\n        long DAYS_IN_A_MONTH = 30;\n        long MONTHS_IN_A_YEAR = 12;\n\n        long sec = (durationInSeconds &gt;= SECONDS_IN_A_MINUTE) ? durationInSeconds % SECONDS_IN_A_MINUTE : durationInSeconds;\n        long min = (durationInSeconds /= SECONDS_IN_A_MINUTE) &gt;= MINUTES_IN_AN_HOUR ? durationInSeconds%MINUTES_IN_AN_HOUR : durationInSeconds;\n        long hrs = (durationInSeconds /= MINUTES_IN_AN_HOUR) &gt;= HOURS_IN_A_DAY ? durationInSeconds % HOURS_IN_A_DAY : durationInSeconds;\n        long days = (durationInSeconds /= HOURS_IN_A_DAY) &gt;= DAYS_IN_A_MONTH ? durationInSeconds % DAYS_IN_A_MONTH : durationInSeconds;\n        long months = (durationInSeconds /=DAYS_IN_A_MONTH) &gt;= MONTHS_IN_A_YEAR ? durationInSeconds % MONTHS_IN_A_YEAR : durationInSeconds;\n        long years = (durationInSeconds /= MONTHS_IN_A_YEAR);\n\n        String duration = getDuration(sec,min,hrs,days,months,years);\n        System.out.println(duration);\n    }\n    private static String getDuration(long secs, long mins, long hrs, long days, long months, long years) {\n        StringBuffer sb = new StringBuffer();\n        String EMPTY_STRING = \"\";\n        sb.append(years &gt; 0 ? years + (years &gt; 1 ? \" years \" : \" year \"): EMPTY_STRING);\n        sb.append(months &gt; 0 ? months + (months &gt; 1 ? \" months \" : \" month \"): EMPTY_STRING);\n        sb.append(days &gt; 0 ? days + (days &gt; 1 ? \" days \" : \" day \"): EMPTY_STRING);\n        sb.append(hrs &gt; 0 ? hrs + (hrs &gt; 1 ? \" hours \" : \" hour \"): EMPTY_STRING);\n        sb.append(mins &gt; 0 ? mins + (mins &gt; 1 ? \" mins \" : \" min \"): EMPTY_STRING);\n        sb.append(secs &gt; 0 ? secs + (secs &gt; 1 ? \" secs \" : \" secs \"): EMPTY_STRING);\n        sb.append(\"ago\");\n        return sb.toString();\n    }\n</code></pre>\n\n<p>And as expected it prints: <code>7 days ago</code>.</p>\n"},{"tags":[],"owner":{"account_id":12864724,"reputation":498,"user_id":9305386,"display_name":"Tarun Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547036525,"creation_date":1547036525,"answer_id":54110058,"question_id":17940200,"body_markdown":"with reference to shamim&#39;s answer update here is a method that does the task without using any third party library. Just copy the method and use\r\n\r\n    public static String getDurationTimeStamp(String date) {\r\n    \r\n            String timeDifference = &quot;&quot;;\r\n    \r\n            //date formatter as per the coder need\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    \r\n            //parse the string date-ti\r\n            // me to Date object\r\n            Date startDate = null;\r\n            try {\r\n                startDate = sdf.parse(date);\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            //end date will be the current system time to calculate the lapse time difference\r\n            //if needed, coder can add end date to whatever date\r\n            Date endDate = new Date();\r\n    \r\n            System.out.println(startDate);\r\n            System.out.println(endDate);\r\n    \r\n            //get the time difference in milliseconds\r\n            long duration = endDate.getTime() - startDate.getTime();\r\n    \r\n            //now we calculate the differences in different time units\r\n            //this long value will be the total time difference in each unit\r\n            //i.e; total difference in seconds, total difference in minutes etc...\r\n            long diffInSeconds = TimeUnit.MILLISECONDS.toSeconds(duration);\r\n            long diffInMinutes = TimeUnit.MILLISECONDS.toMinutes(duration);\r\n            long diffInHours = TimeUnit.MILLISECONDS.toHours(duration);\r\n            long diffInDays = TimeUnit.MILLISECONDS.toDays(duration);\r\n    \r\n            //now we create the time stamps depending on the value of each unit that we get\r\n            //as we do not have the unit in years,\r\n            //we will see if the days difference is more that 365 days, as 365 days = 1 year\r\n            if (diffInDays &gt; 365) {\r\n                //we get the year in integer not in float\r\n                //ex- 791/365 = 2.167 in float but it will be 2 years in int\r\n                int year = (int) (diffInDays / 365);\r\n                timeDifference = year + &quot; years ago&quot;;\r\n                System.out.println(year + &quot; years ago&quot;);\r\n            }\r\n            //if days are not enough to create year then get the days\r\n            else if (diffInDays &gt; 1) {\r\n                timeDifference = diffInDays + &quot; days ago&quot;;\r\n                System.out.println(diffInDays + &quot; days ago&quot;);\r\n            }\r\n            //if days value&lt;1 then get the hours\r\n            else if (diffInHours &gt; 1) {\r\n                timeDifference = diffInHours + &quot; hours ago&quot;;\r\n                System.out.println(diffInHours + &quot; hours ago&quot;);\r\n            }\r\n            //if hours value&lt;1 then get the minutes\r\n            else if (diffInMinutes &gt; 1) {\r\n                timeDifference = diffInMinutes + &quot; minutes ago&quot;;\r\n                System.out.println(diffInMinutes + &quot; minutes ago&quot;);\r\n            }\r\n            //if minutes value&lt;1 then get the seconds\r\n            else if (diffInSeconds &gt; 1) {\r\n                timeDifference = diffInSeconds + &quot; seconds ago&quot;;\r\n                System.out.println(diffInSeconds + &quot; seconds ago&quot;);\r\n            }\r\n    \r\n            return timeDifference;\r\n    // that&#39;s all. Happy Coding :)\r\n        }\r\n\r\n","title":"How to find the duration of difference between two dates in java?","body":"<p>with reference to shamim's answer update here is a method that does the task without using any third party library. Just copy the method and use</p>\n\n<pre><code>public static String getDurationTimeStamp(String date) {\n\n        String timeDifference = \"\";\n\n        //date formatter as per the coder need\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n\n        //parse the string date-ti\n        // me to Date object\n        Date startDate = null;\n        try {\n            startDate = sdf.parse(date);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n        //end date will be the current system time to calculate the lapse time difference\n        //if needed, coder can add end date to whatever date\n        Date endDate = new Date();\n\n        System.out.println(startDate);\n        System.out.println(endDate);\n\n        //get the time difference in milliseconds\n        long duration = endDate.getTime() - startDate.getTime();\n\n        //now we calculate the differences in different time units\n        //this long value will be the total time difference in each unit\n        //i.e; total difference in seconds, total difference in minutes etc...\n        long diffInSeconds = TimeUnit.MILLISECONDS.toSeconds(duration);\n        long diffInMinutes = TimeUnit.MILLISECONDS.toMinutes(duration);\n        long diffInHours = TimeUnit.MILLISECONDS.toHours(duration);\n        long diffInDays = TimeUnit.MILLISECONDS.toDays(duration);\n\n        //now we create the time stamps depending on the value of each unit that we get\n        //as we do not have the unit in years,\n        //we will see if the days difference is more that 365 days, as 365 days = 1 year\n        if (diffInDays &gt; 365) {\n            //we get the year in integer not in float\n            //ex- 791/365 = 2.167 in float but it will be 2 years in int\n            int year = (int) (diffInDays / 365);\n            timeDifference = year + \" years ago\";\n            System.out.println(year + \" years ago\");\n        }\n        //if days are not enough to create year then get the days\n        else if (diffInDays &gt; 1) {\n            timeDifference = diffInDays + \" days ago\";\n            System.out.println(diffInDays + \" days ago\");\n        }\n        //if days value&lt;1 then get the hours\n        else if (diffInHours &gt; 1) {\n            timeDifference = diffInHours + \" hours ago\";\n            System.out.println(diffInHours + \" hours ago\");\n        }\n        //if hours value&lt;1 then get the minutes\n        else if (diffInMinutes &gt; 1) {\n            timeDifference = diffInMinutes + \" minutes ago\";\n            System.out.println(diffInMinutes + \" minutes ago\");\n        }\n        //if minutes value&lt;1 then get the seconds\n        else if (diffInSeconds &gt; 1) {\n            timeDifference = diffInSeconds + \" seconds ago\";\n            System.out.println(diffInSeconds + \" seconds ago\");\n        }\n\n        return timeDifference;\n// that's all. Happy Coding :)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7780006,"reputation":974,"user_id":5886712,"accept_rate":36,"display_name":"Tarit Ray"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1549266565,"creation_date":1549266565,"answer_id":54511966,"question_id":17940200,"body_markdown":"It worked for me can try with this, hope it will be helpful . Let me know if any concern .\r\n\r\n    Date startDate = java.util.Calendar.getInstance().getTime(); //set your start time\r\n    Date endDate = java.util.Calendar.getInstance().getTime(); // set  your end time\r\n\r\n    long duration = endDate.getTime() - startDate.getTime();\r\n\r\n\r\n    long diffInSeconds = TimeUnit.MILLISECONDS.toSeconds(duration);\r\n    long diffInMinutes = TimeUnit.MILLISECONDS.toMinutes(duration);\r\n    long diffInHours = TimeUnit.MILLISECONDS.toHours(duration);\r\n    long diffInDays = TimeUnit.MILLISECONDS.toDays(duration);\r\n\r\n    Toast.makeText(MainActivity.this, &quot;Diff&quot;\r\n            + duration + diffInDays + diffInHours + diffInMinutes + diffInSeconds, Toast.LENGTH_SHORT).show(); **// Toast message for android .**\r\n\r\n    System.out.println(&quot;Diff&quot; + duration + diffInDays + diffInHours + diffInMinutes + diffInSeconds); **// Print console message for Java .**","title":"How to find the duration of difference between two dates in java?","body":"<p>It worked for me can try with this, hope it will be helpful . Let me know if any concern .</p>\n\n<pre><code>Date startDate = java.util.Calendar.getInstance().getTime(); //set your start time\nDate endDate = java.util.Calendar.getInstance().getTime(); // set  your end time\n\nlong duration = endDate.getTime() - startDate.getTime();\n\n\nlong diffInSeconds = TimeUnit.MILLISECONDS.toSeconds(duration);\nlong diffInMinutes = TimeUnit.MILLISECONDS.toMinutes(duration);\nlong diffInHours = TimeUnit.MILLISECONDS.toHours(duration);\nlong diffInDays = TimeUnit.MILLISECONDS.toDays(duration);\n\nToast.makeText(MainActivity.this, \"Diff\"\n        + duration + diffInDays + diffInHours + diffInMinutes + diffInSeconds, Toast.LENGTH_SHORT).show(); **// Toast message for android .**\n\nSystem.out.println(\"Diff\" + duration + diffInDays + diffInHours + diffInMinutes + diffInSeconds); **// Print console message for Java .**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597819671,"creation_date":1597819671,"answer_id":63481437,"question_id":17940200,"body_markdown":"## java.time.Duration\r\n\r\nI still didnt feel any of the answers was quite up to date and to the point. So here is the modern answer using `Duration` from java.time, the modern Java date and time API (the answers by MayurB and mkobit mention the same class, but none of them correctly converts to days, hours, minutes and minutes as asked).\r\n\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yy/MM/dd HH:mm:ss&quot;);\r\n\t\t\r\n\t\tString dateStart = &quot;11/03/14 09:29:58&quot;;\r\n\t    String dateStop = &quot;11/03/14 09:33:43&quot;;\r\n\r\n\t    ZoneId zone = ZoneId.systemDefault();\r\n\t\tZonedDateTime startDateTime = LocalDateTime.parse(dateStart, formatter).atZone(zone);\r\n\t\tZonedDateTime endDateTime = LocalDateTime.parse(dateStop, formatter).atZone(zone);\r\n\t    \r\n\t\tDuration diff = Duration.between(startDateTime, endDateTime);\r\n\t\tif (diff.isZero()) {\r\n\t\t\tSystem.out.println(&quot;0 minutes&quot;);\r\n\t\t} else {\r\n\t\t\tlong days = diff.toDays();\r\n\t\t\tif (days != 0) {\r\n\t\t\t\tSystem.out.print(&quot;&quot; + days + &quot; days &quot;);\r\n\t\t\t\tdiff = diff.minusDays(days);\r\n\t\t\t}\r\n\t\t\tlong hours = diff.toHours();\r\n\t\t\tif (hours != 0) {\r\n\t\t\t\tSystem.out.print(&quot;&quot; + hours + &quot; hours &quot;);\r\n\t\t\t\tdiff = diff.minusHours(hours);\r\n\t\t\t}\r\n\t\t\tlong minutes = diff.toMinutes();\r\n\t\t\tif (minutes != 0) {\r\n\t\t\t\tSystem.out.print(&quot;&quot; + minutes + &quot; minutes &quot;);\r\n\t\t\t\tdiff = diff.minusMinutes(minutes);\r\n\t\t\t}\r\n\t\t\tlong seconds = diff.getSeconds();\r\n\t\t\tif (seconds != 0) {\r\n\t\t\t\tSystem.out.print(&quot;&quot; + seconds + &quot; seconds &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\r\nOutput from this example snippet is:\r\n\r\n&gt; 3 minutes 45 seconds \r\n\r\nNote that `Duration` always counts a day as 24 hours. If you want to treat time anomalies like summer time transistions differently, solutions inlcude (1) use `ChronoUnit.DAYS` (2) Use `Period` (3) `Use `LocalDateTime` instead of `ZonedDateTime` (may be considered a hack).\r\n\r\nThe code above works with Java 8 and with ThreeTen Backport, that backport of java.time to Java 6 and 7. From Java 9 it may be possible to write it a bit more nicely using the methods `toHoursPart`, `toMinutesPart` and `toSecondsPart` added there.\r\n\r\nI will elaborate the explanations further one of the days when I get time, maybe not until next week.","title":"How to find the duration of difference between two dates in java?","body":"<h2>java.time.Duration</h2>\n<p>I still didnt feel any of the answers was quite up to date and to the point. So here is the modern answer using <code>Duration</code> from java.time, the modern Java date and time API (the answers by MayurB and mkobit mention the same class, but none of them correctly converts to days, hours, minutes and minutes as asked).</p>\n<pre><code>    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yy/MM/dd HH:mm:ss&quot;);\n    \n    String dateStart = &quot;11/03/14 09:29:58&quot;;\n    String dateStop = &quot;11/03/14 09:33:43&quot;;\n\n    ZoneId zone = ZoneId.systemDefault();\n    ZonedDateTime startDateTime = LocalDateTime.parse(dateStart, formatter).atZone(zone);\n    ZonedDateTime endDateTime = LocalDateTime.parse(dateStop, formatter).atZone(zone);\n    \n    Duration diff = Duration.between(startDateTime, endDateTime);\n    if (diff.isZero()) {\n        System.out.println(&quot;0 minutes&quot;);\n    } else {\n        long days = diff.toDays();\n        if (days != 0) {\n            System.out.print(&quot;&quot; + days + &quot; days &quot;);\n            diff = diff.minusDays(days);\n        }\n        long hours = diff.toHours();\n        if (hours != 0) {\n            System.out.print(&quot;&quot; + hours + &quot; hours &quot;);\n            diff = diff.minusHours(hours);\n        }\n        long minutes = diff.toMinutes();\n        if (minutes != 0) {\n            System.out.print(&quot;&quot; + minutes + &quot; minutes &quot;);\n            diff = diff.minusMinutes(minutes);\n        }\n        long seconds = diff.getSeconds();\n        if (seconds != 0) {\n            System.out.print(&quot;&quot; + seconds + &quot; seconds &quot;);\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>Output from this example snippet is:</p>\n<blockquote>\n<p>3 minutes 45 seconds</p>\n</blockquote>\n<p>Note that <code>Duration</code> always counts a day as 24 hours. If you want to treat time anomalies like summer time transistions differently, solutions inlcude (1) use <code>ChronoUnit.DAYS</code> (2) Use <code>Period</code> (3) <code>Use </code>LocalDateTime<code>instead of</code>ZonedDateTime` (may be considered a hack).</p>\n<p>The code above works with Java 8 and with ThreeTen Backport, that backport of java.time to Java 6 and 7. From Java 9 it may be possible to write it a bit more nicely using the methods <code>toHoursPart</code>, <code>toMinutesPart</code> and <code>toSecondsPart</code> added there.</p>\n<p>I will elaborate the explanations further one of the days when I get time, maybe not until next week.</p>\n"},{"tags":[],"owner":{"account_id":16207936,"reputation":1,"user_id":11702694,"display_name":"Vikram Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606204682,"creation_date":1606204682,"answer_id":64982318,"question_id":17940200,"body_markdown":"**You can get the difference between two DateTime using this**\r\n\r\n    DateTime startDate = DateTime.now();\r\n    DateTime endDate = DateTime.now();\r\n    Days daysBetween = Days.daysBetween(startDate, endDate);\r\n    System.out.println(daysBetween.toStandardSeconds());\r\n\r\n","title":"How to find the duration of difference between two dates in java?","body":"<p><strong>You can get the difference between two DateTime using this</strong></p>\n<pre><code>DateTime startDate = DateTime.now();\nDateTime endDate = DateTime.now();\nDays daysBetween = Days.daysBetween(startDate, endDate);\nSystem.out.println(daysBetween.toStandardSeconds());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10490160,"reputation":522,"user_id":7732342,"display_name":"Swapnil Pasarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619611130,"creation_date":1619611130,"answer_id":67299822,"question_id":17940200,"body_markdown":"**The below code will give the difference between two DateTime (Will work in Java 8 and above)**\r\n\r\n    private long countDaysBetween(LocalDateTime startDate, LocalDateTime enddate)\r\n\t{\r\n\t\tif(startDate == null || enddate == null)\r\n\t\t{\r\n\t\t\tthrow new IllegalArgumentException(&quot;No such a date&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tlong daysBetween = ChronoUnit.DAYS.between(startDate, enddate);\r\n\t\t\r\n\t\treturn daysBetween;\r\n\t}","title":"How to find the duration of difference between two dates in java?","body":"<p><strong>The below code will give the difference between two DateTime (Will work in Java 8 and above)</strong></p>\n<pre><code>private long countDaysBetween(LocalDateTime startDate, LocalDateTime enddate)\n{\n    if(startDate == null || enddate == null)\n    {\n        throw new IllegalArgumentException(&quot;No such a date&quot;);\n    }\n    \n    long daysBetween = ChronoUnit.DAYS.between(startDate, enddate);\n    \n    return daysBetween;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10915331,"reputation":1673,"user_id":11146632,"display_name":"Sujit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638104646,"creation_date":1638104646,"answer_id":70143683,"question_id":17940200,"body_markdown":"If anyone wants a string with all of them together, this function can be used.\r\n\r\n```java\r\nString getTimeDifference(long duration) {\r\n    StringBuilder timeRemaining = new StringBuilder();\r\n\r\n    long days = TimeUnit.MILLISECONDS.toDays(duration);\r\n    if (days &gt;= 1) {\r\n        timeRemaining.append(days).append((days == 1) ? &quot; day &quot; : &quot; days &quot;);\r\n    }\r\n\r\n    duration -= TimeUnit.DAYS.toMillis(days);\r\n    long hours = TimeUnit.MILLISECONDS.toHours(duration);\r\n    if (hours &gt;= 1) {\r\n        timeRemaining.append(hours).append((hours == 1) ? &quot; hour &quot; : &quot; hours &quot;);\r\n    }\r\n\r\n    duration -= TimeUnit.HOURS.toMillis(hours);\r\n    long minutes = TimeUnit.MILLISECONDS.toMinutes(duration);\r\n    if (minutes &gt;= 1) {\r\n        timeRemaining.append(minutes).append((hours == 1) ? &quot; minute &quot; : &quot; minutes &quot;);\r\n    }\r\n        \r\n    return timeRemaining.toString().trim();\r\n}\r\n```","title":"How to find the duration of difference between two dates in java?","body":"<p>If anyone wants a string with all of them together, this function can be used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String getTimeDifference(long duration) {\n    StringBuilder timeRemaining = new StringBuilder();\n\n    long days = TimeUnit.MILLISECONDS.toDays(duration);\n    if (days &gt;= 1) {\n        timeRemaining.append(days).append((days == 1) ? &quot; day &quot; : &quot; days &quot;);\n    }\n\n    duration -= TimeUnit.DAYS.toMillis(days);\n    long hours = TimeUnit.MILLISECONDS.toHours(duration);\n    if (hours &gt;= 1) {\n        timeRemaining.append(hours).append((hours == 1) ? &quot; hour &quot; : &quot; hours &quot;);\n    }\n\n    duration -= TimeUnit.HOURS.toMillis(hours);\n    long minutes = TimeUnit.MILLISECONDS.toMinutes(duration);\n    if (minutes &gt;= 1) {\n        timeRemaining.append(minutes).append((hours == 1) ? &quot; minute &quot; : &quot; minutes &quot;);\n    }\n        \n    return timeRemaining.toString().trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27504770,"reputation":1,"user_id":20987713,"display_name":"santosh m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677683437,"creation_date":1677683437,"answer_id":75605577,"question_id":17940200,"body_markdown":"    import java.time.Duration;\r\n     import java.time.Instant;\r\n\r\n    public class Timedifference {\r\n    public static void main(String[] args) \r\n    {\r\n        // Check if all time stamps are \r\n     within 45 seconds of other\r\n\r\n        Instant[] timestamps = new \r\n     Instant[8];\r\n        timestamps[0] = Instant.now();\r\n        timestamps[1] = \r\n     timestamps[0].plusSeconds(20);\r\n        timestamps[2] = \r\n      timestamps[1].plusSeconds(30);\r\n        timestamps[3] = \r\n       timestamps[2].plusSeconds(10);\r\n        timestamps[4] = \r\n      timestamps[3].plusSeconds(5);\r\n        timestamps[5] = \r\n     timestamps[4].plusSeconds(15);\r\n        timestamps[6] = \r\n      timestamps[5].plusSeconds(20);\r\n        timestamps[7] = \r\n     timestamps[6].plusSeconds(10);\r\n\r\n        // Check if all timestamps are \r\n      within 45 seconds of the first \r\n      timestamp\r\n        Duration maxDuration = \r\n     Duration.ofSeconds(45);\r\n        boolean areWithin45Seconds = true;\r\n        for (int i = 1; i &lt; \r\n      timestamps.length; i++) {\r\n            Duration duration = \r\n      Duration.between(timestamps[0], \r\n     timestamps[i]);\r\n            if \r\n     (Math.abs(duration.getSeconds()) &gt; \r\n       maxDuration.getSeconds()) {\r\n                areWithin45Seconds = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (areWithin45Seconds) {\r\n            System.out.println(&quot;the given\r\n     timestamps are within 45 seconds of \r\n      each other.&quot;);\r\n        } else {\r\n            System.out.println(&quot;the given \r\n      Not all timestamps are within 45 \r\n       seconds of each other.&quot;);\r\n        }\r\n    }\r\n     }\r\n","title":"How to find the duration of difference between two dates in java?","body":"<pre><code>import java.time.Duration;\n import java.time.Instant;\n\npublic class Timedifference {\npublic static void main(String[] args) \n{\n    // Check if all time stamps are \n within 45 seconds of other\n\n    Instant[] timestamps = new \n Instant[8];\n    timestamps[0] = Instant.now();\n    timestamps[1] = \n timestamps[0].plusSeconds(20);\n    timestamps[2] = \n  timestamps[1].plusSeconds(30);\n    timestamps[3] = \n   timestamps[2].plusSeconds(10);\n    timestamps[4] = \n  timestamps[3].plusSeconds(5);\n    timestamps[5] = \n timestamps[4].plusSeconds(15);\n    timestamps[6] = \n  timestamps[5].plusSeconds(20);\n    timestamps[7] = \n timestamps[6].plusSeconds(10);\n\n    // Check if all timestamps are \n  within 45 seconds of the first \n  timestamp\n    Duration maxDuration = \n Duration.ofSeconds(45);\n    boolean areWithin45Seconds = true;\n    for (int i = 1; i &lt; \n  timestamps.length; i++) {\n        Duration duration = \n  Duration.between(timestamps[0], \n timestamps[i]);\n        if \n (Math.abs(duration.getSeconds()) &gt; \n   maxDuration.getSeconds()) {\n            areWithin45Seconds = false;\n            break;\n        }\n    }\n\n    if (areWithin45Seconds) {\n        System.out.println(&quot;the given\n timestamps are within 45 seconds of \n  each other.&quot;);\n    } else {\n        System.out.println(&quot;the given \n  Not all timestamps are within 45 \n   seconds of each other.&quot;);\n    }\n}\n }\n</code></pre>\n"}],"owner":{"account_id":2544346,"reputation":1944,"user_id":2209477,"accept_rate":78,"display_name":"J888"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439679,"favorite_count":0,"down_vote_count":1,"up_vote_count":121,"accepted_answer_id":19887135,"answer_count":19,"score":120,"last_activity_date":1677683437,"creation_date":1375167311,"question_id":17940200,"body_markdown":"I have two objects of **DateTime**, which need to find the **duration of their difference**, \r\n\r\nI have the following code but not sure how to continue it to get to the expected results as following:\r\n\r\n**Example**:\r\n\r\n          11/03/14 09:30:58\r\n          11/03/14 09:33:43\r\n          elapsed time is 02 minutes and 45 seconds\r\n          -----------------------------------------------------\r\n          11/03/14 09:30:58 \r\n          11/03/15 09:30:58\r\n          elapsed time is a day\r\n          -----------------------------------------------------\r\n          11/03/14 09:30:58 \r\n          11/03/16 09:30:58\r\n          elapsed time is two days\r\n          -----------------------------------------------------\r\n          11/03/14 09:30:58 \r\n          11/03/16 09:35:58\r\n          elapsed time is two days and 05 minutes\r\n          \r\n\r\n**Code**: \r\n\r\n        String dateStart = &quot;11/03/14 09:29:58&quot;;\r\n        String dateStop = &quot;11/03/14 09:33:43&quot;;\r\n\r\n        Custom date format\r\n        SimpleDateFormat format = new SimpleDateFormat(&quot;yy/MM/dd HH:mm:ss&quot;);\r\n\r\n        Date d1 = null;\r\n        Date d2 = null;\r\n        try {\r\n            d1 = format.parse(dateStart);\r\n            d2 = format.parse(dateStop);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // Get msec from each, and subtract.\r\n        long diff = d2.getTime() - d1.getTime();\r\n        long diffSeconds = diff / 1000 % 60;\r\n        long diffMinutes = diff / (60 * 1000) % 60;\r\n        long diffHours = diff / (60 * 60 * 1000);\r\n        System.out.println(&quot;Time in seconds: &quot; + diffSeconds + &quot; seconds.&quot;);\r\n        System.out.println(&quot;Time in minutes: &quot; + diffMinutes + &quot; minutes.&quot;);\r\n        System.out.println(&quot;Time in hours: &quot; + diffHours + &quot; hours.&quot;);\r\n","title":"How to find the duration of difference between two dates in java?","body":"<p>I have two objects of <strong>DateTime</strong>, which need to find the <strong>duration of their difference</strong>,</p>\n<p>I have the following code but not sure how to continue it to get to the expected results as following:</p>\n<p><strong>Example</strong>:</p>\n<pre><code>      11/03/14 09:30:58\n      11/03/14 09:33:43\n      elapsed time is 02 minutes and 45 seconds\n      -----------------------------------------------------\n      11/03/14 09:30:58 \n      11/03/15 09:30:58\n      elapsed time is a day\n      -----------------------------------------------------\n      11/03/14 09:30:58 \n      11/03/16 09:30:58\n      elapsed time is two days\n      -----------------------------------------------------\n      11/03/14 09:30:58 \n      11/03/16 09:35:58\n      elapsed time is two days and 05 minutes\n      \n</code></pre>\n<p><strong>Code</strong>:</p>\n<pre><code>    String dateStart = &quot;11/03/14 09:29:58&quot;;\n    String dateStop = &quot;11/03/14 09:33:43&quot;;\n\n    Custom date format\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yy/MM/dd HH:mm:ss&quot;);\n\n    Date d1 = null;\n    Date d2 = null;\n    try {\n        d1 = format.parse(dateStart);\n        d2 = format.parse(dateStop);\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n\n    // Get msec from each, and subtract.\n    long diff = d2.getTime() - d1.getTime();\n    long diffSeconds = diff / 1000 % 60;\n    long diffMinutes = diff / (60 * 1000) % 60;\n    long diffHours = diff / (60 * 60 * 1000);\n    System.out.println(&quot;Time in seconds: &quot; + diffSeconds + &quot; seconds.&quot;);\n    System.out.println(&quot;Time in minutes: &quot; + diffMinutes + &quot; minutes.&quot;);\n    System.out.println(&quot;Time in hours: &quot; + diffHours + &quot; hours.&quot;);\n</code></pre>\n"},{"tags":["java","rest","get","httprequest","httpclient"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677604427,"post_id":75595181,"comment_id":133369403,"body_markdown":"Why not read the headers from a properties file in the classpath?","body":"Why not read the headers from a properties file in the classpath?"},{"owner":{"account_id":26175427,"reputation":3,"user_id":21305967,"display_name":"Bhuvan M"},"score":0,"creation_date":1677605499,"post_id":75595181,"comment_id":133369675,"body_markdown":"@g00se could you elaborate? If possible write the code please.","body":"@g00se could you elaborate? If possible write the code please."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677606878,"creation_date":1677606878,"answer_id":75595668,"question_id":75595181,"body_markdown":"I meant something like this:\r\n\r\n        public void load() {\r\n            try (InputStream in = getClass().getResourceAsStream(&quot;/x.properties&quot;)) {\r\n                Properties p = new Properties();\r\n                p.load(in);\r\n                Map&lt;String, String&gt; m = new HashMap&lt;&gt;();\r\n                p.entrySet().stream().forEach(e -&gt; m.put(e.getKey().toString(), e.getValue().toString()));\r\n    \r\n                func2(m);\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n       }\r\n\r\nYou should declare the method to throw the exception (mine was boilerplate)","title":"How do I pass the Map key value pairs in HttpRequest header?","body":"<p>I meant something like this:</p>\n<pre><code>    public void load() {\n        try (InputStream in = getClass().getResourceAsStream(&quot;/x.properties&quot;)) {\n            Properties p = new Properties();\n            p.load(in);\n            Map&lt;String, String&gt; m = new HashMap&lt;&gt;();\n            p.entrySet().stream().forEach(e -&gt; m.put(e.getKey().toString(), e.getValue().toString()));\n\n            func2(m);\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n   }\n</code></pre>\n<p>You should declare the method to throw the exception (mine was boilerplate)</p>\n"},{"tags":[],"owner":{"account_id":5598415,"reputation":401,"user_id":4435369,"display_name":"roopikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677683352,"creation_date":1677608193,"answer_id":75595860,"question_id":75595181,"body_markdown":"You can either flatten map or loop through map to build the header\r\n\r\nSuppose your Headers Map is \r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; headers = new HashMap&lt;&gt;();\r\n    headers.put(&quot;header1&quot;, Arrays.asList(&quot;a&quot;, &quot;b&quot;));\r\n    headers.put(&quot;header2&quot;, Arrays.asList(&quot;c&quot;));\r\n    headers.put(&quot;header3&quot;, Arrays.asList(&quot;d&quot;));\r\n\r\nYou can flatten the map to extract the headers from Map\r\n\r\n \r\n\r\n    void funcX(Map&lt;String, List&lt;String&gt;&gt; headerParams) throws URISyntaxException {\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                             .uri(new URI(&quot;some url&quot;))\r\n                             .headers(flattenHeaders(headerParams))\r\n                             .GET()\r\n                             .build();\r\n    }\r\n\r\n    String[] flattenHeaders(Map&lt;String, List&lt;String&gt;&gt; headersMap) {\r\n        return headersMap.entrySet().stream().flatMap(x -&gt;\r\n                x.getValue().stream().flatMap(y -&gt; Stream.of(x.getKey(), y))).toArray(String[]::new);\r\n    }\r\n\r\nAnother way would be just loop through the map to build the header\r\n\r\n    void funcY(Map&lt;String, List&lt;String&gt;&gt; headerParams) throws URISyntaxException {\r\n      HttpRequest request = getBuilder(HttpRequest.newBuilder().uri(new URI(&quot;some url&quot;)), headerParams)\r\n                            .GET()\r\n                            .build();\r\n            }\r\n        \r\n    HttpRequest.Builder getBuilder(HttpRequest.Builder builder, Map&lt;String, List&lt;String&gt;&gt; headerParams){\r\n                    for (Map.Entry&lt;String, List&lt;String&gt;&gt; e : headerParams.entrySet()) {\r\n                        for (String value : e.getValue()) {\r\n                            builder.header(e.getKey(), value);\r\n                        }\r\n                    }\r\n                    return builder;\r\n                }\r\n\r\n Prefer the first one over the second approach.       ","title":"How do I pass the Map key value pairs in HttpRequest header?","body":"<p>You can either flatten map or loop through map to build the header</p>\n<p>Suppose your Headers Map is</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; headers = new HashMap&lt;&gt;();\nheaders.put(&quot;header1&quot;, Arrays.asList(&quot;a&quot;, &quot;b&quot;));\nheaders.put(&quot;header2&quot;, Arrays.asList(&quot;c&quot;));\nheaders.put(&quot;header3&quot;, Arrays.asList(&quot;d&quot;));\n</code></pre>\n<p>You can flatten the map to extract the headers from Map</p>\n<pre><code>void funcX(Map&lt;String, List&lt;String&gt;&gt; headerParams) throws URISyntaxException {\n    HttpRequest request = HttpRequest.newBuilder()\n                         .uri(new URI(&quot;some url&quot;))\n                         .headers(flattenHeaders(headerParams))\n                         .GET()\n                         .build();\n}\n\nString[] flattenHeaders(Map&lt;String, List&lt;String&gt;&gt; headersMap) {\n    return headersMap.entrySet().stream().flatMap(x -&gt;\n            x.getValue().stream().flatMap(y -&gt; Stream.of(x.getKey(), y))).toArray(String[]::new);\n}\n</code></pre>\n<p>Another way would be just loop through the map to build the header</p>\n<pre><code>void funcY(Map&lt;String, List&lt;String&gt;&gt; headerParams) throws URISyntaxException {\n  HttpRequest request = getBuilder(HttpRequest.newBuilder().uri(new URI(&quot;some url&quot;)), headerParams)\n                        .GET()\n                        .build();\n        }\n    \nHttpRequest.Builder getBuilder(HttpRequest.Builder builder, Map&lt;String, List&lt;String&gt;&gt; headerParams){\n                for (Map.Entry&lt;String, List&lt;String&gt;&gt; e : headerParams.entrySet()) {\n                    for (String value : e.getValue()) {\n                        builder.header(e.getKey(), value);\n                    }\n                }\n                return builder;\n            }\n</code></pre>\n<p>Prefer the first one over the second approach.</p>\n"}],"owner":{"account_id":26175427,"reputation":3,"user_id":21305967,"display_name":"Bhuvan M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1042,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75595860,"answer_count":2,"score":0,"last_activity_date":1677683352,"creation_date":1677603891,"question_id":75595181,"body_markdown":"i want to send as many header key value as i want. which means i dont know how many header key value i would be passing beforehand.\r\nI think using .header() or .headers() wont work because to use this i need to know the number of header key value pair i would be putting when I&#39;m writing the code itself and i can&#39;t make change unless i change the code itself.\r\n\r\nfor example :\r\nfor the first time, i may just set &quot;Content-Type&quot; header.\r\nfor the second time, i may want to set &quot;Content-type&quot; and &quot;Authorization&quot; header.\r\n\r\nI have provided a simple sample code for your reference.\r\n\r\n\r\n```\r\nvoid func(Map&lt;String,String&gt; headerParams) {\r\n         HttpRequest request = HttpRequest.newBuilder()\r\n\t\t\t\t.uri(URI.create(someURL))\r\n\t\t\t\t.headers(headerParams)\r\n\t\t\t\t.method(&quot;GET&quot;,HttpRequest.BodyPublishers.noBody())\r\n\t\t\t\t.build();\r\n\r\n         //some other code goes here\r\n\r\n}\r\n\r\nvoid func2(){\r\n        Map&lt;String,String&gt; headerParams = new HashMap&lt;&gt;();\r\n        //code that goes here will put necessary header key value pair by asking the user\r\n        func(headerParams);\r\n\r\n}\r\n```\r\n","title":"How do I pass the Map key value pairs in HttpRequest header?","body":"<p>i want to send as many header key value as i want. which means i dont know how many header key value i would be passing beforehand.\nI think using .header() or .headers() wont work because to use this i need to know the number of header key value pair i would be putting when I'm writing the code itself and i can't make change unless i change the code itself.</p>\n<p>for example :\nfor the first time, i may just set &quot;Content-Type&quot; header.\nfor the second time, i may want to set &quot;Content-type&quot; and &quot;Authorization&quot; header.</p>\n<p>I have provided a simple sample code for your reference.</p>\n<pre><code>void func(Map&lt;String,String&gt; headerParams) {\n         HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(someURL))\n                .headers(headerParams)\n                .method(&quot;GET&quot;,HttpRequest.BodyPublishers.noBody())\n                .build();\n\n         //some other code goes here\n\n}\n\nvoid func2(){\n        Map&lt;String,String&gt; headerParams = new HashMap&lt;&gt;();\n        //code that goes here will put necessary header key value pair by asking the user\n        func(headerParams);\n\n}\n</code></pre>\n"},{"tags":["java","android","menuitem","android-navigationview"],"owner":{"account_id":27904292,"reputation":1,"user_id":21307855,"display_name":"dan96kid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677683250,"creation_date":1677627999,"question_id":75598375,"body_markdown":"I am working on a `Navbar` thing that uses a `NavigationView` and a menu resource. I want to change the background color of a `MenuItem` based on if its id matches a string.\r\n\r\nI&#39;ve tried using `setActionView()`, and using `setCheckable()` and `setChecked()`.\r\n\r\n`setActionView()` did absolutely nothing, and `setChacked()` only effected the text.","title":"How to programmatically set the background color of a MenuItem based on specified conditions?","body":"<p>I am working on a <code>Navbar</code> thing that uses a <code>NavigationView</code> and a menu resource. I want to change the background color of a <code>MenuItem</code> based on if its id matches a string.</p>\n<p>I've tried using <code>setActionView()</code>, and using <code>setCheckable()</code> and <code>setChecked()</code>.</p>\n<p><code>setActionView()</code> did absolutely nothing, and <code>setChacked()</code> only effected the text.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","model-view-controller"],"comments":[{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1677338269,"post_id":75565819,"comment_id":133320023,"body_markdown":"You could try adding thymeleaf dependency in pom.xml and then try...basically check if you have a view resolver","body":"You could try adding thymeleaf dependency in pom.xml and then try...basically check if you have a view resolver"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677338294,"post_id":75565819,"comment_id":133320029,"body_markdown":"(1) `home.html`  , your code use  `/body&gt;`  , it should be &lt;/body&gt; (2) Your code is OK. Nothig Wrong. I am not change anything. It all ok. (3) `curl http://localhost:8080` , return home.html content.","body":"(1) <code>home.html</code>  , your code use  <code>&#47;body&gt;</code>  , it should be &lt;/body&gt; (2) Your code is OK. Nothig Wrong. I am not change anything. It all ok. (3) <code>curl http:&#47;&#47;localhost:8080</code> , return home.html content."},{"owner":{"account_id":27166108,"reputation":13,"user_id":20703610,"display_name":"Splotchy"},"score":0,"creation_date":1677339993,"post_id":75565819,"comment_id":133320272,"body_markdown":"@life888888 Yeah thanks for pointing out me mistake in the markup, i figured that might be the reason because it wouldn&#39;t compile, but even after fixing it, it didn&#39;t work... i am so lost as to why, everything points to it working.","body":"@life888888 Yeah thanks for pointing out me mistake in the markup, i figured that might be the reason because it wouldn&#39;t compile, but even after fixing it, it didn&#39;t work... i am so lost as to why, everything points to it working."},{"owner":{"account_id":27166108,"reputation":13,"user_id":20703610,"display_name":"Splotchy"},"score":0,"creation_date":1677340128,"post_id":75565819,"comment_id":133320290,"body_markdown":"@GlennQuagmire Believe it or not, but its already added on my pom.xml, this is making me lose hair....","body":"@GlennQuagmire Believe it or not, but its already added on my pom.xml, this is making me lose hair...."},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1677366714,"post_id":75565819,"comment_id":133324571,"body_markdown":"you could try changing the request mapping and see, by default the path is &quot;/&quot; and you have explicitly mentioned mapping as &quot;/&quot;. for your method maybe change it to something else like &quot;/test&quot; and try.","body":"you could try changing the request mapping and see, by default the path is &quot;/&quot; and you have explicitly mentioned mapping as &quot;/&quot;. for your method maybe change it to something else like &quot;/test&quot; and try."},{"owner":{"account_id":27166108,"reputation":13,"user_id":20703610,"display_name":"Splotchy"},"score":0,"creation_date":1677372004,"post_id":75565819,"comment_id":133325150,"body_markdown":"@GlennQuagmire I did, i added an entirely different handler with the mapping /home and nothing. I also tried creating a new project, and this time storing the HTML file in the template folder where Spring Boot auto-defaults to, and nothing. 404s everywhere. I believe it may not even be entering the mapping method for some reason.","body":"@GlennQuagmire I did, i added an entirely different handler with the mapping /home and nothing. I also tried creating a new project, and this time storing the HTML file in the template folder where Spring Boot auto-defaults to, and nothing. 404s everywhere. I believe it may not even be entering the mapping method for some reason."}],"answers":[{"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677338159,"creation_date":1677338159,"answer_id":75566376,"question_id":75565819,"body_markdown":"Here are a few things to look into:\r\n\r\n 1. Check that your home.html file is in the correct folder. In your application.properties file, you specified that the view files are in the &quot;/view/&quot; folder within the webapp folder. As a result, ensure that your home.html file is in the &quot;/webapp/view/&quot; folder.\r\n\r\n2. Check to see if your application is set up correctly to serve static resources. If not, add the line below to your application. file with properties:\r\n\r\n```\r\nspring.mvc.static-path-pattern=/resources/**\r\nspring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/\r\n```\r\n\r\nThis configuration ensures that your application serves static resources from the locations specified.\r\n\r\n3. If you&#39;re still having problems, try modifying your home method to return the full path to the home.html file, as shown below:\r\n```\r\n@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\npublic String home() {\r\nreturn &quot;/view/home.html&quot;;\r\n}\r\n```\r\n\r\nThis should make it possible for your application to find the home.html file.","title":"My simple Spring Boot app isn&#39;t returning the webpage","body":"<p>Here are a few things to look into:</p>\n<ol>\n<li><p>Check that your home.html file is in the correct folder. In your application.properties file, you specified that the view files are in the &quot;/view/&quot; folder within the webapp folder. As a result, ensure that your home.html file is in the &quot;/webapp/view/&quot; folder.</p>\n</li>\n<li><p>Check to see if your application is set up correctly to serve static resources. If not, add the line below to your application. file with properties:</p>\n</li>\n</ol>\n<pre><code>spring.mvc.static-path-pattern=/resources/**\nspring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/\n</code></pre>\n<p>This configuration ensures that your application serves static resources from the locations specified.</p>\n<ol start=\"3\">\n<li>If you're still having problems, try modifying your home method to return the full path to the home.html file, as shown below:</li>\n</ol>\n<pre><code>@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\npublic String home() {\nreturn &quot;/view/home.html&quot;;\n}\n</code></pre>\n<p>This should make it possible for your application to find the home.html file.</p>\n"}],"owner":{"account_id":27166108,"reputation":13,"user_id":20703610,"display_name":"Splotchy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75566376,"answer_count":1,"score":0,"last_activity_date":1677683179,"creation_date":1677332625,"question_id":75565819,"body_markdown":"When I send the GET request to the mapping &quot;/&quot;, I receive NotFound errors.\r\n\r\n*Here is my @**Controller*** class:\r\n\r\n```\r\n@Controller\r\npublic class Store {\r\n\t\r\n\t@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n\tpublic String home() {\r\n\t\treturn &quot;home&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n*Here is my **application.properties*** file which specifies the location of the view files:\r\n\r\n```\r\nspring.mvc.view.prefix=/view/\r\nspring.mvc.view.suffix=.html\r\n```\r\n\r\n*And for reference, here is my **home.html** file:*\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n\t\t&lt;title&gt;Store&lt;/title&gt;\r\n\t&lt;/head&gt;\r\n\t&lt;body&gt;\r\n\t\t&lt;h1&gt;Hello&lt;/h1&gt;\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n*My home.html file is in the view folder within the webapp folder.*\r\n\r\n\r\n\r\n\r\nTo my understanding when sending the request to localhost:8080 the home page should load, I am perplexed that it is not the case.\r\n\r\nAny help at all will be greatly appreciated. Thanks.\r\n\r\n**UPDATE**:\r\n\r\nSo I managed to get it working by renaming the HTML file from *home.html* to *index.html* and moving it to the webapp folder. How is it now working after I rename it and move it to the base web folder???? Surely the name is irrelevant and I already specified the prefix and suffix to act as the view resolver to point to the directory of the view files.\r\n\r\nThis is working due to Springs default behaviour of mapping our index.html page as the landing page, but the method handler is still never called...\r\n\r\n**FINAL UPDATE:**\r\n\r\nI have recreated this project in Eclipse (previously created in STS4) and it is working, there was no change needed. I assume it was due to my configuration of STS4. So to anyone that may experience this issue in the future or something similar, double check your configuration of your IDE, it may not always be your code. :) \r\n\r\nThank you all for your input.","title":"My simple Spring Boot app isn&#39;t returning the webpage","body":"<p>When I send the GET request to the mapping &quot;/&quot;, I receive NotFound errors.</p>\n<p><em>Here is my @<strong>Controller</strong></em> class:</p>\n<pre><code>@Controller\npublic class Store {\n    \n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\n    public String home() {\n        return &quot;home&quot;;\n    }\n\n}\n</code></pre>\n<p><em>Here is my <strong>application.properties</strong></em> file which specifies the location of the view files:</p>\n<pre><code>spring.mvc.view.prefix=/view/\nspring.mvc.view.suffix=.html\n</code></pre>\n<p><em>And for reference, here is my <strong>home.html</strong> file:</em></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n        &lt;title&gt;Store&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hello&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><em>My home.html file is in the view folder within the webapp folder.</em></p>\n<p>To my understanding when sending the request to localhost:8080 the home page should load, I am perplexed that it is not the case.</p>\n<p>Any help at all will be greatly appreciated. Thanks.</p>\n<p><strong>UPDATE</strong>:</p>\n<p>So I managed to get it working by renaming the HTML file from <em>home.html</em> to <em>index.html</em> and moving it to the webapp folder. How is it now working after I rename it and move it to the base web folder???? Surely the name is irrelevant and I already specified the prefix and suffix to act as the view resolver to point to the directory of the view files.</p>\n<p>This is working due to Springs default behaviour of mapping our index.html page as the landing page, but the method handler is still never called...</p>\n<p><strong>FINAL UPDATE:</strong></p>\n<p>I have recreated this project in Eclipse (previously created in STS4) and it is working, there was no change needed. I assume it was due to my configuration of STS4. So to anyone that may experience this issue in the future or something similar, double check your configuration of your IDE, it may not always be your code. :)</p>\n<p>Thank you all for your input.</p>\n"},{"tags":["java","spring","spring-boot","querydsl"],"owner":{"account_id":429938,"reputation":1918,"user_id":813102,"accept_rate":74,"display_name":"big"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677682952,"creation_date":1677682952,"question_id":75605464,"body_markdown":"I am using querydsl and generating QClasses. I was trying to extend Extension and implemented it. Implementation class is also present in META-INF/services but for some reason these are not getting loaded as part of Service loader\r\n\r\nI copied files from https://github.com/jwgmeligmeyling/hibernate-types-querydsl-apt to my local code base. My META-INF/services/com.querydsl.codegen.Extension\r\n\r\n```\r\ncom.pallasathenagroup.querydsl.RangeSupport\r\ncom.pallasathenagroup.querydsl.ArraySupport\r\ncom.pallasathenagroup.querydsl.DurationSupport\r\ncom.pallasathenagroup.querydsl.PeriodSupport\r\ncom.pallasathenagroup.querydsl.YearMonthSupport\r\ncom.pallasathenagroup.querydsl.MonetaryAmountSupport\r\ncom.pallasathenagroup.querydsl.JsonNodeSupport\r\n```\r\n\r\nI am using gradle with multi module \r\n\r\nrootProject -&gt; subProject \r\n\r\nOnly subProject contains src/main/java . \r\n\r\nsubProject -&gt; build.gradle\r\n```\r\ntask generateQueryDSL(type: JavaCompile, group: &quot;build&quot;, description: &quot;Generates the QueryDSL query types&quot;) {\r\n    source = sourceSets.main.java\r\n//    classpath = configurations.compileClasspath\r\n    classpath = sourceSets.main.compileClasspath\r\n    options.annotationProcessorPath = sourceSets.main.annotationProcessorPath\r\n    options.compilerArgs = [\r\n            &quot;-proc:only&quot;,\r\n            &quot;-processor&quot;,\r\n            &quot;com.querydsl.apt.jpa.JPAAnnotationProcessor&quot;\r\n    ]\r\n    options.warnings = true\r\n    getDestinationDirectory().set(file(&quot;$rootProject.projectDir/subProject/build/generated/sources/annotationProcessor/java&quot;))\r\n}\r\n```\r\n\r\nNot sure what I am doing wrong","title":"query dsl codegen com.querydsl.codegen.Extension not loading providers from meta inf","body":"<p>I am using querydsl and generating QClasses. I was trying to extend Extension and implemented it. Implementation class is also present in META-INF/services but for some reason these are not getting loaded as part of Service loader</p>\n<p>I copied files from <a href=\"https://github.com/jwgmeligmeyling/hibernate-types-querydsl-apt\" rel=\"nofollow noreferrer\">https://github.com/jwgmeligmeyling/hibernate-types-querydsl-apt</a> to my local code base. My META-INF/services/com.querydsl.codegen.Extension</p>\n<pre><code>com.pallasathenagroup.querydsl.RangeSupport\ncom.pallasathenagroup.querydsl.ArraySupport\ncom.pallasathenagroup.querydsl.DurationSupport\ncom.pallasathenagroup.querydsl.PeriodSupport\ncom.pallasathenagroup.querydsl.YearMonthSupport\ncom.pallasathenagroup.querydsl.MonetaryAmountSupport\ncom.pallasathenagroup.querydsl.JsonNodeSupport\n</code></pre>\n<p>I am using gradle with multi module</p>\n<p>rootProject -&gt; subProject</p>\n<p>Only subProject contains src/main/java .</p>\n<p>subProject -&gt; build.gradle</p>\n<pre><code>task generateQueryDSL(type: JavaCompile, group: &quot;build&quot;, description: &quot;Generates the QueryDSL query types&quot;) {\n    source = sourceSets.main.java\n//    classpath = configurations.compileClasspath\n    classpath = sourceSets.main.compileClasspath\n    options.annotationProcessorPath = sourceSets.main.annotationProcessorPath\n    options.compilerArgs = [\n            &quot;-proc:only&quot;,\n            &quot;-processor&quot;,\n            &quot;com.querydsl.apt.jpa.JPAAnnotationProcessor&quot;\n    ]\n    options.warnings = true\n    getDestinationDirectory().set(file(&quot;$rootProject.projectDir/subProject/build/generated/sources/annotationProcessor/java&quot;))\n}\n</code></pre>\n<p>Not sure what I am doing wrong</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":5505049,"reputation":1050,"user_id":4373120,"display_name":"Vinu Dominic"},"score":0,"creation_date":1536079453,"post_id":38462588,"comment_id":91292074,"body_markdown":"What does it mean when you say it does not work for methods which do not throw `UnauthorizedException`? As `UnauthorizedException` is a custom exception, you have to throw it, otherwise how is the application expected to throw it for you?","body":"What does it mean when you say it does not work for methods which do not throw <code>UnauthorizedException</code>? As <code>UnauthorizedException</code> is a custom exception, you have to throw it, otherwise how is the application expected to throw it for you?"}],"answers":[{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1468943644,"creation_date":1468942902,"answer_id":38463041,"question_id":38462588,"body_markdown":"There is no order/priority as long as you have a single controlleradvice class in your project. But if you have multiple controlleradvice classes, you can set the Order. But here, in your case, the order is not applicable as the two exceptions are handled differently (i.e., UnauthorizedException and Exception).\r\n\r\n&gt; The good thing is, Spring will automatically find the respective custom Exception class (if any,\r\n&gt; otherwise generic Exception) and invoke the corresponding method.\r\n\r\nPlease refer for more information on Spring Controller Advice and Exception handling:\r\nhttps://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","title":"Order of @ExceptionHandler","body":"<p>There is no order/priority as long as you have a single controlleradvice class in your project. But if you have multiple controlleradvice classes, you can set the Order. But here, in your case, the order is not applicable as the two exceptions are handled differently (i.e., UnauthorizedException and Exception).</p>\n\n<blockquote>\n  <p>The good thing is, Spring will automatically find the respective custom Exception class (if any,\n  otherwise generic Exception) and invoke the corresponding method.</p>\n</blockquote>\n\n<p>Please refer for more information on Spring Controller Advice and Exception handling:\n<a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow\">https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a></p>\n"},{"tags":[],"owner":{"account_id":4573108,"reputation":1479,"user_id":3712298,"display_name":"sanjeevjha"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1677682841,"creation_date":1468946496,"answer_id":38464152,"question_id":38462588,"body_markdown":"we are using exception handler in following way and never order get mixed and it work as expected.\r\nSo it could be possible if you will use it as following example then it will solve your problems\r\n\r\nhandler class\r\n-------------\r\n\r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n    \r\n        @ResponseStatus(value = HttpStatus.INTERNAL_SERVER_ERROR)\r\n        @ExceptionHandler(value = Exception.class)\r\n        public boolean handle1(Exception exc) {\r\n            System.out.println(&quot;#####Global Exception###&quot; + exc);\r\n            exc.printStackTrace(System.out);\r\n            return true;\r\n        }\r\n    \r\n        @ResponseStatus(value = HttpStatus.INTERNAL_SERVER_ERROR)\r\n        @ExceptionHandler(value = CustomException.class)\r\n        public boolean handle2(CustomException exc) {\r\n            System.out.println(&quot;###custom exception######&quot; + exc);\r\n            exc.printStackTrace(System.out);\r\n            return true;\r\n        }\r\n    }\r\n\r\nController class\r\n----------------\r\n\r\n    @RestController(&quot;test&quot;)\r\n    @RequestMapping(&quot;/test1&quot;)\r\n    public class TestController {\r\n    \r\n        @RequestMapping(&quot;/t1&quot;)\r\n        public boolean test() {\r\n            if (true) {\r\n                throw new CustomException();\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\nIn above example exception habdler is **handle2** because 1st of all it will search for matching exception if not found then go for parrent handler\r\n\r\nIf we throw new NullPointerException() then it will search for matching handler but not found in this case then go for parrent that is **handle1**\r\n\r\nfor more you can refer [here][1]\r\n\r\nI hope it will help you. Thanks\r\n\r\n\r\n  [1]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","title":"Order of @ExceptionHandler","body":"<p>we are using exception handler in following way and never order get mixed and it work as expected.\nSo it could be possible if you will use it as following example then it will solve your problems</p>\n<h2>handler class</h2>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ResponseStatus(value = HttpStatus.INTERNAL_SERVER_ERROR)\n    @ExceptionHandler(value = Exception.class)\n    public boolean handle1(Exception exc) {\n        System.out.println(&quot;#####Global Exception###&quot; + exc);\n        exc.printStackTrace(System.out);\n        return true;\n    }\n\n    @ResponseStatus(value = HttpStatus.INTERNAL_SERVER_ERROR)\n    @ExceptionHandler(value = CustomException.class)\n    public boolean handle2(CustomException exc) {\n        System.out.println(&quot;###custom exception######&quot; + exc);\n        exc.printStackTrace(System.out);\n        return true;\n    }\n}\n</code></pre>\n<h2>Controller class</h2>\n<pre><code>@RestController(&quot;test&quot;)\n@RequestMapping(&quot;/test1&quot;)\npublic class TestController {\n\n    @RequestMapping(&quot;/t1&quot;)\n    public boolean test() {\n        if (true) {\n            throw new CustomException();\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>In above example exception habdler is <strong>handle2</strong> because 1st of all it will search for matching exception if not found then go for parrent handler</p>\n<p>If we throw new NullPointerException() then it will search for matching handler but not found in this case then go for parrent that is <strong>handle1</strong></p>\n<p>for more you can refer <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I hope it will help you. Thanks</p>\n"},{"tags":[],"owner":{"account_id":12137844,"reputation":111,"user_id":8862750,"display_name":" "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527083296,"creation_date":1527083296,"answer_id":50490113,"question_id":38462588,"body_markdown":"Use an annotation **@Order** or implement an interface **Ordered** for **@ControllerAdvice**.\r\n\r\nSee implementations of:\r\n\r\n - **ExceptionHandlerMethodResolver** class\r\n - **ExceptionHandlerExceptionResolver** class (method **initExceptionHandlerAdviceCache**)\r\n - **AnnotationAwareOrderComparator** class","title":"Order of @ExceptionHandler","body":"<p>Use an annotation <strong>@Order</strong> or implement an interface <strong>Ordered</strong> for <strong>@ControllerAdvice</strong>.</p>\n\n<p>See implementations of:</p>\n\n<ul>\n<li><strong>ExceptionHandlerMethodResolver</strong> class</li>\n<li><strong>ExceptionHandlerExceptionResolver</strong> class (method <strong>initExceptionHandlerAdviceCache</strong>)</li>\n<li><strong>AnnotationAwareOrderComparator</strong> class</li>\n</ul>\n"}],"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16882,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":3,"score":18,"last_activity_date":1677682841,"creation_date":1468941674,"question_id":38462588,"body_markdown":"I use `@ControllerAdvice` to handle all my app exceptions :\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlingController {\r\n\r\n      @ExceptionHandler({UnauthorizedException.class})\r\n      public String unauthorizedException()  {\r\n            .........\r\n      }\r\n      \r\n      \r\n      @ExceptionHandler({UnauthorizedAjaxException.class})\r\n      @ResponseBody\r\n      public void unauthorizedAjaxException()  {\r\n            .........\r\n      }\r\n      \r\n      @ExceptionHandler({Exception.class})\r\n      public String globalException(){\r\n            .........\r\n      }\r\n    \r\n    \r\n    }\r\n\r\nAnd somewhere in my code i do `throw new UnauthorizedException();`\r\n\r\n       @Around(&quot;@annotation(Authenticated)&quot;)\r\n       public Object profilingAuthentication(ProceedingJoinPoint pjp) throws Throwable  {\r\n    \t   \r\n    \t   HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\r\n\r\n           if( request.getSession().getAttribute(&quot;idContact&quot;) == null ) {\r\n    \t   \t\tif( &quot;XMLHttpRequest&quot;.equals(request.getHeader(&quot;X-Requested-With&quot;)) )\r\n    \t   \t\t\tthrow new UnauthorizedAjaxException();\r\n       \t\t\tthrow new UnauthorizedException();\r\n           } \r\n           return pjp.proceed();\r\n       }\r\n\r\nBut sadly Spring MVC appears to be acting random by using the most generic case (`Exception`) rather than more specific ones (`UnauthorizedException` for example). And sometimes he choose the correct one !\r\n\r\n\r\nHow the order works works ? and is there any way to specify the order ?\r\n\r\n\r\n`UnauthorizedException` is a custom exception\r\n\r\n    public class UnauthorizedException extends Exception {\r\n\r\n        public UnauthorizedException(){\r\n            super();\r\n        }\r\n    \r\n        public UnauthorizedException(String message){\r\n            super(message);\r\n        }\r\n    }\r\n\r\n**UPDATE**\r\n\r\ni found out that the order it&#39;s **not rondom** actually the methods who throw `UnauthorizedException` works normally but the others not !\r\n\r\n\t@Authenticated\r\n\t@RequestMapping(value=&quot;/favoris&quot;) \r\n\tpublic String favoris(ModelMap model, HttpServletRequest request) \r\n          throws UnauthorizedException {\r\n\t\t....\r\n\t}\r\n\r\n\t@Authenticated\r\n\t@RequestMapping(value=&quot;/follow&quot;) \r\n\tpublic String follow(ModelMap model, HttpServletRequest request) {\r\n\t\t.....\r\n\t}\r\n\r\n\r\n\r\nSo i have to add `throws UnauthorizedException` manually or there is some other solution ? ","title":"Order of @ExceptionHandler","body":"<p>I use <code>@ControllerAdvice</code> to handle all my app exceptions :</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlingController {\n\n  @ExceptionHandler({UnauthorizedException.class})\n  public String unauthorizedException()  {\n        .........\n  }\n\n\n  @ExceptionHandler({UnauthorizedAjaxException.class})\n  @ResponseBody\n  public void unauthorizedAjaxException()  {\n        .........\n  }\n\n  @ExceptionHandler({Exception.class})\n  public String globalException(){\n        .........\n  }\n\n\n}\n</code></pre>\n\n<p>And somewhere in my code i do <code>throw new UnauthorizedException();</code></p>\n\n<pre><code>   @Around(\"@annotation(Authenticated)\")\n   public Object profilingAuthentication(ProceedingJoinPoint pjp) throws Throwable  {\n\n       HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\n\n       if( request.getSession().getAttribute(\"idContact\") == null ) {\n            if( \"XMLHttpRequest\".equals(request.getHeader(\"X-Requested-With\")) )\n                throw new UnauthorizedAjaxException();\n            throw new UnauthorizedException();\n       } \n       return pjp.proceed();\n   }\n</code></pre>\n\n<p>But sadly Spring MVC appears to be acting random by using the most generic case (<code>Exception</code>) rather than more specific ones (<code>UnauthorizedException</code> for example). And sometimes he choose the correct one !</p>\n\n<p>How the order works works ? and is there any way to specify the order ?</p>\n\n<p><code>UnauthorizedException</code> is a custom exception</p>\n\n<pre><code>public class UnauthorizedException extends Exception {\n\n    public UnauthorizedException(){\n        super();\n    }\n\n    public UnauthorizedException(String message){\n        super(message);\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>i found out that the order it's <strong>not rondom</strong> actually the methods who throw <code>UnauthorizedException</code> works normally but the others not !</p>\n\n<pre><code>@Authenticated\n@RequestMapping(value=\"/favoris\") \npublic String favoris(ModelMap model, HttpServletRequest request) \n      throws UnauthorizedException {\n    ....\n}\n\n@Authenticated\n@RequestMapping(value=\"/follow\") \npublic String follow(ModelMap model, HttpServletRequest request) {\n    .....\n}\n</code></pre>\n\n<p>So i have to add <code>throws UnauthorizedException</code> manually or there is some other solution ? </p>\n"},{"tags":["java","angular","request","parameter-passing","payload"],"answers":[{"tags":[],"owner":{"account_id":10213320,"reputation":270,"user_id":7539777,"display_name":"akarahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638958465,"creation_date":1638958465,"answer_id":70273272,"question_id":70272857,"body_markdown":"I think you are not passing formData in your http post, modify the below line of code from \r\n\r\n```\r\nthis.httpClient\r\n                .post&lt;any&gt;(this.baseURL + apiURL + &quot;/add&quot;, entity, this.httpOptions)\r\n                .subscribe((response: any) =&gt; {\r\n                    resolve(response);\r\n                }, reject);\r\n```\r\n\r\nas below\r\n\r\n```\r\nthis.httpClient.post&lt;any&gt;(this.baseURL + apiURL + &quot;/add&quot;, formData, this.httpOptions)\r\n                .subscribe((response: any) =&gt; {\r\n                    resolve(response);\r\n                }, reject);\r\n```\r\n\r\n","title":"This request part &#39;file&#39; is not present","body":"<p>I think you are not passing formData in your http post, modify the below line of code from</p>\n<pre><code>this.httpClient\n                .post&lt;any&gt;(this.baseURL + apiURL + &quot;/add&quot;, entity, this.httpOptions)\n                .subscribe((response: any) =&gt; {\n                    resolve(response);\n                }, reject);\n</code></pre>\n<p>as below</p>\n<pre><code>this.httpClient.post&lt;any&gt;(this.baseURL + apiURL + &quot;/add&quot;, formData, this.httpOptions)\n                .subscribe((response: any) =&gt; {\n                    resolve(response);\n                }, reject);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14085784,"reputation":1,"user_id":10175581,"display_name":"M.Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677682840,"creation_date":1677682792,"answer_id":75605419,"question_id":70272857,"body_markdown":"I encountered the exact same issue today. At the end I decided to gave up Angular HttpClient and used the native XMLHttpRequest instead. \r\n\r\n    const request = new XMLHttpRequest()\r\n    request.open(&quot;POST&quot;, this.baseURL + apiURL + &quot;/add&quot;, true)\r\n    request.onreadystatechange = () =&gt; {\r\n      if (request.readyState === 4 &amp;&amp; request.status === 200) {\r\n        console.log(request.responseText);\r\n      }\r\n    };\r\n    request.send(formData);\r\n\r\nWhile this is not a direct solution, it solves the problem if your goal is to simply implement an API call to upload files.\r\nI would still appreciate it if anyone can point out what&#39;s missing from HttpClient.","title":"This request part &#39;file&#39; is not present","body":"<p>I encountered the exact same issue today. At the end I decided to gave up Angular HttpClient and used the native XMLHttpRequest instead.</p>\n<pre><code>const request = new XMLHttpRequest()\nrequest.open(&quot;POST&quot;, this.baseURL + apiURL + &quot;/add&quot;, true)\nrequest.onreadystatechange = () =&gt; {\n  if (request.readyState === 4 &amp;&amp; request.status === 200) {\n    console.log(request.responseText);\n  }\n};\nrequest.send(formData);\n</code></pre>\n<p>While this is not a direct solution, it solves the problem if your goal is to simply implement an API call to upload files.\nI would still appreciate it if anyone can point out what's missing from HttpClient.</p>\n"}],"owner":{"account_id":17683082,"reputation":55,"user_id":12836503,"display_name":"Thanh Hiu Nguyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677682840,"creation_date":1638956715,"question_id":70272857,"body_markdown":"I saw other similiar post with answers but since it&#39;s not helping me i&#39;m posting this.\r\n\r\nI&#39;m using Java/Angular 11, i&#39;m making Post Request sending data in FormData but it keeps giving me  \r\n\r\n    Request part &#39;file&#39; is not present\r\n\r\nMy Server\r\n\r\n    @PostMapping(value = /add, consumes = MediaType.MULTIPART_FORM_DATA_VALUE,headers = (&quot;content-type=multipart/*&quot;))\r\n        public ApiResponseEntity add(@RequestParam(&quot;file&quot;) MultipartFile file,\r\n                                     @RequestParam(&quot;foo&quot;) Foo foo) throws IOException {\r\nMy Client(Angular)\r\n\r\n    formData = new FormData()\r\n    this.formData.append(&quot;file&quot;, ev.target.files[0]));\r\n    this.formData.append(&quot;foo&quot;,JSON.stringify(FooDTO));\r\n\r\n    this.httpClient\r\n                    .post&lt;any&gt;(this.baseURL + apiURL + &quot;/add&quot;, entity, this.httpOptions)\r\n                    .subscribe((response: any) =&gt; {\r\n                        resolve(response);\r\n                    }, reject);\r\n\r\nMy Payload:\r\n------WebKitFormBoundarysDMcWqKZNsayiMSX\r\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;abc.png&quot;\r\nContent-Type: image/png\r\n\r\n\r\n------WebKitFormBoundarysDMcWqKZNsayiMSX\r\nContent-Disposition: form-data; name=&quot;foo&quot;\r\n\r\n{\r\n...\r\n}\r\n------WebKitFormBoundarysDMcWqKZNsayiMSX--\r\n\r\nWhere did i go wrong? Thanks for viewing and answering!\r\n\r\nNOTE: HttpOption has Content-type: multipart/form-data, i also tried to use @RequestPart but the result still the same\r\n\r\nUPDATE: Sorry i forgot to show my POST method parameters\r\nhere&#39;s the full version\r\n\r\n    public add(formData: any, apiURL: string): Promise&lt;any&gt; { \r\n            console.log(formData)\r\n            return new Promise((resolve, reject) =&gt; {\r\n                this.httpClient\r\n                    .post&lt;any&gt;(this.baseURL + apiURL + &quot;/add&quot;, formData, this.httpOptions)\r\n                    .subscribe((response: any) =&gt; {\r\n                        resolve(response);\r\n                    }, reject);\r\n            });\r\n        }\r\n\r\nWhat i did was after i sort out my formData i pass it into add method above to call API","title":"This request part &#39;file&#39; is not present","body":"<p>I saw other similiar post with answers but since it's not helping me i'm posting this.</p>\n<p>I'm using Java/Angular 11, i'm making Post Request sending data in FormData but it keeps giving me</p>\n<pre><code>Request part 'file' is not present\n</code></pre>\n<p>My Server</p>\n<pre><code>@PostMapping(value = /add, consumes = MediaType.MULTIPART_FORM_DATA_VALUE,headers = (&quot;content-type=multipart/*&quot;))\n    public ApiResponseEntity add(@RequestParam(&quot;file&quot;) MultipartFile file,\n                                 @RequestParam(&quot;foo&quot;) Foo foo) throws IOException {\n</code></pre>\n<p>My Client(Angular)</p>\n<pre><code>formData = new FormData()\nthis.formData.append(&quot;file&quot;, ev.target.files[0]));\nthis.formData.append(&quot;foo&quot;,JSON.stringify(FooDTO));\n\nthis.httpClient\n                .post&lt;any&gt;(this.baseURL + apiURL + &quot;/add&quot;, entity, this.httpOptions)\n                .subscribe((response: any) =&gt; {\n                    resolve(response);\n                }, reject);\n</code></pre>\n<p>My Payload:\n------WebKitFormBoundarysDMcWqKZNsayiMSX\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;abc.png&quot;\nContent-Type: image/png</p>\n<p>------WebKitFormBoundarysDMcWqKZNsayiMSX\nContent-Disposition: form-data; name=&quot;foo&quot;</p>\n<p>{\n...\n}\n------WebKitFormBoundarysDMcWqKZNsayiMSX--</p>\n<p>Where did i go wrong? Thanks for viewing and answering!</p>\n<p>NOTE: HttpOption has Content-type: multipart/form-data, i also tried to use @RequestPart but the result still the same</p>\n<p>UPDATE: Sorry i forgot to show my POST method parameters\nhere's the full version</p>\n<pre><code>public add(formData: any, apiURL: string): Promise&lt;any&gt; { \n        console.log(formData)\n        return new Promise((resolve, reject) =&gt; {\n            this.httpClient\n                .post&lt;any&gt;(this.baseURL + apiURL + &quot;/add&quot;, formData, this.httpOptions)\n                .subscribe((response: any) =&gt; {\n                    resolve(response);\n                }, reject);\n        });\n    }\n</code></pre>\n<p>What i did was after i sort out my formData i pass it into add method above to call API</p>\n"},{"tags":["java","operating-system"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1677691112,"post_id":75605402,"comment_id":133389296,"body_markdown":"According to [this](https://stackoverflow.com/a/59716588/1831987), Windows doesnt have a concept of a single effective group ID.  For the user ID, I imagine `whoami.exe /user` is what you want.","body":"According to <a href=\"https://stackoverflow.com/a/59716588/1831987\">this</a>, Windows doesnt have a concept of a single effective group ID.  For the user ID, I imagine <code>whoami.exe &#47;user</code> is what you want."}],"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677682701,"creation_date":1677682701,"question_id":75605402,"body_markdown":"I created  method to run `bash` commands on Java, my method looks like this:\r\n \r\n\r\n    private static String executeBashCommand(String command) {\r\n            StringBuilder output = new StringBuilder();\r\n    \r\n            try {\r\n                String line = &quot;&quot;;\r\n                Process proc = Runtime.getRuntime().exec(command);\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(proc.getInputStream()));\r\n    \r\n                while((line = reader.readLine()) != null) {\r\n                    output.append(line);\r\n                }\r\n    \r\n                proc.waitFor();\r\n            } catch (Exception var5) {\r\n            }\r\n    \r\n            return output.toString();\r\n        }\r\n\r\nMy idea es to execute the next commands: `id -u` and `id -g` this are to get the user and group for a `Linux` machine in my case, I am not sure where the command runs, if it runs in a windows machine if will fail? because this commands doesn&#39;t exist on windows or it doesn&#39;t matters?\r\n\r\nThanks!\r\n","title":"Getting user and group fin Java for different OS","body":"<p>I created  method to run <code>bash</code> commands on Java, my method looks like this:</p>\n<pre><code>private static String executeBashCommand(String command) {\n        StringBuilder output = new StringBuilder();\n\n        try {\n            String line = &quot;&quot;;\n            Process proc = Runtime.getRuntime().exec(command);\n            BufferedReader reader = new BufferedReader(new InputStreamReader(proc.getInputStream()));\n\n            while((line = reader.readLine()) != null) {\n                output.append(line);\n            }\n\n            proc.waitFor();\n        } catch (Exception var5) {\n        }\n\n        return output.toString();\n    }\n</code></pre>\n<p>My idea es to execute the next commands: <code>id -u</code> and <code>id -g</code> this are to get the user and group for a <code>Linux</code> machine in my case, I am not sure where the command runs, if it runs in a windows machine if will fail? because this commands doesn't exist on windows or it doesn't matters?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","swagger","openapi","springdoc"],"answers":[{"tags":[],"owner":{"account_id":27909840,"reputation":1,"user_id":21312264,"display_name":"Bal&#225;zs Such"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677682623,"creation_date":1677682623,"answer_id":75605388,"question_id":74780066,"body_markdown":"Any success? I have similar issues. The `@RestController`-s are auto scanned and the methods/endpoints are displayed, but `@Tag` names and `@Operation` summaries are missing from the ui and the `/v3/api-docs` response. If I add tags to the operation that works (eg. `@Operation(summary = &quot;test&quot;, tags = { &quot;test&quot; })`), but that is not a desired solution.\r\n\r\nRegarding the other issues normally you don&#39;t need any properties. The default values are fine.\r\n\r\nFor the auth part you can use something like this for oauth2:\r\n```\r\n@Configuration\r\npublic class SwaggerConfig {\r\n\r\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\r\n    private String authServer;\r\n\r\n    @Value(&quot;${keycloak.realm}&quot;)\r\n    private String realm;\r\n\r\n    @Bean\r\n    public OpenAPI api() {\r\n        var securitySchemeName = &quot;oauth2&quot;;\r\n        var authUrl = String.format(&quot;%s/realms/%s/protocol/openid-connect&quot;, this.authServer, this.realm);\r\n        var tokenUrl = authUrl + &quot;/token&quot;;\r\n        return new OpenAPI()\r\n                .info(new Info().title(&quot;Service API&quot;)\r\n                        .description(&quot;Service application&quot;)\r\n                        .version(&quot;v0.0.1&quot;))\r\n                .components(new Components()\r\n                        .addSecuritySchemes(securitySchemeName, new io.swagger.v3.oas.models.security.SecurityScheme()\r\n                                .type(io.swagger.v3.oas.models.security.SecurityScheme.Type.OAUTH2)\r\n                                .description(&quot;Oauth2 flow&quot;)\r\n                                .flows(new OAuthFlows()\r\n                                        .authorizationCode(new OAuthFlow()\r\n                                                .authorizationUrl(authUrl + &quot;/auth&quot;)\r\n                                                .refreshUrl(tokenUrl)\r\n                                                .tokenUrl(tokenUrl)\r\n                                                .scopes(new Scopes())\r\n                                        ))\r\n                        ))\r\n                .security(List.of(new SecurityRequirement().addList(securitySchemeName)));\r\n    }\r\n```\r\nOr this for JWT:\r\n```\r\n@Configuration\r\npublic class SwaggerConfig {\r\n\r\n  @Bean\r\n  public OpenAPI api() {\r\n    final String securitySchemeName = &quot;bearerAuth&quot;;\r\n    return new OpenAPI()\r\n        .addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\r\n        .components(\r\n            new Components()\r\n                .addSecuritySchemes(securitySchemeName,\r\n                    new SecurityScheme()\r\n                        .name(securitySchemeName)\r\n                        .type(SecurityScheme.Type.HTTP)\r\n                        .scheme(&quot;bearer&quot;)\r\n                        .bearerFormat(&quot;JWT&quot;)\r\n                )\r\n        )\r\n        .info(new Info().title(&quot;Service API&quot;).description(&quot;Service&quot;).version(&quot;v0.0.1&quot;));\r\n  }\r\n}\r\n```","title":"Swagger not working properly with SB 3 + SpringDoc 2","body":"<p>Any success? I have similar issues. The <code>@RestController</code>-s are auto scanned and the methods/endpoints are displayed, but <code>@Tag</code> names and <code>@Operation</code> summaries are missing from the ui and the <code>/v3/api-docs</code> response. If I add tags to the operation that works (eg. <code>@Operation(summary = &quot;test&quot;, tags = { &quot;test&quot; })</code>), but that is not a desired solution.</p>\n<p>Regarding the other issues normally you don't need any properties. The default values are fine.</p>\n<p>For the auth part you can use something like this for oauth2:</p>\n<pre><code>@Configuration\npublic class SwaggerConfig {\n\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\n    private String authServer;\n\n    @Value(&quot;${keycloak.realm}&quot;)\n    private String realm;\n\n    @Bean\n    public OpenAPI api() {\n        var securitySchemeName = &quot;oauth2&quot;;\n        var authUrl = String.format(&quot;%s/realms/%s/protocol/openid-connect&quot;, this.authServer, this.realm);\n        var tokenUrl = authUrl + &quot;/token&quot;;\n        return new OpenAPI()\n                .info(new Info().title(&quot;Service API&quot;)\n                        .description(&quot;Service application&quot;)\n                        .version(&quot;v0.0.1&quot;))\n                .components(new Components()\n                        .addSecuritySchemes(securitySchemeName, new io.swagger.v3.oas.models.security.SecurityScheme()\n                                .type(io.swagger.v3.oas.models.security.SecurityScheme.Type.OAUTH2)\n                                .description(&quot;Oauth2 flow&quot;)\n                                .flows(new OAuthFlows()\n                                        .authorizationCode(new OAuthFlow()\n                                                .authorizationUrl(authUrl + &quot;/auth&quot;)\n                                                .refreshUrl(tokenUrl)\n                                                .tokenUrl(tokenUrl)\n                                                .scopes(new Scopes())\n                                        ))\n                        ))\n                .security(List.of(new SecurityRequirement().addList(securitySchemeName)));\n    }\n</code></pre>\n<p>Or this for JWT:</p>\n<pre><code>@Configuration\npublic class SwaggerConfig {\n\n  @Bean\n  public OpenAPI api() {\n    final String securitySchemeName = &quot;bearerAuth&quot;;\n    return new OpenAPI()\n        .addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\n        .components(\n            new Components()\n                .addSecuritySchemes(securitySchemeName,\n                    new SecurityScheme()\n                        .name(securitySchemeName)\n                        .type(SecurityScheme.Type.HTTP)\n                        .scheme(&quot;bearer&quot;)\n                        .bearerFormat(&quot;JWT&quot;)\n                )\n        )\n        .info(new Info().title(&quot;Service API&quot;).description(&quot;Service&quot;).version(&quot;v0.0.1&quot;));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":16280404,"reputation":109,"user_id":11756526,"display_name":"Jose Perez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":944,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677682623,"creation_date":1670906654,"question_id":74780066,"body_markdown":"I have been developing new APIs in Springboot 3 and it has been more a headache than something good, but finally I&#39;m able to do something. Issue is that I was able to add Swagger to it, with OpenAPI from Spring-doc release 2. but the configuration file is not reading my properties. Also I have troubles trying to set up my bearer authentication.... \r\n\r\nThis is my actual swagger: [Swagger + spring-doc](https://i.stack.imgur.com/3VOmg.png)\r\n\r\nAnd third issue related to this is... I keep can&#39;t make the swagger to read the default responses... even I configured like in the old versions, but I couldn&#39;t make it work... \r\n\r\n1. For properties, I have tried to add them before the config class, and ad a Bean in methods. \r\n2. For bearer, I was following Baeldung JWT Swagger guide, but It confuses me a little, tried to run but didnt work. \r\n\r\nThis is my OpenApiConfig class (commented lines are because they are not compatible with tag declaration):\r\n\r\n\r\n```\r\npackage info.peluka.csaread.config;\r\n\r\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\r\nimport io.swagger.v3.oas.annotations.info.Contact;\r\nimport io.swagger.v3.oas.annotations.info.Info;\r\nimport io.swagger.v3.oas.annotations.info.License;\r\nimport io.swagger.v3.oas.annotations.servers.Server;\r\nimport io.swagger.v3.oas.models.Components;\r\nimport io.swagger.v3.oas.models.OpenAPI;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport io.swagger.v3.oas.models.security.SecurityRequirement;\r\nimport io.swagger.v3.oas.models.security.SecurityScheme;\r\n\r\n@Configuration\r\n@OpenAPIDefinition(\r\n        info =@Info(\r\n                title = &quot;${module-name}&quot;,\r\n                version = &quot;${api-version}&quot;,\r\n                contact = @Contact(\r\n                        name = &quot;Joseph&quot;, email = &quot;CSA_Read_API@peluka.info&quot;, url = &quot;https://www.peluka.info&quot;\r\n                ),\r\n                license = @License(\r\n                        name = &quot;Apache 2.0&quot;, url = &quot;https://www.apache.org/licenses/LICENSE-2.0&quot;\r\n                ),\r\n                description = &quot;${module-description}&quot;\r\n        ),\r\n        servers = @Server(\r\n                url = &quot;${api.server.url}&quot;,\r\n                description = &quot;Production&quot;\r\n        )\r\n)\r\npublic class OpenApiConfig {\r\n\r\n    private final String moduleName;\r\n    private final String apiVersion;\r\n\r\n    private final String moduleDescription;\r\n\r\n    public OpenApiConfig(\r\n            @Value(&quot;${module-name}&quot;) String moduleName,\r\n            @Value(&quot;${api-version}&quot;) String apiVersion,\r\n            @Value(&quot;${module-description}&quot;) String moduleDescription) {\r\n        this.moduleName = moduleName;\r\n        this.apiVersion = apiVersion;\r\n        this.moduleDescription = moduleDescription;\r\n    }\r\n\r\n    /**\r\n     * Configure the OpenAPI components.\r\n     *\r\n     * @return Returns fully configure OpenAPI object\r\n     * @see OpenAPI\r\n     */\r\n    @Bean\r\n    public OpenAPI customizeOpenAPI() {\r\n        //@formatter:off\r\n        final String securitySchemeName = &quot;bearerAuth&quot;;\r\n        return new OpenAPI()\r\n                .addSecurityItem(new SecurityRequirement()\r\n                        .addList(securitySchemeName))\r\n                .components(new Components()\r\n                        .addSecuritySchemes(securitySchemeName, new SecurityScheme()\r\n                                .name(securitySchemeName)\r\n                                .type(SecurityScheme.Type.HTTP)\r\n                                .scheme(&quot;bearer&quot;)\r\n                                .description(\r\n                                        &quot;Provide the JWT token. JWT token can be obtained from the /token endpoint. If need to create an user, contact Griffith.&quot;)\r\n                                .bearerFormat(&quot;JWT&quot;)));\r\n        //@formatter:on\r\n\r\n    }\r\n\r\n//    @Bean\r\n//    public OpenAPI customOpenAPI(@Value(&quot;${application-description}&quot;)\r\n//                                 String appDesciption,\r\n//                                 @Value(&quot;${application-version}&quot;)\r\n//                                 String appVersion) {\r\n//        return new OpenAPI()\r\n//                .info(new Info()\r\n//                        .title(&quot;CSA Read API - Swagger&quot;)\r\n//                        .version(appVersion)\r\n//                        .description(appDesciption)\r\n//                        .termsOfService(&quot;http://swagger.io/terms/&quot;)\r\n//                        .license(new License().\r\n//                                name(&quot;Apache 2.0&quot;).\r\n//                                url(&quot;http://springdoc.org&quot;)));\r\n//    }\r\n\r\n//    @Bean\r\n//    public OpenAPI customOpenAPI() {\r\n//        final String securitySchemeName = &quot;bearerAuth&quot;;\r\n//        return new OpenAPI()\r\n//                .addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\r\n//                .components(\r\n//                        new Components()\r\n//                                .addSecuritySchemes(securitySchemeName,\r\n//                                        new SecurityScheme()\r\n//                                                .name(securitySchemeName)\r\n//                                                .type(SecurityScheme.Type.HTTP)\r\n//                                                .scheme(&quot;bearer&quot;)\r\n//                                                .bearerFormat(&quot;JWT&quot;)\r\n//                                )\r\n//                )\r\n//                .info(new Info().title(moduleName).version(apiVersion).description(moduleDescription));\r\n//    }\r\n}\r\n```\r\n\r\n3. Inside my controller, I have this (It&#39;s just a code block of two endpoints) :\r\n\r\n\r\n```\r\n(...)\r\nimport io.swagger.v3.oas.annotations.Operation;\r\nimport io.swagger.v3.oas.annotations.media.Content;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\r\nimport io.swagger.v3.oas.annotations.security.SecurityRequirement;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\n(...)\r\n\r\n@RestController\r\n@RequestMapping(&quot;/csa/api&quot;)\r\n@Tag(name = &quot;Users &amp; Clan Controller&quot;, description = &quot;This Endpoint manages Users and CSA Members&quot;)\r\npublic class ClanController extends Helper {\r\n\r\n(...)\r\n\r\n\r\n@PostMapping(&quot;/token&quot;)\r\n@Operation(summary = &quot;Request a token&quot;, description = &quot;Return a new token&quot; )\r\n@ApiResponses(value = {\r\n        @ApiResponse(responseCode = &quot;200&quot;, description = TOKEN_GENERATED_SUCCESSFULLY, content = @Content),\r\n        @ApiResponse(responseCode = &quot;400&quot;, description = EMAIL_OR_PASSWORD_WRONG, content = @Content),\r\n        @ApiResponse(responseCode = &quot;500&quot;, description = INTERNAL_SERVER_ERROR, content = @Content) })\r\npublic ResponseEntity&lt;Object&gt; token(@RequestParam(&quot;email&quot;) String email, @RequestParam(&quot;password&quot;) String password) {\r\n    try {\r\n        if(!isValidEmail(email))\r\n            return ResponseHandler.generateResponse(EMAIL_OR_PASSWORD_WRONG, HttpStatus.BAD_REQUEST, EMPTY);\r\n        var optionalUsers = usersRepository.findByEmailAndPassword(email, password);\r\n        if (!optionalUsers.isPresent())\r\n            return ResponseHandler.generateResponse(EMAIL_OR_PASSWORD_WRONG, HttpStatus.BAD_REQUEST, EMPTY);\r\n        var token = getJWTToken(email);\r\n        optionalUsers.get().setToken(token);\r\n        optionalUsers.get().setLastLogin(LocalDate.now());\r\n        usersRepository.save(optionalUsers.get());\r\n        return ResponseHandler.generateResponse(TOKEN_GENERATED_SUCCESSFULLY, HttpStatus.OK, new Token(token));\r\n    } catch (Exception e){\r\n        return ResponseHandler.generateResponse(INTERNAL_SERVER_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage());\r\n    }\r\n}\r\n\r\n@PostMapping(&quot;/updatePW&quot;)\r\n@Operation(summary = &quot;Update user password&quot;, description = &quot;Return successful if all validations were OK.&quot; )\r\n@ApiResponses(value = {\r\n        @ApiResponse(responseCode = &quot;201&quot;, description = PASSWORD_CHANGED_SUCCESSFULLY, content = @Content),\r\n        @ApiResponse(responseCode = &quot;400&quot;, description = EMAIL_OR_PASSWORD_WRONG, content = @Content),\r\n        @ApiResponse(responseCode = &quot;406&quot;, description = NEW_PASSWORD_ERROR, content = @Content),\r\n        @ApiResponse(responseCode = &quot;500&quot;, description = INTERNAL_SERVER_ERROR, content = @Content) })\r\n@SecurityRequirement(name = &quot;Bearer Authentication&quot;)\r\npublic ResponseEntity&lt;Object&gt; updatePassword(@RequestBody OldUser oldUser){\r\n    Users userSaved;\r\n    try {\r\n        if(!isValidEmail(oldUser.getEmail()))\r\n            return ResponseHandler.generateResponse(EMAIL_OR_PASSWORD_WRONG, HttpStatus.BAD_REQUEST, oldUser);\r\n        if(!oldUser.getNewPassword().isEmpty() &amp;&amp; !isValidPassword(oldUser))\r\n            return ResponseHandler.generateResponse(NEW_PASSWORD_ERROR, HttpStatus.NOT_ACCEPTABLE, oldUser);\r\n        var init = usersRepository.findAll();\r\n        var user = usersRepository.findByEmailAndPassword(oldUser.getEmail(), oldUser.getOldPassword());\r\n        if(!user.isPresent())\r\n            return ResponseHandler.generateResponse(EMAIL_OR_PASSWORD_WRONG, HttpStatus.BAD_REQUEST, oldUser);\r\n        user.get().setPassword(oldUser.getNewPassword());\r\n        if(!oldUser.getNewPassword().isEmpty()){\r\n            userSaved = usersRepository.save(user.get());\r\n        } else {\r\n            userSaved = usersRepository.save(new Users(user.get()));\r\n        }\r\n        emailService.sendMail(userSaved, EMAIL_CHANGE_PASSWORD);\r\n        return ResponseHandler.generateResponse(PASSWORD_CHANGED_SUCCESSFULLY, HttpStatus.CREATED, userSaved);\r\n    } catch (Exception exception) {\r\n        return ResponseHandler.generateResponse(INTERNAL_SERVER_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, exception.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nAs you can see in the first image.... For some reasons my &quot;tags&quot; of spring-doc are not working. I have no descriptions, error responses, any definition at all.\r\n\r\nI&#39;m working with SpringBoot 3.0.0 and spring-doc version 2.0.0, I have in my pom the following related imported artifacts to spring-doc: springdoc-openapi-starter-webmvc-ui, springdoc-openapi-starter-common, springdoc-openapi-starter-webflux-ui\r\n\r\nI&#39;m using also Java 17, and recently I started to use Dockerfile (This is the only way I have to make Swagger works without asking me credentials)\r\n\r\nPlease, any help with this will be very useful. I have been trying to figure out what to do for several weeks now, and the final users need Swagger implemented for easier access.... \r\n\r\n\r\n\r\nPS1: The response of api has this format: \r\n```\r\n    {\r\n        &quot;data&quot;: {\r\n            &quot;name&quot;: &quot;TEST NAME&quot;,\r\n            &quot;email&quot;: &quot;TEST.EMAIL@EMAIL.io&quot;,\r\n            &quot;password&quot;: &quot;TEST_PASSWORD&quot;,\r\n            &quot;dateCreated&quot;: &quot;2022-12-13&quot;,\r\n            &quot;dateModified&quot;: &quot;2022-12-13&quot;,\r\n            &quot;lastLogin&quot;: &quot;2022-12-13&quot;,\r\n            &quot;token&quot;: &quot;Bearer TOKEN&quot;,\r\n            &quot;active&quot;: true\r\n        },\r\n        &quot;message&quot;: &quot;User Created Successfully&quot;,\r\n        &quot;status&quot;: 201 \r\n}\r\n```\r\nBasically is:\r\n```\r\n{\r\n    &quot;data&quot; : Object\r\n    &quot;message&quot; : String\r\n    &quot;status&quot; : Int\r\n}\r\n```\r\nWhere data is the object created in most of cases. Message, just a typo message. status, HTTP Code with the status of operation...\r\n\r\n\r\n","title":"Swagger not working properly with SB 3 + SpringDoc 2","body":"<p>I have been developing new APIs in Springboot 3 and it has been more a headache than something good, but finally I'm able to do something. Issue is that I was able to add Swagger to it, with OpenAPI from Spring-doc release 2. but the configuration file is not reading my properties. Also I have troubles trying to set up my bearer authentication....</p>\n<p>This is my actual swagger: <a href=\"https://i.stack.imgur.com/3VOmg.png\" rel=\"nofollow noreferrer\">Swagger + spring-doc</a></p>\n<p>And third issue related to this is... I keep can't make the swagger to read the default responses... even I configured like in the old versions, but I couldn't make it work...</p>\n<ol>\n<li>For properties, I have tried to add them before the config class, and ad a Bean in methods.</li>\n<li>For bearer, I was following Baeldung JWT Swagger guide, but It confuses me a little, tried to run but didnt work.</li>\n</ol>\n<p>This is my OpenApiConfig class (commented lines are because they are not compatible with tag declaration):</p>\n<pre><code>package info.peluka.csaread.config;\n\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\nimport io.swagger.v3.oas.annotations.info.Contact;\nimport io.swagger.v3.oas.annotations.info.Info;\nimport io.swagger.v3.oas.annotations.info.License;\nimport io.swagger.v3.oas.annotations.servers.Server;\nimport io.swagger.v3.oas.models.Components;\nimport io.swagger.v3.oas.models.OpenAPI;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport io.swagger.v3.oas.models.security.SecurityRequirement;\nimport io.swagger.v3.oas.models.security.SecurityScheme;\n\n@Configuration\n@OpenAPIDefinition(\n        info =@Info(\n                title = &quot;${module-name}&quot;,\n                version = &quot;${api-version}&quot;,\n                contact = @Contact(\n                        name = &quot;Joseph&quot;, email = &quot;CSA_Read_API@peluka.info&quot;, url = &quot;https://www.peluka.info&quot;\n                ),\n                license = @License(\n                        name = &quot;Apache 2.0&quot;, url = &quot;https://www.apache.org/licenses/LICENSE-2.0&quot;\n                ),\n                description = &quot;${module-description}&quot;\n        ),\n        servers = @Server(\n                url = &quot;${api.server.url}&quot;,\n                description = &quot;Production&quot;\n        )\n)\npublic class OpenApiConfig {\n\n    private final String moduleName;\n    private final String apiVersion;\n\n    private final String moduleDescription;\n\n    public OpenApiConfig(\n            @Value(&quot;${module-name}&quot;) String moduleName,\n            @Value(&quot;${api-version}&quot;) String apiVersion,\n            @Value(&quot;${module-description}&quot;) String moduleDescription) {\n        this.moduleName = moduleName;\n        this.apiVersion = apiVersion;\n        this.moduleDescription = moduleDescription;\n    }\n\n    /**\n     * Configure the OpenAPI components.\n     *\n     * @return Returns fully configure OpenAPI object\n     * @see OpenAPI\n     */\n    @Bean\n    public OpenAPI customizeOpenAPI() {\n        //@formatter:off\n        final String securitySchemeName = &quot;bearerAuth&quot;;\n        return new OpenAPI()\n                .addSecurityItem(new SecurityRequirement()\n                        .addList(securitySchemeName))\n                .components(new Components()\n                        .addSecuritySchemes(securitySchemeName, new SecurityScheme()\n                                .name(securitySchemeName)\n                                .type(SecurityScheme.Type.HTTP)\n                                .scheme(&quot;bearer&quot;)\n                                .description(\n                                        &quot;Provide the JWT token. JWT token can be obtained from the /token endpoint. If need to create an user, contact Griffith.&quot;)\n                                .bearerFormat(&quot;JWT&quot;)));\n        //@formatter:on\n\n    }\n\n//    @Bean\n//    public OpenAPI customOpenAPI(@Value(&quot;${application-description}&quot;)\n//                                 String appDesciption,\n//                                 @Value(&quot;${application-version}&quot;)\n//                                 String appVersion) {\n//        return new OpenAPI()\n//                .info(new Info()\n//                        .title(&quot;CSA Read API - Swagger&quot;)\n//                        .version(appVersion)\n//                        .description(appDesciption)\n//                        .termsOfService(&quot;http://swagger.io/terms/&quot;)\n//                        .license(new License().\n//                                name(&quot;Apache 2.0&quot;).\n//                                url(&quot;http://springdoc.org&quot;)));\n//    }\n\n//    @Bean\n//    public OpenAPI customOpenAPI() {\n//        final String securitySchemeName = &quot;bearerAuth&quot;;\n//        return new OpenAPI()\n//                .addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\n//                .components(\n//                        new Components()\n//                                .addSecuritySchemes(securitySchemeName,\n//                                        new SecurityScheme()\n//                                                .name(securitySchemeName)\n//                                                .type(SecurityScheme.Type.HTTP)\n//                                                .scheme(&quot;bearer&quot;)\n//                                                .bearerFormat(&quot;JWT&quot;)\n//                                )\n//                )\n//                .info(new Info().title(moduleName).version(apiVersion).description(moduleDescription));\n//    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Inside my controller, I have this (It's just a code block of two endpoints) :</li>\n</ol>\n<pre><code>(...)\nimport io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.media.Content;\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\nimport io.swagger.v3.oas.annotations.security.SecurityRequirement;\nimport io.swagger.v3.oas.annotations.tags.Tag;\n(...)\n\n@RestController\n@RequestMapping(&quot;/csa/api&quot;)\n@Tag(name = &quot;Users &amp; Clan Controller&quot;, description = &quot;This Endpoint manages Users and CSA Members&quot;)\npublic class ClanController extends Helper {\n\n(...)\n\n\n@PostMapping(&quot;/token&quot;)\n@Operation(summary = &quot;Request a token&quot;, description = &quot;Return a new token&quot; )\n@ApiResponses(value = {\n        @ApiResponse(responseCode = &quot;200&quot;, description = TOKEN_GENERATED_SUCCESSFULLY, content = @Content),\n        @ApiResponse(responseCode = &quot;400&quot;, description = EMAIL_OR_PASSWORD_WRONG, content = @Content),\n        @ApiResponse(responseCode = &quot;500&quot;, description = INTERNAL_SERVER_ERROR, content = @Content) })\npublic ResponseEntity&lt;Object&gt; token(@RequestParam(&quot;email&quot;) String email, @RequestParam(&quot;password&quot;) String password) {\n    try {\n        if(!isValidEmail(email))\n            return ResponseHandler.generateResponse(EMAIL_OR_PASSWORD_WRONG, HttpStatus.BAD_REQUEST, EMPTY);\n        var optionalUsers = usersRepository.findByEmailAndPassword(email, password);\n        if (!optionalUsers.isPresent())\n            return ResponseHandler.generateResponse(EMAIL_OR_PASSWORD_WRONG, HttpStatus.BAD_REQUEST, EMPTY);\n        var token = getJWTToken(email);\n        optionalUsers.get().setToken(token);\n        optionalUsers.get().setLastLogin(LocalDate.now());\n        usersRepository.save(optionalUsers.get());\n        return ResponseHandler.generateResponse(TOKEN_GENERATED_SUCCESSFULLY, HttpStatus.OK, new Token(token));\n    } catch (Exception e){\n        return ResponseHandler.generateResponse(INTERNAL_SERVER_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage());\n    }\n}\n\n@PostMapping(&quot;/updatePW&quot;)\n@Operation(summary = &quot;Update user password&quot;, description = &quot;Return successful if all validations were OK.&quot; )\n@ApiResponses(value = {\n        @ApiResponse(responseCode = &quot;201&quot;, description = PASSWORD_CHANGED_SUCCESSFULLY, content = @Content),\n        @ApiResponse(responseCode = &quot;400&quot;, description = EMAIL_OR_PASSWORD_WRONG, content = @Content),\n        @ApiResponse(responseCode = &quot;406&quot;, description = NEW_PASSWORD_ERROR, content = @Content),\n        @ApiResponse(responseCode = &quot;500&quot;, description = INTERNAL_SERVER_ERROR, content = @Content) })\n@SecurityRequirement(name = &quot;Bearer Authentication&quot;)\npublic ResponseEntity&lt;Object&gt; updatePassword(@RequestBody OldUser oldUser){\n    Users userSaved;\n    try {\n        if(!isValidEmail(oldUser.getEmail()))\n            return ResponseHandler.generateResponse(EMAIL_OR_PASSWORD_WRONG, HttpStatus.BAD_REQUEST, oldUser);\n        if(!oldUser.getNewPassword().isEmpty() &amp;&amp; !isValidPassword(oldUser))\n            return ResponseHandler.generateResponse(NEW_PASSWORD_ERROR, HttpStatus.NOT_ACCEPTABLE, oldUser);\n        var init = usersRepository.findAll();\n        var user = usersRepository.findByEmailAndPassword(oldUser.getEmail(), oldUser.getOldPassword());\n        if(!user.isPresent())\n            return ResponseHandler.generateResponse(EMAIL_OR_PASSWORD_WRONG, HttpStatus.BAD_REQUEST, oldUser);\n        user.get().setPassword(oldUser.getNewPassword());\n        if(!oldUser.getNewPassword().isEmpty()){\n            userSaved = usersRepository.save(user.get());\n        } else {\n            userSaved = usersRepository.save(new Users(user.get()));\n        }\n        emailService.sendMail(userSaved, EMAIL_CHANGE_PASSWORD);\n        return ResponseHandler.generateResponse(PASSWORD_CHANGED_SUCCESSFULLY, HttpStatus.CREATED, userSaved);\n    } catch (Exception exception) {\n        return ResponseHandler.generateResponse(INTERNAL_SERVER_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, exception.getMessage());\n    }\n}\n</code></pre>\n<p>As you can see in the first image.... For some reasons my &quot;tags&quot; of spring-doc are not working. I have no descriptions, error responses, any definition at all.</p>\n<p>I'm working with SpringBoot 3.0.0 and spring-doc version 2.0.0, I have in my pom the following related imported artifacts to spring-doc: springdoc-openapi-starter-webmvc-ui, springdoc-openapi-starter-common, springdoc-openapi-starter-webflux-ui</p>\n<p>I'm using also Java 17, and recently I started to use Dockerfile (This is the only way I have to make Swagger works without asking me credentials)</p>\n<p>Please, any help with this will be very useful. I have been trying to figure out what to do for several weeks now, and the final users need Swagger implemented for easier access....</p>\n<p>PS1: The response of api has this format:</p>\n<pre><code>    {\n        &quot;data&quot;: {\n            &quot;name&quot;: &quot;TEST NAME&quot;,\n            &quot;email&quot;: &quot;TEST.EMAIL@EMAIL.io&quot;,\n            &quot;password&quot;: &quot;TEST_PASSWORD&quot;,\n            &quot;dateCreated&quot;: &quot;2022-12-13&quot;,\n            &quot;dateModified&quot;: &quot;2022-12-13&quot;,\n            &quot;lastLogin&quot;: &quot;2022-12-13&quot;,\n            &quot;token&quot;: &quot;Bearer TOKEN&quot;,\n            &quot;active&quot;: true\n        },\n        &quot;message&quot;: &quot;User Created Successfully&quot;,\n        &quot;status&quot;: 201 \n}\n</code></pre>\n<p>Basically is:</p>\n<pre><code>{\n    &quot;data&quot; : Object\n    &quot;message&quot; : String\n    &quot;status&quot; : Int\n}\n</code></pre>\n<p>Where data is the object created in most of cases. Message, just a typo message. status, HTTP Code with the status of operation...</p>\n"},{"tags":["java","spring","spring-boot","logging","yaml"],"comments":[{"owner":{"account_id":5043640,"reputation":788,"user_id":4050313,"display_name":"Jayesh Choudhary"},"score":1,"creation_date":1677683337,"post_id":75605378,"comment_id":133386687,"body_markdown":"For different environments you can create multiple profiles to mange diff logging levels, just like any other property.","body":"For different environments you can create multiple profiles to mange diff logging levels, just like any other property."},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677683655,"post_id":75605378,"comment_id":133386779,"body_markdown":"Yes, I am asking that. What would be a good practies for these environments? (level of the logs)","body":"Yes, I am asking that. What would be a good practies for these environments? (level of the logs)"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677687232,"post_id":75605378,"comment_id":133388006,"body_markdown":"And also what about deleting log file periodically?","body":"And also what about deleting log file periodically?"}],"owner":{"display_name":"user21263160"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677682602,"creation_date":1677682602,"question_id":75605378,"body_markdown":"I am using the following log setting in my `application.yml`, but I am not sure if it is a proper configuration. \r\n\r\n```\r\nlogging:\r\n  pattern:\r\n    console: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&quot;\r\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&quot;\r\n  level:\r\n    org.springframework: error\r\n    org.hibernate: error\r\n    com.company: debug\r\n```\r\n\r\nRegarding to `file` and `level` sections, how should I set my application for dev and prod environments? \r\n\r\nAlso I am not sure if I should use a level for my base package as `com.company`. Is there any level to be added or removed in the level section? ","title":"Setting log level in Spring Boot apps?","body":"<p>I am using the following log setting in my <code>application.yml</code>, but I am not sure if it is a proper configuration.</p>\n<pre><code>logging:\n  pattern:\n    console: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&quot;\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&quot;\n  level:\n    org.springframework: error\n    org.hibernate: error\n    com.company: debug\n</code></pre>\n<p>Regarding to <code>file</code> and <code>level</code> sections, how should I set my application for dev and prod environments?</p>\n<p>Also I am not sure if I should use a level for my base package as <code>com.company</code>. Is there any level to be added or removed in the level section?</p>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1677685284,"post_id":75605367,"comment_id":133387303,"body_markdown":"Which version of java sdk is installed on jenkins server?","body":"Which version of java sdk is installed on jenkins server?"},{"owner":{"account_id":25037415,"reputation":1,"user_id":18894651,"display_name":"NickH"},"score":0,"creation_date":1677686905,"post_id":75605367,"comment_id":133387898,"body_markdown":"That im not sure. does it change from project to project? or is it same for the pipeline?","body":"That im not sure. does it change from project to project? or is it same for the pipeline?"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1677746708,"post_id":75605367,"comment_id":133399706,"body_markdown":"Jenkins executes your maven process in his own enviroment.","body":"Jenkins executes your maven process in his own enviroment."}],"owner":{"account_id":25037415,"reputation":1,"user_id":18894651,"display_name":"NickH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677682559,"creation_date":1677682559,"question_id":75605367,"body_markdown":"I&#39;m trying to update from java 8 to java 11. I was able to update few other projects without an issue. \r\nFor this particular project jenkin sonarcube scanner is kept fails and builds an unstable build.  I can build locally without any issues but when I run it on the pipeline, it throws this error. \r\n\r\n````\r\n[INFO] Compiling 255 source files to /home/jenkins/&lt;path&gt;/classes\r\n[INFO]                                                                         \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Skipping &lt;project name&gt;\r\n[INFO] This project has been banned from the build due to previous failures.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 34.830 s\r\n[INFO] Finished at: 2023-02-28T15:02:08+00:00\r\n[INFO] Final Memory: 19M/47M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project &lt;project name&gt;: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n[Pipeline] }\r\nWARN: Unable to locate &#39;report-task.txt&#39; in the workspace. Did the SonarScanner succeed?\r\n\r\n````\r\n\r\nHas anyone seen this error? How did you resolve it? \r\n\r\nThanks in advance \r\n\r\nI tried adding some missing dependencies and I added below to the properties \r\n```\r\n&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt; \r\n```\r\n","title":"jenkins error: This project has been banned from the build due to previous failures","body":"<p>I'm trying to update from java 8 to java 11. I was able to update few other projects without an issue.\nFor this particular project jenkin sonarcube scanner is kept fails and builds an unstable build.  I can build locally without any issues but when I run it on the pipeline, it throws this error.</p>\n<pre><code>[INFO] Compiling 255 source files to /home/jenkins/&lt;path&gt;/classes\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Skipping &lt;project name&gt;\n[INFO] This project has been banned from the build due to previous failures.\n[INFO] ------------------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 34.830 s\n[INFO] Finished at: 2023-02-28T15:02:08+00:00\n[INFO] Final Memory: 19M/47M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project &lt;project name&gt;: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[Pipeline] }\nWARN: Unable to locate 'report-task.txt' in the workspace. Did the SonarScanner succeed?\n\n</code></pre>\n<p>Has anyone seen this error? How did you resolve it?</p>\n<p>Thanks in advance</p>\n<p>I tried adding some missing dependencies and I added below to the properties</p>\n<pre><code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt; \n</code></pre>\n"},{"tags":["java","elasticsearch","sonarqube"],"owner":{"account_id":9636062,"reputation":113,"user_id":7152096,"display_name":"Varanasi Phaneendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677681978,"creation_date":1677681978,"question_id":75605239,"body_markdown":"Im trying to setup **SonarQube** latest **community edition** in my server **Windows Server 2012 R2**\r\nbut facing below error while run bat file ```StartSonar.bat```\r\n```\r\n2023.03.01 20:10:21 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory D:\\sonarqube-9.9.0.65466\\temp\r\n2023.03.01 20:10:22 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on [HTTP: 127.0.0.1:9001, TCP: 127.0.0.1:62833]\r\n2023.03.01 20:10:22 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[ELASTICSEARCH] from [D:\\sonarqube-9.9.0.65466\\elasticsearch]: C:\\Program Files\\Java\\jdk-19\\bin\\java -XX:+UseG1GC -Djava.io.tmpdir=D:\\sonarqube-9.9.0.65466\\temp -XX:ErrorFile=D:\\sonarqube-9.9.0.65466\\logs\\es_hs_err_pid%p.log -Des.networkaddress.cache.ttl=60 -Des.networkaddress.cache.negative.ttl=10 -XX:+AlwaysPreTouch -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -Djna.tmpdir=D:\\sonarqube-9.9.0.65466\\temp -XX:-OmitStackTraceInFastThrow -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -Dio.netty.allocator.numDirectArenas=0 -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Dlog4j2.formatMsgNoLookups=true -Djava.locale.providers=COMPAT -Dcom.redhat.fips=false -Xmx512m -Xms512m -XX:MaxDirectMemorySize=256m -XX:+HeapDumpOnOutOfMemoryError -Delasticsearch -Des.path.home=D:\\sonarqube-9.9.0.65466\\elasticsearch -Des.path.conf=D:\\sonarqube-9.9.0.65466\\temp\\conf\\es -cp lib/* org.elasticsearch.bootstrap.Elasticsearch\r\n2023.03.01 20:10:22 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\r\n2023.03.01 20:10:23 WARN  app[][o.s.a.p.AbstractManagedProcess] Process exited with exit value [ElasticSearch]: 1\r\n2023.03.01 20:10:23 INFO  app[][o.s.a.SchedulerImpl] Process[ElasticSearch] is stopped\r\n2023.03.01 20:10:23 INFO  app[][o.s.a.SchedulerImpl] SonarQube is stopped\r\n\r\n```\r\nUnable to run sonarqube.\r\nSuggest what is missing\r\n```\r\nJAVA_HOME\r\nSONAR_HOME\r\n```\r\nare placed in environment variables.\r\n\r\nDont know what is missing\r\n","title":"SonarQube 9.6 unable to run in Windows 2012 R2","body":"<p>Im trying to setup <strong>SonarQube</strong> latest <strong>community edition</strong> in my server <strong>Windows Server 2012 R2</strong>\nbut facing below error while run bat file <code>StartSonar.bat</code></p>\n<pre><code>2023.03.01 20:10:21 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory D:\\sonarqube-9.9.0.65466\\temp\n2023.03.01 20:10:22 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on [HTTP: 127.0.0.1:9001, TCP: 127.0.0.1:62833]\n2023.03.01 20:10:22 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[ELASTICSEARCH] from [D:\\sonarqube-9.9.0.65466\\elasticsearch]: C:\\Program Files\\Java\\jdk-19\\bin\\java -XX:+UseG1GC -Djava.io.tmpdir=D:\\sonarqube-9.9.0.65466\\temp -XX:ErrorFile=D:\\sonarqube-9.9.0.65466\\logs\\es_hs_err_pid%p.log -Des.networkaddress.cache.ttl=60 -Des.networkaddress.cache.negative.ttl=10 -XX:+AlwaysPreTouch -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -Djna.tmpdir=D:\\sonarqube-9.9.0.65466\\temp -XX:-OmitStackTraceInFastThrow -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -Dio.netty.allocator.numDirectArenas=0 -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Dlog4j2.formatMsgNoLookups=true -Djava.locale.providers=COMPAT -Dcom.redhat.fips=false -Xmx512m -Xms512m -XX:MaxDirectMemorySize=256m -XX:+HeapDumpOnOutOfMemoryError -Delasticsearch -Des.path.home=D:\\sonarqube-9.9.0.65466\\elasticsearch -Des.path.conf=D:\\sonarqube-9.9.0.65466\\temp\\conf\\es -cp lib/* org.elasticsearch.bootstrap.Elasticsearch\n2023.03.01 20:10:22 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\n2023.03.01 20:10:23 WARN  app[][o.s.a.p.AbstractManagedProcess] Process exited with exit value [ElasticSearch]: 1\n2023.03.01 20:10:23 INFO  app[][o.s.a.SchedulerImpl] Process[ElasticSearch] is stopped\n2023.03.01 20:10:23 INFO  app[][o.s.a.SchedulerImpl] SonarQube is stopped\n\n</code></pre>\n<p>Unable to run sonarqube.\nSuggest what is missing</p>\n<pre><code>JAVA_HOME\nSONAR_HOME\n</code></pre>\n<p>are placed in environment variables.</p>\n<p>Dont know what is missing</p>\n"},{"tags":["java","linux","docker"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1677679710,"post_id":75604763,"comment_id":133385391,"body_markdown":"Replacing `$PASS` with the value of the environment variable is what a shell does (usually bash or one of its relatives on Linux). If you don&#39;t hand that line to a shell to execute it, but execute it some other way, then nothing will replace that string. How/where to you run that command? Is that in a terminal? Or some input-field in another application?","body":"Replacing <code>$PASS</code> with the value of the environment variable is what a shell does (usually bash or one of its relatives on Linux). If you don&#39;t hand that line to a shell to execute it, but execute it some other way, then nothing will replace that string. How/where to you run that command? Is that in a terminal? Or some input-field in another application?"},{"owner":{"account_id":2417133,"reputation":427,"user_id":2110944,"accept_rate":75,"display_name":"theSemenov"},"score":0,"creation_date":1677681341,"post_id":75604763,"comment_id":133385953,"body_markdown":"It&#39;s work from bash, but didn&#39;t work in docker with command\n`ENTRYPOINT java $JAVA_OPTS -jar /my.jar`\nwhre `JAVA_OPTS=-Djavax.net.ssl.trustStore=/certs -Djavax.net.ssl.trustStorePassword=$PASS`","body":"It&#39;s work from bash, but didn&#39;t work in docker with command <code>ENTRYPOINT java $JAVA_OPTS -jar &#47;my.jar</code> whre <code>JAVA_OPTS=-Djavax.net.ssl.trustStore=&#47;certs -Djavax.net.ssl.trustStorePassword=$PASS</code>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1677681611,"post_id":75604763,"comment_id":133386065,"body_markdown":"Where do you expect docker to take the environment variables from? Environment variables in Docker are either set in the docker file or **explicitly** given when using `docker run`, it won&#39;t automagically pick up the environment variables from the shell (that would defeat the purpose of having a contianer that&#39;s separate from the outside).","body":"Where do you expect docker to take the environment variables from? Environment variables in Docker are either set in the docker file or <b>explicitly</b> given when using <code>docker run</code>, it won&#39;t automagically pick up the environment variables from the shell (that would defeat the purpose of having a contianer that&#39;s separate from the outside)."}],"owner":{"account_id":2417133,"reputation":427,"user_id":2110944,"accept_rate":75,"display_name":"theSemenov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677681909,"creation_date":1677679498,"question_id":75604763,"body_markdown":"I have linux and enviroment variable `$PASS`, eg `123`.\r\n\r\nI want to run java application and pass this variable. \r\nExample:\r\n\r\n```\r\njava -jar -Djavax.net.ssl.trustStore=/certs -Djavax.net.ssl.trustStorePassword=$PASS my.jar\r\n```\r\nAnd  suspect that `$PASS` will be replaced to its value during start process. But in running application I see strinng `$PASS` instead of `123`\r\n\r\nMy question is, how to properly run java app with command line with enviroment variable\r\n\r\nupd:\r\nIt&#39;s work from bash, but didn&#39;t work in docker with command in dockerfile\r\n```\r\nENTRYPOINT java $JAVA_OPTS -jar /my.jar\r\n``` \r\nwhre `JAVA_OPTS=-Djavax.net.ssl.trustStore=/certs -Djavax.net.ssl.trustStorePassword=$PASS`","title":"How to use enviroment variable in java command line argument","body":"<p>I have linux and enviroment variable <code>$PASS</code>, eg <code>123</code>.</p>\n<p>I want to run java application and pass this variable.\nExample:</p>\n<pre><code>java -jar -Djavax.net.ssl.trustStore=/certs -Djavax.net.ssl.trustStorePassword=$PASS my.jar\n</code></pre>\n<p>And  suspect that <code>$PASS</code> will be replaced to its value during start process. But in running application I see strinng <code>$PASS</code> instead of <code>123</code></p>\n<p>My question is, how to properly run java app with command line with enviroment variable</p>\n<p>upd:\nIt's work from bash, but didn't work in docker with command in dockerfile</p>\n<pre><code>ENTRYPOINT java $JAVA_OPTS -jar /my.jar\n</code></pre>\n<p>whre <code>JAVA_OPTS=-Djavax.net.ssl.trustStore=/certs -Djavax.net.ssl.trustStorePassword=$PASS</code></p>\n"},{"tags":["java","parsing","web-crawler","jsoup","crawler4j"],"answers":[{"tags":[],"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677681697,"creation_date":1474283890,"answer_id":39571912,"question_id":39440462,"body_markdown":"`crawler4j` respects crawler politness such as the [`robots.txt`][1]. In your case this file is the following [one][2].\r\n\r\nInspecting this file reveals, that it is disallowed to crawl your given seed points:\r\n\r\n     Disallow: /search\r\n     \r\n\r\nSo you won&#39;t be able to crawl the given site, unless you modify the [classes][3] to ignore `robots.txt`. However, this is not considered polite and is not compliant with crawler ethics.\r\n\r\n\r\n  [1]: http://www.robotstxt.org/\r\n  [2]: https://www.google.com/robots.txt\r\n  [3]: https://github.com/yasserg/crawler4j/tree/master/crawler4j/src/main/java/edu/uci/ics/crawler4j/robotstxt","title":"Is it able to retrieve website content by Crawler4j?","body":"<p><code>crawler4j</code> respects crawler politness such as the <a href=\"http://www.robotstxt.org/\" rel=\"nofollow noreferrer\"><code>robots.txt</code></a>. In your case this file is the following <a href=\"https://www.google.com/robots.txt\" rel=\"nofollow noreferrer\">one</a>.</p>\n<p>Inspecting this file reveals, that it is disallowed to crawl your given seed points:</p>\n<pre><code> Disallow: /search\n \n</code></pre>\n<p>So you won't be able to crawl the given site, unless you modify the <a href=\"https://github.com/yasserg/crawler4j/tree/master/crawler4j/src/main/java/edu/uci/ics/crawler4j/robotstxt\" rel=\"nofollow noreferrer\">classes</a> to ignore <code>robots.txt</code>. However, this is not considered polite and is not compliant with crawler ethics.</p>\n"},{"tags":[],"owner":{"account_id":444896,"reputation":1010,"user_id":837005,"accept_rate":50,"display_name":"DaddyMoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483972842,"creation_date":1483972842,"answer_id":41550424,"question_id":39440462,"body_markdown":"There is a lot of questions on your post I will try my best to answer:\r\n\r\n**&quot;Is it able to retrieve website content by Crawler4j?&quot;**\r\n\r\n 1. Yes it can as demonstrated by the example on the github source code\r\n 2. However for for more advance DOM parsing/manipulation I will encourage you to add Jsoup. Here is the documentation for [Jsoup](https://jsoup.org/)\r\n\r\n**&quot;Hence , I wonder can crawler4j perform the function I raised . Or should I use crawler4j +JSouptogether ?&quot;**\r\n\r\n 1. Use Crawler4j for what it is great at most, Crawling\r\n 2. Use Jsoup for extracting and manipulating data via a convenient API\r\n\r\n**&quot;It only returns the external links found from the orginal link . Like these&quot;**\r\n\r\n - In the `BasicCrawler` you&#39;ll need to add the allow urls here `return href.startsWith(&quot;http://www.ics.uci.edu/&quot;);` modify to include more\r\n - In the `BasicCrawlController` you&#39;ll need to add your page seeds here `        config.setMaxDepthOfCrawling(2);\r\n`","title":"Is it able to retrieve website content by Crawler4j?","body":"<p>There is a lot of questions on your post I will try my best to answer:</p>\n\n<p><strong>\"Is it able to retrieve website content by Crawler4j?\"</strong></p>\n\n<ol>\n<li>Yes it can as demonstrated by the example on the github source code</li>\n<li>However for for more advance DOM parsing/manipulation I will encourage you to add Jsoup. Here is the documentation for <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a></li>\n</ol>\n\n<p><strong>\"Hence , I wonder can crawler4j perform the function I raised . Or should I use crawler4j +JSouptogether ?\"</strong></p>\n\n<ol>\n<li>Use Crawler4j for what it is great at most, Crawling</li>\n<li>Use Jsoup for extracting and manipulating data via a convenient API</li>\n</ol>\n\n<p><strong>\"It only returns the external links found from the orginal link . Like these\"</strong></p>\n\n<ul>\n<li>In the <code>BasicCrawler</code> you'll need to add the allow urls here <code>return href.startsWith(\"http://www.ics.uci.edu/\");</code> modify to include more</li>\n<li>In the <code>BasicCrawlController</code> you'll need to add your page seeds here <code>config.setMaxDepthOfCrawling(2);\n</code></li>\n</ul>\n"}],"owner":{"account_id":8963826,"reputation":405,"user_id":6685357,"accept_rate":50,"display_name":"evabb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":984,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677681697,"creation_date":1473626641,"question_id":39440462,"body_markdown":"I m very new to Java.\r\n\r\nNow , I want to retrieve the news article contents using Google news search -keyword: &quot;toy&quot; from page 1 to page 10.\r\n\r\nhttps://www.google.com/search?q=toy&amp;biw=1366&amp;bih=645&amp;tbm=nws&amp;source=lnms&amp;sa=X&amp;ved=0ahUKEwiTp82syoXPAhUMkpQKHawZBOoQ_AUICygE\r\n\r\nThat is retrieving 100 news content from page 1 - page 10. (assuming 10 news article in every pages)\r\n\r\nAfter I read this \r\nhttps://stackoverflow.com/questions/34888510/crawler4j-vs-jsoup-for-the-pages-crawling-and-parsing-in-java/34892537#34892537\r\n\r\nI decide to use Crawler4j as it can \r\n\r\n&gt; &gt; Give base URI (home page) \r\n&gt; &gt; \r\n&gt; &gt; Take all the URIs from each page and retrieve the contents of those\r\n&gt; &gt; too.  \r\n&gt; \r\n&gt; &gt;Move recursively for every URI you  retrieve.  \r\n&gt; \r\n&gt; &gt;Retrieve the contents only of URIs that are inside this website (there\r\n&gt; could be\r\n&gt; &gt; external URIs referencing another website, we  don&#39;t need those).\r\n\r\nIn my case , I can give the google search page from p1 to p10 .And it returns the 100 news article if I set `intnumberOfCrawlers=1`\r\n\r\n\r\n----------\r\nHowever , when i try the Quickstart of Crawler4j [example][1]\r\n\r\nIt only returns the external links found from the orginal link .\r\nLike these:\r\n\r\n        URL: http://www.ics.uci.edu/~lopes/\r\n    Text length: 2619\r\n    Html length: 11656\r\n    Number of outgoing links: 38\r\n    URL: http://www.ics.uci.edu/~welling/\r\n    Text length: 4503\r\n    Html length: 23713\r\n    Number of outgoing links: 24\r\n    URL: http://www.ics.uci.edu/~welling/teaching/courses.html\r\n    Text length: 2222\r\n    Html length: 15138\r\n    Number of outgoing links: 33\r\n    URL: http://www.ics.uci.edu/\r\n    Text length: 3661\r\n    Html length: 51628\r\n    Number of outgoing links: 86\r\n   \r\n\r\n\r\n----------\r\n\r\n**Hence , I wonder can `crawler4j` perform the function I raised . Or should I use `crawler4j` +` JSoup`together ?**\r\n  [1]: https://github.com/yasserg/crawler4j","title":"Is it able to retrieve website content by Crawler4j?","body":"<p>I m very new to Java.</p>\n\n<p>Now , I want to retrieve the news article contents using Google news search -keyword: \"toy\" from page 1 to page 10.</p>\n\n<p><a href=\"https://www.google.com/search?q=toy&amp;biw=1366&amp;bih=645&amp;tbm=nws&amp;source=lnms&amp;sa=X&amp;ved=0ahUKEwiTp82syoXPAhUMkpQKHawZBOoQ_AUICygE\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=toy&amp;biw=1366&amp;bih=645&amp;tbm=nws&amp;source=lnms&amp;sa=X&amp;ved=0ahUKEwiTp82syoXPAhUMkpQKHawZBOoQ_AUICygE</a></p>\n\n<p>That is retrieving 100 news content from page 1 - page 10. (assuming 10 news article in every pages)</p>\n\n<p>After I read this \n<a href=\"https://stackoverflow.com/questions/34888510/crawler4j-vs-jsoup-for-the-pages-crawling-and-parsing-in-java/34892537#34892537\">Crawler4j vs. Jsoup for the pages crawling and parsing in Java</a></p>\n\n<p>I decide to use Crawler4j as it can </p>\n\n<blockquote>\n  <blockquote>\n    <p>Give base URI (home page) </p>\n    \n    <p>Take all the URIs from each page and retrieve the contents of those\n    too.  </p>\n    \n    <p>Move recursively for every URI you  retrieve.  </p>\n    \n    <p>Retrieve the contents only of URIs that are inside this website (there\n    could be\n    external URIs referencing another website, we  don't need those).</p>\n  </blockquote>\n</blockquote>\n\n<p>In my case , I can give the google search page from p1 to p10 .And it returns the 100 news article if I set <code>intnumberOfCrawlers=1</code></p>\n\n<hr>\n\n<p>However , when i try the Quickstart of Crawler4j <a href=\"https://github.com/yasserg/crawler4j\" rel=\"nofollow noreferrer\">example</a></p>\n\n<p>It only returns the external links found from the orginal link .\nLike these:</p>\n\n<pre><code>    URL: http://www.ics.uci.edu/~lopes/\nText length: 2619\nHtml length: 11656\nNumber of outgoing links: 38\nURL: http://www.ics.uci.edu/~welling/\nText length: 4503\nHtml length: 23713\nNumber of outgoing links: 24\nURL: http://www.ics.uci.edu/~welling/teaching/courses.html\nText length: 2222\nHtml length: 15138\nNumber of outgoing links: 33\nURL: http://www.ics.uci.edu/\nText length: 3661\nHtml length: 51628\nNumber of outgoing links: 86\n</code></pre>\n\n<hr>\n\n<p><strong>Hence , I wonder can <code>crawler4j</code> perform the function I raised . Or should I use <code>crawler4j</code> +<code>JSoup</code>together ?</strong></p>\n"},{"tags":["javascript","java","automation","frontend","cypress"],"answers":[{"tags":[],"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677681543,"creation_date":1677681543,"answer_id":75605151,"question_id":75599759,"body_markdown":"`cy.waitUntil` has an [optional objects parameter, where you can pass in additional arguments to the command.][1] This parameter is in the second position, and could be used in your case like so:\r\n\r\n```js\r\ncy.waitUntil(() =&gt; {\r\n  // cypress code\r\n}, {\r\n  timeout: 10000 // or another value, in milliseconds, to change the timeout\r\n});\r\n```\r\n\r\n\r\n  [1]: https://www.npmjs.com/package/cypress-wait-until#arguments","title":"Can we increase &quot;wait Until&quot; plugin default time in cypress which is 5 seconds","body":"<p><code>cy.waitUntil</code> has an <a href=\"https://www.npmjs.com/package/cypress-wait-until#arguments\" rel=\"nofollow noreferrer\">optional objects parameter, where you can pass in additional arguments to the command.</a> This parameter is in the second position, and could be used in your case like so:</p>\n<pre class=\"lang-js prettyprint-override\"><code>cy.waitUntil(() =&gt; {\n  // cypress code\n}, {\n  timeout: 10000 // or another value, in milliseconds, to change the timeout\n});\n</code></pre>\n"}],"owner":{"account_id":20569048,"reputation":1,"user_id":15097772,"display_name":"Rabia Rana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677681543,"creation_date":1677647010,"question_id":75599759,"body_markdown":"Actually when i use plugin of wait Until in cypress it allow only 5 seconds to wait by default but when if within 5 second if it doesnt find any element it give exception .So i wanted to know that can we increase its timing or not .If we can than how we can do it?\r\n\r\ninstall the plugin.\r\n\r\nnpm i -D cypress-wait-until\r\ninstall wait until plugin\r\n\r\nImport the following lines in the command.js and the e2e.js file.\r\n\r\nimport &#39;cypress-wait-until&#39;;\r\nrequire(&#39;cypress-wait-until&#39;)\r\n\r\n\r\nSyntax:\r\ncy.waitUntil(()=&gt; //any cypress commands goes here to wait for)","title":"Can we increase &quot;wait Until&quot; plugin default time in cypress which is 5 seconds","body":"<p>Actually when i use plugin of wait Until in cypress it allow only 5 seconds to wait by default but when if within 5 second if it doesnt find any element it give exception .So i wanted to know that can we increase its timing or not .If we can than how we can do it?</p>\n<p>install the plugin.</p>\n<p>npm i -D cypress-wait-until\ninstall wait until plugin</p>\n<p>Import the following lines in the command.js and the e2e.js file.</p>\n<p>import 'cypress-wait-until';\nrequire('cypress-wait-until')</p>\n<p>Syntax:\ncy.waitUntil(()=&gt; //any cypress commands goes here to wait for)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":83665,"reputation":1777,"user_id":234404,"accept_rate":84,"display_name":"Rees"},"score":0,"creation_date":1437071752,"post_id":23774985,"comment_id":126302639,"body_markdown":"if it helps conceptually, think of the positions of the cars as all parked, engines off and facing either east or west in the order of the array. then they all start their engines and then start driving... thus, car #2 and car #1 never pass each other.","body":"if it helps conceptually, think of the positions of the cars as all parked, engines off and facing either east or west in the order of the array. then they all start their engines and then start driving... thus, car #2 and car #1 never pass each other."},{"owner":{"account_id":1359054,"reputation":746,"user_id":1296783,"accept_rate":67,"display_name":"yeaaaahhhh..hamf hamf"},"score":5,"creation_date":1438769270,"post_id":23774985,"comment_id":51581369,"body_markdown":"Be careful. You have been given this (P, Q), where 0  P &lt; Q &lt; N.\nTherefore a pair (P,Q) where P&gt;Q isnt valid","body":"Be careful. You have been given this (P, Q), where 0  P &lt; Q &lt; N. Therefore a pair (P,Q) where P&gt;Q isnt valid"},{"owner":{"account_id":2328074,"reputation":382,"user_id":2042079,"display_name":"Sujal Sheth"},"score":0,"creation_date":1577450870,"post_id":23774985,"comment_id":105174372,"body_markdown":"The goal is to count passing cars. We say that a pair of cars (P, Q), where 0  P &lt; Q &lt; N, is passing when P is traveling to the east and Q is traveling to the west.\nIn simple words,  We are at west going cars means we pair this car with all previously seen east cars. But also we need add previously passing_cars counter to get total count. (so prefix sum)","body":"The goal is to count passing cars. We say that a pair of cars (P, Q), where 0  P &lt; Q &lt; N, is passing when P is traveling to the east and Q is traveling to the west. In simple words,  We are at west going cars means we pair this car with all previously seen east cars. But also we need add previously passing_cars counter to get total count. (so prefix sum)"},{"owner":{"account_id":2328074,"reputation":382,"user_id":2042079,"display_name":"Sujal Sheth"},"score":0,"creation_date":1577451121,"post_id":23774985,"comment_id":105174465,"body_markdown":"Here is the simulation of given input in your question                                            \nEast :1 West :0 passing_cars :0\nEast :1 West :1 passing_cars :1\nEast :2 West :1 passing_cars :1\nEast :2 West :2 passing_cars :3\nEast :2 West :3 passing_cars :5","body":"Here is the simulation of given input in your question                                             East :1 West :0 passing_cars :0 East :1 West :1 passing_cars :1 East :2 West :1 passing_cars :1 East :2 West :2 passing_cars :3 East :2 West :3 passing_cars :5"},{"owner":{"display_name":"user17242583"},"score":2,"creation_date":1647100498,"post_id":23774985,"comment_id":126290830,"body_markdown":"This question is being discussed on [meta](https://meta.stackoverflow.com/questions/416537/how-to-improve-a-long-standing-qa-that-has-accumulated-general-answers-which-ma?cb=1).","body":"This question is being discussed on <a href=\"https://meta.stackoverflow.com/questions/416537/how-to-improve-a-long-standing-qa-that-has-accumulated-general-answers-which-ma?cb=1\">meta</a>."}],"answers":[{"tags":[],"owner":{"account_id":28943,"reputation":7281,"user_id":77764,"accept_rate":90,"display_name":"Kromster"},"down_vote_count":3,"up_vote_count":13,"is_accepted":true,"score":10,"last_activity_date":1400652588,"creation_date":1400652588,"answer_id":23775246,"question_id":23774985,"body_markdown":"You need to count number of cars passings. Cars are positioned on the road as input says and start driving into either one of directions. When car drives, we can easily see that it will drive by cars moving in the opposite direction, but only if they were in front of it. Essentially that can be formulated as:\r\n\r\n 1. Imagine array 0..N\r\n    \r\n 2. Take element X (iterate from 0 to Nth element)\r\n    \r\n 3. If value of element X is 0 then count how many 1 elements it has on the right\r\n    \r\n 4. If value of element X is 1 then count how many 0 elements it has on left\r\n    \r\n 5. Repeat for next X\r\n    \r\n 6. Sum up and divide by 2 (cos it takes 2 cars to pass each other), that&#39;s the answer.\r\n\r\nIn case with `0 1 0 1 1` we have 3+1+2+2+2 = 10. Divide by 2 = 5 passings.\r\n\r\nWe don&#39;t count pair 2-1 because 2nd car is driving to the East and never passes the 1st car that is driving away from it to the West.","title":"Codility passing car - how to approach this problem","body":"<p>You need to count number of cars passings. Cars are positioned on the road as input says and start driving into either one of directions. When car drives, we can easily see that it will drive by cars moving in the opposite direction, but only if they were in front of it. Essentially that can be formulated as:</p>\n\n<ol>\n<li><p>Imagine array 0..N</p></li>\n<li><p>Take element X (iterate from 0 to Nth element)</p></li>\n<li><p>If value of element X is 0 then count how many 1 elements it has on the right</p></li>\n<li><p>If value of element X is 1 then count how many 0 elements it has on left</p></li>\n<li><p>Repeat for next X</p></li>\n<li><p>Sum up and divide by 2 (cos it takes 2 cars to pass each other), that's the answer.</p></li>\n</ol>\n\n<p>In case with <code>0 1 0 1 1</code> we have 3+1+2+2+2 = 10. Divide by 2 = 5 passings.</p>\n\n<p>We don't count pair 2-1 because 2nd car is driving to the East and never passes the 1st car that is driving away from it to the West.</p>\n"},{"tags":[],"owner":{"account_id":4504528,"reputation":149,"user_id":3662248,"display_name":"user3662248"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1400741939,"creation_date":1400700062,"answer_id":23792010,"question_id":23774985,"body_markdown":"Time Complexity - O(n)\r\nSpace Complexity - O(1)\r\nThe logic I came up with goes like this.\r\n\r\n - Have 2 variables. Count and IncrementVal. Initialize both to zero.\r\n - Traverse through the array. Every time you find a 0, increment the IncrementVal.\r\n - Every time you find a 1, modify count by adding the incrementVal to count.\r\n - After the array traversal is completed, return back the count.\r\n\r\nNote:: Example code provided below assumes static array and a predefined array size. You can make it dynamic using vectors.\r\n\r\n    #include &lt;iostream&gt;\r\n    using namespace std;\r\n    \r\n    int getPass(int* A, int N)\r\n    {\r\n        unsigned long count = 0;\r\n        int incrementVal = 0;\r\n        for(int i = 0; i &lt; N; i++)\r\n        {\r\n            if(A[i]==0)\r\n            {\r\n                incrementVal++;\r\n            }\r\n            else if (A[i]==1)\r\n            {\r\n                count = count + incrementVal;\r\n            }\r\n            if(count &gt; 1000000000) return -1;\r\n        }\r\n        return count;\r\n    }\r\n    \r\n    int main()\r\n    {\r\n       int A[]={0,1,0,1,1};\r\n       int size = 5;\r\n       int numPasses = getPass(A,size);\r\n       cout &lt;&lt; &quot;Number of Passes: &quot; &lt;&lt; numPasses &lt;&lt; endl;\r\n    }\r\n\r\n","title":"Codility passing car - how to approach this problem","body":"<p>Time Complexity - O(n)\nSpace Complexity - O(1)\nThe logic I came up with goes like this.</p>\n\n<ul>\n<li>Have 2 variables. Count and IncrementVal. Initialize both to zero.</li>\n<li>Traverse through the array. Every time you find a 0, increment the IncrementVal.</li>\n<li>Every time you find a 1, modify count by adding the incrementVal to count.</li>\n<li>After the array traversal is completed, return back the count.</li>\n</ul>\n\n<p>Note:: Example code provided below assumes static array and a predefined array size. You can make it dynamic using vectors.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint getPass(int* A, int N)\n{\n    unsigned long count = 0;\n    int incrementVal = 0;\n    for(int i = 0; i &lt; N; i++)\n    {\n        if(A[i]==0)\n        {\n            incrementVal++;\n        }\n        else if (A[i]==1)\n        {\n            count = count + incrementVal;\n        }\n        if(count &gt; 1000000000) return -1;\n    }\n    return count;\n}\n\nint main()\n{\n   int A[]={0,1,0,1,1};\n   int size = 5;\n   int numPasses = getPass(A,size);\n   cout &lt;&lt; \"Number of Passes: \" &lt;&lt; numPasses &lt;&lt; endl;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3914502,"reputation":35,"user_id":3238753,"display_name":"tas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1401216083,"creation_date":1401216083,"answer_id":23896698,"question_id":23774985,"body_markdown":"We need only to traverse the Zeros, in order to find the number of total crossings.\r\n\r\nNo need to run extra code for Ones, because the number of crossings for every Zero we check, is equal to the number of crossings we get, when we check all Ones for that particular Zero. \r\n\r\n    public class passingCars {\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint k;\r\n\t\tint cnt = 0;\r\n         // Test array\r\n\t\tint[] A = { 1, 1, 0, 1, 0, 0, 1, 1, 0, 0, 1, 1 };\r\n\r\n\t\tfor (int i = 0; i &lt; A.length; i++) {\r\n\r\n\t\t\tif (A[i] == 0) {\r\n\t\t\t\tk = i + 1;\r\n\t\t\t\twhile (k &lt; A.length) {\r\n\t\t\t\t\tif (A[k] == 1) {\r\n\t\t\t\t\t\tcnt++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tk++;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tSystem.out.println(cnt);\r\n\r\n\t}\r\n\r\n    }\r\n\r\nresult: 17","title":"Codility passing car - how to approach this problem","body":"<p>We need only to traverse the Zeros, in order to find the number of total crossings.</p>\n\n<p>No need to run extra code for Ones, because the number of crossings for every Zero we check, is equal to the number of crossings we get, when we check all Ones for that particular Zero. </p>\n\n<pre><code>public class passingCars {\n\n\npublic static void main(String[] args) {\n    int k;\n    int cnt = 0;\n     // Test array\n    int[] A = { 1, 1, 0, 1, 0, 0, 1, 1, 0, 0, 1, 1 };\n\n    for (int i = 0; i &lt; A.length; i++) {\n\n        if (A[i] == 0) {\n            k = i + 1;\n            while (k &lt; A.length) {\n                if (A[k] == 1) {\n                    cnt++;\n                }\n                k++;\n            }\n\n        }\n\n    }\n\n    System.out.println(cnt);\n\n}\n\n}\n</code></pre>\n\n<p>result: 17</p>\n"},{"tags":[],"owner":{"account_id":4399365,"reputation":213,"user_id":3585511,"display_name":"Tanel"},"down_vote_count":4,"up_vote_count":20,"is_accepted":false,"score":16,"last_activity_date":1404910042,"creation_date":1404910042,"answer_id":24654116,"question_id":23774985,"body_markdown":"Here is my code that got 100% in C#\r\n\r\n    class Solution\r\n    {\r\n        public int solution(int[] A)\r\n        {\r\n            int count = 0;\r\n            int multiply = 0;\r\n            foreach (int car in A)\r\n            {\r\n                if (car == 0)\r\n                {\r\n                    multiply = multiply + 1;\r\n                }\r\n                if (multiply &gt; 0)\r\n                {\r\n                    if (car == 1)\r\n                    {\r\n                        count = count + multiply;\r\n                        if (count &gt; 1000000000)\r\n                        {\r\n                            return -1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n    }","title":"Codility passing car - how to approach this problem","body":"<p>Here is my code that got 100% in C#</p>\n\n<pre><code>class Solution\n{\n    public int solution(int[] A)\n    {\n        int count = 0;\n        int multiply = 0;\n        foreach (int car in A)\n        {\n            if (car == 0)\n            {\n                multiply = multiply + 1;\n            }\n            if (multiply &gt; 0)\n            {\n                if (car == 1)\n                {\n                    count = count + multiply;\n                    if (count &gt; 1000000000)\n                    {\n                        return -1;\n                    }\n                }\n            }\n        }\n        return count;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4278261,"reputation":1055,"user_id":3498366,"accept_rate":54,"display_name":"Koin Arab"},"down_vote_count":3,"up_vote_count":13,"is_accepted":false,"score":10,"last_activity_date":1409144697,"creation_date":1409144697,"answer_id":25527974,"question_id":23774985,"body_markdown":"This is simple example in Java. I think it should be passed on 100%\r\n\r\n\r\n    public int solution(int[] A) {\r\n            int countOfZeros = 0, count = 0;\r\n            \r\n            for (int i = 0; i &lt; A.length; i++){\r\n                if (A[i] == 0) countOfZeros++;                    \r\n                if (A[i] == 1) count += countOfZeros;    \r\n                if (count &gt; 1000000000) return -1;\r\n            }\r\n            return count;\r\n    }\r\n    ","title":"Codility passing car - how to approach this problem","body":"<p>This is simple example in Java. I think it should be passed on 100%</p>\n\n<pre><code>public int solution(int[] A) {\n        int countOfZeros = 0, count = 0;\n\n        for (int i = 0; i &lt; A.length; i++){\n            if (A[i] == 0) countOfZeros++;                    \n            if (A[i] == 1) count += countOfZeros;    \n            if (count &gt; 1000000000) return -1;\n        }\n        return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2209688,"reputation":174,"user_id":1951936,"display_name":"iamdimitar"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1463433363,"creation_date":1463354093,"answer_id":37244667,"question_id":23774985,"body_markdown":"100% JavaScript. The logic behind is that each West car (1) creates a pair with all of the preceding East cars (0). Hence, every time we get a 1 we add all the preceding 0s.\r\n\r\n    function solution(A) {\r\n        var zeroesCount = 0; //keeps track of zeroes\r\n        var pairs = 0; //aka the result\r\n    \r\n        for (var i=0; i&lt;A.length; i++) {\r\n            A[i]===0 ? zeroesCount++ : pairs += zeroesCount; //count 0s or add to answer when we encounter 1s\r\n\r\n            if (pairs &gt; 1000000000 ) { //required by the question\r\n                return -1;   \r\n            }\r\n        }\r\n    \r\n        return pairs;\r\n    }","title":"Codility passing car - how to approach this problem","body":"<p>100% JavaScript. The logic behind is that each West car (1) creates a pair with all of the preceding East cars (0). Hence, every time we get a 1 we add all the preceding 0s.</p>\n\n<pre><code>function solution(A) {\n    var zeroesCount = 0; //keeps track of zeroes\n    var pairs = 0; //aka the result\n\n    for (var i=0; i&lt;A.length; i++) {\n        A[i]===0 ? zeroesCount++ : pairs += zeroesCount; //count 0s or add to answer when we encounter 1s\n\n        if (pairs &gt; 1000000000 ) { //required by the question\n            return -1;   \n        }\n    }\n\n    return pairs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3348103,"reputation":923,"user_id":2812818,"accept_rate":20,"display_name":"Droid Teahouse"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520559134,"creation_date":1508191684,"answer_id":46779804,"question_id":23774985,"body_markdown":"To answer the original question it states in the problem:\r\n\r\n    0  P &lt; Q &lt; N\r\n\r\nFor all pairs (P,Q) P must come before Q.  2 does not come before 1.\r\n\r\n\r\nYou can also work from the end, accumulating 1&#39;s to match with the next 0:\r\n    \r\n    public int solution(int[] A) {\r\n        int ones =0, count=0;\r\n         for (int j = A.length-1; j &gt;=0; j--) {\r\n             if (A[j] ==1) {\r\n                 ones++;\r\n             } else if (A[j] ==0) {\r\n                 count+=ones;\r\n             }             \r\n             if ( count &gt; 1_000_000_000) {\r\n               return     -1;\r\n             }\r\n         }\r\n         return count;\r\n     }\r\n    ","title":"Codility passing car - how to approach this problem","body":"<p>To answer the original question it states in the problem:</p>\n\n<pre><code>0  P &lt; Q &lt; N\n</code></pre>\n\n<p>For all pairs (P,Q) P must come before Q.  2 does not come before 1.</p>\n\n<p>You can also work from the end, accumulating 1's to match with the next 0:</p>\n\n<pre><code>public int solution(int[] A) {\n    int ones =0, count=0;\n     for (int j = A.length-1; j &gt;=0; j--) {\n         if (A[j] ==1) {\n             ones++;\n         } else if (A[j] ==0) {\n             count+=ones;\n         }             \n         if ( count &gt; 1_000_000_000) {\n           return     -1;\n         }\n     }\n     return count;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2975595,"reputation":502,"user_id":2526688,"display_name":"Nirav Chhatrola"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1522526391,"creation_date":1522526391,"answer_id":49591865,"question_id":23774985,"body_markdown":"I know I am very late for this answer.\r\nThough I am giving my solution that&#39;s having 100% correctness and performance on codility.\r\n\r\n    public int solution(int[] A) {\r\n            int A1 = 0;\r\n            int pair = 0;\r\n            for(int i = A.length-1 ; i&gt;=0; i--){\r\n                if(A[i]==1){\r\n                    A1++;\r\n                }else{\r\n                    pair += A1;\r\n                }\r\n                if(pair &gt; 1000000000){\r\n                    return -1;\r\n                }\r\n            }\r\n            return pair;\r\n    }\r\n\r\n\r\nThe approach I have followed is as bellow,\r\n\r\niterate array from last element to first element (reverse)&lt;BR&gt;\r\nincrease count until you are getting 1&lt;BR&gt;\r\nwhen you found 0 add your count of 1&#39;s to countPair.&lt;BR&gt;\r\nat the end of iteration of array countPair is your answer.&lt;BR&gt; ","title":"Codility passing car - how to approach this problem","body":"<p>I know I am very late for this answer.\nThough I am giving my solution that's having 100% correctness and performance on codility.</p>\n\n<pre><code>public int solution(int[] A) {\n        int A1 = 0;\n        int pair = 0;\n        for(int i = A.length-1 ; i&gt;=0; i--){\n            if(A[i]==1){\n                A1++;\n            }else{\n                pair += A1;\n            }\n            if(pair &gt; 1000000000){\n                return -1;\n            }\n        }\n        return pair;\n}\n</code></pre>\n\n<p>The approach I have followed is as bellow,</p>\n\n<p>iterate array from last element to first element (reverse)<BR>\nincrease count until you are getting 1<BR>\nwhen you found 0 add your count of 1's to countPair.<BR>\nat the end of iteration of array countPair is your answer.<BR> </p>\n"},{"tags":[],"owner":{"account_id":6756373,"reputation":138,"user_id":5204623,"display_name":"Amin"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1551445854,"creation_date":1551444958,"answer_id":54945136,"question_id":23774985,"body_markdown":"We are seeking for pair of cars (P, Q), where 0  P &lt; Q &lt; N.\r\n\r\nYour case (2,1) , does not pass the requirement. \r\n\r\nMy approach is simple. for each 1 value, we have to count previous zeroes.\r\n\r\nMy code got 100% in JAVA with time complexity O(n):\r\n\r\n    class Solution {\r\n        public int solution(int[] A) {\r\n            int count = 0;\r\n            int zeroCount = 0;\r\n            for (int i = 0; i &lt; A.length; i++) {\r\n                if (A[i] == 0) {\r\n                    zeroCount++;\r\n                } else if (A[i] == 1) {\r\n                    count += zeroCount;\r\n                }\r\n            }\r\n            return count &gt;= 0 &amp;&amp; count &lt;= 1000_000_000 ? count : -1;\r\n        }\r\n    }\r\n","title":"Codility passing car - how to approach this problem","body":"<p>We are seeking for pair of cars (P, Q), where 0  P &lt; Q &lt; N.</p>\n\n<p>Your case (2,1) , does not pass the requirement. </p>\n\n<p>My approach is simple. for each 1 value, we have to count previous zeroes.</p>\n\n<p>My code got 100% in JAVA with time complexity O(n):</p>\n\n<pre><code>class Solution {\n    public int solution(int[] A) {\n        int count = 0;\n        int zeroCount = 0;\n        for (int i = 0; i &lt; A.length; i++) {\n            if (A[i] == 0) {\n                zeroCount++;\n            } else if (A[i] == 1) {\n                count += zeroCount;\n            }\n        }\n        return count &gt;= 0 &amp;&amp; count &lt;= 1000_000_000 ? count : -1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8088169,"reputation":1066,"user_id":6095028,"accept_rate":75,"display_name":"ubo Pilka"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1556280908,"creation_date":1556280908,"answer_id":55867426,"question_id":23774985,"body_markdown":"Most of the answers here just provided algorithms to solve the task but not answering author original question. &quot;*Why is there only 5 pairs of car and not 6* ?&quot; That is because cars (2,1) never pass each other. \r\n\r\nHere is quick visualization of problem.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CK2TN.jpg","title":"Codility passing car - how to approach this problem","body":"<p>Most of the answers here just provided algorithms to solve the task but not answering author original question. \"<em>Why is there only 5 pairs of car and not 6</em> ?\" That is because cars (2,1) never pass each other. </p>\n\n<p>Here is quick visualization of problem.\n<a href=\"https://i.stack.imgur.com/CK2TN.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CK2TN.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":23650173,"reputation":21,"user_id":17742312,"display_name":"hoangn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640417967,"creation_date":1640417967,"answer_id":70478615,"question_id":23774985,"body_markdown":"I had the same problem with OP.\r\n&gt;Why there are five passing cars, instead of 6. Why doesn&#39;t (2,1) count as a passing car?\r\n\r\nBecause in the question:\r\n&gt;A pair of cars (P, Q), where 0  P &lt; Q &lt; N, is passing when P is traveling to the east and Q is traveling to the west.\r\n\r\nMeans the index of P must &lt; index of Q. And P value must be 0 to be counted.\r\nIn this case (2,1), then index of P(2) &gt; Q(1) =&gt; wrong.","title":"Codility passing car - how to approach this problem","body":"<p>I had the same problem with OP.</p>\n<blockquote>\n<p>Why there are five passing cars, instead of 6. Why doesn't (2,1) count as a passing car?</p>\n</blockquote>\n<p>Because in the question:</p>\n<blockquote>\n<p>A pair of cars (P, Q), where 0  P &lt; Q &lt; N, is passing when P is traveling to the east and Q is traveling to the west.</p>\n</blockquote>\n<p>Means the index of P must &lt; index of Q. And P value must be 0 to be counted.\nIn this case (2,1), then index of P(2) &gt; Q(1) =&gt; wrong.</p>\n"},{"tags":[],"owner":{"account_id":2522867,"reputation":479,"user_id":2192861,"accept_rate":91,"display_name":"Ahmed Ghazey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663811160,"creation_date":1663811160,"answer_id":73808495,"question_id":23774985,"body_markdown":"  \r\n\r\n      class Solution {\r\n               public int solution(int[] A) {\r\n                int count = 0;\r\n                int p = 0;\r\n                int [] suffix = new int [A.length];\r\n                while (p &lt; A.length &amp;&amp; A[p] == 1) p++;\r\n                if (p == A.length) return 0;\r\n                suffix[suffix.length-1] = A[A.length-1];\r\n                for (int i =  A.length-2; i &gt;= p; i--){\r\n                    suffix[i] = suffix[i+1] + A[i];\r\n                }\r\n        \r\n                for (int i = p; i &lt; suffix.length; i++){\r\n                    if (A[i] == 0){\r\n                        count+= suffix[i];\r\n                        if (count &gt;1000_000_000 )\r\n                            return -1;\r\n                    }\r\n                }\r\n        \r\n        \r\n        \r\n                return count;\r\n            }\r\n    }","title":"Codility passing car - how to approach this problem","body":"<pre><code>  class Solution {\n           public int solution(int[] A) {\n            int count = 0;\n            int p = 0;\n            int [] suffix = new int [A.length];\n            while (p &lt; A.length &amp;&amp; A[p] == 1) p++;\n            if (p == A.length) return 0;\n            suffix[suffix.length-1] = A[A.length-1];\n            for (int i =  A.length-2; i &gt;= p; i--){\n                suffix[i] = suffix[i+1] + A[i];\n            }\n    \n            for (int i = p; i &lt; suffix.length; i++){\n                if (A[i] == 0){\n                    count+= suffix[i];\n                    if (count &gt;1000_000_000 )\n                        return -1;\n                }\n            }\n    \n    \n    \n            return count;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2384669,"reputation":619,"user_id":2085882,"display_name":"sm7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668060079,"creation_date":1668060079,"answer_id":74384738,"question_id":23774985,"body_markdown":"**100% score, correctness and performance and O(n) complexity. [Ref][1].**\r\n\r\n\r\n&gt; Overall idea is to traverse the array only once and on the way\r\n&gt; whenever you encounter one (1), increase the counter by number\r\n&gt; of zeros (0) encountered so far.\r\n\r\n    public int solution(int[] A) {\r\n      int count = 0;\r\n\r\n      int numZero = 0;\r\n      for (int i=0; i &lt; A.length; i++) {\r\n          if ((A[i] == 1 &amp;&amp; numZero == 0)) continue; // optional step\r\n\r\n          if (A[i] == 0) numZero++;\r\n          if (A[i] == 1) {\r\n              count += numZero;\r\n          }\r\n\r\n          if (count &gt; 1000000000) return -1;\r\n      }\r\n\r\n      return count;\r\n    }\r\n\r\n\r\n  [1]: https://app.codility.com/demo/results/trainingDS2CMD-NHR/","title":"Codility passing car - how to approach this problem","body":"<p><strong>100% score, correctness and performance and O(n) complexity. <a href=\"https://app.codility.com/demo/results/trainingDS2CMD-NHR/\" rel=\"nofollow noreferrer\">Ref</a>.</strong></p>\n<blockquote>\n<p>Overall idea is to traverse the array only once and on the way\nwhenever you encounter one (1), increase the counter by number\nof zeros (0) encountered so far.</p>\n</blockquote>\n<pre><code>public int solution(int[] A) {\n  int count = 0;\n\n  int numZero = 0;\n  for (int i=0; i &lt; A.length; i++) {\n      if ((A[i] == 1 &amp;&amp; numZero == 0)) continue; // optional step\n\n      if (A[i] == 0) numZero++;\n      if (A[i] == 1) {\n          count += numZero;\n      }\n\n      if (count &gt; 1000000000) return -1;\n  }\n\n  return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4936833,"reputation":938,"user_id":3974697,"display_name":"MD. Shafayatul Haque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677681503,"creation_date":1677681503,"answer_id":75605145,"question_id":23774985,"body_markdown":"Got 100% score with PHP.\r\n\r\n    function solution($A) {\r\n        // Implement your solution here\r\n        $cnt = 0;\r\n        $output = 0;\r\n        foreach($A as $k=&gt;$v){\r\n            if($v==0){\r\n                $cnt++;\r\n            }else{\r\n                $output += $cnt;\r\n                if($output &gt; 1000000000){\r\n                    return -1;\r\n                }\r\n            }\r\n        }\r\n    \r\n        return $output;\r\n    }","title":"Codility passing car - how to approach this problem","body":"<p>Got 100% score with PHP.</p>\n<pre><code>function solution($A) {\n    // Implement your solution here\n    $cnt = 0;\n    $output = 0;\n    foreach($A as $k=&gt;$v){\n        if($v==0){\n            $cnt++;\n        }else{\n            $output += $cnt;\n            if($output &gt; 1000000000){\n                return -1;\n            }\n        }\n    }\n\n    return $output;\n}\n</code></pre>\n"}],"owner":{"account_id":2768665,"reputation":750,"user_id":2383728,"accept_rate":53,"display_name":"redandblue"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44737,"favorite_count":0,"down_vote_count":4,"up_vote_count":23,"accepted_answer_id":23775246,"answer_count":14,"score":19,"last_activity_date":1677681503,"creation_date":1400651386,"question_id":23774985,"body_markdown":"A non-empty zero-indexed array A consisting of N integers is given. The consecutive elements of array A represent consecutive cars on a road.\r\n\r\nArray A contains only 0s and/or 1s:\r\n\r\n        0 represents a car traveling east,\r\n        1 represents a car traveling west.\r\n\r\nThe goal is to count passing cars. We say that a pair of cars (P, Q), where 0  P &lt; Q &lt; N, is passing when P is traveling to the east and Q is traveling to the west.\r\n\r\nFor example, consider array A such that:\r\n\r\n  \r\n\r\n      A[0] = 0\r\n      A[1] = 1\r\n      A[2] = 0\r\n      A[3] = 1\r\n      A[4] = 1\r\n\r\nWe have five pairs of passing cars: (0, 1), (0, 3), (0, 4), (2, 3), (2, 4).\r\n\r\nWrite a function:\r\n\r\n    class Solution { public int solution(int[] A); } \r\n\r\nthat, given a non-empty zero-indexed array A of N integers, returns the number of passing cars.\r\n\r\nThe function should return 1 if the number of passing cars exceeds 1,000,000,000.\r\n\r\nFor example, given:\r\n\r\n \r\n\r\n      A[0] = 0\r\n      A[1] = 1\r\n      A[2] = 0\r\n      A[3] = 1\r\n      A[4] = 1\r\n\r\nthe function should return 5, as explained above.\r\n\r\nAssume that:\r\n\r\n        N is an integer within the range [1..100,000];\r\n        each element of array A is an integer that can have one of the following values: 0, 1.\r\n\r\nComplexity:\r\n\r\n        expected worst-case time complexity is O(N);\r\n        expected worst-case space complexity is O(1), beyond input storage (not counting the storage required for input arguments).\r\n\r\nElements of input arrays can be modified.\r\n\r\nI don&#39;t understand why there are five passing cars, instead of 6. Why doesn&#39;t (2,1) count as a passing car? Can someone provide some explanation on how to approach this problem?\r\n","title":"Codility passing car - how to approach this problem","body":"<p>A non-empty zero-indexed array A consisting of N integers is given. The consecutive elements of array A represent consecutive cars on a road.</p>\n<p>Array A contains only 0s and/or 1s:</p>\n<pre><code>    0 represents a car traveling east,\n    1 represents a car traveling west.\n</code></pre>\n<p>The goal is to count passing cars. We say that a pair of cars (P, Q), where 0  P &lt; Q &lt; N, is passing when P is traveling to the east and Q is traveling to the west.</p>\n<p>For example, consider array A such that:</p>\n<pre><code>  A[0] = 0\n  A[1] = 1\n  A[2] = 0\n  A[3] = 1\n  A[4] = 1\n</code></pre>\n<p>We have five pairs of passing cars: (0, 1), (0, 3), (0, 4), (2, 3), (2, 4).</p>\n<p>Write a function:</p>\n<pre><code>class Solution { public int solution(int[] A); } \n</code></pre>\n<p>that, given a non-empty zero-indexed array A of N integers, returns the number of passing cars.</p>\n<p>The function should return 1 if the number of passing cars exceeds 1,000,000,000.</p>\n<p>For example, given:</p>\n<pre><code>  A[0] = 0\n  A[1] = 1\n  A[2] = 0\n  A[3] = 1\n  A[4] = 1\n</code></pre>\n<p>the function should return 5, as explained above.</p>\n<p>Assume that:</p>\n<pre><code>    N is an integer within the range [1..100,000];\n    each element of array A is an integer that can have one of the following values: 0, 1.\n</code></pre>\n<p>Complexity:</p>\n<pre><code>    expected worst-case time complexity is O(N);\n    expected worst-case space complexity is O(1), beyond input storage (not counting the storage required for input arguments).\n</code></pre>\n<p>Elements of input arrays can be modified.</p>\n<p>I don't understand why there are five passing cars, instead of 6. Why doesn't (2,1) count as a passing car? Can someone provide some explanation on how to approach this problem?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":5043640,"reputation":788,"user_id":4050313,"display_name":"Jayesh Choudhary"},"score":0,"creation_date":1677618995,"post_id":75596653,"comment_id":133373149,"body_markdown":"Read the exception properly. You need to define property named User in class **CustomUserDetailsService** . That will resolve your problem.","body":"Read the exception properly. You need to define property named User in class <b>CustomUserDetailsService</b> . That will resolve your problem."},{"owner":{"account_id":23610440,"reputation":1,"user_id":17645543,"display_name":"Nicolas Bayer"},"score":0,"creation_date":1677654625,"post_id":75596653,"comment_id":133378447,"body_markdown":"but why ?  There is a UserRepository there.  A couple of methods that return User.","body":"but why ?  There is a UserRepository there.  A couple of methods that return User."}],"answers":[{"tags":[],"owner":{"account_id":5043640,"reputation":788,"user_id":4050313,"display_name":"Jayesh Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677681417,"creation_date":1677681417,"answer_id":75605128,"question_id":75596653,"body_markdown":"Just add following piece of code in your **CustomerUserDetailsService** class.\r\n\r\n    private User user;\r\n    public User getUser(){ return user; }\r\n    public void setUser(User user){ this.user = user; }\r\nThis will solve your problem.","title":"Java Spring boot WebSecurity","body":"<p>Just add following piece of code in your <strong>CustomerUserDetailsService</strong> class.</p>\n<pre><code>private User user;\npublic User getUser(){ return user; }\npublic void setUser(User user){ this.user = user; }\n</code></pre>\n<p>This will solve your problem.</p>\n"}],"owner":{"account_id":23610440,"reputation":1,"user_id":17645543,"display_name":"Nicolas Bayer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677681417,"creation_date":1677613764,"question_id":75596653,"body_markdown":"I decided to study for myself such a framework as spring boot found video courses, decided to learn from them, and got to the point where WebSecurity is written by inheriting from the WebSecurityConfigurerAdapter class, and I chose a version of spring boot newer than in the course and this class was removed in this version. I&#39;ve looked at a bunch of sites, but I still don&#39;t understand how to adapt it.\r\n\r\nCode at the moment\r\n\r\n```\r\npackage com.example.web.security;\r\n\r\nimport com.example.web.servies.CustomUserDetailsService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.BeanIds;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class WebSecurityConfig {\r\n\r\n    private JWTAuthenticationEntryPoint entryPoint;\r\n    private CustomUserDetailsService userDetailsService;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(entryPoint).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(SecurityConstants.SING_UP_URLS).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    protected void webSecurityCustomizer(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\r\n    }\r\n\r\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n    protected AuthenticationManager authenticationManager(\r\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public JWTAuthenticationFilter jwtAuthenticationFilter() {\r\n        return new JWTAuthenticationFilter();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nCode in video \r\n\r\n```\r\npackage com.example.web.security;\r\n\r\nimport com.example.web.servies.CustomUserDetailsService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.BeanIds;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(\r\n        securedEnabled = true,\r\n        jsr250Enabled = true,\r\n        proxyTargetClass = true\r\n)\r\npublic class SecurityConfig : WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private JWTAuthenticationEntryPoint entryPoint;\r\n    @Autowired\r\n    private CustomUserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(entryPoint).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(SecurityConstants.SING_UP_URLS).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n            http.addFilterBefore(jwtAuthenticationFilter(),\r\n                UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Override\r\n    protected AuthenticationManager configure(AuthenticationManagerBuilder auth){\r\n        super.configure(auth);\r\n    }\r\n    \r\n    @Override\r\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n    protected AuthenticationManager authenticationManager(\r\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return super.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public JWTAuthenticationFilter jwtAuthenticationFilter() {\r\n        return new JWTAuthenticationFilter();\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;web&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;web&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!--SPRING--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--POSTGRESQL--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--LOMBOK--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Security--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--JSON--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--HIBERNATE--&gt;\r\n\r\n        &lt;!--&lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n\r\n        &lt;!--JWT--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nWhat error i have.\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-02-28T22:41:02.293+03:00 ERROR 16132 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;securityFilterChain&#39; defined in class path resource [com/example/web/security/WebSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;securityFilterChain&#39; threw exception with message: Error creating bean with name &#39;mvcHandlerMappingIntrospector&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name &#39;welcomePageHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method &#39;welcomePageHandlerMapping&#39; parameter 1: Error creating bean with name &#39;mvcConversionService&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method &#39;mvcConversionService&#39; threw exception with message: Error creating bean with name &#39;jsonSchemaConverter&#39; defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method &#39;jsonSchemaConverter&#39; parameter 1: Error creating bean with name &#39;associationLinks&#39; defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method &#39;associationLinks&#39; parameter 0: Error creating bean with name &#39;resourceMappings&#39; defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method &#39;resourceMappings&#39; parameter 0: Error creating bean with name &#39;repositories&#39; defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Failed to instantiate [org.springframework.data.repository.support.Repositories]: Factory method &#39;repositories&#39; threw exception with message: Error creating bean with name &#39;IPostRepository&#39; defined in com.example.web.repository.IPostRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.example.web.repository.IPostRepository.findAllByUserOrderByCreateDate(com.example.web.entity.User); Reason: Failed to create query for method public abstract java.util.List com.example.web.repository.IPostRepository.findAllByUserOrderByCreateDate(com.example.web.entity.User); No property &#39;user&#39; found for type &#39;Post&#39;\r\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    at com.example.web.WebApplication.main(WebApplication.java:10) ~[classes/:na]\r\n\r\n```\r\n\r\nAll code exception - http://justnotepad.com/ru/get/55539588c0e5d6bce3f38069924ed021\r\nPassword - 00000000\r\n\r\n\r\nLink to full project - https://github.com/faketri/web","title":"Java Spring boot WebSecurity","body":"<p>I decided to study for myself such a framework as spring boot found video courses, decided to learn from them, and got to the point where WebSecurity is written by inheriting from the WebSecurityConfigurerAdapter class, and I chose a version of spring boot newer than in the course and this class was removed in this version. I've looked at a bunch of sites, but I still don't understand how to adapt it.</p>\n<p>Code at the moment</p>\n<pre><code>package com.example.web.security;\n\nimport com.example.web.servies.CustomUserDetailsService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class WebSecurityConfig {\n\n    private JWTAuthenticationEntryPoint entryPoint;\n    private CustomUserDetailsService userDetailsService;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(entryPoint).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers(SecurityConstants.SING_UP_URLS).permitAll()\n                .anyRequest().authenticated();\n\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    protected void webSecurityCustomizer(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\n    }\n\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    protected AuthenticationManager authenticationManager(\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public JWTAuthenticationFilter jwtAuthenticationFilter() {\n        return new JWTAuthenticationFilter();\n    }\n\n\n}\n</code></pre>\n<p>Code in video</p>\n<pre><code>package com.example.web.security;\n\nimport com.example.web.servies.CustomUserDetailsService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(\n        securedEnabled = true,\n        jsr250Enabled = true,\n        proxyTargetClass = true\n)\npublic class SecurityConfig : WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JWTAuthenticationEntryPoint entryPoint;\n    @Autowired\n    private CustomUserDetailsService userDetailsService;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(entryPoint).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers(SecurityConstants.SING_UP_URLS).permitAll()\n                .anyRequest().authenticated();\n\n            http.addFilterBefore(jwtAuthenticationFilter(),\n                UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Override\n    protected AuthenticationManager configure(AuthenticationManagerBuilder auth){\n        super.configure(auth);\n    }\n    \n    @Override\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    protected AuthenticationManager authenticationManager(\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return super.getAuthenticationManager();\n    }\n\n    @Bean\n    BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public JWTAuthenticationFilter jwtAuthenticationFilter() {\n        return new JWTAuthenticationFilter();\n    }\n\n}\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;web&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;web&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;!--SPRING--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--POSTGRESQL--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--LOMBOK--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!--Security--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--JSON--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--HIBERNATE--&gt;\n\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;!--JWT--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>What error i have.</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-02-28T22:41:02.293+03:00 ERROR 16132 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/example/web/security/WebSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'welcomePageHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'welcomePageHandlerMapping' parameter 1: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception with message: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 1: Error creating bean with name 'associationLinks' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'associationLinks' parameter 0: Error creating bean with name 'resourceMappings' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'resourceMappings' parameter 0: Error creating bean with name 'repositories' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Failed to instantiate [org.springframework.data.repository.support.Repositories]: Factory method 'repositories' threw exception with message: Error creating bean with name 'IPostRepository' defined in com.example.web.repository.IPostRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.example.web.repository.IPostRepository.findAllByUserOrderByCreateDate(com.example.web.entity.User); Reason: Failed to create query for method public abstract java.util.List com.example.web.repository.IPostRepository.findAllByUserOrderByCreateDate(com.example.web.entity.User); No property 'user' found for type 'Post'\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.example.web.WebApplication.main(WebApplication.java:10) ~[classes/:na]\n\n</code></pre>\n<p>All code exception - <a href=\"http://justnotepad.com/ru/get/55539588c0e5d6bce3f38069924ed021\" rel=\"nofollow noreferrer\">http://justnotepad.com/ru/get/55539588c0e5d6bce3f38069924ed021</a>\nPassword - 00000000</p>\n<p>Link to full project - <a href=\"https://github.com/faketri/web\" rel=\"nofollow noreferrer\">https://github.com/faketri/web</a></p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677681238,"creation_date":1677681238,"answer_id":75605103,"question_id":75604892,"body_markdown":"Try using [`importPage`](https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#importPage(org.apache.pdfbox.pdfmodel.PDPage)) instead of [`addPage`](https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#addPage(org.apache.pdfbox.pdfmodel.PDPage)).\r\n\r\n`importPage`&#39;s Javadoc says:\r\n&gt; This will import and copy the contents from another location [...] If you are adding a page to this document from another document and want to copy the contents to this document&#39;s scratch file then use this method otherwise just use the `addPage(org.apache.pdfbox.pdmodel.PDPage)` method.","title":"Java PDFBox addPage produce blank pages","body":"<p>Try using <a href=\"https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#importPage(org.apache.pdfbox.pdfmodel.PDPage)\" rel=\"nofollow noreferrer\"><code>importPage</code></a> instead of <a href=\"https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#addPage(org.apache.pdfbox.pdfmodel.PDPage)\" rel=\"nofollow noreferrer\"><code>addPage</code></a>.</p>\n<p><code>importPage</code>'s Javadoc says:</p>\n<blockquote>\n<p>This will import and copy the contents from another location [...] If you are adding a page to this document from another document and want to copy the contents to this document's scratch file then use this method otherwise just use the <code>addPage(org.apache.pdfbox.pdmodel.PDPage)</code> method.</p>\n</blockquote>\n"}],"owner":{"account_id":13583584,"reputation":27,"user_id":9798873,"display_name":"RomAZE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75605103,"answer_count":1,"score":1,"last_activity_date":1677681238,"creation_date":1677680327,"question_id":75604892,"body_markdown":"I try to create a PDF Document merging all my PDFs files and between each page of each file a fixed PDPage\r\n\r\n    // Create final PDF Document\r\n    PDDocument document = new PDDocument();\r\n    \r\n    // List all pdf files input folder\r\n    String[] filenames;\r\n    File f = new File(context.repertoire_output_docone);\r\n    filenames = f.list();\r\n    \r\n    // Get the PDF page \r\n    File cgv = new File(context.repertoire_advendio + &quot;conf/CGV.pdf&quot;);\r\n    PDDocument doccgv = Loader.loadPDF(cgv);\r\n    PDPage cgvpage = doccgv.getPage(0);\r\n    \r\n    // For each pdf file found\r\n    for (String filename : filenames)\r\n    {\r\n        // If name doens&#39;t match the template, skip\r\n    \tif (filename.startsWith(&quot;fact_&quot;) == false &amp;&amp; filename.startsWith(&quot;agence_fact_&quot;) == false)\r\n    \t\tcontinue;\r\n    \r\n    \t// Open current document\r\n    \tPDDocument doc = Loader.loadPDF(new File(context.repertoire_output_docone + filename));\r\n    \t\r\n    \t// For each page of the current document\r\n    \tfor (PDPage page : doc.getPages())\r\n    \t{\r\n            // Add page\r\n    \t\tdocument.addPage(page);\r\n\r\n            // Add fixed page\r\n    \t\tdocument.addPage(cgvpage);\r\n    \t}\r\n    }\r\n    \r\n    // Save final document\r\n    document.save(context.repertoire_output_docone + &quot;output/docone_&quot; + context.id_legal_entity + &quot;_&quot; + context.input_invoice_date.replace(&quot;-&quot;, &quot;&quot;) + &quot;.pdf&quot;);\r\n\r\n    // Close final document\r\n    document.close();\r\n\r\nThis code produce a PDF with only full blank pages. It goes in the loops, I have the good number of pages in the final document (so the pages are added) but it&#39;s just blank pages.","title":"Java PDFBox addPage produce blank pages","body":"<p>I try to create a PDF Document merging all my PDFs files and between each page of each file a fixed PDPage</p>\n<pre><code>// Create final PDF Document\nPDDocument document = new PDDocument();\n\n// List all pdf files input folder\nString[] filenames;\nFile f = new File(context.repertoire_output_docone);\nfilenames = f.list();\n\n// Get the PDF page \nFile cgv = new File(context.repertoire_advendio + &quot;conf/CGV.pdf&quot;);\nPDDocument doccgv = Loader.loadPDF(cgv);\nPDPage cgvpage = doccgv.getPage(0);\n\n// For each pdf file found\nfor (String filename : filenames)\n{\n    // If name doens't match the template, skip\n    if (filename.startsWith(&quot;fact_&quot;) == false &amp;&amp; filename.startsWith(&quot;agence_fact_&quot;) == false)\n        continue;\n\n    // Open current document\n    PDDocument doc = Loader.loadPDF(new File(context.repertoire_output_docone + filename));\n    \n    // For each page of the current document\n    for (PDPage page : doc.getPages())\n    {\n        // Add page\n        document.addPage(page);\n\n        // Add fixed page\n        document.addPage(cgvpage);\n    }\n}\n\n// Save final document\ndocument.save(context.repertoire_output_docone + &quot;output/docone_&quot; + context.id_legal_entity + &quot;_&quot; + context.input_invoice_date.replace(&quot;-&quot;, &quot;&quot;) + &quot;.pdf&quot;);\n\n// Close final document\ndocument.close();\n</code></pre>\n<p>This code produce a PDF with only full blank pages. It goes in the loops, I have the good number of pages in the final document (so the pages are added) but it's just blank pages.</p>\n"},{"tags":["java","minio"],"answers":[{"tags":[],"owner":{"account_id":356127,"reputation":1572,"user_id":695459,"accept_rate":100,"display_name":"mikijov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1559310117,"creation_date":1559310117,"answer_id":56396260,"question_id":54548029,"body_markdown":"You can do something like this:\r\n```bash\r\nmc ls -r --json your_bucket_path | awk &#39;{ FS=&quot;,&quot;; print $4 }&#39; | awk &#39;{ FS=&quot;:&quot;; n+=$2 } END{ print n }&#39;\r\n```\r\n","title":"Minio bucket size","body":"<p>You can do something like this:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>mc ls -r --json your_bucket_path | awk '{ FS=\",\"; print $4 }' | awk '{ FS=\":\"; n+=$2 } END{ print n }'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7807707,"reputation":926,"user_id":5905029,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603914264,"creation_date":1603914264,"answer_id":64580251,"question_id":54548029,"body_markdown":"Inspired by @mikijov, but using [jq][1] instead of awk:\r\n\r\n    mc ls -r --json your_bucket_path | jq -s &#39;map(.size) | add&#39;\r\n\r\n  [1]: https://stedolan.github.io/jq/","title":"Minio bucket size","body":"<p>Inspired by @mikijov, but using <a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow noreferrer\">jq</a> instead of awk:</p>\n<pre><code>mc ls -r --json your_bucket_path | jq -s 'map(.size) | add'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1140799,"reputation":980,"user_id":1124764,"accept_rate":60,"display_name":"LONGMAN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613998654,"creation_date":1613998654,"answer_id":66316163,"question_id":54548029,"body_markdown":"Show human-readable size:\r\n\r\n```\r\nmc ls -r --json your_bucket_path | jq -s &#39;map(.size) | add&#39; | numfmt --to=iec-i --suffix=B --padding=7\r\n```","title":"Minio bucket size","body":"<p>Show human-readable size:</p>\n<pre><code>mc ls -r --json your_bucket_path | jq -s 'map(.size) | add' | numfmt --to=iec-i --suffix=B --padding=7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5899608,"reputation":21780,"user_id":4643584,"accept_rate":64,"display_name":"Shakiba Moshiri"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1622798840,"creation_date":1622798840,"answer_id":67834823,"question_id":54548029,"body_markdown":"Yes we can.\r\n\r\n**first**  \r\nDownlaod the client e.g. [https://dl.min.io/client/mc/release/linux-amd64/mc](https://dl.min.io/client/mc/release/linux-amd64/mc) or any other OS you have\r\n\r\n**second**  \r\nset the proper configuration which you need:  \r\n - end-point e.g. `https://s3-buket.example.com`\r\n - access-key  e.g. `jgDbxCy9Uv35sQ7H`\r\n - secret-key  e.g. `EQqSA5OZLVYqZSztbgq28Seezn9pkX4V`\r\n\r\nand set it:  \r\n\r\n    minmc alias set s3p https://s3-buket.example.com &#39;jgDbxCy9Uv35sQ7H&#39; &#39;EQqSA5OZLVYqZSztbgq28Seezn9pkX4V&#39;\r\n\r\n - `minmc` MinIO client  \r\n - `alias set` options \r\n - `s3p` a name \r\n\r\nafter running it we will see:  \r\n\r\n    Added `s3p` successfully.\r\n\r\n**third**  \r\nthen you can run / use `mc` sub-command e.g. `ls` , `du` , etc \r\n\r\nhere is a screenshot  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o1jiC.png\r\n\r\n---\r\n\r\n[source](https://docs.min.io/docs/minio-client-complete-guide.html)","title":"Minio bucket size","body":"<p>Yes we can.</p>\n<p><strong>first</strong><br />\nDownlaod the client e.g. <a href=\"https://dl.min.io/client/mc/release/linux-amd64/mc\" rel=\"noreferrer\">https://dl.min.io/client/mc/release/linux-amd64/mc</a> or any other OS you have</p>\n<p><strong>second</strong><br />\nset the proper configuration which you need:</p>\n<ul>\n<li>end-point e.g. <code>https://s3-buket.example.com</code></li>\n<li>access-key  e.g. <code>jgDbxCy9Uv35sQ7H</code></li>\n<li>secret-key  e.g. <code>EQqSA5OZLVYqZSztbgq28Seezn9pkX4V</code></li>\n</ul>\n<p>and set it:</p>\n<pre><code>minmc alias set s3p https://s3-buket.example.com 'jgDbxCy9Uv35sQ7H' 'EQqSA5OZLVYqZSztbgq28Seezn9pkX4V'\n</code></pre>\n<ul>\n<li><code>minmc</code> MinIO client</li>\n<li><code>alias set</code> options</li>\n<li><code>s3p</code> a name</li>\n</ul>\n<p>after running it we will see:</p>\n<pre><code>Added `s3p` successfully.\n</code></pre>\n<p><strong>third</strong><br />\nthen you can run / use <code>mc</code> sub-command e.g. <code>ls</code> , <code>du</code> , etc</p>\n<p>here is a screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/o1jiC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/o1jiC.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><a href=\"https://docs.min.io/docs/minio-client-complete-guide.html\" rel=\"noreferrer\">source</a></p>\n"},{"tags":[],"owner":{"account_id":7807707,"reputation":926,"user_id":5905029,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677680754,"creation_date":1677304602,"answer_id":75563566,"question_id":54548029,"body_markdown":"The minio client `mc` as of version [2019-08-14T20-49-49Z](https://github.com/minio/mc/releases/tag/RELEASE.2019-08-14T20-49-49Z) has a `du` subcommand that can be used as follows to determine the size of a bucket:\r\n\r\n```\r\nmc du --depth 1 &lt;alias&gt;/your_bucket_path\r\n```\r\n\r\nwhere `&lt;alias&gt;` is a configuration for an S3 endpoint in accordance with the [mc documentation](https://min.io/docs/minio/linux/reference/minio-mc.html).","title":"Minio bucket size","body":"<p>The minio client <code>mc</code> as of version <a href=\"https://github.com/minio/mc/releases/tag/RELEASE.2019-08-14T20-49-49Z\" rel=\"nofollow noreferrer\">2019-08-14T20-49-49Z</a> has a <code>du</code> subcommand that can be used as follows to determine the size of a bucket:</p>\n<pre><code>mc du --depth 1 &lt;alias&gt;/your_bucket_path\n</code></pre>\n<p>where <code>&lt;alias&gt;</code> is a configuration for an S3 endpoint in accordance with the <a href=\"https://min.io/docs/minio/linux/reference/minio-mc.html\" rel=\"nofollow noreferrer\">mc documentation</a>.</p>\n"}],"owner":{"account_id":15009298,"reputation":75,"user_id":10834275,"display_name":"shiva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10483,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1677680754,"creation_date":1549435571,"question_id":54548029,"body_markdown":"I want to calculate bucket size of minio.\r\nis it possible to calculate storage quota using MinioClient?\r\n or is there any best way to calculate bucket size of minio storage.\r\n\r\n\r\nthanks in advance ","title":"Minio bucket size","body":"<p>I want to calculate bucket size of minio.\nis it possible to calculate storage quota using MinioClient?\n or is there any best way to calculate bucket size of minio storage.</p>\n\n<p>thanks in advance </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1677243429,"post_id":75556759,"comment_id":133304283,"body_markdown":"I don&#39;t see anything wrong. It might be your IDE playing tricks on you. What happens if you run the application from the command line (eg. by running `.\\mvnw spring-boot:run`)?","body":"I don&#39;t see anything wrong. It might be your IDE playing tricks on you. What happens if you run the application from the command line (eg. by running <code>.\\mvnw spring-boot:run</code>)?"},{"owner":{"account_id":20202140,"reputation":11,"user_id":14817566,"display_name":"Arda C&#252;ce"},"score":0,"creation_date":1677244047,"post_id":75556759,"comment_id":133304447,"body_markdown":"@g00glen00b same result","body":"@g00glen00b same result"},{"owner":{"account_id":2274474,"reputation":119,"user_id":6536262,"display_name":"Viki Jain"},"score":0,"creation_date":1677246080,"post_id":75556759,"comment_id":133305015,"body_markdown":"you can try @ComponentScan(basePackages = {&quot;com.example.demo&quot;}) on top of your main class.","body":"you can try @ComponentScan(basePackages = {&quot;com.example.demo&quot;}) on top of your main class."}],"answers":[{"tags":[],"owner":{"account_id":20202140,"reputation":11,"user_id":14817566,"display_name":"Arda C&#252;ce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677680449,"creation_date":1677246177,"answer_id":75557282,"question_id":75556759,"body_markdown":"Apparently, the problem was because I was using special characters in the project directory. My windows is in Turkish and desktop is Masa&#252;st&#252;, in Turkish.\r\n\r\nAfter enabling debug logs I found out that when the component scan was being conducted, it was throwing the following error:-\r\n```\r\n2023-02-24T16:19:22.500+03:00 DEBUG 4796 --- [           main] .i.s.PathMatchingResourcePatternResolver : Failed to complete search in directory [C:\\Users\\ARDA\\OneDrive\\Masa%c3%bcst%c3%bc\\demo\\target\\classes\\com\\example\\demo] for files matching pattern [*/.class]: java.nio.file.NoSuchFileException: C:\\Users\\ARDA\\OneDrive\\Masa%c3%bcst%c3%bc\\demo\\target\\classes\\com\\example\\demo\r\n```\r\n\r\nSo I changed my project folder to somewhere else (and also had to remove the whitespace from the folder name) and the problem was solved.","title":"Spring Boot Application RestController defined outside Application can not be accessed","body":"<p>Apparently, the problem was because I was using special characters in the project directory. My windows is in Turkish and desktop is Masast, in Turkish.</p>\n<p>After enabling debug logs I found out that when the component scan was being conducted, it was throwing the following error:-</p>\n<pre><code>2023-02-24T16:19:22.500+03:00 DEBUG 4796 --- [           main] .i.s.PathMatchingResourcePatternResolver : Failed to complete search in directory [C:\\Users\\ARDA\\OneDrive\\Masa%c3%bcst%c3%bc\\demo\\target\\classes\\com\\example\\demo] for files matching pattern [*/.class]: java.nio.file.NoSuchFileException: C:\\Users\\ARDA\\OneDrive\\Masa%c3%bcst%c3%bc\\demo\\target\\classes\\com\\example\\demo\n</code></pre>\n<p>So I changed my project folder to somewhere else (and also had to remove the whitespace from the folder name) and the problem was solved.</p>\n"}],"owner":{"account_id":20202140,"reputation":11,"user_id":14817566,"display_name":"Arda C&#252;ce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75557282,"answer_count":1,"score":1,"last_activity_date":1677680449,"creation_date":1677242966,"question_id":75556759,"body_markdown":"I&#39;m trying to use both java and Spring Boot for the first time, following a tutorial.\r\n\r\nI have created a class called UserController in a package called User, in which I have defined an endpoint, contents of UserController.java :\r\n\r\n```\r\npackage com.example.demo.user;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/user&quot;)\r\npublic class UserController {\r\n    @GetMapping(&quot;/&quot;)\r\n    public List&lt;User&gt; hello() {\r\n        User myUser = new User(5000, 1, 1);\r\n        return List.of(myUser);\r\n    }\r\n}\r\n```\r\n\r\nUser package also includes class named User in User.java with getters, setters and constructers for the User class.\r\n\r\nAnd in the same hierarchy as the user package, I have DemoApplication.java with the following content:\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n}\r\n```\r\nI am expecting to receive a response such as [User] ......, however I get 404 not found.\r\n\r\n\r\n[this](https://i.stack.imgur.com/Oiu4R.png) is what my project structure looks like\r\n\r\n\r\nWhat am I doing wrong here? Searched a lot to find an answer to no avail.\r\n\r\nThank you for your help in advance.\r\n\r\nWhen I modify the code so that I define the end point inside DemoApplication.java as such:\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport com.example.demo.user.User;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/user&quot;)\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic List&lt;User&gt; hello() {\r\n\t\tUser myUser = new User(5000, 1, 1);\r\n\t\treturn List.of(myUser);\r\n\t}\r\n}\r\n\r\n```\r\nThe endpoint starts working as expected.\r\nBut I was expecting it to keep on giving 404 because I am not doing anything fundamentally different.\r\n\r\nThis is the endpoint I&#39;m sending GET requests using postman:\r\nhttp://localhost:8080/api/v1/user/","title":"Spring Boot Application RestController defined outside Application can not be accessed","body":"<p>I'm trying to use both java and Spring Boot for the first time, following a tutorial.</p>\n<p>I have created a class called UserController in a package called User, in which I have defined an endpoint, contents of UserController.java :</p>\n<pre><code>package com.example.demo.user;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(path = &quot;/api/v1/user&quot;)\npublic class UserController {\n    @GetMapping(&quot;/&quot;)\n    public List&lt;User&gt; hello() {\n        User myUser = new User(5000, 1, 1);\n        return List.of(myUser);\n    }\n}\n</code></pre>\n<p>User package also includes class named User in User.java with getters, setters and constructers for the User class.</p>\n<p>And in the same hierarchy as the user package, I have DemoApplication.java with the following content:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>I am expecting to receive a response such as [User] ......, however I get 404 not found.</p>\n<p><a href=\"https://i.stack.imgur.com/Oiu4R.png\" rel=\"nofollow noreferrer\">this</a> is what my project structure looks like</p>\n<p>What am I doing wrong here? Searched a lot to find an answer to no avail.</p>\n<p>Thank you for your help in advance.</p>\n<p>When I modify the code so that I define the end point inside DemoApplication.java as such:</p>\n<pre><code>package com.example.demo;\n\nimport com.example.demo.user.User;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@SpringBootApplication\n@RestController\n@RequestMapping(path = &quot;/api/v1/user&quot;)\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n    @GetMapping(&quot;/&quot;)\n    public List&lt;User&gt; hello() {\n        User myUser = new User(5000, 1, 1);\n        return List.of(myUser);\n    }\n}\n\n</code></pre>\n<p>The endpoint starts working as expected.\nBut I was expecting it to keep on giving 404 because I am not doing anything fundamentally different.</p>\n<p>This is the endpoint I'm sending GET requests using postman:\nhttp://localhost:8080/api/v1/user/</p>\n"},{"tags":["java","spring","tomcat","web-applications"],"answers":[{"tags":[],"owner":{"account_id":12597284,"reputation":1,"user_id":9161377,"display_name":"Thinkers Hive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677428116,"creation_date":1677428116,"answer_id":75573311,"question_id":75569749,"body_markdown":"Never mind, figured out, tomcat application cache files was leading to this error. Cleared work folder for the app and it picked up correct config and jars.","title":"FileNotFoundException exception for jar explicitly removed from war in tomcat","body":"<p>Never mind, figured out, tomcat application cache files was leading to this error. Cleared work folder for the app and it picked up correct config and jars.</p>\n"}],"owner":{"account_id":12597284,"reputation":1,"user_id":9161377,"display_name":"Thinkers Hive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677680383,"creation_date":1677380260,"question_id":75569749,"body_markdown":"We recently upgraded our application from Spring - `4.3.2.RELEASE` to `4.3.30.RELEASE` and started observing following `FileNotFoundException` for our application in `.war` format with following tech stack:\r\n\r\n```\r\nJDK - 8\r\nTomcat - 8\r\nSpring - 4.3.30.RELEASE\r\n```\r\n\r\nWe confirm that due to following war settings, we don&#39;t have file in the lib but not sure why it&#39;s looking for that specific jar to begin with.\r\n\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;webappDirectory&gt;${env.WAR_PATH}&lt;/webappDirectory&gt;\r\n\t\t&lt;packagingExcludes&gt;WEB-INF/lib/*-4.3.2.RELEASE.jar&lt;/packagingExcludes&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n```\r\njava.io.FileNotFoundException: /opt/tomcat/{appName}/WEB-INF/lib/spring-core-4.3.2.RELEASE.jar (No such file or directory)\r\n\tjava.util.zip.ZipFile.open(Native Method)\r\n\tjava.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:219)\r\n\tjava.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:149)\r\n\tjava.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\r\n\tjava.util.jar.JarFile.&lt;init&gt;(JarFile.java:103)\r\n\torg.apache.catalina.webresources.AbstractArchiveResourceSet.openJarFile(AbstractArchiveResourceSet.java:308)\r\n\torg.apache.catalina.webresources.JarResourceSet.getArchiveEntry(JarResourceSet.java:119)\r\n\torg.apache.catalina.webresources.AbstractArchiveResourceSet.getResource(AbstractArchiveResourceSet.java:260)\r\n\torg.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:281)\r\n\torg.apache.catalina.webresources.Cache.getResource(Cache.java:63)\r\n    ...\r\n```\r\n\r\nAny pointers towards same would be helpful.\r\n\r\nIt&#39;s a normal web application deployed on tomcat and ideally it should come up and server the html pages.","title":"FileNotFoundException exception for jar explicitly removed from war in tomcat","body":"<p>We recently upgraded our application from Spring - <code>4.3.2.RELEASE</code> to <code>4.3.30.RELEASE</code> and started observing following <code>FileNotFoundException</code> for our application in <code>.war</code> format with following tech stack:</p>\n<pre><code>JDK - 8\nTomcat - 8\nSpring - 4.3.30.RELEASE\n</code></pre>\n<p>We confirm that due to following war settings, we don't have file in the lib but not sure why it's looking for that specific jar to begin with.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;webappDirectory&gt;${env.WAR_PATH}&lt;/webappDirectory&gt;\n        &lt;packagingExcludes&gt;WEB-INF/lib/*-4.3.2.RELEASE.jar&lt;/packagingExcludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<pre><code>java.io.FileNotFoundException: /opt/tomcat/{appName}/WEB-INF/lib/spring-core-4.3.2.RELEASE.jar (No such file or directory)\n    java.util.zip.ZipFile.open(Native Method)\n    java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:219)\n    java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:149)\n    java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\n    java.util.jar.JarFile.&lt;init&gt;(JarFile.java:103)\n    org.apache.catalina.webresources.AbstractArchiveResourceSet.openJarFile(AbstractArchiveResourceSet.java:308)\n    org.apache.catalina.webresources.JarResourceSet.getArchiveEntry(JarResourceSet.java:119)\n    org.apache.catalina.webresources.AbstractArchiveResourceSet.getResource(AbstractArchiveResourceSet.java:260)\n    org.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:281)\n    org.apache.catalina.webresources.Cache.getResource(Cache.java:63)\n    ...\n</code></pre>\n<p>Any pointers towards same would be helpful.</p>\n<p>It's a normal web application deployed on tomcat and ideally it should come up and server the html pages.</p>\n"},{"tags":["java","jersey"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1677682261,"post_id":75600648,"comment_id":133386310,"body_markdown":"You will need to provide information about what are you posting to and how; and you also need to provide some server-side code that is responsible to handle your post.","body":"You will need to provide information about what are you posting to and how; and you also need to provide some server-side code that is responsible to handle your post."}],"owner":{"account_id":27469484,"reputation":1,"user_id":20958680,"display_name":"bava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677680369,"creation_date":1677655685,"question_id":75600648,"body_markdown":"I tried to build JSON API using java jersey. Problem here is there are two tables, I am inserting data in one table and expecting the response to join the two tables, but this doesn&#39;t work, please find the procedure we followed below.\r\n**\r\nPOST OPERATION**\r\n\r\n**Expected JSON Response**\r\n\r\n```\r\n {\r\n    &quot;data&quot;: {\r\n        &quot;id&quot;: &quot;c&quot;,\r\n        &quot;createTimestamp&quot;: &quot;2023-02-22T15:03:53&quot;,\r\n        &quot;createUser&quot;: &quot;TODO&quot;,\r\n        &quot;modifyTimestamp&quot;: &quot;2023-03-01T12:24:47.570574400&quot;,\r\n        &quot;modifyUser&quot;: &quot;TODO&quot;,\r\n        &quot;inactive&quot;: false,\r\n        &quot;key&quot;: &quot;c&quot;,\r\n        &quot;parentKey&quot;: &quot;1&quot;,\r\n        &quot;userGroup&quot;: {\r\n            &quot;id&quot;: &quot;c&quot;,\r\n            &quot;createTimestamp&quot;: &quot;2023-02-14T17:42:08.987582&quot;,\r\n            &quot;createUser&quot;: &quot;TODO&quot;,\r\n            &quot;modifyTimestamp&quot;: &quot;2023-02-14T17:42:08.986584&quot;,\r\n            &quot;modifyUser&quot;: &quot;TODO&quot;,\r\n            &quot;description&quot;: &quot;6th Group&quot;,\r\n            &quot;inactive&quot;: true,\r\n            &quot;key&quot;: &quot;c&quot;,\r\n            &quot;userGroupId&quot;: &quot;c&quot;\r\n        },\r\n        &quot;userGroupId&quot;: &quot;c&quot;,\r\n        &quot;userId&quot;: &quot;1&quot;\r\n    }\r\n}\r\n```\r\n\r\n**Actual JSON Response**\r\n\r\n\r\n```\r\n{\r\n    &quot;data&quot;: {\r\n        &quot;id&quot;: &quot;dgg&quot;,\r\n        &quot;createTimestamp&quot;: &quot;2023-03-01T12:28:05.159301200&quot;,\r\n        &quot;createUser&quot;: &quot;TODO&quot;,\r\n        &quot;modifyTimestamp&quot;: &quot;2023-03-01T12:28:05.159301200&quot;,\r\n        &quot;modifyUser&quot;: &quot;TODO&quot;,\r\n        &quot;inactive&quot;: false,\r\n        &quot;key&quot;: &quot;dgg&quot;,\r\n        &quot;parentKey&quot;: &quot;4&quot;,\r\n        &quot;userGroupId&quot;: &quot;dgg&quot;,\r\n        &quot;userId&quot;: &quot;4&quot;\r\n    }\r\n}\r\n```\r\n\r\n**Entities **\r\n\r\n\r\n```\r\n @Entity\r\n @Table(name = &quot;USER_ACCESS_GROUPS&quot;)\r\n\r\npublic class UserAccessGroup extends AbstractChildEntityWithAudit&lt;String, String&gt; implements IActivate {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t@Id\r\n\t@Column(name = &quot;USER_ID&quot;)\r\n\tprivate String userId;\r\n\t@Id\r\n\r\n\t@Column(name = &quot;USER_GROUP_ID&quot;)\r\n\tprivate String userGroupId;\r\n\t\r\n\t@Column(name=&quot;INACTIVE&quot;)\r\n\tprivate Boolean inactive;\r\n\t\r\n\t@OneToOne(cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;USER_GROUP_ID&quot;, referencedColumnName = &quot;USER_GROUP_ID&quot;, insertable = false, updatable = false)\r\n\tprivate UserGroup userGroup;\r\n\r\n\tpublic UserGroup getUserGroup() {\r\n\t\treturn userGroup;\r\n\t}\r\n\r\n\tpublic void setUserGroup(UserGroup userGroup) {\r\n\t\tthis.userGroup = userGroup;\r\n\t}\r\n\r\n\tpublic UserAccessGroup() {\r\n\t}\r\n\r\n\tpublic String getUserId() {\r\n\t\treturn userId;\r\n\t}\r\n\r\n\tpublic void setUserId(String userId) {\r\n\t\tthis.userId = userId;\r\n\t}\r\n\r\n\tpublic String getUserGroupId() {\r\n\t\treturn userGroupId;\r\n\t}\r\n\r\n\tpublic void setUserGroupId(String userGroupId) {\r\n\t\tthis.userGroupId = userGroupId;\r\n\t}\r\n\r\n\r\n\tpublic Boolean getInactive() {\r\n\t\treturn this.inactive;\r\n\t}\r\n\r\n\tpublic void setInactive(Boolean inactive) {\r\n\t\tthis.inactive = inactive;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getKey() {\r\n\t\treturn userGroupId;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setKey(String key) {\r\n\t\tthis.userGroupId = key;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getParentKey() {\r\n\t\treturn userId;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setParentKey(String parentKey) {\r\n\t\tthis.userId = parentKey;\r\n\t}\r\n}\r\n```\r\n\r\n\r\ntry to get the post response ","title":"one to one mapping does not bring data in post operation java","body":"<p>I tried to build JSON API using java jersey. Problem here is there are two tables, I am inserting data in one table and expecting the response to join the two tables, but this doesn't work, please find the procedure we followed below.\n**\nPOST OPERATION**</p>\n<p><strong>Expected JSON Response</strong></p>\n<pre><code> {\n    &quot;data&quot;: {\n        &quot;id&quot;: &quot;c&quot;,\n        &quot;createTimestamp&quot;: &quot;2023-02-22T15:03:53&quot;,\n        &quot;createUser&quot;: &quot;TODO&quot;,\n        &quot;modifyTimestamp&quot;: &quot;2023-03-01T12:24:47.570574400&quot;,\n        &quot;modifyUser&quot;: &quot;TODO&quot;,\n        &quot;inactive&quot;: false,\n        &quot;key&quot;: &quot;c&quot;,\n        &quot;parentKey&quot;: &quot;1&quot;,\n        &quot;userGroup&quot;: {\n            &quot;id&quot;: &quot;c&quot;,\n            &quot;createTimestamp&quot;: &quot;2023-02-14T17:42:08.987582&quot;,\n            &quot;createUser&quot;: &quot;TODO&quot;,\n            &quot;modifyTimestamp&quot;: &quot;2023-02-14T17:42:08.986584&quot;,\n            &quot;modifyUser&quot;: &quot;TODO&quot;,\n            &quot;description&quot;: &quot;6th Group&quot;,\n            &quot;inactive&quot;: true,\n            &quot;key&quot;: &quot;c&quot;,\n            &quot;userGroupId&quot;: &quot;c&quot;\n        },\n        &quot;userGroupId&quot;: &quot;c&quot;,\n        &quot;userId&quot;: &quot;1&quot;\n    }\n}\n</code></pre>\n<p><strong>Actual JSON Response</strong></p>\n<pre><code>{\n    &quot;data&quot;: {\n        &quot;id&quot;: &quot;dgg&quot;,\n        &quot;createTimestamp&quot;: &quot;2023-03-01T12:28:05.159301200&quot;,\n        &quot;createUser&quot;: &quot;TODO&quot;,\n        &quot;modifyTimestamp&quot;: &quot;2023-03-01T12:28:05.159301200&quot;,\n        &quot;modifyUser&quot;: &quot;TODO&quot;,\n        &quot;inactive&quot;: false,\n        &quot;key&quot;: &quot;dgg&quot;,\n        &quot;parentKey&quot;: &quot;4&quot;,\n        &quot;userGroupId&quot;: &quot;dgg&quot;,\n        &quot;userId&quot;: &quot;4&quot;\n    }\n}\n</code></pre>\n<p>**Entities **</p>\n<pre><code> @Entity\n @Table(name = &quot;USER_ACCESS_GROUPS&quot;)\n\npublic class UserAccessGroup extends AbstractChildEntityWithAudit&lt;String, String&gt; implements IActivate {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @Column(name = &quot;USER_ID&quot;)\n    private String userId;\n    @Id\n\n    @Column(name = &quot;USER_GROUP_ID&quot;)\n    private String userGroupId;\n    \n    @Column(name=&quot;INACTIVE&quot;)\n    private Boolean inactive;\n    \n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;USER_GROUP_ID&quot;, referencedColumnName = &quot;USER_GROUP_ID&quot;, insertable = false, updatable = false)\n    private UserGroup userGroup;\n\n    public UserGroup getUserGroup() {\n        return userGroup;\n    }\n\n    public void setUserGroup(UserGroup userGroup) {\n        this.userGroup = userGroup;\n    }\n\n    public UserAccessGroup() {\n    }\n\n    public String getUserId() {\n        return userId;\n    }\n\n    public void setUserId(String userId) {\n        this.userId = userId;\n    }\n\n    public String getUserGroupId() {\n        return userGroupId;\n    }\n\n    public void setUserGroupId(String userGroupId) {\n        this.userGroupId = userGroupId;\n    }\n\n\n    public Boolean getInactive() {\n        return this.inactive;\n    }\n\n    public void setInactive(Boolean inactive) {\n        this.inactive = inactive;\n    }\n\n    @Override\n    public String getKey() {\n        return userGroupId;\n    }\n\n    @Override\n    public void setKey(String key) {\n        this.userGroupId = key;\n    }\n\n    @Override\n    public String getParentKey() {\n        return userId;\n    }\n\n    @Override\n    public void setParentKey(String parentKey) {\n        this.userId = parentKey;\n    }\n}\n</code></pre>\n<p>try to get the post response</p>\n"},{"tags":["java","spring","spring-boot","annotations"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1624422141,"post_id":68093250,"comment_id":120351281,"body_markdown":"Why not just call them all sequentially yourself? For that matter, `@PostConstruct` is generally flaky and is usually better replaced with a constructor.","body":"Why not just call them all sequentially yourself? For that matter, <code>@PostConstruct</code> is generally flaky and is usually better replaced with a constructor."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1677699678,"post_id":68093250,"comment_id":133391652,"body_markdown":"Please update your question to explain why you can&#39;t simply call the methods in the correct order from a single @PostConstruct method, also, include some code to illustrate what you&#39;re trying to accomplish.","body":"Please update your question to explain why you can&#39;t simply call the methods in the correct order from a single @PostConstruct method, also, include some code to illustrate what you&#39;re trying to accomplish."}],"answers":[{"tags":[],"owner":{"account_id":11250838,"reputation":54,"user_id":8251986,"display_name":"pg26"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624420660,"creation_date":1624420660,"answer_id":68093347,"question_id":68093250,"body_markdown":"You can try calling these methods from a single @postconstruct method.","title":"I want multiple @ postconstruct methods in a class to be executed sequentially","body":"<p>You can try calling these methods from a single @postconstruct method.</p>\n"},{"tags":[],"owner":{"account_id":11083715,"reputation":59,"user_id":8138190,"display_name":"dengshuo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624421746,"creation_date":1624421746,"answer_id":68093463,"question_id":68093250,"body_markdown":"    @Bean\r\n    public void test1(){\r\n        System.out.println(&quot;bean A init&quot;);\r\n    }\r\n\r\n\r\n    @Bean\r\n    @DependsOn(&quot;test1&quot;)\r\n    public void test2(){\r\n        System.out.println(&quot;test2&quot;);\r\n    }\r\n\r\n\r\n    @Bean\r\n    @DependsOn(&quot;test2&quot;)\r\n    public void test3(){\r\n        System.out.println(&quot;test3&quot;);\r\n    }\r\nYou can use this scenario to control the loading order","title":"I want multiple @ postconstruct methods in a class to be executed sequentially","body":"<pre><code>@Bean\npublic void test1(){\n    System.out.println(&quot;bean A init&quot;);\n}\n\n\n@Bean\n@DependsOn(&quot;test1&quot;)\npublic void test2(){\n    System.out.println(&quot;test2&quot;);\n}\n\n\n@Bean\n@DependsOn(&quot;test2&quot;)\npublic void test3(){\n    System.out.println(&quot;test3&quot;);\n}\n</code></pre>\n<p>You can use this scenario to control the loading order</p>\n"},{"tags":[],"owner":{"account_id":21157823,"reputation":1,"user_id":15556730,"display_name":"thinhhja2001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677680338,"creation_date":1677680338,"answer_id":75604895,"question_id":68093250,"body_markdown":"Try this\r\n```\r\npublic void method1() {\r\n        System.out.println(&quot;method 1&quot;);\r\n    }\r\n\r\n    public void method2() {\r\n        System.out.println(&quot;method 2&quot;);\r\n    }\r\n\r\n    public void method3() {\r\n        System.out.println(&quot;method 3&quot;);\r\n    }\r\n\r\n    @PostConstruct\r\n    public void postConstruct() {\r\n        method1();\r\n        method2();\r\n        method3();\r\n    }\r\n```\r\nresult:\r\n```\r\nmethod 1\r\nmethod 2\r\nmethod 3\r\n```","title":"I want multiple @ postconstruct methods in a class to be executed sequentially","body":"<p>Try this</p>\n<pre><code>public void method1() {\n        System.out.println(&quot;method 1&quot;);\n    }\n\n    public void method2() {\n        System.out.println(&quot;method 2&quot;);\n    }\n\n    public void method3() {\n        System.out.println(&quot;method 3&quot;);\n    }\n\n    @PostConstruct\n    public void postConstruct() {\n        method1();\n        method2();\n        method3();\n    }\n</code></pre>\n<p>result:</p>\n<pre><code>method 1\nmethod 2\nmethod 3\n</code></pre>\n"}],"owner":{"account_id":11083715,"reputation":59,"user_id":8138190,"display_name":"dengshuo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677680338,"creation_date":1624419623,"question_id":68093250,"body_markdown":"I hope they will be executed in the specified order, but the execution result is random,Use @order invalid,Each method is independent, temporarily unable to put it in one method","title":"I want multiple @ postconstruct methods in a class to be executed sequentially","body":"<p>I hope they will be executed in the specified order, but the execution result is random,Use @order invalid,Each method is independent, temporarily unable to put it in one method</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":2,"creation_date":1677686397,"post_id":75603978,"comment_id":133387708,"body_markdown":"When providing a subscriber object, you are responsible for triggering requests from subscription. In the `onSubscribe(Subscription subscription)` method, you have to call `subscription.request(n)` with `n` the max number of items you want to consume before requesting more. This is descibed in [Subscriber api doc](https://www.reactive-streams.org/reactive-streams-1.0.3-javadoc/org/reactivestreams/Subscriber.html?is-external=true)","body":"When providing a subscriber object, you are responsible for triggering requests from subscription. In the <code>onSubscribe(Subscription subscription)</code> method, you have to call <code>subscription.request(n)</code> with <code>n</code> the max number of items you want to consume before requesting more. This is descibed in <a href=\"https://www.reactive-streams.org/reactive-streams-1.0.3-javadoc/org/reactivestreams/Subscriber.html?is-external=true\" rel=\"nofollow noreferrer\">Subscriber api doc</a>"}],"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677680190,"creation_date":1677675069,"question_id":75603978,"body_markdown":"I have the following code \r\n\r\n    \r\n\r\n    Flux&lt;String&gt; myFlux=getFlux();\r\n        documentIds\r\n            .windowTimeout(WINDOW, Duration.ofSeconds(5))\r\n            .onBackpressureBuffer()\r\n            .takeWhile(d -&gt; !interrupted.get())\r\n            .subscribeOn(Schedulers.fromExecutor(processorThread))\r\n    \t\t.buffer(bufferSize)\r\n    \t\tsubscribe(\r\n                new Subscriber&lt;&gt;() {\r\n                  @Override\r\n                  public void onComplete() {\r\n                    System.out.println(&quot;complete&quot;);\r\n                  countDownLatch.countDown();\r\n                  }    \r\n                  @Override\r\n                  public void onError(Throwable e) {\r\n                    System.out.println(&quot;error&quot;);\r\n                    countDownLatch.countDown();\r\n                  }   \r\n                  @Override\r\n                  public void onSubscribe(Subscription subscription) {\r\n                    System.out.println(&quot;dd&quot;);\r\n                  }    \r\n                  @Override\r\n                  public void onNext(List&lt;BaseEntity&gt; entities) {\r\n                    System.out.println(&quot;next&quot;);\r\n                  }\r\n                });\r\n               countDownLatch.await();\r\n\r\nOnly the onSubscribe method is being called.\r\nMy program keep blocked on &quot;countDownLatch.await();&quot;\r\n\r\nI have tried also using BaseSubscriber but same issue.\r\nHere is a sample of the code I&#39;m currently using.\r\n\r\n    documentIds\r\n            .windowTimeout(WINDOW, Duration.ofSeconds(5))\r\n            .onBackpressureBuffer()\r\n            .takeWhile(d -&gt; !interrupted.get())\r\n            .subscribeOn(Schedulers.fromExecutor(processorThread))\r\n    \t\t.buffer(bufferSize)\r\n    \t\tsubscribe(\r\n                new BaseSubscriber&lt;&gt;() {\r\n                  @Override\r\n                  public void hookOnComplete() {\r\n                    System.out.println(&quot;complete&quot;);\r\n                    countDownLatch.countDown();\r\n                  }    \r\n                  @Override\r\n                  public void hookOnError(Throwable e) {\r\n                    System.out.println(&quot;error&quot;);\r\n                    countDownLatch.countDown();\r\n                  }  \r\n                  @Override\r\n                  public void hookOnSubscribe(Subscription subscription) {\r\n                    System.out.println(&quot;dd&quot;);\r\n                  }   \r\n                  @Override\r\n                  public void hookOnNext(List&lt;BaseEntity&gt; entities) {\r\n                    System.out.println(&quot;next&quot;);\r\n                  }\r\n                });\r\n                countDownLatch.await();\r\n\r\nBut if I use the consumer method- I can consume my flus successfully.\r\n\r\n    documentIds\r\n            .windowTimeout(WINDOW, Duration.ofSeconds(5))\r\n            .onBackpressureBuffer()\r\n            .takeWhile(d -&gt; !interrupted.get())\r\n            .subscribeOn(Schedulers.fromExecutor(processorThread))\r\n    \t\t.buffer(bufferSize)\r\n    \t\tsubscribe(\r\n                item -&gt; {\r\n                  System.out.println(&quot;next&quot;);\r\n                },\r\n                error -&gt; {\r\n                  System.out.println(error);\r\n                },\r\n                () -&gt; {\r\n                  System.out.println(&quot;complete&quot;);\r\n                });\r\n\r\nAny explanation please about this behavior?","title":"onNext and onComplete not called when using anonymous subscriber","body":"<p>I have the following code</p>\n<pre><code>Flux&lt;String&gt; myFlux=getFlux();\n    documentIds\n        .windowTimeout(WINDOW, Duration.ofSeconds(5))\n        .onBackpressureBuffer()\n        .takeWhile(d -&gt; !interrupted.get())\n        .subscribeOn(Schedulers.fromExecutor(processorThread))\n        .buffer(bufferSize)\n        subscribe(\n            new Subscriber&lt;&gt;() {\n              @Override\n              public void onComplete() {\n                System.out.println(&quot;complete&quot;);\n              countDownLatch.countDown();\n              }    \n              @Override\n              public void onError(Throwable e) {\n                System.out.println(&quot;error&quot;);\n                countDownLatch.countDown();\n              }   \n              @Override\n              public void onSubscribe(Subscription subscription) {\n                System.out.println(&quot;dd&quot;);\n              }    \n              @Override\n              public void onNext(List&lt;BaseEntity&gt; entities) {\n                System.out.println(&quot;next&quot;);\n              }\n            });\n           countDownLatch.await();\n</code></pre>\n<p>Only the onSubscribe method is being called.\nMy program keep blocked on &quot;countDownLatch.await();&quot;</p>\n<p>I have tried also using BaseSubscriber but same issue.\nHere is a sample of the code I'm currently using.</p>\n<pre><code>documentIds\n        .windowTimeout(WINDOW, Duration.ofSeconds(5))\n        .onBackpressureBuffer()\n        .takeWhile(d -&gt; !interrupted.get())\n        .subscribeOn(Schedulers.fromExecutor(processorThread))\n        .buffer(bufferSize)\n        subscribe(\n            new BaseSubscriber&lt;&gt;() {\n              @Override\n              public void hookOnComplete() {\n                System.out.println(&quot;complete&quot;);\n                countDownLatch.countDown();\n              }    \n              @Override\n              public void hookOnError(Throwable e) {\n                System.out.println(&quot;error&quot;);\n                countDownLatch.countDown();\n              }  \n              @Override\n              public void hookOnSubscribe(Subscription subscription) {\n                System.out.println(&quot;dd&quot;);\n              }   \n              @Override\n              public void hookOnNext(List&lt;BaseEntity&gt; entities) {\n                System.out.println(&quot;next&quot;);\n              }\n            });\n            countDownLatch.await();\n</code></pre>\n<p>But if I use the consumer method- I can consume my flus successfully.</p>\n<pre><code>documentIds\n        .windowTimeout(WINDOW, Duration.ofSeconds(5))\n        .onBackpressureBuffer()\n        .takeWhile(d -&gt; !interrupted.get())\n        .subscribeOn(Schedulers.fromExecutor(processorThread))\n        .buffer(bufferSize)\n        subscribe(\n            item -&gt; {\n              System.out.println(&quot;next&quot;);\n            },\n            error -&gt; {\n              System.out.println(error);\n            },\n            () -&gt; {\n              System.out.println(&quot;complete&quot;);\n            });\n</code></pre>\n<p>Any explanation please about this behavior?</p>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677680136,"creation_date":1677680136,"answer_id":75604872,"question_id":75604777,"body_markdown":"You don&#39;t have to call `subscribe()`\r\n\r\nJust continue your reactive chain using `flatMap()` operator:\r\n\r\n    public Mono&lt;String&gt; getResource(ResourceType resourceType) {\r\n        return credentialService.getServerCredential(resourceType)\r\n                .flatMap(credential -&gt; searchResource(credential));\r\n    }\r\n\r\n    private Mono&lt;String&gt; searchResource(ServerCredential credential) {\r\n        WebClient client = WebClient.create(credential.getServer().getServerUrl());\r\n        return client.post()\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .retry(RETRY_COUNT);\r\n    }\r\n\r\n\r\nYour `searchResource()` method would be called when `getServerCredential(resourceType)` emitted the value.","title":"How do I design rest controller with spring webflux so it is non-blocking?","body":"<p>You don't have to call <code>subscribe()</code></p>\n<p>Just continue your reactive chain using <code>flatMap()</code> operator:</p>\n<pre><code>public Mono&lt;String&gt; getResource(ResourceType resourceType) {\n    return credentialService.getServerCredential(resourceType)\n            .flatMap(credential -&gt; searchResource(credential));\n}\n\nprivate Mono&lt;String&gt; searchResource(ServerCredential credential) {\n    WebClient client = WebClient.create(credential.getServer().getServerUrl());\n    return client.post()\n            .accept(MediaType.APPLICATION_JSON)\n            .contentType(MediaType.APPLICATION_JSON)\n            .retrieve()\n            .bodyToMono(String.class)\n            .retry(RETRY_COUNT);\n}\n</code></pre>\n<p>Your <code>searchResource()</code> method would be called when <code>getServerCredential(resourceType)</code> emitted the value.</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75604872,"answer_count":1,"score":0,"last_activity_date":1677680136,"creation_date":1677679600,"question_id":75604777,"body_markdown":"this is my first time trying to utilize Webflux. I have a controller that returns Mono&lt;String&gt; object like this:\r\n```\r\n    @GetMapping(path = &quot;/{resourceType}&quot;, produces = APPLICATION_JSON_VALUE)\r\n    public Mono&lt;String&gt; getData(@NotBlank @PathVariable ResourceType resourceType) {\r\n        return resourceService.getResource(resourceType);\r\n\r\n    }\r\n```\r\nIn the resourceService, I am creating an object using `resourceType` and want to build a string by calling another endpoint something like this:\r\n```\r\n    @Override\r\n    public Mono&lt;String&gt; getResource(ResourceType resourceType) {\r\n        Mono&lt;ServerCredential&gt; credentialMono = credentialService.getServerCredential(resourceType);\r\n        //want to call an endpoint using WebClient to receive response and return that response back to controller layer\r\n    }\r\n```\r\nIf I subscribe to `credentialMono` to call endpoint like this:\r\n```\r\ncredentialMono.subscribe(credential -&gt; callApi(credential));\r\n```\r\nI am not sure if this can return anything back to the caller. I would like to return `Mono&lt;String&gt;` object back to controller and this `Mono&lt;String&gt;` object will be received from api call something like this:\r\n```\r\nprivate Mono&lt;String&gt; searchResource(ServerCredential credential) {\r\n        WebClient client = WebClient.create(credential.getServer().getServerUrl());\r\n        return client.post()\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .retry(RETRY_COUNT)\r\n    }\r\n```\r\nIt is not working code, but something like this. I want to call this method from `Mono&lt;ServerCredential&gt; credentialMono = credentialService.getServerCredential(resourceType);` and essentially return back response to controller. How can I achieve this? Am I even going into the right direction?","title":"How do I design rest controller with spring webflux so it is non-blocking?","body":"<p>this is my first time trying to utilize Webflux. I have a controller that returns Mono object like this:</p>\n<pre><code>    @GetMapping(path = &quot;/{resourceType}&quot;, produces = APPLICATION_JSON_VALUE)\n    public Mono&lt;String&gt; getData(@NotBlank @PathVariable ResourceType resourceType) {\n        return resourceService.getResource(resourceType);\n\n    }\n</code></pre>\n<p>In the resourceService, I am creating an object using <code>resourceType</code> and want to build a string by calling another endpoint something like this:</p>\n<pre><code>    @Override\n    public Mono&lt;String&gt; getResource(ResourceType resourceType) {\n        Mono&lt;ServerCredential&gt; credentialMono = credentialService.getServerCredential(resourceType);\n        //want to call an endpoint using WebClient to receive response and return that response back to controller layer\n    }\n</code></pre>\n<p>If I subscribe to <code>credentialMono</code> to call endpoint like this:</p>\n<pre><code>credentialMono.subscribe(credential -&gt; callApi(credential));\n</code></pre>\n<p>I am not sure if this can return anything back to the caller. I would like to return <code>Mono&lt;String&gt;</code> object back to controller and this <code>Mono&lt;String&gt;</code> object will be received from api call something like this:</p>\n<pre><code>private Mono&lt;String&gt; searchResource(ServerCredential credential) {\n        WebClient client = WebClient.create(credential.getServer().getServerUrl());\n        return client.post()\n                .accept(MediaType.APPLICATION_JSON)\n                .contentType(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToMono(String.class)\n                .retry(RETRY_COUNT)\n    }\n</code></pre>\n<p>It is not working code, but something like this. I want to call this method from <code>Mono&lt;ServerCredential&gt; credentialMono = credentialService.getServerCredential(resourceType);</code> and essentially return back response to controller. How can I achieve this? Am I even going into the right direction?</p>\n"},{"tags":["java","jsp","tomcat"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677679946,"creation_date":1677679946,"answer_id":75604838,"question_id":75604443,"body_markdown":"I feel your suffering around the tomcat/jsp dependencies. \r\n\r\nAs far as I can tell you are missing the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nI have found it quicker/easier, while trying to sort these TOMCAT dependencies out, to simply drop the jars into %TOMCAT_HOME%/lib and then finally when it works, go back and tidy up. The jar is [downloadable][1] here.\r\n\r\n\r\n  [1]: https://jar-download.com/artifacts/jakarta.servlet.jsp/jakarta.servlet.jsp-api/3.1.1","title":"Caused by: java.lang.NoClassDefFoundError: jakarta/servlet/jsp/JspFactory","body":"<p>I feel your suffering around the tomcat/jsp dependencies.</p>\n<p>As far as I can tell you are missing the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have found it quicker/easier, while trying to sort these TOMCAT dependencies out, to simply drop the jars into %TOMCAT_HOME%/lib and then finally when it works, go back and tidy up. The jar is <a href=\"https://jar-download.com/artifacts/jakarta.servlet.jsp/jakarta.servlet.jsp-api/3.1.1\" rel=\"nofollow noreferrer\">downloadable</a> here.</p>\n"}],"owner":{"account_id":906959,"reputation":155,"user_id":941636,"accept_rate":33,"display_name":"Karen Goh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75604838,"answer_count":1,"score":2,"last_activity_date":1677679946,"creation_date":1677677696,"question_id":75604443,"body_markdown":"I am trying to deploy a web app on Tomcat and I have done all I could to make the dependencies correct to make it work but Tomcat keeps giving me Caused by: java.lang.ClassNotFoundException: jakarta.servlet.jsp.JspFactory\r\n\r\nTechnologies stack : Tomcat 10.1.6,\r\nJarkarta EE, \r\nJava 17,\r\nEclipse\r\n\r\n   ``` &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.el&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.el-api&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```        \r\n\r\nI have further attached jakarta.servlet.jsp.jstl-3.0.1.jar\r\njakarta.servlet.jsp.jstl-api-3.0.0.jar at the lib at WEB-INF folder.\r\n\r\nHope someone can advise me how to resolve the error to make Tomcat start. Tks.\r\n ","title":"Caused by: java.lang.NoClassDefFoundError: jakarta/servlet/jsp/JspFactory","body":"<p>I am trying to deploy a web app on Tomcat and I have done all I could to make the dependencies correct to make it work but Tomcat keeps giving me Caused by: java.lang.ClassNotFoundException: jakarta.servlet.jsp.JspFactory</p>\n<p>Technologies stack : Tomcat 10.1.6,\nJarkarta EE,\nJava 17,\nEclipse</p>\n<pre><code>         &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n         &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n         &lt;version&gt;10.0.0&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;\n         &lt;dependency&gt;\n         &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n         &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n         &lt;version&gt;6.0.0&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;       \n     &lt;dependency&gt;\n         &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n         &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n         &lt;version&gt;3.0.1&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n     &lt;groupId&gt;jakarta.el&lt;/groupId&gt;\n     &lt;artifactId&gt;jakarta.el-api&lt;/artifactId&gt;\n     &lt;version&gt;5.0.0&lt;/version&gt;\n     &lt;scope&gt;provided&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>I have further attached jakarta.servlet.jsp.jstl-3.0.1.jar\njakarta.servlet.jsp.jstl-api-3.0.0.jar at the lib at WEB-INF folder.</p>\n<p>Hope someone can advise me how to resolve the error to make Tomcat start. Tks.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security","spring-framework-beans"],"owner":{"account_id":17020607,"reputation":11,"user_id":12313288,"display_name":"Error 404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677679869,"creation_date":1671003277,"question_id":74794899,"body_markdown":"Recently, I have upgraded to Spring 5.3.20 from 4.0.5.RELEASE and I have changed the other dependencies versions also. It is getting successfully build, but when I try to run, it is giving error after jetty.\r\n\r\nUpgraded versions in Pom.xml:\r\n\r\n```\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java-version&gt;1.8&lt;/java-version&gt;\r\n        &lt;org.springframework-version&gt;5.3.20&lt;/org.springframework-version&gt;\r\n        &lt;org.springframework-security-version&gt;5.6.3&lt;/org.springframework-security-version&gt;\r\n        &lt;org.apache.tiles-version&gt;3.0.4&lt;/org.apache.tiles-version&gt;\r\n        &lt;!-- &lt;org.hibernate-version&gt;5.6.10.Final&lt;/org.hibernate-version&gt; --&gt; &lt;!-- 4.3.5.Final --&gt;\r\n        &lt;org.hibernate-version&gt;5.3.7.Final&lt;/org.hibernate-version&gt;&lt;!-- 5.1.17.Final --&gt;\r\n        &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\r\n        &lt;org.slf4j-version&gt;1.7.7&lt;/org.slf4j-version&gt;\r\n        &lt;jackson.version&gt;2.11.3&lt;/jackson.version&gt;    &lt;!-- 2.11.3 --&gt;\r\n        &lt;!--  &lt;jackson.version&gt;2.14.1&lt;/jackson.version&gt; --&gt;\r\n    &lt;/properties&gt;\r\n     \r\n```\r\n\r\n\r\nThe build is successful (using maven) but when I try to run the code I am getting this error after jetty,\r\n\r\nError -\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.filterChains&#39;: Cannot resolve reference to bean &#39;org.springframework.security.web.DefaultSecurityFilterChain#31&#39; while setting bean property &#39;sourceList&#39; with key [31]; \r\nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.web.DefaultSecurityFilterChain#31&#39;: Cannot resolve reference to bean &#39;concurrencyFilter&#39; while setting constructor argument with key [2]; \r\nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;concurrencyFilter&#39; defined in ServletContext resource [/WEB-INF/spring/security.xml]: Instantiation of bean failed; \r\nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.session.ConcurrentSessionFilter]: No default constructor found; \r\nnested exception is java.lang.NoSuchMethodException: org.springframework.security.web.session.ConcurrentSessionFilter.&lt;init&gt;()\r\n```\r\n\r\nCan anybody help me to resolve this error. Would really appreciate any help.","title":"Cannot resolve reference to bean &#39;org.springframework.security.web.DefaultSecurityFilterChain#31&#39; while setting bean property &#39;sourceList&#39; with key","body":"<p>Recently, I have upgraded to Spring 5.3.20 from 4.0.5.RELEASE and I have changed the other dependencies versions also. It is getting successfully build, but when I try to run, it is giving error after jetty.</p>\n<p>Upgraded versions in Pom.xml:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java-version&gt;1.8&lt;/java-version&gt;\n        &lt;org.springframework-version&gt;5.3.20&lt;/org.springframework-version&gt;\n        &lt;org.springframework-security-version&gt;5.6.3&lt;/org.springframework-security-version&gt;\n        &lt;org.apache.tiles-version&gt;3.0.4&lt;/org.apache.tiles-version&gt;\n        &lt;!-- &lt;org.hibernate-version&gt;5.6.10.Final&lt;/org.hibernate-version&gt; --&gt; &lt;!-- 4.3.5.Final --&gt;\n        &lt;org.hibernate-version&gt;5.3.7.Final&lt;/org.hibernate-version&gt;&lt;!-- 5.1.17.Final --&gt;\n        &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\n        &lt;org.slf4j-version&gt;1.7.7&lt;/org.slf4j-version&gt;\n        &lt;jackson.version&gt;2.11.3&lt;/jackson.version&gt;    &lt;!-- 2.11.3 --&gt;\n        &lt;!--  &lt;jackson.version&gt;2.14.1&lt;/jackson.version&gt; --&gt;\n    &lt;/properties&gt;\n     \n</code></pre>\n<p>The build is successful (using maven) but when I try to run the code I am getting this error after jetty,</p>\n<p>Error -</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.filterChains': Cannot resolve reference to bean 'org.springframework.security.web.DefaultSecurityFilterChain#31' while setting bean property 'sourceList' with key [31]; \nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#31': Cannot resolve reference to bean 'concurrencyFilter' while setting constructor argument with key [2]; \nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'concurrencyFilter' defined in ServletContext resource [/WEB-INF/spring/security.xml]: Instantiation of bean failed; \nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.session.ConcurrentSessionFilter]: No default constructor found; \nnested exception is java.lang.NoSuchMethodException: org.springframework.security.web.session.ConcurrentSessionFilter.&lt;init&gt;()\n</code></pre>\n<p>Can anybody help me to resolve this error. Would really appreciate any help.</p>\n"},{"tags":["java","android","connectivity"],"comments":[{"owner":{"account_id":5306083,"reputation":313,"user_id":4233930,"display_name":"lenhuy2106"},"score":0,"creation_date":1516311313,"post_id":25678216,"comment_id":83647178,"body_markdown":"refer to this https://stackoverflow.com/questions/15698790/broadcast-receiver-for-checking-internet-connection-in-android-app","body":"refer to this <a href=\"https://stackoverflow.com/questions/15698790/broadcast-receiver-for-checking-internet-connection-in-android-app\" title=\"broadcast receiver for checking internet connection in android app\">stackoverflow.com/questions/15698790/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1375578,"reputation":1862,"user_id":1309629,"display_name":"Cjames"},"down_vote_count":3,"up_vote_count":114,"is_accepted":true,"score":111,"last_activity_date":1553742178,"creation_date":1409888577,"answer_id":25678314,"question_id":25678216,"body_markdown":"Try this\r\n\r\n    public class NetworkUtil {\r\n    \tpublic static final int TYPE_WIFI = 1;\r\n    \tpublic static final int TYPE_MOBILE = 2;\r\n    \tpublic static final int TYPE_NOT_CONNECTED = 0;\r\n    \tpublic static final int NETWORK_STATUS_NOT_CONNECTED = 0;\r\n        public static final int NETWORK_STATUS_WIFI = 1;\r\n        public static final int NETWORK_STATUS_MOBILE = 2;\r\n    \r\n    \tpublic static int getConnectivityStatus(Context context) {\r\n    \t\tConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n    \t\tNetworkInfo activeNetwork = cm.getActiveNetworkInfo();\r\n    \t\tif (null != activeNetwork) {\r\n    \t\t\tif(activeNetwork.getType() == ConnectivityManager.TYPE_WIFI)\r\n    \t\t\t\treturn TYPE_WIFI;\r\n    \r\n    \t\t\tif(activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE)\r\n    \t\t\t\treturn TYPE_MOBILE;\r\n    \t\t} \r\n    \t\treturn TYPE_NOT_CONNECTED;\r\n    \t}\r\n    \r\n    \tpublic static int getConnectivityStatusString(Context context) {\r\n    \t\tint conn = NetworkUtil.getConnectivityStatus(context);\r\n    \t\tint status = 0;\r\n    \t\tif (conn == NetworkUtil.TYPE_WIFI) {\r\n    \t\t\tstatus = NETWORK_STATUS_WIFI;\r\n    \t\t} else if (conn == NetworkUtil.TYPE_MOBILE) {\r\n    \t\t\tstatus = NETWORK_STATUS_MOBILE;\r\n    \t\t} else if (conn == NetworkUtil.TYPE_NOT_CONNECTED) {\r\n    \t\t\tstatus = NETWORK_STATUS_NOT_CONNECTED;\r\n    \t\t}\r\n    \t\treturn status;\r\n    \t}\r\n    }\r\n\r\nAnd for the BroadcastReceiver\r\n\r\n    public class NetworkChangeReceiver extends BroadcastReceiver {\r\n     \r\n        @Override\r\n        public void onReceive(final Context context, final Intent intent) {\r\n     \r\n            int status = NetworkUtil.getConnectivityStatusString(context);\r\n            Log.e(&quot;Sulod sa network reciever&quot;, &quot;Sulod sa network reciever&quot;);\r\n            if (&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;.equals(intent.getAction())) {\r\n    \t        if (status == NetworkUtil.NETWORK_STATUS_NOT_CONNECTED) {\r\n    \t        \tnew ForceExitPause(context).execute();\r\n    \t        } else {\r\n    \t        \tnew ResumeForceExitPause(context).execute();\r\n    \t        }\r\n           }\r\n        }\r\n    }\r\n\r\nDon&#39;t forget to put this into your AndroidManifest.xml\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n     &lt;receiver\r\n            android:name=&quot;NetworkChangeReceiver&quot;\r\n            android:label=&quot;NetworkChangeReceiver&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.net.conn.CONNECTIVITY_CHANGE&quot; /&gt;\r\n                &lt;action android:name=&quot;android.net.wifi.WIFI_STATE_CHANGED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\nHope this will help you Cheers!\r\n       ","title":"Android: Internet connectivity change listener","body":"<p>Try this</p>\n\n<pre><code>public class NetworkUtil {\n    public static final int TYPE_WIFI = 1;\n    public static final int TYPE_MOBILE = 2;\n    public static final int TYPE_NOT_CONNECTED = 0;\n    public static final int NETWORK_STATUS_NOT_CONNECTED = 0;\n    public static final int NETWORK_STATUS_WIFI = 1;\n    public static final int NETWORK_STATUS_MOBILE = 2;\n\n    public static int getConnectivityStatus(Context context) {\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n        if (null != activeNetwork) {\n            if(activeNetwork.getType() == ConnectivityManager.TYPE_WIFI)\n                return TYPE_WIFI;\n\n            if(activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE)\n                return TYPE_MOBILE;\n        } \n        return TYPE_NOT_CONNECTED;\n    }\n\n    public static int getConnectivityStatusString(Context context) {\n        int conn = NetworkUtil.getConnectivityStatus(context);\n        int status = 0;\n        if (conn == NetworkUtil.TYPE_WIFI) {\n            status = NETWORK_STATUS_WIFI;\n        } else if (conn == NetworkUtil.TYPE_MOBILE) {\n            status = NETWORK_STATUS_MOBILE;\n        } else if (conn == NetworkUtil.TYPE_NOT_CONNECTED) {\n            status = NETWORK_STATUS_NOT_CONNECTED;\n        }\n        return status;\n    }\n}\n</code></pre>\n\n<p>And for the BroadcastReceiver</p>\n\n<pre><code>public class NetworkChangeReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(final Context context, final Intent intent) {\n\n        int status = NetworkUtil.getConnectivityStatusString(context);\n        Log.e(\"Sulod sa network reciever\", \"Sulod sa network reciever\");\n        if (\"android.net.conn.CONNECTIVITY_CHANGE\".equals(intent.getAction())) {\n            if (status == NetworkUtil.NETWORK_STATUS_NOT_CONNECTED) {\n                new ForceExitPause(context).execute();\n            } else {\n                new ResumeForceExitPause(context).execute();\n            }\n       }\n    }\n}\n</code></pre>\n\n<p>Don't forget to put this into your AndroidManifest.xml</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n &lt;receiver\n        android:name=\"NetworkChangeReceiver\"\n        android:label=\"NetworkChangeReceiver\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.net.conn.CONNECTIVITY_CHANGE\" /&gt;\n            &lt;action android:name=\"android.net.wifi.WIFI_STATE_CHANGED\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n\n<p>Hope this will help you Cheers!</p>\n"},{"tags":[],"owner":{"account_id":1474818,"reputation":8157,"user_id":1385488,"accept_rate":71,"display_name":"Silvia H"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1520941532,"creation_date":1520941532,"answer_id":49255340,"question_id":25678216,"body_markdown":"**Update**:\r\n\r\n&gt; Apps targeting Android 7.0 (API level 24) and higher do not receive\r\n&gt; CONNECTIVITY_ACTION broadcasts if they declare the broadcast receiver\r\n&gt; in their manifest. Apps will still receive CONNECTIVITY_ACTION\r\n&gt; broadcasts if they register their BroadcastReceiver with\r\n&gt; Context.registerReceiver() and that context is still valid.\r\n\r\nYou need to register the receiver via `registerReceiver()` method:\r\n\r\n     IntentFilter intentFilter = new IntentFilter(&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;);\r\n     mCtx.registerReceiver(new NetworkBroadcastReceiver(), intentFilter);","title":"Android: Internet connectivity change listener","body":"<p><strong>Update</strong>:</p>\n\n<blockquote>\n  <p>Apps targeting Android 7.0 (API level 24) and higher do not receive\n  CONNECTIVITY_ACTION broadcasts if they declare the broadcast receiver\n  in their manifest. Apps will still receive CONNECTIVITY_ACTION\n  broadcasts if they register their BroadcastReceiver with\n  Context.registerReceiver() and that context is still valid.</p>\n</blockquote>\n\n<p>You need to register the receiver via <code>registerReceiver()</code> method:</p>\n\n<pre><code> IntentFilter intentFilter = new IntentFilter(\"android.net.conn.CONNECTIVITY_CHANGE\");\n mCtx.registerReceiver(new NetworkBroadcastReceiver(), intentFilter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5387895,"reputation":5212,"user_id":4291264,"accept_rate":88,"display_name":"Manuel Schmitzberger"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1529917524,"creation_date":1529917524,"answer_id":51019783,"question_id":25678216,"body_markdown":"This should work:\r\n\r\n\r\n    public class ConnectivityChangeActivity extends Activity {\r\n        \r\n        private BroadcastReceiver networkChangeReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                Log.d(&quot;app&quot;,&quot;Network connectivity change&quot;);\r\n            }\r\n        };\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    \r\n            IntentFilter intentFilter = new IntentFilter();\r\n    \t\tintentFilter.addAction(ConnectivityManager.CONNECTIVITY_ACTION);\r\n    \t\tregisterReceiver(networkChangeReceiver, intentFilter);\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n    \r\n    \t\tunregisterReceiver(networkChangeReceiver);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Android: Internet connectivity change listener","body":"<p>This should work:</p>\n\n<pre><code>public class ConnectivityChangeActivity extends Activity {\n\n    private BroadcastReceiver networkChangeReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            Log.d(\"app\",\"Network connectivity change\");\n        }\n    };\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        IntentFilter intentFilter = new IntentFilter();\n        intentFilter.addAction(ConnectivityManager.CONNECTIVITY_ACTION);\n        registerReceiver(networkChangeReceiver, intentFilter);\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n\n        unregisterReceiver(networkChangeReceiver);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":392597,"reputation":6404,"user_id":753964,"accept_rate":100,"display_name":"bmjohns"},"down_vote_count":2,"up_vote_count":72,"is_accepted":false,"score":70,"last_activity_date":1553880134,"creation_date":1553879815,"answer_id":55422512,"question_id":25678216,"body_markdown":"ConnectivityAction is [deprecated][1] in api 28+. Instead you can use `registerDefaultNetworkCallback` as long as you support api 24+.\r\n\r\n**In Kotlin:**\r\n\r\n```kotlin\r\nval connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\nconnectivityManager?.let {\r\n    it.registerDefaultNetworkCallback(object : ConnectivityManager.NetworkCallback() {\r\n        override fun onAvailable(network: Network) {\r\n            //take action when network connection is gained\r\n        }\r\n        override fun onLost(network: Network?) {\r\n            //take action when network connection is lost\r\n        }\r\n    })\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/net/ConnectivityManager.html#CONNECTIVITY_ACTION","title":"Android: Internet connectivity change listener","body":"<p>ConnectivityAction is <a href=\"https://developer.android.com/reference/android/net/ConnectivityManager.html#CONNECTIVITY_ACTION\" rel=\"noreferrer\">deprecated</a> in api 28+. Instead you can use <code>registerDefaultNetworkCallback</code> as long as you support api 24+.</p>\n\n<p><strong>In Kotlin:</strong></p>\n\n<pre><code>val connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\nconnectivityManager?.let {\n    it.registerDefaultNetworkCallback(object : ConnectivityManager.NetworkCallback() {\n        override fun onAvailable(network: Network) {\n            //take action when network connection is gained\n        }\n        override fun onLost(network: Network?) {\n            //take action when network connection is lost\n        }\n    })\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16015044,"reputation":61,"user_id":11558019,"display_name":"Waris Ali Rehmani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568807667,"creation_date":1568805675,"answer_id":57991600,"question_id":25678216,"body_markdown":"1. first add dependency in your code as `implementation &#39;com.treebo:internetavailabilitychecker:1.0.4&#39;` \r\n2. implements your class with `InternetConnectivityListener`.\r\n```java\r\npublic class MainActivity extends AppCompatActivity implements InternetConnectivityListener {\r\n   \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        InternetAvailabilityChecker.init(this);\r\n        mInternetAvailabilityChecker = InternetAvailabilityChecker.getInstance();\r\n        mInternetAvailabilityChecker.addInternetConnectivityListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onInternetConnectivityChanged(boolean isConnected) {\r\n        if (isConnected) {\r\n            alertDialog = new AlertDialog.Builder(this).create();\r\n            alertDialog.setTitle(&quot; internet is connected or not&quot;);\r\n            alertDialog.setMessage(&quot;connected&quot;);\r\n            alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, &quot;OK&quot;,\r\n                    new DialogInterface.OnClickListener() {\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            dialog.dismiss();\r\n                        }\r\n                    });\r\n            alertDialog.show();\r\n\r\n    }\r\n    else {\r\n            alertDialog = new AlertDialog.Builder(this).create();\r\n            alertDialog.setTitle(&quot;internet is connected or not&quot;);\r\n            alertDialog.setMessage(&quot;not connected&quot;);\r\n            alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, &quot;OK&quot;,\r\n                    new DialogInterface.OnClickListener() {\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            dialog.dismiss();\r\n                        }\r\n                    });\r\n            alertDialog.show();\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n \r\n\r\n","title":"Android: Internet connectivity change listener","body":"<ol>\n<li>first add dependency in your code as <code>implementation 'com.treebo:internetavailabilitychecker:1.0.4'</code> </li>\n<li>implements your class with <code>InternetConnectivityListener</code>.</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity implements InternetConnectivityListener {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        InternetAvailabilityChecker.init(this);\n        mInternetAvailabilityChecker = InternetAvailabilityChecker.getInstance();\n        mInternetAvailabilityChecker.addInternetConnectivityListener(this);\n    }\n\n    @Override\n    public void onInternetConnectivityChanged(boolean isConnected) {\n        if (isConnected) {\n            alertDialog = new AlertDialog.Builder(this).create();\n            alertDialog.setTitle(\" internet is connected or not\");\n            alertDialog.setMessage(\"connected\");\n            alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, \"OK\",\n                    new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int which) {\n                            dialog.dismiss();\n                        }\n                    });\n            alertDialog.show();\n\n    }\n    else {\n            alertDialog = new AlertDialog.Builder(this).create();\n            alertDialog.setTitle(\"internet is connected or not\");\n            alertDialog.setMessage(\"not connected\");\n            alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, \"OK\",\n                    new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int which) {\n                            dialog.dismiss();\n                        }\n                    });\n            alertDialog.show();\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9606388,"reputation":5690,"user_id":7132300,"display_name":"algrid"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1571519264,"creation_date":1571519264,"answer_id":58468010,"question_id":25678216,"body_markdown":"Here&#39;s the Java code using `registerDefaultNetworkCallback` (and `registerNetworkCallback` for API &lt; 24):\r\n\r\n    ConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\r\n        @Override\r\n        public void onAvailable(Network network) {\r\n            // network available\r\n        }\r\n\r\n        @Override\r\n        public void onLost(Network network) {\r\n            // network unavailable\r\n        }\r\n    };\r\n\r\n    ConnectivityManager connectivityManager =\r\n            (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        connectivityManager.registerDefaultNetworkCallback(networkCallback);\r\n    } else {\r\n        NetworkRequest request = new NetworkRequest.Builder()\r\n                .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET).build();\r\n        connectivityManager.registerNetworkCallback(request, networkCallback);\r\n    }\r\n","title":"Android: Internet connectivity change listener","body":"<p>Here's the Java code using <code>registerDefaultNetworkCallback</code> (and <code>registerNetworkCallback</code> for API &lt; 24):</p>\n\n<pre><code>ConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\n    @Override\n    public void onAvailable(Network network) {\n        // network available\n    }\n\n    @Override\n    public void onLost(Network network) {\n        // network unavailable\n    }\n};\n\nConnectivityManager connectivityManager =\n        (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n    connectivityManager.registerDefaultNetworkCallback(networkCallback);\n} else {\n    NetworkRequest request = new NetworkRequest.Builder()\n            .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET).build();\n    connectivityManager.registerNetworkCallback(request, networkCallback);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13916886,"reputation":1,"user_id":10195005,"display_name":"Hans Cruz"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1579053902,"creation_date":1578508132,"answer_id":59651816,"question_id":25678216,"body_markdown":"`implementation &#39;com.treebo:internetavailabilitychecker:1.0.1&#39;`\r\n\r\n\r\n    \r\n    public class MyApp extends Application {\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            InternetAvailabilityChecker.init(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onLowMemory() {\r\n            super.onLowMemory();\r\n            InternetAvailabilityChecker.getInstance().removeAllInternetConnectivityChangeListeners();\r\n        }\r\n    }","title":"Android: Internet connectivity change listener","body":"<p><code>implementation 'com.treebo:internetavailabilitychecker:1.0.1'</code></p>\n\n<pre><code>public class MyApp extends Application {\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        InternetAvailabilityChecker.init(this);\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        InternetAvailabilityChecker.getInstance().removeAllInternetConnectivityChangeListeners();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10316598,"reputation":1237,"user_id":11161537,"display_name":"Ibrahim Ali"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610983128,"creation_date":1610983128,"answer_id":65777257,"question_id":25678216,"body_markdown":"I have noticed that no one mentioned `WorkManger` solution which is better and support most of android devices.\r\n\r\nYou should have a `Worker` with network constraint AND it will fired only if network available, i.e:\r\n\r\n    val constraints = Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build()\r\n    val worker = OneTimeWorkRequestBuilder&lt;MyWorker&gt;().setConstraints(constraints).build()\r\n\r\n\r\nAnd in worker you do whatever you want once connection back, you may fire the worker [periodically][1] .\r\n\r\ni.e:\r\n\r\ninside `dowork()` callback:\r\n\r\n    notifierLiveData.postValue(info)\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/workmanager/how-to/define-work#schedule_periodic_work","title":"Android: Internet connectivity change listener","body":"<p>I have noticed that no one mentioned <code>WorkManger</code> solution which is better and support most of android devices.</p>\n<p>You should have a <code>Worker</code> with network constraint AND it will fired only if network available, i.e:</p>\n<pre><code>val constraints = Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build()\nval worker = OneTimeWorkRequestBuilder&lt;MyWorker&gt;().setConstraints(constraints).build()\n</code></pre>\n<p>And in worker you do whatever you want once connection back, you may fire the worker <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/how-to/define-work#schedule_periodic_work\" rel=\"nofollow noreferrer\">periodically</a> .</p>\n<p>i.e:</p>\n<p>inside <code>dowork()</code> callback:</p>\n<pre><code>notifierLiveData.postValue(info)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13454565,"reputation":3196,"user_id":9708440,"display_name":"Lakpriya Senevirathna"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1630785558,"creation_date":1615125056,"answer_id":66517237,"question_id":25678216,"body_markdown":"I used this method as a connection listener. Working for Lolipop+, Android JAVA language. \r\n\r\n    if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP){\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkRequest networkRequest = new NetworkRequest.Builder().build();\r\n        connectivityManager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\r\n            @Override\r\n            public void onAvailable(Network network) {\r\n                super.onAvailable(network);\r\n                Log.i(&quot;Tag&quot;, &quot;active connection&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onLost(Network network) {\r\n                super.onLost(network);\r\n                Log.i(&quot;Tag&quot;, &quot;losing active connection&quot;);\r\n                isNetworkConnected();\r\n            }\r\n        });\r\n    }\r\n\r\n    private boolean isNetworkConnected() {\r\n        ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        if (!(cm.getActiveNetworkInfo() != null &amp;&amp; cm.getActiveNetworkInfo().isConnected())) {\r\n            //Do something\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nAnd also add this permission in your Android Manifest.xml \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n","title":"Android: Internet connectivity change listener","body":"<p>I used this method as a connection listener. Working for Lolipop+, Android JAVA language.</p>\n<pre><code>if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP){\n    ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n    NetworkRequest networkRequest = new NetworkRequest.Builder().build();\n    connectivityManager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\n        @Override\n        public void onAvailable(Network network) {\n            super.onAvailable(network);\n            Log.i(&quot;Tag&quot;, &quot;active connection&quot;);\n        }\n\n        @Override\n        public void onLost(Network network) {\n            super.onLost(network);\n            Log.i(&quot;Tag&quot;, &quot;losing active connection&quot;);\n            isNetworkConnected();\n        }\n    });\n}\n\nprivate boolean isNetworkConnected() {\n    ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n    if (!(cm.getActiveNetworkInfo() != null &amp;&amp; cm.getActiveNetworkInfo().isConnected())) {\n        //Do something\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>And also add this permission in your Android Manifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55135,"reputation":21845,"user_id":165071,"accept_rate":96,"display_name":"Alexander Farber"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671541990,"creation_date":1647789741,"answer_id":71548049,"question_id":25678216,"body_markdown":"Hello from the year 2022.\r\n\r\nIn my custom view model I observe network status changes like this:\r\n\r\n    public class MyViewModel extends AndroidViewModel {\r\n        private final MutableLiveData&lt;Boolean&gt; mConnected = new MutableLiveData&lt;&gt;();\r\n    \r\n        public MyViewModel(Application app) {\r\n            super(app);\r\n    \r\n            ConnectivityManager manager = (ConnectivityManager)app.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n            if (manager == null || Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\r\n                mConnected.setValue(true);\r\n                return;\r\n            }\r\n    \r\n            NetworkRequest networkRequest = new NetworkRequest.Builder()\r\n                .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\r\n                .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\r\n                .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n                .build();\r\n    \r\n            manager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\r\n                Set&lt;Network&gt; availableNetworks = new HashSet&lt;&gt;();\r\n    \r\n                public void onAvailable(@NonNull Network network) {\r\n                    availableNetworks.add(network);\r\n                    mConnected.postValue(!availableNetworks.isEmpty());\r\n                }\r\n    \r\n                public void onLost(@NonNull Network network) {\r\n                    availableNetworks.remove(network);\r\n                    mConnected.postValue(!availableNetworks.isEmpty());\r\n                }\r\n    \r\n                public void onUnavailable() {\r\n                    availableNetworks.clear();\r\n                    mConnected.postValue(!availableNetworks.isEmpty());\r\n                }\r\n            });\r\n        }\r\n    \r\n        @NonNull\r\n        public MutableLiveData&lt;Boolean&gt; getConnected() {\r\n            return mConnected;\r\n        }\r\n    }\r\n\r\nAnd then in my Activity or Fragment I can change the UI by observing:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        MyViewModel vm = new ViewModelProvider(this).get(MyViewModel.class);\r\n\r\n        vm.getConnected().observe(this, connected -&gt; {\r\n            // TODO change GUI depending on the connected value\r\n        });\r\n    }\r\n","title":"Android: Internet connectivity change listener","body":"<p>Hello from the year 2022.</p>\n<p>In my custom view model I observe network status changes like this:</p>\n<pre><code>public class MyViewModel extends AndroidViewModel {\n    private final MutableLiveData&lt;Boolean&gt; mConnected = new MutableLiveData&lt;&gt;();\n\n    public MyViewModel(Application app) {\n        super(app);\n\n        ConnectivityManager manager = (ConnectivityManager)app.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        if (manager == null || Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\n            mConnected.setValue(true);\n            return;\n        }\n\n        NetworkRequest networkRequest = new NetworkRequest.Builder()\n            .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\n            .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\n            .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n            .build();\n\n        manager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\n            Set&lt;Network&gt; availableNetworks = new HashSet&lt;&gt;();\n\n            public void onAvailable(@NonNull Network network) {\n                availableNetworks.add(network);\n                mConnected.postValue(!availableNetworks.isEmpty());\n            }\n\n            public void onLost(@NonNull Network network) {\n                availableNetworks.remove(network);\n                mConnected.postValue(!availableNetworks.isEmpty());\n            }\n\n            public void onUnavailable() {\n                availableNetworks.clear();\n                mConnected.postValue(!availableNetworks.isEmpty());\n            }\n        });\n    }\n\n    @NonNull\n    public MutableLiveData&lt;Boolean&gt; getConnected() {\n        return mConnected;\n    }\n}\n</code></pre>\n<p>And then in my Activity or Fragment I can change the UI by observing:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    MyViewModel vm = new ViewModelProvider(this).get(MyViewModel.class);\n\n    vm.getConnected().observe(this, connected -&gt; {\n        // TODO change GUI depending on the connected value\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17020425,"reputation":4743,"user_id":12313157,"display_name":"Xid"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1673077214,"creation_date":1657634685,"answer_id":72953660,"question_id":25678216,"body_markdown":"According to the [official docs](https://developer.android.com/training/monitoring-device-state/connectivity-status-type):\r\n\r\n1. Define network request\r\n```kotlin\r\nprivate val networkRequest = NetworkRequest.Builder().apply {\r\n    // To check wifi and cellular networks for internet availability\r\n    addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\r\n    addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n    addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n        // Capabilities can be verified starting Android 6.0.\r\n        // For a network with NET_CAPABILITY_INTERNET, \r\n        // it means that Internet connectivity was successfully detected\r\n        addCapability(NetworkCapabilities.NET_CAPABILITY_VALIDATED)\r\n    }\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n        // Indicates that this network is available for use by apps,\r\n        // and not a network that is being kept up in the background \r\n        // to facilitate fast network switching.\r\n        addCapability(NetworkCapabilities.NET_CAPABILITY_FOREGROUND)\r\n    }\r\n}.build()\r\n```\r\n\r\n2. Configure a network callback\r\n```kotlin\r\nprivate val networkCallback = object : ConnectivityManager.NetworkCallback() {\r\n    private val networks = mutableListOf&lt;Network&gt;()\r\n\r\n    override fun onAvailable(network: Network) {\r\n        super.onAvailable(network)\r\n\r\n        networks.add(network)\r\n        Log.d(&quot;Has network ---&gt;&quot;, networks.any().toString())\r\n    }\r\n\r\n    override fun onLost(network: Network) {\r\n        super.onLost(network)\r\n\r\n        networks.remove(network)\r\n        Log.d(&quot;Has network ---&gt;&quot;, networks.any().toString())\r\n    }\r\n}\r\n```\r\n3. Register for network updates\r\n```kotlin\r\nval connectivityService =\r\n    applicationContext.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\nconnectivityService.registerNetworkCallback(networkRequest, networkCallback)\r\n```","title":"Android: Internet connectivity change listener","body":"<p>According to the <a href=\"https://developer.android.com/training/monitoring-device-state/connectivity-status-type\" rel=\"nofollow noreferrer\">official docs</a>:</p>\n<ol>\n<li>Define network request</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val networkRequest = NetworkRequest.Builder().apply {\n    // To check wifi and cellular networks for internet availability\n    addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\n    addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n    addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        // Capabilities can be verified starting Android 6.0.\n        // For a network with NET_CAPABILITY_INTERNET, \n        // it means that Internet connectivity was successfully detected\n        addCapability(NetworkCapabilities.NET_CAPABILITY_VALIDATED)\n    }\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n        // Indicates that this network is available for use by apps,\n        // and not a network that is being kept up in the background \n        // to facilitate fast network switching.\n        addCapability(NetworkCapabilities.NET_CAPABILITY_FOREGROUND)\n    }\n}.build()\n</code></pre>\n<ol start=\"2\">\n<li>Configure a network callback</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val networkCallback = object : ConnectivityManager.NetworkCallback() {\n    private val networks = mutableListOf&lt;Network&gt;()\n\n    override fun onAvailable(network: Network) {\n        super.onAvailable(network)\n\n        networks.add(network)\n        Log.d(&quot;Has network ---&gt;&quot;, networks.any().toString())\n    }\n\n    override fun onLost(network: Network) {\n        super.onLost(network)\n\n        networks.remove(network)\n        Log.d(&quot;Has network ---&gt;&quot;, networks.any().toString())\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Register for network updates</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val connectivityService =\n    applicationContext.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\nconnectivityService.registerNetworkCallback(networkRequest, networkCallback)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19950940,"reputation":81,"user_id":14620607,"display_name":"manu mathew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662626597,"creation_date":1662626597,"answer_id":73646116,"question_id":25678216,"body_markdown":"ref https://developer.android.com/training/monitoring-device-state/connectivity-status-type\r\n\r\n&gt; To specify the transport type of the network, such as Wi-Fi or\r\n&gt; cellular connection, and the currently connected network&#39;s\r\n&gt; capabilities, such as internet connection, you must configure a\r\n&gt; network request.\r\n&gt; \r\n&gt; Declare a NetworkRequest that describes your apps network connection\r\n&gt; needs. The following code creates a request for a network that is\r\n&gt; connected to the internet and uses either a Wi-Fi or cellular\r\n&gt; connection for the transport type.\r\n\r\nadd this in onCreate\r\n\r\n    NetworkRequest networkRequest = new NetworkRequest.Builder()\r\n        .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\r\n        .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n        .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\r\n        .build();\r\n\r\n&gt; Configure a network callback When you register the NetworkRequest with\r\n&gt; the ConnectivityManager, you must implement a NetworkCallback to\r\n&gt; receive notifications about changes in the connection status and\r\n&gt; network capabilities.\r\n&gt; \r\n&gt; The most commonly implemented functions in the NetworkCallback include\r\n&gt; the following:\r\n&gt; \r\n&gt; onAvailable() indicates that the device is connected to a new network\r\n&gt; that satisfies the capabilities and transport type requirements\r\n&gt; specified in the NetworkRequest. onLost() indicates that the device\r\n&gt; has lost connection to the network. onCapabilitiesChanged() indicates\r\n&gt; that the capabilities of the network have changed. The\r\n&gt; NetworkCapabilities object provides information about the current\r\n&gt; capabilities of the network.\r\n\r\nadd listener\r\n\r\n    private ConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\r\n    @Override\r\n    public void onAvailable(@NonNull Network network) {\r\n        super.onAvailable(network);\r\n    }\r\n\r\n    @Override\r\n    public void onLost(@NonNull Network network) {\r\n        super.onLost(network);\r\n    }\r\n\r\n    @Override\r\n    public void onCapabilitiesChanged(@NonNull Network network, @NonNull NetworkCapabilities networkCapabilities) {\r\n        super.onCapabilitiesChanged(network, networkCapabilities);\r\n        final boolean unmetered = networkCapabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_NOT_METERED);\r\n    }};\r\n\r\n&gt; Register for network updates After you declare the NetworkRequest and\r\n&gt; NetworkCallback, use the requestNetwork() or registerNetworkCallback()\r\n&gt; functions to search for a network to connect from the device that\r\n&gt; satisfies the NetworkRequest. The status is then reported to the\r\n&gt; NetworkCallback.\r\n\r\nRegister in onCreate\r\n\r\n    ConnectivityManager connectivityManager =\r\n        (ConnectivityManager) getSystemService(ConnectivityManager.class);\r\n    connectivityManager.requestNetwork(networkRequest, networkCallback);\r\n\r\n\r\n\r\n\r\n","title":"Android: Internet connectivity change listener","body":"<p>ref <a href=\"https://developer.android.com/training/monitoring-device-state/connectivity-status-type\" rel=\"nofollow noreferrer\">https://developer.android.com/training/monitoring-device-state/connectivity-status-type</a></p>\n<blockquote>\n<p>To specify the transport type of the network, such as Wi-Fi or\ncellular connection, and the currently connected network's\ncapabilities, such as internet connection, you must configure a\nnetwork request.</p>\n<p>Declare a NetworkRequest that describes your apps network connection\nneeds. The following code creates a request for a network that is\nconnected to the internet and uses either a Wi-Fi or cellular\nconnection for the transport type.</p>\n</blockquote>\n<p>add this in onCreate</p>\n<pre><code>NetworkRequest networkRequest = new NetworkRequest.Builder()\n    .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\n    .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n    .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\n    .build();\n</code></pre>\n<blockquote>\n<p>Configure a network callback When you register the NetworkRequest with\nthe ConnectivityManager, you must implement a NetworkCallback to\nreceive notifications about changes in the connection status and\nnetwork capabilities.</p>\n<p>The most commonly implemented functions in the NetworkCallback include\nthe following:</p>\n<p>onAvailable() indicates that the device is connected to a new network\nthat satisfies the capabilities and transport type requirements\nspecified in the NetworkRequest. onLost() indicates that the device\nhas lost connection to the network. onCapabilitiesChanged() indicates\nthat the capabilities of the network have changed. The\nNetworkCapabilities object provides information about the current\ncapabilities of the network.</p>\n</blockquote>\n<p>add listener</p>\n<pre><code>private ConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\n@Override\npublic void onAvailable(@NonNull Network network) {\n    super.onAvailable(network);\n}\n\n@Override\npublic void onLost(@NonNull Network network) {\n    super.onLost(network);\n}\n\n@Override\npublic void onCapabilitiesChanged(@NonNull Network network, @NonNull NetworkCapabilities networkCapabilities) {\n    super.onCapabilitiesChanged(network, networkCapabilities);\n    final boolean unmetered = networkCapabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_NOT_METERED);\n}};\n</code></pre>\n<blockquote>\n<p>Register for network updates After you declare the NetworkRequest and\nNetworkCallback, use the requestNetwork() or registerNetworkCallback()\nfunctions to search for a network to connect from the device that\nsatisfies the NetworkRequest. The status is then reported to the\nNetworkCallback.</p>\n</blockquote>\n<p>Register in onCreate</p>\n<pre><code>ConnectivityManager connectivityManager =\n    (ConnectivityManager) getSystemService(ConnectivityManager.class);\nconnectivityManager.requestNetwork(networkRequest, networkCallback);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087775,"reputation":42376,"user_id":1083093,"accept_rate":67,"display_name":"Devrath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677679686,"creation_date":1677679686,"answer_id":75604794,"question_id":25678216,"body_markdown":"***Answering this in 2023, Since a better implementation is available***\r\n\r\n**NetworkObserver.kt**\r\n\r\n    /**\r\n     * This class is in charge of listening to the state of the network connection and notifying the\r\n     * activity if the state of the connection changes.\r\n     * */\r\n    class NetworkObserver constructor(\r\n        private val context: Context,\r\n        private val lifecycle: Lifecycle\r\n      ) : DefaultLifecycleObserver {\r\n    \r\n      private lateinit var networkCallback: ConnectivityManager.NetworkCallback\r\n      private var connectivityManager: ConnectivityManager? = null\r\n      private val validNetworks = HashSet&lt;Network&gt;()\r\n    \r\n      private lateinit var job: Job\r\n      private lateinit var coroutineScope: CoroutineScope\r\n    \r\n      // State Holder: Indicating either the network is available or not-available\r\n      private val _networkAvailableStateFlow: MutableStateFlow&lt;NetworkState&gt; = MutableStateFlow(NetworkState.Available)\r\n    \r\n      val networkAvailableStateFlow\r\n        get() = _networkAvailableStateFlow\r\n    \r\n      // ---&gt; This variable can be accessed anytime to get the current state of the network\r\n      val isConnected: Boolean\r\n        get() = _isConnected.get()\r\n    \r\n      private val _isConnected = AtomicBoolean(false)\r\n    \r\n      override fun onCreate(owner: LifecycleOwner) {\r\n        super.onCreate(owner)\r\n        init()\r\n      }\r\n    \r\n      override fun onStart(owner: LifecycleOwner) {\r\n        super.onStart(owner)\r\n        registerNetworkCallback()\r\n        checkValidNetworks()\r\n      }\r\n    \r\n      override fun onStop(owner: LifecycleOwner) {\r\n        super.onStop(owner)\r\n        unregisterNetworkCallback()\r\n      }\r\n    \r\n      private fun init() {\r\n        // Initialize the connectivity manager instance\r\n        connectivityManager = context.getSystemService(CONNECTIVITY_SERVICE) as ConnectivityManager\r\n      }\r\n    \r\n      private fun registerNetworkCallback() {\r\n        if (lifecycle.currentState.isAtLeast(Lifecycle.State.STARTED)) {\r\n          // Observing the network should happen only when the life-cycle is in started state\r\n          initCoroutine()\r\n          initNetworkMonitoring()\r\n        }\r\n      }\r\n    \r\n      private fun unregisterNetworkCallback() {\r\n        validNetworks.clear()\r\n        connectivityManager?.unregisterNetworkCallback(networkCallback)\r\n        job.cancel()\r\n      }\r\n    \r\n      /**\r\n       * Co-Routine used to monitor the connectivity\r\n       */\r\n      private fun initCoroutine() {\r\n        // Create a job instance\r\n        job = Job()\r\n        // Provide a co-routine scope\r\n        coroutineScope = CoroutineScope(Dispatchers.Default + job)\r\n      }\r\n    \r\n      private fun initNetworkMonitoring() {\r\n        networkCallback = createNetworkCallback()\r\n    \r\n        val networkRequest = NetworkRequest.Builder()\r\n            .addCapability(NET_CAPABILITY_INTERNET)\r\n            .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n            .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\r\n            .build()\r\n        connectivityManager?.registerNetworkCallback(networkRequest, networkCallback)\r\n      }\r\n    \r\n      private fun createNetworkCallback() = object : ConnectivityManager.NetworkCallback() {\r\n        override fun onAvailable(network: Network) {\r\n          connectivityManager?.getNetworkCapabilities(network).also {\r\n            if (it?.hasCapability(NET_CAPABILITY_INTERNET) == true) {\r\n              validNetworks.add(network)\r\n            }\r\n          }\r\n          checkValidNetworks()\r\n        }\r\n    \r\n        override fun onLost(network: Network) {\r\n          validNetworks.remove(network)\r\n          checkValidNetworks()\r\n        }\r\n      }\r\n    \r\n      private fun checkValidNetworks() {\r\n        coroutineScope.launch {\r\n          _networkAvailableStateFlow.emit(\r\n              if (validNetworks.size &gt; 0){\r\n                _isConnected.set(true)\r\n                NetworkState.Available\r\n              } else {\r\n                _isConnected.set(false)\r\n                NetworkState.Unavailable\r\n              }\r\n          )\r\n        }\r\n      }\r\n    }\r\n    \r\n    sealed class NetworkState {\r\n      object Unavailable : NetworkState()\r\n      object Available : NetworkState()\r\n    }\r\n\r\n**Usage**\r\n\r\n        // --&gt; Initialize the network observer in your activity or fragment\r\n        networkObserver = NetworkObserver(this, lifecycle)\r\n        lifecycle.addObserver(networkObserver)\r\n    \r\n        // --&gt; Use live data to observe the network changes\r\n        networkObserver.networkAvailableStateFlow.asLiveData().observe(this, Observer { networkState -&gt;\r\n          when (networkState) {\r\n            NetworkState.Unavailable -&gt; SnackBarDisplay.showNetworkUnavailableAlert(binding.root)\r\n            NetworkState.Available -&gt; SnackBarDisplay.removeNetworkUnavailableAlert()\r\n          }\r\n        })\r\n\r\n\r\n----------\r\n\r\nI have posted [full solution in my GitHub here][1]\r\n\r\n\r\n  [1]: https://github.com/devrath/droid-network-observer","title":"Android: Internet connectivity change listener","body":"<p><em><strong>Answering this in 2023, Since a better implementation is available</strong></em></p>\n<p><strong>NetworkObserver.kt</strong></p>\n<pre><code>/**\n * This class is in charge of listening to the state of the network connection and notifying the\n * activity if the state of the connection changes.\n * */\nclass NetworkObserver constructor(\n    private val context: Context,\n    private val lifecycle: Lifecycle\n  ) : DefaultLifecycleObserver {\n\n  private lateinit var networkCallback: ConnectivityManager.NetworkCallback\n  private var connectivityManager: ConnectivityManager? = null\n  private val validNetworks = HashSet&lt;Network&gt;()\n\n  private lateinit var job: Job\n  private lateinit var coroutineScope: CoroutineScope\n\n  // State Holder: Indicating either the network is available or not-available\n  private val _networkAvailableStateFlow: MutableStateFlow&lt;NetworkState&gt; = MutableStateFlow(NetworkState.Available)\n\n  val networkAvailableStateFlow\n    get() = _networkAvailableStateFlow\n\n  // ---&gt; This variable can be accessed anytime to get the current state of the network\n  val isConnected: Boolean\n    get() = _isConnected.get()\n\n  private val _isConnected = AtomicBoolean(false)\n\n  override fun onCreate(owner: LifecycleOwner) {\n    super.onCreate(owner)\n    init()\n  }\n\n  override fun onStart(owner: LifecycleOwner) {\n    super.onStart(owner)\n    registerNetworkCallback()\n    checkValidNetworks()\n  }\n\n  override fun onStop(owner: LifecycleOwner) {\n    super.onStop(owner)\n    unregisterNetworkCallback()\n  }\n\n  private fun init() {\n    // Initialize the connectivity manager instance\n    connectivityManager = context.getSystemService(CONNECTIVITY_SERVICE) as ConnectivityManager\n  }\n\n  private fun registerNetworkCallback() {\n    if (lifecycle.currentState.isAtLeast(Lifecycle.State.STARTED)) {\n      // Observing the network should happen only when the life-cycle is in started state\n      initCoroutine()\n      initNetworkMonitoring()\n    }\n  }\n\n  private fun unregisterNetworkCallback() {\n    validNetworks.clear()\n    connectivityManager?.unregisterNetworkCallback(networkCallback)\n    job.cancel()\n  }\n\n  /**\n   * Co-Routine used to monitor the connectivity\n   */\n  private fun initCoroutine() {\n    // Create a job instance\n    job = Job()\n    // Provide a co-routine scope\n    coroutineScope = CoroutineScope(Dispatchers.Default + job)\n  }\n\n  private fun initNetworkMonitoring() {\n    networkCallback = createNetworkCallback()\n\n    val networkRequest = NetworkRequest.Builder()\n        .addCapability(NET_CAPABILITY_INTERNET)\n        .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n        .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\n        .build()\n    connectivityManager?.registerNetworkCallback(networkRequest, networkCallback)\n  }\n\n  private fun createNetworkCallback() = object : ConnectivityManager.NetworkCallback() {\n    override fun onAvailable(network: Network) {\n      connectivityManager?.getNetworkCapabilities(network).also {\n        if (it?.hasCapability(NET_CAPABILITY_INTERNET) == true) {\n          validNetworks.add(network)\n        }\n      }\n      checkValidNetworks()\n    }\n\n    override fun onLost(network: Network) {\n      validNetworks.remove(network)\n      checkValidNetworks()\n    }\n  }\n\n  private fun checkValidNetworks() {\n    coroutineScope.launch {\n      _networkAvailableStateFlow.emit(\n          if (validNetworks.size &gt; 0){\n            _isConnected.set(true)\n            NetworkState.Available\n          } else {\n            _isConnected.set(false)\n            NetworkState.Unavailable\n          }\n      )\n    }\n  }\n}\n\nsealed class NetworkState {\n  object Unavailable : NetworkState()\n  object Available : NetworkState()\n}\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre><code>    // --&gt; Initialize the network observer in your activity or fragment\n    networkObserver = NetworkObserver(this, lifecycle)\n    lifecycle.addObserver(networkObserver)\n\n    // --&gt; Use live data to observe the network changes\n    networkObserver.networkAvailableStateFlow.asLiveData().observe(this, Observer { networkState -&gt;\n      when (networkState) {\n        NetworkState.Unavailable -&gt; SnackBarDisplay.showNetworkUnavailableAlert(binding.root)\n        NetworkState.Available -&gt; SnackBarDisplay.removeNetworkUnavailableAlert()\n      }\n    })\n</code></pre>\n<hr />\n<p>I have posted <a href=\"https://github.com/devrath/droid-network-observer\" rel=\"nofollow noreferrer\">full solution in my GitHub here</a></p>\n"}],"owner":{"account_id":3787937,"reputation":5676,"user_id":3886922,"accept_rate":69,"display_name":"Confuse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147955,"favorite_count":0,"down_vote_count":2,"up_vote_count":103,"accepted_answer_id":25678314,"answer_count":13,"score":101,"last_activity_date":1677679686,"creation_date":1409887719,"question_id":25678216,"body_markdown":"I already have this code which listens to connectivity change -\r\n\r\n    public class NetworkStateReceiver extends BroadcastReceiver\r\n    {\r\n      public void onReceive(Context context, Intent intent)\r\n      {\r\n        Log.d(&quot;app&quot;,&quot;Network connectivity change&quot;);\r\n\r\n        if(intent.getExtras() != null)\r\n        {\r\n          NetworkInfo ni = (NetworkInfo) intent.getExtras().get(ConnectivityManager.EXTRA_NETWORK_INFO);\r\n          if(ni != null &amp;&amp; ni.getState() == NetworkInfo.State.CONNECTED)\r\n          {\r\n            Log.i(&quot;app&quot;, &quot;Network &quot; + ni.getTypeName() + &quot; connected&quot;);\r\n          }\r\n        }\r\n\r\n        if(intent.getExtras().getBoolean(ConnectivityManager.EXTRA_NO_CONNECTIVITY, Boolean.FALSE))\r\n        {\r\n          Log.d(&quot;app&quot;, &quot;There&#39;s no network connectivity&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nAnd I check Internet connectivity using this code - [Internet Check][1]\r\n\r\nBut the problem is that if network suddenly loses internet connection without any connectivity change, this code is useless. Is there any way to create **Broadcast Receiver** listener for Internet connectivity change? I have a web app and sudden Internet connectivity changes can cause problems.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6493517/detect-if-android-device-has-internet-connection/6493572#6493572","title":"Android: Internet connectivity change listener","body":"<p>I already have this code which listens to connectivity change -</p>\n\n<pre><code>public class NetworkStateReceiver extends BroadcastReceiver\n{\n  public void onReceive(Context context, Intent intent)\n  {\n    Log.d(\"app\",\"Network connectivity change\");\n\n    if(intent.getExtras() != null)\n    {\n      NetworkInfo ni = (NetworkInfo) intent.getExtras().get(ConnectivityManager.EXTRA_NETWORK_INFO);\n      if(ni != null &amp;&amp; ni.getState() == NetworkInfo.State.CONNECTED)\n      {\n        Log.i(\"app\", \"Network \" + ni.getTypeName() + \" connected\");\n      }\n    }\n\n    if(intent.getExtras().getBoolean(ConnectivityManager.EXTRA_NO_CONNECTIVITY, Boolean.FALSE))\n    {\n      Log.d(\"app\", \"There's no network connectivity\");\n    }\n  }\n}\n</code></pre>\n\n<p>And I check Internet connectivity using this code - <a href=\"https://stackoverflow.com/questions/6493517/detect-if-android-device-has-internet-connection/6493572#6493572\">Internet Check</a></p>\n\n<p>But the problem is that if network suddenly loses internet connection without any connectivity change, this code is useless. Is there any way to create <strong>Broadcast Receiver</strong> listener for Internet connectivity change? I have a web app and sudden Internet connectivity changes can cause problems.</p>\n"},{"tags":["java","spring","spring-boot","microservices","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677663686,"creation_date":1677663686,"answer_id":75601912,"question_id":75601863,"body_markdown":"You can store such credentials safely in value, [Harshi][1] preferably. Alternatively if deployed on k8s, k8s secrets is useful feature.\r\n\r\n\r\n  [1]: https://www.vaultproject.io/","title":"How to store securely the username and password used to authenticate to the config server on-premise?","body":"<p>You can store such credentials safely in value, <a href=\"https://www.vaultproject.io/\" rel=\"nofollow noreferrer\">Harshi</a> preferably. Alternatively if deployed on k8s, k8s secrets is useful feature.</p>\n"},{"tags":[],"owner":{"account_id":18728352,"reputation":76,"user_id":13654416,"display_name":"AlexAlbu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677679415,"creation_date":1677679415,"answer_id":75604750,"question_id":75601863,"body_markdown":"Storing credentials in unencrypted files is NOT considered a good practice. One way that I would recommend is to store sensible data in an encrypted file(with a symmetric algorithm like AES 256).\r\n\r\nYou can decrypt the file at the start time of your app, by entering the secret password used to derive the key of the encryption algorithm.\r\n\r\nYou could store the credentials in environmental variables on your system, but that would just move the problem in another place. Anybody with access on your systems could see this variables. The MOST SECURE way is to use encryption based on a secret that only you know.","title":"How to store securely the username and password used to authenticate to the config server on-premise?","body":"<p>Storing credentials in unencrypted files is NOT considered a good practice. One way that I would recommend is to store sensible data in an encrypted file(with a symmetric algorithm like AES 256).</p>\n<p>You can decrypt the file at the start time of your app, by entering the secret password used to derive the key of the encryption algorithm.</p>\n<p>You could store the credentials in environmental variables on your system, but that would just move the problem in another place. Anybody with access on your systems could see this variables. The MOST SECURE way is to use encryption based on a secret that only you know.</p>\n"}],"owner":{"account_id":8411933,"reputation":2522,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677679415,"creation_date":1677663468,"question_id":75601863,"body_markdown":"I&#39;m new to the spring cloud config server. We are trying to set up a spring cloud config server on-premise.\r\nThe application can connect to the spring cloud config server using the below property and value.\r\n\r\n    spring.config.import=optional:configserver:http://root:s3cr3t@localhost:8088\r\n\r\nHowever, I&#39;m not sure how to secure the username and password used to connect to the spring cloud config server.\r\nRight now, the username and password are in the application.properties file.\r\n\r\nWhat are the best practices to store them? \r\n\r\nCan I store them as environment variables?","title":"How to store securely the username and password used to authenticate to the config server on-premise?","body":"<p>I'm new to the spring cloud config server. We are trying to set up a spring cloud config server on-premise.\nThe application can connect to the spring cloud config server using the below property and value.</p>\n<pre><code>spring.config.import=optional:configserver:http://root:s3cr3t@localhost:8088\n</code></pre>\n<p>However, I'm not sure how to secure the username and password used to connect to the spring cloud config server.\nRight now, the username and password are in the application.properties file.</p>\n<p>What are the best practices to store them?</p>\n<p>Can I store them as environment variables?</p>\n"},{"tags":["java","serialization","jackson","json-view"],"answers":[{"tags":[],"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1446011424,"creation_date":1445894213,"answer_id":33355791,"question_id":33292749,"body_markdown":"@JsonView accepts inheritance. Views.Private fields extends Views.Public fields. This means Views.Private serialization will also look for the Views.Public annotations. \r\n    \r\n    public Views {\r\n        public Public {}\r\n        public Private extends Public {}\r\n    }\r\n    \r\n    class CarUI {\r\n      public UserUI user;\r\n      public UserUI agent;\r\n      ....\r\n      @JsonView(Views.Public.class)\r\n      public UserUI getUser() {\r\n        return user;\r\n      }\r\n      @JsonView(Views.Private.class)\r\n      public UserUI getAgent() {\r\n        return agent;\r\n      }\r\n    }\r\n    \r\n    class UserUI {\r\n      @JsonView(Views.Public.class)\r\n      public String name;\r\n      @JsonView(Views.Private.class)\r\n      public String phone;\r\n      ...\r\n    }\r\n\r\nFor Example #2 \r\n\r\nYou can introduce multiple classes like:\r\n\r\n    public Views {\r\n        public Public {}\r\n        public Private1 extends Public {}\r\n        public Private2 extends Public {}\r\n    }\r\n\r\n    class CarUI {\r\n      public UserUI user;\r\n      public UserUI agent;\r\n      ....\r\n      public UserUI getUser() {\r\n        return user;\r\n      }\r\n      public UserUI getAgent() {\r\n        return agent;\r\n      }\r\n    }\r\n    class UserUI {\r\n      @JsonView(Views.Public.class)\r\n      public String name;\r\n      @JsonView({Views.Private1.class})\r\n      public String phone;\r\n      @JsonView({Views.Private2.class})\r\n      public String avatarUrl;\r\n      ...\r\n    }\r\n\r\nOr you can use view-less properties and use no inheritance:\r\n\r\n    public Views {\r\n        public Public {}\r\n        public Private {}\r\n    }\r\n\r\n    class CarUI {\r\n      public UserUI user;\r\n      public UserUI agent;\r\n      ....\r\n      public UserUI getUser() {\r\n        return user;\r\n      }\r\n      public UserUI getAgent() {\r\n        return agent;\r\n      }\r\n    }\r\n    class UserUI {\r\n      // This one is view-less shows every time unless you specificy\r\n      public String name;\r\n      @JsonView({Views.Private.class})\r\n      public String phone;\r\n      @JsonView({Views.Public.class})\r\n      public String avatarUrl;\r\n      ...\r\n    }\r\n\r\n    ...\r\n    // If you want to hide view-less properties, default is true \r\n    objectMapper.configure(SerializationConfig.Feature.DEFAULT_VIEW_INCLUSION, false); \r\n    ...","title":"How to change JsonView for specific properties","body":"<p>@JsonView accepts inheritance. Views.Private fields extends Views.Public fields. This means Views.Private serialization will also look for the Views.Public annotations. </p>\n\n<pre><code>public Views {\n    public Public {}\n    public Private extends Public {}\n}\n\nclass CarUI {\n  public UserUI user;\n  public UserUI agent;\n  ....\n  @JsonView(Views.Public.class)\n  public UserUI getUser() {\n    return user;\n  }\n  @JsonView(Views.Private.class)\n  public UserUI getAgent() {\n    return agent;\n  }\n}\n\nclass UserUI {\n  @JsonView(Views.Public.class)\n  public String name;\n  @JsonView(Views.Private.class)\n  public String phone;\n  ...\n}\n</code></pre>\n\n<p>For Example #2 </p>\n\n<p>You can introduce multiple classes like:</p>\n\n<pre><code>public Views {\n    public Public {}\n    public Private1 extends Public {}\n    public Private2 extends Public {}\n}\n\nclass CarUI {\n  public UserUI user;\n  public UserUI agent;\n  ....\n  public UserUI getUser() {\n    return user;\n  }\n  public UserUI getAgent() {\n    return agent;\n  }\n}\nclass UserUI {\n  @JsonView(Views.Public.class)\n  public String name;\n  @JsonView({Views.Private1.class})\n  public String phone;\n  @JsonView({Views.Private2.class})\n  public String avatarUrl;\n  ...\n}\n</code></pre>\n\n<p>Or you can use view-less properties and use no inheritance:</p>\n\n<pre><code>public Views {\n    public Public {}\n    public Private {}\n}\n\nclass CarUI {\n  public UserUI user;\n  public UserUI agent;\n  ....\n  public UserUI getUser() {\n    return user;\n  }\n  public UserUI getAgent() {\n    return agent;\n  }\n}\nclass UserUI {\n  // This one is view-less shows every time unless you specificy\n  public String name;\n  @JsonView({Views.Private.class})\n  public String phone;\n  @JsonView({Views.Public.class})\n  public String avatarUrl;\n  ...\n}\n\n...\n// If you want to hide view-less properties, default is true \nobjectMapper.configure(SerializationConfig.Feature.DEFAULT_VIEW_INCLUSION, false); \n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":939198,"reputation":1488,"user_id":967588,"accept_rate":60,"display_name":"Andrei V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677679149,"creation_date":1447912766,"answer_id":33796325,"question_id":33292749,"body_markdown":"Just found more generic case if anyone need. Basically you can transform your property inside getter using different JsonView as such:\r\n\r\n      @JsonView({ Views.Detail.class})\r\n      public JsonNode getAgent() throws IOException {\r\n          ObjectMapper mapper = new ObjectMapper();\r\n          String json = mapper.writerWithView(Views.Private.class).writeValueAsString(agent);\r\n          return mapper.readTree(json);\r\n      }\r\n","title":"How to change JsonView for specific properties","body":"<p>Just found more generic case if anyone need. Basically you can transform your property inside getter using different JsonView as such:</p>\n<pre><code>  @JsonView({ Views.Detail.class})\n  public JsonNode getAgent() throws IOException {\n      ObjectMapper mapper = new ObjectMapper();\n      String json = mapper.writerWithView(Views.Private.class).writeValueAsString(agent);\n      return mapper.readTree(json);\n  }\n</code></pre>\n"}],"owner":{"account_id":939198,"reputation":1488,"user_id":967588,"accept_rate":60,"display_name":"Andrei V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5881,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33355791,"answer_count":2,"score":4,"last_activity_date":1677679149,"creation_date":1445558218,"question_id":33292749,"body_markdown":"Hi I have few UI objects that embedded into each other. Example #1:\r\n\r\n    class CarUI {\r\n      public UserUI user;\r\n      public UserUI agent;\r\n      ....\r\n      public UserUI getUser() {\r\n        return user;\r\n      }\r\n      public UserUI getAgent() {\r\n        return agent;\r\n      }\r\n    }\r\n    class UserUI {\r\n      @JsonView({Views.Public.class,Views.Private.class})\r\n      public String name;\r\n      @JsonView({Views.Private.class})\r\n      public String phone;\r\n      ...\r\n    }\r\n\r\nAs you can see if I serialize UserUI as Public I will expose only name but for private I will expose all fields. \r\n\r\nHere is my question: when I serialize object CarUI I want to expose only name for &quot;user&quot; and both name+phone for &quot;agent&quot;. That essentially means that in the getter for the getUser() I want to change JsonView to Views.Public.class and for getAgent() I want to change it to Views.Private.class\r\n\r\nIs there way to overwrite JsonView in getters to make all hierarchy for the returned object now serialize using this new JsonView?\r\n\r\n**Edited**\r\nAs pointed below you can solve my Example#1 with JsonView inheritance. What about more generic. Here is Example#2:\r\n\r\n    class CarUI {\r\n      public UserUI user;\r\n      public UserUI agent;\r\n      ....\r\n      public UserUI getUser() {\r\n        return user;\r\n      }\r\n      public UserUI getAgent() {\r\n        return agent;\r\n      }\r\n    }\r\n    class UserUI {\r\n      @JsonView({Views.Public.class,Views.Private.class})\r\n      public String name;\r\n      @JsonView({Views.Private.class})\r\n      public String phone;\r\n      @JsonView({Views.Public.class})\r\n      public String avatarUrl;\r\n      ...\r\n    }\r\n\r\nIn this example Id like to display name+phone for Agent and name+avatarUrl for User.\r\n","title":"How to change JsonView for specific properties","body":"<p>Hi I have few UI objects that embedded into each other. Example #1:</p>\n\n<pre><code>class CarUI {\n  public UserUI user;\n  public UserUI agent;\n  ....\n  public UserUI getUser() {\n    return user;\n  }\n  public UserUI getAgent() {\n    return agent;\n  }\n}\nclass UserUI {\n  @JsonView({Views.Public.class,Views.Private.class})\n  public String name;\n  @JsonView({Views.Private.class})\n  public String phone;\n  ...\n}\n</code></pre>\n\n<p>As you can see if I serialize UserUI as Public I will expose only name but for private I will expose all fields. </p>\n\n<p>Here is my question: when I serialize object CarUI I want to expose only name for \"user\" and both name+phone for \"agent\". That essentially means that in the getter for the getUser() I want to change JsonView to Views.Public.class and for getAgent() I want to change it to Views.Private.class</p>\n\n<p>Is there way to overwrite JsonView in getters to make all hierarchy for the returned object now serialize using this new JsonView?</p>\n\n<p><strong>Edited</strong>\nAs pointed below you can solve my Example#1 with JsonView inheritance. What about more generic. Here is Example#2:</p>\n\n<pre><code>class CarUI {\n  public UserUI user;\n  public UserUI agent;\n  ....\n  public UserUI getUser() {\n    return user;\n  }\n  public UserUI getAgent() {\n    return agent;\n  }\n}\nclass UserUI {\n  @JsonView({Views.Public.class,Views.Private.class})\n  public String name;\n  @JsonView({Views.Private.class})\n  public String phone;\n  @JsonView({Views.Public.class})\n  public String avatarUrl;\n  ...\n}\n</code></pre>\n\n<p>In this example Id like to display name+phone for Agent and name+avatarUrl for User.</p>\n"},{"tags":["java","swing","installation","install4j"],"answers":[{"tags":[],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677674515,"creation_date":1677674515,"answer_id":75603886,"question_id":75603885,"body_markdown":"On Windows the special folder names are determined by the the system language.\r\n\r\nOn MacOS, they are determined by the key `CFBundleDevelopmentRegion` in `Info.plist`.\r\n\r\nBy default, install4j sets this key to the value of the installer &quot;principal language&quot;:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe writing of this settings can be disabled by setting the compiler variable `sys.ext.setDevelopmentRegion` to false. If this key does not exist, the names are localized according to the MacOS system language (like on Windows).\r\n\r\nThe value can also be customized on a per launcher basis by adding a custom Info.plist-fragment:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lz9zq.png\r\n  [2]: https://i.stack.imgur.com/vu7Hl.png","title":"JFileChooser on MacOS: How is the localization of the names of special folders like &#39;Desktop&#39; determined?","body":"<p>On Windows the special folder names are determined by the the system language.</p>\n<p>On MacOS, they are determined by the key <code>CFBundleDevelopmentRegion</code> in <code>Info.plist</code>.</p>\n<p>By default, install4j sets this key to the value of the installer &quot;principal language&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/Lz9zq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lz9zq.png\" alt=\"enter image description here\" /></a></p>\n<p>The writing of this settings can be disabled by setting the compiler variable <code>sys.ext.setDevelopmentRegion</code> to false. If this key does not exist, the names are localized according to the MacOS system language (like on Windows).</p>\n<p>The value can also be customized on a per launcher basis by adding a custom Info.plist-fragment:</p>\n<p><a href=\"https://i.stack.imgur.com/vu7Hl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vu7Hl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1677678993,"creation_date":1677674515,"question_id":75603885,"body_markdown":"I have a situation where the special folder names on MacOS are French, but the labels &amp; buttons are German (the OS language is English):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n9SS3.png","title":"JFileChooser on MacOS: How is the localization of the names of special folders like &#39;Desktop&#39; determined?","body":"<p>I have a situation where the special folder names on MacOS are French, but the labels &amp; buttons are German (the OS language is English):</p>\n<p><a href=\"https://i.stack.imgur.com/n9SS3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n9SS3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":22890987,"reputation":1,"user_id":17031125,"display_name":"Esy - nozhati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677678738,"creation_date":1677241605,"answer_id":75556565,"question_id":75556369,"body_markdown":"Check `response.length()`. If it is more than 0 then it will work, otherwise `response` might have some problems. Also check the server side class.","title":"private variable not updated in JsonRequest RequestQueue","body":"<p>Check <code>response.length()</code>. If it is more than 0 then it will work, otherwise <code>response</code> might have some problems. Also check the server side class.</p>\n"},{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677242975,"creation_date":1677242975,"answer_id":75556761,"question_id":75556369,"body_markdown":"Im surprised youre not getting an `ArrayIndexOutOfBoundsException` with this line\r\n\r\n    mPlatListtoString[mPlatListtoString.length+1] = plat.toString();\r\n\r\nThe size of an array is immutable, so once you define it as `{}` it is essentially size 0 and cant accept any elements. Perhaps this would be better accomplished using the stream api such as\r\n\r\n\r\n    String[] mPlatListtoString = lPB.getPlatList().stream().map(plat -&gt; plat.toString()).collect(Collectors.toList()).toArray();\r\n\r\nThis eliminates the need for the loop altogether.","title":"private variable not updated in JsonRequest RequestQueue","body":"<p>Im surprised youre not getting an <code>ArrayIndexOutOfBoundsException</code> with this line</p>\n<pre><code>mPlatListtoString[mPlatListtoString.length+1] = plat.toString();\n</code></pre>\n<p>The size of an array is immutable, so once you define it as <code>{}</code> it is essentially size 0 and cant accept any elements. Perhaps this would be better accomplished using the stream api such as</p>\n<pre><code>String[] mPlatListtoString = lPB.getPlatList().stream().map(plat -&gt; plat.toString()).collect(Collectors.toList()).toArray();\n</code></pre>\n<p>This eliminates the need for the loop altogether.</p>\n"},{"tags":[],"owner":{"account_id":11730423,"reputation":1,"user_id":21279940,"display_name":"Cyril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677425596,"creation_date":1677425596,"answer_id":75573036,"question_id":75556369,"body_markdown":"I just transformed constructor PlatBank to classic method PlatBankFill() and called new PlatBank().PlatBankFill() and it worked... \r\n","title":"private variable not updated in JsonRequest RequestQueue","body":"<p>I just transformed constructor PlatBank to classic method PlatBankFill() and called new PlatBank().PlatBankFill() and it worked...</p>\n"}],"owner":{"account_id":11730423,"reputation":1,"user_id":21279940,"display_name":"Cyril"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75573036,"answer_count":3,"score":0,"last_activity_date":1677678738,"creation_date":1677240315,"question_id":75556369,"body_markdown":"I have a problem with a class in my Android app. I read a JSON, on debug I see the results of the request, mPlatList is filled in with retrieved data, but when the loop is finished, my object.mPlatList is empty. \r\n\r\nEDIT : Going forward, it seems in getAllPlatsStrings function, java goes to the for loop before the getPlatList() call finished. \r\nI&#39;ve added logs, and a log.i(...) just before &quot;return platListToString&quot; is thrown before a Log.i.. in getPlatList method.\r\n\r\nLooking on this deeper...\r\n\r\nHere&#39;s my class:\r\n\r\n```\r\npublic class PlatBank{\r\n    private List&lt;Plat&gt; mPlatList = new ArrayList&lt;&gt;();\r\n    private JsonReader mJsonReader;\r\n    private String mRetour = &quot;&quot;;\r\n\r\n\r\n    public PlatBank() {\r\n       \r\n        String url = &quot;xxx&quot;; //works\r\n        // Instantiate the cache\r\n        Cache cache = new DiskBasedCache(new File(&quot;cache&quot;) ,1024 * 1024); // 1MB cap\r\n        // Set up the network to use HttpURLConnection as the HTTP client.\r\n        Network network = new BasicNetwork(new HurlStack());\r\n\r\n        RequestQueue requestQueue = new RequestQueue(cache,network);\r\n        requestQueue.start();\r\n\r\n        JsonArrayRequest mJsonQuery = new JsonArrayRequest(url, new Response.Listener&lt;JSONArray&gt;(){\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                mRetour = response.toString();\r\n                Plat mTempPlat;\r\n                for (int i = 0; i &lt; response.length(); i++) {\r\n                    try {\r\n                        mTempPlat = new Plat(&quot;id&quot;, (String) response.get(i)); // is filled in ok\r\n                        mPlatList.add(mTempPlat); // mTemPlat added to mPlatList ok\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//on debug with breakpoint, I can see mPlatList grows with every object from Json request\r\n                    } catch (JSONException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        }, new Response.ErrorListener(){\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                mRetour = &quot;KO&quot;;\r\n            }\r\n        });\r\n\r\n\r\n        requestQueue.add(mJsonQuery);\r\n\t}\r\n\t\r\n\t\r\n\tpublic List&lt;Plat&gt; getPlatList(){\r\n        return  mPlatList;\r\n    }\r\n\t\r\n\t\r\n\t public String[] getAllPlatsStrings() {\r\n\r\n        PlatBank lPB = new PlatBank(); //so if I&#39;m not wrong, here I should have a PlatBank object, with all Plat in mPlatList attribute ?\r\n        String[] mPlatListtoString = {};\r\n\r\n        for (Plat plat:lPB.getPlatList()) { //getPlatList is always empty. Don&#39;t find why...\r\n            mPlatListtoString[mPlatListtoString.length+1] = plat.toString(); //source empty so never enters in this loop\r\n        }\r\n        return (mPlatListtoString);\r\n    }\r\n}\r\n```\r\n\r\nClass runs without error, but my private list return is empty.","title":"private variable not updated in JsonRequest RequestQueue","body":"<p>I have a problem with a class in my Android app. I read a JSON, on debug I see the results of the request, mPlatList is filled in with retrieved data, but when the loop is finished, my object.mPlatList is empty.</p>\n<p>EDIT : Going forward, it seems in getAllPlatsStrings function, java goes to the for loop before the getPlatList() call finished.\nI've added logs, and a log.i(...) just before &quot;return platListToString&quot; is thrown before a Log.i.. in getPlatList method.</p>\n<p>Looking on this deeper...</p>\n<p>Here's my class:</p>\n<pre><code>public class PlatBank{\n    private List&lt;Plat&gt; mPlatList = new ArrayList&lt;&gt;();\n    private JsonReader mJsonReader;\n    private String mRetour = &quot;&quot;;\n\n\n    public PlatBank() {\n       \n        String url = &quot;xxx&quot;; //works\n        // Instantiate the cache\n        Cache cache = new DiskBasedCache(new File(&quot;cache&quot;) ,1024 * 1024); // 1MB cap\n        // Set up the network to use HttpURLConnection as the HTTP client.\n        Network network = new BasicNetwork(new HurlStack());\n\n        RequestQueue requestQueue = new RequestQueue(cache,network);\n        requestQueue.start();\n\n        JsonArrayRequest mJsonQuery = new JsonArrayRequest(url, new Response.Listener&lt;JSONArray&gt;(){\n            @Override\n            public void onResponse(JSONArray response) {\n                mRetour = response.toString();\n                Plat mTempPlat;\n                for (int i = 0; i &lt; response.length(); i++) {\n                    try {\n                        mTempPlat = new Plat(&quot;id&quot;, (String) response.get(i)); // is filled in ok\n                        mPlatList.add(mTempPlat); // mTemPlat added to mPlatList ok\n                        \n                        //on debug with breakpoint, I can see mPlatList grows with every object from Json request\n                    } catch (JSONException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }, new Response.ErrorListener(){\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                mRetour = &quot;KO&quot;;\n            }\n        });\n\n\n        requestQueue.add(mJsonQuery);\n    }\n    \n    \n    public List&lt;Plat&gt; getPlatList(){\n        return  mPlatList;\n    }\n    \n    \n     public String[] getAllPlatsStrings() {\n\n        PlatBank lPB = new PlatBank(); //so if I'm not wrong, here I should have a PlatBank object, with all Plat in mPlatList attribute ?\n        String[] mPlatListtoString = {};\n\n        for (Plat plat:lPB.getPlatList()) { //getPlatList is always empty. Don't find why...\n            mPlatListtoString[mPlatListtoString.length+1] = plat.toString(); //source empty so never enters in this loop\n        }\n        return (mPlatListtoString);\n    }\n}\n</code></pre>\n<p>Class runs without error, but my private list return is empty.</p>\n"},{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":5144572,"reputation":3474,"user_id":4120911,"accept_rate":40,"display_name":"Cliff Burton"},"score":0,"creation_date":1677669443,"post_id":75602757,"comment_id":133382170,"body_markdown":"Probably it&#39;s a stupid question, but have you done _&quot;sync project with gradle files&quot;_?","body":"Probably it&#39;s a stupid question, but have you done <i>&quot;sync project with gradle files&quot;</i>?"},{"owner":{"account_id":24761956,"reputation":1,"user_id":18646249,"display_name":"Pakhi"},"score":0,"creation_date":1677669629,"post_id":75602757,"comment_id":133382220,"body_markdown":"Yes.  I synced the gradle file.","body":"Yes.  I synced the gradle file."}],"owner":{"account_id":24761956,"reputation":1,"user_id":18646249,"display_name":"Pakhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677678694,"creation_date":1677668255,"question_id":75602757,"body_markdown":"I have added\r\n\r\n`implementation &#39;com.squareup.retrofit2:converter-scalars:2.9.0&#39;`  to gradle file.\r\n\r\nBut still I am not getting import option in my retrofit. ScalarsConverterFactory always shows error.\r\n\r\n```java\r\nRetrofit retrofit =new Retrofit.Builder().baseUrl(&quot;http://192.168.1.1:9000&quot;).\r\naddConverterFactory(ScalarsConverterFactory.create());\r\n```\r\n\r\nI tried changing versions of ScalarsConverterFactory() but no success.\r\n","title":"Unable to Import ScalarsConverterFactory","body":"<p>I have added</p>\n<p><code>implementation 'com.squareup.retrofit2:converter-scalars:2.9.0'</code>  to gradle file.</p>\n<p>But still I am not getting import option in my retrofit. ScalarsConverterFactory always shows error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Retrofit retrofit =new Retrofit.Builder().baseUrl(&quot;http://192.168.1.1:9000&quot;).\naddConverterFactory(ScalarsConverterFactory.create());\n</code></pre>\n<p>I tried changing versions of ScalarsConverterFactory() but no success.</p>\n"},{"tags":["java","concurrency","volatile","synchronized","atomicinteger"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1677668168,"post_id":75602692,"comment_id":133381848,"body_markdown":"Both are fine. The latter might be a fraction better, but I&#39;d suspect it makes almost no difference. If you&#39;re that concerned, benchmark it.","body":"Both are fine. The latter might be a fraction better, but I&#39;d suspect it makes almost no difference. If you&#39;re that concerned, benchmark it."},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1685706808,"post_id":75602692,"comment_id":134702257,"body_markdown":"Both are correct. The second one, from my point of view, may be slightly better for readers, especially in case of high contention on reader&#39;s side (a number of threads read the current value) and relatively rare write operations... For readers JVM doesn&#39;t need to deal with all that machinery around object locking (thin fat biased locks etcetc), just with memory barriers. In that meaning AtomicInteger may be even more effective, especially if you use lazySet in case of single writer (more optimal/effective mem barriers/a bit rarer cpu cache invalidation)","body":"Both are correct. The second one, from my point of view, may be slightly better for readers, especially in case of high contention on reader&#39;s side (a number of threads read the current value) and relatively rare write operations... For readers JVM doesn&#39;t need to deal with all that machinery around object locking (thin fat biased locks etcetc), just with memory barriers. In that meaning AtomicInteger may be even more effective, especially if you use lazySet in case of single writer (more optimal/effective mem barriers/a bit rarer cpu cache invalidation)"}],"answers":[{"tags":[],"owner":{"account_id":435105,"reputation":6948,"user_id":821497,"accept_rate":60,"display_name":"ciamej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677668579,"creation_date":1677668242,"answer_id":75602753,"question_id":75602692,"body_markdown":"Michael&#39;s comment is correct. Both approaches are fine.\r\n\r\nIn terms of performance, it is difficult to say which one is better. It might even depend on the architecture (x86 vs ARM).\r\n\r\nThe second one might be better for gets, but worse for increments (because both the lock is taken, and a write memory barrier is issued, unless JIT can optimize that away...)","title":"Can we achieve visibility and atomicity using Volatile and Synchronized together?","body":"<p>Michael's comment is correct. Both approaches are fine.</p>\n<p>In terms of performance, it is difficult to say which one is better. It might even depend on the architecture (x86 vs ARM).</p>\n<p>The second one might be better for gets, but worse for increments (because both the lock is taken, and a write memory barrier is issued, unless JIT can optimize that away...)</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677678668,"creation_date":1677678668,"answer_id":75604617,"question_id":75602692,"body_markdown":"You never need `volatile` if you&#39;re using `synchronized`. Both keywords establish a &quot;happens before&quot; relationship between events in different threads.\r\n\r\n- Whatever some thread A does before it writes a value to some `volatile` variable, `v`, is guaranteed to be visible to some other thread B after B subsequently reads the same variable, `v`.\r\n\r\n- Whatever some thread A does before it exits from a `synchronized(o)` block is guaranteed to be visible to thread B after B subsequently enters a block that is `synchronized` on the same object, `o`.","title":"Can we achieve visibility and atomicity using Volatile and Synchronized together?","body":"<p>You never need <code>volatile</code> if you're using <code>synchronized</code>. Both keywords establish a &quot;happens before&quot; relationship between events in different threads.</p>\n<ul>\n<li><p>Whatever some thread A does before it writes a value to some <code>volatile</code> variable, <code>v</code>, is guaranteed to be visible to some other thread B after B subsequently reads the same variable, <code>v</code>.</p>\n</li>\n<li><p>Whatever some thread A does before it exits from a <code>synchronized(o)</code> block is guaranteed to be visible to thread B after B subsequently enters a block that is <code>synchronized</code> on the same object, <code>o</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":8245636,"reputation":273,"user_id":6201816,"display_name":"itspr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677678668,"creation_date":1677667898,"question_id":75602692,"body_markdown":"I am just trying to understand... Will I achieve the same result using the below two approaches? I mostly see the first approach only. Is there anything wrong with the second approach?\r\nWe can use AtomicInteger to achieve the same but just wanted to know. Can someone please clarify?\r\n\r\n***Approach#1***\r\n\r\n    public class Counter {\r\n       private int counter = 0;\r\n       \r\n       public int getCount() {\r\n          synchronized(this) {\r\n             return counter;\r\n          }\r\n       }\r\n    \r\n       public void increment() {\r\n          synchronized(this) {\r\n             counter++;\r\n          }\r\n       }\r\n    }\r\n\r\n***Approach#2***\r\n\r\n    public class Counter {\r\n       private volatile int counter = 0;\r\n       \r\n       public int getCount() {\r\n          return counter;\r\n       }\r\n    \r\n       public synchronized void increment() {\r\n          counter++;\r\n       }\r\n    }\r\n\r\n","title":"Can we achieve visibility and atomicity using Volatile and Synchronized together?","body":"<p>I am just trying to understand... Will I achieve the same result using the below two approaches? I mostly see the first approach only. Is there anything wrong with the second approach?\nWe can use AtomicInteger to achieve the same but just wanted to know. Can someone please clarify?</p>\n<p><em><strong>Approach#1</strong></em></p>\n<pre><code>public class Counter {\n   private int counter = 0;\n   \n   public int getCount() {\n      synchronized(this) {\n         return counter;\n      }\n   }\n\n   public void increment() {\n      synchronized(this) {\n         counter++;\n      }\n   }\n}\n</code></pre>\n<p><em><strong>Approach#2</strong></em></p>\n<pre><code>public class Counter {\n   private volatile int counter = 0;\n   \n   public int getCount() {\n      return counter;\n   }\n\n   public synchronized void increment() {\n      counter++;\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","datetime","jackson"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1677662738,"post_id":75601647,"comment_id":133380326,"body_markdown":"Does this answer your question? [How to globally add a custom Serializer to Jackson and be used by default](https://stackoverflow.com/questions/75093378/how-to-globally-add-a-custom-serializer-to-jackson-and-be-used-by-default)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75093378/how-to-globally-add-a-custom-serializer-to-jackson-and-be-used-by-default\">How to globally add a custom Serializer to Jackson and be used by default</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677664968,"post_id":75601647,"comment_id":133380958,"body_markdown":"It does not make sense to format an `Instant` into `dd.MM.yyyy HH:mm:ss`  format. An `Instant` hasnt got date and hour-of-day. To derive such from an `Instant` you would need to assume a time zone or UTC offset.","body":"It does not make sense to format an <code>Instant</code> into <code>dd.MM.yyyy HH:mm:ss</code>  format. An <code>Instant</code> hasnt got date and hour-of-day. To derive such from an <code>Instant</code> you would need to assume a time zone or UTC offset."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":1,"creation_date":1677670989,"post_id":75601647,"comment_id":133382570,"body_markdown":"@OleV.V. I use instant for `createdAt` fields in order to keep creation date for the records. I think it is a suitable datetime type for this purpose. On the other hand, cannot I display Instant values in format? Or what should I do? Could you pls explain a little bit more instead of writing something like a news title?","body":"@OleV.V. I use instant for <code>createdAt</code> fields in order to keep creation date for the records. I think it is a suitable datetime type for this purpose. On the other hand, cannot I display Instant values in format? Or what should I do? Could you pls explain a little bit more instead of writing something like a news title?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677671153,"post_id":75601647,"comment_id":133382615,"body_markdown":"@PanagiotisBougioukos I read that page before opening the question, but could not use it for Instant. Could you post an answer by modifying it for Instant?","body":"@PanagiotisBougioukos I read that page before opening the question, but could not use it for Instant. Could you post an answer by modifying it for Instant?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677671493,"post_id":75601647,"comment_id":133382706,"body_markdown":"There are solutions for formatting instants (and yes, its the right type to use). In plain Java I would do like `DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;).withZone(ZoneId.of(&quot;Europe/Copenhagen&quot;)).format(createdAt)` to supply the time zone and get an output like `01.03.2023 12:49:40`. I dont think I have tried it with Jackson, so sorry that I cant help you there.","body":"There are solutions for formatting instants (and yes, its the right type to use). In plain Java I would do like <code>DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;).withZone(ZoneId.of(&quot;Europe&#47;Copenhagen&quot;)).format(c&zwnj;&#8203;reatedAt)</code> to supply the time zone and get an output like <code>01.03.2023 12:49:40</code>. I dont think I have tried it with Jackson, so sorry that I cant help you there."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677672736,"post_id":75601647,"comment_id":133383078,"body_markdown":"@OleV.V. No problem amigo, thanks a lot for your useful tips. I am just wondering this issue regarding to Instant. Could you clarify me? &gt;&gt;&gt; As far as I know, Instant uses UTC as time zone and when saving time data, we assume that the data is saved based on UTC as time zone. Then, when we display this data, we should convert it to the client&#39;s time zone and display it? Is that true?","body":"@OleV.V. No problem amigo, thanks a lot for your useful tips. I am just wondering this issue regarding to Instant. Could you clarify me? &gt;&gt;&gt; As far as I know, Instant uses UTC as time zone and when saving time data, we assume that the data is saved based on UTC as time zone. Then, when we display this data, we should convert it to the client&#39;s time zone and display it? Is that true?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677673222,"post_id":75601647,"comment_id":133383221,"body_markdown":"Up to interpretation. The `parse` and `toString` methods of `Instant` use UTC, but conceptually an `Instant` has not got any time zone. An `Instant` is a point in time, nothing more.","body":"Up to interpretation. The <code>parse</code> and <code>toString</code> methods of <code>Instant</code> use UTC, but conceptually an <code>Instant</code> has not got any time zone. An <code>Instant</code> is a point in time, nothing more."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677676247,"post_id":75601647,"comment_id":133384262,"body_markdown":"@OleV.V. Then, is it a bad idea to convert Instant to a formatted date-time while displaying Instant time?","body":"@OleV.V. Then, is it a bad idea to convert Instant to a formatted date-time while displaying Instant time?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677676848,"post_id":75601647,"comment_id":133384461,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/252224/discussion-between-ole-v-v-and-fredrick).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/252224/discussion-between-ole-v-v-and-fredrick\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677678568,"creation_date":1677671836,"answer_id":75603391,"question_id":75601647,"body_markdown":"This has already been answered for a similar case under this [thread][1].\r\n\r\nBut since OP can&#39;t find the appropriate modification to make it work for his case, here is the solution that will work here\r\n\r\nAs already described in comment this does not seem optimal to use since converting to String you will have to assume a Timezone which is not contained in Instant object.\r\n\r\n    @Bean\r\n    public ObjectMapper registerObjectMapper(){\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        SimpleModule module = new SimpleModule(&quot;MyInstantSerializer&quot;);\r\n        module.addSerializer(Instant.class, new MyInstantSerializer());\r\n        mapper.registerModule(module);\r\n       \r\n        return mapper;\r\n    } \r\n\r\nAnd then you also need\r\n\r\n    public class MyInstantSerializer extends JsonSerializer&lt;Instant&gt; {\r\n\r\n        private static final String DATE_TIME_FORMAT = &quot;dd.MM.yyyy HH:mm:ss&quot;;\r\n\r\n        private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(DATE_TIME_FORMAT).withZone(ZoneId.from(ZoneOffset.UTC));\r\n\r\n        @Override\r\n        public void serialize(\r\n                        Instant value, \r\n                        JsonGenerator gen, \r\n                        SerializerProvider serializers) throws IOException {\r\n\r\n    \r\n            gen.writeString(formatter.format(value));\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75095148/7237884","title":"How to globally add a custom Serializer to format all Instant values in Spring Boot?","body":"<p>This has already been answered for a similar case under this <a href=\"https://stackoverflow.com/a/75095148/7237884\">thread</a>.</p>\n<p>But since OP can't find the appropriate modification to make it work for his case, here is the solution that will work here</p>\n<p>As already described in comment this does not seem optimal to use since converting to String you will have to assume a Timezone which is not contained in Instant object.</p>\n<pre><code>@Bean\npublic ObjectMapper registerObjectMapper(){\n    ObjectMapper mapper = new ObjectMapper();\n    SimpleModule module = new SimpleModule(&quot;MyInstantSerializer&quot;);\n    module.addSerializer(Instant.class, new MyInstantSerializer());\n    mapper.registerModule(module);\n   \n    return mapper;\n} \n</code></pre>\n<p>And then you also need</p>\n<pre><code>public class MyInstantSerializer extends JsonSerializer&lt;Instant&gt; {\n\n    private static final String DATE_TIME_FORMAT = &quot;dd.MM.yyyy HH:mm:ss&quot;;\n\n    private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(DATE_TIME_FORMAT).withZone(ZoneId.from(ZoneOffset.UTC));\n\n    @Override\n    public void serialize(\n                    Instant value, \n                    JsonGenerator gen, \n                    SerializerProvider serializers) throws IOException {\n\n\n        gen.writeString(formatter.format(value));\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75603391,"answer_count":1,"score":1,"last_activity_date":1677678568,"creation_date":1677662329,"question_id":75601647,"body_markdown":"I am trying to format Instant fields globally in my DTOs as I can format the other date fields as shown below:\r\n\r\n```\r\n@Configuration\r\npublic class AppConfig {\r\n   \r\n    private static final String DATE_TIME_FORMAT = &quot;dd.MM.yyyy HH:mm:ss&quot;;\r\n\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n\r\n        return builder -&gt; {\r\n            builder.serializers(new LocalDateTimeSerializer(\r\n                DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nHowever, I think I should follow another approach by creating anew bean as shown below:\r\n\r\n```\r\n@Bean\r\nObjectMapper objectMapper() {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.configOverride(Instant.class)\r\n            .setFormat(JsonFormat.Value.forPattern(DATE_TIME_FORMAT));\r\n    return mapper;\r\n}\r\n```\r\n\r\nIt changes my Instant values, but not a proper format:\r\n\r\n```\r\n&quot;createdAt&quot;: {\r\n            &quot;nano&quot;: 0,\r\n            &quot;epochSecond&quot;: 1677445697\r\n        }\r\n```\r\n\r\nSo, how can a manage it properly in my Spring Boot app? ","title":"How to globally add a custom Serializer to format all Instant values in Spring Boot?","body":"<p>I am trying to format Instant fields globally in my DTOs as I can format the other date fields as shown below:</p>\n<pre><code>@Configuration\npublic class AppConfig {\n   \n    private static final String DATE_TIME_FORMAT = &quot;dd.MM.yyyy HH:mm:ss&quot;;\n\n    @Bean\n    public Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n\n        return builder -&gt; {\n            builder.serializers(new LocalDateTimeSerializer(\n                DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n        };\n    }\n}\n</code></pre>\n<p>However, I think I should follow another approach by creating anew bean as shown below:</p>\n<pre><code>@Bean\nObjectMapper objectMapper() {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.configOverride(Instant.class)\n            .setFormat(JsonFormat.Value.forPattern(DATE_TIME_FORMAT));\n    return mapper;\n}\n</code></pre>\n<p>It changes my Instant values, but not a proper format:</p>\n<pre><code>&quot;createdAt&quot;: {\n            &quot;nano&quot;: 0,\n            &quot;epochSecond&quot;: 1677445697\n        }\n</code></pre>\n<p>So, how can a manage it properly in my Spring Boot app?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1677692081,"post_id":75604409,"comment_id":133389588,"body_markdown":"The error message says property `spring.cloud.config.server.git.privateKey` must have the private key, but you set the private key in a different property `spring.cloud.config.server.git.password`.","body":"The error message says property <code>spring.cloud.config.server.git.privateKey</code> must have the private key, but you set the private key in a different property <code>spring.cloud.config.server.git.password</code>."},{"owner":{"account_id":8411933,"reputation":2522,"user_id":6313539,"display_name":"Sweta Sharma"},"score":0,"creation_date":1677728713,"post_id":75604409,"comment_id":133396766,"body_markdown":"@ChinHuang Thank you very much for your reply. I made the change. However, I&#39;m getting the below error: ``` Caused by: org.eclipse.jgit.errors.TransportException: git@webprod:7999/service-micro/service-properties.git: Cannot login at webprod.test.com:22\n\tat org.eclipse.jgit.transport.sshd.SshdSession.connect(SshdSession.java:174) ~[org.eclipse.jgit.ssh.apache-5.13.1.2022061\n  Caused by: org.apache.sshd.common.SshException: No more authentication methods available\n\tat org.apache.sshd.client.session.ClientUserAuthService.tryNext(ClientUserAuthService.java:353) ~[sshd-osgi-2.7.0.jar:2.7.0] ```","body":"@ChinHuang Thank you very much for your reply. I made the change. However, I&#39;m getting the below error: ``` Caused by: org.eclipse.jgit.errors.TransportException: git@webprod:7999/service-micro/service-properties.git: Cannot login at webprod.test.com:22 \tat org.eclipse.jgit.transport.sshd.SshdSession.connect(SshdSess&zwnj;&#8203;ion.java:174) ~[org.eclipse.jgit.ssh.apache-5.13.1.2022061   Caused by: org.apache.sshd.common.SshException: No more authentication methods available \tat org.apache.sshd.client.session.ClientUserAuthService.tryNext&zwnj;&#8203;(ClientUserAuthServi&zwnj;&#8203;ce.java:353) ~[sshd-osgi-2.7.0.jar:2.7.0] ```"},{"owner":{"account_id":8411933,"reputation":2522,"user_id":6313539,"display_name":"Sweta Sharma"},"score":0,"creation_date":1677735198,"post_id":75604409,"comment_id":133397522,"body_markdown":"@ChinHuang Do I need to add anything in the known_hosts file?","body":"@ChinHuang Do I need to add anything in the known_hosts file?"}],"owner":{"account_id":8411933,"reputation":2522,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677678503,"creation_date":1677677521,"question_id":75604409,"body_markdown":"\r\n\r\nI am trying to create a spring cloud config server to connect to git repository(bitbucket) using an SSH URI. I am following Spring Cloud Config.\r\n\r\nI generated key pair using the command \r\n```\r\nssh-keygen -m PEM -t rsa -b 4096 -C &quot;sweta&quot;\r\n```\r\npasted the .pub file content in the ssh section of my bitbucket account but when I am running the server that is a spring boot application, I am getting an invalid privateKey exception.\r\n\r\n```\r\nspring.cloud.config.server.git.uri=git@webprod:7999/service-micro/service-properties.git\r\nspring.cloud.config.server.git.ignoreLocalSshSettings=true\r\nspring.cloud.config.server.git.password=-----BEGIN RSA PRIVATE KEY-----\\n\\\r\nMIIJKQIBAAKCAgEA49ZAmVWvAMKqOqGwQq8vhaXsA3LiYWbk1G9CTAjLW6i+NXHR\\\r\nFjk2qdUTRGsAZUCIIbgSK5hW1Ciaj8PU+Cuqz5oVaAzvNxQy+zvj4emi0KLJDhYk\\\r\nKaeeOpz1R4fT6QoIP7cwugdI3e7GRqLFSZ2MQovHJKfTLjWhLgZj2YzS6Jvdl1DS\\\r\nS6K9p2stf7daXi9A8Ysp0/8ccQSeZm1pdV2ppms0uHwkAq9pd2WkofSZP7Nrfhno\\\r\ngIqgkvWBuHSmSZKFFPXG826QyDtbmfUfQsH0Mm8TlK8tVy6NTE5/q1NzjepbK4mX\\\r\neFnWITM6rViqQ6lAOzPTqd45qWez60yypYGs4jZjHQwioeAHqQCI1O7KstOPoMEn\\\r\nUjr72u9FbKptKF/3JeqhchocajBnvSnvJawip50E1uZAh7YDx+g+U4s7W2w3ka2w\\\r\noAtRke7JjDq/Lej4CmzMliNsD/4fxC3+RgB9wAcCYO9BvE/aM3mx/0O2KWTzEkAN\\\r\nJnP6jn1PbrKFExwL7bVjWwIxDvU4zz6bKN1MOh5GT+6e/eNVANAG6o8pZz9tcTFu\\\r\nJX1qBFvZJznoe4/kpIvbiLUEOL6IIotf1P5UXVw1jwEzEnQ30R3ZC2XUiYusQgz+\\\r\nw1gMFYbKo6IpNzFnSdRmcDQ26Tg1tvtEfvERMadKVWr14Vtvf8RD/K60TsMCAwEA\\\r\nAQKCAgBW149/4pz12T0xY/ffMw8WDgxLtDp9jc6i+lV2zdNVeJgnnt5nbh9b1I+n\\\r\ngHGCJnq8/4BNhZ9y9pcTPT2r6lkNEFogcu2rPNPB1y4hKgCZLbMc32uhRPaWuMT1\\\r\nItyu8tf6EUVNYwFvNlf1DI3OZXLU2pppal6gOmjZNi5Q+dBaQS7RQkkl8z3+1mdd\\\r\nSvHy/GfwqW6kE5UvrucBe6q6xZyohixuNUM0ks/MZr29zZGsKiNKyW1JsY1K9rEf\\\r\nMbdAS8zWFGhk2TvuVlGv+TKVK4B8yMHZ5nuNw3ywHSukjgZ5jV561dMaWIO52+D9\\\r\nudIMQDLvXe3LzZyE6bY2deGSHD9csd53mqSYxjV8bVHIXckIODgpw3b0Z6vj/0ut\\\r\nOOj02bGy8DjWpVnidxz9oXdHEMFDS9lfTQnUnT7mdm+bAlZjMQHNtVF5DVWUakAI\\\r\nKQ2jrVIj1v4oi5bd4k9TFYzn0RiWQuQGIwXQf09jh0/1jUCiX0yYoOUyJnVUfZKW\\\r\ndzX/My0nJlclwvZqwmRaIrfe8S7VmZ5jhDxvg2frzN8fCf9S88nbOcevr0fKq1OS\\\r\nB2MgNKoBQnPRxr3KVBOlIpXaqnbkQYHU21GVIkWqLAenstCl9yc1ecRyHHAcXR5R\\\r\nphmPorKUwzlw08bX+yqlqs6Ppm/FNwndTR6KQl4tMdzNVPFuIQKCAQEA9wQiu6rF\\\r\ncg21MlKTvxQThw9JqL7ZPZ8Cm0e3bybXc7vhZYeYnYI9xKAlFLpu4PTB65z3iWyK\\\r\nvB9KU6KJqB2C2oEKKItbC4xzsGSSgT05lMGwHYLuCm0Yo9zg1s+doEo2A7NLP9rT\\\r\njF8lQnKy0stUs+0HLoo7I7P1j12peyuDnfx5orvl8ce+ByYMYO1Echq4c6aEQgEW\\\r\nXc3CQKNv6lY3iX92HyYf+uz8saKgLd55Qy2wNaonAW3YM3i7Yw0PUvIotcTlW0kJ\\\r\nDQvrhcKrM0udF3wFB2mnummXiv6+FOKtlm7k1/n90FMz3A4zPqDxPDhErt6gc+/E\\\r\n35ASeeCcLOUTrQKCAQEA7B+L/cifcc55Fdg9qll3UWqifCLeQYfZkPNfWHruzMOP\\\r\n7U6T8MU3xArwBzfS9JQh+2QRotUJfQiRM82pe6LvFJfBx6TwEwJ3Z6DsWZDox5ai\\\r\nCRZrnYgc7lCbOarkkt1BgIS71rbunTHQNP92xjNu0zjgArw8pZZMUz8/EcE04uYm\\\r\nWxCaThAOoubPv0h1hb0O9sn3LoYCFigbtUboc7t7mPB9zRi95+jxqSpMO6kwLDnI\\\r\nojk1fCtqfD3V2y9sbMWLWIhKkvNWY5OQJdJfGzTW5MiaJb36m4V2BLSVnJLuKHRn\\\r\nON2LoRhYfZ5YGwr+giUtA2qOPLaXc/TpYBgKXQK6LwKCAQBPIuANx5QiCgo26QW0\\\r\nfbYT2u36RcpLV5n6LWuzDHqR9Wssn9hg/czUJYo7rc6/+yn1VgBn4oI/6rZhPP1l\\\r\nAq9dWWHrw1mTxZd6t33IMdk0syi9C6k/ZdwzAxx1NWaGZ8AOR26gMnb7za+eLijk\\\r\nJ4gnbJSUcGyp74mIOLWHZFVyU+SUIiZ0400Z9TKaCumWtMDLLFnK25ZSzwygsLu2\\\r\nE5EPV+p76DbuqOX78uHmUBQBVa3SQ4TjjFFrjA5cmV6DcFligoYITMm9iEgYPlmi\\\r\nwWK+l1j1GwBFVHbcbOhwwH5kZ3qhRtHt3/oJUfNQ6Tbf2BcI/wHgorwr83g326Gt\\\r\nMGaxAoIBAQDjtPSK9EuXM9efkl69hfPEJ0K01ediaMEOwTTEniDmhP2qi2mt+nLx\\\r\n8t5RB6u/w48V4QYE8s9orbdhrsbv/Uv0nvj4L/55Rpqh7BWhtlZWC9UNUHrNe3Ly\\\r\n+/cF4OD3JLpDVz3SLa3lGCHCyk3fi8AnoCSfXqpZwZyvd0G6PIlk+zAoB9XWzDNh\\\r\nM5dKz3TOWWkx48klK4Sdm2ZFJjGLUlU6Q0n+XQret809JxZHPry/GaZ7kxIaQcA6\\\r\nOmOfMZetOcBMy3qnRlWcR7TuVHb1RLqr/Sxyk0g3bLhIh2H0kdlsV/0nYLeDzneg\\\r\nBPDQe4S/O1yye7LZp/hckeXxjp2H3tZvAoIBAQCDZymWIl26Fr9EF/InFYv45A/G\\\r\nq+BX8E+1W7cvpRoV1l9gHRY1meE2aBEjIZ2jO61gz5bflYjlTU7G9ERGU/73HUFG\\\r\n1sNemQuEt601KejgfR4JZNTsb4Pqe5gmhxdPEtG5kAlsPY8k8nLbs6URU5aH0Cuq\\\r\nfBVXXGELvGka82XYtIC0c1Kj+4e2j4vL/w3zZ/cyPgmeaR8e6bM31L1AGccWEaEi\\\r\n/x8ybvCwQqcbP49bDlv5rmPMAUO34bRjMxK3XJZbbjJrhNdb8a89zGsx4+s8k+ZH\\\r\n/gFdvOAB6A5xw1YuMsryQCYPJOrEZips1apEEZ0yqSUcdve7OanfpXiiEiCs\\n\\\r\n-----END RSA PRIVATE KEY-----\r\n\r\n```\r\nI also added \\n and \\ in the end. However, still no luck.\r\n\r\nBelow is the error log:\r\n```\r\nDescription:\r\n\r\nBinding to target org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;spring.cloud.config.server.git&#39; to org.springframework.cloud.config.server.environment.MultipleJGitEnvironmentProperties failed:\r\n    Reason: Property &#39;spring.cloud.config.server.git.privateKey&#39; must be set when &#39;spring.cloud.config.server.git.ignoreLocalSshSettings&#39; is specified\r\n\r\n```\r\n\r\nCan someone guide me What am I missing?","title":"How to connect spring cloud config server to Bitbucket using SSH keys?","body":"<p>I am trying to create a spring cloud config server to connect to git repository(bitbucket) using an SSH URI. I am following Spring Cloud Config.</p>\n<p>I generated key pair using the command</p>\n<pre><code>ssh-keygen -m PEM -t rsa -b 4096 -C &quot;sweta&quot;\n</code></pre>\n<p>pasted the .pub file content in the ssh section of my bitbucket account but when I am running the server that is a spring boot application, I am getting an invalid privateKey exception.</p>\n<pre><code>spring.cloud.config.server.git.uri=git@webprod:7999/service-micro/service-properties.git\nspring.cloud.config.server.git.ignoreLocalSshSettings=true\nspring.cloud.config.server.git.password=-----BEGIN RSA PRIVATE KEY-----\\n\\\nMIIJKQIBAAKCAgEA49ZAmVWvAMKqOqGwQq8vhaXsA3LiYWbk1G9CTAjLW6i+NXHR\\\nFjk2qdUTRGsAZUCIIbgSK5hW1Ciaj8PU+Cuqz5oVaAzvNxQy+zvj4emi0KLJDhYk\\\nKaeeOpz1R4fT6QoIP7cwugdI3e7GRqLFSZ2MQovHJKfTLjWhLgZj2YzS6Jvdl1DS\\\nS6K9p2stf7daXi9A8Ysp0/8ccQSeZm1pdV2ppms0uHwkAq9pd2WkofSZP7Nrfhno\\\ngIqgkvWBuHSmSZKFFPXG826QyDtbmfUfQsH0Mm8TlK8tVy6NTE5/q1NzjepbK4mX\\\neFnWITM6rViqQ6lAOzPTqd45qWez60yypYGs4jZjHQwioeAHqQCI1O7KstOPoMEn\\\nUjr72u9FbKptKF/3JeqhchocajBnvSnvJawip50E1uZAh7YDx+g+U4s7W2w3ka2w\\\noAtRke7JjDq/Lej4CmzMliNsD/4fxC3+RgB9wAcCYO9BvE/aM3mx/0O2KWTzEkAN\\\nJnP6jn1PbrKFExwL7bVjWwIxDvU4zz6bKN1MOh5GT+6e/eNVANAG6o8pZz9tcTFu\\\nJX1qBFvZJznoe4/kpIvbiLUEOL6IIotf1P5UXVw1jwEzEnQ30R3ZC2XUiYusQgz+\\\nw1gMFYbKo6IpNzFnSdRmcDQ26Tg1tvtEfvERMadKVWr14Vtvf8RD/K60TsMCAwEA\\\nAQKCAgBW149/4pz12T0xY/ffMw8WDgxLtDp9jc6i+lV2zdNVeJgnnt5nbh9b1I+n\\\ngHGCJnq8/4BNhZ9y9pcTPT2r6lkNEFogcu2rPNPB1y4hKgCZLbMc32uhRPaWuMT1\\\nItyu8tf6EUVNYwFvNlf1DI3OZXLU2pppal6gOmjZNi5Q+dBaQS7RQkkl8z3+1mdd\\\nSvHy/GfwqW6kE5UvrucBe6q6xZyohixuNUM0ks/MZr29zZGsKiNKyW1JsY1K9rEf\\\nMbdAS8zWFGhk2TvuVlGv+TKVK4B8yMHZ5nuNw3ywHSukjgZ5jV561dMaWIO52+D9\\\nudIMQDLvXe3LzZyE6bY2deGSHD9csd53mqSYxjV8bVHIXckIODgpw3b0Z6vj/0ut\\\nOOj02bGy8DjWpVnidxz9oXdHEMFDS9lfTQnUnT7mdm+bAlZjMQHNtVF5DVWUakAI\\\nKQ2jrVIj1v4oi5bd4k9TFYzn0RiWQuQGIwXQf09jh0/1jUCiX0yYoOUyJnVUfZKW\\\ndzX/My0nJlclwvZqwmRaIrfe8S7VmZ5jhDxvg2frzN8fCf9S88nbOcevr0fKq1OS\\\nB2MgNKoBQnPRxr3KVBOlIpXaqnbkQYHU21GVIkWqLAenstCl9yc1ecRyHHAcXR5R\\\nphmPorKUwzlw08bX+yqlqs6Ppm/FNwndTR6KQl4tMdzNVPFuIQKCAQEA9wQiu6rF\\\ncg21MlKTvxQThw9JqL7ZPZ8Cm0e3bybXc7vhZYeYnYI9xKAlFLpu4PTB65z3iWyK\\\nvB9KU6KJqB2C2oEKKItbC4xzsGSSgT05lMGwHYLuCm0Yo9zg1s+doEo2A7NLP9rT\\\njF8lQnKy0stUs+0HLoo7I7P1j12peyuDnfx5orvl8ce+ByYMYO1Echq4c6aEQgEW\\\nXc3CQKNv6lY3iX92HyYf+uz8saKgLd55Qy2wNaonAW3YM3i7Yw0PUvIotcTlW0kJ\\\nDQvrhcKrM0udF3wFB2mnummXiv6+FOKtlm7k1/n90FMz3A4zPqDxPDhErt6gc+/E\\\n35ASeeCcLOUTrQKCAQEA7B+L/cifcc55Fdg9qll3UWqifCLeQYfZkPNfWHruzMOP\\\n7U6T8MU3xArwBzfS9JQh+2QRotUJfQiRM82pe6LvFJfBx6TwEwJ3Z6DsWZDox5ai\\\nCRZrnYgc7lCbOarkkt1BgIS71rbunTHQNP92xjNu0zjgArw8pZZMUz8/EcE04uYm\\\nWxCaThAOoubPv0h1hb0O9sn3LoYCFigbtUboc7t7mPB9zRi95+jxqSpMO6kwLDnI\\\nojk1fCtqfD3V2y9sbMWLWIhKkvNWY5OQJdJfGzTW5MiaJb36m4V2BLSVnJLuKHRn\\\nON2LoRhYfZ5YGwr+giUtA2qOPLaXc/TpYBgKXQK6LwKCAQBPIuANx5QiCgo26QW0\\\nfbYT2u36RcpLV5n6LWuzDHqR9Wssn9hg/czUJYo7rc6/+yn1VgBn4oI/6rZhPP1l\\\nAq9dWWHrw1mTxZd6t33IMdk0syi9C6k/ZdwzAxx1NWaGZ8AOR26gMnb7za+eLijk\\\nJ4gnbJSUcGyp74mIOLWHZFVyU+SUIiZ0400Z9TKaCumWtMDLLFnK25ZSzwygsLu2\\\nE5EPV+p76DbuqOX78uHmUBQBVa3SQ4TjjFFrjA5cmV6DcFligoYITMm9iEgYPlmi\\\nwWK+l1j1GwBFVHbcbOhwwH5kZ3qhRtHt3/oJUfNQ6Tbf2BcI/wHgorwr83g326Gt\\\nMGaxAoIBAQDjtPSK9EuXM9efkl69hfPEJ0K01ediaMEOwTTEniDmhP2qi2mt+nLx\\\n8t5RB6u/w48V4QYE8s9orbdhrsbv/Uv0nvj4L/55Rpqh7BWhtlZWC9UNUHrNe3Ly\\\n+/cF4OD3JLpDVz3SLa3lGCHCyk3fi8AnoCSfXqpZwZyvd0G6PIlk+zAoB9XWzDNh\\\nM5dKz3TOWWkx48klK4Sdm2ZFJjGLUlU6Q0n+XQret809JxZHPry/GaZ7kxIaQcA6\\\nOmOfMZetOcBMy3qnRlWcR7TuVHb1RLqr/Sxyk0g3bLhIh2H0kdlsV/0nYLeDzneg\\\nBPDQe4S/O1yye7LZp/hckeXxjp2H3tZvAoIBAQCDZymWIl26Fr9EF/InFYv45A/G\\\nq+BX8E+1W7cvpRoV1l9gHRY1meE2aBEjIZ2jO61gz5bflYjlTU7G9ERGU/73HUFG\\\n1sNemQuEt601KejgfR4JZNTsb4Pqe5gmhxdPEtG5kAlsPY8k8nLbs6URU5aH0Cuq\\\nfBVXXGELvGka82XYtIC0c1Kj+4e2j4vL/w3zZ/cyPgmeaR8e6bM31L1AGccWEaEi\\\n/x8ybvCwQqcbP49bDlv5rmPMAUO34bRjMxK3XJZbbjJrhNdb8a89zGsx4+s8k+ZH\\\n/gFdvOAB6A5xw1YuMsryQCYPJOrEZips1apEEZ0yqSUcdve7OanfpXiiEiCs\\n\\\n-----END RSA PRIVATE KEY-----\n\n</code></pre>\n<p>I also added \\n and \\ in the end. However, still no luck.</p>\n<p>Below is the error log:</p>\n<pre><code>Description:\n\nBinding to target org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'spring.cloud.config.server.git' to org.springframework.cloud.config.server.environment.MultipleJGitEnvironmentProperties failed:\n    Reason: Property 'spring.cloud.config.server.git.privateKey' must be set when 'spring.cloud.config.server.git.ignoreLocalSshSettings' is specified\n\n</code></pre>\n<p>Can someone guide me What am I missing?</p>\n"},{"tags":["java","http-post","apache-httpclient-4.x","apache-commons-httpclient"],"answers":[{"tags":[],"owner":{"account_id":51234,"reputation":2162,"user_id":1004187,"accept_rate":81,"display_name":"TravisWhidden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1420407984,"creation_date":1420407984,"answer_id":27770696,"question_id":27770356,"body_markdown":"Honestly, I don&#39;t think you want to try and pass XML through your URI.   There are several things to consider.  One, some servers will block long URIs (Google first result: http://www.checkupdown.com/status/E414.html ).  Next, you would want to &quot;encode&quot; the URI so it escapes all of your chars that are not ready to be passed raw. \r\n\r\nConsider doing a &quot;POST&quot; with the xml the body of the HTTP message.\r\n\r\nHope this helps.","title":"How to execute url which has xml data as query parameter through Apache HttpClient?","body":"<p>Honestly, I don't think you want to try and pass XML through your URI.   There are several things to consider.  One, some servers will block long URIs (Google first result: <a href=\"http://www.checkupdown.com/status/E414.html\" rel=\"nofollow\">http://www.checkupdown.com/status/E414.html</a> ).  Next, you would want to \"encode\" the URI so it escapes all of your chars that are not ready to be passed raw. </p>\n\n<p>Consider doing a \"POST\" with the xml the body of the HTTP message.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":10320634,"reputation":5,"user_id":7613649,"accept_rate":25,"display_name":"Geba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677678440,"creation_date":1677678440,"answer_id":75604569,"question_id":27770356,"body_markdown":"I guess you could make your request without using `Apache HttpClient`, you could just open stream by url\r\n\r\nThis is how you could pass XML in the query parameter and read the response as stream:\r\n\r\n    URI uri = new URIBuilder(&quot;http://localhost:8080/test_tmp&quot;)\r\n        .addParameter(&quot;max_time&quot;, &quot;30&quot;)\r\n        .addParameter(&quot;users&quot;, &quot;1000&quot;)\r\n        .addParameter(&quot;client_data&quot;, xmlData)\r\n        .build();\r\n    \r\n    BufferedReader rd = new BufferedReader(\r\n        new InputStreamReader(uri.toURL().openStream())\r\n    );\r\n\r\n\r\nIf you insist on using `Apache HttpClient`, then code could look like:\r\n\r\n    URI uri = new URIBuilder(&quot;http://localhost:8080/test_tmp&quot;)\r\n        .addParameter(&quot;max_time&quot;, &quot;30&quot;)\r\n        .addParameter(&quot;users&quot;, &quot;1000&quot;)\r\n        .addParameter(&quot;client_data&quot;, xmlData)\r\n        .build();\r\n    \r\n    HttpClient httpClient = HttpClients.createDefault();\r\n    HttpGet request = new HttpGet(uri);\r\n    HttpResponse httpResponse = httpClient.execute(request);\r\n    \r\n    BufferedReader rd = new BufferedReader(\r\n        new InputStreamReader(httpResponse.getEntity().getContent())\r\n    );","title":"How to execute url which has xml data as query parameter through Apache HttpClient?","body":"<p>I guess you could make your request without using <code>Apache HttpClient</code>, you could just open stream by url</p>\n<p>This is how you could pass XML in the query parameter and read the response as stream:</p>\n<pre><code>URI uri = new URIBuilder(&quot;http://localhost:8080/test_tmp&quot;)\n    .addParameter(&quot;max_time&quot;, &quot;30&quot;)\n    .addParameter(&quot;users&quot;, &quot;1000&quot;)\n    .addParameter(&quot;client_data&quot;, xmlData)\n    .build();\n\nBufferedReader rd = new BufferedReader(\n    new InputStreamReader(uri.toURL().openStream())\n);\n</code></pre>\n<p>If you insist on using <code>Apache HttpClient</code>, then code could look like:</p>\n<pre><code>URI uri = new URIBuilder(&quot;http://localhost:8080/test_tmp&quot;)\n    .addParameter(&quot;max_time&quot;, &quot;30&quot;)\n    .addParameter(&quot;users&quot;, &quot;1000&quot;)\n    .addParameter(&quot;client_data&quot;, xmlData)\n    .build();\n\nHttpClient httpClient = HttpClients.createDefault();\nHttpGet request = new HttpGet(uri);\nHttpResponse httpResponse = httpClient.execute(request);\n\nBufferedReader rd = new BufferedReader(\n    new InputStreamReader(httpResponse.getEntity().getContent())\n);\n</code></pre>\n"}],"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27770696,"answer_count":2,"score":0,"last_activity_date":1677678440,"creation_date":1420405531,"question_id":27770356,"body_markdown":"I have a XML like below which is stored as a String in `xmlData` variable and I need to pass this String to my url in `client_data` variable -\r\n\r\n\t&lt;?xml version=&quot;1.0&quot;?&gt;\r\n\t&lt;ClientData\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\t xsi:schemaLocation=&quot;http://www.google.com model.xsd&quot; \r\n\t xmlns=&quot;http://www.google.com&quot;&gt; \r\n\t\t&lt;client id=&quot;100&quot;&gt;\r\n\t\t\t&lt;clock&gt;\r\n\t\t\t\t\t&lt;for&gt;\r\n\t\t\t\t\t\t&lt;etc&gt;val(tery) = 1&lt;/etc&gt;\r\n\t\t\t\t\t\t&lt;while&gt;&lt;![CDATA[val(tery)  &lt; 20]]&gt;&lt;/while&gt;\r\n\t\t\t\t\t&lt;/for&gt;\r\n\t\t\t&lt;/clock&gt;\r\n\t\t&lt;/model&gt;\r\n\t&lt;/ClientData&gt;\r\n\r\nBelow is the URL I am hitting on the browser by URL encoding `client_data` value to get the response back and it works fine.\r\n\r\n\thttp://localhost:8080/test_tmp?max_time=30&amp;users=1000&amp;client_data=&lt;?xml version=&quot;1.0&quot;?&gt;\r\n\t&lt;ClientData\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\t xsi:schemaLocation=&quot;http://www.google.com model.xsd&quot; \r\n\t xmlns=&quot;http://www.google.com&quot;&gt; \r\n\t\t&lt;client id=&quot;100&quot;&gt;\r\n\t\t\t&lt;clock&gt;\r\n\t\t\t\t\t&lt;for&gt;\r\n\t\t\t\t\t\t&lt;etc&gt;val(tery) = 1&lt;/etc&gt;\r\n\t\t\t\t\t\t&lt;while&gt;&lt;![CDATA[val(tery)  &lt; 20]]&gt;&lt;/while&gt;\r\n\t\t\t\t\t&lt;/for&gt;\r\n\t\t\t&lt;/clock&gt;\r\n\t\t&lt;/model&gt;\r\n\t&lt;/ClientData&gt;\r\n\r\nNow I need to do the same thing through `Apache HttpClient`. What is the best way to do this?\r\n\r\nI have got below code but not sure whethere there is any better way to do this? Is there anything I can improve on or some better way of doing it?\r\n\r\n    public static void main(String[] args) {\r\n\t\tString xmlData = getXMLData();\r\n\t\tString url = generateURL(xmlData);\r\n\r\n\t\tHttpClient httpclient = HttpClientBuilder.create().build();\r\n\t\tHttpGet request = new HttpGet(url);\r\n\r\n\t\tHttpResponse httpResponse = httpclient.execute(request);\r\n\r\n\t\tBufferedReader rd = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\r\n\r\n\t\tStringBuffer response = new StringBuffer();\r\n\t\tString line = &quot;&quot;;\r\n\t\twhile ((line = rd.readLine()) != null) {\r\n\t\t\tresponse.append(line);\r\n\t\t}\r\n\r\n\t\t// prints response\r\n\t\tSystem.out.println(response);\t\t\r\n    }\r\n\r\n    private static String generateURL(final String clientData) {\r\n        StringBuilder url = new StringBuilder();\r\n        url.append(&quot;http://localhost:8080/test_tmp?max_time=30&amp;users=1000&amp;client_data=&quot;);\r\n\t\turl.append(URLEncoder.encode(clientData, &quot;UTF-8&quot;));\r\n\r\n        return url.toString();\r\n    }\r\n","title":"How to execute url which has xml data as query parameter through Apache HttpClient?","body":"<p>I have a XML like below which is stored as a String in <code>xmlData</code> variable and I need to pass this String to my url in <code>client_data</code> variable -</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;ClientData\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n xsi:schemaLocation=\"http://www.google.com model.xsd\" \n xmlns=\"http://www.google.com\"&gt; \n    &lt;client id=\"100\"&gt;\n        &lt;clock&gt;\n                &lt;for&gt;\n                    &lt;etc&gt;val(tery) = 1&lt;/etc&gt;\n                    &lt;while&gt;&lt;![CDATA[val(tery)  &lt; 20]]&gt;&lt;/while&gt;\n                &lt;/for&gt;\n        &lt;/clock&gt;\n    &lt;/model&gt;\n&lt;/ClientData&gt;\n</code></pre>\n\n<p>Below is the URL I am hitting on the browser by URL encoding <code>client_data</code> value to get the response back and it works fine.</p>\n\n<pre><code>http://localhost:8080/test_tmp?max_time=30&amp;users=1000&amp;client_data=&lt;?xml version=\"1.0\"?&gt;\n&lt;ClientData\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n xsi:schemaLocation=\"http://www.google.com model.xsd\" \n xmlns=\"http://www.google.com\"&gt; \n    &lt;client id=\"100\"&gt;\n        &lt;clock&gt;\n                &lt;for&gt;\n                    &lt;etc&gt;val(tery) = 1&lt;/etc&gt;\n                    &lt;while&gt;&lt;![CDATA[val(tery)  &lt; 20]]&gt;&lt;/while&gt;\n                &lt;/for&gt;\n        &lt;/clock&gt;\n    &lt;/model&gt;\n&lt;/ClientData&gt;\n</code></pre>\n\n<p>Now I need to do the same thing through <code>Apache HttpClient</code>. What is the best way to do this?</p>\n\n<p>I have got below code but not sure whethere there is any better way to do this? Is there anything I can improve on or some better way of doing it?</p>\n\n<pre><code>public static void main(String[] args) {\n    String xmlData = getXMLData();\n    String url = generateURL(xmlData);\n\n    HttpClient httpclient = HttpClientBuilder.create().build();\n    HttpGet request = new HttpGet(url);\n\n    HttpResponse httpResponse = httpclient.execute(request);\n\n    BufferedReader rd = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\n\n    StringBuffer response = new StringBuffer();\n    String line = \"\";\n    while ((line = rd.readLine()) != null) {\n        response.append(line);\n    }\n\n    // prints response\n    System.out.println(response);       \n}\n\nprivate static String generateURL(final String clientData) {\n    StringBuilder url = new StringBuilder();\n    url.append(\"http://localhost:8080/test_tmp?max_time=30&amp;users=1000&amp;client_data=\");\n    url.append(URLEncoder.encode(clientData, \"UTF-8\"));\n\n    return url.toString();\n}\n</code></pre>\n"},{"tags":["java","kotlin","rx-java"],"owner":{"account_id":170500,"reputation":6031,"user_id":397244,"accept_rate":67,"display_name":"kaneda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677677638,"creation_date":1677677638,"question_id":75604434,"body_markdown":"I&#39;m handling a code like this:\r\n\r\n```kotlin\r\nfun getListOfThings(limit: Int, offset: Int): Single&lt;List&lt;Thing&gt;&gt; {\r\n  return Single.defer {\r\n    singleApi.flatMap {\r\n     api.getThings(limit, offset)\r\n       .singleOrError()\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIn that sample snippet, `singleApi` is a `Single` which makes a **GET** request to an api. That request always succeeds but even though it does, the request keeps repeating indefinitely. Why is that happening? Shouldn&#39;t it call `onSuccess` on the observer and the complete? There&#39;s no retry logic downstream. I&#39;m using RxJava version **2.2.13**.\r\n\r\nDigging into the source code it seems like that `SingleFlatMapCallback` is resubscribing at the end. Why that happens?\r\n\r\n```java\r\n        @Override\r\n        public void onSuccess(T value) {\r\n            SingleSource&lt;? extends R&gt; o;\r\n\r\n            try {\r\n                o = ObjectHelper.requireNonNull(mapper.apply(value), &quot;The single returned by the mapper is null&quot;);\r\n            } catch (Throwable e) {\r\n                Exceptions.throwIfFatal(e);\r\n                downstream.onError(e);\r\n                return;\r\n            }\r\n\r\n            if (!isDisposed()) {\r\n                o.subscribe(new FlatMapSingleObserver&lt;R&gt;(this, downstream));\r\n            }\r\n        }\r\n```","title":"Why SingleFlatMapCallback resubscribes on success?","body":"<p>I'm handling a code like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getListOfThings(limit: Int, offset: Int): Single&lt;List&lt;Thing&gt;&gt; {\n  return Single.defer {\n    singleApi.flatMap {\n     api.getThings(limit, offset)\n       .singleOrError()\n    }\n  }\n}\n</code></pre>\n<p>In that sample snippet, <code>singleApi</code> is a <code>Single</code> which makes a <strong>GET</strong> request to an api. That request always succeeds but even though it does, the request keeps repeating indefinitely. Why is that happening? Shouldn't it call <code>onSuccess</code> on the observer and the complete? There's no retry logic downstream. I'm using RxJava version <strong>2.2.13</strong>.</p>\n<p>Digging into the source code it seems like that <code>SingleFlatMapCallback</code> is resubscribing at the end. Why that happens?</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Override\n        public void onSuccess(T value) {\n            SingleSource&lt;? extends R&gt; o;\n\n            try {\n                o = ObjectHelper.requireNonNull(mapper.apply(value), &quot;The single returned by the mapper is null&quot;);\n            } catch (Throwable e) {\n                Exceptions.throwIfFatal(e);\n                downstream.onError(e);\n                return;\n            }\n\n            if (!isDisposed()) {\n                o.subscribe(new FlatMapSingleObserver&lt;R&gt;(this, downstream));\n            }\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"owner":{"account_id":13510057,"reputation":150,"user_id":9746710,"display_name":"GeekCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677677630,"creation_date":1677677630,"question_id":75604431,"body_markdown":"I did a spring version upgrade from 4.0.9 to 5.3.20\r\nIn the previous version c/getData and c/getData.html would both work but now the later version doesnt work and gives error org.springframework.web.servlet.PageNotFound.noHaldlerFound no mapping for get c/getData.html","title":".html not mapping to request mapping","body":"<p>I did a spring version upgrade from 4.0.9 to 5.3.20\nIn the previous version c/getData and c/getData.html would both work but now the later version doesnt work and gives error org.springframework.web.servlet.PageNotFound.noHaldlerFound no mapping for get c/getData.html</p>\n"},{"tags":["java","collections","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677677431,"creation_date":1677676692,"answer_id":75604258,"question_id":75595258,"body_markdown":"Here is one way  to do it although I can&#39;t say it is better than yours.  I am using records.  Your classes with constructors and getters would also work.\r\n```\r\nrecord FooEntity(Long getId, Long getKeyValue, String getFooField, // other foo\r\n                                                                   // fields,\r\n        // duplicated\r\n        String getBarField) {\r\n}\r\n\r\nrecord BarDTO(Long getId, String getBarField // other bar fields\r\n) {\r\n}\r\n\r\nrecord FooDTO(String getFooField, // other foo fields\r\n        List&lt;BarDTO&gt; getBars) {\r\n}\r\n```\r\nA List of your FooEntity class\r\n```\r\nList&lt;FooEntity&gt; list = List.of(new FooEntity(1L, 100L, &quot;foo1&quot;, &quot;bar1&quot;),\r\n        new FooEntity(2L, 100L, &quot;foo1&quot;, &quot;bar2&quot;),\r\n        new FooEntity(3L, 100L, &quot;foo2&quot;, &quot;bar3&quot;),\r\n        new FooEntity(4L, 100L, &quot;foo2&quot;, &quot;bar4&quot;),\r\n        new FooEntity(5L, 100L, &quot;foo2&quot;, &quot;bar5&quot;),\r\n        new FooEntity(6L, 200L, &quot;foo3&quot;, &quot;bar6&quot;),\r\n        new FooEntity(7L, 200L, &quot;foo3&quot;, &quot;bar7&quot;));\r\n```\r\nIn a two stage process, this builds a map of maps using [computeIfAbsent](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)) which creates the entry if the key doesn&#39;t exist and returns the new or existing value.\r\n\r\n- outer map key - `keyValue`\r\n- inner map key - `fooField`\r\n- inner map value = `FooDTO`\r\n``` \r\nMap&lt;Long, Map&lt;String, FooDTO&gt;&gt; mapTemp = new HashMap&lt;&gt;();\r\nfor (FooEntity fe : list) {\r\n    mapTemp.computeIfAbsent(fe.getKeyValue(), v -&gt; new HashMap&lt;&gt;())\r\n            .computeIfAbsent(fe.getFooField(),\r\n                 v -&gt; new FooDTO(fe.getFooField(), // FooDTO instance\r\n                 new ArrayList&lt;&gt;()))\r\n                      .getBars()  // get the list from FooDTO\r\n                                  // and add a new BarDTO instance\r\n                      .add(new BarDTO(fe.getId(), \r\n                                      fe.getBarField()));\r\n}\r\n```\r\nThis prints the map\r\n```\r\nmapTemp.entrySet().forEach(e -&gt; {\r\n    System.out.println(e.getKey());\r\n    e.getValue().entrySet().forEach(ee -&gt; {\r\n        System.out.println(&quot;    &quot; + ee.getKey());\r\n        ee.getValue().getBars()\r\n                .forEach(v -&gt; System.out.println(&quot;       &quot; + v));\r\n    });\r\n});\r\n```\r\nprints\r\n```\r\n100\r\n    foo1\r\n       BarDTO[getId=1, getBarField=bar1]\r\n       BarDTO[getId=2, getBarField=bar2]\r\n    foo2\r\n       BarDTO[getId=3, getBarField=bar3]\r\n       BarDTO[getId=4, getBarField=bar4]\r\n       BarDTO[getId=5, getBarField=bar5]\r\n200\r\n    foo3\r\n       BarDTO[getId=6, getBarField=bar6]\r\n       BarDTO[getId=7, getBarField=bar7]\r\n```\r\nIt&#39;s possible the above will be sufficient for your use.  However, to convert that to the desired map, the following will work.\r\n```\r\nMap&lt;Long, List&lt;FooDTO&gt;&gt; result = mapTemp.entrySet().stream()\r\n   .collect(Collectors.toMap(\r\n                       e -&gt; e.getKey(),\r\n                       e -&gt; e.getValue().entrySet()\r\n                             .stream()\r\n                             .map(ee -&gt; ee.getValue()).toList()));\r\n```\r\nAnd it can be printed with the following, the output looking exactly like the above.\r\n```\r\nresult.entrySet().forEach(e -&gt; {\r\n    System.out.println(e.getKey());\r\n    e.getValue().forEach(ob -&gt; {\r\n        System.out.println(&quot;    &quot; + ob.getFooField());\r\n        ob.getBars().forEach(b -&gt; System.out.println(&quot;       &quot; + b));\r\n    });\r\n});\r\n\r\n","title":"Java Stream: map and collect non-normalized entities to map of normalized dtos","body":"<p>Here is one way  to do it although I can't say it is better than yours.  I am using records.  Your classes with constructors and getters would also work.</p>\n<pre><code>record FooEntity(Long getId, Long getKeyValue, String getFooField, // other foo\n                                                                   // fields,\n        // duplicated\n        String getBarField) {\n}\n\nrecord BarDTO(Long getId, String getBarField // other bar fields\n) {\n}\n\nrecord FooDTO(String getFooField, // other foo fields\n        List&lt;BarDTO&gt; getBars) {\n}\n</code></pre>\n<p>A List of your FooEntity class</p>\n<pre><code>List&lt;FooEntity&gt; list = List.of(new FooEntity(1L, 100L, &quot;foo1&quot;, &quot;bar1&quot;),\n        new FooEntity(2L, 100L, &quot;foo1&quot;, &quot;bar2&quot;),\n        new FooEntity(3L, 100L, &quot;foo2&quot;, &quot;bar3&quot;),\n        new FooEntity(4L, 100L, &quot;foo2&quot;, &quot;bar4&quot;),\n        new FooEntity(5L, 100L, &quot;foo2&quot;, &quot;bar5&quot;),\n        new FooEntity(6L, 200L, &quot;foo3&quot;, &quot;bar6&quot;),\n        new FooEntity(7L, 200L, &quot;foo3&quot;, &quot;bar7&quot;));\n</code></pre>\n<p>In a two stage process, this builds a map of maps using <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">computeIfAbsent</a> which creates the entry if the key doesn't exist and returns the new or existing value.</p>\n<ul>\n<li>outer map key - <code>keyValue</code></li>\n<li>inner map key - <code>fooField</code></li>\n<li>inner map value = <code>FooDTO</code></li>\n</ul>\n<pre><code>Map&lt;Long, Map&lt;String, FooDTO&gt;&gt; mapTemp = new HashMap&lt;&gt;();\nfor (FooEntity fe : list) {\n    mapTemp.computeIfAbsent(fe.getKeyValue(), v -&gt; new HashMap&lt;&gt;())\n            .computeIfAbsent(fe.getFooField(),\n                 v -&gt; new FooDTO(fe.getFooField(), // FooDTO instance\n                 new ArrayList&lt;&gt;()))\n                      .getBars()  // get the list from FooDTO\n                                  // and add a new BarDTO instance\n                      .add(new BarDTO(fe.getId(), \n                                      fe.getBarField()));\n}\n</code></pre>\n<p>This prints the map</p>\n<pre><code>mapTemp.entrySet().forEach(e -&gt; {\n    System.out.println(e.getKey());\n    e.getValue().entrySet().forEach(ee -&gt; {\n        System.out.println(&quot;    &quot; + ee.getKey());\n        ee.getValue().getBars()\n                .forEach(v -&gt; System.out.println(&quot;       &quot; + v));\n    });\n});\n</code></pre>\n<p>prints</p>\n<pre><code>100\n    foo1\n       BarDTO[getId=1, getBarField=bar1]\n       BarDTO[getId=2, getBarField=bar2]\n    foo2\n       BarDTO[getId=3, getBarField=bar3]\n       BarDTO[getId=4, getBarField=bar4]\n       BarDTO[getId=5, getBarField=bar5]\n200\n    foo3\n       BarDTO[getId=6, getBarField=bar6]\n       BarDTO[getId=7, getBarField=bar7]\n</code></pre>\n<p>It's possible the above will be sufficient for your use.  However, to convert that to the desired map, the following will work.</p>\n<pre><code>Map&lt;Long, List&lt;FooDTO&gt;&gt; result = mapTemp.entrySet().stream()\n   .collect(Collectors.toMap(\n                       e -&gt; e.getKey(),\n                       e -&gt; e.getValue().entrySet()\n                             .stream()\n                             .map(ee -&gt; ee.getValue()).toList()));\n</code></pre>\n<p>And it can be printed with the following, the output looking exactly like the above.</p>\n<pre><code>result.entrySet().forEach(e -&gt; {\n    System.out.println(e.getKey());\n    e.getValue().forEach(ob -&gt; {\n        System.out.println(&quot;    &quot; + ob.getFooField());\n        ob.getBars().forEach(b -&gt; System.out.println(&quot;       &quot; + b));\n    });\n});\n\n</code></pre>\n"}],"owner":{"account_id":12207201,"reputation":13,"user_id":8909955,"display_name":"martinz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75604258,"answer_count":1,"score":1,"last_activity_date":1677677431,"creation_date":1677604399,"question_id":75595258,"body_markdown":"I have a db table that repeats lots of data and is represented by the class FooEntity. Foo should actually have a 1-N relationship with Bar, but they&#39;re all stored in the same table replicating foo data. I can&#39;t change the table as it&#39;s already being used.\r\n\r\n```\r\nclass FooEntity {\r\n    private Long id;\r\n    private Long keyValue;\r\n    private String fooField; //other foo fields, duplicated\r\n    private String barField; //other bar fields\r\n}\r\n```\r\n\r\nI need to query data from this table and map them to a collection of DTOs that follows the 1-N relationship, eg\r\n\r\n```\r\nclass FooDTO {\r\n    private String fooField; //other foo fields\r\n    private List&lt;BarDTO&gt; bars;\r\n}\r\nclass BarDTO {\r\n    private Long id;\r\n    private String barField; //other bar fields\r\n}\r\n```\r\n\r\nI also need to group this collection of FooDTO by their keyValue, putting them in a Map\\&lt;Long, List\\&lt;FooDTO\\&gt;\\&gt;.\r\n\r\nI have found a solution but I&#39;m not sure it&#39;s a good one, **is there a better way? Especially one that doesn&#39;t keep opening and closing streams** and doesn&#39;t need 3 dtos, as I think it can be done with 2. Should I use different collectors, or do these operations in a different order?\r\n\r\nHere&#39;s my implementation\r\n\r\n```\r\nclass FooKeyDTO {\r\n    String fooField; //other foo fields\r\n}\r\nclass FooDTO extends FooKeyDTO {\r\n    private List&lt;BarDTO&gt; bars;\r\n    public FooDTO(FooKeyDTO foo, List&lt;BarDTO&gt; bars) {\r\n        this.fooField = foo.fooField; //other foo fields\r\n        this.bars = bars;\r\n    }\r\n}\r\nclass BarDTO {\r\n    private Long id;\r\n    private String barField; //other bar fields\r\n}\r\n\r\nMap&lt;Long, List&lt;FooDTO&gt;&gt; value = jpaRepository\r\n    .findByMyField(myField) //Set&lt;FooEntity&gt;\r\n    .stream()\r\n    .collect(Collectors.groupingBy(s -&gt; s.getKeyValue())) //Map&lt;Long, List&lt;FooEntity&gt;&gt;\r\n    .entrySet()\r\n    .stream()\r\n    .collect(Collectors.toMap(\r\n        Entry::getKey,\r\n        foo -&gt; foo.getValue() //List&lt;FooEntity&gt;\r\n            .stream()\r\n            .collect(Collectors.groupingBy(\r\n                k -&gt; toFooKeyDTO(k), //FooKeyDTO\r\n                Collectors.mapping(v -&gt; toBarDTO(v), Collectors.toList()))) //List&lt;BarDTO&gt;\r\n            .entrySet() //entries of Map&lt;FooKeyDTO, List&lt;BarDTO&gt;&gt;\r\n            .stream()\r\n            .map(f -&gt; new FooDTO(f.getKey(), f.getValue()))\r\n            .toList()\r\n    ));\r\n```\r\n\r\n*The query and the entity to dto converting methods are pretty simple and I don&#39;t think they&#39;re relevant to the question (I used a jpa repository and a model mapper to convert).*\r\n\r\nAn example:\r\nFrom these entities\r\n\r\n```\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;keyValue&quot;: 100,\r\n    &quot;fooField&quot;: &quot;foo1&quot;,\r\n    &quot;barField&quot;: &quot;bar1&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 2,\r\n    &quot;keyValue&quot;: 100,\r\n    &quot;fooField&quot;: &quot;foo1&quot;,\r\n    &quot;barField&quot;: &quot;bar2&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 3,\r\n    &quot;keyValue&quot;: 100,\r\n    &quot;fooField&quot;: &quot;foo2&quot;,\r\n    &quot;barField&quot;: &quot;bar3&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 4,\r\n    &quot;keyValue&quot;: 100,\r\n    &quot;fooField&quot;: &quot;foo2&quot;,\r\n    &quot;barField&quot;: &quot;bar4&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 5,\r\n    &quot;keyValue&quot;: 100,\r\n    &quot;fooField&quot;: &quot;foo2&quot;,\r\n    &quot;barField&quot;: &quot;bar5&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 6,\r\n    &quot;keyValue&quot;: 200,\r\n    &quot;fooField&quot;: &quot;foo3&quot;,\r\n    &quot;barField&quot;: &quot;bar6&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 7,\r\n    &quot;keyValue&quot;: 200,\r\n    &quot;fooField&quot;: &quot;foo3&quot;,\r\n    &quot;barField&quot;: &quot;bar7&quot;\r\n}\r\n```\r\n\r\nto this map\r\n\r\n```\r\n{\r\n    &quot;100&quot;: [\r\n        {\r\n            &quot;fooField&quot;: &quot;foo1&quot;,\r\n            &quot;bars&quot;: [\r\n                {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;barField&quot;: &quot;bar1&quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: 2,\r\n                    &quot;barField&quot;: &quot;bar2&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;fooField&quot;: &quot;foo2&quot;,\r\n            &quot;bars&quot;: [\r\n                {\r\n                    &quot;id&quot;: 3,\r\n                    &quot;barField&quot;: &quot;bar3&quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: 4,\r\n                    &quot;barField&quot;: &quot;bar4&quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: 5,\r\n                    &quot;barField&quot;: &quot;bar5&quot;\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    &quot;200&quot;: [\r\n        {\r\n            &quot;fooField&quot;: &quot;foo3&quot;,\r\n            &quot;bars&quot;: [\r\n                {\r\n                    &quot;id&quot;: 6,\r\n                    &quot;barField&quot;: &quot;bar6&quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: 7,\r\n                    &quot;barField&quot;: &quot;bar7&quot;\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```","title":"Java Stream: map and collect non-normalized entities to map of normalized dtos","body":"<p>I have a db table that repeats lots of data and is represented by the class FooEntity. Foo should actually have a 1-N relationship with Bar, but they're all stored in the same table replicating foo data. I can't change the table as it's already being used.</p>\n<pre><code>class FooEntity {\n    private Long id;\n    private Long keyValue;\n    private String fooField; //other foo fields, duplicated\n    private String barField; //other bar fields\n}\n</code></pre>\n<p>I need to query data from this table and map them to a collection of DTOs that follows the 1-N relationship, eg</p>\n<pre><code>class FooDTO {\n    private String fooField; //other foo fields\n    private List&lt;BarDTO&gt; bars;\n}\nclass BarDTO {\n    private Long id;\n    private String barField; //other bar fields\n}\n</code></pre>\n<p>I also need to group this collection of FooDTO by their keyValue, putting them in a Map&lt;Long, List&lt;FooDTO&gt;&gt;.</p>\n<p>I have found a solution but I'm not sure it's a good one, <strong>is there a better way? Especially one that doesn't keep opening and closing streams</strong> and doesn't need 3 dtos, as I think it can be done with 2. Should I use different collectors, or do these operations in a different order?</p>\n<p>Here's my implementation</p>\n<pre><code>class FooKeyDTO {\n    String fooField; //other foo fields\n}\nclass FooDTO extends FooKeyDTO {\n    private List&lt;BarDTO&gt; bars;\n    public FooDTO(FooKeyDTO foo, List&lt;BarDTO&gt; bars) {\n        this.fooField = foo.fooField; //other foo fields\n        this.bars = bars;\n    }\n}\nclass BarDTO {\n    private Long id;\n    private String barField; //other bar fields\n}\n\nMap&lt;Long, List&lt;FooDTO&gt;&gt; value = jpaRepository\n    .findByMyField(myField) //Set&lt;FooEntity&gt;\n    .stream()\n    .collect(Collectors.groupingBy(s -&gt; s.getKeyValue())) //Map&lt;Long, List&lt;FooEntity&gt;&gt;\n    .entrySet()\n    .stream()\n    .collect(Collectors.toMap(\n        Entry::getKey,\n        foo -&gt; foo.getValue() //List&lt;FooEntity&gt;\n            .stream()\n            .collect(Collectors.groupingBy(\n                k -&gt; toFooKeyDTO(k), //FooKeyDTO\n                Collectors.mapping(v -&gt; toBarDTO(v), Collectors.toList()))) //List&lt;BarDTO&gt;\n            .entrySet() //entries of Map&lt;FooKeyDTO, List&lt;BarDTO&gt;&gt;\n            .stream()\n            .map(f -&gt; new FooDTO(f.getKey(), f.getValue()))\n            .toList()\n    ));\n</code></pre>\n<p><em>The query and the entity to dto converting methods are pretty simple and I don't think they're relevant to the question (I used a jpa repository and a model mapper to convert).</em></p>\n<p>An example:\nFrom these entities</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;keyValue&quot;: 100,\n    &quot;fooField&quot;: &quot;foo1&quot;,\n    &quot;barField&quot;: &quot;bar1&quot;\n},\n{\n    &quot;id&quot;: 2,\n    &quot;keyValue&quot;: 100,\n    &quot;fooField&quot;: &quot;foo1&quot;,\n    &quot;barField&quot;: &quot;bar2&quot;\n},\n{\n    &quot;id&quot;: 3,\n    &quot;keyValue&quot;: 100,\n    &quot;fooField&quot;: &quot;foo2&quot;,\n    &quot;barField&quot;: &quot;bar3&quot;\n},\n{\n    &quot;id&quot;: 4,\n    &quot;keyValue&quot;: 100,\n    &quot;fooField&quot;: &quot;foo2&quot;,\n    &quot;barField&quot;: &quot;bar4&quot;\n},\n{\n    &quot;id&quot;: 5,\n    &quot;keyValue&quot;: 100,\n    &quot;fooField&quot;: &quot;foo2&quot;,\n    &quot;barField&quot;: &quot;bar5&quot;\n},\n{\n    &quot;id&quot;: 6,\n    &quot;keyValue&quot;: 200,\n    &quot;fooField&quot;: &quot;foo3&quot;,\n    &quot;barField&quot;: &quot;bar6&quot;\n},\n{\n    &quot;id&quot;: 7,\n    &quot;keyValue&quot;: 200,\n    &quot;fooField&quot;: &quot;foo3&quot;,\n    &quot;barField&quot;: &quot;bar7&quot;\n}\n</code></pre>\n<p>to this map</p>\n<pre><code>{\n    &quot;100&quot;: [\n        {\n            &quot;fooField&quot;: &quot;foo1&quot;,\n            &quot;bars&quot;: [\n                {\n                    &quot;id&quot;: 1,\n                    &quot;barField&quot;: &quot;bar1&quot;\n                },\n                {\n                    &quot;id&quot;: 2,\n                    &quot;barField&quot;: &quot;bar2&quot;\n                }\n            ]\n        },\n        {\n            &quot;fooField&quot;: &quot;foo2&quot;,\n            &quot;bars&quot;: [\n                {\n                    &quot;id&quot;: 3,\n                    &quot;barField&quot;: &quot;bar3&quot;\n                },\n                {\n                    &quot;id&quot;: 4,\n                    &quot;barField&quot;: &quot;bar4&quot;\n                },\n                {\n                    &quot;id&quot;: 5,\n                    &quot;barField&quot;: &quot;bar5&quot;\n                }\n            ]\n        }\n    ],\n    &quot;200&quot;: [\n        {\n            &quot;fooField&quot;: &quot;foo3&quot;,\n            &quot;bars&quot;: [\n                {\n                    &quot;id&quot;: 6,\n                    &quot;barField&quot;: &quot;bar6&quot;\n                },\n                {\n                    &quot;id&quot;: 7,\n                    &quot;barField&quot;: &quot;bar7&quot;\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","security","cryptography","rsa","digital-signature"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1677677858,"post_id":75604377,"comment_id":133384773,"body_markdown":"The text `BEGIN/END RSA PRIVATE KEY` in the header/footer points to a private key in PKCS#1 format. However, `PKCS8EncodedKeySpec` requires a private key in PKCS#8 format.","body":"The text <code>BEGIN&#47;END RSA PRIVATE KEY</code> in the header/footer points to a private key in PKCS#1 format. However, <code>PKCS8EncodedKeySpec</code> requires a private key in PKCS#8 format."},{"owner":{"account_id":26175427,"reputation":3,"user_id":21305967,"display_name":"Bhuvan M"},"score":0,"creation_date":1677679589,"post_id":75604377,"comment_id":133385342,"body_markdown":"@Topaco Yes, the private key is in PKCS#1 format. So what&#39;s the appropriate alternative for PKCS8EncodedKeySpex ?. Could you write the alternative code if possible?","body":"@Topaco Yes, the private key is in PKCS#1 format. So what&#39;s the appropriate alternative for PKCS8EncodedKeySpex ?. Could you write the alternative code if possible?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1677680605,"post_id":75604377,"comment_id":133385723,"body_markdown":"You can directly import a PEM encoded PKCS#1 key with BouncyCastle, see [here](https://stackoverflow.com/a/41953072). Alternatively the PKCS#1 key can be converted to a PKCS#8 key e.g. with OpenSSL.","body":"You can directly import a PEM encoded PKCS#1 key with BouncyCastle, see <a href=\"https://stackoverflow.com/a/41953072\">here</a>. Alternatively the PKCS#1 key can be converted to a PKCS#8 key e.g. with OpenSSL."}],"owner":{"account_id":26175427,"reputation":3,"user_id":21305967,"display_name":"Bhuvan M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677699264,"answer_count":0,"score":0,"last_activity_date":1677677369,"creation_date":1677677369,"question_id":75604377,"body_markdown":"I&#39;m importing RSA key from a folder and using it to generate signature.\r\nbut its giving me following error.\r\n\r\n&gt; Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : algid parse error, not a sequence\r\n\r\n\r\n\r\nfollowing is the code for generating signature\r\n```\r\npublic class GenerateSignature {\r\n\tpublic String getSignature(String msg) {\r\n\t\t\r\n\t\tHexString hs = new HexString();\r\n\t\t\r\n\t      \r\n\t\tbyte[] signature = null;\r\n\t\ttry {\r\n\t\t\tPrivateKeyLoader loader = new PrivateKeyLoader();\r\n\t\t\t//put pertinent address\r\n\t        PrivateKey key = loader.load(&quot;rsakey2.pem&quot;);\r\n\t      \r\n\t        System.out.println(key);\r\n\t      \r\n\t        Signature sign = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n\t        sign.initSign(key);\r\n\t        byte[] bytes = msg.getBytes();\r\n\t        sign.update(bytes);\r\n\t        signature = sign.sign();\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tSystem.out.println(e); // this is where i got the error\r\n                       //i think loader.load wasnt able to load the key.\r\n\t\t}\r\n\t\treturn hs.toHexString(signature);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nfollowing is the code for loading private key\r\n\r\n\r\n```\r\npublic class PrivateKeyLoader {\r\n    private String readFile(final String fileName) throws IOException {\r\n        final File file = new File(fileName);\r\n\r\n        return new String(Files.readAllBytes(file.toPath()));\r\n    }\r\n    \r\n    private PrivateKey loadPemRsaPrivateKey(String pemFilename) throws Exception {\r\n\r\n        String pemString = readFile(pemFilename);\r\n\r\n        String privateKeyPEM = pemString\r\n                .replace(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;, &quot;&quot;)\r\n                .replaceAll(System.lineSeparator(), &quot;&quot;)\r\n                .replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\r\n\r\n        byte[] encoded = Base64.getDecoder().decode(privateKeyPEM);\r\n\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\r\n        return keyFactory.generatePrivate(keySpec);\r\n    }\r\n\r\n    public PrivateKey load(String file) throws Exception {\r\n        return loadPemRsaPrivateKey(file);\r\n    }\r\n\r\n}\r\n```\r\n","title":"I&#39;m getting java.security.InvalidKeyException","body":"<p>I'm importing RSA key from a folder and using it to generate signature.\nbut its giving me following error.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : algid parse error, not a sequence</p>\n</blockquote>\n<p>following is the code for generating signature</p>\n<pre><code>public class GenerateSignature {\n    public String getSignature(String msg) {\n        \n        HexString hs = new HexString();\n        \n          \n        byte[] signature = null;\n        try {\n            PrivateKeyLoader loader = new PrivateKeyLoader();\n            //put pertinent address\n            PrivateKey key = loader.load(&quot;rsakey2.pem&quot;);\n          \n            System.out.println(key);\n          \n            Signature sign = Signature.getInstance(&quot;SHA256withRSA&quot;);\n            sign.initSign(key);\n            byte[] bytes = msg.getBytes();\n            sign.update(bytes);\n            signature = sign.sign();\n        }\n        catch (Exception e) {\n            System.out.println(e); // this is where i got the error\n                       //i think loader.load wasnt able to load the key.\n        }\n        return hs.toHexString(signature);\n    }\n\n}\n\n</code></pre>\n<p>following is the code for loading private key</p>\n<pre><code>public class PrivateKeyLoader {\n    private String readFile(final String fileName) throws IOException {\n        final File file = new File(fileName);\n\n        return new String(Files.readAllBytes(file.toPath()));\n    }\n    \n    private PrivateKey loadPemRsaPrivateKey(String pemFilename) throws Exception {\n\n        String pemString = readFile(pemFilename);\n\n        String privateKeyPEM = pemString\n                .replace(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;, &quot;&quot;)\n                .replaceAll(System.lineSeparator(), &quot;&quot;)\n                .replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\n\n        byte[] encoded = Base64.getDecoder().decode(privateKeyPEM);\n\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\n        return keyFactory.generatePrivate(keySpec);\n    }\n\n    public PrivateKey load(String file) throws Exception {\n        return loadPemRsaPrivateKey(file);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","apache-spark","pyspark","apache-spark-sql","hdfs"],"comments":[{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":1,"creation_date":1677661080,"post_id":75600815,"comment_id":133379908,"body_markdown":"Why do you need `repartition(5)`? If the dataset is large, partitions might get too big to fit inside one executor.","body":"Why do you need <code>repartition(5)</code>? If the dataset is large, partitions might get too big to fit inside one executor."},{"owner":{"account_id":23276774,"reputation":23,"user_id":17360793,"display_name":"Obaid Ur Rehman"},"score":0,"creation_date":1677696217,"post_id":75600815,"comment_id":133390760,"body_markdown":"Hi, I have increased the number of partitions to 25, still getting same error.","body":"Hi, I have increased the number of partitions to 25, still getting same error."},{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":0,"creation_date":1677697789,"post_id":75600815,"comment_id":133391170,"body_markdown":"Try with 500. If it still fails, the answer you got is a good lead but it&#39;s hard to tell without more code","body":"Try with 500. If it still fails, the answer you got is a good lead but it&#39;s hard to tell without more code"},{"owner":{"account_id":19675440,"reputation":349,"user_id":14403715,"display_name":"Kevin Barranco"},"score":0,"creation_date":1677724708,"post_id":75600815,"comment_id":133396287,"body_markdown":"Why are you caching the DataFrame? Do you need that `count` action or it was just a test?","body":"Why are you caching the DataFrame? Do you need that <code>count</code> action or it was just a test?"}],"answers":[{"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677677338,"creation_date":1677677338,"answer_id":75604372,"question_id":75600815,"body_markdown":"It seems this problem will occur when your DAG is growing fast and  there&#39;s too many level of transformations happening in your code. The JVM will not be able to hold the operations to perform lazy execution when an action is performed in the end because the dag is too long, try checkpointing:\r\n\r\n    spark.sparkContext.setCheckpointDir(&quot;./checkpoint&quot;)\r\n    engineered_df.checkpoint()\r\n\r\n","title":"[PySpark][java.lang.StackOverflowError on df.write.csv]","body":"<p>It seems this problem will occur when your DAG is growing fast and  there's too many level of transformations happening in your code. The JVM will not be able to hold the operations to perform lazy execution when an action is performed in the end because the dag is too long, try checkpointing:</p>\n<pre><code>spark.sparkContext.setCheckpointDir(&quot;./checkpoint&quot;)\nengineered_df.checkpoint()\n</code></pre>\n"}],"owner":{"account_id":23276774,"reputation":23,"user_id":17360793,"display_name":"Obaid Ur Rehman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75604372,"answer_count":1,"score":1,"last_activity_date":1677677338,"creation_date":1677656819,"question_id":75600815,"body_markdown":"I&#39;m using PySpark version 3.1.1 on a Kubernetes cluster\r\nI&#39;m trying to write a spark dataframe to HDFS in csv format. Dataframe has about 2.4 million rows and 130 columns and has 5 partitions. If I reduce the data the code works fine.\r\nFollowing is the code snippet:\r\n\r\n```\r\nengineered_df.cache()\r\nengineered_df.count()\r\nengineered_df = engineered_df.repartition(5)\r\nengineered_df.write.csv(CommonConstants.HDFS_ENGINEERED_DATA_PATH, mode=&quot;overwrite&quot;)\r\n```\r\n\r\nAnd this is the stacktrace:\r\n\r\n\r\n```\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o3543180.csv.\r\n: org.apache.spark.SparkException: Job aborted.\r\n\tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:231)\r\n\tat org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:188)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:108)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:106)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.doExecute(commands.scala:131)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:131)\r\n\tat org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:772)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:415)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\r\n\tat org.apache.spark.sql.DataFrameWriter.csv(DataFrameWriter.scala:979)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n\tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n\tat py4j.Gateway.invoke(Gateway.java:282)\r\n\tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n\tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n\tat py4j.GatewayConnection.run(GatewayConnection.java:238)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: org.apache.spark.SparkException: Job aborted due to stage failure: Task serialization failed: java.lang.StackOverflowError\r\njava.lang.StackOverflowError\r\n\tat java.io.ObjectOutputStream$ReplaceTable.lookup(ObjectOutputStream.java:2399)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1113)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n\tat scala.collection.immutable.List$SerializationProxy.writeObject(List.scala:477)\r\n\tat sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n```\r\n\r\n\r\n\r\nI have tried increasing the number of partitions.","title":"[PySpark][java.lang.StackOverflowError on df.write.csv]","body":"<p>I'm using PySpark version 3.1.1 on a Kubernetes cluster\nI'm trying to write a spark dataframe to HDFS in csv format. Dataframe has about 2.4 million rows and 130 columns and has 5 partitions. If I reduce the data the code works fine.\nFollowing is the code snippet:</p>\n<pre><code>engineered_df.cache()\nengineered_df.count()\nengineered_df = engineered_df.repartition(5)\nengineered_df.write.csv(CommonConstants.HDFS_ENGINEERED_DATA_PATH, mode=&quot;overwrite&quot;)\n</code></pre>\n<p>And this is the stacktrace:</p>\n<pre><code>py4j.protocol.Py4JJavaError: An error occurred while calling o3543180.csv.\n: org.apache.spark.SparkException: Job aborted.\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:231)\n    at org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:188)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:108)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:106)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.doExecute(commands.scala:131)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\n    at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:131)\n    at org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:772)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\n    at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\n    at org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:415)\n    at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\n    at org.apache.spark.sql.DataFrameWriter.csv(DataFrameWriter.scala:979)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.GatewayConnection.run(GatewayConnection.java:238)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: org.apache.spark.SparkException: Job aborted due to stage failure: Task serialization failed: java.lang.StackOverflowError\njava.lang.StackOverflowError\n    at java.io.ObjectOutputStream$ReplaceTable.lookup(ObjectOutputStream.java:2399)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1113)\n    at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\n    at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\n    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\n    at scala.collection.immutable.List$SerializationProxy.writeObject(List.scala:477)\n    at sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n.\n.\n.\n.\n.\n.\n.\n.\n</code></pre>\n<p>I have tried increasing the number of partitions.</p>\n"},{"tags":["java","maven","apache-flink"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1677659834,"post_id":75601233,"comment_id":133379607,"body_markdown":"*&quot;why does Flink require a higher JDK than its pom specification?&quot;* - isn&#39;t it because it specifically uses stuff that only java 11 had? afaik, even if you tell the pom to use java 1.8, any library or maven plugin that require higher java may not work. you should seek [older flink (pre 1.15) for java 8](https://stackoverflow.com/questions/71951793/what-is-the-java-version-that-the-flink-can-support-in-2022). java 8 and older are generally deprecated nowadays.","body":"<i>&quot;why does Flink require a higher JDK than its pom specification?&quot;</i> - isn&#39;t it because it specifically uses stuff that only java 11 had? afaik, even if you tell the pom to use java 1.8, any library or maven plugin that require higher java may not work. you should seek <a href=\"https://stackoverflow.com/questions/71951793/what-is-the-java-version-that-the-flink-can-support-in-2022\">older flink (pre 1.15) for java 8</a>. java 8 and older are generally deprecated nowadays."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677659849,"post_id":75601233,"comment_id":133379609,"body_markdown":"Difference between runtime and buildtime... the build requires higher JDK","body":"Difference between runtime and buildtime... the build requires higher JDK"},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1677660336,"post_id":75601233,"comment_id":133379732,"body_markdown":"@khmarbaise can you detail it? If the target/source here is 1.8, the source code is based on 1.8 language level. In which cases, a higher JDK is necessary for building?","body":"@khmarbaise can you detail it? If the target/source here is 1.8, the source code is based on 1.8 language level. In which cases, a higher JDK is necessary for building?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677661066,"post_id":75601233,"comment_id":133379905,"body_markdown":"@BagusTesa Java 8 is not deprecated. It&#39;s LTS for another 7 years.","body":"@BagusTesa Java 8 is not deprecated. It&#39;s LTS for another 7 years."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1677665442,"post_id":75601233,"comment_id":133381092,"body_markdown":"@Michael the java, sure. the library that using it? not much, most (at least that i knew of) are in favor moving to the newer java.","body":"@Michael the java, sure. the library that using it? not much, most (at least that i knew of) are in favor moving to the newer java."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1677665658,"post_id":75601233,"comment_id":133381155,"body_markdown":"@BagusTesa That&#39;s not the meaning of the word &#39;deprecated&#39;. Deprecation is a specific thing.","body":"@BagusTesa That&#39;s not the meaning of the word &#39;deprecated&#39;. Deprecation is a specific thing."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677672688,"post_id":75601233,"comment_id":133383063,"body_markdown":"`or maven plugin that require higher java may not work` which Maven plugin? Do you have errors during the build? Please post the log output if something is going wrong...That also the case if you have issues during the build which might be caused by other dependencies which might not being compiled for JDK8...","body":"<code>or maven plugin that require higher java may not work</code> which Maven plugin? Do you have errors during the build? Please post the log output if something is going wrong...That also the case if you have issues during the build which might be caused by other dependencies which might not being compiled for JDK8..."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677677240,"creation_date":1677677240,"answer_id":75604355,"question_id":75601233,"body_markdown":"The documentation was intentionally changed before the actual code requirement to make sure that new devs start with Java 11, as that change will &quot;soon&quot; be required.\r\n\r\nSource: [this comment on the Flink ticket to change the default in pom.xml to Java 11][1], found by navigating the tickets linked to from [the commit that changed the text in the docs][2]:\r\n\r\n&gt;  That Flink does build with Java 8 was hidden from the docs since the deprecation of Java 8 support, so that new developers start developing with Java 11 from the get go.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/FLINK-30501?focusedCommentId=17676061&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17676061\r\n  [2]: https://github.com/apache/flink/commit/e9f0aaae3bb8fde5b31828167d67f367d0cf2a6e","title":"Why does Flink require JDK 11 to compile the source code while its source/target is 1.8?","body":"<p>The documentation was intentionally changed before the actual code requirement to make sure that new devs start with Java 11, as that change will &quot;soon&quot; be required.</p>\n<p>Source: <a href=\"https://issues.apache.org/jira/browse/FLINK-30501?focusedCommentId=17676061&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17676061\" rel=\"nofollow noreferrer\">this comment on the Flink ticket to change the default in pom.xml to Java 11</a>, found by navigating the tickets linked to from <a href=\"https://github.com/apache/flink/commit/e9f0aaae3bb8fde5b31828167d67f367d0cf2a6e\" rel=\"nofollow noreferrer\">the commit that changed the text in the docs</a>:</p>\n<blockquote>\n<p>That Flink does build with Java 8 was hidden from the docs since the deprecation of Java 8 support, so that new developers start developing with Java 11 from the get go.</p>\n</blockquote>\n"}],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75604355,"answer_count":1,"score":0,"last_activity_date":1677677240,"creation_date":1677659599,"question_id":75601233,"body_markdown":"I noticed that [Flink Doc](https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/flinkdev/building/) says:\r\n\r\n&gt; Flink requires at least Java 11 to build.\r\n\r\nOn the other hand, the [pom.xml](https://github.com/apache/flink/blob/master/pom.xml) specifies the source/target is 1.8:\r\n\r\n```xml\r\n&lt;target.java.version&gt;1.8&lt;/target.java.version&gt;\r\n...\r\n\t&lt;source&gt;${target.java.version}&lt;/source&gt;\r\n\t&lt;target&gt;${target.java.version}&lt;/target&gt;\r\n...\r\n```\r\n\r\nMy question is: why does Flink require a higher JDK than its `pom` specification?\r\n\r\n---\r\n\r\n# Update\r\n\r\nI tried to build Flink from source in my computer with Java 8, and it succeeded! The statement &quot;*Flink requires at least Java 11 to build.*&quot; does not really make sense, except for the reason that higher JDK may bring better performance when building (but I didn&#39;t verify this yet).\r\n\r\nThe `java -version` is OpenJDK 64-Bit Server VM Corretto-8.342.07.1 (build 25.342-b07, mixed mode).","title":"Why does Flink require JDK 11 to compile the source code while its source/target is 1.8?","body":"<p>I noticed that <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/flinkdev/building/\" rel=\"nofollow noreferrer\">Flink Doc</a> says:</p>\n<blockquote>\n<p>Flink requires at least Java 11 to build.</p>\n</blockquote>\n<p>On the other hand, the <a href=\"https://github.com/apache/flink/blob/master/pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a> specifies the source/target is 1.8:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;target.java.version&gt;1.8&lt;/target.java.version&gt;\n...\n    &lt;source&gt;${target.java.version}&lt;/source&gt;\n    &lt;target&gt;${target.java.version}&lt;/target&gt;\n...\n</code></pre>\n<p>My question is: why does Flink require a higher JDK than its <code>pom</code> specification?</p>\n<hr />\n<h1>Update</h1>\n<p>I tried to build Flink from source in my computer with Java 8, and it succeeded! The statement &quot;<em>Flink requires at least Java 11 to build.</em>&quot; does not really make sense, except for the reason that higher JDK may bring better performance when building (but I didn't verify this yet).</p>\n<p>The <code>java -version</code> is OpenJDK 64-Bit Server VM Corretto-8.342.07.1 (build 25.342-b07, mixed mode).</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7312901,"reputation":802,"user_id":5571494,"display_name":"ruud"},"score":0,"creation_date":1677676012,"post_id":75603851,"comment_id":133384172,"body_markdown":"if you are able to explain more precisely what the input strings are like and what you would like to match, we can help better. And maybe you see why your own regexp is failing. Do input  strings always start with digits? What if it is like &#39;AB83/2,&quot;?","body":"if you are able to explain more precisely what the input strings are like and what you would like to match, we can help better. And maybe you see why your own regexp is failing. Do input  strings always start with digits? What if it is like &#39;AB83/2,&quot;?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677676052,"post_id":75603851,"comment_id":133384184,"body_markdown":"`^[0-9]+([^0-9][^,]*),` Refer to https://regex101.com/r/tVfn8h/1","body":"<code>^[0-9]+([^0-9][^,]*),</code> Refer to <a href=\"https://regex101.com/r/tVfn8h/1\" rel=\"nofollow noreferrer\">regex101.com/r/tVfn8h/1</a>"}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677677061,"creation_date":1677677061,"answer_id":75604319,"question_id":75603851,"body_markdown":"Your RegEx is correct but you need little change in regEx.\r\n\r\nIn your RegEx, replace + with *.\r\n\r\nBelow Java Standalone code:\r\n\r\n    public class ExpMatch {\r\n    \tpublic static void main(String[] args) {\r\n            String[] examples = {&quot;55B/2,&quot;, &quot;171-1,&quot;, &quot;6\\&quot;C\\&quot;,&quot;, &quot;26D,&quot;, &quot;8/1,&quot;, &quot;83,&quot;};\r\n            Pattern pattern = Pattern.compile(&quot;([A-Za-z/\\&quot;-])([0-9-/\\&quot;A-Za-z]*?)(?=,)&quot;);\r\n    \r\n            for (String example : examples) {\r\n                Matcher matcher = pattern.matcher(example);\r\n                StringBuilder sb = new StringBuilder();\r\n    \r\n                while (matcher.find()) {\r\n                    sb.append(matcher.group());\r\n                }\r\n                String result = sb.toString().isEmpty() ? &quot;null/empty&quot; : sb.toString();\r\n                System.out.println(example + &quot; --&gt; &quot; + result);\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    55B/2, --&gt; B/2\r\n    171-1, --&gt; -1\r\n    6&quot;C&quot;, --&gt; &quot;C&quot;\r\n    26D, --&gt; D\r\n    8/1, --&gt; /1\r\n    83, --&gt; null/empty","title":"Regular expression find between numbers and comma","body":"<p>Your RegEx is correct but you need little change in regEx.</p>\n<p>In your RegEx, replace + with *.</p>\n<p>Below Java Standalone code:</p>\n<pre><code>public class ExpMatch {\n    public static void main(String[] args) {\n        String[] examples = {&quot;55B/2,&quot;, &quot;171-1,&quot;, &quot;6\\&quot;C\\&quot;,&quot;, &quot;26D,&quot;, &quot;8/1,&quot;, &quot;83,&quot;};\n        Pattern pattern = Pattern.compile(&quot;([A-Za-z/\\&quot;-])([0-9-/\\&quot;A-Za-z]*?)(?=,)&quot;);\n\n        for (String example : examples) {\n            Matcher matcher = pattern.matcher(example);\n            StringBuilder sb = new StringBuilder();\n\n            while (matcher.find()) {\n                sb.append(matcher.group());\n            }\n            String result = sb.toString().isEmpty() ? &quot;null/empty&quot; : sb.toString();\n            System.out.println(example + &quot; --&gt; &quot; + result);\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>55B/2, --&gt; B/2\n171-1, --&gt; -1\n6&quot;C&quot;, --&gt; &quot;C&quot;\n26D, --&gt; D\n8/1, --&gt; /1\n83, --&gt; null/empty\n</code></pre>\n"}],"owner":{"account_id":20215268,"reputation":21,"user_id":15881209,"display_name":"Ivan Klemenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":75604319,"answer_count":1,"score":-2,"last_activity_date":1677677061,"creation_date":1677674310,"question_id":75603851,"body_markdown":"I have an example set of strings\r\nthere is a need to separate them and get\r\n\r\n```\r\n 55B/2, --&gt; B/2\r\n 171-1, --&gt; -1\r\n 6&quot;C&quot;,  --&gt; &quot;C&quot; \r\n 26D,   --&gt; D\r\n 8/1,   --&gt; /1\r\n 83,    --&gt; null/empty\r\n```\r\n\r\nI tried with this pattern, but the result is not quite the same\r\n(\\[A-Za-z/&quot;-\\])(\\[0-9-/&quot;A-Za-z\\]+?)(?=,)","title":"Regular expression find between numbers and comma","body":"<p>I have an example set of strings\nthere is a need to separate them and get</p>\n<pre><code> 55B/2, --&gt; B/2\n 171-1, --&gt; -1\n 6&quot;C&quot;,  --&gt; &quot;C&quot; \n 26D,   --&gt; D\n 8/1,   --&gt; /1\n 83,    --&gt; null/empty\n</code></pre>\n<p>I tried with this pattern, but the result is not quite the same\n([A-Za-z/&quot;-])([0-9-/&quot;A-Za-z]+?)(?=,)</p>\n"},{"tags":["java","spring-boot","autowired","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":12304805,"reputation":61,"user_id":8978196,"display_name":"Devendra Bahirat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677676725,"creation_date":1529934206,"answer_id":51024966,"question_id":50972115,"body_markdown":"I think you are missing the `@ComponentScan(value = &quot;your.package&quot;)` in your `Main` application class","title":"Cannot Autowire Qualifier tagged RestTemplate from unit test","body":"<p>I think you are missing the <code>@ComponentScan(value = &quot;your.package&quot;)</code> in your <code>Main</code> application class</p>\n"},{"tags":[],"owner":{"account_id":13334063,"reputation":4845,"user_id":9624452,"display_name":"Konrad Botor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529934682,"creation_date":1529934682,"answer_id":51025129,"question_id":50972115,"body_markdown":"You do not have context specified.\r\n\r\nTry adding this annotation to uour test class:\r\n\r\n    @ContextConfiguration(classes=RestTemplateConfiguration.class, loader=AnnotationConfigContextLoader.class)\r\n\r\nSee this article for details: [spring-3-1-m2-testing-with-configuration-classes-and-profiles][1] - it&#39;s for Spring 3, but newer versions of Spring work similarly.\r\n\r\nHere&#39;s a newer tutorial: [junit-spring-integration-example][2]\r\n\r\n\r\n  [1]: https://spring.io/blog/2011/06/21/spring-3-1-m2-testing-with-configuration-classes-and-profiles\r\n  [2]: https://www.mkyong.com/unittest/junit-spring-integration-example/","title":"Cannot Autowire Qualifier tagged RestTemplate from unit test","body":"<p>You do not have context specified.</p>\n\n<p>Try adding this annotation to uour test class:</p>\n\n<pre><code>@ContextConfiguration(classes=RestTemplateConfiguration.class, loader=AnnotationConfigContextLoader.class)\n</code></pre>\n\n<p>See this article for details: <a href=\"https://spring.io/blog/2011/06/21/spring-3-1-m2-testing-with-configuration-classes-and-profiles\" rel=\"nofollow noreferrer\">spring-3-1-m2-testing-with-configuration-classes-and-profiles</a> - it's for Spring 3, but newer versions of Spring work similarly.</p>\n\n<p>Here's a newer tutorial: <a href=\"https://www.mkyong.com/unittest/junit-spring-integration-example/\" rel=\"nofollow noreferrer\">junit-spring-integration-example</a></p>\n"}],"owner":{"account_id":13039691,"reputation":69,"user_id":9423470,"display_name":"Yusuf Duyar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51024966,"answer_count":2,"score":0,"last_activity_date":1677676725,"creation_date":1529594421,"question_id":50972115,"body_markdown":"I&#39;m using an remote api in my web application. Some endpoints require an authentication header in the API I&#39;m using. Because of this need I have created two different RestTemplateBuilder bean in my configuration class.\r\n\r\n    @Configuration\r\n    public class RestTemplateConfiguration {\r\n    \r\n        @Bean\r\n        @DependsOn(value = {&quot;secureRestTemplateCustomizer&quot;})\r\n        @Qualifier(&quot;secureRestTemplateBuilder&quot;)\r\n        public RestTemplateBuilder secureRestTemplateBuilder() {\r\n            return new RestTemplateBuilder(secureRestTemplateCustomizer());\r\n        }\r\n    \r\n        @Bean\r\n        @DependsOn(value = {&quot;publicRestTemplateCustomizer&quot;})\r\n        @Qualifier(&quot;publicRestTemplateBuilder&quot;)\r\n        public RestTemplateBuilder publicRestTemplateBuilder() {\r\n            return new RestTemplateBuilder(publicRestTemplateCustomizer());\r\n        }\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;secureRestTemplateCustomizer&quot;)\r\n        public SecureRestTemplateCustomizer secureRestTemplateCustomizer() {\r\n            return new SecureRestTemplateCustomizer();\r\n        }\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;publicRestTemplateCustomizer&quot;)\r\n        public PublicRestTemplateCustomizer publicRestTemplateCustomizer() {\r\n            return new PublicRestTemplateCustomizer();\r\n        }\r\n    }\r\n\r\nAnd these are my custom `RestTemplateCustomizers`\r\n\r\n\r\n    @Component\r\n    public class SecureRestTemplateCustomizer implements RestTemplateCustomizer {\r\n        @Override\r\n        public void customize(RestTemplate restTemplate) {\r\n            restTemplate.setErrorHandler(new ErrorHandler());\r\n            restTemplate.getInterceptors().add(new AuthorizationHeaderInterceptor());\r\n        }\r\n    }\r\n\r\n`PublicRestTemplateCustomizer`\r\n\r\n    @Component\r\n    public class PublicRestTemplateCustomizer implements RestTemplateCustomizer {\r\n      @Override\r\n      public void customize(RestTemplate restTemplate) {\r\n        restTemplate.setErrorHandler(new ErrorHandler());\r\n      }\r\n    }\r\n\r\nThere is no problem when I want to use these `RestTemplateBuilder`s in my api clients like below. Spring can autowire them into my api client constructor.\r\n\r\n      private RestTemplate restTemplate;\r\n      @Autowired\r\n      public LoginApiClient(@Qualifier(&quot;publicRestTemplateBuilder&quot;) RestTemplateBuilder restTemplateBuilder) {\r\n        this.restTemplate = restTemplateBuilder.build();\r\n      }\r\n\r\nBut in my unit tests this usage is firing an error like \r\n\r\n*Error creating bean with name &#39;loginApiClient&#39; defined in file [..\\LoginApiClient.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.boot.web.client.RestTemplateBuilder&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Qualifier(value=publicRestTemplateBuilder)}*\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @RestClientTest({LoginApiClient.class})\r\n    @Category(IUnitTest.class)\r\n    public class LoginApiClientTest {\r\n    \r\n      @Autowired ILoginApiClient loginApiClient;\r\n    \r\n      @Autowired private MockRestServiceServer server;\r\n\r\n      @Test\r\n      public void validateToken_returns_true_for_valid_token() throws Exception{\r\n        String token = &quot;token&quot;;\r\n    \r\n        this.server.expect(requestTo(this.validateTokenUrl))\r\n                   .andExpect(method(HttpMethod.POST))\r\n                   .andRespond(withSuccess(objectMapper.writeValueAsString(validTokenResponse(token)), MediaType\r\n                           .APPLICATION_JSON));\r\n    \r\n        Boolean isValid = loginApiClient.validateToken(token);\r\n    \r\n        server.verify();\r\n        assertThat(isValid,is(equalTo(true)));\r\n      }\r\n    \r\n    }\r\n\r\nHow can I mock these RestTemplates truly and use in my unit test.","title":"Cannot Autowire Qualifier tagged RestTemplate from unit test","body":"<p>I'm using an remote api in my web application. Some endpoints require an authentication header in the API I'm using. Because of this need I have created two different RestTemplateBuilder bean in my configuration class.</p>\n\n<pre><code>@Configuration\npublic class RestTemplateConfiguration {\n\n    @Bean\n    @DependsOn(value = {\"secureRestTemplateCustomizer\"})\n    @Qualifier(\"secureRestTemplateBuilder\")\n    public RestTemplateBuilder secureRestTemplateBuilder() {\n        return new RestTemplateBuilder(secureRestTemplateCustomizer());\n    }\n\n    @Bean\n    @DependsOn(value = {\"publicRestTemplateCustomizer\"})\n    @Qualifier(\"publicRestTemplateBuilder\")\n    public RestTemplateBuilder publicRestTemplateBuilder() {\n        return new RestTemplateBuilder(publicRestTemplateCustomizer());\n    }\n\n    @Bean\n    @Qualifier(\"secureRestTemplateCustomizer\")\n    public SecureRestTemplateCustomizer secureRestTemplateCustomizer() {\n        return new SecureRestTemplateCustomizer();\n    }\n\n    @Bean\n    @Qualifier(\"publicRestTemplateCustomizer\")\n    public PublicRestTemplateCustomizer publicRestTemplateCustomizer() {\n        return new PublicRestTemplateCustomizer();\n    }\n}\n</code></pre>\n\n<p>And these are my custom <code>RestTemplateCustomizers</code></p>\n\n<pre><code>@Component\npublic class SecureRestTemplateCustomizer implements RestTemplateCustomizer {\n    @Override\n    public void customize(RestTemplate restTemplate) {\n        restTemplate.setErrorHandler(new ErrorHandler());\n        restTemplate.getInterceptors().add(new AuthorizationHeaderInterceptor());\n    }\n}\n</code></pre>\n\n<p><code>PublicRestTemplateCustomizer</code></p>\n\n<pre><code>@Component\npublic class PublicRestTemplateCustomizer implements RestTemplateCustomizer {\n  @Override\n  public void customize(RestTemplate restTemplate) {\n    restTemplate.setErrorHandler(new ErrorHandler());\n  }\n}\n</code></pre>\n\n<p>There is no problem when I want to use these <code>RestTemplateBuilder</code>s in my api clients like below. Spring can autowire them into my api client constructor.</p>\n\n<pre><code>  private RestTemplate restTemplate;\n  @Autowired\n  public LoginApiClient(@Qualifier(\"publicRestTemplateBuilder\") RestTemplateBuilder restTemplateBuilder) {\n    this.restTemplate = restTemplateBuilder.build();\n  }\n</code></pre>\n\n<p>But in my unit tests this usage is firing an error like </p>\n\n<p><em>Error creating bean with name 'loginApiClient' defined in file [..\\LoginApiClient.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.web.client.RestTemplateBuilder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Qualifier(value=publicRestTemplateBuilder)}</em></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@RestClientTest({LoginApiClient.class})\n@Category(IUnitTest.class)\npublic class LoginApiClientTest {\n\n  @Autowired ILoginApiClient loginApiClient;\n\n  @Autowired private MockRestServiceServer server;\n\n  @Test\n  public void validateToken_returns_true_for_valid_token() throws Exception{\n    String token = \"token\";\n\n    this.server.expect(requestTo(this.validateTokenUrl))\n               .andExpect(method(HttpMethod.POST))\n               .andRespond(withSuccess(objectMapper.writeValueAsString(validTokenResponse(token)), MediaType\n                       .APPLICATION_JSON));\n\n    Boolean isValid = loginApiClient.validateToken(token);\n\n    server.verify();\n    assertThat(isValid,is(equalTo(true)));\n  }\n\n}\n</code></pre>\n\n<p>How can I mock these RestTemplates truly and use in my unit test.</p>\n"},{"tags":["java","active-directory","ldap","spring-ldap"],"comments":[{"owner":{"account_id":1239958,"reputation":39014,"user_id":1202807,"display_name":"Gabriel Luci"},"score":1,"creation_date":1677677499,"post_id":75604251,"comment_id":133384671,"body_markdown":"It is the `accountExpires` attribute, and the documentation explaining what the value means is here: https://learn.microsoft.com/en-us/windows/win32/adschema/a-accountexpires The answers on this question have some code that can help you decode it in Java: https://stackoverflow.com/q/40014923/1202807","body":"It is the <code>accountExpires</code> attribute, and the documentation explaining what the value means is here: <a href=\"https://learn.microsoft.com/en-us/windows/win32/adschema/a-accountexpires\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/adschema/&hellip;</a> The answers on this question have some code that can help you decode it in Java: <a href=\"https://stackoverflow.com/q/40014923/1202807\">stackoverflow.com/q/40014923/1202807</a>"}],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677676646,"creation_date":1677676646,"question_id":75604251,"body_markdown":"Which fields (and what types are they) are used to indication expiration of a user in LDAP?\r\n\r\nI&#39;ve read &#39;accountexpires&#39; is a long from 1601 and &#39;accountExpirationDate&#39; that is java.util.date in certain format. Is this correct? \r\n\r\nAre there any helper methods for example in spring-ldap to get these values correct?","title":"Account expiration in LDAP","body":"<p>Which fields (and what types are they) are used to indication expiration of a user in LDAP?</p>\n<p>I've read 'accountexpires' is a long from 1601 and 'accountExpirationDate' that is java.util.date in certain format. Is this correct?</p>\n<p>Are there any helper methods for example in spring-ldap to get these values correct?</p>\n"},{"tags":["java","spring-data-mongodb"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1671170528,"post_id":74820663,"comment_id":132045678,"body_markdown":"Which version of SpringBoot are you are using.  Springboot 3.x requires Java 17 or later.  See https://www.marcobehler.com/guides/spring-and-spring-boot-versions","body":"Which version of SpringBoot are you are using.  Springboot 3.x requires Java 17 or later.  See <a href=\"https://www.marcobehler.com/guides/spring-and-spring-boot-versions\" rel=\"nofollow noreferrer\">marcobehler.com/guides/spring-and-spring-boot-versions</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1671170849,"post_id":74820663,"comment_id":132045723,"body_markdown":"Also, according to https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/, Spring-data-mongodb 4.x requires Java 17.  So ... basically ... use OpenJDK 17 not OpenJDK 8.","body":"Also, according to <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/mongodb/docs/current/reference/ht&zwnj;&#8203;ml</a>, Spring-data-mongodb 4.x requires Java 17.  So ... basically ... use OpenJDK 17 not OpenJDK 8."},{"owner":{"account_id":16970991,"reputation":39,"user_id":12275621,"display_name":"avaneesh kumar Shukla"},"score":0,"creation_date":1671171139,"post_id":74820663,"comment_id":132045779,"body_markdown":"Thanks a lot for your help @Stephen C. I understood. However, I am using now &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.6.7&lt;/version&gt;. I would like to upgrade to it &#39;3.0.0&#39;.","body":"Thanks a lot for your help @Stephen C. I understood. However, I am using now &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;             &lt;version&gt;2.6.7&lt;/version&gt;. I would like to upgrade to it &#39;3.0.0&#39;."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1671173102,"post_id":74820663,"comment_id":132046072,"body_markdown":"Did you read my second comment?  If you want to upgrade to SpringBoot 3.x or Spring-Data-MongoDB 4.x, you have to build using OpenJDK 17.   If you can&#39;t upgrade your build platform, you can&#39;t upgrade to those Spring versions.","body":"Did you read my second comment?  If you want to upgrade to SpringBoot 3.x or Spring-Data-MongoDB 4.x, you have to build using OpenJDK 17.   If you can&#39;t upgrade your build platform, you can&#39;t upgrade to those Spring versions."}],"answers":[{"tags":[],"owner":{"account_id":27909280,"reputation":1,"user_id":21311829,"display_name":"bhakti khot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677676384,"creation_date":1677676384,"answer_id":75604205,"question_id":74820663,"body_markdown":"I was facing this same issue while implementing Oauth2 for security dependencies, down grading the version of the dependencies which were giving me errors helped me build my project successfully.","title":"Error &#39;class file has wrong version 61.0, should be 52.0&#39; while upgrading spring-data-mongodb from 3.3.4 to 4.0.0","body":"<p>I was facing this same issue while implementing Oauth2 for security dependencies, down grading the version of the dependencies which were giving me errors helped me build my project successfully.</p>\n"}],"owner":{"account_id":16970991,"reputation":39,"user_id":12275621,"display_name":"avaneesh kumar Shukla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677676384,"creation_date":1671169836,"question_id":74820663,"body_markdown":"Error: \r\ncannot access org.springframework.data.mongodb.core.mapping.Document\r\n[ERROR]   bad class file: .m2\\repository\\org\\springframework\\data\\spring-data-mongodb\\4.0.0\\spring-data-mongodb-4.0.0.jar(org/springframework/data/mongodb/core/mapping/Document.class)\r\n[ERROR]     class file has wrong version 61.0, should be 52.0\r\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n[ERROR]\r\n\r\nNote: I am using OpenJDK 8 version to compile Spring boot project.","title":"Error &#39;class file has wrong version 61.0, should be 52.0&#39; while upgrading spring-data-mongodb from 3.3.4 to 4.0.0","body":"<p>Error:\ncannot access org.springframework.data.mongodb.core.mapping.Document\n[ERROR]   bad class file: .m2\\repository\\org\\springframework\\data\\spring-data-mongodb\\4.0.0\\spring-data-mongodb-4.0.0.jar(org/springframework/data/mongodb/core/mapping/Document.class)\n[ERROR]     class file has wrong version 61.0, should be 52.0\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath.\n[ERROR]</p>\n<p>Note: I am using OpenJDK 8 version to compile Spring boot project.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677675221,"post_id":75603910,"comment_id":133383915,"body_markdown":"Which Spring Boot version? Which OS?","body":"Which Spring Boot version? Which OS?"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1677675506,"post_id":75603910,"comment_id":133383992,"body_markdown":"Also please mention how you are invoking request","body":"Also please mention how you are invoking request"},{"owner":{"account_id":20307918,"reputation":56,"user_id":14895702,"display_name":"jan"},"score":0,"creation_date":1677676410,"post_id":75603910,"comment_id":133384316,"body_markdown":"if I write `greet` method inside main class it works fine.","body":"if I write <code>greet</code> method inside main class it works fine."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677683269,"post_id":75603910,"comment_id":133386665,"body_markdown":"FWIW I ran your code (main, controller &amp; pom) with jdk-17.0.2_8 and it worked as is.","body":"FWIW I ran your code (main, controller &amp; pom) with jdk-17.0.2_8 and it worked as is."},{"owner":{"account_id":20307918,"reputation":56,"user_id":14895702,"display_name":"jan"},"score":0,"creation_date":1677719082,"post_id":75603910,"comment_id":133395584,"body_markdown":"I downgraded version of spring to 2.4.3 It worked. Why this weird behavior happened","body":"I downgraded version of spring to 2.4.3 It worked. Why this weird behavior happened"}],"owner":{"account_id":20307918,"reputation":56,"user_id":14895702,"display_name":"jan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677676046,"creation_date":1677674631,"question_id":75603910,"body_markdown":"// this is my Controller.java\r\n```java\r\npackage com.example.demo;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class GreetController {\r\n        @GetMapping(&quot;/greet&quot;)\r\n        public String greet() {\r\n            return &quot;Hello World!&quot;;\r\n        }\r\n}\r\n\r\n```\r\n//this is application.java\r\n```java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n@SpringBootApplication(scanBasePackages = {&quot;com.example.demo&quot;})\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nthey are in the same package and when i started server and go to `http://localhost:8080/api/greet` I get a 404 page.\r\n\r\n\r\n\r\nWhy and how to fix it?\r\n\r\n\r\nThere is my pom.xml \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nI work on windows and use intellij http request `GET http://localhost:8080/api/greet`. return 404 code .I checked this [Similar question][1] but not work for me \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47262140/rest-controller-not-working-in-spring-boot","title":"Springboot RestController class not working","body":"<p>// this is my Controller.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class GreetController {\n        @GetMapping(&quot;/greet&quot;)\n        public String greet() {\n            return &quot;Hello World!&quot;;\n        }\n}\n\n</code></pre>\n<p>//this is application.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n@SpringBootApplication(scanBasePackages = {&quot;com.example.demo&quot;})\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>they are in the same package and when i started server and go to <code>http://localhost:8080/api/greet</code> I get a 404 page.</p>\n<p>Why and how to fix it?</p>\n<p>There is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I work on windows and use intellij http request <code>GET http://localhost:8080/api/greet</code>. return 404 code .I checked this <a href=\"https://stackoverflow.com/questions/47262140/rest-controller-not-working-in-spring-boot\">Similar question</a> but not work for me</p>\n"},{"tags":["java","atg","atg-dynamo","atg-droplet"],"comments":[{"owner":{"account_id":1144634,"reputation":3197,"user_id":1127677,"accept_rate":79,"display_name":"radimpe"},"score":0,"creation_date":1389687336,"post_id":21107985,"comment_id":31757623,"body_markdown":"What are you trying to achieve? [ATG Dust](http://atgdust.sourceforge.net/) is a framework for building JUnit tests. Are you calling this for testing purposes or are you wanting to call the Droplet from another piece of code for a different reason?","body":"What are you trying to achieve? <a href=\"http://atgdust.sourceforge.net/\" rel=\"nofollow noreferrer\">ATG Dust</a> is a framework for building JUnit tests. Are you calling this for testing purposes or are you wanting to call the Droplet from another piece of code for a different reason?"},{"owner":{"account_id":130796,"reputation":4377,"user_id":330325,"accept_rate":55,"display_name":"Buddha"},"score":0,"creation_date":1389688751,"post_id":21107985,"comment_id":31758208,"body_markdown":"It is for the purpose of testing. We are building a droplet of similar functionality, I&#39;m trying to figure out various ways of testing this new component without creating jsp pages.","body":"It is for the purpose of testing. We are building a droplet of similar functionality, I&#39;m trying to figure out various ways of testing this new component without creating jsp pages."},{"owner":{"account_id":1144634,"reputation":3197,"user_id":1127677,"accept_rate":79,"display_name":"radimpe"},"score":1,"creation_date":1389691181,"post_id":21107985,"comment_id":31759508,"body_markdown":"You can try using [Mockito](https://code.google.com/p/mockito/) instead of ATG Dust. There is an example of using this for a Droplet available [here](http://stackoverflow.com/questions/17523741/using-mockito-for-writing-atg-test-case)","body":"You can try using <a href=\"https://code.google.com/p/mockito/\" rel=\"nofollow noreferrer\">Mockito</a> instead of ATG Dust. There is an example of using this for a Droplet available <a href=\"http://stackoverflow.com/questions/17523741/using-mockito-for-writing-atg-test-case\">here</a>"},{"owner":{"account_id":2217539,"reputation":326,"user_id":1957797,"accept_rate":50,"display_name":"boyintello"},"score":0,"creation_date":1389876738,"post_id":21107985,"comment_id":31854953,"body_markdown":"I agree with radimpe, Mockito is better than Dust, it is faster, more thoroughly TDD-oriented follow-up to EasyMock. You don&#39;t need to be running ATG modules to perform your tests.","body":"I agree with radimpe, Mockito is better than Dust, it is faster, more thoroughly TDD-oriented follow-up to EasyMock. You don&#39;t need to be running ATG modules to perform your tests."}],"answers":[{"tags":[],"owner":{"account_id":3000396,"reputation":11,"user_id":2546001,"display_name":"Rahul R Nair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677675333,"creation_date":1453375200,"answer_id":34922401,"question_id":21107985,"body_markdown":"`atg.service.collections.filter.droplet.CollectionFilter`\r\nis the class for the component `/atg/commerce/collections/filter/droplet/GiftlistSiteFilterDroplet`\r\n\r\nJust invoke the `getFilter()` method in  the class \r\n\r\nRefer:-\r\nhttps://docs.oracle.com/cd/E23095_01/Platform.93/apidoc/atg/service/collections/filter/droplet/CollectionFilter.html\r\n\r\nhttps://docs.oracle.com/cd/E26180_01/Platform.94/ATGCommStoreGuide/html/s1712collectionfilter01.html \r\n\r\nThanks","title":"How to invoke GiftlistSiteFilterDroplet in Oracle ATG commerce?","body":"<p><code>atg.service.collections.filter.droplet.CollectionFilter</code>\nis the class for the component <code>/atg/commerce/collections/filter/droplet/GiftlistSiteFilterDroplet</code></p>\n<p>Just invoke the <code>getFilter()</code> method in  the class</p>\n<p>Refer:-\n<a href=\"https://docs.oracle.com/cd/E23095_01/Platform.93/apidoc/atg/service/collections/filter/droplet/CollectionFilter.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E23095_01/Platform.93/apidoc/atg/service/collections/filter/droplet/CollectionFilter.html</a></p>\n<p><a href=\"https://docs.oracle.com/cd/E26180_01/Platform.94/ATGCommStoreGuide/html/s1712collectionfilter01.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E26180_01/Platform.94/ATGCommStoreGuide/html/s1712collectionfilter01.html</a></p>\n<p>Thanks</p>\n"}],"owner":{"account_id":130796,"reputation":4377,"user_id":330325,"accept_rate":55,"display_name":"Buddha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677675333,"creation_date":1389684326,"question_id":21107985,"body_markdown":"I know how to invoke an ATG droplet from a jsp page. Below code snippet calls the GiftListSiteFilterDroplet. \r\n\r\n     &lt;dsp:droplet name=&quot;GiftlistSiteFilterDroplet&quot;&gt;\r\n        &lt;dsp:param name=&quot;collection&quot;  bean=&quot;/atg/userprofiling/Profile.giftlists&quot;/&gt;\r\n         &lt;dsp:oparam name=&quot;output&quot;&gt;\r\n          &lt;dsp:getvalueof var=&quot;giftlists&quot; param=&quot;filteredCollection&quot; /&gt;\r\n\r\nAbove code will invoke the GiftlistSiteFilterDroplet. However, I&#39;m trying to findout how to invoke the same droplet from a java class. There is a DropletInvoker class from ATG DUST. Example code is as below for calling Switch component. \r\n\r\n    Nucleus mNucleus = NucleusTestUtils.startNucleusWithModules(\r\n    new String[] {&quot;DAS&quot;,&quot;DafEar&quot;}, this.getClass(),&quot;/atg/dynamo/droplet/Switch&quot;);\r\n    DropletInvoker invoker = new DropletInvoker(mNucleus);\r\n    DynamoHttpServletRequest request = invoker.getRequest();\r\n    DropletResult result = null;\r\n    request.setParameter(&quot;value&quot;, &quot;foo&quot;);\r\n    result = invoker.invokeDroplet(&quot;/atg/dynamo/droplet/Switch&quot;);\r\n\r\n\r\nHowever, GiftListSiteFilterDroplet has a bean parameter. I would like to know if we can pass this bean parameter using this DropletInvoker.\r\n\r\nI would also like to know if there is anyway we can call droplet without using ATG DUST component. Is there any generic way of calling any droplet and pass the input parameters to it?","title":"How to invoke GiftlistSiteFilterDroplet in Oracle ATG commerce?","body":"<p>I know how to invoke an ATG droplet from a jsp page. Below code snippet calls the GiftListSiteFilterDroplet. </p>\n\n<pre><code> &lt;dsp:droplet name=\"GiftlistSiteFilterDroplet\"&gt;\n    &lt;dsp:param name=\"collection\"  bean=\"/atg/userprofiling/Profile.giftlists\"/&gt;\n     &lt;dsp:oparam name=\"output\"&gt;\n      &lt;dsp:getvalueof var=\"giftlists\" param=\"filteredCollection\" /&gt;\n</code></pre>\n\n<p>Above code will invoke the GiftlistSiteFilterDroplet. However, I'm trying to findout how to invoke the same droplet from a java class. There is a DropletInvoker class from ATG DUST. Example code is as below for calling Switch component. </p>\n\n<pre><code>Nucleus mNucleus = NucleusTestUtils.startNucleusWithModules(\nnew String[] {\"DAS\",\"DafEar\"}, this.getClass(),\"/atg/dynamo/droplet/Switch\");\nDropletInvoker invoker = new DropletInvoker(mNucleus);\nDynamoHttpServletRequest request = invoker.getRequest();\nDropletResult result = null;\nrequest.setParameter(\"value\", \"foo\");\nresult = invoker.invokeDroplet(\"/atg/dynamo/droplet/Switch\");\n</code></pre>\n\n<p>However, GiftListSiteFilterDroplet has a bean parameter. I would like to know if we can pass this bean parameter using this DropletInvoker.</p>\n\n<p>I would also like to know if there is anyway we can call droplet without using ATG DUST component. Is there any generic way of calling any droplet and pass the input parameters to it?</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1677655293,"post_id":75596831,"comment_id":133378573,"body_markdown":"Why do you need a `toString` method? If you reallly do, you can add a `default` method to the interface","body":"Why do you need a <code>toString</code> method? If you reallly do, you can add a <code>default</code> method to the interface"}],"answers":[{"tags":[],"owner":{"account_id":14122292,"reputation":501,"user_id":10202496,"display_name":"iabughosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677675223,"creation_date":1677675223,"answer_id":75603995,"question_id":75596831,"body_markdown":"Welcome aboard Inessa,\r\n\r\nLet&#39;s assume you have the following properties in your application.properties:\r\n\r\n    server.host=localhost\r\n    server.port=8080\r\n\r\nThen your class:\r\n\r\n    @ConfigMapping(prefix = &quot;server&quot;)\r\n    interface Server {\r\n        @WithName(&quot;host&quot;)\r\n        String host();\r\n        @WithName(&quot;port&quot;)\r\n        int port();\r\n    }\r\n\r\nIn your code:\r\n\r\n    Server.host();\r\n    Server.port();\r\n\r\n","title":"Quarkus: how to print properties from the interface with @ConfigMapping","body":"<p>Welcome aboard Inessa,</p>\n<p>Let's assume you have the following properties in your application.properties:</p>\n<pre><code>server.host=localhost\nserver.port=8080\n</code></pre>\n<p>Then your class:</p>\n<pre><code>@ConfigMapping(prefix = &quot;server&quot;)\ninterface Server {\n    @WithName(&quot;host&quot;)\n    String host();\n    @WithName(&quot;port&quot;)\n    int port();\n}\n</code></pre>\n<p>In your code:</p>\n<pre><code>Server.host();\nServer.port();\n</code></pre>\n"}],"owner":{"account_id":27836545,"reputation":37,"user_id":21253875,"display_name":"Inessa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677675223,"creation_date":1677615030,"question_id":75596831,"body_markdown":"I am studying quarkus now. As I understand it, the properties from `application.properties` can be obtained using `@ConfigMapping`. But I need to print the properties that turned out. Previously, I would have done this by overriding `toString()` in the class, but here is the interface. \r\n\r\n```\r\n@ConfigMapping(prefix = &quot;server&quot;)\r\ninterface Server {\r\n    String host();\r\n\r\n    int port();\r\n}\r\n```\r\nI tried to replace the interface with a class, but I got an error: @ConfigMapping annotation can only be placed in interface\r\n\r\nHow do I output properties to the log?\r\n\r\n","title":"Quarkus: how to print properties from the interface with @ConfigMapping","body":"<p>I am studying quarkus now. As I understand it, the properties from <code>application.properties</code> can be obtained using <code>@ConfigMapping</code>. But I need to print the properties that turned out. Previously, I would have done this by overriding <code>toString()</code> in the class, but here is the interface.</p>\n<pre><code>@ConfigMapping(prefix = &quot;server&quot;)\ninterface Server {\n    String host();\n\n    int port();\n}\n</code></pre>\n<p>I tried to replace the interface with a class, but I got an error: @ConfigMapping annotation can only be placed in interface</p>\n<p>How do I output properties to the log?</p>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677675008,"creation_date":1677675008,"answer_id":75603969,"question_id":75601678,"body_markdown":"## Bind values\r\n\r\nA bind value cannot be a table in SQL. A bind value is a parameter to the SQL query, representing a scalar value, not some syntactic element, e.g.\r\n\r\n```sql\r\nSELECT :b1, :b2 + 1 -- Scalar values\r\nFROM t              -- &quot;Syntactic element&quot;\r\nWHERE t.x = :b3     -- Scalar values\r\n```\r\n\r\nThis isn&#39;t jOOQ specific. You (probably) won&#39;t find any SQL dialect out there that allows for bind values to be used as tables.\r\n\r\n## Templates\r\n\r\nIf you wish to implement dynamic text based SQL like that, use [&quot;plain SQL templates&quot;][1], e.g.\r\n\r\n```java\r\nString sql = \r\n    &quot;&quot;&quot;\r\n    select *\r\n    from {0} a\r\n    join {1} b\r\n    on a.x != b.x\r\n    where a.y not in (select b1.y\r\n                      from {1} b1\r\n                      where b1.x = a.x)\r\n    &quot;&quot;&quot;;\r\n\r\n// And then\r\nreturn dslContext.fetch(sql, ATable, BTable);\r\n```\r\n\r\nAssuming `ATable` and `BTable` are of type [`org.jooq.Table&lt;?&gt;`][2]. Templates are purely a jOOQ feature. They will be replaced when jOOQ generates SQL prior to passing the generated SQL to the JDBC driver.\r\n\r\nSee also this blog post for [more information on using plain SQL templates with text blocks][3]\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Table.html\r\n  [3]: https://blog.jooq.org/using-java-13-text-blocks-for-plain-sql-with-jooq/","title":"Jooq bind the same parameter multiple times","body":"<h2>Bind values</h2>\n<p>A bind value cannot be a table in SQL. A bind value is a parameter to the SQL query, representing a scalar value, not some syntactic element, e.g.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT :b1, :b2 + 1 -- Scalar values\nFROM t              -- &quot;Syntactic element&quot;\nWHERE t.x = :b3     -- Scalar values\n</code></pre>\n<p>This isn't jOOQ specific. You (probably) won't find any SQL dialect out there that allows for bind values to be used as tables.</p>\n<h2>Templates</h2>\n<p>If you wish to implement dynamic text based SQL like that, use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">&quot;plain SQL templates&quot;</a>, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = \n    &quot;&quot;&quot;\n    select *\n    from {0} a\n    join {1} b\n    on a.x != b.x\n    where a.y not in (select b1.y\n                      from {1} b1\n                      where b1.x = a.x)\n    &quot;&quot;&quot;;\n\n// And then\nreturn dslContext.fetch(sql, ATable, BTable);\n</code></pre>\n<p>Assuming <code>ATable</code> and <code>BTable</code> are of type <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Table.html\" rel=\"nofollow noreferrer\"><code>org.jooq.Table&lt;?&gt;</code></a>. Templates are purely a jOOQ feature. They will be replaced when jOOQ generates SQL prior to passing the generated SQL to the JDBC driver.</p>\n<p>See also this blog post for <a href=\"https://blog.jooq.org/using-java-13-text-blocks-for-plain-sql-with-jooq/\" rel=\"nofollow noreferrer\">more information on using plain SQL templates with text blocks</a></p>\n"}],"owner":{"account_id":12241772,"reputation":129,"user_id":8934639,"display_name":"Chedva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75603969,"answer_count":1,"score":1,"last_activity_date":1677675008,"creation_date":1677662522,"question_id":75601678,"body_markdown":"I have an SQL query that uses the same parameter in several places (the table name changed between the environments prod, stg, dev):\r\n\r\n```\r\nString SQL =\r\nselect *\r\nfrom :a_table a\r\njoin :b_table b\r\non a.x != b.x\r\nwhere a.y not in (select b1.y\r\n                  from :b_table b1\r\n                  where b1.x = a.x)\r\n```\r\nI run this query with Jooq:\r\n```\r\nreturn dslContext.fetch(sql, param(&quot;a_table&quot;, ATable.getName()), param(&quot;b_table&quot;, BTable.getName()));\r\n```\r\nbut the parameters are replaced only once, and the query that Jooq runs is (assuming `ATable.getName() = &quot;A&quot;` and `BTable,getName() = &quot;B&quot;`):\r\n```\r\nselect *\r\nfrom A a\r\njoin B b\r\non a.x != b.x\r\nwhere a.y not in (select b1.y\r\n                  from :b_table b1\r\n                  where b1.x = a.x)\r\n```\r\n\r\nis it possible to replace the params in all places without putting it more than once in the `fetch` calli?","title":"Jooq bind the same parameter multiple times","body":"<p>I have an SQL query that uses the same parameter in several places (the table name changed between the environments prod, stg, dev):</p>\n<pre><code>String SQL =\nselect *\nfrom :a_table a\njoin :b_table b\non a.x != b.x\nwhere a.y not in (select b1.y\n                  from :b_table b1\n                  where b1.x = a.x)\n</code></pre>\n<p>I run this query with Jooq:</p>\n<pre><code>return dslContext.fetch(sql, param(&quot;a_table&quot;, ATable.getName()), param(&quot;b_table&quot;, BTable.getName()));\n</code></pre>\n<p>but the parameters are replaced only once, and the query that Jooq runs is (assuming <code>ATable.getName() = &quot;A&quot;</code> and <code>BTable,getName() = &quot;B&quot;</code>):</p>\n<pre><code>select *\nfrom A a\njoin B b\non a.x != b.x\nwhere a.y not in (select b1.y\n                  from :b_table b1\n                  where b1.x = a.x)\n</code></pre>\n<p>is it possible to replace the params in all places without putting it more than once in the <code>fetch</code> calli?</p>\n"},{"tags":["javascript","java","jsp"],"comments":[{"owner":{"account_id":7312901,"reputation":802,"user_id":5571494,"display_name":"ruud"},"score":0,"creation_date":1677674744,"post_id":75603733,"comment_id":133383747,"body_markdown":"Can you explain what goes wrong when not hardcoding the path? Do you get an error message?","body":"Can you explain what goes wrong when not hardcoding the path? Do you get an error message?"},{"owner":{"account_id":27908730,"reputation":1,"user_id":21311367,"display_name":"Michael Evan"},"score":0,"creation_date":1677682328,"post_id":75603733,"comment_id":133386335,"body_markdown":"Theres no problem at all running it on that way, but i need to hardcode the file path, and thats not the way to do  it.","body":"Theres no problem at all running it on that way, but i need to hardcode the file path, and thats not the way to do  it."}],"owner":{"account_id":27908730,"reputation":1,"user_id":21311367,"display_name":"Michael Evan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677674785,"creation_date":1677673598,"question_id":75603733,"body_markdown":"Im using pdfbox becuase it does not overload the memory handling huge pdf files, for example i have a 2gb pdf file, with almost 1k pages. for each page i need to do something, upload and storage in a server,etc (server that honestly i cant access)\r\nMy problem is that the application only works with file declared as string path ex: (&quot;C:\\\\file.pdf&quot;).\r\n\r\n\r\n\r\n```\r\nprivate void doWork(HttpServletRequest req, HttpServletResponse resp) throws Exception {\r\n\r\n\t\tif (!ServletFileUpload.isMultipartContent(req)) {\r\n\t\t\tresp.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Not multipart/form-data&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\nServletFileUpload upload = createFileUpload();\r\n      \r\n\t\tList&lt;FileItem&gt; fileItems = null;\r\n\t\tFile file  = parseRequest(req,upload);\r\n\t\t\r\n\t\t  PDDocument document = Loader.loadPDF(file, MemoryUsageSetting.setupTempFileOnly());\r\n\t\t  PDFRenderer renderer = new PDFRenderer(document);\r\n\r\n\r\ntry {\r\n\t\t\t for( PDPage page : document.getPages() ){\r\n\r\n\t\t\t\tPdfDocumentHandler pdfDoc= new PdfDocumentHandler();\r\n\t\t\t\t\r\n\t\t\t\tfileItems.add((FileItem) page);\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\tpageCount = pdfDoc.savePdf(fileItems);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;Error: &quot; + e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\nprotected File parseRequest(HttpServletRequest req, ServletFileUpload upload)throws IOException, FileUploadException {\r\n\t\t\r\n\t\treturn (File) upload.parseRequest(req);\r\n\t\r\n}\r\n\t\r\n\tprivate static ServletFileUpload createFileUpload() {\r\n\t\tServletFileUpload upload = new ServletFileUpload(\r\n\t\t\t\tnew DiskFileItemFactory(IN_MEMORY_FILE_SIZE_THRESHOLD, new File(TMP_DIR)));\r\n\t\tupload.setSizeMax(MAX_UPLOAD_FILE_SIZE);\r\n\t\treturn upload;\r\n\t}\r\n\r\n\r\n```\r\n\r\n\r\nAnd the javascript front end code is the next one:\r\n\r\n\r\n```\r\n&lt;form\r\n\taction=&quot;../../index/AddPdf?parameters=&lt;%=parameters%&gt;&amp;select=&lt;%=idNode%&gt;&amp;save=&lt;%=save%&gt;&amp;sesionInx=&lt;%=sesionInx%&gt;&amp;esPDF=true&amp;scanner=true&quot;\r\n\tname=&quot;form1&quot; id=&quot;form1&quot; enctype=&quot;multipart/form-data&quot; method=&quot;post&quot;&gt;\r\n\t&lt;div id=&quot;divFileUpload&quot;\r\n\t\tstyle=&quot;overflow: auto; width: 100%; height: 326; border-right: #333399 1px solid; border-top: #333399 1px solid; border-left: #333399 1px solid; border-bottom: #333399 1px solid&quot;&gt;\r\n\t\t&lt;table id=&quot;tableFile&quot; width=&quot;100%&quot; align=&quot;center&quot; cellspacing=&quot;0&quot;\r\n\t\t\tcellpadding=&quot;0&quot; border=&quot;0&quot;&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;file0&quot; id=&quot;file0&quot; size=&quot;40&quot;\r\n\t\t\t\t\tmaxlength=&quot;256&quot;&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t&lt;/table&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;input type=&quot;text&quot; id=&quot;totFile&quot; value=&quot;&quot; size=&quot;3&quot; readonly&gt;\r\n\t&amp;nbsp;&amp;nbsp; &lt;input type=&quot;button&quot; value=&quot;Send&quot; onclick=&quot;valExtension(&#39;tableFile&#39;)&quot;&gt;\r\n&lt;/form&gt;\r\n\r\n\r\nfunction valExtension(tableID) {\r\n\tvar t = &quot;&quot;;\r\n\tvar table = document.getElementById(tableID);\r\n\t\r\n\tfor (var i = 0; i &lt; table.rows.length; i++) {\r\n\t\tvar o = document.getElementById(&quot;file&quot; + i);\r\n\t\tvar f = o.value.toLowerCase();\r\n\t\tvar t = f.substring(f.lastIndexOf(&quot;.&quot;) + 1);\r\n\t\tif (isWhitespace(t)) {\r\n\t\t\talert(&quot;Select your file to upload&quot;);\r\n\t\t\to.focus();\r\n\t\t\treturn false;\r\n\t\t} else if (isNotValidExtension(t)) {\r\n\t\t\talert(&quot;The file\\&quot;.&quot; + t + &quot;\\&quot; is not a PDF&quot;);\r\n\t\t\to.focus();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tdocument.getElementById(&quot;form1&quot;).submit();\r\n\t\r\n}\r\n\r\nfunction isNotValidExtension(e) {\r\n\tvar types = [&quot;PDF&quot;, &quot;pdf&quot;];\r\n\t\r\n\tfor (var j = 0; j &lt; types.length; j++)\r\n\t\tif (e == types[j])\r\n\t\t\treturn false;\r\n\t\r\n\treturn true;\r\n}\r\n\r\nfunction isWhitespace(s) {\r\nvar whitespace = &quot; \\t\\n\\r&quot;;\r\nif ((s == null) || (s.length == 0)) return true;\r\nfor (var i = 0; i &lt; s.length; i++) {\r\nvar c = s.charAt(i);\r\nif (whitespace.indexOf(c) == -1) return false;\r\n}\r\nreturn true;\r\n}\r\n```\r\n\r\n\r\nI already try the app without multipart request, i mean hardcoding the path on the file variable, and it worrks but i cant figure out how i can make it work with the multipart. I really made a huge internet research with no luck, so i came here to make my first question i really really need help","title":"It&#39;s possible to use apache pdfbox with a multipart file on a servlet java app?","body":"<p>Im using pdfbox becuase it does not overload the memory handling huge pdf files, for example i have a 2gb pdf file, with almost 1k pages. for each page i need to do something, upload and storage in a server,etc (server that honestly i cant access)\nMy problem is that the application only works with file declared as string path ex: (&quot;C:\\file.pdf&quot;).</p>\n<pre><code>private void doWork(HttpServletRequest req, HttpServletResponse resp) throws Exception {\n\n        if (!ServletFileUpload.isMultipartContent(req)) {\n            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Not multipart/form-data&quot;);\n            return;\n        }\n\n\nServletFileUpload upload = createFileUpload();\n      \n        List&lt;FileItem&gt; fileItems = null;\n        File file  = parseRequest(req,upload);\n        \n          PDDocument document = Loader.loadPDF(file, MemoryUsageSetting.setupTempFileOnly());\n          PDFRenderer renderer = new PDFRenderer(document);\n\n\ntry {\n             for( PDPage page : document.getPages() ){\n\n                PdfDocumentHandler pdfDoc= new PdfDocumentHandler();\n                \n                fileItems.add((FileItem) page);\n            \n                \n            \n            pageCount = pdfDoc.savePdf(fileItems);\n            }\n        } catch (Exception e) {\n            log.error(&quot;Error: &quot; + e.getMessage());\n            e.printStackTrace();\n        }\n\n\nprotected File parseRequest(HttpServletRequest req, ServletFileUpload upload)throws IOException, FileUploadException {\n        \n        return (File) upload.parseRequest(req);\n    \n}\n    \n    private static ServletFileUpload createFileUpload() {\n        ServletFileUpload upload = new ServletFileUpload(\n                new DiskFileItemFactory(IN_MEMORY_FILE_SIZE_THRESHOLD, new File(TMP_DIR)));\n        upload.setSizeMax(MAX_UPLOAD_FILE_SIZE);\n        return upload;\n    }\n\n\n</code></pre>\n<p>And the javascript front end code is the next one:</p>\n<pre><code>&lt;form\n    action=&quot;../../index/AddPdf?parameters=&lt;%=parameters%&gt;&amp;select=&lt;%=idNode%&gt;&amp;save=&lt;%=save%&gt;&amp;sesionInx=&lt;%=sesionInx%&gt;&amp;esPDF=true&amp;scanner=true&quot;\n    name=&quot;form1&quot; id=&quot;form1&quot; enctype=&quot;multipart/form-data&quot; method=&quot;post&quot;&gt;\n    &lt;div id=&quot;divFileUpload&quot;\n        style=&quot;overflow: auto; width: 100%; height: 326; border-right: #333399 1px solid; border-top: #333399 1px solid; border-left: #333399 1px solid; border-bottom: #333399 1px solid&quot;&gt;\n        &lt;table id=&quot;tableFile&quot; width=&quot;100%&quot; align=&quot;center&quot; cellspacing=&quot;0&quot;\n            cellpadding=&quot;0&quot; border=&quot;0&quot;&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;file0&quot; id=&quot;file0&quot; size=&quot;40&quot;\n                    maxlength=&quot;256&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n    &lt;input type=&quot;text&quot; id=&quot;totFile&quot; value=&quot;&quot; size=&quot;3&quot; readonly&gt;\n    &amp;nbsp;&amp;nbsp; &lt;input type=&quot;button&quot; value=&quot;Send&quot; onclick=&quot;valExtension('tableFile')&quot;&gt;\n&lt;/form&gt;\n\n\nfunction valExtension(tableID) {\n    var t = &quot;&quot;;\n    var table = document.getElementById(tableID);\n    \n    for (var i = 0; i &lt; table.rows.length; i++) {\n        var o = document.getElementById(&quot;file&quot; + i);\n        var f = o.value.toLowerCase();\n        var t = f.substring(f.lastIndexOf(&quot;.&quot;) + 1);\n        if (isWhitespace(t)) {\n            alert(&quot;Select your file to upload&quot;);\n            o.focus();\n            return false;\n        } else if (isNotValidExtension(t)) {\n            alert(&quot;The file\\&quot;.&quot; + t + &quot;\\&quot; is not a PDF&quot;);\n            o.focus();\n            return false;\n        }\n    }\n    \n    \n    \n    document.getElementById(&quot;form1&quot;).submit();\n    \n}\n\nfunction isNotValidExtension(e) {\n    var types = [&quot;PDF&quot;, &quot;pdf&quot;];\n    \n    for (var j = 0; j &lt; types.length; j++)\n        if (e == types[j])\n            return false;\n    \n    return true;\n}\n\nfunction isWhitespace(s) {\nvar whitespace = &quot; \\t\\n\\r&quot;;\nif ((s == null) || (s.length == 0)) return true;\nfor (var i = 0; i &lt; s.length; i++) {\nvar c = s.charAt(i);\nif (whitespace.indexOf(c) == -1) return false;\n}\nreturn true;\n}\n</code></pre>\n<p>I already try the app without multipart request, i mean hardcoding the path on the file variable, and it worrks but i cant figure out how i can make it work with the multipart. I really made a huge internet research with no luck, so i came here to make my first question i really really need help</p>\n"},{"tags":["java","jpa","persistence","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677679774,"post_id":75603299,"comment_id":133385414,"body_markdown":"They have to be available to the class loader that is loading the persistence unit when deployment is occurring. The container you are using might not have the class resolvable at that time - turn on Logging to all or finest and EclipseLink might give more context to the error, or check your container","body":"They have to be available to the class loader that is loading the persistence unit when deployment is occurring. The container you are using might not have the class resolvable at that time - turn on Logging to all or finest and EclipseLink might give more context to the error, or check your container"}],"owner":{"account_id":25541753,"reputation":1,"user_id":19327693,"display_name":"Owic98"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677674719,"creation_date":1677671275,"question_id":75603299,"body_markdown":"So I am working on a multi-model project in the Jave EE environment with Maven. We have a core module that provides different classes for all other modules like interfaces, enums, and some utility classes.\r\n\r\nSo what I tried to do is to put a `@Converter` class in the core module. So it can be used in various other modules. The problem is that it is not recognized by EclipseLink even though it is in my persistence.xml.\r\nThe Exception:\r\n\r\n```java\r\nException Description: Predeployment of PersistenceUnit [source-timeaccounting] failed.\r\nInternal Exception: Exception [EclipseLink-7351] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.ValidationException\r\nException Description: The converter class [de.gfit.ngs.core.LocalDateAttributeConverter] specified on the mapping attribute [zeitpunkt] from the class [de.gfit.ngs.etl.entity.timeaccounting.api.AccountedTimeEntity] was not found. Please ensure the converter class name is correct and exists with the persistence unit definition.\r\n      service jboss.persistenceunit.&quot;ngs-etl-ear-4.0.0.0.ear/ngs-etl-dao-persistence-4.0.0.0.jar#ngs-dwh-pu&quot;: javax.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\n```\r\n\r\npersistence.xml:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n  &lt;persistence-unit name=&quot;source-timeaccounting&quot; transaction-type=&quot;JTA&quot;&gt;\r\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n    &lt;jta-data-source&gt;java:jboss/timeaccounting&lt;/jta-data-source&gt;\r\n    &lt;class&gt;de.gfit.ngs.core.LocalDateAttributeConverter&lt;/class&gt;\r\n    &lt;class&gt;de.gfit.ngs.core.LocalDateTimeAttributeConverter&lt;/class&gt;\r\n    &lt;class&gt;de.gfit.ngs.etl.entity.timeaccounting.api.AccountedTimeEntity&lt;/class&gt;\r\n     ....\r\n    &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n  &lt;/persistence-unit&gt;\r\n```\r\n\r\nThe Converter Class\r\n\r\n```java\r\n@Converter(autoApply = true)\r\npublic class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\r\n\r\n    @Override\r\n    public Date convertToDatabaseColumn(LocalDate localDate) {\r\n        return localDate == null ? null : Date.valueOf(localDate);\r\n    }\r\n\r\n    @Override\r\n    public LocalDate convertToEntityAttribute(Date sqlData) {\r\n        return sqlData == null ? null : sqlData.toLocalDate();\r\n    }\r\n\r\n}\r\n```\r\n\r\nSome more Information:\r\nThe core module is set as a dependency in Maven, so the classpath should not be the problem.\r\nThe other classes that use the converter also have the correct dependency.\r\nThe persistence.xml is in the project (ngs.etl)\r\nThe core Modul is not deployed with any Modul.\r\n\r\nFirst I tried to put my converter in the current module (ngs.etl) and modify the persistence.xml accordingly. This solved the problem.\r\n\r\nThen I tried to put my core module in the application.xml of my ear project so that it would be deployed. This also solved the problem.\r\n\r\nSo back to the title question. Do all `&lt;class&gt;` elements in the persistence.xml need to be deployed for eclipselink to find them?","title":"Do all &lt;class&gt; elements of the persistence.xml need to be deployed?","body":"<p>So I am working on a multi-model project in the Jave EE environment with Maven. We have a core module that provides different classes for all other modules like interfaces, enums, and some utility classes.</p>\n<p>So what I tried to do is to put a <code>@Converter</code> class in the core module. So it can be used in various other modules. The problem is that it is not recognized by EclipseLink even though it is in my persistence.xml.\nThe Exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception Description: Predeployment of PersistenceUnit [source-timeaccounting] failed.\nInternal Exception: Exception [EclipseLink-7351] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.ValidationException\nException Description: The converter class [de.gfit.ngs.core.LocalDateAttributeConverter] specified on the mapping attribute [zeitpunkt] from the class [de.gfit.ngs.etl.entity.timeaccounting.api.AccountedTimeEntity] was not found. Please ensure the converter class name is correct and exists with the persistence unit definition.\n      service jboss.persistenceunit.&quot;ngs-etl-ear-4.0.0.0.ear/ngs-etl-dao-persistence-4.0.0.0.jar#ngs-dwh-pu&quot;: javax.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.EntityManagerSetupException\n</code></pre>\n<p>persistence.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n  &lt;persistence-unit name=&quot;source-timeaccounting&quot; transaction-type=&quot;JTA&quot;&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;jta-data-source&gt;java:jboss/timeaccounting&lt;/jta-data-source&gt;\n    &lt;class&gt;de.gfit.ngs.core.LocalDateAttributeConverter&lt;/class&gt;\n    &lt;class&gt;de.gfit.ngs.core.LocalDateTimeAttributeConverter&lt;/class&gt;\n    &lt;class&gt;de.gfit.ngs.etl.entity.timeaccounting.api.AccountedTimeEntity&lt;/class&gt;\n     ....\n    &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n  &lt;/persistence-unit&gt;\n</code></pre>\n<p>The Converter Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter(autoApply = true)\npublic class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\n\n    @Override\n    public Date convertToDatabaseColumn(LocalDate localDate) {\n        return localDate == null ? null : Date.valueOf(localDate);\n    }\n\n    @Override\n    public LocalDate convertToEntityAttribute(Date sqlData) {\n        return sqlData == null ? null : sqlData.toLocalDate();\n    }\n\n}\n</code></pre>\n<p>Some more Information:\nThe core module is set as a dependency in Maven, so the classpath should not be the problem.\nThe other classes that use the converter also have the correct dependency.\nThe persistence.xml is in the project (ngs.etl)\nThe core Modul is not deployed with any Modul.</p>\n<p>First I tried to put my converter in the current module (ngs.etl) and modify the persistence.xml accordingly. This solved the problem.</p>\n<p>Then I tried to put my core module in the application.xml of my ear project so that it would be deployed. This also solved the problem.</p>\n<p>So back to the title question. Do all <code>&lt;class&gt;</code> elements in the persistence.xml need to be deployed for eclipselink to find them?</p>\n"},{"tags":["java","solr","jetty","logback","jetty-9"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677674604,"creation_date":1677674604,"answer_id":75603906,"question_id":75603905,"body_markdown":"The issue was actually caused by external libraries we add to Solr: using logback 1.2 was working fine but upgrading to 1.4 was the root cause of the issue above.\r\n\r\nThis is because logback 1.4 targets `jakarta.*` and we are referencing a logback class in the Jetty configuration for access logs.\r\n\r\nNot upgrading to logback 1.4 but only 1.3 is the right solution.","title":"NoClassDefFoundError jakarta/servlet/http/HttpServletResponse when starting Solr","body":"<p>The issue was actually caused by external libraries we add to Solr: using logback 1.2 was working fine but upgrading to 1.4 was the root cause of the issue above.</p>\n<p>This is because logback 1.4 targets <code>jakarta.*</code> and we are referencing a logback class in the Jetty configuration for access logs.</p>\n<p>Not upgrading to logback 1.4 but only 1.3 is the right solution.</p>\n"}],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677674604,"creation_date":1677674604,"question_id":75603905,"body_markdown":"Using Solr 8.11.2 (Jetty 9.4) with Java 11, we&#39;re having the following error at startup:\r\n\r\n&gt; java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletResponse\r\n\r\n\r\n```\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n...\r\n        at org.eclipse.jetty.start.Main.start(Main.java:491)\r\n        at org.eclipse.jetty.start.Main.main(Main.java:77)\r\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletResponse\r\n        at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n...\r\n        at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.construct(XmlConfiguration.java:1031)\r\n...\r\n        at org.eclipse.jetty.xml.XmlConfiguration.configure(XmlConfiguration.java:380)\r\n        at org.eclipse.jetty.xml.XmlConfiguration.lambda$main$3(XmlConfiguration.java:1893)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1857)\r\n        ... 7 more\r\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpServletResponse\r\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 23 more\r\n```\r\n\r\nEven though we are aware of the `javax.*` to `jakarta.*` move, we don&#39;t understand why the jakarta.* class is even trying to be loaded.\r\n\r\nJetty 9.4 is still using/providing `javax.*`.\r\n\r\nThe jetty.xml configuration file that seems to be causing the failure doesn&#39;t have any reference to `jakarta` either.","title":"NoClassDefFoundError jakarta/servlet/http/HttpServletResponse when starting Solr","body":"<p>Using Solr 8.11.2 (Jetty 9.4) with Java 11, we're having the following error at startup:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletResponse</p>\n</blockquote>\n<pre><code>java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n...\n        at org.eclipse.jetty.start.Main.start(Main.java:491)\n        at org.eclipse.jetty.start.Main.main(Main.java:77)\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletResponse\n        at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n...\n        at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.construct(XmlConfiguration.java:1031)\n...\n        at org.eclipse.jetty.xml.XmlConfiguration.configure(XmlConfiguration.java:380)\n        at org.eclipse.jetty.xml.XmlConfiguration.lambda$main$3(XmlConfiguration.java:1893)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1857)\n        ... 7 more\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpServletResponse\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 23 more\n</code></pre>\n<p>Even though we are aware of the <code>javax.*</code> to <code>jakarta.*</code> move, we don't understand why the jakarta.* class is even trying to be loaded.</p>\n<p>Jetty 9.4 is still using/providing <code>javax.*</code>.</p>\n<p>The jetty.xml configuration file that seems to be causing the failure doesn't have any reference to <code>jakarta</code> either.</p>\n"},{"tags":["java","tomcat","deployment"],"comments":[{"owner":{"account_id":8636556,"reputation":773,"user_id":6466540,"display_name":"Indra Uprade"},"score":0,"creation_date":1466959576,"post_id":38040658,"comment_id":63521444,"body_markdown":"you should be able to access manager app with default tomcat installation provided admin credential needs to be configured in tomcat-users.xml.","body":"you should be able to access manager app with default tomcat installation provided admin credential needs to be configured in tomcat-users.xml."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1466962617,"post_id":38040658,"comment_id":63522484,"body_markdown":"If you copied to `webapp` folder, why is that name not in the shown path (`E:\\daten\\web\\my.pma.de\\servlet\\manager`)?","body":"If you copied to <code>webapp</code> folder, why is that name not in the shown path (<code>E:\\daten\\web\\my.pma.de\\servlet\\manager</code>)?"}],"answers":[{"tags":[],"owner":{"account_id":7968176,"reputation":33,"user_id":6013804,"display_name":"JGreven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677674506,"creation_date":1467046301,"answer_id":38059282,"question_id":38040658,"body_markdown":"It turned out that on the test server (contrary to my development machine) the Tomcat server was running &quot;behind&quot; a mod-jk in Apachte httpd. So basically what was lacking was mounting the webapps with &quot;JkMount&quot;.\r\n\r\n\r\nEdit:\r\nAs per request the mounting of the WebApp:\r\nIn httpd.conf\r\n\r\n    LoadModule jk_module modules/mod_jk.so\r\n    \r\n    JkWorkersFile &quot;conf/worker.properties&quot;\r\n    JkLogFile &quot;logs/mod_jk.log&quot;\r\n    JkLogLevel errorJ\r\n    JkLogStampFormat &quot;[%a %b %d %H:%M:%S %Y] &quot;\r\n    JkOptions +ForwardKeySize +ForwardURICompat\r\n\r\n\r\nIn httpd-ssl.conf:\r\n\r\n    &lt;VirtualHost *:443&gt;\r\n    .\r\n    .\r\n    .\r\n    \tJkMount /mywebapp/* mainworker\r\n    \t\r\n    \t# Zugang zu WEB-INF und META-INF sperren\r\n        &lt;Location &quot;/mywebapp/META-INF/*&quot;&gt;\r\n          #AllowOverride None\r\n          deny from all \r\n        &lt;/Location&gt; \t\r\n    .\r\n    .\r\n    .\r\n    &lt;/VirtualHost&gt;  \r\n\r\n","title":"Tomcat WebApp deployed but not accessible","body":"<p>It turned out that on the test server (contrary to my development machine) the Tomcat server was running &quot;behind&quot; a mod-jk in Apachte httpd. So basically what was lacking was mounting the webapps with &quot;JkMount&quot;.</p>\n<p>Edit:\nAs per request the mounting of the WebApp:\nIn httpd.conf</p>\n<pre><code>LoadModule jk_module modules/mod_jk.so\n\nJkWorkersFile &quot;conf/worker.properties&quot;\nJkLogFile &quot;logs/mod_jk.log&quot;\nJkLogLevel errorJ\nJkLogStampFormat &quot;[%a %b %d %H:%M:%S %Y] &quot;\nJkOptions +ForwardKeySize +ForwardURICompat\n</code></pre>\n<p>In httpd-ssl.conf:</p>\n<pre><code>&lt;VirtualHost *:443&gt;\n.\n.\n.\n    JkMount /mywebapp/* mainworker\n    \n    # Zugang zu WEB-INF und META-INF sperren\n    &lt;Location &quot;/mywebapp/META-INF/*&quot;&gt;\n      #AllowOverride None\n      deny from all \n    &lt;/Location&gt;     \n.\n.\n.\n&lt;/VirtualHost&gt;  \n</code></pre>\n"}],"owner":{"account_id":7968176,"reputation":33,"user_id":6013804,"display_name":"JGreven"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677674506,"creation_date":1466958583,"question_id":38040658,"body_markdown":"I have a strange problem with accessing Tomcat WebApps. I have several WebApplications all working fine on my development machine. But when I deploy them to the test server (copying to webapp folder) some of them can&#39;t be accessed, one of them being the tomcat manager app.\r\n\r\nEdit1: The tomcat webapp folder is not the default, but (from server.xml):\r\n\r\n    &lt;AutoWebApp dir=&quot;E:/daten/web/my.pma.de/servlet&quot; host=&quot;DEFAULT&quot; /&gt;\r\n\r\nThe tomcat log says\r\n\r\n    INFORMATION: Deploying web application directory E:\\daten\\web\\my.pma.de\\servlet\\manager\r\n    Jun 26, 2016 5:02:20 PM org.apache.catalina.startup.TldConfig execute\r\n    INFORMATION: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Jun 26, 2016 5:02:20 PM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFORMATION: Deployment of web application directory E:\\daten\\web\\my.pma.de\\servlet\\manager has finished in 109 ms\r\n\r\n\r\nBut when I try to access the manager app (which again is working fine on my development machine) I always get a 404 error:\r\n\r\n    The requested URL /manager was not found on this server.\r\n\r\ntomcat-users.xml contains correct credentials for the manager webapp:\r\n\r\n    &lt;tomcat-users&gt;\r\n    &lt;user password=&quot;xxxxx&quot; roles=&quot;manager-script,manager-gui,admin, admin-gui&quot; username=&quot;xxxxx&quot;/&gt;\r\n    &lt;/tomcat-users&gt;\r\n\r\n\r\nWhat could I be missing?\r\n\r\n\r\nThanks in advance\r\nJens\r\n\r\n","title":"Tomcat WebApp deployed but not accessible","body":"<p>I have a strange problem with accessing Tomcat WebApps. I have several WebApplications all working fine on my development machine. But when I deploy them to the test server (copying to webapp folder) some of them can't be accessed, one of them being the tomcat manager app.</p>\n<p>Edit1: The tomcat webapp folder is not the default, but (from server.xml):</p>\n<pre><code>&lt;AutoWebApp dir=&quot;E:/daten/web/my.pma.de/servlet&quot; host=&quot;DEFAULT&quot; /&gt;\n</code></pre>\n<p>The tomcat log says</p>\n<pre><code>INFORMATION: Deploying web application directory E:\\daten\\web\\my.pma.de\\servlet\\manager\nJun 26, 2016 5:02:20 PM org.apache.catalina.startup.TldConfig execute\nINFORMATION: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nJun 26, 2016 5:02:20 PM org.apache.catalina.startup.HostConfig deployDirectory\nINFORMATION: Deployment of web application directory E:\\daten\\web\\my.pma.de\\servlet\\manager has finished in 109 ms\n</code></pre>\n<p>But when I try to access the manager app (which again is working fine on my development machine) I always get a 404 error:</p>\n<pre><code>The requested URL /manager was not found on this server.\n</code></pre>\n<p>tomcat-users.xml contains correct credentials for the manager webapp:</p>\n<pre><code>&lt;tomcat-users&gt;\n&lt;user password=&quot;xxxxx&quot; roles=&quot;manager-script,manager-gui,admin, admin-gui&quot; username=&quot;xxxxx&quot;/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n<p>What could I be missing?</p>\n<p>Thanks in advance\nJens</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":142616,"reputation":34832,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"score":1,"creation_date":1396978472,"post_id":22944144,"comment_id":35027954,"body_markdown":"Good point! Calling close() on that should do the job.","body":"Good point! Calling close() on that should do the job."},{"owner":{"account_id":3598339,"reputation":1871,"user_id":3002336,"display_name":"Anand Varkey Philips"},"score":0,"creation_date":1529004781,"post_id":22944144,"comment_id":88731811,"body_markdown":"Possible duplicate of [How to shutdown a Spring Boot Application in a correct way?](https://stackoverflow.com/questions/26547532/how-to-shutdown-a-spring-boot-application-in-a-correct-way)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/26547532/how-to-shutdown-a-spring-boot-application-in-a-correct-way\">How to shutdown a Spring Boot Application in a correct way?</a>"},{"owner":{"account_id":142616,"reputation":34832,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"score":0,"creation_date":1529007274,"post_id":22944144,"comment_id":88732950,"body_markdown":"@AnandVarkeyPhilips No, it definitely isn&#39;t. This one is about an API, the other is about a way for ops to do so.","body":"@AnandVarkeyPhilips No, it definitely isn&#39;t. This one is about an API, the other is about a way for ops to do so."},{"owner":{"account_id":3598339,"reputation":1871,"user_id":3002336,"display_name":"Anand Varkey Philips"},"score":1,"creation_date":1529041934,"post_id":22944144,"comment_id":88741188,"body_markdown":"Okay.. That question link might help others. Do you want me to delete the above comment?","body":"Okay.. That question link might help others. Do you want me to delete the above comment?"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":144,"is_accepted":true,"score":144,"last_activity_date":1572301504,"creation_date":1396980314,"answer_id":22944850,"question_id":22944144,"body_markdown":"Closing a [`SpringApplication`][1] basically means closing the underlying `ApplicationContext`. The [`SpringApplication#run(String...)`][2] method gives you that `ApplicationContext` as a `ConfigurableApplicationContext`. You can then [`close()`][3] it yourself. \r\n\r\n\r\nFor example,\r\n\r\n    @SpringBootApplication\r\n    public class Example {\r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext ctx = SpringApplication.run(Example.class, args);\r\n            // ...determine it&#39;s time to shut down...\r\n            ctx.close();\r\n        }\r\n    }\r\n\r\n\r\nAlternatively, you can use the `static` [`SpringApplication.exit(ApplicationContext, ExitCodeGenerator...)`][4] helper method to do it for you. For example,\r\n\r\n    @SpringBootApplication\r\n    public class Example {\r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext ctx = SpringApplication.run(Example.class, args);\r\n            // ...determine it&#39;s time to stop...\r\n            int exitCode = SpringApplication.exit(ctx, new ExitCodeGenerator() {\r\n                @Override\r\n                public int getExitCode() {\r\n                    // no errors\r\n                    return 0;\r\n                }\r\n            });\r\n\r\n            // or shortened to\r\n            // int exitCode = SpringApplication.exit(ctx, () -&gt; 0);\r\n\r\n            System.exit(exitCode);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html#run-java.lang.Object-java.lang.String...-\r\n  [3]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html#close--\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html#exit-org.springframework.context.ApplicationContext-org.springframework.boot.ExitCodeGenerator...-\r\n","title":"Programmatically shut down Spring Boot application","body":"<p>Closing a <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html\" rel=\"noreferrer\"><code>SpringApplication</code></a> basically means closing the underlying <code>ApplicationContext</code>. The <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html#run-java.lang.Object-java.lang.String...-\" rel=\"noreferrer\"><code>SpringApplication#run(String...)</code></a> method gives you that <code>ApplicationContext</code> as a <code>ConfigurableApplicationContext</code>. You can then <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html#close--\" rel=\"noreferrer\"><code>close()</code></a> it yourself. </p>\n\n<p>For example,</p>\n\n<pre><code>@SpringBootApplication\npublic class Example {\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ctx = SpringApplication.run(Example.class, args);\n        // ...determine it's time to shut down...\n        ctx.close();\n    }\n}\n</code></pre>\n\n<p>Alternatively, you can use the <code>static</code> <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html#exit-org.springframework.context.ApplicationContext-org.springframework.boot.ExitCodeGenerator...-\" rel=\"noreferrer\"><code>SpringApplication.exit(ApplicationContext, ExitCodeGenerator...)</code></a> helper method to do it for you. For example,</p>\n\n<pre><code>@SpringBootApplication\npublic class Example {\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ctx = SpringApplication.run(Example.class, args);\n        // ...determine it's time to stop...\n        int exitCode = SpringApplication.exit(ctx, new ExitCodeGenerator() {\n            @Override\n            public int getExitCode() {\n                // no errors\n                return 0;\n            }\n        });\n\n        // or shortened to\n        // int exitCode = SpringApplication.exit(ctx, () -&gt; 0);\n\n        System.exit(exitCode);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":2,"up_vote_count":48,"is_accepted":false,"score":46,"last_activity_date":1564047192,"creation_date":1441055064,"answer_id":32319955,"question_id":22944144,"body_markdown":"This works, even done is printed.\r\n\r\n      SpringApplication.run(MyApplication.class, args).close();\r\n      System.out.println(&quot;done&quot;);\r\n\r\n\r\nSo adding `.close()` after `run()`\r\n\r\nExplanation:\r\n\r\n&gt; `public ConfigurableApplicationContext run(String... args)`\r\n&gt; \r\n&gt; Run the Spring application, creating and refreshing a new\r\n&gt; ApplicationContext. Parameters:\r\n&gt; \r\n&gt; `args` - the application arguments (usually passed from a Java main\r\n&gt; method)\r\n&gt; \r\n&gt; Returns:\r\n&gt; **a running ApplicationContext**\r\n\r\nand:\r\n\r\n&gt; `void close()` Close this application context, releasing all resources\r\n&gt; and locks that the implementation might hold. This includes destroying\r\n&gt; all cached singleton beans. Note: Does not invoke close on a parent\r\n&gt; context; parent contexts have their own, independent lifecycle.\r\n&gt; \r\n&gt; This method can be called multiple times without side effects:\r\n&gt; Subsequent close calls on an already closed context will be ignored.\r\n\r\nSo basically, it will not close the parent context, that&#39;s why the VM doesn&#39;t quit.\r\n","title":"Programmatically shut down Spring Boot application","body":"<p>This works, even done is printed.</p>\n\n<pre><code>  SpringApplication.run(MyApplication.class, args).close();\n  System.out.println(\"done\");\n</code></pre>\n\n<p>So adding <code>.close()</code> after <code>run()</code></p>\n\n<p>Explanation:</p>\n\n<blockquote>\n  <p><code>public ConfigurableApplicationContext run(String... args)</code></p>\n  \n  <p>Run the Spring application, creating and refreshing a new\n  ApplicationContext. Parameters:</p>\n  \n  <p><code>args</code> - the application arguments (usually passed from a Java main\n  method)</p>\n  \n  <p>Returns:\n  <strong>a running ApplicationContext</strong></p>\n</blockquote>\n\n<p>and:</p>\n\n<blockquote>\n  <p><code>void close()</code> Close this application context, releasing all resources\n  and locks that the implementation might hold. This includes destroying\n  all cached singleton beans. Note: Does not invoke close on a parent\n  context; parent contexts have their own, independent lifecycle.</p>\n  \n  <p>This method can be called multiple times without side effects:\n  Subsequent close calls on an already closed context will be ignored.</p>\n</blockquote>\n\n<p>So basically, it will not close the parent context, that's why the VM doesn't quit.</p>\n"},{"tags":[],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"down_vote_count":0,"up_vote_count":140,"is_accepted":false,"score":140,"last_activity_date":1677673471,"creation_date":1453464235,"answer_id":34946292,"question_id":22944144,"body_markdown":"The simplest way would be to inject the following object where you need to initiate the shutdown\r\n\r\n**ApplicationShutdownManager.java**\r\n\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.boot.SpringApplication;\r\n\r\n    @Component\r\n    class ApplicationShutdownManager {\r\n\r\n        @Autowired\r\n        private ApplicationContext appContext;\r\n\r\n        /*\r\n         * Invoke with `0` to indicate no error or different code to indicate\r\n         * abnormal exit. es: shutdownManager.initiateShutdown(0);\r\n         **/\r\n        public void initiateShutdown(int returnCode){\r\n            SpringApplication.exit(appContext, () -&gt; returnCode);\r\n        }\r\n    }","title":"Programmatically shut down Spring Boot application","body":"<p>The simplest way would be to inject the following object where you need to initiate the shutdown</p>\n<p><strong>ApplicationShutdownManager.java</strong></p>\n<pre><code>import org.springframework.context.ApplicationContext;\nimport org.springframework.boot.SpringApplication;\n\n@Component\nclass ApplicationShutdownManager {\n\n    @Autowired\n    private ApplicationContext appContext;\n\n    /*\n     * Invoke with `0` to indicate no error or different code to indicate\n     * abnormal exit. es: shutdownManager.initiateShutdown(0);\n     **/\n    public void initiateShutdown(int returnCode){\n        SpringApplication.exit(appContext, () -&gt; returnCode);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482529,"reputation":5253,"user_id":896981,"accept_rate":100,"display_name":"magiccrafter"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1490875625,"creation_date":1473848059,"answer_id":39487896,"question_id":22944144,"body_markdown":"**In the application** you can use `SpringApplication`. This has a static `exit()` method that takes two arguments: the `ApplicationContext` and an `ExitCodeGenerator`:\r\n\r\ni.e. you can declare this method:\r\n\r\n    @Autowired\r\n    public void shutDown(ExecutorServiceExitCodeGenerator exitCodeGenerator) {\r\n        SpringApplication.exit(applicationContext, exitCodeGenerator);\r\n    }\r\n\r\n\r\n**Inside the Integration tests** you can achieved it by adding `@DirtiesContext` annotation at class level:  \r\n\r\n* `@DirtiesContext(classMode=ClassMode.AFTER_CLASS)` - The associated ApplicationContext will be marked as dirty after the test class.\r\n* `@DirtiesContext(classMode=ClassMode.AFTER_EACH_TEST_METHOD)` - The associated ApplicationContext will be marked as dirty after each test method in the class.\r\n\r\ni.e.\r\n  \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(classes = {Application.class},\r\n        webEnvironment= SpringBootTest.WebEnvironment.DEFINED_PORT, properties = {&quot;server.port:0&quot;})\r\n    @DirtiesContext(classMode= DirtiesContext.ClassMode.AFTER_CLASS)\r\n    public class ApplicationIT {\r\n    ...","title":"Programmatically shut down Spring Boot application","body":"<p><strong>In the application</strong> you can use <code>SpringApplication</code>. This has a static <code>exit()</code> method that takes two arguments: the <code>ApplicationContext</code> and an <code>ExitCodeGenerator</code>:</p>\n\n<p>i.e. you can declare this method:</p>\n\n<pre><code>@Autowired\npublic void shutDown(ExecutorServiceExitCodeGenerator exitCodeGenerator) {\n    SpringApplication.exit(applicationContext, exitCodeGenerator);\n}\n</code></pre>\n\n<p><strong>Inside the Integration tests</strong> you can achieved it by adding <code>@DirtiesContext</code> annotation at class level:  </p>\n\n<ul>\n<li><code>@DirtiesContext(classMode=ClassMode.AFTER_CLASS)</code> - The associated ApplicationContext will be marked as dirty after the test class.</li>\n<li><code>@DirtiesContext(classMode=ClassMode.AFTER_EACH_TEST_METHOD)</code> - The associated ApplicationContext will be marked as dirty after each test method in the class.</li>\n</ul>\n\n<p>i.e.</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(classes = {Application.class},\n    webEnvironment= SpringBootTest.WebEnvironment.DEFINED_PORT, properties = {\"server.port:0\"})\n@DirtiesContext(classMode= DirtiesContext.ClassMode.AFTER_CLASS)\npublic class ApplicationIT {\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1589908469,"creation_date":1552740639,"answer_id":55196987,"question_id":22944144,"body_markdown":"This will make sure that the SpringBoot application is closed properly and the resources are released back to the operating system,\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\n    @GetMapping(&quot;/shutdown-app&quot;)\r\n    public void shutdownApp() {\r\n\r\n        int exitCode = SpringApplication.exit(context, (ExitCodeGenerator) () -&gt; 0);\r\n        System.exit(exitCode);\r\n    }","title":"Programmatically shut down Spring Boot application","body":"<p>This will make sure that the SpringBoot application is closed properly and the resources are released back to the operating system,</p>\n\n<pre><code>@Autowired\nprivate ApplicationContext context;\n\n@GetMapping(\"/shutdown-app\")\npublic void shutdownApp() {\n\n    int exitCode = SpringApplication.exit(context, (ExitCodeGenerator) () -&gt; 0);\n    System.exit(exitCode);\n}\n</code></pre>\n"}],"owner":{"account_id":142616,"reputation":34832,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159139,"favorite_count":0,"down_vote_count":0,"up_vote_count":158,"accepted_answer_id":22944850,"answer_count":5,"score":158,"last_activity_date":1677673471,"creation_date":1396978076,"question_id":22944144,"body_markdown":"How can I **programmatically shutdown** a **Spring Boot** application **without terminating the VM**?\r\n\r\nIn other works, what is the opposite of\r\n\r\n    new SpringApplication(Main.class).run(args);","title":"Programmatically shut down Spring Boot application","body":"<p>How can I <strong>programmatically shutdown</strong> a <strong>Spring Boot</strong> application <strong>without terminating the VM</strong>?</p>\n\n<p>In other works, what is the opposite of</p>\n\n<pre><code>new SpringApplication(Main.class).run(args);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-repositories"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1677674543,"post_id":75602136,"comment_id":133383688,"body_markdown":"You are using JPA, which requires a datasource, however you excluded the `DataSourceAutoConfiguration`. No datasource, no JPA, no Spring Data JPA.","body":"You are using JPA, which requires a datasource, however you excluded the <code>DataSourceAutoConfiguration</code>. No datasource, no JPA, no Spring Data JPA."}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677665130,"creation_date":1677665130,"answer_id":75602193,"question_id":75602136,"body_markdown":"In order for Spring to find your beans using &quot;Spring Magic&quot; you have to use the correct annotations:\r\n\r\nJust like using `@Controller` or `@Service` for a controller or a service, there&#39;s an annotation for repositories: `@Repository`.\r\n\r\nAnnotate your repository with this.","title":"Field postRepository in BlogController required a bean of type &#39;PostRepository&#39; that could not be found","body":"<p>In order for Spring to find your beans using &quot;Spring Magic&quot; you have to use the correct annotations:</p>\n<p>Just like using <code>@Controller</code> or <code>@Service</code> for a controller or a service, there's an annotation for repositories: <code>@Repository</code>.</p>\n<p>Annotate your repository with this.</p>\n"}],"owner":{"account_id":27907579,"reputation":3,"user_id":21310443,"display_name":"Azizxon Zufarov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677673396,"creation_date":1677664825,"question_id":75602136,"body_markdown":"I am writing simple Java Spring boot MVC web application.\r\nIt contains crud operations for manipulating with blog elements such as posts.\r\n\r\n\r\nI have one error:\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-03-01 14:47:48.697 ERROR 4176 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField postRepository in com.example.demo.controllers.BlogController required a bean of type &#39;com.example.demo.repo.PostRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.demo.repo.PostRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nMy code looks as follows, the Controller:\r\n```\r\npackage com.example.demo.controllers;\r\n\r\nimport com.example.demo.models.Post;\r\nimport com.example.demo.repo.PostRepository;\r\nimport javafx.geometry.Pos;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.multipart.MultipartException;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Optional;\r\n\r\n@Controller\r\npublic class BlogController {\r\n\r\n    @Autowired\r\n    private PostRepository postRepository;\r\n\r\n    @GetMapping(&quot;/blog&quot;)\r\n    public String name(Model model, String name) {\r\n        Iterable&lt;Post&gt; posts = postRepository.findAll();\r\n        model.addAttribute(&quot;posts&quot;, posts);\r\n        return &quot;blogmain&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe repository, which is not found by Spring:\r\n\r\n```\r\npackage com.example.demo.repo;\r\n\r\nimport com.example.demo.models.Post;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface PostRepository extends CrudRepository&lt;Post, Long&gt; {}\r\n```\r\nDemoApplication.java:\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\r\n@ComponentScan(basePackages = &quot;com.example.demo&quot;)\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nMy project structure looks [like this](https://ibb.co/BGMnwSm):\r\n```\r\nsrc/main/java/com/example/demo\r\n|_controllers\r\n  |_BlogController.java\r\n  |_MainController.java\r\n|_models\r\n  |_[...]\r\n|_repo\r\n  |_PostRepository.java\r\n|_templates\r\n  |_[...]\r\n|_DemoApplication.java\r\n```\r\n\r\nThanks!","title":"Field postRepository in BlogController required a bean of type &#39;PostRepository&#39; that could not be found","body":"<p>I am writing simple Java Spring boot MVC web application.\nIt contains crud operations for manipulating with blog elements such as posts.</p>\n<p>I have one error:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-03-01 14:47:48.697 ERROR 4176 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField postRepository in com.example.demo.controllers.BlogController required a bean of type 'com.example.demo.repo.PostRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.example.demo.repo.PostRepository' in your configuration.\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>My code looks as follows, the Controller:</p>\n<pre><code>package com.example.demo.controllers;\n\nimport com.example.demo.models.Post;\nimport com.example.demo.repo.PostRepository;\nimport javafx.geometry.Pos;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.multipart.MultipartException;\n\nimport java.util.ArrayList;\nimport java.util.Optional;\n\n@Controller\npublic class BlogController {\n\n    @Autowired\n    private PostRepository postRepository;\n\n    @GetMapping(&quot;/blog&quot;)\n    public String name(Model model, String name) {\n        Iterable&lt;Post&gt; posts = postRepository.findAll();\n        model.addAttribute(&quot;posts&quot;, posts);\n        return &quot;blogmain&quot;;\n    }\n}\n\n</code></pre>\n<p>The repository, which is not found by Spring:</p>\n<pre><code>package com.example.demo.repo;\n\nimport com.example.demo.models.Post;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface PostRepository extends CrudRepository&lt;Post, Long&gt; {}\n</code></pre>\n<p>DemoApplication.java:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\n@ComponentScan(basePackages = &quot;com.example.demo&quot;)\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>My project structure looks <a href=\"https://ibb.co/BGMnwSm\" rel=\"nofollow noreferrer\">like this</a>:</p>\n<pre><code>src/main/java/com/example/demo\n|_controllers\n  |_BlogController.java\n  |_MainController.java\n|_models\n  |_[...]\n|_repo\n  |_PostRepository.java\n|_templates\n  |_[...]\n|_DemoApplication.java\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","jersey","jax-rs"],"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677673218,"creation_date":1677673218,"question_id":75603648,"body_markdown":"I have created a gradle spring-boot application which has both spring-mvc controllers as well as jersey jax-rs controllers. I have created .war file and deployed it in an external tomcat.\r\n\r\nI am able to successfully hit spring-mvc controllers as well as jersey jax-rs endpoints which are part of the project. But when I try to hit endpoints which are part of jar file placed in **WEB-INF/lib** directory, I get 404 error response.\r\n\r\nMy **JerseyConfig** class file is as follows:\r\n\r\n    package com.example.core.config;\r\n\r\n    import com.example.core.rest.OauthController;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.glassfish.jersey.servlet.ServletProperties;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    import javax.ws.rs.ApplicationPath;\r\n\r\n    @Configuration\r\n    @ApplicationPath(&quot;/rest&quot;)\r\n    public class JerseyConfig extends ResourceConfig {\r\n\r\n    public JerseyConfig(){\r\n        packages(&quot;com.example.core.oauth.*&quot;);    //This the package I am trying to load from jar file\r\n        property(ServletProperties.FILTER_FORWARD_ON_404, true);\r\n        register(OauthController.class);      //Endpoint created within the project which loads successfully\r\n\r\n      }\r\n\r\n    }\r\n\r\nWhen I call https://localhost/rest/oauthcontroller I get 200 response, even the spring mvc controller https://localhost/mycontroller from the same project gives 200 response, but all the rest endpoints which are part of the jar files(com.example.core.oauth.*) are giving 404 response.","title":"How to load jersey endpoints from a jar in springboot application","body":"<p>I have created a gradle spring-boot application which has both spring-mvc controllers as well as jersey jax-rs controllers. I have created .war file and deployed it in an external tomcat.</p>\n<p>I am able to successfully hit spring-mvc controllers as well as jersey jax-rs endpoints which are part of the project. But when I try to hit endpoints which are part of jar file placed in <strong>WEB-INF/lib</strong> directory, I get 404 error response.</p>\n<p>My <strong>JerseyConfig</strong> class file is as follows:</p>\n<pre><code>package com.example.core.config;\n\nimport com.example.core.rest.OauthController;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.servlet.ServletProperties;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.ws.rs.ApplicationPath;\n\n@Configuration\n@ApplicationPath(&quot;/rest&quot;)\npublic class JerseyConfig extends ResourceConfig {\n\npublic JerseyConfig(){\n    packages(&quot;com.example.core.oauth.*&quot;);    //This the package I am trying to load from jar file\n    property(ServletProperties.FILTER_FORWARD_ON_404, true);\n    register(OauthController.class);      //Endpoint created within the project which loads successfully\n\n  }\n\n}\n</code></pre>\n<p>When I call https://localhost/rest/oauthcontroller I get 200 response, even the spring mvc controller https://localhost/mycontroller from the same project gives 200 response, but all the rest endpoints which are part of the jar files(com.example.core.oauth.*) are giving 404 response.</p>\n"},{"tags":["java","selenium","testing","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534321981,"post_id":51853219,"comment_id":90663078,"body_markdown":"do you want to disable the proxy on chrome browser ?and not to get any popup for asking the username and password ?","body":"do you want to disable the proxy on chrome browser ?and not to get any popup for asking the username and password ?"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534322140,"post_id":51853219,"comment_id":90663134,"body_markdown":"I want to enter the username and password in that popup","body":"I want to enter the username and password in that popup"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534322233,"post_id":51853219,"comment_id":90663174,"body_markdown":"are you getting any error ?","body":"are you getting any error ?"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534322291,"post_id":51853219,"comment_id":90663201,"body_markdown":"Not any error, I tried passing the username and password with url itself but it is not working @RamanaMuttana","body":"Not any error, I tried passing the username and password with url itself but it is not working @RamanaMuttana"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534322394,"post_id":51853219,"comment_id":90663247,"body_markdown":"can you add the code ,,making the driver to go to popup is not through url , it can done by   Alert alert = driver.switchTo().alert();","body":"can you add the code ,,making the driver to go to popup is not through url , it can done by   Alert alert = driver.switchTo().alert();"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534322456,"post_id":51853219,"comment_id":90663274,"body_markdown":"Not able to switch to alert","body":"Not able to switch to alert"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534322579,"post_id":51853219,"comment_id":90663314,"body_markdown":"@RamanaMuttana Please check the code","body":"@RamanaMuttana Please check the code"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534323150,"post_id":51853219,"comment_id":90663554,"body_markdown":"dc.setCapability(CapabilityType.PROXY,p); change this line","body":"dc.setCapability(CapabilityType.PROXY,p); change this line"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534323260,"post_id":51853219,"comment_id":90663610,"body_markdown":"After changing what should i do because alert is still not working","body":"After changing what should i do because alert is still not working"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534323999,"post_id":51853219,"comment_id":90663936,"body_markdown":"https://www.autoitscript.com/site/autoit/  create one AUTOIT script.exe and run with it ..WinWaitActive(&quot;Authentication Login&quot;) send(&quot;validusername&quot;) send(&quot;{TAB}&quot;) send(&quot;Validpassword&quot;) send(&quot;{ENTER}&quot;)  add path of this exe before your opening url","body":"<a href=\"https://www.autoitscript.com/site/autoit/\" rel=\"nofollow noreferrer\">autoitscript.com/site/autoit</a>  create one AUTOIT script.exe and run with it ..WinWaitActive(&quot;Authentication Login&quot;) send(&quot;validusername&quot;) send(&quot;{TAB}&quot;) send(&quot;Validpassword&quot;) send(&quot;{ENTER}&quot;)  add path of this exe before your opening url"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534324641,"post_id":51853219,"comment_id":90664205,"body_markdown":"problem is after driver.get(&quot;www.google.com&quot;)   No instruction is running","body":"problem is after driver.get(&quot;www.google.com&quot;)   No instruction is running"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534324859,"post_id":51853219,"comment_id":90664295,"body_markdown":"did you read the above comment and tried ? 1)the first question is did the popup is appearing before the driver.get(&quot;www.google.com&quot;) or after the driver.get(&quot;www.google.com&quot;)?. if the popup appears before the driver tries to open the google.com,, then add the AUTOIT script.exe file before driver.get(&quot;www.google.com&quot;).","body":"did you read the above comment and tried ? 1)the first question is did the popup is appearing before the driver.get(&quot;www.google.com&quot;) or after the driver.get(&quot;www.google.com&quot;)?. if the popup appears before the driver tries to open the google.com,, then add the AUTOIT script.exe file before driver.get(&quot;www.google.com&quot;)."},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534325121,"post_id":51853219,"comment_id":90664434,"body_markdown":"Yes ;popup is appearing before driver.get()","body":"Yes ;popup is appearing before driver.get()"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534325540,"post_id":51853219,"comment_id":90664619,"body_markdown":"then follow the above comment code and link provided and tell me the results","body":"then follow the above comment code and link provided and tell me the results"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534325935,"post_id":51853219,"comment_id":90664810,"body_markdown":"Proxy p = new Proxy(); p.setHttpProxy(&quot;in-pr.oxylabs.io:20000&quot;);\np.setSslProxy(&quot;in-pr.oxylabs.io:20000&quot;);\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;&quot;);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--incognito&quot;);\nDesiredCapabilities dc = DesiredCapabilities.chrome();\ndc.setCapability(ChromeOptions.CAPABILITY,options);\ndc.setCapability(CapabilityType.PROXY,p);\nWebDriver driver = new ChromeDriver(dc);\tRuntime.getRuntime().exec(&quot;path&quot;);","body":"Proxy p = new Proxy(); p.setHttpProxy(&quot;in-pr.oxylabs.io:20000&quot;); p.setSslProxy(&quot;in-pr.oxylabs.io:20000&quot;); System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;&quot;); ChromeOptions options = new ChromeOptions(); options.addArguments(&quot;--incognito&quot;); DesiredCapabilities dc = DesiredCapabilities.chrome(); dc.setCapability(ChromeOptions.CAPABILITY,options); dc.setCapability(CapabilityType.PROXY,p); WebDriver driver = new ChromeDriver(dc);\tRuntime.getRuntime().exec(&quot;path&quot;);"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534325948,"post_id":51853219,"comment_id":90664817,"body_markdown":"tried this code but not working","body":"tried this code but not working"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534326223,"post_id":51853219,"comment_id":90664952,"body_markdown":"I have already watch that video but issue is same","body":"I have already watch that video but issue is same"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534326778,"post_id":51853219,"comment_id":90665247,"body_markdown":"try driver.get( &quot;http://username:password@google.com&quot;); once","body":"try driver.get( &quot;<a href=\"http://username:password@google.com&quot;\" rel=\"nofollow noreferrer\">username:password@google.com&quot;</a>); once"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534326947,"post_id":51853219,"comment_id":90665335,"body_markdown":"i tried like driver.get(&quot;https://username:password@google.com&quot;); but did not work","body":"i tried like driver.get(&quot;<a href=\"https://username:password@google.com&quot;\" rel=\"nofollow noreferrer\">username:password@google.com&quot;</a>); but did not work"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534327384,"post_id":51853219,"comment_id":90665574,"body_markdown":"username and password are :  your username and your password","body":"username and password are :  your username and your password"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534327560,"post_id":51853219,"comment_id":90665664,"body_markdown":"username is love and password is also love","body":"username is love and password is also love"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534327626,"post_id":51853219,"comment_id":90665694,"body_markdown":"i mean did you tried with your credientials ? i am not asking for you to mention .what is the result now ?","body":"i mean did you tried with your credientials ? i am not asking for you to mention .what is the result now ?"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534327690,"post_id":51853219,"comment_id":90665725,"body_markdown":"you mean manually","body":"you mean manually"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534327739,"post_id":51853219,"comment_id":90665753,"body_markdown":"no , with driver only","body":"no , with driver only"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534328025,"post_id":51853219,"comment_id":90665898,"body_markdown":"yes tried with driver and it is still showing me the authentication popup","body":"yes tried with driver and it is still showing me the authentication popup"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534328267,"post_id":51853219,"comment_id":90665994,"body_markdown":"Try with &quot;MultiPass for HTTP basic authentication&quot; chrome extension","body":"Try with &quot;MultiPass for HTTP basic authentication&quot; chrome extension"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534328356,"post_id":51853219,"comment_id":90666039,"body_markdown":"how to use http basic authentication","body":"how to use http basic authentication"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534328465,"post_id":51853219,"comment_id":90666091,"body_markdown":"add the extension to chrome , search once  &quot;how to add the extensions to chrome&quot; and search for the extension and add and try","body":"add the extension to chrome , search once  &quot;how to add the extensions to chrome&quot; and search for the extension and add and try"},{"owner":{"account_id":10798846,"reputation":28592,"user_id":7943564,"accept_rate":80,"display_name":"glennsl"},"score":0,"creation_date":1534423751,"post_id":51853219,"comment_id":90706181,"body_markdown":"&quot;not working&quot; is not a useful problem description. Please be more specific.","body":"&quot;not working&quot; is not a useful problem description. Please be more specific."},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":2,"creation_date":1534423801,"post_id":51853219,"comment_id":90706219,"body_markdown":"It is still showing authentication","body":"It is still showing authentication"},{"owner":{"account_id":5867615,"reputation":439,"user_id":4621020,"display_name":"oznomal"},"score":0,"creation_date":1542562121,"post_id":51853219,"comment_id":93603806,"body_markdown":"Did you ever find a solution to this? having a similar issue","body":"Did you ever find a solution to this? having a similar issue"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1542586375,"post_id":51853219,"comment_id":93610200,"body_markdown":"I used autoit to handle popup","body":"I used autoit to handle popup"}],"answers":[{"tags":[],"owner":{"account_id":8123741,"reputation":1271,"user_id":7037546,"display_name":"dlauzon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554386418,"creation_date":1554386418,"answer_id":55517867,"question_id":51853219,"body_markdown":"There&#39;s a small Chrome plugin that you can build manually [from this answer][1].&lt;br&gt;\r\nTo apply the plugin, in a java context:\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.addExtensions(new File(&quot;proxy.zip&quot;));\r\n    driver = new ChromeDriver(chromeOptions);\t\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35293222/7037546","title":"Proxy authentication popup in Selenium","body":"<p>There's a small Chrome plugin that you can build manually <a href=\"https://stackoverflow.com/a/35293222/7037546\">from this answer</a>.<br>\nTo apply the plugin, in a java context:</p>\n\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.addExtensions(new File(\"proxy.zip\"));\ndriver = new ChromeDriver(chromeOptions);   \n</code></pre>\n"}],"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"comment_count":32,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3123,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1677673170,"creation_date":1534309490,"question_id":51853219,"body_markdown":"I am working on a project where I need to use a proxy. I am using the Chrome browser and when I run my script it forces me to enter the username and password of the proxy.\r\n\r\nI have tried passing the username and password with the URL itself, but it is not working.\r\n\r\nHere is the code:\r\n\r\n    Proxy p = new Proxy();\r\n\tp.setHttpProxy(&quot;in-pr.oxylabs.io:20000&quot;);\r\n\tp.setSslProxy(&quot;in-pr.oxylabs.io:20000&quot;);\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\Love_Testing\\\\Senium_Naveen\\\\chrome Driver\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\tChromeOptions options = new ChromeOptions();\r\n\t//\toptions.addArguments(&quot;--incognito&quot;);\r\n\tDesiredCapabilities dc = DesiredCapabilities.chrome();\r\n\tdc.setCapability(ChromeOptions.CAPABILITY,options);\r\n\tdc.setCapability(&quot;proxy&quot;,p);\r\n\tWebDriver driver = new ChromeDriver(dc);\r\n\tdriver.get(&quot;https://www.google.com&quot;);\r\n","title":"Proxy authentication popup in Selenium","body":"<p>I am working on a project where I need to use a proxy. I am using the Chrome browser and when I run my script it forces me to enter the username and password of the proxy.</p>\n\n<p>I have tried passing the username and password with the URL itself, but it is not working.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>Proxy p = new Proxy();\np.setHttpProxy(\"in-pr.oxylabs.io:20000\");\np.setSslProxy(\"in-pr.oxylabs.io:20000\");\nSystem.setProperty(\"webdriver.chrome.driver\",\"D:\\\\Love_Testing\\\\Senium_Naveen\\\\chrome Driver\\\\chromedriver_win32\\\\chromedriver.exe\");\nChromeOptions options = new ChromeOptions();\n//  options.addArguments(\"--incognito\");\nDesiredCapabilities dc = DesiredCapabilities.chrome();\ndc.setCapability(ChromeOptions.CAPABILITY,options);\ndc.setCapability(\"proxy\",p);\nWebDriver driver = new ChromeDriver(dc);\ndriver.get(\"https://www.google.com\");\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":27901318,"reputation":1,"user_id":21305637,"display_name":"Nano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677672757,"creation_date":1677672757,"answer_id":75603575,"question_id":75594299,"body_markdown":"Solved. Cleared focus from parent Activity and then requested focus on ViewPager.","title":"TextInputEditText receiving keyboard events without focus","body":"<p>Solved. Cleared focus from parent Activity and then requested focus on ViewPager.</p>\n"}],"owner":{"account_id":27901318,"reputation":1,"user_id":21305637,"display_name":"Nano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75603575,"answer_count":1,"score":0,"last_activity_date":1677672757,"creation_date":1677599217,"question_id":75594299,"body_markdown":"I&#39;m using an activity with a ViewPager to scroll between 3 fragments. In this activity, I have overriden dispatchKeyEvent to be able to propagate keyevents generated by the device&#39;s scanner to the correct fragment depending on what is scanned. \r\n\r\nOne of these fragments has some TextInputLayout/TextInputEditText so the user is able to manually add data. When he presses &quot;Done&quot; on SoftKeyboard I set the data, hide the keyboard and clear the focus by calling **getActivity().getCurrentFocus().clearFocus()** (Null checked). Now, if I use the scanner again the input gets written on these TextInputEditText&#39;s, even when getActivity().getCurrentFocus() returns null. Main Activity is no longer able to catch dispatchKeyEvent.\r\n\r\nAny ideas ideas would be highly appreciated.\r\n\r\nSwitching fragments on ViewPager and coming back to this one seems the only way to getting it back working again.","title":"TextInputEditText receiving keyboard events without focus","body":"<p>I'm using an activity with a ViewPager to scroll between 3 fragments. In this activity, I have overriden dispatchKeyEvent to be able to propagate keyevents generated by the device's scanner to the correct fragment depending on what is scanned.</p>\n<p>One of these fragments has some TextInputLayout/TextInputEditText so the user is able to manually add data. When he presses &quot;Done&quot; on SoftKeyboard I set the data, hide the keyboard and clear the focus by calling <strong>getActivity().getCurrentFocus().clearFocus()</strong> (Null checked). Now, if I use the scanner again the input gets written on these TextInputEditText's, even when getActivity().getCurrentFocus() returns null. Main Activity is no longer able to catch dispatchKeyEvent.</p>\n<p>Any ideas ideas would be highly appreciated.</p>\n<p>Switching fragments on ViewPager and coming back to this one seems the only way to getting it back working again.</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":1,"creation_date":1677669128,"post_id":75602877,"comment_id":133382087,"body_markdown":"what is the url you are trying to hit?","body":"what is the url you are trying to hit?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677672256,"post_id":75602877,"comment_id":133382933,"body_markdown":"What is the OS you are running on? Windows? If so you are probably running into https://github.com/spring-projects/spring-boot/issues/34379","body":"What is the OS you are running on? Windows? If so you are probably running into <a href=\"https://github.com/spring-projects/spring-boot/issues/34379\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/34379</a>"},{"owner":{"account_id":27908266,"reputation":1,"user_id":21310997,"display_name":"B Bharat Bhusan Subudhi"},"score":0,"creation_date":1677672268,"post_id":75602877,"comment_id":133382937,"body_markdown":"I am trying to hit &quot;/test&quot;","body":"I am trying to hit &quot;/test&quot;"},{"owner":{"account_id":2751226,"reputation":413,"user_id":2370582,"display_name":"Vinh Truong"},"score":0,"creation_date":1677676196,"post_id":75602877,"comment_id":133384243,"body_markdown":"try adding `logging.level.org.springframework=debug` in applicaiton.properties and restart the application. Then you search for the `TestController` in the output console to see if it shows anything?","body":"try adding <code>logging.level.org.springframework=debug</code> in applicaiton.properties and restart the application. Then you search for the <code>TestController</code> in the output console to see if it shows anything?"}],"answers":[{"tags":[],"owner":{"account_id":26260052,"reputation":16,"user_id":19931523,"display_name":"Amrit Tiwari"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1677672723,"creation_date":1677672723,"answer_id":75603565,"question_id":75602877,"body_markdown":"@SpringBootApplication(scanBasePackages = {com.example.package}, exclude={Controller.class}), use this in main class","title":"Spring Boot: Controller beans are not created","body":"<p>@SpringBootApplication(scanBasePackages = {com.example.package}, exclude={Controller.class}), use this in main class</p>\n"}],"owner":{"account_id":27908266,"reputation":1,"user_id":21310997,"display_name":"B Bharat Bhusan Subudhi"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677938359,"answer_count":1,"score":-1,"last_activity_date":1677672723,"creation_date":1677668944,"question_id":75602877,"body_markdown":"I have created a simple Spring boot Application with single API, but the API is not exposed to the users.\r\n\r\n\r\nI am using java version 17.\r\nSpring boot: 3.0.3\r\n\r\nPlease find my code\r\n\r\n\r\n**Controller**\r\n\r\n```\r\npackage com.example.demo.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class TestController {\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String test(){\r\n        return &quot;test&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n**MainApplication**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n**application.properties**\r\n\r\n```\r\nserver.port=8081\r\nmanagement.endpoints.web.base-path=/\r\nmanagement.endpoints.web.exposure.include=*\r\n```\r\n\r\n\r\n\r\n**build.gradle**\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.3&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nAs a process of debugging, I have added actuator and hit the APIs /mappings and /beans.\r\nNoticed that my **/test** API is not in the mappings list, and also\r\nThere is no bean for my controller **TestController** is found in the beans list.","title":"Spring Boot: Controller beans are not created","body":"<p>I have created a simple Spring boot Application with single API, but the API is not exposed to the users.</p>\n<p>I am using java version 17.\nSpring boot: 3.0.3</p>\n<p>Please find my code</p>\n<p><strong>Controller</strong></p>\n<pre><code>package com.example.demo.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class TestController {\n\n    @GetMapping(&quot;/test&quot;)\n    public String test(){\n        return &quot;test&quot;;\n    }\n}\n\n</code></pre>\n<p><strong>MainApplication</strong></p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>server.port=8081\nmanagement.endpoints.web.base-path=/\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.3'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>As a process of debugging, I have added actuator and hit the APIs /mappings and /beans.\nNoticed that my <strong>/test</strong> API is not in the mappings list, and also\nThere is no bean for my controller <strong>TestController</strong> is found in the beans list.</p>\n"},{"tags":["java","eclipse","java-11","var"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1677663614,"post_id":75601847,"comment_id":133380568,"body_markdown":"What is set for the compliance level in the &quot;Java Compiler&quot; page of the Eclipse project Properties? That is what tells Eclipse what level to check.","body":"What is set for the compliance level in the &quot;Java Compiler&quot; page of the Eclipse project Properties? That is what tells Eclipse what level to check."},{"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1677666221,"post_id":75601847,"comment_id":133381300,"body_markdown":"@greg-449 added screenshot","body":"@greg-449 added screenshot"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1677666562,"post_id":75601847,"comment_id":133381409,"body_markdown":"Does it complain about *every* `var` or just some? Java 11 introduced `var` in lambda arguments and I&#39;m not aware of a later change, but maybe I missed something?","body":"Does it complain about <i>every</i> <code>var</code> or just some? Java 11 introduced <code>var</code> in lambda arguments and I&#39;m not aware of a later change, but maybe I missed something?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1677667059,"post_id":75601847,"comment_id":133381557,"body_markdown":"Yes, show us one of the errors, you can&#39;t use var everywhere.","body":"Yes, show us one of the errors, you can&#39;t use var everywhere."},{"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1677667898,"post_id":75601847,"comment_id":133381768,"body_markdown":"@greg-449 this issue is with my system only , this code is old and deployed in server from years.","body":"@greg-449 this issue is with my system only , this code is old and deployed in server from years."},{"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1677667918,"post_id":75601847,"comment_id":133381774,"body_markdown":"@JoachimSauer yes everywhere","body":"@JoachimSauer yes everywhere"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1677678075,"post_id":75601847,"comment_id":133384845,"body_markdown":"I cannot reproduce your issue. Your code example seems to be broken. I guess you mean Eclipse 2019-03, which is almost 4 years and 15 releases behind. So please upgrade.","body":"I cannot reproduce your issue. Your code example seems to be broken. I guess you mean Eclipse 2019-03, which is almost 4 years and 15 releases behind. So please upgrade."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1677733457,"post_id":75601847,"comment_id":133397324,"body_markdown":"You also need to have the source level of the compiler to 11 or later","body":"You also need to have the source level of the compiler to 11 or later"},{"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1677738500,"post_id":75601847,"comment_id":133397954,"body_markdown":"@Thorbj&#248;rnRavnAndersen I have set the compiler to 11 only in Project-&gt;Properties.","body":"@Thorbj&#248;rnRavnAndersen I have set the compiler to 11 only in Project-&gt;Properties."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1677740111,"post_id":75601847,"comment_id":133398288,"body_markdown":"So, can you reproduce it it the a current Eclipse instead of the pretty outdated version 2019-03 (it might caused by an issue already been fixed long time ago or by running Eclipse with a Java version newer than your Eclipse you missed to upgrade for years)? Please make sure your software you are using is up to date before asking (there is a separate Stack Exchange for [retrocomputing](https://retrocomputing.stackexchange.com/)). Why did you set manually _Project &gt; Properties_ rather than right-click the project and choose _Maven &gt; Update Project..._?","body":"So, can you reproduce it it the a current Eclipse instead of the pretty outdated version 2019-03 (it might caused by an issue already been fixed long time ago or by running Eclipse with a Java version newer than your Eclipse you missed to upgrade for years)? Please make sure your software you are using is up to date before asking (there is a separate Stack Exchange for <a href=\"https://retrocomputing.stackexchange.com/\">retrocomputing</a>). Why did you set manually <i>Project &gt; Properties</i> rather than right-click the project and choose <i>Maven &gt; Update Project...</i>?"}],"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677672450,"creation_date":1677663362,"question_id":75601847,"body_markdown":"I am using Eclipse 19-03 with jre 11.0.15 , able to compile and run my other existing projects with jre 11 but in a project where var is being used (this project is deployed in server and running fine from months) my IDE gives an error &quot;&#39;var&#39; is not allowed here&quot;. I have checked compiler it is jdk 11. In pom below entries are there.Not sure what I am missing. Can somebody please help.\r\n\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n      @Component\r\n      public class StudentImpl implements StudentMapper {\r\n\r\n      @Override\r\n      public student mapObject(Address sourceObject) {\r\n         if (sourceObject == null) {\r\n      return null;\r\n     }\r\n\r\n    var student = new student();\r\n\r\n    student.setFirstName(sourceObject.getFirstName());\r\n    student.setMiddleName(sourceObject.getMiddleName());\r\n    student.setLastName(sourceObject.getLastName());\r\n    student.setSuffix(sourceObject.getSuffix());\r\n    student.setCompany(sourceObject.getCompany());\r\n    student.setAddressLine1(sourceObject.getAddressLine1());\r\n    student.setAddressLine2(sourceObject.getAddressLine2());\r\n    student.setAddressLine3(sourceObject.getAddressLine3());\r\n    student.setCity(sourceObject.getCity());\r\n    student.setState(sourceObject.getState());\r\n    student.setZipCode(sourceObject.getZipCode());\r\n    student.setCountry(sourceObject.getCountry());\r\n    student.setDayPhone(sourceObject.getDayPhone());\r\n    student.setMobilePhone(sourceObject.getMobilePhone());\r\n    student.setTitle(sourceObject.getTitle());\r\n    student.setEMailID(sourceObject.getEMailID());\r\n    student.setDayFaxNo(sourceObject.getDayFaxNo());\r\n    student.setJobTitle(sourceObject.getJobTitle());\r\n\r\n    return student;\r\n    }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/H0VKD.png","title":"var keyword not recognized in JDK 11.0.15 in Eclipse 19-03","body":"<p>I am using Eclipse 19-03 with jre 11.0.15 , able to compile and run my other existing projects with jre 11 but in a project where var is being used (this project is deployed in server and running fine from months) my IDE gives an error &quot;'var' is not allowed here&quot;. I have checked compiler it is jdk 11. In pom below entries are there.Not sure what I am missing. Can somebody please help.</p>\n<pre><code>    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/H0VKD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H0VKD.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>  @Component\n  public class StudentImpl implements StudentMapper {\n\n  @Override\n  public student mapObject(Address sourceObject) {\n     if (sourceObject == null) {\n  return null;\n }\n\nvar student = new student();\n\nstudent.setFirstName(sourceObject.getFirstName());\nstudent.setMiddleName(sourceObject.getMiddleName());\nstudent.setLastName(sourceObject.getLastName());\nstudent.setSuffix(sourceObject.getSuffix());\nstudent.setCompany(sourceObject.getCompany());\nstudent.setAddressLine1(sourceObject.getAddressLine1());\nstudent.setAddressLine2(sourceObject.getAddressLine2());\nstudent.setAddressLine3(sourceObject.getAddressLine3());\nstudent.setCity(sourceObject.getCity());\nstudent.setState(sourceObject.getState());\nstudent.setZipCode(sourceObject.getZipCode());\nstudent.setCountry(sourceObject.getCountry());\nstudent.setDayPhone(sourceObject.getDayPhone());\nstudent.setMobilePhone(sourceObject.getMobilePhone());\nstudent.setTitle(sourceObject.getTitle());\nstudent.setEMailID(sourceObject.getEMailID());\nstudent.setDayFaxNo(sourceObject.getDayFaxNo());\nstudent.setJobTitle(sourceObject.getJobTitle());\n\nreturn student;\n}\n}\n</code></pre>\n"},{"tags":["python","java","opencv","camera-calibration","2d-3d-conversion"],"comments":[{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1677676731,"post_id":75603497,"comment_id":133384422,"body_markdown":"with just image points and calibration you cant compute a 3D information, because it can be on any depth along a ray. To define the ray you need the calibration, but it can&#39;t tell you magically, where on the ray the point is. If you have second ray (like a second camera with that point) you can intersect both rays (or find their closest distance point) and that&#39;s your point in 3D. Or, if you have 2 points with 1 ray each and you know the real world distance between those points, you can determine the points on both rays which have that known distance to each other.","body":"with just image points and calibration you cant compute a 3D information, because it can be on any depth along a ray. To define the ray you need the calibration, but it can&#39;t tell you magically, where on the ray the point is. If you have second ray (like a second camera with that point) you can intersect both rays (or find their closest distance point) and that&#39;s your point in 3D. Or, if you have 2 points with 1 ray each and you know the real world distance between those points, you can determine the points on both rays which have that known distance to each other."},{"owner":{"account_id":27908627,"reputation":11,"user_id":21311283,"display_name":"Andrea Vannini"},"score":0,"creation_date":1677767412,"post_id":75603497,"comment_id":133405777,"body_markdown":"Hi Micka,\nI have two cameras available with their respective calibrations: intrinsic values and extrinsic velocities for each camera.\nThe intrinsic and extrinsic values are different for each camera and are described as mentioned in the post above\n\nobviously the 2d points for an object seen from the two cameras are different as they refer to the respective position in the image.\n\nDo you know if there is a java or python procedure that allows me to calculate the intersection of the rays of the two cameras?","body":"Hi Micka, I have two cameras available with their respective calibrations: intrinsic values and extrinsic velocities for each camera. The intrinsic and extrinsic values are different for each camera and are described as mentioned in the post above  obviously the 2d points for an object seen from the two cameras are different as they refer to the respective position in the image.  Do you know if there is a java or python procedure that allows me to calculate the intersection of the rays of the two cameras?"}],"owner":{"account_id":27908627,"reputation":11,"user_id":21311283,"display_name":"Andrea Vannini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677672373,"creation_date":1677672373,"question_id":75603497,"body_markdown":"Good morning,\r\nI&#39;m new to the subject and I need some information on this question:\r\nI have received a file which provides the following calibration data for a camera:\r\n\r\nExtrinsic calibration:\r\n`&lt; opencv_storage &gt;`\r\n`&lt; rvec &gt;`\r\n`1.759099006652832 0.46710100769996643 -0.331699013710022`\r\n`&lt; /rvec &gt;`\r\n`&lt; tvec &gt;`\r\n`-525.8941650390625 45.40763473510742 986.7235107421875`\r\n`&lt; /tvec &gt;`\r\n`&lt; /opencv_storage &gt;`\r\n\r\nIntrisic calibration value:\r\n`&lt; opencv_storage &gt;`\r\n`&lt; camera_matrix type_id=&quot;opencv-matrix&quot; &gt;`\r\n`&lt; rows &gt;3&lt; /rows &gt;`\r\n`&lt; cols &gt;3&lt; /cols &gt;`\r\n`&lt; dt &gt;d&lt; /dt &gt;`\r\n`1743.4478759765625 0.0 934.5202026367188 0.0 1735.1566162109375 444.3987731933594 0.0 0.0 1.0`\r\n`&lt; /data &gt;`\r\n`&lt; /camera_matrix &gt;`\r\n`&lt; distortion_coefficients type_id=&quot;opencv-matrix&quot; &gt;`\r\n`&lt; rows &gt;5&lt; /rows &gt;`\r\n`&lt; cols &gt;1&lt; /cols &gt;`\r\n`&lt; dt &gt;d&lt; /dt &gt;`\r\n`&lt; data &gt;`\r\n`-0.43248599767684937 0.6106230020523071 0.008233999833464622 0.0018599999602884054 -0.6923710107803345`\r\n`&lt; /data &gt;`\r\n`&lt; /distortion_coefficients &gt;`\r\n`&lt; /opencv_storage &gt;`\r\n\r\ngiven a 2d point of the camera image how can i calculate the respective 3d point?\r\n\r\nis this data enough to calculate the respective 3d point?","title":"Java - Get 3D point from 2D point and OpenCV camera calibration","body":"<p>Good morning,\nI'm new to the subject and I need some information on this question:\nI have received a file which provides the following calibration data for a camera:</p>\n<p>Extrinsic calibration:\n<code>&lt; opencv_storage &gt;</code>\n<code>&lt; rvec &gt;</code>\n<code>1.759099006652832 0.46710100769996643 -0.331699013710022</code>\n<code>&lt; /rvec &gt;</code>\n<code>&lt; tvec &gt;</code>\n<code>-525.8941650390625 45.40763473510742 986.7235107421875</code>\n<code>&lt; /tvec &gt;</code>\n<code>&lt; /opencv_storage &gt;</code></p>\n<p>Intrisic calibration value:\n<code>&lt; opencv_storage &gt;</code>\n<code>&lt; camera_matrix type_id=&quot;opencv-matrix&quot; &gt;</code>\n<code>&lt; rows &gt;3&lt; /rows &gt;</code>\n<code>&lt; cols &gt;3&lt; /cols &gt;</code>\n<code>&lt; dt &gt;d&lt; /dt &gt;</code>\n<code>1743.4478759765625 0.0 934.5202026367188 0.0 1735.1566162109375 444.3987731933594 0.0 0.0 1.0</code>\n<code>&lt; /data &gt;</code>\n<code>&lt; /camera_matrix &gt;</code>\n<code>&lt; distortion_coefficients type_id=&quot;opencv-matrix&quot; &gt;</code>\n<code>&lt; rows &gt;5&lt; /rows &gt;</code>\n<code>&lt; cols &gt;1&lt; /cols &gt;</code>\n<code>&lt; dt &gt;d&lt; /dt &gt;</code>\n<code>&lt; data &gt;</code>\n<code>-0.43248599767684937 0.6106230020523071 0.008233999833464622 0.0018599999602884054 -0.6923710107803345</code>\n<code>&lt; /data &gt;</code>\n<code>&lt; /distortion_coefficients &gt;</code>\n<code>&lt; /opencv_storage &gt;</code></p>\n<p>given a 2d point of the camera image how can i calculate the respective 3d point?</p>\n<p>is this data enough to calculate the respective 3d point?</p>\n"},{"tags":["java","android","wifi","wifimanager","network-interface"],"comments":[{"owner":{"account_id":2010059,"reputation":956,"user_id":1798737,"accept_rate":40,"display_name":"Muhammad Hamza Shahid"},"score":0,"creation_date":1496225832,"post_id":44281905,"comment_id":75570653,"body_markdown":"one hack that you can do is you send http request to wifi adapter admin panel ip with login credentials and parse HTML but you would require to parse different HTML for each wifi plus pass different ip and username, password for each wifi","body":"one hack that you can do is you send http request to wifi adapter admin panel ip with login credentials and parse HTML but you would require to parse different HTML for each wifi plus pass different ip and username, password for each wifi"},{"owner":{"account_id":9842095,"reputation":1057,"user_id":7290822,"display_name":"sumit"},"score":0,"creation_date":1496226103,"post_id":44281905,"comment_id":75570833,"body_markdown":"Check this link:\nhttps://stackoverflow.com/questions/8445928/wifi-search-for-the-devices-connected-to-the-same-network-i-e-other-than-acces-p","body":"Check this link: <a href=\"https://stackoverflow.com/questions/8445928/wifi-search-for-the-devices-connected-to-the-same-network-i-e-other-than-acces-p\" title=\"wifi search for the devices connected to the same network i e other than acces p\">stackoverflow.com/questions/8445928/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10975911,"reputation":63,"user_id":8064615,"display_name":"Sharathkumar KG"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1496225996,"creation_date":1496225996,"answer_id":44282087,"question_id":44281905,"body_markdown":"**Follow Any one of the following:**\r\n\r\n**Way1:**\r\n\r\nIf you mean you want to see all the devices connected to your current WiFi connection (and you are not trying to do Ad Hoc networking), then you are essentially wanting to run a network scanner.\r\n\r\nThere are a bunch of these around. This one has the source available on github\r\n\r\nhttp://rorist.github.com/android-network-discovery/\r\n\r\n**Way2:**\r\nRefer https://stackoverflow.com/questions/12386948/how-to-detect-all-the-devices-connected-in-a-wifi-network-from-android-app","title":"Get Devices connected to same wifi network in android programmatically?","body":"<p><strong>Follow Any one of the following:</strong></p>\n\n<p><strong>Way1:</strong></p>\n\n<p>If you mean you want to see all the devices connected to your current WiFi connection (and you are not trying to do Ad Hoc networking), then you are essentially wanting to run a network scanner.</p>\n\n<p>There are a bunch of these around. This one has the source available on github</p>\n\n<p><a href=\"http://rorist.github.com/android-network-discovery/\" rel=\"nofollow noreferrer\">http://rorist.github.com/android-network-discovery/</a></p>\n\n<p><strong>Way2:</strong>\nRefer <a href=\"https://stackoverflow.com/questions/12386948/how-to-detect-all-the-devices-connected-in-a-wifi-network-from-android-app\">How to detect all the Devices connected in a WiFi network from Android App</a></p>\n"}],"owner":{"account_id":7086752,"reputation":123,"user_id":5423356,"accept_rate":50,"display_name":"Akki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10041,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1677672290,"creation_date":1496225529,"question_id":44281905,"body_markdown":"I am developing an app in which the first thing i need is how to get devices that are connected to my wifi network or same wifi network .ie ip adress,device name etc.\r\nI don&#39;t have any idea how to do that have searched alot but there are no examples available.\r\n\r\nI have done one thing that i will ping 255 ips and whichever will respond will be the connected ips but the problem here is that there are virtual ips already assigned to some websites so i need to detect only the real device ip addresses.\r\n\r\n\r\nI want to do the same thing as done in the app WifiTalkie","title":"Get Devices connected to same wifi network in android programmatically?","body":"<p>I am developing an app in which the first thing i need is how to get devices that are connected to my wifi network or same wifi network .ie ip adress,device name etc.\nI don't have any idea how to do that have searched alot but there are no examples available.</p>\n\n<p>I have done one thing that i will ping 255 ips and whichever will respond will be the connected ips but the problem here is that there are virtual ips already assigned to some websites so i need to detect only the real device ip addresses.</p>\n\n<p>I want to do the same thing as done in the app WifiTalkie</p>\n"},{"tags":["java","opencv","camera-calibration"],"answers":[{"tags":[],"owner":{"account_id":6452016,"reputation":31,"user_id":4998671,"display_name":"StefaniaBigs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434029434,"creation_date":1434029434,"answer_id":30782233,"question_id":25573331,"body_markdown":"I don&#39;t know if you already fixed your issue with the opnecv calibration but I will give you some hints anyway. First of all I suggest you to read the Zhang paper on calibration (http://research.microsoft.com/en-us/um/people/zhang/Papers/TR98-71.pdf). Opencv methods are based on Zhang&#39;s work so understanding it is a real priority.\r\nCalibrating a camera means determine the relation between camera 2D coordinate system (in pixel units, with the origin on top left corner of camera image) and the 3D coordinate systme of the external world (in metres, for example). When you place a known planar calibration object in front of the camera, the system should compute the homogeneous transformation between the knonw 3D object and the 2D one on image (that is the &quot;rvecs.get(i), tvecs.get(i)&quot; you are talking about).\r\nImage coordinates are always in pixel and also the intrinsic calibration matrix is expressed in pixel.\r\nYou cannot &quot;translate&quot; from 2D image coordinates to 3D world coordinates but you can compute the proper transformation: it is composed by an intrinc calibration matrix and a roto-translation matrix. Please have a look also at this article http://research.microsoft.com/en-us/um/people/zhang/Papers/Camera%20Calibration%20-%20book%20chapter.pdf\r\nHope this helps!\r\n","title":"Camera Calibration OpenCV","body":"<p>I don't know if you already fixed your issue with the opnecv calibration but I will give you some hints anyway. First of all I suggest you to read the Zhang paper on calibration (<a href=\"http://research.microsoft.com/en-us/um/people/zhang/Papers/TR98-71.pdf\" rel=\"nofollow\">http://research.microsoft.com/en-us/um/people/zhang/Papers/TR98-71.pdf</a>). Opencv methods are based on Zhang's work so understanding it is a real priority.\nCalibrating a camera means determine the relation between camera 2D coordinate system (in pixel units, with the origin on top left corner of camera image) and the 3D coordinate systme of the external world (in metres, for example). When you place a known planar calibration object in front of the camera, the system should compute the homogeneous transformation between the knonw 3D object and the 2D one on image (that is the \"rvecs.get(i), tvecs.get(i)\" you are talking about).\nImage coordinates are always in pixel and also the intrinsic calibration matrix is expressed in pixel.\nYou cannot \"translate\" from 2D image coordinates to 3D world coordinates but you can compute the proper transformation: it is composed by an intrinc calibration matrix and a roto-translation matrix. Please have a look also at this article <a href=\"http://research.microsoft.com/en-us/um/people/zhang/Papers/Camera%20Calibration%20-%20book%20chapter.pdf\" rel=\"nofollow\">http://research.microsoft.com/en-us/um/people/zhang/Papers/Camera%20Calibration%20-%20book%20chapter.pdf</a>\nHope this helps!</p>\n"},{"tags":[],"owner":{"account_id":6102374,"reputation":499,"user_id":4760987,"accept_rate":80,"display_name":"Alexander Leon VI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434034173,"creation_date":1434034173,"answer_id":30784162,"question_id":25573331,"body_markdown":"Do you ever wondered why do you have two eyes? In the most primitive sense, it is because only with both eyes we can have an idea of how far or near objects are. In some applications which need to recuperate 3D information it is made by using two cameras, this is called stereoscopy (http://en.wikipedia.org/wiki/Stereoscopy). If you are trying to depict 3D information using a single camera, you only can have a poor approximation, in this case its needed a transformation called homography (http://en.wikipedia.org/wiki/Homography), the last in order to try to model the perspective (or how far or near objects are).\r\nIn most cases when we wanted to calibrate a single camera we try to remove the radial distortions produced by the lens of the camera (http://en.wikipedia.org/wiki/Distortion_%28optics%29). Opencv offers you a tool to do this process, in most cases its needed a Chess board to help this process, you can check this: http://docs.opencv.org/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html, in the spite of being more specific, the function cvFindChessboardCorners. I hope this could be useful to you, sorry for the english, no native speaker.\r\n","title":"Camera Calibration OpenCV","body":"<p>Do you ever wondered why do you have two eyes? In the most primitive sense, it is because only with both eyes we can have an idea of how far or near objects are. In some applications which need to recuperate 3D information it is made by using two cameras, this is called stereoscopy (<a href=\"http://en.wikipedia.org/wiki/Stereoscopy\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Stereoscopy</a>). If you are trying to depict 3D information using a single camera, you only can have a poor approximation, in this case its needed a transformation called homography (<a href=\"http://en.wikipedia.org/wiki/Homography\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Homography</a>), the last in order to try to model the perspective (or how far or near objects are).\nIn most cases when we wanted to calibrate a single camera we try to remove the radial distortions produced by the lens of the camera (<a href=\"http://en.wikipedia.org/wiki/Distortion_%28optics%29\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Distortion_%28optics%29</a>). Opencv offers you a tool to do this process, in most cases its needed a Chess board to help this process, you can check this: <a href=\"http://docs.opencv.org/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html\" rel=\"nofollow\">http://docs.opencv.org/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html</a>, in the spite of being more specific, the function cvFindChessboardCorners. I hope this could be useful to you, sorry for the english, no native speaker.</p>\n"}],"owner":{"account_id":3025743,"reputation":137,"user_id":2565803,"accept_rate":9,"display_name":"Ignacio Ferrero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677671774,"creation_date":1409333439,"question_id":25573331,"body_markdown":"I am recently new in OpenCV and I have been struggling to calibrate my camera. After a few days researching I have a basic understanding of it. But I still fail to understand some basic points.\r\n\r\n1) The initialization of the objectpoint Matrix, why do we initialize this matrix in 0,0\r\n    \r\n    Mat a = new MatOfPoint3f();\r\n\t\t\tfor(int y=0; y&lt;SIZE_Y; ++y) \r\n\t\t\t{\r\n\t\t\t    for(int x=0; x&lt;SIZE_X; ++x)\r\n\t\t\t    {\r\n\t\t\t    \tpoints = new MatOfPoint3f(new Point3(x*distance_Board , y*distance_Board , 0));\r\n\t\t\t    \ta.push_back(points);\r\n\t\t\t    }\r\n\t\t\t}\r\n\r\nWouldn&#39;t it make more sense to initialize it where the board is in the 3D World for example\r\n\r\n    Mat a = new MatOfPoint3f();\r\n\t\t\tfor(int y=1; y&lt;=SIZE_Y; ++y) \r\n\t\t\t{\r\n\t\t\t    for(int x=1; x&lt;=SIZE_X; ++x)\r\n\t\t\t    {\r\n\t\t\t    \tpoints = new MatOfPoint3f(new Point3(x*distance_Board + FirstPoint.x, y*distance_Board + FirstPoint.y, 0));\r\n\t\t\t    \ta.push_back(points);\r\n\t\t\t    }\r\n\t\t\t}\r\n\r\n2)\r\n\r\nI tried to calibrate my camera using \r\n\r\n    \t\t Calib3d.calibrateCamera(object_points, corners, gray.size(), cameraMatrix, distCoeffs, rvecs, tvecs);\r\n   \r\nI have tried with more than 15 images but the results are still very poor , because i don&#39;t understand the significance of having a rvec and tvec for very image(I understand the logic, since for every point the rotation and translation is  different) but how does it help us with other points/other images. I thought that the calibration provided us with a fair good method to translate 3d point into 2d points in the whole scene..\r\n\r\nThat&#39;s why when I run \r\n\r\n    \t\tCalib3d.projectPoints(objectPoints, rvecs.get(i), tvecs.get(i), cameraMatrix, distCoeffs, imagePoints);\r\n\r\nI really don&#39;t know which rvecs and tvecs to choose\r\n\r\n3)\r\n\r\nIs there a method to translate from 2D(imagePoints) into 3D(real World).I have tried\r\n[this](https://stackoverflow.com/questions/12299870/computing-x-y-coordinate-3d-from-image-point) but the results are incorrect due to the incorrect parameters of calibration\r\n\r\n4)\r\n\r\nI have also tried to do the translation from 2D to 3D as follow\r\n\r\n    x   =  x * ( 1 +  k1 * r^2 + k2 * r^4 ) + [ 2 p1 * x * y + p2 * ( r^2 + 2 * x^2 ) ] \r\n\r\n    y   =  y * ( 1 +  k1 * r^2 + k2 * r^4 ] + [ 2 p2 * x * y + p2 * ( r^2 + 2 * y^2 ) ],\r\n\r\na)But what is r? r =  sqrt( x^2 + y^2 )? And x = (the x coordinate pixel) - (the camera center in pixels) ?  \r\n\r\nb) Is the camera center in pixel = cx = parameter of the camera matrix?\r\n\r\nc) Is the x coordinate pixel = u = imagepoint?\r\n\r\nThere is a lot of information online but i have not found a 100% reliable source\r\n\r\n\r\n\r\nI have run out of options, I would really apreciate if someone could give me a good explanation of the camera calibration or point me into the right direction(Papers etc).\r\n\r\n\r\nThank you in advance\r\n\r\n\r\n\r\n","title":"Camera Calibration OpenCV","body":"<p>I am recently new in OpenCV and I have been struggling to calibrate my camera. After a few days researching I have a basic understanding of it. But I still fail to understand some basic points.</p>\n\n<p>1) The initialization of the objectpoint Matrix, why do we initialize this matrix in 0,0</p>\n\n<pre><code>Mat a = new MatOfPoint3f();\n        for(int y=0; y&lt;SIZE_Y; ++y) \n        {\n            for(int x=0; x&lt;SIZE_X; ++x)\n            {\n                points = new MatOfPoint3f(new Point3(x*distance_Board , y*distance_Board , 0));\n                a.push_back(points);\n            }\n        }\n</code></pre>\n\n<p>Wouldn't it make more sense to initialize it where the board is in the 3D World for example</p>\n\n<pre><code>Mat a = new MatOfPoint3f();\n        for(int y=1; y&lt;=SIZE_Y; ++y) \n        {\n            for(int x=1; x&lt;=SIZE_X; ++x)\n            {\n                points = new MatOfPoint3f(new Point3(x*distance_Board + FirstPoint.x, y*distance_Board + FirstPoint.y, 0));\n                a.push_back(points);\n            }\n        }\n</code></pre>\n\n<p>2)</p>\n\n<p>I tried to calibrate my camera using </p>\n\n<pre><code>         Calib3d.calibrateCamera(object_points, corners, gray.size(), cameraMatrix, distCoeffs, rvecs, tvecs);\n</code></pre>\n\n<p>I have tried with more than 15 images but the results are still very poor , because i don't understand the significance of having a rvec and tvec for very image(I understand the logic, since for every point the rotation and translation is  different) but how does it help us with other points/other images. I thought that the calibration provided us with a fair good method to translate 3d point into 2d points in the whole scene..</p>\n\n<p>That's why when I run </p>\n\n<pre><code>        Calib3d.projectPoints(objectPoints, rvecs.get(i), tvecs.get(i), cameraMatrix, distCoeffs, imagePoints);\n</code></pre>\n\n<p>I really don't know which rvecs and tvecs to choose</p>\n\n<p>3)</p>\n\n<p>Is there a method to translate from 2D(imagePoints) into 3D(real World).I have tried\n<a href=\"https://stackoverflow.com/questions/12299870/computing-x-y-coordinate-3d-from-image-point\">this</a> but the results are incorrect due to the incorrect parameters of calibration</p>\n\n<p>4)</p>\n\n<p>I have also tried to do the translation from 2D to 3D as follow</p>\n\n<pre><code>x   =  x * ( 1 +  k1 * r^2 + k2 * r^4 ) + [ 2 p1 * x * y + p2 * ( r^2 + 2 * x^2 ) ] \n\ny   =  y * ( 1 +  k1 * r^2 + k2 * r^4 ] + [ 2 p2 * x * y + p2 * ( r^2 + 2 * y^2 ) ],\n</code></pre>\n\n<p>a)But what is r? r =  sqrt( x^2 + y^2 )? And x = (the x coordinate pixel) - (the camera center in pixels) ?  </p>\n\n<p>b) Is the camera center in pixel = cx = parameter of the camera matrix?</p>\n\n<p>c) Is the x coordinate pixel = u = imagepoint?</p>\n\n<p>There is a lot of information online but i have not found a 100% reliable source</p>\n\n<p>I have run out of options, I would really apreciate if someone could give me a good explanation of the camera calibration or point me into the right direction(Papers etc).</p>\n\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","asynchronous","mail-sender"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677673645,"post_id":75603278,"comment_id":133383379,"body_markdown":"How do you know that the email was not sent? Did you get an error message from the sending program? Or is it based on whether the recipient&#39;s mailbox has received the email?","body":"How do you know that the email was not sent? Did you get an error message from the sending program? Or is it based on whether the recipient&#39;s mailbox has received the email?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677673924,"post_id":75603278,"comment_id":133383476,"body_markdown":"Maybe try FakeSMTP, run it, point your MailServer to localhost, change mail port to 2525 and test your mailer.","body":"Maybe try FakeSMTP, run it, point your MailServer to localhost, change mail port to 2525 and test your mailer."},{"owner":{"account_id":20460593,"reputation":11,"user_id":15013316,"display_name":"frsv9"},"score":0,"creation_date":1677676259,"post_id":75603278,"comment_id":133384267,"body_markdown":"@life888888 no errors are launched, but recipient received only some mails.","body":"@life888888 no errors are launched, but recipient received only some mails."}],"owner":{"account_id":20460593,"reputation":11,"user_id":15013316,"display_name":"frsv9"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677671155,"creation_date":1677671155,"question_id":75603278,"body_markdown":"I have a Spring MVC web Application with have to send mails for a lot of user actions which, at the first time, was made by a synchronous method.\r\n\r\nIf i make many actions (4-5) on sequence, the mail sender is not sending all mails but only some.\r\nI&#39;ve tried with an @Async method but same result.\r\n\r\nMy method:\r\n\r\n           @Async\r\n       public Future&lt;String&gt; sendMail(MailParametersTO mailParams, MailTypeEnum type) {\r\n    \t\ttry {\r\n    \t\t\tMimeMessage message = mailSender.createMimeMessage();\r\n    \t\t\tmessage.setSubject(mailUtils.getMailSubject(mailParams.getSubjectParams(), type));\r\n    \t\t\tMimeMessageHelper helper = new MimeMessageHelper(message, true, &quot;UTF-8&quot;);\r\n    \t\t\thelper.setFrom(from);\r\n    \t\t\thelper.setCc(mailParams.getCc().toArray(new String[0])); \r\n    \t\t\thelper.setTo(mailParams.getTo().toArray(new String[0]));\r\n    \t\t\thelper.setText(mailUtils.getMailBody(mailParams.getBodyParams(), mailParams.getLink(), type), true);\r\n             Thread.sleep(30000);\r\n    \t\t\tmailSender.send(message);\r\n    \t\t} catch (Exception e) {\r\n             e.printStackTrace();\r\n             return new AsyncResult&lt;&gt;(&quot;ERROR&quot;);\r\n    \t\t}\r\n          return new AsyncResult&lt;&gt;(&quot;OK&quot;);\r\n    \t}\t\r\n\r\n\r\nAsync configuration:\r\n\r\n    @Configuration\r\n    @EnableAsync(proxyTargetClass = true)\r\n    @EnableScheduling\r\n    public class AsyncConfig implements SchedulingConfigurer, AsyncConfigurer {\r\n    \r\n       @Bean\r\n       public ThreadPoolTaskScheduler taskScheduler() {\r\n          ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n          scheduler.setPoolSize(2);\r\n          scheduler.setThreadNamePrefix(&quot;task-&quot;);\r\n          scheduler.setAwaitTerminationSeconds(1200); // 20 minutes\r\n          scheduler.setWaitForTasksToCompleteOnShutdown(true);\r\n          return scheduler;\r\n       }\r\n    \r\n       @Override\r\n       public Executor getAsyncExecutor() {\r\n          return this.taskScheduler();\r\n       }\r\n    \r\n       @Override\r\n       public void configureTasks(ScheduledTaskRegistrar registrar) {\r\n          TaskScheduler scheduler = this.taskScheduler();\r\n          registrar.setTaskScheduler(scheduler);\r\n       }\r\n    \r\n       @Override\r\n       public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\r\n          return new SimpleAsyncUncaughtExceptionHandler();\r\n       }\r\n    }\r\n\r\nAnyone can help?","title":"Async Java Mail Sender not sends all mails","body":"<p>I have a Spring MVC web Application with have to send mails for a lot of user actions which, at the first time, was made by a synchronous method.</p>\n<p>If i make many actions (4-5) on sequence, the mail sender is not sending all mails but only some.\nI've tried with an @Async method but same result.</p>\n<p>My method:</p>\n<pre><code>       @Async\n   public Future&lt;String&gt; sendMail(MailParametersTO mailParams, MailTypeEnum type) {\n        try {\n            MimeMessage message = mailSender.createMimeMessage();\n            message.setSubject(mailUtils.getMailSubject(mailParams.getSubjectParams(), type));\n            MimeMessageHelper helper = new MimeMessageHelper(message, true, &quot;UTF-8&quot;);\n            helper.setFrom(from);\n            helper.setCc(mailParams.getCc().toArray(new String[0])); \n            helper.setTo(mailParams.getTo().toArray(new String[0]));\n            helper.setText(mailUtils.getMailBody(mailParams.getBodyParams(), mailParams.getLink(), type), true);\n         Thread.sleep(30000);\n            mailSender.send(message);\n        } catch (Exception e) {\n         e.printStackTrace();\n         return new AsyncResult&lt;&gt;(&quot;ERROR&quot;);\n        }\n      return new AsyncResult&lt;&gt;(&quot;OK&quot;);\n    }   \n</code></pre>\n<p>Async configuration:</p>\n<pre><code>@Configuration\n@EnableAsync(proxyTargetClass = true)\n@EnableScheduling\npublic class AsyncConfig implements SchedulingConfigurer, AsyncConfigurer {\n\n   @Bean\n   public ThreadPoolTaskScheduler taskScheduler() {\n      ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\n      scheduler.setPoolSize(2);\n      scheduler.setThreadNamePrefix(&quot;task-&quot;);\n      scheduler.setAwaitTerminationSeconds(1200); // 20 minutes\n      scheduler.setWaitForTasksToCompleteOnShutdown(true);\n      return scheduler;\n   }\n\n   @Override\n   public Executor getAsyncExecutor() {\n      return this.taskScheduler();\n   }\n\n   @Override\n   public void configureTasks(ScheduledTaskRegistrar registrar) {\n      TaskScheduler scheduler = this.taskScheduler();\n      registrar.setTaskScheduler(scheduler);\n   }\n\n   @Override\n   public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\n      return new SimpleAsyncUncaughtExceptionHandler();\n   }\n}\n</code></pre>\n<p>Anyone can help?</p>\n"},{"tags":["java","mysql","jooq","jooq-codegen"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677670875,"creation_date":1677670875,"answer_id":75603230,"question_id":75602163,"body_markdown":"## Bug\r\n\r\nThat&#39;s a bug in jOOQ 3.17 and less: [#14727][1]. It will be fixed in jOOQ 3.18. It&#39;s related to a combination of:\r\n\r\n- Having `NOT NULL` columns\r\n- Using `&lt;interfaces&gt;true&lt;/interfaces&gt;` in the code generator (which generates this slightly optimised method)\r\n- As you observed, that method doesn&#39;t expose the expected behaviour, from `Record.from(Object)`, which violates the Liskov principle\r\n\r\n## Workarounds\r\n\r\nThe workaround for bug [#14727][1] is to manually upcast the type to `Object`, to avoid calling the generated method:\r\n\r\n```java\r\nIFruit f = ...\r\nrecord.from((Object) f);\r\n```\r\n\r\nAlternatively, you can reset all changed flags on the `Record`, maybe even globally, using a `RecordListener`\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOQ/issues/14727","title":"How to respect DEFAULT values when using JOOQ generated UpdatableRecordImpl from() method","body":"<h2>Bug</h2>\n<p>That's a bug in jOOQ 3.17 and less: <a href=\"https://github.com/jOOQ/jOOQ/issues/14727\" rel=\"nofollow noreferrer\">#14727</a>. It will be fixed in jOOQ 3.18. It's related to a combination of:</p>\n<ul>\n<li>Having <code>NOT NULL</code> columns</li>\n<li>Using <code>&lt;interfaces&gt;true&lt;/interfaces&gt;</code> in the code generator (which generates this slightly optimised method)</li>\n<li>As you observed, that method doesn't expose the expected behaviour, from <code>Record.from(Object)</code>, which violates the Liskov principle</li>\n</ul>\n<h2>Workarounds</h2>\n<p>The workaround for bug <a href=\"https://github.com/jOOQ/jOOQ/issues/14727\" rel=\"nofollow noreferrer\">#14727</a> is to manually upcast the type to <code>Object</code>, to avoid calling the generated method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IFruit f = ...\nrecord.from((Object) f);\n</code></pre>\n<p>Alternatively, you can reset all changed flags on the <code>Record</code>, maybe even globally, using a <code>RecordListener</code></p>\n"}],"owner":{"account_id":3639349,"reputation":350,"user_id":3033916,"display_name":"raph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75603230,"answer_count":1,"score":1,"last_activity_date":1677670875,"creation_date":1677664967,"question_id":75602163,"body_markdown":"It seems that there had been some work to respect default values when using DAO inserts/updates here: https://github.com/jOOQ/jOOQ/issues/2700. \r\n\r\nThis is great, however I&#39;m struggling  to take advantage of this when also using the generated `from` method on the `UpdatableRecordImpl`. Specifically, when generating an `UpdatableRecordImpl`, we are provided a `from` method to convert from an entity which implements the record interface to the record, however, if you use this method, DEFAULT fields will not be supported since the `from` method sets all fields on the entity, including the ones which should be defaulted, and when they are unset, they&#39;ll be set to null on the record.\r\n\r\nFor example, if we have a table fruit, with a single column \r\n```\r\nalter table fruit\r\n    add column color varchar(6) not null default &#39;red&#39;;\r\n```\r\nJOOQ would generate an interface` IFruit` with getters/setters on a field `color`. Then we would have a `FruitRecord` class generated which extends `UpdatableRecordImpl&lt;FruitRecord&gt;` with a `from` method like the following:\r\n```\r\n@Override\r\npublic void from(IFruit from) {\r\n    setColor(from.getColor());\r\n}\r\n ```\r\n If we make use of this `from` method, color will be explicitly set to `null` **if it has not been set in the from object**. When that happens, when the record is inserted it will fail because color can&#39;t be null and won&#39;t make use of the default color. If the field was not set at all in the record object, I believe JOOQ would handle that field in a way that it would make use of the DEFAULT value, and therefore insert it properly with the default. \r\n\r\nI haven&#39;t dug into the complete depths of these generated classes and such, and perhaps I&#39;m missing something, but would there be an existing way to make use of this `from` method in a way that unset/null fields are distinguished from each other to take advantage of DEFAULT values?\r\n\r\nThanks","title":"How to respect DEFAULT values when using JOOQ generated UpdatableRecordImpl from() method","body":"<p>It seems that there had been some work to respect default values when using DAO inserts/updates here: <a href=\"https://github.com/jOOQ/jOOQ/issues/2700\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/2700</a>.</p>\n<p>This is great, however I'm struggling  to take advantage of this when also using the generated <code>from</code> method on the <code>UpdatableRecordImpl</code>. Specifically, when generating an <code>UpdatableRecordImpl</code>, we are provided a <code>from</code> method to convert from an entity which implements the record interface to the record, however, if you use this method, DEFAULT fields will not be supported since the <code>from</code> method sets all fields on the entity, including the ones which should be defaulted, and when they are unset, they'll be set to null on the record.</p>\n<p>For example, if we have a table fruit, with a single column</p>\n<pre><code>alter table fruit\n    add column color varchar(6) not null default 'red';\n</code></pre>\n<p>JOOQ would generate an interface<code> IFruit</code> with getters/setters on a field <code>color</code>. Then we would have a <code>FruitRecord</code> class generated which extends <code>UpdatableRecordImpl&lt;FruitRecord&gt;</code> with a <code>from</code> method like the following:</p>\n<pre><code>@Override\npublic void from(IFruit from) {\n    setColor(from.getColor());\n}\n</code></pre>\n<p>If we make use of this <code>from</code> method, color will be explicitly set to <code>null</code> <strong>if it has not been set in the from object</strong>. When that happens, when the record is inserted it will fail because color can't be null and won't make use of the default color. If the field was not set at all in the record object, I believe JOOQ would handle that field in a way that it would make use of the DEFAULT value, and therefore insert it properly with the default.</p>\n<p>I haven't dug into the complete depths of these generated classes and such, and perhaps I'm missing something, but would there be an existing way to make use of this <code>from</code> method in a way that unset/null fields are distinguished from each other to take advantage of DEFAULT values?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-restcontroller","spring-rest"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1675718982,"post_id":75366553,"comment_id":132985934,"body_markdown":"Why/where do you need it?","body":"Why/where do you need it?"},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1675719107,"post_id":75366553,"comment_id":132985973,"body_markdown":"Not a solution using a direct method call, but you could do something like getRequestURI().replace(username, &quot;&quot;). I admit not the most clean work-around...","body":"Not a solution using a direct method call, but you could do something like getRequestURI().replace(username, &quot;&quot;). I admit not the most clean work-around..."},{"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"score":0,"creation_date":1675719223,"post_id":75366553,"comment_id":132985996,"body_markdown":"I do Service based access control by keeping context path and service url in database.  When I get the first request with filters, I intervene and make inquiries. @SotiriosDelimanolis","body":"I do Service based access control by keeping context path and service url in database.  When I get the first request with filters, I intervene and make inquiries. @SotiriosDelimanolis"},{"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"score":0,"creation_date":1675719407,"post_id":75366553,"comment_id":132986041,"body_markdown":"getRequestURI() simply doesn&#39;t come with service path, so I can&#39;t use replace @KDW","body":"getRequestURI() simply doesn&#39;t come with service path, so I can&#39;t use replace @KDW"}],"answers":[{"tags":[],"owner":{"account_id":9981674,"reputation":42,"user_id":7384417,"display_name":"amit kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675718655,"creation_date":1675718655,"answer_id":75366733,"question_id":75366553,"body_markdown":"Not possible. You have to write logic by your self to extract the path variable.","title":"How to get request URI without Path Variables?","body":"<p>Not possible. You have to write logic by your self to extract the path variable.</p>\n"},{"tags":[],"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675882880,"creation_date":1675882880,"answer_id":75390540,"question_id":75366553,"body_markdown":"I don&#39;t see any Spring MVC way. You can parse from one of the available `HttpServletRequest` methods.\r\n\r\nFor instance\r\n```java\r\n@Controller\r\npublic class SampleController {\r\n\r\n\t@GetMapping(&quot;/sample/path/{last}&quot;)\r\n\tpublic ResponseEntity&lt;Object&gt; sampleMethod(@PathVariable String last, HttpServletRequest request) {\r\n\r\n\t\tSystem.out.println(request.getContextPath());\r\n\t\tSystem.out.println(request.getRequestURI());\r\n\r\n\t\tString path = request.getServletPath();\r\n\t\tSystem.out.println(path);\r\n\t\tSystem.out.println(path.substring(0, path.lastIndexOf(last)));\r\n\r\n\t\treturn ResponseEntity.ok(last);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n/context\r\n/context/sample/path/boom\r\n/sample/path/boom\r\n/sample/path/\r\n```","title":"How to get request URI without Path Variables?","body":"<p>I don't see any Spring MVC way. You can parse from one of the available <code>HttpServletRequest</code> methods.</p>\n<p>For instance</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class SampleController {\n\n    @GetMapping(&quot;/sample/path/{last}&quot;)\n    public ResponseEntity&lt;Object&gt; sampleMethod(@PathVariable String last, HttpServletRequest request) {\n\n        System.out.println(request.getContextPath());\n        System.out.println(request.getRequestURI());\n\n        String path = request.getServletPath();\n        System.out.println(path);\n        System.out.println(path.substring(0, path.lastIndexOf(last)));\n\n        return ResponseEntity.ok(last);\n    }\n}\n</code></pre>\n<pre><code>/context\n/context/sample/path/boom\n/sample/path/boom\n/sample/path/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677670865,"creation_date":1677670865,"answer_id":75603228,"question_id":75366553,"body_markdown":"I solved my problem by using @RequestParam instead of @PathVariable for get services in my Controller classes\r\n\r\nExample\r\n\r\n    @RequestMapping(value = &quot;/getUser&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;UserDTO&gt; getUser(@RequestParam String username) ","title":"How to get request URI without Path Variables?","body":"<p>I solved my problem by using @RequestParam instead of @PathVariable for get services in my Controller classes</p>\n<p>Example</p>\n<pre><code>@RequestMapping(value = &quot;/getUser&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;UserDTO&gt; getUser(@RequestParam String username) \n</code></pre>\n"}],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75603228,"answer_count":3,"score":0,"last_activity_date":1677670865,"creation_date":1675717403,"question_id":75366553,"body_markdown":"The Method `request.getRequestURI()` returns URI with path variables.\r\nThe following example service takes Path Variable. How can I get URL that without Path Variables\r\n\r\n    @RequestMapping(value = &quot;/getUser/{username}&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;UserDTO&gt; getUser(@PathVariable String username) \r\n\r\nif i make request like this(\r\n\r\nlocalhost:8080/user/getUser/tommy\r\n\r\n)\r\n`request.getRequestURI()` returns with path variable.\r\n\r\n    user/getUser/tommy\r\n\r\n\r\n\r\nI want to get a result like this:\r\n`user/getUser/`\r\nor\r\n`user/getUser`\r\n\r\nHow can I get the path without path variables?\r\n","title":"How to get request URI without Path Variables?","body":"<p>The Method <code>request.getRequestURI()</code> returns URI with path variables.\nThe following example service takes Path Variable. How can I get URL that without Path Variables</p>\n<pre><code>@RequestMapping(value = &quot;/getUser/{username}&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;UserDTO&gt; getUser(@PathVariable String username) \n</code></pre>\n<p>if i make request like this(</p>\n<p>localhost:8080/user/getUser/tommy</p>\n<p>)\n<code>request.getRequestURI()</code> returns with path variable.</p>\n<pre><code>user/getUser/tommy\n</code></pre>\n<p>I want to get a result like this:\n<code>user/getUser/</code>\nor\n<code>user/getUser</code></p>\n<p>How can I get the path without path variables?</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677662364,"post_id":75601617,"comment_id":133380208,"body_markdown":"Can you use [`Arrays.deepToString()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#deepToString(java.lang.Object%5B%5D))?","body":"Can you use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#deepToString(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.deepToString()</code></a>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677662558,"post_id":75601617,"comment_id":133380266,"body_markdown":"Outputting arrays does not work the na&#239;ve way. Printing a 1-dimensional int or string array will give you something similar to what you see. So your real question is how to print an array. There is an exception for 1-dimensional *char* arrays since there is an overridden `System.out.print(char[])` that perceives the char array as a string. Only because of this you didnt discover any issue with printing your one-dimensional array.","body":"Outputting arrays does not work the na&#239;ve way. Printing a 1-dimensional int or string array will give you something similar to what you see. So your real question is how to print an array. There is an exception for 1-dimensional <i>char</i> arrays since there is an overridden <code>System.out.print(char[])</code> that perceives the char array as a string. Only because of this you didnt discover any issue with printing your one-dimensional array."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677662730,"post_id":75601617,"comment_id":133380321,"body_markdown":"Tip of the day: search before asking.","body":"Tip of the day: search before asking."},{"owner":{"account_id":23552118,"reputation":3,"user_id":19522389,"display_name":"Gert Wiebach"},"score":0,"creation_date":1677667482,"post_id":75601617,"comment_id":133381659,"body_markdown":"There is nor information, I do not know why my question was closed","body":"There is nor information, I do not know why my question was closed"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677670841,"post_id":75601617,"comment_id":133382535,"body_markdown":"This question was previously closed as duplicate of the following three questions:\n[Trying to print a 2D array of Chars in Java](https://stackoverflow.com/questions/13475820/trying-to-print-a-2d-array-of-chars-in-java),\n[Iterate through 2 dimensional array](https://stackoverflow.com/questions/25798958/iterate-through-2-dimensional-array) and\n[What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array).\nThe OP was unable to find the necessary information there, so I have reopened.","body":"This question was previously closed as duplicate of the following three questions: <a href=\"https://stackoverflow.com/questions/13475820/trying-to-print-a-2d-array-of-chars-in-java\">Trying to print a 2D array of Chars in Java</a>, <a href=\"https://stackoverflow.com/questions/25798958/iterate-through-2-dimensional-array\">Iterate through 2 dimensional array</a> and <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>. The OP was unable to find the necessary information there, so I have reopened."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677670949,"post_id":75601617,"comment_id":133382558,"body_markdown":"I didnt get what you were still missing after consulting the answers under those earlier questions. They generally do not require you to change your method.","body":"I didnt get what you were still missing after consulting the answers under those earlier questions. They generally do not require you to change your method."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677671211,"post_id":75601617,"comment_id":133382631,"body_markdown":"Its unreadable in a comment, so paste into your IDE and reformat: `for (char[] line: chars) { System.out.println(line); } `. It prints 4 lines, each line 7 characters long.","body":"Its unreadable in a comment, so paste into your IDE and reformat: <code>for (char[] line: chars) { System.out.println(line); } </code>. It prints 4 lines, each line 7 characters long."}],"owner":{"account_id":23552118,"reputation":3,"user_id":19522389,"display_name":"Gert Wiebach"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677670835,"creation_date":1677662174,"question_id":75601617,"body_markdown":"can somebody help me with this code please?\r\nI have a main-Method and a private method wrap(). The aim is that the wrap() Method receive a String and have to output a 2-Dimensional Array. The big Problem is, that it does not work as it work with one Dimensional Arrays. Instead the program gives me this &quot;[[C@7ad041f3% &quot;. How can I make the program to give me 2-Dimensional array?\r\nI want to mention that I do not want to change my method by replacing &quot;char[][]&quot; with &quot;void&quot;\r\n\r\n```\r\npublic class Probe {\r\n\r\n    private static char[][] wrap(String message) {\r\n\r\n        char[] chars = message.toCharArray();\r\n        char[][] charArray = new char[4][7];\r\n        int index = 0;\r\n\r\n        for (int zeilenIndex = 0; zeilenIndex &lt; charArray.length; zeilenIndex++) {\r\n            for (int spaltenIndex = 0; spaltenIndex &lt; charArray[zeilenIndex].length; spaltenIndex++) {\r\n                charArray[zeilenIndex][spaltenIndex] =  chars[index];\r\n                index++;\r\n            }\r\n        }\r\n        return charArray;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        char[][] chars = new char[4][7];\r\n        String text = &quot;WIR GREIFEN MORGEN MITTAG AN&quot;;\r\n        chars = wrap(text);\r\n        System.out.print(chars);\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy question was closed. So I explain here why my question is different. As I already mentioned I am not allowed to change my method. I know that with little difference I could get the wanted results. For example, rewrite the method from &quot;private static char[][] wrap(String message)&quot; to &quot;private static VOID wrap(String message)&quot; and then just make additional loops to print the wanted results. But that is not the solution to the problem I want a solution. I want that my method gives the 2d Array back without changing the method, so how to do that? ","title":"how can I make a method to output 2-Dimensional Array?","body":"<p>can somebody help me with this code please?\nI have a main-Method and a private method wrap(). The aim is that the wrap() Method receive a String and have to output a 2-Dimensional Array. The big Problem is, that it does not work as it work with one Dimensional Arrays. Instead the program gives me this &quot;[[C@7ad041f3% &quot;. How can I make the program to give me 2-Dimensional array?\nI want to mention that I do not want to change my method by replacing &quot;char[][]&quot; with &quot;void&quot;</p>\n<pre><code>public class Probe {\n\n    private static char[][] wrap(String message) {\n\n        char[] chars = message.toCharArray();\n        char[][] charArray = new char[4][7];\n        int index = 0;\n\n        for (int zeilenIndex = 0; zeilenIndex &lt; charArray.length; zeilenIndex++) {\n            for (int spaltenIndex = 0; spaltenIndex &lt; charArray[zeilenIndex].length; spaltenIndex++) {\n                charArray[zeilenIndex][spaltenIndex] =  chars[index];\n                index++;\n            }\n        }\n        return charArray;\n    }\n\n    public static void main(String[] args) {\n        char[][] chars = new char[4][7];\n        String text = &quot;WIR GREIFEN MORGEN MITTAG AN&quot;;\n        chars = wrap(text);\n        System.out.print(chars);\n    }\n}\n</code></pre>\n<p>My question was closed. So I explain here why my question is different. As I already mentioned I am not allowed to change my method. I know that with little difference I could get the wanted results. For example, rewrite the method from &quot;private static char[][] wrap(String message)&quot; to &quot;private static VOID wrap(String message)&quot; and then just make additional loops to print the wanted results. But that is not the solution to the problem I want a solution. I want that my method gives the 2d Array back without changing the method, so how to do that?</p>\n"},{"tags":["java","arrays","json","list","jackson"],"comments":[{"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"score":0,"creation_date":1596723437,"post_id":63285033,"comment_id":111907704,"body_markdown":"Could you also add the stacktrace of the error and the piece of code where you parse JSON?","body":"Could you also add the stacktrace of the error and the piece of code where you parse JSON?"},{"owner":{"account_id":3768967,"reputation":683,"user_id":3131670,"accept_rate":89,"display_name":"goodyzain"},"score":0,"creation_date":1596724009,"post_id":63285033,"comment_id":111907997,"body_markdown":"@Sergei i have added the stacktrace &amp; parsing code","body":"@Sergei i have added the stacktrace &amp; parsing code"}],"answers":[{"tags":[],"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1620288720,"creation_date":1596724408,"answer_id":63285876,"question_id":63285033,"body_markdown":"The current error that you have:\r\n\r\n`Cannot deserialize instance of com.goodyzain.bern.models.BernOBJ out of START_ARRAY token at [Source: (String)&quot;[ {` \r\n\r\nmeans that you have a JSON array of objects (starting with `[{...`), but try to parse it into a single object:\r\n```java\r\nBernOBJ denoObj = mapper.readValue(denotations, BernOBJ.class);\r\n```\r\n\r\nAn array is usually supposed to be parsed into a list of values, e.g. like this:\r\n\r\n```java\r\nList&lt;BernOBJ&gt; denoObj = mapper.readValue(denotations, \r\n  mapper.getTypeFactory().constructCollectionType(List.class, BernObj.class));\r\n```\r\n\r\nAlso, your `List&lt;List&lt;Disease&gt;&gt;` list doesn&#39;t exactly contain `Disease` objects, it contains an object and a `double` value:\r\n\r\n```json\r\n[\r\n    [\r\n        {\r\n            &quot;end&quot;: 41,\r\n            &quot;id&quot;: &quot;CUI-less&quot;,\r\n            &quot;start&quot;: 31\r\n        },\r\n        0.999957799911499\r\n    ]\r\n]\r\n```\r\n\r\nI&#39;m not sure if there&#39;s always an object and a numeric value there, and what it means, but you could do the following. Create an additional class, e.g. `DiseasePair`, and map it like this:\r\n\r\n```\r\n@JsonFormat(shape = JsonFormat.Shape.ARRAY)\r\n@JsonPropertyOrder({ &quot;disease&quot;, &quot;numericValue&quot; })\r\nclass DiseasePair {\r\n\r\n    private Disease disease;\r\n\r\n    private Double numericValue;\r\n\r\n}\r\n```\r\n\r\nThen change your `List&lt;List&lt;Disease&gt;&gt;` field type to `List&lt;DiseasePair&gt;`.","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance?","body":"<p>The current error that you have:</p>\n<p><code>Cannot deserialize instance of com.goodyzain.bern.models.BernOBJ out of START_ARRAY token at [Source: (String)&quot;[ {</code></p>\n<p>means that you have a JSON array of objects (starting with <code>[{...</code>), but try to parse it into a single object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BernOBJ denoObj = mapper.readValue(denotations, BernOBJ.class);\n</code></pre>\n<p>An array is usually supposed to be parsed into a list of values, e.g. like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;BernOBJ&gt; denoObj = mapper.readValue(denotations, \n  mapper.getTypeFactory().constructCollectionType(List.class, BernObj.class));\n</code></pre>\n<p>Also, your <code>List&lt;List&lt;Disease&gt;&gt;</code> list doesn't exactly contain <code>Disease</code> objects, it contains an object and a <code>double</code> value:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    [\n        {\n            &quot;end&quot;: 41,\n            &quot;id&quot;: &quot;CUI-less&quot;,\n            &quot;start&quot;: 31\n        },\n        0.999957799911499\n    ]\n]\n</code></pre>\n<p>I'm not sure if there's always an object and a numeric value there, and what it means, but you could do the following. Create an additional class, e.g. <code>DiseasePair</code>, and map it like this:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.ARRAY)\n@JsonPropertyOrder({ &quot;disease&quot;, &quot;numericValue&quot; })\nclass DiseasePair {\n\n    private Disease disease;\n\n    private Double numericValue;\n\n}\n</code></pre>\n<p>Then change your <code>List&lt;List&lt;Disease&gt;&gt;</code> field type to <code>List&lt;DiseasePair&gt;</code>.</p>\n"}],"owner":{"account_id":3768967,"reputation":683,"user_id":3131670,"accept_rate":89,"display_name":"goodyzain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20350,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63285876,"answer_count":1,"score":3,"last_activity_date":1677670671,"creation_date":1596721741,"question_id":63285033,"body_markdown":"I have tried everything to read the following JSON string, but I still get the below error.  \r\nMy JSON string is valid and I think the issue is that the sub element is having problem with the mapping.\r\n\r\nHere is my JSON string:\r\n\r\n    [\r\n        {\r\n            &quot;denotations&quot;: [\r\n                {\r\n                    &quot;id&quot;: [\r\n                        &quot;CUI-less&quot;\r\n                    ],\r\n                    &quot;obj&quot;: &quot;disease&quot;,\r\n                    &quot;span&quot;: {\r\n                        &quot;begin&quot;: 31,\r\n                        &quot;end&quot;: 41\r\n                    }\r\n                }\r\n            ],\r\n            &quot;elapsed_time&quot;: {\r\n                &quot;ner&quot;: 2.759,\r\n                &quot;normalization&quot;: 0.002,\r\n                &quot;tmtool&quot;: 0.148,\r\n                &quot;total&quot;: 2.91\r\n            },\r\n            &quot;logits&quot;: {\r\n                &quot;disease&quot;: [\r\n                    [\r\n                        {\r\n                            &quot;end&quot;: 41,\r\n                            &quot;id&quot;: &quot;CUI-less&quot;,\r\n                            &quot;start&quot;: 31\r\n                        },\r\n                        0.999957799911499\r\n                    ]\r\n                ],\r\n                &quot;drug&quot;: [],\r\n                &quot;gene&quot;: [],\r\n                &quot;species&quot;: []\r\n            },\r\n            &quot;project&quot;: &quot;BERN&quot;,\r\n            &quot;sourcedb&quot;: &quot;PubMed&quot;,\r\n            &quot;sourceid&quot;: &quot;2832773&quot;,\r\n            &quot;text&quot;: &quot;Absence of humoral immunity to poliovirus in vaccinated individuals.&quot;,\r\n            &quot;timestamp&quot;: &quot;Thu Aug 06 13:42:27 +0000 2020&quot;\r\n        }\r\n    ]\r\n\r\n\r\nMy Java POJO (Logit&#39;s class)\r\n\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import com.fasterxml.jackson.annotation.JsonAnyGetter;\r\n    import com.fasterxml.jackson.annotation.JsonAnySetter;\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n    \r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonPropertyOrder({\r\n        &quot;disease&quot;,\r\n        &quot;drug&quot;,\r\n        &quot;gene&quot;,\r\n        &quot;species&quot;\r\n    })\r\n    public class Logits {\r\n    \r\n        @JsonProperty(&quot;disease&quot;)\r\n        private List&lt;List&lt;Disease&gt;&gt; disease = null;\r\n        @JsonProperty(&quot;drug&quot;)\r\n        private List&lt;Object&gt; drug = null;\r\n        @JsonProperty(&quot;gene&quot;)\r\n        private List&lt;Object&gt; gene = null;\r\n        @JsonProperty(&quot;species&quot;)\r\n        private List&lt;Object&gt; species = null;\r\n        @JsonIgnore\r\n        private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    \r\n        @JsonProperty(&quot;disease&quot;)\r\n        public List&lt;List&lt;Disease&gt;&gt; getDisease() {\r\n            return disease;\r\n        }\r\n    \r\n        @JsonProperty(&quot;disease&quot;)\r\n        public void setDisease(List&lt;List&lt;Disease&gt;&gt; disease) {\r\n            this.disease = disease;\r\n        }\r\n    \r\n        @JsonProperty(&quot;drug&quot;)\r\n        public List&lt;Object&gt; getDrug() {\r\n            return drug;\r\n        }\r\n    \r\n        @JsonProperty(&quot;drug&quot;)\r\n        public void setDrug(List&lt;Object&gt; drug) {\r\n            this.drug = drug;\r\n        }\r\n    \r\n        @JsonProperty(&quot;gene&quot;)\r\n        public List&lt;Object&gt; getGene() {\r\n            return gene;\r\n        }\r\n    \r\n        @JsonProperty(&quot;gene&quot;)\r\n        public void setGene(List&lt;Object&gt; gene) {\r\n            this.gene = gene;\r\n        }\r\n    \r\n        @JsonProperty(&quot;species&quot;)\r\n        public List&lt;Object&gt; getSpecies() {\r\n            return species;\r\n        }\r\n    \r\n        @JsonProperty(&quot;species&quot;)\r\n        public void setSpecies(List&lt;Object&gt; species) {\r\n            this.species = species;\r\n        }\r\n    \r\n        @JsonAnyGetter\r\n        public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n            return this.additionalProperties;\r\n        }\r\n    \r\n        @JsonAnySetter\r\n        public void setAdditionalProperty(String name, Object value) {\r\n            this.additionalProperties.put(name, value);\r\n        }\r\n    \r\n    }\r\n\r\nI did even try `String[][] disease` but it still fails to parse.  \r\n\r\nParsing Code:\r\n\r\n    String denotations = restTemplate.getForObject(&quot;http://com/text&quot;,String.class);\r\n    System.out.println(denotations);\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    BernOBJ denoObj = mapper.readValue(denotations, BernOBJ.class);\r\n    System.out.println(denoObj);\r\n\r\n**Stacktrace**\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\r\n&gt; deserialize instance of `com.goodyzain.bern.models.BernOBJ` out of\r\n&gt; START_ARRAY token  at [Source: (String)&quot;[\r\n&gt;     {\r\n&gt;         &quot;denotations&quot;: [\r\n&gt;             {\r\n&gt;                 &quot;id&quot;: [\r\n&gt;                     &quot;CUI-less&quot;\r\n&gt;                 ],\r\n&gt;                 &quot;obj&quot;: &quot;disease&quot;,\r\n&gt;                 &quot;span&quot;: {\r\n&gt;                     &quot;begin&quot;: 31,\r\n&gt;                     &quot;end&quot;: 41\r\n&gt;                 }\r\n&gt;             }\r\n&gt;         ],\r\n&gt;         &quot;elapsed_time&quot;: {\r\n&gt;             &quot;ner&quot;: 2.759,\r\n&gt;             &quot;normalization&quot;: 0.002,\r\n&gt;             &quot;tmtool&quot;: 0.148,\r\n&gt;             &quot;total&quot;: 2.91\r\n&gt;         },\r\n&gt;         &quot;logits&quot;: {\r\n&gt;             &quot;disease&quot;: [\r\n&gt;               &quot;[truncated 555 chars]; line: 1, column: 1] \tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1468)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1242)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1190)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:604)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:190)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:166)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4482)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3434)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3402)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.goodyzain.bern.BernAPIController.getUsersById(BernAPIController.java:41)\r\n&gt; ~[classes/:na] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) ~[na:1.8.0_252] \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; ~[na:1.8.0_252] \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; ~[na:1.8.0_252] \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n&gt; ~[na:1.8.0_252] \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:4.0.FR] \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:4.0.FR] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n&gt; ~[tomcat-embed-websocket-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; [na:1.8.0_252] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; [na:1.8.0_252] \tat\r\n&gt; org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; java.lang.Thread.run(Thread.java:748) [na:1.8.0_252]\r\n\r\n","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance?","body":"<p>I have tried everything to read the following JSON string, but I still get the below error.<br />\nMy JSON string is valid and I think the issue is that the sub element is having problem with the mapping.</p>\n<p>Here is my JSON string:</p>\n<pre><code>[\n    {\n        &quot;denotations&quot;: [\n            {\n                &quot;id&quot;: [\n                    &quot;CUI-less&quot;\n                ],\n                &quot;obj&quot;: &quot;disease&quot;,\n                &quot;span&quot;: {\n                    &quot;begin&quot;: 31,\n                    &quot;end&quot;: 41\n                }\n            }\n        ],\n        &quot;elapsed_time&quot;: {\n            &quot;ner&quot;: 2.759,\n            &quot;normalization&quot;: 0.002,\n            &quot;tmtool&quot;: 0.148,\n            &quot;total&quot;: 2.91\n        },\n        &quot;logits&quot;: {\n            &quot;disease&quot;: [\n                [\n                    {\n                        &quot;end&quot;: 41,\n                        &quot;id&quot;: &quot;CUI-less&quot;,\n                        &quot;start&quot;: 31\n                    },\n                    0.999957799911499\n                ]\n            ],\n            &quot;drug&quot;: [],\n            &quot;gene&quot;: [],\n            &quot;species&quot;: []\n        },\n        &quot;project&quot;: &quot;BERN&quot;,\n        &quot;sourcedb&quot;: &quot;PubMed&quot;,\n        &quot;sourceid&quot;: &quot;2832773&quot;,\n        &quot;text&quot;: &quot;Absence of humoral immunity to poliovirus in vaccinated individuals.&quot;,\n        &quot;timestamp&quot;: &quot;Thu Aug 06 13:42:27 +0000 2020&quot;\n    }\n]\n</code></pre>\n<p>My Java POJO (Logit's class)</p>\n<pre><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n    &quot;disease&quot;,\n    &quot;drug&quot;,\n    &quot;gene&quot;,\n    &quot;species&quot;\n})\npublic class Logits {\n\n    @JsonProperty(&quot;disease&quot;)\n    private List&lt;List&lt;Disease&gt;&gt; disease = null;\n    @JsonProperty(&quot;drug&quot;)\n    private List&lt;Object&gt; drug = null;\n    @JsonProperty(&quot;gene&quot;)\n    private List&lt;Object&gt; gene = null;\n    @JsonProperty(&quot;species&quot;)\n    private List&lt;Object&gt; species = null;\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n    @JsonProperty(&quot;disease&quot;)\n    public List&lt;List&lt;Disease&gt;&gt; getDisease() {\n        return disease;\n    }\n\n    @JsonProperty(&quot;disease&quot;)\n    public void setDisease(List&lt;List&lt;Disease&gt;&gt; disease) {\n        this.disease = disease;\n    }\n\n    @JsonProperty(&quot;drug&quot;)\n    public List&lt;Object&gt; getDrug() {\n        return drug;\n    }\n\n    @JsonProperty(&quot;drug&quot;)\n    public void setDrug(List&lt;Object&gt; drug) {\n        this.drug = drug;\n    }\n\n    @JsonProperty(&quot;gene&quot;)\n    public List&lt;Object&gt; getGene() {\n        return gene;\n    }\n\n    @JsonProperty(&quot;gene&quot;)\n    public void setGene(List&lt;Object&gt; gene) {\n        this.gene = gene;\n    }\n\n    @JsonProperty(&quot;species&quot;)\n    public List&lt;Object&gt; getSpecies() {\n        return species;\n    }\n\n    @JsonProperty(&quot;species&quot;)\n    public void setSpecies(List&lt;Object&gt; species) {\n        this.species = species;\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\n        return this.additionalProperties;\n    }\n\n    @JsonAnySetter\n    public void setAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n    }\n\n}\n</code></pre>\n<p>I did even try <code>String[][] disease</code> but it still fails to parse.</p>\n<p>Parsing Code:</p>\n<pre><code>String denotations = restTemplate.getForObject(&quot;http://com/text&quot;,String.class);\nSystem.out.println(denotations);\nObjectMapper mapper = new ObjectMapper();\nBernOBJ denoObj = mapper.readValue(denotations, BernOBJ.class);\nSystem.out.println(denoObj);\n</code></pre>\n<p><strong>Stacktrace</strong></p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\ndeserialize instance of <code>com.goodyzain.bern.models.BernOBJ</code> out of\nSTART_ARRAY token  at [Source: (String)&quot;[\n{\n&quot;denotations&quot;: [\n{\n&quot;id&quot;: [\n&quot;CUI-less&quot;\n],\n&quot;obj&quot;: &quot;disease&quot;,\n&quot;span&quot;: {\n&quot;begin&quot;: 31,\n&quot;end&quot;: 41\n}\n}\n],\n&quot;elapsed_time&quot;: {\n&quot;ner&quot;: 2.759,\n&quot;normalization&quot;: 0.002,\n&quot;tmtool&quot;: 0.148,\n&quot;total&quot;: 2.91\n},\n&quot;logits&quot;: {\n&quot;disease&quot;: [\n&quot;[truncated 555 chars]; line: 1, column: 1]     at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1468)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1242)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1190)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:604)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:190)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:166)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4482)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3434)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3402)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.goodyzain.bern.BernAPIController.getUsersById(BernAPIController.java:41)\n~[classes/:na]    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod) ~[na:1.8.0_252]   at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n~[na:1.8.0_252]   at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n~[na:1.8.0_252]   at java.lang.reflect.Method.invoke(Method.java:498)\n~[na:1.8.0_252]   at\norg.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\njavax.servlet.http.HttpServlet.service(HttpServlet.java:626)\n~[tomcat-embed-core-9.0.37.jar:4.0.FR]    at\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\njavax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n~[tomcat-embed-core-9.0.37.jar:4.0.FR]    at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n~[tomcat-embed-websocket-9.0.37.jar:9.0.37]   at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[na:1.8.0_252]    at\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[na:1.8.0_252]    at\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\njava.lang.Thread.run(Thread.java:748) [na:1.8.0_252]</p>\n</blockquote>\n"},{"tags":["java","android","azure","authentication","azure-active-directory"],"answers":[{"tags":[],"owner":{"account_id":21681461,"reputation":8709,"user_id":15997509,"display_name":"kavyaS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677670453,"creation_date":1677670081,"answer_id":75603082,"question_id":75594431,"body_markdown":"I created app registration with following permissions / scopes , \r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\nGave Scope as https://&lt;tenantdomain&gt;.sharepoint.com/.default and tried the scenario in postman.\r\n\r\n\r\n [![enter image description here][2]][2]\r\n\r\n\r\n\r\nReceived the error: Invalid Audience , even after giving correct scopes and api permissions with admin consent granted.\r\n\r\n\r\n**To call the sites using graph:**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n***`https://graph.microsoft.com/v1.0/sites`***\r\n \r\n\r\n\r\n\r\nHere as graph api is called, we need to have ***`https://graph.microsoft.com /.default`*** as scope, which gives the output upon API call.\r\nFor that call token endpoint with https://graph.microsoft.com /.default as scope and then call sharepoint api with the access token with graph scope.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n \r\n\r\n**Output:** https://graph.microsoft.com/v1.0/sites\r\n \r\n[![enter image description here][5]][5]\r\n\r\n\r\n**But if the site endpoint is called without using grah api endpoint, then scope must be ***`https://&lt;tenantdomain&gt;.sharepoint.com/.default`***  must be given**\r\n\r\nAnd the proper query to call sharepoint site api is \r\n\r\n***`https://{tenant-name}.sharepoint.com/_api/v2.0/sites`***\r\n\r\n [![enter image description here][6]][6]\r\n\r\n\r\nMy auth code was:\r\n\r\n    https://login.microsoftonline.com/&lt;tenantid&gt;/oauth2/v2.0/authorize?client_id=782xxxb3a1&amp;response_type=code&amp;redirect_uri=https://jwt.ms&amp;response_mode=query&amp;scope=https://tenantdoamin.sharepoint.com/.default \r\n\r\nthe code , i got as below ,\r\n\r\n [![enter image description here][7]][7]\r\n\r\nToken endpoint: I used the code that I got .\r\n\r\n**With proper scope and correct api call , I could get the call to be made successful to sharepoint api.**\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6yQQz.png\r\n  [2]: https://i.stack.imgur.com/fW1pe.png\r\n  [3]: https://i.stack.imgur.com/vyZqL.png\r\n  [4]: https://i.stack.imgur.com/yfCOQ.png\r\n  [5]: https://i.stack.imgur.com/WCoo5.png\r\n  [6]: https://i.stack.imgur.com/jBeXg.png\r\n  [7]: https://i.stack.imgur.com/9MI2r.png","title":"Android doesn&#39;t retrieve the right access token for Azure AD authentication","body":"<p>I created app registration with following permissions / scopes ,</p>\n<p><a href=\"https://i.stack.imgur.com/6yQQz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6yQQz.png\" alt=\"enter image description here\" /></a></p>\n<p>Gave Scope as https://.sharepoint.com/.default and tried the scenario in postman.</p>\n<p><a href=\"https://i.stack.imgur.com/fW1pe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fW1pe.png\" alt=\"enter image description here\" /></a></p>\n<p>Received the error: Invalid Audience , even after giving correct scopes and api permissions with admin consent granted.</p>\n<p><strong>To call the sites using graph:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/vyZqL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vyZqL.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong><code>https://graph.microsoft.com/v1.0/sites</code></strong></em></p>\n<p>Here as graph api is called, we need to have <em><strong><code>https://graph.microsoft.com /.default</code></strong></em> as scope, which gives the output upon API call.\nFor that call token endpoint with <a href=\"https://graph.microsoft.com\" rel=\"nofollow noreferrer\">https://graph.microsoft.com</a> /.default as scope and then call sharepoint api with the access token with graph scope.</p>\n<p><a href=\"https://i.stack.imgur.com/yfCOQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yfCOQ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Output:</strong> <a href=\"https://graph.microsoft.com/v1.0/sites\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/v1.0/sites</a></p>\n<p><a href=\"https://i.stack.imgur.com/WCoo5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WCoo5.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>But if the site endpoint is called without using grah api endpoint, then scope must be <em><strong><code>https://&lt;tenantdomain&gt;.sharepoint.com/.default</code></strong></em>  must be given</strong></p>\n<p>And the proper query to call sharepoint site api is</p>\n<p><em><strong><code>https://{tenant-name}.sharepoint.com/_api/v2.0/sites</code></strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/jBeXg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jBeXg.png\" alt=\"enter image description here\" /></a></p>\n<p>My auth code was:</p>\n<pre><code>https://login.microsoftonline.com/&lt;tenantid&gt;/oauth2/v2.0/authorize?client_id=782xxxb3a1&amp;response_type=code&amp;redirect_uri=https://jwt.ms&amp;response_mode=query&amp;scope=https://tenantdoamin.sharepoint.com/.default \n</code></pre>\n<p>the code , i got as below ,</p>\n<p><a href=\"https://i.stack.imgur.com/9MI2r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9MI2r.png\" alt=\"enter image description here\" /></a></p>\n<p>Token endpoint: I used the code that I got .</p>\n<p><strong>With proper scope and correct api call , I could get the call to be made successful to sharepoint api.</strong></p>\n"}],"owner":{"account_id":1524473,"reputation":924,"user_id":1423246,"accept_rate":38,"display_name":"roberth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75603082,"answer_count":1,"score":0,"last_activity_date":1677670453,"creation_date":1677599870,"question_id":75594431,"body_markdown":"I am developing an Android application that uses MSAL for Android. A user authenticates himself via this library to get an access token, this token is then used for authorization with the Sharepoint Api.\r\n\r\nI have an Azure AD registration setup which we use to provide the token. We already have a working version of the app where the user can authenticate himself via a refresh token. This refersh token is retrieved via the web browser using the standard microsoft authentication flow (getting an authentication code, calling the api with the code and saving the refresh token). \r\n\r\nI now want to do the same authentication but with MSAL instead of the user having to get a refresh token manualy. I already have a working configuration and can log in with a microsoft account, but when I use the token to call the Sharepoint api we get this error:`\r\n\r\n```{&quot;error_description&quot;:&quot;Exception of type &#39;Microsoft.IdentityModel.Tokens.AudienceUriValidationFailedException&#39; was thrown.&quot;}```\r\n\r\nThe token is retrieved via this code:\r\n```\r\nprivate ISingleAccountPublicClientApplication mSingleAccountApp;\r\nprivate final static String[] SCOPES = {&quot;Sites.FullControl.All&quot;};\r\n\r\nPublicClientApplication.createSingleAccountPublicClientApplication(getApplicationContext(),\r\n                R.raw.auth_config_single_account, new IPublicClientApplication.ISingleAccountApplicationCreatedListener() {\r\n                    @Override\r\n                    public void onCreated(ISingleAccountPublicClientApplication application) {\r\n                        Log.d(Misc.LOGTAG, &quot;OnCreated Called, set mSingleAccountApp&quot;);\r\n                        mSingleAccountApp = application;\r\n                        loadAccount();\r\n                    }\r\n                    @Override\r\n                    public void onError(MsalException exception) {\r\n                        displayError(exception);\r\n                    }\r\n                });\r\n\r\n\r\n btnLogin.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (mSingleAccountApp == null) {\r\n                    Log.d(Misc.LOGTAG, &quot;mSingleAccountApp == null&quot;);\r\n                    return;\r\n                }\r\n                mSingleAccountApp.signIn(UploadActivity.this, null, SCOPES, getAuthInteractiveCallback());\r\n                btnLogin.setVisibility(View.GONE);\r\n                btnLogout.setVisibility(View.VISIBLE);\r\n            }\r\n        });\r\n\r\n          btnLogout.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (mSingleAccountApp == null) {\r\n                    Log.d(Misc.LOGTAG, &quot;mSingleAccountApp == null&quot;);\r\n                    btnLogin.setVisibility(View.VISIBLE);\r\n                    btnLogout.setVisibility(View.GONE);\r\n                    return;\r\n                }\r\n                mSingleAccountApp.signOut(getSignOutCallback());\r\n            }\r\n        });\r\n\r\nprivate AuthenticationCallback getAuthInteractiveCallback() {\r\n        return new AuthenticationCallback() {\r\n            @Override\r\n            public void onSuccess(IAuthenticationResult authenticationResult) {\r\n                /* Successfully got a token, use it to call a protected resource - MSGraph */\r\n                accessToken = authenticationResult.getAuthorizationHeader();\r\n                Log.i(&quot;token&quot;, accessToken);\r\n            }\r\n\r\n            @Override\r\n            public void onError(MsalException exception) {\r\n                /* Failed to acquireToken */\r\n                Log.d(Misc.LOGTAG, &quot;Authentication failed: &quot; + exception.toString());\r\n                displayError(exception);\r\n            }\r\n            @Override\r\n            public void onCancel() {\r\n                /* User canceled the authentication */\r\n                Log.d(Misc.LOGTAG, &quot;User cancelled login.&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\n    private ISingleAccountPublicClientApplication.SignOutCallback getSignOutCallback() {\r\n        return new ISingleAccountPublicClientApplication.SignOutCallback() {\r\n            @Override\r\n            public void onSignOut() {\r\n                btnLogin.setVisibility(View.VISIBLE);\r\n                btnLogout.setVisibility(View.GONE);\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull MsalException exception) {\r\n                displayError(exception);\r\n            }\r\n        };\r\n    }\r\n\r\n```\r\n\r\nAfter retrieving the access token, we use it to make the sharepoint api call:\r\n```\r\npublic interface SharePointService {\r\n\r\n    @Headers({&quot;Accept: application/json; odata=verbose&quot;})\r\n    @POST(&quot;/sites/{siteName}/_api/web/GetFolderByServerRelativeUrl(&#39;{url}&#39;)/files/add(overwrite=true,url=&#39;{file}&#39;)&quot;)\r\n    Call&lt;ResponseBody&gt; CreateFile(@Header(&quot;Authorization&quot;) String authorization, @Path(&quot;siteName&quot;) String siteName, @Path(&quot;url&quot;) String url, @Path(&quot;file&quot;) String file, @Body RequestBody fileContent);\r\n}\r\n```\r\n\r\nThe authorization header contains the token with the &#39;Bearer &#39; prefix.\r\n\r\nThe Azure AD app registration has the right scope configured + a platform configuration for the android app. Most developers find the problem with a scope that isn&#39;t set right, but I don&#39;t see any problem with out Azure configuration.\r\n[![snippet of the Azure API authorization page][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wXoTH.png\r\n\r\nAny help would be appreciated\r\n","title":"Android doesn&#39;t retrieve the right access token for Azure AD authentication","body":"<p>I am developing an Android application that uses MSAL for Android. A user authenticates himself via this library to get an access token, this token is then used for authorization with the Sharepoint Api.</p>\n<p>I have an Azure AD registration setup which we use to provide the token. We already have a working version of the app where the user can authenticate himself via a refresh token. This refersh token is retrieved via the web browser using the standard microsoft authentication flow (getting an authentication code, calling the api with the code and saving the refresh token).</p>\n<p>I now want to do the same authentication but with MSAL instead of the user having to get a refresh token manualy. I already have a working configuration and can log in with a microsoft account, but when I use the token to call the Sharepoint api we get this error:`</p>\n<p><code>{&quot;error_description&quot;:&quot;Exception of type 'Microsoft.IdentityModel.Tokens.AudienceUriValidationFailedException' was thrown.&quot;}</code></p>\n<p>The token is retrieved via this code:</p>\n<pre><code>private ISingleAccountPublicClientApplication mSingleAccountApp;\nprivate final static String[] SCOPES = {&quot;Sites.FullControl.All&quot;};\n\nPublicClientApplication.createSingleAccountPublicClientApplication(getApplicationContext(),\n                R.raw.auth_config_single_account, new IPublicClientApplication.ISingleAccountApplicationCreatedListener() {\n                    @Override\n                    public void onCreated(ISingleAccountPublicClientApplication application) {\n                        Log.d(Misc.LOGTAG, &quot;OnCreated Called, set mSingleAccountApp&quot;);\n                        mSingleAccountApp = application;\n                        loadAccount();\n                    }\n                    @Override\n                    public void onError(MsalException exception) {\n                        displayError(exception);\n                    }\n                });\n\n\n btnLogin.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View view) {\n                if (mSingleAccountApp == null) {\n                    Log.d(Misc.LOGTAG, &quot;mSingleAccountApp == null&quot;);\n                    return;\n                }\n                mSingleAccountApp.signIn(UploadActivity.this, null, SCOPES, getAuthInteractiveCallback());\n                btnLogin.setVisibility(View.GONE);\n                btnLogout.setVisibility(View.VISIBLE);\n            }\n        });\n\n          btnLogout.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View view) {\n                if (mSingleAccountApp == null) {\n                    Log.d(Misc.LOGTAG, &quot;mSingleAccountApp == null&quot;);\n                    btnLogin.setVisibility(View.VISIBLE);\n                    btnLogout.setVisibility(View.GONE);\n                    return;\n                }\n                mSingleAccountApp.signOut(getSignOutCallback());\n            }\n        });\n\nprivate AuthenticationCallback getAuthInteractiveCallback() {\n        return new AuthenticationCallback() {\n            @Override\n            public void onSuccess(IAuthenticationResult authenticationResult) {\n                /* Successfully got a token, use it to call a protected resource - MSGraph */\n                accessToken = authenticationResult.getAuthorizationHeader();\n                Log.i(&quot;token&quot;, accessToken);\n            }\n\n            @Override\n            public void onError(MsalException exception) {\n                /* Failed to acquireToken */\n                Log.d(Misc.LOGTAG, &quot;Authentication failed: &quot; + exception.toString());\n                displayError(exception);\n            }\n            @Override\n            public void onCancel() {\n                /* User canceled the authentication */\n                Log.d(Misc.LOGTAG, &quot;User cancelled login.&quot;);\n            }\n        };\n    }\n\n    private ISingleAccountPublicClientApplication.SignOutCallback getSignOutCallback() {\n        return new ISingleAccountPublicClientApplication.SignOutCallback() {\n            @Override\n            public void onSignOut() {\n                btnLogin.setVisibility(View.VISIBLE);\n                btnLogout.setVisibility(View.GONE);\n            }\n\n            @Override\n            public void onError(@NonNull MsalException exception) {\n                displayError(exception);\n            }\n        };\n    }\n\n</code></pre>\n<p>After retrieving the access token, we use it to make the sharepoint api call:</p>\n<pre><code>public interface SharePointService {\n\n    @Headers({&quot;Accept: application/json; odata=verbose&quot;})\n    @POST(&quot;/sites/{siteName}/_api/web/GetFolderByServerRelativeUrl('{url}')/files/add(overwrite=true,url='{file}')&quot;)\n    Call&lt;ResponseBody&gt; CreateFile(@Header(&quot;Authorization&quot;) String authorization, @Path(&quot;siteName&quot;) String siteName, @Path(&quot;url&quot;) String url, @Path(&quot;file&quot;) String file, @Body RequestBody fileContent);\n}\n</code></pre>\n<p>The authorization header contains the token with the 'Bearer ' prefix.</p>\n<p>The Azure AD app registration has the right scope configured + a platform configuration for the android app. Most developers find the problem with a scope that isn't set right, but I don't see any problem with out Azure configuration.\n<a href=\"https://i.stack.imgur.com/wXoTH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wXoTH.png\" alt=\"snippet of the Azure API authorization page\" /></a></p>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","jpa-criteria"],"comments":[{"owner":{"account_id":1789513,"reputation":3771,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":6,"creation_date":1543240851,"post_id":41692097,"comment_id":93835132,"body_markdown":"Getting the full result set only to fetch its size seems wasteful - transfer all that data and just discard it. Instead, what method calls should be made in JPA to tell the query to fetch the count only?","body":"Getting the full result set only to fetch its size seems wasteful - transfer all that data and just discard it. Instead, what method calls should be made in JPA to tell the query to fetch the count only?"},{"owner":{"account_id":3274469,"reputation":516,"user_id":2756957,"display_name":"Shashikant Sharma"},"score":0,"creation_date":1689154783,"post_id":41692097,"comment_id":135172008,"body_markdown":"#count total rows\n    \n `CriteriaQuery&lt;Long&gt; cq = cb.createQuery(Long.class);\n cq.select(cb.count(cq.from(User.class)));\n Long totalRows = entityManager.createQuery(cq).getSingleResult();`","body":"#count total rows       <code>CriteriaQuery&lt;Long&gt; cq = cb.createQuery(Long.class);  cq.select(cb.count(cq.from(User.class)));  Long totalRows = entityManager.createQuery(cq).getSingleResult();</code>"}],"answers":[{"tags":[],"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1484646739,"creation_date":1484642863,"answer_id":41692582,"question_id":41692097,"body_markdown":"In your criteria query i see no sort information\r\nI&#39;d write in this way:\r\n\r\n         CriteriaBuilder cb = em.getCriteriaBuilder();\r\n         CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\r\n         Root&lt;User&gt; iRoot = cq.from(User.class);\r\n         List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\r\n        \r\n         if (StringUtils.isNotEmpty(username)) {\r\n             predicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(&quot;username&quot;)), &quot;%&quot; + username.toLowerCase() + &quot;%&quot;));\r\n         }\r\n        \r\n         Predicate[] predArray = new Predicate[predicates.size()];\r\n         predicates.toArray(predArray);\r\n        \r\n         cq.where(predArray);\r\n         \r\n         List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;(2);\r\n         orders.add(cb.asc(iRoot.get(&quot;name&quot;)));\r\n         orders.add(cb.asc(iRoot.get(&quot;desc&quot;)));\r\n         \r\n         cq.orderBy(orders);\r\n         TypedQuery&lt;User&gt; query = em.createQuery(cq);\r\n         Page&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\r\n    \r\n         return result;\r\n\r\nI didn&#39;t test it but it should work\r\n\r\nAngelo","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<p>In your criteria query i see no sort information\nI'd write in this way:</p>\n\n<pre><code>     CriteriaBuilder cb = em.getCriteriaBuilder();\n     CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\n     Root&lt;User&gt; iRoot = cq.from(User.class);\n     List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\n\n     if (StringUtils.isNotEmpty(username)) {\n         predicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(\"username\")), \"%\" + username.toLowerCase() + \"%\"));\n     }\n\n     Predicate[] predArray = new Predicate[predicates.size()];\n     predicates.toArray(predArray);\n\n     cq.where(predArray);\n\n     List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;(2);\n     orders.add(cb.asc(iRoot.get(\"name\")));\n     orders.add(cb.asc(iRoot.get(\"desc\")));\n\n     cq.orderBy(orders);\n     TypedQuery&lt;User&gt; query = em.createQuery(cq);\n     Page&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\n\n     return result;\n</code></pre>\n\n<p>I didn't test it but it should work</p>\n\n<p>Angelo</p>\n"},{"tags":[],"owner":{"account_id":8108208,"reputation":314,"user_id":6109130,"display_name":"Konrad Pocztek"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1589957745,"creation_date":1589957745,"answer_id":61906871,"question_id":41692097,"body_markdown":"You can add sorting using QueryUtils from spring:\r\n`query.orderBy(QueryUtils.toOrders(pageable.getSort(), root, builder));`","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<p>You can add sorting using QueryUtils from spring:\n<code>query.orderBy(QueryUtils.toOrders(pageable.getSort(), root, builder));</code></p>\n"},{"tags":[],"owner":{"account_id":10160831,"reputation":7,"user_id":7504343,"display_name":"Abhishek Gupta"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1594876992,"creation_date":1594876992,"answer_id":62927968,"question_id":41692097,"body_markdown":"     CriteriaBuilder cb = em.getCriteriaBuilder();\r\n     CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\r\n     Root&lt;User&gt; iRoot = cq.from(User.class);\r\n     List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\r\n\r\n     if (StringUtils.isNotEmpty(username)) {\r\n         predicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(&quot;username&quot;)), &quot;%&quot; + \r\n         username.toLowerCase() + &quot;%&quot;));\r\n     }\r\n   \r\n\r\n     Predicate[] predArray = new Predicate[predicates.size()];\r\n     predicates.toArray(predArray);\r\n\r\n     cq.where(predArray);\r\n\r\n     cq.orderBy(cb.desc(user.get(&quot;name&quot;)));\r\n    \r\n     TypedQuery&lt;User&gt; query = em.createQuery(cq);\r\n     Page&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\r\n\r\n     return result;","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<pre><code> CriteriaBuilder cb = em.getCriteriaBuilder();\n CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\n Root&lt;User&gt; iRoot = cq.from(User.class);\n List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\n\n if (StringUtils.isNotEmpty(username)) {\n     predicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(&quot;username&quot;)), &quot;%&quot; + \n     username.toLowerCase() + &quot;%&quot;));\n }\n\n\n Predicate[] predArray = new Predicate[predicates.size()];\n predicates.toArray(predArray);\n\n cq.where(predArray);\n\n cq.orderBy(cb.desc(user.get(&quot;name&quot;)));\n\n TypedQuery&lt;User&gt; query = em.createQuery(cq);\n Page&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\n\n return result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17421453,"reputation":71,"user_id":12626948,"display_name":"Alejandro Abate"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1637097018,"creation_date":1637097018,"answer_id":69996064,"question_id":41692097,"body_markdown":"Both Op question and Angelo&#39;s answer won&#39;t work in a real-life scenario. \r\nIf that table/query returns thousand of records this approach will perform slowly and you could also could create memory issues.  \r\n\r\nWhy? \r\n\r\n - int totalRows = **query.getResultList()**.size();\r\n - new PageImpl&lt;User&gt;(**query.getResultList()**, page, totalRows);\r\n\r\nboth resultsets will run same query twice and mantain a full table/query data in those colections, just to be counted or sliced, which makes no sense when you need to show few records in your front-end.\r\n\r\nMy suggestion for Spring Data is to extend JpaSpecificationExecutor interface in your repository\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt;,\r\n            JpaSpecificationExecutor {\r\n    }\r\n\r\nThis interface will enable your repository to use **findAll(Specification&lt;T&gt;, Pageable)** method.\r\n\r\nAfter that, all is quite easy. You only need to create a Java closure to inject  predicates into a dynamic jpa query.\r\n\r\n\r\n    public Page&lt;User&gt; listUser( String name, int pageNumber, int pageSize ) {\r\n    \r\n    Sort sort = Sort.by(&quot;id&quot;).ascending();\r\n    Pageable pageable = PageRequest.of(pageNumber, pageSize, sort);\r\n    \r\n    \r\n    return this.reservationRepository.findAll((root, query, builder) -&gt; {\r\n                List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n                if name!= null ) {\r\n                    predicates.add(builder.equal(root.get(&quot;name&quot;), name));\r\n                }\r\n    \t        // More simple/complex conditions can be added to \r\n                // predicates collection if needed.\r\n    \r\n                return builder.and(predicates.toArray(new Predicate[]{}));\r\n    \r\n            }, pageable);\r\n    \r\n    }\r\n\r\n***As you can see here, this solution supports Sorting/Filtering and database side pagination.***\r\n\r\n","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<p>Both Op question and Angelo's answer won't work in a real-life scenario.\nIf that table/query returns thousand of records this approach will perform slowly and you could also could create memory issues.</p>\n<p>Why?</p>\n<ul>\n<li>int totalRows = <strong>query.getResultList()</strong>.size();</li>\n<li>new PageImpl(<strong>query.getResultList()</strong>, page, totalRows);</li>\n</ul>\n<p>both resultsets will run same query twice and mantain a full table/query data in those colections, just to be counted or sliced, which makes no sense when you need to show few records in your front-end.</p>\n<p>My suggestion for Spring Data is to extend JpaSpecificationExecutor interface in your repository</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt;,\n        JpaSpecificationExecutor {\n}\n</code></pre>\n<p>This interface will enable your repository to use <strong>findAll(Specification, Pageable)</strong> method.</p>\n<p>After that, all is quite easy. You only need to create a Java closure to inject  predicates into a dynamic jpa query.</p>\n<pre><code>public Page&lt;User&gt; listUser( String name, int pageNumber, int pageSize ) {\n\nSort sort = Sort.by(&quot;id&quot;).ascending();\nPageable pageable = PageRequest.of(pageNumber, pageSize, sort);\n\n\nreturn this.reservationRepository.findAll((root, query, builder) -&gt; {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            if name!= null ) {\n                predicates.add(builder.equal(root.get(&quot;name&quot;), name));\n            }\n            // More simple/complex conditions can be added to \n            // predicates collection if needed.\n\n            return builder.and(predicates.toArray(new Predicate[]{}));\n\n        }, pageable);\n\n}\n</code></pre>\n<p><em><strong>As you can see here, this solution supports Sorting/Filtering and database side pagination.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677670182,"creation_date":1677670182,"answer_id":75603100,"question_id":41692097,"body_markdown":"A complete example that uses `JpaSpecificationExecutor` and encapsulate it in a class:\r\n\r\nFirst define the repository as an extension of JpaRepository and JpaSpecificationExecutor for `SomeEntity`:\r\n\r\n    interface SomeEntityRepositoryPaged extends JpaRepository&lt;SomeEntity, Integer&gt;, JpaSpecificationExecutor&lt;SomeEntity&gt; {\r\n\t Page&lt;SomeEntity&gt; findAll(Specification&lt;SomeEntity&gt; spec, Pageable pageable);\r\n}\r\n\r\nFindByCriteria class:\r\n\r\n    class FindByCriteria{\r\n\t\t FindByCriteria() {\r\n\t\t\t\tApplicationContext appCtx = ApplicationContextUtils.getApplicationContext();\r\n\t\t\t\trepository = appCtx.getBean(SomeEntityRepositoryPaged.class);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tprivate SomeEntityRepositoryPaged repository;\r\n\t\t\t\r\n\t\t\tpublic Page&lt;SomeEntity&gt; searchBy(Client client, SearchParams params,Pageable page){\r\n\t\t\t\treturn repository.findAll(getCriteria(params), page);\r\n\t\t\t}\r\n\t\t\tprivate Specification&lt;SomeEntity&gt; getCriteria(SearchParams params){\r\n\t\t\t\t  return (paymentRoot, query, cb)-&gt; \r\n\t\t\t\t  { \r\n\t\t\t\t\t    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;(5);\r\n\t\t\t\t\r\n\t\t\t\t\t\tfilterByParams(params, cb, paymentRoot, predicates);\r\n\t\r\n\t\t\t\t\t    query.where(predicates.toArray(new Predicate[] {}));\r\n\r\n                        //IMPORTANT: the order specify should be deterministic, meaning rows can never change order in 2 subsequent calls.\r\n                        \r\n\t\t\t\t\t\tList&lt;Order&gt; orders = new ArrayList&lt;&gt;(1);\r\n\t\t\t\t\t\torders.add(cb.asc(paymentRoot.get(&quot;date&quot;)));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tquery.orderBy(orders);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn  null;\r\n\t\t\t\t  };\r\n\t\t\t\t}\r\n\t\r\n\t\t\tprivate void filterByParams(SearchParams params, CriteriaBuilder cb, Root&lt;SomeEntity&gt; payment,\r\n\t\t\t\t\tList&lt;Predicate&gt; predicates) {\r\n\t\t\t\r\n\t\t\t\tif (params.getInitialDate() != null)\r\n\t\t\t\t\tpredicates.add(cb.greaterThan(payment.get(&quot;paymentDate&quot;), params.getInitialDate()));\r\n\t\r\n\t\t\t\tif (params.getFinalDate() != null)\r\n\t\t\t\t\tpredicates.add(cb.lessThanOrEqualTo(payment.get(&quot;paymentDate&quot;), params.getFinalDate()));\r\n\t\r\n\t\t\t\tif (params.getState() != null)\r\n\t\t\t\t\tpredicates.add(cb.equal(payment.get(&quot;state&quot;), params.getState()));\r\n\t\t\t\t//... add here any criteria needed bases on params object\r\n\t\t\t}\r\n\t\t}\r\n}\r\n\r\nTo invoke simple call:\r\n\r\n    @Test pagedQueryTest\r\n    {\r\n         var page = PageRequest.of(2, 10);\r\n         var params = new SearchParams (...);\r\n         var list = new FindByCriteria().searchBy(params, page);\r\n         assert...\r\n         //The generated native query should be optimized.\r\n         //For mssql the native query should end with &quot;offset ? rows fetch first ? rows only&quot; \r\n         //and that means the store engine will only fetch the rows after first parameter (=page*size), and to the max of the page size.\r\n    }\r\n\r\n","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<p>A complete example that uses <code>JpaSpecificationExecutor</code> and encapsulate it in a class:</p>\n<p>First define the repository as an extension of JpaRepository and JpaSpecificationExecutor for <code>SomeEntity</code>:</p>\n<pre><code>interface SomeEntityRepositoryPaged extends JpaRepository&lt;SomeEntity, Integer&gt;, JpaSpecificationExecutor&lt;SomeEntity&gt; {\n Page&lt;SomeEntity&gt; findAll(Specification&lt;SomeEntity&gt; spec, Pageable pageable);\n</code></pre>\n<p>}</p>\n<p>FindByCriteria class:</p>\n<pre><code>class FindByCriteria{\n     FindByCriteria() {\n            ApplicationContext appCtx = ApplicationContextUtils.getApplicationContext();\n            repository = appCtx.getBean(SomeEntityRepositoryPaged.class);\n        }\n    \n        private SomeEntityRepositoryPaged repository;\n        \n        public Page&lt;SomeEntity&gt; searchBy(Client client, SearchParams params,Pageable page){\n            return repository.findAll(getCriteria(params), page);\n        }\n        private Specification&lt;SomeEntity&gt; getCriteria(SearchParams params){\n              return (paymentRoot, query, cb)-&gt; \n              { \n                    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;(5);\n            \n                    filterByParams(params, cb, paymentRoot, predicates);\n\n                    query.where(predicates.toArray(new Predicate[] {}));\n\n                    //IMPORTANT: the order specify should be deterministic, meaning rows can never change order in 2 subsequent calls.\n                    \n                    List&lt;Order&gt; orders = new ArrayList&lt;&gt;(1);\n                    orders.add(cb.asc(paymentRoot.get(&quot;date&quot;)));\n                    \n                    query.orderBy(orders);\n                    \n                    return  null;\n              };\n            }\n\n        private void filterByParams(SearchParams params, CriteriaBuilder cb, Root&lt;SomeEntity&gt; payment,\n                List&lt;Predicate&gt; predicates) {\n        \n            if (params.getInitialDate() != null)\n                predicates.add(cb.greaterThan(payment.get(&quot;paymentDate&quot;), params.getInitialDate()));\n\n            if (params.getFinalDate() != null)\n                predicates.add(cb.lessThanOrEqualTo(payment.get(&quot;paymentDate&quot;), params.getFinalDate()));\n\n            if (params.getState() != null)\n                predicates.add(cb.equal(payment.get(&quot;state&quot;), params.getState()));\n            //... add here any criteria needed bases on params object\n        }\n    }\n</code></pre>\n<p>}</p>\n<p>To invoke simple call:</p>\n<pre><code>@Test pagedQueryTest\n{\n     var page = PageRequest.of(2, 10);\n     var params = new SearchParams (...);\n     var list = new FindByCriteria().searchBy(params, page);\n     assert...\n     //The generated native query should be optimized.\n     //For mssql the native query should end with &quot;offset ? rows fetch first ? rows only&quot; \n     //and that means the store engine will only fetch the rows after first parameter (=page*size), and to the max of the page size.\n}\n</code></pre>\n"}],"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30437,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1677670182,"creation_date":1484641264,"question_id":41692097,"body_markdown":"I used JPA CriteriaQuery to build my dynamic Query and pass in a Spring Data Pageable object:\r\n\r\n    sort=name,desc\r\n\r\nAt the backend I have a method in my Repository to support dynamic query:\r\n\r\n    public Page&lt;User&gt; findByCriteria(String username, Pageable page) {\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\r\n\t\tRoot&lt;User&gt; iRoot = cq.from(User.class);\r\n\t\tList&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\r\n\r\n\t\tif (StringUtils.isNotEmpty(username)) {\r\n\t\t\tpredicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(&quot;username&quot;)), &quot;%&quot; + username.toLowerCase() + &quot;%&quot;));\r\n\t\t}\r\n\r\n\t\tPredicate[] predArray = new Predicate[predicates.size()];\r\n\t\tpredicates.toArray(predArray);\r\n\r\n\t\tcq.where(predArray);\r\n\r\n\t\tTypedQuery&lt;User&gt; query = em.createQuery(cq);\r\n\r\n\t\tint totalRows = query.getResultList().size();\r\n\r\n\t\tquery.setFirstResult(page.getPageNumber() * page.getPageSize());\r\n\t\tquery.setMaxResults(page.getPageSize());\r\n\t\t\r\n\t\tPage&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\r\n\r\n\t\treturn result;\r\n    }\r\n\r\nNote: I put only one param for demo purpose.\r\n\r\nHowever the returned data is unsorted therefore I would like to ask is that any way to implement Pageable in CriteriaQuery.","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<p>I used JPA CriteriaQuery to build my dynamic Query and pass in a Spring Data Pageable object:</p>\n\n<pre><code>sort=name,desc\n</code></pre>\n\n<p>At the backend I have a method in my Repository to support dynamic query:</p>\n\n<pre><code>public Page&lt;User&gt; findByCriteria(String username, Pageable page) {\n    CriteriaBuilder cb = em.getCriteriaBuilder();\n    CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\n    Root&lt;User&gt; iRoot = cq.from(User.class);\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\n\n    if (StringUtils.isNotEmpty(username)) {\n        predicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(\"username\")), \"%\" + username.toLowerCase() + \"%\"));\n    }\n\n    Predicate[] predArray = new Predicate[predicates.size()];\n    predicates.toArray(predArray);\n\n    cq.where(predArray);\n\n    TypedQuery&lt;User&gt; query = em.createQuery(cq);\n\n    int totalRows = query.getResultList().size();\n\n    query.setFirstResult(page.getPageNumber() * page.getPageSize());\n    query.setMaxResults(page.getPageSize());\n\n    Page&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\n\n    return result;\n}\n</code></pre>\n\n<p>Note: I put only one param for demo purpose.</p>\n\n<p>However the returned data is unsorted therefore I would like to ask is that any way to implement Pageable in CriteriaQuery.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9383,"page":609,"page_size":100}
